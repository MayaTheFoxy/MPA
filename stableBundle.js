/*! For license information please see devBundle.js.LICENSE.txt */
(()=>{var e={"./node_modules/bondage-club-mod-sdk/dist/bcmodsdk.js":(e,t)=>{!function(){"use strict";const e="1.2.0";function o(e){alert("Mod ERROR:\n"+e);const t=new Error(e);throw console.error(t),t}const r=new TextEncoder;function n(e){return!!e&&"object"==typeof e&&!Array.isArray(e)}function i(e){const t=new Set;return e.filter((e=>!t.has(e)&&t.add(e)))}const l=new Map,a=new Set;function s(e){a.has(e)||(a.add(e),console.warn(e))}function u(e){const t=[],o=new Map,r=new Set;for(const n of h.values()){const i=n.patching.get(e.name);if(i){t.push(...i.hooks);for(const[t,l]of i.patches.entries())o.has(t)&&o.get(t)!==l&&s(`ModSDK: Mod '${n.name}' is patching function ${e.name} with same pattern that is already applied by different mod, but with different pattern:\nPattern:\n${t}\nPatch1:\n${o.get(t)||""}\nPatch2:\n${l}`),o.set(t,l),r.add(n.name)}}t.sort(((e,t)=>t.priority-e.priority));const n=function(e,t){if(0===t.size)return e;let o=e.toString().replaceAll("\r\n","\n");for(const[r,n]of t.entries())o.includes(r)||s(`ModSDK: Patching ${e.name}: Patch ${r} not applied`),o=o.replaceAll(r,n);return(0,eval)(`(${o})`)}(e.original,o);let i=function(t){var o,i;const l=null===(i=(o=y.errorReporterHooks).hookChainExit)||void 0===i?void 0:i.call(o,e.name,r),a=n.apply(this,t);return null==l||l(),a};for(let o=t.length-1;o>=0;o--){const r=t[o],n=i;i=function(t){var o,i;const l=null===(i=(o=y.errorReporterHooks).hookEnter)||void 0===i?void 0:i.call(o,e.name,r.mod),a=r.hook.apply(this,[t,e=>{if(1!==arguments.length||!Array.isArray(t))throw new Error(`Mod ${r.mod} failed to call next hook: Expected args to be array, got ${typeof e}`);return n.call(this,e)}]);return null==l||l(),a}}return{hooks:t,patches:o,patchesSources:r,enter:i,final:n}}function c(e,t=!1){let o=l.get(e);if(o)t&&(o.precomputed=u(o));else{let t=window;const i=e.split(".");for(let o=0;o<i.length-1;o++)if(t=t[i[o]],!n(t))throw new Error(`ModSDK: Function ${e} to be patched not found; ${i.slice(0,o+1).join(".")} is not object`);const a=t[i[i.length-1]];if("function"!=typeof a)throw new Error(`ModSDK: Function ${e} to be patched not found`);const s=function(e){let t=-1;for(const o of r.encode(e)){let e=255&(t^o);for(let t=0;t<8;t++)e=1&e?-306674912^e>>>1:e>>>1;t=t>>>8^e}return(~t>>>0).toString(16).padStart(8,"0").toUpperCase()}(a.toString().replaceAll("\r\n","\n")),c={name:e,original:a,originalHash:s};o=Object.assign(Object.assign({},c),{precomputed:u(c),router:()=>{},context:t,contextProperty:i[i.length-1]}),o.router=function(e){return function(...t){return e.precomputed.enter.apply(this,[t])}}(o),l.set(e,o),t[o.contextProperty]=o.router}return o}function d(){for(const e of l.values())e.precomputed=u(e)}function m(){const e=new Map;for(const[t,o]of l)e.set(t,{name:t,original:o.original,originalHash:o.originalHash,sdkEntrypoint:o.router,currentEntrypoint:o.context[o.contextProperty],hookedByMods:i(o.precomputed.hooks.map((e=>e.mod))),patchedByMods:Array.from(o.precomputed.patchesSources)});return e}const h=new Map;function v(e){h.get(e.name)!==e&&o(`Failed to unload mod '${e.name}': Not registered`),h.delete(e.name),e.loaded=!1,d()}function f(e,t){e&&"object"==typeof e||o("Failed to register mod: Expected info object, got "+typeof e),"string"==typeof e.name&&e.name||o("Failed to register mod: Expected name to be non-empty string, got "+typeof e.name);let r=`'${e.name}'`;"string"==typeof e.fullName&&e.fullName||o(`Failed to register mod ${r}: Expected fullName to be non-empty string, got ${typeof e.fullName}`),r=`'${e.fullName} (${e.name})'`,"string"!=typeof e.version&&o(`Failed to register mod ${r}: Expected version to be string, got ${typeof e.version}`),e.repository||(e.repository=void 0),void 0!==e.repository&&"string"!=typeof e.repository&&o(`Failed to register mod ${r}: Expected repository to be undefined or string, got ${typeof e.version}`),null==t&&(t={}),t&&"object"==typeof t||o(`Failed to register mod ${r}: Expected options to be undefined or object, got ${typeof t}`);const i=!0===t.allowReplace,l=h.get(e.name);l&&(l.allowReplace&&i||o(`Refusing to load mod ${r}: it is already loaded and doesn't allow being replaced.\nWas the mod loaded multiple times?`),v(l));const a=e=>{let t=m.patching.get(e.name);return t||(t={hooks:[],patches:new Map},m.patching.set(e.name,t)),t},s=(e,t)=>(...n)=>{var i,l;const a=null===(l=(i=y.errorReporterHooks).apiEndpointEnter)||void 0===l?void 0:l.call(i,e,m.name);m.loaded||o(`Mod ${r} attempted to call SDK function after being unloaded`);const s=t(...n);return null==a||a(),s},u={unload:s("unload",(()=>v(m))),hookFunction:s("hookFunction",((e,t,n)=>{"string"==typeof e&&e||o(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof e}`);const i=c(e),l=a(i);"number"!=typeof t&&o(`Mod ${r} failed to hook function '${e}': Expected priority number, got ${typeof t}`),"function"!=typeof n&&o(`Mod ${r} failed to hook function '${e}': Expected hook function, got ${typeof n}`);const s={mod:m.name,priority:t,hook:n};return l.hooks.push(s),d(),()=>{const e=l.hooks.indexOf(s);e>=0&&(l.hooks.splice(e,1),d())}})),patchFunction:s("patchFunction",((e,t)=>{"string"==typeof e&&e||o(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof e}`);const i=c(e),l=a(i);n(t)||o(`Mod ${r} failed to patch function '${e}': Expected patches object, got ${typeof t}`);for(const[n,i]of Object.entries(t))"string"==typeof i?l.patches.set(n,i):null===i?l.patches.delete(n):o(`Mod ${r} failed to patch function '${e}': Invalid format of patch '${n}'`);d()})),removePatches:s("removePatches",(e=>{"string"==typeof e&&e||o(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof e}`);const t=c(e);a(t).patches.clear(),d()})),callOriginal:s("callOriginal",((e,t,n)=>{"string"==typeof e&&e||o(`Mod ${r} failed to call a function: Expected function name string, got ${typeof e}`);const i=c(e);return Array.isArray(t)||o(`Mod ${r} failed to call a function: Expected args array, got ${typeof t}`),i.original.apply(null!=n?n:globalThis,t)})),getOriginalHash:s("getOriginalHash",(e=>("string"==typeof e&&e||o(`Mod ${r} failed to get hash: Expected function name string, got ${typeof e}`),c(e).originalHash)))},m={name:e.name,fullName:e.fullName,version:e.version,repository:e.repository,allowReplace:i,api:u,loaded:!0,patching:new Map};return h.set(e.name,m),Object.freeze(u)}function p(){const e=[];for(const t of h.values())e.push({name:t.name,fullName:t.fullName,version:t.version,repository:t.repository});return e}let y;const g=void 0===window.bcModSdk?window.bcModSdk=function(){const t={version:e,apiVersion:1,registerMod:f,getModsInfo:p,getPatchingInfo:m,errorReporterHooks:Object.seal({apiEndpointEnter:null,hookEnter:null,hookChainExit:null})};return y=t,Object.freeze(t)}():(n(window.bcModSdk)||o("Failed to init Mod SDK: Name already in use"),1!==window.bcModSdk.apiVersion&&o(`Failed to init Mod SDK: Different version already loaded ('1.2.0' vs '${window.bcModSdk.version}')`),window.bcModSdk.version!==e&&alert(`Mod SDK warning: Loading different but compatible versions ('1.2.0' vs '${window.bcModSdk.version}')\nOne of mods you are using is using an old version of SDK. It will work for now but please inform author to update`),window.bcModSdk);Object.defineProperty(t,"__esModule",{value:!0}),t.default=g}()},"./src/commands/bed.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{Bed:()=>n});var r=o("./src/util/messaging.ts");function n(){CommandCombine([{Tag:"bed",Description:"Crawl into bed without needing hands",Action:()=>{var e;if(null!==InventoryGet(Player,"ItemDevices"))return void(0,r.NotifyPlayer)("Unable to crawl into bed",2e4);const t=null===(e=InventoryGet(Player,"HairFront"))||void 0===e?void 0:e.Color;InventoryWear(Player,"PetBed","ItemDevices",[t[0],"Default",t[t.length-1]]),(0,r.SendAction)(`${Player.Nickname||Player.Name} crawls into their bed.`)}},{Tag:"blanket",Description:"Pull the blanket over yourself",Action:()=>{var e,t,o,n;const i=InventoryGet(Player,"ItemDevices");"PetBed"===(null==i?void 0:i.Asset.Name)&&(0===(null===(t=null===(e=i.Property)||void 0===e?void 0:e.TypeRecord)||void 0===t?void 0:t.typed)||1===(null===(n=null===(o=i.Property)||void 0===o?void 0:o.TypeRecord)||void 0===n?void 0:n.typed))?(i.Property.TypeRecord.typed=Number(!i.Property.TypeRecord.typed),ChatRoomCharacterUpdate(Player),1===i.Property.TypeRecord.typed?(0,r.SendAction)(`${Player.Nickname||Player.Name} pulls their blanket over theirself`):(0,r.SendAction)(`${Player.Nickname||Player.Name} removes their blanket over theirself`)):(0,r.NotifyPlayer)("Unable to pull the blanket over yourself.",2e4)}}])}},"./src/commands/buildAllCommands.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{BuildAllCommands:()=>n});var r=o("./src/commands/bed.ts");function n(){(0,r.Bed)()}},"./src/localization/localization.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{LocalizedText:()=>n});const r={template:o("./src/localization/template.json"),RU:o("./src/localization/RU.json")};function n(e){var t;const o=null===(t=null==r?void 0:r[TranslationLanguage])||void 0===t?void 0:t[e];return o&&""!==o?o:e}},"./src/modules/_module.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{Module:()=>a,ModuleTitle:()=>r});var r,n=o("./src/util/sdk.ts"),i=o("./src/util/activities.ts"),l=o("./src/util/messaging.ts");!function(e){e.Unknown="Unknown",e.Authority="Authority",e.Activities="Activities",e.Clicker="Clicker",e.Settings="Settings",e.VirtualPet="VirtualPet",e.VirtualPetHUD="VirtualPetHud",e.VirtualPetConditions="VirtualPetConditions",e.DataSync="DataSync",e.Profile="Profile",e.SettingsOther="SettingsOther"}(r||(r={}));class a{get Title(){return r.Unknown}get Activities(){return[]}get Settings(){return[]}get SyncListeners(){return[]}Load(){(0,i.CreateActivities)(this.Activities),(0,l.AddDataSyncListeners)(this.SyncListeners)}Unload(){(0,n.RemoveHooks)(this.Title),(0,i.RemoveActivities)(this.Activities),(0,l.RemoveDataSyncListeners)(this.Title)}Reload(){this.Unload(),this.Load()}}},"./src/modules/activities.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ActivitiesModule:()=>l});var r=o("./src/util/activities.ts"),n=o("./src/util/sdk.ts"),i=o("./src/modules/_module.ts");class l extends i.Module{get Title(){return i.ModuleTitle.Activities}Load(){(0,n.HookFunction)(this.Title,"ActivityCheckPrerequisite",1,((e,t)=>{const[o,n,i,l]=e;return Object.keys(r.activityPrerequisites).includes(o)?r.activityPrerequisites[o](n,i,l):t(e)})),(0,n.HookFunction)(this.Title,"ServerSend",1,((e,t)=>{var o,n,i,l,a,s;const u=e[1];if("ChatRoomChat"!==e[0]||"Activity"!==(null==u?void 0:u.Type))return t(e);const c=null===(n=null===(o=null==u?void 0:u.Dictionary)||void 0===o?void 0:o.find((e=>e.ActivityName)))||void 0===n?void 0:n.ActivityName;if((null==c?void 0:c.startsWith("MPA_"))&&(null===(i=null==u?void 0:u.Dictionary)||void 0===i||i.push({Tag:"MISSING ACTIVITY DESCRIPTION FOR KEYWORD "+u.Content,Text:ActivityDictionaryText(u.Content)}),Object.keys(r.activityTriggers).includes(c))){const e=null!==(s=null===(a=null===(l=null==u?void 0:u.Dictionary)||void 0===l?void 0:l.find((e=>e.TargetCharacter)))||void 0===a?void 0:a.TargetCharacter)&&void 0!==s?s:-1,t=null===ChatRoomCharacter||void 0===ChatRoomCharacter?void 0:ChatRoomCharacter.find((t=>t.MemberNumber===e));r.activityTriggers[c](t)}return t(e)})),(0,n.HookFunction)(this.Title,"DrawImageResize",1,((e,t)=>{const o=e[0].toString(),n=o.substring(o.indexOf("MPA_"),o.indexOf(".png"));return Object.keys(r.activityImages).includes(n)&&(e[0]=r.activityImages[n]),t(e)}))}Unload(){super.Unload()}}},"./src/modules/authority.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{AuthorityModule:()=>a,IsHardcoreOn:()=>l});var r=o("./src/util/authority.ts"),n=o("./src/modules/_module.ts");const i=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[n.ModuleTitle.Authority])&&void 0!==o?o:{}};function l(e){var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[n.ModuleTitle.Authority].hardcore)&&void 0!==o&&o}class a extends n.Module{get Title(){return n.ModuleTitle.Authority}get Settings(){return[{name:"owners",type:"text",active:()=>!0,value:"",label:"Owner member numbers; Seperated by a ,",maxChars:1024,width:400},{name:"selfAuthority",type:"checkbox",active:()=>!0,value:!0,label:"Allow TargetCharacter to change TargetPronounPossessive Authority settings"},{name:"othersAuthority",type:"option",active:()=>!0,options:r.AUTHORITY_GROUP_OPTIONS,value:"Clubowner",label:"Allow others to change TargetCharacter's Authority settings",loop:!1},{name:"selfProfile",type:"checkbox",active:e=>"Self"!==i(e).othersProfile,value:!0,label:"Allow TargetCharacter to change TargetPronounPossessive Profile settings"},{name:"othersProfile",type:"option",active:()=>!0,options:r.AUTHORITY_GROUP_OPTIONS,value:"Clubowner",label:"Allow others to change TargetCharacter's Profile settings",loop:!1,onSet(e){i(e).selfProfile=!0}},{name:"selfClicker",type:"checkbox",active:()=>!0,value:!0,label:"Allow TargetCharacter to change TargetPronounPossessive Clicker settings"},{name:"othersClicker",type:"option",active:()=>!0,options:r.AUTHORITY_GROUP_OPTIONS,value:"Clubowner",label:"Allow others to change TargetCharacter's Clicker settings",loop:!1},{name:"selfVirtualPet",type:"checkbox",active:()=>!0,value:!0,label:"Allow TargetCharacter to change TargetPronounPossessive Virtual Pet settings"},{name:"othersVirtualPet",type:"option",active:()=>!0,options:r.AUTHORITY_GROUP_OPTIONS,value:"Clubowner",label:"Allow others to change TargetCharacter's Virtual Pet settings",loop:!1},{name:"selfVirtualPetConditions",type:"checkbox",active:()=>!0,value:!0,label:"Allow TargetCharacter to change TargetPronounPossessive Virtual Pet Conditions settings"},{name:"othersVirtualPetConditions",type:"option",active:()=>!0,options:r.AUTHORITY_GROUP_OPTIONS,value:"Clubowner",label:"Allow others to change TargetCharacter's Virtual Pet Conditions settings",loop:!1}]}}},"./src/modules/clicker.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ClickerModule:()=>v});var r=o("./src/util/sdk.ts"),n=o("./src/util/messaging.ts"),i=o("./src/util/authority.ts"),l=o("./src/modules/_module.ts"),a=o("./src/modules/profile.ts");const s=[new Audio("https://media.soundgasm.net/sounds/df33316bec7bc03902860d21fb4b8827466f2bad.m4a"),new Audio("https://media.soundgasm.net/sounds/fa49b10dad3e1202de096859b339dcfc5eab90a5.m4a"),new Audio("https://media.soundgasm.net/sounds/b25177a6a92d5a74d047a9d77a807f2d1ed28c71.m4a")],u=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[l.ModuleTitle.Clicker])&&void 0!==o?o:{}};function c(e=""){let t=0;return u().triggers.split(",").map((e=>e.trim())).filter((e=>""!==e)).forEach((o=>{var r,n;t+=null!==(n=null===(r=e.toLocaleLowerCase().match(new RegExp(o.toLocaleLowerCase(),"g")))||void 0===r?void 0:r.length)&&void 0!==n?n:0})),t}function d(e=0){isNaN(e)||e<=0||!u().enabled||s[Math.min(e-1,s.length-1)].play()}let m=!1;function h(){var e,t;window.bcx&&!m&&(null===(t=(e=window.bcx.getModApi("MPA")).on)||void 0===t||t.call(e,"bcxLocalMessage",(e=>{const t=null==e?void 0:e.message,o="[Voice] ";u().enabled&&u().bcxVoice&&(null==t?void 0:t.startsWith(o))&&d(c(t.substring(8)))})),m=!0)}class v extends l.Module{constructor(){super(...arguments),this.hasBeenLoaded=!1}get Title(){return l.ModuleTitle.Clicker}get Activities(){return[{Name:"Clicker1",MaxProgress:50,Prerequisite:["UseHands","HoldingClicker"],Targets:[{group:"ItemHands",label:"Click Once",actionSelf:"SourceCharacter presses the button on PronounPossessive clicker."}],Image:"Icons/AudioOn.png"},{Name:"Clicker2",MaxProgress:50,Prerequisite:["UseHands","HoldingClicker"],Targets:[{group:"ItemHands",label:"Click Twice",actionSelf:"SourceCharacter presses the button on PronounPossessive clicker twice."}],Image:"Icons/AudioOn.png"},{Name:"Clicker3",MaxProgress:50,Prerequisite:["UseHands","HoldingClicker"],Targets:[{group:"ItemHands",label:"Click Thrice",actionSelf:"SourceCharacter presses the button on PronounPossessive clicker three times."}],Image:"Icons/AudioOn.png"}]}get Settings(){return[{name:"enabled",type:"checkbox",active:e=>!(0,a.IsHardcoreOn)(e),value:!1,label:"Enable auditory clicker"},{name:"triggers",type:"text",active:e=>!!u(e).enabled,value:"~click~",label:"Phrases that trigger the click; Separate phrases with a comma",width:384,maxChars:null},{name:"selfAuthed",type:"checkbox",active:e=>!!u(e).enabled&&"Self"!==u(e).authedGroup,value:!0,label:"Allow your own chat, emotes, & actions to trigger the clicker"},{name:"authedGroup",type:"option",active:e=>!!u(e).enabled,value:"Friends",options:["Public","Friends","Whitelist","Lovers","Owners","Clubowner","Self"],label:"Who will be able to trigger the clicker",loop:!1,onSet(e){"Self"===u(e).authedGroup&&(u(e).selfAuthed=!0)}},{name:"bcxVoice",type:"checkbox",active:e=>!!u(e).enabled&&window.bcx&&!(0,a.IsHardcoreOn)(e),value:!0,label:"Allow BCX Listen to my voice rule to trigger the clicker; Requires BCX"}]}Load(){if(super.Load(),(0,r.HookFunction)(l.ModuleTitle.Clicker,"ChatRoomMessage",0,((e,t)=>{var o,r,l,a,s,m,h,v,f,p;const y=e[0];if(!(u().enabled&&(null===(o=e[0])||void 0===o?void 0:o.Type)&&(null===(r=e[0])||void 0===r?void 0:r.Content)&&(null===(l=e[0])||void 0===l?void 0:l.Sender)&&(0,i.IsMemberNumberInAuthGroup)(y.Sender,u().authedGroup,u().selfAuthed)))return t(e);let g=0;return"Chat"!=y.Type&&"Emote"!=y.Type&&"Whisper"!=y.Type||(g=c((0,n.RemoveOOCContentFromMessage)(y.Content))),"Action"==y.Type&&(g="Beep"==y.Content?c(null!==(m=null===(s=null===(a=null==y?void 0:y.Dictionary)||void 0===a?void 0:a.filter((e=>"Beep"==e.Tag))[0])||void 0===s?void 0:s.Text)&&void 0!==m?m:""):(null===(h=y.Dictionary)||void 0===h?void 0:h.reduce(((e,t)=>e||'MISSING TEXT IN "Interface.csv": '===t.Tag&&"â€Œ"===t.Text),!1))?c(y.Content):c(null!==(p=null===(f=null===(v=null==y?void 0:y.Dictionary)||void 0===v?void 0:v.filter((e=>e.Tag==`MISSING TEXT IN "Interface.csv": ${null==y?void 0:y.Content}`))[0])||void 0===f?void 0:f.Text)&&void 0!==p?p:"")),d(g),t(e)})),(0,r.HookFunction)(l.ModuleTitle.Clicker,"ChatRoomMessage",0,((e,t)=>{t(e);const o=e[0],r=(0,n.GetAttributeFromChatDictionary)(o,"ActivityName");u().enabled&&"Activity"===o.Type&&(null==r?void 0:r.startsWith("MPA_Clicker"))&&(0,i.IsMemberNumberInAuthGroup)(o.Sender,u().authedGroup,u().selfAuthed)&&d(Number(r.slice(-1)))})),!this.hasBeenLoaded){h();const e=setInterval((()=>{m?clearInterval(e):h()}),6e4)}this.hasBeenLoaded=!0}Unload(){super.Unload()}}},"./src/modules/dataSync.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{CategorySync:()=>a,DataSyncModule:()=>u,RecordSync:()=>s,SettingSync:()=>l});var r=o("./src/util/sdk.ts"),n=o("./src/modules/_module.ts"),i=o("./src/util/messaging.ts");function l(e=!1,t){(0,i.SendMPAMessage)({message:"SettingSync",settings:Player.MPA,reply:e},t)}function a(e,t){(0,i.SendMPAMessage)({message:"CategorySync",category:e,value:Player.MPA[e]},t)}function s(e,t,o){(0,i.SendMPAMessage)({message:"RecordSync",category:e,record:t,value:Player.MPA[e][t]},o)}class u extends n.Module{get Title(){return n.ModuleTitle.DataSync}get SyncListeners(){return[{module:n.ModuleTitle.DataSync,message:"SettingSync",action:function(e,t){e.MPA=t.settings,t.reply&&l(!1,e.MemberNumber)}},{module:n.ModuleTitle.DataSync,message:"CategorySync",action:function(e,t){e.MPA?e.MPA[t.category]=t.value:l(!1,e.MemberNumber)}},{module:n.ModuleTitle.DataSync,message:"RecordSync",action:function(e,t){var o;(null===(o=null==e?void 0:e.MPA)||void 0===o?void 0:o[t.category])?e.MPA[t.category][t.record]=t.value:l(!1,e.MemberNumber)}}]}Load(){super.Load(),0!==ChatRoomCharacter.length&&l(!0),(0,r.HookFunction)(n.ModuleTitle.DataSync,"ChatRoomSync",0,((e,t)=>{t(e),l(!0)})),(0,r.HookFunction)(n.ModuleTitle.DataSync,"ChatRoomMessage",0,((e,t)=>{var o;const r=e[0],n=(0,i.GetMPAMessageFromChat)(r);if(!n)return t(e);const l=(0,i.FindCharacterInRoom)(null!==(o=r.Sender)&&void 0!==o?o:"",{MemberNumber:!0,Name:!1,NickName:!1});if(!l)return t(e);i.hookedMessages.forEach((e=>{n.message===e.message&&e.action(l,n)}))}))}Unload(){super.Unload()}}},"./src/modules/profile.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{GARBLE_PHRASES:()=>s,IsHardcoreOn:()=>l,ProfileModule:()=>u});var r=o("./src/modules/_module.ts"),n=o("./src/modules/settings.ts");const i=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[r.ModuleTitle.Profile])&&void 0!==o?o:{}};function l(e){var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[r.ModuleTitle.Profile].hardcore)&&void 0!==o&&o}function a(e,t=Player){var o,r;return null!==(r=null===(o=t.MPA)||void 0===o?void 0:o[e])&&void 0!==r?r:{}}const s=Object.freeze({Human:"Hmmgm",Custom:"",Bunny:"Pon",Cat:"Mew",Cow:"Moo",Dog:"Arf",Fox:"Chirp",Mouse:"Sqeak",Pony:"Neigh",Wolf:"Grrr"});class u extends r.Module{get Title(){return r.ModuleTitle.Profile}get Settings(){return[{name:"type",type:"option",active:()=>!1,options:Object.keys(s),value:"Human",label:"Use a preset profile or make your own",loop:!0,onSet(e){i(e).garblePhrases=s[i(e).type],(0,n.UpdateElementValues)()}},{name:"garblePhrases",type:"text",active:e=>"Custom"===i(e).type,value:s.Human,label:"Phrases you speak when unable to be understood",maxChars:1024,width:400},{name:"hardcore",type:"checkbox",active:()=>!0,value:!1,label:"Enable hardcore mode; Will set certain settings and prevent changing them back",onSet(e){a(r.ModuleTitle.Clicker,e).enabled=!0,a(r.ModuleTitle.Clicker,e).bcxVoice=!0,a(r.ModuleTitle.VirtualPet,e).enabled=!0,a(r.ModuleTitle.VirtualPet,e).noHands=!0,a(r.ModuleTitle.VirtualPetConditions,e).enabled=!0,a(r.ModuleTitle.VirtualPetConditions,e).foodNOW=!0,a(r.ModuleTitle.VirtualPetConditions,e).tint=!0,a(r.ModuleTitle.VirtualPetConditions,e).passout=!0,a(r.ModuleTitle.VirtualPetConditions,e).affectionSkillBuffs=!1,a(r.ModuleTitle.VirtualPetConditions,e).affectionSkillDebuffs=!0,a(r.ModuleTitle.VirtualPetConditions,e).hearingLoss=!0,a(r.ModuleTitle.VirtualPetConditions,e).slowLeave=!0}}]}Load(){}}},"./src/modules/settings.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ExitButtonPressed:()=>Q,MENU_TITLES:()=>E,PreferenceMenuClick:()=>ee,PreferenceMenuRun:()=>te,SetSettingChar:()=>v,SettingsModule:()=>se,UpdateElementValues:()=>ie,currentMenu:()=>H});var r=o("./src/localization/localization.ts"),n=o("./src/util/storage.ts"),i=o("./src/util/constants.ts"),l=o("./src/util/settingTypes.ts"),a=o("./src/util/registerModules.ts"),s=o("./src/util/authority.ts"),u=o("./src/util/messaging.ts"),c=o("./src/modules/_module.ts"),d=o("./src/modules/virtualPet.ts");let m=!1,h=null;function v(e){m=!1,h=e}const f=2e3,p=[1815,75,90,90],y=7,g=400,P=90,b=160,M=500,S=20,A=20,C=[100,700,350,75],T=[C[0],C[1]-C[3],C[2]];let w=0,k="";const N=[C[0],C[1]+C[3]+S,(C[2]-S)/2,C[3]],x=[C[0]+(C[2]+S)/2,C[1]+C[3]+S,(C[2]-S)/2,C[3]],I=[300,700,250,90],O=[1450,700,250,90];function D(){return h?h.IsPlayer()?[c.ModuleTitle.Authority,c.ModuleTitle.Profile,c.ModuleTitle.Clicker,c.ModuleTitle.VirtualPet,c.ModuleTitle.VirtualPetHUD,c.ModuleTitle.VirtualPetConditions]:[c.ModuleTitle.Authority,c.ModuleTitle.Profile,c.ModuleTitle.Clicker,c.ModuleTitle.VirtualPet,c.ModuleTitle.VirtualPetConditions]:[]}const E={[c.ModuleTitle.VirtualPet]:"Virtual Pet",[c.ModuleTitle.VirtualPetHUD]:"Virtual Pet Hud",[c.ModuleTitle.VirtualPetConditions]:"Virtual Pet Conditions"};let L,H=null,R=!1,F=0;function V(e){for(let t=0;t<e.length;t++)if(MouseIn(M+(g+S)*Math.floor(t/y),b+(P+S)*(t%y),g,P))return e[t];return null}DrawButton(1520,720,200,80,"Cancel","White");const G=9,U=64,B=200,$=250,W=10,j=64,z=256,_=256,Y=256;let q=1,K=1;const X=[1635,75,90,90],Z=[X[0]-X[2],X[1],X[2],X[2]];function J(e){var t;if(!h)return;const o=Object.entries(null!==(t=a.settings[e])&&void 0!==t?t:{}).filter((([e,t])=>(0,l.IsDisplaySetting)(t)));1!==K&&(q>K&&(q=K),q<1&&(q=1),DrawButton(...X,"",q>=K?"#aaaaaa":"#ffffff","Icons/Next.png","Next Page",q>=K),DrawButton(...Z,"",1>=q?"#aaaaaa":"#ffffff","Icons/Prev.png","Previous Page",1>=q)),o.slice((q-1)*G,q*G).forEach(((t,o)=>{var n,i,a,u,d,m,v,p,y;const[g,P]=t,b=!P.active(h)||`others${e}`in h.MPA[c.ModuleTitle.Authority]&&`self${e}`in h.MPA[c.ModuleTitle.Authority]&&!(0,s.IsMemberNumberInAuthGroup)(null!==(n=Player.MemberNumber)&&void 0!==n?n:-1,h.MPA[c.ModuleTitle.Authority][`others${e}`],h.MPA[c.ModuleTitle.Authority][`self${e}`],h);if((0,l.IsCheckboxSetting)(P))DrawCheckbox($,B+o*(W+U),j,j,(0,r.LocalizedText)(P.label).replaceAll("TargetCharacter",null!==(i=(null==h?void 0:h.Nickname)||(null==h?void 0:h.Name))&&void 0!==i?i:"").replaceAll("TargetPronounPossessive","SheHer"===(null==h?void 0:h.GetPronouns())?"her":"his"),!!h.MPA[e][g],b,"Black");else if((0,l.IsOptionSetting)(P)){const t=P.options.indexOf(h.MPA[e][g]),n=P.options.length,i=e!==c.ModuleTitle.Authority||!s.AUTHORITY_GROUP_OPTIONS.includes(h.MPA[e][g]),l=!(i||(0,s.AuthorityIsComparisonToCharacter)(h.MPA[e][g],">=",null!==(a=Player.MemberNumber)&&void 0!==a?a:-1,h)),m=!(i||(0,s.AuthorityIsComparisonToCharacter)(h.MPA[e][g],">",null!==(u=Player.MemberNumber)&&void 0!==u?u:-1,h))&&"Self"!==h.MPA[e][g];DrawBackNextButton($,B+o*(W+U),z,U,(0,r.LocalizedText)(h.MPA[e][g]),b||l&&m?"#aaaaaa":"#ffffff","",(()=>(0,r.LocalizedText)(l?"":P.loop?P.options[(t-1+n)%n]:t>0?P.options[t-1]:"")),(()=>(0,r.LocalizedText)(m?"":P.loop?P.options[(t+1+n)%n]:t+1<n?P.options[t+1]:"")),b||l&&m),DrawTextFit((0,r.LocalizedText)(P.label).replaceAll("TargetCharacter",null!==(d=(null==h?void 0:h.Nickname)||(null==h?void 0:h.Name))&&void 0!==d?d:"").replaceAll("TargetPronounPossessive","SheHer"===(null==h?void 0:h.GetPronouns())?"her":"his"),$+z+2*W,B+(o*(W+U)+Math.ceil(U/2)),f-2*$-z,"Black","Gray")}else if((0,l.IsTextSetting)(P)||(0,l.IsNumberSetting)(P)){const t=ne(e,g);ElementPositionFixed(t,$,B+o*(W+U),null!==(m=P.width)&&void 0!==m?m:_,U),b?ElementSetAttribute(t,"disabled","true"):ElementRemoveAttribute(t,"disabled"),DrawTextFit((0,r.LocalizedText)(P.label).replaceAll("TargetCharacter",null!==(v=(null==h?void 0:h.Nickname)||(null==h?void 0:h.Name))&&void 0!==v?v:"").replaceAll("TargetPronounPossessive","SheHer"===(null==h?void 0:h.GetPronouns())?"her":"his"),$+(null!==(p=P.width)&&void 0!==p?p:_)+2*W,B+o*(W+U)+Math.ceil(U/2),f-2*$-(null!==(y=P.width)&&void 0!==y?y:_),"Black","Gray")}}))}function Q(){null===H?(window.MPA.menuLoaded&&(window.MPA.menuLoaded=!1),oe()):("RESET_Settings"===H||(ae(H),q=1,K=1),H=null)}function ee(){var e,t;if(MouseIn(...p))Q();else{if((null==h?void 0:h.MemberNumber)===Player.MemberNumber&&null===H){if(MouseIn(...C))return H="RESET_Settings",void(F=Date.now()+1e4);if(MouseIn(...N))return void(0,n.ImportSettingsFromClipboard)().then((()=>{k="Settings imported from clipboard"}),(()=>{k="Failed to import settings"})).finally((()=>w=Date.now()+5e3));if(MouseIn(...x))return void(0,n.ExportSettingsToClipboard)().then((()=>{k="Settings copied to clipboard"}),(()=>{k="Failed to export settings"})).finally((()=>w=Date.now()+5e3))}if(null===H&&null!==V(D())&&(H=V(D()),q=1,K=Math.ceil(Object.values(null!==(e=a.settings[null!=H?H:""])&&void 0!==e?e:{}).filter((e=>(0,l.IsDisplaySetting)(e))).length/G),le(H)),"RESET_Settings"!==H){if(null!==H){if(Object.values(null!==(t=a.settings[H])&&void 0!==t?t:{}).filter((e=>(0,l.IsDisplaySetting)(e))).length>G){if(MouseIn(...X)&&q<K)return ae(H),q++,void le(H);if(MouseIn(...Z)&&q>1)return ae(H),q--,void le(H)}!function(e){var t;if(!h)return;Object.entries(null!==(t=a.settings[e])&&void 0!==t?t:{}).filter((([e,t])=>(0,l.IsDisplaySetting)(t))).slice((q-1)*G,q*G).forEach(((t,o)=>{var r,n,i;const[a,u]=t,d=!u.active(h)||`others${e}`in h.MPA[c.ModuleTitle.Authority]&&`self${e}`in h.MPA[c.ModuleTitle.Authority]&&!(0,s.IsMemberNumberInAuthGroup)(null!==(r=Player.MemberNumber)&&void 0!==r?r:-1,h.MPA[c.ModuleTitle.Authority][`others${e}`],h.MPA[c.ModuleTitle.Authority][`self${e}`],h);if((0,l.IsCheckboxSetting)(u))MouseIn($,B+o*(W+U),j,j)&&!d&&(h.MPA[e][a]=!h.MPA[e][a],u.onSet&&u.onSet(h),m=!0);else if((0,l.IsOptionSetting)(u)){const t=u.options.indexOf(h.MPA[e][a]),r=u.options.length;!MouseIn($,B+o*(W+U),Math.floor(z/2),U)||d||!(u.loop||t>0)||e===c.ModuleTitle.Authority&&s.AUTHORITY_GROUP_OPTIONS.includes(h.MPA[e][a])&&!(0,s.AuthorityIsComparisonToCharacter)(h.MPA[e][a],">=",null!==(n=Player.MemberNumber)&&void 0!==n?n:-1,h)?!MouseIn($+Math.floor(z/2),B+o*(W+U),Math.ceil(z/2),U)||d||!(u.loop||t+1<u.options.length)||e===c.ModuleTitle.Authority&&s.AUTHORITY_GROUP_OPTIONS.includes(h.MPA[e][a])&&!(0,s.AuthorityIsComparisonToCharacter)(h.MPA[e][a],">",null!==(i=Player.MemberNumber)&&void 0!==i?i:-1,h)||(h.MPA[e][a]=u.options[(t+1+r)%r],u.onSet&&u.onSet(h),m=!0):(h.MPA[e][a]=u.options[(t-1+r)%r],u.onSet&&u.onSet(h),m=!0)}}))}(H)}}else!function(){MouseIn(...I)&&Date.now()>F&&((0,n.ResetStorage)(),H=null,F=0);MouseIn(...O)&&(H=null,F=0)}()}}function te(){var e;if("RESET_Settings"===H)return void function(){const e=MainCanvas.textAlign;MainCanvas.textAlign="center",DrawText((0,r.LocalizedText)("WARNING: Are you sure you want to reset your MPA settings and data back to default?"),f/2,250,"#000000","#aaaaaa"),DrawText((0,r.LocalizedText)("This action can not be undone!"),f/2,400,"#ff0000","#aaaaaa"),DrawText((0,r.LocalizedText)("Export and save your settings BEFORE confirming if you are unsure."),f/2,550,"#696969","#aaaaaa");const t=Date.now();t<=F?DrawButton(...I,`${(0,r.LocalizedText)("Confirm")} (${Math.floor((F-t)/1e3)})`,"#aaaaaa",void 0,void 0,!0):DrawButton(...I,(0,r.LocalizedText)("Confirm"),"#ff0000"),DrawButton(...O,(0,r.LocalizedText)("Cancel"),"White"),MainCanvas.textAlign=e}();const t=MainCanvas.textAlign;DrawButton(...p,"","White","Icons/Exit.png"),MainCanvas.textAlign="center",DrawText(`${(0,r.LocalizedText)("Maya's Petplay Additions")}${H?` - ${(null==h?void 0:h.Nickname)||(null==h?void 0:h.Name)}'s ${(0,r.LocalizedText)(null!==(e=E[H])&&void 0!==e?e:H)}`:""}`,1e3,125,"Black","Gray"),(null==h?void 0:h.MemberNumber)===Player.MemberNumber&&null===H&&(w>=Date.now()&&(MainCanvas.textAlign="left",DrawTextFit(k,...T,"Black","Gray")),MainCanvas.textAlign="center",DrawButton(...C,(0,r.LocalizedText)("RESET"),"#ff2e2eaa","",(0,r.LocalizedText)("Reset all your settings back to default")),DrawButton(...N,(0,r.LocalizedText)("Import"),"#ffffff","",(0,r.LocalizedText)("Import the settings copied to your clipboard")),DrawButton(...x,(0,r.LocalizedText)("Export"),"#ffffff","",(0,r.LocalizedText)("Export your current settings to the clipboard"))),MainCanvas.textAlign="left",null===H?function(e){var t;for(let o=0;o<e.length;o++)DrawButton(M+(g+S)*Math.floor(o/y),b+(P+S)*(o%y),g,P,"","White"),DrawTextFit((0,r.LocalizedText)(null!==(t=E[e[o]])&&void 0!==t?t:e[o]),M+A+(g+S)*Math.floor(o/y),b+Math.floor(P/2)+(P+S)*(o%y),g-2*A,"Black","Gray")}(D()):J(H),MainCanvas.textAlign=t}function oe(){h&&(m&&(h.MemberNumber===Player.MemberNumber?(L===h.MPA[c.ModuleTitle.VirtualPet].enabled||L||(h.MPA[c.ModuleTitle.VirtualPet].levels.lastUpdated=Date.now()),(0,n.SaveStorage)(!0)):(0,u.SendMPAMessage)({message:"SettingPutRequest",settings:h.MPA},h.MemberNumber)),h.MemberNumber===Player.MemberNumber&&PreferenceSubscreenExtensionsClear(),m=!1,h=null,R=!1)}function re(){m=!1,h=Player,h&&(L=h.MPA[c.ModuleTitle.VirtualPet].enabled,R=!0)}function ne(e,t){return`MPA_OPTION_${e}${t}`}function ie(){h&&Object.entries(a.settings).forEach((e=>{const[t,o]=e;Object.entries(o).forEach((e=>{const[o,r]=e,n=ne(t,o);((0,l.IsTextSetting)(r)||(0,l.IsNumberSetting)(r))&&ElementSetAttribute(n,"value",h.MPA[t][o].toString())}))}))}function le(e,t=q){var o;e&&h&&Object.entries(null!==(o=a.settings[e])&&void 0!==o?o:{}).slice((t-1)*G,t*G).forEach((t=>{var o;const[r,n]=t,i=ne(e,r);(0,l.IsTextSetting)(n)?ElementCreateInput(i,"text",h.MPA[e][r],null!==(o=n.maxChars)&&void 0!==o?o:Y):(0,l.IsNumberSetting)(n)&&(ElementCreateInput(i,"number",h.MPA[e][r].toString()),ElementSetAttribute(i,"min",n.min.toString()),ElementSetAttribute(i,"max",n.max.toString()),ElementSetAttribute(i,"inputmode","decimal"),n.step&&ElementSetAttribute(i,"step",n.step.toString()))}))}function ae(e,t=q){var o;h&&(e===c.ModuleTitle.VirtualPet&&(0,d.LevelSync)(!1,!1,!1),Object.entries(null!==(o=a.settings[e])&&void 0!==o?o:{}).slice((t-1)*G,t*G).forEach((t=>{const[o,r]=t,n=ne(e,o);(0,l.IsTextSetting)(r)&&(h.MPA[e][o]!==ElementValue(n)&&(h.MPA[e][o]=ElementValue(n),m=!0),ElementRemove(n)),(0,l.IsNumberSetting)(r)&&(h.MPA[e][o]!==Number(ElementValue(n))&&(h.MPA[e][o]=Number(ElementValue(n)),m=!0),ElementRemove(n))})))}class se extends c.Module{get Title(){return c.ModuleTitle.Settings}Load(){function e(e){"Escape"!==e.key&&"Esc"!==e.key||!R||(null===H?oe():"RESET_Settings"===H?F=0:(ae(H),q=1,K=1),H=null,e.stopPropagation())}PreferenceRegisterExtensionSetting({Identifier:"MPA",ButtonText:(0,r.LocalizedText)("MPA Settings"),Image:i.ICONS.PAW,click:ee,run:te,exit:oe,load:re}),document.addEventListener("keypress",e,!0),document.addEventListener("keydown",e,!0)}Unload(){}Reload(){}}},"./src/modules/settingsOthers.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ObjectDifferences:()=>f,SettingsOtherModule:()=>p});var r=o("./src/util/messaging.ts"),n=o("./src/localization/localization.ts"),i=o("./src/util/constants.ts"),l=o("./src/util/sdk.ts"),a=o("./src/modules/_module.ts"),s=o("./src/modules/settings.ts"),u=o("./src/util/storage.ts"),c=o("./src/modules/virtualPet.ts"),d=o("./src/util/authority.ts"),m=o("./src/util/registerModules.ts");const h=[1700,765,90,90],v=[1700,800,90,90];function f(e,t){const o={};for(const r in e)if(r in t)if("object"!=typeof e[r]||"object"!=typeof t[r]||Array.isArray(e[r]))e[r]!==t[r]&&(o[r]={old:e[r],new:t[r]});else{const n=f(e[r],t[r]);Object.keys(n).length>0&&(o[r]=n)}else o[r]={old:e[r],new:void 0};for(const r in t)r in e||(o[r]={old:void 0,new:t[r]});return o}class p extends a.Module{get Title(){return a.ModuleTitle.SettingsOther}get SyncListeners(){return[{module:this.Title,message:"SettingPutRequest",action:function(e,t){var o,i,l,h,v,p,y,g,P,b,M,S;const A=Player.MPA[a.ModuleTitle.VirtualPet].enabled,C=f(Player.MPA,t.settings),T=[];(null===(o=null==C?void 0:C[a.ModuleTitle.VirtualPet])||void 0===o?void 0:o.levels)&&(delete C[a.ModuleTitle.VirtualPet].levels,0===Object.keys(C[a.ModuleTitle.VirtualPet]).length&&delete C[a.ModuleTitle.VirtualPet]),(0,c.LevelSync)(!1,!1,!1);const w=JSON.parse(JSON.stringify(null===(i=Player.MPA)||void 0===i?void 0:i[a.ModuleTitle.Authority])),k=C[a.ModuleTitle.Authority];if(k)if(delete C[a.ModuleTitle.Authority],(0,d.IsMemberNumberInAuthGroup)(null!==(l=e.MemberNumber)&&void 0!==l?l:-1,w[`others${a.ModuleTitle.Authority}`])){T.push((0,n.LocalizedText)(a.ModuleTitle.Authority));for(const e in k)void 0!==k[e].new&&void 0!==k[e].old&&(Player.MPA[a.ModuleTitle.Authority][e]=k[e].new)}else console.warn(`MPA: ${e.Nickname||e.Name} (${e.MemberNumber}) tried to illegally modify your ${a.ModuleTitle.Authority} settings!`);for(const t in C){if(!(0,d.IsMemberNumberInAuthGroup)(null!==(h=e.MemberNumber)&&void 0!==h?h:-1,null!==(v=w[`others${t}`])&&void 0!==v?v:"None")&&!(0,d.IsMemberNumberInAuthGroup)(null!==(p=e.MemberNumber)&&void 0!==p?p:-1,null!==(P=null===(g=null===(y=Player.MPA)||void 0===y?void 0:y[a.ModuleTitle.Authority])||void 0===g?void 0:g[`others${t}`])&&void 0!==P?P:"None")){console.warn(`MPA: ${e.Nickname||e.Name} (${e.MemberNumber}) tried to illegally modify your ${t} settings!`);continue}T.push((0,n.LocalizedText)(null!==(b=s.MENU_TITLES[t])&&void 0!==b?b:t));const o=C[t];for(const e in o)void 0!==o[e].new&&void 0!==o[e].old&&(Player.MPA[t][e]=o[e].new)}Player.MPA[a.ModuleTitle.Profile].hardcore&&(null===(S=null===(M=m.settings[a.ModuleTitle.Profile])||void 0===M?void 0:M.hardcore)||void 0===S||S.onSet(Player)),A!==Player.MPA[a.ModuleTitle.VirtualPet].enabled&&(Player.MPA[a.ModuleTitle.VirtualPet].levels.lastUpdated=Date.now()),0!==T.length&&(0,r.MPANotifyPlayer)((0,n.LocalizedText)("SourceCharacter just updated your SettingsArray settings.").replace("SourceCharacter",e.Nickname||e.Name).replace("SettingsArray",(0,r.ArrayToReadableString)(T))),(0,u.SaveStorage)(!0)}}]}Load(){super.Load();(0,l.HookFunction)(this.Title,"InformationSheetRun",12,((e,t)=>{var o;if((null===(o=window.bcx)||void 0===o?void 0:o.inBcxSubscreen())||window.LSCG_REMOTE_WINDOW_OPEN)return t(e);if(window.MPA.menuLoaded)return void(0,s.PreferenceMenuRun)();t(e);const r=InformationSheetSelection;if((null==r?void 0:r.MPA)&&!r.IsPlayer()){const e=ServerChatRoomGetAllowItem(Player,r);DrawButton(...window.bcx?v:h,"",e?"#ffffff":"#aaaaaa",i.ICONS.PAW,(0,n.LocalizedText)(e?"MPA":"MPA: No BC item permission"),!1)}})),(0,l.HookFunction)(this.Title,"InformationSheetClick",12,((e,t)=>{if(window.MPA.menuLoaded)return(0,s.PreferenceMenuClick)();const o=InformationSheetSelection;if(!MouseIn(...v)||!(null==o?void 0:o.MPA)||o.IsPlayer())return t(e);window.MPA.menuLoaded=!0,(0,s.SetSettingChar)(o)})),(0,l.HookFunction)(this.Title,"InformationSheetExit",12,((e,t)=>{if(!window.MPA.menuLoaded)return t(e);(0,s.ExitButtonPressed)()}))}Unload(){super.Unload()}}},"./src/modules/virtualPet.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{CalculateCurrentValue:()=>I,GetCharacterCurrentStatValue:()=>O,IsBedMultiplier:()=>T,IsSleepingExpression:()=>C,LevelSync:()=>D,ModifyStat:()=>E,VirtualPetModule:()=>L});var r=o("./src/modules/_module.ts"),n=o("./src/util/sdk.ts"),i=o("./src/util/storage.ts"),l=o("./src/util/messaging.ts"),a=o("./src/modules/dataSync.ts"),s=o("./src/modules/profile.ts");const u=168,c=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[r.ModuleTitle.VirtualPet])&&void 0!==o?o:{}},d=.4,m=["LSCG_Eat","ThrowItem"],h=["LSCG_FunnelPour","LSCG_Quaff"],v=["Sleep","Afk","Fork","Coding","Read"],f=["PetBed","Crib"],p=["LowCage","Kennel","Bed","MedicalBed"],y=["FuturisticCrate","DollBox"],g=["Pet","TakeCare","LSCG_Nuzzle","Caress","LSCG_Hug"],P=["Kiss","MassageHands","Lick","Nibble","Cuddle","Grope"],b=["Spank","Slap","Bite","Pinch","Pull","ShockItem","SpankItem"],M={ItemArms:1,ItemBoots:.8,ItemBreast:1.5,ItemButt:1.5,ItemEars:2.5,ItemFeet:.8,ItemHands:1,ItemHead:3,ItemLegs:1,ItemMouth:2,ItemNeck:1.2,ItemNipples:1.5,ItemNose:1.7,ItemPelvis:1.3,ItemTorso:1,ItemVulva:2,ItemVulvaPiercings:2.5},S=.2;let A;const C=e=>{var t,o,r,n,i,l,a;return"Closed"===(null===(o=null===(t=e.Appearance.find((e=>"Eyes"===e.Asset.Group.Name)))||void 0===t?void 0:t.Property)||void 0===o?void 0:o.Expression)&&"Closed"===(null===(n=null===(r=e.Appearance.find((e=>"Eyes2"===e.Asset.Group.Name)))||void 0===r?void 0:r.Property)||void 0===n?void 0:n.Expression)&&v.includes(null!==(a=null===(l=null===(i=e.Appearance.find((e=>"Emoticon"===e.Asset.Group.Name)))||void 0===i?void 0:i.Property)||void 0===l?void 0:l.Expression)&&void 0!==a?a:"")},T=e=>{var t,o;const r=null!==(o=null===(t=InventoryGet(e,"ItemDevices"))||void 0===t?void 0:t.Asset.Name)&&void 0!==o?o:"";return f.includes(r)?10:p.includes(r)?5:y.includes(r)?2:1};let w=!1,k=1;function N(e=!0){!c().enabled||0===c().sleepHours||w===C(Player)&&k===T(Player)||(e&&D(),w=C(Player),k=T(Player))}function x(e){return 60*e*60*1e3}function I(e,t,o,r,n=!1,i=Player){const l=(r||Date.now())-o,a=Math.max(0,Math.min(e-l/x(t),1));if(n&&e>S&&a<S){const r=c(i).levels.lastOnline-o,n=Math.max(0,Math.min(e-r/x(t),1));return Math.min(S,n)}return a}function O(e,t){var o;const n=null===(o=null==e?void 0:e.MPA)||void 0===o?void 0:o[r.ModuleTitle.VirtualPet];if(!n)return-1;if("sleep"===t){const t=C(e)||1!==T(e)?n.levels.sleep+(Date.now()-n.levels.lastUpdated)/(60*n.sleepHours*60*1e3)*T(e)*(C(e)?5:1):I(n.levels.sleep,n.sleepHours,n.levels.lastUpdated);return Math.max(0,Math.min(1,t))}return I(n.levels[t],n[`${t}Hours`],n.levels.lastUpdated)}function D(e=!0,t=!0,o=!1){var n;if(!c().enabled)return;const l=null!==(n=c().levels.lastUpdated)&&void 0!==n?n:Date.now(),s=c().offlineDrain?void 0:c().levels.lastOnline,u=c().foodHours;0!==u&&(c().levels.food=I(c().levels.food,u,l,s,o));const d=c().waterHours;0!==d&&(c().levels.water=I(c().levels.water,d,l,s,o));const m=c().sleepHours;if(0!==m)if(o&&!s||w||1!==k){const e=o?Date.now()-c().levels.lastOnline-(c().levels.lastOnline-l):Date.now()-l,t=c().levels.sleep+e/x(m)*k*(w?5:1);c().levels.sleep=Math.max(0,Math.min(1,t))}else c().levels.sleep=I(c().levels.sleep,m,l,s,o);const h=c().affectionHours;0!==h&&(c().levels.affection=I(c().levels.affection,h,l,s,o)),c().levels.lastUpdated=Date.now(),c().levels.lastOnline=Date.now(),e&&(0,i.SaveStorage)(!1),t&&(0,a.RecordSync)(r.ModuleTitle.VirtualPet,"levels")}function E(e,t,o=!0,n=!0,l){t<-1&&t>1||(D(!1,!1,!1),c().levels[e]+=t*(o&&t>0?function(e,t){let o=1;if((null==t?void 0:t.IsOwner())?o+=.5:(null==t?void 0:t.IsLoverOfPlayer())?o+=.35:(null==t?void 0:t.IsFamilyOfPlayer())&&(o+=.25),"food"!==e&&"water"!==e||Player.CanTalk()||(o-=.5),o+=.03*Player.Appearance.filter((e=>e.Asset.DynamicGroupName.startsWith("Item"))).length,"AllFours"===Player.PoseMapping.BodyFull&&(o+=.5),"affection"===e&&Player.MPA[r.ModuleTitle.VirtualPetConditions].enabled&&Player.MPA[r.ModuleTitle.VirtualPetConditions].foodNOW){const e=[];0!==c().foodHours&&e.push(O(Player,"food")),0!==c().waterHours&&e.push(O(Player,"water")),0!==e.length&&(o*=e.reduce(((e,t)=>e+t),0)/e.length/.75)}return Math.max(0,o)}(e,l):1),function(e){const t=c().levels[e];c().levels[e]=Math.min(Math.max(t,0),1)}(e),n&&(0,i.SaveStorage)(!1),(0,a.RecordSync)(r.ModuleTitle.VirtualPet,"levels"))}class L extends r.Module{get Title(){return r.ModuleTitle.VirtualPet}get Activities(){return[{Name:"BowlEat",Targets:[{group:"ItemMouth",label:"Eat From Bowl",actionSelf:"SourceCharacter eats from PronounPossessive bowl."}],Image:"Assets/Female3DCG/ItemDevices/Preview/PetBowl.png",Prerequisite:["UseMouth","HasBowl"],OnTrigger:()=>{c().enabled&&0!==c().foodHours&&E("food",d,!0)}},{Name:"BowlDrink",Targets:[{group:"ItemMouth",label:"Drink From Bowl",actionSelf:"SourceCharacter drinks from PronounPossessive bowl."}],Image:"Assets/Female3DCG/ItemDevices/Preview/PetBowl.png",Prerequisite:["UseMouth","HasBowl"],OnTrigger:()=>{c().enabled&&0!==c().waterHours&&E("water",d,!0)}},{Name:"BowlEat2",Targets:[{group:"ItemMouth",label:"Eat From Bowl",actionSelf:"SourceCharacter puts PronounPossessive head into PronounPossessive bowl in order to eat with the gag, making a mess."}],Image:"Assets/Female3DCG/ItemDevices/Preview/PetBowl.png",Prerequisite:["UseTongueNoMouth","HasBowl"],OnTrigger:()=>{c().enabled&&0!==c().foodHours&&E("food",d,!0)}},{Name:"BowlDrink2",Targets:[{group:"ItemMouth",label:"Drink From Bowl",actionSelf:"SourceCharacter puts PronounPossessive head into PronounPossessive bowl in order to drink with the gag, making a mess."}],Image:"Assets/Female3DCG/ItemDevices/Preview/PetBowl.png",Prerequisite:["UseTongueNoMouth","HasBowl"],OnTrigger:()=>{c().enabled&&0!==c().waterHours&&E("water",d,!0)}}]}get Settings(){return[{name:"enabled",type:"checkbox",active:e=>!(0,s.IsHardcoreOn)(e),value:!1,label:"Become a virtual pet! Requiring: food, water, sleep, and affection"},{name:"foodHours",type:"number",value:4,active:e=>!!c(e).enabled,label:"How many hours until you are completely out of food; 0 to disable",width:128,min:0,max:u,step:.1},{name:"waterHours",type:"number",value:4,active:e=>!!c(e).enabled,label:"How many hours until you are completely out of water; 0 to disable",width:128,min:0,max:u,step:.1},{name:"sleepHours",type:"number",value:8,active:e=>!!c(e).enabled,label:"How many hours until you are completely out of sleep; 0 to disable",width:128,min:0,max:u,step:.1},{name:"affectionHours",type:"number",value:4,active:e=>!!c(e).enabled,label:"How many hours until you are completely out of affection; 0 to disable",width:128,min:0,max:u,step:.1},{name:"offlineDrain",type:"checkbox",value:!0,active:e=>!!c(e).enabled,label:"Stats drain even when logged out of the club"},{name:"noHands",type:"checkbox",active:e=>!!c(e).enabled&&!(0,s.IsHardcoreOn)(e),value:!1,label:"Allow eating or drinking from items in your OWN hands"},{name:"masochist",type:"checkbox",active:e=>!!c(e).enabled,value:!1,label:"Masochist pet; Abuse raises affection"},{name:"levels",type:"record",value:{food:1,water:1,sleep:1,affection:1,lastUpdated:Date.now(),lastOnline:Date.now()}}]}Load(){super.Load(),N(!1),D(!0,!1,!0),A=setInterval((()=>{Player.MemberNumber&&(Player.MPA[this.Title].levels.lastOnline=Date.now(),(0,i.SaveStorage)(!1))}),1e4),(0,n.HookFunction)(this.Title,"ChatRoomMessage",0,((e,t)=>{var o,r;const n=e[0],i=(0,l.GetAttributeFromChatDictionary)(n,"ActivityName");if(!c().enabled||!c().noHands&&(0,l.GetAttributeFromChatDictionary)(n,"SourceCharacter")===Player.MemberNumber||"Activity"!==n.Type||(0,l.GetAttributeFromChatDictionary)(n,"TargetCharacter")!==Player.MemberNumber||"ItemMouth"!==(0,l.GetAttributeFromChatDictionary)(n,"FocusGroupName")||!i)return t(e);const a=ActivityFemale3DCG.find((e=>e.Name===i));return 0!==c().foodHours&&((null===(o=null==a?void 0:a.Prerequisite)||void 0===o?void 0:o.includes("Needs-EatItem"))||m.some((e=>(null==a?void 0:a.Name)===e)))&&E("food",.2,!0),0!==c().waterHours&&((null===(r=null==a?void 0:a.Prerequisite)||void 0===r?void 0:r.includes("Needs-SipItem"))||h.some((e=>(null==a?void 0:a.Name)===e)))&&E("water",.2,!0),t(e)})),(0,n.HookFunction)(this.Title,"CharacterRefresh",0,((e,t)=>(e[0].MemberNumber===Player.MemberNumber&&N(),t(e)))),(0,n.HookFunction)(this.Title,"ChatRoomMessage",0,((e,t)=>{var o,r;const n=e[0],i=(0,l.GetAttributeFromChatDictionary)(n,"ActivityName");if(!c().enabled||0===c().affectionHours||"Activity"!==n.Type||(0,l.GetAttributeFromChatDictionary)(n,"TargetCharacter")!==Player.MemberNumber||(0,l.GetAttributeFromChatDictionary)(n,"SourceCharacter")===Player.MemberNumber||!i)return t(e);const a=null!==(o=(0,l.GetAttributeFromChatDictionary)(n,"FocusGroupName"))&&void 0!==o?o:"",s=null!==(r=M[a])&&void 0!==r?r:1;return g.includes(i)?E("affection",.05*s):P.includes(i)?E("affection",.03*s):b.includes(i)&&E("affection",-.04*(c().masochist?-1:1)*s),t(e)}))}Unload(){super.Unload(),clearInterval(A)}}},"./src/modules/virtualPetConditions.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ConditionCheck:()=>p,VirtualPetConditionsModule:()=>N});var r=o("./src/util/general.ts"),n=o("./src/util/messaging.ts"),i=o("./src/util/sdk.ts"),l=o("./src/modules/_module.ts"),a=o("./src/modules/profile.ts"),s=o("./src/modules/virtualPet.ts");const u=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[l.ModuleTitle.VirtualPet])&&void 0!==o?o:{}},c=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[l.ModuleTitle.VirtualPetConditions])&&void 0!==o?o:{}};function d(e,t){return!(!c().enabled||!c()[e])&&!!(!t||u().enabled&&`${t}Hours`in u())}const m=[["SelfBondage",!0],["Willpower",!0],["Bondage",!1],["Evasion",!1],["LockPicking",!1]],h={food:-1,water:-1,sleep:-1,affection:-1};let v=[];let f=250;function p(){["food","water","affection","sleep"].forEach((e=>{if(u().enabled&&c().enabled&&0!==u()[`${e}Hours`]){const t=h[e],o=(0,s.GetCharacterCurrentStatValue)(Player,e);v.forEach((r=>{r.stat===e&&-1===t&&r.firstRun&&r.firstRun(),r.stat===e&&-1!==t&&t>o&&"rising"!==r.change&&o<=r.threshhold&&r.threshhold<t&&r.action(),r.stat===e&&-1!==t&&t<o&&"falling"!==r.change&&t<r.threshhold&&r.threshhold<=o&&r.action()})),h[e]=o}else h[e]=-1}))}const y="sleep",g=.25,P=0,b=0,M=1;let S=!1;const A=["SourceCharacter drools out of the corner of PronounPossessive lip as PronounSubject sleeps.","SourceCharacter mumbles quietly in PronounPossessive slumber.","SourceCharacter rests peacefully."];function C(){var e,t,o;CharacterSetFacialExpression(Player,"Emoticon","Sleep"),CharacterSetFacialExpression(Player,"Eyes","Closed"),CharacterSetFacialExpression(Player,"Fluids","DroolMedium"),Player.CanKneel()&&PoseSetActive(Player,"Kneel",!0),S=!0;const r=null===(o=null===(t=null===(e=null===Player||void 0===Player?void 0:Player.LSCG)||void 0===e?void 0:e.StateModule)||void 0===t?void 0:t.states)||void 0===o?void 0:o.find((e=>"asleep"===e.type));c().passoutLSCG&&r&&console.log("Calling LSCG passout"),(0,n.SendAction)("SourceCharacter passes out from exhaustion.",void 0,[{SourceCharacter:Player.MemberNumber}])}function T(){return c().enabled&&0!==u().sleepHours&&c().passout&&!c().passoutLSCG&&S}let w;function k(){u().enabled&&0!==u().affectionHours&&c().enabled&&m.forEach((([e,t])=>{const o=(0,s.GetCharacterCurrentStatValue)(Player,"affection"),r=Math.round((10*o/1-5)*(t?1:-1)*100)/100,n=SkillGetModifier(Player,e),i=0!==SkillGetModifierDuration(Player,e)?SkillGetModifierDuration(Player,e):15e3;r>0&&c().affectionSkillBuffs&&SkillSetModifier(Player,e,n+r,i,!1),r<0&&c().affectionSkillDebuffs&&SkillSetModifier(Player,e,n+r,i,!1)}))}class N extends l.Module{get Title(){return l.ModuleTitle.VirtualPetConditions}get Settings(){return[{name:"enabled",type:"checkbox",active:e=>!!u(e).enabled&&!(0,a.IsHardcoreOn)(e),value:!0,label:"Recive conditions based on current level of your virtual pet stats"},{name:"foodNOW",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,a.IsHardcoreOn)(e),value:!0,label:"Food and water affects affection gain"},{name:"tint",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,a.IsHardcoreOn)(e),value:!0,label:"Vision darkens as you get sleepier"},{name:"passout",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,a.IsHardcoreOn)(e),value:!0,label:"Passout when exhausted"},{name:"passoutLSCG",type:"checkbox",active:e=>!(!u(e).enabled||!c(e).enabled||!c(e).passout||!e.LSCG||(0,a.IsHardcoreOn)(e),1),value:!1,label:"Use LSCG passout instead of MPA; Requires LSCG"},{name:"affectionSkillBuffs",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,a.IsHardcoreOn)(e),value:!0,label:"Affection will buff skills based on its level"},{name:"affectionSkillDebuffs",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,a.IsHardcoreOn)(e),value:!0,label:"Affection will debuff skills based on its level"},{name:"hearingLoss",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,a.IsHardcoreOn)(e),value:!0,label:"Hearing becomes harder the hungrier you are"},{name:"slowLeave",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,a.IsHardcoreOn)(e),value:!0,label:"Takes longer to leave the room when hungry"}]}Load(){(0,i.HookFunction)(this.Title,"GameRun",0,((e,t)=>(f>=250&&p(),f++,t(e)))),(0,i.HookFunction)(this.Title,"Player.GetTints",0,((e,t)=>{if(!d("tint",y))return t(e);const o=((0,s.GetCharacterCurrentStatValue)(Player,y)-g)/(P-g)*(M-b)+b;return b<=o&&o<=M?t(e).concat({r:0,g:0,b:0,a:Math.sqrt(Math.round(1e3*o)/1e3)}):t(e)})),v=[{stat:"sleep",threshhold:0,change:"falling",action:function(){C()},firstRun:function(){0===(0,s.GetCharacterCurrentStatValue)(Player,"sleep")&&C()}},{stat:"sleep",threshhold:.1,change:"rising",action:function(){S&&(CharacterSetFacialExpression(Player,"Emoticon",null),CharacterSetFacialExpression(Player,"Eyes","Dazed"),CharacterSetFacialExpression(Player,"Eyebrows","Lowered"),S=!1,(0,n.SendAction)("SourceCharacter wakes up from PronounPossessive nap.",void 0,[{SourceCharacter:Player.MemberNumber}]))}}],(0,i.HookFunction)(this.Title,"Player.CanTalk",5,((e,t)=>!T()&&t(e))),(0,i.HookFunction)(this.Title,"Player.CanWalk",5,((e,t)=>!T()&&t(e))),(0,i.HookFunction)(this.Title,"Player.CanChangeOwnClothes",5,((e,t)=>!T()&&t(e))),(0,i.HookFunction)(this.Title,"Player.CanInteract",5,((e,t)=>!T()&&t(e))),(0,i.HookFunction)(this.Title,"ServerSend",5,((e,t)=>{if(!T())return t(e);const[o,i]=e;return"ChatRoomChat"!=o||"Chat"!=(null==i?void 0:i.Type)||(null==i?void 0:i.Content.startsWith("("))?t(e):((0,n.SendAction)((0,r.RandomElement)(A),void 0,[{SourceCharacter:Player.MemberNumber}]),null)})),(0,i.HookFunction)(this.Title,"Player.GetDeafLevel",5,((e,t)=>T()?4:t(e))),(0,i.HookFunction)(this.Title,"Player.GetBlindLevel",5,((e,t)=>{var o,r;return T()?"SensDepExtreme"===(null===(o=Player.GameplaySettings)||void 0===o?void 0:o.SensDepChatLog)||"SensDepTotal"===(null===(r=Player.GameplaySettings)||void 0===r?void 0:r.SensDepChatLog)?3:2:t(e)})),(0,i.HookFunction)(this.Title,"Player.GetDeafLevel",5,((e,t)=>{const o=d("hearingLoss","food")?Math.max(0,Math.floor(-10*((0,s.GetCharacterCurrentStatValue)(Player,"food")-.3001))):0;return Math.max(o,t(e))})),SkillModifierMax<10&&(SkillModifierMax=10),k(),w=setInterval(k,16e3),(0,i.HookFunction)(this.Title,"ChatRoomAttemptLeave",0,((e,t)=>{if(!d("slowLeave","food"))return t(e);const o=ChatRoomSlowtimer,r=(0,s.GetCharacterCurrentStatValue)(Player,"food");if(t(e),0===o&&ChatRoomSlowtimer>0&&r<=.3){ChatRoomSlowtimer=CurrentTime+ChatRoomSlowLeaveMinTime+1e3*(-25/.3*r+25)}})),(0,i.HookFunction)(this.Title,"Player.IsSlow",0,((e,t)=>!!(d("slowLeave","food")&&(0,s.GetCharacterCurrentStatValue)(Player,"food")<=.3)||t(e)))}Unload(){super.Unload(),v=[],clearInterval(w)}}},"./src/modules/virtualPetHUD.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{VirtualPetHUDModule:()=>d});var r=o("./src/util/sdk.ts"),n=o("./src/util/authority.ts"),i=o("./src/modules/_module.ts"),l=o("./src/modules/virtualPet.ts");const a=()=>Player.MPA[i.ModuleTitle.VirtualPet],s=()=>Player.MPA[i.ModuleTitle.VirtualPetHUD],u={food:"#f2bb18",water:"#2a9fc3",sleep:"#8d2aee",affection:"#ff78f2"};function c(e,t,o,r){const n=u[r.stat];MainCanvas.beginPath(),MainCanvas.arc(e,t,o,0,2*Math.PI,!0),MainCanvas.lineWidth=o/8,MainCanvas.strokeStyle=n,MainCanvas.stroke(),MainCanvas.beginPath(),MainCanvas.arc(e,t,o,-Math.PI/2,2*Math.PI*-r.level-Math.PI/2,!0),MainCanvas.lineTo(e,t),MainCanvas.fillStyle=n,MainCanvas.fill(),s().exactStats&&(MainCanvas.fillStyle="#000000",MainCanvas.font=CommonGetFont(1.25*o),MainCanvas.fillText(Math.round(100*r.level).toString(),e,t+.125*o),MainCanvas.font=CommonGetFont(36))}class d extends i.Module{get Title(){return i.ModuleTitle.VirtualPetHUD}get Settings(){return[{name:"self",type:"checkbox",active:()=>!!a().enabled,value:!0,label:"Display your own virtual pet stats on the HUD"},{name:"exactStats",type:"checkbox",active:()=>!!a().enabled||"Off"!==s().others,value:!1,label:"Display the exact number percentage on the HUD"},{name:"position",type:"option",active:()=>!!a().enabled||"Off"!==s().others,options:["Left","Center","Right","Split"],value:"Left",label:"Where to display the HUD",loop:!0},{name:"others",type:"option",active:()=>!0,options:["Off","Public","Friends","Whitelist","Lovers","Owners","D/s Family","Clubowner"],value:"Friends",label:"Display the virtual pet stats of others on the HUD",loop:!1}]}Load(){(0,r.HookFunction)(this.Title,"DrawArousalMeter",1,((e,t)=>{var o;const[r,u,d,m]=e;if(!ActivityAllowed()||r.IsPlayer()&&(!s().self||!a().enabled)||!r.IsPlayer()&&"Off"===s().others||!r.IsPlayer()&&!(0,n.IsMemberNumberInAuthGroup)(r.MemberNumber,s().others))return t(e);const h=null===(o=null==r?void 0:r.MPA)||void 0===o?void 0:o[i.ModuleTitle.VirtualPet];if(!(null==h?void 0:h.enabled))return t(e);const v=[];return["food","water","sleep","affection"].forEach((e=>{0!==h[`${e}Hours`]&&v.push({stat:e,level:(0,l.GetCharacterCurrentStatValue)(r,e)})})),0!==v.length&&function(e,t,o,r){const n=s().position;if("Left"===n||"Right"===n)r.reverse(),r.forEach(((r,i)=>{c(e+("Left"===n?80:420)*o,t+(950-36*i)*o,16*o,r)}));else if("Center"===n){const n=r.length;r.forEach(((r,i)=>{c(e+(250-18*(n-1)+36*i)*o,t+950*o,16*o,r)}))}else if("Split"===n){const n=[];switch(r.length){case 1:n.push([r[0]]),n.push([]);break;case 2:n.push([r[0]]),n.push([r[1]]);break;case 3:n.push([r[1],r[0]]),n.push([r[2]]);break;case 4:n.push([r[1],r[0]]),n.push([r[3],r[2]])}n.forEach(((r,n)=>{r.forEach(((r,i)=>{c(e+(0==n?80:420)*o,t+(950-36*i)*o,16*o,r)}))}))}}(u,d,m,v),t(e)}))}Unload(){super.Unload()}}},"./src/util/activities.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{CreateActivities:()=>s,CreateActivity:()=>a,RemoveActivities:()=>c,RemoveActivity:()=>u,activityImages:()=>n,activityPrerequisites:()=>l,activityTriggers:()=>i});var r=o("./src/localization/localization.ts");const n={},i={},l={HoldingClicker:(e,t,o)=>{var r,n,i,l,a;return null!==(a=null===(l=null===(i=null===(n=null===(r=InventoryGet(e,"ItemHandheld"))||void 0===r?void 0:r.Asset)||void 0===n?void 0:n.Name)||void 0===i?void 0:i.toLocaleLowerCase())||void 0===l?void 0:l.includes("remote"))&&void 0!==a&&a},HasBowl:(e,t,o)=>{var r,n;return"PetBowl"===(null===(n=null===(r=InventoryGet(e,"ItemDevices"))||void 0===r?void 0:r.Asset)||void 0===n?void 0:n.Name)},UseTongueNoMouth:(e,t,o)=>!e.CanTalk()&&!e.IsMouthBlocked()};function a(e){var t;const o={Name:`MPA_${e.Name}`,ActivityID:Math.max(...ActivityFemale3DCG.map((e=>{var t;return null!==(t=e.ActivityID)&&void 0!==t?t:-1})))+1,MaxProgress:null!==(t=e.MaxProgress)&&void 0!==t?t:50,Prerequisite:e.Prerequisite,Target:[]};e.Targets.forEach((e=>{var t;e.actionSelf&&(o.TargetSelf||(o.TargetSelf=[]),null===(t=o.TargetSelf)||void 0===t||t.push(e.group),null===ActivityDictionary||void 0===ActivityDictionary||ActivityDictionary.push([`Label-ChatSelf-${e.group}-${o.Name}`,(0,r.LocalizedText)(e.label)]),null===ActivityDictionary||void 0===ActivityDictionary||ActivityDictionary.push([`ChatSelf-${e.group}-${o.Name}`,(0,r.LocalizedText)(e.actionSelf)])),e.actionOthers&&(o.Target.push(e.group),null===ActivityDictionary||void 0===ActivityDictionary||ActivityDictionary.push([`Label-ChatOther-${e.group}-${o.Name}`,(0,r.LocalizedText)(e.label)]),null===ActivityDictionary||void 0===ActivityDictionary||ActivityDictionary.push([`ChatOther-${e.group}-${o.Name}`,(0,r.LocalizedText)(e.actionOthers)]))})),n[o.Name]=e.Image,e.OnTrigger&&(i[o.Name]=e.OnTrigger),ActivityFemale3DCG.push(o),ActivityFemale3DCGOrdering.push(o.Name)}function s(e){e.forEach((e=>{a(e)}))}function u(e){const t=`MPA_${e.Name}`;e.Targets.forEach((e=>{var o,r;e.actionSelf&&(ActivityDictionary=null!==(o=null===ActivityDictionary||void 0===ActivityDictionary?void 0:ActivityDictionary.filter((o=>!(o[0]===`Label-ChatSelf-${e.group}-${t}`||o[0]===`ChatSelf-${e.group}-${t}`))))&&void 0!==o?o:null),e.actionOthers&&(ActivityDictionary=null!==(r=null===ActivityDictionary||void 0===ActivityDictionary?void 0:ActivityDictionary.filter((o=>!(o[0]===`Label-ChatOther-${e.group}-${t}`||o[0]===`ChatOther-${e.group}-${t}`))))&&void 0!==r?r:null)})),delete n[t],delete i[t],ActivityFemale3DCG=ActivityFemale3DCG.filter((e=>e.Name!==t)),ActivityFemale3DCGOrdering=ActivityFemale3DCGOrdering.filter((e=>e!==t))}function c(e){e.forEach((e=>{u(e)}))}},"./src/util/authority.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{AUTHORITY_GROUPS:()=>a,AUTHORITY_GROUP_OPTIONS:()=>i,AuthorityIsComparisonToCharacter:()=>c,HighestLevelAuthorityGroup:()=>u,IsMemberNumberInAuthGroup:()=>s});var r=o("./src/modules/_module.ts"),n=o("./src/util/messaging.ts");const i=["Public","Friends","Whitelist","Lovers","Owners","Clubowner","Self"],l=["None","Public","Friends","Whitelist","Lovers","Owners","D/s Family","Clubowner","Self"],a={Self:e=>{var t;return[null!==(t=e.MemberNumber)&&void 0!==t?t:-1]},Clubowner:e=>{var t,o;return(null===(t=null==e?void 0:e.Ownership)||void 0===t?void 0:t.MemberNumber)?[null===(o=null==e?void 0:e.Ownership)||void 0===o?void 0:o.MemberNumber]:[]},Owners:function(e){var t,o,n;const i=(null!==(n=null===(o=null===(t=e.MPA)||void 0===t?void 0:t[r.ModuleTitle.Authority])||void 0===o?void 0:o.owners)&&void 0!==n?n:"").split(",").map((e=>parseInt(e))).filter((e=>!isNaN(e)));return 0===i.length?[]:i},Lovers:e=>{var t,o;return null!==(o=null===(t=e.Lovership)||void 0===t?void 0:t.filter((e=>e.MemberNumber)).map((e=>e.MemberNumber)))&&void 0!==o?o:[]},WhiteList:e=>{var t;return null!==(t=e.WhiteList)&&void 0!==t?t:[]},FriendList:()=>{var e;return null!==(e=Player.FriendList)&&void 0!==e?e:[]}};function s(e,t,o=!1,r=Player){var i,l,s,u,c;if("None"===t)return!1;if(e===a.Self(r)[0])return"Self"===t||o;if("Public"===t)return!(r.BlackList.includes(e)||null!==(l=null===(i=null==r?void 0:r.GhostList)||void 0===i?void 0:i.includes(e))&&void 0!==l&&l);if("D/s Family"===t&&r.MemberNumber===Player.MemberNumber)return null!==(u=null===(s=(0,n.FindCharacterInRoom)(e))||void 0===s?void 0:s.IsFamilyOfPlayer())&&void 0!==u&&u;let d=new Set;switch(t){case"Friends":if(r.MemberNumber!==Player.MemberNumber&&Player.MemberNumber===e&&a.FriendList().includes(null!==(c=r.MemberNumber)&&void 0!==c?c:-1))return!0;r.MemberNumber===Player.MemberNumber&&(d=new Set([...d,...a.FriendList()]));case"Whitelist":d=new Set([...d,...a.WhiteList(r)]);case"Lovers":d=new Set([...d,...a.Lovers(r)]);case"Owners":d=new Set([...d,...a.Owners(r)]);case"Clubowner":d=new Set([...d,...a.Clubowner(r)])}return d.has(e)}function u(e,t=Player){var o,r,n,i,l,s;return t.MemberNumber===e?"Self":(null===(o=null==t?void 0:t.Ownership)||void 0===o?void 0:o.MemberNumber)===e?"Clubowner":a.Owners(t).includes(e)?"Owners":a.Lovers(t).includes(e)?"Lovers":a.WhiteList(t).includes(e)?"Whitelist":t.MemberNumber===Player.MemberNumber&&(null===(r=Player.FriendList)||void 0===r?void 0:r.includes(e))||t.MemberNumber!==Player.MemberNumber&&e===Player.MemberNumber&&(null===(n=Player.FriendList)||void 0===n?void 0:n.includes(null!==(i=t.MemberNumber)&&void 0!==i?i:-1))?"Friends":t.BlackList.includes(e)||null!==(s=null===(l=null==t?void 0:t.GhostList)||void 0===l?void 0:l.includes(e))&&void 0!==s&&s?"None":"Public"}function c(e,t=">=",o,r=Player){const n=u(o,r),i=l.indexOf(e),a=l.indexOf(n);if(-1===i||-1===a)return!1;switch(t){case">":return a>i;case"<":return a<i;case">=":return a>=i;case"<=":return a<=i;case"==":return a==i;case"!=":return a!=i;default:throw new Error("Invalid comparison operator")}}},"./src/util/constants.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ICONS:()=>n,MPA_VERSION:()=>r});const r=o("./package.json").version,n=Object.freeze({PAW:"data:image/png;base64,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"})},"./src/util/general.ts":(e,t,o)=>{"use strict";function r(e){return 0==e.length?null:e[Math.floor(Math.random()*e.length)]}o.r(t),o.d(t,{RandomElement:()=>r})},"./src/util/messaging.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{AddDataSyncListener:()=>v,AddDataSyncListeners:()=>f,ArrayToReadableString:()=>P,ContentIsMPAMesage:()=>n,FindCharacterInRoom:()=>d,GetAttributeFromChatDictionary:()=>g,GetEntryFromChatDictionary:()=>y,GetMPAMessageFromChat:()=>i,MPANotifyPlayer:()=>c,NotifyPlayer:()=>u,RemoveDataSyncListeners:()=>p,RemoveOOCContentFromMessage:()=>m,SendAction:()=>a,SendEmote:()=>s,SendMPAMessage:()=>l,hookedMessages:()=>h});var r=o("./src/localization/localization.ts");function n(e){var t;return"Hidden"===e.Type&&"MPA"===e.Content&&1===(null===(t=null==e?void 0:e.Dictionary)||void 0===t?void 0:t.length)}function i(e){return n(e)?e.Dictionary[0]:null}function l(e,t){ServerSend("ChatRoomChat",{Type:"Hidden",Content:"MPA",Dictionary:[e],Target:t})}function a(e,t=void 0,o=[]){ServerSend("ChatRoomChat",{Content:"MayaScript",Type:"Activity",Dictionary:[{Tag:"MISSING ACTIVITY DESCRIPTION FOR KEYWORD MayaScript",Text:(0,r.LocalizedText)(e)},...o],Target:null==t?void 0:t.MemberNumber})}function s(e,t=void 0){ServerSend("ChatRoomChat",{Content:`${e}`,Type:"Emote",Target:null==t?void 0:t.MemberNumber})}function u(e,t){ChatRoomSendLocal(`<p style='background-color:#00c2ff;margin-bottom:0.25em;margin-top:0'>${e}</p>`,t)}function c(e,t){u(`${(0,r.LocalizedText)("MPA")}: ${e}`,t)}function d(e,{MemberNumber:t=!0,NickName:o=!0,Name:r=!0}={}){var n;"string"!=typeof e&&(e=e.toString()),e=e.toLocaleLowerCase();for(const i of ChatRoomCharacter)if(t&&(null==i?void 0:i.MemberNumber)===Number(e)||o&&(null===(n=null==i?void 0:i.Nickname)||void 0===n?void 0:n.toLocaleLowerCase())===e||r&&i.Name.toLocaleLowerCase()===e)return i;return null}function m(e){return SpeechGetOOCRanges(e).reverse().forEach((t=>{e=e.substring(0,t.start)+e.substring(t.start+t.length)})),e}const h=[];function v(e){h.push({module:e.module,message:e.message,action:e.action})}function f(e){e.forEach((e=>{h.push({module:e.module,message:e.message,action:e.action})}))}function p(e){for(let t=h.length-1;0<=t;t--)h[t].module===e&&h.splice(t,1)}function y(e,t){if(e.Dictionary)try{return e.Dictionary.filter((e=>!!e[t]))[0]}catch(e){}}function g(e,t){var o;return null===(o=y(e,t))||void 0===o?void 0:o[t]}function P(e){const t=e.length;return 0===t?"":1===t?e[0]:2===t?`${e[0]} and ${e[1]}`:`${e.slice(0,-1).join(", ")}, and ${e[t-1]}`}},"./src/util/registerModules.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{RegisterModules:()=>y,modules:()=>f,settings:()=>p});var r=o("./src/util/storage.ts"),n=o("./src/modules/dataSync.ts"),i=o("./src/modules/settings.ts"),l=o("./src/modules/activities.ts"),a=o("./src/modules/clicker.ts"),s=o("./src/modules/virtualPet.ts"),u=o("./src/modules/virtualPetHUD.ts"),c=o("./src/modules/virtualPetConditions.ts"),d=o("./src/modules/profile.ts"),m=o("./src/modules/settingsOthers.ts"),h=o("./src/modules/authority.ts");let v=!1;const f=[new n.DataSyncModule,new i.SettingsModule,new l.ActivitiesModule,new a.ClickerModule,new s.VirtualPetModule,new u.VirtualPetHUDModule,new c.VirtualPetConditionsModule,new d.ProfileModule,new m.SettingsOtherModule,new h.AuthorityModule],p={};async function y(){v||(f.forEach((e=>{const t=e.Settings,o={};t.forEach((e=>{o[e.name]=e})),0!==Object.keys(o).length&&(p[e.Title]=o)})),await(0,r.LoadStorage)(),f.forEach((e=>{e.Load()})),v=!0)}},"./src/util/sdk.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{AwaitPlayer:()=>c,HookFunction:()=>s,RemoveHooks:()=>u,modAPI:()=>a});var r=o("./node_modules/bondage-club-mod-sdk/dist/bcmodsdk.js"),n=o.n(r),i=o("./src/util/constants.ts");const l=[],a=n().registerMod({name:"MPA",version:i.MPA_VERSION,fullName:"Maya's Petplay Additions Pre-Alpha",repository:""},{allowReplace:!1});function s(e,t,o,r){const n=a.hookFunction(t,o,r);return l.push({functionName:t,priority:o,hook:r,module:e,removeHook:n}),n}function u(e){for(let t=l.length-1;0<=t;t--)l[t].module===e&&(l[t].removeHook(),l.splice(t,1))}async function c(){if(!Player.MemberNumber||!Player.ExtensionSettings)return new Promise((e=>{const t=a.hookFunction("LoginResponse",0,((o,r)=>{r(o),t(),e()}))}))}},"./src/util/settingTypes.ts":(e,t,o)=>{"use strict";function r(e){return"function"==typeof e.active&&"string"==typeof e.label}function n(e){return r(e)&&"checkbox"===e.type&&"boolean"==typeof e.value}function i(e){return r(e)&&"option"===e.type&&"string"==typeof e.value&&Array.isArray(e.options)&&"boolean"==typeof e.loop}function l(e){return r(e)&&"text"===e.type&&"string"==typeof e.value&&("number"==typeof e.width||null===e.width)&&("number"==typeof e.maxChars||null===e.maxChars)}function a(e){return r(e)&&"number"===e.type&&"number"==typeof e.value&&("number"==typeof e.width||null===e.width)&&"number"==typeof e.min&&"number"==typeof e.max&&("number"==typeof e.step||null===e.step)}o.r(t),o.d(t,{IsCheckboxSetting:()=>n,IsDisplaySetting:()=>r,IsNumberSetting:()=>a,IsOptionSetting:()=>i,IsTextSetting:()=>l})},"./src/util/storage.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ExportSettingsToClipboard:()=>v,ImportSettingsFromClipboard:()=>f,LoadStorage:()=>d,ResetStorage:()=>h,SaveStorage:()=>m});var r=o("./src/localization/localization.ts"),n=o("./src/util/registerModules.ts"),i=o("./src/util/sdk.ts"),l=o("./src/modules/settings.ts"),a=o("./src/modules/dataSync.ts"),s=o("./src/modules/_module.ts"),u=o("./src/util/constants.ts"),c=o("./src/modules/virtualPet.ts");async function d(){var e,t,o,l;await(0,i.AwaitPlayer)();const a=null!==(l=JSON.parse(null!==(o=LZString.decompressFromBase64(null!==(t=null===(e=Player.ExtensionSettings)||void 0===e?void 0:e.MPA)&&void 0!==t?t:""))&&void 0!==o?o:"{}"))&&void 0!==l?l:{};Object.entries(n.settings).forEach((e=>{const[t,o]=e;for(const[e,r]of Object.entries(o))t in a||(a[t]={}),e in a[t]||(a[t][e]=r.value)})),function(e){var t;e.version!==u.MPA_VERSION&&(ServerAccountBeep({MemberNumber:null!==(t=Player.MemberNumber)&&void 0!==t?t:-1,MemberName:(0,r.LocalizedText)("MPA"),ChatRoomSpace:"X",ChatRoomName:(0,r.LocalizedText)("MPA Updated"),Private:!1,BeepType:"",Message:"MPA has been updated."}),e.version=u.MPA_VERSION,m(!1))}(a),Player.MPA=a}function m(e=!0){Player.ExtensionSettings.MPA=LZString.compressToBase64(JSON.stringify(Player.MPA)),ServerPlayerExtensionSettingsSync("MPA"),e&&(0,a.SettingSync)(!1)}async function h(){delete Player.ExtensionSettings.MPA,Player.ExtensionSettings.MPA=LZString.compressToBase64(JSON.stringify({version:u.MPA_VERSION})),await d(),m(),(0,l.UpdateElementValues)()}async function v(){return navigator.clipboard.writeText(LZString.compressToBase64(JSON.stringify(Player.MPA)))}async function f(){return new Promise(((e,t)=>{navigator.clipboard.readText().then((o=>{var r;try{const e=JSON.parse(null!==(r=LZString.decompressFromBase64(null!=o?o:""))&&void 0!==r?r:"{}"),t=JSON.parse(JSON.stringify(Player.MPA));t[s.ModuleTitle.VirtualPet].levels.lastUpdated=Date.now(),t[s.ModuleTitle.VirtualPet].levels.lastOnline=Date.now();for(const o in e)void 0!==e[o]&&(t[o]=e[o]);t[s.ModuleTitle.VirtualPet].levels.lastUpdated=Date.now()-(t[s.ModuleTitle.VirtualPet].levels.lastOnline-t[s.ModuleTitle.VirtualPet].levels.lastUpdated),t[s.ModuleTitle.VirtualPet].levels.lastOnline=Date.now(),Player.MPA=t,(0,c.LevelSync)(!1,!1,!1),m(!0)}catch(e){return console.warn(e),t()}return e()}),(()=>t()))}))}},"./package.json":e=>{"use strict";e.exports=JSON.parse('{"name":"mpa","description":"","version":"0.4.1","author":"Maya","license":"MIT","repository":{"type":"git","url":"https://github.com/MayaTheFoxy/MPA"},"scripts":{"build":"webpack serve --progress","lint":"eslint ./src","lint-fix":"eslint ./src --fix"},"dependencies":{"bondage-club-mod-sdk":"^1.2.0"},"devDependencies":{"@eslint/js":"^9.9.0","@stylistic/eslint-plugin":"^2.6.2","bc-stubs":"^v108.0.0","eslint":"^9.9.0","globals":"^15.9.0","lz-string":"^1.5.0","terser-webpack-plugin":"^5.3.10","ts-loader":"^9.5.1","typescript":"^5.5.4","typescript-eslint":"^8.1.0","webpack":"^5.93.0","webpack-cli":"^5.1.4","webpack-dev-server":"^5.0.4"}}')},"./src/localization/RU.json":e=>{"use strict";e.exports=JSON.parse('{"Maya\'s Petplay Additions":"Ð”Ð¾Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ Ð´Ð»Ñ Ð¿ÐµÑ‚Ð¿Ð»ÐµÑ Ð¾Ñ‚ Maya","MPA Settings":"","Clicker":"ÐšÐ»Ð¸ÐºÐµÑ€","Enable auditory clicker":"","Phrases that trigger the click; Separate phrases with a comma":"Ð¤Ñ€Ð°Ð·Ñ‹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ ÑÐ¾Ð²ÐµÑ€ÑˆÐ°ÑŽÑ‚ ÐºÐ»Ð¸Ðº; Ð Ð°Ð·Ð´ÐµÐ»ÑÐ¹Ñ‚Ðµ Ñ„Ñ€Ð°Ð·Ñ‹ Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ Ð·Ð°Ð¿ÑÑ‚Ð¾Ð¹","Allow your own chat, emotes, & actions to trigger the clicker":"Ð Ð°Ð·Ñ€ÐµÑˆÐ¸Ñ‚ÑŒ Ð²Ð°ÑˆÐ¸Ð¼ ÑÐ¾Ð±ÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ð¼ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ Ð² Ñ‡Ð°Ñ‚Ðµ, ÑÐ¼Ð¾Ñ†Ð¸ÑÐ¼ Ð¸Ð»Ð¸ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸ÑÐ¼ ÑÐ¾Ð²ÐµÑ€ÑˆÐ°Ñ‚ÑŒ ÐºÐ»Ð¸Ðº","Who will be able to trigger the clicker":"ÐšÑ‚Ð¾ ÑÐ¼Ð¾Ð¶ÐµÑ‚ Ð²Ñ‹Ð·Ñ‹Ð²Ð°Ñ‚ÑŒ ÑÑ€Ð°Ð±Ð°Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ðµ ÐºÐ»Ð¸ÐºÐµÑ€Ð°","Public":"ÐŸÑƒÐ±Ð»Ð¸Ñ‡Ð½Ð¾","Friends":"Ð”Ñ€ÑƒÐ·ÑŒÑ","Whitelist":"Ð‘ÐµÐ»Ñ‹Ð¹ ÑÐ¿Ð¸ÑÐ¾Ðº","Lovers":"Ð›ÑŽÐ±Ð¾Ð²Ð½Ð¸ÐºÐ¸","Owners":"Ð’Ð»Ð°Ð´ÐµÐ»ÑŒÑ†Ñ‹","Clubowner":"ÐšÐ»ÑƒÐ±Ð½Ñ‹Ð¹ Ð²Ð»Ð°Ð´ÐµÐ»ÐµÑ†","Self":"Ð¡Ð°Ð¼Ð¾ÑÑ‚Ð¾ÑÑ‚ÐµÐ»ÑŒÐ½Ð¾","Virtual Pet":"Ð’Ð¸Ñ€Ñ‚ÑƒÐ°Ð»ÑŒÐ½Ñ‹Ð¹ Ð¿Ð¸Ñ‚Ð¾Ð¼ÐµÑ†","Become a virtual pet! Requiring: food, water, sleep, and affection":"Ð¡Ñ‚Ð°Ð½ÑŒÑ‚Ðµ Ð²Ð¸Ñ€Ñ‚ÑƒÐ°Ð»ÑŒÐ½Ñ‹Ð¼ Ð¿Ð¸Ñ‚Ð¾Ð¼Ñ†ÐµÐ¼! Ð’Ð°ÑˆÐ¸ Ð¿Ð¾Ñ‚Ñ€ÐµÐ±Ð½Ð¾ÑÑ‚Ð¸: ÐµÐ´Ð°, Ð²Ð¾Ð´Ð°, ÑÐ¾Ð½ Ð¸ Ð»Ð°ÑÐºÐ°","How many hours until you are completely out of food; 0 to disable":"Ð§ÐµÑ€ÐµÐ· ÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ñ‡Ð°ÑÐ¾Ð² Ñƒ Ð²Ð°Ñ Ð¿Ð¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ Ð·Ð°ÐºÐ¾Ð½Ñ‡Ð¸Ñ‚ÑÑ ÐµÐ´Ð°; 0 Ð´Ð»Ñ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ","How many hours until you are completely out of water; 0 to disable":"Ð§ÐµÑ€ÐµÐ· ÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ñ‡Ð°ÑÐ¾Ð² Ñƒ Ð²Ð°Ñ Ð¿Ð¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ Ð·Ð°ÐºÐ¾Ð½Ñ‡Ð¸Ñ‚ÑÑ Ð²Ð¾Ð´Ð°; 0 Ð´Ð»Ñ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ","How many hours until you are completely out of sleep; 0 to disable":"Ð§ÐµÑ€ÐµÐ· ÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ñ‡Ð°ÑÐ¾Ð² Ñƒ Ð²Ð°Ñ Ð¿Ð¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ Ð·Ð°ÐºÐ¾Ð½Ñ‡Ð¸Ñ‚ÑÑ ÑÐ¾Ð½; 0 Ð´Ð»Ñ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ","How many hours until you are completely out of affection; 0 to disable":"Ð§ÐµÑ€ÐµÐ· ÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ñ‡Ð°ÑÐ¾Ð² Ñƒ Ð²Ð°Ñ Ð¿Ð¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ Ð·Ð°ÐºÐ¾Ð½Ñ‡Ð¸Ñ‚ÑÑ Ð»Ð°ÑÐºÐ°; 0 Ð´Ð»Ñ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ","Pause stats from draining when logged out of the club":"ÐŸÑ€Ð¸Ð¾ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ ÑÐ½Ð¸Ð¶ÐµÐ½Ð¸Ðµ Ð¿Ð¾ÐºÐ°Ð·Ð°Ñ‚ÐµÐ»ÐµÐ¹ Ð¿Ñ€Ð¸ Ð²Ñ‹Ñ…Ð¾Ð´Ðµ Ð¸Ð· ÐºÐ»ÑƒÐ±Ð°","Allow eating or drinking from items in your OWN hands":"Ð Ð°Ð·Ñ€ÐµÑˆÐ¸Ñ‚ÑŒ ÐµÑÑ‚ÑŒ Ð¸Ð»Ð¸ Ð¿Ð¸Ñ‚ÑŒ Ð¸Ð· Ð¿Ñ€ÐµÐ´Ð¼ÐµÑ‚Ð¾Ð² Ð² Ð²Ð°ÑˆÐ¸Ñ… Ð¡ÐžÐ‘Ð¡Ð¢Ð’Ð•ÐÐÐ«Ð¥ Ñ€ÑƒÐºÐ°Ñ…","Click Once":"Ð©ÐµÐ»ÐºÐ½ÑƒÑ‚ÑŒ Ð¾Ð´Ð¸Ð½ Ñ€Ð°Ð·","SourceCharacter presses the button PronounPossessive clicker.":"SourceCharacter Ð½Ð°Ð¶Ð¸Ð¼Ð°ÐµÑ‚ Ð½Ð° ÐºÐ½Ð¾Ð¿ÐºÑƒ PronounPossessive ÐºÐ»Ð¸ÐºÐµÑ€Ð°.","Click Twice":"Ð©ÐµÐ»ÐºÐ½ÑƒÑ‚ÑŒ Ð´Ð²Ð°Ð¶Ð´Ñ‹","SourceCharacter presses the button PronounPossessive clicker twice.":"SourceCharacter Ð½Ð°Ð¶Ð¸Ð¼Ð°ÐµÑ‚ Ð½Ð° ÐºÐ½Ð¾Ð¿ÐºÑƒ PronounPossessive ÐºÐ»Ð¸ÐºÐµÑ€Ð° Ð´Ð²Ð°Ð¶Ð´Ñ‹.","Click Thrice":"Ð©ÐµÐ»ÐºÐ½ÑƒÑ‚ÑŒ Ñ‚Ñ€Ð¸Ð¶Ð´Ñ‹","SourceCharacter presses the button PronounPossessive clicker three times.":"SourceCharacter Ð½Ð°Ð¶Ð¸Ð¼Ð°ÐµÑ‚ Ð½Ð° ÐºÐ½Ð¾Ð¿ÐºÑƒ PronounPossessive ÐºÐ»Ð¸ÐºÐµÑ€Ð° Ñ‚Ñ€Ð¸Ð¶Ð´Ñ‹."}')},"./src/localization/template.json":e=>{"use strict";e.exports=JSON.parse('{"Maya\'s Petplay Additions":"","MPA":"","MPA Settings":"","MPA: No BC item permission":"","MPA Updated":"","RESET":"","Reset all your settings back to default":"","Import":"","Import the settings copied to your clipboard":"","Export":"","Export your current settings to the clipboard":"","Confirm":"","Cancel":"","WARNING: Are you sure you want to reset your MPA settings and data back to default?":"","This action can not be undone!":"","Export and save your settings BEFORE confirming if you are unsure.":"","Public":"","Friends":"","Whitelist":"","Lovers":"","Owners":"","Clubowner":"","Self":"","None":"","Authority":"","Owner member numbers; Seperated by a ,":"","Allow TargetCharacter to change TargetPronounPossessive Authority settings":"","Allow others to change TargetCharacter\'s Authority settings":"","Allow TargetCharacter to change TargetPronounPossessive Profile settings":"","Allow others to change TargetCharacter\'s Profile settings":"","Allow TargetCharacter to change TargetPronounPossessive Clicker settings":"","Allow others to change TargetCharacter\'s Clicker settings":"","Allow TargetCharacter to change TargetPronounPossessive Virtual Pet settings":"","Allow others to change TargetCharacter\'s Virtual Pet settings":"","Allow TargetCharacter to change TargetPronounPossessive Virtual Pet Conditions settings":"","Allow others to change TargetCharacter\'s Virtual Pet Conditions settings":"","SourceCharacter just updated your SettingsArray settings.":"","Profile":"","Use a preset profile or make your own":"","Phrases you speak when unable to be understood":"","Enable hardcore mode; Will set certain settings and prevent changing them back":"","Clicker":"","Enable auditory clicker":"","Phrases that trigger the click; Separate phrases with a comma":"","Allow your own chat, emotes, & actions to trigger the clicker":"","Who will be able to trigger the clicker":"","Allow BCX Listen to my voice rule to trigger the clicker; Requires BCX":"","Virtual Pet":"","Become a virtual pet! Requiring: food, water, sleep, and affection":"","How many hours until you are completely out of food; 0 to disable":"","How many hours until you are completely out of water; 0 to disable":"","How many hours until you are completely out of sleep; 0 to disable":"","How many hours until you are completely out of affection; 0 to disable":"","Pause stats from draining when logged out of the club":"","Allow eating or drinking from items in your OWN hands":"","Stats drain even when logged out of the club":"","Masochist pet; Abuse raises affection":"","Virtual Pet HUD":"","Display your own virtual pet stats on the HUD":"","Display the exact number percentage on the HUD":"","Where to display the HUD":"","Display the virtual pet stats of others on the HUD":"","Click Once":"","SourceCharacter presses the button on PronounPossessive clicker.":"","Click Twice":"","SourceCharacter presses the button on PronounPossessive clicker twice.":"","Click Thrice":"","SourceCharacter presses the button on PronounPossessive clicker three times.":"","Eat From Bowl":"","Drink From Bowl":"","SourceCharacter eats from PronounPossessive bowl.":"","SourceCharacter drinks from PronounPossessive bowl.":"","SourceCharacter puts PronounPossessive head into PronounPossessive bowl in order to eat with the gag, making a mess.":"","SourceCharacter puts PronounPossessive head into PronounPossessive bowl in order to drink with the gag, making a mess.":"","Virtual Pet Conditions":"","SourceCharacter passes out from exhaustion.":"","SourceCharacter wakes up from PronounPossessive nap.":"","Recive conditions based on current level of your virtual pet stats":"","Food and water affects affection gain":"","Vision darkens as you get sleepier":"","Passout when exhausted":"","Use LSCG passout instead of MPA; Requires LSCG":"","Affection will buff skills based on its level":"","Affection will debuff skills based on its level":"","Hearing becomes harder the hungrier you are":"","Takes longer to leave the room when hungry":""}')}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,o),i.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{"use strict";o.r(r);var e=o("./src/util/registerModules.ts"),t=o("./src/commands/buildAllCommands.ts"),n=o("./src/util/constants.ts");console.log("Loading Maya's Petplay Additions"),(0,t.BuildAllCommands)(),(0,e.RegisterModules)(),window.MPA={version:n.MPA_VERSION,menuLoaded:!1}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WDhuQixRQUEwQkEsT0FBT0MsYUFDMUN6cUIsT0FBT3lDLGVBQWVDLEVBQVM4bkIsT0FBT0MsWUFBYSxDQUFFOW5CLE1BQU8sV0FFN0QzQyxPQUFPeUMsZUFBZUMsRUFBUyxhQUFjLENBQUVDLE9BQU8sR0FBTyx1SkNLOUR4RyxRQUFRNGpCLElBQUkscUNBRVosSUFBQTliLHFCQUNBLElBQUEyakIsbUJBQ0Fyb0IsT0FBT2tJLElBQU0sQ0FDVHhHLFFBQVMsRUFBQW9sQixZQUNUalQsWUFBWSIsInNvdXJjZXMiOlsid2VicGFjazovL21wYS8uL25vZGVfbW9kdWxlcy9ib25kYWdlLWNsdWItbW9kLXNkay9kaXN0L2JjbW9kc2RrLmpzIiwid2VicGFjazovL21wYS8uL3NyYy9jb21tYW5kcy9iZWQudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL2NvbW1hbmRzL2J1aWxkQWxsQ29tbWFuZHMudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL2xvY2FsaXphdGlvbi9sb2NhbGl6YXRpb24udHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL21vZHVsZXMvX21vZHVsZS50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvbW9kdWxlcy9hY3Rpdml0aWVzLnRzIiwid2VicGFjazovL21wYS8uL3NyYy9tb2R1bGVzL2F1dGhvcml0eS50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvbW9kdWxlcy9jbGlja2VyLnRzIiwid2VicGFjazovL21wYS8uL3NyYy9tb2R1bGVzL2RhdGFTeW5jLnRzIiwid2VicGFjazovL21wYS8uL3NyYy9tb2R1bGVzL3Byb2ZpbGUudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL21vZHVsZXMvc2V0dGluZ3MudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL21vZHVsZXMvc2V0dGluZ3NPdGhlcnMudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL21vZHVsZXMvdmlydHVhbFBldC50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvbW9kdWxlcy92aXJ0dWFsUGV0Q29uZGl0aW9ucy50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvbW9kdWxlcy92aXJ0dWFsUGV0SFVELnRzIiwid2VicGFjazovL21wYS8uL3NyYy91dGlsL2FjdGl2aXRpZXMudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL3V0aWwvYXV0aG9yaXR5LnRzIiwid2VicGFjazovL21wYS8uL3NyYy91dGlsL2NvbnN0YW50cy50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvdXRpbC9nZW5lcmFsLnRzIiwid2VicGFjazovL21wYS8uL3NyYy91dGlsL21lc3NhZ2luZy50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvdXRpbC9yZWdpc3Rlck1vZHVsZXMudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL3V0aWwvc2RrLnRzIiwid2VicGFjazovL21wYS8uL3NyYy91dGlsL3NldHRpbmdUeXBlcy50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvdXRpbC9zdG9yYWdlLnRzIiwid2VicGFjazovL21wYS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9tcGEvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vbXBhL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9tcGEvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9tcGEvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQm9uZGFnZSBDbHViIE1vZCBEZXZlbG9wbWVudCBLaXQgKDEuMi4wKVxuLy8gRm9yIG1vcmUgaW5mbyBzZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9Kb21zaGlyOTgvYm9uZGFnZS1jbHViLW1vZC1zZGtcbi8qKiBAdHlwZSB7TW9kU0RLR2xvYmFsQVBJfSAqL1xudmFyIGJjTW9kU2RrPWZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7Y29uc3Qgbz1cIjEuMi4wXCI7ZnVuY3Rpb24gZShvKXthbGVydChcIk1vZCBFUlJPUjpcXG5cIitvKTtjb25zdCBlPW5ldyBFcnJvcihvKTt0aHJvdyBjb25zb2xlLmVycm9yKGUpLGV9Y29uc3QgdD1uZXcgVGV4dEVuY29kZXI7ZnVuY3Rpb24gbihvKXtyZXR1cm4hIW8mJlwib2JqZWN0XCI9PXR5cGVvZiBvJiYhQXJyYXkuaXNBcnJheShvKX1mdW5jdGlvbiByKG8pe2NvbnN0IGU9bmV3IFNldDtyZXR1cm4gby5maWx0ZXIoKG89PiFlLmhhcyhvKSYmZS5hZGQobykpKX1jb25zdCBpPW5ldyBNYXAsYT1uZXcgU2V0O2Z1bmN0aW9uIGMobyl7YS5oYXMobyl8fChhLmFkZChvKSxjb25zb2xlLndhcm4obykpfWZ1bmN0aW9uIHMobyl7Y29uc3QgZT1bXSx0PW5ldyBNYXAsbj1uZXcgU2V0O2Zvcihjb25zdCByIG9mIGYudmFsdWVzKCkpe2NvbnN0IGk9ci5wYXRjaGluZy5nZXQoby5uYW1lKTtpZihpKXtlLnB1c2goLi4uaS5ob29rcyk7Zm9yKGNvbnN0W2UsYV1vZiBpLnBhdGNoZXMuZW50cmllcygpKXQuaGFzKGUpJiZ0LmdldChlKSE9PWEmJmMoYE1vZFNESzogTW9kICcke3IubmFtZX0nIGlzIHBhdGNoaW5nIGZ1bmN0aW9uICR7by5uYW1lfSB3aXRoIHNhbWUgcGF0dGVybiB0aGF0IGlzIGFscmVhZHkgYXBwbGllZCBieSBkaWZmZXJlbnQgbW9kLCBidXQgd2l0aCBkaWZmZXJlbnQgcGF0dGVybjpcXG5QYXR0ZXJuOlxcbiR7ZX1cXG5QYXRjaDE6XFxuJHt0LmdldChlKXx8XCJcIn1cXG5QYXRjaDI6XFxuJHthfWApLHQuc2V0KGUsYSksbi5hZGQoci5uYW1lKX19ZS5zb3J0KCgobyxlKT0+ZS5wcmlvcml0eS1vLnByaW9yaXR5KSk7Y29uc3Qgcj1mdW5jdGlvbihvLGUpe2lmKDA9PT1lLnNpemUpcmV0dXJuIG87bGV0IHQ9by50b1N0cmluZygpLnJlcGxhY2VBbGwoXCJcXHJcXG5cIixcIlxcblwiKTtmb3IoY29uc3RbbixyXW9mIGUuZW50cmllcygpKXQuaW5jbHVkZXMobil8fGMoYE1vZFNESzogUGF0Y2hpbmcgJHtvLm5hbWV9OiBQYXRjaCAke259IG5vdCBhcHBsaWVkYCksdD10LnJlcGxhY2VBbGwobixyKTtyZXR1cm4oMCxldmFsKShgKCR7dH0pYCl9KG8ub3JpZ2luYWwsdCk7bGV0IGk9ZnVuY3Rpb24oZSl7dmFyIHQsaTtjb25zdCBhPW51bGw9PT0oaT0odD1tLmVycm9yUmVwb3J0ZXJIb29rcykuaG9va0NoYWluRXhpdCl8fHZvaWQgMD09PWk/dm9pZCAwOmkuY2FsbCh0LG8ubmFtZSxuKSxjPXIuYXBwbHkodGhpcyxlKTtyZXR1cm4gbnVsbD09YXx8YSgpLGN9O2ZvcihsZXQgdD1lLmxlbmd0aC0xO3Q+PTA7dC0tKXtjb25zdCBuPWVbdF0scj1pO2k9ZnVuY3Rpb24oZSl7dmFyIHQsaTtjb25zdCBhPW51bGw9PT0oaT0odD1tLmVycm9yUmVwb3J0ZXJIb29rcykuaG9va0VudGVyKXx8dm9pZCAwPT09aT92b2lkIDA6aS5jYWxsKHQsby5uYW1lLG4ubW9kKSxjPW4uaG9vay5hcHBseSh0aGlzLFtlLG89PntpZigxIT09YXJndW1lbnRzLmxlbmd0aHx8IUFycmF5LmlzQXJyYXkoZSkpdGhyb3cgbmV3IEVycm9yKGBNb2QgJHtuLm1vZH0gZmFpbGVkIHRvIGNhbGwgbmV4dCBob29rOiBFeHBlY3RlZCBhcmdzIHRvIGJlIGFycmF5LCBnb3QgJHt0eXBlb2Ygb31gKTtyZXR1cm4gci5jYWxsKHRoaXMsbyl9XSk7cmV0dXJuIG51bGw9PWF8fGEoKSxjfX1yZXR1cm57aG9va3M6ZSxwYXRjaGVzOnQscGF0Y2hlc1NvdXJjZXM6bixlbnRlcjppLGZpbmFsOnJ9fWZ1bmN0aW9uIGwobyxlPSExKXtsZXQgcj1pLmdldChvKTtpZihyKWUmJihyLnByZWNvbXB1dGVkPXMocikpO2Vsc2V7bGV0IGU9d2luZG93O2NvbnN0IGE9by5zcGxpdChcIi5cIik7Zm9yKGxldCB0PTA7dDxhLmxlbmd0aC0xO3QrKylpZihlPWVbYVt0XV0sIW4oZSkpdGhyb3cgbmV3IEVycm9yKGBNb2RTREs6IEZ1bmN0aW9uICR7b30gdG8gYmUgcGF0Y2hlZCBub3QgZm91bmQ7ICR7YS5zbGljZSgwLHQrMSkuam9pbihcIi5cIil9IGlzIG5vdCBvYmplY3RgKTtjb25zdCBjPWVbYVthLmxlbmd0aC0xXV07aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgYyl0aHJvdyBuZXcgRXJyb3IoYE1vZFNESzogRnVuY3Rpb24gJHtvfSB0byBiZSBwYXRjaGVkIG5vdCBmb3VuZGApO2NvbnN0IGw9ZnVuY3Rpb24obyl7bGV0IGU9LTE7Zm9yKGNvbnN0IG4gb2YgdC5lbmNvZGUobykpe2xldCBvPTI1NSYoZV5uKTtmb3IobGV0IGU9MDtlPDg7ZSsrKW89MSZvPy0zMDY2NzQ5MTJebz4+PjE6bz4+PjE7ZT1lPj4+OF5vfXJldHVybigoLTFeZSk+Pj4wKS50b1N0cmluZygxNikucGFkU3RhcnQoOCxcIjBcIikudG9VcHBlckNhc2UoKX0oYy50b1N0cmluZygpLnJlcGxhY2VBbGwoXCJcXHJcXG5cIixcIlxcblwiKSksZD17bmFtZTpvLG9yaWdpbmFsOmMsb3JpZ2luYWxIYXNoOmx9O3I9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGQpLHtwcmVjb21wdXRlZDpzKGQpLHJvdXRlcjooKT0+e30sY29udGV4dDplLGNvbnRleHRQcm9wZXJ0eTphW2EubGVuZ3RoLTFdfSksci5yb3V0ZXI9ZnVuY3Rpb24obyl7cmV0dXJuIGZ1bmN0aW9uKC4uLmUpe3JldHVybiBvLnByZWNvbXB1dGVkLmVudGVyLmFwcGx5KHRoaXMsW2VdKX19KHIpLGkuc2V0KG8sciksZVtyLmNvbnRleHRQcm9wZXJ0eV09ci5yb3V0ZXJ9cmV0dXJuIHJ9ZnVuY3Rpb24gZCgpe2Zvcihjb25zdCBvIG9mIGkudmFsdWVzKCkpby5wcmVjb21wdXRlZD1zKG8pfWZ1bmN0aW9uIHAoKXtjb25zdCBvPW5ldyBNYXA7Zm9yKGNvbnN0W2UsdF1vZiBpKW8uc2V0KGUse25hbWU6ZSxvcmlnaW5hbDp0Lm9yaWdpbmFsLG9yaWdpbmFsSGFzaDp0Lm9yaWdpbmFsSGFzaCxzZGtFbnRyeXBvaW50OnQucm91dGVyLGN1cnJlbnRFbnRyeXBvaW50OnQuY29udGV4dFt0LmNvbnRleHRQcm9wZXJ0eV0saG9va2VkQnlNb2RzOnIodC5wcmVjb21wdXRlZC5ob29rcy5tYXAoKG89Pm8ubW9kKSkpLHBhdGNoZWRCeU1vZHM6QXJyYXkuZnJvbSh0LnByZWNvbXB1dGVkLnBhdGNoZXNTb3VyY2VzKX0pO3JldHVybiBvfWNvbnN0IGY9bmV3IE1hcDtmdW5jdGlvbiB1KG8pe2YuZ2V0KG8ubmFtZSkhPT1vJiZlKGBGYWlsZWQgdG8gdW5sb2FkIG1vZCAnJHtvLm5hbWV9JzogTm90IHJlZ2lzdGVyZWRgKSxmLmRlbGV0ZShvLm5hbWUpLG8ubG9hZGVkPSExLGQoKX1mdW5jdGlvbiBnKG8sdCl7byYmXCJvYmplY3RcIj09dHlwZW9mIG98fGUoXCJGYWlsZWQgdG8gcmVnaXN0ZXIgbW9kOiBFeHBlY3RlZCBpbmZvIG9iamVjdCwgZ290IFwiK3R5cGVvZiBvKSxcInN0cmluZ1wiPT10eXBlb2Ygby5uYW1lJiZvLm5hbWV8fGUoXCJGYWlsZWQgdG8gcmVnaXN0ZXIgbW9kOiBFeHBlY3RlZCBuYW1lIHRvIGJlIG5vbi1lbXB0eSBzdHJpbmcsIGdvdCBcIit0eXBlb2Ygby5uYW1lKTtsZXQgcj1gJyR7by5uYW1lfSdgO1wic3RyaW5nXCI9PXR5cGVvZiBvLmZ1bGxOYW1lJiZvLmZ1bGxOYW1lfHxlKGBGYWlsZWQgdG8gcmVnaXN0ZXIgbW9kICR7cn06IEV4cGVjdGVkIGZ1bGxOYW1lIHRvIGJlIG5vbi1lbXB0eSBzdHJpbmcsIGdvdCAke3R5cGVvZiBvLmZ1bGxOYW1lfWApLHI9YCcke28uZnVsbE5hbWV9ICgke28ubmFtZX0pJ2AsXCJzdHJpbmdcIiE9dHlwZW9mIG8udmVyc2lvbiYmZShgRmFpbGVkIHRvIHJlZ2lzdGVyIG1vZCAke3J9OiBFeHBlY3RlZCB2ZXJzaW9uIHRvIGJlIHN0cmluZywgZ290ICR7dHlwZW9mIG8udmVyc2lvbn1gKSxvLnJlcG9zaXRvcnl8fChvLnJlcG9zaXRvcnk9dm9pZCAwKSx2b2lkIDAhPT1vLnJlcG9zaXRvcnkmJlwic3RyaW5nXCIhPXR5cGVvZiBvLnJlcG9zaXRvcnkmJmUoYEZhaWxlZCB0byByZWdpc3RlciBtb2QgJHtyfTogRXhwZWN0ZWQgcmVwb3NpdG9yeSB0byBiZSB1bmRlZmluZWQgb3Igc3RyaW5nLCBnb3QgJHt0eXBlb2Ygby52ZXJzaW9ufWApLG51bGw9PXQmJih0PXt9KSx0JiZcIm9iamVjdFwiPT10eXBlb2YgdHx8ZShgRmFpbGVkIHRvIHJlZ2lzdGVyIG1vZCAke3J9OiBFeHBlY3RlZCBvcHRpb25zIHRvIGJlIHVuZGVmaW5lZCBvciBvYmplY3QsIGdvdCAke3R5cGVvZiB0fWApO2NvbnN0IGk9ITA9PT10LmFsbG93UmVwbGFjZSxhPWYuZ2V0KG8ubmFtZSk7YSYmKGEuYWxsb3dSZXBsYWNlJiZpfHxlKGBSZWZ1c2luZyB0byBsb2FkIG1vZCAke3J9OiBpdCBpcyBhbHJlYWR5IGxvYWRlZCBhbmQgZG9lc24ndCBhbGxvdyBiZWluZyByZXBsYWNlZC5cXG5XYXMgdGhlIG1vZCBsb2FkZWQgbXVsdGlwbGUgdGltZXM/YCksdShhKSk7Y29uc3QgYz1vPT57bGV0IGU9Zy5wYXRjaGluZy5nZXQoby5uYW1lKTtyZXR1cm4gZXx8KGU9e2hvb2tzOltdLHBhdGNoZXM6bmV3IE1hcH0sZy5wYXRjaGluZy5zZXQoby5uYW1lLGUpKSxlfSxzPShvLHQpPT4oLi4ubik9Pnt2YXIgaSxhO2NvbnN0IGM9bnVsbD09PShhPShpPW0uZXJyb3JSZXBvcnRlckhvb2tzKS5hcGlFbmRwb2ludEVudGVyKXx8dm9pZCAwPT09YT92b2lkIDA6YS5jYWxsKGksbyxnLm5hbWUpO2cubG9hZGVkfHxlKGBNb2QgJHtyfSBhdHRlbXB0ZWQgdG8gY2FsbCBTREsgZnVuY3Rpb24gYWZ0ZXIgYmVpbmcgdW5sb2FkZWRgKTtjb25zdCBzPXQoLi4ubik7cmV0dXJuIG51bGw9PWN8fGMoKSxzfSxwPXt1bmxvYWQ6cyhcInVubG9hZFwiLCgoKT0+dShnKSkpLGhvb2tGdW5jdGlvbjpzKFwiaG9va0Z1bmN0aW9uXCIsKChvLHQsbik9PntcInN0cmluZ1wiPT10eXBlb2YgbyYmb3x8ZShgTW9kICR7cn0gZmFpbGVkIHRvIHBhdGNoIGEgZnVuY3Rpb246IEV4cGVjdGVkIGZ1bmN0aW9uIG5hbWUgc3RyaW5nLCBnb3QgJHt0eXBlb2Ygb31gKTtjb25zdCBpPWwobyksYT1jKGkpO1wibnVtYmVyXCIhPXR5cGVvZiB0JiZlKGBNb2QgJHtyfSBmYWlsZWQgdG8gaG9vayBmdW5jdGlvbiAnJHtvfSc6IEV4cGVjdGVkIHByaW9yaXR5IG51bWJlciwgZ290ICR7dHlwZW9mIHR9YCksXCJmdW5jdGlvblwiIT10eXBlb2YgbiYmZShgTW9kICR7cn0gZmFpbGVkIHRvIGhvb2sgZnVuY3Rpb24gJyR7b30nOiBFeHBlY3RlZCBob29rIGZ1bmN0aW9uLCBnb3QgJHt0eXBlb2Ygbn1gKTtjb25zdCBzPXttb2Q6Zy5uYW1lLHByaW9yaXR5OnQsaG9vazpufTtyZXR1cm4gYS5ob29rcy5wdXNoKHMpLGQoKSwoKT0+e2NvbnN0IG89YS5ob29rcy5pbmRleE9mKHMpO28+PTAmJihhLmhvb2tzLnNwbGljZShvLDEpLGQoKSl9fSkpLHBhdGNoRnVuY3Rpb246cyhcInBhdGNoRnVuY3Rpb25cIiwoKG8sdCk9PntcInN0cmluZ1wiPT10eXBlb2YgbyYmb3x8ZShgTW9kICR7cn0gZmFpbGVkIHRvIHBhdGNoIGEgZnVuY3Rpb246IEV4cGVjdGVkIGZ1bmN0aW9uIG5hbWUgc3RyaW5nLCBnb3QgJHt0eXBlb2Ygb31gKTtjb25zdCBpPWwobyksYT1jKGkpO24odCl8fGUoYE1vZCAke3J9IGZhaWxlZCB0byBwYXRjaCBmdW5jdGlvbiAnJHtvfSc6IEV4cGVjdGVkIHBhdGNoZXMgb2JqZWN0LCBnb3QgJHt0eXBlb2YgdH1gKTtmb3IoY29uc3RbbixpXW9mIE9iamVjdC5lbnRyaWVzKHQpKVwic3RyaW5nXCI9PXR5cGVvZiBpP2EucGF0Y2hlcy5zZXQobixpKTpudWxsPT09aT9hLnBhdGNoZXMuZGVsZXRlKG4pOmUoYE1vZCAke3J9IGZhaWxlZCB0byBwYXRjaCBmdW5jdGlvbiAnJHtvfSc6IEludmFsaWQgZm9ybWF0IG9mIHBhdGNoICcke259J2ApO2QoKX0pKSxyZW1vdmVQYXRjaGVzOnMoXCJyZW1vdmVQYXRjaGVzXCIsKG89PntcInN0cmluZ1wiPT10eXBlb2YgbyYmb3x8ZShgTW9kICR7cn0gZmFpbGVkIHRvIHBhdGNoIGEgZnVuY3Rpb246IEV4cGVjdGVkIGZ1bmN0aW9uIG5hbWUgc3RyaW5nLCBnb3QgJHt0eXBlb2Ygb31gKTtjb25zdCB0PWwobyk7Yyh0KS5wYXRjaGVzLmNsZWFyKCksZCgpfSkpLGNhbGxPcmlnaW5hbDpzKFwiY2FsbE9yaWdpbmFsXCIsKChvLHQsbik9PntcInN0cmluZ1wiPT10eXBlb2YgbyYmb3x8ZShgTW9kICR7cn0gZmFpbGVkIHRvIGNhbGwgYSBmdW5jdGlvbjogRXhwZWN0ZWQgZnVuY3Rpb24gbmFtZSBzdHJpbmcsIGdvdCAke3R5cGVvZiBvfWApO2NvbnN0IGk9bChvKTtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KXx8ZShgTW9kICR7cn0gZmFpbGVkIHRvIGNhbGwgYSBmdW5jdGlvbjogRXhwZWN0ZWQgYXJncyBhcnJheSwgZ290ICR7dHlwZW9mIHR9YCksaS5vcmlnaW5hbC5hcHBseShudWxsIT1uP246Z2xvYmFsVGhpcyx0KX0pKSxnZXRPcmlnaW5hbEhhc2g6cyhcImdldE9yaWdpbmFsSGFzaFwiLChvPT57XCJzdHJpbmdcIj09dHlwZW9mIG8mJm98fGUoYE1vZCAke3J9IGZhaWxlZCB0byBnZXQgaGFzaDogRXhwZWN0ZWQgZnVuY3Rpb24gbmFtZSBzdHJpbmcsIGdvdCAke3R5cGVvZiBvfWApO3JldHVybiBsKG8pLm9yaWdpbmFsSGFzaH0pKX0sZz17bmFtZTpvLm5hbWUsZnVsbE5hbWU6by5mdWxsTmFtZSx2ZXJzaW9uOm8udmVyc2lvbixyZXBvc2l0b3J5Om8ucmVwb3NpdG9yeSxhbGxvd1JlcGxhY2U6aSxhcGk6cCxsb2FkZWQ6ITAscGF0Y2hpbmc6bmV3IE1hcH07cmV0dXJuIGYuc2V0KG8ubmFtZSxnKSxPYmplY3QuZnJlZXplKHApfWZ1bmN0aW9uIGgoKXtjb25zdCBvPVtdO2Zvcihjb25zdCBlIG9mIGYudmFsdWVzKCkpby5wdXNoKHtuYW1lOmUubmFtZSxmdWxsTmFtZTplLmZ1bGxOYW1lLHZlcnNpb246ZS52ZXJzaW9uLHJlcG9zaXRvcnk6ZS5yZXBvc2l0b3J5fSk7cmV0dXJuIG99bGV0IG07Y29uc3QgeT12b2lkIDA9PT13aW5kb3cuYmNNb2RTZGs/d2luZG93LmJjTW9kU2RrPWZ1bmN0aW9uKCl7Y29uc3QgZT17dmVyc2lvbjpvLGFwaVZlcnNpb246MSxyZWdpc3Rlck1vZDpnLGdldE1vZHNJbmZvOmgsZ2V0UGF0Y2hpbmdJbmZvOnAsZXJyb3JSZXBvcnRlckhvb2tzOk9iamVjdC5zZWFsKHthcGlFbmRwb2ludEVudGVyOm51bGwsaG9va0VudGVyOm51bGwsaG9va0NoYWluRXhpdDpudWxsfSl9O3JldHVybiBtPWUsT2JqZWN0LmZyZWV6ZShlKX0oKToobih3aW5kb3cuYmNNb2RTZGspfHxlKFwiRmFpbGVkIHRvIGluaXQgTW9kIFNESzogTmFtZSBhbHJlYWR5IGluIHVzZVwiKSwxIT09d2luZG93LmJjTW9kU2RrLmFwaVZlcnNpb24mJmUoYEZhaWxlZCB0byBpbml0IE1vZCBTREs6IERpZmZlcmVudCB2ZXJzaW9uIGFscmVhZHkgbG9hZGVkICgnMS4yLjAnIHZzICcke3dpbmRvdy5iY01vZFNkay52ZXJzaW9ufScpYCksd2luZG93LmJjTW9kU2RrLnZlcnNpb24hPT1vJiZhbGVydChgTW9kIFNESyB3YXJuaW5nOiBMb2FkaW5nIGRpZmZlcmVudCBidXQgY29tcGF0aWJsZSB2ZXJzaW9ucyAoJzEuMi4wJyB2cyAnJHt3aW5kb3cuYmNNb2RTZGsudmVyc2lvbn0nKVxcbk9uZSBvZiBtb2RzIHlvdSBhcmUgdXNpbmcgaXMgdXNpbmcgYW4gb2xkIHZlcnNpb24gb2YgU0RLLiBJdCB3aWxsIHdvcmsgZm9yIG5vdyBidXQgcGxlYXNlIGluZm9ybSBhdXRob3IgdG8gdXBkYXRlYCksd2luZG93LmJjTW9kU2RrKTtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgZXhwb3J0cyYmKE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuZGVmYXVsdD15KSx5fSgpO1xuIiwiaW1wb3J0IHsgTm90aWZ5UGxheWVyLCBTZW5kQWN0aW9uIH0gZnJvbSBcIi4uL3V0aWwvbWVzc2FnaW5nXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gQmVkKCk6IHZvaWRcclxue1xyXG4gICAgQ29tbWFuZENvbWJpbmUoW3tcclxuICAgICAgICBUYWc6IFwiYmVkXCIsXHJcbiAgICAgICAgRGVzY3JpcHRpb246IFwiQ3Jhd2wgaW50byBiZWQgd2l0aG91dCBuZWVkaW5nIGhhbmRzXCIsXHJcbiAgICAgICAgQWN0aW9uOiAoKSA9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKEludmVudG9yeUdldChQbGF5ZXIsIFwiSXRlbURldmljZXNcIikgIT09IG51bGwpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIE5vdGlmeVBsYXllcihcIlVuYWJsZSB0byBjcmF3bCBpbnRvIGJlZFwiLCAyMDAwMCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgaGFpckNvbG9yID0gSW52ZW50b3J5R2V0KFBsYXllciwgXCJIYWlyRnJvbnRcIik/LkNvbG9yIGFzIEl0ZW1Db2xvcjtcclxuICAgICAgICAgICAgSW52ZW50b3J5V2VhcihQbGF5ZXIsIFwiUGV0QmVkXCIsIFwiSXRlbURldmljZXNcIiwgW2hhaXJDb2xvclswXSwgXCJEZWZhdWx0XCIsIGhhaXJDb2xvcltoYWlyQ29sb3IubGVuZ3RoIC0gMV1dKTtcclxuICAgICAgICAgICAgU2VuZEFjdGlvbihgJHtQbGF5ZXIuTmlja25hbWUgfHwgUGxheWVyLk5hbWV9IGNyYXdscyBpbnRvIHRoZWlyIGJlZC5gKTtcclxuICAgICAgICB9XHJcbiAgICB9LCB7XHJcbiAgICAgICAgVGFnOiBcImJsYW5rZXRcIixcclxuICAgICAgICBEZXNjcmlwdGlvbjogXCJQdWxsIHRoZSBibGFua2V0IG92ZXIgeW91cnNlbGZcIixcclxuICAgICAgICBBY3Rpb246ICgpID0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvLyBibGFua3lcclxuICAgICAgICAgICAgY29uc3QgYmVkID0gSW52ZW50b3J5R2V0KFBsYXllciwgXCJJdGVtRGV2aWNlc1wiKTtcclxuICAgICAgICAgICAgaWYgKGJlZD8uQXNzZXQuTmFtZSAhPT0gXCJQZXRCZWRcIilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgTm90aWZ5UGxheWVyKFwiVW5hYmxlIHRvIHB1bGwgdGhlIGJsYW5rZXQgb3ZlciB5b3Vyc2VsZi5cIiwgMjAwMDApO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoIShiZWQuUHJvcGVydHk/LlR5cGVSZWNvcmQ/LnR5cGVkID09PSAwIHx8IGJlZC5Qcm9wZXJ0eT8uVHlwZVJlY29yZD8udHlwZWQgPT09IDEpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBOb3RpZnlQbGF5ZXIoXCJVbmFibGUgdG8gcHVsbCB0aGUgYmxhbmtldCBvdmVyIHlvdXJzZWxmLlwiLCAyMDAwMCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYmVkLlByb3BlcnR5LlR5cGVSZWNvcmQudHlwZWQgPSBOdW1iZXIoIWJlZC5Qcm9wZXJ0eS5UeXBlUmVjb3JkLnR5cGVkKTtcclxuICAgICAgICAgICAgQ2hhdFJvb21DaGFyYWN0ZXJVcGRhdGUoUGxheWVyKTtcclxuICAgICAgICAgICAgaWYgKGJlZC5Qcm9wZXJ0eS5UeXBlUmVjb3JkLnR5cGVkID09PSAxKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBTZW5kQWN0aW9uKGAke1BsYXllci5OaWNrbmFtZSB8fCBQbGF5ZXIuTmFtZX0gcHVsbHMgdGhlaXIgYmxhbmtldCBvdmVyIHRoZWlyc2VsZmApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgU2VuZEFjdGlvbihgJHtQbGF5ZXIuTmlja25hbWUgfHwgUGxheWVyLk5hbWV9IHJlbW92ZXMgdGhlaXIgYmxhbmtldCBvdmVyIHRoZWlyc2VsZmApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfV0pO1xyXG59XHJcbiIsImltcG9ydCB7IEJlZCB9IGZyb20gXCIuL2JlZFwiO1xyXG4vLyBpbXBvcnQgeyBMb2dDaGF0IH0gZnJvbSBcIi4vbG9nXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gQnVpbGRBbGxDb21tYW5kcygpOiB2b2lkXHJcbntcclxuICAgIEJlZCgpO1xyXG4gICAgLy8gTG9nQ2hhdCgpO1xyXG59XHJcbiIsIi8vIElmIHlvdSB3YW50IHRvIGxvY2FsaXplIHRoaXMgYWRkb24gdG8geW91ciBsYW5ndWFnZSBmb3IgeW91cnNlbGYgYW5kIG90aGVycywgaGVyZSBpcyBob3dcclxuLy8gMS4gQ3JlYXRlIGEgbmV3IGZpbGUgaW4gdGhlIGxvY2FsaXphdGlvbiBkaXJlY3RvcnkgbmFtZWQgW2xhbmd1YWdlXS5qc29uXHJcbi8vIDIuIENvcHkgYW5kIHBhc3RlIHRoZSBjb250ZW50cyBvZiB0ZW1wbGF0ZS5qc29uIGludG8geW91ciBuZXcgW2xhbmd1YWdlXS5qc29uIGZpbGUuXHJcbi8vIDMuIFJlcGxhY2UgdGhlIHJpZ2h0KGVtcHR5KSBzaWRlIG9mIHRoZSB0ZXh0IHdpdGggdGhlIHRyYW5zbGF0aW9uIGZyb20gdGhlIEVuZ2xpc2ggb24gdGhlIGxlZnQuXHJcbi8vIDNiLiBEbyBub3QgdHJhbnNsYXRlIHdvcmRzIGxpa2UgU291cmNlQ2hhcmFjdGVyIGFuZCBTZXR0aW5nc0FycmF5LCBsZWF2ZSB0aG9zZSBhcyB0aGV5IHdpbGwgYmUgZmlsbGVkIGluIGJ5IHRoZSBjb2RlXHJcbi8vIDQuIEltcG9ydCB0aGUganNvbiBmb2xsb3dpbmcgdGhlIGV4YW1wbGUgYmVsb3csIG1ha2Ugc3VyZSB0aGF0IHRoZSBuYW1lIHlvdSBpbXBvcnQgdGhlIGZpbGUgaXNcclxuLy8gICAgdGhlIHNhbWUgdGhhdCBkZWZpbmVkIGJ5IFRyYW5zbGF0aW9uTGFuZ3VhZ2UuIEV4OiBFbmdsaXNoIC0+IEVOXHJcbi8vICAgIElmIHlvdSBhcmUgdW5zdXJlIG9mIGhvdyB0byBkbyB0aGlzIGJ1dCBzdGlsbCB3YW50IHRvIGNvbnRyaWJ1dGUsIHJlYWNoIG91dCBhbmQgSSB3aWxsIGF0dGVtcHQgdG8gaGVscC5cclxuXHJcbmltcG9ydCB0ZW1wbGF0ZSBmcm9tIFwiLi90ZW1wbGF0ZS5qc29uXCI7XHJcbmltcG9ydCBSVSBmcm9tIFwiLi9SVS5qc29uXCI7XHJcblxyXG4vLyBFdmVyeXRoaW5nIGlzIGRlZmF1bHRlZCB0byBFbmdsaXNoXHJcbmNvbnN0IHRyYW5zbGF0aW9ucyA9XHJcbntcclxuICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZSxcclxuICAgIFJVOiBSVVxyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIExvY2FsaXplZFRleHQodGV4dDogc3RyaW5nKTogc3RyaW5nXHJcbntcclxuICAgIGNvbnN0IHRyYW5zbGF0ZWRUZXh0ID0gdHJhbnNsYXRpb25zPy5bVHJhbnNsYXRpb25MYW5ndWFnZV0/Llt0ZXh0XTtcclxuICAgIGlmICghIXRyYW5zbGF0ZWRUZXh0ICYmIHRyYW5zbGF0ZWRUZXh0ICE9PSBcIlwiKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiB0cmFuc2xhdGVkVGV4dDtcclxuICAgIH1cclxuICAgIHJldHVybiB0ZXh0O1xyXG59XHJcbiIsImltcG9ydCB7IFJlbW92ZUhvb2tzIH0gZnJvbSBcIi4uL3V0aWwvc2RrXCI7XHJcbmltcG9ydCB7IENyZWF0ZUFjdGl2aXRpZXMsIFJlbW92ZUFjdGl2aXRpZXMgfSBmcm9tIFwiLi4vdXRpbC9hY3Rpdml0aWVzXCI7XHJcbmltcG9ydCB7IEFkZERhdGFTeW5jTGlzdGVuZXJzLCBIb29rZWRNZXNzYWdlLCBSZW1vdmVEYXRhU3luY0xpc3RlbmVycyB9IGZyb20gXCIuLi91dGlsL21lc3NhZ2luZ1wiO1xyXG5cclxuZXhwb3J0IGVudW0gTW9kdWxlVGl0bGVcclxue1xyXG4gICAgVW5rbm93biA9IFwiVW5rbm93blwiLFxyXG4gICAgQXV0aG9yaXR5ID0gXCJBdXRob3JpdHlcIixcclxuICAgIEFjdGl2aXRpZXMgPSBcIkFjdGl2aXRpZXNcIixcclxuICAgIENsaWNrZXIgPSBcIkNsaWNrZXJcIixcclxuICAgIFNldHRpbmdzID0gXCJTZXR0aW5nc1wiLFxyXG4gICAgVmlydHVhbFBldCA9IFwiVmlydHVhbFBldFwiLFxyXG4gICAgVmlydHVhbFBldEhVRCA9IFwiVmlydHVhbFBldEh1ZFwiLFxyXG4gICAgVmlydHVhbFBldENvbmRpdGlvbnMgPSBcIlZpcnR1YWxQZXRDb25kaXRpb25zXCIsXHJcbiAgICBEYXRhU3luYyA9IFwiRGF0YVN5bmNcIixcclxuICAgIFByb2ZpbGUgPSBcIlByb2ZpbGVcIixcclxuICAgIFNldHRpbmdzT3RoZXIgPSBcIlNldHRpbmdzT3RoZXJcIlxyXG59XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgTW9kdWxlXHJcbntcclxuICAgIGdldCBUaXRsZSgpOiBNb2R1bGVUaXRsZVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBNb2R1bGVUaXRsZS5Vbmtub3duO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBBY3Rpdml0aWVzKCk6IEN1c3RvbUFjdGl2aXR5W11cclxuICAgIHtcclxuICAgICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IFNldHRpbmdzKCk6IFNldHRpbmdbXVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgU3luY0xpc3RlbmVycygpOiBIb29rZWRNZXNzYWdlW11cclxuICAgIHtcclxuICAgICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcblxyXG4gICAgTG9hZCgpOiB2b2lkXHJcbiAgICB7XHJcbiAgICAgICAgQ3JlYXRlQWN0aXZpdGllcyh0aGlzLkFjdGl2aXRpZXMpO1xyXG4gICAgICAgIEFkZERhdGFTeW5jTGlzdGVuZXJzKHRoaXMuU3luY0xpc3RlbmVycyk7XHJcbiAgICB9XHJcblxyXG4gICAgVW5sb2FkKCk6IHZvaWRcclxuICAgIHtcclxuICAgICAgICBSZW1vdmVIb29rcyh0aGlzLlRpdGxlKTtcclxuICAgICAgICBSZW1vdmVBY3Rpdml0aWVzKHRoaXMuQWN0aXZpdGllcyk7XHJcbiAgICAgICAgUmVtb3ZlRGF0YVN5bmNMaXN0ZW5lcnModGhpcy5UaXRsZSk7XHJcbiAgICB9XHJcblxyXG4gICAgUmVsb2FkKCk6IHZvaWRcclxuICAgIHtcclxuICAgICAgICB0aGlzLlVubG9hZCgpO1xyXG4gICAgICAgIHRoaXMuTG9hZCgpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IGFjdGl2aXR5SW1hZ2VzLCBhY3Rpdml0eVByZXJlcXVpc2l0ZXMsIGFjdGl2aXR5VHJpZ2dlcnMgfSBmcm9tIFwiLi4vdXRpbC9hY3Rpdml0aWVzXCI7XHJcbmltcG9ydCB7IEhvb2tGdW5jdGlvbiB9IGZyb20gXCIuLi91dGlsL3Nka1wiO1xyXG5pbXBvcnQgeyBNb2R1bGUsIE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4vX21vZHVsZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEFjdGl2aXRpZXNNb2R1bGUgZXh0ZW5kcyBNb2R1bGVcclxue1xyXG4gICAgZ2V0IFRpdGxlKCk6IE1vZHVsZVRpdGxlXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIE1vZHVsZVRpdGxlLkFjdGl2aXRpZXM7XHJcbiAgICB9XHJcblxyXG4gICAgTG9hZCgpOiB2b2lkXHJcbiAgICB7XHJcbiAgICAgICAgLy8gUHJlcmVxdWlzaXRlIGhhbmRsaW5nXHJcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiQWN0aXZpdHlDaGVja1ByZXJlcXVpc2l0ZVwiLCAxLCAoYXJncywgbmV4dCkgPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IFtwcmVyZXEsIGFjdGluZywgYWN0ZWQsIGdyb3VwXSA9IGFyZ3M7XHJcbiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhhY3Rpdml0eVByZXJlcXVpc2l0ZXMpLmluY2x1ZGVzKHByZXJlcSkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhY3Rpdml0eVByZXJlcXVpc2l0ZXNbcHJlcmVxXShhY3RpbmcsIGFjdGVkLCBncm91cCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEFjdGl2aXR5IG9udHJpZ2dlcnNcclxuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJTZXJ2ZXJTZW5kXCIsIDEsIChhcmdzLCBuZXh0KSA9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGFyZ3NbMV0gYXMgU2VydmVyQ2hhdFJvb21NZXNzYWdlO1xyXG4gICAgICAgICAgICBpZiAoYXJnc1swXSAhPT0gXCJDaGF0Um9vbUNoYXRcIiB8fCBkYXRhPy5UeXBlICE9PSBcIkFjdGl2aXR5XCIpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUgLSBUUyBub3QgZmluZGluZyB0eXBlIGF1dG9tYXRpY2FsbHksIGl0IGV4aXN0c1xyXG4gICAgICAgICAgICBjb25zdCBhY3Rpdml0eU5hbWUgPSBkYXRhPy5EaWN0aW9uYXJ5Py5maW5kKCh4KSA9PiB4LkFjdGl2aXR5TmFtZSk/LkFjdGl2aXR5TmFtZSBhcyBzdHJpbmcgfCB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIGlmIChhY3Rpdml0eU5hbWU/LnN0YXJ0c1dpdGgoXCJNUEFfXCIpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBkYXRhPy5EaWN0aW9uYXJ5Py5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBUYWc6IFwiTUlTU0lORyBBQ1RJVklUWSBERVNDUklQVElPTiBGT1IgS0VZV09SRCBcIiArIGRhdGEuQ29udGVudCxcclxuICAgICAgICAgICAgICAgICAgICBUZXh0OiBBY3Rpdml0eURpY3Rpb25hcnlUZXh0KGRhdGEuQ29udGVudClcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhhY3Rpdml0eVRyaWdnZXJzKS5pbmNsdWRlcyhhY3Rpdml0eU5hbWUpKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldE51bWJlciA9IChkYXRhPy5EaWN0aW9uYXJ5Py5maW5kKCh4KSA9PiAoeCBhcyBUYXJnZXRDaGFyYWN0ZXJEaWN0aW9uYXJ5RW50cnkpLlRhcmdldENoYXJhY3RlcikgYXMgVGFyZ2V0Q2hhcmFjdGVyRGljdGlvbmFyeUVudHJ5KT8uVGFyZ2V0Q2hhcmFjdGVyID8/IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IENoYXRSb29tQ2hhcmFjdGVyPy5maW5kKChjKSA9PiBjLk1lbWJlck51bWJlciA9PT0gdGFyZ2V0TnVtYmVyKTtcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpdml0eVRyaWdnZXJzW2FjdGl2aXR5TmFtZV0odGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIERyYXcgY3VzdG9tIGltYWdlcyBmb3IgYWN0aXZpdGllc1xyXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIkRyYXdJbWFnZVJlc2l6ZVwiLCAxLCAoYXJncywgbmV4dCkgPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IGltYWdlUGF0aCA9IGFyZ3NbMF0udG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgY29uc3QgYWN0aXZpdHlOYW1lID0gaW1hZ2VQYXRoLnN1YnN0cmluZyhpbWFnZVBhdGguaW5kZXhPZihcIk1QQV9cIiksIGltYWdlUGF0aC5pbmRleE9mKFwiLnBuZ1wiKSk7XHJcbiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhhY3Rpdml0eUltYWdlcykuaW5jbHVkZXMoYWN0aXZpdHlOYW1lKSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgYXJnc1swXSA9IGFjdGl2aXR5SW1hZ2VzW2FjdGl2aXR5TmFtZV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgVW5sb2FkKCk6IHZvaWRcclxuICAgIHtcclxuICAgICAgICBzdXBlci5VbmxvYWQoKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUyB9IGZyb20gXCIuLi91dGlsL2F1dGhvcml0eVwiO1xyXG5pbXBvcnQgeyBNb2R1bGUsIE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4vX21vZHVsZVwiO1xyXG5cclxuY29uc3QgUGxheWVyUDogKEM/OiBDaGFyYWN0ZXIpID0+IE1QQVJlY29yZCA9IChDOiBDaGFyYWN0ZXIgPSBQbGF5ZXIpID0+XHJcbntcclxuICAgIHJldHVybiBDLk1QQT8uW01vZHVsZVRpdGxlLkF1dGhvcml0eV0gPz8ge307XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gSXNIYXJkY29yZU9uKEM6IENoYXJhY3Rlcik6IGJvb2xlYW5cclxue1xyXG4gICAgcmV0dXJuIChDLk1QQT8uW01vZHVsZVRpdGxlLkF1dGhvcml0eV0uaGFyZGNvcmUgYXMgYm9vbGVhbiB8IHVuZGVmaW5lZCkgPz8gZmFsc2U7XHJcbn07XHJcblxyXG50eXBlIFNlbGZBY2Nlc3MgPSBgc2VsZiR7a2V5b2YgdHlwZW9mIE1vZHVsZVRpdGxlfWA7XHJcbnR5cGUgT3RoZXJzQWNjZXNzID0gYG90aGVycyR7a2V5b2YgdHlwZW9mIE1vZHVsZVRpdGxlfWA7XHJcblxyXG5leHBvcnQgY2xhc3MgQXV0aG9yaXR5TW9kdWxlIGV4dGVuZHMgTW9kdWxlXHJcbntcclxuICAgIGdldCBUaXRsZSgpOiBNb2R1bGVUaXRsZVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBNb2R1bGVUaXRsZS5BdXRob3JpdHk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IFNldHRpbmdzKCk6IFNldHRpbmdbXVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwib3duZXJzXCIsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcInRleHRcIixcclxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiT3duZXIgbWVtYmVyIG51bWJlcnM7IFNlcGVyYXRlZCBieSBhICxcIixcclxuICAgICAgICAgICAgICAgIG1heENoYXJzOiAxMDI0LFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IDQwMFxyXG4gICAgICAgICAgICB9IGFzIFRleHRTZXR0aW5nLCB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNlbGZBdXRob3JpdHlcIiBhcyBTZWxmQWNjZXNzLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxyXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBUYXJnZXRDaGFyYWN0ZXIgdG8gY2hhbmdlIFRhcmdldFByb25vdW5Qb3NzZXNzaXZlIEF1dGhvcml0eSBzZXR0aW5nc1wiXHJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcIm90aGVyc0F1dGhvcml0eVwiIGFzIE90aGVyc0FjY2VzcyxcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwib3B0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUyxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIkNsdWJvd25lclwiLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWxsb3cgb3RoZXJzIHRvIGNoYW5nZSBUYXJnZXRDaGFyYWN0ZXIncyBBdXRob3JpdHkgc2V0dGluZ3NcIixcclxuICAgICAgICAgICAgICAgIGxvb3A6IGZhbHNlXHJcbiAgICAgICAgICAgIH0gYXMgT3B0aW9uU2V0dGluZywge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJzZWxmUHJvZmlsZVwiIGFzIFNlbGZBY2Nlc3MsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXHJcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiBQbGF5ZXJQKEMpLm90aGVyc1Byb2ZpbGUgIT09IFwiU2VsZlwiLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBUYXJnZXRDaGFyYWN0ZXIgdG8gY2hhbmdlIFRhcmdldFByb25vdW5Qb3NzZXNzaXZlIFByb2ZpbGUgc2V0dGluZ3NcIlxyXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJvdGhlcnNQcm9maWxlXCIgYXMgT3RoZXJzQWNjZXNzLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJvcHRpb25cIixcclxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcclxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IEFVVEhPUklUWV9HUk9VUF9PUFRJT05TLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiQ2x1Ym93bmVyXCIsXHJcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBvdGhlcnMgdG8gY2hhbmdlIFRhcmdldENoYXJhY3RlcidzIFByb2ZpbGUgc2V0dGluZ3NcIixcclxuICAgICAgICAgICAgICAgIGxvb3A6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgb25TZXQoQylcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBQbGF5ZXJQKEMpLnNlbGZQcm9maWxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBhcyBPcHRpb25TZXR0aW5nLCB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNlbGZDbGlja2VyXCIgYXMgU2VsZkFjY2VzcyxcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcclxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWxsb3cgVGFyZ2V0Q2hhcmFjdGVyIHRvIGNoYW5nZSBUYXJnZXRQcm9ub3VuUG9zc2Vzc2l2ZSBDbGlja2VyIHNldHRpbmdzXCJcclxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwib3RoZXJzQ2xpY2tlclwiIGFzIE90aGVyc0FjY2VzcyxcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwib3B0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUyxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIkNsdWJvd25lclwiLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWxsb3cgb3RoZXJzIHRvIGNoYW5nZSBUYXJnZXRDaGFyYWN0ZXIncyBDbGlja2VyIHNldHRpbmdzXCIsXHJcbiAgICAgICAgICAgICAgICBsb29wOiBmYWxzZVxyXG4gICAgICAgICAgICB9IGFzIE9wdGlvblNldHRpbmcsIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwic2VsZlZpcnR1YWxQZXRcIiBhcyBTZWxmQWNjZXNzLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxyXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBUYXJnZXRDaGFyYWN0ZXIgdG8gY2hhbmdlIFRhcmdldFByb25vdW5Qb3NzZXNzaXZlIFZpcnR1YWwgUGV0IHNldHRpbmdzXCJcclxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwib3RoZXJzVmlydHVhbFBldFwiIGFzIE90aGVyc0FjY2VzcyxcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwib3B0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUyxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIkNsdWJvd25lclwiLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWxsb3cgb3RoZXJzIHRvIGNoYW5nZSBUYXJnZXRDaGFyYWN0ZXIncyBWaXJ0dWFsIFBldCBzZXR0aW5nc1wiLFxyXG4gICAgICAgICAgICAgICAgbG9vcDogZmFsc2VcclxuICAgICAgICAgICAgfSBhcyBPcHRpb25TZXR0aW5nLCB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNlbGZWaXJ0dWFsUGV0Q29uZGl0aW9uc1wiIGFzIFNlbGZBY2Nlc3MsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXHJcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkFsbG93IFRhcmdldENoYXJhY3RlciB0byBjaGFuZ2UgVGFyZ2V0UHJvbm91blBvc3Nlc3NpdmUgVmlydHVhbCBQZXQgQ29uZGl0aW9ucyBzZXR0aW5nc1wiXHJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcIm90aGVyc1ZpcnR1YWxQZXRDb25kaXRpb25zXCIgYXMgT3RoZXJzQWNjZXNzLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJvcHRpb25cIixcclxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcclxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IEFVVEhPUklUWV9HUk9VUF9PUFRJT05TLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiQ2x1Ym93bmVyXCIsXHJcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBvdGhlcnMgdG8gY2hhbmdlIFRhcmdldENoYXJhY3RlcidzIFZpcnR1YWwgUGV0IENvbmRpdGlvbnMgc2V0dGluZ3NcIixcclxuICAgICAgICAgICAgICAgIGxvb3A6IGZhbHNlXHJcbiAgICAgICAgICAgIH0gYXMgT3B0aW9uU2V0dGluZ1xyXG4gICAgICAgIF07XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgSG9va0Z1bmN0aW9uIH0gZnJvbSBcIi4uL3V0aWwvc2RrXCI7XHJcbmltcG9ydCB7IEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeSwgUmVtb3ZlT09DQ29udGVudEZyb21NZXNzYWdlIH0gZnJvbSBcIi4uL3V0aWwvbWVzc2FnaW5nXCI7XHJcbmltcG9ydCB7IEF1dGhvcml0eUdyb3VwLCBJc01lbWJlck51bWJlckluQXV0aEdyb3VwIH0gZnJvbSBcIi4uL3V0aWwvYXV0aG9yaXR5XCI7XHJcbmltcG9ydCB7IE1vZHVsZSwgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi9fbW9kdWxlXCI7XHJcbmltcG9ydCB7IElzSGFyZGNvcmVPbiB9IGZyb20gXCIuL3Byb2ZpbGVcIjtcclxuXHJcbi8vIENsaWNrZXIgc291bmRzIHRvIHBsYXlcclxuLy8gQW4gYXJyYXkgb2YgYXVkaW8gZmlsZXMsIDEgY2xpY2sgaW4gaW5kZXggMCwgbisxIGNsaWNrcyBpbiBpbmRleCBuXHJcbmNvbnN0IEFMTF9DTElDS1M6IEhUTUxBdWRpb0VsZW1lbnRbXSA9XHJcbltcclxuICAgIG5ldyBBdWRpbyhcImh0dHBzOi8vbWVkaWEuc291bmRnYXNtLm5ldC9zb3VuZHMvZGYzMzMxNmJlYzdiYzAzOTAyODYwZDIxZmI0Yjg4Mjc0NjZmMmJhZC5tNGFcIiksXHJcbiAgICBuZXcgQXVkaW8oXCJodHRwczovL21lZGlhLnNvdW5kZ2FzbS5uZXQvc291bmRzL2ZhNDliMTBkYWQzZTEyMDJkZTA5Njg1OWIzMzlkY2ZjNWVhYjkwYTUubTRhXCIpLFxyXG4gICAgbmV3IEF1ZGlvKFwiaHR0cHM6Ly9tZWRpYS5zb3VuZGdhc20ubmV0L3NvdW5kcy9iMjUxNzdhNmE5MmQ1YTc0ZDA0N2E5ZDc3YTgwN2YyZDFlZDI4YzcxLm00YVwiKVxyXG5dO1xyXG5cclxuLyoqXHJcbiAqIEdldCB0aGUgQ2xpY2tlciBzZXR0aW5ncyBvZiB0aGUgUGxheWVyXHJcbiAqL1xyXG5jb25zdCBQbGF5ZXJDOiAoQz86IENoYXJhY3RlcikgPT4gTVBBUmVjb3JkID0gKEM6IENoYXJhY3RlciA9IFBsYXllcikgPT5cclxue1xyXG4gICAgcmV0dXJuIEMuTVBBPy5bTW9kdWxlVGl0bGUuQ2xpY2tlcl0gPz8ge307XHJcbn07XHJcblxyXG4vKipcclxuICogR2V0IHRoZSB0b3RhbCBudW1iZXIgb2YgY2xpY2tzIGluIGEgc3RyaW5nXHJcbiAqL1xyXG5mdW5jdGlvbiBDbGlja0NvdW50KHN0cjogc3RyaW5nID0gXCJcIik6IG51bWJlclxyXG57XHJcbiAgICBsZXQgdG90YWxDbGlja3MgPSAwO1xyXG4gICAgKFBsYXllckMoKS50cmlnZ2VycyBhcyBzdHJpbmcpXHJcbiAgICAgICAgLnNwbGl0KFwiLFwiKVxyXG4gICAgICAgIC5tYXAoKHN0cjogc3RyaW5nKSA9PiBzdHIudHJpbSgpKVxyXG4gICAgICAgIC5maWx0ZXIoKHN0cikgPT4gc3RyICE9PSBcIlwiKVxyXG4gICAgICAgIC5mb3JFYWNoKCh0cmlnZ2VyKSA9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdG90YWxDbGlja3MgKz0gc3RyLnRvTG9jYWxlTG93ZXJDYXNlKCkubWF0Y2gobmV3IFJlZ0V4cCh0cmlnZ2VyLnRvTG9jYWxlTG93ZXJDYXNlKCksIFwiZ1wiKSk/Lmxlbmd0aCA/PyAwO1xyXG4gICAgICAgIH0pO1xyXG4gICAgcmV0dXJuIHRvdGFsQ2xpY2tzO1xyXG59XHJcblxyXG4vKipcclxuICogUGxheSBjbGlja3MgdG8gdGhlIHVzZXJcclxuICovXHJcbmZ1bmN0aW9uIFBsYXlDbGlja2VyU291bmQobnVtYmVyT2ZDbGlja3M6IG51bWJlciA9IDApOiB2b2lkXHJcbntcclxuICAgIGlmIChcclxuICAgICAgICBpc05hTihudW1iZXJPZkNsaWNrcylcclxuICAgICAgICB8fCBudW1iZXJPZkNsaWNrcyA8PSAwXHJcbiAgICAgICAgfHwgIVBsYXllckMoKS5lbmFibGVkXHJcbiAgICApXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIEFMTF9DTElDS1NbTWF0aC5taW4obnVtYmVyT2ZDbGlja3MgLSAxLCBBTExfQ0xJQ0tTLmxlbmd0aCAtIDEpXS5wbGF5KCk7XHJcbn1cclxuXHJcbmxldCBiY3hIb29rZWQgPSBmYWxzZTtcclxuZnVuY3Rpb24gSG9va0JDWENsaWNrZXIoKTogdm9pZFxyXG57XHJcbiAgICBpZiAod2luZG93LmJjeCAmJiAhYmN4SG9va2VkKVxyXG4gICAge1xyXG4gICAgICAgIHdpbmRvdy5iY3guZ2V0TW9kQXBpKFwiTVBBXCIpLm9uPy4oXCJiY3hMb2NhbE1lc3NhZ2VcIiwgKGRhdGE6IGFueSkgPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBkYXRhPy5tZXNzYWdlIGFzIHN0cmluZyB8IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgY29uc3QgcHJlZml4ID0gXCJbVm9pY2VdIFwiO1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICBQbGF5ZXJDKCkuZW5hYmxlZFxyXG4gICAgICAgICAgICAgICAgJiYgUGxheWVyQygpLmJjeFZvaWNlXHJcbiAgICAgICAgICAgICAgICAmJiBtZXNzYWdlPy5zdGFydHNXaXRoKHByZWZpeClcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBQbGF5Q2xpY2tlclNvdW5kKENsaWNrQ291bnQobWVzc2FnZS5zdWJzdHJpbmcocHJlZml4Lmxlbmd0aCkpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGJjeEhvb2tlZCA9IHRydWU7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDbGlja2VyTW9kdWxlIGV4dGVuZHMgTW9kdWxlXHJcbntcclxuICAgIC8vIEJDWCBob29rIG9ubHkgbG9hZHMgb25jZSwgdW5rbm93biBpZiBjYW4gdW5ob29rIGZvciBVbmxvYWQoKVxyXG4gICAgaGFzQmVlbkxvYWRlZCA9IGZhbHNlO1xyXG5cclxuICAgIGdldCBUaXRsZSgpOiBNb2R1bGVUaXRsZVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBNb2R1bGVUaXRsZS5DbGlja2VyO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBBY3Rpdml0aWVzKCk6IEN1c3RvbUFjdGl2aXR5W11cclxuICAgIHtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBOYW1lOiBcIkNsaWNrZXIxXCIsXHJcbiAgICAgICAgICAgICAgICBNYXhQcm9ncmVzczogNTAsXHJcbiAgICAgICAgICAgICAgICBQcmVyZXF1aXNpdGU6IFtcIlVzZUhhbmRzXCIsIFwiSG9sZGluZ0NsaWNrZXJcIl0sXHJcbiAgICAgICAgICAgICAgICBUYXJnZXRzOiBbe1xyXG4gICAgICAgICAgICAgICAgICAgIGdyb3VwOiBcIkl0ZW1IYW5kc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkNsaWNrIE9uY2VcIixcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25TZWxmOiBcIlNvdXJjZUNoYXJhY3RlciBwcmVzc2VzIHRoZSBidXR0b24gb24gUHJvbm91blBvc3Nlc3NpdmUgY2xpY2tlci5cIlxyXG4gICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICBJbWFnZTogXCJJY29ucy9BdWRpb09uLnBuZ1wiXHJcbiAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgIE5hbWU6IFwiQ2xpY2tlcjJcIixcclxuICAgICAgICAgICAgICAgIE1heFByb2dyZXNzOiA1MCxcclxuICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogW1wiVXNlSGFuZHNcIiwgXCJIb2xkaW5nQ2xpY2tlclwiXSxcclxuICAgICAgICAgICAgICAgIFRhcmdldHM6IFt7XHJcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IFwiSXRlbUhhbmRzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiQ2xpY2sgVHdpY2VcIixcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25TZWxmOiBcIlNvdXJjZUNoYXJhY3RlciBwcmVzc2VzIHRoZSBidXR0b24gb24gUHJvbm91blBvc3Nlc3NpdmUgY2xpY2tlciB0d2ljZS5cIlxyXG4gICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICBJbWFnZTogXCJJY29ucy9BdWRpb09uLnBuZ1wiXHJcbiAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgIE5hbWU6IFwiQ2xpY2tlcjNcIixcclxuICAgICAgICAgICAgICAgIE1heFByb2dyZXNzOiA1MCxcclxuICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogW1wiVXNlSGFuZHNcIiwgXCJIb2xkaW5nQ2xpY2tlclwiXSxcclxuICAgICAgICAgICAgICAgIFRhcmdldHM6IFt7XHJcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IFwiSXRlbUhhbmRzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiQ2xpY2sgVGhyaWNlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uU2VsZjogXCJTb3VyY2VDaGFyYWN0ZXIgcHJlc3NlcyB0aGUgYnV0dG9uIG9uIFByb25vdW5Qb3NzZXNzaXZlIGNsaWNrZXIgdGhyZWUgdGltZXMuXCJcclxuICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgSW1hZ2U6IFwiSWNvbnMvQXVkaW9Pbi5wbmdcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgU2V0dGluZ3MoKTogU2V0dGluZ1tdXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJlbmFibGVkXCIsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXHJcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhSXNIYXJkY29yZU9uKEMpLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiRW5hYmxlIGF1ZGl0b3J5IGNsaWNrZXJcIlxyXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJ0cmlnZ2Vyc1wiLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXHJcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllckMoQykuZW5hYmxlZCxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIn5jbGlja35cIixcclxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIlBocmFzZXMgdGhhdCB0cmlnZ2VyIHRoZSBjbGljazsgU2VwYXJhdGUgcGhyYXNlcyB3aXRoIGEgY29tbWFcIixcclxuICAgICAgICAgICAgICAgIHdpZHRoOiAzODQsXHJcbiAgICAgICAgICAgICAgICBtYXhDaGFyczogbnVsbFxyXG4gICAgICAgICAgICB9IGFzIFRleHRTZXR0aW5nLCB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNlbGZBdXRoZWRcIixcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcclxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyQyhDKS5lbmFibGVkICYmIFBsYXllckMoQykuYXV0aGVkR3JvdXAgIT09IFwiU2VsZlwiLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyB5b3VyIG93biBjaGF0LCBlbW90ZXMsICYgYWN0aW9ucyB0byB0cmlnZ2VyIHRoZSBjbGlja2VyXCJcclxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwiYXV0aGVkR3JvdXBcIixcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwib3B0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllckMoQykuZW5hYmxlZCxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIkZyaWVuZHNcIiBhcyBBdXRob3JpdHlHcm91cCxcclxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IFtcIlB1YmxpY1wiLCBcIkZyaWVuZHNcIiwgXCJXaGl0ZWxpc3RcIiwgXCJMb3ZlcnNcIiwgXCJPd25lcnNcIiwgXCJDbHVib3duZXJcIiwgXCJTZWxmXCJdLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiV2hvIHdpbGwgYmUgYWJsZSB0byB0cmlnZ2VyIHRoZSBjbGlja2VyXCIsXHJcbiAgICAgICAgICAgICAgICBsb29wOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIG9uU2V0KEMpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFBsYXllckMoQykuYXV0aGVkR3JvdXAgPT09IFwiU2VsZlwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgUGxheWVyQyhDKS5zZWxmQXV0aGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gYXMgT3B0aW9uU2V0dGluZywge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJiY3hWb2ljZVwiLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxyXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJDKEMpLmVuYWJsZWQgJiYgd2luZG93LmJjeCAmJiAhSXNIYXJkY29yZU9uKEMpLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBCQ1ggTGlzdGVuIHRvIG15IHZvaWNlIHJ1bGUgdG8gdHJpZ2dlciB0aGUgY2xpY2tlcjsgUmVxdWlyZXMgQkNYXCJcclxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmdcclxuICAgICAgICBdO1xyXG4gICAgfVxyXG5cclxuICAgIExvYWQoKTogdm9pZFxyXG4gICAge1xyXG4gICAgICAgIHN1cGVyLkxvYWQoKTtcclxuXHJcbiAgICAgICAgLy8gQ2hhdCwgd2hpc3BlciwgZW1vdGUsIGFuZCBhY3Rpb24gdHJpZ2dlcnNcclxuICAgICAgICBIb29rRnVuY3Rpb24oTW9kdWxlVGl0bGUuQ2xpY2tlciwgXCJDaGF0Um9vbU1lc3NhZ2VcIiwgMCwgKGFyZ3MsIG5leHQpID0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXJnc1swXTtcclxuICAgICAgICAgICAgLy8gSWYgY2xpY2tlciBpcyBub3QgZW5hYmxlZCBvciBpbnZhbGlkIGRhdGEsIHNraXBcclxuICAgICAgICAgICAgLy8gTWVzc2FnZSBzZW5kZXIgbm90IGF1dGhlZCwgc2tpcFxyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAhUGxheWVyQygpLmVuYWJsZWRcclxuICAgICAgICAgICAgICAgIHx8ICFhcmdzWzBdPy5UeXBlXHJcbiAgICAgICAgICAgICAgICB8fCAhYXJnc1swXT8uQ29udGVudFxyXG4gICAgICAgICAgICAgICAgfHwgIWFyZ3NbMF0/LlNlbmRlclxyXG4gICAgICAgICAgICAgICAgfHwgIUlzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAoZGF0YS5TZW5kZXIhLCBQbGF5ZXJDKCkuYXV0aGVkR3JvdXAgYXMgQXV0aG9yaXR5R3JvdXAsIFBsYXllckMoKS5zZWxmQXV0aGVkIGFzIGJvb2xlYW4pKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IGNsaWNrczogbnVtYmVyID0gMDtcclxuICAgICAgICAgICAgLy8gQ291bnQgdGhlIGNsaWNrcyBpbiBhbiBlbW90ZSBvciBjaGF0XHJcbiAgICAgICAgICAgIGlmIChkYXRhLlR5cGUgPT0gXCJDaGF0XCIgfHwgZGF0YS5UeXBlID09IFwiRW1vdGVcIiB8fCBkYXRhLlR5cGUgPT0gXCJXaGlzcGVyXCIpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNsaWNrcyA9IENsaWNrQ291bnQoUmVtb3ZlT09DQ29udGVudEZyb21NZXNzYWdlKGRhdGEuQ29udGVudCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIENvdW50IHRoZSBjbGlja3MgaW4gYW4gYWN0aW9uLCAoc3VwcG9ydCBjdXN0b20gYWN0aW9ucylcclxuICAgICAgICAgICAgaWYgKGRhdGEuVHlwZSA9PSBcIkFjdGlvblwiKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAvLyBCZWVwc1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuQ29udGVudCA9PSBcIkJlZXBcIilcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGlja3MgPSBDbGlja0NvdW50KChkYXRhPy5EaWN0aW9uYXJ5Py5maWx0ZXIoKHgpID0+ICh4IGFzIFRleHREaWN0aW9uYXJ5RW50cnkpLlRhZyA9PSBcIkJlZXBcIilbMF0gYXMgVGV4dERpY3Rpb25hcnlFbnRyeSk/LlRleHQgPz8gXCJcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBNQkNIIGFjdGlvbnNcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRhdGEuRGljdGlvbmFyeT8ucmVkdWNlKChhY2MsIGN1cnIpID0+IGFjYyB8fCAoKGN1cnIgYXMgYW55KS5UYWcgPT09IFwiTUlTU0lORyBURVhUIElOIFxcXCJJbnRlcmZhY2UuY3N2XFxcIjogXCIgJiYgKGN1cnIgYXMgYW55KS5UZXh0ID09PSBcIlxcdTIwMGNcIiksIGZhbHNlKSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGlja3MgPSBDbGlja0NvdW50KGRhdGEuQ29udGVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBCQ1ggYWN0aW9uc1xyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsaWNrcyA9IENsaWNrQ291bnQoKGRhdGE/LkRpY3Rpb25hcnk/LmZpbHRlcigoeCkgPT4gKHggYXMgVGV4dERpY3Rpb25hcnlFbnRyeSkuVGFnID09IGBNSVNTSU5HIFRFWFQgSU4gXCJJbnRlcmZhY2UuY3N2XCI6ICR7ZGF0YT8uQ29udGVudH1gKVswXSBhcyBUZXh0RGljdGlvbmFyeUVudHJ5KT8uVGV4dCA/PyBcIlwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gUGxheSB0aGUgY2xpY2tzIGlmIG5lZWRlZFxyXG4gICAgICAgICAgICBQbGF5Q2xpY2tlclNvdW5kKGNsaWNrcyk7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBIYW5kIGNsaWNrZXIgYWN0aXZpdHkgdHJpZ2dlclxyXG4gICAgICAgIEhvb2tGdW5jdGlvbihNb2R1bGVUaXRsZS5DbGlja2VyLCBcIkNoYXRSb29tTWVzc2FnZVwiLCAwLCAoYXJncywgbmV4dCkgPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5leHQoYXJncyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhcmdzWzBdO1xyXG4gICAgICAgICAgICAvLyBGb3Igc29tZSByZWFzb24gX2EuZmluZCBpcyBub3QgZGVmaW5lZFxyXG4gICAgICAgICAgICAvLyBJIGRvbid0IGtub3cgd2h5LCBvciB3aHkgbm90XHJcbiAgICAgICAgICAgIC8vIEJ1ZyBpcyBTY2hyw7ZkaW5nZXIncyBidWcsIGl0IG9ubHkgZXhpc3RzIHdoZW4gSSBkb24ndCBvYnNlcnZlIGl0XHJcbiAgICAgICAgICAgIC8vIExvZ2dpbmcgdGhlIGRhdGEgb2JqZWN0IGFuZCB0aGUgYnVnIHZhbmlzaGVzLi4uXHJcbiAgICAgICAgICAgIC8vIEVkaXQ6IE1hZGUgZnJhbWV3b3JrIHRvIGhhbmRsZSBmaW5kaW5nIGF0dHJpYnV0ZXMgZnJvbSBDaGF0TWVzc2FnZURpY3Rpb25hcnkuIE5vIGlzc3Vlcy4uLi4uIHNvIGZhci4uLlxyXG4gICAgICAgICAgICBjb25zdCBhY3Rpdml0eU5hbWUgPSBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJBY3Rpdml0eU5hbWVcIikgYXMgc3RyaW5nO1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICBQbGF5ZXJDKCkuZW5hYmxlZFxyXG4gICAgICAgICAgICAgICAgJiYgZGF0YS5UeXBlID09PSBcIkFjdGl2aXR5XCJcclxuICAgICAgICAgICAgICAgICYmIGFjdGl2aXR5TmFtZT8uc3RhcnRzV2l0aChcIk1QQV9DbGlja2VyXCIpXHJcbiAgICAgICAgICAgICAgICAmJiBJc01lbWJlck51bWJlckluQXV0aEdyb3VwKGRhdGEuU2VuZGVyISwgUGxheWVyQygpLmF1dGhlZEdyb3VwIGFzIEF1dGhvcml0eUdyb3VwLCBQbGF5ZXJDKCkuc2VsZkF1dGhlZCBhcyBib29sZWFuKVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIFBsYXlDbGlja2VyU291bmQoTnVtYmVyKGFjdGl2aXR5TmFtZS5zbGljZSgtMSkpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBIb29rIGludG8gQkNYIGxpc3RlbiB0byB2b2ljZSwgbWF5IG5vdCBiZSBsb2FkZWQgcmlnaHQgYXdheSwgd2FpdCAxNSBzZWNvbmRzXHJcbiAgICAgICAgaWYgKCF0aGlzLmhhc0JlZW5Mb2FkZWQpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBIb29rQkNYQ2xpY2tlcigpO1xyXG4gICAgICAgICAgICBjb25zdCBpbnZlcnZhbCA9IHNldEludGVydmFsKCgpID0+XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmIChiY3hIb29rZWQpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnZlcnZhbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgSG9va0JDWENsaWNrZXIoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgNjAwMDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmhhc0JlZW5Mb2FkZWQgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIFVubG9hZCgpOiB2b2lkXHJcbiAgICB7XHJcbiAgICAgICAgc3VwZXIuVW5sb2FkKCk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgSG9va0Z1bmN0aW9uIH0gZnJvbSBcIi4uL3V0aWwvc2RrXCI7XHJcbmltcG9ydCB7IE1vZHVsZSwgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi9fbW9kdWxlXCI7XHJcbmltcG9ydCB7IEZpbmRDaGFyYWN0ZXJJblJvb20sIEdldE1QQU1lc3NhZ2VGcm9tQ2hhdCwgSG9va2VkTWVzc2FnZSwgaG9va2VkTWVzc2FnZXMsIE1QQU1lc3NhZ2VDb250ZW50LCBTZW5kTVBBTWVzc2FnZSB9IGZyb20gXCIuLi91dGlsL21lc3NhZ2luZ1wiO1xyXG5cclxuLyoqXHJcbiAqIFN5bmMgYWxsIG9mIHlvdXIgY3VycmVudCBzZXR0aW5ncyB3aXRoIGV2ZXJ5b25lIGVsc2VcclxuICogQHBhcmFtIHJlcGx5IC0gSWYgd2Ugd2FudCBvdGhlcnMgdG8gc2hhcmUgdGhlaXIgc2V0dGluZ3MgYmFja1xyXG4gKiBAcGFyYW0gdGFyZ2V0IC0gU2hhcmUgb25seSB0byB0aGlzIG9uZSBNZW1iZXJOdW1iZXJcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBTZXR0aW5nU3luYyhyZXBseTogYm9vbGVhbiA9IGZhbHNlLCB0YXJnZXQ/OiBudW1iZXIpOiB2b2lkXHJcbntcclxuICAgIFNlbmRNUEFNZXNzYWdlKHtcclxuICAgICAgICBtZXNzYWdlOiBcIlNldHRpbmdTeW5jXCIsXHJcbiAgICAgICAgc2V0dGluZ3M6IFBsYXllci5NUEEsXHJcbiAgICAgICAgcmVwbHk6IHJlcGx5XHJcbiAgICB9LCB0YXJnZXQpO1xyXG59XHJcblxyXG4vKipcclxuICogU3luYyBhbGwgb2YgeW91ciBjdXJyZW50IHNldHRpbmdzIG9mIGEgZ2l2ZW4gY2F0ZWdvcnkgd2l0aCBvdGhlcnNcclxuICogQHBhcmFtIGNhdGVnb3J5IC0gV2hpY2ggTW9kdWxlVGl0bGUgY2F0ZWdvcnkgdG8gc2hhcmVcclxuICogQHBhcmFtIHRhcmdldCAtIFNoYXJlIG9ubHkgdG8gdGhpcyBvbmUgTWVtYmVyTnVtYmVyXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gQ2F0ZWdvcnlTeW5jKGNhdGVnb3J5OiBNb2R1bGVUaXRsZSwgdGFyZ2V0PzogbnVtYmVyKTogdm9pZFxyXG57XHJcbiAgICBTZW5kTVBBTWVzc2FnZSh7XHJcbiAgICAgICAgbWVzc2FnZTogXCJDYXRlZ29yeVN5bmNcIixcclxuICAgICAgICBjYXRlZ29yeTogY2F0ZWdvcnksXHJcbiAgICAgICAgdmFsdWU6IFBsYXllci5NUEFbY2F0ZWdvcnldXHJcbiAgICB9LCB0YXJnZXQpO1xyXG59XHJcblxyXG4vKipcclxuICogU3luYyBvbmx5IGEgc2luZ2xlIHJlY29yZCBmcm9tIGEgZ2l2ZW4gY2F0ZWdvcnkgd2l0aCBvdGhlcnNcclxuICogQHBhcmFtIGNhdGVnb3J5IC0gV2hpY2ggTW9kdWxlVGl0bGUgY2F0ZWdvcnkgdG8gc2hhcmVcclxuICogQHBhcmFtIHJlY29yZCAtIFJlY29yZCB3aXRoaW4gTW9kdWxlVGl0bGUgeW91IHdhbnQgdG8gc2hhcmVcclxuICogQHBhcmFtIHRhcmdldCAtIFNoYXJlIG9ubHkgdG8gdGhpcyBvbmUgTWVtYmVyTnVtYmVyXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gUmVjb3JkU3luYyhjYXRlZ29yeTogTW9kdWxlVGl0bGUsIHJlY29yZDogc3RyaW5nLCB0YXJnZXQ/OiBudW1iZXIpOiB2b2lkXHJcbntcclxuICAgIFNlbmRNUEFNZXNzYWdlKHtcclxuICAgICAgICBtZXNzYWdlOiBcIlJlY29yZFN5bmNcIixcclxuICAgICAgICBjYXRlZ29yeTogY2F0ZWdvcnksXHJcbiAgICAgICAgcmVjb3JkOiByZWNvcmQsXHJcbiAgICAgICAgdmFsdWU6IFBsYXllci5NUEFbY2F0ZWdvcnldW3JlY29yZF1cclxuICAgIH0sIHRhcmdldCk7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBEYXRhU3luY01vZHVsZSBleHRlbmRzIE1vZHVsZVxyXG57XHJcbiAgICBnZXQgVGl0bGUoKTogTW9kdWxlVGl0bGVcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gTW9kdWxlVGl0bGUuRGF0YVN5bmM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IFN5bmNMaXN0ZW5lcnMoKTogSG9va2VkTWVzc2FnZVtdXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbW9kdWxlOiBNb2R1bGVUaXRsZS5EYXRhU3luYyxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiU2V0dGluZ1N5bmNcIixcclxuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKHNlbmRlcjogQ2hhcmFjdGVyLCBjb250ZW50OiBNUEFNZXNzYWdlQ29udGVudCk6IHZvaWRcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBzZW5kZXIuTVBBID0gY29udGVudC5zZXR0aW5ncztcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudC5yZXBseSlcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNldHRpbmdTeW5jKGZhbHNlLCBzZW5kZXIuTWVtYmVyTnVtYmVyKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgIG1vZHVsZTogTW9kdWxlVGl0bGUuRGF0YVN5bmMsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkNhdGVnb3J5U3luY1wiLFxyXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoc2VuZGVyOiBDaGFyYWN0ZXIsIGNvbnRlbnQ6IE1QQU1lc3NhZ2VDb250ZW50KTogdm9pZFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghc2VuZGVyLk1QQSlcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNldHRpbmdTeW5jKGZhbHNlLCBzZW5kZXIuTWVtYmVyTnVtYmVyKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VuZGVyLk1QQVtjb250ZW50LmNhdGVnb3J5XSA9IGNvbnRlbnQudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICBtb2R1bGU6IE1vZHVsZVRpdGxlLkRhdGFTeW5jLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJSZWNvcmRTeW5jXCIsXHJcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uIChzZW5kZXI6IENoYXJhY3RlciwgY29udGVudDogTVBBTWVzc2FnZUNvbnRlbnQpOiB2b2lkXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzZW5kZXI/Lk1QQT8uW2NvbnRlbnQuY2F0ZWdvcnldKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgU2V0dGluZ1N5bmMoZmFsc2UsIHNlbmRlci5NZW1iZXJOdW1iZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZW5kZXIuTVBBW2NvbnRlbnQuY2F0ZWdvcnldW2NvbnRlbnQucmVjb3JkXSA9IGNvbnRlbnQudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXTtcclxuICAgIH1cclxuXHJcbiAgICBMb2FkKCk6IHZvaWRcclxuICAgIHtcclxuICAgICAgICBzdXBlci5Mb2FkKCk7XHJcblxyXG4gICAgICAgIC8vIE1QQSBsb2FkZWQgaW4gYSBjaGF0cm9vbSwgU3luYyB3aXRoIG90aGVycyBpbiB0aGUgcm9vbVxyXG4gICAgICAgIGlmIChDaGF0Um9vbUNoYXJhY3Rlci5sZW5ndGggIT09IDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBTZXR0aW5nU3luYyh0cnVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFdoZW4gam9pbmluZyBhIHJvb20sIHN5bmMgTVBBIHNldHRpbmdzIHdpdGggZXZlcnlvbmUgZWxzZVxyXG4gICAgICAgIEhvb2tGdW5jdGlvbihNb2R1bGVUaXRsZS5EYXRhU3luYywgXCJDaGF0Um9vbVN5bmNcIiwgMCwgKGFyZ3MsIG5leHQpID0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuZXh0KGFyZ3MpO1xyXG4gICAgICAgICAgICBTZXR0aW5nU3luYyh0cnVlKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gU3luYyByZXF1ZXN0LCBoYW5kbGUgYW5kIHJlcGx5IGlmIG5lZWRlZFxyXG4gICAgICAgIEhvb2tGdW5jdGlvbihNb2R1bGVUaXRsZS5EYXRhU3luYywgXCJDaGF0Um9vbU1lc3NhZ2VcIiwgMCwgKGFyZ3MsIG5leHQpID0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXJnc1swXTtcclxuICAgICAgICAgICAgY29uc3QgY29udGVudCA9IEdldE1QQU1lc3NhZ2VGcm9tQ2hhdChkYXRhKTtcclxuICAgICAgICAgICAgaWYgKCFjb250ZW50KVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBzZW5kZXIgPSBGaW5kQ2hhcmFjdGVySW5Sb29tKGRhdGEuU2VuZGVyID8/IFwiXCIsIHsgTWVtYmVyTnVtYmVyOiB0cnVlLCBOYW1lOiBmYWxzZSwgTmlja05hbWU6IGZhbHNlIH0pO1xyXG4gICAgICAgICAgICBpZiAoIXNlbmRlcilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEhhbmRsZSB0aGUgZGF0YSBsaXN0ZW5lcnNcclxuICAgICAgICAgICAgaG9va2VkTWVzc2FnZXMuZm9yRWFjaCgoaG9vaykgPT5cclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbnRlbnQubWVzc2FnZSA9PT0gaG9vay5tZXNzYWdlKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGhvb2suYWN0aW9uKHNlbmRlciwgY29udGVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIFVubG9hZCgpOiB2b2lkXHJcbiAgICB7XHJcbiAgICAgICAgc3VwZXIuVW5sb2FkKCk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgTW9kdWxlLCBNb2R1bGVUaXRsZSB9IGZyb20gXCIuL19tb2R1bGVcIjtcclxuaW1wb3J0IHsgVXBkYXRlRWxlbWVudFZhbHVlcyB9IGZyb20gXCIuL3NldHRpbmdzXCI7XHJcblxyXG5jb25zdCBQbGF5ZXJQOiAoQz86IENoYXJhY3RlcikgPT4gTVBBUmVjb3JkID0gKEM6IENoYXJhY3RlciA9IFBsYXllcikgPT5cclxue1xyXG4gICAgcmV0dXJuIEMuTVBBPy5bTW9kdWxlVGl0bGUuUHJvZmlsZV0gPz8ge307XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gSXNIYXJkY29yZU9uKEM6IENoYXJhY3Rlcik6IGJvb2xlYW5cclxue1xyXG4gICAgcmV0dXJuIChDLk1QQT8uW01vZHVsZVRpdGxlLlByb2ZpbGVdLmhhcmRjb3JlIGFzIGJvb2xlYW4gfCB1bmRlZmluZWQpID8/IGZhbHNlO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gR2V0UmVjb3JkKHRpdGxlOiBNb2R1bGVUaXRsZSwgQzogQ2hhcmFjdGVyID0gUGxheWVyKTogTVBBUmVjb3JkXHJcbntcclxuICAgIHJldHVybiBDLk1QQT8uW3RpdGxlXSA/PyB7fTtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEdBUkJMRV9QSFJBU0VTID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICBIdW1hbjogXCJIbW1nbVwiLFxyXG4gICAgQ3VzdG9tOiBcIlwiLFxyXG4gICAgQnVubnk6IFwiUG9uXCIsXHJcbiAgICBDYXQ6IFwiTWV3XCIsXHJcbiAgICBDb3c6IFwiTW9vXCIsXHJcbiAgICBEb2c6IFwiQXJmXCIsXHJcbiAgICBGb3g6IFwiQ2hpcnBcIixcclxuICAgIE1vdXNlOiBcIlNxZWFrXCIsXHJcbiAgICBQb255OiBcIk5laWdoXCIsXHJcbiAgICBXb2xmOiBcIkdycnJcIlxyXG59KTtcclxuXHJcbmV4cG9ydCBjbGFzcyBQcm9maWxlTW9kdWxlIGV4dGVuZHMgTW9kdWxlXHJcbntcclxuICAgIGdldCBUaXRsZSgpOiBNb2R1bGVUaXRsZVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBNb2R1bGVUaXRsZS5Qcm9maWxlO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBTZXR0aW5ncygpOiBTZXR0aW5nW11cclxuICAgIHtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcInR5cGVcIixcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwib3B0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgb3B0aW9uczogT2JqZWN0LmtleXMoR0FSQkxFX1BIUkFTRVMpLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiSHVtYW5cIixcclxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIlVzZSBhIHByZXNldCBwcm9maWxlIG9yIG1ha2UgeW91ciBvd25cIixcclxuICAgICAgICAgICAgICAgIGxvb3A6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBvblNldChDKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIFBsYXllclAoQykuZ2FyYmxlUGhyYXNlcyA9IEdBUkJMRV9QSFJBU0VTW1BsYXllclAoQykudHlwZV07XHJcbiAgICAgICAgICAgICAgICAgICAgVXBkYXRlRWxlbWVudFZhbHVlcygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGFzIE9wdGlvblNldHRpbmcsIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwiZ2FyYmxlUGhyYXNlc1wiLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXHJcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiBQbGF5ZXJQKEMpLnR5cGUgPT09IFwiQ3VzdG9tXCIsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogR0FSQkxFX1BIUkFTRVMuSHVtYW4sXHJcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJQaHJhc2VzIHlvdSBzcGVhayB3aGVuIHVuYWJsZSB0byBiZSB1bmRlcnN0b29kXCIsXHJcbiAgICAgICAgICAgICAgICBtYXhDaGFyczogMTAyNCxcclxuICAgICAgICAgICAgICAgIHdpZHRoOiA0MDBcclxuICAgICAgICAgICAgfSBhcyBUZXh0U2V0dGluZywge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJoYXJkY29yZVwiLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxyXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiRW5hYmxlIGhhcmRjb3JlIG1vZGU7IFdpbGwgc2V0IGNlcnRhaW4gc2V0dGluZ3MgYW5kIHByZXZlbnQgY2hhbmdpbmcgdGhlbSBiYWNrXCIsXHJcbiAgICAgICAgICAgICAgICBvblNldChDKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIEdldFJlY29yZChNb2R1bGVUaXRsZS5DbGlja2VyLCBDKS5lbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBHZXRSZWNvcmQoTW9kdWxlVGl0bGUuQ2xpY2tlciwgQykuYmN4Vm9pY2UgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIEdldFJlY29yZChNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0LCBDKS5lbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBHZXRSZWNvcmQoTW9kdWxlVGl0bGUuVmlydHVhbFBldCwgQykubm9IYW5kcyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgR2V0UmVjb3JkKE1vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zLCBDKS5lbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBHZXRSZWNvcmQoTW9kdWxlVGl0bGUuVmlydHVhbFBldENvbmRpdGlvbnMsIEMpLmZvb2ROT1cgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIEdldFJlY29yZChNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9ucywgQykudGludCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgR2V0UmVjb3JkKE1vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zLCBDKS5wYXNzb3V0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBHZXRSZWNvcmQoTW9kdWxlVGl0bGUuVmlydHVhbFBldENvbmRpdGlvbnMsIEMpLmFmZmVjdGlvblNraWxsQnVmZnMgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBHZXRSZWNvcmQoTW9kdWxlVGl0bGUuVmlydHVhbFBldENvbmRpdGlvbnMsIEMpLmFmZmVjdGlvblNraWxsRGVidWZmcyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgR2V0UmVjb3JkKE1vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zLCBDKS5oZWFyaW5nTG9zcyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgR2V0UmVjb3JkKE1vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zLCBDKS5zbG93TGVhdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZ1xyXG4gICAgICAgIF07XHJcbiAgICB9XHJcblxyXG4gICAgTG9hZCgpOiB2b2lkXHJcbiAgICB7XHJcbiAgICAgICAgLy8gRm9yIGxhdGVyIG1lXHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgTG9jYWxpemVkVGV4dCB9IGZyb20gXCIuLi9sb2NhbGl6YXRpb24vbG9jYWxpemF0aW9uXCI7XHJcbmltcG9ydCB7IEV4cG9ydFNldHRpbmdzVG9DbGlwYm9hcmQsIEltcG9ydFNldHRpbmdzRnJvbUNsaXBib2FyZCwgUmVzZXRTdG9yYWdlLCBTYXZlU3RvcmFnZSB9IGZyb20gXCIuLi91dGlsL3N0b3JhZ2VcIjtcclxuaW1wb3J0IHsgSUNPTlMgfSBmcm9tIFwiLi4vdXRpbC9jb25zdGFudHNcIjtcclxuaW1wb3J0IHsgSXNEaXNwbGF5U2V0dGluZywgSXNPcHRpb25TZXR0aW5nLCBJc0NoZWNrYm94U2V0dGluZywgSXNUZXh0U2V0dGluZywgSXNOdW1iZXJTZXR0aW5nIH0gZnJvbSBcIi4uL3V0aWwvc2V0dGluZ1R5cGVzXCI7XHJcbmltcG9ydCB7IHNldHRpbmdzIGFzIGRlZmF1bHRTZXR0aW5ncyB9IGZyb20gXCIuLi91dGlsL3JlZ2lzdGVyTW9kdWxlc1wiO1xyXG5pbXBvcnQgeyBBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUywgQXV0aG9yaXR5R3JvdXAsIEF1dGhvcml0eUlzQ29tcGFyaXNvblRvQ2hhcmFjdGVyLCBJc01lbWJlck51bWJlckluQXV0aEdyb3VwIH0gZnJvbSBcIi4uL3V0aWwvYXV0aG9yaXR5XCI7XHJcbmltcG9ydCB7IFNlbmRNUEFNZXNzYWdlIH0gZnJvbSBcIi4uL3V0aWwvbWVzc2FnaW5nXCI7XHJcbmltcG9ydCB7IE1vZHVsZSwgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi9fbW9kdWxlXCI7XHJcbmltcG9ydCB7IExldmVsU3luYyB9IGZyb20gXCIuL3ZpcnR1YWxQZXRcIjtcclxuXHJcbmxldCBzZXR0aW5nc0VkaXRlZCA9IGZhbHNlO1xyXG5sZXQgc2V0dGluZ0NoYXI6IFBsYXllckNoYXJhY3RlciB8IG51bGwgPSBudWxsO1xyXG5leHBvcnQgZnVuY3Rpb24gU2V0U2V0dGluZ0NoYXIoY2hhcmFjdGVyOiBQbGF5ZXJDaGFyYWN0ZXIpOiB2b2lkXHJcbntcclxuICAgIHNldHRpbmdzRWRpdGVkID0gZmFsc2U7XHJcbiAgICBzZXR0aW5nQ2hhciA9IGNoYXJhY3RlcjtcclxufVxyXG5cclxuLy8gU2l6ZSBvZiB0aGUgY2FudmFzIGluIGdhbWVcclxuY29uc3QgQ0FOVkFTX1dJRFRIID0gMjAwMDtcclxuY29uc3QgX0NBTlZBU19IRUlHSFQgPSAxMDAwO1xyXG5cclxuLy8gRXhpdCBidXR0b24gcG9zaXN0aW9uIG9uIGNhbnZhc1xyXG5jb25zdCBFWElUX1BPU0lTVElPTiA9IFsxODE1LCA3NSwgOTAsIDkwXSBhcyBjb25zdDtcclxuXHJcbi8vIE1lbnUgbGF5b3V0IHZhbHVlc1xyXG5jb25zdCBCVVRUT05fTUFYX05VTUJFUiA9IDc7XHJcbmNvbnN0IEJVVFRPTl9XSURUSCA9IDQwMDtcclxuY29uc3QgQlVUVE9OX0hFSUdIVCA9IDkwO1xyXG5jb25zdCBCVVRUT05fVE9QID0gMTYwO1xyXG5jb25zdCBCVVRUT05fTEVGVCA9IDUwMDtcclxuY29uc3QgQlVUVE9OX0dBUCA9IDIwO1xyXG5jb25zdCBCVVRUT05fVEVYVF9QQURESU5HID0gMjA7XHJcblxyXG4vLyBQbGF5ZXIgb25seSBidXR0b25zXHJcbmNvbnN0IFJFU0VUX1BPU0lUSU9OID0gWzEwMCwgNzAwLCAzNTAsIDc1XSBhcyBjb25zdDtcclxuY29uc3QgQUxFUlRfUE9TSVRJT04gPSBbXHJcbiAgICBSRVNFVF9QT1NJVElPTlswXSxcclxuICAgIFJFU0VUX1BPU0lUSU9OWzFdIC0gUkVTRVRfUE9TSVRJT05bM10sXHJcbiAgICBSRVNFVF9QT1NJVElPTlsyXVxyXG5dIGFzIGNvbnN0O1xyXG5sZXQgc2hvd1NldHRpbmdzQWxlcnQ6IG51bWJlciA9IDA7XHJcbmxldCBzZXR0aW5nc0FsZXJ0VGV4dDogc3RyaW5nID0gXCJcIjtcclxuY29uc3QgSU1QT1JUX1BPU0lUSU9OID0gW1xyXG4gICAgUkVTRVRfUE9TSVRJT05bMF0sXHJcbiAgICBSRVNFVF9QT1NJVElPTlsxXSArIFJFU0VUX1BPU0lUSU9OWzNdICsgQlVUVE9OX0dBUCxcclxuICAgIChSRVNFVF9QT1NJVElPTlsyXSAtIEJVVFRPTl9HQVApIC8gMixcclxuICAgIFJFU0VUX1BPU0lUSU9OWzNdXHJcbl0gYXMgY29uc3Q7XHJcbmNvbnN0IEVYUE9SVF9QT1NJVElPTiA9IFtcclxuICAgIFJFU0VUX1BPU0lUSU9OWzBdICsgKChSRVNFVF9QT1NJVElPTlsyXSArIEJVVFRPTl9HQVApIC8gMiksXHJcbiAgICBSRVNFVF9QT1NJVElPTlsxXSArIFJFU0VUX1BPU0lUSU9OWzNdICsgQlVUVE9OX0dBUCxcclxuICAgIChSRVNFVF9QT1NJVElPTlsyXSAtIEJVVFRPTl9HQVApIC8gMixcclxuICAgIFJFU0VUX1BPU0lUSU9OWzNdXHJcbl0gYXMgY29uc3Q7XHJcbmNvbnN0IFJFU0VUX0NPTkZJUk1fUE9TSVRJT04gPSBbMzAwLCA3MDAsIDI1MCwgOTBdIGFzIGNvbnN0O1xyXG5jb25zdCBSRVNFVF9DQU5DRUxfUE9TSVRJT04gPSBbMTQ1MCwgNzAwLCAyNTAsIDkwXSBhcyBjb25zdDtcclxuXHJcbi8vIENhbiBhZGQgb3IgcmVtb3ZlIG1vZHVsZXMgZGVwZW5kaW5nIG9uIGlmIHdhbnRpbmcgdG8gZGlzcGxheSB0aGVtIG9yIG5vdFxyXG4vLyBPcmRlciBnaXZlbiBpcyB0aGUgb3JkZXIgZGlzcGxheWVkXHJcbmZ1bmN0aW9uIE1FTlVfQ0FURUdPUklFUygpOiBNb2R1bGVUaXRsZVtdXHJcbntcclxuICAgIGlmICghc2V0dGluZ0NoYXIpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfVxyXG4gICAgLy8gRGlzcGxheSBzZXR0aW5ncyBpZiB5b3UgYXJlIHRoZSBQbGF5ZXJcclxuICAgIGlmIChzZXR0aW5nQ2hhci5Jc1BsYXllcigpKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgIE1vZHVsZVRpdGxlLkF1dGhvcml0eSxcclxuICAgICAgICAgICAgTW9kdWxlVGl0bGUuUHJvZmlsZSxcclxuICAgICAgICAgICAgTW9kdWxlVGl0bGUuQ2xpY2tlcixcclxuICAgICAgICAgICAgTW9kdWxlVGl0bGUuVmlydHVhbFBldCxcclxuICAgICAgICAgICAgTW9kdWxlVGl0bGUuVmlydHVhbFBldEhVRCxcclxuICAgICAgICAgICAgTW9kdWxlVGl0bGUuVmlydHVhbFBldENvbmRpdGlvbnNcclxuICAgICAgICBdO1xyXG4gICAgfVxyXG4gICAgLy8gRGlzcGxheSBzZXR0aW5ncyBpZiB5b3UgYXJlIGFuIGFub3RoZXIgcGxheWVyXHJcbiAgICByZXR1cm4gW1xyXG4gICAgICAgIE1vZHVsZVRpdGxlLkF1dGhvcml0eSxcclxuICAgICAgICBNb2R1bGVUaXRsZS5Qcm9maWxlLFxyXG4gICAgICAgIE1vZHVsZVRpdGxlLkNsaWNrZXIsXHJcbiAgICAgICAgTW9kdWxlVGl0bGUuVmlydHVhbFBldCxcclxuICAgICAgICBNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9uc1xyXG4gICAgXTtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IE1FTlVfVElUTEVTOiBQYXJ0aWFsPFJlY29yZDxNb2R1bGVUaXRsZSwgc3RyaW5nPj4gPVxyXG57XHJcbiAgICBbTW9kdWxlVGl0bGUuVmlydHVhbFBldF06IFwiVmlydHVhbCBQZXRcIixcclxuICAgIFtNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0SFVEXTogXCJWaXJ0dWFsIFBldCBIdWRcIixcclxuICAgIFtNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9uc106IFwiVmlydHVhbCBQZXQgQ29uZGl0aW9uc1wiXHJcbn07XHJcblxyXG5leHBvcnQgbGV0IGN1cnJlbnRNZW51OiBNb2R1bGVUaXRsZSB8IG51bGwgfCBcIlJFU0VUX1NldHRpbmdzXCIgPSBudWxsO1xyXG5sZXQgc2V0dGluZ3NPcGVuOiBib29sZWFuID0gZmFsc2U7XHJcbmxldCBhbGxvd1Jlc2V0VGltZTogbnVtYmVyID0gMDtcclxuXHJcbkRyYXdCdXR0b24oMTUyMCwgNzIwLCAyMDAsIDgwLCBcIkNhbmNlbFwiLCBcIldoaXRlXCIpO1xyXG5cclxubGV0IHZwRW5hYmxlZDogYm9vbGVhbjtcclxuXHJcbmZ1bmN0aW9uIERyYXdNZW51T3B0aW9ucyhtZW51T3B0aW9uczogc3RyaW5nW10pOiB2b2lkXHJcbntcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWVudU9wdGlvbnMubGVuZ3RoOyBpKyspXHJcbiAgICB7XHJcbiAgICAgICAgRHJhd0J1dHRvbihcclxuICAgICAgICAgICAgQlVUVE9OX0xFRlQgKyAoQlVUVE9OX1dJRFRIICsgQlVUVE9OX0dBUCkgKiBNYXRoLmZsb29yKGkgLyBCVVRUT05fTUFYX05VTUJFUiksXHJcbiAgICAgICAgICAgIEJVVFRPTl9UT1AgKyAoQlVUVE9OX0hFSUdIVCArIEJVVFRPTl9HQVApICogKGkgJSBCVVRUT05fTUFYX05VTUJFUiksXHJcbiAgICAgICAgICAgIEJVVFRPTl9XSURUSCxcclxuICAgICAgICAgICAgQlVUVE9OX0hFSUdIVCxcclxuICAgICAgICAgICAgXCJcIixcclxuICAgICAgICAgICAgXCJXaGl0ZVwiXHJcbiAgICAgICAgKTtcclxuICAgICAgICBEcmF3VGV4dEZpdChcclxuICAgICAgICAgICAgTG9jYWxpemVkVGV4dChNRU5VX1RJVExFU1ttZW51T3B0aW9uc1tpXV0gPz8gbWVudU9wdGlvbnNbaV0pLFxyXG4gICAgICAgICAgICAoQlVUVE9OX0xFRlQgKyBCVVRUT05fVEVYVF9QQURESU5HKSArIChCVVRUT05fV0lEVEggKyBCVVRUT05fR0FQKSAqIE1hdGguZmxvb3IoaSAvIEJVVFRPTl9NQVhfTlVNQkVSKSxcclxuICAgICAgICAgICAgKEJVVFRPTl9UT1AgKyBNYXRoLmZsb29yKEJVVFRPTl9IRUlHSFQgLyAyKSkgKyAoQlVUVE9OX0hFSUdIVCArIEJVVFRPTl9HQVApICogKGkgJSBCVVRUT05fTUFYX05VTUJFUiksXHJcbiAgICAgICAgICAgIEJVVFRPTl9XSURUSCAtIEJVVFRPTl9URVhUX1BBRERJTkcgKiAyLFxyXG4gICAgICAgICAgICBcIkJsYWNrXCIsXHJcbiAgICAgICAgICAgIFwiR3JheVwiXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gR2V0Q2xpY2tlZE1lbnUobWVudU9wdGlvbnM6IE1vZHVsZVRpdGxlW10pOiBNb2R1bGVUaXRsZSB8IG51bGxcclxue1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZW51T3B0aW9ucy5sZW5ndGg7IGkrKylcclxuICAgIHtcclxuICAgICAgICBpZiAoTW91c2VJbihcclxuICAgICAgICAgICAgQlVUVE9OX0xFRlQgKyAoQlVUVE9OX1dJRFRIICsgQlVUVE9OX0dBUCkgKiBNYXRoLmZsb29yKGkgLyBCVVRUT05fTUFYX05VTUJFUiksXHJcbiAgICAgICAgICAgIEJVVFRPTl9UT1AgKyAoQlVUVE9OX0hFSUdIVCArIEJVVFRPTl9HQVApICogKGkgJSBCVVRUT05fTUFYX05VTUJFUiksXHJcbiAgICAgICAgICAgIEJVVFRPTl9XSURUSCxcclxuICAgICAgICAgICAgQlVUVE9OX0hFSUdIVFxyXG4gICAgICAgICkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gbWVudU9wdGlvbnNbaV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn1cclxuXHJcbi8vIE9wdGlvbnMgbGF5b3V0XHJcbi8vIE1heSBub3QgYmUgbmVlZGVkLiBXaWxsIGhhdmUgdG8gdXNlIGlmIHRoZXJlIGFyZSBtb3JlIHRoYW4gMTAgc2V0dGluZ3MgdG8gZGlzcGxheSBwZXIgY2F0ZWdvcnlcclxuY29uc3QgT1BUSU9OX1BFUl9QQUdFID0gOTtcclxuY29uc3QgT1BUSU9OX0hFSUdIVCA9IDY0O1xyXG5jb25zdCBPUFRJT05fVE9QID0gMjAwO1xyXG5jb25zdCBPUFRJT05fTEVGVCA9IDI1MDtcclxuY29uc3QgT1BUSU9OX0dBUCA9IDEwO1xyXG5jb25zdCBPUFRJT05fQ0hFQ0tCT1hfU0laRSA9IDY0O1xyXG5jb25zdCBPUFRJT05fQkFDS19ORVhUX1dJRFRIID0gMjU2O1xyXG5jb25zdCBPUFRJT05fVEVYVF9XSURUSCA9IDI1NjtcclxuY29uc3QgT1BUSU9OX1RFWFRfTUFYX0NIQVJTID0gMjU2O1xyXG5sZXQgY3VycmVudFBhZ2U6IG51bWJlciA9IDE7XHJcbmxldCBtYXhQYWdlczogbnVtYmVyID0gMTtcclxuXHJcbmNvbnN0IE5FWFRfQlVUVE9OX1BPUyA9IFsxNjM1LCA3NSwgOTAsIDkwXSBhcyBjb25zdDtcclxuY29uc3QgUFJFVl9CVVRUT05fUE9TID0gW05FWFRfQlVUVE9OX1BPU1swXSAtIE5FWFRfQlVUVE9OX1BPU1syXSwgTkVYVF9CVVRUT05fUE9TWzFdLCBORVhUX0JVVFRPTl9QT1NbMl0sIE5FWFRfQlVUVE9OX1BPU1syXV0gYXMgY29uc3Q7XHJcblxyXG5mdW5jdGlvbiBEcmF3UGFnZXNCdXR0b25zKCk6IHZvaWRcclxue1xyXG4gICAgLy8gQXNzZXQgY3VycmVudCBwYWdlIGlzIGluIGNvcnJlY3QgcmFuZ2VcclxuICAgIGlmIChjdXJyZW50UGFnZSA+IG1heFBhZ2VzKVxyXG4gICAge1xyXG4gICAgICAgIGN1cnJlbnRQYWdlID0gbWF4UGFnZXM7XHJcbiAgICB9XHJcbiAgICBpZiAoY3VycmVudFBhZ2UgPCAxKVxyXG4gICAge1xyXG4gICAgICAgIGN1cnJlbnRQYWdlID0gMTtcclxuICAgIH1cclxuXHJcbiAgICBEcmF3QnV0dG9uKFxyXG4gICAgICAgIC4uLk5FWFRfQlVUVE9OX1BPUyxcclxuICAgICAgICBcIlwiLFxyXG4gICAgICAgIGN1cnJlbnRQYWdlID49IG1heFBhZ2VzID8gXCIjYWFhYWFhXCIgOiBcIiNmZmZmZmZcIixcclxuICAgICAgICBcIkljb25zL05leHQucG5nXCIsXHJcbiAgICAgICAgXCJOZXh0IFBhZ2VcIixcclxuICAgICAgICBjdXJyZW50UGFnZSA+PSBtYXhQYWdlc1xyXG4gICAgKTtcclxuICAgIERyYXdCdXR0b24oXHJcbiAgICAgICAgLi4uUFJFVl9CVVRUT05fUE9TLFxyXG4gICAgICAgIFwiXCIsXHJcbiAgICAgICAgMSA+PSBjdXJyZW50UGFnZSA/IFwiI2FhYWFhYVwiIDogXCIjZmZmZmZmXCIsXHJcbiAgICAgICAgXCJJY29ucy9QcmV2LnBuZ1wiLFxyXG4gICAgICAgIFwiUHJldmlvdXMgUGFnZVwiLFxyXG4gICAgICAgIDEgPj0gY3VycmVudFBhZ2VcclxuICAgICk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIERyYXdTdWJNZW51T3B0aW9ucyhzdWJNZW51OiBNb2R1bGVUaXRsZSk6IHZvaWRcclxue1xyXG4gICAgLy8gU2hvdWxkbid0IGJlIG5lZWRlZCBidXQgYWN0cyBhcyBmYWlsc2FmZSBhbmQgbWFrZXMgdHlwZXNjcmlwdCBoYXBweVxyXG4gICAgaWYgKCFzZXR0aW5nQ2hhcikgeyByZXR1cm47IH1cclxuXHJcbiAgICBjb25zdCBzZXR0aW5nc1RvRGlzcGxheSA9IE9iamVjdC5lbnRyaWVzKGRlZmF1bHRTZXR0aW5nc1tzdWJNZW51XSA/PyB7fSlcclxuICAgICAgICAuZmlsdGVyKChbX2tleSwgc2V0dGluZ10pID0+IElzRGlzcGxheVNldHRpbmcoc2V0dGluZykpO1xyXG5cclxuICAgIC8vIE5leHQgYW5kIHByZXZpb3VzIG9wdGlvbiBidXR0b25zXHJcbiAgICBpZiAobWF4UGFnZXMgIT09IDEpXHJcbiAgICB7XHJcbiAgICAgICAgRHJhd1BhZ2VzQnV0dG9ucygpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldHRpbmdzVG9EaXNwbGF5LnNsaWNlKChjdXJyZW50UGFnZSAtIDEpICogT1BUSU9OX1BFUl9QQUdFLCBjdXJyZW50UGFnZSAqIE9QVElPTl9QRVJfUEFHRSkuZm9yRWFjaCgodmFsLCBpKSA9PlxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IFtzZXR0aW5nTmFtZSwgc2V0dGluZ10gPSB2YWwgYXMgW3N0cmluZywgRGlzcGxheWVkU2V0dGluZ107XHJcblxyXG4gICAgICAgIGNvbnN0IGRpc2FibGVkU2V0dGluZyA9ICFzZXR0aW5nLmFjdGl2ZShzZXR0aW5nQ2hhciEpXHJcbiAgICAgICAgICB8fCAoXHJcbiAgICAgICAgICAgICAgYG90aGVycyR7c3ViTWVudX1gIGluIHNldHRpbmdDaGFyIS5NUEFbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XVxyXG4gICAgICAgICAgICAgICYmIGBzZWxmJHtzdWJNZW51fWAgaW4gc2V0dGluZ0NoYXIhLk1QQVtNb2R1bGVUaXRsZS5BdXRob3JpdHldXHJcbiAgICAgICAgICAgICAgJiYgIUlzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAoXHJcbiAgICAgICAgICAgICAgICAgIFBsYXllci5NZW1iZXJOdW1iZXIgPz8gLTEsXHJcbiAgICAgICAgICAgICAgICAgIHNldHRpbmdDaGFyIS5NUEFbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XVtgb3RoZXJzJHtzdWJNZW51fWBdIGFzIEF1dGhvcml0eUdyb3VwLFxyXG4gICAgICAgICAgICAgICAgICBzZXR0aW5nQ2hhciEuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV1bYHNlbGYke3N1Yk1lbnV9YF0gYXMgYm9vbGVhbixcclxuICAgICAgICAgICAgICAgICAgc2V0dGluZ0NoYXIhXHJcbiAgICAgICAgICAgICAgKSk7XHJcblxyXG4gICAgICAgIGlmIChJc0NoZWNrYm94U2V0dGluZyhzZXR0aW5nKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIERyYXdDaGVja2JveChcclxuICAgICAgICAgICAgICAgIE9QVElPTl9MRUZULFxyXG4gICAgICAgICAgICAgICAgT1BUSU9OX1RPUCArIChpICogKE9QVElPTl9HQVAgKyBPUFRJT05fSEVJR0hUKSksXHJcbiAgICAgICAgICAgICAgICBPUFRJT05fQ0hFQ0tCT1hfU0laRSxcclxuICAgICAgICAgICAgICAgIE9QVElPTl9DSEVDS0JPWF9TSVpFLFxyXG4gICAgICAgICAgICAgICAgTG9jYWxpemVkVGV4dChzZXR0aW5nLmxhYmVsKVxyXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlQWxsKFwiVGFyZ2V0Q2hhcmFjdGVyXCIsIChzZXR0aW5nQ2hhcj8uTmlja25hbWUgfHwgc2V0dGluZ0NoYXI/Lk5hbWUpID8/IFwiXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2VBbGwoXCJUYXJnZXRQcm9ub3VuUG9zc2Vzc2l2ZVwiLCBzZXR0aW5nQ2hhcj8uR2V0UHJvbm91bnMoKSA9PT0gXCJTaGVIZXJcIiA/IFwiaGVyXCIgOiBcImhpc1wiKSxcclxuICAgICAgICAgICAgICAgICEhc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0sXHJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZFNldHRpbmcsXHJcbiAgICAgICAgICAgICAgICBcIkJsYWNrXCJcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoSXNPcHRpb25TZXR0aW5nKHNldHRpbmcpKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBzZXR0aW5nLm9wdGlvbnMuaW5kZXhPZihzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSBhcyBzdHJpbmcpO1xyXG4gICAgICAgICAgICBjb25zdCBvcHRMZW4gPSBzZXR0aW5nLm9wdGlvbnMubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgLy8gQ2FuJ3QgZGVjcmVhc2UgYXV0aG9yaXR5IGJleW9uZCBpZiB0aGUgcGxheWVyIGlzIG5vdCBvZiB0aGF0IHJhbmtcclxuICAgICAgICAgICAgY29uc3QgcHJvZmlsZU9yRXhjbHVkZXMgPSAoc3ViTWVudSAhPT0gTW9kdWxlVGl0bGUuQXV0aG9yaXR5KSB8fCAhQVVUSE9SSVRZX0dST1VQX09QVElPTlMuaW5jbHVkZXMoc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0pO1xyXG4gICAgICAgICAgICBjb25zdCBwcmV2RGlzYWJsZWQgPSAhKHByb2ZpbGVPckV4Y2x1ZGVzIHx8IEF1dGhvcml0eUlzQ29tcGFyaXNvblRvQ2hhcmFjdGVyKHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdIGFzIEF1dGhvcml0eUdyb3VwLCBcIj49XCIsIFBsYXllci5NZW1iZXJOdW1iZXIgPz8gLTEsIHNldHRpbmdDaGFyISkpO1xyXG4gICAgICAgICAgICBjb25zdCBuZXh0RGlzYWJsZWQgPSAhKHByb2ZpbGVPckV4Y2x1ZGVzIHx8IEF1dGhvcml0eUlzQ29tcGFyaXNvblRvQ2hhcmFjdGVyKHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdIGFzIEF1dGhvcml0eUdyb3VwLCBcIj5cIiwgUGxheWVyLk1lbWJlck51bWJlciA/PyAtMSwgc2V0dGluZ0NoYXIhKSlcclxuICAgICAgICAgICAgICAmJiBzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSAhPT0gXCJTZWxmXCI7XHJcblxyXG4gICAgICAgICAgICBEcmF3QmFja05leHRCdXR0b24oXHJcbiAgICAgICAgICAgICAgICBPUFRJT05fTEVGVCxcclxuICAgICAgICAgICAgICAgIE9QVElPTl9UT1AgKyAoaSAqIChPUFRJT05fR0FQICsgT1BUSU9OX0hFSUdIVCkpLFxyXG4gICAgICAgICAgICAgICAgT1BUSU9OX0JBQ0tfTkVYVF9XSURUSCxcclxuICAgICAgICAgICAgICAgIE9QVElPTl9IRUlHSFQsXHJcbiAgICAgICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdIGFzIHN0cmluZyksXHJcbiAgICAgICAgICAgICAgICAhKGRpc2FibGVkU2V0dGluZyB8fCAocHJldkRpc2FibGVkICYmIG5leHREaXNhYmxlZCkpID8gXCIjZmZmZmZmXCIgOiBcIiNhYWFhYWFcIixcclxuICAgICAgICAgICAgICAgIFwiXCIsXHJcbiAgICAgICAgICAgICAgICAoKSA9PiBMb2NhbGl6ZWRUZXh0KHByZXZEaXNhYmxlZCA/IFwiXCIgOiAoc2V0dGluZy5sb29wID8gc2V0dGluZy5vcHRpb25zWyhpbmRleCAtIDEgKyBvcHRMZW4pICUgb3B0TGVuXSA6IGluZGV4ID4gMCA/IHNldHRpbmcub3B0aW9uc1tpbmRleCAtIDFdIDogXCJcIikpLFxyXG4gICAgICAgICAgICAgICAgKCkgPT4gTG9jYWxpemVkVGV4dChuZXh0RGlzYWJsZWQgPyBcIlwiIDogKHNldHRpbmcubG9vcCA/IHNldHRpbmcub3B0aW9uc1soaW5kZXggKyAxICsgb3B0TGVuKSAlIG9wdExlbl0gOiBpbmRleCArIDEgPCBvcHRMZW4gPyBzZXR0aW5nLm9wdGlvbnNbaW5kZXggKyAxXSA6IFwiXCIpKSxcclxuICAgICAgICAgICAgICAgIGRpc2FibGVkU2V0dGluZyB8fCAocHJldkRpc2FibGVkICYmIG5leHREaXNhYmxlZClcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgRHJhd1RleHRGaXQoXHJcbiAgICAgICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KHNldHRpbmcubGFiZWwpXHJcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2VBbGwoXCJUYXJnZXRDaGFyYWN0ZXJcIiwgKHNldHRpbmdDaGFyPy5OaWNrbmFtZSB8fCBzZXR0aW5nQ2hhcj8uTmFtZSkgPz8gXCJcIilcclxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZUFsbChcIlRhcmdldFByb25vdW5Qb3NzZXNzaXZlXCIsIHNldHRpbmdDaGFyPy5HZXRQcm9ub3VucygpID09PSBcIlNoZUhlclwiID8gXCJoZXJcIiA6IFwiaGlzXCIpLFxyXG4gICAgICAgICAgICAgICAgT1BUSU9OX0xFRlQgKyBPUFRJT05fQkFDS19ORVhUX1dJRFRIICsgKE9QVElPTl9HQVAgKiAyKSxcclxuICAgICAgICAgICAgICAgIE9QVElPTl9UT1AgKyAoaSAqIChPUFRJT05fR0FQICsgT1BUSU9OX0hFSUdIVCkgKyBNYXRoLmNlaWwoT1BUSU9OX0hFSUdIVCAvIDIpKSxcclxuICAgICAgICAgICAgICAgIENBTlZBU19XSURUSCAtIChPUFRJT05fTEVGVCAqIDIpIC0gT1BUSU9OX0JBQ0tfTkVYVF9XSURUSCxcclxuICAgICAgICAgICAgICAgIFwiQmxhY2tcIixcclxuICAgICAgICAgICAgICAgIFwiR3JheVwiXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKElzVGV4dFNldHRpbmcoc2V0dGluZykgfHwgSXNOdW1iZXJTZXR0aW5nKHNldHRpbmcpKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgaWQgPSBFbGVtZW50TmFtZShzdWJNZW51LCBzZXR0aW5nTmFtZSk7XHJcbiAgICAgICAgICAgIEVsZW1lbnRQb3NpdGlvbkZpeGVkKFxyXG4gICAgICAgICAgICAgICAgaWQsXHJcbiAgICAgICAgICAgICAgICBPUFRJT05fTEVGVCxcclxuICAgICAgICAgICAgICAgIE9QVElPTl9UT1AgKyAoaSAqIChPUFRJT05fR0FQICsgT1BUSU9OX0hFSUdIVCkpLFxyXG4gICAgICAgICAgICAgICAgc2V0dGluZy53aWR0aCA/PyBPUFRJT05fVEVYVF9XSURUSCxcclxuICAgICAgICAgICAgICAgIE9QVElPTl9IRUlHSFRcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgaWYgKGRpc2FibGVkU2V0dGluZylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgRWxlbWVudFNldEF0dHJpYnV0ZShpZCwgXCJkaXNhYmxlZFwiLCBcInRydWVcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBFbGVtZW50UmVtb3ZlQXR0cmlidXRlKGlkLCBcImRpc2FibGVkXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIERyYXdUZXh0Rml0KFxyXG4gICAgICAgICAgICAgICAgTG9jYWxpemVkVGV4dChzZXR0aW5nLmxhYmVsKVxyXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlQWxsKFwiVGFyZ2V0Q2hhcmFjdGVyXCIsIChzZXR0aW5nQ2hhcj8uTmlja25hbWUgfHwgc2V0dGluZ0NoYXI/Lk5hbWUpID8/IFwiXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2VBbGwoXCJUYXJnZXRQcm9ub3VuUG9zc2Vzc2l2ZVwiLCBzZXR0aW5nQ2hhcj8uR2V0UHJvbm91bnMoKSA9PT0gXCJTaGVIZXJcIiA/IFwiaGVyXCIgOiBcImhpc1wiKSxcclxuICAgICAgICAgICAgICAgIE9QVElPTl9MRUZUICsgKHNldHRpbmcud2lkdGggPz8gT1BUSU9OX1RFWFRfV0lEVEgpICsgKE9QVElPTl9HQVAgKiAyKSxcclxuICAgICAgICAgICAgICAgIE9QVElPTl9UT1AgKyAoaSAqIChPUFRJT05fR0FQICsgT1BUSU9OX0hFSUdIVCkpICsgTWF0aC5jZWlsKE9QVElPTl9IRUlHSFQgLyAyKSxcclxuICAgICAgICAgICAgICAgIENBTlZBU19XSURUSCAtIChPUFRJT05fTEVGVCAqIDIpIC0gKHNldHRpbmcud2lkdGggPz8gT1BUSU9OX1RFWFRfV0lEVEgpLFxyXG4gICAgICAgICAgICAgICAgXCJCbGFja1wiLFxyXG4gICAgICAgICAgICAgICAgXCJHcmF5XCJcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gR2V0Q2xpY2tlZE9wdGlvbihzdWJNZW51OiBNb2R1bGVUaXRsZSk6IHZvaWRcclxue1xyXG4gICAgLy8gU2hvdWxkbid0IGJlIG5lZWRlZCBidXQgYWN0cyBhcyBmYWlsc2FmZSBhbmQgbWFrZXMgdHlwZXNjcmlwdCBoYXBweVxyXG4gICAgaWYgKCFzZXR0aW5nQ2hhcikgeyByZXR1cm47IH1cclxuXHJcbiAgICBjb25zdCBzZXR0aW5nc1RvRGlzcGxheSA9IE9iamVjdC5lbnRyaWVzKGRlZmF1bHRTZXR0aW5nc1tzdWJNZW51XSA/PyB7fSlcclxuICAgICAgICAuZmlsdGVyKChbX2tleSwgc2V0dGluZ10pID0+IElzRGlzcGxheVNldHRpbmcoc2V0dGluZykpO1xyXG5cclxuICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgdGhlIG9wdGlvbnMgYW5kIGNoZWNrIGlmIHRoZSBjbGljayBvY2N1cmVkIGluIHRoZSB0eXBlJ3MgY29ycmVzcG9uZGluZyBjbGljayB6b25lXHJcbiAgICBzZXR0aW5nc1RvRGlzcGxheS5zbGljZSgoY3VycmVudFBhZ2UgLSAxKSAqIE9QVElPTl9QRVJfUEFHRSwgY3VycmVudFBhZ2UgKiBPUFRJT05fUEVSX1BBR0UpLmZvckVhY2goKHZhbCwgaSkgPT5cclxuICAgIHtcclxuICAgICAgICBjb25zdCBbc2V0dGluZ05hbWUsIHNldHRpbmddID0gdmFsIGFzIFtzdHJpbmcsIERpc3BsYXllZFNldHRpbmddO1xyXG5cclxuICAgICAgICBjb25zdCBkaXNhYmxlZFNldHRpbmcgPSAhc2V0dGluZy5hY3RpdmUoc2V0dGluZ0NoYXIhKVxyXG4gICAgICAgICAgfHwgKFxyXG4gICAgICAgICAgICAgIGBvdGhlcnMke3N1Yk1lbnV9YCBpbiBzZXR0aW5nQ2hhciEuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV1cclxuICAgICAgICAgICAgICAmJiBgc2VsZiR7c3ViTWVudX1gIGluIHNldHRpbmdDaGFyIS5NUEFbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XVxyXG4gICAgICAgICAgICAgICYmICFJc01lbWJlck51bWJlckluQXV0aEdyb3VwKFxyXG4gICAgICAgICAgICAgICAgICBQbGF5ZXIuTWVtYmVyTnVtYmVyID8/IC0xLFxyXG4gICAgICAgICAgICAgICAgICBzZXR0aW5nQ2hhciEuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV1bYG90aGVycyR7c3ViTWVudX1gXSBhcyBBdXRob3JpdHlHcm91cCxcclxuICAgICAgICAgICAgICAgICAgc2V0dGluZ0NoYXIhLk1QQVtNb2R1bGVUaXRsZS5BdXRob3JpdHldW2BzZWxmJHtzdWJNZW51fWBdIGFzIGJvb2xlYW4sXHJcbiAgICAgICAgICAgICAgICAgIHNldHRpbmdDaGFyIVxyXG4gICAgICAgICAgICAgICkpO1xyXG5cclxuICAgICAgICBpZiAoSXNDaGVja2JveFNldHRpbmcoc2V0dGluZykpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICBNb3VzZUluKFxyXG4gICAgICAgICAgICAgICAgICAgIE9QVElPTl9MRUZULFxyXG4gICAgICAgICAgICAgICAgICAgIE9QVElPTl9UT1AgKyAoaSAqIChPUFRJT05fR0FQICsgT1BUSU9OX0hFSUdIVCkpLFxyXG4gICAgICAgICAgICAgICAgICAgIE9QVElPTl9DSEVDS0JPWF9TSVpFLFxyXG4gICAgICAgICAgICAgICAgICAgIE9QVElPTl9DSEVDS0JPWF9TSVpFXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAmJiAhZGlzYWJsZWRTZXR0aW5nXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gPSAhc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV07XHJcbiAgICAgICAgICAgICAgICBpZiAoc2V0dGluZy5vblNldClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nLm9uU2V0KHNldHRpbmdDaGFyISk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzZXR0aW5nc0VkaXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoSXNPcHRpb25TZXR0aW5nKHNldHRpbmcpKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBzZXR0aW5nLm9wdGlvbnMuaW5kZXhPZihzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSBhcyBzdHJpbmcpO1xyXG4gICAgICAgICAgICBjb25zdCBvcHRMZW4gPSBzZXR0aW5nLm9wdGlvbnMubGVuZ3RoO1xyXG4gICAgICAgICAgICAvLyBCYWNrIGFycm93XHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgIE1vdXNlSW4oXHJcbiAgICAgICAgICAgICAgICAgICAgT1BUSU9OX0xFRlQsXHJcbiAgICAgICAgICAgICAgICAgICAgT1BUSU9OX1RPUCArIChpICogKE9QVElPTl9HQVAgKyBPUFRJT05fSEVJR0hUKSksXHJcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihPUFRJT05fQkFDS19ORVhUX1dJRFRIIC8gMiksXHJcbiAgICAgICAgICAgICAgICAgICAgT1BUSU9OX0hFSUdIVFxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgJiYgIWRpc2FibGVkU2V0dGluZ1xyXG4gICAgICAgICAgICAgICAgJiYgKHNldHRpbmcubG9vcFxyXG4gICAgICAgICAgICAgICAgfHwgaW5kZXggPiAwKVxyXG4gICAgICAgICAgICAgICAgLy8gQ2FuJ3QgZGVjcmVhc2UgYXV0aG9yaXR5IGJleW9uZCBpZiB0aGUgcGxheWVyIGlzIG5vdCBvZiB0aGF0IHJhbmtcclxuICAgICAgICAgICAgICAgICYmIChzdWJNZW51ICE9PSBNb2R1bGVUaXRsZS5BdXRob3JpdHlcclxuICAgICAgICAgICAgICAgIHx8ICFBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUy5pbmNsdWRlcyhzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSlcclxuICAgICAgICAgICAgICAgIHx8IEF1dGhvcml0eUlzQ29tcGFyaXNvblRvQ2hhcmFjdGVyKHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdIGFzIEF1dGhvcml0eUdyb3VwLCBcIj49XCIsIFBsYXllci5NZW1iZXJOdW1iZXIgPz8gLTEsIHNldHRpbmdDaGFyISkpXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gPSBzZXR0aW5nLm9wdGlvbnNbKGluZGV4IC0gMSArIG9wdExlbikgJSBvcHRMZW5dO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNldHRpbmcub25TZXQpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZy5vblNldChzZXR0aW5nQ2hhciEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc2V0dGluZ3NFZGl0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIE5leHQgYXJyb3dcclxuICAgICAgICAgICAgZWxzZSBpZiAoXHJcbiAgICAgICAgICAgICAgICBNb3VzZUluKFxyXG4gICAgICAgICAgICAgICAgICAgIE9QVElPTl9MRUZUICsgTWF0aC5mbG9vcihPUFRJT05fQkFDS19ORVhUX1dJRFRIIC8gMiksXHJcbiAgICAgICAgICAgICAgICAgICAgT1BUSU9OX1RPUCArIChpICogKE9QVElPTl9HQVAgKyBPUFRJT05fSEVJR0hUKSksXHJcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5jZWlsKE9QVElPTl9CQUNLX05FWFRfV0lEVEggLyAyKSxcclxuICAgICAgICAgICAgICAgICAgICBPUFRJT05fSEVJR0hUXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAmJiAhZGlzYWJsZWRTZXR0aW5nXHJcbiAgICAgICAgICAgICAgICAmJiAoc2V0dGluZy5sb29wXHJcbiAgICAgICAgICAgICAgICB8fCBpbmRleCArIDEgPCBzZXR0aW5nLm9wdGlvbnMubGVuZ3RoKVxyXG4gICAgICAgICAgICAgICAgLy8gQ2FuJ3QgaW5jcmVhc2UgYXV0aG9yaXR5IGJleW9uZCB3aGF0IHRoZSBwbGF5ZXIgd2hvIGlzIHNldHRpbmcgaXQgaXNcclxuICAgICAgICAgICAgICAgICYmIChzdWJNZW51ICE9PSBNb2R1bGVUaXRsZS5BdXRob3JpdHlcclxuICAgICAgICAgICAgICAgIHx8ICFBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUy5pbmNsdWRlcyhzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSlcclxuICAgICAgICAgICAgICAgIHx8IEF1dGhvcml0eUlzQ29tcGFyaXNvblRvQ2hhcmFjdGVyKHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdIGFzIEF1dGhvcml0eUdyb3VwLCBcIj5cIiwgUGxheWVyLk1lbWJlck51bWJlciA/PyAtMSwgc2V0dGluZ0NoYXIhKSlcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSA9IHNldHRpbmcub3B0aW9uc1soaW5kZXggKyAxICsgb3B0TGVuKSAlIG9wdExlbl07XHJcbiAgICAgICAgICAgICAgICBpZiAoc2V0dGluZy5vblNldClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nLm9uU2V0KHNldHRpbmdDaGFyISk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzZXR0aW5nc0VkaXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIEV4aXRCdXR0b25QcmVzc2VkKCk6IHZvaWRcclxue1xyXG4gICAgaWYgKGN1cnJlbnRNZW51ID09PSBudWxsKVxyXG4gICAge1xyXG4gICAgICAgIGlmICh3aW5kb3cuTVBBLm1lbnVMb2FkZWQpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB3aW5kb3cuTVBBLm1lbnVMb2FkZWQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgUHJlZmVyZW5jZU1lbnVFeGl0KCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChjdXJyZW50TWVudSA9PT0gXCJSRVNFVF9TZXR0aW5nc1wiKVxyXG4gICAge1xyXG4gICAgICAgIGN1cnJlbnRNZW51ID0gbnVsbDtcclxuICAgIH1cclxuICAgIGVsc2VcclxuICAgIHtcclxuICAgICAgICAvLyBTYXZlIGFsbCB0ZXh0IGZpZWxkcyB0byB0aGVpciByZXNwZWN0aXZlIHNldHRpbmdcclxuICAgICAgICBVcGRhdGVBbmREZWxldGVIVE1MRWxlbWVudHMoY3VycmVudE1lbnUpO1xyXG4gICAgICAgIGN1cnJlbnRQYWdlID0gMTtcclxuICAgICAgICBtYXhQYWdlcyA9IDE7XHJcbiAgICAgICAgY3VycmVudE1lbnUgPSBudWxsO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gUHJlZmVyZW5jZU1lbnVDbGljaygpOiB2b2lkXHJcbntcclxuICAgIGlmIChNb3VzZUluKC4uLkVYSVRfUE9TSVNUSU9OKSlcclxuICAgIHtcclxuICAgICAgICBFeGl0QnV0dG9uUHJlc3NlZCgpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoc2V0dGluZ0NoYXI/Lk1lbWJlck51bWJlciA9PT0gUGxheWVyLk1lbWJlck51bWJlciAmJiBjdXJyZW50TWVudSA9PT0gbnVsbClcclxuICAgIHtcclxuICAgICAgICBpZiAoTW91c2VJbiguLi5SRVNFVF9QT1NJVElPTikpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjdXJyZW50TWVudSA9IFwiUkVTRVRfU2V0dGluZ3NcIjtcclxuICAgICAgICAgICAgYWxsb3dSZXNldFRpbWUgPSBEYXRlLm5vdygpICsgMTAwMDA7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKE1vdXNlSW4oLi4uSU1QT1JUX1BPU0lUSU9OKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIEltcG9ydFNldHRpbmdzRnJvbUNsaXBib2FyZCgpLnRoZW4oKCkgPT5cclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc2V0dGluZ3NBbGVydFRleHQgPSBcIlNldHRpbmdzIGltcG9ydGVkIGZyb20gY2xpcGJvYXJkXCI7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICgpID0+XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHNldHRpbmdzQWxlcnRUZXh0ID0gXCJGYWlsZWQgdG8gaW1wb3J0IHNldHRpbmdzXCI7XHJcbiAgICAgICAgICAgIH0pLmZpbmFsbHkoKCkgPT4gc2hvd1NldHRpbmdzQWxlcnQgPSBEYXRlLm5vdygpICsgNTAwMCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKE1vdXNlSW4oLi4uRVhQT1JUX1BPU0lUSU9OKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIEV4cG9ydFNldHRpbmdzVG9DbGlwYm9hcmQoKS50aGVuKCgpID0+XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHNldHRpbmdzQWxlcnRUZXh0ID0gXCJTZXR0aW5ncyBjb3BpZWQgdG8gY2xpcGJvYXJkXCI7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICgpID0+XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHNldHRpbmdzQWxlcnRUZXh0ID0gXCJGYWlsZWQgdG8gZXhwb3J0IHNldHRpbmdzXCI7XHJcbiAgICAgICAgICAgIH0pLmZpbmFsbHkoKCkgPT4gc2hvd1NldHRpbmdzQWxlcnQgPSBEYXRlLm5vdygpICsgNTAwMCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2V0IHRoZSBzdWJtZW51IGNsaWNrZWQgb3B0aW9uc1xyXG4gICAgaWYgKGN1cnJlbnRNZW51ID09PSBudWxsICYmIEdldENsaWNrZWRNZW51KE1FTlVfQ0FURUdPUklFUygpKSAhPT0gbnVsbClcclxuICAgIHtcclxuICAgICAgICBjdXJyZW50TWVudSA9IEdldENsaWNrZWRNZW51KE1FTlVfQ0FURUdPUklFUygpKTtcclxuICAgICAgICBjdXJyZW50UGFnZSA9IDE7XHJcbiAgICAgICAgbWF4UGFnZXMgPSBNYXRoLmNlaWwoT2JqZWN0LnZhbHVlcyhkZWZhdWx0U2V0dGluZ3NbY3VycmVudE1lbnUgPz8gXCJcIl0gPz8ge30pXHJcbiAgICAgICAgICAgIC5maWx0ZXIoKHNldHRpbmcpID0+IElzRGlzcGxheVNldHRpbmcoc2V0dGluZykpLmxlbmd0aCAvIE9QVElPTl9QRVJfUEFHRSk7XHJcbiAgICAgICAgQ3JlYXRlSFRNTEVsZW1lbnRzKGN1cnJlbnRNZW51KTtcclxuICAgIH1cclxuICAgIGlmIChjdXJyZW50TWVudSA9PT0gXCJSRVNFVF9TZXR0aW5nc1wiKVxyXG4gICAge1xyXG4gICAgICAgIFJlc2V0TWVudUNsaWNrKCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgLy8gR2V0IG9wdGlvbiBvZiB0aGUgY3VycmVudCBtZW51XHJcbiAgICBpZiAoY3VycmVudE1lbnUgIT09IG51bGwpXHJcbiAgICB7XHJcbiAgICAgICAgLy8gTmV4dCBhbmQgcHJldmlvdXMgYnV0dG9uc1xyXG4gICAgICAgIC8vIE9ubHkgY2hlY2sgaWYgc2V0dGluZyBwYWdlIG5lZWRzIGl0XHJcbiAgICAgICAgaWYgKE9iamVjdC52YWx1ZXMoZGVmYXVsdFNldHRpbmdzW2N1cnJlbnRNZW51XSA/PyB7fSlcclxuICAgICAgICAgICAgLmZpbHRlcigoc2V0dGluZykgPT4gSXNEaXNwbGF5U2V0dGluZyhzZXR0aW5nKSkubGVuZ3RoID4gT1BUSU9OX1BFUl9QQUdFXHJcbiAgICAgICAgKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKE1vdXNlSW4oLi4uTkVYVF9CVVRUT05fUE9TKSAmJiBjdXJyZW50UGFnZSA8IG1heFBhZ2VzKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBVcGRhdGVBbmREZWxldGVIVE1MRWxlbWVudHMoY3VycmVudE1lbnUpO1xyXG4gICAgICAgICAgICAgICAgY3VycmVudFBhZ2UrKztcclxuICAgICAgICAgICAgICAgIENyZWF0ZUhUTUxFbGVtZW50cyhjdXJyZW50TWVudSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKE1vdXNlSW4oLi4uUFJFVl9CVVRUT05fUE9TKSAmJiBjdXJyZW50UGFnZSA+IDEpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIFVwZGF0ZUFuZERlbGV0ZUhUTUxFbGVtZW50cyhjdXJyZW50TWVudSk7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50UGFnZS0tO1xyXG4gICAgICAgICAgICAgICAgQ3JlYXRlSFRNTEVsZW1lbnRzKGN1cnJlbnRNZW51KTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBHZXRDbGlja2VkT3B0aW9uKGN1cnJlbnRNZW51KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm47XHJcbn1cclxuXHJcbmZ1bmN0aW9uIFJlc2V0TWVudUNsaWNrKCk6IHZvaWRcclxue1xyXG4gICAgaWYgKE1vdXNlSW4oLi4uUkVTRVRfQ09ORklSTV9QT1NJVElPTikgJiYgRGF0ZS5ub3coKSA+IGFsbG93UmVzZXRUaW1lKVxyXG4gICAge1xyXG4gICAgICAgIFJlc2V0U3RvcmFnZSgpO1xyXG4gICAgICAgIGN1cnJlbnRNZW51ID0gbnVsbDtcclxuICAgICAgICBhbGxvd1Jlc2V0VGltZSA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKE1vdXNlSW4oLi4uUkVTRVRfQ0FOQ0VMX1BPU0lUSU9OKSlcclxuICAgIHtcclxuICAgICAgICBjdXJyZW50TWVudSA9IG51bGw7XHJcbiAgICAgICAgYWxsb3dSZXNldFRpbWUgPSAwO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBSZXNldE1lbnVSdW4oKTogdm9pZFxyXG57XHJcbiAgICBjb25zdCBwcmV2VGV4dEFsaWduID0gTWFpbkNhbnZhcy50ZXh0QWxpZ247XHJcbiAgICBNYWluQ2FudmFzLnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XHJcblxyXG4gICAgRHJhd1RleHQoXHJcbiAgICAgICAgTG9jYWxpemVkVGV4dChcIldBUk5JTkc6IEFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byByZXNldCB5b3VyIE1QQSBzZXR0aW5ncyBhbmQgZGF0YSBiYWNrIHRvIGRlZmF1bHQ/XCIpLFxyXG4gICAgICAgIENBTlZBU19XSURUSCAvIDIsXHJcbiAgICAgICAgMjUwLFxyXG4gICAgICAgIFwiIzAwMDAwMFwiLFxyXG4gICAgICAgIFwiI2FhYWFhYVwiXHJcbiAgICApO1xyXG4gICAgRHJhd1RleHQoXHJcbiAgICAgICAgLy8gQSBsaXR0bGUgaG9tYWdlIHRvIEJDWCBhbmQgTFNDRyBmb3IgYmVpbmcgZ3JlYXQgb3BlbiBzb3VyY2UgcmVmZXJlbmNlcyBvbiB0aGlzIHByb2plY3RcclxuICAgICAgICBMb2NhbGl6ZWRUZXh0KFwiVGhpcyBhY3Rpb24gY2FuIG5vdCBiZSB1bmRvbmUhXCIpLFxyXG4gICAgICAgIENBTlZBU19XSURUSCAvIDIsXHJcbiAgICAgICAgNDAwLFxyXG4gICAgICAgIFwiI2ZmMDAwMFwiLFxyXG4gICAgICAgIFwiI2FhYWFhYVwiXHJcbiAgICApO1xyXG4gICAgRHJhd1RleHQoXHJcbiAgICAgICAgTG9jYWxpemVkVGV4dChcIkV4cG9ydCBhbmQgc2F2ZSB5b3VyIHNldHRpbmdzIEJFRk9SRSBjb25maXJtaW5nIGlmIHlvdSBhcmUgdW5zdXJlLlwiKSxcclxuICAgICAgICBDQU5WQVNfV0lEVEggLyAyLFxyXG4gICAgICAgIDU1MCxcclxuICAgICAgICBcIiM2OTY5NjlcIixcclxuICAgICAgICBcIiNhYWFhYWFcIlxyXG4gICAgKTtcclxuXHJcbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xyXG4gICAgaWYgKG5vdyA8PSBhbGxvd1Jlc2V0VGltZSlcclxuICAgIHtcclxuICAgICAgICBEcmF3QnV0dG9uKFxyXG4gICAgICAgICAgICAuLi5SRVNFVF9DT05GSVJNX1BPU0lUSU9OLFxyXG4gICAgICAgICAgICBgJHtMb2NhbGl6ZWRUZXh0KFwiQ29uZmlybVwiKX0gKCR7TWF0aC5mbG9vcigoYWxsb3dSZXNldFRpbWUgLSBub3cpIC8gMTAwMCl9KWAsXHJcbiAgICAgICAgICAgIFwiI2FhYWFhYVwiLFxyXG4gICAgICAgICAgICB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgIHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgdHJ1ZVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbiAgICBlbHNlXHJcbiAgICB7XHJcbiAgICAgICAgRHJhd0J1dHRvbihcclxuICAgICAgICAgICAgLi4uUkVTRVRfQ09ORklSTV9QT1NJVElPTixcclxuICAgICAgICAgICAgTG9jYWxpemVkVGV4dChcIkNvbmZpcm1cIiksXHJcbiAgICAgICAgICAgIFwiI2ZmMDAwMFwiXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBEcmF3QnV0dG9uKFxyXG4gICAgICAgIC4uLlJFU0VUX0NBTkNFTF9QT1NJVElPTixcclxuICAgICAgICBMb2NhbGl6ZWRUZXh0KFwiQ2FuY2VsXCIpLFxyXG4gICAgICAgIFwiV2hpdGVcIlxyXG4gICAgKTtcclxuXHJcbiAgICBNYWluQ2FudmFzLnRleHRBbGlnbiA9IHByZXZUZXh0QWxpZ247XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBQcmVmZXJlbmNlTWVudVJ1bigpOiB2b2lkXHJcbntcclxuICAgIGlmIChjdXJyZW50TWVudSA9PT0gXCJSRVNFVF9TZXR0aW5nc1wiKVxyXG4gICAge1xyXG4gICAgICAgIFJlc2V0TWVudVJ1bigpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBwcmV2VGV4dEFsaWduID0gTWFpbkNhbnZhcy50ZXh0QWxpZ247XHJcbiAgICBEcmF3QnV0dG9uKC4uLkVYSVRfUE9TSVNUSU9OLCBcIlwiLCBcIldoaXRlXCIsIFwiSWNvbnMvRXhpdC5wbmdcIik7XHJcbiAgICBNYWluQ2FudmFzLnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XHJcbiAgICBEcmF3VGV4dChgJHtMb2NhbGl6ZWRUZXh0KFwiTWF5YSdzIFBldHBsYXkgQWRkaXRpb25zXCIpfSR7Y3VycmVudE1lbnUgPyBgIC0gJHtzZXR0aW5nQ2hhcj8uTmlja25hbWUgfHwgc2V0dGluZ0NoYXI/Lk5hbWV9J3MgJHtMb2NhbGl6ZWRUZXh0KE1FTlVfVElUTEVTW2N1cnJlbnRNZW51XSA/PyBjdXJyZW50TWVudSl9YCA6IFwiXCJ9YCwgMTAwMCwgMTI1LCBcIkJsYWNrXCIsIFwiR3JheVwiKTtcclxuXHJcbiAgICAvLyBSZXNldCwgaW1wb3J0IGFuZCBleHBvcnQgYnV0IG9ubHkgd2hpbGUgUGxheWVyXHJcbiAgICBpZiAoc2V0dGluZ0NoYXI/Lk1lbWJlck51bWJlciA9PT0gUGxheWVyLk1lbWJlck51bWJlciAmJiBjdXJyZW50TWVudSA9PT0gbnVsbClcclxuICAgIHtcclxuICAgICAgICBpZiAoc2hvd1NldHRpbmdzQWxlcnQgPj0gRGF0ZS5ub3coKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIE1haW5DYW52YXMudGV4dEFsaWduID0gXCJsZWZ0XCI7XHJcbiAgICAgICAgICAgIERyYXdUZXh0Rml0KFxyXG4gICAgICAgICAgICAgICAgc2V0dGluZ3NBbGVydFRleHQsXHJcbiAgICAgICAgICAgICAgICAuLi5BTEVSVF9QT1NJVElPTixcclxuICAgICAgICAgICAgICAgIFwiQmxhY2tcIixcclxuICAgICAgICAgICAgICAgIFwiR3JheVwiXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIE1haW5DYW52YXMudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcclxuICAgICAgICBEcmF3QnV0dG9uKFxyXG4gICAgICAgICAgICAuLi5SRVNFVF9QT1NJVElPTixcclxuICAgICAgICAgICAgTG9jYWxpemVkVGV4dChcIlJFU0VUXCIpLFxyXG4gICAgICAgICAgICBcIiNmZjJlMmVhYVwiLFxyXG4gICAgICAgICAgICBcIlwiLFxyXG4gICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KFwiUmVzZXQgYWxsIHlvdXIgc2V0dGluZ3MgYmFjayB0byBkZWZhdWx0XCIpXHJcbiAgICAgICAgKTtcclxuICAgICAgICBEcmF3QnV0dG9uKFxyXG4gICAgICAgICAgICAuLi5JTVBPUlRfUE9TSVRJT04sXHJcbiAgICAgICAgICAgIExvY2FsaXplZFRleHQoXCJJbXBvcnRcIiksXHJcbiAgICAgICAgICAgIFwiI2ZmZmZmZlwiLFxyXG4gICAgICAgICAgICBcIlwiLFxyXG4gICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KFwiSW1wb3J0IHRoZSBzZXR0aW5ncyBjb3BpZWQgdG8geW91ciBjbGlwYm9hcmRcIilcclxuICAgICAgICApO1xyXG4gICAgICAgIERyYXdCdXR0b24oXHJcbiAgICAgICAgICAgIC4uLkVYUE9SVF9QT1NJVElPTixcclxuICAgICAgICAgICAgTG9jYWxpemVkVGV4dChcIkV4cG9ydFwiKSxcclxuICAgICAgICAgICAgXCIjZmZmZmZmXCIsXHJcbiAgICAgICAgICAgIFwiXCIsXHJcbiAgICAgICAgICAgIExvY2FsaXplZFRleHQoXCJFeHBvcnQgeW91ciBjdXJyZW50IHNldHRpbmdzIHRvIHRoZSBjbGlwYm9hcmRcIilcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIE1haW5DYW52YXMudGV4dEFsaWduID0gXCJsZWZ0XCI7XHJcbiAgICBpZiAoY3VycmVudE1lbnUgPT09IG51bGwpXHJcbiAgICB7XHJcbiAgICAgICAgLy8gRHJhdyBhbGwgdGhlIGJ1dHRvbnMgdG8gYWNjZXNzIHRoZSBzdWJtZW51c1xyXG4gICAgICAgIERyYXdNZW51T3B0aW9ucyhNRU5VX0NBVEVHT1JJRVMoKSk7XHJcbiAgICB9XHJcbiAgICBlbHNlXHJcbiAgICB7XHJcbiAgICAgICAgLy8gRHJhdyB0aGUgb3B0aW9ucyBpbiB0aGUgc3VibWVudVxyXG4gICAgICAgIERyYXdTdWJNZW51T3B0aW9ucyhjdXJyZW50TWVudSk7XHJcbiAgICB9XHJcbiAgICBNYWluQ2FudmFzLnRleHRBbGlnbiA9IHByZXZUZXh0QWxpZ247XHJcbiAgICByZXR1cm47XHJcbn1cclxuXHJcbmZ1bmN0aW9uIFByZWZlcmVuY2VNZW51RXhpdCgpOiBib29sZWFuIHwgdm9pZFxyXG57XHJcbiAgICAvLyBTaG91bGRuJ3QgYmUgbmVlZGVkIGJ1dCBhY3RzIGFzIGZhaWxzYWZlIGFuZCBtYWtlcyB0eXBlc2NyaXB0IGhhcHB5XHJcbiAgICBpZiAoIXNldHRpbmdDaGFyKSB7IHJldHVybjsgfVxyXG5cclxuICAgIGlmIChzZXR0aW5nc0VkaXRlZClcclxuICAgIHtcclxuICAgICAgICBpZiAoc2V0dGluZ0NoYXIuTWVtYmVyTnVtYmVyID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKHZwRW5hYmxlZCAhPT0gc2V0dGluZ0NoYXIuTVBBW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdLmVuYWJsZWQgJiYgIXZwRW5hYmxlZClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc2V0dGluZ0NoYXIuTVBBW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdLmxldmVscy5sYXN0VXBkYXRlZCA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgU2F2ZVN0b3JhZ2UodHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIFNlbmRNUEFNZXNzYWdlKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiU2V0dGluZ1B1dFJlcXVlc3RcIixcclxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nczogc2V0dGluZ0NoYXIuTVBBXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc2V0dGluZ0NoYXIuTWVtYmVyTnVtYmVyXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNldHRpbmdDaGFyLk1lbWJlck51bWJlciA9PT0gUGxheWVyLk1lbWJlck51bWJlcilcclxuICAgIHtcclxuICAgICAgICBQcmVmZXJlbmNlU3Vic2NyZWVuRXh0ZW5zaW9uc0NsZWFyKCk7XHJcbiAgICB9XHJcbiAgICBzZXR0aW5nc0VkaXRlZCA9IGZhbHNlO1xyXG4gICAgc2V0dGluZ0NoYXIgPSBudWxsO1xyXG4gICAgc2V0dGluZ3NPcGVuID0gZmFsc2U7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDYWxsZWQgb25jZSB3aGVuIHRoZSBQcmVmZXJlbmNlIE1lbnUgbG9hZHMgdXAgYWZ0ZXIgb3BlbmluZ1xyXG4gKi9cclxuZnVuY3Rpb24gUHJlZmVyZW5jZU1lbnVMb2FkKCk6IHZvaWRcclxue1xyXG4gICAgLy8gU2hvdWxkbid0IGJlIG5lZWRlZCBidXQgYWN0cyBhcyBmYWlsc2FmZSBhbmQgbWFrZXMgdHlwZXNjcmlwdCBoYXBweVxyXG4gICAgaWYgKCFzZXR0aW5nQ2hhcikgeyByZXR1cm47IH1cclxuXHJcbiAgICB2cEVuYWJsZWQgPSBzZXR0aW5nQ2hhci5NUEFbTW9kdWxlVGl0bGUuVmlydHVhbFBldF0uZW5hYmxlZDtcclxuICAgIHNldHRpbmdzT3BlbiA9IHRydWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIFBsYXllclByZWZlcmVuY2VNZW51TG9hZCgpOiB2b2lkXHJcbntcclxuICAgIHNldHRpbmdzRWRpdGVkID0gZmFsc2U7XHJcbiAgICBzZXR0aW5nQ2hhciA9IFBsYXllcjtcclxuICAgIFByZWZlcmVuY2VNZW51TG9hZCgpO1xyXG59XHJcblxyXG4vKipcclxuICogR2V0IHRoZSBzdHJpbmcgd2l0aCBhbiBNUEEgaWRlbnRpZmllciBpbiBmcm9udFxyXG4gKi9cclxuZnVuY3Rpb24gRWxlbWVudE5hbWUodGl0bGU6IE1vZHVsZVRpdGxlIHwgc3RyaW5nLCBzZXR0aW5nOiBzdHJpbmcpOiBzdHJpbmdcclxue1xyXG4gICAgcmV0dXJuIGBNUEFfT1BUSU9OXyR7dGl0bGV9JHtzZXR0aW5nfWA7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBVcGRhdGUgdGhlIHZhbHVlcyBpbnNpZGUgdGhlIEhUTUwgZWxlbWVudHMgdG8gcmVmbGVjdCB0aGUgY3VycmVudCBzZXR0aW5nc1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIFVwZGF0ZUVsZW1lbnRWYWx1ZXMoKTogdm9pZFxyXG57XHJcbiAgICAvLyBTaG91bGRuJ3QgYmUgbmVlZGVkIGJ1dCBhY3RzIGFzIGZhaWxzYWZlIGFuZCBtYWtlcyB0eXBlc2NyaXB0IGhhcHB5XHJcbiAgICBpZiAoIXNldHRpbmdDaGFyKSB7IHJldHVybjsgfVxyXG5cclxuICAgIE9iamVjdC5lbnRyaWVzKGRlZmF1bHRTZXR0aW5ncykuZm9yRWFjaCgoY2F0ZWdvcnkpID0+XHJcbiAgICB7XHJcbiAgICAgICAgY29uc3QgW3NldHRpbmdUaXRsZSwgc2V0dGluZ3NdID0gY2F0ZWdvcnkgYXMgW01vZHVsZVRpdGxlLCBNUEFDYXRlZ29yeVNldHRpbmdzXTtcclxuICAgICAgICBPYmplY3QuZW50cmllcyhzZXR0aW5ncykuZm9yRWFjaCgoc2V0KSA9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgW3NldHRpbmdOYW1lLCBzZXR0aW5nXSA9IHNldDtcclxuICAgICAgICAgICAgY29uc3QgaWQgPSBFbGVtZW50TmFtZShzZXR0aW5nVGl0bGUsIHNldHRpbmdOYW1lKTtcclxuICAgICAgICAgICAgaWYgKElzVGV4dFNldHRpbmcoc2V0dGluZykgfHwgSXNOdW1iZXJTZXR0aW5nKHNldHRpbmcpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBFbGVtZW50U2V0QXR0cmlidXRlKGlkLCBcInZhbHVlXCIsIHNldHRpbmdDaGFyIS5NUEFbc2V0dGluZ1RpdGxlXVtzZXR0aW5nTmFtZV0udG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGUgYW5kIGhpZGUgYWxsIHRoZSBIVE1MIGVsZW1lbnRzIHRoYXQgYXJlIG5lZWRlZCBmb3IgdGhlIFByZWZlcmVuY2UgU2V0dGluZyBwYWdlXHJcbiAqL1xyXG5mdW5jdGlvbiBDcmVhdGVIVE1MRWxlbWVudHMoc3ViTWVudTogTW9kdWxlVGl0bGUgfCBudWxsLCBwYWdlOiBudW1iZXIgPSBjdXJyZW50UGFnZSk6IHZvaWRcclxue1xyXG4gICAgaWYgKCFzdWJNZW51KSB7IHJldHVybjsgfVxyXG4gICAgLy8gU2hvdWxkbid0IGJlIG5lZWRlZCBidXQgYWN0cyBhcyBmYWlsc2FmZSBhbmQgbWFrZXMgdHlwZXNjcmlwdCBoYXBweVxyXG4gICAgaWYgKCFzZXR0aW5nQ2hhcikgeyByZXR1cm47IH1cclxuXHJcbiAgICBPYmplY3QuZW50cmllcyhkZWZhdWx0U2V0dGluZ3Nbc3ViTWVudV0gPz8ge30pLnNsaWNlKChwYWdlIC0gMSkgKiBPUFRJT05fUEVSX1BBR0UsIHBhZ2UgKiBPUFRJT05fUEVSX1BBR0UpLmZvckVhY2goKHNldCkgPT5cclxuICAgIHtcclxuICAgICAgICBjb25zdCBbc2V0dGluZ05hbWUsIHNldHRpbmddID0gc2V0O1xyXG4gICAgICAgIGNvbnN0IGlkID0gRWxlbWVudE5hbWUoc3ViTWVudSwgc2V0dGluZ05hbWUpO1xyXG4gICAgICAgIGlmIChJc1RleHRTZXR0aW5nKHNldHRpbmcpKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgRWxlbWVudENyZWF0ZUlucHV0KGlkLCBcInRleHRcIiwgc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gYXMgc3RyaW5nLCBzZXR0aW5nLm1heENoYXJzID8/IE9QVElPTl9URVhUX01BWF9DSEFSUyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKElzTnVtYmVyU2V0dGluZyhzZXR0aW5nKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIEVsZW1lbnRDcmVhdGVJbnB1dChpZCwgXCJudW1iZXJcIiwgc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0udG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgIEVsZW1lbnRTZXRBdHRyaWJ1dGUoaWQsIFwibWluXCIsIHNldHRpbmcubWluLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICBFbGVtZW50U2V0QXR0cmlidXRlKGlkLCBcIm1heFwiLCBzZXR0aW5nLm1heC50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgRWxlbWVudFNldEF0dHJpYnV0ZShpZCwgXCJpbnB1dG1vZGVcIiwgXCJkZWNpbWFsXCIpO1xyXG4gICAgICAgICAgICBpZiAoc2V0dGluZy5zdGVwKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBFbGVtZW50U2V0QXR0cmlidXRlKGlkLCBcInN0ZXBcIiwgc2V0dGluZy5zdGVwLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuLyoqXHJcbiAqIFVwZGF0ZSB0aGUgc2V0dGluZyB2YWx1ZXMgdG8gcmVmbGVjdCB0aG9zZSBpbiB0aGUgaHRtbCBlbGVtZW50cyBhbmQgZGVsZXRlIHRoZW0gYWZ0ZXJcclxuICovXHJcbmZ1bmN0aW9uIFVwZGF0ZUFuZERlbGV0ZUhUTUxFbGVtZW50cyhzdWJNZW51OiBNb2R1bGVUaXRsZSwgcGFnZTogbnVtYmVyID0gY3VycmVudFBhZ2UpOiB2b2lkXHJcbntcclxuICAgIC8vIFNob3VsZG4ndCBiZSBuZWVkZWQgYnV0IGFjdHMgYXMgZmFpbHNhZmUgYW5kIG1ha2VzIHR5cGVzY3JpcHQgaGFwcHlcclxuICAgIGlmICghc2V0dGluZ0NoYXIpIHsgcmV0dXJuOyB9XHJcblxyXG4gICAgLy8gVXBkYXRlIHRoZSB2aXJ0dWFsIHBldCBzdGF0cyBiYXNlZCBvbiBjdXJyZW50IHZhbHVlcyBzbyB0aGUgbGV2ZWwgZG9lc24ndCBqdW1wIGFyb3VuZFxyXG4gICAgaWYgKHN1Yk1lbnUgPT09IE1vZHVsZVRpdGxlLlZpcnR1YWxQZXQpXHJcbiAgICB7XHJcbiAgICAgICAgTGV2ZWxTeW5jKGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIE9iamVjdC5lbnRyaWVzKGRlZmF1bHRTZXR0aW5nc1tzdWJNZW51XSA/PyB7fSkuc2xpY2UoKHBhZ2UgLSAxKSAqIE9QVElPTl9QRVJfUEFHRSwgcGFnZSAqIE9QVElPTl9QRVJfUEFHRSkuZm9yRWFjaCgoc2V0KSA9PlxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IFtzZXR0aW5nTmFtZSwgc2V0dGluZ10gPSBzZXQ7XHJcbiAgICAgICAgY29uc3QgaWQgPSBFbGVtZW50TmFtZShzdWJNZW51LCBzZXR0aW5nTmFtZSk7XHJcbiAgICAgICAgaWYgKElzVGV4dFNldHRpbmcoc2V0dGluZykpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAoc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gIT09IEVsZW1lbnRWYWx1ZShpZCkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdID0gRWxlbWVudFZhbHVlKGlkKTtcclxuICAgICAgICAgICAgICAgIHNldHRpbmdzRWRpdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBFbGVtZW50UmVtb3ZlKGlkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKElzTnVtYmVyU2V0dGluZyhzZXR0aW5nKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmIChzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSAhPT0gTnVtYmVyKEVsZW1lbnRWYWx1ZShpZCkpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSA9IE51bWJlcihFbGVtZW50VmFsdWUoaWQpKTtcclxuICAgICAgICAgICAgICAgIHNldHRpbmdzRWRpdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBFbGVtZW50UmVtb3ZlKGlkKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFNldHRpbmdzTW9kdWxlIGV4dGVuZHMgTW9kdWxlXHJcbntcclxuICAgIGdldCBUaXRsZSgpOiBNb2R1bGVUaXRsZVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBNb2R1bGVUaXRsZS5TZXR0aW5ncztcclxuICAgIH1cclxuXHJcbiAgICBMb2FkKCk6IHZvaWRcclxuICAgIHtcclxuICAgICAgICAvLyBBZGQgc2V0dGluZ3MgdG8gdGhlIGV4dGVuc2lvbiBvcHRpb25zXHJcbiAgICAgICAgUHJlZmVyZW5jZVJlZ2lzdGVyRXh0ZW5zaW9uU2V0dGluZyh7XHJcbiAgICAgICAgICAgIElkZW50aWZpZXI6IFwiTVBBXCIsXHJcbiAgICAgICAgICAgIEJ1dHRvblRleHQ6IExvY2FsaXplZFRleHQoXCJNUEEgU2V0dGluZ3NcIiksXHJcbiAgICAgICAgICAgIEltYWdlOiBJQ09OUy5QQVcsXHJcbiAgICAgICAgICAgIGNsaWNrOiBQcmVmZXJlbmNlTWVudUNsaWNrLFxyXG4gICAgICAgICAgICBydW46IFByZWZlcmVuY2VNZW51UnVuLFxyXG4gICAgICAgICAgICBleGl0OiBQcmVmZXJlbmNlTWVudUV4aXQsXHJcbiAgICAgICAgICAgIGxvYWQ6IFBsYXllclByZWZlcmVuY2VNZW51TG9hZFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBXaGVuIHByZXNzaW5nIGVzY2FwZSwgb25seSBnbyB0byBtYWluIG1lbnUgaWYgaW4gc3ViIG1lbnVcclxuICAgICAgICBmdW5jdGlvbiBFc2NhcGVIYW5kbGVyKGV2ZW50OiBLZXlib2FyZEV2ZW50KTogdm9pZFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgKGV2ZW50LmtleSA9PT0gXCJFc2NhcGVcIiB8fCBldmVudC5rZXkgPT09IFwiRXNjXCIpXHJcbiAgICAgICAgICAgICAgICAmJiBzZXR0aW5nc09wZW5cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudE1lbnUgPT09IG51bGwpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgUHJlZmVyZW5jZU1lbnVFeGl0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjdXJyZW50TWVudSA9PT0gXCJSRVNFVF9TZXR0aW5nc1wiKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGFsbG93UmVzZXRUaW1lID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBVcGRhdGVBbmREZWxldGVIVE1MRWxlbWVudHMoY3VycmVudE1lbnUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlID0gMTtcclxuICAgICAgICAgICAgICAgICAgICBtYXhQYWdlcyA9IDE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50TWVudSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5cHJlc3NcIiwgRXNjYXBlSGFuZGxlciwgdHJ1ZSk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgRXNjYXBlSGFuZGxlciwgdHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgVW5sb2FkKCk6IHZvaWRcclxuICAgIHtcclxuICAgICAgICAvLyBVbmxvYWQgYmVpbmcgZW1wdHkgaXMgd2FudGVkLCBuZXZlciB1bmxvYWQgc2V0dGluZ3NcclxuICAgIH1cclxuXHJcbiAgICBSZWxvYWQoKTogdm9pZFxyXG4gICAge1xyXG4gICAgICAgIC8vIFJlbG9hZCBiZWluZyBlbXB0eSBpcyB3YW50ZWQsIG5ldmVyIHJlbG9hZCBzZXR0aW5nc1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IEFycmF5VG9SZWFkYWJsZVN0cmluZywgSG9va2VkTWVzc2FnZSwgTVBBTWVzc2FnZUNvbnRlbnQsIE1QQU5vdGlmeVBsYXllciB9IGZyb20gXCIuLi91dGlsL21lc3NhZ2luZ1wiO1xyXG5pbXBvcnQgeyBMb2NhbGl6ZWRUZXh0IH0gZnJvbSBcIi4uL2xvY2FsaXphdGlvbi9sb2NhbGl6YXRpb25cIjtcclxuaW1wb3J0IHsgSUNPTlMgfSBmcm9tIFwiLi4vdXRpbC9jb25zdGFudHNcIjtcclxuaW1wb3J0IHsgSG9va0Z1bmN0aW9uIH0gZnJvbSBcIi4uL3V0aWwvc2RrXCI7XHJcbmltcG9ydCB7IE1vZHVsZSwgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi9fbW9kdWxlXCI7XHJcbmltcG9ydCB7IEV4aXRCdXR0b25QcmVzc2VkLCBNRU5VX1RJVExFUywgUHJlZmVyZW5jZU1lbnVDbGljaywgUHJlZmVyZW5jZU1lbnVSdW4sIFNldFNldHRpbmdDaGFyIH0gZnJvbSBcIi4vc2V0dGluZ3NcIjtcclxuaW1wb3J0IHsgU2F2ZVN0b3JhZ2UgfSBmcm9tIFwiLi4vdXRpbC9zdG9yYWdlXCI7XHJcbmltcG9ydCB7IExldmVsU3luYyB9IGZyb20gXCIuL3ZpcnR1YWxQZXRcIjtcclxuaW1wb3J0IHsgSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cCB9IGZyb20gXCIuLi91dGlsL2F1dGhvcml0eVwiO1xyXG5pbXBvcnQgeyBzZXR0aW5ncyBhcyBkZWZhdWx0U2V0dGluZ3MgfSBmcm9tIFwiLi4vdXRpbC9yZWdpc3Rlck1vZHVsZXNcIjtcclxuXHJcbi8vIE90aGVyIHNldHRpbmdzXHJcbmNvbnN0IE1QQV9SRU1PVEUgPSBbMTcwMCwgNzY1LCA5MCwgOTBdIGFzIGNvbnN0O1xyXG4vLyBCQ1ggbW92ZXMgdGhlIGJ1dHRvbiBkb3duIGJ5IDM1IGZvciBzb21lIHJlYXNvblxyXG5jb25zdCBNUEFfUkVNT1RFX0JDWCA9IFsxNzAwLCA4MDAsIDkwLCA5MF0gYXMgY29uc3Q7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gT2JqZWN0RGlmZmVyZW5jZXMob2xkT2JqOiBvYmplY3QsIG5ld09iajogb2JqZWN0KTogb2JqZWN0XHJcbntcclxuICAgIGNvbnN0IGRpZmZlcmVuY2VzID0ge307XHJcblxyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gb2xkT2JqKVxyXG4gICAge1xyXG4gICAgICAgIC8vIEtleSBpcyBtaXNzaW5nIGluIG5ld09ialxyXG4gICAgICAgIGlmICghKGtleSBpbiBuZXdPYmopKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgZGlmZmVyZW5jZXNba2V5XSA9IHsgb2xkOiBvbGRPYmpba2V5XSwgbmV3OiB1bmRlZmluZWQgfTtcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodHlwZW9mIG9sZE9ialtrZXldID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBuZXdPYmpba2V5XSA9PT0gXCJvYmplY3RcIiAmJiAhQXJyYXkuaXNBcnJheShvbGRPYmpba2V5XSkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvLyBJZiBib3RoIGFyZSBvYmplY3RzLCByZWN1cnNpdmVseSBjaGVjayBmb3IgZGlmZmVyZW5jZXNcclxuICAgICAgICAgICAgY29uc3QgZGlmZiA9IE9iamVjdERpZmZlcmVuY2VzKG9sZE9ialtrZXldLCBuZXdPYmpba2V5XSk7XHJcbiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhkaWZmKS5sZW5ndGggPiAwKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBkaWZmZXJlbmNlc1trZXldID0gZGlmZjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChvbGRPYmpba2V5XSAhPT0gbmV3T2JqW2tleV0pXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvLyBJZiB2YWx1ZXMgYXJlIGRpZmZlcmVudCwgc3RvcmUgdGhlIGRpZmZlcmVuY2VcclxuICAgICAgICAgICAgZGlmZmVyZW5jZXNba2V5XSA9IHsgb2xkOiBvbGRPYmpba2V5XSwgbmV3OiBuZXdPYmpba2V5XSB9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBOZXcga2V5cyBub3QgZm91bmQgaW4gdGhlIG9sZCBvYmplY3RcclxuICAgIGZvciAoY29uc3Qga2V5IGluIG5ld09iailcclxuICAgIHtcclxuICAgICAgICBpZiAoIShrZXkgaW4gb2xkT2JqKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGRpZmZlcmVuY2VzW2tleV0gPSB7IG9sZDogdW5kZWZpbmVkLCBuZXc6IG5ld09ialtrZXldIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBkaWZmZXJlbmNlcztcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFNldHRpbmdzT3RoZXJNb2R1bGUgZXh0ZW5kcyBNb2R1bGVcclxue1xyXG4gICAgZ2V0IFRpdGxlKCk6IE1vZHVsZVRpdGxlXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIE1vZHVsZVRpdGxlLlNldHRpbmdzT3RoZXI7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IFN5bmNMaXN0ZW5lcnMoKTogSG9va2VkTWVzc2FnZVtdXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbW9kdWxlOiB0aGlzLlRpdGxlLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJTZXR0aW5nUHV0UmVxdWVzdFwiLFxyXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoc2VuZGVyOiBDaGFyYWN0ZXIsIGNvbnRlbnQ6IE1QQU1lc3NhZ2VDb250ZW50KTogdm9pZFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZwRW5hYmxlZCA9IFBsYXllci5NUEFbTW9kdWxlVGl0bGUuVmlydHVhbFBldF0uZW5hYmxlZDtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkaWZmZXJlbmNlcyA9IE9iamVjdERpZmZlcmVuY2VzKFBsYXllci5NUEEsIGNvbnRlbnQuc2V0dGluZ3MpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYW5nZWRTZXR0aW5nczogc3RyaW5nW10gPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRGVsZXRlIHRoZSBWUCBsZXZlbHMgYXMgdGhleSB3aWxsIGJlIHN5bmNlZCB3aXRoIHRoZSBwbGF5ZXIgaW5zdGVhZFxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkaWZmZXJlbmNlcz8uW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdPy5sZXZlbHMpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZGlmZmVyZW5jZXNbTW9kdWxlVGl0bGUuVmlydHVhbFBldF0ubGV2ZWxzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoZGlmZmVyZW5jZXNbTW9kdWxlVGl0bGUuVmlydHVhbFBldF0pLmxlbmd0aCA9PT0gMClcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGRpZmZlcmVuY2VzW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIExldmVsU3luYyhmYWxzZSwgZmFsc2UsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gISEhISEhISEhISEhISEhISEhISEhISFcclxuICAgICAgICAgICAgICAgICAgICAvLyBEbyBBdXRob3JpdHkgcXVlcnlzIGZpcnN0XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gISEhISEhISEhISEhISEhISEhISEhISFcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2aW91c0F1dGhvcml0eSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoUGxheWVyLk1QQT8uW01vZHVsZVRpdGxlLkF1dGhvcml0eV0pKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdBdXRob3JpdHkgPSBkaWZmZXJlbmNlc1tNb2R1bGVUaXRsZS5BdXRob3JpdHldO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdBdXRob3JpdHkpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZGlmZmVyZW5jZXNbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVmFsaWRhdGUgdGhhdCBhdXRob3JpdHkgY2FuIGJlIGNoYW5nZWQgYmFzZWQgb24gY3VycmVudCBhdXRob3JpdHkgZmlyc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKElzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAoc2VuZGVyLk1lbWJlck51bWJlciA/PyAtMSwgcHJldmlvdXNBdXRob3JpdHlbYG90aGVycyR7TW9kdWxlVGl0bGUuQXV0aG9yaXR5fWBdKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlZFNldHRpbmdzLnB1c2goTG9jYWxpemVkVGV4dChNb2R1bGVUaXRsZS5BdXRob3JpdHkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZW50cnkgaW4gbmV3QXV0aG9yaXR5KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdBdXRob3JpdHlbZW50cnldLm5ldyAhPT0gdW5kZWZpbmVkICYmIG5ld0F1dGhvcml0eVtlbnRyeV0ub2xkICE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV1bZW50cnldID0gbmV3QXV0aG9yaXR5W2VudHJ5XS5uZXc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBNUEE6ICR7c2VuZGVyLk5pY2tuYW1lIHx8IHNlbmRlci5OYW1lfSAoJHtzZW5kZXIuTWVtYmVyTnVtYmVyfSkgdHJpZWQgdG8gaWxsZWdhbGx5IG1vZGlmeSB5b3VyICR7TW9kdWxlVGl0bGUuQXV0aG9yaXR5fSBzZXR0aW5ncyFgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB0aXRsZSBpbiBkaWZmZXJlbmNlcylcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFZhbGlkYXRlIHRoYXQgYW55IHNldHRpbmdzIGNhbiBiZSBjaGFuZ2VkIHdpdGggRUlUSEVSIHRoZSBvbGQgb3IgbmV3IGF1dGhvcml0eVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTZW5kZXIgaXMgbm90IGF1dGhvcml6ZWQgdG8gY2hhbmdlIHRoZSBzZXR0aW5ncywgaWdub3JlIGFuZCB3YXJuIGluIGNvbnNvbGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cChzZW5kZXIuTWVtYmVyTnVtYmVyID8/IC0xLCBwcmV2aW91c0F1dGhvcml0eVtgb3RoZXJzJHt0aXRsZX1gXSA/PyBcIk5vbmVcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBJc01lbWJlck51bWJlckluQXV0aEdyb3VwKHNlbmRlci5NZW1iZXJOdW1iZXIgPz8gLTEsIFBsYXllci5NUEE/LltNb2R1bGVUaXRsZS5BdXRob3JpdHldPy5bYG90aGVycyR7dGl0bGV9YF0gPz8gXCJOb25lXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgTVBBOiAke3NlbmRlci5OaWNrbmFtZSB8fCBzZW5kZXIuTmFtZX0gKCR7c2VuZGVyLk1lbWJlck51bWJlcn0pIHRyaWVkIHRvIGlsbGVnYWxseSBtb2RpZnkgeW91ciAke3RpdGxlfSBzZXR0aW5ncyFgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VkU2V0dGluZ3MucHVzaChMb2NhbGl6ZWRUZXh0KE1FTlVfVElUTEVTW3RpdGxlIGFzIE1vZHVsZVRpdGxlXSA/PyB0aXRsZSkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9kdWxlRGlmZiA9IGRpZmZlcmVuY2VzW3RpdGxlXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBlbnRyeSBpbiBtb2R1bGVEaWZmKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobW9kdWxlRGlmZltlbnRyeV0ubmV3ICE9PSB1bmRlZmluZWQgJiYgbW9kdWxlRGlmZltlbnRyeV0ub2xkICE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGxheWVyLk1QQVt0aXRsZSBhcyBNb2R1bGVUaXRsZV1bZW50cnldID0gbW9kdWxlRGlmZltlbnRyeV0ubmV3O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBJZiBoYXJkY29yZSBpcyBzZXQsIG1ha2Ugc3VyZSBpdHMgc2V0dGluZ3MgYXJlIHNldFxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLlByb2ZpbGVdLmhhcmRjb3JlKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgKGRlZmF1bHRTZXR0aW5nc1tNb2R1bGVUaXRsZS5Qcm9maWxlXT8uaGFyZGNvcmUgYXMgYW55KT8ub25TZXQoUGxheWVyKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIENhdGNoIFZpcnR1YWwgUGV0IGxldmVscyB1cCB0byBkYXRlIGlmIGl0IHdhcyB0dXJuZWQgb24gLyBvZmZcclxuICAgICAgICAgICAgICAgICAgICBpZiAodnBFbmFibGVkICE9PSBQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdLmVuYWJsZWQpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdLmxldmVscy5sYXN0VXBkYXRlZCA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hhbmdlZFNldHRpbmdzLmxlbmd0aCAhPT0gMClcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE1QQU5vdGlmeVBsYXllcihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvY2FsaXplZFRleHQoXCJTb3VyY2VDaGFyYWN0ZXIganVzdCB1cGRhdGVkIHlvdXIgU2V0dGluZ3NBcnJheSBzZXR0aW5ncy5cIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZShcIlNvdXJjZUNoYXJhY3RlclwiLCBzZW5kZXIuTmlja25hbWUgfHwgc2VuZGVyLk5hbWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoXCJTZXR0aW5nc0FycmF5XCIsIEFycmF5VG9SZWFkYWJsZVN0cmluZyhjaGFuZ2VkU2V0dGluZ3MpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gTGV2ZWxTeW5jKGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIFNhdmVTdG9yYWdlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXTtcclxuICAgIH1cclxuXHJcbiAgICBMb2FkKCk6IHZvaWRcclxuICAgIHtcclxuICAgICAgICBzdXBlci5Mb2FkKCk7XHJcblxyXG4gICAgICAgIC8vIFByaW8gaGFzIHRvIGJlIDEgbW9yZSB0aGFuIExTQ0cgb3IgQkNYIGhvb2tzXHJcbiAgICAgICAgY29uc3QgaG9va1ByaW9yaXR5ID0gMTI7XHJcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiSW5mb3JtYXRpb25TaGVldFJ1blwiLCBob29rUHJpb3JpdHksIChhcmdzLCBuZXh0KSA9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy8gTFNDRyBvciBCQ1ggc3Vic2NyZWVucyBvcGVuIGluc3RlYWRcclxuICAgICAgICAgICAgaWYgKHdpbmRvdy5iY3g/LmluQmN4U3Vic2NyZWVuKCkgfHwgd2luZG93LkxTQ0dfUkVNT1RFX1dJTkRPV19PUEVOKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gTVBBIFNldHRpbmdzIGFyZSBvcGVuXHJcbiAgICAgICAgICAgIGlmICh3aW5kb3cuTVBBLm1lbnVMb2FkZWQpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIFByZWZlcmVuY2VNZW51UnVuKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG5leHQoYXJncyk7XHJcbiAgICAgICAgICAgIC8vIERyYXcgdGhlIHJlbW90ZSBpbnRvIHNldHRpbmdzIGJ1dHRvbiBpZiBhcHBsaWNhYmxlXHJcbiAgICAgICAgICAgIGNvbnN0IGNoYXIgPSBJbmZvcm1hdGlvblNoZWV0U2VsZWN0aW9uO1xyXG4gICAgICAgICAgICBpZiAoY2hhcj8uTVBBICYmICFjaGFyLklzUGxheWVyKCkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFjY2VzcyA9IFNlcnZlckNoYXRSb29tR2V0QWxsb3dJdGVtKFBsYXllciwgY2hhcik7XHJcbiAgICAgICAgICAgICAgICBEcmF3QnV0dG9uKFxyXG4gICAgICAgICAgICAgICAgICAgIC4uLigod2luZG93LmJjeCA/IE1QQV9SRU1PVEVfQkNYIDogTVBBX1JFTU9URSkgYXMgcmVhZG9ubHkgW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl0pLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYWNjZXNzID8gXCIjZmZmZmZmXCIgOiBcIiNhYWFhYWFcIixcclxuICAgICAgICAgICAgICAgICAgICBJQ09OUy5QQVcsXHJcbiAgICAgICAgICAgICAgICAgICAgTG9jYWxpemVkVGV4dChhY2Nlc3MgPyBcIk1QQVwiIDogXCJNUEE6IE5vIEJDIGl0ZW0gcGVybWlzc2lvblwiKSxcclxuICAgICAgICAgICAgICAgICAgICBmYWxzZVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJJbmZvcm1hdGlvblNoZWV0Q2xpY2tcIiwgaG9va1ByaW9yaXR5LCAoYXJncywgbmV4dCkgPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmICh3aW5kb3cuTVBBLm1lbnVMb2FkZWQpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBQcmVmZXJlbmNlTWVudUNsaWNrKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGNoYXIgPSBJbmZvcm1hdGlvblNoZWV0U2VsZWN0aW9uO1xyXG4gICAgICAgICAgICBpZiAoTW91c2VJbiguLi5NUEFfUkVNT1RFX0JDWCkgJiYgY2hhcj8uTVBBICYmICFjaGFyLklzUGxheWVyKCkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5NUEEubWVudUxvYWRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAvLyBNUEEgaXMgZGVmaW5lZCBmcm9tIGNoZWNrIGFib3ZlLCBzbyBvdGhlciBjaGFyYWN0ZXIgaXMgc2FtZSBhcyBzZWxmIGluIHN0cnVjdHVyZVxyXG4gICAgICAgICAgICAgICAgU2V0U2V0dGluZ0NoYXIoY2hhciBhcyBQbGF5ZXJDaGFyYWN0ZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiSW5mb3JtYXRpb25TaGVldEV4aXRcIiwgaG9va1ByaW9yaXR5LCAoYXJncywgbmV4dCkgPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmICh3aW5kb3cuTVBBLm1lbnVMb2FkZWQpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIEV4aXRCdXR0b25QcmVzc2VkKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgVW5sb2FkKCk6IHZvaWRcclxuICAgIHtcclxuICAgICAgICBzdXBlci5VbmxvYWQoKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBNb2R1bGUsIE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4vX21vZHVsZVwiO1xyXG5pbXBvcnQgeyBIb29rRnVuY3Rpb24gfSBmcm9tIFwiLi4vdXRpbC9zZGtcIjtcclxuaW1wb3J0IHsgU2F2ZVN0b3JhZ2UgfSBmcm9tIFwiLi4vdXRpbC9zdG9yYWdlXCI7XHJcbmltcG9ydCB7IEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeSB9IGZyb20gXCIuLi91dGlsL21lc3NhZ2luZ1wiO1xyXG5pbXBvcnQgeyBSZWNvcmRTeW5jIH0gZnJvbSBcIi4vZGF0YVN5bmNcIjtcclxuaW1wb3J0IHsgSXNIYXJkY29yZU9uIH0gZnJvbSBcIi4vcHJvZmlsZVwiO1xyXG5cclxuY29uc3QgTUFYX1NFVFRJTkdfVElNRV9IT1VSUyA9IDE2ODtcclxuXHJcbmNvbnN0IFBsYXllclZQOiAoQz86IENoYXJhY3RlcikgPT4gTVBBUmVjb3JkID0gKEM6IENoYXJhY3RlciA9IFBsYXllcikgPT5cclxue1xyXG4gICAgcmV0dXJuIEMuTVBBPy5bTW9kdWxlVGl0bGUuVmlydHVhbFBldF0gPz8ge307XHJcbn07XHJcblxyXG4vLyBjb25zdCBDSEFSQUNURVJTX01PVklORyA9IFtcIlNlcnZlck1vdmVSaWdodFwiLCBcIlNlcnZlclN3YXBcIiwgXCJTZXJ2ZXJNb3ZlTGVmdFwiXTtcclxuXHJcbmNvbnN0IEJPV0xfQ09OU1VNRV9SRUNPVkVSWSA9IDAuNDtcclxuY29uc3QgSVRFTV9DT05VTUVfUkVDT1ZFUlkgPSAwLjI7XHJcblxyXG5jb25zdCBBQ1RJVklUSUVTX0ZPT0RfR0FJTiA9IFtcIkxTQ0dfRWF0XCIsIFwiVGhyb3dJdGVtXCJdO1xyXG5jb25zdCBBQ1RJVklUSUVTX1dBVEVSX0dBSU4gPSBbXCJMU0NHX0Z1bm5lbFBvdXJcIiwgXCJMU0NHX1F1YWZmXCJdO1xyXG5cclxuY29uc3QgRU1PVElDT05TX1NMRUVQID0gW1wiU2xlZXBcIiwgXCJBZmtcIiwgXCJGb3JrXCIsIFwiQ29kaW5nXCIsIFwiUmVhZFwiXTtcclxuY29uc3QgQkVEX1BFUkZFQ1QgPSBbXCJQZXRCZWRcIiwgXCJDcmliXCJdO1xyXG5jb25zdCBCRURfTk9STUFMID0gW1wiTG93Q2FnZVwiLCBcIktlbm5lbFwiLCBcIkJlZFwiLCBcIk1lZGljYWxCZWRcIl07XHJcbmNvbnN0IEJFRF9CQUQgPSBbXCJGdXR1cmlzdGljQ3JhdGVcIiwgXCJEb2xsQm94XCJdO1xyXG5cclxuY29uc3QgQUZGRUNUSU9OX0FDVElWSVRZX0xPVkUgPSBbXCJQZXRcIiwgXCJUYWtlQ2FyZVwiLCBcIkxTQ0dfTnV6emxlXCIsIFwiQ2FyZXNzXCIsIFwiTFNDR19IdWdcIl07XHJcbmNvbnN0IEFGRkVDVElPTl9BQ1RJVklUWV9MSUtFID0gW1wiS2lzc1wiLCBcIk1hc3NhZ2VIYW5kc1wiLCBcIkxpY2tcIiwgXCJOaWJibGVcIiwgXCJDdWRkbGVcIiwgXCJHcm9wZVwiXTtcclxuY29uc3QgQUZGRUNUSU9OX0FDVElWSVRZX01BU08gPSBbXCJTcGFua1wiLCBcIlNsYXBcIiwgXCJCaXRlXCIsIFwiUGluY2hcIiwgXCJQdWxsXCIsIFwiU2hvY2tJdGVtXCIsIFwiU3BhbmtJdGVtXCJdO1xyXG5jb25zdCBBRkZFQ1RJT05fTE9WRV9CQVNFID0gMC4wNTtcclxuY29uc3QgQUZGRUNUSU9OX0xJS0VfQkFTRSA9IDAuMDM7XHJcbmNvbnN0IEFGRkVDVElPTl9NQVNPX0JBU0UgPSAtMC4wNDtcclxuXHJcbmNvbnN0IEFGRkVDVElPTl9aT05FX0FGRkVDVElPTjogUGFydGlhbDxSZWNvcmQ8QXNzZXRHcm91cEl0ZW1OYW1lLCBudW1iZXI+PiA9IHtcclxuICAgIEl0ZW1Bcm1zOiAxLFxyXG4gICAgSXRlbUJvb3RzOiAwLjgsXHJcbiAgICBJdGVtQnJlYXN0OiAxLjUsXHJcbiAgICBJdGVtQnV0dDogMS41LFxyXG4gICAgSXRlbUVhcnM6IDIuNSxcclxuICAgIEl0ZW1GZWV0OiAwLjgsXHJcbiAgICBJdGVtSGFuZHM6IDEsXHJcbiAgICBJdGVtSGVhZDogMyxcclxuICAgIEl0ZW1MZWdzOiAxLFxyXG4gICAgSXRlbU1vdXRoOiAyLFxyXG4gICAgSXRlbU5lY2s6IDEuMixcclxuICAgIEl0ZW1OaXBwbGVzOiAxLjUsXHJcbiAgICBJdGVtTm9zZTogMS43LFxyXG4gICAgSXRlbVBlbHZpczogMS4zLFxyXG4gICAgSXRlbVRvcnNvOiAxLFxyXG4gICAgSXRlbVZ1bHZhOiAyLFxyXG4gICAgSXRlbVZ1bHZhUGllcmNpbmdzOiAyLjVcclxufTtcclxuXHJcbmNvbnN0IE1JTl9PRkZMSU5FX0RSQUlOX0xFVkVMID0gMC4yO1xyXG5cclxuY29uc3QgTEFTVF9PTkxJTkVfSU5URVJWQUxfTVMgPSAxMDAwMDtcclxubGV0IGxhc3RPbmxpbmVJbnRlcnZhbDogbnVtYmVyO1xyXG5cclxuZXhwb3J0IGNvbnN0IElzU2xlZXBpbmdFeHByZXNzaW9uID0gKGNoYXI6IENoYXJhY3Rlcik6IGJvb2xlYW4gPT5cclxue1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgICBjaGFyLkFwcGVhcmFuY2UuZmluZCgoeCkgPT4geC5Bc3NldC5Hcm91cC5OYW1lID09PSBcIkV5ZXNcIik/LlByb3BlcnR5Py5FeHByZXNzaW9uID09PSBcIkNsb3NlZFwiXHJcbiAgICAgICAgJiYgY2hhci5BcHBlYXJhbmNlLmZpbmQoKHgpID0+IHguQXNzZXQuR3JvdXAuTmFtZSA9PT0gXCJFeWVzMlwiKT8uUHJvcGVydHk/LkV4cHJlc3Npb24gPT09IFwiQ2xvc2VkXCJcclxuICAgICAgICAmJiBFTU9USUNPTlNfU0xFRVAuaW5jbHVkZXMoY2hhci5BcHBlYXJhbmNlLmZpbmQoKHgpID0+IHguQXNzZXQuR3JvdXAuTmFtZSA9PT0gXCJFbW90aWNvblwiKT8uUHJvcGVydHk/LkV4cHJlc3Npb24gPz8gXCJcIilcclxuICAgICk7XHJcbn07XHJcbmV4cG9ydCBjb25zdCBJc0JlZE11bHRpcGxpZXIgPSAoY2hhcjogQ2hhcmFjdGVyKTogbnVtYmVyID0+XHJcbntcclxuICAgIGNvbnN0IGRldmljZSA9IEludmVudG9yeUdldChjaGFyLCBcIkl0ZW1EZXZpY2VzXCIpPy5Bc3NldC5OYW1lID8/IFwiXCI7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIEJFRF9QRVJGRUNULmluY2x1ZGVzKGRldmljZSkgPyAxMCA6IEJFRF9OT1JNQUwuaW5jbHVkZXMoZGV2aWNlKSA/IDUgOiBCRURfQkFELmluY2x1ZGVzKGRldmljZSkgPyAyIDogMVxyXG4gICAgKTtcclxufTtcclxuXHJcbmxldCBwbGF5ZXJTbGVlcGluZ0V4cHJlc3Npb24gPSBmYWxzZTtcclxubGV0IHBsYXllckJlZE11bHRpcGxpZXIgPSAxO1xyXG5cclxuZXhwb3J0IHR5cGUgVmlydHVhbFBldFN0YXRDYXRlZ29yeSA9IFwiZm9vZFwiIHwgXCJ3YXRlclwiIHwgXCJzbGVlcFwiIHwgXCJhZmZlY3Rpb25cIjtcclxuZXhwb3J0IHR5cGUgVmlydHVhbFBldEhvdXJDYXRlZ29yaWVzID0gYCR7VmlydHVhbFBldFN0YXRDYXRlZ29yeX1Ib3Vyc2A7XHJcbmV4cG9ydCBpbnRlcmZhY2UgVmlydHVhbFBldFN0YXRcclxue1xyXG4gICAgc3RhdDogVmlydHVhbFBldFN0YXRDYXRlZ29yeTtcclxuICAgIGxldmVsOiBudW1iZXI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIFNsZWVwQ2hhbmdlQ2hlY2soc3luYzogYm9vbGVhbiA9IHRydWUpOiB2b2lkXHJcbntcclxuICAgIGlmIChcclxuICAgICAgICBQbGF5ZXJWUCgpLmVuYWJsZWRcclxuICAgICAgICAmJiBQbGF5ZXJWUCgpLnNsZWVwSG91cnMgIT09IDBcclxuICAgICAgICAmJiAocGxheWVyU2xlZXBpbmdFeHByZXNzaW9uICE9PSBJc1NsZWVwaW5nRXhwcmVzc2lvbihQbGF5ZXIpXHJcbiAgICAgICAgfHwgcGxheWVyQmVkTXVsdGlwbGllciAhPT0gSXNCZWRNdWx0aXBsaWVyKFBsYXllcikpXHJcbiAgICApXHJcbiAgICB7XHJcbiAgICAgICAgLy8gaWYgYSBjaGFuZ2UgaW4gc2xlZXBpbmcgZXhwcmVzc2lvbiBvciBiZWQgbXVsdGlwbGllciwgc3luYyBsZXZlbHNcclxuICAgICAgICBpZiAoc3luYylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIExldmVsU3luYygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBwbGF5ZXJTbGVlcGluZ0V4cHJlc3Npb24gPSBJc1NsZWVwaW5nRXhwcmVzc2lvbihQbGF5ZXIpO1xyXG4gICAgICAgIHBsYXllckJlZE11bHRpcGxpZXIgPSBJc0JlZE11bHRpcGxpZXIoUGxheWVyKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gU3RhdE1vZGlmaWVyKHN0YXQ6IFZpcnR1YWxQZXRTdGF0Q2F0ZWdvcnksIHNvdXJjZUNoYXI/OiBDaGFyYWN0ZXIpOiBudW1iZXJcclxue1xyXG4gICAgbGV0IG1vZGlmaWVyID0gMTtcclxuXHJcbiAgICAvLyBGcm9tIG93bmVycywgKzUwJVxyXG4gICAgaWYgKHNvdXJjZUNoYXI/LklzT3duZXIoKSlcclxuICAgIHtcclxuICAgICAgICBtb2RpZmllciArPSAwLjU7XHJcbiAgICB9XHJcbiAgICAvLyBsb3ZlcnMgKzM1JVxyXG4gICAgZWxzZSBpZiAoc291cmNlQ2hhcj8uSXNMb3Zlck9mUGxheWVyKCkpXHJcbiAgICB7XHJcbiAgICAgICAgbW9kaWZpZXIgKz0gMC4zNTtcclxuICAgIH1cclxuICAgIC8vIHN1YnMgKzI1JVxyXG4gICAgZWxzZSBpZiAoc291cmNlQ2hhcj8uSXNGYW1pbHlPZlBsYXllcigpKVxyXG4gICAge1xyXG4gICAgICAgIG1vZGlmaWVyICs9IDAuMjU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSGFyZCB0byBlYXQgb3IgZHJpbmsgd2hpbGUgcmluZyBnYWdnZWRcclxuICAgIGlmIChzdGF0ID09PSBcImZvb2RcIiB8fCBzdGF0ID09PSBcIndhdGVyXCIpXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKCFQbGF5ZXIuQ2FuVGFsaygpKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgbW9kaWZpZXIgLT0gMC41O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyAzJSBib251cyBmb3IgZWFjaCByZXN0cmFpbnQgd29yblxyXG4gICAgbW9kaWZpZXIgKz0gMC4wMyAqIFBsYXllci5BcHBlYXJhbmNlLmZpbHRlcigoeCkgPT4geC5Bc3NldC5EeW5hbWljR3JvdXBOYW1lLnN0YXJ0c1dpdGgoXCJJdGVtXCIpKS5sZW5ndGg7XHJcblxyXG4gICAgLy8gNTAlIGJvbnVzIGZvciBiZWluZyBvbiBhbGwgZm91cnNcclxuICAgIGlmIChQbGF5ZXIuUG9zZU1hcHBpbmcuQm9keUZ1bGwgPT09IFwiQWxsRm91cnNcIilcclxuICAgIHtcclxuICAgICAgICBtb2RpZmllciArPSAwLjU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRm9vZCBhbmQgd2F0ZXIgbW9kaWZpZXMgYWZmZWN0aW9uIGdhaW5cclxuICAgIGlmIChcclxuICAgICAgICBzdGF0ID09PSBcImFmZmVjdGlvblwiXHJcbiAgICAgICAgJiYgUGxheWVyLk1QQVtNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9uc10uZW5hYmxlZFxyXG4gICAgICAgICYmIFBsYXllci5NUEFbTW9kdWxlVGl0bGUuVmlydHVhbFBldENvbmRpdGlvbnNdLmZvb2ROT1dcclxuICAgIClcclxuICAgIHtcclxuICAgICAgICBjb25zdCBudW1zOiBudW1iZXJbXSA9IFtdO1xyXG4gICAgICAgIGlmIChQbGF5ZXJWUCgpLmZvb2RIb3VycyAhPT0gMClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG51bXMucHVzaChHZXRDaGFyYWN0ZXJDdXJyZW50U3RhdFZhbHVlKFBsYXllciwgXCJmb29kXCIpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKFBsYXllclZQKCkud2F0ZXJIb3VycyAhPT0gMClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG51bXMucHVzaChHZXRDaGFyYWN0ZXJDdXJyZW50U3RhdFZhbHVlKFBsYXllciwgXCJ3YXRlclwiKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChudW1zLmxlbmd0aCAhPT0gMClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG1vZGlmaWVyICo9IG51bXMucmVkdWNlKChzdW0sIG51bSkgPT4gc3VtICsgbnVtLCAwKSAvIG51bXMubGVuZ3RoIC8gMC43NTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIE1hdGgubWF4KDAsIG1vZGlmaWVyKTtcclxufVxyXG5cclxuZnVuY3Rpb24gVmVyaWZ5VmFsaWRTdGF0KHN0YXQ6IFZpcnR1YWxQZXRTdGF0Q2F0ZWdvcnkpOiBib29sZWFuXHJcbntcclxuICAgIGNvbnN0IGxldmVsID0gUGxheWVyVlAoKS5sZXZlbHNbc3RhdF07XHJcbiAgICBQbGF5ZXJWUCgpLmxldmVsc1tzdGF0XSA9IE1hdGgubWluKE1hdGgubWF4KGxldmVsLCAwKSwgMSk7XHJcbiAgICByZXR1cm4gMCA8PSBsZXZlbCAmJiBsZXZlbCA8PSAxO1xyXG59XHJcblxyXG5mdW5jdGlvbiBIb3VyVG9NUyhob3VyczogbnVtYmVyKVxyXG57XHJcbiAgICByZXR1cm4gaG91cnMgKiA2MCAqIDYwICogMTAwMDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIENhbGN1bGF0ZUN1cnJlbnRWYWx1ZSh2YWx1ZTogbnVtYmVyLCBkdXJhdGlvbjogbnVtYmVyLCBsYXN0VXBkYXRlZDogbnVtYmVyLCBsYXN0T25saW5lPzogbnVtYmVyLCBmaXJzdFJ1bkNoZWNrOiBib29sZWFuID0gZmFsc2UsIEM6IENoYXJhY3RlciA9IFBsYXllcik6IG51bWJlclxyXG57XHJcbiAgICAvKiogSG93IGxvbmcgaW4gbXMgaGFzIGVsYXNwZWQgc2luY2Ugbm93IG9yIGxhc3Qgb25saW5lICovXHJcbiAgICBjb25zdCBkaWZmOiBudW1iZXIgPSAobGFzdE9ubGluZSA/IGxhc3RPbmxpbmUgOiBEYXRlLm5vdygpKSAtIGxhc3RVcGRhdGVkO1xyXG4gICAgY29uc3QgY3VycmVudFZhbHVlID0gTWF0aC5tYXgoMCwgTWF0aC5taW4odmFsdWUgLSAoZGlmZiAvIEhvdXJUb01TKGR1cmF0aW9uKSksIDEpKTtcclxuICAgIC8vIE1heCBkcmFpbiBkb3duIHRvIDIwJSB3aGlsZSBvZmZsaW5lXHJcbiAgICBpZiAoZmlyc3RSdW5DaGVjayAmJiB2YWx1ZSA+IE1JTl9PRkZMSU5FX0RSQUlOX0xFVkVMICYmIGN1cnJlbnRWYWx1ZSA8IE1JTl9PRkZMSU5FX0RSQUlOX0xFVkVMKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IGRpZmYyOiBudW1iZXIgPSBQbGF5ZXJWUChDKS5sZXZlbHMubGFzdE9ubGluZSAtIGxhc3RVcGRhdGVkO1xyXG4gICAgICAgIGNvbnN0IG5ld1ZhbHVlMiA9IE1hdGgubWF4KDAsIE1hdGgubWluKHZhbHVlIC0gKGRpZmYyIC8gSG91clRvTVMoZHVyYXRpb24pKSwgMSkpO1xyXG4gICAgICAgIHJldHVybiBNYXRoLm1pbihNSU5fT0ZGTElORV9EUkFJTl9MRVZFTCwgbmV3VmFsdWUyKTtcclxuICAgIH1cclxuICAgIHJldHVybiBjdXJyZW50VmFsdWU7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBHZXRDaGFyYWN0ZXJDdXJyZW50U3RhdFZhbHVlKGNoYXJhY3RlcjogQ2hhcmFjdGVyLCBzdGF0OiBWaXJ0dWFsUGV0U3RhdENhdGVnb3J5KTogbnVtYmVyXHJcbntcclxuICAgIGNvbnN0IGNoYXJTdGF0cyA9IGNoYXJhY3Rlcj8uTVBBPy5bTW9kdWxlVGl0bGUuVmlydHVhbFBldF07XHJcbiAgICBpZiAoIWNoYXJTdGF0cylcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gLTE7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHN0YXQgPT09IFwic2xlZXBcIilcclxuICAgIHtcclxuICAgICAgICBjb25zdCBsdmwgPSAoSXNTbGVlcGluZ0V4cHJlc3Npb24oY2hhcmFjdGVyKSB8fCBJc0JlZE11bHRpcGxpZXIoY2hhcmFjdGVyKSAhPT0gMSkgP1xyXG4gICAgICAgICAgICBjaGFyU3RhdHMubGV2ZWxzLnNsZWVwICsgKERhdGUubm93KCkgLSBjaGFyU3RhdHMubGV2ZWxzLmxhc3RVcGRhdGVkKSAvIChjaGFyU3RhdHMuc2xlZXBIb3VycyAqIDYwICogNjAgKiAxMDAwKSAqIElzQmVkTXVsdGlwbGllcihjaGFyYWN0ZXIpICogKElzU2xlZXBpbmdFeHByZXNzaW9uKGNoYXJhY3RlcikgPyA1IDogMSkgOlxyXG4gICAgICAgICAgICBDYWxjdWxhdGVDdXJyZW50VmFsdWUoY2hhclN0YXRzLmxldmVscy5zbGVlcCwgY2hhclN0YXRzLnNsZWVwSG91cnMsIGNoYXJTdGF0cy5sZXZlbHMubGFzdFVwZGF0ZWQpO1xyXG4gICAgICAgIHJldHVybiBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCBsdmwpKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gQ2FsY3VsYXRlQ3VycmVudFZhbHVlKGNoYXJTdGF0cy5sZXZlbHNbc3RhdF0sIGNoYXJTdGF0c1tgJHtzdGF0fUhvdXJzYF0sIGNoYXJTdGF0cy5sZXZlbHMubGFzdFVwZGF0ZWQpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gTGV2ZWxTeW5jKHB1c2hUb1N0b3JhZ2U6IGJvb2xlYW4gPSB0cnVlLCByZWNvcmRTeW5jOiBib29sZWFuID0gdHJ1ZSwgZmlyc3RTeW5jOiBib29sZWFuID0gZmFsc2UpOiB2b2lkXHJcbntcclxuICAgIC8vIFZpcnR1YWwgcGV0IGlzIG5vdCBlbmFibGVkIHNvIGRvIG5vdGhpbmdcclxuICAgIGlmICghUGxheWVyVlAoKS5lbmFibGVkKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB1cGRhdGU6IG51bWJlciA9IFBsYXllclZQKCkubGV2ZWxzLmxhc3RVcGRhdGVkID8/IERhdGUubm93KCk7XHJcbiAgICBjb25zdCBvbmxpbmU6IG51bWJlciB8IHVuZGVmaW5lZCA9ICFQbGF5ZXJWUCgpLm9mZmxpbmVEcmFpbiA/IFBsYXllclZQKCkubGV2ZWxzLmxhc3RPbmxpbmUgOiB1bmRlZmluZWQ7XHJcblxyXG4gICAgY29uc3QgZm9vZCA9IFBsYXllclZQKCkuZm9vZEhvdXJzO1xyXG4gICAgaWYgKGZvb2QgIT09IDApXHJcbiAgICB7XHJcbiAgICAgICAgUGxheWVyVlAoKS5sZXZlbHMuZm9vZCA9IENhbGN1bGF0ZUN1cnJlbnRWYWx1ZShQbGF5ZXJWUCgpLmxldmVscy5mb29kLCBmb29kLCB1cGRhdGUsIG9ubGluZSwgZmlyc3RTeW5jKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHdhdGVyID0gUGxheWVyVlAoKS53YXRlckhvdXJzO1xyXG4gICAgaWYgKHdhdGVyICE9PSAwKVxyXG4gICAge1xyXG4gICAgICAgIFBsYXllclZQKCkubGV2ZWxzLndhdGVyID0gQ2FsY3VsYXRlQ3VycmVudFZhbHVlKFBsYXllclZQKCkubGV2ZWxzLndhdGVyLCB3YXRlciwgdXBkYXRlLCBvbmxpbmUsIGZpcnN0U3luYyk7XHJcbiAgICB9XHJcbiAgICBjb25zdCBzbGVlcCA9IFBsYXllclZQKCkuc2xlZXBIb3VycztcclxuICAgIGlmIChzbGVlcCAhPT0gMClcclxuICAgIHtcclxuICAgICAgICBpZiAoKGZpcnN0U3luYyAmJiAhb25saW5lKVxyXG4gICAgICAgICAgfHwgcGxheWVyU2xlZXBpbmdFeHByZXNzaW9uXHJcbiAgICAgICAgICB8fCBwbGF5ZXJCZWRNdWx0aXBsaWVyICE9PSAxKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgZHVyYXRpb25Ub1VzZSA9IGZpcnN0U3luYyA/IChEYXRlLm5vdygpIC0gUGxheWVyVlAoKS5sZXZlbHMubGFzdE9ubGluZSkgLSAoUGxheWVyVlAoKS5sZXZlbHMubGFzdE9ubGluZSAtIHVwZGF0ZSkgOiBEYXRlLm5vdygpIC0gdXBkYXRlO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdTbGVlcCA9IFBsYXllclZQKCkubGV2ZWxzLnNsZWVwICsgKGR1cmF0aW9uVG9Vc2UpIC8gSG91clRvTVMoc2xlZXApICogcGxheWVyQmVkTXVsdGlwbGllciAqIChwbGF5ZXJTbGVlcGluZ0V4cHJlc3Npb24gPyA1IDogMSk7XHJcbiAgICAgICAgICAgIFBsYXllclZQKCkubGV2ZWxzLnNsZWVwID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgbmV3U2xlZXApKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgUGxheWVyVlAoKS5sZXZlbHMuc2xlZXAgPSBDYWxjdWxhdGVDdXJyZW50VmFsdWUoUGxheWVyVlAoKS5sZXZlbHMuc2xlZXAsIHNsZWVwLCB1cGRhdGUsIG9ubGluZSwgZmlyc3RTeW5jKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zdCBhZmZlY3Rpb24gPSBQbGF5ZXJWUCgpLmFmZmVjdGlvbkhvdXJzO1xyXG4gICAgaWYgKGFmZmVjdGlvbiAhPT0gMClcclxuICAgIHtcclxuICAgICAgICBQbGF5ZXJWUCgpLmxldmVscy5hZmZlY3Rpb24gPSBDYWxjdWxhdGVDdXJyZW50VmFsdWUoUGxheWVyVlAoKS5sZXZlbHMuYWZmZWN0aW9uLCBhZmZlY3Rpb24sIHVwZGF0ZSwgb25saW5lLCBmaXJzdFN5bmMpO1xyXG4gICAgfVxyXG4gICAgUGxheWVyVlAoKS5sZXZlbHMubGFzdFVwZGF0ZWQgPSBEYXRlLm5vdygpO1xyXG4gICAgUGxheWVyVlAoKS5sZXZlbHMubGFzdE9ubGluZSA9IERhdGUubm93KCk7XHJcbiAgICAvLyBTYXZlIHRvIGxvY2FsIHN0b3JhZ2VcclxuICAgIGlmIChwdXNoVG9TdG9yYWdlKVxyXG4gICAge1xyXG4gICAgICAgIFNhdmVTdG9yYWdlKGZhbHNlKTtcclxuICAgIH1cclxuICAgIC8vIFN5bmMgbmV3IHN0YXRzIHdpdGggb3RoZXJzXHJcbiAgICBpZiAocmVjb3JkU3luYylcclxuICAgIHtcclxuICAgICAgICBSZWNvcmRTeW5jKE1vZHVsZVRpdGxlLlZpcnR1YWxQZXQsIFwibGV2ZWxzXCIpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICogQHBhcmFtIHN0YXQgLSBTdGF0IHRvIG1vZGlmeVxyXG4gKiBAcGFyYW0gYW1vdW50IC0gTXVzdCBiZSBiZXR3ZWVuIC0xIGFuZCAxXHJcbiAqIEBwYXJhbSBhcHBseU1vZGlmaWVyIC0gSWYgYXBwbHkgdGhlIFwiUGV0IGxpa2VcIiBtb2RpZmllclxyXG4gKiBAcGFyYW0gc3RvcmFnZVB1c2ggLSBJZiBzYXZpbmcgdG8gc3RvcmFnZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIE1vZGlmeVN0YXQoc3RhdDogVmlydHVhbFBldFN0YXRDYXRlZ29yeSwgYW1vdW50OiBudW1iZXIsIGFwcGx5TW9kaWZpZXIgPSB0cnVlLCBzdG9yYWdlUHVzaCA9IHRydWUsIHNvdXJjZUNoYXI/OiBDaGFyYWN0ZXIpOiB2b2lkXHJcbntcclxuICAgIGlmIChhbW91bnQgPCAtMSAmJiBhbW91bnQgPiAxKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDYWxjdWxhdGUgdGhlIGN1cnJlbnQgc3RhdHMgYmFzZWQgb24gZHJhaW4gYW5kIHRoZW4gYXBwbHkgbW9kaWZpY2F0aW9ucyBhZnRlciBjaGFuZ2luZyB0aG9zZSB2YWx1ZXMgZmlyc3RcclxuICAgIExldmVsU3luYyhmYWxzZSwgZmFsc2UsIGZhbHNlKTtcclxuXHJcbiAgICBQbGF5ZXJWUCgpLmxldmVsc1tzdGF0XSArPSBhbW91bnQgKiAoKGFwcGx5TW9kaWZpZXIgJiYgYW1vdW50ID4gMCkgPyBTdGF0TW9kaWZpZXIoc3RhdCwgc291cmNlQ2hhcikgOiAxKTtcclxuICAgIFZlcmlmeVZhbGlkU3RhdChzdGF0KTtcclxuXHJcbiAgICAvLyBTYXZlIHRvIGxvY2FsIHN0b3JhZ2VcclxuICAgIGlmIChzdG9yYWdlUHVzaClcclxuICAgIHtcclxuICAgICAgICBTYXZlU3RvcmFnZShmYWxzZSk7XHJcbiAgICB9XHJcbiAgICAvLyBTeW5jIG5ldyBzdGF0cyB3aXRoIG90aGVyc1xyXG4gICAgUmVjb3JkU3luYyhNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0LCBcImxldmVsc1wiKTtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFZpcnR1YWxQZXRNb2R1bGUgZXh0ZW5kcyBNb2R1bGVcclxue1xyXG4gICAgZ2V0IFRpdGxlKCk6IE1vZHVsZVRpdGxlXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIE1vZHVsZVRpdGxlLlZpcnR1YWxQZXQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IEFjdGl2aXRpZXMoKTogQ3VzdG9tQWN0aXZpdHlbXVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIE5hbWU6IFwiQm93bEVhdFwiLFxyXG4gICAgICAgICAgICAgICAgVGFyZ2V0czogW3tcclxuICAgICAgICAgICAgICAgICAgICBncm91cDogXCJJdGVtTW91dGhcIixcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJFYXQgRnJvbSBCb3dsXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uU2VsZjogXCJTb3VyY2VDaGFyYWN0ZXIgZWF0cyBmcm9tIFByb25vdW5Qb3NzZXNzaXZlIGJvd2wuXCJcclxuICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgSW1hZ2U6IFwiQXNzZXRzL0ZlbWFsZTNEQ0cvSXRlbURldmljZXMvUHJldmlldy9QZXRCb3dsLnBuZ1wiLFxyXG4gICAgICAgICAgICAgICAgUHJlcmVxdWlzaXRlOiBbXCJVc2VNb3V0aFwiLCBcIkhhc0Jvd2xcIl0sXHJcbiAgICAgICAgICAgICAgICBPblRyaWdnZXI6ICgpID0+XHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFBsYXllclZQKCkuZW5hYmxlZCAmJiBQbGF5ZXJWUCgpLmZvb2RIb3VycyAhPT0gMClcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE1vZGlmeVN0YXQoXCJmb29kXCIsIEJPV0xfQ09OU1VNRV9SRUNPVkVSWSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICBOYW1lOiBcIkJvd2xEcmlua1wiLFxyXG4gICAgICAgICAgICAgICAgVGFyZ2V0czogW3tcclxuICAgICAgICAgICAgICAgICAgICBncm91cDogXCJJdGVtTW91dGhcIixcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJEcmluayBGcm9tIEJvd2xcIixcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25TZWxmOiBcIlNvdXJjZUNoYXJhY3RlciBkcmlua3MgZnJvbSBQcm9ub3VuUG9zc2Vzc2l2ZSBib3dsLlwiXHJcbiAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgIEltYWdlOiBcIkFzc2V0cy9GZW1hbGUzRENHL0l0ZW1EZXZpY2VzL1ByZXZpZXcvUGV0Qm93bC5wbmdcIixcclxuICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogW1wiVXNlTW91dGhcIiwgXCJIYXNCb3dsXCJdLFxyXG4gICAgICAgICAgICAgICAgT25UcmlnZ2VyOiAoKSA9PlxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChQbGF5ZXJWUCgpLmVuYWJsZWQgJiYgUGxheWVyVlAoKS53YXRlckhvdXJzICE9PSAwKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgTW9kaWZ5U3RhdChcIndhdGVyXCIsIEJPV0xfQ09OU1VNRV9SRUNPVkVSWSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICBOYW1lOiBcIkJvd2xFYXQyXCIsXHJcbiAgICAgICAgICAgICAgICBUYXJnZXRzOiBbe1xyXG4gICAgICAgICAgICAgICAgICAgIGdyb3VwOiBcIkl0ZW1Nb3V0aFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkVhdCBGcm9tIEJvd2xcIixcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25TZWxmOiBcIlNvdXJjZUNoYXJhY3RlciBwdXRzIFByb25vdW5Qb3NzZXNzaXZlIGhlYWQgaW50byBQcm9ub3VuUG9zc2Vzc2l2ZSBib3dsIGluIG9yZGVyIHRvIGVhdCB3aXRoIHRoZSBnYWcsIG1ha2luZyBhIG1lc3MuXCJcclxuICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgSW1hZ2U6IFwiQXNzZXRzL0ZlbWFsZTNEQ0cvSXRlbURldmljZXMvUHJldmlldy9QZXRCb3dsLnBuZ1wiLFxyXG4gICAgICAgICAgICAgICAgUHJlcmVxdWlzaXRlOiBbXCJVc2VUb25ndWVOb01vdXRoXCIsIFwiSGFzQm93bFwiXSxcclxuICAgICAgICAgICAgICAgIE9uVHJpZ2dlcjogKCkgPT5cclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoUGxheWVyVlAoKS5lbmFibGVkICYmIFBsYXllclZQKCkuZm9vZEhvdXJzICE9PSAwKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgTW9kaWZ5U3RhdChcImZvb2RcIiwgQk9XTF9DT05TVU1FX1JFQ09WRVJZLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgIE5hbWU6IFwiQm93bERyaW5rMlwiLFxyXG4gICAgICAgICAgICAgICAgVGFyZ2V0czogW3tcclxuICAgICAgICAgICAgICAgICAgICBncm91cDogXCJJdGVtTW91dGhcIixcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJEcmluayBGcm9tIEJvd2xcIixcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25TZWxmOiBcIlNvdXJjZUNoYXJhY3RlciBwdXRzIFByb25vdW5Qb3NzZXNzaXZlIGhlYWQgaW50byBQcm9ub3VuUG9zc2Vzc2l2ZSBib3dsIGluIG9yZGVyIHRvIGRyaW5rIHdpdGggdGhlIGdhZywgbWFraW5nIGEgbWVzcy5cIlxyXG4gICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICBJbWFnZTogXCJBc3NldHMvRmVtYWxlM0RDRy9JdGVtRGV2aWNlcy9QcmV2aWV3L1BldEJvd2wucG5nXCIsXHJcbiAgICAgICAgICAgICAgICBQcmVyZXF1aXNpdGU6IFtcIlVzZVRvbmd1ZU5vTW91dGhcIiwgXCJIYXNCb3dsXCJdLFxyXG4gICAgICAgICAgICAgICAgT25UcmlnZ2VyOiAoKSA9PlxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChQbGF5ZXJWUCgpLmVuYWJsZWQgJiYgUGxheWVyVlAoKS53YXRlckhvdXJzICE9PSAwKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgTW9kaWZ5U3RhdChcIndhdGVyXCIsIEJPV0xfQ09OU1VNRV9SRUNPVkVSWSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgU2V0dGluZ3MoKTogU2V0dGluZ1tdXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJlbmFibGVkXCIsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXHJcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhSXNIYXJkY29yZU9uKEMpLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQmVjb21lIGEgdmlydHVhbCBwZXQhIFJlcXVpcmluZzogZm9vZCwgd2F0ZXIsIHNsZWVwLCBhbmQgYWZmZWN0aW9uXCJcclxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwiZm9vZEhvdXJzXCIgYXMgVmlydHVhbFBldEhvdXJDYXRlZ29yaWVzLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJudW1iZXJcIixcclxuICAgICAgICAgICAgICAgIHZhbHVlOiA0LFxyXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiSG93IG1hbnkgaG91cnMgdW50aWwgeW91IGFyZSBjb21wbGV0ZWx5IG91dCBvZiBmb29kOyAwIHRvIGRpc2FibGVcIixcclxuICAgICAgICAgICAgICAgIHdpZHRoOiAxMjgsXHJcbiAgICAgICAgICAgICAgICBtaW46IDAsXHJcbiAgICAgICAgICAgICAgICBtYXg6IE1BWF9TRVRUSU5HX1RJTUVfSE9VUlMsXHJcbiAgICAgICAgICAgICAgICBzdGVwOiAwLjFcclxuICAgICAgICAgICAgfSBhcyBOdW1iZXJTZXR0aW5nLCB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcIndhdGVySG91cnNcIiBhcyBWaXJ0dWFsUGV0SG91ckNhdGVnb3JpZXMsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IDQsXHJcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQsXHJcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJIb3cgbWFueSBob3VycyB1bnRpbCB5b3UgYXJlIGNvbXBsZXRlbHkgb3V0IG9mIHdhdGVyOyAwIHRvIGRpc2FibGVcIixcclxuICAgICAgICAgICAgICAgIHdpZHRoOiAxMjgsXHJcbiAgICAgICAgICAgICAgICBtaW46IDAsXHJcbiAgICAgICAgICAgICAgICBtYXg6IE1BWF9TRVRUSU5HX1RJTUVfSE9VUlMsXHJcbiAgICAgICAgICAgICAgICBzdGVwOiAwLjFcclxuICAgICAgICAgICAgfSBhcyBOdW1iZXJTZXR0aW5nLCB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNsZWVwSG91cnNcIiBhcyBWaXJ0dWFsUGV0SG91ckNhdGVnb3JpZXMsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IDgsXHJcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQsXHJcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJIb3cgbWFueSBob3VycyB1bnRpbCB5b3UgYXJlIGNvbXBsZXRlbHkgb3V0IG9mIHNsZWVwOyAwIHRvIGRpc2FibGVcIixcclxuICAgICAgICAgICAgICAgIHdpZHRoOiAxMjgsXHJcbiAgICAgICAgICAgICAgICBtaW46IDAsXHJcbiAgICAgICAgICAgICAgICBtYXg6IE1BWF9TRVRUSU5HX1RJTUVfSE9VUlMsXHJcbiAgICAgICAgICAgICAgICBzdGVwOiAwLjFcclxuICAgICAgICAgICAgfSBhcyBOdW1iZXJTZXR0aW5nLCB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcImFmZmVjdGlvbkhvdXJzXCIgYXMgVmlydHVhbFBldEhvdXJDYXRlZ29yaWVzLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJudW1iZXJcIixcclxuICAgICAgICAgICAgICAgIHZhbHVlOiA0LFxyXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiSG93IG1hbnkgaG91cnMgdW50aWwgeW91IGFyZSBjb21wbGV0ZWx5IG91dCBvZiBhZmZlY3Rpb247IDAgdG8gZGlzYWJsZVwiLFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IDEyOCxcclxuICAgICAgICAgICAgICAgIG1pbjogMCxcclxuICAgICAgICAgICAgICAgIG1heDogTUFYX1NFVFRJTkdfVElNRV9IT1VSUyxcclxuICAgICAgICAgICAgICAgIHN0ZXA6IDAuMVxyXG4gICAgICAgICAgICB9IGFzIE51bWJlclNldHRpbmcsIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwib2ZmbGluZURyYWluXCIsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCxcclxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIlN0YXRzIGRyYWluIGV2ZW4gd2hlbiBsb2dnZWQgb3V0IG9mIHRoZSBjbHViXCJcclxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwibm9IYW5kc1wiLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxyXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkICYmICFJc0hhcmRjb3JlT24oQyksXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBlYXRpbmcgb3IgZHJpbmtpbmcgZnJvbSBpdGVtcyBpbiB5b3VyIE9XTiBoYW5kc1wiXHJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcIm1hc29jaGlzdFwiLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxyXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiTWFzb2NoaXN0IHBldDsgQWJ1c2UgcmFpc2VzIGFmZmVjdGlvblwiXHJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcImxldmVsc1wiLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJyZWNvcmRcIixcclxuICAgICAgICAgICAgICAgIHZhbHVlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9vZDogMSxcclxuICAgICAgICAgICAgICAgICAgICB3YXRlcjogMSxcclxuICAgICAgICAgICAgICAgICAgICBzbGVlcDogMSxcclxuICAgICAgICAgICAgICAgICAgICBhZmZlY3Rpb246IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgbGFzdFVwZGF0ZWQ6IERhdGUubm93KCksXHJcbiAgICAgICAgICAgICAgICAgICAgbGFzdE9ubGluZTogRGF0ZS5ub3coKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGFzIFNldHRpbmdcclxuICAgICAgICBdO1xyXG4gICAgfVxyXG5cclxuICAgIExvYWQoKTogdm9pZFxyXG4gICAge1xyXG4gICAgICAgIHN1cGVyLkxvYWQoKTtcclxuXHJcbiAgICAgICAgLy8gTG9naW4gbGV2ZWwgc3luY1xyXG4gICAgICAgIFNsZWVwQ2hhbmdlQ2hlY2soZmFsc2UpO1xyXG4gICAgICAgIExldmVsU3luYyh0cnVlLCBmYWxzZSwgdHJ1ZSk7XHJcbiAgICAgICAgbGFzdE9ubGluZUludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmIChQbGF5ZXIuTWVtYmVyTnVtYmVyKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBQbGF5ZXIuTVBBW3RoaXMuVGl0bGVdLmxldmVscy5sYXN0T25saW5lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAgICAgICAgIFNhdmVTdG9yYWdlKGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIExBU1RfT05MSU5FX0lOVEVSVkFMX01TKTtcclxuXHJcbiAgICAgICAgLy8gTm9tcyBhbmQgZHJpbmtzXHJcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiQ2hhdFJvb21NZXNzYWdlXCIsIDAsIChhcmdzLCBuZXh0KSA9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGFyZ3NbMF07XHJcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2aXR5TmFtZSA9IEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIkFjdGl2aXR5TmFtZVwiKTtcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgIVBsYXllclZQKCkuZW5hYmxlZFxyXG4gICAgICAgICAgICAgICAgfHwgKCFQbGF5ZXJWUCgpLm5vSGFuZHNcclxuICAgICAgICAgICAgICAgICYmIEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIlNvdXJjZUNoYXJhY3RlclwiKSA9PT0gUGxheWVyLk1lbWJlck51bWJlcilcclxuICAgICAgICAgICAgICAgIHx8IGRhdGEuVHlwZSAhPT0gXCJBY3Rpdml0eVwiXHJcbiAgICAgICAgICAgICAgICB8fCBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJUYXJnZXRDaGFyYWN0ZXJcIikgIT09IFBsYXllci5NZW1iZXJOdW1iZXJcclxuICAgICAgICAgICAgICAgIHx8IEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIkZvY3VzR3JvdXBOYW1lXCIpICE9PSBcIkl0ZW1Nb3V0aFwiXHJcbiAgICAgICAgICAgICAgICB8fCAhYWN0aXZpdHlOYW1lXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEdldCBhY3Rpdml0eSBhbmQgY2hlY2sgcHJlcmVxdWlzaXRlc1xyXG4gICAgICAgICAgICBjb25zdCBhY3Rpdml0eSA9IEFjdGl2aXR5RmVtYWxlM0RDRy5maW5kKCh4KSA9PiB4Lk5hbWUgPT09IGFjdGl2aXR5TmFtZSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICBQbGF5ZXJWUCgpLmZvb2RIb3VycyAhPT0gMFxyXG4gICAgICAgICAgICAgICAgJiYgKGFjdGl2aXR5Py5QcmVyZXF1aXNpdGU/LmluY2x1ZGVzKFwiTmVlZHMtRWF0SXRlbVwiKVxyXG4gICAgICAgICAgICAgICAgfHwgQUNUSVZJVElFU19GT09EX0dBSU4uc29tZSgoeCkgPT4gYWN0aXZpdHk/Lk5hbWUgPT09IHgpKVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIE1vZGlmeVN0YXQoXCJmb29kXCIsIElURU1fQ09OVU1FX1JFQ09WRVJZLCB0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgUGxheWVyVlAoKS53YXRlckhvdXJzICE9PSAwXHJcbiAgICAgICAgICAgICAgICAmJiAoYWN0aXZpdHk/LlByZXJlcXVpc2l0ZT8uaW5jbHVkZXMoXCJOZWVkcy1TaXBJdGVtXCIpXHJcbiAgICAgICAgICAgICAgICB8fCBBQ1RJVklUSUVTX1dBVEVSX0dBSU4uc29tZSgoeCkgPT4gYWN0aXZpdHk/Lk5hbWUgPT09IHgpKVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIE1vZGlmeVN0YXQoXCJ3YXRlclwiLCBJVEVNX0NPTlVNRV9SRUNPVkVSWSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBTbGVlcFxyXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIkNoYXJhY3RlclJlZnJlc2hcIiwgMCwgKGFyZ3MsIG5leHQpID0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAoYXJnc1swXS5NZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXIpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIFNsZWVwQ2hhbmdlQ2hlY2soKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQWZmZWN0aW9uXHJcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiQ2hhdFJvb21NZXNzYWdlXCIsIDAsIChhcmdzLCBuZXh0KSA9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGFyZ3NbMF07XHJcbiAgICAgICAgICAgIC8vIGNvbnN0IGFjdGl2aXR5TmFtZSA9IEFycmF5LmlzQXJyYXkoZGF0YT8uRGljdGlvbmFyeSkgP1xyXG4gICAgICAgICAgICAvLyAgICAgKGRhdGEuRGljdGlvbmFyeS5maW5kKHggPT4gKHggYXMgQWN0aXZpdHlOYW1lRGljdGlvbmFyeUVudHJ5KS5BY3Rpdml0eU5hbWUpIGFzIEFjdGl2aXR5TmFtZURpY3Rpb25hcnlFbnRyeSk/LkFjdGl2aXR5TmFtZSA6XHJcbiAgICAgICAgICAgIC8vICAgICB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2aXR5TmFtZSA9IEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIkFjdGl2aXR5TmFtZVwiKTtcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgIVBsYXllclZQKCkuZW5hYmxlZFxyXG4gICAgICAgICAgICAgICAgfHwgUGxheWVyVlAoKS5hZmZlY3Rpb25Ib3VycyA9PT0gMFxyXG4gICAgICAgICAgICAgICAgfHwgZGF0YS5UeXBlICE9PSBcIkFjdGl2aXR5XCJcclxuICAgICAgICAgICAgICAgIHx8IEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIlRhcmdldENoYXJhY3RlclwiKSAhPT0gUGxheWVyLk1lbWJlck51bWJlclxyXG4gICAgICAgICAgICAgICAgfHwgR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiU291cmNlQ2hhcmFjdGVyXCIpID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyXHJcbiAgICAgICAgICAgICAgICB8fCAhYWN0aXZpdHlOYW1lXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGdyb3VwID0gR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiRm9jdXNHcm91cE5hbWVcIikgYXMgc3RyaW5nID8/IFwiXCI7XHJcbiAgICAgICAgICAgIGNvbnN0IGdyb3VwTXVsdCA9IEFGRkVDVElPTl9aT05FX0FGRkVDVElPTltncm91cF0gPz8gMTtcclxuICAgICAgICAgICAgaWYgKEFGRkVDVElPTl9BQ1RJVklUWV9MT1ZFLmluY2x1ZGVzKGFjdGl2aXR5TmFtZSkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIE1vZGlmeVN0YXQoXCJhZmZlY3Rpb25cIiwgQUZGRUNUSU9OX0xPVkVfQkFTRSAqIGdyb3VwTXVsdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoQUZGRUNUSU9OX0FDVElWSVRZX0xJS0UuaW5jbHVkZXMoYWN0aXZpdHlOYW1lKSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgTW9kaWZ5U3RhdChcImFmZmVjdGlvblwiLCBBRkZFQ1RJT05fTElLRV9CQVNFICogZ3JvdXBNdWx0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChBRkZFQ1RJT05fQUNUSVZJVFlfTUFTTy5pbmNsdWRlcyhhY3Rpdml0eU5hbWUpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBNb2RpZnlTdGF0KFwiYWZmZWN0aW9uXCIsIChQbGF5ZXJWUCgpLm1hc29jaGlzdCA/IC0xIDogMSkgKiBBRkZFQ1RJT05fTUFTT19CQVNFICogZ3JvdXBNdWx0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBVbmxvYWQoKTogdm9pZFxyXG4gICAge1xyXG4gICAgICAgIHN1cGVyLlVubG9hZCgpO1xyXG4gICAgICAgIGNsZWFySW50ZXJ2YWwobGFzdE9ubGluZUludGVydmFsKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBSYW5kb21FbGVtZW50IH0gZnJvbSBcIi4uL3V0aWwvZ2VuZXJhbFwiO1xyXG5pbXBvcnQgeyBTZW5kQWN0aW9uIH0gZnJvbSBcIi4uL3V0aWwvbWVzc2FnaW5nXCI7XHJcbmltcG9ydCB7IEhvb2tGdW5jdGlvbiB9IGZyb20gXCIuLi91dGlsL3Nka1wiO1xyXG5pbXBvcnQgeyBNb2R1bGUsIE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4vX21vZHVsZVwiO1xyXG5pbXBvcnQgeyBJc0hhcmRjb3JlT24gfSBmcm9tIFwiLi9wcm9maWxlXCI7XHJcbmltcG9ydCB7IEdldENoYXJhY3RlckN1cnJlbnRTdGF0VmFsdWUsIFZpcnR1YWxQZXRTdGF0Q2F0ZWdvcnkgfSBmcm9tIFwiLi92aXJ0dWFsUGV0XCI7XHJcblxyXG5jb25zdCBQbGF5ZXJWUDogKEM/OiBDaGFyYWN0ZXIpID0+IE1QQVJlY29yZCA9IChDOiBDaGFyYWN0ZXIgPSBQbGF5ZXIpID0+XHJcbntcclxuICAgIHJldHVybiBDLk1QQT8uW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdID8/IHt9O1xyXG59O1xyXG5cclxuY29uc3QgUGxheWVyVlBDOiAoQz86IENoYXJhY3RlcikgPT4gTVBBUmVjb3JkID0gKEM6IENoYXJhY3RlciA9IFBsYXllcikgPT5cclxue1xyXG4gICAgcmV0dXJuIEMuTVBBPy5bTW9kdWxlVGl0bGUuVmlydHVhbFBldENvbmRpdGlvbnNdID8/IHt9O1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIENoZWNrIGlmIGEgY29uZGl0aW9uIGlzIGN1cnJlbnRseSBlbmZvcmNlZCwgY2hlY2tpbmcgaWYgZW5hYmxlZCBhbmQgaWYgaXQgcmVsaWVzIG9uIGEgVlAgc3RhdCwgdGhhdCB0aGUgc3RhdCBpcyBzZXRcclxuICovXHJcbmZ1bmN0aW9uIENvbmRpdGlvbklzRW5mb3JjZWQoY29uZGl0aW9uOiBzdHJpbmcsIHZwU3RhdE5lZWRUb0JlRW5hYmxlZD86IFZpcnR1YWxQZXRTdGF0Q2F0ZWdvcnkpOiBib29sZWFuXHJcbntcclxuICAgIGlmICghUGxheWVyVlBDKCkuZW5hYmxlZCB8fCAhKFBsYXllclZQQygpW2NvbmRpdGlvbl0pKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGlmICh2cFN0YXROZWVkVG9CZUVuYWJsZWQgJiYgKCFQbGF5ZXJWUCgpLmVuYWJsZWQgfHwgIShgJHt2cFN0YXROZWVkVG9CZUVuYWJsZWR9SG91cnNgIGluIFBsYXllclZQKCkpKSlcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufTtcclxuXHJcbi8qKiBbU2tpbGwsIHBvc3RpdmUgb3IgbmVnYXRpdmUgY29ycmxhdGlvbl0gKi9cclxuY29uc3QgQUZGRUNUSU9OX1NLSUxMUzogW1NraWxsVHlwZSwgYm9vbGVhbl1bXSA9XHJcbltcclxuICAgIFtcIlNlbGZCb25kYWdlXCIsIHRydWVdLFxyXG4gICAgW1wiV2lsbHBvd2VyXCIsIHRydWVdLFxyXG4gICAgW1wiQm9uZGFnZVwiLCBmYWxzZV0sXHJcbiAgICBbXCJFdmFzaW9uXCIsIGZhbHNlXSxcclxuICAgIFtcIkxvY2tQaWNraW5nXCIsIGZhbHNlXVxyXG5dO1xyXG5cclxuaW50ZXJmYWNlIE9uU3RhdENoYW5nZUV2ZW50XHJcbntcclxuICAgIHN0YXQ6IFZpcnR1YWxQZXRTdGF0Q2F0ZWdvcnk7XHJcbiAgICB0aHJlc2hob2xkOiBudW1iZXI7XHJcbiAgICBjaGFuZ2U6IFwicmlzaW5nXCIgfCBcImZhbGxpbmdcIiB8IFwiYm90aFwiO1xyXG4gICAgYWN0aW9uOiAoKSA9PiB2b2lkO1xyXG4gICAgZmlyc3RSdW4/OiAoKSA9PiB2b2lkO1xyXG59XHJcbmNvbnN0IHByZXZpb3VzU3RhdHM6IFJlY29yZDxWaXJ0dWFsUGV0U3RhdENhdGVnb3J5LCBudW1iZXI+ID0ge1xyXG4gICAgZm9vZDogLTEsXHJcbiAgICB3YXRlcjogLTEsXHJcbiAgICBzbGVlcDogLTEsXHJcbiAgICBhZmZlY3Rpb246IC0xXHJcbn07XHJcbmxldCBvblN0YXRMZXZlbDogT25TdGF0Q2hhbmdlRXZlbnRbXSA9IFtdO1xyXG4vLyBMaXN0ZW5zIGZvciBjaGFuZ2VzIGV2ZXJ5IH4xLjUgc2Vjb25kc1xyXG5jb25zdCBTVEFUX0NPVU5UX01BWCA9IDI1MDtcclxubGV0IHN0YXRDb3VudCA9IFNUQVRfQ09VTlRfTUFYO1xyXG5leHBvcnQgZnVuY3Rpb24gQ29uZGl0aW9uQ2hlY2soKTogdm9pZFxyXG57XHJcbiAgICAoW1wiZm9vZFwiLCBcIndhdGVyXCIsIFwiYWZmZWN0aW9uXCIsIFwic2xlZXBcIl0gYXMgVmlydHVhbFBldFN0YXRDYXRlZ29yeVtdKS5mb3JFYWNoKChjYXRlZ29yeSkgPT5cclxuICAgIHtcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIFBsYXllclZQKCkuZW5hYmxlZFxyXG4gICAgICAgICAgICAmJiBQbGF5ZXJWUEMoKS5lbmFibGVkXHJcbiAgICAgICAgICAgICYmIFBsYXllclZQKClbYCR7Y2F0ZWdvcnl9SG91cnNgXSAhPT0gMFxyXG4gICAgICAgIClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHByZXZWYWx1ZSA9IHByZXZpb3VzU3RhdHNbY2F0ZWdvcnldO1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyVmFsdWUgPSBHZXRDaGFyYWN0ZXJDdXJyZW50U3RhdFZhbHVlKFBsYXllciwgY2F0ZWdvcnkpO1xyXG4gICAgICAgICAgICBvblN0YXRMZXZlbC5mb3JFYWNoKChjaGFuZ2VFdmVudCkgPT5cclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZUV2ZW50LnN0YXQgPT09IGNhdGVnb3J5XHJcbiAgICAgICAgICAgICAgICAgICAgJiYgcHJldlZhbHVlID09PSAtMVxyXG4gICAgICAgICAgICAgICAgICAgICYmICEhY2hhbmdlRXZlbnQuZmlyc3RSdW5cclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VFdmVudC5maXJzdFJ1bigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZUV2ZW50LnN0YXQgPT09IGNhdGVnb3J5XHJcbiAgICAgICAgICAgICAgICAgICAgJiYgcHJldlZhbHVlICE9PSAtMVxyXG4gICAgICAgICAgICAgICAgICAgICYmIHByZXZWYWx1ZSA+IGN1cnJWYWx1ZSAvLyBGYWxsaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgY2hhbmdlRXZlbnQuY2hhbmdlICE9PSBcInJpc2luZ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgY3VyclZhbHVlIDw9IGNoYW5nZUV2ZW50LnRocmVzaGhvbGRcclxuICAgICAgICAgICAgICAgICAgICAmJiBjaGFuZ2VFdmVudC50aHJlc2hob2xkIDwgcHJldlZhbHVlXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlRXZlbnQuYWN0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlRXZlbnQuc3RhdCA9PT0gY2F0ZWdvcnlcclxuICAgICAgICAgICAgICAgICAgICAmJiBwcmV2VmFsdWUgIT09IC0xXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgcHJldlZhbHVlIDwgY3VyclZhbHVlIC8vIFJpc2luZ1xyXG4gICAgICAgICAgICAgICAgICAgICYmIGNoYW5nZUV2ZW50LmNoYW5nZSAhPT0gXCJmYWxsaW5nXCJcclxuICAgICAgICAgICAgICAgICAgICAmJiBwcmV2VmFsdWUgPCBjaGFuZ2VFdmVudC50aHJlc2hob2xkXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgY2hhbmdlRXZlbnQudGhyZXNoaG9sZCA8PSBjdXJyVmFsdWVcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VFdmVudC5hY3Rpb24oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHByZXZpb3VzU3RhdHNbY2F0ZWdvcnldID0gY3VyclZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBwcmV2aW91c1N0YXRzW2NhdGVnb3J5XSA9IC0xO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5jb25zdCBTTEVFUF9USU5UID0ge1xyXG4gICAgc3RhdDogXCJzbGVlcFwiIGFzIFZpcnR1YWxQZXRTdGF0Q2F0ZWdvcnksXHJcbiAgICBzdGFydExldmVsOiAwLjI1LFxyXG4gICAgZW5kTGV2ZWw6IDAsXHJcbiAgICBtaW5UaW50OiAwLFxyXG4gICAgbWF4VGludDogMVxyXG59O1xyXG5cclxubGV0IHBhc3NlZE91dCA9IGZhbHNlO1xyXG5jb25zdCBQQVNTT1VUX1RBTEtfUkVQTEFDRTogc3RyaW5nW10gPSBbXHJcbiAgICBcIlNvdXJjZUNoYXJhY3RlciBkcm9vbHMgb3V0IG9mIHRoZSBjb3JuZXIgb2YgUHJvbm91blBvc3Nlc3NpdmUgbGlwIGFzIFByb25vdW5TdWJqZWN0IHNsZWVwcy5cIixcclxuICAgIFwiU291cmNlQ2hhcmFjdGVyIG11bWJsZXMgcXVpZXRseSBpbiBQcm9ub3VuUG9zc2Vzc2l2ZSBzbHVtYmVyLlwiLFxyXG4gICAgXCJTb3VyY2VDaGFyYWN0ZXIgcmVzdHMgcGVhY2VmdWxseS5cIlxyXG5dO1xyXG5mdW5jdGlvbiBNUEFQYXNzb3V0KCk6IHZvaWRcclxue1xyXG4gICAgQ2hhcmFjdGVyU2V0RmFjaWFsRXhwcmVzc2lvbihQbGF5ZXIsIFwiRW1vdGljb25cIiwgXCJTbGVlcFwiKTtcclxuICAgIENoYXJhY3RlclNldEZhY2lhbEV4cHJlc3Npb24oUGxheWVyLCBcIkV5ZXNcIiwgXCJDbG9zZWRcIik7XHJcbiAgICBDaGFyYWN0ZXJTZXRGYWNpYWxFeHByZXNzaW9uKFBsYXllciwgXCJGbHVpZHNcIiwgXCJEcm9vbE1lZGl1bVwiKTtcclxuICAgIGlmIChQbGF5ZXIuQ2FuS25lZWwoKSlcclxuICAgIHtcclxuICAgICAgICBQb3NlU2V0QWN0aXZlKFBsYXllciwgXCJLbmVlbFwiLCB0cnVlKTtcclxuICAgIH1cclxuICAgIHBhc3NlZE91dCA9IHRydWU7XHJcblxyXG4gICAgY29uc3Qgc2xlZXBNb2R1bGUgPSBQbGF5ZXI/LkxTQ0c/LlN0YXRlTW9kdWxlPy5zdGF0ZXM/LmZpbmQoKHgpID0+IHgudHlwZSA9PT0gXCJhc2xlZXBcIik7XHJcbiAgICBpZiAoUGxheWVyVlBDKCkucGFzc291dExTQ0cgJiYgc2xlZXBNb2R1bGUpXHJcbiAgICB7XHJcbiAgICAgICAgLypcclxuICAgICAgICB0aGlzLnN0YXRlTW9kdWxlLlNsZWVwU3RhdGUuQWN0aXZhdGUodW5kZWZpbmVkLCB1bmRlZmluZWQsIGRvRW1vdGUpO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3Muc3RhdHMuc2VkYXRlZENvdW50Kys7XHJcbiAgICAgICAgQWN0aXZhdGUobWVtYmVyTnVtYmVyPzogbnVtYmVyLCBkdXJhdGlvbj86IG51bWJlciwgZW1vdGU/OiBib29sZWFuKTogQmFzZVN0YXRlIHwgdW5kZWZpbmVkIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLkFjdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVtb3RlKVxyXG4gICAgICAgICAgICAgICAgICAgIFNlbmRBY3Rpb24oXCIlTkFNRSUgc2x1bXBzIHdlYWtseSBhcyAlUFJPTk9VTiUgc2xpcHMgaW50byB1bmNvbmNpb3VzbmVzcy5cIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLlNldFNsZWVwRXhwcmVzc2lvbigpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5GYWxsRG93bklmUG9zc2libGUoKTtcclxuICAgICAgICAgICAgICAgIGFkZEN1c3RvbUVmZmVjdChQbGF5ZXIsIFwiRm9yY2VLbmVlbFwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzdXBlci5BY3RpdmF0ZShtZW1iZXJOdW1iZXIsIGR1cmF0aW9uLCBlbW90ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBBY3RpdmF0ZShtZW1iZXJOdW1iZXI/OiBudW1iZXIsIGR1cmF0aW9uPzogbnVtYmVyLCBlbW90ZT86IGJvb2xlYW4pOiBCYXNlU3RhdGUgfCB1bmRlZmluZWQge1xyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5hY3RpdmF0ZWRBdCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5hY3RpdmF0ZWRCeSA9IG1lbWJlck51bWJlciA/PyAtMTtcclxuICAgICAgICAgICAgdGhpcy5jb25maWcuYWN0aXZhdGlvbkNvdW50Kys7XHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLmR1cmF0aW9uID0gZHVyYXRpb247XHJcblxyXG4gICAgICAgICAgICBzZXR0aW5nc1NhdmUodHJ1ZSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuICAgICAgICAqL1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQ2FsbGluZyBMU0NHIHBhc3NvdXRcIik7XHJcbiAgICB9XHJcbiAgICBTZW5kQWN0aW9uKFwiU291cmNlQ2hhcmFjdGVyIHBhc3NlcyBvdXQgZnJvbSBleGhhdXN0aW9uLlwiLCB1bmRlZmluZWQsIFt7IFNvdXJjZUNoYXJhY3RlcjogUGxheWVyLk1lbWJlck51bWJlciB9IGFzIFNvdXJjZUNoYXJhY3RlckRpY3Rpb25hcnlFbnRyeV0pO1xyXG59XHJcbmZ1bmN0aW9uIE1QQVdha2V1cCgpOiB2b2lkXHJcbntcclxuICAgIENoYXJhY3RlclNldEZhY2lhbEV4cHJlc3Npb24oUGxheWVyLCBcIkVtb3RpY29uXCIsIG51bGwpO1xyXG4gICAgQ2hhcmFjdGVyU2V0RmFjaWFsRXhwcmVzc2lvbihQbGF5ZXIsIFwiRXllc1wiLCBcIkRhemVkXCIpO1xyXG4gICAgQ2hhcmFjdGVyU2V0RmFjaWFsRXhwcmVzc2lvbihQbGF5ZXIsIFwiRXllYnJvd3NcIiwgXCJMb3dlcmVkXCIpO1xyXG5cclxuICAgIHBhc3NlZE91dCA9IGZhbHNlO1xyXG4gICAgU2VuZEFjdGlvbihcIlNvdXJjZUNoYXJhY3RlciB3YWtlcyB1cCBmcm9tIFByb25vdW5Qb3NzZXNzaXZlIG5hcC5cIiwgdW5kZWZpbmVkLCBbeyBTb3VyY2VDaGFyYWN0ZXI6IFBsYXllci5NZW1iZXJOdW1iZXIgfSBhcyBTb3VyY2VDaGFyYWN0ZXJEaWN0aW9uYXJ5RW50cnldKTtcclxufVxyXG5mdW5jdGlvbiBQYXNzb3V0Q2hlY2soKTogYm9vbGVhblxyXG57XHJcbiAgICByZXR1cm4gKFBsYXllclZQQygpLmVuYWJsZWRcclxuICAgICAgJiYgUGxheWVyVlAoKS5zbGVlcEhvdXJzICE9PSAwXHJcbiAgICAgICYmIFBsYXllclZQQygpLnBhc3NvdXRcclxuICAgICAgJiYgIVBsYXllclZQQygpLnBhc3NvdXRMU0NHXHJcbiAgICAgICYmIHBhc3NlZE91dCk7XHJcbn1cclxuXHJcbmxldCBhZmZlY3Rpb25DaGVja0ludGVydmFsOiBudW1iZXI7XHJcbmNvbnN0IHNraWxsRHVyYXRpb25NUyA9IDE1MDAwO1xyXG5mdW5jdGlvbiBBZmZlY3Rpb25Ta2lsbENoZWNrKCk6IHZvaWRcclxue1xyXG4gICAgaWYgKFxyXG4gICAgICAgICFQbGF5ZXJWUCgpLmVuYWJsZWRcclxuICAgICAgICB8fCBQbGF5ZXJWUCgpLmFmZmVjdGlvbkhvdXJzID09PSAwXHJcbiAgICAgICAgfHwgIVBsYXllclZQQygpLmVuYWJsZWRcclxuICAgIClcclxuICAgIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgQUZGRUNUSU9OX1NLSUxMUy5mb3JFYWNoKChbc2tpbGwsIHR5cGVdKSA9PlxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IGFmZmVjdGlvbiA9IEdldENoYXJhY3RlckN1cnJlbnRTdGF0VmFsdWUoUGxheWVyLCBcImFmZmVjdGlvblwiKTtcclxuICAgICAgICBjb25zdCBhZmZlY3Rpb25Nb2RpZmllciA9IE1hdGgucm91bmQoKCgoYWZmZWN0aW9uKSAqICg1IC0gKC01KSkpIC8gKDEpICsgKC01KSkgKiAodHlwZSA/IDEgOiAtMSkgKiAxMDApIC8gMTAwO1xyXG5cclxuICAgICAgICBjb25zdCBwcmV2TW9kID0gU2tpbGxHZXRNb2RpZmllcihQbGF5ZXIsIHNraWxsKTtcclxuICAgICAgICBjb25zdCBkdXJhdGlvbiA9IFNraWxsR2V0TW9kaWZpZXJEdXJhdGlvbihQbGF5ZXIsIHNraWxsKSAhPT0gMCA/IFNraWxsR2V0TW9kaWZpZXJEdXJhdGlvbihQbGF5ZXIsIHNraWxsKSA6IHNraWxsRHVyYXRpb25NUztcclxuICAgICAgICBpZiAoYWZmZWN0aW9uTW9kaWZpZXIgPiAwICYmIFBsYXllclZQQygpLmFmZmVjdGlvblNraWxsQnVmZnMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBTa2lsbFNldE1vZGlmaWVyKFBsYXllciwgc2tpbGwsIHByZXZNb2QgKyBhZmZlY3Rpb25Nb2RpZmllciwgZHVyYXRpb24sIGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFmZmVjdGlvbk1vZGlmaWVyIDwgMCAmJiBQbGF5ZXJWUEMoKS5hZmZlY3Rpb25Ta2lsbERlYnVmZnMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBTa2lsbFNldE1vZGlmaWVyKFBsYXllciwgc2tpbGwsIHByZXZNb2QgKyBhZmZlY3Rpb25Nb2RpZmllciwgZHVyYXRpb24sIGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuY29uc3QgTUFYX1NMT1dfTEVBVkVfRFVSQVRJT05fU0VDID0gMjU7XHJcbmNvbnN0IFNMT1dfTEVBVkVfTEVWRUxfU1RBUlQgPSAwLjM7XHJcblxyXG5leHBvcnQgY2xhc3MgVmlydHVhbFBldENvbmRpdGlvbnNNb2R1bGUgZXh0ZW5kcyBNb2R1bGVcclxue1xyXG4gICAgZ2V0IFRpdGxlKCk6IE1vZHVsZVRpdGxlXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIE1vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBTZXR0aW5ncygpOiBTZXR0aW5nW11cclxuICAgIHtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcImVuYWJsZWRcIixcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcclxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCAmJiAhSXNIYXJkY29yZU9uKEMpLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJSZWNpdmUgY29uZGl0aW9ucyBiYXNlZCBvbiBjdXJyZW50IGxldmVsIG9mIHlvdXIgdmlydHVhbCBwZXQgc3RhdHNcIlxyXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJmb29kTk9XXCIsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXHJcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQgJiYgISFQbGF5ZXJWUEMoQykuZW5hYmxlZCAmJiAhSXNIYXJkY29yZU9uKEMpLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJGb29kIGFuZCB3YXRlciBhZmZlY3RzIGFmZmVjdGlvbiBnYWluXCJcclxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwidGludFwiLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxyXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkICYmICEhUGxheWVyVlBDKEMpLmVuYWJsZWQgJiYgIUlzSGFyZGNvcmVPbihDKSxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiVmlzaW9uIGRhcmtlbnMgYXMgeW91IGdldCBzbGVlcGllclwiXHJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcInBhc3NvdXRcIixcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcclxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCAmJiAhIVBsYXllclZQQyhDKS5lbmFibGVkICYmICFJc0hhcmRjb3JlT24oQyksXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIlBhc3NvdXQgd2hlbiBleGhhdXN0ZWRcIlxyXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJwYXNzb3V0TFNDR1wiLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxyXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkICYmICEhUGxheWVyVlBDKEMpLmVuYWJsZWQgJiYgISFQbGF5ZXJWUEMoQykucGFzc291dCAmJiAhIUMuTFNDRyAmJiAhSXNIYXJkY29yZU9uKEMpICYmIGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiVXNlIExTQ0cgcGFzc291dCBpbnN0ZWFkIG9mIE1QQTsgUmVxdWlyZXMgTFNDR1wiXHJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcImFmZmVjdGlvblNraWxsQnVmZnNcIixcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcclxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCAmJiAhIVBsYXllclZQQyhDKS5lbmFibGVkICYmICFJc0hhcmRjb3JlT24oQyksXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkFmZmVjdGlvbiB3aWxsIGJ1ZmYgc2tpbGxzIGJhc2VkIG9uIGl0cyBsZXZlbFwiXHJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcImFmZmVjdGlvblNraWxsRGVidWZmc1wiLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxyXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkICYmICEhUGxheWVyVlBDKEMpLmVuYWJsZWQgJiYgIUlzSGFyZGNvcmVPbihDKSxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWZmZWN0aW9uIHdpbGwgZGVidWZmIHNraWxscyBiYXNlZCBvbiBpdHMgbGV2ZWxcIlxyXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJoZWFyaW5nTG9zc1wiLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxyXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkICYmICEhUGxheWVyVlBDKEMpLmVuYWJsZWQgJiYgIUlzSGFyZGNvcmVPbihDKSxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiSGVhcmluZyBiZWNvbWVzIGhhcmRlciB0aGUgaHVuZ3JpZXIgeW91IGFyZVwiXHJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNsb3dMZWF2ZVwiLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxyXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkICYmICEhUGxheWVyVlBDKEMpLmVuYWJsZWQgJiYgIUlzSGFyZGNvcmVPbihDKSxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiVGFrZXMgbG9uZ2VyIHRvIGxlYXZlIHRoZSByb29tIHdoZW4gaHVuZ3J5XCJcclxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmdcclxuICAgICAgICBdO1xyXG4gICAgfVxyXG5cclxuICAgIExvYWQoKTogdm9pZFxyXG4gICAge1xyXG4gICAgICAgIC8vIENoZWNrIGZvciBjb25kaXRpb24gY2hhbmdlcyBldmVyeSBzbyBvZnRlblxyXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIkdhbWVSdW5cIiwgMCwgKGFyZ3MsIG5leHQpID0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAoc3RhdENvdW50ID49IFNUQVRfQ09VTlRfTUFYKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBDb25kaXRpb25DaGVjaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN0YXRDb3VudCsrO1xyXG4gICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gRWVweSB0aW50XHJcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiUGxheWVyLkdldFRpbnRzXCIsIDAsIChhcmdzLCBuZXh0KSA9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy8gTm90IGVuYWJsZWQsIHNraXBcclxuICAgICAgICAgICAgaWYgKCFDb25kaXRpb25Jc0VuZm9yY2VkKFwidGludFwiLCBTTEVFUF9USU5ULnN0YXQpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3QgY3VyckxldmVsID0gR2V0Q2hhcmFjdGVyQ3VycmVudFN0YXRWYWx1ZShQbGF5ZXIsIFNMRUVQX1RJTlQuc3RhdCk7XHJcbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgc2NhbGVkIHZhbHVlXHJcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlZFZhbHVlID0gKChjdXJyTGV2ZWwgLSBTTEVFUF9USU5ULnN0YXJ0TGV2ZWwpIC8gKFNMRUVQX1RJTlQuZW5kTGV2ZWwgLSBTTEVFUF9USU5ULnN0YXJ0TGV2ZWwpKSAqIChTTEVFUF9USU5ULm1heFRpbnQgLSBTTEVFUF9USU5ULm1pblRpbnQpICsgU0xFRVBfVElOVC5taW5UaW50O1xyXG4gICAgICAgICAgICBpZiAoU0xFRVBfVElOVC5taW5UaW50IDw9IHNjYWxlZFZhbHVlICYmIHNjYWxlZFZhbHVlIDw9IFNMRUVQX1RJTlQubWF4VGludClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncykuY29uY2F0KHsgcjogMCwgZzogMCwgYjogMCwgYTogTWF0aC5zcXJ0KE1hdGgucm91bmQoc2NhbGVkVmFsdWUgKiAxMDAwKSAvIDEwMDApIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBBZGQgY29uZGl0aW9uIHRyaWdnZXJzXHJcbiAgICAgICAgb25TdGF0TGV2ZWwgPSBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHN0YXQ6IFwic2xlZXBcIixcclxuICAgICAgICAgICAgICAgIHRocmVzaGhvbGQ6IDAsXHJcbiAgICAgICAgICAgICAgICBjaGFuZ2U6IFwiZmFsbGluZ1wiLFxyXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoKTogdm9pZFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIE1QQVBhc3NvdXQoKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmaXJzdFJ1bjogZnVuY3Rpb24gKCk6IHZvaWRcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoR2V0Q2hhcmFjdGVyQ3VycmVudFN0YXRWYWx1ZShQbGF5ZXIsIFwic2xlZXBcIikgPT09IDApXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBNUEFQYXNzb3V0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICBzdGF0OiBcInNsZWVwXCIsXHJcbiAgICAgICAgICAgICAgICB0aHJlc2hob2xkOiAwLjEsXHJcbiAgICAgICAgICAgICAgICBjaGFuZ2U6IFwicmlzaW5nXCIsXHJcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uICgpOiB2b2lkXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhc3NlZE91dClcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE1QQVdha2V1cCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF07XHJcbiAgICAgICAgLy8gRWVweVxyXG5cclxuICAgICAgICAvLyBQYXNzb3V0IEhvb2tzXHJcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiUGxheWVyLkNhblRhbGtcIiwgNSwgKGFyZ3MsIG5leHQpID0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gUGFzc291dENoZWNrKCkgPyBmYWxzZSA6IG5leHQoYXJncyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiUGxheWVyLkNhbldhbGtcIiwgNSwgKGFyZ3MsIG5leHQpID0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gUGFzc291dENoZWNrKCkgPyBmYWxzZSA6IG5leHQoYXJncyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiUGxheWVyLkNhbkNoYW5nZU93bkNsb3RoZXNcIiwgNSwgKGFyZ3MsIG5leHQpID0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gUGFzc291dENoZWNrKCkgPyBmYWxzZSA6IG5leHQoYXJncyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiUGxheWVyLkNhbkludGVyYWN0XCIsIDUsIChhcmdzLCBuZXh0KSA9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIFBhc3NvdXRDaGVjaygpID8gZmFsc2UgOiBuZXh0KGFyZ3MpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIlNlcnZlclNlbmRcIiwgNSwgKGFyZ3MsIG5leHQpID0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAoIVBhc3NvdXRDaGVjaygpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3QgW3R5cGUsIGRhdGFdID0gYXJncyBhcyBbc3RyaW5nLCBTZXJ2ZXJDaGF0Um9vbU1lc3NhZ2VdO1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICB0eXBlID09IFwiQ2hhdFJvb21DaGF0XCJcclxuICAgICAgICAgICAgICAgICYmIGRhdGE/LlR5cGUgPT0gXCJDaGF0XCJcclxuICAgICAgICAgICAgICAgICYmICFkYXRhPy5Db250ZW50LnN0YXJ0c1dpdGgoXCIoXCIpXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgU2VuZEFjdGlvbihSYW5kb21FbGVtZW50KFBBU1NPVVRfVEFMS19SRVBMQUNFKSBhcyBzdHJpbmcsIHVuZGVmaW5lZCwgW3sgU291cmNlQ2hhcmFjdGVyOiBQbGF5ZXIuTWVtYmVyTnVtYmVyIH0gYXMgU291cmNlQ2hhcmFjdGVyRGljdGlvbmFyeUVudHJ5XSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJQbGF5ZXIuR2V0RGVhZkxldmVsXCIsIDUsIChhcmdzLCBuZXh0KSA9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIFBhc3NvdXRDaGVjaygpID8gNCA6IG5leHQoYXJncyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiUGxheWVyLkdldEJsaW5kTGV2ZWxcIiwgNSwgKGFyZ3MsIG5leHQpID0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gUGFzc291dENoZWNrKCkgPyAoUGxheWVyLkdhbWVwbGF5U2V0dGluZ3M/LlNlbnNEZXBDaGF0TG9nID09PSBcIlNlbnNEZXBFeHRyZW1lXCIgfHwgUGxheWVyLkdhbWVwbGF5U2V0dGluZ3M/LlNlbnNEZXBDaGF0TG9nID09PSBcIlNlbnNEZXBUb3RhbFwiKSA/IDMgOiAyIDogbmV4dChhcmdzKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQ2FuJ3QgZm9jdXMgd2hpbGUgaHVuZ3J5IChkZWFmKVxyXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIlBsYXllci5HZXREZWFmTGV2ZWxcIiwgNSwgKGFyZ3MsIG5leHQpID0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBkZWFmTGV2ZWwgPSBDb25kaXRpb25Jc0VuZm9yY2VkKFwiaGVhcmluZ0xvc3NcIiwgXCJmb29kXCIpID8gTWF0aC5tYXgoMCwgTWF0aC5mbG9vcigoR2V0Q2hhcmFjdGVyQ3VycmVudFN0YXRWYWx1ZShQbGF5ZXIsIFwiZm9vZFwiKSAtIDAuMzAwMSkgKiAtMTApKSA6IDA7XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLm1heChkZWFmTGV2ZWwsIG5leHQoYXJncykpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBBZmZlY3Rpb24gYWZmZWN0IHNraWxsc1xyXG4gICAgICAgIGlmIChTa2lsbE1vZGlmaWVyTWF4IDwgMTApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBTa2lsbE1vZGlmaWVyTWF4ID0gMTA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIEFmZmVjdGlvblNraWxsQ2hlY2soKTtcclxuICAgICAgICBhZmZlY3Rpb25DaGVja0ludGVydmFsID0gc2V0SW50ZXJ2YWwoQWZmZWN0aW9uU2tpbGxDaGVjaywgc2tpbGxEdXJhdGlvbk1TICsgMTAwMCk7XHJcblxyXG4gICAgICAgIC8vIFNsb3cgbGVhdmVcclxuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJDaGF0Um9vbUF0dGVtcHRMZWF2ZVwiLCAwLCAoYXJncywgbmV4dCkgPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmICghQ29uZGl0aW9uSXNFbmZvcmNlZChcInNsb3dMZWF2ZVwiLCBcImZvb2RcIikpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCBwcmV2U2xvdyA9IENoYXRSb29tU2xvd3RpbWVyO1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyRm9vZCA9IEdldENoYXJhY3RlckN1cnJlbnRTdGF0VmFsdWUoUGxheWVyLCBcImZvb2RcIik7XHJcbiAgICAgICAgICAgIG5leHQoYXJncyk7XHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgIHByZXZTbG93ID09PSAwXHJcbiAgICAgICAgICAgICAgICAmJiBDaGF0Um9vbVNsb3d0aW1lciA+IDBcclxuICAgICAgICAgICAgICAgICYmIGN1cnJGb29kIDw9IFNMT1dfTEVBVkVfTEVWRUxfU1RBUlRcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBzbG93ZWRTcGVlZCA9ICgoKC1NQVhfU0xPV19MRUFWRV9EVVJBVElPTl9TRUMgLyBTTE9XX0xFQVZFX0xFVkVMX1NUQVJUKSAqIGN1cnJGb29kKSArIE1BWF9TTE9XX0xFQVZFX0RVUkFUSU9OX1NFQykgKiAxMDAwO1xyXG4gICAgICAgICAgICAgICAgQ2hhdFJvb21TbG93dGltZXIgPSBDdXJyZW50VGltZSArIENoYXRSb29tU2xvd0xlYXZlTWluVGltZSArIHNsb3dlZFNwZWVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiUGxheWVyLklzU2xvd1wiLCAwLCAoYXJncywgbmV4dCkgPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiAoQ29uZGl0aW9uSXNFbmZvcmNlZChcInNsb3dMZWF2ZVwiLCBcImZvb2RcIikgJiYgR2V0Q2hhcmFjdGVyQ3VycmVudFN0YXRWYWx1ZShQbGF5ZXIsIFwiZm9vZFwiKSA8PSBTTE9XX0xFQVZFX0xFVkVMX1NUQVJUKSA/IHRydWUgOiBuZXh0KGFyZ3MpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIFVubG9hZCgpOiB2b2lkXHJcbiAgICB7XHJcbiAgICAgICAgc3VwZXIuVW5sb2FkKCk7XHJcbiAgICAgICAgb25TdGF0TGV2ZWwgPSBbXTtcclxuICAgICAgICBjbGVhckludGVydmFsKGFmZmVjdGlvbkNoZWNrSW50ZXJ2YWwpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IEhvb2tGdW5jdGlvbiB9IGZyb20gXCIuLi91dGlsL3Nka1wiO1xyXG5pbXBvcnQgeyBJc01lbWJlck51bWJlckluQXV0aEdyb3VwIH0gZnJvbSBcIi4uL3V0aWwvYXV0aG9yaXR5XCI7XHJcbmltcG9ydCB7IE1vZHVsZSwgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi9fbW9kdWxlXCI7XHJcbmltcG9ydCB7IEdldENoYXJhY3RlckN1cnJlbnRTdGF0VmFsdWUsIFZpcnR1YWxQZXRTdGF0Q2F0ZWdvcnksIHR5cGUgVmlydHVhbFBldFN0YXQgfSBmcm9tIFwiLi92aXJ0dWFsUGV0XCI7XHJcblxyXG5jb25zdCBQbGF5ZXJWUDogKCkgPT4gTVBBUmVjb3JkID0gKCkgPT5cclxue1xyXG4gICAgcmV0dXJuIFBsYXllci5NUEFbTW9kdWxlVGl0bGUuVmlydHVhbFBldF07XHJcbn07XHJcbmNvbnN0IFBsYXllclZQSFVEOiAoKSA9PiBNUEFSZWNvcmQgPSAoKSA9PlxyXG57XHJcbiAgICByZXR1cm4gUGxheWVyLk1QQVtNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0SFVEXTtcclxufTtcclxuXHJcbmNvbnN0IFZQX1NUQVRfQ09MT1JfRElDVCA9IHtcclxuICAgIGZvb2Q6IFwiI2YyYmIxOFwiLFxyXG4gICAgd2F0ZXI6IFwiIzJhOWZjM1wiLFxyXG4gICAgc2xlZXA6IFwiIzhkMmFlZVwiLFxyXG4gICAgYWZmZWN0aW9uOiBcIiNmZjc4ZjJcIlxyXG59O1xyXG5cclxuZnVuY3Rpb24gRHJhd1N0YXRDaXJjbGUoeDogbnVtYmVyLCB5OiBudW1iZXIsIHJhZGl1czogbnVtYmVyLCBzdGF0OiBWaXJ0dWFsUGV0U3RhdCk6IHZvaWRcclxue1xyXG4gICAgY29uc3QgY29sb3IgPSBWUF9TVEFUX0NPTE9SX0RJQ1Rbc3RhdC5zdGF0XTtcclxuXHJcbiAgICAvLyBPdXRlciBjaXJjbGVcclxuICAgIE1haW5DYW52YXMuYmVnaW5QYXRoKCk7XHJcbiAgICBNYWluQ2FudmFzLmFyYyhcclxuICAgICAgICB4LFxyXG4gICAgICAgIHksXHJcbiAgICAgICAgcmFkaXVzLFxyXG4gICAgICAgIDAsXHJcbiAgICAgICAgMiAqIE1hdGguUEksXHJcbiAgICAgICAgdHJ1ZVxyXG4gICAgKTtcclxuICAgIE1haW5DYW52YXMubGluZVdpZHRoID0gcmFkaXVzIC8gODtcclxuICAgIE1haW5DYW52YXMuc3Ryb2tlU3R5bGUgPSBjb2xvcjtcclxuICAgIE1haW5DYW52YXMuc3Ryb2tlKCk7XHJcblxyXG4gICAgLy8gSW5uZXIgYXJjXHJcbiAgICBNYWluQ2FudmFzLmJlZ2luUGF0aCgpO1xyXG4gICAgTWFpbkNhbnZhcy5hcmMoXHJcbiAgICAgICAgeCxcclxuICAgICAgICB5LFxyXG4gICAgICAgIHJhZGl1cyxcclxuICAgICAgICAtTWF0aC5QSSAvIDIsXHJcbiAgICAgICAgKDIgKiBNYXRoLlBJICogLXN0YXQubGV2ZWwpIC0gKE1hdGguUEkgLyAyKSxcclxuICAgICAgICB0cnVlXHJcbiAgICApO1xyXG4gICAgTWFpbkNhbnZhcy5saW5lVG8oeCwgeSk7XHJcbiAgICBNYWluQ2FudmFzLmZpbGxTdHlsZSA9IGNvbG9yO1xyXG4gICAgTWFpbkNhbnZhcy5maWxsKCk7XHJcblxyXG4gICAgLy8gRGlzcGxheSB0aGUgdGV4dFxyXG4gICAgaWYgKFBsYXllclZQSFVEKCkuZXhhY3RTdGF0cylcclxuICAgIHtcclxuICAgICAgICBNYWluQ2FudmFzLmZpbGxTdHlsZSA9IFwiIzAwMDAwMFwiO1xyXG4gICAgICAgIE1haW5DYW52YXMuZm9udCA9IENvbW1vbkdldEZvbnQocmFkaXVzICogMS4yNSk7XHJcbiAgICAgICAgTWFpbkNhbnZhcy5maWxsVGV4dChNYXRoLnJvdW5kKHN0YXQubGV2ZWwgKiAxMDApLnRvU3RyaW5nKCksIHgsIHkgKyAocmFkaXVzICogMC4xMjUpKTtcclxuICAgICAgICAvLyBEZWZhdWx0IHNpemUsIGlkayBpZiBuZWVkZWQgYnV0IGNhbid0IGh1cnRcclxuICAgICAgICBNYWluQ2FudmFzLmZvbnQgPSBDb21tb25HZXRGb250KDM2KTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gRHJhd1ZpcnVhbFBldEh1ZCh4OiBudW1iZXIsIHk6IG51bWJlciwgem9vbTogbnVtYmVyLCBzdGF0czogVmlydHVhbFBldFN0YXRbXSk6IHZvaWRcclxue1xyXG4gICAgY29uc3QgcG9zOiBcIkxlZnRcIiB8IFwiQ2VudGVyXCIgfCBcIlJpZ2h0XCIgfCBcIlNwbGl0XCIgPSBQbGF5ZXJWUEhVRCgpLnBvc2l0aW9uO1xyXG4gICAgaWYgKHBvcyA9PT0gXCJMZWZ0XCIgfHwgcG9zID09PSBcIlJpZ2h0XCIpXHJcbiAgICB7XHJcbiAgICAgICAgc3RhdHMucmV2ZXJzZSgpO1xyXG4gICAgICAgIHN0YXRzLmZvckVhY2goKHN0YXQsIGluZGV4KSA9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgRHJhd1N0YXRDaXJjbGUoXHJcbiAgICAgICAgICAgICAgICB4ICsgKChwb3MgPT09IFwiTGVmdFwiID8gODAgOiA0MjApICogem9vbSksXHJcbiAgICAgICAgICAgICAgICB5ICsgKDk1MCAtIChpbmRleCAqIDM2KSkgKiB6b29tLFxyXG4gICAgICAgICAgICAgICAgMTYgKiB6b29tLFxyXG4gICAgICAgICAgICAgICAgc3RhdFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAocG9zID09PSBcIkNlbnRlclwiKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IHN0YXRMZW4gPSBzdGF0cy5sZW5ndGg7XHJcbiAgICAgICAgc3RhdHMuZm9yRWFjaCgoc3RhdCwgaW5kZXgpID0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBEcmF3U3RhdENpcmNsZShcclxuICAgICAgICAgICAgICAgIHggKyAoMjUwIC0gKChzdGF0TGVuIC0gMSkgKiAxOCkgKyAoaW5kZXggKiAzNikpICogem9vbSxcclxuICAgICAgICAgICAgICAgIHkgKyAoOTUwICogem9vbSksXHJcbiAgICAgICAgICAgICAgICAxNiAqIHpvb20sXHJcbiAgICAgICAgICAgICAgICBzdGF0XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvLyBQcm9iYWJseSBhIGJldHRlciB3YXkgdG8gZG8gdGhpcywgYnV0IEkgZG9uJ3QgY2FyZS4gSXQgd29ya3MgdGhhdHMgYWxsIEkgbmVlZC5cclxuICAgIGVsc2UgaWYgKHBvcyA9PT0gXCJTcGxpdFwiKVxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IGNvbHM6IFZpcnR1YWxQZXRTdGF0W11bXSA9IFtdO1xyXG4gICAgICAgIHN3aXRjaCAoc3RhdHMubGVuZ3RoKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgY29scy5wdXNoKFtzdGF0c1swXV0pO1xyXG4gICAgICAgICAgICAgICAgY29scy5wdXNoKFtdKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICBjb2xzLnB1c2goW3N0YXRzWzBdXSk7XHJcbiAgICAgICAgICAgICAgICBjb2xzLnB1c2goW3N0YXRzWzFdXSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgY29scy5wdXNoKFtzdGF0c1sxXSwgc3RhdHNbMF1dKTtcclxuICAgICAgICAgICAgICAgIGNvbHMucHVzaChbc3RhdHNbMl1dKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICBjb2xzLnB1c2goW3N0YXRzWzFdLCBzdGF0c1swXV0pO1xyXG4gICAgICAgICAgICAgICAgY29scy5wdXNoKFtzdGF0c1szXSwgc3RhdHNbMl1dKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgIH1cclxuICAgICAgICBjb2xzLmZvckVhY2goKGNvbCwgaW5kZXgpID0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb2wuZm9yRWFjaCgoc3RhdCwgc3RhdEluZGV4KSA9PlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBEcmF3U3RhdENpcmNsZShcclxuICAgICAgICAgICAgICAgICAgICB4ICsgKChpbmRleCA9PSAwID8gODAgOiA0MjApICogem9vbSksXHJcbiAgICAgICAgICAgICAgICAgICAgeSArICg5NTAgLSAoc3RhdEluZGV4ICogMzYpKSAqIHpvb20sXHJcbiAgICAgICAgICAgICAgICAgICAgMTYgKiB6b29tLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgVmlydHVhbFBldEhVRE1vZHVsZSBleHRlbmRzIE1vZHVsZVxyXG57XHJcbiAgICBnZXQgVGl0bGUoKTogTW9kdWxlVGl0bGVcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gTW9kdWxlVGl0bGUuVmlydHVhbFBldEhVRDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgU2V0dGluZ3MoKTogU2V0dGluZ1tdXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJzZWxmXCIsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXHJcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+ICEhUGxheWVyVlAoKS5lbmFibGVkLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJEaXNwbGF5IHlvdXIgb3duIHZpcnR1YWwgcGV0IHN0YXRzIG9uIHRoZSBIVURcIlxyXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJleGFjdFN0YXRzXCIsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXHJcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+ICEhUGxheWVyVlAoKS5lbmFibGVkIHx8IFBsYXllclZQSFVEKCkub3RoZXJzICE9PSBcIk9mZlwiLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiRGlzcGxheSB0aGUgZXhhY3QgbnVtYmVyIHBlcmNlbnRhZ2Ugb24gdGhlIEhVRFwiXHJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcInBvc2l0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm9wdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiAhIVBsYXllclZQKCkuZW5hYmxlZCB8fCBQbGF5ZXJWUEhVRCgpLm90aGVycyAhPT0gXCJPZmZcIixcclxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IFtcIkxlZnRcIiwgXCJDZW50ZXJcIiwgXCJSaWdodFwiLCBcIlNwbGl0XCJdLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiTGVmdFwiLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiV2hlcmUgdG8gZGlzcGxheSB0aGUgSFVEXCIsXHJcbiAgICAgICAgICAgICAgICBsb29wOiB0cnVlXHJcbiAgICAgICAgICAgIH0gYXMgT3B0aW9uU2V0dGluZywge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJvdGhlcnNcIixcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwib3B0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBbXCJPZmZcIiwgXCJQdWJsaWNcIiwgXCJGcmllbmRzXCIsIFwiV2hpdGVsaXN0XCIsIFwiTG92ZXJzXCIsIFwiT3duZXJzXCIsIFwiRC9zIEZhbWlseVwiLCBcIkNsdWJvd25lclwiXSxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIkZyaWVuZHNcIixcclxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkRpc3BsYXkgdGhlIHZpcnR1YWwgcGV0IHN0YXRzIG9mIG90aGVycyBvbiB0aGUgSFVEXCIsXHJcbiAgICAgICAgICAgICAgICBsb29wOiBmYWxzZVxyXG4gICAgICAgICAgICB9IGFzIE9wdGlvblNldHRpbmdcclxuICAgICAgICBdO1xyXG4gICAgfVxyXG5cclxuICAgIExvYWQoKTogdm9pZFxyXG4gICAge1xyXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIkRyYXdBcm91c2FsTWV0ZXJcIiwgMSwgKGFyZ3MsIG5leHQpID0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBbY2hhcmFjdGVyLCB4LCB5LCB6b29tXSA9IGFyZ3M7XHJcbiAgICAgICAgICAgIC8vIEdldCBjaGFyYWN0ZXIgc3RhdHMgd2hlbiBzdXBwb3J0IGZvciBtdWx0cGxheWVyXHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICFBY3Rpdml0eUFsbG93ZWQoKVxyXG4gICAgICAgICAgICAgICAgfHwgKGNoYXJhY3Rlci5Jc1BsYXllcigpICYmICghUGxheWVyVlBIVUQoKS5zZWxmIHx8ICFQbGF5ZXJWUCgpLmVuYWJsZWQpKVxyXG4gICAgICAgICAgICAgICAgfHwgKCFjaGFyYWN0ZXIuSXNQbGF5ZXIoKSAmJiBQbGF5ZXJWUEhVRCgpLm90aGVycyA9PT0gXCJPZmZcIilcclxuICAgICAgICAgICAgICAgIHx8ICghY2hhcmFjdGVyLklzUGxheWVyKCkgJiYgIUlzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAoY2hhcmFjdGVyLk1lbWJlck51bWJlciBhcyBudW1iZXIsIFBsYXllclZQSFVEKCkub3RoZXJzKSlcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gR2V0IHRoZSBzdGF0cyBmb3IgdGhlIGNoYXJhY3Rlciwgbm90IGp1c3QgdGhlIHBsYXllclxyXG4gICAgICAgICAgICBjb25zdCBjaGFyYWN0ZXJWUFN0YXRzID0gY2hhcmFjdGVyPy5NUEE/LltNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XTtcclxuICAgICAgICAgICAgaWYgKCFjaGFyYWN0ZXJWUFN0YXRzPy5lbmFibGVkKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3Qgc3RhdHM6IFZpcnR1YWxQZXRTdGF0W10gPSBbXTtcclxuICAgICAgICAgICAgKFtcImZvb2RcIiwgXCJ3YXRlclwiLCBcInNsZWVwXCIsIFwiYWZmZWN0aW9uXCJdIGFzIFZpcnR1YWxQZXRTdGF0Q2F0ZWdvcnlbXSkuZm9yRWFjaCgoc3RhdCkgPT5cclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJhY3RlclZQU3RhdHNbYCR7c3RhdH1Ib3Vyc2BdICE9PSAwKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0OiBzdGF0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXZlbDogR2V0Q2hhcmFjdGVyQ3VycmVudFN0YXRWYWx1ZShjaGFyYWN0ZXIsIHN0YXQpXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAoc3RhdHMubGVuZ3RoICE9PSAwKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBEcmF3VmlydWFsUGV0SHVkKHgsIHksIHpvb20sIHN0YXRzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgVW5sb2FkKCk6IHZvaWRcclxuICAgIHtcclxuICAgICAgICBzdXBlci5VbmxvYWQoKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBMb2NhbGl6ZWRUZXh0IH0gZnJvbSBcIi4uL2xvY2FsaXphdGlvbi9sb2NhbGl6YXRpb25cIjtcclxuXHJcbnR5cGUgTmV3UHJlcmVxdWlzaXRlcyA9IFwiSG9sZGluZ0NsaWNrZXJcIiB8IFwiSGFzQm93bFwiIHwgXCJVc2VUb25ndWVOb01vdXRoXCI7XHJcblxyXG4vKiogU3RvcmVzIHRoZSBhY3Rpdml0eSBuYW1lIGFuZCB0aGUgaW1hZ2UgbG9jYXRpb24gb3IgYmFzZSA2NCBpbWFnZSBmb3IgdGhhdCBhY3Rpdml0eSAqL1xyXG5leHBvcnQgY29uc3QgYWN0aXZpdHlJbWFnZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcclxuLyoqIFdoZW4gYW4gYWN0aXZpdHkgaGFwcGVucywgcnVuIHRoaXMgY2FsbGJhY2sgZnVuY3Rpb24gKi9cclxuZXhwb3J0IGNvbnN0IGFjdGl2aXR5VHJpZ2dlcnM6IFJlY29yZDxzdHJpbmcsIEFjaXRpdml0eVRyaWdnZXI+ID0ge307XHJcbi8qKiBDdXN0b20gcHJlcmVxdWlzaXRlcyBmb3IgYWN0aXZpdGllcyAqL1xyXG5leHBvcnQgY29uc3QgYWN0aXZpdHlQcmVyZXF1aXNpdGVzOiBSZWNvcmQ8TmV3UHJlcmVxdWlzaXRlcywgUHJlcmVxdWlzaXRlPiA9XHJcbntcclxuICAgIEhvbGRpbmdDbGlja2VyOiAoYWN0aW5nLCBfYWN0ZWQsIF9ncm91cCkgPT5cclxuICAgIHtcclxuICAgICAgICByZXR1cm4gSW52ZW50b3J5R2V0KGFjdGluZywgXCJJdGVtSGFuZGhlbGRcIik/LkFzc2V0Py5OYW1lPy50b0xvY2FsZUxvd2VyQ2FzZSgpPy5pbmNsdWRlcyhcInJlbW90ZVwiKSA/PyBmYWxzZTtcclxuICAgIH0sXHJcbiAgICBIYXNCb3dsOiAoYWN0aW5nLCBfYWN0ZWQsIF9ncm91cCkgPT5cclxuICAgIHtcclxuICAgICAgICByZXR1cm4gSW52ZW50b3J5R2V0KGFjdGluZywgXCJJdGVtRGV2aWNlc1wiKT8uQXNzZXQ/Lk5hbWUgPT09IFwiUGV0Qm93bFwiO1xyXG4gICAgfSxcclxuICAgIFVzZVRvbmd1ZU5vTW91dGg6IChhY3RpbmcsIF9hY3RlZCwgX2dyb3VwKSA9PlxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiAhYWN0aW5nLkNhblRhbGsoKSAmJiAhYWN0aW5nLklzTW91dGhCbG9ja2VkKCk7XHJcbiAgICB9XHJcbn07XHJcblxyXG4vKipcclxuICogQ3JlYXRlIGEgbmV3IGN1c3RvbSBhY3Rpdml0eSBmb3IgdGhlIFBsYXllciB0byB1c2VcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBDcmVhdGVBY3Rpdml0eShjdXN0b21BY3Rpdml0eTogQ3VzdG9tQWN0aXZpdHkpOiB2b2lkXHJcbntcclxuICAgIC8vIENyZWF0ZSB0aGUgYWN0aXZpdHkgQkMgdXNlc1xyXG4gICAgY29uc3QgYWN0aXZpdHk6IEFjdGl2aXR5ID0ge1xyXG4gICAgICAgIE5hbWU6IGBNUEFfJHtjdXN0b21BY3Rpdml0eS5OYW1lfWAgYXMgQWN0aXZpdHlOYW1lLFxyXG4gICAgICAgIEFjdGl2aXR5SUQ6IE1hdGgubWF4KC4uLkFjdGl2aXR5RmVtYWxlM0RDRy5tYXAoKHgpID0+IHguQWN0aXZpdHlJRCA/PyAtMSkpICsgMSxcclxuICAgICAgICBNYXhQcm9ncmVzczogY3VzdG9tQWN0aXZpdHkuTWF4UHJvZ3Jlc3MgPz8gNTAsXHJcbiAgICAgICAgLy8gTWF4UHJvZ3Jlc3NTZWxmOiBjdXN0b21BY3Rpdml0eS5NYXhQcm9ncmVzc1NlbGYgPz8gY3VzdG9tQWN0aXZpdHkuTWF4UHJvZ3Jlc3MsXHJcbiAgICAgICAgUHJlcmVxdWlzaXRlOiBjdXN0b21BY3Rpdml0eS5QcmVyZXF1aXNpdGUsXHJcbiAgICAgICAgVGFyZ2V0OiBbXVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBUaGUgbG9va3VwIHRhYmxlIGZvciB0aGUgYWN0aXZpdHlcclxuICAgIGN1c3RvbUFjdGl2aXR5LlRhcmdldHMuZm9yRWFjaCgodGFyZ2V0KSA9PlxyXG4gICAge1xyXG4gICAgICAgIC8vIEFjaXRpdml0eSBjYW4gYmUgdXNlZCBvbiBzZWxmXHJcbiAgICAgICAgaWYgKHRhcmdldC5hY3Rpb25TZWxmKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKCFhY3Rpdml0eS5UYXJnZXRTZWxmKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBhY3Rpdml0eS5UYXJnZXRTZWxmID0gW107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKGFjdGl2aXR5LlRhcmdldFNlbGYgYXMgQXNzZXRHcm91cEl0ZW1OYW1lW10pPy5wdXNoKHRhcmdldC5ncm91cCk7XHJcbiAgICAgICAgICAgIEFjdGl2aXR5RGljdGlvbmFyeT8ucHVzaChbYExhYmVsLUNoYXRTZWxmLSR7dGFyZ2V0Lmdyb3VwfS0ke2FjdGl2aXR5Lk5hbWV9YCwgTG9jYWxpemVkVGV4dCh0YXJnZXQubGFiZWwpXSk7XHJcbiAgICAgICAgICAgIEFjdGl2aXR5RGljdGlvbmFyeT8ucHVzaChbYENoYXRTZWxmLSR7dGFyZ2V0Lmdyb3VwfS0ke2FjdGl2aXR5Lk5hbWV9YCwgTG9jYWxpemVkVGV4dCh0YXJnZXQuYWN0aW9uU2VsZildKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEFjdGl2aXR5IGNhbiBiZSB1c2VkIG9uIG90aGVyc1xyXG4gICAgICAgIGlmICh0YXJnZXQuYWN0aW9uT3RoZXJzKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgYWN0aXZpdHkuVGFyZ2V0LnB1c2godGFyZ2V0Lmdyb3VwKTtcclxuICAgICAgICAgICAgQWN0aXZpdHlEaWN0aW9uYXJ5Py5wdXNoKFtgTGFiZWwtQ2hhdE90aGVyLSR7dGFyZ2V0Lmdyb3VwfS0ke2FjdGl2aXR5Lk5hbWV9YCwgTG9jYWxpemVkVGV4dCh0YXJnZXQubGFiZWwpXSk7XHJcbiAgICAgICAgICAgIEFjdGl2aXR5RGljdGlvbmFyeT8ucHVzaChbYENoYXRPdGhlci0ke3RhcmdldC5ncm91cH0tJHthY3Rpdml0eS5OYW1lfWAsIExvY2FsaXplZFRleHQodGFyZ2V0LmFjdGlvbk90aGVycyldKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBJbWFnZSB0aGUgYWN0aXZpdHkgd2lsbCB1c2VcclxuICAgIGFjdGl2aXR5SW1hZ2VzW2FjdGl2aXR5Lk5hbWVdID0gY3VzdG9tQWN0aXZpdHkuSW1hZ2U7XHJcblxyXG4gICAgLy8gT24gYWN0aXZpdHkgdHJpZ2dlciBzdXBwb3J0XHJcbiAgICBpZiAoY3VzdG9tQWN0aXZpdHkuT25UcmlnZ2VyKVxyXG4gICAge1xyXG4gICAgICAgIGFjdGl2aXR5VHJpZ2dlcnNbYWN0aXZpdHkuTmFtZV0gPSBjdXN0b21BY3Rpdml0eS5PblRyaWdnZXI7XHJcbiAgICB9XHJcblxyXG4gICAgQWN0aXZpdHlGZW1hbGUzRENHLnB1c2goYWN0aXZpdHkpO1xyXG4gICAgQWN0aXZpdHlGZW1hbGUzRENHT3JkZXJpbmcucHVzaChhY3Rpdml0eS5OYW1lKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENyZWF0ZSBtYW55IGN1c3RvbSBhY3Rpdml0aWVzIGZvciB0aGUgUGxheWVyIHRvIHVzZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIENyZWF0ZUFjdGl2aXRpZXMoY3VzdG9tQWN0aXZpdGllczogQ3VzdG9tQWN0aXZpdHlbXSk6IHZvaWRcclxue1xyXG4gICAgY3VzdG9tQWN0aXZpdGllcy5mb3JFYWNoKChhY3Rpdml0eSkgPT5cclxuICAgIHtcclxuICAgICAgICBDcmVhdGVBY3Rpdml0eShhY3Rpdml0eSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJlbW92ZSBhY3Rpdml0eSwgZGlzYWxsb3dpbmcgdGhlIFBsYXllciB0byB1c2UgaXRcclxuICogQHBhcmFtIGN1c3RvbUFjdGl2aXR5IC0gT25seSBOYW1lIGFuZCBUYXJnZXRzIG1hdHRlciBmb3IgdGhpcyBmdW5jdGlvblxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIFJlbW92ZUFjdGl2aXR5KGN1c3RvbUFjdGl2aXR5OiBDdXN0b21BY3Rpdml0eSk6IHZvaWRcclxue1xyXG4gICAgY29uc3QgYWN0aXZpdHlOYW1lID0gYE1QQV8ke2N1c3RvbUFjdGl2aXR5Lk5hbWV9YDtcclxuXHJcbiAgICAvLyBUaGUgbG9va3VwIHRhYmxlIGZvciB0aGUgYWN0aXZpdHlcclxuICAgIGN1c3RvbUFjdGl2aXR5LlRhcmdldHMuZm9yRWFjaCgodGFyZ2V0KSA9PlxyXG4gICAge1xyXG4gICAgICAgIC8vIEFjaXRpdml0eSBjYW4gYmUgdXNlZCBvbiBzZWxmXHJcbiAgICAgICAgaWYgKHRhcmdldC5hY3Rpb25TZWxmKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgQWN0aXZpdHlEaWN0aW9uYXJ5ID0gQWN0aXZpdHlEaWN0aW9uYXJ5Py5maWx0ZXIoKHgpID0+ICEoeFswXSA9PT0gYExhYmVsLUNoYXRTZWxmLSR7dGFyZ2V0Lmdyb3VwfS0ke2FjdGl2aXR5TmFtZX1gIHx8IHhbMF0gPT09IGBDaGF0U2VsZi0ke3RhcmdldC5ncm91cH0tJHthY3Rpdml0eU5hbWV9YCkpID8/IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBBY3Rpdml0eSBjYW4gYmUgdXNlZCBvbiBvdGhlcnNcclxuICAgICAgICBpZiAodGFyZ2V0LmFjdGlvbk90aGVycylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIEFjdGl2aXR5RGljdGlvbmFyeSA9IEFjdGl2aXR5RGljdGlvbmFyeT8uZmlsdGVyKCh4KSA9PiAhKHhbMF0gPT09IGBMYWJlbC1DaGF0T3RoZXItJHt0YXJnZXQuZ3JvdXB9LSR7YWN0aXZpdHlOYW1lfWAgfHwgeFswXSA9PT0gYENoYXRPdGhlci0ke3RhcmdldC5ncm91cH0tJHthY3Rpdml0eU5hbWV9YCkpID8/IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gSW1hZ2UgdGhlIGFjdGl2aXR5IHdpbGwgdXNlXHJcbiAgICBkZWxldGUgYWN0aXZpdHlJbWFnZXNbYWN0aXZpdHlOYW1lXTtcclxuXHJcbiAgICAvLyBPbiBhY3Rpdml0eSB0cmlnZ2VyIHN1cHBvcnRcclxuICAgIGRlbGV0ZSBhY3Rpdml0eVRyaWdnZXJzW2FjdGl2aXR5TmFtZV07XHJcblxyXG4gICAgLy8gRG9uZVxyXG4gICAgQWN0aXZpdHlGZW1hbGUzRENHID0gQWN0aXZpdHlGZW1hbGUzRENHLmZpbHRlcigoeCkgPT4geC5OYW1lICE9PSBhY3Rpdml0eU5hbWUpO1xyXG4gICAgQWN0aXZpdHlGZW1hbGUzRENHT3JkZXJpbmcgPSBBY3Rpdml0eUZlbWFsZTNEQ0dPcmRlcmluZy5maWx0ZXIoKHgpID0+IHggIT09IGFjdGl2aXR5TmFtZSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZW1vdmUgYWN0aXZpdGllcywgZGlzYWxsb3dpbmcgdGhlIFBsYXllciB0byB1c2UgdGhlbVxyXG4gKiBAcGFyYW0gY3VzdG9tQWN0aXZpdHkgLSBPbmx5IE5hbWUgYW5kIFRhcmdldHMgbWF0dGVyIGZvciB0aGlzIGZ1bmN0aW9uXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gUmVtb3ZlQWN0aXZpdGllcyhjdXN0b21BY3Rpdml0aWVzOiBDdXN0b21BY3Rpdml0eVtdKTogdm9pZFxyXG57XHJcbiAgICBjdXN0b21BY3Rpdml0aWVzLmZvckVhY2goKGFjdGl2aXR5KSA9PlxyXG4gICAge1xyXG4gICAgICAgIFJlbW92ZUFjdGl2aXR5KGFjdGl2aXR5KTtcclxuICAgIH0pO1xyXG59XHJcbiIsImltcG9ydCB7IE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4uL21vZHVsZXMvX21vZHVsZVwiO1xyXG5pbXBvcnQgeyBGaW5kQ2hhcmFjdGVySW5Sb29tIH0gZnJvbSBcIi4vbWVzc2FnaW5nXCI7XHJcblxyXG5leHBvcnQgY29uc3QgQVVUSE9SSVRZX0dST1VQX09QVElPTlM6IEF1dGhvcml0eUdyb3VwW10gPSBbXHJcbiAgICBcIlB1YmxpY1wiLFxyXG4gICAgXCJGcmllbmRzXCIsXHJcbiAgICBcIldoaXRlbGlzdFwiLFxyXG4gICAgXCJMb3ZlcnNcIixcclxuICAgIFwiT3duZXJzXCIsXHJcbiAgICBcIkNsdWJvd25lclwiLFxyXG4gICAgXCJTZWxmXCJcclxuXTtcclxuXHJcbmNvbnN0IEFVVEhPUklUWV9HUk9VUF9QUklPX09SREVSOiBBdXRob3JpdHlHcm91cFtdID0gW1xyXG4gICAgXCJOb25lXCIsXHJcbiAgICBcIlB1YmxpY1wiLFxyXG4gICAgXCJGcmllbmRzXCIsXHJcbiAgICBcIldoaXRlbGlzdFwiLFxyXG4gICAgXCJMb3ZlcnNcIixcclxuICAgIFwiT3duZXJzXCIsXHJcbiAgICBcIkQvcyBGYW1pbHlcIixcclxuICAgIFwiQ2x1Ym93bmVyXCIsXHJcbiAgICBcIlNlbGZcIlxyXG5dO1xyXG5cclxuY29uc3QgTG92ZXJzID0gKEM6IENoYXJhY3RlcikgPT4gKEMuTG92ZXJzaGlwPy5maWx0ZXIoKHgpID0+IHguTWVtYmVyTnVtYmVyKS5tYXAoKGxvdmVyKSA9PiBsb3Zlci5NZW1iZXJOdW1iZXIpID8/IFtdKSBhcyBudW1iZXJbXTtcclxuZXhwb3J0IGNvbnN0IEFVVEhPUklUWV9HUk9VUFMgPVxyXG57XHJcbiAgICBTZWxmOiAoQzogQ2hhcmFjdGVyKSA9PiBbQy5NZW1iZXJOdW1iZXIgPz8gLTFdLFxyXG4gICAgQ2x1Ym93bmVyOiAoQzogQ2hhcmFjdGVyKSA9PiBDPy5Pd25lcnNoaXA/Lk1lbWJlck51bWJlciA/IFtDPy5Pd25lcnNoaXA/Lk1lbWJlck51bWJlcl0gOiBbXSxcclxuICAgIE93bmVyczogZnVuY3Rpb24gKEM6IENoYXJhY3Rlcik6IG51bWJlcltdXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3Qgb3duZXJzID0gKChDLk1QQT8uW01vZHVsZVRpdGxlLkF1dGhvcml0eV0/Lm93bmVycyBhcyBzdHJpbmcpID8/IFwiXCIpLnNwbGl0KFwiLFwiKS5tYXAoKHZhbCkgPT4gcGFyc2VJbnQodmFsKSkuZmlsdGVyKChudW0pID0+ICFpc05hTihudW0pKTtcclxuICAgICAgICByZXR1cm4gb3duZXJzLmxlbmd0aCA9PT0gMCA/IFtdIDogb3duZXJzO1xyXG4gICAgfSxcclxuICAgIExvdmVyczogTG92ZXJzLFxyXG4gICAgV2hpdGVMaXN0OiAoQzogQ2hhcmFjdGVyKSA9PiBDLldoaXRlTGlzdCA/PyBbXSxcclxuICAgIEZyaWVuZExpc3Q6ICgpID0+IFBsYXllci5GcmllbmRMaXN0ID8/IFtdXHJcbn07XHJcblxyXG5leHBvcnQgdHlwZSBBdXRob3JpdHlHcm91cCA9IFwiU2VsZlwiIHwgXCJDbHVib3duZXJcIiB8IFwiRC9zIEZhbWlseVwiIHwgXCJPd25lcnNcIiB8IFwiTG92ZXJzXCIgfCBcIldoaXRlbGlzdFwiIHwgXCJGcmllbmRzXCIgfCBcIlB1YmxpY1wiIHwgXCJOb25lXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cChtZW1iZXJOdW1iZXI6IG51bWJlciwgYXV0aEdyb3VwOiBBdXRob3JpdHlHcm91cCwgYWxsb3dTZWxmID0gZmFsc2UsIHNvdXJjZUNoYXI6IENoYXJhY3RlciA9IFBsYXllcik6IGJvb2xlYW5cclxue1xyXG4gICAgaWYgKGF1dGhHcm91cCA9PT0gXCJOb25lXCIpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIERlbnkgc2VsZiBvciBpbnN0YW50IGFjY2Vzc1xyXG4gICAgaWYgKG1lbWJlck51bWJlciA9PT0gQVVUSE9SSVRZX0dST1VQUy5TZWxmKHNvdXJjZUNoYXIpWzBdKVxyXG4gICAge1xyXG4gICAgICAgIC8vIElmIFNlbGYgQXV0aG9yaXR5R3JvdXAsIG92ZXJyaWRlIHRoZSBhbGxvd1NlbGYgZmxhZ1xyXG4gICAgICAgIHJldHVybiBhdXRoR3JvdXAgPT09IFwiU2VsZlwiID8gdHJ1ZSA6IGFsbG93U2VsZjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBFdmVyeW9uZSBhbGxvd2VkIGV4Y2VwdCBibG9ja2VkIGNoYXJhY3RlcnNcclxuICAgIGlmIChhdXRoR3JvdXAgPT09IFwiUHVibGljXCIpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuICEoXHJcbiAgICAgICAgICAgIHNvdXJjZUNoYXIuQmxhY2tMaXN0LmluY2x1ZGVzKG1lbWJlck51bWJlcilcclxuICAgICAgICAgICAgfHwgKChzb3VyY2VDaGFyIGFzIFBsYXllckNoYXJhY3Rlcik/Lkdob3N0TGlzdD8uaW5jbHVkZXMobWVtYmVyTnVtYmVyKSA/PyBmYWxzZSlcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEZhbWlseSBvbmx5IGNhbiBiZSBjaGVja2VkIGJ5IGFnYWluc3QgdGhlIFBsYXllciB0aGVtc2VsZlxyXG4gICAgaWYgKGF1dGhHcm91cCA9PT0gXCJEL3MgRmFtaWx5XCIgJiYgc291cmNlQ2hhci5NZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXIpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIEZpbmRDaGFyYWN0ZXJJblJvb20obWVtYmVyTnVtYmVyKT8uSXNGYW1pbHlPZlBsYXllcigpID8/IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBhdXRoQ2hlY2sgPSBuZXcgU2V0PG51bWJlcj4oKTtcclxuICAgIC8vIFVzZSBzd2l0Y2ggZmFsbHRocm91Z2ggdG8gZ2V0IHRoZSBzZXQgb2YgYWxsIGF1dGhlZCB1c2VycyBpbiB0aGUgZ3JvdXAocylcclxuICAgIHN3aXRjaCAoYXV0aEdyb3VwKVxyXG4gICAge1xyXG4gICAgICAgIGNhc2UgXCJGcmllbmRzXCI6XHJcbiAgICAgICAgICAgIC8vIFNpbmNlIEZyaWVuZHNMaXN0IGlzIG5vdCBvbiBvdGhlciBjaGFyYWN0ZXJzLCBjYW4gb25seSBjaGVjayBpZiB0aGUgUGxheWVyIGFuZCBhbm90aGVyIGNoYXJhY3RlciBhcmUgZnJpZW5kc1xyXG4gICAgICAgICAgICAvLyBVbmFibGUgdG8gY2hlY2sgaWYgMiBkaWZmZXJlbnQgY2hhcmFjdGVycyBhcmUgZnJpZW5kc1xyXG4gICAgICAgICAgICAvLyB0YXJnZXRDaGFyIGlzIG5vbi1wbGF5ZXIgYW5kIGxvb2tpbmcgZm9yIFBsYXllciBtZW1iZXIgbnVtYmVyXHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgIHNvdXJjZUNoYXIuTWVtYmVyTnVtYmVyICE9PSBQbGF5ZXIuTWVtYmVyTnVtYmVyXHJcbiAgICAgICAgICAgICAgICAmJiBQbGF5ZXIuTWVtYmVyTnVtYmVyID09PSBtZW1iZXJOdW1iZXJcclxuICAgICAgICAgICAgICAgICYmIEFVVEhPUklUWV9HUk9VUFMuRnJpZW5kTGlzdCgpLmluY2x1ZGVzKHNvdXJjZUNoYXIuTWVtYmVyTnVtYmVyID8/IC0xKVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFBsYXllciBpcyBzZWxmIGFuZCBsb29raW5nIHRocm91Z2ggZnJpZW5kcyBsaXN0XHJcbiAgICAgICAgICAgIGlmIChzb3VyY2VDaGFyLk1lbWJlck51bWJlciA9PT0gUGxheWVyLk1lbWJlck51bWJlcilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgYXV0aENoZWNrID0gbmV3IFNldChbLi4uYXV0aENoZWNrLCAuLi5BVVRIT1JJVFlfR1JPVVBTLkZyaWVuZExpc3QoKV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmU6IGZhbGx0aHJvdWdoIGlzIGludGVudGlvbmFsXHJcbiAgICAgICAgY2FzZSBcIldoaXRlbGlzdFwiOlxyXG4gICAgICAgICAgICBhdXRoQ2hlY2sgPSBuZXcgU2V0KFsuLi5hdXRoQ2hlY2ssIC4uLkFVVEhPUklUWV9HUk9VUFMuV2hpdGVMaXN0KHNvdXJjZUNoYXIpXSk7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmU6IGZhbGx0aHJvdWdoIGlzIGludGVudGlvbmFsXHJcbiAgICAgICAgY2FzZSBcIkxvdmVyc1wiOlxyXG4gICAgICAgICAgICBhdXRoQ2hlY2sgPSBuZXcgU2V0KFsuLi5hdXRoQ2hlY2ssIC4uLkFVVEhPUklUWV9HUk9VUFMuTG92ZXJzKHNvdXJjZUNoYXIpXSk7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmU6IGZhbGx0aHJvdWdoIGlzIGludGVudGlvbmFsXHJcbiAgICAgICAgY2FzZSBcIk93bmVyc1wiOlxyXG4gICAgICAgICAgICBhdXRoQ2hlY2sgPSBuZXcgU2V0KFsuLi5hdXRoQ2hlY2ssIC4uLkFVVEhPUklUWV9HUk9VUFMuT3duZXJzKHNvdXJjZUNoYXIpXSk7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmU6IGZhbGx0aHJvdWdoIGlzIGludGVudGlvbmFsXHJcbiAgICAgICAgY2FzZSBcIkNsdWJvd25lclwiOlxyXG4gICAgICAgICAgICBhdXRoQ2hlY2sgPSBuZXcgU2V0KFsuLi5hdXRoQ2hlY2ssIC4uLkFVVEhPUklUWV9HUk9VUFMuQ2x1Ym93bmVyKHNvdXJjZUNoYXIpXSk7XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmU6IGZhbGx0aHJvdWdoIGlzIGludGVudGlvbmFsXHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gYXV0aENoZWNrLmhhcyhtZW1iZXJOdW1iZXIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gSGlnaGVzdExldmVsQXV0aG9yaXR5R3JvdXAobWVtYmVyTnVtYmVyOiBudW1iZXIsIHRhcmdldENoYXI6IENoYXJhY3RlciA9IFBsYXllcik6IEF1dGhvcml0eUdyb3VwXHJcbntcclxuICAgIGlmICh0YXJnZXRDaGFyLk1lbWJlck51bWJlciA9PT0gbWVtYmVyTnVtYmVyKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBcIlNlbGZcIjtcclxuICAgIH1cclxuICAgIGlmICh0YXJnZXRDaGFyPy5Pd25lcnNoaXA/Lk1lbWJlck51bWJlciA9PT0gbWVtYmVyTnVtYmVyKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBcIkNsdWJvd25lclwiO1xyXG4gICAgfVxyXG4gICAgaWYgKEFVVEhPUklUWV9HUk9VUFMuT3duZXJzKHRhcmdldENoYXIpLmluY2x1ZGVzKG1lbWJlck51bWJlcikpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIFwiT3duZXJzXCI7XHJcbiAgICB9XHJcbiAgICBpZiAoQVVUSE9SSVRZX0dST1VQUy5Mb3ZlcnModGFyZ2V0Q2hhcikuaW5jbHVkZXMobWVtYmVyTnVtYmVyKSlcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gXCJMb3ZlcnNcIjtcclxuICAgIH1cclxuICAgIGlmIChBVVRIT1JJVFlfR1JPVVBTLldoaXRlTGlzdCh0YXJnZXRDaGFyKS5pbmNsdWRlcyhtZW1iZXJOdW1iZXIpKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBcIldoaXRlbGlzdFwiO1xyXG4gICAgfVxyXG4gICAgLy8gRnJpZW5kc1xyXG4gICAgLy8gVGFyZ2V0Y2hhcmFjdGVyIGlzIHNlbGZcclxuICAgIGlmICh0YXJnZXRDaGFyLk1lbWJlck51bWJlciA9PT0gUGxheWVyLk1lbWJlck51bWJlciAmJiBQbGF5ZXIuRnJpZW5kTGlzdD8uaW5jbHVkZXMobWVtYmVyTnVtYmVyKSlcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gXCJGcmllbmRzXCI7XHJcbiAgICB9XHJcbiAgICAvLyBUYXJnZXQgY2hhcmFjdGVyIGlzIG5vdCBzZWxmLCBidXQgbG9va3VwIGNoYXJhY3RlciBpc1xyXG4gICAgaWYgKHRhcmdldENoYXIuTWVtYmVyTnVtYmVyICE9PSBQbGF5ZXIuTWVtYmVyTnVtYmVyXHJcbiAgICAgICYmIG1lbWJlck51bWJlciA9PT0gUGxheWVyLk1lbWJlck51bWJlclxyXG4gICAgICAmJiBQbGF5ZXIuRnJpZW5kTGlzdD8uaW5jbHVkZXModGFyZ2V0Q2hhci5NZW1iZXJOdW1iZXIgPz8gLTEpXHJcbiAgICApXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIFwiRnJpZW5kc1wiO1xyXG4gICAgfVxyXG4gICAgLy8gUHVibGljXHJcbiAgICBpZiAoXHJcbiAgICAgICAgISh0YXJnZXRDaGFyLkJsYWNrTGlzdC5pbmNsdWRlcyhtZW1iZXJOdW1iZXIpXHJcbiAgICAgICAgfHwgKCh0YXJnZXRDaGFyIGFzIFBsYXllckNoYXJhY3Rlcik/Lkdob3N0TGlzdD8uaW5jbHVkZXMobWVtYmVyTnVtYmVyKSA/PyBmYWxzZSkpXHJcbiAgICApXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIFwiUHVibGljXCI7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gXCJOb25lXCI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBBdXRob3JpdHlJc0NvbXBhcmlzb25Ub0NoYXJhY3Rlcihncm91cDogQXV0aG9yaXR5R3JvdXAsIGNvbXBhcmlzb246IFwiPlwiIHwgXCI8XCIgfCBgJHtcIj1cIiB8IFwiIVwiIHwgXCI+XCIgfCBcIjxcIn09YCA9IFwiPj1cIiwgbWVtYmVyTnVtYmVyOiBudW1iZXIsIGNoYXJhY3RlcjogQ2hhcmFjdGVyID0gUGxheWVyKTogYm9vbGVhblxyXG57XHJcbiAgICBjb25zdCByYW5rID0gSGlnaGVzdExldmVsQXV0aG9yaXR5R3JvdXAobWVtYmVyTnVtYmVyLCBjaGFyYWN0ZXIpO1xyXG5cclxuICAgIGNvbnN0IGdyb3VwSW5kZXggPSBBVVRIT1JJVFlfR1JPVVBfUFJJT19PUkRFUi5pbmRleE9mKGdyb3VwKTtcclxuICAgIGNvbnN0IHJhbmtJbmRleCA9IEFVVEhPUklUWV9HUk9VUF9QUklPX09SREVSLmluZGV4T2YocmFuayk7XHJcblxyXG4gICAgaWYgKGdyb3VwSW5kZXggPT09IC0xIHx8IHJhbmtJbmRleCA9PT0gLTEpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHN3aXRjaCAoY29tcGFyaXNvbilcclxuICAgIHtcclxuICAgICAgICBjYXNlIFwiPlwiOlxyXG4gICAgICAgICAgICByZXR1cm4gcmFua0luZGV4ID4gZ3JvdXBJbmRleDtcclxuXHJcbiAgICAgICAgY2FzZSBcIjxcIjpcclxuICAgICAgICAgICAgcmV0dXJuIHJhbmtJbmRleCA8IGdyb3VwSW5kZXg7XHJcblxyXG4gICAgICAgIGNhc2UgXCI+PVwiOlxyXG4gICAgICAgICAgICByZXR1cm4gcmFua0luZGV4ID49IGdyb3VwSW5kZXg7XHJcblxyXG4gICAgICAgIGNhc2UgXCI8PVwiOlxyXG4gICAgICAgICAgICByZXR1cm4gcmFua0luZGV4IDw9IGdyb3VwSW5kZXg7XHJcblxyXG4gICAgICAgIGNhc2UgXCI9PVwiOlxyXG4gICAgICAgICAgICByZXR1cm4gcmFua0luZGV4ID09IGdyb3VwSW5kZXg7XHJcblxyXG4gICAgICAgIGNhc2UgXCIhPVwiOlxyXG4gICAgICAgICAgICByZXR1cm4gcmFua0luZGV4ICE9IGdyb3VwSW5kZXg7XHJcblxyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgY29tcGFyaXNvbiBvcGVyYXRvclwiKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgcGFja2FnZUluZm8gZnJvbSBcIi4uLy4uL3BhY2thZ2UuanNvblwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IE1QQV9WRVJTSU9OID0gcGFja2FnZUluZm8udmVyc2lvbjtcclxuXHJcbmV4cG9ydCBjb25zdCBJQ09OUyA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgUEFXOiBcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRllBQUFCV0NBWUFBQUJWVm1IM0FBQUFBWE5TUjBJQXJzNGM2UUFBQUFSblFVMUJBQUN4and2OFlRVUFBQUFKY0VoWmN3QUFEc0VBQUE3QkFiaVJhKzBBQUFBWmRFVllkRk52Wm5SM1lYSmxBSGQzZHk1cGJtdHpZMkZ3WlM1dmNtZWI3andhQUFBRzdFbEVRVlI0WHUyY1Y4ZzBOUmhHZnhWN0FUdUtZa05GN0lLaTNsZ3Z4SWFLSWlKMnZWQ3hGeFFiMkM0VmU4RjJvYUpnQTN0RnNIY0ZHNG9Oc1dEdnZUM25tNDJFNFozWlpKTFpiK2NuQnc0NzdDWXpTWFoySm5tVDJUbUZRcUZRS0JRS2hVS2hVQ2dVeHJHYVBGKytMZitSMzh2NzVRRnlNWmtMOXJXL3ZFOStKemtXeCtUWWxHR3U0bWo1dS95M3dVOGtEWndLKzJCZjFqR1FNaHdsNXdwb1ZLdVNscGZLcnBEWDJxZmw0QnQzSThsUDBhcGNrOWZLV01oajdhdEp5clNoSEN3UFNhdGk0enhkaG5LYXRQWXh6Z2ZsSUZsUFdoVUtkVXM1RHRKWWVVT2xqTDB3NytpMUQvWVl2WGJsQ3RsV1BqNGpUUXE3ajE0SHhTUFNPa3RpcE52VUJKOVplV0o4V0E2SytlV0gwcXBNakc5STY2emxQVDZ6OHNUNGdhU3NnMkU1K1lPMEtoUHJWcklPNzFscFk2V015OHJzOUhXTlhVUXVWRzBtcy9mbzFjZDZyd3NMU3NxYW5iNGFGamdqY3JDOW5LL2FuSUZ0M3N1Qk8zT3owMWZEL2l4L3F6YVRXVU91WG0zT3dEYnY1WUF5L2xKdDVxV3ZoaVg0OFhXMW1ReGxYS2ZhbklIdFhPWCtSbExXN1BUVnNIOUs3cmk1V0hYMENqa2pWSlR4cjJvekw2RU5Tem91OURHOE5Ick5nWC9uem5rWGYzSDBHZ3B0RU5SbWJZbFdrQ2RKeHRURU05K1JiMHJpbkdmSkxXUWJqNDVlYytCL3FiRmZjQnVQalY2YjJGeFNWK3BNM1dtRHQrUUQ4a1JKRzBYQnFPWkw2ZTZhVGI0Z2lZSE9JK3NzS3IrUVZyNVl6NVVPdHEwMHNWSTJ5bWhCL1orWFZqNWYybWcvR1VTWG9TS0YyRnJXdVV4YTZXTWxwdXM0UmxwcFlyVml2d3c4bnBOVytqYkhCdW1Ya2I5S0szT0k1MGdmN3VDeDhWakxIYVZqSjJtbGlaRXkrVDBOT0Z0YWFVT2t6V2k3Um5LY0RYZElmOVIxbzdUU2hjcDB5a3JTd1hiYk5FK0lsTWxCV1crWFZyb1lhYnRHbnBSV3BsaTVLU3dzZ1liNFVWcnBRcVJNZFo2U1Z0b1FLWXY3b2lnalpiWFN4ZnFFYk9RbmFXWHE0cjNTY1pDMDBvUkkzam9IU3l0dGlBZEtCMlcwMG5TUnRtdkV5cERpQmRJUk05bm5mRTlhM1N0K3ZueG01V256RXVtZ2JGYWFGQnRoR0dwbFNIRUg2WWlkOU50R09sYVdLMWFiTTJ3cnJUeE4rcE9VbE1sS2srSlhzaEU2OVZhbUZOK1g3bm9MWjhpL3BaWFc5MUFKdTBoR2NkeDUrYmx4TFhQellZZEpLNjh2UFlBenBZT3lNSlMxMHFiWU9pQTZWVnFaVWoxZSttd203NUxXM1oxKzVIWVNhTlQ2NTBnRHN3OGdyZFgzWk44Y3c2VnpuQ0RyYVhOSTIvMVBmY1RFWFB1cjFXWldQcFpyU2lyclEvaHZVOGxQblBBZHgzNVd3czZTcmx2VDFBbFJLWDdTTkNvdy9HUWRBNEhyVHlXalFxN0RQbHliR1paeVdja054MzZ0MnJSaFRHeDlJNmx5OW9XeWx5VHFaTzNIbC9WZjF0Uk5FN3RLYXorcDBtWmpZWGhtWlU3MUdobENiTmVNYXkranNSQmliNTZoQnEwN0krTEZUOUxhUVlxdFA1TVJSSXlzdk9Qa0J0VTJWZTZnREZiK0ZHbXIwUERyekFVL3h4amZsMGpRNHJLSmk2U1ZMMGFXR3pXeGhBeUoyTVZJRzlWdmptTTVXVm83NnlwRHllVmxIVUozZDBvclR4ZXZsbFlZazJPbkRLMHRhYU5PWENldEhYYVJEalJuamM4cWtydTNsVDVGQXRGTFNoK09UUm1zOUYya2JaSzRSVm83anZWbDZVUDNpRzZZbFRhSHI4dTFwYzhyMGtvYksyMlNoY3VsZFlBWS9WbUFQU1g5Vml0ZFRwa2w4QVB3NTBrclhZeTBSVmFPa0YwYmc1R1N1NzRlSzYwMGZmbUgzRmNDYzFSZEkzalUvVWpaQyt2S2U2UjE0RGJkY3NrTHBmWDVKSFJEVHBhWFdwKzNTWjE3VzB2cncxQ1NXQ1puZzFVUTUwZlNUYXZjS3EwMGs5VE5jekZjSHJjYWtyb3hPK3RINTRLeHVpVXhNUDRuQ01KVU9PTisrcWtzMnlHaXhmcllteVFGSkVvZk0vVHNFNlpodU1ZVFU5aEhzZzZNc2hQM3BUdEdmT0VaU2JUcVhUbVYwTkNFL0t3ellqWmxyVVRxU1RWcmNFWjBtVXFlbEhmTFFUWXVJVCtyUXRPa1AxVXpDRTZSVmtXbVVkY1ZtM3JvbG9URVVxZEZBdWJSYTdCbWcxeno5SlAwQmpuVjVIcm9ZdEl5dVZtUEt5UVJIS0FONVBEUjY5Q2dIUTZwTnFjUHduSjlyRXVZbEt4N3pYYWk1VHhqTjVaTFZadURaQzJaNjZHUnJBM0w5TytRb1MzV3J6YlR5ZG13MmI3dFdjUi83Q21KbkEyNzlPaDF5TFF1SG80aFo4TU9OcWpoa2EwT09SczIxd056czBucmlzRVljallzM1pXaE01VjFZTnJHNmgvbWtyOTl5cjNnd3BlNXNGNGVzYy9CMDlJcWRBNlpxenF1OWw1T21UcWFXcGhMc2dxZHFsdk54Ny9BNVhvb3IrNG1jcXJKdVZ6STZhOE5JSDVxcFVueFlqbjFNS3p0OHVCRmt5eXRyM09sdE5KMmtZWE9DOGhCd093dE03VldSV0xrYWNFbXJwSlduaGg1K250cWIxaE5zUHlkeFdsV2hjYjVyZlNmeDJxQzliUmRuMUs4V2RZWDZRMEtWanVITG1SbWRmYjFNdWJQSGphUXQ4bVFKM0dRbnN0dXNsY21PUXdsck1oelc2d3k1QUZoL2tLS2luNHVXWW5JbEE2TEpENlRYZUJmT0ZoOHdURjRTSVg5MDlqc24vL29va0VmbDBIUEN4UUtoVUtoVUNnVUNvVkNZYnFaTStjL2NGTFZiZ3RlVEVZQUFBQUFTVVZPUks1Q1lJST1cIlxyXG59KTtcclxuIiwiLyoqXHJcbiAqIEdldCBhIHJhbmRvbSBlbGVtZW50IGZyb20gYW4gYXJyYXkgb2Ygb2JqZWN0c1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIFJhbmRvbUVsZW1lbnQ8VD4oYXJyYXk6IFRbXSk6IFQgfCBudWxsXHJcbntcclxuICAgIGlmIChhcnJheS5sZW5ndGggPT0gMCkgeyByZXR1cm4gbnVsbDsgfVxyXG4gICAgcmV0dXJuIGFycmF5W01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGFycmF5Lmxlbmd0aCldO1xyXG59XHJcbiIsImltcG9ydCB7IE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4uL21vZHVsZXMvX21vZHVsZVwiO1xyXG5pbXBvcnQgeyBMb2NhbGl6ZWRUZXh0IH0gZnJvbSBcIi4uL2xvY2FsaXphdGlvbi9sb2NhbGl6YXRpb25cIjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgTVBBTWVzc2FnZUNvbnRlbnRcclxue1xyXG4gICAgbWVzc2FnZTogc3RyaW5nO1xyXG4gICAgW2tleTogc3RyaW5nXTogYW55OyAvLyBBbGxvd3MgYW55IG90aGVyIGtleXMgd2l0aCB2YWx1ZXMgb2YgYW55IHR5cGVcclxufVxyXG5pbnRlcmZhY2UgTVBBTWVzc2FnZSBleHRlbmRzIFNlcnZlckNoYXRSb29tTWVzc2FnZVxyXG57XHJcbiAgICBDb250ZW50OiBcIk1QQVwiO1xyXG4gICAgVHlwZTogXCJIaWRkZW5cIjtcclxuICAgIERpY3Rpb25hcnk6IFtNUEFNZXNzYWdlQ29udGVudF07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBDb250ZW50SXNNUEFNZXNhZ2UoY29udGVudDogU2VydmVyQ2hhdFJvb21NZXNzYWdlKTogY29udGVudCBpcyBNUEFNZXNzYWdlXHJcbntcclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgY29udGVudC5UeXBlID09PSBcIkhpZGRlblwiXHJcbiAgICAgICAgJiYgY29udGVudC5Db250ZW50ID09PSBcIk1QQVwiXHJcbiAgICAgICAgJiYgY29udGVudD8uRGljdGlvbmFyeT8ubGVuZ3RoID09PSAxXHJcbiAgICApO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gR2V0TVBBTWVzc2FnZUZyb21DaGF0KG1lc3NhZ2U6IFNlcnZlckNoYXRSb29tTWVzc2FnZSk6IE1QQU1lc3NhZ2VDb250ZW50IHwgbnVsbFxyXG57XHJcbiAgICByZXR1cm4gQ29udGVudElzTVBBTWVzYWdlKG1lc3NhZ2UpID8gbWVzc2FnZS5EaWN0aW9uYXJ5WzBdIDogbnVsbDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIFNlbmRNUEFNZXNzYWdlKG1lc3NhZ2U6IE1QQU1lc3NhZ2VDb250ZW50LCB0YXJnZXQ/OiBudW1iZXIpOiB2b2lkXHJcbntcclxuICAgIFNlcnZlclNlbmQoXCJDaGF0Um9vbUNoYXRcIiwge1xyXG4gICAgICAgIFR5cGU6IFwiSGlkZGVuXCIsXHJcbiAgICAgICAgQ29udGVudDogXCJNUEFcIixcclxuICAgICAgICBEaWN0aW9uYXJ5OiBbbWVzc2FnZV0sXHJcbiAgICAgICAgVGFyZ2V0OiB0YXJnZXRcclxuICAgIH0pO1xyXG59XHJcblxyXG4vKipcclxuICogU2VuZCBhbiBhY3Rpb24gdG8gdGhlIHJvb20gb3IgY2FuIHNwZWNpZnkgYSBjaGFyYWN0ZXIgd2hvIHdpbGwgb25seSBzZWVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBTZW5kQWN0aW9uKGNvbnRlbnQ6IHN0cmluZywgdGFyZ2V0OiBDaGFyYWN0ZXIgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQsIGRpY3Rpb25hcnk6IENoYXRNZXNzYWdlRGljdGlvbmFyeSA9IFtdKTogdm9pZFxyXG57XHJcbiAgICBTZXJ2ZXJTZW5kKFwiQ2hhdFJvb21DaGF0XCIsIHtcclxuICAgICAgICBDb250ZW50OiBcIk1heWFTY3JpcHRcIixcclxuICAgICAgICBUeXBlOiBcIkFjdGl2aXR5XCIsXHJcbiAgICAgICAgRGljdGlvbmFyeTogW3sgVGFnOiBcIk1JU1NJTkcgQUNUSVZJVFkgREVTQ1JJUFRJT04gRk9SIEtFWVdPUkQgTWF5YVNjcmlwdFwiLCBUZXh0OiBMb2NhbGl6ZWRUZXh0KGNvbnRlbnQpIH0sIC4uLmRpY3Rpb25hcnldLFxyXG4gICAgICAgIFRhcmdldDogdGFyZ2V0Py5NZW1iZXJOdW1iZXIgfVxyXG4gICAgKTtcclxuXHJcbiAgICAvLyBTZXJ2ZXJTZW5kKFwiQ2hhdFJvb21DaGF0XCIsIHtcclxuICAgIC8vICAgICBDb250ZW50OiBcIkJlZXBcIixcclxuICAgIC8vICAgICBUeXBlOiBcIkFjdGlvblwiLFxyXG4gICAgLy8gICAgIERpY3Rpb25hcnk6IFt7IFRhZzogXCJCZWVwXCIsIFRleHQ6IExvY2FsaXplZFRleHQoY29udGVudCkgfV0sXHJcbiAgICAvLyAgICAgVGFyZ2V0OiB0YXJnZXQ/Lk1lbWJlck51bWJlclxyXG4gICAgLy8gfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZW5kIGFuIGVtb3RlIHRvIHRoZSByb29tIG9yIGNhbiBzcGVjaWZ5IGEgY2hhcmFjdGVyIHdobyB3aWxsIG9ubHkgc2VlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gU2VuZEVtb3RlKGNvbnRlbnQ6IHN0cmluZywgdGFyZ2V0OiBDaGFyYWN0ZXIgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQpOiB2b2lkXHJcbntcclxuICAgIFNlcnZlclNlbmQoXCJDaGF0Um9vbUNoYXRcIiwge1xyXG4gICAgICAgIENvbnRlbnQ6IGAke2NvbnRlbnR9YCxcclxuICAgICAgICBUeXBlOiBcIkVtb3RlXCIsXHJcbiAgICAgICAgVGFyZ2V0OiB0YXJnZXQ/Lk1lbWJlck51bWJlciB9XHJcbiAgICApO1xyXG59XHJcblxyXG4vKipcclxuICogRGlzcGxheSB0ZXh0IHRvIHRoZSBsb2NhbCBwbGF5ZXIgb25seVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIE5vdGlmeVBsYXllcihjb250ZW50OiBzdHJpbmcsIHRpbWVvdXQ/OiBudW1iZXIpOiB2b2lkXHJcbntcclxuICAgIENoYXRSb29tU2VuZExvY2FsKGA8cCBzdHlsZT0nYmFja2dyb3VuZC1jb2xvcjojMDBjMmZmO21hcmdpbi1ib3R0b206MC4yNWVtO21hcmdpbi10b3A6MCc+JHtjb250ZW50fTwvcD5gLCB0aW1lb3V0KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIERpc3BsYXkgdGV4dCB0byB0aGUgbG9jYWwgcGxheWVyLCBtYWtpbmcgaXQgY2xlYXIgaXRzIGZyb20gTVBBXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gTVBBTm90aWZ5UGxheWVyKGNvbnRlbnQ6IHN0cmluZywgdGltZW91dD86IG51bWJlcik6IHZvaWRcclxue1xyXG4gICAgTm90aWZ5UGxheWVyKGAke0xvY2FsaXplZFRleHQoXCJNUEFcIil9OiAke2NvbnRlbnR9YCwgdGltZW91dCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBGaW5kIGEgQ2hhcmFjdGVyIGluIHRoZSBjaGF0IHJvb20gd2l0aCBieSBudW1iZXIsIG5hbWUsIG9yIG5pY2suIE5vdCBjYXNlIHNlbnN0aXZlLlxyXG4gKiBJZiBtdWx0aXBsZSBwZW9wbGUgZXhpc3RzIHdpdGggdGhlIHNhbWUgbmlja25hbWUgb3IgbmFtZS4gSXQgd2lsbCByZXR1cm4gdGhlIGZpcnN0IHBlcnNvbiB0aGF0IG1hdGNoZXMuXHJcbiAqIFVzZSBNZW1iZXJOdW1iZXIgaWYgeW91IHdhbnQgdG8gZ3VyYW50ZWUgdG8gZmluZCB0aGF0IHNwZWNpZmljIGNoYXJhY3Rlci5cclxuICpcclxuICogQHBhcmFtIHNlYXJjaCAtIFRoZSBNZW1iZXJOdW1iZXIsIE5hbWUsIG9yIE5pY2tuYW1lIG9mIHRoZSBwZXJzb24geW91IHdhbnQgdG8gZmluZFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIEZpbmRDaGFyYWN0ZXJJblJvb20oc2VhcmNoOiBzdHJpbmcgfCBudW1iZXIsIHsgTWVtYmVyTnVtYmVyID0gdHJ1ZSwgTmlja05hbWU6IE5pY2tuYW1lID0gdHJ1ZSwgTmFtZSA9IHRydWUgfSA9IHt9KTogQ2hhcmFjdGVyIHwgbnVsbFxyXG57XHJcbiAgICAvLyBNYWtlIHN1cmUgcGxheWVyU2VhcmNoIGlzIGEgc3RyaW5nIC0gbm90IGNhc2Ugc2Vuc3RpdmVcclxuICAgIGlmICh0eXBlb2Ygc2VhcmNoICE9PSBcInN0cmluZ1wiKVxyXG4gICAge1xyXG4gICAgICAgIHNlYXJjaCA9IHNlYXJjaC50b1N0cmluZygpO1xyXG4gICAgfVxyXG4gICAgc2VhcmNoID0gc2VhcmNoLnRvTG9jYWxlTG93ZXJDYXNlKCk7XHJcblxyXG4gICAgLy8gTG9vcCB0aHJvdWdoIGFsbCB0aGUgQ2hhcmFjdGVycyBpbiB0aGUgY2hhdFxyXG4gICAgZm9yIChjb25zdCBjaGFyYWN0ZXIgb2YgQ2hhdFJvb21DaGFyYWN0ZXIpXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAoTWVtYmVyTnVtYmVyICYmIGNoYXJhY3Rlcj8uTWVtYmVyTnVtYmVyID09PSBOdW1iZXIoc2VhcmNoKSlcclxuICAgICAgICAgICAgfHwgKE5pY2tuYW1lICYmIGNoYXJhY3Rlcj8uTmlja25hbWU/LnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09IHNlYXJjaClcclxuICAgICAgICAgICAgfHwgKE5hbWUgJiYgY2hhcmFjdGVyLk5hbWUudG9Mb2NhbGVMb3dlckNhc2UoKSA9PT0gc2VhcmNoKVxyXG4gICAgICAgIClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiBjaGFyYWN0ZXI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIE5vIGNoYXJhY3RlciBmb3VuZFxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZW1vdmUgYWxsIGNvbnRlbnQgdGhhdCBpcyBPT0MgZnJvbSBhIG1lc3NhZ2VcclxuICogQHJldHVybnMgT25seSB0aGUgSUMgbWVzc2FnZSBjb250ZW50XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gUmVtb3ZlT09DQ29udGVudEZyb21NZXNzYWdlKG1lc3NhZ2U6IHN0cmluZyk6IHN0cmluZ1xyXG57XHJcbiAgICBjb25zdCByYW5nZXMgPSBTcGVlY2hHZXRPT0NSYW5nZXMobWVzc2FnZSkucmV2ZXJzZSgpO1xyXG4gICAgcmFuZ2VzLmZvckVhY2goKHJhbmdlKSA9PlxyXG4gICAge1xyXG4gICAgICAgIG1lc3NhZ2UgPSBtZXNzYWdlLnN1YnN0cmluZygwLCByYW5nZS5zdGFydCkgKyBtZXNzYWdlLnN1YnN0cmluZyhyYW5nZS5zdGFydCArIHJhbmdlLmxlbmd0aCk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBtZXNzYWdlO1xyXG59XHJcblxyXG50eXBlIE1lc3NhZ2VBY3Rpb24gPSAoc2VuZGVyOiBDaGFyYWN0ZXIsIGNvbnRlbnQ6IE1QQU1lc3NhZ2VDb250ZW50KSA9PiB2b2lkO1xyXG5leHBvcnQgaW50ZXJmYWNlIEhvb2tlZE1lc3NhZ2Vcclxue1xyXG4gICAgbW9kdWxlOiBNb2R1bGVUaXRsZSB8IG51bGw7XHJcbiAgICBtZXNzYWdlOiBzdHJpbmc7XHJcbiAgICBhY3Rpb246IE1lc3NhZ2VBY3Rpb247XHJcbn1cclxuZXhwb3J0IGNvbnN0IGhvb2tlZE1lc3NhZ2VzOiBIb29rZWRNZXNzYWdlW10gPSBbXTtcclxuXHJcbi8qKlxyXG4gKiBBZGQgYSBsaXN0ZW5lciBmb3IgYW4gaW5jb21pbmcgTVBBIG1lc3NhZ2VcclxuICogQHBhcmFtIGxpc3RlbmVyLnRpdGxlIC0gV2hhdCBtb2R1bGUgZG9lcyB0aGUgbGlzdGVuZXIgYmVsb25nIHRvXHJcbiAqIEBwYXJhbSBsaXN0ZW5lci5tZXNzYWdlIC0gVGhlIG1lc3NhZ2Ugc3RyaW5nIHRvIG1hdGNoIHdpdGggdGhlIGluY29taW5nIG1lc3NhZ2VcclxuICogQHBhcmFtIGxpc3RlbmVyLmFjdGlvbiAtIFJ1biB0aGlzIGZ1bmN0aW9uIHdoZW4gYSBtYXRjaCBpcyBmb3VuZFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIEFkZERhdGFTeW5jTGlzdGVuZXIobGlzdGVuZXI6IEhvb2tlZE1lc3NhZ2UpOiB2b2lkXHJcbntcclxuICAgIGhvb2tlZE1lc3NhZ2VzLnB1c2goe1xyXG4gICAgICAgIG1vZHVsZTogbGlzdGVuZXIubW9kdWxlLFxyXG4gICAgICAgIG1lc3NhZ2U6IGxpc3RlbmVyLm1lc3NhZ2UsXHJcbiAgICAgICAgYWN0aW9uOiBsaXN0ZW5lci5hY3Rpb25cclxuICAgIH0gYXMgSG9va2VkTWVzc2FnZSk7XHJcbn1cclxuLyoqXHJcbiAqIEFkZCBtYW55IGxpc3RlbmVycyBmb3IgYW4gaW5jb21pbmcgTVBBIG1lc3NhZ2VcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBBZGREYXRhU3luY0xpc3RlbmVycyhsaXN0ZW5lcnM6IEhvb2tlZE1lc3NhZ2VbXSk6IHZvaWRcclxue1xyXG4gICAgbGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyKSA9PlxyXG4gICAge1xyXG4gICAgICAgIGhvb2tlZE1lc3NhZ2VzLnB1c2goe1xyXG4gICAgICAgICAgICBtb2R1bGU6IGxpc3RlbmVyLm1vZHVsZSxcclxuICAgICAgICAgICAgbWVzc2FnZTogbGlzdGVuZXIubWVzc2FnZSxcclxuICAgICAgICAgICAgYWN0aW9uOiBsaXN0ZW5lci5hY3Rpb25cclxuICAgICAgICB9IGFzIEhvb2tlZE1lc3NhZ2UpO1xyXG4gICAgfSk7XHJcbn1cclxuLyoqXHJcbiAqIFJlbW92ZSBhbGwgdGhlIGxpc3RlbmVycyBiYXNlZCBvbiB0aGUgTW9kdWxlVGl0bGVcclxuICogQHBhcmFtIG1vZHVsZSAtIE1vZHVsZSB0aGUgbGlzdGVuZXJzIHlvdSB3YW50IHRvIHJlbW92ZSBiZWxvbmdzIHRvXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gUmVtb3ZlRGF0YVN5bmNMaXN0ZW5lcnMobW9kdWxlOiBNb2R1bGVUaXRsZSB8IG51bGwpOiB2b2lkXHJcbntcclxuICAgIGZvciAobGV0IGkgPSBob29rZWRNZXNzYWdlcy5sZW5ndGggLSAxOyAwIDw9IGk7IGktLSlcclxuICAgIHtcclxuICAgICAgICBpZiAoaG9va2VkTWVzc2FnZXNbaV0ubW9kdWxlID09PSBtb2R1bGUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBob29rZWRNZXNzYWdlcy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gR2V0RW50cnlGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YTogU2VydmVyQ2hhdFJvb21NZXNzYWdlLCBhdHRyaWJ1dGU6IHN0cmluZyk6IENoYXRNZXNzYWdlRGljdGlvbmFyeUVudHJ5IHwgdW5kZWZpbmVkXHJcbntcclxuICAgIGlmICghZGF0YS5EaWN0aW9uYXJ5KVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgICB0cnlcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gZGF0YS5EaWN0aW9uYXJ5LmZpbHRlcigoZW50cnkpID0+ICEhZW50cnlbYXR0cmlidXRlXSlbMF07XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoX2Vycm9yKVxyXG4gICAge1xyXG4gICAgICAgIC8vIGVoaGggdGhpcyBkb2Vzbid0IHdvcmsgY3V6IC5maWx0ZXIgaXMgbm90IGRlZmluZWQgb24gZmlyc3QgbG9hZCBmb3Igc29tZSByZWFzb25cclxuICAgICAgICAvLyBObyBiaWcgZGVhbCBzbyBJIGRvbid0IHJlYWxseSBjYXJlIGlmIGl0cyBhbiBpc3N1ZSBmb3Igbm93XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGE6IFNlcnZlckNoYXRSb29tTWVzc2FnZSwgYXR0cmlidXRlOiBzdHJpbmcpOiBhbnkgfCB1bmRlZmluZWRcclxue1xyXG4gICAgcmV0dXJuIEdldEVudHJ5RnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIGF0dHJpYnV0ZSk/LlthdHRyaWJ1dGVdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gQXJyYXlUb1JlYWRhYmxlU3RyaW5nKGFycjogc3RyaW5nW10pOiBzdHJpbmdcclxue1xyXG4gICAgY29uc3QgbGVuZ3RoID0gYXJyLmxlbmd0aDtcclxuICAgIGlmIChsZW5ndGggPT09IDApXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIFwiXCI7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChsZW5ndGggPT09IDEpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIGFyclswXTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGxlbmd0aCA9PT0gMilcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gYCR7YXJyWzBdfSBhbmQgJHthcnJbMV19YDtcclxuICAgIH1cclxuICAgIGVsc2VcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gYCR7YXJyLnNsaWNlKDAsIC0xKS5qb2luKFwiLCBcIil9LCBhbmQgJHthcnJbbGVuZ3RoIC0gMV19YDtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBNb2R1bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9fbW9kdWxlXCI7XHJcbmltcG9ydCB7IExvYWRTdG9yYWdlIH0gZnJvbSBcIi4vc3RvcmFnZVwiO1xyXG5pbXBvcnQgeyBEYXRhU3luY01vZHVsZSB9IGZyb20gXCIuLi9tb2R1bGVzL2RhdGFTeW5jXCI7XHJcbmltcG9ydCB7IFNldHRpbmdzTW9kdWxlIH0gZnJvbSBcIi4uL21vZHVsZXMvc2V0dGluZ3NcIjtcclxuaW1wb3J0IHsgQWN0aXZpdGllc01vZHVsZSB9IGZyb20gXCIuLi9tb2R1bGVzL2FjdGl2aXRpZXNcIjtcclxuaW1wb3J0IHsgQ2xpY2tlck1vZHVsZSB9IGZyb20gXCIuLi9tb2R1bGVzL2NsaWNrZXJcIjtcclxuaW1wb3J0IHsgVmlydHVhbFBldE1vZHVsZSB9IGZyb20gXCIuLi9tb2R1bGVzL3ZpcnR1YWxQZXRcIjtcclxuaW1wb3J0IHsgVmlydHVhbFBldEhVRE1vZHVsZSB9IGZyb20gXCIuLi9tb2R1bGVzL3ZpcnR1YWxQZXRIVURcIjtcclxuaW1wb3J0IHsgVmlydHVhbFBldENvbmRpdGlvbnNNb2R1bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy92aXJ0dWFsUGV0Q29uZGl0aW9uc1wiO1xyXG5pbXBvcnQgeyBQcm9maWxlTW9kdWxlIH0gZnJvbSBcIi4uL21vZHVsZXMvcHJvZmlsZVwiO1xyXG5pbXBvcnQgeyBTZXR0aW5nc090aGVyTW9kdWxlIH0gZnJvbSBcIi4uL21vZHVsZXMvc2V0dGluZ3NPdGhlcnNcIjtcclxuaW1wb3J0IHsgQXV0aG9yaXR5TW9kdWxlIH0gZnJvbSBcIi4uL21vZHVsZXMvYXV0aG9yaXR5XCI7XHJcblxyXG5sZXQgbW9kdWxlc1JlZ2lzdGVyZWQgPSBmYWxzZTtcclxuXHJcbmV4cG9ydCBjb25zdCBtb2R1bGVzOiBNb2R1bGVbXSA9IFtcclxuICAgIG5ldyBEYXRhU3luY01vZHVsZSgpLFxyXG4gICAgbmV3IFNldHRpbmdzTW9kdWxlKCksXHJcbiAgICBuZXcgQWN0aXZpdGllc01vZHVsZSgpLFxyXG4gICAgbmV3IENsaWNrZXJNb2R1bGUoKSxcclxuICAgIG5ldyBWaXJ0dWFsUGV0TW9kdWxlKCksXHJcbiAgICBuZXcgVmlydHVhbFBldEhVRE1vZHVsZSgpLFxyXG4gICAgbmV3IFZpcnR1YWxQZXRDb25kaXRpb25zTW9kdWxlKCksXHJcbiAgICBuZXcgUHJvZmlsZU1vZHVsZSgpLFxyXG4gICAgbmV3IFNldHRpbmdzT3RoZXJNb2R1bGUoKSxcclxuICAgIG5ldyBBdXRob3JpdHlNb2R1bGUoKVxyXG5dO1xyXG5cclxuZXhwb3J0IGNvbnN0IHNldHRpbmdzOiBQYXJ0aWFsPE1QQVNldHRpbmdzPiA9IHt9O1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFJlZ2lzdGVyTW9kdWxlcygpOiBQcm9taXNlPHZvaWQ+XHJcbntcclxuICAgIC8vIE5vIGR1cGxpY2F0ZSBtb2R1bGUgcmVnaXN0ZXJpbmdcclxuICAgIGlmIChtb2R1bGVzUmVnaXN0ZXJlZCkgeyByZXR1cm47IH1cclxuXHJcbiAgICBtb2R1bGVzLmZvckVhY2goKG1vZHVsZSkgPT5cclxuICAgIHtcclxuICAgICAgICAvLyBHZXQgYWxsIHRoZSBzZXR0aW5nc1xyXG4gICAgICAgIGNvbnN0IG1vZFNldCA9IG1vZHVsZS5TZXR0aW5ncztcclxuICAgICAgICBjb25zdCBuZXdTZXR0aW5ncyA9IHt9O1xyXG4gICAgICAgIG1vZFNldC5mb3JFYWNoKChzZXQpID0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuZXdTZXR0aW5nc1tzZXQubmFtZV0gPSBzZXQ7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKG5ld1NldHRpbmdzKS5sZW5ndGggIT09IDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBzZXR0aW5nc1ttb2R1bGUuVGl0bGVdID0gbmV3U2V0dGluZ3M7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBhd2FpdCBMb2FkU3RvcmFnZSgpO1xyXG5cclxuICAgIC8vIExvYWQgdGhlIG1vZHVsZXNcclxuICAgIG1vZHVsZXMuZm9yRWFjaCgobW9kdWxlKSA9PlxyXG4gICAge1xyXG4gICAgICAgIG1vZHVsZS5Mb2FkKCk7XHJcbiAgICB9KTtcclxuICAgIG1vZHVsZXNSZWdpc3RlcmVkID0gdHJ1ZTtcclxufVxyXG4iLCJpbXBvcnQgYmNNb2RTZGssIHsgR2V0RG90ZWRQYXRoVHlwZSwgTW9kU0RLTW9kQVBJLCBQYXRjaEhvb2sgfSBmcm9tIFwiYm9uZGFnZS1jbHViLW1vZC1zZGtcIjtcclxuaW1wb3J0IHsgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9fbW9kdWxlXCI7XHJcbmltcG9ydCB7IE1QQV9WRVJTSU9OIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XHJcblxyXG5pbnRlcmZhY2UgSG9va2VkRnVuY3Rpb25cclxue1xyXG4gICAgZnVuY3Rpb25OYW1lOiBzdHJpbmc7XHJcbiAgICBwcmlvcml0eTogbnVtYmVyO1xyXG4gICAgaG9vazogUGF0Y2hIb29rO1xyXG4gICAgbW9kdWxlOiBzdHJpbmcgfCBudWxsO1xyXG4gICAgcmVtb3ZlSG9vazogKCkgPT4gdm9pZDtcclxufVxyXG5jb25zdCBob29rczogSG9va2VkRnVuY3Rpb25bXSA9IFtdO1xyXG5cclxuZXhwb3J0IGNvbnN0IG1vZEFQSTogTW9kU0RLTW9kQVBJID0gYmNNb2RTZGsucmVnaXN0ZXJNb2Qoe1xyXG4gICAgbmFtZTogXCJNUEFcIixcclxuICAgIHZlcnNpb246IE1QQV9WRVJTSU9OLFxyXG4gICAgZnVsbE5hbWU6IFwiTWF5YSdzIFBldHBsYXkgQWRkaXRpb25zIFByZS1BbHBoYVwiLFxyXG4gICAgcmVwb3NpdG9yeTogXCJcIlxyXG59LCB7XHJcbiAgICBhbGxvd1JlcGxhY2U6IGZhbHNlXHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIEhvb2sgYSBCQyBmdW5jdGlvblxyXG4gKiBAcGFyYW0gbW9kdWxlIC0gVGhlIHRpdGxlIG9mIHRoZSBtb2R1bGUgdGhlIGhvb2sgaXMgYmVpbmcgdXNlZCBpblxyXG4gKiBAdGVtcGxhdGUgVEZ1bmN0aW9uTmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBob29rZWQgZnVuY3Rpb24sIF9lLmcuXyBgXCJQbGF5ZXIuQ2FuQ2hhbmdlXCJgXHJcbiAqIEBwYXJhbSBmdW5jdGlvbk5hbWUgLSBOYW1lIG9mIGZ1bmN0aW9uIHRvIGhvb2suIENhbiBjb250YWluIGRvdHMgdG8gY2hhbmdlIG1ldGhvZHMgaW4gb2JqZWN0cyAoZS5nLiBgUGxheWVyLkNhbkNoYW5nZWApXHJcbiAqIEBwYXJhbSBwcmlvcml0eSAtIE51bWJlciB1c2VkIHRvIGRldGVybWluYXRlIG9yZGVyIGhvb2tzIHdpbGwgYmUgY2FsbGVkIGluLiBIaWdoZXIgbnVtYmVyIGlzIGNhbGxlZCBmaXJzdFxyXG4gKiBAcGFyYW0gaG9vayAtIFRoZSBob29rIGl0c2VsZiB0byB1c2UsIEBzZWUgUGF0Y2hIb29rXHJcbiAqIEByZXR1cm5zIEZ1bmN0aW9uIHRoYXQgY2FuIGJlIGNhbGxlZCB0byByZW1vdmUgdGhpcyBob29rXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gSG9va0Z1bmN0aW9uPFRGdW5jdGlvbk5hbWUgZXh0ZW5kcyBzdHJpbmc+KG1vZHVsZTogTW9kdWxlVGl0bGUgfCBudWxsLCBmdW5jdGlvbk5hbWU6IFRGdW5jdGlvbk5hbWUsIHByaW9yaXR5OiBudW1iZXIsIGhvb2s6IFBhdGNoSG9vazxHZXREb3RlZFBhdGhUeXBlPHR5cGVvZiBnbG9iYWxUaGlzLCBURnVuY3Rpb25OYW1lPj4pOiAoKSA9PiB2b2lkXHJcbntcclxuICAgIGNvbnN0IHJlbW92ZUhvb2sgPSBtb2RBUEkuaG9va0Z1bmN0aW9uKGZ1bmN0aW9uTmFtZSwgcHJpb3JpdHksIGhvb2spO1xyXG5cclxuICAgIGhvb2tzLnB1c2goe1xyXG4gICAgICAgIGZ1bmN0aW9uTmFtZTogZnVuY3Rpb25OYW1lLFxyXG4gICAgICAgIHByaW9yaXR5OiBwcmlvcml0eSxcclxuICAgICAgICBob29rOiBob29rLFxyXG4gICAgICAgIG1vZHVsZTogbW9kdWxlLFxyXG4gICAgICAgIHJlbW92ZUhvb2s6IHJlbW92ZUhvb2tcclxuICAgIH0gYXMgSG9va2VkRnVuY3Rpb24pO1xyXG5cclxuICAgIHJldHVybiByZW1vdmVIb29rO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gUmVtb3ZlSG9va3MobW9kdWxlOiBNb2R1bGVUaXRsZSB8IG51bGwpOiB2b2lkXHJcbntcclxuICAgIGZvciAobGV0IGkgPSBob29rcy5sZW5ndGggLSAxOyAwIDw9IGk7IGktLSlcclxuICAgIHtcclxuICAgICAgICBpZiAoaG9va3NbaV0ubW9kdWxlID09PSBtb2R1bGUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBob29rc1tpXS5yZW1vdmVIb29rKCk7XHJcbiAgICAgICAgICAgIGhvb2tzLnNwbGljZShpLCAxKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBPbmx5IHJlbGVhc2UgdGhlIGF3YWl0IHdoZW4gdGhlIFBsYXllciBpcyBkZXRlY3RlZCBhbmQgbG9hZGVkXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gQXdhaXRQbGF5ZXIoKTogUHJvbWlzZTx2b2lkPlxyXG57XHJcbiAgICBpZiAoUGxheWVyLk1lbWJlck51bWJlciAmJiBQbGF5ZXIuRXh0ZW5zaW9uU2V0dGluZ3MpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSkgPT5cclxuICAgIHtcclxuICAgICAgICBjb25zdCBob29rID0gbW9kQVBJLmhvb2tGdW5jdGlvbihcIkxvZ2luUmVzcG9uc2VcIiwgMCwgKGFyZ3MsIG5leHQpID0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvLyBMZXQgcmVzcG9uc2UgaGFwcGVuIGZpcnN0XHJcbiAgICAgICAgICAgIG5leHQoYXJncyk7XHJcblxyXG4gICAgICAgICAgICAvLyBSZW1vdmUgdGhpcyBob29rIHdoZW4gZG9uZVxyXG4gICAgICAgICAgICBob29rKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBSZXNvbHZlIHRoZSBwcm9taXNlIHRvIGVuZCB0aGUgYXdhaXQgY29uZGl0aW9uXHJcbiAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcbiIsImV4cG9ydCBmdW5jdGlvbiBJc0Rpc3BsYXlTZXR0aW5nKHNldHRpbmc6IFNldHRpbmcpOiBzZXR0aW5nIGlzIERpc3BsYXllZFNldHRpbmdcclxue1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgICB0eXBlb2YgKHNldHRpbmcgYXMgRGlzcGxheWVkU2V0dGluZykuYWN0aXZlID09PSBcImZ1bmN0aW9uXCJcclxuICAgICAgICAmJiB0eXBlb2YgKHNldHRpbmcgYXMgRGlzcGxheWVkU2V0dGluZykubGFiZWwgPT09IFwic3RyaW5nXCJcclxuICAgICk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIElzQ2hlY2tib3hTZXR0aW5nKHNldHRpbmc6IFNldHRpbmcpOiBzZXR0aW5nIGlzIENoZWNrYm94U2V0dGluZ1xyXG57XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIElzRGlzcGxheVNldHRpbmcoc2V0dGluZylcclxuICAgICAgICAmJiAoc2V0dGluZyBhcyBDaGVja2JveFNldHRpbmcpLnR5cGUgPT09IFwiY2hlY2tib3hcIlxyXG4gICAgICAgICYmIHR5cGVvZiAoc2V0dGluZyBhcyBDaGVja2JveFNldHRpbmcpLnZhbHVlID09PSBcImJvb2xlYW5cIlxyXG4gICAgKTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gSXNPcHRpb25TZXR0aW5nKHNldHRpbmc6IFNldHRpbmcpOiBzZXR0aW5nIGlzIE9wdGlvblNldHRpbmdcclxue1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgICBJc0Rpc3BsYXlTZXR0aW5nKHNldHRpbmcpXHJcbiAgICAgICAgJiYgKHNldHRpbmcgYXMgT3B0aW9uU2V0dGluZykudHlwZSA9PT0gXCJvcHRpb25cIlxyXG4gICAgICAgICYmIHR5cGVvZiAoc2V0dGluZyBhcyBPcHRpb25TZXR0aW5nKS52YWx1ZSA9PT0gXCJzdHJpbmdcIlxyXG4gICAgICAgICYmIEFycmF5LmlzQXJyYXkoKHNldHRpbmcgYXMgT3B0aW9uU2V0dGluZykub3B0aW9ucylcclxuICAgICAgICAmJiB0eXBlb2YgKHNldHRpbmcgYXMgT3B0aW9uU2V0dGluZykubG9vcCA9PT0gXCJib29sZWFuXCJcclxuICAgICk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIElzVGV4dFNldHRpbmcoc2V0dGluZzogU2V0dGluZyk6IHNldHRpbmcgaXMgVGV4dFNldHRpbmdcclxue1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgICBJc0Rpc3BsYXlTZXR0aW5nKHNldHRpbmcpXHJcbiAgICAgICAgJiYgKHNldHRpbmcgYXMgVGV4dFNldHRpbmcpLnR5cGUgPT09IFwidGV4dFwiXHJcbiAgICAgICAgJiYgdHlwZW9mIChzZXR0aW5nIGFzIFRleHRTZXR0aW5nKS52YWx1ZSA9PT0gXCJzdHJpbmdcIlxyXG4gICAgICAgICYmICh0eXBlb2YgKHNldHRpbmcgYXMgVGV4dFNldHRpbmcpLndpZHRoID09PSBcIm51bWJlclwiXHJcbiAgICAgICAgfHwgKHNldHRpbmcgYXMgVGV4dFNldHRpbmcpLndpZHRoID09PSBudWxsKVxyXG4gICAgICAgICYmICh0eXBlb2YgKHNldHRpbmcgYXMgVGV4dFNldHRpbmcpLm1heENoYXJzID09PSBcIm51bWJlclwiXHJcbiAgICAgICAgfHwgKHNldHRpbmcgYXMgVGV4dFNldHRpbmcpLm1heENoYXJzID09PSBudWxsKVxyXG4gICAgKTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gSXNOdW1iZXJTZXR0aW5nKHNldHRpbmc6IFNldHRpbmcpOiBzZXR0aW5nIGlzIE51bWJlclNldHRpbmdcclxue1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgICBJc0Rpc3BsYXlTZXR0aW5nKHNldHRpbmcpXHJcbiAgICAgICAgJiYgKHNldHRpbmcgYXMgTnVtYmVyU2V0dGluZykudHlwZSA9PT0gXCJudW1iZXJcIlxyXG4gICAgICAgICYmIHR5cGVvZiAoc2V0dGluZyBhcyBOdW1iZXJTZXR0aW5nKS52YWx1ZSA9PT0gXCJudW1iZXJcIlxyXG4gICAgICAgICYmICh0eXBlb2YgKHNldHRpbmcgYXMgTnVtYmVyU2V0dGluZykud2lkdGggPT09IFwibnVtYmVyXCJcclxuICAgICAgICB8fCAoc2V0dGluZyBhcyBOdW1iZXJTZXR0aW5nKS53aWR0aCA9PT0gbnVsbClcclxuICAgICAgICAmJiB0eXBlb2YgKHNldHRpbmcgYXMgTnVtYmVyU2V0dGluZykubWluID09PSBcIm51bWJlclwiXHJcbiAgICAgICAgJiYgdHlwZW9mIChzZXR0aW5nIGFzIE51bWJlclNldHRpbmcpLm1heCA9PT0gXCJudW1iZXJcIlxyXG4gICAgICAgICYmICh0eXBlb2YgKHNldHRpbmcgYXMgTnVtYmVyU2V0dGluZykuc3RlcCA9PT0gXCJudW1iZXJcIlxyXG4gICAgICAgIHx8IChzZXR0aW5nIGFzIE51bWJlclNldHRpbmcpLnN0ZXAgPT09IG51bGwpXHJcbiAgICApO1xyXG59XHJcbiIsImltcG9ydCB7IExvY2FsaXplZFRleHQgfSBmcm9tIFwiLi4vbG9jYWxpemF0aW9uL2xvY2FsaXphdGlvblwiO1xyXG5pbXBvcnQgeyBzZXR0aW5ncyBhcyBjdXJyZW50U2V0dGluZ3MgfSBmcm9tIFwiLi9yZWdpc3Rlck1vZHVsZXNcIjtcclxuaW1wb3J0IHsgQXdhaXRQbGF5ZXIgfSBmcm9tIFwiLi9zZGtcIjtcclxuaW1wb3J0IHsgVXBkYXRlRWxlbWVudFZhbHVlcyB9IGZyb20gXCIuLi9tb2R1bGVzL3NldHRpbmdzXCI7XHJcbmltcG9ydCB7IFNldHRpbmdTeW5jIH0gZnJvbSBcIi4uL21vZHVsZXMvZGF0YVN5bmNcIjtcclxuaW1wb3J0IHsgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9fbW9kdWxlXCI7XHJcbmltcG9ydCB7IE1QQV9WRVJTSU9OIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IExldmVsU3luYyB9IGZyb20gXCIuLi9tb2R1bGVzL3ZpcnR1YWxQZXRcIjtcclxuXHJcbmZ1bmN0aW9uIE1QQVVwZGF0ZUNoZWNrKHNldHRpbmdzOiBNUEFSZWNvcmRzKTogdm9pZFxyXG57XHJcbiAgICBpZiAoKHNldHRpbmdzLnZlcnNpb24gYXMgYW55KSAhPT0gTVBBX1ZFUlNJT04pXHJcbiAgICB7XHJcbiAgICAgICAgU2VydmVyQWNjb3VudEJlZXAoe1xyXG4gICAgICAgICAgICBNZW1iZXJOdW1iZXI6IFBsYXllci5NZW1iZXJOdW1iZXIgPz8gLTEsXHJcbiAgICAgICAgICAgIE1lbWJlck5hbWU6IExvY2FsaXplZFRleHQoXCJNUEFcIiksXHJcbiAgICAgICAgICAgIENoYXRSb29tU3BhY2U6IFwiWFwiLFxyXG4gICAgICAgICAgICBDaGF0Um9vbU5hbWU6IExvY2FsaXplZFRleHQoXCJNUEEgVXBkYXRlZFwiKSxcclxuICAgICAgICAgICAgUHJpdmF0ZTogZmFsc2UsXHJcbiAgICAgICAgICAgIEJlZXBUeXBlOiBcIlwiLFxyXG4gICAgICAgICAgICBNZXNzYWdlOiBcIk1QQSBoYXMgYmVlbiB1cGRhdGVkLlwiXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgKHNldHRpbmdzLnZlcnNpb24gYXMgYW55KSA9IE1QQV9WRVJTSU9OO1xyXG4gICAgICAgIFNhdmVTdG9yYWdlKGZhbHNlKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIExvYWRTdG9yYWdlKCk6IFByb21pc2U8dm9pZD5cclxue1xyXG4gICAgLy8gRW5zdXJlIHRoZSBwbGF5ZXIgaXMgbG9hZGVkIGJlZm9yZSBhdHRlbXB0aW5nIHRvIHJlYWQgdGhlIGV4dGVudGlvbiBzZXR0aW5nc1xyXG4gICAgYXdhaXQgQXdhaXRQbGF5ZXIoKTtcclxuXHJcbiAgICBjb25zdCBzZXR0aW5nczogTVBBUmVjb3JkcyA9IEpTT04ucGFyc2UoTFpTdHJpbmcuZGVjb21wcmVzc0Zyb21CYXNlNjQoUGxheWVyLkV4dGVuc2lvblNldHRpbmdzPy5NUEEgPz8gXCJcIikgPz8gXCJ7fVwiKSA/PyB7fTtcclxuXHJcbiAgICBPYmplY3QuZW50cmllcyhjdXJyZW50U2V0dGluZ3MpLmZvckVhY2goKGNhdGVnb3J5KSA9PlxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IFtzZXR0aW5nVGl0bGUsIGNhdGVnb3J5U2V0dGluZ3NdID0gY2F0ZWdvcnkgYXMgW01vZHVsZVRpdGxlLCBNUEFDYXRlZ29yeVNldHRpbmdzXTtcclxuICAgICAgICBmb3IgKGNvbnN0IFtzZXR0aW5nTmFtZSwgc2V0XSBvZiBPYmplY3QuZW50cmllcyhjYXRlZ29yeVNldHRpbmdzKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgcGxhY2UgZm9yIGRhdGEgaWYgaXQgZG9lcyBub3QgZXhpc3RcclxuICAgICAgICAgICAgaWYgKCEoc2V0dGluZ1RpdGxlIGluIHNldHRpbmdzKSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc2V0dGluZ3Nbc2V0dGluZ1RpdGxlXSA9IHt9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFNldHRpbmcgYWxyZWFkeSBzZXRcclxuICAgICAgICAgICAgaWYgKHNldHRpbmdOYW1lIGluIHNldHRpbmdzW3NldHRpbmdUaXRsZV0pXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldHRpbmdzW3NldHRpbmdUaXRsZV1bc2V0dGluZ05hbWVdID0gc2V0LnZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIENoZWNrIGFuZCBub3RpZnkgaWYgdGhlcmUgaXMgYW4gdXBkYXRlXHJcbiAgICBNUEFVcGRhdGVDaGVjayhzZXR0aW5ncyk7XHJcblxyXG4gICAgUGxheWVyLk1QQSA9IHNldHRpbmdzO1xyXG4gICAgcmV0dXJuO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gU2F2ZVN0b3JhZ2Uoc3luY1dpdGhPdGhlcnM6IGJvb2xlYW4gPSB0cnVlKTogdm9pZFxyXG57XHJcbiAgICBQbGF5ZXIuRXh0ZW5zaW9uU2V0dGluZ3MuTVBBID0gTFpTdHJpbmcuY29tcHJlc3NUb0Jhc2U2NChKU09OLnN0cmluZ2lmeShQbGF5ZXIuTVBBKSk7XHJcbiAgICBTZXJ2ZXJQbGF5ZXJFeHRlbnNpb25TZXR0aW5nc1N5bmMoXCJNUEFcIik7XHJcbiAgICBpZiAoc3luY1dpdGhPdGhlcnMpXHJcbiAgICB7XHJcbiAgICAgICAgU2V0dGluZ1N5bmMoZmFsc2UpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUmVzZXRTdG9yYWdlKCk6IFByb21pc2U8dm9pZD5cclxue1xyXG4gICAgZGVsZXRlIChQbGF5ZXIuRXh0ZW5zaW9uU2V0dGluZ3MgYXMgYW55KS5NUEE7XHJcbiAgICBQbGF5ZXIuRXh0ZW5zaW9uU2V0dGluZ3MuTVBBID0gTFpTdHJpbmcuY29tcHJlc3NUb0Jhc2U2NChKU09OLnN0cmluZ2lmeSh7IHZlcnNpb246IE1QQV9WRVJTSU9OIH0pKTtcclxuICAgIGF3YWl0IExvYWRTdG9yYWdlKCk7XHJcbiAgICBTYXZlU3RvcmFnZSgpO1xyXG4gICAgVXBkYXRlRWxlbWVudFZhbHVlcygpO1xyXG4gICAgcmV0dXJuO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gRXhwb3J0U2V0dGluZ3NUb0NsaXBib2FyZCgpOiBQcm9taXNlPHZvaWQ+XHJcbntcclxuICAgIHJldHVybiBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChMWlN0cmluZy5jb21wcmVzc1RvQmFzZTY0KEpTT04uc3RyaW5naWZ5KFBsYXllci5NUEEpKSk7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBJbXBvcnRTZXR0aW5nc0Zyb21DbGlwYm9hcmQoKTogUHJvbWlzZTx2b2lkPlxyXG57XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT5cclxuICAgIHtcclxuICAgICAgICBuYXZpZ2F0b3IuY2xpcGJvYXJkLnJlYWRUZXh0KCkudGhlbigodGV4dCkgPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRyeVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdTZXR0aW5nczogTVBBUmVjb3JkcyA9IEpTT04ucGFyc2UoTFpTdHJpbmcuZGVjb21wcmVzc0Zyb21CYXNlNjQodGV4dCA/PyBcIlwiKSA/PyBcInt9XCIpO1xyXG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgbG9jYWxseSBjb3B5IHRvIG1vZGlmeSBpbiBjYXNlIGl0IGZhaWxzIGFuZCBuZWVkIHRvIHJldmVydFxyXG4gICAgICAgICAgICAgICAgLy8gVHJhbnNhY3Rpb24gaGFwcGVucyBvciBub3QgYXQgYWxsXHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50U2V0dGluZ3M6IE1QQVJlY29yZHMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KFBsYXllci5NUEEpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBWaXJ0dWFsIHBldCBsZXZlbHMgd2lsbCBiZSByZXBsYWNlZCBhbnl3YXksIHNldCBjdXJyZW50IHRpbWUgc28gbm93IHRvIG5vdCBpbnRlcmZlciB3aXRoIHN5bmNpbmcgbGF0ZXJcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRTZXR0aW5nc1tNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XS5sZXZlbHMubGFzdFVwZGF0ZWQgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgICAgICAgICAgY3VycmVudFNldHRpbmdzW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdLmxldmVscy5sYXN0T25saW5lID0gRGF0ZS5ub3coKTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBuZXdTZXR0aW5ncylcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3U2V0dGluZ3Nba2V5XSAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gT25seSB1cGRhdGUgdGhlIHZhbHVlIGlmIHRoZSBuZXdSZWNvcmQga2V5IGV4aXN0cyBhbmQgaXMgbm90IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2V0dGluZ3Nba2V5IGFzIGtleW9mIE1QQVJlY29yZHNdID0gbmV3U2V0dGluZ3Nba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gVmVyaWZ5IG5ldyBzZXR0aW5ncyBhcmUgZ29vZFxyXG4gICAgICAgICAgICAgICAgLy8gSWYgYmFkIGRhdGEgIHJldHVybiByZWplY3QoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBTZXQgdGhlIGxldmVscyB1cGRhdGUgc28gdGhhdCB0aGV5IHJldGFpbiB0aGUgc2FtZSB2YWx1ZSB3aGVuIHNhdmVkIGFmdGVyIHN5bmNpbmcgYWdhaW5cclxuICAgICAgICAgICAgICAgIGN1cnJlbnRTZXR0aW5nc1tNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XS5sZXZlbHMubGFzdFVwZGF0ZWQgPSBEYXRlLm5vdygpIC0gKGN1cnJlbnRTZXR0aW5nc1tNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XS5sZXZlbHMubGFzdE9ubGluZSAtIGN1cnJlbnRTZXR0aW5nc1tNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XS5sZXZlbHMubGFzdFVwZGF0ZWQpO1xyXG4gICAgICAgICAgICAgICAgY3VycmVudFNldHRpbmdzW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdLmxldmVscy5sYXN0T25saW5lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAgICAgICAgIFBsYXllci5NUEEgPSBjdXJyZW50U2V0dGluZ3M7XHJcbiAgICAgICAgICAgICAgICBMZXZlbFN5bmMoZmFsc2UsIGZhbHNlLCBmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgU2F2ZVN0b3JhZ2UodHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdCgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSgpO1xyXG4gICAgICAgIH0sICgpID0+IHJlamVjdCgpKTtcclxuICAgIH0pO1xyXG59XHJcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJpbXBvcnQgeyBSZWdpc3Rlck1vZHVsZXMgfSBmcm9tIFwiLi91dGlsL3JlZ2lzdGVyTW9kdWxlc1wiO1xyXG5pbXBvcnQgeyBCdWlsZEFsbENvbW1hbmRzIH0gZnJvbSBcIi4vY29tbWFuZHMvYnVpbGRBbGxDb21tYW5kc1wiO1xyXG5pbXBvcnQgeyBNUEFfVkVSU0lPTiB9IGZyb20gXCIuL3V0aWwvY29uc3RhbnRzXCI7XHJcblxyXG4vLyBUZXN0aW5nIGZvciBMb2NhbGl6YXRpb24sIGVuc3VyaW5nIGFsbCBmaWVsZHMgaW4gdGhlIHRlbXBsYXRlXHJcbi8vIGltcG9ydCB7IFNldHRpbmdUZXN0IH0gZnJvbSBcIi4vX3Rlc3RzL3NldHRpbmdzTGFiZWxzXCI7XHJcbi8vIFNldHRpbmdUZXN0KCk7XHJcbi8vIGltcG9ydCB7IEFjdGl2aXRpZXNUZXN0IH0gZnJvbSBcIi4vX3Rlc3RzL2FjdGl2aXRpZXNUZXh0XCI7XHJcbi8vIEFjdGl2aXRpZXNUZXN0KCk7XHJcblxyXG5jb25zb2xlLmxvZyhcIkxvYWRpbmcgTWF5YSdzIFBldHBsYXkgQWRkaXRpb25zXCIpO1xyXG5cclxuQnVpbGRBbGxDb21tYW5kcygpO1xyXG5SZWdpc3Rlck1vZHVsZXMoKTtcclxud2luZG93Lk1QQSA9IHtcclxuICAgIHZlcnNpb246IE1QQV9WRVJTSU9OLFxyXG4gICAgbWVudUxvYWRlZDogZmFsc2VcclxufTtcclxuIl0sIm5hbWVzIjpbIm8iLCJlIiwiYWxlcnQiLCJFcnJvciIsImNvbnNvbGUiLCJlcnJvciIsInQiLCJUZXh0RW5jb2RlciIsIm4iLCJBcnJheSIsImlzQXJyYXkiLCJyIiwiU2V0IiwiZmlsdGVyIiwiaGFzIiwiYWRkIiwiaSIsIk1hcCIsImEiLCJjIiwid2FybiIsInMiLCJmIiwidmFsdWVzIiwicGF0Y2hpbmciLCJnZXQiLCJuYW1lIiwicHVzaCIsImhvb2tzIiwicGF0Y2hlcyIsImVudHJpZXMiLCJzZXQiLCJzb3J0IiwicHJpb3JpdHkiLCJzaXplIiwidG9TdHJpbmciLCJyZXBsYWNlQWxsIiwiaW5jbHVkZXMiLCJldmFsIiwib3JpZ2luYWwiLCJtIiwiZXJyb3JSZXBvcnRlckhvb2tzIiwiaG9va0NoYWluRXhpdCIsImNhbGwiLCJhcHBseSIsInRoaXMiLCJsZW5ndGgiLCJob29rRW50ZXIiLCJtb2QiLCJob29rIiwiYXJndW1lbnRzIiwicGF0Y2hlc1NvdXJjZXMiLCJlbnRlciIsImZpbmFsIiwibCIsInByZWNvbXB1dGVkIiwid2luZG93Iiwic3BsaXQiLCJzbGljZSIsImpvaW4iLCJlbmNvZGUiLCJwYWRTdGFydCIsInRvVXBwZXJDYXNlIiwiZCIsIm9yaWdpbmFsSGFzaCIsIk9iamVjdCIsImFzc2lnbiIsInJvdXRlciIsImNvbnRleHQiLCJjb250ZXh0UHJvcGVydHkiLCJwIiwic2RrRW50cnlwb2ludCIsImN1cnJlbnRFbnRyeXBvaW50IiwiaG9va2VkQnlNb2RzIiwibWFwIiwicGF0Y2hlZEJ5TW9kcyIsImZyb20iLCJ1IiwiZGVsZXRlIiwibG9hZGVkIiwiZyIsImZ1bGxOYW1lIiwidmVyc2lvbiIsInJlcG9zaXRvcnkiLCJhbGxvd1JlcGxhY2UiLCJhcGlFbmRwb2ludEVudGVyIiwidW5sb2FkIiwiaG9va0Z1bmN0aW9uIiwiaW5kZXhPZiIsInNwbGljZSIsInBhdGNoRnVuY3Rpb24iLCJyZW1vdmVQYXRjaGVzIiwiY2xlYXIiLCJjYWxsT3JpZ2luYWwiLCJnbG9iYWxUaGlzIiwiZ2V0T3JpZ2luYWxIYXNoIiwiYXBpIiwiZnJlZXplIiwiaCIsInkiLCJiY01vZFNkayIsImFwaVZlcnNpb24iLCJyZWdpc3Rlck1vZCIsImdldE1vZHNJbmZvIiwiZ2V0UGF0Y2hpbmdJbmZvIiwic2VhbCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiQmVkIiwiQ29tbWFuZENvbWJpbmUiLCJUYWciLCJEZXNjcmlwdGlvbiIsIkFjdGlvbiIsIkludmVudG9yeUdldCIsIlBsYXllciIsIk5vdGlmeVBsYXllciIsImhhaXJDb2xvciIsIkNvbG9yIiwiSW52ZW50b3J5V2VhciIsIlNlbmRBY3Rpb24iLCJOaWNrbmFtZSIsIk5hbWUiLCJiZWQiLCJBc3NldCIsIlByb3BlcnR5IiwiVHlwZVJlY29yZCIsInR5cGVkIiwiTnVtYmVyIiwiQ2hhdFJvb21DaGFyYWN0ZXJVcGRhdGUiLCJCdWlsZEFsbENvbW1hbmRzIiwidHJhbnNsYXRpb25zIiwidGVtcGxhdGUiLCJSVSIsIkxvY2FsaXplZFRleHQiLCJ0ZXh0IiwidHJhbnNsYXRlZFRleHQiLCJUcmFuc2xhdGlvbkxhbmd1YWdlIiwiTW9kdWxlVGl0bGUiLCJNb2R1bGUiLCJUaXRsZSIsIlVua25vd24iLCJBY3Rpdml0aWVzIiwiU2V0dGluZ3MiLCJTeW5jTGlzdGVuZXJzIiwiTG9hZCIsIkNyZWF0ZUFjdGl2aXRpZXMiLCJBZGREYXRhU3luY0xpc3RlbmVycyIsIlVubG9hZCIsIlJlbW92ZUhvb2tzIiwiUmVtb3ZlQWN0aXZpdGllcyIsIlJlbW92ZURhdGFTeW5jTGlzdGVuZXJzIiwiUmVsb2FkIiwiQWN0aXZpdGllc01vZHVsZSIsIkhvb2tGdW5jdGlvbiIsImFyZ3MiLCJuZXh0IiwicHJlcmVxIiwiYWN0aW5nIiwiYWN0ZWQiLCJncm91cCIsImtleXMiLCJhY3Rpdml0eVByZXJlcXVpc2l0ZXMiLCJkYXRhIiwiVHlwZSIsImFjdGl2aXR5TmFtZSIsIkRpY3Rpb25hcnkiLCJmaW5kIiwieCIsIkFjdGl2aXR5TmFtZSIsInN0YXJ0c1dpdGgiLCJDb250ZW50IiwiVGV4dCIsIkFjdGl2aXR5RGljdGlvbmFyeVRleHQiLCJhY3Rpdml0eVRyaWdnZXJzIiwidGFyZ2V0TnVtYmVyIiwiVGFyZ2V0Q2hhcmFjdGVyIiwidGFyZ2V0IiwiQ2hhdFJvb21DaGFyYWN0ZXIiLCJNZW1iZXJOdW1iZXIiLCJpbWFnZVBhdGgiLCJzdWJzdHJpbmciLCJhY3Rpdml0eUltYWdlcyIsInN1cGVyIiwiUGxheWVyUCIsIkMiLCJNUEEiLCJBdXRob3JpdHkiLCJJc0hhcmRjb3JlT24iLCJoYXJkY29yZSIsIkF1dGhvcml0eU1vZHVsZSIsInR5cGUiLCJhY3RpdmUiLCJsYWJlbCIsIm1heENoYXJzIiwid2lkdGgiLCJvcHRpb25zIiwiQVVUSE9SSVRZX0dST1VQX09QVElPTlMiLCJsb29wIiwib3RoZXJzUHJvZmlsZSIsIm9uU2V0Iiwic2VsZlByb2ZpbGUiLCJBTExfQ0xJQ0tTIiwiQXVkaW8iLCJQbGF5ZXJDIiwiQ2xpY2tlciIsIkNsaWNrQ291bnQiLCJzdHIiLCJ0b3RhbENsaWNrcyIsInRyaWdnZXJzIiwidHJpbSIsImZvckVhY2giLCJ0cmlnZ2VyIiwidG9Mb2NhbGVMb3dlckNhc2UiLCJtYXRjaCIsIlJlZ0V4cCIsIlBsYXlDbGlja2VyU291bmQiLCJudW1iZXJPZkNsaWNrcyIsImlzTmFOIiwiZW5hYmxlZCIsIk1hdGgiLCJtaW4iLCJwbGF5IiwiYmN4SG9va2VkIiwiSG9va0JDWENsaWNrZXIiLCJiY3giLCJnZXRNb2RBcGkiLCJvbiIsIm1lc3NhZ2UiLCJwcmVmaXgiLCJiY3hWb2ljZSIsIkNsaWNrZXJNb2R1bGUiLCJoYXNCZWVuTG9hZGVkIiwiTWF4UHJvZ3Jlc3MiLCJQcmVyZXF1aXNpdGUiLCJUYXJnZXRzIiwiYWN0aW9uU2VsZiIsIkltYWdlIiwiYXV0aGVkR3JvdXAiLCJzZWxmQXV0aGVkIiwiU2VuZGVyIiwiSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cCIsImNsaWNrcyIsIlJlbW92ZU9PQ0NvbnRlbnRGcm9tTWVzc2FnZSIsInJlZHVjZSIsImFjYyIsImN1cnIiLCJHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkiLCJpbnZlcnZhbCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsIlNldHRpbmdTeW5jIiwicmVwbHkiLCJTZW5kTVBBTWVzc2FnZSIsInNldHRpbmdzIiwiQ2F0ZWdvcnlTeW5jIiwiY2F0ZWdvcnkiLCJSZWNvcmRTeW5jIiwicmVjb3JkIiwiRGF0YVN5bmNNb2R1bGUiLCJEYXRhU3luYyIsIm1vZHVsZSIsImFjdGlvbiIsInNlbmRlciIsImNvbnRlbnQiLCJHZXRNUEFNZXNzYWdlRnJvbUNoYXQiLCJGaW5kQ2hhcmFjdGVySW5Sb29tIiwiTmlja05hbWUiLCJob29rZWRNZXNzYWdlcyIsIlByb2ZpbGUiLCJHZXRSZWNvcmQiLCJ0aXRsZSIsIkdBUkJMRV9QSFJBU0VTIiwiSHVtYW4iLCJDdXN0b20iLCJCdW5ueSIsIkNhdCIsIkNvdyIsIkRvZyIsIkZveCIsIk1vdXNlIiwiUG9ueSIsIldvbGYiLCJQcm9maWxlTW9kdWxlIiwiZ2FyYmxlUGhyYXNlcyIsIlVwZGF0ZUVsZW1lbnRWYWx1ZXMiLCJWaXJ0dWFsUGV0Iiwibm9IYW5kcyIsIlZpcnR1YWxQZXRDb25kaXRpb25zIiwiZm9vZE5PVyIsInRpbnQiLCJwYXNzb3V0IiwiYWZmZWN0aW9uU2tpbGxCdWZmcyIsImFmZmVjdGlvblNraWxsRGVidWZmcyIsImhlYXJpbmdMb3NzIiwic2xvd0xlYXZlIiwic2V0dGluZ3NFZGl0ZWQiLCJzZXR0aW5nQ2hhciIsIlNldFNldHRpbmdDaGFyIiwiY2hhcmFjdGVyIiwiQ0FOVkFTX1dJRFRIIiwiRVhJVF9QT1NJU1RJT04iLCJCVVRUT05fTUFYX05VTUJFUiIsIkJVVFRPTl9XSURUSCIsIkJVVFRPTl9IRUlHSFQiLCJCVVRUT05fVE9QIiwiQlVUVE9OX0xFRlQiLCJCVVRUT05fR0FQIiwiQlVUVE9OX1RFWFRfUEFERElORyIsIlJFU0VUX1BPU0lUSU9OIiwiQUxFUlRfUE9TSVRJT04iLCJzaG93U2V0dGluZ3NBbGVydCIsInNldHRpbmdzQWxlcnRUZXh0IiwiSU1QT1JUX1BPU0lUSU9OIiwiRVhQT1JUX1BPU0lUSU9OIiwiUkVTRVRfQ09ORklSTV9QT1NJVElPTiIsIlJFU0VUX0NBTkNFTF9QT1NJVElPTiIsIk1FTlVfQ0FURUdPUklFUyIsIklzUGxheWVyIiwiVmlydHVhbFBldEhVRCIsIk1FTlVfVElUTEVTIiwidnBFbmFibGVkIiwiY3VycmVudE1lbnUiLCJzZXR0aW5nc09wZW4iLCJhbGxvd1Jlc2V0VGltZSIsIkdldENsaWNrZWRNZW51IiwibWVudU9wdGlvbnMiLCJNb3VzZUluIiwiZmxvb3IiLCJEcmF3QnV0dG9uIiwiT1BUSU9OX1BFUl9QQUdFIiwiT1BUSU9OX0hFSUdIVCIsIk9QVElPTl9UT1AiLCJPUFRJT05fTEVGVCIsIk9QVElPTl9HQVAiLCJPUFRJT05fQ0hFQ0tCT1hfU0laRSIsIk9QVElPTl9CQUNLX05FWFRfV0lEVEgiLCJPUFRJT05fVEVYVF9XSURUSCIsIk9QVElPTl9URVhUX01BWF9DSEFSUyIsImN1cnJlbnRQYWdlIiwibWF4UGFnZXMiLCJORVhUX0JVVFRPTl9QT1MiLCJQUkVWX0JVVFRPTl9QT1MiLCJEcmF3U3ViTWVudU9wdGlvbnMiLCJzdWJNZW51Iiwic2V0dGluZ3NUb0Rpc3BsYXkiLCJfa2V5Iiwic2V0dGluZyIsIklzRGlzcGxheVNldHRpbmciLCJ2YWwiLCJzZXR0aW5nTmFtZSIsImRpc2FibGVkU2V0dGluZyIsIklzQ2hlY2tib3hTZXR0aW5nIiwiRHJhd0NoZWNrYm94IiwiR2V0UHJvbm91bnMiLCJJc09wdGlvblNldHRpbmciLCJpbmRleCIsIm9wdExlbiIsInByb2ZpbGVPckV4Y2x1ZGVzIiwicHJldkRpc2FibGVkIiwiQXV0aG9yaXR5SXNDb21wYXJpc29uVG9DaGFyYWN0ZXIiLCJuZXh0RGlzYWJsZWQiLCJEcmF3QmFja05leHRCdXR0b24iLCJEcmF3VGV4dEZpdCIsImNlaWwiLCJJc1RleHRTZXR0aW5nIiwiSXNOdW1iZXJTZXR0aW5nIiwiaWQiLCJFbGVtZW50TmFtZSIsIkVsZW1lbnRQb3NpdGlvbkZpeGVkIiwiRWxlbWVudFNldEF0dHJpYnV0ZSIsIkVsZW1lbnRSZW1vdmVBdHRyaWJ1dGUiLCJFeGl0QnV0dG9uUHJlc3NlZCIsIm1lbnVMb2FkZWQiLCJQcmVmZXJlbmNlTWVudUV4aXQiLCJVcGRhdGVBbmREZWxldGVIVE1MRWxlbWVudHMiLCJQcmVmZXJlbmNlTWVudUNsaWNrIiwiRGF0ZSIsIm5vdyIsIkltcG9ydFNldHRpbmdzRnJvbUNsaXBib2FyZCIsInRoZW4iLCJmaW5hbGx5IiwiRXhwb3J0U2V0dGluZ3NUb0NsaXBib2FyZCIsIkNyZWF0ZUhUTUxFbGVtZW50cyIsIkdldENsaWNrZWRPcHRpb24iLCJSZXNldFN0b3JhZ2UiLCJSZXNldE1lbnVDbGljayIsIlByZWZlcmVuY2VNZW51UnVuIiwicHJldlRleHRBbGlnbiIsIk1haW5DYW52YXMiLCJ0ZXh0QWxpZ24iLCJEcmF3VGV4dCIsInVuZGVmaW5lZCIsIlJlc2V0TWVudVJ1biIsIkRyYXdNZW51T3B0aW9ucyIsImxldmVscyIsImxhc3RVcGRhdGVkIiwiU2F2ZVN0b3JhZ2UiLCJQcmVmZXJlbmNlU3Vic2NyZWVuRXh0ZW5zaW9uc0NsZWFyIiwiUGxheWVyUHJlZmVyZW5jZU1lbnVMb2FkIiwic2V0dGluZ1RpdGxlIiwicGFnZSIsIkVsZW1lbnRDcmVhdGVJbnB1dCIsIm1heCIsInN0ZXAiLCJMZXZlbFN5bmMiLCJFbGVtZW50VmFsdWUiLCJFbGVtZW50UmVtb3ZlIiwiU2V0dGluZ3NNb2R1bGUiLCJFc2NhcGVIYW5kbGVyIiwiZXZlbnQiLCJrZXkiLCJzdG9wUHJvcGFnYXRpb24iLCJQcmVmZXJlbmNlUmVnaXN0ZXJFeHRlbnNpb25TZXR0aW5nIiwiSWRlbnRpZmllciIsIkJ1dHRvblRleHQiLCJJQ09OUyIsIlBBVyIsImNsaWNrIiwicnVuIiwiZXhpdCIsImxvYWQiLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJNUEFfUkVNT1RFIiwiTVBBX1JFTU9URV9CQ1giLCJPYmplY3REaWZmZXJlbmNlcyIsIm9sZE9iaiIsIm5ld09iaiIsImRpZmZlcmVuY2VzIiwib2xkIiwibmV3IiwiZGlmZiIsIlNldHRpbmdzT3RoZXJNb2R1bGUiLCJTZXR0aW5nc090aGVyIiwiY2hhbmdlZFNldHRpbmdzIiwicHJldmlvdXNBdXRob3JpdHkiLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJuZXdBdXRob3JpdHkiLCJlbnRyeSIsIm1vZHVsZURpZmYiLCJNUEFOb3RpZnlQbGF5ZXIiLCJyZXBsYWNlIiwiQXJyYXlUb1JlYWRhYmxlU3RyaW5nIiwiaW5CY3hTdWJzY3JlZW4iLCJMU0NHX1JFTU9URV9XSU5ET1dfT1BFTiIsImNoYXIiLCJJbmZvcm1hdGlvblNoZWV0U2VsZWN0aW9uIiwiYWNjZXNzIiwiU2VydmVyQ2hhdFJvb21HZXRBbGxvd0l0ZW0iLCJNQVhfU0VUVElOR19USU1FX0hPVVJTIiwiUGxheWVyVlAiLCJCT1dMX0NPTlNVTUVfUkVDT1ZFUlkiLCJBQ1RJVklUSUVTX0ZPT0RfR0FJTiIsIkFDVElWSVRJRVNfV0FURVJfR0FJTiIsIkVNT1RJQ09OU19TTEVFUCIsIkJFRF9QRVJGRUNUIiwiQkVEX05PUk1BTCIsIkJFRF9CQUQiLCJBRkZFQ1RJT05fQUNUSVZJVFlfTE9WRSIsIkFGRkVDVElPTl9BQ1RJVklUWV9MSUtFIiwiQUZGRUNUSU9OX0FDVElWSVRZX01BU08iLCJBRkZFQ1RJT05fWk9ORV9BRkZFQ1RJT04iLCJJdGVtQXJtcyIsIkl0ZW1Cb290cyIsIkl0ZW1CcmVhc3QiLCJJdGVtQnV0dCIsIkl0ZW1FYXJzIiwiSXRlbUZlZXQiLCJJdGVtSGFuZHMiLCJJdGVtSGVhZCIsIkl0ZW1MZWdzIiwiSXRlbU1vdXRoIiwiSXRlbU5lY2siLCJJdGVtTmlwcGxlcyIsIkl0ZW1Ob3NlIiwiSXRlbVBlbHZpcyIsIkl0ZW1Ub3JzbyIsIkl0ZW1WdWx2YSIsIkl0ZW1WdWx2YVBpZXJjaW5ncyIsIk1JTl9PRkZMSU5FX0RSQUlOX0xFVkVMIiwibGFzdE9ubGluZUludGVydmFsIiwiSXNTbGVlcGluZ0V4cHJlc3Npb24iLCJBcHBlYXJhbmNlIiwiR3JvdXAiLCJFeHByZXNzaW9uIiwiSXNCZWRNdWx0aXBsaWVyIiwiZGV2aWNlIiwicGxheWVyU2xlZXBpbmdFeHByZXNzaW9uIiwicGxheWVyQmVkTXVsdGlwbGllciIsIlNsZWVwQ2hhbmdlQ2hlY2siLCJzeW5jIiwic2xlZXBIb3VycyIsIkhvdXJUb01TIiwiaG91cnMiLCJDYWxjdWxhdGVDdXJyZW50VmFsdWUiLCJkdXJhdGlvbiIsImxhc3RPbmxpbmUiLCJmaXJzdFJ1bkNoZWNrIiwiY3VycmVudFZhbHVlIiwiZGlmZjIiLCJuZXdWYWx1ZTIiLCJHZXRDaGFyYWN0ZXJDdXJyZW50U3RhdFZhbHVlIiwic3RhdCIsImNoYXJTdGF0cyIsImx2bCIsInNsZWVwIiwicHVzaFRvU3RvcmFnZSIsInJlY29yZFN5bmMiLCJmaXJzdFN5bmMiLCJ1cGRhdGUiLCJvbmxpbmUiLCJvZmZsaW5lRHJhaW4iLCJmb29kIiwiZm9vZEhvdXJzIiwid2F0ZXIiLCJ3YXRlckhvdXJzIiwiZHVyYXRpb25Ub1VzZSIsIm5ld1NsZWVwIiwiYWZmZWN0aW9uIiwiYWZmZWN0aW9uSG91cnMiLCJNb2RpZnlTdGF0IiwiYW1vdW50IiwiYXBwbHlNb2RpZmllciIsInN0b3JhZ2VQdXNoIiwic291cmNlQ2hhciIsIm1vZGlmaWVyIiwiSXNPd25lciIsIklzTG92ZXJPZlBsYXllciIsIklzRmFtaWx5T2ZQbGF5ZXIiLCJDYW5UYWxrIiwiRHluYW1pY0dyb3VwTmFtZSIsIlBvc2VNYXBwaW5nIiwiQm9keUZ1bGwiLCJudW1zIiwic3VtIiwibnVtIiwiU3RhdE1vZGlmaWVyIiwibGV2ZWwiLCJWZXJpZnlWYWxpZFN0YXQiLCJWaXJ0dWFsUGV0TW9kdWxlIiwiT25UcmlnZ2VyIiwiYWN0aXZpdHkiLCJBY3Rpdml0eUZlbWFsZTNEQ0ciLCJzb21lIiwiZ3JvdXBNdWx0IiwibWFzb2NoaXN0IiwiUGxheWVyVlBDIiwiQ29uZGl0aW9uSXNFbmZvcmNlZCIsImNvbmRpdGlvbiIsInZwU3RhdE5lZWRUb0JlRW5hYmxlZCIsIkFGRkVDVElPTl9TS0lMTFMiLCJwcmV2aW91c1N0YXRzIiwib25TdGF0TGV2ZWwiLCJzdGF0Q291bnQiLCJDb25kaXRpb25DaGVjayIsInByZXZWYWx1ZSIsImN1cnJWYWx1ZSIsImNoYW5nZUV2ZW50IiwiZmlyc3RSdW4iLCJjaGFuZ2UiLCJ0aHJlc2hob2xkIiwiU0xFRVBfVElOVCIsInBhc3NlZE91dCIsIlBBU1NPVVRfVEFMS19SRVBMQUNFIiwiTVBBUGFzc291dCIsIkNoYXJhY3RlclNldEZhY2lhbEV4cHJlc3Npb24iLCJDYW5LbmVlbCIsIlBvc2VTZXRBY3RpdmUiLCJzbGVlcE1vZHVsZSIsIkxTQ0ciLCJTdGF0ZU1vZHVsZSIsInN0YXRlcyIsInBhc3NvdXRMU0NHIiwibG9nIiwiU291cmNlQ2hhcmFjdGVyIiwiUGFzc291dENoZWNrIiwiYWZmZWN0aW9uQ2hlY2tJbnRlcnZhbCIsIkFmZmVjdGlvblNraWxsQ2hlY2siLCJza2lsbCIsImFmZmVjdGlvbk1vZGlmaWVyIiwicm91bmQiLCJwcmV2TW9kIiwiU2tpbGxHZXRNb2RpZmllciIsIlNraWxsR2V0TW9kaWZpZXJEdXJhdGlvbiIsIlNraWxsU2V0TW9kaWZpZXIiLCJWaXJ0dWFsUGV0Q29uZGl0aW9uc01vZHVsZSIsInNjYWxlZFZhbHVlIiwiY29uY2F0IiwiYiIsInNxcnQiLCJSYW5kb21FbGVtZW50IiwiR2FtZXBsYXlTZXR0aW5ncyIsIlNlbnNEZXBDaGF0TG9nIiwiZGVhZkxldmVsIiwiU2tpbGxNb2RpZmllck1heCIsInNraWxsRHVyYXRpb25NUyIsInByZXZTbG93IiwiQ2hhdFJvb21TbG93dGltZXIiLCJjdXJyRm9vZCIsIkN1cnJlbnRUaW1lIiwiQ2hhdFJvb21TbG93TGVhdmVNaW5UaW1lIiwiUGxheWVyVlBIVUQiLCJWUF9TVEFUX0NPTE9SX0RJQ1QiLCJEcmF3U3RhdENpcmNsZSIsInJhZGl1cyIsImNvbG9yIiwiYmVnaW5QYXRoIiwiYXJjIiwiUEkiLCJsaW5lV2lkdGgiLCJzdHJva2VTdHlsZSIsInN0cm9rZSIsImxpbmVUbyIsImZpbGxTdHlsZSIsImZpbGwiLCJleGFjdFN0YXRzIiwiZm9udCIsIkNvbW1vbkdldEZvbnQiLCJmaWxsVGV4dCIsIlZpcnR1YWxQZXRIVURNb2R1bGUiLCJvdGhlcnMiLCJ6b29tIiwiQWN0aXZpdHlBbGxvd2VkIiwic2VsZiIsImNoYXJhY3RlclZQU3RhdHMiLCJzdGF0cyIsInBvcyIsInBvc2l0aW9uIiwicmV2ZXJzZSIsInN0YXRMZW4iLCJjb2xzIiwiY29sIiwic3RhdEluZGV4IiwiRHJhd1ZpcnVhbFBldEh1ZCIsIkhvbGRpbmdDbGlja2VyIiwiX2FjdGVkIiwiX2dyb3VwIiwiSGFzQm93bCIsIlVzZVRvbmd1ZU5vTW91dGgiLCJJc01vdXRoQmxvY2tlZCIsIkNyZWF0ZUFjdGl2aXR5IiwiY3VzdG9tQWN0aXZpdHkiLCJBY3Rpdml0eUlEIiwiVGFyZ2V0IiwiVGFyZ2V0U2VsZiIsIkFjdGl2aXR5RGljdGlvbmFyeSIsImFjdGlvbk90aGVycyIsIkFjdGl2aXR5RmVtYWxlM0RDR09yZGVyaW5nIiwiY3VzdG9tQWN0aXZpdGllcyIsIlJlbW92ZUFjdGl2aXR5IiwiQVVUSE9SSVRZX0dST1VQX1BSSU9fT1JERVIiLCJBVVRIT1JJVFlfR1JPVVBTIiwiU2VsZiIsIkNsdWJvd25lciIsIk93bmVyc2hpcCIsIk93bmVycyIsIm93bmVycyIsInBhcnNlSW50IiwiTG92ZXJzIiwiTG92ZXJzaGlwIiwibG92ZXIiLCJXaGl0ZUxpc3QiLCJGcmllbmRMaXN0IiwibWVtYmVyTnVtYmVyIiwiYXV0aEdyb3VwIiwiYWxsb3dTZWxmIiwiQmxhY2tMaXN0IiwiR2hvc3RMaXN0IiwiYXV0aENoZWNrIiwiSGlnaGVzdExldmVsQXV0aG9yaXR5R3JvdXAiLCJ0YXJnZXRDaGFyIiwiY29tcGFyaXNvbiIsInJhbmsiLCJncm91cEluZGV4IiwicmFua0luZGV4IiwiTVBBX1ZFUlNJT04iLCJhcnJheSIsInJhbmRvbSIsIkNvbnRlbnRJc01QQU1lc2FnZSIsIlNlcnZlclNlbmQiLCJkaWN0aW9uYXJ5IiwiU2VuZEVtb3RlIiwidGltZW91dCIsIkNoYXRSb29tU2VuZExvY2FsIiwic2VhcmNoIiwiU3BlZWNoR2V0T09DUmFuZ2VzIiwicmFuZ2UiLCJzdGFydCIsIkFkZERhdGFTeW5jTGlzdGVuZXIiLCJsaXN0ZW5lciIsImxpc3RlbmVycyIsIkdldEVudHJ5RnJvbUNoYXREaWN0aW9uYXJ5IiwiYXR0cmlidXRlIiwiX2Vycm9yIiwiYXJyIiwibW9kdWxlc1JlZ2lzdGVyZWQiLCJtb2R1bGVzIiwiYXN5bmMiLCJSZWdpc3Rlck1vZHVsZXMiLCJtb2RTZXQiLCJuZXdTZXR0aW5ncyIsIkxvYWRTdG9yYWdlIiwibW9kQVBJIiwiZnVuY3Rpb25OYW1lIiwicmVtb3ZlSG9vayIsIkF3YWl0UGxheWVyIiwiRXh0ZW5zaW9uU2V0dGluZ3MiLCJQcm9taXNlIiwicmVzb2x2ZSIsIkxaU3RyaW5nIiwiZGVjb21wcmVzc0Zyb21CYXNlNjQiLCJjYXRlZ29yeVNldHRpbmdzIiwiU2VydmVyQWNjb3VudEJlZXAiLCJNZW1iZXJOYW1lIiwiQ2hhdFJvb21TcGFjZSIsIkNoYXRSb29tTmFtZSIsIlByaXZhdGUiLCJCZWVwVHlwZSIsIk1lc3NhZ2UiLCJNUEFVcGRhdGVDaGVjayIsInN5bmNXaXRoT3RoZXJzIiwiY29tcHJlc3NUb0Jhc2U2NCIsIlNlcnZlclBsYXllckV4dGVuc2lvblNldHRpbmdzU3luYyIsIm5hdmlnYXRvciIsImNsaXBib2FyZCIsIndyaXRlVGV4dCIsInJlamVjdCIsInJlYWRUZXh0IiwiY3VycmVudFNldHRpbmdzIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkZWZpbml0aW9uIiwiZW51bWVyYWJsZSIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIl0sInNvdXJjZVJvb3QiOiIifQ==