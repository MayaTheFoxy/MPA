/*! For license information please see devBundle.js.LICENSE.txt */
(()=>{var e={"./node_modules/bondage-club-mod-sdk/dist/bcmodsdk.js":(e,t)=>{!function(){"use strict";const e="1.2.0";function o(e){alert("Mod ERROR:\n"+e);const t=new Error(e);throw console.error(t),t}const r=new TextEncoder;function n(e){return!!e&&"object"==typeof e&&!Array.isArray(e)}function i(e){const t=new Set;return e.filter((e=>!t.has(e)&&t.add(e)))}const a=new Map,l=new Set;function s(e){l.has(e)||(l.add(e),console.warn(e))}function u(e){const t=[],o=new Map,r=new Set;for(const n of h.values()){const i=n.patching.get(e.name);if(i){t.push(...i.hooks);for(const[t,a]of i.patches.entries())o.has(t)&&o.get(t)!==a&&s(`ModSDK: Mod '${n.name}' is patching function ${e.name} with same pattern that is already applied by different mod, but with different pattern:\nPattern:\n${t}\nPatch1:\n${o.get(t)||""}\nPatch2:\n${a}`),o.set(t,a),r.add(n.name)}}t.sort(((e,t)=>t.priority-e.priority));const n=function(e,t){if(0===t.size)return e;let o=e.toString().replaceAll("\r\n","\n");for(const[r,n]of t.entries())o.includes(r)||s(`ModSDK: Patching ${e.name}: Patch ${r} not applied`),o=o.replaceAll(r,n);return(0,eval)(`(${o})`)}(e.original,o);let i=function(t){var o,i;const a=null===(i=(o=p.errorReporterHooks).hookChainExit)||void 0===i?void 0:i.call(o,e.name,r),l=n.apply(this,t);return null==a||a(),l};for(let o=t.length-1;o>=0;o--){const r=t[o],n=i;i=function(t){var o,i;const a=null===(i=(o=p.errorReporterHooks).hookEnter)||void 0===i?void 0:i.call(o,e.name,r.mod),l=r.hook.apply(this,[t,e=>{if(1!==arguments.length||!Array.isArray(t))throw new Error(`Mod ${r.mod} failed to call next hook: Expected args to be array, got ${typeof e}`);return n.call(this,e)}]);return null==a||a(),l}}return{hooks:t,patches:o,patchesSources:r,enter:i,final:n}}function c(e,t=!1){let o=a.get(e);if(o)t&&(o.precomputed=u(o));else{let t=window;const i=e.split(".");for(let o=0;o<i.length-1;o++)if(t=t[i[o]],!n(t))throw new Error(`ModSDK: Function ${e} to be patched not found; ${i.slice(0,o+1).join(".")} is not object`);const l=t[i[i.length-1]];if("function"!=typeof l)throw new Error(`ModSDK: Function ${e} to be patched not found`);const s=function(e){let t=-1;for(const o of r.encode(e)){let e=255&(t^o);for(let t=0;t<8;t++)e=1&e?-306674912^e>>>1:e>>>1;t=t>>>8^e}return(~t>>>0).toString(16).padStart(8,"0").toUpperCase()}(l.toString().replaceAll("\r\n","\n")),c={name:e,original:l,originalHash:s};o=Object.assign(Object.assign({},c),{precomputed:u(c),router:()=>{},context:t,contextProperty:i[i.length-1]}),o.router=function(e){return function(...t){return e.precomputed.enter.apply(this,[t])}}(o),a.set(e,o),t[o.contextProperty]=o.router}return o}function d(){for(const e of a.values())e.precomputed=u(e)}function m(){const e=new Map;for(const[t,o]of a)e.set(t,{name:t,original:o.original,originalHash:o.originalHash,sdkEntrypoint:o.router,currentEntrypoint:o.context[o.contextProperty],hookedByMods:i(o.precomputed.hooks.map((e=>e.mod))),patchedByMods:Array.from(o.precomputed.patchesSources)});return e}const h=new Map;function v(e){h.get(e.name)!==e&&o(`Failed to unload mod '${e.name}': Not registered`),h.delete(e.name),e.loaded=!1,d()}function f(e,t){e&&"object"==typeof e||o("Failed to register mod: Expected info object, got "+typeof e),"string"==typeof e.name&&e.name||o("Failed to register mod: Expected name to be non-empty string, got "+typeof e.name);let r=`'${e.name}'`;"string"==typeof e.fullName&&e.fullName||o(`Failed to register mod ${r}: Expected fullName to be non-empty string, got ${typeof e.fullName}`),r=`'${e.fullName} (${e.name})'`,"string"!=typeof e.version&&o(`Failed to register mod ${r}: Expected version to be string, got ${typeof e.version}`),e.repository||(e.repository=void 0),void 0!==e.repository&&"string"!=typeof e.repository&&o(`Failed to register mod ${r}: Expected repository to be undefined or string, got ${typeof e.version}`),null==t&&(t={}),t&&"object"==typeof t||o(`Failed to register mod ${r}: Expected options to be undefined or object, got ${typeof t}`);const i=!0===t.allowReplace,a=h.get(e.name);a&&(a.allowReplace&&i||o(`Refusing to load mod ${r}: it is already loaded and doesn't allow being replaced.\nWas the mod loaded multiple times?`),v(a));const l=e=>{let t=m.patching.get(e.name);return t||(t={hooks:[],patches:new Map},m.patching.set(e.name,t)),t},s=(e,t)=>(...n)=>{var i,a;const l=null===(a=(i=p.errorReporterHooks).apiEndpointEnter)||void 0===a?void 0:a.call(i,e,m.name);m.loaded||o(`Mod ${r} attempted to call SDK function after being unloaded`);const s=t(...n);return null==l||l(),s},u={unload:s("unload",(()=>v(m))),hookFunction:s("hookFunction",((e,t,n)=>{"string"==typeof e&&e||o(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof e}`);const i=c(e),a=l(i);"number"!=typeof t&&o(`Mod ${r} failed to hook function '${e}': Expected priority number, got ${typeof t}`),"function"!=typeof n&&o(`Mod ${r} failed to hook function '${e}': Expected hook function, got ${typeof n}`);const s={mod:m.name,priority:t,hook:n};return a.hooks.push(s),d(),()=>{const e=a.hooks.indexOf(s);e>=0&&(a.hooks.splice(e,1),d())}})),patchFunction:s("patchFunction",((e,t)=>{"string"==typeof e&&e||o(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof e}`);const i=c(e),a=l(i);n(t)||o(`Mod ${r} failed to patch function '${e}': Expected patches object, got ${typeof t}`);for(const[n,i]of Object.entries(t))"string"==typeof i?a.patches.set(n,i):null===i?a.patches.delete(n):o(`Mod ${r} failed to patch function '${e}': Invalid format of patch '${n}'`);d()})),removePatches:s("removePatches",(e=>{"string"==typeof e&&e||o(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof e}`);const t=c(e);l(t).patches.clear(),d()})),callOriginal:s("callOriginal",((e,t,n)=>{"string"==typeof e&&e||o(`Mod ${r} failed to call a function: Expected function name string, got ${typeof e}`);const i=c(e);return Array.isArray(t)||o(`Mod ${r} failed to call a function: Expected args array, got ${typeof t}`),i.original.apply(null!=n?n:globalThis,t)})),getOriginalHash:s("getOriginalHash",(e=>("string"==typeof e&&e||o(`Mod ${r} failed to get hash: Expected function name string, got ${typeof e}`),c(e).originalHash)))},m={name:e.name,fullName:e.fullName,version:e.version,repository:e.repository,allowReplace:i,api:u,loaded:!0,patching:new Map};return h.set(e.name,m),Object.freeze(u)}function g(){const e=[];for(const t of h.values())e.push({name:t.name,fullName:t.fullName,version:t.version,repository:t.repository});return e}let p;const y=void 0===window.bcModSdk?window.bcModSdk=function(){const t={version:e,apiVersion:1,registerMod:f,getModsInfo:g,getPatchingInfo:m,errorReporterHooks:Object.seal({apiEndpointEnter:null,hookEnter:null,hookChainExit:null})};return p=t,Object.freeze(t)}():(n(window.bcModSdk)||o("Failed to init Mod SDK: Name already in use"),1!==window.bcModSdk.apiVersion&&o(`Failed to init Mod SDK: Different version already loaded ('1.2.0' vs '${window.bcModSdk.version}')`),window.bcModSdk.version!==e&&alert(`Mod SDK warning: Loading different but compatible versions ('1.2.0' vs '${window.bcModSdk.version}')\nOne of mods you are using is using an old version of SDK. It will work for now but please inform author to update`),window.bcModSdk);Object.defineProperty(t,"__esModule",{value:!0}),t.default=y}()},"./src/commands/bed.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{Bed:()=>v});var r=o("./src/util/storage.ts"),n=o("./src/modules/_module.ts"),i=o("./src/util/constants.ts"),a=o("./src/util/messaging.ts"),l=o("./src/util/sdk.ts");const s="SourceCharacter crawls into PronounPossessive bed.",u="SourceCharacter tucks TargetCharacter into bed.";function c(e){var t,o;return Object.keys(e).length>0&&CraftingValidate(e)===CraftingStatusType.OK&&(i.ALL_BEDS.includes(e.Item)||(null===(o=null===(t=null==e?void 0:e.Name)||void 0===t?void 0:t.toLocaleLowerCase())||void 0===o?void 0:o.includes("bed")))}function d(e=Player){e.MemberNumber===Player.MemberNumber?(0,a.SendAction)(s,void 0,[{SourceCharacter:Player.MemberNumber}]):(0,a.SendAction)(u,void 0,[{SourceCharacter:Player.MemberNumber},{TargetCharacter:e.MemberNumber}])}function m(){var e;if(InventoryGet(Player,"ItemDevices")||InventoryGroupIsBlockedForCharacter(Player,"ItemDevices"))return;const t=JSON.parse(LZString.decompressFromBase64(Player.MPA[n.ModuleTitle.Private].savedBed||"")||"{}")||{};if(c(t))InventoryWear(Player,t.Item,"ItemDevices",t.Color.split(","),0,Player.MemberNumber,t,!1);else{const t=null===(e=InventoryGet(Player,"HairFront"))||void 0===e?void 0:e.Color;InventoryWear(Player,"PetBed","ItemDevices",[t[0],"Default",t[t.length-1]],0,Player.MemberNumber,void 0,!1)}ChatRoomCharacterItemUpdate(Player,"ItemDevices")}function h(e=Player){const t=InventoryGet(e,"ItemDevices")||InventoryGroupIsBlockedForCharacter(e,"ItemDevices")||e.MemberNumber!==Player.MemberNumber&&!Player.CanInteract();return e.MemberNumber!==Player.MemberNumber?ServerChatRoomGetAllowItem(Player,e)?e.MPA?t?((0,a.MPANotifyPlayer)(`Unable to tuck ${e.Nickname||e.Name} into bed`,3e4),!1):(d(e),!0):((0,a.MPANotifyPlayer)(`${e.Nickname||e.Name} does not have MPA, unable to give bed`,3e4),!1):((0,a.NotifyPlayer)("MPA: No BC item permission",3e4),!1):t?((0,a.MPANotifyPlayer)("Unable to crawl into bed",3e4),!1):(m(),d(e),!0)}function v(){CommandCombine([{Tag:"bed",Description:"[(optional) Bed export code OR Other player] Crawl into bed without needing hands",Action:(e,t,o)=>{var i;const l=(null!==(i=/^(\S+)\s*(.*)$/.exec(t))&&void 0!==i?i:["","",""])[2];if(l){const e=(0,a.FindCharacterInRoom)(l);if(e)return void h(e);return c(JSON.parse(LZString.decompressFromBase64(l)||"{}")||{})?(Player.MPA[n.ModuleTitle.Private].savedBed=l,(0,r.SaveStorage)(!1),void(0,a.MPANotifyPlayer)("Bed saved")):void(0,a.MPANotifyPlayer)("Invalid argument given!")}h(Player)}},{Tag:"blanket",Description:"Pull the blanket over yourself (Only works on PetBed)",Action:()=>{var e,t,o,r;const n=InventoryGet(Player,"ItemDevices");"PetBed"===(null==n?void 0:n.Asset.Name)&&(0===(null===(t=null===(e=n.Property)||void 0===e?void 0:e.TypeRecord)||void 0===t?void 0:t.typed)||1===(null===(r=null===(o=n.Property)||void 0===o?void 0:o.TypeRecord)||void 0===r?void 0:r.typed))?(n.Property.TypeRecord.typed=Number(!n.Property.TypeRecord.typed),ChatRoomCharacterUpdate(Player),1===n.Property.TypeRecord.typed?(0,a.SendAction)("SourceCharacter pulls a blanket over PronounObject.",void 0,[{SourceCharacter:Player.MemberNumber}]):(0,a.SendAction)("SourceCharacter removes the blanket from on top of PronounObject.",void 0,[{SourceCharacter:Player.MemberNumber}])):(0,a.MPANotifyPlayer)("Unable to pull the blanket over yourself.",2e4)}}]),(0,l.HookFunction)(null,"ChatRoomMessage",100,((e,t)=>{var o;const r=e[0];return"Activity"===r.Type&&"MayaScript"===r.Content&&(0,a.GetAttributeFromChatDictionary)(r,"TargetCharacter")===Player.MemberNumber&&(null===(o=r.Dictionary)||void 0===o?void 0:o.some((e=>"MISSING ACTIVITY DESCRIPTION FOR KEYWORD MayaScript"===(null==e?void 0:e.Tag)&&(null==e?void 0:e.Text)===u)))&&m(),t(e)}))}},"./src/commands/bowl.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{Bowl:()=>v});var r=o("./src/util/storage.ts"),n=o("./src/modules/_module.ts"),i=o("./src/util/messaging.ts"),a=o("./src/util/sdk.ts");const l="SourceCharacter lays a bowl of food and water on the ground in front of PronounObjectself.",s="SourceCharacter lays a bowl of food and water on the ground in front of TargetCharacter.",u=/^(?:\w|[ ~!$#%*+])*$/;function c(e){return Object.keys(e).length>0&&CraftingValidate(e)===CraftingStatusType.OK&&"PetBowl"==(null==e?void 0:e.Item)}function d(e=Player){e.MemberNumber===Player.MemberNumber?(0,i.SendAction)(l,void 0,[{SourceCharacter:Player.MemberNumber}]):(0,i.SendAction)(s,void 0,[{SourceCharacter:Player.MemberNumber},{TargetCharacter:e.MemberNumber}])}function m(){var e;if(InventoryGet(Player,"ItemDevices")||InventoryGroupIsBlockedForCharacter(Player,"ItemDevices"))return;const t=JSON.parse(LZString.decompressFromBase64(Player.MPA[n.ModuleTitle.Private].savedBowl||"")||"{}")||{};if(c(t))InventoryWear(Player,t.Item,"ItemDevices",t.Color.split(","),0,Player.MemberNumber,t,!1).Property=t.ItemProperty;else{const t=null===(e=InventoryGet(Player,"HairFront"))||void 0===e?void 0:e.Color;InventoryWear(Player,"PetBowl","ItemDevices",[t[0],"#000000"],0,Player.MemberNumber,void 0,!1).Property={Text:(Player.Nickname&&u.test(Player.Nickname)?Player.Nickname:u.test(Player.Name)?Player.Name:"").substring(0,12)}}ChatRoomCharacterUpdate(Player)}function h(e=Player){const t=InventoryGet(e,"ItemDevices")||InventoryGroupIsBlockedForCharacter(e,"ItemDevices")||!Player.CanInteract();return e.MemberNumber!==Player.MemberNumber?ServerChatRoomGetAllowItem(Player,e)?e.MPA?t?((0,i.MPANotifyPlayer)(`Unable to give ${e.Nickname||e.Name} a bowl`,3e4),!1):(d(e),!0):((0,i.MPANotifyPlayer)(`${e.Nickname||e.Name} does not have MPA, unable to give bowl`,3e4),!1):((0,i.NotifyPlayer)("MPA: No BC item permission",3e4),!1):t?((0,i.MPANotifyPlayer)("Unable to give bowl",3e4),!1):(m(),d(e),!0)}function v(){CommandCombine([{Tag:"bowl",Description:"Give bowl to pet",Action:(e,t,o)=>{var a;const l=(null!==(a=/^(\S+)\s*(.*)$/.exec(t))&&void 0!==a?a:["","",""])[2];if(l){const e=(0,i.FindCharacterInRoom)(l);if(e)return void h(e);return c(JSON.parse(LZString.decompressFromBase64(l)||"{}")||{})?(Player.MPA[n.ModuleTitle.Private].savedBowl=l,(0,r.SaveStorage)(!1),void(0,i.MPANotifyPlayer)("Bowl saved")):void(0,i.MPANotifyPlayer)("Invalid argument given!")}h(Player)}}]),(0,a.HookFunction)(null,"ChatRoomMessage",100,((e,t)=>{var o;const r=e[0];return"Activity"===r.Type&&"MayaScript"===r.Content&&(0,i.GetAttributeFromChatDictionary)(r,"TargetCharacter")===Player.MemberNumber&&(null===(o=r.Dictionary)||void 0===o?void 0:o.some((e=>"MISSING ACTIVITY DESCRIPTION FOR KEYWORD MayaScript"===(null==e?void 0:e.Tag)&&(null==e?void 0:e.Text)===s)))&&m(),t(e)}))}},"./src/commands/buildAllCommands.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{BuildAllCommands:()=>i});var r=o("./src/commands/bed.ts"),n=o("./src/commands/bowl.ts");function i(){(0,r.Bed)(),(0,n.Bowl)()}},"./src/localization/localization.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{LocalizedText:()=>n});const r={template:o("./src/localization/template.json"),RU:o("./src/localization/RU.json")};function n(e){var t;const o=null===(t=null==r?void 0:r[TranslationLanguage])||void 0===t?void 0:t[e];return o&&""!==o?o:e}},"./src/modules/_module.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{Module:()=>u,ModuleIsPublic:()=>s,ModuleTitle:()=>r,ModuleTitlePublicity:()=>l});var r,n=o("./src/util/sdk.ts"),i=o("./src/util/activities.ts"),a=o("./src/util/messaging.ts");!function(e){e.Unknown="Unknown",e.Authority="Authority",e.Activities="Activities",e.Clicker="Clicker",e.Settings="Settings",e.VirtualPet="VirtualPet",e.VirtualPetHUD="VirtualPetHud",e.VirtualPetConditions="VirtualPetConditions",e.DataSync="DataSync",e.Profile="Profile",e.SettingsOther="SettingsOther",e.Private="Private"}(r||(r={}));const l={[r.Unknown]:!1,[r.Authority]:!0,[r.Activities]:!0,[r.Clicker]:!0,[r.Settings]:!0,[r.VirtualPet]:!0,[r.VirtualPetHUD]:!1,[r.VirtualPetConditions]:!0,[r.DataSync]:!0,[r.Profile]:!0,[r.SettingsOther]:!0,[r.Private]:!1};function s(e){var t;return null===(t=l[e])||void 0===t||t}class u{get Title(){return r.Unknown}get Activities(){return[]}get Settings(){return[]}get SyncListeners(){return[]}Load(){(0,i.CreateActivities)(this.Activities),(0,a.AddDataSyncListeners)(this.SyncListeners)}Unload(){(0,n.RemoveHooks)(this.Title),(0,i.RemoveActivities)(this.Activities),(0,a.RemoveDataSyncListeners)(this.Title)}Reload(){this.Unload(),this.Load()}}},"./src/modules/activities.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ActivitiesModule:()=>u});var r=o("./src/modules/_module.ts"),n=o("./src/util/messaging.ts"),i=o("./src/util/activities.ts"),a=o("./src/util/sdk.ts"),l=o("./src/util/constants.ts");const s=(e,t,o,r)=>{var n;!(null===(n=Player.AudioSettings)||void 0===n?void 0:n.PlayItem)||Player.AudioSettings.PlayItemPlayerOnly&&(null==e?void 0:e.MemberNumber)!==Player.MemberNumber&&(null==t?void 0:t.MemberNumber)!==Player.MemberNumber||l.BELL_SOUND.play()};class u extends r.Module{get Title(){return r.ModuleTitle.Activities}get Activities(){return[{Name:"FlickBell",MaxProgress:50,Prerequisite:["UseHands"],CustomPrerequisite:{Name:"HasBellCollar",Prerequisite:(e,t,o)=>{var r,n,i,a,l,s,u,c;return(null===(a=null===(i=null===(n=null===(r=InventoryGet(t,"ItemNeck"))||void 0===r?void 0:r.Asset)||void 0===n?void 0:n.Name)||void 0===i?void 0:i.toLocaleLowerCase())||void 0===a?void 0:a.includes("bell"))||(null===(c=null===(u=null===(s=null===(l=InventoryGet(t,"ItemNeckAccessories"))||void 0===l?void 0:l.Asset)||void 0===s?void 0:s.Name)||void 0===u?void 0:u.toLocaleLowerCase())||void 0===c?void 0:c.includes("bell"))||!1}},Targets:[{group:"ItemNeck",label:"Flick Bell",actionSelf:"SourceCharacter flicks the bell on PronounPossessive collar.",actionOthers:"SourceCharacter flicks the bell on TargetCharacter's collar."}],Image:"Assets\\Female3DCG\\ItemNeckAccessories\\Preview\\CollarBell.png",OnReceive:s},{Name:"FlickBell2",MaxProgress:50,Prerequisite:["UseHands"],CustomPrerequisite:{Name:"HasBellNipples",Prerequisite:(e,t,o)=>{var r,n,i,a,l;return null!==(l=null===(a=null===(i=null===(n=null===(r=InventoryGet(t,"ItemNipples"))||void 0===r?void 0:r.Asset)||void 0===n?void 0:n.Name)||void 0===i?void 0:i.toLocaleLowerCase())||void 0===a?void 0:a.includes("bell"))&&void 0!==l&&l}},Targets:[{group:"ItemNipples",label:"Flick Bell",actionSelf:"SourceCharacter flicks the bells on PronounPossessive nipple clamps.",actionOthers:"SourceCharacter flicks the bells on TargetCharacter's nipple clamps."}],Image:"Assets\\Female3DCG\\ItemNipples\\Preview\\BellClamps.png",OnReceive:s},{Name:"FlickBell3",MaxProgress:50,Prerequisite:["UseHands"],CustomPrerequisite:{Name:"HasBellClit",Prerequisite:(e,t,o)=>{var r,n,i;const a=InventoryGet(t,"ItemVulvaPiercings");return"RoundClitPiercing"==(null===(r=null==a?void 0:a.Asset)||void 0===r?void 0:r.Name)||2==(null===(i=null===(n=null==a?void 0:a.Property)||void 0===n?void 0:n.TypeRecord)||void 0===i?void 0:i.typed)}},Targets:[{group:"ItemVulvaPiercings",label:"Flick Bell",actionSelf:"SourceCharacter flicks the bell on PronounPossessive clit piercing.",actionOthers:"SourceCharacter flicks the bell on TargetCharacter's clit piercing."}],Image:"Assets\\Female3DCG\\ItemVulvaPiercings\\Preview\\RoundClitPiercing.png",OnReceive:s},{Name:"FlickBell4",MaxProgress:50,Prerequisite:["UseHands"],CustomPrerequisite:{Name:"HasBellNipplesPiercings",Prerequisite:(e,t,o)=>{var r,n,i,a,l;return null!==(l=null===(a=null===(i=null===(n=null===(r=InventoryGet(t,"ItemNipplesPiercings"))||void 0===r?void 0:r.Asset)||void 0===n?void 0:n.Name)||void 0===i?void 0:i.toLocaleLowerCase())||void 0===a?void 0:a.includes("bell"))&&void 0!==l&&l}},Targets:[{group:"ItemNipples",label:"Flick Bell",actionSelf:"SourceCharacter flicks the bells on PronounPossessive nipple piercings.",actionOthers:"SourceCharacter flicks the bells on TargetCharacter's nipple piercings."}],Image:"Assets\\Female3DCG\\ItemNipplesPiercings\\Preview\\BellPiercing.png",OnReceive:s}]}Load(){super.Load(),(0,a.HookFunction)(this.Title,"ActivityCheckPrerequisite",1,((e,t)=>{const[o,r,n,a]=e;return Object.keys(i.activityPrerequisites).includes(o)?i.activityPrerequisites[o](r,n,a):t(e)})),(0,a.HookFunction)(this.Title,"ServerSend",1,((e,t)=>{var o,r,n,a,s,u;const c=e[1];if("ChatRoomChat"!==e[0]||"Activity"!==(null==c?void 0:c.Type))return t(e);const d=null===(r=null===(o=null==c?void 0:c.Dictionary)||void 0===o?void 0:o.find((e=>e.ActivityName)))||void 0===r?void 0:r.ActivityName;if((null==d?void 0:d.startsWith(l.ACTIVITY_NAME_PREFIX))&&(null===(n=null==c?void 0:c.Dictionary)||void 0===n||n.push({Tag:"MISSING ACTIVITY DESCRIPTION FOR KEYWORD "+c.Content,Text:ActivityDictionaryText(c.Content)}),Object.keys(i.activityTriggers).includes(d))){const e=null!==(u=null===(s=null===(a=null==c?void 0:c.Dictionary)||void 0===a?void 0:a.find((e=>e.TargetCharacter)))||void 0===s?void 0:s.TargetCharacter)&&void 0!==u?u:-1,t=null===ChatRoomCharacter||void 0===ChatRoomCharacter?void 0:ChatRoomCharacter.find((t=>t.MemberNumber===e));i.activityTriggers[d](t)}return t(e)})),(0,a.HookFunction)(r.ModuleTitle.Clicker,"ChatRoomMessage",0,((e,t)=>{var o,r;t(e);const a=e[0];if("Activity"===a.Type){const e=(0,n.GetAttributeFromChatDictionary)(a,"ActivityName");if(!(null==e?void 0:e.startsWith(l.ACTIVITY_NAME_PREFIX))||!(e in i.activityReceived))return;const t=null!==(o=(0,n.FindCharacterInRoom)((0,n.GetAttributeFromChatDictionary)(a,"SourceCharacter"),{MemberNumber:!0,NickName:!1,Name:!1}))&&void 0!==o?o:void 0,s=null!==(r=(0,n.FindCharacterInRoom)((0,n.GetAttributeFromChatDictionary)(a,"TargetCharacter"),{MemberNumber:!0,NickName:!1,Name:!1}))&&void 0!==r?r:void 0,u=(0,n.GetAttributeFromChatDictionary)(a,"FocusGroupName");i.activityReceived[e](t,s,u,a)}})),(0,a.HookFunction)(this.Title,"ElementButton.CreateForActivity",0,((e,t)=>{const o=e[1].Activity.Name;return Object.keys(i.activityImages).includes(o)&&(e[4]||(e[4]={}),e[4].image=i.activityImages[o]),t(e)}))}Unload(){super.Unload()}}},"./src/modules/authority.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{AuthorityModule:()=>l,IsHardcoreOn:()=>a});var r=o("./src/util/authority.ts"),n=o("./src/modules/_module.ts");const i=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[n.ModuleTitle.Authority])&&void 0!==o?o:{}};function a(e){var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[n.ModuleTitle.Authority].hardcore)&&void 0!==o&&o}class l extends n.Module{get Title(){return n.ModuleTitle.Authority}get Settings(){return[{name:"settingsNotify",type:"checkbox",active:()=>!0,value:!0,label:"Notify when others are accessing TargetCharacter's settings"},{name:"owners",type:"text",active:()=>!0,value:"",label:"Owner member numbers; Seperated by a ,",maxChars:1024,width:400},{name:"boundAccessSelf",type:"checkbox",active:()=>!0,value:!0,label:"Allow TargetCharacter changing TargetPronounPossessive own settings while bound"},{name:"boundAccessOthers",type:"checkbox",active:()=>!0,value:!1,label:"Allow TargetCharacter changing the settings of others while bound"},{name:"selfAuthority",type:"checkbox",active:()=>!0,value:!0,label:"Allow TargetCharacter to change TargetPronounPossessive Authority settings"},{name:"othersAuthority",type:"option",active:()=>!0,options:r.AUTHORITY_GROUP_OPTIONS,value:"Clubowner",label:"Allow others to change TargetCharacter's Authority settings",loop:!1},{name:"selfProfile",type:"checkbox",active:e=>"Self"!==i(e).othersProfile,value:!0,label:"Allow TargetCharacter to change TargetPronounPossessive Profile settings"},{name:"othersProfile",type:"option",active:()=>!0,options:r.AUTHORITY_GROUP_OPTIONS,value:"Clubowner",label:"Allow others to change TargetCharacter's Profile settings",loop:!1,onSet(e){i(e).selfProfile=!0}},{name:"selfClicker",type:"checkbox",active:()=>!0,value:!0,label:"Allow TargetCharacter to change TargetPronounPossessive Clicker settings"},{name:"othersClicker",type:"option",active:()=>!0,options:r.AUTHORITY_GROUP_OPTIONS,value:"Clubowner",label:"Allow others to change TargetCharacter's Clicker settings",loop:!1},{name:"selfVirtualPet",type:"checkbox",active:()=>!0,value:!0,label:"Allow TargetCharacter to change TargetPronounPossessive Virtual Pet settings"},{name:"othersVirtualPet",type:"option",active:()=>!0,options:r.AUTHORITY_GROUP_OPTIONS,value:"Clubowner",label:"Allow others to change TargetCharacter's Virtual Pet settings",loop:!1},{name:"selfVirtualPetConditions",type:"checkbox",active:()=>!0,value:!0,label:"Allow TargetCharacter to change TargetPronounPossessive Virtual Pet Conditions settings"},{name:"othersVirtualPetConditions",type:"option",active:()=>!0,options:r.AUTHORITY_GROUP_OPTIONS,value:"Clubowner",label:"Allow others to change TargetCharacter's Virtual Pet Conditions settings",loop:!1}]}}},"./src/modules/clicker.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ClickerModule:()=>v});var r=o("./src/util/sdk.ts"),n=o("./src/util/messaging.ts"),i=o("./src/util/authority.ts"),a=o("./src/modules/_module.ts"),l=o("./src/modules/profile.ts");const s=[new Audio("https://media.soundgasm.net/sounds/df33316bec7bc03902860d21fb4b8827466f2bad.m4a"),new Audio("https://media.soundgasm.net/sounds/fa49b10dad3e1202de096859b339dcfc5eab90a5.m4a"),new Audio("https://media.soundgasm.net/sounds/b25177a6a92d5a74d047a9d77a807f2d1ed28c71.m4a")],u=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[a.ModuleTitle.Clicker])&&void 0!==o?o:{}};function c(e=""){let t=0;return u().triggers.split(",").map((e=>e.trim())).filter((e=>""!==e)).forEach((o=>{var r,n;t+=null!==(n=null===(r=e.toLocaleLowerCase().match(new RegExp(o.toLocaleLowerCase(),"g")))||void 0===r?void 0:r.length)&&void 0!==n?n:0})),t}function d(e=0){isNaN(e)||e<=0||!u().enabled||s[Math.min(e-1,s.length-1)].play()}let m=!1;function h(){var e,t;(0,r.bcxFound)()&&!m&&(null===(t=null===(e=(0,r.bcxAPI)())||void 0===e?void 0:e.on)||void 0===t||t.call(e,"bcxLocalMessage",(e=>{const t=null==e?void 0:e.message,o="[Voice] ";u().enabled&&u().bcxVoice&&(null==t?void 0:t.startsWith(o))&&d(c(t.substring(8)))})),m=!0)}class v extends a.Module{constructor(){super(...arguments),this.hasBeenLoaded=!1}get Title(){return a.ModuleTitle.Clicker}get Activities(){return[{Name:"Clicker1",MaxProgress:50,Prerequisite:["UseHands"],CustomPrerequisite:{Name:"HoldingClicker",Prerequisite:(e,t,o)=>{var r,n,i,a,l;return null!==(l=null===(a=null===(i=null===(n=null===(r=InventoryGet(e,"ItemHandheld"))||void 0===r?void 0:r.Asset)||void 0===n?void 0:n.Name)||void 0===i?void 0:i.toLocaleLowerCase())||void 0===a?void 0:a.includes("remote"))&&void 0!==l&&l}},Targets:[{group:"ItemHands",label:"Click Once",actionSelf:"SourceCharacter presses the button on PronounPossessive clicker."}],Image:"Icons/AudioOn.png"},{Name:"Clicker2",MaxProgress:50,Prerequisite:["UseHands"],CustomPrerequisite:{Name:"HoldingClicker"},Targets:[{group:"ItemHands",label:"Click Twice",actionSelf:"SourceCharacter presses the button on PronounPossessive clicker twice."}],Image:"Icons/AudioOn.png"},{Name:"Clicker3",MaxProgress:50,Prerequisite:["UseHands"],CustomPrerequisite:{Name:"HoldingClicker"},Targets:[{group:"ItemHands",label:"Click Thrice",actionSelf:"SourceCharacter presses the button on PronounPossessive clicker three times."}],Image:"Icons/AudioOn.png"}]}get Settings(){return[{name:"enabled",type:"checkbox",active:e=>!(0,l.IsHardcoreOn)(e),value:!1,label:"Enable auditory clicker"},{name:"triggers",type:"text",active:e=>!!u(e).enabled,value:"~click~",label:"Phrases that trigger the click; Separate phrases with a comma",width:384,maxChars:null},{name:"selfAuthed",type:"checkbox",active:e=>!!u(e).enabled&&"Self"!==u(e).authedGroup,value:!0,label:"Allow your own chat, emotes, & actions to trigger the clicker"},{name:"authedGroup",type:"option",active:e=>!!u(e).enabled,value:"Friends",options:["Public","Friends","Whitelist","Lovers","Owners","Clubowner","Self"],label:"Who will be able to trigger the clicker",loop:!1,onSet(e){"Self"===u(e).authedGroup&&(u(e).selfAuthed=!0)}},{name:"bcxVoice",type:"checkbox",active:e=>!!u(e).enabled&&(0,r.bcxFound)()&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Allow BCX Listen to my voice rule to trigger the clicker; Requires BCX"}]}Load(){if(super.Load(),(0,r.HookFunction)(a.ModuleTitle.Clicker,"ChatRoomMessage",0,((e,t)=>{var o,r,a,l,s,m,h,v,f,g;const p=e[0];if(!(u().enabled&&(null===(o=e[0])||void 0===o?void 0:o.Type)&&(null===(r=e[0])||void 0===r?void 0:r.Content)&&(null===(a=e[0])||void 0===a?void 0:a.Sender)&&(0,i.IsMemberNumberInAuthGroup)(p.Sender,u().authedGroup,u().selfAuthed)))return t(e);let y=0;return"Chat"!=p.Type&&"Emote"!=p.Type&&"Whisper"!=p.Type||(y=c((0,n.RemoveOOCContentFromMessage)(p.Content))),"Action"==p.Type&&(y="Beep"==p.Content?c(null!==(m=null===(s=null===(l=null==p?void 0:p.Dictionary)||void 0===l?void 0:l.filter((e=>"Beep"==e.Tag))[0])||void 0===s?void 0:s.Text)&&void 0!==m?m:""):(null===(h=p.Dictionary)||void 0===h?void 0:h.reduce(((e,t)=>e||'MISSING TEXT IN "Interface.csv": '===t.Tag&&"‌"===t.Text),!1))?c(p.Content):c(null!==(g=null===(f=null===(v=null==p?void 0:p.Dictionary)||void 0===v?void 0:v.filter((e=>e.Tag==`MISSING TEXT IN "Interface.csv": ${null==p?void 0:p.Content}`))[0])||void 0===f?void 0:f.Text)&&void 0!==g?g:"")),d(y),t(e)})),(0,r.HookFunction)(a.ModuleTitle.Clicker,"ChatRoomMessage",0,((e,t)=>{t(e);const o=e[0],r=(0,n.GetAttributeFromChatDictionary)(o,"ActivityName");u().enabled&&"Activity"===o.Type&&(null==r?void 0:r.startsWith("MPA_Clicker"))&&(0,i.IsMemberNumberInAuthGroup)(o.Sender,u().authedGroup,u().selfAuthed)&&d(Number(r.slice(-1)))})),!this.hasBeenLoaded){h();const e=setInterval((()=>{m?clearInterval(e):h()}),6e4)}this.hasBeenLoaded=!0}Unload(){super.Unload()}}},"./src/modules/dataSync.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{CategorySync:()=>l,DataSyncModule:()=>c,RecordSync:()=>s,RecordsSync:()=>u,SettingSync:()=>a});var r=o("./src/util/sdk.ts"),n=o("./src/modules/_module.ts"),i=o("./src/util/messaging.ts");function a(e=!1,t){const o=structuredClone(Player.MPA);Object.keys(o).forEach((e=>{(0,n.ModuleIsPublic)(e)||delete o[e]})),(0,i.SendMPAMessage)({message:"SettingSync",settings:o,reply:e},t)}function l(e,t){(0,n.ModuleIsPublic)(e)&&(0,i.SendMPAMessage)({message:"CategorySync",category:e,value:Player.MPA[e]},t)}function s(e,t,o){u([{category:e,record:t}],o)}function u(e,t){for(let t=e.length-1;t>=0;t--){const o=e[t];(0,n.ModuleIsPublic)(o.category)?o.value=Player.MPA[o.category][o.record]:e.splice(t,1)}0!==e.length&&(0,i.SendMPAMessage)({message:"RecordsSync",records:e},t)}class c extends n.Module{get Title(){return n.ModuleTitle.DataSync}get SyncListeners(){return[{module:n.ModuleTitle.DataSync,message:"SettingSync",action:function(e,t){e.MemberNumber!==Player.MemberNumber&&(e.MPA=t.settings,t.reply&&a(!1,e.MemberNumber))}},{module:n.ModuleTitle.DataSync,message:"CategorySync",action:function(e,t){e.MemberNumber!==Player.MemberNumber&&(e.MPA?e.MPA[t.category]=t.value:a(!1,e.MemberNumber))}},{module:n.ModuleTitle.DataSync,message:"RecordsSync",action:function(e,t){var o;if(e.MemberNumber!==Player.MemberNumber)for(const r of t.records)(null===(o=null==e?void 0:e.MPA)||void 0===o?void 0:o[r.category])?e.MPA[r.category][r.record]=r.value:l(t.category,e.MemberNumber)}}]}Load(){super.Load(),0!==ChatRoomCharacter.length&&a(!0),(0,r.HookFunction)(n.ModuleTitle.DataSync,"ChatRoomSync",0,((e,t)=>{t(e),a(!0)})),(0,r.HookFunction)(n.ModuleTitle.DataSync,"ChatRoomMessage",0,((e,t)=>{var o;const r=e[0],n=(0,i.GetMPAMessageFromChat)(r);if(!n)return t(e);const a=(0,i.FindCharacterInRoom)(null!==(o=r.Sender)&&void 0!==o?o:"",{MemberNumber:!0,Name:!1,NickName:!1});if(!a)return t(e);i.hookedMessages.forEach((e=>{n.message===e.message&&e.action(a,n)}))}))}Unload(){super.Unload()}}},"./src/modules/private.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{PrivateModule:()=>a,deafenProcess:()=>i});var r=o("./src/util/sdk.ts"),n=o("./src/modules/_module.ts");let i=!1;class a extends n.Module{get Title(){return n.ModuleTitle.Private}get Settings(){return[{name:"savedBed",type:"record",value:""},{name:"savedBowl",type:"record",value:""}]}Load(){(0,r.HookFunction)(this.Title,"SpeechTransformProcess",10,(([e,t,o,r],n)=>{let a=!1;o.includes("deafen")&&(a=!0,o=o.filter((e=>"deafen"!==e)));const l=n([e,t,o,r]);if(a){const o=SpeechTransformDeafenIntensity(e);o>0&&(i=!0,l.effects.push("deafen"),l.text=SpeechTransformGagGarble(t,o,r,e),i=!1)}return l})),super.Load()}Unload(){super.Unload()}}},"./src/modules/profile.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{GARBLE_PHRASES:()=>f,IsHardcoreOn:()=>h,PET_HEARING:()=>p,ProfileModule:()=>M});var r=o("./src/util/general.ts"),n=o("./src/util/sdk.ts"),i=o("./src/modules/_module.ts"),a=o("./src/modules/settings.ts"),l=o("./src/util/petHearAndSpeak.ts"),s=o("./src/util/messaging.ts"),u=o("./src/modules/dataSync.ts"),c=o("./src/util/authority.ts"),d=o("./src/modules/private.ts");const m=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[i.ModuleTitle.Profile])&&void 0!==o?o:{}};function h(e){var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[i.ModuleTitle.Profile].hardcore)&&void 0!==o&&o}function v(e,t=Player){var o,r;return null!==(r=null===(o=t.MPA)||void 0===o?void 0:o[e])&&void 0!==r?r:{}}const f=Object.freeze({Human:["hmmgm","mmmm","mhhmmaa","hmmm"],Custom:[""],Bunny:["pon","pyon","eep","huff","tk-tk","nngh-nngh"],Cat:["meow","mew","nyah","nya","purr","mrrow","prrr"],Cow:["moo","mooooo","muuhhh","moooah"],Dog:["arf","woof","bark","ruff","huff","eep"],Fox:["chirp","yip","wow-wow","yoww","eep"],Mouse:["squeak","eeek","tch-tch","wi-i-i","sss"],Pony:["neigh","whinny","wheee","snrt","whooosh","huff","nnhhh-ker"],Wolf:["awoo","aa-ooo","woof","ruff","arf","wiiip","huff"]});function g(e=m(Player).type){var t,o,i,a,l,s,u,c;const d=null!==(a=null===(i=null===(o=null===(t=(0,n.bcxAPI)())||void 0===t?void 0:t.getRuleState("speech_ban_words"))||void 0===o?void 0:o.customData)||void 0===i?void 0:i.bannedWords)&&void 0!==a?a:[],h=(0,n.bcxFound)()&&m(Player).bcxSpeaking?null!==(c=null===(u=null===(s=null===(l=(0,n.bcxAPI)())||void 0===l?void 0:l.getRuleState("speech_mandatory_words"))||void 0===s?void 0:s.customData)||void 0===u?void 0:u.mandatoryWords)&&void 0!==c?c:[]:function(e=m(Player).type){return e in f&&"Custom"!==e?f[e]:m(Player).garblePhrases.split(",").map((e=>e.trim()))}(e);return(0,r.FilterArrayFromArray)(h,d).map((e=>e.toLocaleLowerCase().trim())).filter((e=>0!=e.length))}const p=Object.freeze({All:["owner","pet","master","mistress","miss","sir","paw","sit","come","down","up","stay","water","food","kibble","eat","treat","drink","toy","play","leash","walk","walkies","bed","sleep","cutie","adorable","toy","play","kibble","good","bad","lap","speak","hush","quiet","hush","all fours","all-fours"],Human:[],Custom:[],Bunny:["bun","bunny","carrot","hop","jump","hump","ear","ears"],Cat:["cat","kitty","kitten","catnip","knead","scratch","yarn","milk"],Cow:["milk","milking","utter","breast","grass","moo"],Dog:["cage","kennel","pup","puppy","dog","doggy","bone","fetch","heel","roll","over","bark"],Fox:["trap","bun","bunny","bone","fox","foxy"],Mouse:["mouse","ear","ears","trap","wire","wheel","cheese","nibble","cat","kitty","kitten"],Pony:["pony","mare","stallion","bridle","hoof","hooves","trot","stall","hay","woah","stomp","calm","easy","slow","cart","bay","run","race"],Wolf:["bone","wolf","dog","pup","puppy","heel"]});function y(e,t,o){const r=(0,a.ElementName)(i.ModuleTitle.Profile,"garblePhrases");if("Custom"===t)return m(e).garblePhrases=m(e).customGarblePhrases.join(", "),void(document.getElementById(r)&&ElementValue(r,m(e).garblePhrases));"Custom"===o&&document.getElementById(r)&&(m(e).customGarblePhrases=ElementValue(r).split(",").map((e=>e.trim()))),m(e).garblePhrases=f[m(e).type].join(", "),document.getElementById(r)&&ElementValue(r,m(e).garblePhrases)}function P(){var e,t,o,r;m().bcxSpeaking=!0;const l=(0,a.ElementName)(i.ModuleTitle.Profile,"garblePhrases");"Custom"===m().type&&document.getElementById(l)&&(m().customGarblePhrases=ElementValue(l).split(",").map((e=>e.trim())));const s=null!==(r=null===(o=null===(t=null===(e=(0,n.bcxAPI)())||void 0===e?void 0:e.getRuleState("speech_mandatory_words"))||void 0===t?void 0:t.customData)||void 0===o?void 0:o.mandatoryWords)&&void 0!==r?r:[];m().garblePhrases=s.join(", "),document.getElementById(l)&&ElementValue(l,m().garblePhrases)}const b=Object.freeze({Low:.015,Medium:.05,High:.1,Max:1});class M extends i.Module{get Title(){return i.ModuleTitle.Profile}get SyncListeners(){return[{module:this.Title,message:"BCXSpeakEnableRequest",action:function(e,t){var o,r;(0,c.IsMemberNumberInAuthGroup)(null!==(o=e.MemberNumber)&&void 0!==o?o:-1,null===(r=Player.MPA)||void 0===r?void 0:r[i.ModuleTitle.Authority][`others${i.ModuleTitle.Profile}`])?(P(),(0,u.RecordsSync)([{category:i.ModuleTitle.Profile,record:"garblePhrases"},{category:i.ModuleTitle.Profile,record:"bcxSpeaking"}],e.MemberNumber),(0,s.SendMPAMessage)({message:"BCXSpeakEnableReply"},e.MemberNumber)):console.warn(`${e.Nickname||e.Name}[${e.MemberNumber}] tried to illegially set your bcx speak to be enabled`)}},{module:this.Title,message:"BCXSpeakEnableReply",action:function(e,t){const o=(0,a.ElementName)(i.ModuleTitle.Profile,"garblePhrases");document.getElementById(o)&&ElementValue(o,m(e).garblePhrases)}}]}get Settings(){return[{name:"type",type:"option",active:()=>!0,options:Object.keys(f),value:"Human",label:"Use a preset profile or make your own",loop:!0,onSet:(e,t,o)=>{m(e).bcxSpeaking||y(e,t,o)}},{name:"petHearing",type:"checkbox",active:()=>!0,value:!1,label:"While deafened certain pet keywords can be picked up"},{name:"garblePhrases",type:"text",active:e=>"Custom"===m(e).type&&!(m(e).petSpeaking&&(0,n.bcxFound)()&&m(e).bcxSpeaking),value:f.Human.join(),label:"Pet sounds you make",maxChars:1024,width:1024},{name:"customGarblePhrases",type:"record",value:[]},{name:"petSpeaking",type:"option",active:()=>!0,options:["Off","Low","Medium","High","Max"],loop:!1,value:"Off",label:"Automatically make the above pet sounds while talking"},{name:"bcxSpeaking",type:"checkbox",active:e=>m(e).petSpeaking&&(0,n.bcxFound)(),value:!1,label:"Use BCX mandatory words instead of the pet sounds above",onSet:(e,t)=>{if(t)if(e.IsPlayer())P();else{const t=(0,a.ElementName)(i.ModuleTitle.Profile,"garblePhrases");"Custom"===m(e).type&&document.getElementById(t)&&(m(e).customGarblePhrases=ElementValue(t).split(",").map((e=>e.trim()))),(0,s.SendMPAMessage)({message:"BCXSpeakEnableRequest"},e.MemberNumber)}else y(e,m(e).type,"")}},{name:"hardcore",type:"checkbox",active:()=>!0,value:!1,label:"Enable hardcore mode; Will set certain settings and prevent changing them back",onSet(e,t){0!=t&&(v(i.ModuleTitle.Clicker,e).enabled=!0,v(i.ModuleTitle.Clicker,e).bcxVoice=!0,v(i.ModuleTitle.VirtualPet,e).enabled=!0,v(i.ModuleTitle.VirtualPet,e).noHands=!1,v(i.ModuleTitle.VirtualPetConditions,e).enabled=!0,v(i.ModuleTitle.VirtualPetConditions,e).foodNOW=!0,v(i.ModuleTitle.VirtualPetConditions,e).tint=!0,v(i.ModuleTitle.VirtualPetConditions,e).passout=!0,v(i.ModuleTitle.VirtualPetConditions,e).affectionSkillBuffs=!1,v(i.ModuleTitle.VirtualPetConditions,e).affectionSkillDebuffs=!0,v(i.ModuleTitle.VirtualPetConditions,e).hearingLoss=!0,v(i.ModuleTitle.VirtualPetConditions,e).slowLeave=!0,v(i.ModuleTitle.VirtualPetConditions,e).orgasmWater=!0,v(i.ModuleTitle.VirtualPetConditions,e).orgasmSleep=!0)}},{name:"petGagging",type:"option",active:()=>!0,value:"Off",options:["Off","First","Last","Replace"],loop:!0,label:"Pet gagging mode"},{name:"petGaggingStrength",type:"option",value:"Medium",options:["Low","Medium","High","Max"],loop:!1,label:"Pet gagging strength",active:e=>"Off"!==m(e).petGagging}]}Load(){super.Load(),SpeechTransformAllEffects.push("petSpeak"),(0,n.HookFunction)(this.Title,"SpeechTransformGagGarble",5,(([e,t,o,...r],n)=>{const i=r[0];return(null==i?void 0:i.IsGagged())||!Player.IsDeaf()||!1===m().petHearing?n([e,t,o]):(0,l.ApplyPetHearing)([e,t,o],n,function(e=m(Player).type){return e in p?p.All.concat(p[e]):p.All}())})),(0,n.HookFunction)(this.Title,"CommandParse",8,(([e],t)=>{if(e=e.trim(),[CommandsKey,"*","@"].includes(e.charAt(0)))return t([e]);const o=m(Player).petSpeaking;return t([(0,l.NonDisruptivePetSpeech)(e,g(),o)])})),(0,n.HookFunction)(this.Title,"SpeechTransformGagGarble",5,((e,t)=>{var o;const r=m(Player).petGagging;if(!d.deafenProcess&&"Off"!==r){const r=g();if(0===r.length)return t(e);const n=(null!==(o=b[m(Player).petGaggingStrength])&&void 0!==o?o:.05)*e[1];switch(m(Player).petGagging){case"First":return e[0]=(0,l.DisruptivePetSpeech)(e[0],r,n),t(e);case"Last":return(0,l.DisruptivePetSpeech)(t(e),r,n);case"Replace":return(0,l.DisruptivePetSpeech)(e[0],r,n)}}return t(e)}))}Unload(){super.Unload(),SpeechTransformAllEffects=SpeechTransformAllEffects.filter((e=>"petSpeak"!==e))}}},"./src/modules/settings.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ElementName:()=>se,ExitButtonPressed:()=>re,MENU_TITLES:()=>G,PreferenceMenuClick:()=>ne,PreferenceMenuRun:()=>ie,SetSettingChar:()=>v,SettingsModule:()=>de,currentMenu:()=>B});var r=o("./src/localization/localization.ts"),n=o("./src/util/storage.ts"),i=o("./src/util/constants.ts"),a=o("./src/util/settingTypes.ts"),l=o("./src/util/registerModules.ts"),s=o("./src/util/authority.ts"),u=o("./src/util/messaging.ts"),c=o("./src/modules/_module.ts"),d=o("./src/modules/virtualPet.ts");let m=!1,h=null;function v(e){m=!1,h=e}const f=2e3,g=[1815,75,90,90],p=7,y=400,P=90,b=160,M=500,A=20,C=20,S=[100,510,350,75],w="https://github.com/MayaTheFoxy/MPA/wiki",T="https://discord.gg/9GHwmHEMAS",k=[S[0],S[1]+S[3]+A,S[2],S[3]],N=[k[0],k[1]+k[3]+A,k[2],k[3]],I=[N[0],N[1]-N[3],N[2]];let x=0,O="";const E=[N[0],N[1]+N[3]+A,(N[2]-A)/2,N[3]],D=[N[0]+(N[2]+A)/2,N[1]+N[3]+A,(N[2]-A)/2,N[3]],R=[300,700,250,90],F=[1450,700,250,90],L=[S[2]/2+S[0],S[1]-2*A,S[2]];function H(){return h?h.IsPlayer()?[c.ModuleTitle.Authority,c.ModuleTitle.Profile,c.ModuleTitle.Clicker,c.ModuleTitle.VirtualPet,c.ModuleTitle.VirtualPetHUD,c.ModuleTitle.VirtualPetConditions]:[c.ModuleTitle.Authority,c.ModuleTitle.Profile,c.ModuleTitle.Clicker,c.ModuleTitle.VirtualPet,c.ModuleTitle.VirtualPetConditions]:[]}const G={[c.ModuleTitle.VirtualPet]:"Virtual Pet",[c.ModuleTitle.VirtualPetHUD]:"Virtual Pet Hud",[c.ModuleTitle.VirtualPetConditions]:"Virtual Pet Conditions"};let B=null,V=!1,U=0;function W(e){for(let t=0;t<e.length;t++)if(MouseIn(M+(y+A)*Math.floor(t/p),b+(P+A)*(t%p),y,P))return e[t];return null}DrawButton(1520,720,200,80,"Cancel","White");const q=9,j=64,Y=200,z=250,$=10,K=64,Z=256,X=256,Q=256;let J=1,_=1;const ee=[1635,75,90,90],te=[ee[0]-ee[2],ee[1],ee[2],ee[2]];function oe(e){var t;if(!h)return;const o=Object.entries(null!==(t=l.settings[e])&&void 0!==t?t:{}).filter((([t,o])=>{var r;return(0,a.IsDisplaySetting)(o)&&t in(null!==(r=null==h?void 0:h.MPA[e])&&void 0!==r?r:{})}));1!==_&&(J>_&&(J=_),J<1&&(J=1),DrawButton(...ee,"",J>=_?"#aaaaaa":"#ffffff","Icons/Next.png","Next Page",J>=_),DrawButton(...te,"",1>=J?"#aaaaaa":"#ffffff","Icons/Prev.png","Previous Page",1>=J)),o.slice((J-1)*q,J*q).forEach(((t,o)=>{var n,i,l,u,d,m,v,g,p;const[y,P]=t,b=!P.active(h)||`others${e}`in h.MPA[c.ModuleTitle.Authority]&&`self${e}`in h.MPA[c.ModuleTitle.Authority]&&!(0,s.IsMemberNumberInAuthGroup)(null!==(n=Player.MemberNumber)&&void 0!==n?n:-1,h.MPA[c.ModuleTitle.Authority][`others${e}`],h.MPA[c.ModuleTitle.Authority][`self${e}`],h)||!Player.CanInteract()&&((null==h?void 0:h.MemberNumber)===Player.MemberNumber&&!Player.MPA[c.ModuleTitle.Authority].boundAccessSelf||(null==h?void 0:h.MemberNumber)!==Player.MemberNumber&&!Player.MPA[c.ModuleTitle.Authority].boundAccessOthers);if((0,a.IsCheckboxSetting)(P))DrawCheckbox(z,Y+o*($+j),K,K,(0,r.LocalizedText)(P.label).replaceAll("TargetCharacter",null!==(i=(null==h?void 0:h.Nickname)||(null==h?void 0:h.Name))&&void 0!==i?i:"").replaceAll("TargetPronounPossessive","SheHer"===(null==h?void 0:h.GetPronouns())?"her":"his"),!!h.MPA[e][y],b,"Black");else if((0,a.IsOptionSetting)(P)){const t=P.options.indexOf(h.MPA[e][y]),n=P.options.length,i=e!==c.ModuleTitle.Authority||!s.AUTHORITY_GROUP_OPTIONS.includes(h.MPA[e][y]),a=!(i||(0,s.AuthorityIsComparisonToCharacter)(h.MPA[e][y],">=",null!==(l=Player.MemberNumber)&&void 0!==l?l:-1,h)),m=!(i||(0,s.AuthorityIsComparisonToCharacter)(h.MPA[e][y],">",null!==(u=Player.MemberNumber)&&void 0!==u?u:-1,h))&&"Self"!==h.MPA[e][y];DrawBackNextButton(z,Y+o*($+j),Z,j,(0,r.LocalizedText)(h.MPA[e][y]),b||a&&m?"#aaaaaa":"#ffffff","",(()=>(0,r.LocalizedText)(a?"":P.loop?P.options[(t-1+n)%n]:t>0?P.options[t-1]:"")),(()=>(0,r.LocalizedText)(m?"":P.loop?P.options[(t+1+n)%n]:t+1<n?P.options[t+1]:"")),b||a&&m),DrawTextFit((0,r.LocalizedText)(P.label).replaceAll("TargetCharacter",null!==(d=(null==h?void 0:h.Nickname)||(null==h?void 0:h.Name))&&void 0!==d?d:"").replaceAll("TargetPronounPossessive","SheHer"===(null==h?void 0:h.GetPronouns())?"her":"his"),z+Z+2*$,Y+(o*($+j)+Math.ceil(j/2)),f-2*z-Z,"Black","Gray")}else if((0,a.IsTextSetting)(P)||(0,a.IsNumberSetting)(P)){const t=se(e,y);ElementPositionFixed(t,z,Y+o*($+j),null!==(m=P.width)&&void 0!==m?m:X,j),b?ElementSetAttribute(t,"disabled","true"):ElementRemoveAttribute(t,"disabled"),DrawTextFit((0,r.LocalizedText)(P.label).replaceAll("TargetCharacter",null!==(v=(null==h?void 0:h.Nickname)||(null==h?void 0:h.Name))&&void 0!==v?v:"").replaceAll("TargetPronounPossessive","SheHer"===(null==h?void 0:h.GetPronouns())?"her":"his"),z+(null!==(g=P.width)&&void 0!==g?g:X)+2*$,Y+o*($+j)+Math.ceil(j/2),f-2*z-(null!==(p=P.width)&&void 0!==p?p:X),"Black","Gray")}}))}function re(){null===B?(window.MPA.menuLoaded&&(window.MPA.menuLoaded=!1),ae()):("RESET_Settings"===B||(ce(B),J=1,_=1),B=null)}function ne(){var e,t,o,r;if(MouseIn(...g))re();else{if((null==h?void 0:h.MemberNumber)===Player.MemberNumber&&null===B){if(MouseIn(...S))return void(null===(e=window.open(w,"_blank"))||void 0===e||e.focus());if(MouseIn(...k))return void(null===(t=window.open(T,"_blank"))||void 0===t||t.focus());if(MouseIn(...N))return B="RESET_Settings",void(U=Date.now()+1e4);if(MouseIn(...E))return void(0,n.ImportSettingsFromClipboard)().then((()=>{O="Settings imported from clipboard"}),(()=>{O="Failed to import settings"})).finally((()=>x=Date.now()+5e3));if(MouseIn(...D))return void(0,n.ExportSettingsToClipboard)().then((()=>{O="Settings copied to clipboard"}),(()=>{O="Failed to export settings"})).finally((()=>x=Date.now()+5e3))}if(null===B&&null!==W(H())&&(B=W(H()),J=1,_=Math.ceil(Object.entries(null!==(o=l.settings[null!=B?B:""])&&void 0!==o?o:{}).filter((([e,t])=>{var o;return(0,a.IsDisplaySetting)(t)&&e in(null!==(o=null==h?void 0:h.MPA[null!=B?B:""])&&void 0!==o?o:{})})).length/q),ue(B)),"RESET_Settings"!==B){if(null!==B){if(Object.entries(null!==(r=l.settings[null!=B?B:""])&&void 0!==r?r:{}).filter((([e,t])=>{var o;return(0,a.IsDisplaySetting)(t)&&e in(null!==(o=null==h?void 0:h.MPA[null!=B?B:""])&&void 0!==o?o:{})})).length>q){if(MouseIn(...ee)&&J<_)return ce(B),J++,void ue(B);if(MouseIn(...te)&&J>1)return ce(B),J--,void ue(B)}!function(e){var t;if(!h)return;const o=Object.entries(null!==(t=l.settings[e])&&void 0!==t?t:{}).filter((([t,o])=>{var r;return(0,a.IsDisplaySetting)(o)&&t in(null!==(r=null==h?void 0:h.MPA[e])&&void 0!==r?r:{})}));o.slice((J-1)*q,J*q).forEach(((t,o)=>{var r,n,i;const[l,u]=t,d=!u.active(h)||`others${e}`in h.MPA[c.ModuleTitle.Authority]&&`self${e}`in h.MPA[c.ModuleTitle.Authority]&&!(0,s.IsMemberNumberInAuthGroup)(null!==(r=Player.MemberNumber)&&void 0!==r?r:-1,h.MPA[c.ModuleTitle.Authority][`others${e}`],h.MPA[c.ModuleTitle.Authority][`self${e}`],h)||!Player.CanInteract()&&((null==h?void 0:h.MemberNumber)===Player.MemberNumber&&!Player.MPA[c.ModuleTitle.Authority].boundAccessSelf||(null==h?void 0:h.MemberNumber)!==Player.MemberNumber&&!Player.MPA[c.ModuleTitle.Authority].boundAccessOthers);if((0,a.IsCheckboxSetting)(u))MouseIn(z,Y+o*($+j),K,K)&&!d&&(h.MPA[e][l]=!h.MPA[e][l],u.onSet&&u.onSet(h,h.MPA[e][l],!h.MPA[e][l]),m=!0);else if((0,a.IsOptionSetting)(u)){const t=u.options.indexOf(h.MPA[e][l]),r=u.options.length;if(!MouseIn(z,Y+o*($+j),Math.floor(Z/2),j)||d||!(u.loop||t>0)||e===c.ModuleTitle.Authority&&s.AUTHORITY_GROUP_OPTIONS.includes(h.MPA[e][l])&&!(0,s.AuthorityIsComparisonToCharacter)(h.MPA[e][l],">=",null!==(n=Player.MemberNumber)&&void 0!==n?n:-1,h)){if(MouseIn(z+Math.floor(Z/2),Y+o*($+j),Math.ceil(Z/2),j)&&!d&&(u.loop||t+1<u.options.length)&&(e!==c.ModuleTitle.Authority||!s.AUTHORITY_GROUP_OPTIONS.includes(h.MPA[e][l])||(0,s.AuthorityIsComparisonToCharacter)(h.MPA[e][l],">",null!==(i=Player.MemberNumber)&&void 0!==i?i:-1,h))){const o=h.MPA[e][l];h.MPA[e][l]=u.options[(t+1+r)%r],u.onSet&&u.onSet(h,u.options[(t+1+r)%r],o),m=!0}}else{const o=h.MPA[e][l];h.MPA[e][l]=u.options[(t-1+r)%r],u.onSet&&u.onSet(h,u.options[(t-1+r)%r],o),m=!0}}}))}(B)}}else!function(){MouseIn(...R)&&Date.now()>U&&((0,n.ResetStorage)(),B=null,U=0);MouseIn(...F)&&(B=null,U=0)}()}}function ie(){var e;if("RESET_Settings"===B)return void function(){const e=MainCanvas.textAlign;MainCanvas.textAlign="center",DrawText((0,r.LocalizedText)("WARNING: Are you sure you want to reset your MPA settings and data back to default?"),f/2,250,"#000000","#aaaaaa"),DrawText((0,r.LocalizedText)("This action can not be undone!"),f/2,400,"#ff0000","#aaaaaa"),DrawText((0,r.LocalizedText)("Export and save your settings BEFORE confirming if you are unsure."),f/2,550,"#696969","#aaaaaa");const t=Date.now();t<=U?DrawButton(...R,`${(0,r.LocalizedText)("Confirm")} (${Math.floor((U-t)/1e3)})`,"#aaaaaa",void 0,void 0,!0):DrawButton(...R,(0,r.LocalizedText)("Confirm"),"#ff0000"),DrawButton(...F,(0,r.LocalizedText)("Cancel"),"White"),MainCanvas.textAlign=e}();const t=MainCanvas.textAlign;DrawButton(...g,"","White","Icons/Exit.png"),MainCanvas.textAlign="center",DrawText(`${(0,r.LocalizedText)("Maya's Petplay Additions")}${B?` - ${(null==h?void 0:h.Nickname)||(null==h?void 0:h.Name)}'s ${(0,r.LocalizedText)(null!==(e=G[B])&&void 0!==e?e:B)}`:""}`,1e3,125,"Black","Gray"),(null==h?void 0:h.MemberNumber)===Player.MemberNumber&&null===B&&(x>=Date.now()&&(MainCanvas.textAlign="left",DrawTextFit(O,...I,"Black","Gray")),MainCanvas.textAlign="center",DrawButton(...S,(0,r.LocalizedText)("Wiki"),"#ffffff","",(0,r.LocalizedText)("Open the MPA wiki in a new tab")),DrawButton(...k,"Discord","#ffffff",i.ICONS.DISCORD,"Join the MPA discord!"),DrawButton(...N,(0,r.LocalizedText)("RESET"),"#ff2e2eaa","",(0,r.LocalizedText)("Reset all your settings back to default")),DrawButton(...E,(0,r.LocalizedText)("Import"),"#ffffff","",(0,r.LocalizedText)("Import the settings copied to your clipboard")),DrawButton(...D,(0,r.LocalizedText)("Export"),"#ffffff","",(0,r.LocalizedText)("Export your current settings to the clipboard")),DrawTextFit(`${(0,r.LocalizedText)("Version")}: ${Player.MPA.version}`,...L,"Black","Gray")),MainCanvas.textAlign="left",null===B?function(e){var t;for(let o=0;o<e.length;o++)DrawButton(M+(y+A)*Math.floor(o/p),b+(P+A)*(o%p),y,P,"","White"),DrawTextFit((0,r.LocalizedText)(null!==(t=G[e[o]])&&void 0!==t?t:e[o]),M+C+(y+A)*Math.floor(o/p),b+Math.floor(P/2)+(P+A)*(o%p),y-2*C,"Black","Gray")}(H()):oe(B),MainCanvas.textAlign=t}function ae(){h&&(m&&(h.MemberNumber===Player.MemberNumber?((0,d.LevelSync)(!1,!1,!1),(0,n.SaveStorage)(!0)):(0,u.SendMPAMessage)({message:"SettingPutRequest",settings:h.MPA},h.MemberNumber)),h.MemberNumber===Player.MemberNumber&&PreferenceSubscreenExtensionsClear(),m=!1,h=null,V=!1)}function le(){m=!1,h=Player,h&&(V=!0)}function se(e,t){return`MPA_OPTION_${e}${t}`}function ue(e,t=J){var o;e&&h&&Object.entries(null!==(o=l.settings[e])&&void 0!==o?o:{}).slice((t-1)*q,t*q).forEach((t=>{var o;const[r,n]=t,i=se(e,r);(0,a.IsTextSetting)(n)?ElementCreateInput(i,"text",h.MPA[e][r],null!==(o=n.maxChars)&&void 0!==o?o:Q):(0,a.IsNumberSetting)(n)&&(ElementCreateInput(i,"number",h.MPA[e][r].toString()),ElementSetAttribute(i,"min",n.min.toString()),ElementSetAttribute(i,"max",n.max.toString()),ElementSetAttribute(i,"inputmode","decimal"),n.step&&ElementSetAttribute(i,"step",n.step.toString()))}))}function ce(e,t=J){var o;h&&(e===c.ModuleTitle.VirtualPet&&(0,d.LevelSync)(!1,!1,!1),Object.entries(null!==(o=l.settings[e])&&void 0!==o?o:{}).slice((t-1)*q,t*q).forEach((t=>{const[o,r]=t,n=se(e,o);(0,a.IsTextSetting)(r)&&(h.MPA[e][o]!==ElementValue(n)&&(h.MPA[e][o]=ElementValue(n),m=!0),ElementRemove(n)),(0,a.IsNumberSetting)(r)&&(h.MPA[e][o]!==Number(ElementValue(n))&&(h.MPA[e][o]=Number(ElementValue(n)),m=!0),ElementRemove(n))})))}class de extends c.Module{get Title(){return c.ModuleTitle.Settings}Load(){function e(e){"Escape"!==e.key&&"Esc"!==e.key||!V||(null===B?ae():"RESET_Settings"===B?U=0:(ce(B),J=1,_=1),B=null,e.stopPropagation())}PreferenceRegisterExtensionSetting({Identifier:"MPA",ButtonText:(0,r.LocalizedText)("MPA Settings"),Image:i.ICONS.PAW,click:ne,run:ie,exit:ae,load:le}),document.addEventListener("keypress",e,!0),document.addEventListener("keydown",e,!0)}Unload(){}Reload(){}}},"./src/modules/settingsOthers.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ObjectDifferences:()=>y,SettingsOtherModule:()=>P});var r=o("./src/util/messaging.ts"),n=o("./src/localization/localization.ts"),i=o("./src/util/constants.ts"),a=o("./src/util/sdk.ts"),l=o("./src/modules/_module.ts"),s=o("./src/modules/settings.ts"),u=o("./src/util/storage.ts"),c=o("./src/modules/virtualPet.ts"),d=o("./src/util/authority.ts"),m=o("./src/util/registerModules.ts");const h=[1700,765,90,90],v=[1700,800,90,90],f=[275,900,350],g=[f[0],f[1]-50,f[2]];function p(e,t){return e.length===t.length&&e.every(((e,o)=>e===t[o]))}function y(e,t){const o={};for(const r in e){if(!(r in t)){o[r]={old:e[r],new:void 0};continue}const n=e[r],i=t[r];if(Array.isArray(n)&&Array.isArray(i))p(n,i)||(o[r]={old:n,new:i});else if("object"!=typeof n||"object"!=typeof i||Array.isArray(n))n!==i&&(o[r]={old:n,new:i});else{const e=y(n,i);Object.keys(e).length>0&&(o[r]=e)}}for(const r in t)r in e||(o[r]={old:void 0,new:t[r]});return o}class P extends l.Module{get Title(){return l.ModuleTitle.SettingsOther}get SyncListeners(){return[{module:this.Title,message:"SettingPutRequest",action:function(e,t){var o,i,a,h,v,f,g,p,P,b,M,A;const C=Player.MPA[l.ModuleTitle.VirtualPet].enabled,S=y(Player.MPA,t.settings);Object.keys(S).forEach((e=>{(0,l.ModuleIsPublic)(e)||delete S[e]}));const w=[];(null===(o=null==S?void 0:S[l.ModuleTitle.VirtualPet])||void 0===o?void 0:o.levels)&&(delete S[l.ModuleTitle.VirtualPet].levels,0===Object.keys(S[l.ModuleTitle.VirtualPet]).length&&delete S[l.ModuleTitle.VirtualPet]),(0,c.LevelSync)(!1,!1,!1);const T=JSON.parse(JSON.stringify(null===(i=Player.MPA)||void 0===i?void 0:i[l.ModuleTitle.Authority])),k=S[l.ModuleTitle.Authority];if(k)if(delete S[l.ModuleTitle.Authority],(0,d.IsMemberNumberInAuthGroup)(null!==(a=e.MemberNumber)&&void 0!==a?a:-1,T[`others${l.ModuleTitle.Authority}`])){w.push((0,n.LocalizedText)(l.ModuleTitle.Authority));for(const e in k)void 0!==k[e].new&&void 0!==k[e].old&&(Player.MPA[l.ModuleTitle.Authority][e]=k[e].new)}else console.warn(`MPA: ${e.Nickname||e.Name} (${e.MemberNumber}) tried to illegally modify your ${l.ModuleTitle.Authority} settings!`);for(const t in S){if(!(0,d.IsMemberNumberInAuthGroup)(null!==(h=e.MemberNumber)&&void 0!==h?h:-1,null!==(v=T[`others${t}`])&&void 0!==v?v:"None")&&!(0,d.IsMemberNumberInAuthGroup)(null!==(f=e.MemberNumber)&&void 0!==f?f:-1,null!==(P=null===(p=null===(g=Player.MPA)||void 0===g?void 0:g[l.ModuleTitle.Authority])||void 0===p?void 0:p[`others${t}`])&&void 0!==P?P:"None")){console.warn(`MPA: ${e.Nickname||e.Name} (${e.MemberNumber}) tried to illegally modify your ${t} settings!`);continue}w.push((0,n.LocalizedText)(null!==(b=s.MENU_TITLES[t])&&void 0!==b?b:t));const o=S[t];for(const e in o)void 0!==o[e].new&&void 0!==o[e].old&&(Player.MPA[t][e]=o[e].new)}Player.MPA[l.ModuleTitle.Profile].hardcore&&(null===(A=null===(M=m.settings[l.ModuleTitle.Profile])||void 0===M?void 0:M.hardcore)||void 0===A||A.onSet(Player)),C!==Player.MPA[l.ModuleTitle.VirtualPet].enabled&&(Player.MPA[l.ModuleTitle.VirtualPet].levels.lastUpdated=Date.now()),0!==w.length&&(0,r.MPANotifyPlayer)((0,n.LocalizedText)("SourceCharacter just updated your SettingsArray settings.").replace("SourceCharacter",e.Nickname||e.Name).replace("SettingsArray",(0,r.ArrayToReadableString)(w))),(0,u.SaveStorage)(!0)}},{module:this.Title,message:"EditingSettings",action:function(e,t){Player.MPA[l.ModuleTitle.Authority].settingsNotify&&(0,r.NotifyPlayer)((0,n.LocalizedText)("SourceCharacter is accessing your MPA settings.").replace("SourceCharacter",e.Nickname||e.Name),3e4)}}]}Load(){super.Load();(0,a.HookFunction)(this.Title,"InformationSheetRun",12,((e,t)=>{var o;if((null===(o=window.bcx)||void 0===o?void 0:o.inBcxSubscreen())||window.LSCG_REMOTE_WINDOW_OPEN)return t(e);if(window.MPA.menuLoaded){const e=InformationSheetSelection;return(null==e?void 0:e.MPA)&&!e.IsPlayer()&&null==s.currentMenu&&(DrawTextFit(`${(0,n.LocalizedText)("Your Version")}: ${Player.MPA.version}`,...f,"Black","Gray"),DrawTextFit(`${(0,n.LocalizedText)("TargetCharacter's Version")}: ${null==e?void 0:e.MPA.version}`.replace("TargetCharacter",(null==e?void 0:e.Nickname)||(null==e?void 0:e.Name)),...g,"Black","Gray")),void(0,s.PreferenceMenuRun)()}t(e);const r=InformationSheetSelection;if((null==r?void 0:r.MPA)&&!r.IsPlayer()){const e=ServerChatRoomGetAllowItem(Player,r);DrawButton(...(0,a.bcxFound)()?v:h,"",e?"#ffffff":"#aaaaaa",i.ICONS.PAW,(0,n.LocalizedText)(e?"MPA":"MPA: No BC item permission"),!1)}})),(0,a.HookFunction)(this.Title,"InformationSheetClick",12,((e,t)=>{if(window.MPA.menuLoaded)return(0,s.PreferenceMenuClick)();const o=InformationSheetSelection;if(!MouseIn(...v)||!(null==o?void 0:o.MPA)||o.IsPlayer())return t(e);window.MPA.menuLoaded=!0,(0,s.SetSettingChar)(o),(0,r.SendMPAMessage)({message:"EditingSettings"},o.MemberNumber)})),(0,a.HookFunction)(this.Title,"InformationSheetExit",12,((e,t)=>{if(!window.MPA.menuLoaded)return t(e);(0,s.ExitButtonPressed)()}))}Unload(){super.Unload()}}},"./src/modules/virtualPet.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{CalculateCurrentValue:()=>N,GetCharacterCurrentStatValue:()=>I,IsBedMultiplier:()=>C,IsSleepingExpression:()=>A,LevelSync:()=>x,ModifyStat:()=>O,VirtualPetModule:()=>E});var r=o("./src/modules/_module.ts"),n=o("./src/util/constants.ts"),i=o("./src/util/sdk.ts"),a=o("./src/util/storage.ts"),l=o("./src/util/messaging.ts"),s=o("./src/modules/dataSync.ts"),u=o("./src/modules/profile.ts");const c=168,d=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[r.ModuleTitle.VirtualPet])&&void 0!==o?o:{}},m=.67,h=["LSCG_Eat","ThrowItem"],v=["LSCG_FunnelPour","LSCG_Quaff"],f=["Sleep","Afk","Fork","Coding","Read"],g=["Pet","TakeCare","LSCG_Nuzzle","Caress","LSCG_Hug","Scratch"],p=["Kiss","MassageHands","Lick","Nibble","Cuddle","Grope"],y=["Spank","Slap","Bite","Pinch","Pull","ShockItem","SpankItem"],P={ItemArms:1,ItemBoots:.8,ItemBreast:1.5,ItemButt:1.5,ItemEars:2.5,ItemFeet:.8,ItemHands:1,ItemHead:3,ItemLegs:1,ItemMouth:2,ItemNeck:1.2,ItemNipples:1.5,ItemNose:1.7,ItemPelvis:1.3,ItemTorso:1,ItemVulva:2,ItemVulvaPiercings:2.5},b=.2;let M;const A=e=>{var t,o,r,n,i,a,l;return"Closed"===(null===(o=null===(t=e.Appearance.find((e=>"Eyes"===e.Asset.Group.Name)))||void 0===t?void 0:t.Property)||void 0===o?void 0:o.Expression)&&"Closed"===(null===(n=null===(r=e.Appearance.find((e=>"Eyes2"===e.Asset.Group.Name)))||void 0===r?void 0:r.Property)||void 0===n?void 0:n.Expression)&&f.includes(null!==(l=null===(a=null===(i=e.Appearance.find((e=>"Emoticon"===e.Asset.Group.Name)))||void 0===i?void 0:i.Property)||void 0===a?void 0:a.Expression)&&void 0!==l?l:"")},C=e=>{var t,o;const r=null!==(o=null===(t=InventoryGet(e,"ItemDevices"))||void 0===t?void 0:t.Asset.Name)&&void 0!==o?o:"";return n.BED_PERFECT.includes(r)?10:n.BED_NORMAL.includes(r)?5:n.BED_BAD.includes(r)?2:1};let S=!1,w=1;function T(e=!0){!d().enabled||0===d().sleepHours||S===A(Player)&&w===C(Player)||(e&&x(),S=A(Player),w=C(Player))}function k(e){return 60*e*60*1e3}function N(e,t,o,r,n=!1,i=Player){const a=(r||Date.now())-o,l=Math.max(0,Math.min(e-a/k(t),1));if(n&&e>b&&l<b){const r=d(i).levels.lastOnline-o,n=Math.max(0,Math.min(e-r/k(t),1));return Math.min(b,n)}return l}function I(e,t){var o;const n=null===(o=null==e?void 0:e.MPA)||void 0===o?void 0:o[r.ModuleTitle.VirtualPet];if(!n)return-1;if("sleep"===t){const t=A(e)||1!==C(e)?n.levels.sleep+(Date.now()-n.levels.lastUpdated)/(60*n.sleepHours*60*1e3)*C(e)*(A(e)?5:1):N(n.levels.sleep,n.sleepHours,n.levels.lastUpdated);return Math.max(0,Math.min(1,t))}return N(n.levels[t],n[`${t}Hours`],n.levels.lastUpdated)}function x(e=!0,t=!0,o=!1){var n;if(!d().enabled)return d().levels.lastUpdated=Date.now(),void(d().levels.lastOnline=Date.now());const i=null!==(n=d().levels.lastUpdated)&&void 0!==n?n:Date.now(),l=d().offlineDrain?void 0:d().levels.lastOnline,u=d().foodHours;0!==u&&(d().levels.food=N(d().levels.food,u,i,l,o));const c=d().waterHours;0!==c&&(d().levels.water=N(d().levels.water,c,i,l,o));const m=d().sleepHours;if(0!==m)if(o&&!l||S||1!==w){const e=o?Date.now()-d().levels.lastOnline-(d().levels.lastOnline-i):Date.now()-i,t=d().levels.sleep+e/k(m)*w*(S?5:1);d().levels.sleep=Math.max(0,Math.min(1,t))}else d().levels.sleep=N(d().levels.sleep,m,i,l,o);const h=d().affectionHours;0!==h&&(d().levels.affection=N(d().levels.affection,h,i,l,o)),d().levels.lastUpdated=Date.now(),d().levels.lastOnline=Date.now(),e&&(0,a.SaveStorage)(!1),t&&(0,s.RecordSync)(r.ModuleTitle.VirtualPet,"levels")}function O(e,t,o=!0,n=!0,i){t<-1&&t>1||(x(!1,!1,!1),d().levels[e]+=t*(o&&t>0?function(e,t){let o=1;if((null==t?void 0:t.IsOwner())?o+=.5:(null==t?void 0:t.IsLoverOfPlayer())?o+=.35:(null==t?void 0:t.IsFamilyOfPlayer())&&(o+=.25),"food"!==e&&"water"!==e||Player.CanTalk()||(o-=.5),o+=.03*Player.Appearance.filter((e=>e.Asset.DynamicGroupName.startsWith("Item"))).length,"AllFours"===Player.PoseMapping.BodyFull&&(o+=.5),"affection"===e&&Player.MPA[r.ModuleTitle.VirtualPetConditions].enabled&&Player.MPA[r.ModuleTitle.VirtualPetConditions].foodNOW){const e=[];0!==d().foodHours&&e.push(I(Player,"food")),0!==d().waterHours&&e.push(I(Player,"water")),0!==e.length&&(o*=e.reduce(((e,t)=>e+t),0)/e.length/.75)}return Math.max(0,o)}(e,i):1),function(e){const t=d().levels[e];d().levels[e]=Math.min(Math.max(t,0),1)}(e),n&&(0,a.SaveStorage)(!1),(0,s.RecordSync)(r.ModuleTitle.VirtualPet,"levels"))}class E extends r.Module{get Title(){return r.ModuleTitle.VirtualPet}get Activities(){return[{Name:"BowlEat",Targets:[{group:"ItemMouth",label:"Eat From Bowl",actionSelf:"SourceCharacter eats from PronounPossessive bowl."}],Image:"Assets/Female3DCG/ItemDevices/Preview/PetBowl.png",Prerequisite:["UseMouth"],CustomPrerequisite:{Name:"HasBowl",Prerequisite:(e,t,o)=>{var r,n;return"PetBowl"===(null===(n=null===(r=InventoryGet(e,"ItemDevices"))||void 0===r?void 0:r.Asset)||void 0===n?void 0:n.Name)}},OnTrigger:()=>{d().enabled&&0!==d().foodHours&&O("food",m,!0)}},{Name:"BowlDrink",Targets:[{group:"ItemMouth",label:"Drink From Bowl",actionSelf:"SourceCharacter drinks from PronounPossessive bowl."}],Image:"Assets/Female3DCG/ItemDevices/Preview/PetBowl.png",Prerequisite:["UseMouth"],CustomPrerequisite:{Name:"HasBowl"},OnTrigger:()=>{d().enabled&&0!==d().waterHours&&O("water",m,!0)}},{Name:"BowlEat2",Targets:[{group:"ItemMouth",label:"Eat From Bowl",actionSelf:"SourceCharacter puts PronounPossessive head into PronounPossessive bowl in order to eat with the gag, making a mess."}],Image:"Assets/Female3DCG/ItemDevices/Preview/PetBowl.png",Prerequisite:[],CustomPrerequisite:[{Name:"HasBowl"},{Name:"UseTongueNoMouth",Prerequisite:(e,t,o)=>!e.CanTalk()&&!e.IsMouthBlocked()}],OnTrigger:()=>{d().enabled&&0!==d().foodHours&&O("food",m,!0)}},{Name:"BowlDrink2",Targets:[{group:"ItemMouth",label:"Drink From Bowl",actionSelf:"SourceCharacter puts PronounPossessive head into PronounPossessive bowl in order to drink with the gag, making a mess."}],Image:"Assets/Female3DCG/ItemDevices/Preview/PetBowl.png",Prerequisite:[],CustomPrerequisite:[{Name:"HasBowl"},{Name:"UseTongueNoMouth"}],OnTrigger:()=>{d().enabled&&0!==d().waterHours&&O("water",m,!0)}}]}get Settings(){return[{name:"enabled",type:"checkbox",active:e=>!(0,u.IsHardcoreOn)(e),value:!1,label:"Become a virtual pet! Requiring: food, water, sleep, and affection"},{name:"foodHours",type:"number",value:4,active:e=>!!d(e).enabled,label:"How many hours until you are completely out of food; 0 to disable",width:128,min:0,max:c,step:.1},{name:"waterHours",type:"number",value:4,active:e=>!!d(e).enabled,label:"How many hours until you are completely out of water; 0 to disable",width:128,min:0,max:c,step:.1},{name:"sleepHours",type:"number",value:8,active:e=>!!d(e).enabled,label:"How many hours until you are completely out of sleep; 0 to disable",width:128,min:0,max:c,step:.1},{name:"affectionHours",type:"number",value:4,active:e=>!!d(e).enabled,label:"How many hours until you are completely out of affection; 0 to disable",width:128,min:0,max:c,step:.1},{name:"offlineDrain",type:"checkbox",value:!0,active:e=>!!d(e).enabled,label:"Stats drain even when logged out of the club"},{name:"noHands",type:"checkbox",active:e=>!!d(e).enabled&&!(0,u.IsHardcoreOn)(e),value:!0,label:"Allow eating or drinking from items in your OWN hands"},{name:"masochist",type:"checkbox",active:e=>!!d(e).enabled,value:!1,label:"Masochist pet; Abuse raises affection"},{name:"levels",type:"record",value:{food:1,water:1,sleep:1,affection:1,lastUpdated:Date.now(),lastOnline:Date.now()}}]}Load(){super.Load(),T(!1),x(!0,!1,!0),M=setInterval((()=>{Player.MemberNumber&&(Player.MPA[this.Title].levels.lastOnline=Date.now(),(0,a.SaveStorage)(!1))}),1e4),(0,i.HookFunction)(this.Title,"ChatRoomMessage",0,((e,t)=>{var o,r;const n=e[0],i=(0,l.GetAttributeFromChatDictionary)(n,"ActivityName");if(!d().enabled||!d().noHands&&(0,l.GetAttributeFromChatDictionary)(n,"SourceCharacter")===Player.MemberNumber||"Activity"!==n.Type||(0,l.GetAttributeFromChatDictionary)(n,"TargetCharacter")!==Player.MemberNumber||"ItemMouth"!==(0,l.GetAttributeFromChatDictionary)(n,"FocusGroupName")||!i)return t(e);const a=ActivityFemale3DCG.find((e=>e.Name===i));return 0!==d().foodHours&&((null===(o=null==a?void 0:a.Prerequisite)||void 0===o?void 0:o.includes("Needs-EatItem"))||h.some((e=>(null==a?void 0:a.Name)===e)))&&O("food",.33,!0),0!==d().waterHours&&((null===(r=null==a?void 0:a.Prerequisite)||void 0===r?void 0:r.includes("Needs-SipItem"))||v.some((e=>(null==a?void 0:a.Name)===e)))&&O("water",.33,!0),t(e)})),(0,i.HookFunction)(this.Title,"CharacterRefresh",0,((e,t)=>(e[0].MemberNumber===Player.MemberNumber&&T(),t(e)))),(0,i.HookFunction)(this.Title,"ChatRoomMessage",0,((e,t)=>{var o,r;const n=e[0],i=(0,l.GetAttributeFromChatDictionary)(n,"ActivityName");if(!d().enabled||0===d().affectionHours||"Activity"!==n.Type||(0,l.GetAttributeFromChatDictionary)(n,"TargetCharacter")!==Player.MemberNumber||(0,l.GetAttributeFromChatDictionary)(n,"SourceCharacter")===Player.MemberNumber||!i)return t(e);const a=null!==(o=(0,l.GetAttributeFromChatDictionary)(n,"FocusGroupName"))&&void 0!==o?o:"",s=null!==(r=P[a])&&void 0!==r?r:1;return g.includes(i)?O("affection",.05*s):p.includes(i)?O("affection",.03*s):y.includes(i)&&O("affection",-.04*(d().masochist?-1:1)*s),t(e)}))}Unload(){super.Unload(),clearInterval(M)}}},"./src/modules/virtualPetConditions.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ConditionCheck:()=>g,VirtualPetConditionsModule:()=>I});var r=o("./src/util/general.ts"),n=o("./src/util/messaging.ts"),i=o("./src/util/sdk.ts"),a=o("./src/modules/_module.ts"),l=o("./src/modules/profile.ts"),s=o("./src/modules/virtualPet.ts");const u=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[a.ModuleTitle.VirtualPet])&&void 0!==o?o:{}},c=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[a.ModuleTitle.VirtualPetConditions])&&void 0!==o?o:{}};function d(e,t){var o;return!(!c().enabled||!c()[e])&&(!t||u().enabled&&0!==(null===(o=u())||void 0===o?void 0:o[`${t}Hours`]))}const m=[["SelfBondage",!0],["Willpower",!0],["Bondage",!1],["Evasion",!1],["LockPicking",!1]],h={food:-1,water:-1,sleep:-1,affection:-1};let v=[];let f=250;function g(){["food","water","affection","sleep"].forEach((e=>{if(u().enabled&&c().enabled&&0!==u()[`${e}Hours`]){const t=h[e],o=(0,s.GetCharacterCurrentStatValue)(Player,e);v.forEach((r=>{r.stat===e&&-1===t&&r.firstRun&&r.firstRun(),r.stat===e&&-1!==t&&t>o&&"rising"!==r.change&&o<=r.threshhold&&r.threshhold<t&&r.action(),r.stat===e&&-1!==t&&t<o&&"falling"!==r.change&&t<r.threshhold&&r.threshhold<=o&&r.action()})),h[e]=o}else h[e]=-1}))}const p="sleep",y=.25,P=0,b=0,M=1;let A=!1;const C=["SourceCharacter drools out of the corner of PronounPossessive mouth as PronounSubject sleeps.","SourceCharacter mumbles quietly in PronounPossessive slumber.","SourceCharacter rests peacefully."];function S(){var e,t,o;CharacterSetFacialExpression(Player,"Emoticon","Sleep"),CharacterSetFacialExpression(Player,"Eyes","Closed"),CharacterSetFacialExpression(Player,"Fluids","DroolMedium"),Player.CanKneel()&&PoseSetActive(Player,"Kneel",!0),A=!0;const r=null===(o=null===(t=null===(e=null===Player||void 0===Player?void 0:Player.LSCG)||void 0===e?void 0:e.StateModule)||void 0===t?void 0:t.states)||void 0===o?void 0:o.find((e=>"asleep"===e.type));c().passoutLSCG&&r&&console.log("Calling LSCG passout"),(0,n.SendAction)("SourceCharacter passes out from exhaustion.",void 0,[{SourceCharacter:Player.MemberNumber}])}function w(){return c().enabled&&0!==u().sleepHours&&c().passout&&!c().passoutLSCG&&A}let T;function k(){u().enabled&&0!==u().affectionHours&&c().enabled&&m.forEach((([e,t])=>{const o=(0,s.GetCharacterCurrentStatValue)(Player,"affection"),r=Math.round((10*o/1-5)*(t?1:-1)*100)/100,n=SkillGetModifier(Player,e),i=0!==SkillGetModifierDuration(Player,e)?SkillGetModifierDuration(Player,e):15e3;r>0&&c().affectionSkillBuffs&&SkillSetModifier(Player,e,n+r,i,!1),r<0&&c().affectionSkillDebuffs&&SkillSetModifier(Player,e,n+r,i,!1)}))}const N=/Orgasm[0-9]/;class I extends a.Module{get Title(){return a.ModuleTitle.VirtualPetConditions}get Settings(){return[{name:"enabled",type:"checkbox",active:e=>!!u(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!1,label:"Recive conditions based on current level of your virtual pet stats"},{name:"foodNOW",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Food and water affects affection gain"},{name:"tint",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Vision darkens as you get sleepier"},{name:"passout",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Passout when exhausted"},{name:"affectionSkillBuffs",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Affection will buff skills based on its level"},{name:"affectionSkillDebuffs",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Affection will debuff skills based on its level"},{name:"hearingLoss",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Hearing becomes harder the hungrier you are"},{name:"slowLeave",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Takes longer to leave the room when hungry"},{name:"orgasmWater",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Orgasms make you lose some hydration"},{name:"orgasmSleep",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Orgasms make you lose some energy"}]}Load(){(0,i.HookFunction)(this.Title,"GameRun",0,((e,t)=>(f>=250&&g(),f++,t(e)))),(0,i.HookFunction)(this.Title,"Player.GetTints",0,((e,t)=>{if(!d("tint",p))return t(e);const o=((0,s.GetCharacterCurrentStatValue)(Player,p)-y)/(P-y)*(M-b)+b;return b<=o&&o<=M?t(e).concat({r:0,g:0,b:0,a:Math.sqrt(Math.round(1e3*o)/1e3)}):t(e)})),v=[{stat:"sleep",threshhold:0,change:"falling",action:function(){S()},firstRun:function(){0===(0,s.GetCharacterCurrentStatValue)(Player,"sleep")&&S()}},{stat:"sleep",threshhold:.1,change:"rising",action:function(){A&&(CharacterSetFacialExpression(Player,"Emoticon",null),CharacterSetFacialExpression(Player,"Eyes","Dazed"),CharacterSetFacialExpression(Player,"Eyebrows","Lowered"),A=!1,(0,n.SendAction)("SourceCharacter wakes up from PronounPossessive nap.",void 0,[{SourceCharacter:Player.MemberNumber}]))}}],(0,i.HookFunction)(this.Title,"Player.CanTalk",5,((e,t)=>!w()&&t(e))),(0,i.HookFunction)(this.Title,"Player.CanWalk",5,((e,t)=>!w()&&t(e))),(0,i.HookFunction)(this.Title,"Player.CanChangeOwnClothes",5,((e,t)=>!w()&&t(e))),(0,i.HookFunction)(this.Title,"Player.CanInteract",5,((e,t)=>!w()&&t(e))),(0,i.HookFunction)(this.Title,"ServerSend",5,((e,t)=>{if(!w())return t(e);const[o,i]=e;return"ChatRoomChat"!=o||"Chat"!=(null==i?void 0:i.Type)||(null==i?void 0:i.Content.startsWith("("))?t(e):((0,n.SendAction)((0,r.RandomElement)(C),void 0,[{SourceCharacter:Player.MemberNumber}]),null)})),(0,i.HookFunction)(this.Title,"Player.GetDeafLevel",5,((e,t)=>w()?4:t(e))),(0,i.HookFunction)(this.Title,"Player.GetBlindLevel",5,((e,t)=>{var o,r;return w()?"SensDepExtreme"===(null===(o=Player.GameplaySettings)||void 0===o?void 0:o.SensDepChatLog)||"SensDepTotal"===(null===(r=Player.GameplaySettings)||void 0===r?void 0:r.SensDepChatLog)?3:2:t(e)})),(0,i.HookFunction)(this.Title,"Player.GetDeafLevel",5,((e,t)=>{const o=d("hearingLoss","food")?Math.max(0,Math.floor(-10*((0,s.GetCharacterCurrentStatValue)(Player,"food")-.3001))):0;return Math.max(o,t(e))})),SkillModifierMax<10&&(SkillModifierMax=10),k(),T=setInterval(k,16e3),(0,i.HookFunction)(this.Title,"ChatRoomAttemptLeave",0,((e,t)=>{if(!d("slowLeave","food"))return t(e);const o=ChatRoomSlowtimer,r=(0,s.GetCharacterCurrentStatValue)(Player,"food");if(t(e),0===o&&ChatRoomSlowtimer>0&&r<=.3){ChatRoomSlowtimer=CurrentTime+ChatRoomSlowLeaveMinTime+1e3*(-25/.3*r+25)}})),(0,i.HookFunction)(this.Title,"Player.IsSlow",0,((e,t)=>!!(d("slowLeave","food")&&(0,s.GetCharacterCurrentStatValue)(Player,"food")<=.3)||t(e))),(0,i.HookFunction)(this.Title,"ChatRoomMessage",10,((e,t)=>{const o=e[0];return"Activity"===o.Type&&N.test(o.Content)&&(0,n.GetAttributeFromChatDictionary)(o,"SourceCharacter")===Player.MemberNumber?(c().orgasmWater&&(0,s.ModifyStat)("water",-.05,!1,!0),c().orgasmSleep&&(0,s.ModifyStat)("sleep",-.05,!1,!0),t(e)):t(e)}))}Unload(){super.Unload(),v=[],clearInterval(T)}}},"./src/modules/virtualPetHUD.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{VirtualPetHUDModule:()=>d});var r=o("./src/util/sdk.ts"),n=o("./src/util/authority.ts"),i=o("./src/modules/_module.ts"),a=o("./src/modules/virtualPet.ts");const l=()=>Player.MPA[i.ModuleTitle.VirtualPet],s=()=>Player.MPA[i.ModuleTitle.VirtualPetHUD],u={food:"#f2bb18",water:"#2a9fc3",sleep:"#8d2aee",affection:"#ff78f2"};function c(e,t,o,r){const n=u[r.stat];MainCanvas.beginPath(),MainCanvas.arc(e,t,o,0,2*Math.PI,!0),MainCanvas.lineWidth=o/8,MainCanvas.strokeStyle=n,MainCanvas.stroke(),MainCanvas.beginPath(),MainCanvas.arc(e,t,o,-Math.PI/2,2*Math.PI*-r.level-Math.PI/2,!0),MainCanvas.lineTo(e,t),MainCanvas.fillStyle=n,MainCanvas.fill(),s().exactStats&&(MainCanvas.fillStyle="#000000",MainCanvas.font=CommonGetFont(1.25*o),MainCanvas.fillText(Math.round(100*r.level).toString(),e,t+.125*o),MainCanvas.font=CommonGetFont(36))}class d extends i.Module{get Title(){return i.ModuleTitle.VirtualPetHUD}get Settings(){return[{name:"self",type:"checkbox",active:()=>!!l().enabled,value:!0,label:"Display your own virtual pet stats on the HUD"},{name:"exactStats",type:"checkbox",active:()=>!!l().enabled||"Off"!==s().others,value:!1,label:"Display the exact number percentage on the HUD"},{name:"position",type:"option",active:()=>!!l().enabled||"Off"!==s().others,options:["Left","Center","Right","Split"],value:"Left",label:"Where to display the HUD",loop:!0},{name:"others",type:"option",active:()=>!0,options:["Off","Public","Friends","Whitelist","Lovers","Owners","D/s Family","Clubowner"],value:"Friends",label:"Display the virtual pet stats of others on the HUD",loop:!1}]}Load(){(0,r.HookFunction)(this.Title,"DrawArousalMeter",1,((e,t)=>{var o;const[r,u,d,m]=e;if(!ActivityAllowed()||r.IsPlayer()&&(!s().self||!l().enabled)||!r.IsPlayer()&&"Off"===s().others||!r.IsPlayer()&&!(0,n.IsMemberNumberInAuthGroup)(r.MemberNumber,s().others))return t(e);const h=null===(o=null==r?void 0:r.MPA)||void 0===o?void 0:o[i.ModuleTitle.VirtualPet];if(!(null==h?void 0:h.enabled))return t(e);const v=[];return["food","water","sleep","affection"].forEach((e=>{0!==h[`${e}Hours`]&&v.push({stat:e,level:(0,a.GetCharacterCurrentStatValue)(r,e)})})),0!==v.length&&function(e,t,o,r){const n=s().position;if("Left"===n||"Right"===n)r.reverse(),r.forEach(((r,i)=>{c(e+("Left"===n?80:420)*o,t+(950-36*i)*o,16*o,r)}));else if("Center"===n){const n=r.length;r.forEach(((r,i)=>{c(e+(250-18*(n-1)+36*i)*o,t+950*o,16*o,r)}))}else if("Split"===n){const n=[];switch(r.length){case 1:n.push([r[0]]),n.push([]);break;case 2:n.push([r[0]]),n.push([r[1]]);break;case 3:n.push([r[1],r[0]]),n.push([r[2]]);break;case 4:n.push([r[1],r[0]]),n.push([r[3],r[2]])}n.forEach(((r,n)=>{r.forEach(((r,i)=>{c(e+(0==n?80:420)*o,t+(950-36*i)*o,16*o,r)}))}))}}(u,d,m,v),t(e)}))}Unload(){super.Unload()}}},"./src/util/activities.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{CreateActivities:()=>c,CreateActivity:()=>u,RemoveActivities:()=>m,RemoveActivity:()=>d,activityImages:()=>i,activityPrerequisites:()=>l,activityReceived:()=>s,activityTriggers:()=>a});var r=o("./src/localization/localization.ts"),n=o("./src/util/constants.ts");const i={},a={},l={},s={};function u(e){var t;const o={Name:`${n.ACTIVITY_NAME_PREFIX}${e.Name}`,ActivityID:Math.max(...ActivityFemale3DCG.map((e=>{var t;return null!==(t=e.ActivityID)&&void 0!==t?t:-1})))+1,MaxProgress:null!==(t=e.MaxProgress)&&void 0!==t?t:50,Prerequisite:e.Prerequisite,Target:[]};if(e.CustomPrerequisite){let t=e.CustomPrerequisite;Array.isArray(t)||(t=[t]),t.forEach((e=>{o.Prerequisite.push(e.Name),!(e.Name in l)&&e.Prerequisite&&(l[e.Name]=e.Prerequisite)}))}e.Targets.forEach((e=>{var t;e.actionSelf&&(o.TargetSelf||(o.TargetSelf=[]),null===(t=o.TargetSelf)||void 0===t||t.push(e.group),null===ActivityDictionary||void 0===ActivityDictionary||ActivityDictionary.push([`Label-ChatSelf-${e.group}-${o.Name}`,(0,r.LocalizedText)(e.label)]),null===ActivityDictionary||void 0===ActivityDictionary||ActivityDictionary.push([`ChatSelf-${e.group}-${o.Name}`,(0,r.LocalizedText)(e.actionSelf)])),e.actionOthers&&(o.Target.push(e.group),null===ActivityDictionary||void 0===ActivityDictionary||ActivityDictionary.push([`Label-ChatOther-${e.group}-${o.Name}`,(0,r.LocalizedText)(e.label)]),null===ActivityDictionary||void 0===ActivityDictionary||ActivityDictionary.push([`ChatOther-${e.group}-${o.Name}`,(0,r.LocalizedText)(e.actionOthers)]))})),i[o.Name]=e.Image,e.OnTrigger&&(a[o.Name]=e.OnTrigger),e.OnReceive&&(s[o.Name]=e.OnReceive),ActivityFemale3DCG.push(o),ActivityFemale3DCGOrdering.push(o.Name)}function c(e){e.forEach((e=>{u(e)}))}function d(e){const t=`${n.ACTIVITY_NAME_PREFIX}${e.Name}`;e.Targets.forEach((e=>{var o,r;e.actionSelf&&(ActivityDictionary=null!==(o=null===ActivityDictionary||void 0===ActivityDictionary?void 0:ActivityDictionary.filter((o=>!(o[0]===`Label-ChatSelf-${e.group}-${t}`||o[0]===`ChatSelf-${e.group}-${t}`))))&&void 0!==o?o:null),e.actionOthers&&(ActivityDictionary=null!==(r=null===ActivityDictionary||void 0===ActivityDictionary?void 0:ActivityDictionary.filter((o=>!(o[0]===`Label-ChatOther-${e.group}-${t}`||o[0]===`ChatOther-${e.group}-${t}`))))&&void 0!==r?r:null)})),delete i[t],delete a[t],ActivityFemale3DCG=ActivityFemale3DCG.filter((e=>e.Name!==t)),ActivityFemale3DCGOrdering=ActivityFemale3DCGOrdering.filter((e=>e!==t))}function m(e){e.forEach((e=>{d(e)}))}},"./src/util/authority.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{AUTHORITY_GROUPS:()=>l,AUTHORITY_GROUP_OPTIONS:()=>i,AuthorityIsComparisonToCharacter:()=>c,HighestLevelAuthorityGroup:()=>u,IsMemberNumberInAuthGroup:()=>s});var r=o("./src/modules/_module.ts"),n=o("./src/util/messaging.ts");const i=["Public","Friends","Whitelist","Lovers","Owners","Clubowner","Self"],a=["None","Public","Friends","Whitelist","Lovers","Owners","D/s Family","Clubowner","Self"],l={Self:e=>{var t;return[null!==(t=e.MemberNumber)&&void 0!==t?t:-1]},Clubowner:e=>{var t,o;return(null===(t=null==e?void 0:e.Ownership)||void 0===t?void 0:t.MemberNumber)?[null===(o=null==e?void 0:e.Ownership)||void 0===o?void 0:o.MemberNumber]:[]},Owners:function(e){var t,o,n;const i=(null!==(n=null===(o=null===(t=e.MPA)||void 0===t?void 0:t[r.ModuleTitle.Authority])||void 0===o?void 0:o.owners)&&void 0!==n?n:"").split(",").map((e=>parseInt(e))).filter((e=>!isNaN(e)));return 0===i.length?[]:i},Lovers:e=>{var t,o;return null!==(o=null===(t=e.Lovership)||void 0===t?void 0:t.filter((e=>e.MemberNumber)).map((e=>e.MemberNumber)))&&void 0!==o?o:[]},WhiteList:e=>{var t;return null!==(t=e.WhiteList)&&void 0!==t?t:[]},FriendList:()=>{var e;return null!==(e=Player.FriendList)&&void 0!==e?e:[]}};function s(e,t,o=!1,r=Player){var i,a,s,u,c;if("None"===t)return!1;if(e===l.Self(r)[0])return"Self"===t||o;if(r.BlackList.includes(e)||null!==(a=null===(i=null==r?void 0:r.GhostList)||void 0===i?void 0:i.includes(e))&&void 0!==a&&a)return!1;if("Public"===t)return!0;if("D/s Family"===t&&r.MemberNumber===Player.MemberNumber)return null!==(u=null===(s=(0,n.FindCharacterInRoom)(e))||void 0===s?void 0:s.IsFamilyOfPlayer())&&void 0!==u&&u;let d=new Set;switch(t){case"Friends":if(r.MemberNumber!==Player.MemberNumber&&Player.MemberNumber===e&&l.FriendList().includes(null!==(c=r.MemberNumber)&&void 0!==c?c:-1))return!0;r.MemberNumber===Player.MemberNumber&&(d=new Set([...d,...l.FriendList()]));case"Whitelist":d=new Set([...d,...l.WhiteList(r)]);case"Lovers":d=new Set([...d,...l.Lovers(r)]);case"Owners":d=new Set([...d,...l.Owners(r)]);case"Clubowner":d=new Set([...d,...l.Clubowner(r)])}return d.has(e)}function u(e,t=Player){var o,r,n,i,a,s;return t.MemberNumber===e?"Self":(null===(o=null==t?void 0:t.Ownership)||void 0===o?void 0:o.MemberNumber)===e?"Clubowner":l.Owners(t).includes(e)?"Owners":l.Lovers(t).includes(e)?"Lovers":l.WhiteList(t).includes(e)?"Whitelist":t.MemberNumber===Player.MemberNumber&&(null===(r=Player.FriendList)||void 0===r?void 0:r.includes(e))||t.MemberNumber!==Player.MemberNumber&&e===Player.MemberNumber&&(null===(n=Player.FriendList)||void 0===n?void 0:n.includes(null!==(i=t.MemberNumber)&&void 0!==i?i:-1))?"Friends":t.BlackList.includes(e)||null!==(s=null===(a=null==t?void 0:t.GhostList)||void 0===a?void 0:a.includes(e))&&void 0!==s&&s?"None":"Public"}function c(e,t=">=",o,r=Player){const n=u(o,r),i=a.indexOf(e),l=a.indexOf(n);if(-1===i||-1===l)return!1;switch(t){case">":return l>i;case"<":return l<i;case">=":return l>=i;case"<=":return l<=i;case"==":return l==i;case"!=":return l!=i;default:throw new Error("Invalid comparison operator")}}},"./src/util/constants.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ACTIVITY_NAME_PREFIX:()=>s,ALL_BEDS:()=>h,BED_BAD:()=>m,BED_NORMAL:()=>d,BED_PERFECT:()=>c,BELL_SOUND:()=>u,ICONS:()=>l,MPA_NAME:()=>n,MPA_REPO:()=>a,MPA_VERSION:()=>i});var r=o("./package.json");const n=r.name.toLocaleUpperCase(),i=r.version,a=r.repository.url,l=Object.freeze({PAW:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFYAAABWCAYAAABVVmH3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsEAAA7BAbiRa+0AAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAG7ElEQVR4Xu2cV8g0NRhGfxV7ATuKYkNF7IKi3lgvxIaKIiJ2vVCxFxQb2C4Ve8F2oaJgA3tFsHcFG4oNsWDvvT3nm42E4Z3ZZJLZb+cnBw477CYzSXZ2JnmT2TmFQqFQKBQKhUKhUCgUxrGaPF++Lf+R38v75QFyMZkL9rW/vE9+JzkWx+TYlGGu4mj5u/y3wU8kDZwK+2Bf1jGQMhwl5wpoVKuSlpfKrpDX2qfl4Bt3I8lP0apck9fKWMhj7atJyrShHCwPSati4zxdhnKatPYxzgflIFlPWhUKdUs5DtJYeUOljL0w7+i1D/YYvXblCtlWPj4jTQq7j14HxSPSOktipNvUBJ9ZeWJ8WA6K+eWH0qpMjG9I66zlPT6z8sT4gaSsg2E5+YO0KhPrVrIO71lpY6WMy8rs9HWNXUQuVG0ms/fo1cd6rwsLSsqanb4aFjgjcrC9nK/anIFt3suBO3Oz01fD/ix/qzaTWUOuXm3OwDbv5YAy/lJt5qWvhiX48XW1mQxlXKfanIHtXOX+RlLW7PTVsH9K7ri5WHX0CjkjVJTxr2ozL6ENSzou9DG8NHrNgX/nznkXf3H0GgptENRmbYlWkCdJxtTEM9+Rb0rinGfJLWQbj45ec+B/qbFfcBuPjV6b2FxSV+pM3WmDt+QD8kRJG0XBqOZL6e6aTb4giYHOI+ssKr+QVr5Yz5UOtq00sVI2ymhB/Z+XVj5f2mg/GUSXoSKF2FrWuUxa6WMlpus4RlppYrVivww8npNW+jbHBumXkb9KK3OI50gf7uCx8VjLHaVjJ2mliZEy+T0NOFtaaUOkzWi7RnKcDXdIf9R1o7TShcp0ykrSwXbbNE+IlMlBWW+XVroYabtGnpRWpli5KSwsgYb4UVrpQqRMdZ6SVtoQKYv7oigjZbXSxfqEbOQnaWXq4r3ScZC00oRI3joHSyttiAdKB2W00nSRtmvEypDiBdIRM9nnfE9a3St+vnxm5WnzEumgbFaaFBthGGplSHEH6Yid9NtGOlaWK1abM2wrrTxN+pOUlMlKk+JXshE69VamFN+X7noLZ8i/pZXW91AJu0hGcdx5+blxLXPzYYdJK68vPYAzpYOyMJS10qbYOiA6VVqZUj1e+mwm75LW3Z1+5HYSaNT650gDsw8grdX3ZN8cw6VznCDraXNI2/1PfcTEXPur1WZWPpZrSirrQ/hvU8lPnPAdx35Wws6SrlvT1AlRKX7SNCow/GQdA4HrTyWjQq7DPlybGZZyWckNx36t2rRhTGx9I6ly9oWylyTqZO3Hl/Vf1tRNE7tKaz+p0mZjYXhmZU71GhlCbNeMay+jsRBib56hBq07I+LFT9LaQYqtP5MRRIysvOPkBtU2Ve6gDFb+FGmr0PDrzAU/xxjfl0jQ4rKJi6SVL0aWGzWxhAyJ2MVIG9VvjmM5WVo76ypDyeVlHUJ3d0orTxevllYYk2OnDK0taaNOXCetHXaRDjRnjc8qkru3lT5FAtFLSh+OTRms9F2kbZK4RVo7jvVl6UP3iG6YlTaHr8u1pc8r0kobK22ShculdYAY/VmAPSX9VitdTpkl8APw50krXYy0RVaOkF0bg5GSu74eK600ffmH3FcCc1RdI3jU/UjZC+vKe6R14DbdcskLpfX5JHRDTpaXWp+3SZ17W0vrw1CSWCZng1UQ50fSTavcKq00k9TNczFcHrcakroxO+tH54KxuiUxMP4nCMJUOON++qks2yGixfrYmyQFJEofM/TsE6ZhuMYTU9hHsg6MshP3pTtGfOEZSbTqXTmV0NCE/KwzYjZlrUTqSTVrcEZ0mUqelHfLQTYuIT+rQtOkP1UzCE6RVkWmUdcVm3roloTEUqdFAubRa7Bmg1zz9JP0BjnV5HroYtIyuVmPKyQRHKAN5PDR69CgHQ6pNqcPwnJ9rEuYlKx7zXai5TxjN5ZLVZuDZC2Z66GRrA3L9O+QoS3WrzbTydmw2b7tWcR/7CmJnA279Oh1yLQuHo4hZ8MONqjhka0OORs21wNzs0nrisEYcjYs3ZWhM5V1YNrG6h/mkr99yr3gwpe5sF4esc/B09IqdA6Zqzqu9l5OmTqaWphLsgqdqlvNx7/A5Xoor+4mcqrJuVzI6a8NIH5qpUnxYjn1MKzt8uBFkyytr3OltNJ2kYXOC8hBwOwtM7VWRWLkacEmrpJWnhh5+ntqb1hNsPydxWlWhcb5rfSfx2qC9bRdn1K8WdYX6Q0KVjuHLmRmdfb1MubPHjaQt8mQJ3GQnstuslcmOQwlrMhzW6wy5AFh/kKKin4uWYnIlA6LJD6TXeBfOFh8wTF4SIX909jsn//ookEfl0HPCxQKhUKhUCgUCoVCYbqZM+c/cFLVbgteTEYAAAAASUVORK5CYII=",DISCORD:"data:image/png;base64,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"}),s="MPA_",u=new Audio("Audio\\BellMedium.mp3"),c=["PetBed","Crib"],d=["LowCage","Kennel","Bed","MedicalBed","Cushion"],m=["FuturisticCrate","DollBox"],h=c.concat(d,m)},"./src/util/general.ts":(e,t,o)=>{"use strict";function r(e){return 0==e.length?null:e[Math.floor(Math.random()*e.length)]}function n(e,t){let o=structuredClone(e);return t.forEach((e=>{o=o.filter((t=>e!==t))})),o}function i(e){for(let t=e.length-1;t>0;t--){const o=Math.floor(Math.random()*(t+1));[e[t],e[o]]=[e[o],e[t]]}return e}o.r(t),o.d(t,{FilterArrayFromArray:()=>n,RandomElement:()=>r,ShuffleArray:()=>i})},"./src/util/messaging.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{AddDataSyncListener:()=>v,AddDataSyncListeners:()=>f,ArrayToReadableString:()=>P,ContentIsMPAMesage:()=>n,FindCharacterInRoom:()=>d,GetAttributeFromChatDictionary:()=>y,GetEntryFromChatDictionary:()=>p,GetMPAMessageFromChat:()=>i,MPANotifyPlayer:()=>c,NotifyPlayer:()=>u,RemoveDataSyncListeners:()=>g,RemoveOOCContentFromMessage:()=>m,SendAction:()=>l,SendEmote:()=>s,SendMPAMessage:()=>a,hookedMessages:()=>h});var r=o("./src/localization/localization.ts");function n(e){var t;return"Hidden"===e.Type&&"MPA"===e.Content&&1===(null===(t=null==e?void 0:e.Dictionary)||void 0===t?void 0:t.length)}function i(e){return n(e)?e.Dictionary[0]:null}function a(e,t){ServerSend("ChatRoomChat",{Type:"Hidden",Content:"MPA",Dictionary:[e],Target:t})}function l(e,t=void 0,o=[]){ServerSend("ChatRoomChat",{Content:"MayaScript",Type:"Activity",Dictionary:[{Tag:"MISSING ACTIVITY DESCRIPTION FOR KEYWORD MayaScript",Text:(0,r.LocalizedText)(e)},...o],Target:null==t?void 0:t.MemberNumber})}function s(e,t=void 0){ServerSend("ChatRoomChat",{Content:`${e}`,Type:"Emote",Target:null==t?void 0:t.MemberNumber})}function u(e,t){var o,r;const n="Dark"===(null===(o=Player.ChatSettings)||void 0===o?void 0:o.ColorTheme)||"Dark2"===(null===(r=Player.ChatSettings)||void 0===r?void 0:r.ColorTheme);ChatRoomSendLocal(`<p style='background-color:#00c2ff;color:${n?"white":"black"};margin-bottom:0.25em;margin-top:0'>${e}</p>`,t)}function c(e,t){u(`${(0,r.LocalizedText)("MPA")}: ${e}`,t)}function d(e,{MemberNumber:t=!0,NickName:o=!0,Name:r=!0}={}){var n;"string"!=typeof e&&(e=e.toString()),e=e.toLocaleLowerCase();for(const i of ChatRoomCharacter)if(t&&(null==i?void 0:i.MemberNumber)===Number(e)||o&&(null===(n=null==i?void 0:i.Nickname)||void 0===n?void 0:n.toLocaleLowerCase())===e||r&&i.Name.toLocaleLowerCase()===e)return i;return null}function m(e){return SpeechGetOOCRanges(e).reverse().forEach((t=>{e=e.substring(0,t.start)+e.substring(t.start+t.length)})),e}const h=[];function v(e){h.push({module:e.module,message:e.message,action:e.action})}function f(e){e.forEach((e=>{h.push({module:e.module,message:e.message,action:e.action})}))}function g(e){for(let t=h.length-1;0<=t;t--)h[t].module===e&&h.splice(t,1)}function p(e,t){if(e.Dictionary)try{return e.Dictionary.filter((e=>!!e[t]))[0]}catch(e){}}function y(e,t){var o;return null===(o=p(e,t))||void 0===o?void 0:o[t]}function P(e){const t=e.length;return 0===t?"":1===t?e[0]:2===t?`${e[0]} and ${e[1]}`:`${e.slice(0,-1).join(", ")}, and ${e[t-1]}`}},"./src/util/petHearAndSpeak.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{AppendPetSpeech:()=>n,ApplyPetHearing:()=>i,DisruptivePetSpeech:()=>c,NonDisruptivePetSpeech:()=>u});var r=o("./src/util/general.ts");function n(e,t){const o=(0,r.RandomElement)(t);return null===o?e:/[.!?]$/.test(e)?`${e} ${o.charAt(0).toLocaleUpperCase()+o.slice(1)}.`:/[a-zA-Z]$/.test(e)?`${e}, ${o}.`:`${e} ${o}.`}function i([e,t,o],r,n){n.push((Player.Nickname||Player.Name).toLocaleLowerCase()),"SheHer"===Player.GetPronouns()?(n.push("girl"),n.push("she"),n.push("her")):(n.push("boy"),n.push("he"),n.push("him"));const i=e.toLocaleLowerCase();let a=[];n.forEach((e=>{const t=new RegExp(`\\b${e}\\b`,"g");[...i.matchAll(t)].forEach((t=>{a.push({start:t.index,len:e.length})}))}));const l=new Map;for(const e of a){const t=`${e.start}-${e.len}`;l.has(t)||l.set(t,e)}if(a=Array.from(l.values()),0===a.length)return r([e,t,o]);a.sort(((e,t)=>e.start-t.start));SpeechGetOOCRanges(e).forEach((e=>{for(let t=a.length-1;t>=0;t--){const o=a[t];(e.start<o.start&&o.start<e.start+e.length||e.start<o.start+o.len&&o.start+o.len<e.start+e.length)&&a.splice(t,1)}}));let s=0,u="";return a.forEach((n=>{u+=r([e.substring(s,n.start),t,o]),s=n.start+n.len,u+=e.substring(n.start,n.start+n.len)})),u+=r([e.substring(s),t,o]),u}const a=.5,l=Object.freeze({Low:.01,Medium:.025,High:.05,Max:.125}),s=Object.freeze({Low:.05,Medium:.1,High:.2,Max:.25});function u(e,t,o){var i;if(0===t.length||"Off"===o)return e;let u=[];function c(){var e;return 0===u.length&&(u=t.concat(t),u=(0,r.ShuffleArray)(u)),null!==(e=u.pop())&&void 0!==e?e:""}let d=0,m=[];const h=SpeechGetOOCRanges(e);for(const t of h)""!==e.substring(d,t.start)&&m.push({text:e.substring(d,t.start),ooc:!1}),m.push({text:e.substring(t.start,t.start+t.length),ooc:!0}),d=t.start+t.length;const v=e.substring(d);""!==v&&m.push({text:v,ooc:!1}),m=m.map(((e,t)=>{const o=/\s+$/.exec(e.text);return e.text=e.text.replace(/\s+$/,""),o&&m[t+1]&&(m[t+1].text=o[0]+m[t+1].text),e}));const f=l[o],g=s[o],p="High"===o||"Max"===o;let y=!1,P="";for(const e of m){if(e.ooc){P+=e.text;continue}const t=e.text.match(/(\s*\S+)/g)||[];let o=null;t.forEach((e=>{if(Math.random()<f){y=!0;const t=c(),r=null===o;r||/[.!?]$/.test(null!=o?o:"")?P+=`${r?"":" "}${t.charAt(0).toLocaleUpperCase()}${t.slice(1)}`+(/[.!?]$/.test(e)||r?"."+(r?" ":""):", "):P+=`${Math.random()<a&&!(null!=o?o:"").endsWith(",")?",":""} ${t},`}P+=e,o=e})),(null===(i=m.slice().reverse().find((e=>!e.ooc)))||void 0===i?void 0:i.text)===e.text&&(p&&!y||Math.random()<g)&&(P=n(P,[c()]))}return P}function c(e,t,o){if(0===t.length)return e;o=o>1?1:o<0?0:o;let n=[];let i=0;const a=[],l=SpeechGetOOCRanges(e);for(const t of l)""!==e.substring(i,t.start)&&a.push({text:e.substring(i,t.start),ooc:!1}),a.push({text:e.substring(t.start,t.start+t.length),ooc:!0}),i=t.start+t.length;const s=e.substring(i);""!==s&&a.push({text:s,ooc:!1});let u="";for(const e of a)e.ooc?u+=e.text:u+=e.text.replace(/\b\w+\b/g,(e=>{if(Math.random()>o)return e;const i=(0===n.length&&(n=t.concat(t),n=(0,r.ShuffleArray)(n)),null!==(a=n.pop())&&void 0!==a?a:"");var a;return/^[A-Z]+$/.test(e)&&e.length>1?i.toLocaleUpperCase():/^[A-Z].*$/.test(e)?i.substring(0,1).toLocaleUpperCase()+i.substring(1):i}));return u}},"./src/util/registerModules.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{RegisterModules:()=>y,modules:()=>g,settings:()=>p});var r=o("./src/util/storage.ts"),n=o("./src/modules/dataSync.ts"),i=o("./src/modules/settings.ts"),a=o("./src/modules/activities.ts"),l=o("./src/modules/clicker.ts"),s=o("./src/modules/virtualPet.ts"),u=o("./src/modules/virtualPetHUD.ts"),c=o("./src/modules/virtualPetConditions.ts"),d=o("./src/modules/profile.ts"),m=o("./src/modules/settingsOthers.ts"),h=o("./src/modules/authority.ts"),v=o("./src/modules/private.ts");let f=!1;const g=[new n.DataSyncModule,new i.SettingsModule,new a.ActivitiesModule,new l.ClickerModule,new s.VirtualPetModule,new u.VirtualPetHUDModule,new c.VirtualPetConditionsModule,new d.ProfileModule,new m.SettingsOtherModule,new h.AuthorityModule,new v.PrivateModule],p={};async function y(){f||(g.forEach((e=>{const t=e.Settings,o={};t.forEach((e=>{o[e.name]=e})),0!==Object.keys(o).length&&(p[e.Title]=o)})),await(0,r.LoadStorage)(),g.forEach((e=>{e.Load()})),f=!0)}},"./src/util/sdk.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{AwaitInChatRoom:()=>d,AwaitPlayer:()=>c,HookFunction:()=>s,RemoveHooks:()=>u,Sleep:()=>m,bcxAPI:()=>h,bcxFound:()=>v,modAPI:()=>l});var r=o("./node_modules/bondage-club-mod-sdk/dist/bcmodsdk.js"),n=o.n(r),i=o("./src/util/constants.ts");const a=[],l=n().registerMod({name:i.MPA_NAME,version:i.MPA_VERSION,fullName:"Maya's Petplay Additions",repository:i.MPA_REPO},{allowReplace:!1});function s(e,t,o,r){const n=l.hookFunction(t,o,r);return a.push({functionName:t,priority:o,hook:r,module:e,removeHook:n}),n}function u(e){for(let t=a.length-1;0<=t;t--)a[t].module===e&&(a[t].removeHook(),a.splice(t,1))}async function c(){if(!Player.MemberNumber||!Player.ExtensionSettings)return new Promise((e=>{const t=l.hookFunction("LoginResponse",0,((o,r)=>{r(o),t(),e()}))}))}async function d(){if(!(ChatRoomCharacter.length>1))return new Promise((e=>{const t=l.hookFunction("ChatRoomSync",100,((o,r)=>{r(o),t(),e()}))}))}function m(e){return new Promise((t=>setTimeout(t,e)))}function h(){var e;return null===(e=window.bcx)||void 0===e?void 0:e.getModApi(i.MPA_NAME)}function v(){return!!window.bcx}},"./src/util/settingTypes.ts":(e,t,o)=>{"use strict";function r(e){return"function"==typeof e.active&&"string"==typeof e.label}function n(e){return r(e)&&"checkbox"===e.type&&"boolean"==typeof e.value}function i(e){return r(e)&&"option"===e.type&&"string"==typeof e.value&&Array.isArray(e.options)&&"boolean"==typeof e.loop}function a(e){return r(e)&&"text"===e.type&&"string"==typeof e.value&&("number"==typeof e.width||null===e.width)&&("number"==typeof e.maxChars||null===e.maxChars)}function l(e){return r(e)&&"number"===e.type&&"number"==typeof e.value&&("number"==typeof e.width||null===e.width)&&"number"==typeof e.min&&"number"==typeof e.max&&("number"==typeof e.step||null===e.step)}o.r(t),o.d(t,{IsCheckboxSetting:()=>n,IsDisplaySetting:()=>r,IsNumberSetting:()=>l,IsOptionSetting:()=>i,IsTextSetting:()=>a})},"./src/util/storage.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ExportSettingsToClipboard:()=>b,ImportSettingsFromClipboard:()=>M,LoadStorage:()=>p,ResetStorage:()=>P,SaveStorage:()=>y});var r=o("./src/localization/localization.ts"),n=o("./src/util/registerModules.ts"),i=o("./src/util/sdk.ts"),a=o("./src/modules/dataSync.ts"),l=o("./src/modules/_module.ts"),s=o("./src/util/constants.ts"),u=o("./src/modules/virtualPet.ts"),c=o("./src/util/messaging.ts");const d="https://raw.githubusercontent.com/MayaTheFoxy/MPA/refs/heads/main/CHANGELOG.md",m="https://raw.githubusercontent.com/MayaTheFoxy/MPA/refs/heads/dev/CHANGELOG.md",h="https://github.com/MayaTheFoxy/MPA/blob/main/CHANGELOG.md",v="https://github.com/MayaTheFoxy/MPA/blob/dev/CHANGELOG.md",f=/^\d+\.\d+\.\d+$/;function g(e){var t;if(e.version!==s.MPA_VERSION){const o=f.test(s.MPA_VERSION);ServerAccountBeep({MemberNumber:null!==(t=Player.MemberNumber)&&void 0!==t?t:-1,MemberName:(0,r.LocalizedText)("MPA"),ChatRoomSpace:"X",ChatRoomName:(0,r.LocalizedText)("MPA Updated"),Private:!1,BeepType:"",Message:`MPA has been updated. See the changelog here:\n${o?h:v}`}),e.version=s.MPA_VERSION,y(!1),async function(){const e=f.test(s.MPA_VERSION),t=e?d:m;try{const o=await fetch(t);o.ok||console.warn(`MPA: Failed to fetch CHANGELOG.md: ${o.statusText}`);const r=await o.text(),n=/# (\d+\.\d+\.\d+(?:\.\d+)?)+\n([\s\S]*?)(?=\n# |$)/.exec(r);if(n&&n[1]===s.MPA_VERSION){const t=n[2].trim();for(;;)if(await(0,i.AwaitInChatRoom)(),await(0,i.Sleep)(100),ChatRoomCharacter.length>0){(0,c.NotifyPlayer)(`<b style='text-align:center;width:100%;display:block'>MPA Updated</b>\nCurrent MPA Version: ${s.MPA_VERSION}\nChanges from previous version:\n${t}\n<a href="${e?h:v}" target="_blank">See Full Changelog</a>`);break}return}console.warn("MPA: Could not get the latest MPA Changelogs")}catch(e){console.error(`Error: ${e}`)}}()}}async function p(){var e,t,o,r;await(0,i.AwaitPlayer)();const a=null!==(r=JSON.parse(null!==(o=LZString.decompressFromBase64(null!==(t=null===(e=Player.ExtensionSettings)||void 0===e?void 0:e.MPA)&&void 0!==t?t:""))&&void 0!==o?o:"{}"))&&void 0!==r?r:{};Object.entries(n.settings).forEach((e=>{var t,o,r,i,l,s,u,c,d;const[m,h]=e;for(const[e,v]of Object.entries(h))m in a||(a[m]={}),e in a[m]?("checkbox"===(null===(o=null===(t=null===n.settings||void 0===n.settings?void 0:n.settings[m])||void 0===t?void 0:t[e])||void 0===o?void 0:o.type)&&"boolean"!=typeof a[m][e]||"number"===(null===(i=null===(r=null===n.settings||void 0===n.settings?void 0:n.settings[m])||void 0===r?void 0:r[e])||void 0===i?void 0:i.type)&&isNaN(a[m][e])||"options"in(null!==(s=null===(l=null===n.settings||void 0===n.settings?void 0:n.settings[m])||void 0===l?void 0:l[e])&&void 0!==s?s:{})&&!(null!==(d=null===(c=null===(u=null===n.settings||void 0===n.settings?void 0:n.settings[m])||void 0===u?void 0:u[e])||void 0===c?void 0:c.options)&&void 0!==d?d:[]).includes(a[m][e]))&&(a[m][e]=v.value,console.warn(`MPA: Invalid setting of "${a[m][e]}" at ${m}->${e}, resetting to default`)):a[m][e]=v.value})),g(a),Player.MPA=a}function y(e=!0){Player.MPA&&(Player.MPA[l.ModuleTitle.Authority].owners=Player.MPA[l.ModuleTitle.Authority].owners.split(",").filter((e=>Number(e)!==Player.MemberNumber)).join(","),Player.ExtensionSettings.MPA=LZString.compressToBase64(JSON.stringify(Player.MPA)),ServerPlayerExtensionSettingsSync("MPA"),e&&(0,a.SettingSync)(!1))}async function P(){delete Player.ExtensionSettings.MPA,Player.ExtensionSettings.MPA=LZString.compressToBase64(JSON.stringify({version:s.MPA_VERSION})),await p(),y()}async function b(){return navigator.clipboard.writeText(LZString.compressToBase64(JSON.stringify(Player.MPA)))}async function M(){return new Promise(((e,t)=>{navigator.clipboard.readText().then((o=>{var r;try{const e=JSON.parse(null!==(r=LZString.decompressFromBase64(null!=o?o:""))&&void 0!==r?r:"{}"),t=JSON.parse(JSON.stringify(Player.MPA));t[l.ModuleTitle.VirtualPet].levels.lastUpdated=Date.now(),t[l.ModuleTitle.VirtualPet].levels.lastOnline=Date.now();for(const o in e)void 0!==e[o]&&(t[o]=e[o]);t[l.ModuleTitle.VirtualPet].levels.lastUpdated=Date.now()-(t[l.ModuleTitle.VirtualPet].levels.lastOnline-t[l.ModuleTitle.VirtualPet].levels.lastUpdated),t[l.ModuleTitle.VirtualPet].levels.lastOnline=Date.now(),Player.MPA=t,(0,u.LevelSync)(!1,!1,!1),y(!0)}catch(e){return console.warn(e),t()}return e()}),(()=>t()))}))}},"./package.json":e=>{"use strict";e.exports=JSON.parse('{"name":"mpa","description":"","version":"0.4.5.3","author":"Maya","license":"MIT","repository":{"type":"git","url":"https://github.com/MayaTheFoxy/MPA"},"scripts":{"serve":"npx webpack serve --progress","stable":"npx webpack --env stable=true","dev":"npx webpack --env stable=false","lint":"eslint ./src","lint-fix":"eslint ./src --fix"},"dependencies":{"bondage-club-mod-sdk":"^1.2.0"},"devDependencies":{"@eslint/js":"^9.9.0","@stylistic/eslint-plugin":"^2.6.2","bc-stubs":"^111.0.0","eslint":"^9.9.0","globals":"^15.9.0","lz-string":"^1.5.0","terser-webpack-plugin":"^5.3.10","ts-loader":"^9.5.1","typescript":"^5.5.4","typescript-eslint":"^8.1.0","webpack":"^5.93.0","webpack-cli":"^5.1.4","webpack-dev-server":"^5.0.4"}}')},"./src/localization/RU.json":e=>{"use strict";e.exports=JSON.parse('{"Maya\'s Petplay Additions":"Дополнения для петплея от Maya","MPA Settings":"","Clicker":"Кликер","Enable auditory clicker":"","Phrases that trigger the click; Separate phrases with a comma":"Фразы, которые совершают клик; Разделяйте фразы с помощью запятой","Allow your own chat, emotes, & actions to trigger the clicker":"Разрешить вашим собственным сообщения в чате, эмоциям или действиям совершать клик","Who will be able to trigger the clicker":"Кто сможет вызывать срабатывание кликера","Public":"Публично","Friends":"Друзья","Whitelist":"Белый список","Lovers":"Любовники","Owners":"Владельцы","Clubowner":"Клубный владелец","Self":"Самостоятельно","Virtual Pet":"Виртуальный питомец","Become a virtual pet! Requiring: food, water, sleep, and affection":"Станьте виртуальным питомцем! Ваши потребности: еда, вода, сон и ласка","How many hours until you are completely out of food; 0 to disable":"Через сколько часов у вас полностью закончится еда; 0 для отключения","How many hours until you are completely out of water; 0 to disable":"Через сколько часов у вас полностью закончится вода; 0 для отключения","How many hours until you are completely out of sleep; 0 to disable":"Через сколько часов у вас полностью закончится сон; 0 для отключения","How many hours until you are completely out of affection; 0 to disable":"Через сколько часов у вас полностью закончится ласка; 0 для отключения","Pause stats from draining when logged out of the club":"Приостановить снижение показателей при выходе из клуба","Allow eating or drinking from items in your OWN hands":"Разрешить есть или пить из предметов в ваших СОБСТВЕННЫХ руках","Click Once":"Щелкнуть один раз","SourceCharacter presses the button PronounPossessive clicker.":"SourceCharacter нажимает на кнопку PronounPossessive кликера.","Click Twice":"Щелкнуть дважды","SourceCharacter presses the button PronounPossessive clicker twice.":"SourceCharacter нажимает на кнопку PronounPossessive кликера дважды.","Click Thrice":"Щелкнуть трижды","SourceCharacter presses the button PronounPossessive clicker three times.":"SourceCharacter нажимает на кнопку PronounPossessive кликера трижды."}')},"./src/localization/template.json":e=>{"use strict";e.exports=JSON.parse('{"Maya\'s Petplay Additions":"","MPA":"","MPA Settings":"","MPA: No BC item permission":"","MPA Updated":"","Wiki":"","Open the MPA wiki in a new tab":"","RESET":"","Reset all your settings back to default":"","Import":"","Import the settings copied to your clipboard":"","Export":"","Export your current settings to the clipboard":"","Confirm":"","Cancel":"","WARNING: Are you sure you want to reset your MPA settings and data back to default?":"","This action can not be undone!":"","Export and save your settings BEFORE confirming if you are unsure.":"","SourceCharacter is accessing your MPA settings.":"","Version":"","Your Version":"","TargetCharacter\'s Version":"","Public":"","Friends":"","Whitelist":"","Lovers":"","Owners":"","Clubowner":"","Self":"","None":"","Low":"","Medium":"","High":"","Max":"","Off":"","First":"","Last":"","Replace":"","Authority":"","Owner member numbers; Seperated by a ,":"","Allow TargetCharacter changing TargetPronounPossessive own settings while bound":"","Allow TargetCharacter changing the settings of others while bound":"","Allow TargetCharacter to change TargetPronounPossessive Authority settings":"","Allow others to change TargetCharacter\'s Authority settings":"","Allow TargetCharacter to change TargetPronounPossessive Profile settings":"","Allow others to change TargetCharacter\'s Profile settings":"","Allow TargetCharacter to change TargetPronounPossessive Clicker settings":"","Allow others to change TargetCharacter\'s Clicker settings":"","Allow TargetCharacter to change TargetPronounPossessive Virtual Pet settings":"","Allow others to change TargetCharacter\'s Virtual Pet settings":"","Allow TargetCharacter to change TargetPronounPossessive Virtual Pet Conditions settings":"","Allow others to change TargetCharacter\'s Virtual Pet Conditions settings":"","SourceCharacter just updated your SettingsArray settings.":"","Profile":"","Use a preset profile or make your own":"","Pet sounds you make":"","Enable hardcore mode; Will set certain settings and prevent changing them back":"","Automatically make the above pet sounds while talking":"","Pet gagging mode":"","Pet gagging strength":"","Clicker":"","Enable auditory clicker":"","Phrases that trigger the click; Separate phrases with a comma":"","Allow your own chat, emotes, & actions to trigger the clicker":"","Who will be able to trigger the clicker":"","Allow BCX Listen to my voice rule to trigger the clicker; Requires BCX":"","Virtual Pet":"","Become a virtual pet! Requiring: food, water, sleep, and affection":"","How many hours until you are completely out of food; 0 to disable":"","How many hours until you are completely out of water; 0 to disable":"","How many hours until you are completely out of sleep; 0 to disable":"","How many hours until you are completely out of affection; 0 to disable":"","Pause stats from draining when logged out of the club":"","Allow eating or drinking from items in your OWN hands":"","Stats drain even when logged out of the club":"","Masochist pet; Abuse raises affection":"","Virtual Pet HUD":"","Display your own virtual pet stats on the HUD":"","Display the exact number percentage on the HUD":"","Where to display the HUD":"","Display the virtual pet stats of others on the HUD":"","Click Once":"","SourceCharacter presses the button on PronounPossessive clicker.":"","Click Twice":"","SourceCharacter presses the button on PronounPossessive clicker twice.":"","Click Thrice":"","SourceCharacter presses the button on PronounPossessive clicker three times.":"","Eat From Bowl":"","Drink From Bowl":"","SourceCharacter eats from PronounPossessive bowl.":"","SourceCharacter drinks from PronounPossessive bowl.":"","SourceCharacter puts PronounPossessive head into PronounPossessive bowl in order to eat with the gag, making a mess.":"","SourceCharacter puts PronounPossessive head into PronounPossessive bowl in order to drink with the gag, making a mess.":"","Virtual Pet Conditions":"","SourceCharacter passes out from exhaustion.":"","SourceCharacter wakes up from PronounPossessive nap.":"","Recive conditions based on current level of your virtual pet stats":"","Food and water affects affection gain":"","Vision darkens as you get sleepier":"","Passout when exhausted":"","Use LSCG passout instead of MPA; Requires LSCG":"","Affection will buff skills based on its level":"","Affection will debuff skills based on its level":"","Hearing becomes harder the hungrier you are":"","Takes longer to leave the room when hungry":"","Flick Bell":"","SourceCharacter flicks the bell on PronounPossessive collar.":"","SourceCharacter flicks the bell on TargetCharacter\'s collar.":"","SourceCharacter flicks the bells on PronounPossessive nipple clamps.":"","SourceCharacter flicks the bells on TargetCharacter\'s nipple clamps.":"","SourceCharacter flicks the bell on PronounPossessive clit piercing.":"","SourceCharacter flicks the bell on TargetCharacter\'s clit piercing.":"","SourceCharacter flicks the bells on PronounPossessive nipple piercings.":"","SourceCharacter flicks the bells on TargetCharacter\'s nipple piercings.":"","SourceCharacter crawls into PronounPossessive bed.":"","SourceCharacter tucks TargetCharacter into bed.":""}')}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,o),i.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{"use strict";o.r(r);var e=o("./src/util/registerModules.ts"),t=o("./src/commands/buildAllCommands.ts"),n=o("./src/util/constants.ts");console.log("Loading Maya's Petplay Additions"),(0,t.BuildAllCommands)(),(0,e.RegisterModules)(),window.MPA={version:n.MPA_VERSION,menuLoaded:!1}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TSxFQUVQLE9BREEra0IsRUFBb0JsMkIsRUFBRXMyQixFQUFRLENBQUVuNUIsRUFBR201QixJQUM1QkEsQ0FBTSxFQ0xkSixFQUFvQmwyQixFQUFJLENBQUM0QyxFQUFTNHpCLEtBQ2pDLElBQUksSUFBSXZjLEtBQU91YyxFQUNYTixFQUFvQmo2QixFQUFFdTZCLEVBQVl2YyxLQUFTaWMsRUFBb0JqNkIsRUFBRTJHLEVBQVNxWCxJQUM1RS9aLE9BQU95QyxlQUFlQyxFQUFTcVgsRUFBSyxDQUFFd2MsWUFBWSxFQUFNLzRCLElBQUs4NEIsRUFBV3ZjLElBRTFFLEVDTkRpYyxFQUFvQmo2QixFQUFJLENBQUM4MUIsRUFBSzJFLElBQVV4MkIsT0FBT3kyQixVQUFVQyxlQUFlaDRCLEtBQUttekIsRUFBSzJFLEdDQ2xGUixFQUFvQnQ1QixFQUFLZ0csSUFDSCxvQkFBWGkwQixRQUEwQkEsT0FBT0MsYUFDMUM1MkIsT0FBT3lDLGVBQWVDLEVBQVNpMEIsT0FBT0MsWUFBYSxDQUFFajBCLE1BQU8sV0FFN0QzQyxPQUFPeUMsZUFBZUMsRUFBUyxhQUFjLENBQUVDLE9BQU8sR0FBTyx1SkNLOUR4RyxRQUFRbXNCLElBQUkscUNBRVosSUFBQXRnQixxQkFDQSxJQUFBOHFCLG1CQUNBdnpCLE9BQU9pRixJQUFNLENBQ1R2RCxRQUFTLEVBQUFzdEIsWUFDVDVTLFlBQVkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tcGEvLi9ub2RlX21vZHVsZXMvYm9uZGFnZS1jbHViLW1vZC1zZGsvZGlzdC9iY21vZHNkay5qcyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvY29tbWFuZHMvYmVkLnRzIiwid2VicGFjazovL21wYS8uL3NyYy9jb21tYW5kcy9ib3dsLnRzIiwid2VicGFjazovL21wYS8uL3NyYy9jb21tYW5kcy9idWlsZEFsbENvbW1hbmRzLnRzIiwid2VicGFjazovL21wYS8uL3NyYy9sb2NhbGl6YXRpb24vbG9jYWxpemF0aW9uLnRzIiwid2VicGFjazovL21wYS8uL3NyYy9tb2R1bGVzL19tb2R1bGUudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL21vZHVsZXMvYWN0aXZpdGllcy50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvbW9kdWxlcy9hdXRob3JpdHkudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL21vZHVsZXMvY2xpY2tlci50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvbW9kdWxlcy9kYXRhU3luYy50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvbW9kdWxlcy9wcml2YXRlLnRzIiwid2VicGFjazovL21wYS8uL3NyYy9tb2R1bGVzL3Byb2ZpbGUudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL21vZHVsZXMvc2V0dGluZ3MudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL21vZHVsZXMvc2V0dGluZ3NPdGhlcnMudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL21vZHVsZXMvdmlydHVhbFBldC50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvbW9kdWxlcy92aXJ0dWFsUGV0Q29uZGl0aW9ucy50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvbW9kdWxlcy92aXJ0dWFsUGV0SFVELnRzIiwid2VicGFjazovL21wYS8uL3NyYy91dGlsL2FjdGl2aXRpZXMudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL3V0aWwvYXV0aG9yaXR5LnRzIiwid2VicGFjazovL21wYS8uL3NyYy91dGlsL2NvbnN0YW50cy50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvdXRpbC9nZW5lcmFsLnRzIiwid2VicGFjazovL21wYS8uL3NyYy91dGlsL21lc3NhZ2luZy50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvdXRpbC9wZXRIZWFyQW5kU3BlYWsudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL3V0aWwvcmVnaXN0ZXJNb2R1bGVzLnRzIiwid2VicGFjazovL21wYS8uL3NyYy91dGlsL3Nkay50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvdXRpbC9zZXR0aW5nVHlwZXMudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL3V0aWwvc3RvcmFnZS50cyIsIndlYnBhY2s6Ly9tcGEvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vbXBhL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL21wYS93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vbXBhL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vbXBhL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEJvbmRhZ2UgQ2x1YiBNb2QgRGV2ZWxvcG1lbnQgS2l0ICgxLjIuMClcbi8vIEZvciBtb3JlIGluZm8gc2VlOiBodHRwczovL2dpdGh1Yi5jb20vSm9tc2hpcjk4L2JvbmRhZ2UtY2x1Yi1tb2Qtc2RrXG4vKiogQHR5cGUge01vZFNES0dsb2JhbEFQSX0gKi9cbnZhciBiY01vZFNkaz1mdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2NvbnN0IG89XCIxLjIuMFwiO2Z1bmN0aW9uIGUobyl7YWxlcnQoXCJNb2QgRVJST1I6XFxuXCIrbyk7Y29uc3QgZT1uZXcgRXJyb3Iobyk7dGhyb3cgY29uc29sZS5lcnJvcihlKSxlfWNvbnN0IHQ9bmV3IFRleHRFbmNvZGVyO2Z1bmN0aW9uIG4obyl7cmV0dXJuISFvJiZcIm9iamVjdFwiPT10eXBlb2YgbyYmIUFycmF5LmlzQXJyYXkobyl9ZnVuY3Rpb24gcihvKXtjb25zdCBlPW5ldyBTZXQ7cmV0dXJuIG8uZmlsdGVyKChvPT4hZS5oYXMobykmJmUuYWRkKG8pKSl9Y29uc3QgaT1uZXcgTWFwLGE9bmV3IFNldDtmdW5jdGlvbiBjKG8pe2EuaGFzKG8pfHwoYS5hZGQobyksY29uc29sZS53YXJuKG8pKX1mdW5jdGlvbiBzKG8pe2NvbnN0IGU9W10sdD1uZXcgTWFwLG49bmV3IFNldDtmb3IoY29uc3QgciBvZiBmLnZhbHVlcygpKXtjb25zdCBpPXIucGF0Y2hpbmcuZ2V0KG8ubmFtZSk7aWYoaSl7ZS5wdXNoKC4uLmkuaG9va3MpO2Zvcihjb25zdFtlLGFdb2YgaS5wYXRjaGVzLmVudHJpZXMoKSl0LmhhcyhlKSYmdC5nZXQoZSkhPT1hJiZjKGBNb2RTREs6IE1vZCAnJHtyLm5hbWV9JyBpcyBwYXRjaGluZyBmdW5jdGlvbiAke28ubmFtZX0gd2l0aCBzYW1lIHBhdHRlcm4gdGhhdCBpcyBhbHJlYWR5IGFwcGxpZWQgYnkgZGlmZmVyZW50IG1vZCwgYnV0IHdpdGggZGlmZmVyZW50IHBhdHRlcm46XFxuUGF0dGVybjpcXG4ke2V9XFxuUGF0Y2gxOlxcbiR7dC5nZXQoZSl8fFwiXCJ9XFxuUGF0Y2gyOlxcbiR7YX1gKSx0LnNldChlLGEpLG4uYWRkKHIubmFtZSl9fWUuc29ydCgoKG8sZSk9PmUucHJpb3JpdHktby5wcmlvcml0eSkpO2NvbnN0IHI9ZnVuY3Rpb24obyxlKXtpZigwPT09ZS5zaXplKXJldHVybiBvO2xldCB0PW8udG9TdHJpbmcoKS5yZXBsYWNlQWxsKFwiXFxyXFxuXCIsXCJcXG5cIik7Zm9yKGNvbnN0W24scl1vZiBlLmVudHJpZXMoKSl0LmluY2x1ZGVzKG4pfHxjKGBNb2RTREs6IFBhdGNoaW5nICR7by5uYW1lfTogUGF0Y2ggJHtufSBub3QgYXBwbGllZGApLHQ9dC5yZXBsYWNlQWxsKG4scik7cmV0dXJuKDAsZXZhbCkoYCgke3R9KWApfShvLm9yaWdpbmFsLHQpO2xldCBpPWZ1bmN0aW9uKGUpe3ZhciB0LGk7Y29uc3QgYT1udWxsPT09KGk9KHQ9bS5lcnJvclJlcG9ydGVySG9va3MpLmhvb2tDaGFpbkV4aXQpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmNhbGwodCxvLm5hbWUsbiksYz1yLmFwcGx5KHRoaXMsZSk7cmV0dXJuIG51bGw9PWF8fGEoKSxjfTtmb3IobGV0IHQ9ZS5sZW5ndGgtMTt0Pj0wO3QtLSl7Y29uc3Qgbj1lW3RdLHI9aTtpPWZ1bmN0aW9uKGUpe3ZhciB0LGk7Y29uc3QgYT1udWxsPT09KGk9KHQ9bS5lcnJvclJlcG9ydGVySG9va3MpLmhvb2tFbnRlcil8fHZvaWQgMD09PWk/dm9pZCAwOmkuY2FsbCh0LG8ubmFtZSxuLm1vZCksYz1uLmhvb2suYXBwbHkodGhpcyxbZSxvPT57aWYoMSE9PWFyZ3VtZW50cy5sZW5ndGh8fCFBcnJheS5pc0FycmF5KGUpKXRocm93IG5ldyBFcnJvcihgTW9kICR7bi5tb2R9IGZhaWxlZCB0byBjYWxsIG5leHQgaG9vazogRXhwZWN0ZWQgYXJncyB0byBiZSBhcnJheSwgZ290ICR7dHlwZW9mIG99YCk7cmV0dXJuIHIuY2FsbCh0aGlzLG8pfV0pO3JldHVybiBudWxsPT1hfHxhKCksY319cmV0dXJue2hvb2tzOmUscGF0Y2hlczp0LHBhdGNoZXNTb3VyY2VzOm4sZW50ZXI6aSxmaW5hbDpyfX1mdW5jdGlvbiBsKG8sZT0hMSl7bGV0IHI9aS5nZXQobyk7aWYocillJiYoci5wcmVjb21wdXRlZD1zKHIpKTtlbHNle2xldCBlPXdpbmRvdztjb25zdCBhPW8uc3BsaXQoXCIuXCIpO2ZvcihsZXQgdD0wO3Q8YS5sZW5ndGgtMTt0KyspaWYoZT1lW2FbdF1dLCFuKGUpKXRocm93IG5ldyBFcnJvcihgTW9kU0RLOiBGdW5jdGlvbiAke299IHRvIGJlIHBhdGNoZWQgbm90IGZvdW5kOyAke2Euc2xpY2UoMCx0KzEpLmpvaW4oXCIuXCIpfSBpcyBub3Qgb2JqZWN0YCk7Y29uc3QgYz1lW2FbYS5sZW5ndGgtMV1dO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGMpdGhyb3cgbmV3IEVycm9yKGBNb2RTREs6IEZ1bmN0aW9uICR7b30gdG8gYmUgcGF0Y2hlZCBub3QgZm91bmRgKTtjb25zdCBsPWZ1bmN0aW9uKG8pe2xldCBlPS0xO2Zvcihjb25zdCBuIG9mIHQuZW5jb2RlKG8pKXtsZXQgbz0yNTUmKGVebik7Zm9yKGxldCBlPTA7ZTw4O2UrKylvPTEmbz8tMzA2Njc0OTEyXm8+Pj4xOm8+Pj4xO2U9ZT4+Pjheb31yZXR1cm4oKC0xXmUpPj4+MCkudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDgsXCIwXCIpLnRvVXBwZXJDYXNlKCl9KGMudG9TdHJpbmcoKS5yZXBsYWNlQWxsKFwiXFxyXFxuXCIsXCJcXG5cIikpLGQ9e25hbWU6byxvcmlnaW5hbDpjLG9yaWdpbmFsSGFzaDpsfTtyPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxkKSx7cHJlY29tcHV0ZWQ6cyhkKSxyb3V0ZXI6KCk9Pnt9LGNvbnRleHQ6ZSxjb250ZXh0UHJvcGVydHk6YVthLmxlbmd0aC0xXX0pLHIucm91dGVyPWZ1bmN0aW9uKG8pe3JldHVybiBmdW5jdGlvbiguLi5lKXtyZXR1cm4gby5wcmVjb21wdXRlZC5lbnRlci5hcHBseSh0aGlzLFtlXSl9fShyKSxpLnNldChvLHIpLGVbci5jb250ZXh0UHJvcGVydHldPXIucm91dGVyfXJldHVybiByfWZ1bmN0aW9uIGQoKXtmb3IoY29uc3QgbyBvZiBpLnZhbHVlcygpKW8ucHJlY29tcHV0ZWQ9cyhvKX1mdW5jdGlvbiBwKCl7Y29uc3Qgbz1uZXcgTWFwO2Zvcihjb25zdFtlLHRdb2YgaSlvLnNldChlLHtuYW1lOmUsb3JpZ2luYWw6dC5vcmlnaW5hbCxvcmlnaW5hbEhhc2g6dC5vcmlnaW5hbEhhc2gsc2RrRW50cnlwb2ludDp0LnJvdXRlcixjdXJyZW50RW50cnlwb2ludDp0LmNvbnRleHRbdC5jb250ZXh0UHJvcGVydHldLGhvb2tlZEJ5TW9kczpyKHQucHJlY29tcHV0ZWQuaG9va3MubWFwKChvPT5vLm1vZCkpKSxwYXRjaGVkQnlNb2RzOkFycmF5LmZyb20odC5wcmVjb21wdXRlZC5wYXRjaGVzU291cmNlcyl9KTtyZXR1cm4gb31jb25zdCBmPW5ldyBNYXA7ZnVuY3Rpb24gdShvKXtmLmdldChvLm5hbWUpIT09byYmZShgRmFpbGVkIHRvIHVubG9hZCBtb2QgJyR7by5uYW1lfSc6IE5vdCByZWdpc3RlcmVkYCksZi5kZWxldGUoby5uYW1lKSxvLmxvYWRlZD0hMSxkKCl9ZnVuY3Rpb24gZyhvLHQpe28mJlwib2JqZWN0XCI9PXR5cGVvZiBvfHxlKFwiRmFpbGVkIHRvIHJlZ2lzdGVyIG1vZDogRXhwZWN0ZWQgaW5mbyBvYmplY3QsIGdvdCBcIit0eXBlb2YgbyksXCJzdHJpbmdcIj09dHlwZW9mIG8ubmFtZSYmby5uYW1lfHxlKFwiRmFpbGVkIHRvIHJlZ2lzdGVyIG1vZDogRXhwZWN0ZWQgbmFtZSB0byBiZSBub24tZW1wdHkgc3RyaW5nLCBnb3QgXCIrdHlwZW9mIG8ubmFtZSk7bGV0IHI9YCcke28ubmFtZX0nYDtcInN0cmluZ1wiPT10eXBlb2Ygby5mdWxsTmFtZSYmby5mdWxsTmFtZXx8ZShgRmFpbGVkIHRvIHJlZ2lzdGVyIG1vZCAke3J9OiBFeHBlY3RlZCBmdWxsTmFtZSB0byBiZSBub24tZW1wdHkgc3RyaW5nLCBnb3QgJHt0eXBlb2Ygby5mdWxsTmFtZX1gKSxyPWAnJHtvLmZ1bGxOYW1lfSAoJHtvLm5hbWV9KSdgLFwic3RyaW5nXCIhPXR5cGVvZiBvLnZlcnNpb24mJmUoYEZhaWxlZCB0byByZWdpc3RlciBtb2QgJHtyfTogRXhwZWN0ZWQgdmVyc2lvbiB0byBiZSBzdHJpbmcsIGdvdCAke3R5cGVvZiBvLnZlcnNpb259YCksby5yZXBvc2l0b3J5fHwoby5yZXBvc2l0b3J5PXZvaWQgMCksdm9pZCAwIT09by5yZXBvc2l0b3J5JiZcInN0cmluZ1wiIT10eXBlb2Ygby5yZXBvc2l0b3J5JiZlKGBGYWlsZWQgdG8gcmVnaXN0ZXIgbW9kICR7cn06IEV4cGVjdGVkIHJlcG9zaXRvcnkgdG8gYmUgdW5kZWZpbmVkIG9yIHN0cmluZywgZ290ICR7dHlwZW9mIG8udmVyc2lvbn1gKSxudWxsPT10JiYodD17fSksdCYmXCJvYmplY3RcIj09dHlwZW9mIHR8fGUoYEZhaWxlZCB0byByZWdpc3RlciBtb2QgJHtyfTogRXhwZWN0ZWQgb3B0aW9ucyB0byBiZSB1bmRlZmluZWQgb3Igb2JqZWN0LCBnb3QgJHt0eXBlb2YgdH1gKTtjb25zdCBpPSEwPT09dC5hbGxvd1JlcGxhY2UsYT1mLmdldChvLm5hbWUpO2EmJihhLmFsbG93UmVwbGFjZSYmaXx8ZShgUmVmdXNpbmcgdG8gbG9hZCBtb2QgJHtyfTogaXQgaXMgYWxyZWFkeSBsb2FkZWQgYW5kIGRvZXNuJ3QgYWxsb3cgYmVpbmcgcmVwbGFjZWQuXFxuV2FzIHRoZSBtb2QgbG9hZGVkIG11bHRpcGxlIHRpbWVzP2ApLHUoYSkpO2NvbnN0IGM9bz0+e2xldCBlPWcucGF0Y2hpbmcuZ2V0KG8ubmFtZSk7cmV0dXJuIGV8fChlPXtob29rczpbXSxwYXRjaGVzOm5ldyBNYXB9LGcucGF0Y2hpbmcuc2V0KG8ubmFtZSxlKSksZX0scz0obyx0KT0+KC4uLm4pPT57dmFyIGksYTtjb25zdCBjPW51bGw9PT0oYT0oaT1tLmVycm9yUmVwb3J0ZXJIb29rcykuYXBpRW5kcG9pbnRFbnRlcil8fHZvaWQgMD09PWE/dm9pZCAwOmEuY2FsbChpLG8sZy5uYW1lKTtnLmxvYWRlZHx8ZShgTW9kICR7cn0gYXR0ZW1wdGVkIHRvIGNhbGwgU0RLIGZ1bmN0aW9uIGFmdGVyIGJlaW5nIHVubG9hZGVkYCk7Y29uc3Qgcz10KC4uLm4pO3JldHVybiBudWxsPT1jfHxjKCksc30scD17dW5sb2FkOnMoXCJ1bmxvYWRcIiwoKCk9PnUoZykpKSxob29rRnVuY3Rpb246cyhcImhvb2tGdW5jdGlvblwiLCgobyx0LG4pPT57XCJzdHJpbmdcIj09dHlwZW9mIG8mJm98fGUoYE1vZCAke3J9IGZhaWxlZCB0byBwYXRjaCBhIGZ1bmN0aW9uOiBFeHBlY3RlZCBmdW5jdGlvbiBuYW1lIHN0cmluZywgZ290ICR7dHlwZW9mIG99YCk7Y29uc3QgaT1sKG8pLGE9YyhpKTtcIm51bWJlclwiIT10eXBlb2YgdCYmZShgTW9kICR7cn0gZmFpbGVkIHRvIGhvb2sgZnVuY3Rpb24gJyR7b30nOiBFeHBlY3RlZCBwcmlvcml0eSBudW1iZXIsIGdvdCAke3R5cGVvZiB0fWApLFwiZnVuY3Rpb25cIiE9dHlwZW9mIG4mJmUoYE1vZCAke3J9IGZhaWxlZCB0byBob29rIGZ1bmN0aW9uICcke299JzogRXhwZWN0ZWQgaG9vayBmdW5jdGlvbiwgZ290ICR7dHlwZW9mIG59YCk7Y29uc3Qgcz17bW9kOmcubmFtZSxwcmlvcml0eTp0LGhvb2s6bn07cmV0dXJuIGEuaG9va3MucHVzaChzKSxkKCksKCk9Pntjb25zdCBvPWEuaG9va3MuaW5kZXhPZihzKTtvPj0wJiYoYS5ob29rcy5zcGxpY2UobywxKSxkKCkpfX0pKSxwYXRjaEZ1bmN0aW9uOnMoXCJwYXRjaEZ1bmN0aW9uXCIsKChvLHQpPT57XCJzdHJpbmdcIj09dHlwZW9mIG8mJm98fGUoYE1vZCAke3J9IGZhaWxlZCB0byBwYXRjaCBhIGZ1bmN0aW9uOiBFeHBlY3RlZCBmdW5jdGlvbiBuYW1lIHN0cmluZywgZ290ICR7dHlwZW9mIG99YCk7Y29uc3QgaT1sKG8pLGE9YyhpKTtuKHQpfHxlKGBNb2QgJHtyfSBmYWlsZWQgdG8gcGF0Y2ggZnVuY3Rpb24gJyR7b30nOiBFeHBlY3RlZCBwYXRjaGVzIG9iamVjdCwgZ290ICR7dHlwZW9mIHR9YCk7Zm9yKGNvbnN0W24saV1vZiBPYmplY3QuZW50cmllcyh0KSlcInN0cmluZ1wiPT10eXBlb2YgaT9hLnBhdGNoZXMuc2V0KG4saSk6bnVsbD09PWk/YS5wYXRjaGVzLmRlbGV0ZShuKTplKGBNb2QgJHtyfSBmYWlsZWQgdG8gcGF0Y2ggZnVuY3Rpb24gJyR7b30nOiBJbnZhbGlkIGZvcm1hdCBvZiBwYXRjaCAnJHtufSdgKTtkKCl9KSkscmVtb3ZlUGF0Y2hlczpzKFwicmVtb3ZlUGF0Y2hlc1wiLChvPT57XCJzdHJpbmdcIj09dHlwZW9mIG8mJm98fGUoYE1vZCAke3J9IGZhaWxlZCB0byBwYXRjaCBhIGZ1bmN0aW9uOiBFeHBlY3RlZCBmdW5jdGlvbiBuYW1lIHN0cmluZywgZ290ICR7dHlwZW9mIG99YCk7Y29uc3QgdD1sKG8pO2ModCkucGF0Y2hlcy5jbGVhcigpLGQoKX0pKSxjYWxsT3JpZ2luYWw6cyhcImNhbGxPcmlnaW5hbFwiLCgobyx0LG4pPT57XCJzdHJpbmdcIj09dHlwZW9mIG8mJm98fGUoYE1vZCAke3J9IGZhaWxlZCB0byBjYWxsIGEgZnVuY3Rpb246IEV4cGVjdGVkIGZ1bmN0aW9uIG5hbWUgc3RyaW5nLCBnb3QgJHt0eXBlb2Ygb31gKTtjb25zdCBpPWwobyk7cmV0dXJuIEFycmF5LmlzQXJyYXkodCl8fGUoYE1vZCAke3J9IGZhaWxlZCB0byBjYWxsIGEgZnVuY3Rpb246IEV4cGVjdGVkIGFyZ3MgYXJyYXksIGdvdCAke3R5cGVvZiB0fWApLGkub3JpZ2luYWwuYXBwbHkobnVsbCE9bj9uOmdsb2JhbFRoaXMsdCl9KSksZ2V0T3JpZ2luYWxIYXNoOnMoXCJnZXRPcmlnaW5hbEhhc2hcIiwobz0+e1wic3RyaW5nXCI9PXR5cGVvZiBvJiZvfHxlKGBNb2QgJHtyfSBmYWlsZWQgdG8gZ2V0IGhhc2g6IEV4cGVjdGVkIGZ1bmN0aW9uIG5hbWUgc3RyaW5nLCBnb3QgJHt0eXBlb2Ygb31gKTtyZXR1cm4gbChvKS5vcmlnaW5hbEhhc2h9KSl9LGc9e25hbWU6by5uYW1lLGZ1bGxOYW1lOm8uZnVsbE5hbWUsdmVyc2lvbjpvLnZlcnNpb24scmVwb3NpdG9yeTpvLnJlcG9zaXRvcnksYWxsb3dSZXBsYWNlOmksYXBpOnAsbG9hZGVkOiEwLHBhdGNoaW5nOm5ldyBNYXB9O3JldHVybiBmLnNldChvLm5hbWUsZyksT2JqZWN0LmZyZWV6ZShwKX1mdW5jdGlvbiBoKCl7Y29uc3Qgbz1bXTtmb3IoY29uc3QgZSBvZiBmLnZhbHVlcygpKW8ucHVzaCh7bmFtZTplLm5hbWUsZnVsbE5hbWU6ZS5mdWxsTmFtZSx2ZXJzaW9uOmUudmVyc2lvbixyZXBvc2l0b3J5OmUucmVwb3NpdG9yeX0pO3JldHVybiBvfWxldCBtO2NvbnN0IHk9dm9pZCAwPT09d2luZG93LmJjTW9kU2RrP3dpbmRvdy5iY01vZFNkaz1mdW5jdGlvbigpe2NvbnN0IGU9e3ZlcnNpb246byxhcGlWZXJzaW9uOjEscmVnaXN0ZXJNb2Q6ZyxnZXRNb2RzSW5mbzpoLGdldFBhdGNoaW5nSW5mbzpwLGVycm9yUmVwb3J0ZXJIb29rczpPYmplY3Quc2VhbCh7YXBpRW5kcG9pbnRFbnRlcjpudWxsLGhvb2tFbnRlcjpudWxsLGhvb2tDaGFpbkV4aXQ6bnVsbH0pfTtyZXR1cm4gbT1lLE9iamVjdC5mcmVlemUoZSl9KCk6KG4od2luZG93LmJjTW9kU2RrKXx8ZShcIkZhaWxlZCB0byBpbml0IE1vZCBTREs6IE5hbWUgYWxyZWFkeSBpbiB1c2VcIiksMSE9PXdpbmRvdy5iY01vZFNkay5hcGlWZXJzaW9uJiZlKGBGYWlsZWQgdG8gaW5pdCBNb2QgU0RLOiBEaWZmZXJlbnQgdmVyc2lvbiBhbHJlYWR5IGxvYWRlZCAoJzEuMi4wJyB2cyAnJHt3aW5kb3cuYmNNb2RTZGsudmVyc2lvbn0nKWApLHdpbmRvdy5iY01vZFNkay52ZXJzaW9uIT09byYmYWxlcnQoYE1vZCBTREsgd2FybmluZzogTG9hZGluZyBkaWZmZXJlbnQgYnV0IGNvbXBhdGlibGUgdmVyc2lvbnMgKCcxLjIuMCcgdnMgJyR7d2luZG93LmJjTW9kU2RrLnZlcnNpb259JylcXG5PbmUgb2YgbW9kcyB5b3UgYXJlIHVzaW5nIGlzIHVzaW5nIGFuIG9sZCB2ZXJzaW9uIG9mIFNESy4gSXQgd2lsbCB3b3JrIGZvciBub3cgYnV0IHBsZWFzZSBpbmZvcm0gYXV0aG9yIHRvIHVwZGF0ZWApLHdpbmRvdy5iY01vZFNkayk7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGV4cG9ydHMmJihPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLmRlZmF1bHQ9eSkseX0oKTtcbiIsImltcG9ydCB7IFNhdmVTdG9yYWdlIH0gZnJvbSBcIi4uL3V0aWwvc3RvcmFnZVwiO1xuaW1wb3J0IHsgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9fbW9kdWxlXCI7XG5pbXBvcnQgeyBBTExfQkVEUyB9IGZyb20gXCIuLi91dGlsL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgRmluZENoYXJhY3RlckluUm9vbSwgR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5LCBNUEFOb3RpZnlQbGF5ZXIsIE5vdGlmeVBsYXllciwgU2VuZEFjdGlvbiB9IGZyb20gXCIuLi91dGlsL21lc3NhZ2luZ1wiO1xuaW1wb3J0IHsgSG9va0Z1bmN0aW9uIH0gZnJvbSBcIi4uL3V0aWwvc2RrXCI7XG5cbmNvbnN0IEJPV0xfU0VMRl9URVhUID0gXCJTb3VyY2VDaGFyYWN0ZXIgY3Jhd2xzIGludG8gUHJvbm91blBvc3Nlc3NpdmUgYmVkLlwiO1xuY29uc3QgQk9XTF9PVEhFUl9URVhUID0gXCJTb3VyY2VDaGFyYWN0ZXIgdHVja3MgVGFyZ2V0Q2hhcmFjdGVyIGludG8gYmVkLlwiO1xuXG5mdW5jdGlvbiBJc0JlZChiZWQ6IGFueSk6IGJvb2xlYW5cbntcbiAgICAvLyBJbnZhbGlkIGNyYWZ0ID0gc2tpcFxuICAgIHJldHVybiBPYmplY3Qua2V5cyhiZWQpLmxlbmd0aCA+IDBcbiAgICAgICYmIENyYWZ0aW5nVmFsaWRhdGUoYmVkKSA9PT0gQ3JhZnRpbmdTdGF0dXNUeXBlLk9LXG4gICAgICAmJiAoQUxMX0JFRFMuaW5jbHVkZXMoYmVkLkl0ZW0pXG4gICAgICB8fCBiZWQ/Lk5hbWU/LnRvTG9jYWxlTG93ZXJDYXNlKCk/LmluY2x1ZGVzKFwiYmVkXCIpKTtcbn1cblxuLyoqXG4gKiBEaXNwbGF5IHRoZSBiZWQgdGV4dFxuICovXG5mdW5jdGlvbiBHaXZlQmVkVGV4dChjaGFyYWN0ZXI6IENoYXJhY3RlciA9IFBsYXllcik6IHZvaWRcbntcbiAgICBpZiAoY2hhcmFjdGVyLk1lbWJlck51bWJlciA9PT0gUGxheWVyLk1lbWJlck51bWJlcilcbiAgICB7XG4gICAgICAgIFNlbmRBY3Rpb24oXG4gICAgICAgICAgICBCT1dMX1NFTEZfVEVYVCxcbiAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgIFt7IFNvdXJjZUNoYXJhY3RlcjogUGxheWVyLk1lbWJlck51bWJlciB9IGFzIFNvdXJjZUNoYXJhY3RlckRpY3Rpb25hcnlFbnRyeV1cbiAgICAgICAgKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgU2VuZEFjdGlvbihcbiAgICAgICAgICAgIEJPV0xfT1RIRVJfVEVYVCxcbiAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgIFt7IFNvdXJjZUNoYXJhY3RlcjogUGxheWVyLk1lbWJlck51bWJlciB9IGFzIFNvdXJjZUNoYXJhY3RlckRpY3Rpb25hcnlFbnRyeSxcbiAgICAgICAgICAgICAgICB7IFRhcmdldENoYXJhY3RlcjogY2hhcmFjdGVyLk1lbWJlck51bWJlciB9IGFzIFRhcmdldENoYXJhY3RlckRpY3Rpb25hcnlFbnRyeV1cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbi8qKlxuICogVXNlIGEgYmVkIG9uIHlvdXJzZWxmXG4gKi9cbmZ1bmN0aW9uIFVzZUJlZCgpOiB2b2lkXG57XG4gICAgaWYgKEludmVudG9yeUdldChQbGF5ZXIsIFwiSXRlbURldmljZXNcIilcbiAgICAgIHx8IEludmVudG9yeUdyb3VwSXNCbG9ja2VkRm9yQ2hhcmFjdGVyKFBsYXllciwgXCJJdGVtRGV2aWNlc1wiKSlcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBzYXZlZEJlZCA9IEpTT04ucGFyc2UoTFpTdHJpbmcuZGVjb21wcmVzc0Zyb21CYXNlNjQoUGxheWVyLk1QQVtNb2R1bGVUaXRsZS5Qcml2YXRlXS5zYXZlZEJlZCB8fCBcIlwiKSB8fCBcInt9XCIpIHx8IHt9O1xuICAgIGlmIChJc0JlZChzYXZlZEJlZCkpXG4gICAge1xuICAgICAgICBJbnZlbnRvcnlXZWFyKFxuICAgICAgICAgICAgUGxheWVyLFxuICAgICAgICAgICAgc2F2ZWRCZWQuSXRlbSxcbiAgICAgICAgICAgIFwiSXRlbURldmljZXNcIixcbiAgICAgICAgICAgIHNhdmVkQmVkLkNvbG9yLnNwbGl0KFwiLFwiKSxcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICBQbGF5ZXIuTWVtYmVyTnVtYmVyLFxuICAgICAgICAgICAgc2F2ZWRCZWQsXG4gICAgICAgICAgICBmYWxzZVxuICAgICAgICApO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICBjb25zdCBoYWlyQ29sb3IgPSBJbnZlbnRvcnlHZXQoUGxheWVyLCBcIkhhaXJGcm9udFwiKT8uQ29sb3IgYXMgSXRlbUNvbG9yO1xuICAgICAgICBJbnZlbnRvcnlXZWFyKFxuICAgICAgICAgICAgUGxheWVyLFxuICAgICAgICAgICAgXCJQZXRCZWRcIixcbiAgICAgICAgICAgIFwiSXRlbURldmljZXNcIixcbiAgICAgICAgICAgIFtoYWlyQ29sb3JbMF0sIFwiRGVmYXVsdFwiLCBoYWlyQ29sb3JbaGFpckNvbG9yLmxlbmd0aCAtIDFdXSxcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICBQbGF5ZXIuTWVtYmVyTnVtYmVyLFxuICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgKTtcbiAgICB9XG4gICAgQ2hhdFJvb21DaGFyYWN0ZXJJdGVtVXBkYXRlKFBsYXllciwgXCJJdGVtRGV2aWNlc1wiKTtcbn1cblxuLyoqXG4gKiBHaXZlIGEgYmVkIHRvIHNvbWVvbmVcbiAqXG4gKiBAcGFyYW0gY2hhcmFjdGVyIC0gV2hvIHRvIGdpdmUgdGhlIGJlZCB0b29cbiAqIEByZXR1cm5zIElmIGJlZCB3YXMgZ2l2ZW5cbiAqL1xuZnVuY3Rpb24gR2l2ZUJlZChjaGFyYWN0ZXI6IENoYXJhY3RlciA9IFBsYXllcik6IGJvb2xlYW5cbntcbiAgICBjb25zdCB1bmFibGVUb0dpdmVCZWQgPSBJbnZlbnRvcnlHZXQoY2hhcmFjdGVyLCBcIkl0ZW1EZXZpY2VzXCIpXG4gICAgICB8fCBJbnZlbnRvcnlHcm91cElzQmxvY2tlZEZvckNoYXJhY3RlcihjaGFyYWN0ZXIsIFwiSXRlbURldmljZXNcIilcbiAgICAgIHx8IChjaGFyYWN0ZXIuTWVtYmVyTnVtYmVyICE9PSBQbGF5ZXIuTWVtYmVyTnVtYmVyICYmICFQbGF5ZXIuQ2FuSW50ZXJhY3QoKSk7XG5cbiAgICBpZiAoY2hhcmFjdGVyLk1lbWJlck51bWJlciAhPT0gUGxheWVyLk1lbWJlck51bWJlcilcbiAgICB7XG4gICAgICAgIGlmICghU2VydmVyQ2hhdFJvb21HZXRBbGxvd0l0ZW0oUGxheWVyLCBjaGFyYWN0ZXIpKVxuICAgICAgICB7XG4gICAgICAgICAgICBOb3RpZnlQbGF5ZXIoXCJNUEE6IE5vIEJDIGl0ZW0gcGVybWlzc2lvblwiLCAzMDAwMCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjaGFyYWN0ZXIuTVBBKVxuICAgICAgICB7XG4gICAgICAgICAgICBNUEFOb3RpZnlQbGF5ZXIoYCR7Y2hhcmFjdGVyLk5pY2tuYW1lIHx8IGNoYXJhY3Rlci5OYW1lfSBkb2VzIG5vdCBoYXZlIE1QQSwgdW5hYmxlIHRvIGdpdmUgYmVkYCwgMzAwMDApO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1bmFibGVUb0dpdmVCZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIE1QQU5vdGlmeVBsYXllcihgVW5hYmxlIHRvIHR1Y2sgJHtjaGFyYWN0ZXIuTmlja25hbWUgfHwgY2hhcmFjdGVyLk5hbWV9IGludG8gYmVkYCwgMzAwMDApO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIEdpdmVCZWRUZXh0KGNoYXJhY3Rlcik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmICh1bmFibGVUb0dpdmVCZWQpXG4gICAge1xuICAgICAgICBNUEFOb3RpZnlQbGF5ZXIoXCJVbmFibGUgdG8gY3Jhd2wgaW50byBiZWRcIiwgMzAwMDApO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgVXNlQmVkKCk7XG4gICAgR2l2ZUJlZFRleHQoY2hhcmFjdGVyKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEJlZCgpOiB2b2lkXG57XG4gICAgQ29tbWFuZENvbWJpbmUoW3tcbiAgICAgICAgVGFnOiBcImJlZFwiLFxuICAgICAgICBEZXNjcmlwdGlvbjogXCJbKG9wdGlvbmFsKSBCZWQgZXhwb3J0IGNvZGUgT1IgT3RoZXIgcGxheWVyXSBDcmF3bCBpbnRvIGJlZCB3aXRob3V0IG5lZWRpbmcgaGFuZHNcIixcbiAgICAgICAgQWN0aW9uOiAoX2FyZ3MsIG1zZywgX3BhcnNlZCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgLy8gQXJndW1lbnQgaXMgcGFzc2VkXG4gICAgICAgICAgICBjb25zdCBhcmcgPSAoKC9eKFxcUyspXFxzKiguKikkLy5leGVjKG1zZykpID8/IFtcIlwiLCBcIlwiLCBcIlwiXSlbMl07XG4gICAgICAgICAgICBpZiAoYXJnKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoYXIgPSBGaW5kQ2hhcmFjdGVySW5Sb29tKGFyZyk7XG4gICAgICAgICAgICAgICAgaWYgKGNoYXIpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBHaXZlQmVkKGNoYXIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIGJlZCBjcmFmdFxuICAgICAgICAgICAgICAgIGNvbnN0IG9iaiA9IEpTT04ucGFyc2UoTFpTdHJpbmcuZGVjb21wcmVzc0Zyb21CYXNlNjQoYXJnKSB8fCBcInt9XCIpIHx8IHt9O1xuICAgICAgICAgICAgICAgIGlmIChJc0JlZChvYmopKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgUGxheWVyLk1QQVtNb2R1bGVUaXRsZS5Qcml2YXRlXS5zYXZlZEJlZCA9IGFyZztcbiAgICAgICAgICAgICAgICAgICAgU2F2ZVN0b3JhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBNUEFOb3RpZnlQbGF5ZXIoXCJCZWQgc2F2ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBNUEFOb3RpZnlQbGF5ZXIoXCJJbnZhbGlkIGFyZ3VtZW50IGdpdmVuIVwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIEdpdmVCZWQoUGxheWVyKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAgVGFnOiBcImJsYW5rZXRcIixcbiAgICAgICAgRGVzY3JpcHRpb246IFwiUHVsbCB0aGUgYmxhbmtldCBvdmVyIHlvdXJzZWxmIChPbmx5IHdvcmtzIG9uIFBldEJlZClcIixcbiAgICAgICAgQWN0aW9uOiAoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBibGFua3lcbiAgICAgICAgICAgIGNvbnN0IGJlZCA9IEludmVudG9yeUdldChQbGF5ZXIsIFwiSXRlbURldmljZXNcIik7XG4gICAgICAgICAgICBpZiAoYmVkPy5Bc3NldC5OYW1lICE9PSBcIlBldEJlZFwiKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIE1QQU5vdGlmeVBsYXllcihcIlVuYWJsZSB0byBwdWxsIHRoZSBibGFua2V0IG92ZXIgeW91cnNlbGYuXCIsIDIwMDAwKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghKGJlZC5Qcm9wZXJ0eT8uVHlwZVJlY29yZD8udHlwZWQgPT09IDAgfHwgYmVkLlByb3BlcnR5Py5UeXBlUmVjb3JkPy50eXBlZCA9PT0gMSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgTVBBTm90aWZ5UGxheWVyKFwiVW5hYmxlIHRvIHB1bGwgdGhlIGJsYW5rZXQgb3ZlciB5b3Vyc2VsZi5cIiwgMjAwMDApO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJlZC5Qcm9wZXJ0eS5UeXBlUmVjb3JkLnR5cGVkID0gTnVtYmVyKCFiZWQuUHJvcGVydHkuVHlwZVJlY29yZC50eXBlZCk7XG4gICAgICAgICAgICBDaGF0Um9vbUNoYXJhY3RlclVwZGF0ZShQbGF5ZXIpO1xuICAgICAgICAgICAgaWYgKGJlZC5Qcm9wZXJ0eS5UeXBlUmVjb3JkLnR5cGVkID09PSAxKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFNlbmRBY3Rpb24oXG4gICAgICAgICAgICAgICAgICAgIFwiU291cmNlQ2hhcmFjdGVyIHB1bGxzIGEgYmxhbmtldCBvdmVyIFByb25vdW5PYmplY3QuXCIsXG4gICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgW3sgU291cmNlQ2hhcmFjdGVyOiBQbGF5ZXIuTWVtYmVyTnVtYmVyIH0gYXMgU291cmNlQ2hhcmFjdGVyRGljdGlvbmFyeUVudHJ5XVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgU2VuZEFjdGlvbihcbiAgICAgICAgICAgICAgICAgICAgXCJTb3VyY2VDaGFyYWN0ZXIgcmVtb3ZlcyB0aGUgYmxhbmtldCBmcm9tIG9uIHRvcCBvZiBQcm9ub3VuT2JqZWN0LlwiLFxuICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIFt7IFNvdXJjZUNoYXJhY3RlcjogUGxheWVyLk1lbWJlck51bWJlciB9IGFzIFNvdXJjZUNoYXJhY3RlckRpY3Rpb25hcnlFbnRyeV1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgSG9va0Z1bmN0aW9uKG51bGwsIFwiQ2hhdFJvb21NZXNzYWdlXCIsIDEwMCwgKGFyZ3MsIG5leHQpID0+XG4gICAge1xuICAgICAgICBjb25zdCBkYXRhID0gYXJnc1swXTtcbiAgICAgICAgaWYgKGRhdGEuVHlwZSA9PT0gXCJBY3Rpdml0eVwiXG4gICAgICAgICAgJiYgZGF0YS5Db250ZW50ID09PSBcIk1heWFTY3JpcHRcIlxuICAgICAgICAgICYmIEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIlRhcmdldENoYXJhY3RlclwiKSA9PT0gUGxheWVyLk1lbWJlck51bWJlclxuICAgICAgICAgICYmIGRhdGEuRGljdGlvbmFyeT8uc29tZShcbiAgICAgICAgICAgICAgKGN1cnIpID0+IChjdXJyIGFzIGFueSk/LlRhZyA9PT0gXCJNSVNTSU5HIEFDVElWSVRZIERFU0NSSVBUSU9OIEZPUiBLRVlXT1JEIE1heWFTY3JpcHRcIlxuICAgICAgICAgICAgICAmJiAoY3VyciBhcyBhbnkpPy5UZXh0ID09PSBCT1dMX09USEVSX1RFWFRcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgICAge1xuICAgICAgICAgICAgVXNlQmVkKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgfSk7XG59XG4iLCJpbXBvcnQgeyBTYXZlU3RvcmFnZSB9IGZyb20gXCIuLi91dGlsL3N0b3JhZ2VcIjtcbmltcG9ydCB7IE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4uL21vZHVsZXMvX21vZHVsZVwiO1xuaW1wb3J0IHsgRmluZENoYXJhY3RlckluUm9vbSwgR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5LCBNUEFOb3RpZnlQbGF5ZXIsIE5vdGlmeVBsYXllciwgU2VuZEFjdGlvbiB9IGZyb20gXCIuLi91dGlsL21lc3NhZ2luZ1wiO1xuaW1wb3J0IHsgSG9va0Z1bmN0aW9uIH0gZnJvbSBcIi4uL3V0aWwvc2RrXCI7XG5cbmNvbnN0IEJPV0xfU0VMRl9URVhUID0gXCJTb3VyY2VDaGFyYWN0ZXIgbGF5cyBhIGJvd2wgb2YgZm9vZCBhbmQgd2F0ZXIgb24gdGhlIGdyb3VuZCBpbiBmcm9udCBvZiBQcm9ub3VuT2JqZWN0c2VsZi5cIjtcbmNvbnN0IEJPV0xfT1RIRVJfVEVYVCA9IFwiU291cmNlQ2hhcmFjdGVyIGxheXMgYSBib3dsIG9mIGZvb2QgYW5kIHdhdGVyIG9uIHRoZSBncm91bmQgaW4gZnJvbnQgb2YgVGFyZ2V0Q2hhcmFjdGVyLlwiO1xuY29uc3QgQk9XTF9SRUdFWCA9IC9eKD86XFx3fFsgfiEkIyUqK10pKiQvO1xuXG5mdW5jdGlvbiBJc0Jvd2woYm93bDogYW55KTogYm9vbGVhblxue1xuICAgIC8vIEludmFsaWQgY3JhZnQgPSBza2lwXG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKGJvd2wpLmxlbmd0aCA+IDBcbiAgICAgICYmIENyYWZ0aW5nVmFsaWRhdGUoYm93bCkgPT09IENyYWZ0aW5nU3RhdHVzVHlwZS5PS1xuICAgICAgJiYgYm93bD8uSXRlbSA9PSBcIlBldEJvd2xcIjtcbn1cblxuLyoqXG4gKiBEaXNwbGF5IHRoZSBib3dsIHRleHRcbiAqL1xuZnVuY3Rpb24gR2l2ZUJvd2xUZXh0KGNoYXJhY3RlcjogQ2hhcmFjdGVyID0gUGxheWVyKTogdm9pZFxue1xuICAgIGlmIChjaGFyYWN0ZXIuTWVtYmVyTnVtYmVyID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyKVxuICAgIHtcbiAgICAgICAgU2VuZEFjdGlvbihcbiAgICAgICAgICAgIEJPV0xfU0VMRl9URVhULFxuICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgW3sgU291cmNlQ2hhcmFjdGVyOiBQbGF5ZXIuTWVtYmVyTnVtYmVyIH0gYXMgU291cmNlQ2hhcmFjdGVyRGljdGlvbmFyeUVudHJ5XVxuICAgICAgICApO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICBTZW5kQWN0aW9uKFxuICAgICAgICAgICAgQk9XTF9PVEhFUl9URVhULFxuICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgW3sgU291cmNlQ2hhcmFjdGVyOiBQbGF5ZXIuTWVtYmVyTnVtYmVyIH0gYXMgU291cmNlQ2hhcmFjdGVyRGljdGlvbmFyeUVudHJ5LFxuICAgICAgICAgICAgICAgIHsgVGFyZ2V0Q2hhcmFjdGVyOiBjaGFyYWN0ZXIuTWVtYmVyTnVtYmVyIH0gYXMgVGFyZ2V0Q2hhcmFjdGVyRGljdGlvbmFyeUVudHJ5XVxuICAgICAgICApO1xuICAgIH1cbn1cblxuLyoqXG4gKiBVc2UgYSBib3dsIG9uIHlvdXJzZWxmXG4gKi9cbmZ1bmN0aW9uIFVzZUJvd2woKTogdm9pZFxue1xuICAgIGlmIChJbnZlbnRvcnlHZXQoUGxheWVyLCBcIkl0ZW1EZXZpY2VzXCIpXG4gICAgICB8fCBJbnZlbnRvcnlHcm91cElzQmxvY2tlZEZvckNoYXJhY3RlcihQbGF5ZXIsIFwiSXRlbURldmljZXNcIikpXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgc2F2ZWRCb3dsID0gSlNPTi5wYXJzZShMWlN0cmluZy5kZWNvbXByZXNzRnJvbUJhc2U2NChQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLlByaXZhdGVdLnNhdmVkQm93bCB8fCBcIlwiKSB8fCBcInt9XCIpIHx8IHt9O1xuICAgIGlmIChJc0Jvd2woc2F2ZWRCb3dsKSlcbiAgICB7XG4gICAgICAgIChJbnZlbnRvcnlXZWFyKFxuICAgICAgICAgICAgUGxheWVyLFxuICAgICAgICAgICAgc2F2ZWRCb3dsLkl0ZW0sXG4gICAgICAgICAgICBcIkl0ZW1EZXZpY2VzXCIsXG4gICAgICAgICAgICBzYXZlZEJvd2wuQ29sb3Iuc3BsaXQoXCIsXCIpLFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIFBsYXllci5NZW1iZXJOdW1iZXIsXG4gICAgICAgICAgICBzYXZlZEJvd2wsXG4gICAgICAgICAgICBmYWxzZVxuICAgICAgICApIGFzIGFueSkuUHJvcGVydHkgPSBzYXZlZEJvd2wuSXRlbVByb3BlcnR5O1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICBjb25zdCBoYWlyQ29sb3IgPSBJbnZlbnRvcnlHZXQoUGxheWVyLCBcIkhhaXJGcm9udFwiKT8uQ29sb3IgYXMgSXRlbUNvbG9yO1xuICAgICAgICAoSW52ZW50b3J5V2VhcihcbiAgICAgICAgICAgIFBsYXllcixcbiAgICAgICAgICAgIFwiUGV0Qm93bFwiLFxuICAgICAgICAgICAgXCJJdGVtRGV2aWNlc1wiLFxuICAgICAgICAgICAgW2hhaXJDb2xvclswXSwgXCIjMDAwMDAwXCJdLFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIFBsYXllci5NZW1iZXJOdW1iZXIsXG4gICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICBmYWxzZVxuICAgICAgICApIGFzIGFueSkuUHJvcGVydHkgPSB7XG4gICAgICAgICAgICBUZXh0OiAoKFBsYXllci5OaWNrbmFtZSAmJiBCT1dMX1JFR0VYLnRlc3QoUGxheWVyLk5pY2tuYW1lKSkgPyBQbGF5ZXIuTmlja25hbWUgOiBCT1dMX1JFR0VYLnRlc3QoUGxheWVyLk5hbWUpID8gUGxheWVyLk5hbWUgOiBcIlwiKS5zdWJzdHJpbmcoMCwgMTIpXG4gICAgICAgIH07XG4gICAgfVxuICAgIENoYXRSb29tQ2hhcmFjdGVyVXBkYXRlKFBsYXllcik7XG59XG5cbi8qKlxuICogR2l2ZSBhIGJvd2wgdG8gc29tZW9uZVxuICpcbiAqIEBwYXJhbSBjaGFyYWN0ZXIgLSBXaG8gdG8gZ2l2ZSB0aGUgYm93bCB0b29cbiAqIEByZXR1cm5zIElmIGJvd2wgd2FzIGdpdmVuXG4gKi9cbmZ1bmN0aW9uIEdpdmVCb3dsKGNoYXJhY3RlcjogQ2hhcmFjdGVyID0gUGxheWVyKTogYm9vbGVhblxue1xuICAgIGNvbnN0IHVuYWJsZVRvR2l2ZUJvd2wgPSBJbnZlbnRvcnlHZXQoY2hhcmFjdGVyLCBcIkl0ZW1EZXZpY2VzXCIpXG4gICAgICB8fCBJbnZlbnRvcnlHcm91cElzQmxvY2tlZEZvckNoYXJhY3RlcihjaGFyYWN0ZXIsIFwiSXRlbURldmljZXNcIilcbiAgICAgIHx8ICFQbGF5ZXIuQ2FuSW50ZXJhY3QoKTtcblxuICAgIGlmIChjaGFyYWN0ZXIuTWVtYmVyTnVtYmVyICE9PSBQbGF5ZXIuTWVtYmVyTnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKCFTZXJ2ZXJDaGF0Um9vbUdldEFsbG93SXRlbShQbGF5ZXIsIGNoYXJhY3RlcikpXG4gICAgICAgIHtcbiAgICAgICAgICAgIE5vdGlmeVBsYXllcihcIk1QQTogTm8gQkMgaXRlbSBwZXJtaXNzaW9uXCIsIDMwMDAwKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNoYXJhY3Rlci5NUEEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIE1QQU5vdGlmeVBsYXllcihgJHtjaGFyYWN0ZXIuTmlja25hbWUgfHwgY2hhcmFjdGVyLk5hbWV9IGRvZXMgbm90IGhhdmUgTVBBLCB1bmFibGUgdG8gZ2l2ZSBib3dsYCwgMzAwMDApO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1bmFibGVUb0dpdmVCb3dsKVxuICAgICAgICB7XG4gICAgICAgICAgICBNUEFOb3RpZnlQbGF5ZXIoYFVuYWJsZSB0byBnaXZlICR7Y2hhcmFjdGVyLk5pY2tuYW1lIHx8IGNoYXJhY3Rlci5OYW1lfSBhIGJvd2xgLCAzMDAwMCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgR2l2ZUJvd2xUZXh0KGNoYXJhY3Rlcik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmICh1bmFibGVUb0dpdmVCb3dsKVxuICAgIHtcbiAgICAgICAgTVBBTm90aWZ5UGxheWVyKFwiVW5hYmxlIHRvIGdpdmUgYm93bFwiLCAzMDAwMCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBVc2VCb3dsKCk7XG4gICAgR2l2ZUJvd2xUZXh0KGNoYXJhY3Rlcik7XG4gICAgcmV0dXJuIHRydWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBCb3dsKCk6IHZvaWRcbntcbiAgICBDb21tYW5kQ29tYmluZShbe1xuICAgICAgICBUYWc6IFwiYm93bFwiLFxuICAgICAgICBEZXNjcmlwdGlvbjogXCJHaXZlIGJvd2wgdG8gcGV0XCIsXG4gICAgICAgIEFjdGlvbjogKF9hcmdzLCBtc2csIF9wYXJzZWQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIEFyZ3VtZW50IGlzIHBhc3NlZFxuICAgICAgICAgICAgY29uc3QgYXJnID0gKCgvXihcXFMrKVxccyooLiopJC8uZXhlYyhtc2cpKSA/PyBbXCJcIiwgXCJcIiwgXCJcIl0pWzJdO1xuICAgICAgICAgICAgaWYgKGFyZylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGFyID0gRmluZENoYXJhY3RlckluUm9vbShhcmcpO1xuICAgICAgICAgICAgICAgIGlmIChjaGFyKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgR2l2ZUJvd2woY2hhcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgYm93bCBjcmFmdFxuICAgICAgICAgICAgICAgIGNvbnN0IG9iaiA9IEpTT04ucGFyc2UoTFpTdHJpbmcuZGVjb21wcmVzc0Zyb21CYXNlNjQoYXJnKSB8fCBcInt9XCIpIHx8IHt9O1xuICAgICAgICAgICAgICAgIGlmIChJc0Jvd2wob2JqKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFBsYXllci5NUEFbTW9kdWxlVGl0bGUuUHJpdmF0ZV0uc2F2ZWRCb3dsID0gYXJnO1xuICAgICAgICAgICAgICAgICAgICBTYXZlU3RvcmFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIE1QQU5vdGlmeVBsYXllcihcIkJvd2wgc2F2ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBNUEFOb3RpZnlQbGF5ZXIoXCJJbnZhbGlkIGFyZ3VtZW50IGdpdmVuIVwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIEdpdmVCb3dsKFBsYXllcik7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICBIb29rRnVuY3Rpb24obnVsbCwgXCJDaGF0Um9vbU1lc3NhZ2VcIiwgMTAwLCAoYXJncywgbmV4dCkgPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhcmdzWzBdO1xuICAgICAgICBpZiAoZGF0YS5UeXBlID09PSBcIkFjdGl2aXR5XCJcbiAgICAgICAgICAmJiBkYXRhLkNvbnRlbnQgPT09IFwiTWF5YVNjcmlwdFwiXG4gICAgICAgICAgJiYgR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiVGFyZ2V0Q2hhcmFjdGVyXCIpID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyXG4gICAgICAgICAgJiYgZGF0YS5EaWN0aW9uYXJ5Py5zb21lKFxuICAgICAgICAgICAgICAoY3VycikgPT4gKGN1cnIgYXMgYW55KT8uVGFnID09PSBcIk1JU1NJTkcgQUNUSVZJVFkgREVTQ1JJUFRJT04gRk9SIEtFWVdPUkQgTWF5YVNjcmlwdFwiXG4gICAgICAgICAgICAgICYmIChjdXJyIGFzIGFueSk/LlRleHQgPT09IEJPV0xfT1RIRVJfVEVYVFxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgICB7XG4gICAgICAgICAgICBVc2VCb3dsKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgfSk7XG59XG4iLCJpbXBvcnQgeyBCZWQgfSBmcm9tIFwiLi9iZWRcIjtcbmltcG9ydCB7IEJvd2wgfSBmcm9tIFwiLi9ib3dsXCI7XG4vLyBpbXBvcnQgeyBMb2dDaGF0IH0gZnJvbSBcIi4vbG9nXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBCdWlsZEFsbENvbW1hbmRzKCk6IHZvaWRcbntcbiAgICBCZWQoKTtcbiAgICBCb3dsKCk7XG4gICAgLy8gTG9nQ2hhdCgpO1xufVxuIiwiLy8gSWYgeW91IHdhbnQgdG8gbG9jYWxpemUgdGhpcyBhZGRvbiB0byB5b3VyIGxhbmd1YWdlIGZvciB5b3Vyc2VsZiBhbmQgb3RoZXJzLCBoZXJlIGlzIGhvd1xuLy8gMS4gQ3JlYXRlIGEgbmV3IGZpbGUgaW4gdGhlIGxvY2FsaXphdGlvbiBkaXJlY3RvcnkgbmFtZWQgW2xhbmd1YWdlXS5qc29uXG4vLyAyLiBDb3B5IGFuZCBwYXN0ZSB0aGUgY29udGVudHMgb2YgdGVtcGxhdGUuanNvbiBpbnRvIHlvdXIgbmV3IFtsYW5ndWFnZV0uanNvbiBmaWxlLlxuLy8gMy4gUmVwbGFjZSB0aGUgcmlnaHQoZW1wdHkpIHNpZGUgb2YgdGhlIHRleHQgd2l0aCB0aGUgdHJhbnNsYXRpb24gZnJvbSB0aGUgRW5nbGlzaCBvbiB0aGUgbGVmdC5cbi8vIDNiLiBEbyBub3QgdHJhbnNsYXRlIHdvcmRzIGxpa2UgU291cmNlQ2hhcmFjdGVyIGFuZCBTZXR0aW5nc0FycmF5LCBsZWF2ZSB0aG9zZSBhcyB0aGV5IHdpbGwgYmUgZmlsbGVkIGluIGJ5IHRoZSBjb2RlXG4vLyA0LiBJbXBvcnQgdGhlIGpzb24gZm9sbG93aW5nIHRoZSBleGFtcGxlIGJlbG93LCBtYWtlIHN1cmUgdGhhdCB0aGUgbmFtZSB5b3UgaW1wb3J0IHRoZSBmaWxlIGlzXG4vLyAgICB0aGUgc2FtZSB0aGF0IGRlZmluZWQgYnkgVHJhbnNsYXRpb25MYW5ndWFnZS4gRXg6IEVuZ2xpc2ggLT4gRU5cbi8vICAgIElmIHlvdSBhcmUgdW5zdXJlIG9mIGhvdyB0byBkbyB0aGlzIGJ1dCBzdGlsbCB3YW50IHRvIGNvbnRyaWJ1dGUsIHJlYWNoIG91dCBhbmQgSSB3aWxsIGF0dGVtcHQgdG8gaGVscC5cblxuaW1wb3J0IHRlbXBsYXRlIGZyb20gXCIuL3RlbXBsYXRlLmpzb25cIjtcbmltcG9ydCBSVSBmcm9tIFwiLi9SVS5qc29uXCI7XG5cbi8vIEV2ZXJ5dGhpbmcgaXMgZGVmYXVsdGVkIHRvIEVuZ2xpc2hcbmNvbnN0IHRyYW5zbGF0aW9ucyA9XG57XG4gICAgdGVtcGxhdGU6IHRlbXBsYXRlLFxuICAgIFJVOiBSVVxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIExvY2FsaXplZFRleHQodGV4dDogc3RyaW5nKTogc3RyaW5nXG57XG4gICAgY29uc3QgdHJhbnNsYXRlZFRleHQgPSB0cmFuc2xhdGlvbnM/LltUcmFuc2xhdGlvbkxhbmd1YWdlXT8uW3RleHRdO1xuICAgIGlmICghIXRyYW5zbGF0ZWRUZXh0ICYmIHRyYW5zbGF0ZWRUZXh0ICE9PSBcIlwiKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRyYW5zbGF0ZWRUZXh0O1xuICAgIH1cbiAgICByZXR1cm4gdGV4dDtcbn1cbiIsImltcG9ydCB7IFJlbW92ZUhvb2tzIH0gZnJvbSBcIi4uL3V0aWwvc2RrXCI7XG5pbXBvcnQgeyBDcmVhdGVBY3Rpdml0aWVzLCBSZW1vdmVBY3Rpdml0aWVzIH0gZnJvbSBcIi4uL3V0aWwvYWN0aXZpdGllc1wiO1xuaW1wb3J0IHsgQWRkRGF0YVN5bmNMaXN0ZW5lcnMsIEhvb2tlZE1lc3NhZ2UsIFJlbW92ZURhdGFTeW5jTGlzdGVuZXJzIH0gZnJvbSBcIi4uL3V0aWwvbWVzc2FnaW5nXCI7XG5cbmV4cG9ydCBlbnVtIE1vZHVsZVRpdGxlXG57XG4gICAgVW5rbm93biA9IFwiVW5rbm93blwiLFxuICAgIEF1dGhvcml0eSA9IFwiQXV0aG9yaXR5XCIsXG4gICAgQWN0aXZpdGllcyA9IFwiQWN0aXZpdGllc1wiLFxuICAgIENsaWNrZXIgPSBcIkNsaWNrZXJcIixcbiAgICBTZXR0aW5ncyA9IFwiU2V0dGluZ3NcIixcbiAgICBWaXJ0dWFsUGV0ID0gXCJWaXJ0dWFsUGV0XCIsXG4gICAgVmlydHVhbFBldEhVRCA9IFwiVmlydHVhbFBldEh1ZFwiLFxuICAgIFZpcnR1YWxQZXRDb25kaXRpb25zID0gXCJWaXJ0dWFsUGV0Q29uZGl0aW9uc1wiLFxuICAgIERhdGFTeW5jID0gXCJEYXRhU3luY1wiLFxuICAgIFByb2ZpbGUgPSBcIlByb2ZpbGVcIixcbiAgICBTZXR0aW5nc090aGVyID0gXCJTZXR0aW5nc090aGVyXCIsXG4gICAgUHJpdmF0ZSA9IFwiUHJpdmF0ZVwiXG59XG5cbmV4cG9ydCBjb25zdCBNb2R1bGVUaXRsZVB1YmxpY2l0eTogUGFydGlhbDxSZWNvcmQ8TW9kdWxlVGl0bGUsIGJvb2xlYW4+PiA9IHtcbiAgICBbTW9kdWxlVGl0bGUuVW5rbm93bl06IGZhbHNlLFxuICAgIFtNb2R1bGVUaXRsZS5BdXRob3JpdHldOiB0cnVlLFxuICAgIFtNb2R1bGVUaXRsZS5BY3Rpdml0aWVzXTogdHJ1ZSxcbiAgICBbTW9kdWxlVGl0bGUuQ2xpY2tlcl06IHRydWUsXG4gICAgW01vZHVsZVRpdGxlLlNldHRpbmdzXTogdHJ1ZSxcbiAgICBbTW9kdWxlVGl0bGUuVmlydHVhbFBldF06IHRydWUsXG4gICAgW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRIVURdOiBmYWxzZSxcbiAgICBbTW9kdWxlVGl0bGUuVmlydHVhbFBldENvbmRpdGlvbnNdOiB0cnVlLFxuICAgIFtNb2R1bGVUaXRsZS5EYXRhU3luY106IHRydWUsXG4gICAgW01vZHVsZVRpdGxlLlByb2ZpbGVdOiB0cnVlLFxuICAgIFtNb2R1bGVUaXRsZS5TZXR0aW5nc090aGVyXTogdHJ1ZSxcbiAgICBbTW9kdWxlVGl0bGUuUHJpdmF0ZV06IGZhbHNlXG59O1xuXG4vKipcbiAqIENoZWNrIGlmIGEgbW9kdWxlIGlzIHB1YmxpYywgYWxsb3dpbmcgdGhlIGRhdGEgdG8gYmUgc2hhcmVkIHdpdGggb3RoZXJzXG4gKlxuICogQHBhcmFtIG1vZHVsZVRpdGxlIFRoZSBtb2R1bGUgdG8gY2hlY2tcbiAqIEByZXR1cm5zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBNb2R1bGVJc1B1YmxpYyhtb2R1bGVUaXRsZTogTW9kdWxlVGl0bGUpOiBib29sZWFuXG57XG4gICAgcmV0dXJuIE1vZHVsZVRpdGxlUHVibGljaXR5W21vZHVsZVRpdGxlXSA/PyB0cnVlO1xufVxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgTW9kdWxlXG57XG4gICAgZ2V0IFRpdGxlKCk6IE1vZHVsZVRpdGxlXG4gICAge1xuICAgICAgICByZXR1cm4gTW9kdWxlVGl0bGUuVW5rbm93bjtcbiAgICB9XG5cbiAgICBnZXQgQWN0aXZpdGllcygpOiBDdXN0b21BY3Rpdml0eVtdXG4gICAge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgZ2V0IFNldHRpbmdzKCk6IFNldHRpbmdbXVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIGdldCBTeW5jTGlzdGVuZXJzKCk6IEhvb2tlZE1lc3NhZ2VbXVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIExvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgQ3JlYXRlQWN0aXZpdGllcyh0aGlzLkFjdGl2aXRpZXMpO1xuICAgICAgICBBZGREYXRhU3luY0xpc3RlbmVycyh0aGlzLlN5bmNMaXN0ZW5lcnMpO1xuICAgIH1cblxuICAgIFVubG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBSZW1vdmVIb29rcyh0aGlzLlRpdGxlKTtcbiAgICAgICAgUmVtb3ZlQWN0aXZpdGllcyh0aGlzLkFjdGl2aXRpZXMpO1xuICAgICAgICBSZW1vdmVEYXRhU3luY0xpc3RlbmVycyh0aGlzLlRpdGxlKTtcbiAgICB9XG5cbiAgICBSZWxvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5VbmxvYWQoKTtcbiAgICAgICAgdGhpcy5Mb2FkKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgTW9kdWxlLCBNb2R1bGVUaXRsZSB9IGZyb20gXCIuL19tb2R1bGVcIjtcbmltcG9ydCB7IEZpbmRDaGFyYWN0ZXJJblJvb20sIEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeSB9IGZyb20gXCIuLi91dGlsL21lc3NhZ2luZ1wiO1xuaW1wb3J0IHsgYWN0aXZpdHlJbWFnZXMsIGFjdGl2aXR5UHJlcmVxdWlzaXRlcywgYWN0aXZpdHlSZWNlaXZlZCwgYWN0aXZpdHlUcmlnZ2VycyB9IGZyb20gXCIuLi91dGlsL2FjdGl2aXRpZXNcIjtcbmltcG9ydCB7IEhvb2tGdW5jdGlvbiB9IGZyb20gXCIuLi91dGlsL3Nka1wiO1xuaW1wb3J0IHsgQUNUSVZJVFlfTkFNRV9QUkVGSVgsIEJFTExfU09VTkQgfSBmcm9tIFwiLi4vdXRpbC9jb25zdGFudHNcIjtcblxuY29uc3QgUmVjaWV2ZUJlbGw6IEFjdGl2aXR5UmVjZWl2ZWQgPSAoc291cmNlLCB0YXJnZXQsIF9ncm91cCwgX2RhdGEpID0+XG57XG4gICAgaWYgKFxuICAgICAgICBQbGF5ZXIuQXVkaW9TZXR0aW5ncz8uUGxheUl0ZW1cbiAgICAgICAgJiYgKCFQbGF5ZXIuQXVkaW9TZXR0aW5ncy5QbGF5SXRlbVBsYXllck9ubHlcbiAgICAgICAgfHwgc291cmNlPy5NZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXJcbiAgICAgICAgfHwgdGFyZ2V0Py5NZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXIpXG4gICAgKVxuICAgIHtcbiAgICAgICAgQkVMTF9TT1VORC5wbGF5KCk7XG4gICAgfVxufTtcblxuZXhwb3J0IGNsYXNzIEFjdGl2aXRpZXNNb2R1bGUgZXh0ZW5kcyBNb2R1bGVcbntcbiAgICBnZXQgVGl0bGUoKTogTW9kdWxlVGl0bGVcbiAgICB7XG4gICAgICAgIHJldHVybiBNb2R1bGVUaXRsZS5BY3Rpdml0aWVzO1xuICAgIH1cblxuICAgIGdldCBBY3Rpdml0aWVzKCk6IEN1c3RvbUFjdGl2aXR5W11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgTmFtZTogXCJGbGlja0JlbGxcIixcbiAgICAgICAgICAgICAgICBNYXhQcm9ncmVzczogNTAsXG4gICAgICAgICAgICAgICAgUHJlcmVxdWlzaXRlOiBbXCJVc2VIYW5kc1wiXSxcbiAgICAgICAgICAgICAgICBDdXN0b21QcmVyZXF1aXNpdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgTmFtZTogXCJIYXNCZWxsQ29sbGFyXCIsXG4gICAgICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogKF9hY3RpbmcsIGFjdGVkLCBfZ3JvdXApID0+XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBJbnZlbnRvcnlHZXQoYWN0ZWQsIFwiSXRlbU5lY2tcIik/LkFzc2V0Py5OYW1lPy50b0xvY2FsZUxvd2VyQ2FzZSgpPy5pbmNsdWRlcyhcImJlbGxcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgSW52ZW50b3J5R2V0KGFjdGVkLCBcIkl0ZW1OZWNrQWNjZXNzb3JpZXNcIik/LkFzc2V0Py5OYW1lPy50b0xvY2FsZUxvd2VyQ2FzZSgpPy5pbmNsdWRlcyhcImJlbGxcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFRhcmdldHM6IFt7XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwOiBcIkl0ZW1OZWNrXCIsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkZsaWNrIEJlbGxcIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uU2VsZjogXCJTb3VyY2VDaGFyYWN0ZXIgZmxpY2tzIHRoZSBiZWxsIG9uIFByb25vdW5Qb3NzZXNzaXZlIGNvbGxhci5cIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uT3RoZXJzOiBcIlNvdXJjZUNoYXJhY3RlciBmbGlja3MgdGhlIGJlbGwgb24gVGFyZ2V0Q2hhcmFjdGVyJ3MgY29sbGFyLlwiXG4gICAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAgICAgSW1hZ2U6IFwiQXNzZXRzXFxcXEZlbWFsZTNEQ0dcXFxcSXRlbU5lY2tBY2Nlc3Nvcmllc1xcXFxQcmV2aWV3XFxcXENvbGxhckJlbGwucG5nXCIsXG4gICAgICAgICAgICAgICAgT25SZWNlaXZlOiBSZWNpZXZlQmVsbFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIE5hbWU6IFwiRmxpY2tCZWxsMlwiLFxuICAgICAgICAgICAgICAgIE1heFByb2dyZXNzOiA1MCxcbiAgICAgICAgICAgICAgICBQcmVyZXF1aXNpdGU6IFtcIlVzZUhhbmRzXCJdLFxuICAgICAgICAgICAgICAgIEN1c3RvbVByZXJlcXVpc2l0ZToge1xuICAgICAgICAgICAgICAgICAgICBOYW1lOiBcIkhhc0JlbGxOaXBwbGVzXCIsXG4gICAgICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogKF9hY3RpbmcsIGFjdGVkLCBfZ3JvdXApID0+XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBJbnZlbnRvcnlHZXQoYWN0ZWQsIFwiSXRlbU5pcHBsZXNcIik/LkFzc2V0Py5OYW1lPy50b0xvY2FsZUxvd2VyQ2FzZSgpPy5pbmNsdWRlcyhcImJlbGxcIikgPz8gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFRhcmdldHM6IFt7XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwOiBcIkl0ZW1OaXBwbGVzXCIsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkZsaWNrIEJlbGxcIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uU2VsZjogXCJTb3VyY2VDaGFyYWN0ZXIgZmxpY2tzIHRoZSBiZWxscyBvbiBQcm9ub3VuUG9zc2Vzc2l2ZSBuaXBwbGUgY2xhbXBzLlwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25PdGhlcnM6IFwiU291cmNlQ2hhcmFjdGVyIGZsaWNrcyB0aGUgYmVsbHMgb24gVGFyZ2V0Q2hhcmFjdGVyJ3MgbmlwcGxlIGNsYW1wcy5cIlxuICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgICAgIEltYWdlOiBcIkFzc2V0c1xcXFxGZW1hbGUzRENHXFxcXEl0ZW1OaXBwbGVzXFxcXFByZXZpZXdcXFxcQmVsbENsYW1wcy5wbmdcIixcbiAgICAgICAgICAgICAgICBPblJlY2VpdmU6IFJlY2lldmVCZWxsXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgTmFtZTogXCJGbGlja0JlbGwzXCIsXG4gICAgICAgICAgICAgICAgTWF4UHJvZ3Jlc3M6IDUwLFxuICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogW1wiVXNlSGFuZHNcIl0sXG4gICAgICAgICAgICAgICAgQ3VzdG9tUHJlcmVxdWlzaXRlOiB7XG4gICAgICAgICAgICAgICAgICAgIE5hbWU6IFwiSGFzQmVsbENsaXRcIixcbiAgICAgICAgICAgICAgICAgICAgUHJlcmVxdWlzaXRlOiAoX2FjdGluZywgYWN0ZWQsIF9ncm91cCkgPT5cbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xpdFBpZXJjaW5nID0gSW52ZW50b3J5R2V0KGFjdGVkLCBcIkl0ZW1WdWx2YVBpZXJjaW5nc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjbGl0UGllcmNpbmc/LkFzc2V0Py5OYW1lID09IFwiUm91bmRDbGl0UGllcmNpbmdcIiB8fCBjbGl0UGllcmNpbmc/LlByb3BlcnR5Py5UeXBlUmVjb3JkPy50eXBlZCA9PSAyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBUYXJnZXRzOiBbe1xuICAgICAgICAgICAgICAgICAgICBncm91cDogXCJJdGVtVnVsdmFQaWVyY2luZ3NcIixcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiRmxpY2sgQmVsbFwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25TZWxmOiBcIlNvdXJjZUNoYXJhY3RlciBmbGlja3MgdGhlIGJlbGwgb24gUHJvbm91blBvc3Nlc3NpdmUgY2xpdCBwaWVyY2luZy5cIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uT3RoZXJzOiBcIlNvdXJjZUNoYXJhY3RlciBmbGlja3MgdGhlIGJlbGwgb24gVGFyZ2V0Q2hhcmFjdGVyJ3MgY2xpdCBwaWVyY2luZy5cIlxuICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgICAgIEltYWdlOiBcIkFzc2V0c1xcXFxGZW1hbGUzRENHXFxcXEl0ZW1WdWx2YVBpZXJjaW5nc1xcXFxQcmV2aWV3XFxcXFJvdW5kQ2xpdFBpZXJjaW5nLnBuZ1wiLFxuICAgICAgICAgICAgICAgIE9uUmVjZWl2ZTogUmVjaWV2ZUJlbGxcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBOYW1lOiBcIkZsaWNrQmVsbDRcIixcbiAgICAgICAgICAgICAgICBNYXhQcm9ncmVzczogNTAsXG4gICAgICAgICAgICAgICAgUHJlcmVxdWlzaXRlOiBbXCJVc2VIYW5kc1wiXSxcbiAgICAgICAgICAgICAgICBDdXN0b21QcmVyZXF1aXNpdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgTmFtZTogXCJIYXNCZWxsTmlwcGxlc1BpZXJjaW5nc1wiLFxuICAgICAgICAgICAgICAgICAgICBQcmVyZXF1aXNpdGU6IChfYWN0aW5nLCBhY3RlZCwgX2dyb3VwKSA9PlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSW52ZW50b3J5R2V0KGFjdGVkLCBcIkl0ZW1OaXBwbGVzUGllcmNpbmdzXCIpPy5Bc3NldD8uTmFtZT8udG9Mb2NhbGVMb3dlckNhc2UoKT8uaW5jbHVkZXMoXCJiZWxsXCIpID8/IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBUYXJnZXRzOiBbe1xuICAgICAgICAgICAgICAgICAgICBncm91cDogXCJJdGVtTmlwcGxlc1wiLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJGbGljayBCZWxsXCIsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvblNlbGY6IFwiU291cmNlQ2hhcmFjdGVyIGZsaWNrcyB0aGUgYmVsbHMgb24gUHJvbm91blBvc3Nlc3NpdmUgbmlwcGxlIHBpZXJjaW5ncy5cIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uT3RoZXJzOiBcIlNvdXJjZUNoYXJhY3RlciBmbGlja3MgdGhlIGJlbGxzIG9uIFRhcmdldENoYXJhY3RlcidzIG5pcHBsZSBwaWVyY2luZ3MuXCJcbiAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgICAgICBJbWFnZTogXCJBc3NldHNcXFxcRmVtYWxlM0RDR1xcXFxJdGVtTmlwcGxlc1BpZXJjaW5nc1xcXFxQcmV2aWV3XFxcXEJlbGxQaWVyY2luZy5wbmdcIixcbiAgICAgICAgICAgICAgICBPblJlY2VpdmU6IFJlY2lldmVCZWxsXG4gICAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgTG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5Mb2FkKCk7XG5cbiAgICAgICAgLy8gUHJlcmVxdWlzaXRlIGhhbmRsaW5nXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIkFjdGl2aXR5Q2hlY2tQcmVyZXF1aXNpdGVcIiwgMSwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IFtwcmVyZXEsIGFjdGluZywgYWN0ZWQsIGdyb3VwXSA9IGFyZ3M7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoYWN0aXZpdHlQcmVyZXF1aXNpdGVzKS5pbmNsdWRlcyhwcmVyZXEpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBhY3Rpdml0eVByZXJlcXVpc2l0ZXNbcHJlcmVxXShhY3RpbmcsIGFjdGVkLCBncm91cCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQWN0aXZpdHkgb250cmlnZ2Vyc1xuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJTZXJ2ZXJTZW5kXCIsIDEsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXJnc1sxXSBhcyBTZXJ2ZXJDaGF0Um9vbU1lc3NhZ2U7XG4gICAgICAgICAgICBpZiAoYXJnc1swXSAhPT0gXCJDaGF0Um9vbUNoYXRcIiB8fCBkYXRhPy5UeXBlICE9PSBcIkFjdGl2aXR5XCIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlIC0gVFMgbm90IGZpbmRpbmcgdHlwZSBhdXRvbWF0aWNhbGx5LCBpdCBleGlzdHNcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2aXR5TmFtZSA9IGRhdGE/LkRpY3Rpb25hcnk/LmZpbmQoKHgpID0+IHguQWN0aXZpdHlOYW1lKT8uQWN0aXZpdHlOYW1lIGFzIHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChhY3Rpdml0eU5hbWU/LnN0YXJ0c1dpdGgoQUNUSVZJVFlfTkFNRV9QUkVGSVgpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRhdGE/LkRpY3Rpb25hcnk/LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBUYWc6IFwiTUlTU0lORyBBQ1RJVklUWSBERVNDUklQVElPTiBGT1IgS0VZV09SRCBcIiArIGRhdGEuQ29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgVGV4dDogQWN0aXZpdHlEaWN0aW9uYXJ5VGV4dChkYXRhLkNvbnRlbnQpXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoYWN0aXZpdHlUcmlnZ2VycykuaW5jbHVkZXMoYWN0aXZpdHlOYW1lKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldE51bWJlciA9IChkYXRhPy5EaWN0aW9uYXJ5Py5maW5kKCh4KSA9PiAoeCBhcyBUYXJnZXRDaGFyYWN0ZXJEaWN0aW9uYXJ5RW50cnkpLlRhcmdldENoYXJhY3RlcikgYXMgVGFyZ2V0Q2hhcmFjdGVyRGljdGlvbmFyeUVudHJ5KT8uVGFyZ2V0Q2hhcmFjdGVyID8/IC0xO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBDaGF0Um9vbUNoYXJhY3Rlcj8uZmluZCgoYykgPT4gYy5NZW1iZXJOdW1iZXIgPT09IHRhcmdldE51bWJlcik7XG4gICAgICAgICAgICAgICAgICAgIGFjdGl2aXR5VHJpZ2dlcnNbYWN0aXZpdHlOYW1lXSh0YXJnZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEFjdGl2aXR5IG9uIHJlY2VpdmVkXG4gICAgICAgIEhvb2tGdW5jdGlvbihNb2R1bGVUaXRsZS5DbGlja2VyLCBcIkNoYXRSb29tTWVzc2FnZVwiLCAwLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgbmV4dChhcmdzKTtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhcmdzWzBdO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGRhdGEuVHlwZSA9PT0gXCJBY3Rpdml0eVwiXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWN0aXZpdHlOYW1lID0gR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiQWN0aXZpdHlOYW1lXCIpIGFzIHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBpZiAoIWFjdGl2aXR5TmFtZT8uc3RhcnRzV2l0aChBQ1RJVklUWV9OQU1FX1BSRUZJWClcbiAgICAgICAgICAgICAgICAgIHx8ICEoYWN0aXZpdHlOYW1lIGluIGFjdGl2aXR5UmVjZWl2ZWQpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2VDaGFyID0gRmluZENoYXJhY3RlckluUm9vbShHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJTb3VyY2VDaGFyYWN0ZXJcIiksXG4gICAgICAgICAgICAgICAgICAgIHsgTWVtYmVyTnVtYmVyOiB0cnVlLCBOaWNrTmFtZTogZmFsc2UsIE5hbWU6IGZhbHNlIH0pID8/IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXRDaGFyID0gRmluZENoYXJhY3RlckluUm9vbShHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJUYXJnZXRDaGFyYWN0ZXJcIiksXG4gICAgICAgICAgICAgICAgICAgIHsgTWVtYmVyTnVtYmVyOiB0cnVlLCBOaWNrTmFtZTogZmFsc2UsIE5hbWU6IGZhbHNlIH0pID8/IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBjb25zdCBncm91cCA9IEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIkZvY3VzR3JvdXBOYW1lXCIpO1xuICAgICAgICAgICAgICAgIGFjdGl2aXR5UmVjZWl2ZWRbYWN0aXZpdHlOYW1lXShzb3VyY2VDaGFyLCB0YXJnZXRDaGFyLCBncm91cCwgZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIERyYXcgY3VzdG9tIGltYWdlcyBmb3IgYWN0aXZpdGllc1xuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJFbGVtZW50QnV0dG9uLkNyZWF0ZUZvckFjdGl2aXR5XCIsIDAsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBhY3Rpdml0eU5hbWUgPSBhcmdzWzFdLkFjdGl2aXR5Lk5hbWU7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoYWN0aXZpdHlJbWFnZXMpLmluY2x1ZGVzKGFjdGl2aXR5TmFtZSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKCFhcmdzWzRdKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYXJnc1s0XSA9IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhcmdzWzRdLmltYWdlID0gYWN0aXZpdHlJbWFnZXNbYWN0aXZpdHlOYW1lXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBVbmxvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3VwZXIuVW5sb2FkKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQVVUSE9SSVRZX0dST1VQX09QVElPTlMgfSBmcm9tIFwiLi4vdXRpbC9hdXRob3JpdHlcIjtcbmltcG9ydCB7IE1vZHVsZSwgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi9fbW9kdWxlXCI7XG5cbmNvbnN0IFBsYXllclA6IChDPzogQ2hhcmFjdGVyKSA9PiBNUEFSZWNvcmQgPSAoQzogQ2hhcmFjdGVyID0gUGxheWVyKSA9Plxue1xuICAgIHJldHVybiBDLk1QQT8uW01vZHVsZVRpdGxlLkF1dGhvcml0eV0gPz8ge307XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gSXNIYXJkY29yZU9uKEM6IENoYXJhY3Rlcik6IGJvb2xlYW5cbntcbiAgICByZXR1cm4gKEMuTVBBPy5bTW9kdWxlVGl0bGUuQXV0aG9yaXR5XS5oYXJkY29yZSBhcyBib29sZWFuIHwgdW5kZWZpbmVkKSA/PyBmYWxzZTtcbn07XG5cbnR5cGUgU2VsZkFjY2VzcyA9IGBzZWxmJHtrZXlvZiB0eXBlb2YgTW9kdWxlVGl0bGV9YDtcbnR5cGUgT3RoZXJzQWNjZXNzID0gYG90aGVycyR7a2V5b2YgdHlwZW9mIE1vZHVsZVRpdGxlfWA7XG5cbmV4cG9ydCBjbGFzcyBBdXRob3JpdHlNb2R1bGUgZXh0ZW5kcyBNb2R1bGVcbntcbiAgICBnZXQgVGl0bGUoKTogTW9kdWxlVGl0bGVcbiAgICB7XG4gICAgICAgIHJldHVybiBNb2R1bGVUaXRsZS5BdXRob3JpdHk7XG4gICAgfVxuXG4gICAgZ2V0IFNldHRpbmdzKCk6IFNldHRpbmdbXVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNldHRpbmdzTm90aWZ5XCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJOb3RpZnkgd2hlbiBvdGhlcnMgYXJlIGFjY2Vzc2luZyBUYXJnZXRDaGFyYWN0ZXIncyBzZXR0aW5nc1wiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwib3duZXJzXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIlwiLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIk93bmVyIG1lbWJlciBudW1iZXJzOyBTZXBlcmF0ZWQgYnkgYSAsXCIsXG4gICAgICAgICAgICAgICAgbWF4Q2hhcnM6IDEwMjQsXG4gICAgICAgICAgICAgICAgd2lkdGg6IDQwMFxuICAgICAgICAgICAgfSBhcyBUZXh0U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiYm91bmRBY2Nlc3NTZWxmXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBUYXJnZXRDaGFyYWN0ZXIgY2hhbmdpbmcgVGFyZ2V0UHJvbm91blBvc3Nlc3NpdmUgb3duIHNldHRpbmdzIHdoaWxlIGJvdW5kXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJib3VuZEFjY2Vzc090aGVyc1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkFsbG93IFRhcmdldENoYXJhY3RlciBjaGFuZ2luZyB0aGUgc2V0dGluZ3Mgb2Ygb3RoZXJzIHdoaWxlIGJvdW5kXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJzZWxmQXV0aG9yaXR5XCIgYXMgU2VsZkFjY2VzcyxcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkFsbG93IFRhcmdldENoYXJhY3RlciB0byBjaGFuZ2UgVGFyZ2V0UHJvbm91blBvc3Nlc3NpdmUgQXV0aG9yaXR5IHNldHRpbmdzXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJvdGhlcnNBdXRob3JpdHlcIiBhcyBPdGhlcnNBY2Nlc3MsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJvcHRpb25cIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogQVVUSE9SSVRZX0dST1VQX09QVElPTlMsXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiQ2x1Ym93bmVyXCIsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWxsb3cgb3RoZXJzIHRvIGNoYW5nZSBUYXJnZXRDaGFyYWN0ZXIncyBBdXRob3JpdHkgc2V0dGluZ3NcIixcbiAgICAgICAgICAgICAgICBsb29wOiBmYWxzZVxuICAgICAgICAgICAgfSBhcyBPcHRpb25TZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJzZWxmUHJvZmlsZVwiIGFzIFNlbGZBY2Nlc3MsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+IFBsYXllclAoQykub3RoZXJzUHJvZmlsZSAhPT0gXCJTZWxmXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWxsb3cgVGFyZ2V0Q2hhcmFjdGVyIHRvIGNoYW5nZSBUYXJnZXRQcm9ub3VuUG9zc2Vzc2l2ZSBQcm9maWxlIHNldHRpbmdzXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJvdGhlcnNQcm9maWxlXCIgYXMgT3RoZXJzQWNjZXNzLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwib3B0aW9uXCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IEFVVEhPUklUWV9HUk9VUF9PUFRJT05TLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIkNsdWJvd25lclwiLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkFsbG93IG90aGVycyB0byBjaGFuZ2UgVGFyZ2V0Q2hhcmFjdGVyJ3MgUHJvZmlsZSBzZXR0aW5nc1wiLFxuICAgICAgICAgICAgICAgIGxvb3A6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG9uU2V0KEMpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBQbGF5ZXJQKEMpLnNlbGZQcm9maWxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGFzIE9wdGlvblNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNlbGZDbGlja2VyXCIgYXMgU2VsZkFjY2VzcyxcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkFsbG93IFRhcmdldENoYXJhY3RlciB0byBjaGFuZ2UgVGFyZ2V0UHJvbm91blBvc3Nlc3NpdmUgQ2xpY2tlciBzZXR0aW5nc1wiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwib3RoZXJzQ2xpY2tlclwiIGFzIE90aGVyc0FjY2VzcyxcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm9wdGlvblwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJDbHVib3duZXJcIixcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBvdGhlcnMgdG8gY2hhbmdlIFRhcmdldENoYXJhY3RlcidzIENsaWNrZXIgc2V0dGluZ3NcIixcbiAgICAgICAgICAgICAgICBsb29wOiBmYWxzZVxuICAgICAgICAgICAgfSBhcyBPcHRpb25TZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJzZWxmVmlydHVhbFBldFwiIGFzIFNlbGZBY2Nlc3MsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBUYXJnZXRDaGFyYWN0ZXIgdG8gY2hhbmdlIFRhcmdldFByb25vdW5Qb3NzZXNzaXZlIFZpcnR1YWwgUGV0IHNldHRpbmdzXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJvdGhlcnNWaXJ0dWFsUGV0XCIgYXMgT3RoZXJzQWNjZXNzLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwib3B0aW9uXCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IEFVVEhPUklUWV9HUk9VUF9PUFRJT05TLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIkNsdWJvd25lclwiLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkFsbG93IG90aGVycyB0byBjaGFuZ2UgVGFyZ2V0Q2hhcmFjdGVyJ3MgVmlydHVhbCBQZXQgc2V0dGluZ3NcIixcbiAgICAgICAgICAgICAgICBsb29wOiBmYWxzZVxuICAgICAgICAgICAgfSBhcyBPcHRpb25TZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJzZWxmVmlydHVhbFBldENvbmRpdGlvbnNcIiBhcyBTZWxmQWNjZXNzLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWxsb3cgVGFyZ2V0Q2hhcmFjdGVyIHRvIGNoYW5nZSBUYXJnZXRQcm9ub3VuUG9zc2Vzc2l2ZSBWaXJ0dWFsIFBldCBDb25kaXRpb25zIHNldHRpbmdzXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJvdGhlcnNWaXJ0dWFsUGV0Q29uZGl0aW9uc1wiIGFzIE90aGVyc0FjY2VzcyxcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm9wdGlvblwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJDbHVib3duZXJcIixcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBvdGhlcnMgdG8gY2hhbmdlIFRhcmdldENoYXJhY3RlcidzIFZpcnR1YWwgUGV0IENvbmRpdGlvbnMgc2V0dGluZ3NcIixcbiAgICAgICAgICAgICAgICBsb29wOiBmYWxzZVxuICAgICAgICAgICAgfSBhcyBPcHRpb25TZXR0aW5nXG4gICAgICAgIF07XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgYmN4QVBJLCBiY3hGb3VuZCwgSG9va0Z1bmN0aW9uIH0gZnJvbSBcIi4uL3V0aWwvc2RrXCI7XG5pbXBvcnQgeyBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnksIFJlbW92ZU9PQ0NvbnRlbnRGcm9tTWVzc2FnZSB9IGZyb20gXCIuLi91dGlsL21lc3NhZ2luZ1wiO1xuaW1wb3J0IHsgQXV0aG9yaXR5R3JvdXAsIElzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAgfSBmcm9tIFwiLi4vdXRpbC9hdXRob3JpdHlcIjtcbmltcG9ydCB7IE1vZHVsZSwgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi9fbW9kdWxlXCI7XG5pbXBvcnQgeyBJc0hhcmRjb3JlT24gfSBmcm9tIFwiLi9wcm9maWxlXCI7XG5cbi8vIENsaWNrZXIgc291bmRzIHRvIHBsYXlcbi8vIEFuIGFycmF5IG9mIGF1ZGlvIGZpbGVzLCAxIGNsaWNrIGluIGluZGV4IDAsIG4rMSBjbGlja3MgaW4gaW5kZXggblxuY29uc3QgQUxMX0NMSUNLUzogSFRNTEF1ZGlvRWxlbWVudFtdID1cbltcbiAgICBuZXcgQXVkaW8oXCJodHRwczovL21lZGlhLnNvdW5kZ2FzbS5uZXQvc291bmRzL2RmMzMzMTZiZWM3YmMwMzkwMjg2MGQyMWZiNGI4ODI3NDY2ZjJiYWQubTRhXCIpLFxuICAgIG5ldyBBdWRpbyhcImh0dHBzOi8vbWVkaWEuc291bmRnYXNtLm5ldC9zb3VuZHMvZmE0OWIxMGRhZDNlMTIwMmRlMDk2ODU5YjMzOWRjZmM1ZWFiOTBhNS5tNGFcIiksXG4gICAgbmV3IEF1ZGlvKFwiaHR0cHM6Ly9tZWRpYS5zb3VuZGdhc20ubmV0L3NvdW5kcy9iMjUxNzdhNmE5MmQ1YTc0ZDA0N2E5ZDc3YTgwN2YyZDFlZDI4YzcxLm00YVwiKVxuXTtcblxuLyoqXG4gKiBHZXQgdGhlIENsaWNrZXIgc2V0dGluZ3Mgb2YgdGhlIFBsYXllclxuICovXG5jb25zdCBQbGF5ZXJDOiAoQz86IENoYXJhY3RlcikgPT4gTVBBUmVjb3JkID0gKEM6IENoYXJhY3RlciA9IFBsYXllcikgPT5cbntcbiAgICByZXR1cm4gQy5NUEE/LltNb2R1bGVUaXRsZS5DbGlja2VyXSA/PyB7fTtcbn07XG5cbi8qKlxuICogR2V0IHRoZSB0b3RhbCBudW1iZXIgb2YgY2xpY2tzIGluIGEgc3RyaW5nXG4gKi9cbmZ1bmN0aW9uIENsaWNrQ291bnQoc3RyOiBzdHJpbmcgPSBcIlwiKTogbnVtYmVyXG57XG4gICAgbGV0IHRvdGFsQ2xpY2tzID0gMDtcbiAgICAoUGxheWVyQygpLnRyaWdnZXJzIGFzIHN0cmluZylcbiAgICAgICAgLnNwbGl0KFwiLFwiKVxuICAgICAgICAubWFwKChzdHI6IHN0cmluZykgPT4gc3RyLnRyaW0oKSlcbiAgICAgICAgLmZpbHRlcigoc3RyKSA9PiBzdHIgIT09IFwiXCIpXG4gICAgICAgIC5mb3JFYWNoKCh0cmlnZ2VyKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICB0b3RhbENsaWNrcyArPSBzdHIudG9Mb2NhbGVMb3dlckNhc2UoKS5tYXRjaChuZXcgUmVnRXhwKHRyaWdnZXIudG9Mb2NhbGVMb3dlckNhc2UoKSwgXCJnXCIpKT8ubGVuZ3RoID8/IDA7XG4gICAgICAgIH0pO1xuICAgIHJldHVybiB0b3RhbENsaWNrcztcbn1cblxuLyoqXG4gKiBQbGF5IGNsaWNrcyB0byB0aGUgdXNlclxuICovXG5mdW5jdGlvbiBQbGF5Q2xpY2tlclNvdW5kKG51bWJlck9mQ2xpY2tzOiBudW1iZXIgPSAwKTogdm9pZFxue1xuICAgIGlmIChcbiAgICAgICAgaXNOYU4obnVtYmVyT2ZDbGlja3MpXG4gICAgICAgIHx8IG51bWJlck9mQ2xpY2tzIDw9IDBcbiAgICAgICAgfHwgIVBsYXllckMoKS5lbmFibGVkXG4gICAgKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIEFMTF9DTElDS1NbTWF0aC5taW4obnVtYmVyT2ZDbGlja3MgLSAxLCBBTExfQ0xJQ0tTLmxlbmd0aCAtIDEpXS5wbGF5KCk7XG59XG5cbmxldCBiY3hIb29rZWQgPSBmYWxzZTtcbmZ1bmN0aW9uIEhvb2tCQ1hDbGlja2VyKCk6IHZvaWRcbntcbiAgICBpZiAoYmN4Rm91bmQoKSAmJiAhYmN4SG9va2VkKVxuICAgIHtcbiAgICAgICAgYmN4QVBJKCk/Lm9uPy4oXCJiY3hMb2NhbE1lc3NhZ2VcIiwgKGRhdGE6IGFueSkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGRhdGE/Lm1lc3NhZ2UgYXMgc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgICAgICAgICAgY29uc3QgcHJlZml4ID0gXCJbVm9pY2VdIFwiO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIFBsYXllckMoKS5lbmFibGVkXG4gICAgICAgICAgICAgICAgJiYgUGxheWVyQygpLmJjeFZvaWNlXG4gICAgICAgICAgICAgICAgJiYgbWVzc2FnZT8uc3RhcnRzV2l0aChwcmVmaXgpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgUGxheUNsaWNrZXJTb3VuZChDbGlja0NvdW50KG1lc3NhZ2Uuc3Vic3RyaW5nKHByZWZpeC5sZW5ndGgpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBiY3hIb29rZWQgPSB0cnVlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENsaWNrZXJNb2R1bGUgZXh0ZW5kcyBNb2R1bGVcbntcbiAgICAvLyBCQ1ggaG9vayBvbmx5IGxvYWRzIG9uY2UsIHVua25vd24gaWYgY2FuIHVuaG9vayBmb3IgVW5sb2FkKClcbiAgICBoYXNCZWVuTG9hZGVkID0gZmFsc2U7XG5cbiAgICBnZXQgVGl0bGUoKTogTW9kdWxlVGl0bGVcbiAgICB7XG4gICAgICAgIHJldHVybiBNb2R1bGVUaXRsZS5DbGlja2VyO1xuICAgIH1cblxuICAgIGdldCBBY3Rpdml0aWVzKCk6IEN1c3RvbUFjdGl2aXR5W11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgTmFtZTogXCJDbGlja2VyMVwiLFxuICAgICAgICAgICAgICAgIE1heFByb2dyZXNzOiA1MCxcbiAgICAgICAgICAgICAgICBQcmVyZXF1aXNpdGU6IFtcIlVzZUhhbmRzXCJdLFxuICAgICAgICAgICAgICAgIEN1c3RvbVByZXJlcXVpc2l0ZToge1xuICAgICAgICAgICAgICAgICAgICBOYW1lOiBcIkhvbGRpbmdDbGlja2VyXCIsXG4gICAgICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogKGFjdGluZywgX2FjdGVkLCBfZ3JvdXApID0+XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBJbnZlbnRvcnlHZXQoYWN0aW5nLCBcIkl0ZW1IYW5kaGVsZFwiKT8uQXNzZXQ/Lk5hbWU/LnRvTG9jYWxlTG93ZXJDYXNlKCk/LmluY2x1ZGVzKFwicmVtb3RlXCIpID8/IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBUYXJnZXRzOiBbe1xuICAgICAgICAgICAgICAgICAgICBncm91cDogXCJJdGVtSGFuZHNcIixcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiQ2xpY2sgT25jZVwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25TZWxmOiBcIlNvdXJjZUNoYXJhY3RlciBwcmVzc2VzIHRoZSBidXR0b24gb24gUHJvbm91blBvc3Nlc3NpdmUgY2xpY2tlci5cIlxuICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgICAgIEltYWdlOiBcIkljb25zL0F1ZGlvT24ucG5nXCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBOYW1lOiBcIkNsaWNrZXIyXCIsXG4gICAgICAgICAgICAgICAgTWF4UHJvZ3Jlc3M6IDUwLFxuICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogW1wiVXNlSGFuZHNcIl0sXG4gICAgICAgICAgICAgICAgQ3VzdG9tUHJlcmVxdWlzaXRlOiB7XG4gICAgICAgICAgICAgICAgICAgIE5hbWU6IFwiSG9sZGluZ0NsaWNrZXJcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgVGFyZ2V0czogW3tcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IFwiSXRlbUhhbmRzXCIsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkNsaWNrIFR3aWNlXCIsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvblNlbGY6IFwiU291cmNlQ2hhcmFjdGVyIHByZXNzZXMgdGhlIGJ1dHRvbiBvbiBQcm9ub3VuUG9zc2Vzc2l2ZSBjbGlja2VyIHR3aWNlLlwiXG4gICAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAgICAgSW1hZ2U6IFwiSWNvbnMvQXVkaW9Pbi5wbmdcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIE5hbWU6IFwiQ2xpY2tlcjNcIixcbiAgICAgICAgICAgICAgICBNYXhQcm9ncmVzczogNTAsXG4gICAgICAgICAgICAgICAgUHJlcmVxdWlzaXRlOiBbXCJVc2VIYW5kc1wiXSxcbiAgICAgICAgICAgICAgICBDdXN0b21QcmVyZXF1aXNpdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgTmFtZTogXCJIb2xkaW5nQ2xpY2tlclwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBUYXJnZXRzOiBbe1xuICAgICAgICAgICAgICAgICAgICBncm91cDogXCJJdGVtSGFuZHNcIixcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiQ2xpY2sgVGhyaWNlXCIsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvblNlbGY6IFwiU291cmNlQ2hhcmFjdGVyIHByZXNzZXMgdGhlIGJ1dHRvbiBvbiBQcm9ub3VuUG9zc2Vzc2l2ZSBjbGlja2VyIHRocmVlIHRpbWVzLlwiXG4gICAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAgICAgSW1hZ2U6IFwiSWNvbnMvQXVkaW9Pbi5wbmdcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuICAgIH1cblxuICAgIGdldCBTZXR0aW5ncygpOiBTZXR0aW5nW11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJlbmFibGVkXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICFJc0hhcmRjb3JlT24oQyksXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkVuYWJsZSBhdWRpdG9yeSBjbGlja2VyXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJ0cmlnZ2Vyc1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyQyhDKS5lbmFibGVkLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIn5jbGlja35cIixcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJQaHJhc2VzIHRoYXQgdHJpZ2dlciB0aGUgY2xpY2s7IFNlcGFyYXRlIHBocmFzZXMgd2l0aCBhIGNvbW1hXCIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IDM4NCxcbiAgICAgICAgICAgICAgICBtYXhDaGFyczogbnVsbFxuICAgICAgICAgICAgfSBhcyBUZXh0U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwic2VsZkF1dGhlZFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllckMoQykuZW5hYmxlZCAmJiBQbGF5ZXJDKEMpLmF1dGhlZEdyb3VwICE9PSBcIlNlbGZcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyB5b3VyIG93biBjaGF0LCBlbW90ZXMsICYgYWN0aW9ucyB0byB0cmlnZ2VyIHRoZSBjbGlja2VyXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJhdXRoZWRHcm91cFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwib3B0aW9uXCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJDKEMpLmVuYWJsZWQsXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiRnJpZW5kc1wiIGFzIEF1dGhvcml0eUdyb3VwLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IFtcIlB1YmxpY1wiLCBcIkZyaWVuZHNcIiwgXCJXaGl0ZWxpc3RcIiwgXCJMb3ZlcnNcIiwgXCJPd25lcnNcIiwgXCJDbHVib3duZXJcIiwgXCJTZWxmXCJdLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIldobyB3aWxsIGJlIGFibGUgdG8gdHJpZ2dlciB0aGUgY2xpY2tlclwiLFxuICAgICAgICAgICAgICAgIGxvb3A6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG9uU2V0KEMpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoUGxheWVyQyhDKS5hdXRoZWRHcm91cCA9PT0gXCJTZWxmXCIpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBsYXllckMoQykuc2VsZkF1dGhlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGFzIE9wdGlvblNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImJjeFZvaWNlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyQyhDKS5lbmFibGVkICYmIGJjeEZvdW5kKCkgJiYgIUlzSGFyZGNvcmVPbihDKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBCQ1ggTGlzdGVuIHRvIG15IHZvaWNlIHJ1bGUgdG8gdHJpZ2dlciB0aGUgY2xpY2tlcjsgUmVxdWlyZXMgQkNYXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nXG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgTG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5Mb2FkKCk7XG5cbiAgICAgICAgLy8gQ2hhdCwgd2hpc3BlciwgZW1vdGUsIGFuZCBhY3Rpb24gdHJpZ2dlcnNcbiAgICAgICAgSG9va0Z1bmN0aW9uKE1vZHVsZVRpdGxlLkNsaWNrZXIsIFwiQ2hhdFJvb21NZXNzYWdlXCIsIDAsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXJnc1swXTtcbiAgICAgICAgICAgIC8vIElmIGNsaWNrZXIgaXMgbm90IGVuYWJsZWQgb3IgaW52YWxpZCBkYXRhLCBza2lwXG4gICAgICAgICAgICAvLyBNZXNzYWdlIHNlbmRlciBub3QgYXV0aGVkLCBza2lwXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgIVBsYXllckMoKS5lbmFibGVkXG4gICAgICAgICAgICAgICAgfHwgIWFyZ3NbMF0/LlR5cGVcbiAgICAgICAgICAgICAgICB8fCAhYXJnc1swXT8uQ29udGVudFxuICAgICAgICAgICAgICAgIHx8ICFhcmdzWzBdPy5TZW5kZXJcbiAgICAgICAgICAgICAgICB8fCAhSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cChkYXRhLlNlbmRlciEsIFBsYXllckMoKS5hdXRoZWRHcm91cCBhcyBBdXRob3JpdHlHcm91cCwgUGxheWVyQygpLnNlbGZBdXRoZWQgYXMgYm9vbGVhbikpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBjbGlja3M6IG51bWJlciA9IDA7XG4gICAgICAgICAgICAvLyBDb3VudCB0aGUgY2xpY2tzIGluIGFuIGVtb3RlIG9yIGNoYXRcbiAgICAgICAgICAgIGlmIChkYXRhLlR5cGUgPT0gXCJDaGF0XCIgfHwgZGF0YS5UeXBlID09IFwiRW1vdGVcIiB8fCBkYXRhLlR5cGUgPT0gXCJXaGlzcGVyXCIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2xpY2tzID0gQ2xpY2tDb3VudChSZW1vdmVPT0NDb250ZW50RnJvbU1lc3NhZ2UoZGF0YS5Db250ZW50KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBDb3VudCB0aGUgY2xpY2tzIGluIGFuIGFjdGlvbiwgKHN1cHBvcnQgY3VzdG9tIGFjdGlvbnMpXG4gICAgICAgICAgICBpZiAoZGF0YS5UeXBlID09IFwiQWN0aW9uXCIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gQmVlcHNcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5Db250ZW50ID09IFwiQmVlcFwiKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tzID0gQ2xpY2tDb3VudCgoZGF0YT8uRGljdGlvbmFyeT8uZmlsdGVyKCh4KSA9PiAoeCBhcyBUZXh0RGljdGlvbmFyeUVudHJ5KS5UYWcgPT0gXCJCZWVwXCIpWzBdIGFzIFRleHREaWN0aW9uYXJ5RW50cnkpPy5UZXh0ID8/IFwiXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBNQkNIIGFjdGlvbnNcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChkYXRhLkRpY3Rpb25hcnk/LnJlZHVjZSgoYWNjLCBjdXJyKSA9PiBhY2MgfHwgKChjdXJyIGFzIGFueSkuVGFnID09PSBcIk1JU1NJTkcgVEVYVCBJTiBcXFwiSW50ZXJmYWNlLmNzdlxcXCI6IFwiICYmIChjdXJyIGFzIGFueSkuVGV4dCA9PT0gXCJcXHUyMDBjXCIpLCBmYWxzZSkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjbGlja3MgPSBDbGlja0NvdW50KGRhdGEuQ29udGVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEJDWCBhY3Rpb25zXG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tzID0gQ2xpY2tDb3VudCgoZGF0YT8uRGljdGlvbmFyeT8uZmlsdGVyKCh4KSA9PiAoeCBhcyBUZXh0RGljdGlvbmFyeUVudHJ5KS5UYWcgPT0gYE1JU1NJTkcgVEVYVCBJTiBcIkludGVyZmFjZS5jc3ZcIjogJHtkYXRhPy5Db250ZW50fWApWzBdIGFzIFRleHREaWN0aW9uYXJ5RW50cnkpPy5UZXh0ID8/IFwiXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUGxheSB0aGUgY2xpY2tzIGlmIG5lZWRlZFxuICAgICAgICAgICAgUGxheUNsaWNrZXJTb3VuZChjbGlja3MpO1xuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEhhbmQgY2xpY2tlciBhY3Rpdml0eSB0cmlnZ2VyXG4gICAgICAgIEhvb2tGdW5jdGlvbihNb2R1bGVUaXRsZS5DbGlja2VyLCBcIkNoYXRSb29tTWVzc2FnZVwiLCAwLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgbmV4dChhcmdzKTtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhcmdzWzBdO1xuICAgICAgICAgICAgLy8gRm9yIHNvbWUgcmVhc29uIF9hLmZpbmQgaXMgbm90IGRlZmluZWRcbiAgICAgICAgICAgIC8vIEkgZG9uJ3Qga25vdyB3aHksIG9yIHdoeSBub3RcbiAgICAgICAgICAgIC8vIEJ1ZyBpcyBTY2hyw7ZkaW5nZXIncyBidWcsIGl0IG9ubHkgZXhpc3RzIHdoZW4gSSBkb24ndCBvYnNlcnZlIGl0XG4gICAgICAgICAgICAvLyBMb2dnaW5nIHRoZSBkYXRhIG9iamVjdCBhbmQgdGhlIGJ1ZyB2YW5pc2hlcy4uLlxuICAgICAgICAgICAgLy8gRWRpdDogTWFkZSBmcmFtZXdvcmsgdG8gaGFuZGxlIGZpbmRpbmcgYXR0cmlidXRlcyBmcm9tIENoYXRNZXNzYWdlRGljdGlvbmFyeS4gTm8gaXNzdWVzLi4uLi4gc28gZmFyLi4uXG4gICAgICAgICAgICBjb25zdCBhY3Rpdml0eU5hbWUgPSBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJBY3Rpdml0eU5hbWVcIikgYXMgc3RyaW5nO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIFBsYXllckMoKS5lbmFibGVkXG4gICAgICAgICAgICAgICAgJiYgZGF0YS5UeXBlID09PSBcIkFjdGl2aXR5XCJcbiAgICAgICAgICAgICAgICAmJiBhY3Rpdml0eU5hbWU/LnN0YXJ0c1dpdGgoXCJNUEFfQ2xpY2tlclwiKVxuICAgICAgICAgICAgICAgICYmIElzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAoZGF0YS5TZW5kZXIhLCBQbGF5ZXJDKCkuYXV0aGVkR3JvdXAgYXMgQXV0aG9yaXR5R3JvdXAsIFBsYXllckMoKS5zZWxmQXV0aGVkIGFzIGJvb2xlYW4pXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgUGxheUNsaWNrZXJTb3VuZChOdW1iZXIoYWN0aXZpdHlOYW1lLnNsaWNlKC0xKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBIb29rIGludG8gQkNYIGxpc3RlbiB0byB2b2ljZSwgbWF5IG5vdCBiZSBsb2FkZWQgcmlnaHQgYXdheSwgd2FpdCAxNSBzZWNvbmRzXG4gICAgICAgIGlmICghdGhpcy5oYXNCZWVuTG9hZGVkKVxuICAgICAgICB7XG4gICAgICAgICAgICBIb29rQkNYQ2xpY2tlcigpO1xuICAgICAgICAgICAgY29uc3QgaW52ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChiY3hIb29rZWQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludmVydmFsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgSG9va0JDWENsaWNrZXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCA2MDAwMCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5oYXNCZWVuTG9hZGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBVbmxvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3VwZXIuVW5sb2FkKCk7XG4gICAgfVxufVxuIiwiLy8gTmV2ZXIgc2VuZCBQcml2YXRlIE1QQSBkYXRhIGFjcm9zcyB0aGUgc2VydmVyIGFuZCBuZXZlciBhY2NlcHQgUHJpdmF0ZSBNUEEgZGF0YVxuaW1wb3J0IHsgSG9va0Z1bmN0aW9uIH0gZnJvbSBcIi4uL3V0aWwvc2RrXCI7XG5pbXBvcnQgeyBNb2R1bGUsIE1vZHVsZUlzUHVibGljLCBNb2R1bGVUaXRsZSB9IGZyb20gXCIuL19tb2R1bGVcIjtcbmltcG9ydCB7IEZpbmRDaGFyYWN0ZXJJblJvb20sIEdldE1QQU1lc3NhZ2VGcm9tQ2hhdCwgSG9va2VkTWVzc2FnZSwgaG9va2VkTWVzc2FnZXMsIE1QQU1lc3NhZ2VDb250ZW50LCBTZW5kTVBBTWVzc2FnZSB9IGZyb20gXCIuLi91dGlsL21lc3NhZ2luZ1wiO1xuXG4vKipcbiAqIFN5bmMgYWxsIG9mIHlvdXIgY3VycmVudCBzZXR0aW5ncyB3aXRoIGV2ZXJ5b25lIGVsc2VcbiAqIEBwYXJhbSByZXBseSAtIElmIHdlIHdhbnQgb3RoZXJzIHRvIHNoYXJlIHRoZWlyIHNldHRpbmdzIGJhY2tcbiAqIEBwYXJhbSB0YXJnZXQgLSBTaGFyZSBvbmx5IHRvIHRoaXMgb25lIE1lbWJlck51bWJlclxuICovXG5leHBvcnQgZnVuY3Rpb24gU2V0dGluZ1N5bmMocmVwbHk6IGJvb2xlYW4gPSBmYWxzZSwgdGFyZ2V0PzogbnVtYmVyKTogdm9pZFxue1xuICAgIGNvbnN0IHNldHRpbmdzID0gc3RydWN0dXJlZENsb25lKFBsYXllci5NUEEpO1xuICAgIE9iamVjdC5rZXlzKHNldHRpbmdzKS5mb3JFYWNoKChtb2R1bGVUaXRsZSkgPT5cbiAgICB7XG4gICAgICAgIGlmICghTW9kdWxlSXNQdWJsaWMobW9kdWxlVGl0bGUgYXMgTW9kdWxlVGl0bGUpKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZWxldGUgc2V0dGluZ3NbbW9kdWxlVGl0bGVdO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgU2VuZE1QQU1lc3NhZ2Uoe1xuICAgICAgICBtZXNzYWdlOiBcIlNldHRpbmdTeW5jXCIsXG4gICAgICAgIHNldHRpbmdzOiBzZXR0aW5ncyxcbiAgICAgICAgcmVwbHk6IHJlcGx5XG4gICAgfSwgdGFyZ2V0KTtcbn1cblxuLyoqXG4gKiBTeW5jIGFsbCBvZiB5b3VyIGN1cnJlbnQgc2V0dGluZ3Mgb2YgYSBnaXZlbiBjYXRlZ29yeSB3aXRoIG90aGVyc1xuICogQHBhcmFtIGNhdGVnb3J5IC0gV2hpY2ggTW9kdWxlVGl0bGUgY2F0ZWdvcnkgdG8gc2hhcmVcbiAqIEBwYXJhbSB0YXJnZXQgLSBTaGFyZSBvbmx5IHRvIHRoaXMgb25lIE1lbWJlck51bWJlclxuICovXG5leHBvcnQgZnVuY3Rpb24gQ2F0ZWdvcnlTeW5jKGNhdGVnb3J5OiBNb2R1bGVUaXRsZSwgdGFyZ2V0PzogbnVtYmVyKTogdm9pZFxue1xuICAgIGlmICghTW9kdWxlSXNQdWJsaWMoY2F0ZWdvcnkpKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBTZW5kTVBBTWVzc2FnZSh7XG4gICAgICAgIG1lc3NhZ2U6IFwiQ2F0ZWdvcnlTeW5jXCIsXG4gICAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeSxcbiAgICAgICAgdmFsdWU6IFBsYXllci5NUEFbY2F0ZWdvcnldXG4gICAgfSwgdGFyZ2V0KTtcbn1cblxuLyoqXG4gKiBTeW5jIG9ubHkgYSBzaW5nbGUgcmVjb3JkIGZyb20gYSBnaXZlbiBjYXRlZ29yeSB3aXRoIG90aGVyc1xuICogQHBhcmFtIGNhdGVnb3J5IC0gV2hpY2ggTW9kdWxlVGl0bGUgY2F0ZWdvcnkgdG8gc2hhcmVcbiAqIEBwYXJhbSByZWNvcmQgLSBSZWNvcmQgd2l0aGluIE1vZHVsZVRpdGxlIHlvdSB3YW50IHRvIHNoYXJlXG4gKiBAcGFyYW0gdGFyZ2V0IC0gU2hhcmUgb25seSB0byB0aGlzIG9uZSBNZW1iZXJOdW1iZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFJlY29yZFN5bmMoY2F0ZWdvcnk6IE1vZHVsZVRpdGxlLCByZWNvcmQ6IHN0cmluZywgdGFyZ2V0PzogbnVtYmVyKTogdm9pZFxue1xuICAgIFJlY29yZHNTeW5jKFt7IGNhdGVnb3J5OiBjYXRlZ29yeSwgcmVjb3JkOiByZWNvcmQgfV0sIHRhcmdldCk7XG59XG5cbnR5cGUgVHJhbnNtaXRSZWNvcmRzID0geyBjYXRlZ29yeTogTW9kdWxlVGl0bGU7IHJlY29yZDogc3RyaW5nOyB2YWx1ZT86IGFueSB9W107XG4vKipcbiAqIFN5bmMgbXVsdGlwbGUgcmVjb3JkcyBmcm9tIGFueSBnaXZlbiBjYXRlZ29yeSB3aXRoIG90aGVyc1xuICogQHBhcmFtIHJlY29yZHMuY2F0ZWdvcnkgLSBXaGljaCBNb2R1bGVUaXRsZSBjYXRlZ29yeSB0byBzaGFyZVxuICogQHBhcmFtIHJlY29yZHMucmVjb3JkIC0gUmVjb3JkIHdpdGhpbiBNb2R1bGVUaXRsZSB5b3Ugd2FudCB0byBzaGFyZVxuICogQHBhcmFtIHRhcmdldCAtIFNoYXJlIG9ubHkgdG8gdGhpcyBvbmUgTWVtYmVyTnVtYmVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBSZWNvcmRzU3luYyhyZWNvcmRzOiBUcmFuc21pdFJlY29yZHMsIHRhcmdldD86IG51bWJlcik6IHZvaWRcbntcbiAgICBmb3IgKGxldCBpID0gcmVjb3Jkcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICB7XG4gICAgICAgIGNvbnN0IHJlY29yZCA9IHJlY29yZHNbaV07XG4gICAgICAgIGlmICghTW9kdWxlSXNQdWJsaWMocmVjb3JkLmNhdGVnb3J5KSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmVjb3Jkcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICByZWNvcmQudmFsdWUgPSBQbGF5ZXIuTVBBW3JlY29yZC5jYXRlZ29yeV1bcmVjb3JkLnJlY29yZF07XG4gICAgfVxuICAgIGlmIChyZWNvcmRzLmxlbmd0aCA9PT0gMClcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgU2VuZE1QQU1lc3NhZ2Uoe1xuICAgICAgICBtZXNzYWdlOiBcIlJlY29yZHNTeW5jXCIsXG4gICAgICAgIHJlY29yZHM6IHJlY29yZHNcbiAgICB9LCB0YXJnZXQpO1xufVxuXG5leHBvcnQgY2xhc3MgRGF0YVN5bmNNb2R1bGUgZXh0ZW5kcyBNb2R1bGVcbntcbiAgICBnZXQgVGl0bGUoKTogTW9kdWxlVGl0bGVcbiAgICB7XG4gICAgICAgIHJldHVybiBNb2R1bGVUaXRsZS5EYXRhU3luYztcbiAgICB9XG5cbiAgICBnZXQgU3luY0xpc3RlbmVycygpOiBIb29rZWRNZXNzYWdlW11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbW9kdWxlOiBNb2R1bGVUaXRsZS5EYXRhU3luYyxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlNldHRpbmdTeW5jXCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoc2VuZGVyOiBDaGFyYWN0ZXIsIGNvbnRlbnQ6IE1QQU1lc3NhZ2VDb250ZW50KTogdm9pZFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbmRlci5NZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXIpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzZW5kZXIuTVBBID0gY29udGVudC5zZXR0aW5ncztcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnQucmVwbHkpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFNldHRpbmdTeW5jKGZhbHNlLCBzZW5kZXIuTWVtYmVyTnVtYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBtb2R1bGU6IE1vZHVsZVRpdGxlLkRhdGFTeW5jLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQ2F0ZWdvcnlTeW5jXCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoc2VuZGVyOiBDaGFyYWN0ZXIsIGNvbnRlbnQ6IE1QQU1lc3NhZ2VDb250ZW50KTogdm9pZFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbmRlci5NZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXIpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIXNlbmRlci5NUEEpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFNldHRpbmdTeW5jKGZhbHNlLCBzZW5kZXIuTWVtYmVyTnVtYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRlci5NUEFbY29udGVudC5jYXRlZ29yeV0gPSBjb250ZW50LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIG1vZHVsZTogTW9kdWxlVGl0bGUuRGF0YVN5bmMsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJSZWNvcmRzU3luY1wiLFxuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKHNlbmRlcjogQ2hhcmFjdGVyLCBjb250ZW50OiBNUEFNZXNzYWdlQ29udGVudCk6IHZvaWRcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZW5kZXIuTWVtYmVyTnVtYmVyID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCByZWNvcmQgb2YgY29udGVudC5yZWNvcmRzIGFzIFRyYW5zbWl0UmVjb3JkcylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzZW5kZXI/Lk1QQT8uW3JlY29yZC5jYXRlZ29yeV0pXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2F0ZWdvcnlTeW5jKGNvbnRlbnQuY2F0ZWdvcnksIHNlbmRlci5NZW1iZXJOdW1iZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRlci5NUEFbcmVjb3JkLmNhdGVnb3J5XVtyZWNvcmQucmVjb3JkXSA9IHJlY29yZC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBMb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLkxvYWQoKTtcblxuICAgICAgICAvLyBNUEEgbG9hZGVkIGluIGEgY2hhdHJvb20sIFN5bmMgd2l0aCBvdGhlcnMgaW4gdGhlIHJvb21cbiAgICAgICAgaWYgKENoYXRSb29tQ2hhcmFjdGVyLmxlbmd0aCAhPT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgU2V0dGluZ1N5bmModHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBXaGVuIGpvaW5pbmcgYSByb29tLCBzeW5jIE1QQSBzZXR0aW5ncyB3aXRoIGV2ZXJ5b25lIGVsc2VcbiAgICAgICAgSG9va0Z1bmN0aW9uKE1vZHVsZVRpdGxlLkRhdGFTeW5jLCBcIkNoYXRSb29tU3luY1wiLCAwLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgbmV4dChhcmdzKTtcbiAgICAgICAgICAgIFNldHRpbmdTeW5jKHRydWUpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBTeW5jIHJlcXVlc3QsIGhhbmRsZSBhbmQgcmVwbHkgaWYgbmVlZGVkXG4gICAgICAgIEhvb2tGdW5jdGlvbihNb2R1bGVUaXRsZS5EYXRhU3luYywgXCJDaGF0Um9vbU1lc3NhZ2VcIiwgMCwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhcmdzWzBdO1xuICAgICAgICAgICAgY29uc3QgY29udGVudCA9IEdldE1QQU1lc3NhZ2VGcm9tQ2hhdChkYXRhKTtcbiAgICAgICAgICAgIGlmICghY29udGVudClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHNlbmRlciA9IEZpbmRDaGFyYWN0ZXJJblJvb20oZGF0YS5TZW5kZXIgPz8gXCJcIiwgeyBNZW1iZXJOdW1iZXI6IHRydWUsIE5hbWU6IGZhbHNlLCBOaWNrTmFtZTogZmFsc2UgfSk7XG4gICAgICAgICAgICBpZiAoIXNlbmRlcilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSGFuZGxlIHRoZSBkYXRhIGxpc3RlbmVyc1xuICAgICAgICAgICAgaG9va2VkTWVzc2FnZXMuZm9yRWFjaCgoaG9vaykgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoY29udGVudC5tZXNzYWdlID09PSBob29rLm1lc3NhZ2UpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBob29rLmFjdGlvbihzZW5kZXIsIGNvbnRlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBVbmxvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3VwZXIuVW5sb2FkKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgSG9va0Z1bmN0aW9uIH0gZnJvbSBcIi4uL3V0aWwvc2RrXCI7XG5pbXBvcnQgeyBNb2R1bGUsIE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4vX21vZHVsZVwiO1xuXG5leHBvcnQgbGV0IGRlYWZlblByb2Nlc3MgPSBmYWxzZTtcblxuZXhwb3J0IGNsYXNzIFByaXZhdGVNb2R1bGUgZXh0ZW5kcyBNb2R1bGVcbntcbiAgICBnZXQgVGl0bGUoKTogTW9kdWxlVGl0bGVcbiAgICB7XG4gICAgICAgIHJldHVybiBNb2R1bGVUaXRsZS5Qcml2YXRlO1xuICAgIH1cblxuICAgIGdldCBTZXR0aW5ncygpOiBTZXR0aW5nW11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJzYXZlZEJlZFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwicmVjb3JkXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiXCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNhdmVkQm93bFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwicmVjb3JkXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBMb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIC8vIEkgaGF0ZSB0aGF0IHRoaXMgaXMgdGhlIGJlc3Qgd2F5IEkgY291bGQgdGhpbmsgb2YgY2hlY2tpbmcgaWYgc3BlZWNoIGdhcmJsZSBpcyBnYWdnaW5nIG9yIGRlYWZlbmluZ1xuICAgICAgICAvLyBCRUNBVVNFIE9GIENPVVJTRSBUSEVZIEFSRSBUSEUgRVhBQ1QgU0FNRSBDQUxMXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIlNwZWVjaFRyYW5zZm9ybVByb2Nlc3NcIiwgMTAsIChbQywgdGV4dCwgZWZmZWN0cywgaWdub3JlT09DXSwgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgLy8gUmVtb3ZlIGRlYWZlbiBiZWZvcmUgaXQgaGFwcGVucyBidXQgcmVtZW1lYmVyIGlmIGl0IHdhcyB0aGVyZVxuICAgICAgICAgICAgbGV0IGhhZERlYWZlbiA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKGVmZmVjdHMuaW5jbHVkZXMoXCJkZWFmZW5cIikpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaGFkRGVhZmVuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBlZmZlY3RzID0gZWZmZWN0cy5maWx0ZXIoKGVmZmVjdCkgPT4gZWZmZWN0ICE9PSBcImRlYWZlblwiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTGV0IGFsbCBvdGhlciBzcGVlY2ggcHJvY2Vzc2luZyBoYXBwZW4sIGRlYWZlbiB3aWxsIG5vdFxuICAgICAgICAgICAgY29uc3Qgb3V0cHV0ID0gbmV4dChbQywgdGV4dCwgZWZmZWN0cywgaWdub3JlT09DXSk7XG5cbiAgICAgICAgICAgIC8vIE5vdyBkbyB0aGUgZGVhZmVuIGNoZWNrIHRoYXQgd2FzIG5vdCBkb25lIGJlZm9yZSB0byBhZGQgcGFyYW1ldGVyIHRvIHRyYWNrXG4gICAgICAgICAgICBpZiAoaGFkRGVhZmVuKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGludGVuc2l0eSA9IFNwZWVjaFRyYW5zZm9ybURlYWZlbkludGVuc2l0eShDKTtcbiAgICAgICAgICAgICAgICBpZiAoaW50ZW5zaXR5ID4gMClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRlYWZlblByb2Nlc3MgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBvdXRwdXQuZWZmZWN0cy5wdXNoKFwiZGVhZmVuXCIpO1xuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlIFBhdGNoaW5nIHRoaXMgZnVuY3Rpb24gdG8gYWRkIEMgZm9yIE1CU1xuICAgICAgICAgICAgICAgICAgICBvdXRwdXQudGV4dCA9IFNwZWVjaFRyYW5zZm9ybUdhZ0dhcmJsZSh0ZXh0LCBpbnRlbnNpdHksIGlnbm9yZU9PQywgQyk7XG4gICAgICAgICAgICAgICAgICAgIGRlYWZlblByb2Nlc3MgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgICAgICB9KTtcbiAgICAgICAgc3VwZXIuTG9hZCgpO1xuICAgIH1cblxuICAgIFVubG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5VbmxvYWQoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBGaWx0ZXJBcnJheUZyb21BcnJheSB9IGZyb20gXCIuLi91dGlsL2dlbmVyYWxcIjtcbmltcG9ydCB7IGJjeEFQSSwgYmN4Rm91bmQsIEhvb2tGdW5jdGlvbiB9IGZyb20gXCIuLi91dGlsL3Nka1wiO1xuaW1wb3J0IHsgTW9kdWxlLCBNb2R1bGVUaXRsZSB9IGZyb20gXCIuL19tb2R1bGVcIjtcbmltcG9ydCB7IEVsZW1lbnROYW1lIH0gZnJvbSBcIi4vc2V0dGluZ3NcIjtcbmltcG9ydCB7IEFwcGx5UGV0SGVhcmluZywgRGlzcnVwdGl2ZVBldFNwZWVjaCwgTm9uRGlzcnVwdGl2ZVBldFNwZWVjaCB9IGZyb20gXCIuLi91dGlsL3BldEhlYXJBbmRTcGVha1wiO1xuaW1wb3J0IHsgSG9va2VkTWVzc2FnZSwgTVBBTWVzc2FnZUNvbnRlbnQsIFNlbmRNUEFNZXNzYWdlIH0gZnJvbSBcIi4uL3V0aWwvbWVzc2FnaW5nXCI7XG5pbXBvcnQgeyBSZWNvcmRzU3luYyB9IGZyb20gXCIuL2RhdGFTeW5jXCI7XG5pbXBvcnQgeyBJc01lbWJlck51bWJlckluQXV0aEdyb3VwIH0gZnJvbSBcIi4uL3V0aWwvYXV0aG9yaXR5XCI7XG5pbXBvcnQgeyBkZWFmZW5Qcm9jZXNzIH0gZnJvbSBcIi4vcHJpdmF0ZVwiO1xuXG5jb25zdCBQbGF5ZXJQOiAoQz86IENoYXJhY3RlcikgPT4gTVBBUmVjb3JkID0gKEM6IENoYXJhY3RlciA9IFBsYXllcikgPT5cbntcbiAgICByZXR1cm4gQy5NUEE/LltNb2R1bGVUaXRsZS5Qcm9maWxlXSA/PyB7fTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBJc0hhcmRjb3JlT24oQzogQ2hhcmFjdGVyKTogYm9vbGVhblxue1xuICAgIHJldHVybiAoQy5NUEE/LltNb2R1bGVUaXRsZS5Qcm9maWxlXS5oYXJkY29yZSBhcyBib29sZWFuIHwgdW5kZWZpbmVkKSA/PyBmYWxzZTtcbn07XG5cbmZ1bmN0aW9uIEdldFJlY29yZCh0aXRsZTogTW9kdWxlVGl0bGUsIEM6IENoYXJhY3RlciA9IFBsYXllcik6IE1QQVJlY29yZFxue1xuICAgIHJldHVybiBDLk1QQT8uW3RpdGxlXSA/PyB7fTtcbn1cblxuLy8gTWFrZSBzdXJlIG5vdCBpbiBCQ1ggYmFubmVkIHdvcmRzIC8gcGhyYXNlc1xuLy8gRG9uJ3QgYmxhbWUgbWUgZm9yIHRoZSBzZWxlY3Rpb24sIGhvdyBhcmUgeW91IHN1cHBvc2VkIHRvIHR5cGUgb3V0IHRoZXNlIGFuaW1hbCBzb3VuZHNcbi8vIEhhbGYgdGhpcyBjYW1lIGZyb20gY2hhdCBncHQgYW55d2F5LCBpZiB5b3UgZ290IHNvbWV0aGluZyBiZXR0ZXIsIGZlZWwgZnJlZSB0byBzdWdnZXN0IGl0XG5leHBvcnQgY29uc3QgR0FSQkxFX1BIUkFTRVMgPSBPYmplY3QuZnJlZXplKHtcbiAgICBIdW1hbjogW1wiaG1tZ21cIiwgXCJtbW1tXCIsIFwibWhobW1hYVwiLCBcImhtbW1cIl0sXG4gICAgQ3VzdG9tOiBbXCJcIl0sXG4gICAgQnVubnk6IFtcInBvblwiLCBcInB5b25cIiwgXCJlZXBcIiwgXCJodWZmXCIsIFwidGstdGtcIiwgXCJubmdoLW5uZ2hcIl0sXG4gICAgQ2F0OiBbXCJtZW93XCIsIFwibWV3XCIsIFwibnlhaFwiLCBcIm55YVwiLCBcInB1cnJcIiwgXCJtcnJvd1wiLCBcInBycnJcIl0sXG4gICAgQ293OiBbXCJtb29cIiwgXCJtb29vb29cIiwgXCJtdXVoaGhcIiwgXCJtb29vYWhcIl0sXG4gICAgRG9nOiBbXCJhcmZcIiwgXCJ3b29mXCIsIFwiYmFya1wiLCBcInJ1ZmZcIiwgXCJodWZmXCIsIFwiZWVwXCJdLFxuICAgIEZveDogW1wiY2hpcnBcIiwgXCJ5aXBcIiwgXCJ3b3ctd293XCIsIFwieW93d1wiLCBcImVlcFwiXSxcbiAgICBNb3VzZTogW1wic3F1ZWFrXCIsIFwiZWVla1wiLCBcInRjaC10Y2hcIiwgXCJ3aS1pLWlcIiwgXCJzc3NcIl0sXG4gICAgUG9ueTogW1wibmVpZ2hcIiwgXCJ3aGlubnlcIiwgXCJ3aGVlZVwiLCBcInNucnRcIiwgXCJ3aG9vb3NoXCIsIFwiaHVmZlwiLCBcIm5uaGhoLWtlclwiXSxcbiAgICBXb2xmOiBbXCJhd29vXCIsIFwiYWEtb29vXCIsIFwid29vZlwiLCBcInJ1ZmZcIiwgXCJhcmZcIiwgXCJ3aWlpcFwiLCBcImh1ZmZcIl1cbn0pO1xudHlwZSBQZXRTcGVha2luZ0tleXMgPSBrZXlvZiB0eXBlb2YgR0FSQkxFX1BIUkFTRVM7XG5cbi8qKlxuICogR2V0IHRoZSBwZXQgZ2FyYmxlIHBocmFzZXMgZm9yIHRoZSBzZWxlY3RlZCBwcm9maWxlXG4gKiBAcGFyYW0gcHJvZmlsZSAtIERlZmF1bHRzIHRvIFBsYXllcidzIHByb2ZpbGUgaWYgbm9uZSBwcm92aWRlZFxuICovXG5mdW5jdGlvbiBHZXRQZXRHYXJibGVQaHJhc2VzKHByb2ZpbGU6IFBldFNwZWFraW5nS2V5cyA9IFBsYXllclAoUGxheWVyKS50eXBlKTogc3RyaW5nW11cbntcbiAgICBpZiAocHJvZmlsZSBpbiBHQVJCTEVfUEhSQVNFUyAmJiBwcm9maWxlICE9PSBcIkN1c3RvbVwiKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIEdBUkJMRV9QSFJBU0VTW3Byb2ZpbGVdO1xuICAgIH1cbiAgICByZXR1cm4gKFBsYXllclAoUGxheWVyKS5nYXJibGVQaHJhc2VzIGFzIHN0cmluZykuc3BsaXQoXCIsXCIpLm1hcCgoc3RyKSA9PiBzdHIudHJpbSgpKTtcbn1cblxuLyoqXG4gKiBPbmx5IGluY2x1ZGUgcGV0IHNvdW5kcyB0aGF0IGFyZSBwZXJtaXR0ZWQgYnkgQkNYXG4gKiBAcGFyYW0gcHJvZmlsZSAtIERlZmF1bHRzIHRvIFBsYXllcidzIHByb2ZpbGVcbiAqIEByZXR1cm5zIFBocmFzZXMgQkNYIHdvbid0IGdldCBtYWQgYXRcbiAqL1xuZnVuY3Rpb24gR2V0QWxsb3dlZFBldEdhcmJsZVBocmFzZXMocHJvZmlsZTogUGV0U3BlYWtpbmdLZXlzID0gUGxheWVyUChQbGF5ZXIpLnR5cGUpOiBzdHJpbmdbXVxue1xuICAgIGNvbnN0IGJhbm5lZEJDWFdvcmRzID0gYmN4QVBJKCk/LmdldFJ1bGVTdGF0ZShcInNwZWVjaF9iYW5fd29yZHNcIik/LmN1c3RvbURhdGE/LmJhbm5lZFdvcmRzID8/IFtdO1xuICAgIGNvbnN0IHBldFBocmFzZXMgPSBiY3hGb3VuZCgpICYmIFBsYXllclAoUGxheWVyKS5iY3hTcGVha2luZyA/XG4gICAgICAgIGJjeEFQSSgpPy5nZXRSdWxlU3RhdGUoXCJzcGVlY2hfbWFuZGF0b3J5X3dvcmRzXCIpPy5jdXN0b21EYXRhPy5tYW5kYXRvcnlXb3JkcyA/PyBbXSA6XG4gICAgICAgIEdldFBldEdhcmJsZVBocmFzZXMocHJvZmlsZSk7XG4gICAgcmV0dXJuIChGaWx0ZXJBcnJheUZyb21BcnJheShwZXRQaHJhc2VzLCBiYW5uZWRCQ1hXb3JkcykgYXMgc3RyaW5nW10pXG4gICAgICAgIC5tYXAoKHBocmFzZSkgPT4gcGhyYXNlLnRvTG9jYWxlTG93ZXJDYXNlKCkudHJpbSgpKVxuICAgICAgICAuZmlsdGVyKChzdHIpID0+IHN0ci5sZW5ndGggIT0gMCk7XG59XG5cbmV4cG9ydCBjb25zdCBQRVRfSEVBUklORyA9IE9iamVjdC5mcmVlemUoe1xuICAgIEFsbDogW1wib3duZXJcIiwgXCJwZXRcIiwgXCJtYXN0ZXJcIiwgXCJtaXN0cmVzc1wiLCBcIm1pc3NcIiwgXCJzaXJcIiwgXCJwYXdcIiwgXCJzaXRcIiwgXCJjb21lXCIsIFwiZG93blwiLCBcInVwXCIsXG4gICAgICAgIFwic3RheVwiLCBcIndhdGVyXCIsIFwiZm9vZFwiLCBcImtpYmJsZVwiLCBcImVhdFwiLCBcInRyZWF0XCIsIFwiZHJpbmtcIiwgXCJ0b3lcIiwgXCJwbGF5XCIsIFwibGVhc2hcIiwgXCJ3YWxrXCIsXG4gICAgICAgIFwid2Fsa2llc1wiLCBcImJlZFwiLCBcInNsZWVwXCIsIFwiY3V0aWVcIiwgXCJhZG9yYWJsZVwiLCBcInRveVwiLCBcInBsYXlcIiwgXCJraWJibGVcIiwgXCJnb29kXCIsIFwiYmFkXCIsXG4gICAgICAgIFwibGFwXCIsIFwic3BlYWtcIiwgXCJodXNoXCIsIFwicXVpZXRcIiwgXCJodXNoXCIsIFwiYWxsIGZvdXJzXCIsIFwiYWxsLWZvdXJzXCJdLFxuICAgIEh1bWFuOiBbXSxcbiAgICBDdXN0b206IFtdLFxuICAgIEJ1bm55OiBbXCJidW5cIiwgXCJidW5ueVwiLCBcImNhcnJvdFwiLCBcImhvcFwiLCBcImp1bXBcIiwgXCJodW1wXCIsIFwiZWFyXCIsIFwiZWFyc1wiXSxcbiAgICBDYXQ6IFtcImNhdFwiLCBcImtpdHR5XCIsIFwia2l0dGVuXCIsIFwiY2F0bmlwXCIsIFwia25lYWRcIiwgXCJzY3JhdGNoXCIsIFwieWFyblwiLCBcIm1pbGtcIl0sXG4gICAgQ293OiBbXCJtaWxrXCIsIFwibWlsa2luZ1wiLCBcInV0dGVyXCIsIFwiYnJlYXN0XCIsIFwiZ3Jhc3NcIiwgXCJtb29cIl0sXG4gICAgRG9nOiBbXCJjYWdlXCIsIFwia2VubmVsXCIsIFwicHVwXCIsIFwicHVwcHlcIiwgXCJkb2dcIiwgXCJkb2dneVwiLCBcImJvbmVcIiwgXCJmZXRjaFwiLCBcImhlZWxcIiwgXCJyb2xsXCIsIFwib3ZlclwiLCBcImJhcmtcIl0sXG4gICAgRm94OiBbXCJ0cmFwXCIsIFwiYnVuXCIsIFwiYnVubnlcIiwgXCJib25lXCIsIFwiZm94XCIsIFwiZm94eVwiXSxcbiAgICBNb3VzZTogW1wibW91c2VcIiwgXCJlYXJcIiwgXCJlYXJzXCIsIFwidHJhcFwiLCBcIndpcmVcIiwgXCJ3aGVlbFwiLCBcImNoZWVzZVwiLCBcIm5pYmJsZVwiLCBcImNhdFwiLCBcImtpdHR5XCIsIFwia2l0dGVuXCJdLFxuICAgIFBvbnk6IFtcInBvbnlcIiwgXCJtYXJlXCIsIFwic3RhbGxpb25cIiwgXCJicmlkbGVcIiwgXCJob29mXCIsIFwiaG9vdmVzXCIsIFwidHJvdFwiLCBcInN0YWxsXCIsIFwiaGF5XCIsIFwid29haFwiLFxuICAgICAgICBcInN0b21wXCIsIFwiY2FsbVwiLCBcImVhc3lcIiwgXCJzbG93XCIsIFwiY2FydFwiLCBcImJheVwiLCBcInJ1blwiLCBcInJhY2VcIl0sXG4gICAgV29sZjogW1wiYm9uZVwiLCBcIndvbGZcIiwgXCJkb2dcIiwgXCJwdXBcIiwgXCJwdXBweVwiLCBcImhlZWxcIl1cbn0pO1xudHlwZSBQZXRIZWFyaW5nS2V5cyA9IGtleW9mIHR5cGVvZiBQRVRfSEVBUklORztcblxuLyoqXG4gKiBHZXR0aGUgcGV0IGhlYXJpbmcgcGhyYXNlcyBiYXNlZCBvbiB0aGUgc2VsZWN0ZWQgcHJvZmlsZVxuICogQHBhcmFtIHByb2ZpbGUgLSBEZWZhdWx0cyB0byBQbGF5ZXIncyBwcm9maWxlXG4gKi9cbmZ1bmN0aW9uIEdldFBldEhlYXJpbmdQaHJhc2VzKHByb2ZpbGU6IFBldEhlYXJpbmdLZXlzID0gUGxheWVyUChQbGF5ZXIpLnR5cGUpOiBzdHJpbmdbXVxue1xuICAgIGlmIChwcm9maWxlIGluIFBFVF9IRUFSSU5HKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFBFVF9IRUFSSU5HLkFsbC5jb25jYXQoUEVUX0hFQVJJTkdbcHJvZmlsZV0pO1xuICAgIH1cblxuICAgIHJldHVybiBQRVRfSEVBUklORy5BbGw7XG59XG5cbi8qKlxuICogQ2FsbGJhY2sgd2hlbiBwcm9maWxlIHR5cGUgaXMgc2V0XG4gKiBAcGFyYW0gQyAtIENoYXJhY3RlciB3aG8gd2UgYXJlIHNldHRpbmdcbiAqIEBwYXJhbSB2YWx1ZSAtIFdoYXQgdGhlIG5ldyB0eXBlIGlzXG4gKiBAcGFyYW0gcHJldlZhbHVlIC0gV2hhdCB0aGUgcHJldmlvdXMgdHlwZSB3YXNcbiAqL1xuZnVuY3Rpb24gU2V0UHJvZmlsZVR5cGUoQzogQ2hhcmFjdGVyLCB2YWx1ZTogc3RyaW5nLCBwcmV2VmFsdWU6IHN0cmluZylcbntcbiAgICBjb25zdCBlbGVJRCA9IEVsZW1lbnROYW1lKE1vZHVsZVRpdGxlLlByb2ZpbGUsIFwiZ2FyYmxlUGhyYXNlc1wiKTtcbiAgICBpZiAodmFsdWUgPT09IFwiQ3VzdG9tXCIpXG4gICAge1xuICAgICAgICBQbGF5ZXJQKEMpLmdhcmJsZVBocmFzZXMgPSBQbGF5ZXJQKEMpLmN1c3RvbUdhcmJsZVBocmFzZXMuam9pbihcIiwgXCIpO1xuICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlSUQpKVxuICAgICAgICB7XG4gICAgICAgICAgICBFbGVtZW50VmFsdWUoZWxlSUQsIFBsYXllclAoQykuZ2FyYmxlUGhyYXNlcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAocHJldlZhbHVlID09PSBcIkN1c3RvbVwiICYmIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZUlEKSlcbiAgICB7XG4gICAgICAgIFBsYXllclAoQykuY3VzdG9tR2FyYmxlUGhyYXNlcyA9IEVsZW1lbnRWYWx1ZShlbGVJRCkuc3BsaXQoXCIsXCIpLm1hcCgoeCkgPT4geC50cmltKCkpO1xuICAgIH1cbiAgICBQbGF5ZXJQKEMpLmdhcmJsZVBocmFzZXMgPSAoR0FSQkxFX1BIUkFTRVNbUGxheWVyUChDKS50eXBlXSBhcyBzdHJpbmdbXSkuam9pbihcIiwgXCIpO1xuXG4gICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZUlEKSlcbiAgICB7XG4gICAgICAgIEVsZW1lbnRWYWx1ZShlbGVJRCwgUGxheWVyUChDKS5nYXJibGVQaHJhc2VzKTtcbiAgICB9XG59XG5cbi8qKlxuICogU2V0IHByb2ZpbGUgYmN4IHNwZWFraW5nIGZvciB0aGUgbG9jYWwgcGxheWVyXG4gKi9cbmZ1bmN0aW9uIFNldEJDWFNwZWFrKClcbntcbiAgICBQbGF5ZXJQKCkuYmN4U3BlYWtpbmcgPSB0cnVlO1xuICAgIGNvbnN0IGVsZUlEID0gRWxlbWVudE5hbWUoTW9kdWxlVGl0bGUuUHJvZmlsZSwgXCJnYXJibGVQaHJhc2VzXCIpO1xuICAgIC8vIFNhdmUgcHJldmlvdXMgd29yZHMgaWYgbmVlZGVkXG4gICAgaWYgKFBsYXllclAoKS50eXBlID09PSBcIkN1c3RvbVwiICYmIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZUlEKSlcbiAgICB7XG4gICAgICAgIFBsYXllclAoKS5jdXN0b21HYXJibGVQaHJhc2VzID0gRWxlbWVudFZhbHVlKGVsZUlEKS5zcGxpdChcIixcIikubWFwKCh4KSA9PiB4LnRyaW0oKSk7XG4gICAgfVxuICAgIGNvbnN0IHdvcmRzID0gYmN4QVBJKCk/LmdldFJ1bGVTdGF0ZShcInNwZWVjaF9tYW5kYXRvcnlfd29yZHNcIik/LmN1c3RvbURhdGE/Lm1hbmRhdG9yeVdvcmRzID8/IFtdO1xuICAgIFBsYXllclAoKS5nYXJibGVQaHJhc2VzID0gd29yZHMuam9pbihcIiwgXCIpO1xuICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVJRCkpXG4gICAge1xuICAgICAgICBFbGVtZW50VmFsdWUoZWxlSUQsIFBsYXllclAoKS5nYXJibGVQaHJhc2VzKTtcbiAgICB9XG59XG5cbmNvbnN0IEdBR0dJTkdfU1RSRU5HVEhfTUFQID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgTG93OiAwLjAxNSxcbiAgICBNZWRpdW06IDAuMDUsXG4gICAgSGlnaDogMC4xLFxuICAgIE1heDogMVxufSk7XG5cbmV4cG9ydCBjbGFzcyBQcm9maWxlTW9kdWxlIGV4dGVuZHMgTW9kdWxlXG57XG4gICAgZ2V0IFRpdGxlKCk6IE1vZHVsZVRpdGxlXG4gICAge1xuICAgICAgICByZXR1cm4gTW9kdWxlVGl0bGUuUHJvZmlsZTtcbiAgICB9XG5cbiAgICBnZXQgU3luY0xpc3RlbmVycygpOiBIb29rZWRNZXNzYWdlW11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbW9kdWxlOiB0aGlzLlRpdGxlLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQkNYU3BlYWtFbmFibGVSZXF1ZXN0XCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoc2VuZGVyOiBDaGFyYWN0ZXIsIF9jb250ZW50OiBNUEFNZXNzYWdlQ29udGVudCk6IHZvaWRcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBzZW5kZXIgaGFzIGF1dGhvcml0eSB0byBzZXQgdGhpcyBzZXR0aW5nXG4gICAgICAgICAgICAgICAgICAgIGlmICghSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cChzZW5kZXIuTWVtYmVyTnVtYmVyID8/IC0xLCBQbGF5ZXIuTVBBPy5bTW9kdWxlVGl0bGUuQXV0aG9yaXR5XVtgb3RoZXJzJHtNb2R1bGVUaXRsZS5Qcm9maWxlfWBdKSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGAke3NlbmRlci5OaWNrbmFtZSB8fCBzZW5kZXIuTmFtZX1bJHtzZW5kZXIuTWVtYmVyTnVtYmVyfV0gdHJpZWQgdG8gaWxsZWdpYWxseSBzZXQgeW91ciBiY3ggc3BlYWsgdG8gYmUgZW5hYmxlZGApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gU2V0IHRoZSByZWNvcmQgYnkgdGhlIHBlcnNvbiB3aG8gaXMgaGF2aW5nIHRoZWlyIHNldHRpbmdzIGNoYW5nZWRcbiAgICAgICAgICAgICAgICAgICAgLy8gQkNYIG1hbmRhdG9yeSB3b3JkcyBvbmx5IHZpZXdhYmxlIGJ5IHRoZSBwbGF5ZXIgbG9jYWxseVxuICAgICAgICAgICAgICAgICAgICBTZXRCQ1hTcGVhaygpO1xuICAgICAgICAgICAgICAgICAgICBSZWNvcmRzU3luYyhbXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGNhdGVnb3J5OiBNb2R1bGVUaXRsZS5Qcm9maWxlLCByZWNvcmQ6IFwiZ2FyYmxlUGhyYXNlc1wiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGNhdGVnb3J5OiBNb2R1bGVUaXRsZS5Qcm9maWxlLCByZWNvcmQ6IFwiYmN4U3BlYWtpbmdcIiB9XG4gICAgICAgICAgICAgICAgICAgIF0sIHNlbmRlci5NZW1iZXJOdW1iZXIpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEFmdGVyIHVwZGF0aW5nIGFuZCBzZW5kaW5nIHRoZSBuZXcgcmVjb3Jkcywgbm90aWZ5IHNlbmRlciBmb3IgYWNrbm93bGVkZ2VtZW50IHRvIHVwZGF0ZSB0aGVpciBkaXNwbGF5XG4gICAgICAgICAgICAgICAgICAgIFNlbmRNUEFNZXNzYWdlKHsgbWVzc2FnZTogXCJCQ1hTcGVha0VuYWJsZVJlcGx5XCIgfSwgc2VuZGVyLk1lbWJlck51bWJlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIG1vZHVsZTogdGhpcy5UaXRsZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkJDWFNwZWFrRW5hYmxlUmVwbHlcIixcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uIChzZW5kZXI6IENoYXJhY3RlciwgX2NvbnRlbnQ6IE1QQU1lc3NhZ2VDb250ZW50KTogdm9pZFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgZ290IGEgcG9zdGl2ZSByZXNwb25zZSBmcm9tIHRoZSByZXF1ZXN0LCBjaGFuZ2UgbWFkZSwgYnV0IHdlIG5lZWQgdG8gc2VlIGl0IG9uIG91ciBzaWRlIG5vd1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbGVJRCA9IEVsZW1lbnROYW1lKE1vZHVsZVRpdGxlLlByb2ZpbGUsIFwiZ2FyYmxlUGhyYXNlc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZUlEKSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgRWxlbWVudFZhbHVlKGVsZUlELCBQbGF5ZXJQKHNlbmRlcikuZ2FyYmxlUGhyYXNlcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgZ2V0IFNldHRpbmdzKCk6IFNldHRpbmdbXVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInR5cGVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm9wdGlvblwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBPYmplY3Qua2V5cyhHQVJCTEVfUEhSQVNFUyksXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiSHVtYW5cIixcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJVc2UgYSBwcmVzZXQgcHJvZmlsZSBvciBtYWtlIHlvdXIgb3duXCIsXG4gICAgICAgICAgICAgICAgbG9vcDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBvblNldDogKEMsIHZhbHVlLCBwcmV2VmFsdWUpID0+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoUGxheWVyUChDKS5iY3hTcGVha2luZylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIFNldFByb2ZpbGVUeXBlKEMsIHZhbHVlLCBwcmV2VmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gYXMgT3B0aW9uU2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwicGV0SGVhcmluZ1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIldoaWxlIGRlYWZlbmVkIGNlcnRhaW4gcGV0IGtleXdvcmRzIGNhbiBiZSBwaWNrZWQgdXBcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImdhcmJsZVBocmFzZXNcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiBQbGF5ZXJQKEMpLnR5cGUgPT09IFwiQ3VzdG9tXCIgJiYgIShQbGF5ZXJQKEMpLnBldFNwZWFraW5nICYmIGJjeEZvdW5kKCkgJiYgUGxheWVyUChDKS5iY3hTcGVha2luZyksXG4gICAgICAgICAgICAgICAgdmFsdWU6IEdBUkJMRV9QSFJBU0VTLkh1bWFuLmpvaW4oKSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJQZXQgc291bmRzIHlvdSBtYWtlXCIsXG4gICAgICAgICAgICAgICAgbWF4Q2hhcnM6IDEwMjQsXG4gICAgICAgICAgICAgICAgd2lkdGg6IDEwMjRcbiAgICAgICAgICAgIH0gYXMgVGV4dFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImN1c3RvbUdhcmJsZVBocmFzZXNcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInJlY29yZFwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBbXVxuICAgICAgICAgICAgfSBhcyBTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJwZXRTcGVha2luZ1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwib3B0aW9uXCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IFtcIk9mZlwiLCBcIkxvd1wiLCBcIk1lZGl1bVwiLCBcIkhpZ2hcIiwgXCJNYXhcIl0sXG4gICAgICAgICAgICAgICAgbG9vcDogZmFsc2UsXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiT2ZmXCIsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQXV0b21hdGljYWxseSBtYWtlIHRoZSBhYm92ZSBwZXQgc291bmRzIHdoaWxlIHRhbGtpbmdcIlxuICAgICAgICAgICAgfSBhcyBPcHRpb25TZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJiY3hTcGVha2luZ1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiBQbGF5ZXJQKEMpLnBldFNwZWFraW5nICYmIGJjeEZvdW5kKCksXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIlVzZSBCQ1ggbWFuZGF0b3J5IHdvcmRzIGluc3RlYWQgb2YgdGhlIHBldCBzb3VuZHMgYWJvdmVcIixcbiAgICAgICAgICAgICAgICBvblNldDogKEMsIHZhbHVlKSA9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF2YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgU2V0UHJvZmlsZVR5cGUoQywgUGxheWVyUChDKS50eXBlLCBcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoQy5Jc1BsYXllcigpKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdGhlIG1hbmRhdG9yeSB3b3JkcyBmb3IgeW91cnNlbGYgc2luY2UgaGF2ZSBsb2NhbCBiY3ggYWNjZXNzXG4gICAgICAgICAgICAgICAgICAgICAgICBTZXRCQ1hTcGVhaygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZWxlSUQgPSBFbGVtZW50TmFtZShNb2R1bGVUaXRsZS5Qcm9maWxlLCBcImdhcmJsZVBocmFzZXNcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTYXZlIGFueSBjdXN0b20gd29yZCBjaGFuZ2VzXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoUGxheWVyUChDKS50eXBlID09PSBcIkN1c3RvbVwiICYmIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZUlEKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQbGF5ZXJQKEMpLmN1c3RvbUdhcmJsZVBocmFzZXMgPSBFbGVtZW50VmFsdWUoZWxlSUQpLnNwbGl0KFwiLFwiKS5tYXAoKHgpID0+IHgudHJpbSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVxdWVzdCB0aGUgbWFuZGF0b3J5IHdvcmRzIGZyb20gdGhlIG90aGVyIHBlcnNvblxuICAgICAgICAgICAgICAgICAgICAgICAgU2VuZE1QQU1lc3NhZ2UoeyBtZXNzYWdlOiBcIkJDWFNwZWFrRW5hYmxlUmVxdWVzdFwiIH0sIEMuTWVtYmVyTnVtYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJoYXJkY29yZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkVuYWJsZSBoYXJkY29yZSBtb2RlOyBXaWxsIHNldCBjZXJ0YWluIHNldHRpbmdzIGFuZCBwcmV2ZW50IGNoYW5naW5nIHRoZW0gYmFja1wiLFxuICAgICAgICAgICAgICAgIG9uU2V0KEMsIHZhbHVlKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09IGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgR2V0UmVjb3JkKE1vZHVsZVRpdGxlLkNsaWNrZXIsIEMpLmVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBHZXRSZWNvcmQoTW9kdWxlVGl0bGUuQ2xpY2tlciwgQykuYmN4Vm9pY2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBHZXRSZWNvcmQoTW9kdWxlVGl0bGUuVmlydHVhbFBldCwgQykuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIEdldFJlY29yZChNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0LCBDKS5ub0hhbmRzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIEdldFJlY29yZChNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9ucywgQykuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIEdldFJlY29yZChNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9ucywgQykuZm9vZE5PVyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIEdldFJlY29yZChNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9ucywgQykudGludCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIEdldFJlY29yZChNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9ucywgQykucGFzc291dCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIEdldFJlY29yZChNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9ucywgQykuYWZmZWN0aW9uU2tpbGxCdWZmcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBHZXRSZWNvcmQoTW9kdWxlVGl0bGUuVmlydHVhbFBldENvbmRpdGlvbnMsIEMpLmFmZmVjdGlvblNraWxsRGVidWZmcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIEdldFJlY29yZChNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9ucywgQykuaGVhcmluZ0xvc3MgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBHZXRSZWNvcmQoTW9kdWxlVGl0bGUuVmlydHVhbFBldENvbmRpdGlvbnMsIEMpLnNsb3dMZWF2ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIEdldFJlY29yZChNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9ucywgQykub3JnYXNtV2F0ZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBHZXRSZWNvcmQoTW9kdWxlVGl0bGUuVmlydHVhbFBldENvbmRpdGlvbnMsIEMpLm9yZ2FzbVNsZWVwID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwicGV0R2FnZ2luZ1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwib3B0aW9uXCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIk9mZlwiLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IFtcIk9mZlwiLCBcIkZpcnN0XCIsIFwiTGFzdFwiLCBcIlJlcGxhY2VcIl0sXG4gICAgICAgICAgICAgICAgbG9vcDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJQZXQgZ2FnZ2luZyBtb2RlXCJcbiAgICAgICAgICAgIH0gYXMgT3B0aW9uU2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwicGV0R2FnZ2luZ1N0cmVuZ3RoXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJvcHRpb25cIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJNZWRpdW1cIixcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBbXCJMb3dcIiwgXCJNZWRpdW1cIiwgXCJIaWdoXCIsIFwiTWF4XCJdLFxuICAgICAgICAgICAgICAgIGxvb3A6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIlBldCBnYWdnaW5nIHN0cmVuZ3RoXCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gUGxheWVyUChDKS5wZXRHYWdnaW5nICE9PSBcIk9mZlwiXG4gICAgICAgICAgICB9IGFzIE9wdGlvblNldHRpbmdcbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBMb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLkxvYWQoKTtcbiAgICAgICAgU3BlZWNoVHJhbnNmb3JtQWxsRWZmZWN0cy5wdXNoKFwicGV0U3BlYWtcIiBhcyBTcGVlY2hUcmFuc2Zvcm1OYW1lKTtcblxuICAgICAgICAvLyBQZXQgaGVhcmluZ1xuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJTcGVlY2hUcmFuc2Zvcm1HYWdHYXJibGVcIiwgNSwgKFt0ZXh0LCBpbnRlbnNpdHksIGlnbm9yZU9PQywgLi4uYXJnc10sIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIE1CUyBhZGRzIENoYXJhY3RlciBwYXJhbWV0ZXIgdG8gdGhpcywgY2FuIHVzZSBhcyBhbiBleHRyYSBjaGVjayBmb3Igd2hlbiB0byBhcHBseVxuICAgICAgICAgICAgY29uc3QgQyA9IChhcmdzIGFzIFtDPzogQ2hhcmFjdGVyLCAuLi5hcmdzOiB1bmtub3duW11dKVswXTtcblxuICAgICAgICAgICAgLy8gQXJlIHdlIGdhZ2dpbmcgb3IgZGVhZmVuaW5nP1xuICAgICAgICAgICAgLy8gTm90IGRlYWZlbmluZyBzbyBza2lwXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgQz8uSXNHYWdnZWQoKVxuICAgICAgICAgICAgICAgIHx8ICFQbGF5ZXIuSXNEZWFmKClcbiAgICAgICAgICAgICAgICB8fCBQbGF5ZXJQKCkucGV0SGVhcmluZyA9PT0gZmFsc2VcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChbdGV4dCwgaW50ZW5zaXR5LCBpZ25vcmVPT0NdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBBcHBseVBldEhlYXJpbmcoW3RleHQsIGludGVuc2l0eSwgaWdub3JlT09DXSwgbmV4dCwgR2V0UGV0SGVhcmluZ1BocmFzZXMoKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEluc2VydCBwZXQgc291bmRzIG9uIGlucHV0IGZvciBCQ1ggc3VwcG9ydFxuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJDb21tYW5kUGFyc2VcIiwgOCwgKFttc2ddLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBTa2lwIGNvbW1hbmRzXG4gICAgICAgICAgICAvLyBTa2lwIGlmIG5vdCBhdHRlbXB0aW5nIHRvIGFwcGx5IHBldCBzcGVlY2hcbiAgICAgICAgICAgIG1zZyA9IG1zZy50cmltKCk7XG4gICAgICAgICAgICBpZiAoW0NvbW1hbmRzS2V5LCBcIipcIiwgXCJAXCJdLmluY2x1ZGVzKG1zZy5jaGFyQXQoMCkpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KFttc2ddKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3Qgc3BlYWs6IFwiT2ZmXCIgfCBcIkxvd1wiIHwgXCJNZWRpdW1cIiB8IFwiSGlnaFwiIHwgXCJNYXhcIiA9IFBsYXllclAoUGxheWVyKS5wZXRTcGVha2luZztcbiAgICAgICAgICAgIHJldHVybiBuZXh0KFtOb25EaXNydXB0aXZlUGV0U3BlZWNoKG1zZywgR2V0QWxsb3dlZFBldEdhcmJsZVBocmFzZXMoKSwgc3BlYWspXSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFBldCBnYWdnaW5nXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIlNwZWVjaFRyYW5zZm9ybUdhZ0dhcmJsZVwiLCA1LCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgcGV0R2FnZ2luZ09wdGlvbiA9IFBsYXllclAoUGxheWVyKS5wZXRHYWdnaW5nO1xuICAgICAgICAgICAgaWYgKCFkZWFmZW5Qcm9jZXNzICYmIHBldEdhZ2dpbmdPcHRpb24gIT09IFwiT2ZmXCIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGhyYXNlcyA9IEdldEFsbG93ZWRQZXRHYXJibGVQaHJhc2VzKCk7XG4gICAgICAgICAgICAgICAgaWYgKHBocmFzZXMubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RyZW5ndGggPSAoR0FHR0lOR19TVFJFTkdUSF9NQVBbUGxheWVyUChQbGF5ZXIpLnBldEdhZ2dpbmdTdHJlbmd0aF0gPz8gMC4wNSkgKiBhcmdzWzFdO1xuXG4gICAgICAgICAgICAgICAgc3dpdGNoIChQbGF5ZXJQKFBsYXllcikucGV0R2FnZ2luZylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJGaXJzdFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnc1swXSA9IERpc3J1cHRpdmVQZXRTcGVlY2goYXJnc1swXSwgcGhyYXNlcywgc3RyZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkxhc3RcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBEaXNydXB0aXZlUGV0U3BlZWNoKG5leHQoYXJncyksIHBocmFzZXMsIHN0cmVuZ3RoKTtcblxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiUmVwbGFjZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERpc3J1cHRpdmVQZXRTcGVlY2goYXJnc1swXSwgcGhyYXNlcywgc3RyZW5ndGgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIFVubG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5VbmxvYWQoKTtcblxuICAgICAgICBTcGVlY2hUcmFuc2Zvcm1BbGxFZmZlY3RzID0gU3BlZWNoVHJhbnNmb3JtQWxsRWZmZWN0cy5maWx0ZXIoKHRyYW5zZm9ybSkgPT4gdHJhbnNmb3JtIGFzIFNwZWVjaFRyYW5zZm9ybU5hbWUgfCBcInBldFNwZWFrXCIgIT09IFwicGV0U3BlYWtcIik7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgTG9jYWxpemVkVGV4dCB9IGZyb20gXCIuLi9sb2NhbGl6YXRpb24vbG9jYWxpemF0aW9uXCI7XG5pbXBvcnQgeyBFeHBvcnRTZXR0aW5nc1RvQ2xpcGJvYXJkLCBJbXBvcnRTZXR0aW5nc0Zyb21DbGlwYm9hcmQsIFJlc2V0U3RvcmFnZSwgU2F2ZVN0b3JhZ2UgfSBmcm9tIFwiLi4vdXRpbC9zdG9yYWdlXCI7XG5pbXBvcnQgeyBJQ09OUyB9IGZyb20gXCIuLi91dGlsL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgSXNEaXNwbGF5U2V0dGluZywgSXNPcHRpb25TZXR0aW5nLCBJc0NoZWNrYm94U2V0dGluZywgSXNUZXh0U2V0dGluZywgSXNOdW1iZXJTZXR0aW5nIH0gZnJvbSBcIi4uL3V0aWwvc2V0dGluZ1R5cGVzXCI7XG5pbXBvcnQgeyBzZXR0aW5ncyBhcyBkZWZhdWx0U2V0dGluZ3MgfSBmcm9tIFwiLi4vdXRpbC9yZWdpc3Rlck1vZHVsZXNcIjtcbmltcG9ydCB7IEFVVEhPUklUWV9HUk9VUF9PUFRJT05TLCBBdXRob3JpdHlHcm91cCwgQXV0aG9yaXR5SXNDb21wYXJpc29uVG9DaGFyYWN0ZXIsIElzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAgfSBmcm9tIFwiLi4vdXRpbC9hdXRob3JpdHlcIjtcbmltcG9ydCB7IFNlbmRNUEFNZXNzYWdlIH0gZnJvbSBcIi4uL3V0aWwvbWVzc2FnaW5nXCI7XG5pbXBvcnQgeyBNb2R1bGUsIE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4vX21vZHVsZVwiO1xuaW1wb3J0IHsgTGV2ZWxTeW5jIH0gZnJvbSBcIi4vdmlydHVhbFBldFwiO1xuXG5sZXQgc2V0dGluZ3NFZGl0ZWQgPSBmYWxzZTtcbmxldCBzZXR0aW5nQ2hhcjogUGxheWVyQ2hhcmFjdGVyIHwgbnVsbCA9IG51bGw7XG5leHBvcnQgZnVuY3Rpb24gU2V0U2V0dGluZ0NoYXIoY2hhcmFjdGVyOiBQbGF5ZXJDaGFyYWN0ZXIpOiB2b2lkXG57XG4gICAgc2V0dGluZ3NFZGl0ZWQgPSBmYWxzZTtcbiAgICBzZXR0aW5nQ2hhciA9IGNoYXJhY3Rlcjtcbn1cblxuLy8gU2l6ZSBvZiB0aGUgY2FudmFzIGluIGdhbWVcbmNvbnN0IENBTlZBU19XSURUSCA9IDIwMDA7XG5jb25zdCBfQ0FOVkFTX0hFSUdIVCA9IDEwMDA7XG5cbi8vIEV4aXQgYnV0dG9uIHBvc2lzdGlvbiBvbiBjYW52YXNcbmNvbnN0IEVYSVRfUE9TSVNUSU9OID0gWzE4MTUsIDc1LCA5MCwgOTBdIGFzIGNvbnN0O1xuXG4vLyBNZW51IGxheW91dCB2YWx1ZXNcbmNvbnN0IEJVVFRPTl9NQVhfTlVNQkVSID0gNztcbmNvbnN0IEJVVFRPTl9XSURUSCA9IDQwMDtcbmNvbnN0IEJVVFRPTl9IRUlHSFQgPSA5MDtcbmNvbnN0IEJVVFRPTl9UT1AgPSAxNjA7XG5jb25zdCBCVVRUT05fTEVGVCA9IDUwMDtcbmNvbnN0IEJVVFRPTl9HQVAgPSAyMDtcbmNvbnN0IEJVVFRPTl9URVhUX1BBRERJTkcgPSAyMDtcblxuLy8gUGxheWVyIG9ubHkgYnV0dG9uc1xuY29uc3QgV0lLSV9QT1NJVElPTiA9IFsxMDAsIDUxMCwgMzUwLCA3NV0gYXMgY29uc3Q7XG5jb25zdCBXSUtJX0xJTksgPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9NYXlhVGhlRm94eS9NUEEvd2lraVwiO1xuY29uc3QgRElTQ09SRF9JTlZJVEUgPSBcImh0dHBzOi8vZGlzY29yZC5nZy85R0h3bUhFTUFTXCI7XG5jb25zdCBESVNDT1JEX1BPU0lUSU9OID0gW1xuICAgIFdJS0lfUE9TSVRJT05bMF0sXG4gICAgV0lLSV9QT1NJVElPTlsxXSArIFdJS0lfUE9TSVRJT05bM10gKyBCVVRUT05fR0FQLFxuICAgIFdJS0lfUE9TSVRJT05bMl0sXG4gICAgV0lLSV9QT1NJVElPTlszXVxuXSBhcyBjb25zdDtcbmNvbnN0IFJFU0VUX1BPU0lUSU9OID0gW1xuICAgIERJU0NPUkRfUE9TSVRJT05bMF0sXG4gICAgRElTQ09SRF9QT1NJVElPTlsxXSArIERJU0NPUkRfUE9TSVRJT05bM10gKyBCVVRUT05fR0FQLFxuICAgIERJU0NPUkRfUE9TSVRJT05bMl0sXG4gICAgRElTQ09SRF9QT1NJVElPTlszXVxuXSBhcyBjb25zdDtcbmNvbnN0IEFMRVJUX1BPU0lUSU9OID0gW1xuICAgIFJFU0VUX1BPU0lUSU9OWzBdLFxuICAgIFJFU0VUX1BPU0lUSU9OWzFdIC0gUkVTRVRfUE9TSVRJT05bM10sXG4gICAgUkVTRVRfUE9TSVRJT05bMl1cbl0gYXMgY29uc3Q7XG5sZXQgc2hvd1NldHRpbmdzQWxlcnQ6IG51bWJlciA9IDA7XG5sZXQgc2V0dGluZ3NBbGVydFRleHQ6IHN0cmluZyA9IFwiXCI7XG5jb25zdCBJTVBPUlRfUE9TSVRJT04gPSBbXG4gICAgUkVTRVRfUE9TSVRJT05bMF0sXG4gICAgUkVTRVRfUE9TSVRJT05bMV0gKyBSRVNFVF9QT1NJVElPTlszXSArIEJVVFRPTl9HQVAsXG4gICAgKFJFU0VUX1BPU0lUSU9OWzJdIC0gQlVUVE9OX0dBUCkgLyAyLFxuICAgIFJFU0VUX1BPU0lUSU9OWzNdXG5dIGFzIGNvbnN0O1xuY29uc3QgRVhQT1JUX1BPU0lUSU9OID0gW1xuICAgIFJFU0VUX1BPU0lUSU9OWzBdICsgKChSRVNFVF9QT1NJVElPTlsyXSArIEJVVFRPTl9HQVApIC8gMiksXG4gICAgUkVTRVRfUE9TSVRJT05bMV0gKyBSRVNFVF9QT1NJVElPTlszXSArIEJVVFRPTl9HQVAsXG4gICAgKFJFU0VUX1BPU0lUSU9OWzJdIC0gQlVUVE9OX0dBUCkgLyAyLFxuICAgIFJFU0VUX1BPU0lUSU9OWzNdXG5dIGFzIGNvbnN0O1xuY29uc3QgUkVTRVRfQ09ORklSTV9QT1NJVElPTiA9IFszMDAsIDcwMCwgMjUwLCA5MF0gYXMgY29uc3Q7XG5jb25zdCBSRVNFVF9DQU5DRUxfUE9TSVRJT04gPSBbMTQ1MCwgNzAwLCAyNTAsIDkwXSBhcyBjb25zdDtcbmNvbnN0IFZFUlNJT05fVEVYVCA9IFtcbiAgICBXSUtJX1BPU0lUSU9OWzJdIC8gMiArIFdJS0lfUE9TSVRJT05bMF0sXG4gICAgV0lLSV9QT1NJVElPTlsxXSAtIChCVVRUT05fR0FQICogMiksXG4gICAgV0lLSV9QT1NJVElPTlsyXVxuXSBhcyBjb25zdDtcblxuLy8gQ2FuIGFkZCBvciByZW1vdmUgbW9kdWxlcyBkZXBlbmRpbmcgb24gaWYgd2FudGluZyB0byBkaXNwbGF5IHRoZW0gb3Igbm90XG4vLyBPcmRlciBnaXZlbiBpcyB0aGUgb3JkZXIgZGlzcGxheWVkXG5mdW5jdGlvbiBNRU5VX0NBVEVHT1JJRVMoKTogTW9kdWxlVGl0bGVbXVxue1xuICAgIGlmICghc2V0dGluZ0NoYXIpXG4gICAge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIC8vIERpc3BsYXkgc2V0dGluZ3MgaWYgeW91IGFyZSB0aGUgUGxheWVyXG4gICAgaWYgKHNldHRpbmdDaGFyLklzUGxheWVyKCkpXG4gICAge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgTW9kdWxlVGl0bGUuQXV0aG9yaXR5LFxuICAgICAgICAgICAgTW9kdWxlVGl0bGUuUHJvZmlsZSxcbiAgICAgICAgICAgIE1vZHVsZVRpdGxlLkNsaWNrZXIsXG4gICAgICAgICAgICBNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0LFxuICAgICAgICAgICAgTW9kdWxlVGl0bGUuVmlydHVhbFBldEhVRCxcbiAgICAgICAgICAgIE1vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zXG4gICAgICAgIF07XG4gICAgfVxuICAgIC8vIERpc3BsYXkgc2V0dGluZ3MgaWYgeW91IGFyZSBhbiBhbm90aGVyIHBsYXllclxuICAgIHJldHVybiBbXG4gICAgICAgIE1vZHVsZVRpdGxlLkF1dGhvcml0eSxcbiAgICAgICAgTW9kdWxlVGl0bGUuUHJvZmlsZSxcbiAgICAgICAgTW9kdWxlVGl0bGUuQ2xpY2tlcixcbiAgICAgICAgTW9kdWxlVGl0bGUuVmlydHVhbFBldCxcbiAgICAgICAgTW9kdWxlVGl0bGUuVmlydHVhbFBldENvbmRpdGlvbnNcbiAgICBdO1xufVxuXG5leHBvcnQgY29uc3QgTUVOVV9USVRMRVM6IFBhcnRpYWw8UmVjb3JkPE1vZHVsZVRpdGxlLCBzdHJpbmc+PiA9XG57XG4gICAgW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdOiBcIlZpcnR1YWwgUGV0XCIsXG4gICAgW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRIVURdOiBcIlZpcnR1YWwgUGV0IEh1ZFwiLFxuICAgIFtNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9uc106IFwiVmlydHVhbCBQZXQgQ29uZGl0aW9uc1wiXG59O1xuXG5leHBvcnQgbGV0IGN1cnJlbnRNZW51OiBNb2R1bGVUaXRsZSB8IG51bGwgfCBcIlJFU0VUX1NldHRpbmdzXCIgPSBudWxsO1xubGV0IHNldHRpbmdzT3BlbjogYm9vbGVhbiA9IGZhbHNlO1xubGV0IGFsbG93UmVzZXRUaW1lOiBudW1iZXIgPSAwO1xuXG5EcmF3QnV0dG9uKDE1MjAsIDcyMCwgMjAwLCA4MCwgXCJDYW5jZWxcIiwgXCJXaGl0ZVwiKTtcblxuZnVuY3Rpb24gRHJhd01lbnVPcHRpb25zKG1lbnVPcHRpb25zOiBzdHJpbmdbXSk6IHZvaWRcbntcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1lbnVPcHRpb25zLmxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgICAgRHJhd0J1dHRvbihcbiAgICAgICAgICAgIEJVVFRPTl9MRUZUICsgKEJVVFRPTl9XSURUSCArIEJVVFRPTl9HQVApICogTWF0aC5mbG9vcihpIC8gQlVUVE9OX01BWF9OVU1CRVIpLFxuICAgICAgICAgICAgQlVUVE9OX1RPUCArIChCVVRUT05fSEVJR0hUICsgQlVUVE9OX0dBUCkgKiAoaSAlIEJVVFRPTl9NQVhfTlVNQkVSKSxcbiAgICAgICAgICAgIEJVVFRPTl9XSURUSCxcbiAgICAgICAgICAgIEJVVFRPTl9IRUlHSFQsXG4gICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgXCJXaGl0ZVwiXG4gICAgICAgICk7XG4gICAgICAgIERyYXdUZXh0Rml0KFxuICAgICAgICAgICAgTG9jYWxpemVkVGV4dChNRU5VX1RJVExFU1ttZW51T3B0aW9uc1tpXV0gPz8gbWVudU9wdGlvbnNbaV0pLFxuICAgICAgICAgICAgKEJVVFRPTl9MRUZUICsgQlVUVE9OX1RFWFRfUEFERElORykgKyAoQlVUVE9OX1dJRFRIICsgQlVUVE9OX0dBUCkgKiBNYXRoLmZsb29yKGkgLyBCVVRUT05fTUFYX05VTUJFUiksXG4gICAgICAgICAgICAoQlVUVE9OX1RPUCArIE1hdGguZmxvb3IoQlVUVE9OX0hFSUdIVCAvIDIpKSArIChCVVRUT05fSEVJR0hUICsgQlVUVE9OX0dBUCkgKiAoaSAlIEJVVFRPTl9NQVhfTlVNQkVSKSxcbiAgICAgICAgICAgIEJVVFRPTl9XSURUSCAtIEJVVFRPTl9URVhUX1BBRERJTkcgKiAyLFxuICAgICAgICAgICAgXCJCbGFja1wiLFxuICAgICAgICAgICAgXCJHcmF5XCJcbiAgICAgICAgKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIEdldENsaWNrZWRNZW51KG1lbnVPcHRpb25zOiBNb2R1bGVUaXRsZVtdKTogTW9kdWxlVGl0bGUgfCBudWxsXG57XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZW51T3B0aW9ucy5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICAgIGlmIChNb3VzZUluKFxuICAgICAgICAgICAgQlVUVE9OX0xFRlQgKyAoQlVUVE9OX1dJRFRIICsgQlVUVE9OX0dBUCkgKiBNYXRoLmZsb29yKGkgLyBCVVRUT05fTUFYX05VTUJFUiksXG4gICAgICAgICAgICBCVVRUT05fVE9QICsgKEJVVFRPTl9IRUlHSFQgKyBCVVRUT05fR0FQKSAqIChpICUgQlVUVE9OX01BWF9OVU1CRVIpLFxuICAgICAgICAgICAgQlVUVE9OX1dJRFRILFxuICAgICAgICAgICAgQlVUVE9OX0hFSUdIVFxuICAgICAgICApKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gbWVudU9wdGlvbnNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5cbi8vIE9wdGlvbnMgbGF5b3V0XG4vLyBNYXkgbm90IGJlIG5lZWRlZC4gV2lsbCBoYXZlIHRvIHVzZSBpZiB0aGVyZSBhcmUgbW9yZSB0aGFuIDEwIHNldHRpbmdzIHRvIGRpc3BsYXkgcGVyIGNhdGVnb3J5XG5jb25zdCBPUFRJT05fUEVSX1BBR0UgPSA5O1xuY29uc3QgT1BUSU9OX0hFSUdIVCA9IDY0O1xuY29uc3QgT1BUSU9OX1RPUCA9IDIwMDtcbmNvbnN0IE9QVElPTl9MRUZUID0gMjUwO1xuY29uc3QgT1BUSU9OX0dBUCA9IDEwO1xuY29uc3QgT1BUSU9OX0NIRUNLQk9YX1NJWkUgPSA2NDtcbmNvbnN0IE9QVElPTl9CQUNLX05FWFRfV0lEVEggPSAyNTY7XG5jb25zdCBPUFRJT05fVEVYVF9XSURUSCA9IDI1NjtcbmNvbnN0IE9QVElPTl9URVhUX01BWF9DSEFSUyA9IDI1NjtcbmxldCBjdXJyZW50UGFnZTogbnVtYmVyID0gMTtcbmxldCBtYXhQYWdlczogbnVtYmVyID0gMTtcblxuY29uc3QgTkVYVF9CVVRUT05fUE9TID0gWzE2MzUsIDc1LCA5MCwgOTBdIGFzIGNvbnN0O1xuY29uc3QgUFJFVl9CVVRUT05fUE9TID0gW05FWFRfQlVUVE9OX1BPU1swXSAtIE5FWFRfQlVUVE9OX1BPU1syXSwgTkVYVF9CVVRUT05fUE9TWzFdLCBORVhUX0JVVFRPTl9QT1NbMl0sIE5FWFRfQlVUVE9OX1BPU1syXV0gYXMgY29uc3Q7XG5cbmZ1bmN0aW9uIERyYXdQYWdlc0J1dHRvbnMoKTogdm9pZFxue1xuICAgIC8vIEFzc2V0IGN1cnJlbnQgcGFnZSBpcyBpbiBjb3JyZWN0IHJhbmdlXG4gICAgaWYgKGN1cnJlbnRQYWdlID4gbWF4UGFnZXMpXG4gICAge1xuICAgICAgICBjdXJyZW50UGFnZSA9IG1heFBhZ2VzO1xuICAgIH1cbiAgICBpZiAoY3VycmVudFBhZ2UgPCAxKVxuICAgIHtcbiAgICAgICAgY3VycmVudFBhZ2UgPSAxO1xuICAgIH1cblxuICAgIERyYXdCdXR0b24oXG4gICAgICAgIC4uLk5FWFRfQlVUVE9OX1BPUyxcbiAgICAgICAgXCJcIixcbiAgICAgICAgY3VycmVudFBhZ2UgPj0gbWF4UGFnZXMgPyBcIiNhYWFhYWFcIiA6IFwiI2ZmZmZmZlwiLFxuICAgICAgICBcIkljb25zL05leHQucG5nXCIsXG4gICAgICAgIFwiTmV4dCBQYWdlXCIsXG4gICAgICAgIGN1cnJlbnRQYWdlID49IG1heFBhZ2VzXG4gICAgKTtcbiAgICBEcmF3QnV0dG9uKFxuICAgICAgICAuLi5QUkVWX0JVVFRPTl9QT1MsXG4gICAgICAgIFwiXCIsXG4gICAgICAgIDEgPj0gY3VycmVudFBhZ2UgPyBcIiNhYWFhYWFcIiA6IFwiI2ZmZmZmZlwiLFxuICAgICAgICBcIkljb25zL1ByZXYucG5nXCIsXG4gICAgICAgIFwiUHJldmlvdXMgUGFnZVwiLFxuICAgICAgICAxID49IGN1cnJlbnRQYWdlXG4gICAgKTtcbn1cblxuZnVuY3Rpb24gRHJhd1N1Yk1lbnVPcHRpb25zKHN1Yk1lbnU6IE1vZHVsZVRpdGxlKTogdm9pZFxue1xuICAgIC8vIFNob3VsZG4ndCBiZSBuZWVkZWQgYnV0IGFjdHMgYXMgZmFpbHNhZmUgYW5kIG1ha2VzIHR5cGVzY3JpcHQgaGFwcHlcbiAgICBpZiAoIXNldHRpbmdDaGFyKSB7IHJldHVybjsgfVxuXG4gICAgLy8gU2V0dGluZ3MgaGF2ZSB0byBiZSBkaXNwbGF5YWJsZSBhbmQgaGF2ZSBhIHZhbHVlIGV4aXN0IGluIHRoZSBzdG9yZWQgc2V0dGluZ3NcbiAgICBjb25zdCBzZXR0aW5nc1RvRGlzcGxheSA9IE9iamVjdC5lbnRyaWVzKGRlZmF1bHRTZXR0aW5nc1tzdWJNZW51XSA/PyB7fSlcbiAgICAgICAgLmZpbHRlcigoW2tleSwgc2V0dGluZ10pID0+IElzRGlzcGxheVNldHRpbmcoc2V0dGluZykgJiYgKGtleSBpbiAoc2V0dGluZ0NoYXI/Lk1QQVtzdWJNZW51XSA/PyB7fSkpKTtcblxuICAgIC8vIE5leHQgYW5kIHByZXZpb3VzIG9wdGlvbiBidXR0b25zXG4gICAgaWYgKG1heFBhZ2VzICE9PSAxKVxuICAgIHtcbiAgICAgICAgRHJhd1BhZ2VzQnV0dG9ucygpO1xuICAgIH1cblxuICAgIHNldHRpbmdzVG9EaXNwbGF5LnNsaWNlKChjdXJyZW50UGFnZSAtIDEpICogT1BUSU9OX1BFUl9QQUdFLCBjdXJyZW50UGFnZSAqIE9QVElPTl9QRVJfUEFHRSkuZm9yRWFjaCgodmFsLCBpKSA9PlxuICAgIHtcbiAgICAgICAgY29uc3QgW3NldHRpbmdOYW1lLCBzZXR0aW5nXSA9IHZhbCBhcyBbc3RyaW5nLCBEaXNwbGF5ZWRTZXR0aW5nXTtcblxuICAgICAgICBjb25zdCBkaXNhYmxlZFNldHRpbmcgPSAhc2V0dGluZy5hY3RpdmUoc2V0dGluZ0NoYXIhKVxuICAgICAgICAgIHx8IChcbiAgICAgICAgICAgICAgYG90aGVycyR7c3ViTWVudX1gIGluIHNldHRpbmdDaGFyIS5NUEFbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XVxuICAgICAgICAgICAgICAmJiBgc2VsZiR7c3ViTWVudX1gIGluIHNldHRpbmdDaGFyIS5NUEFbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XVxuICAgICAgICAgICAgICAmJiAhSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cChcbiAgICAgICAgICAgICAgICAgIFBsYXllci5NZW1iZXJOdW1iZXIgPz8gLTEsXG4gICAgICAgICAgICAgICAgICBzZXR0aW5nQ2hhciEuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV1bYG90aGVycyR7c3ViTWVudX1gXSBhcyBBdXRob3JpdHlHcm91cCxcbiAgICAgICAgICAgICAgICAgIHNldHRpbmdDaGFyIS5NUEFbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XVtgc2VsZiR7c3ViTWVudX1gXSBhcyBib29sZWFuLFxuICAgICAgICAgICAgICAgICAgc2V0dGluZ0NoYXIhXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgICAgICAgfHwgKFxuICAgICAgICAgICAgICAhUGxheWVyLkNhbkludGVyYWN0KCkgJiYgKFxuICAgICAgICAgICAgICAgICAgKHNldHRpbmdDaGFyPy5NZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXJcbiAgICAgICAgICAgICAgICAgICYmICFQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV0uYm91bmRBY2Nlc3NTZWxmKVxuICAgICAgICAgICAgICAgICAgfHwgKHNldHRpbmdDaGFyPy5NZW1iZXJOdW1iZXIgIT09IFBsYXllci5NZW1iZXJOdW1iZXJcbiAgICAgICAgICAgICAgICAgICYmICFQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV0uYm91bmRBY2Nlc3NPdGhlcnMpXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuXG4gICAgICAgIGlmIChJc0NoZWNrYm94U2V0dGluZyhzZXR0aW5nKSlcbiAgICAgICAge1xuICAgICAgICAgICAgRHJhd0NoZWNrYm94KFxuICAgICAgICAgICAgICAgIE9QVElPTl9MRUZULFxuICAgICAgICAgICAgICAgIE9QVElPTl9UT1AgKyAoaSAqIChPUFRJT05fR0FQICsgT1BUSU9OX0hFSUdIVCkpLFxuICAgICAgICAgICAgICAgIE9QVElPTl9DSEVDS0JPWF9TSVpFLFxuICAgICAgICAgICAgICAgIE9QVElPTl9DSEVDS0JPWF9TSVpFLFxuICAgICAgICAgICAgICAgIExvY2FsaXplZFRleHQoc2V0dGluZy5sYWJlbClcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2VBbGwoXCJUYXJnZXRDaGFyYWN0ZXJcIiwgKHNldHRpbmdDaGFyPy5OaWNrbmFtZSB8fCBzZXR0aW5nQ2hhcj8uTmFtZSkgPz8gXCJcIilcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2VBbGwoXCJUYXJnZXRQcm9ub3VuUG9zc2Vzc2l2ZVwiLCBzZXR0aW5nQ2hhcj8uR2V0UHJvbm91bnMoKSA9PT0gXCJTaGVIZXJcIiA/IFwiaGVyXCIgOiBcImhpc1wiKSxcbiAgICAgICAgICAgICAgICAhIXNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdLFxuICAgICAgICAgICAgICAgIGRpc2FibGVkU2V0dGluZyxcbiAgICAgICAgICAgICAgICBcIkJsYWNrXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoSXNPcHRpb25TZXR0aW5nKHNldHRpbmcpKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHNldHRpbmcub3B0aW9ucy5pbmRleE9mKHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdIGFzIHN0cmluZyk7XG4gICAgICAgICAgICBjb25zdCBvcHRMZW4gPSBzZXR0aW5nLm9wdGlvbnMubGVuZ3RoO1xuXG4gICAgICAgICAgICAvLyBDYW4ndCBkZWNyZWFzZSBhdXRob3JpdHkgYmV5b25kIGlmIHRoZSBwbGF5ZXIgaXMgbm90IG9mIHRoYXQgcmFua1xuICAgICAgICAgICAgY29uc3QgcHJvZmlsZU9yRXhjbHVkZXMgPSAoc3ViTWVudSAhPT0gTW9kdWxlVGl0bGUuQXV0aG9yaXR5KSB8fCAhQVVUSE9SSVRZX0dST1VQX09QVElPTlMuaW5jbHVkZXMoc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0pO1xuICAgICAgICAgICAgY29uc3QgcHJldkRpc2FibGVkID0gIShwcm9maWxlT3JFeGNsdWRlcyB8fCBBdXRob3JpdHlJc0NvbXBhcmlzb25Ub0NoYXJhY3RlcihzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSBhcyBBdXRob3JpdHlHcm91cCwgXCI+PVwiLCBQbGF5ZXIuTWVtYmVyTnVtYmVyID8/IC0xLCBzZXR0aW5nQ2hhciEpKTtcbiAgICAgICAgICAgIGNvbnN0IG5leHREaXNhYmxlZCA9ICEocHJvZmlsZU9yRXhjbHVkZXMgfHwgQXV0aG9yaXR5SXNDb21wYXJpc29uVG9DaGFyYWN0ZXIoc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gYXMgQXV0aG9yaXR5R3JvdXAsIFwiPlwiLCBQbGF5ZXIuTWVtYmVyTnVtYmVyID8/IC0xLCBzZXR0aW5nQ2hhciEpKVxuICAgICAgICAgICAgICAmJiBzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSAhPT0gXCJTZWxmXCI7XG5cbiAgICAgICAgICAgIERyYXdCYWNrTmV4dEJ1dHRvbihcbiAgICAgICAgICAgICAgICBPUFRJT05fTEVGVCxcbiAgICAgICAgICAgICAgICBPUFRJT05fVE9QICsgKGkgKiAoT1BUSU9OX0dBUCArIE9QVElPTl9IRUlHSFQpKSxcbiAgICAgICAgICAgICAgICBPUFRJT05fQkFDS19ORVhUX1dJRFRILFxuICAgICAgICAgICAgICAgIE9QVElPTl9IRUlHSFQsXG4gICAgICAgICAgICAgICAgTG9jYWxpemVkVGV4dChzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSBhcyBzdHJpbmcpLFxuICAgICAgICAgICAgICAgICEoZGlzYWJsZWRTZXR0aW5nIHx8IChwcmV2RGlzYWJsZWQgJiYgbmV4dERpc2FibGVkKSkgPyBcIiNmZmZmZmZcIiA6IFwiI2FhYWFhYVwiLFxuICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgKCkgPT4gTG9jYWxpemVkVGV4dChwcmV2RGlzYWJsZWQgPyBcIlwiIDogKHNldHRpbmcubG9vcCA/IHNldHRpbmcub3B0aW9uc1soaW5kZXggLSAxICsgb3B0TGVuKSAlIG9wdExlbl0gOiBpbmRleCA+IDAgPyBzZXR0aW5nLm9wdGlvbnNbaW5kZXggLSAxXSA6IFwiXCIpKSxcbiAgICAgICAgICAgICAgICAoKSA9PiBMb2NhbGl6ZWRUZXh0KG5leHREaXNhYmxlZCA/IFwiXCIgOiAoc2V0dGluZy5sb29wID8gc2V0dGluZy5vcHRpb25zWyhpbmRleCArIDEgKyBvcHRMZW4pICUgb3B0TGVuXSA6IGluZGV4ICsgMSA8IG9wdExlbiA/IHNldHRpbmcub3B0aW9uc1tpbmRleCArIDFdIDogXCJcIikpLFxuICAgICAgICAgICAgICAgIGRpc2FibGVkU2V0dGluZyB8fCAocHJldkRpc2FibGVkICYmIG5leHREaXNhYmxlZClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBEcmF3VGV4dEZpdChcbiAgICAgICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KHNldHRpbmcubGFiZWwpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlQWxsKFwiVGFyZ2V0Q2hhcmFjdGVyXCIsIChzZXR0aW5nQ2hhcj8uTmlja25hbWUgfHwgc2V0dGluZ0NoYXI/Lk5hbWUpID8/IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlQWxsKFwiVGFyZ2V0UHJvbm91blBvc3Nlc3NpdmVcIiwgc2V0dGluZ0NoYXI/LkdldFByb25vdW5zKCkgPT09IFwiU2hlSGVyXCIgPyBcImhlclwiIDogXCJoaXNcIiksXG4gICAgICAgICAgICAgICAgT1BUSU9OX0xFRlQgKyBPUFRJT05fQkFDS19ORVhUX1dJRFRIICsgKE9QVElPTl9HQVAgKiAyKSxcbiAgICAgICAgICAgICAgICBPUFRJT05fVE9QICsgKGkgKiAoT1BUSU9OX0dBUCArIE9QVElPTl9IRUlHSFQpICsgTWF0aC5jZWlsKE9QVElPTl9IRUlHSFQgLyAyKSksXG4gICAgICAgICAgICAgICAgQ0FOVkFTX1dJRFRIIC0gKE9QVElPTl9MRUZUICogMikgLSBPUFRJT05fQkFDS19ORVhUX1dJRFRILFxuICAgICAgICAgICAgICAgIFwiQmxhY2tcIixcbiAgICAgICAgICAgICAgICBcIkdyYXlcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChJc1RleHRTZXR0aW5nKHNldHRpbmcpIHx8IElzTnVtYmVyU2V0dGluZyhzZXR0aW5nKSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgaWQgPSBFbGVtZW50TmFtZShzdWJNZW51LCBzZXR0aW5nTmFtZSk7XG4gICAgICAgICAgICBFbGVtZW50UG9zaXRpb25GaXhlZChcbiAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICBPUFRJT05fTEVGVCxcbiAgICAgICAgICAgICAgICBPUFRJT05fVE9QICsgKGkgKiAoT1BUSU9OX0dBUCArIE9QVElPTl9IRUlHSFQpKSxcbiAgICAgICAgICAgICAgICBzZXR0aW5nLndpZHRoID8/IE9QVElPTl9URVhUX1dJRFRILFxuICAgICAgICAgICAgICAgIE9QVElPTl9IRUlHSFRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoZGlzYWJsZWRTZXR0aW5nKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIEVsZW1lbnRTZXRBdHRyaWJ1dGUoaWQsIFwiZGlzYWJsZWRcIiwgXCJ0cnVlXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIEVsZW1lbnRSZW1vdmVBdHRyaWJ1dGUoaWQsIFwiZGlzYWJsZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBEcmF3VGV4dEZpdChcbiAgICAgICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KHNldHRpbmcubGFiZWwpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlQWxsKFwiVGFyZ2V0Q2hhcmFjdGVyXCIsIChzZXR0aW5nQ2hhcj8uTmlja25hbWUgfHwgc2V0dGluZ0NoYXI/Lk5hbWUpID8/IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlQWxsKFwiVGFyZ2V0UHJvbm91blBvc3Nlc3NpdmVcIiwgc2V0dGluZ0NoYXI/LkdldFByb25vdW5zKCkgPT09IFwiU2hlSGVyXCIgPyBcImhlclwiIDogXCJoaXNcIiksXG4gICAgICAgICAgICAgICAgT1BUSU9OX0xFRlQgKyAoc2V0dGluZy53aWR0aCA/PyBPUFRJT05fVEVYVF9XSURUSCkgKyAoT1BUSU9OX0dBUCAqIDIpLFxuICAgICAgICAgICAgICAgIE9QVElPTl9UT1AgKyAoaSAqIChPUFRJT05fR0FQICsgT1BUSU9OX0hFSUdIVCkpICsgTWF0aC5jZWlsKE9QVElPTl9IRUlHSFQgLyAyKSxcbiAgICAgICAgICAgICAgICBDQU5WQVNfV0lEVEggLSAoT1BUSU9OX0xFRlQgKiAyKSAtIChzZXR0aW5nLndpZHRoID8/IE9QVElPTl9URVhUX1dJRFRIKSxcbiAgICAgICAgICAgICAgICBcIkJsYWNrXCIsXG4gICAgICAgICAgICAgICAgXCJHcmF5XCJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gR2V0Q2xpY2tlZE9wdGlvbihzdWJNZW51OiBNb2R1bGVUaXRsZSk6IHZvaWRcbntcbiAgICAvLyBTaG91bGRuJ3QgYmUgbmVlZGVkIGJ1dCBhY3RzIGFzIGZhaWxzYWZlIGFuZCBtYWtlcyB0eXBlc2NyaXB0IGhhcHB5XG4gICAgaWYgKCFzZXR0aW5nQ2hhcikgeyByZXR1cm47IH1cblxuICAgIC8vIFNldHRpbmdzIGhhdmUgdG8gYmUgZGlzcGxheWFibGUgYW5kIGhhdmUgYSB2YWx1ZSBleGlzdCBpbiB0aGUgc3RvcmVkIHNldHRpbmdzXG4gICAgY29uc3Qgc2V0dGluZ3NUb0Rpc3BsYXkgPSBPYmplY3QuZW50cmllcyhkZWZhdWx0U2V0dGluZ3Nbc3ViTWVudV0gPz8ge30pXG4gICAgICAgIC5maWx0ZXIoKFtrZXksIHNldHRpbmddKSA9PiBJc0Rpc3BsYXlTZXR0aW5nKHNldHRpbmcpICYmIChrZXkgaW4gKHNldHRpbmdDaGFyPy5NUEFbc3ViTWVudV0gPz8ge30pKSk7XG5cbiAgICAvLyBMb29wIHRocm91Z2ggYWxsIHRoZSBvcHRpb25zIGFuZCBjaGVjayBpZiB0aGUgY2xpY2sgb2NjdXJlZCBpbiB0aGUgdHlwZSdzIGNvcnJlc3BvbmRpbmcgY2xpY2sgem9uZVxuICAgIHNldHRpbmdzVG9EaXNwbGF5LnNsaWNlKChjdXJyZW50UGFnZSAtIDEpICogT1BUSU9OX1BFUl9QQUdFLCBjdXJyZW50UGFnZSAqIE9QVElPTl9QRVJfUEFHRSkuZm9yRWFjaCgodmFsLCBpKSA9PlxuICAgIHtcbiAgICAgICAgY29uc3QgW3NldHRpbmdOYW1lLCBzZXR0aW5nXSA9IHZhbCBhcyBbc3RyaW5nLCBEaXNwbGF5ZWRTZXR0aW5nXTtcblxuICAgICAgICBjb25zdCBkaXNhYmxlZFNldHRpbmcgPSAhc2V0dGluZy5hY3RpdmUoc2V0dGluZ0NoYXIhKVxuICAgICAgICAgIHx8IChcbiAgICAgICAgICAgICAgYG90aGVycyR7c3ViTWVudX1gIGluIHNldHRpbmdDaGFyIS5NUEFbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XVxuICAgICAgICAgICAgICAmJiBgc2VsZiR7c3ViTWVudX1gIGluIHNldHRpbmdDaGFyIS5NUEFbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XVxuICAgICAgICAgICAgICAmJiAhSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cChcbiAgICAgICAgICAgICAgICAgIFBsYXllci5NZW1iZXJOdW1iZXIgPz8gLTEsXG4gICAgICAgICAgICAgICAgICBzZXR0aW5nQ2hhciEuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV1bYG90aGVycyR7c3ViTWVudX1gXSBhcyBBdXRob3JpdHlHcm91cCxcbiAgICAgICAgICAgICAgICAgIHNldHRpbmdDaGFyIS5NUEFbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XVtgc2VsZiR7c3ViTWVudX1gXSBhcyBib29sZWFuLFxuICAgICAgICAgICAgICAgICAgc2V0dGluZ0NoYXIhXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgICAgICAgfHwgKFxuICAgICAgICAgICAgICAhUGxheWVyLkNhbkludGVyYWN0KCkgJiYgKFxuICAgICAgICAgICAgICAgICAgKHNldHRpbmdDaGFyPy5NZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXJcbiAgICAgICAgICAgICAgICAgICYmICFQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV0uYm91bmRBY2Nlc3NTZWxmKVxuICAgICAgICAgICAgICAgICAgfHwgKHNldHRpbmdDaGFyPy5NZW1iZXJOdW1iZXIgIT09IFBsYXllci5NZW1iZXJOdW1iZXJcbiAgICAgICAgICAgICAgICAgICYmICFQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV0uYm91bmRBY2Nlc3NPdGhlcnMpXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuXG4gICAgICAgIGlmIChJc0NoZWNrYm94U2V0dGluZyhzZXR0aW5nKSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIE1vdXNlSW4oXG4gICAgICAgICAgICAgICAgICAgIE9QVElPTl9MRUZULFxuICAgICAgICAgICAgICAgICAgICBPUFRJT05fVE9QICsgKGkgKiAoT1BUSU9OX0dBUCArIE9QVElPTl9IRUlHSFQpKSxcbiAgICAgICAgICAgICAgICAgICAgT1BUSU9OX0NIRUNLQk9YX1NJWkUsXG4gICAgICAgICAgICAgICAgICAgIE9QVElPTl9DSEVDS0JPWF9TSVpFXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICYmICFkaXNhYmxlZFNldHRpbmdcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSA9ICFzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXTtcbiAgICAgICAgICAgICAgICBpZiAoc2V0dGluZy5vblNldClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmcub25TZXQoc2V0dGluZ0NoYXIhLCBzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSwgIXNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2V0dGluZ3NFZGl0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKElzT3B0aW9uU2V0dGluZyhzZXR0aW5nKSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBzZXR0aW5nLm9wdGlvbnMuaW5kZXhPZihzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSBhcyBzdHJpbmcpO1xuICAgICAgICAgICAgY29uc3Qgb3B0TGVuID0gc2V0dGluZy5vcHRpb25zLmxlbmd0aDtcbiAgICAgICAgICAgIC8vIEJhY2sgYXJyb3dcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBNb3VzZUluKFxuICAgICAgICAgICAgICAgICAgICBPUFRJT05fTEVGVCxcbiAgICAgICAgICAgICAgICAgICAgT1BUSU9OX1RPUCArIChpICogKE9QVElPTl9HQVAgKyBPUFRJT05fSEVJR0hUKSksXG4gICAgICAgICAgICAgICAgICAgIE1hdGguZmxvb3IoT1BUSU9OX0JBQ0tfTkVYVF9XSURUSCAvIDIpLFxuICAgICAgICAgICAgICAgICAgICBPUFRJT05fSEVJR0hUXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICYmICFkaXNhYmxlZFNldHRpbmdcbiAgICAgICAgICAgICAgICAmJiAoc2V0dGluZy5sb29wXG4gICAgICAgICAgICAgICAgfHwgaW5kZXggPiAwKVxuICAgICAgICAgICAgICAgIC8vIENhbid0IGRlY3JlYXNlIGF1dGhvcml0eSBiZXlvbmQgaWYgdGhlIHBsYXllciBpcyBub3Qgb2YgdGhhdCByYW5rXG4gICAgICAgICAgICAgICAgJiYgKHN1Yk1lbnUgIT09IE1vZHVsZVRpdGxlLkF1dGhvcml0eVxuICAgICAgICAgICAgICAgIHx8ICFBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUy5pbmNsdWRlcyhzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSlcbiAgICAgICAgICAgICAgICB8fCBBdXRob3JpdHlJc0NvbXBhcmlzb25Ub0NoYXJhY3RlcihzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSBhcyBBdXRob3JpdHlHcm91cCwgXCI+PVwiLCBQbGF5ZXIuTWVtYmVyTnVtYmVyID8/IC0xLCBzZXR0aW5nQ2hhciEpKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZWYWx1ZSA9IHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdO1xuICAgICAgICAgICAgICAgIHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdID0gc2V0dGluZy5vcHRpb25zWyhpbmRleCAtIDEgKyBvcHRMZW4pICUgb3B0TGVuXTtcbiAgICAgICAgICAgICAgICBpZiAoc2V0dGluZy5vblNldClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmcub25TZXQoc2V0dGluZ0NoYXIhLCBzZXR0aW5nLm9wdGlvbnNbKGluZGV4IC0gMSArIG9wdExlbikgJSBvcHRMZW5dLCBwcmV2VmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZXR0aW5nc0VkaXRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBOZXh0IGFycm93XG4gICAgICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICBNb3VzZUluKFxuICAgICAgICAgICAgICAgICAgICBPUFRJT05fTEVGVCArIE1hdGguZmxvb3IoT1BUSU9OX0JBQ0tfTkVYVF9XSURUSCAvIDIpLFxuICAgICAgICAgICAgICAgICAgICBPUFRJT05fVE9QICsgKGkgKiAoT1BUSU9OX0dBUCArIE9QVElPTl9IRUlHSFQpKSxcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5jZWlsKE9QVElPTl9CQUNLX05FWFRfV0lEVEggLyAyKSxcbiAgICAgICAgICAgICAgICAgICAgT1BUSU9OX0hFSUdIVFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAmJiAhZGlzYWJsZWRTZXR0aW5nXG4gICAgICAgICAgICAgICAgJiYgKHNldHRpbmcubG9vcFxuICAgICAgICAgICAgICAgIHx8IGluZGV4ICsgMSA8IHNldHRpbmcub3B0aW9ucy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgLy8gQ2FuJ3QgaW5jcmVhc2UgYXV0aG9yaXR5IGJleW9uZCB3aGF0IHRoZSBwbGF5ZXIgd2hvIGlzIHNldHRpbmcgaXQgaXNcbiAgICAgICAgICAgICAgICAmJiAoc3ViTWVudSAhPT0gTW9kdWxlVGl0bGUuQXV0aG9yaXR5XG4gICAgICAgICAgICAgICAgfHwgIUFVVEhPUklUWV9HUk9VUF9PUFRJT05TLmluY2x1ZGVzKHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdKVxuICAgICAgICAgICAgICAgIHx8IEF1dGhvcml0eUlzQ29tcGFyaXNvblRvQ2hhcmFjdGVyKHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdIGFzIEF1dGhvcml0eUdyb3VwLCBcIj5cIiwgUGxheWVyLk1lbWJlck51bWJlciA/PyAtMSwgc2V0dGluZ0NoYXIhKSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2VmFsdWUgPSBzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXTtcbiAgICAgICAgICAgICAgICBzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSA9IHNldHRpbmcub3B0aW9uc1soaW5kZXggKyAxICsgb3B0TGVuKSAlIG9wdExlbl07XG4gICAgICAgICAgICAgICAgaWYgKHNldHRpbmcub25TZXQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nLm9uU2V0KHNldHRpbmdDaGFyISwgc2V0dGluZy5vcHRpb25zWyhpbmRleCArIDEgKyBvcHRMZW4pICUgb3B0TGVuXSwgcHJldlZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2V0dGluZ3NFZGl0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBFeGl0QnV0dG9uUHJlc3NlZCgpOiB2b2lkXG57XG4gICAgaWYgKGN1cnJlbnRNZW51ID09PSBudWxsKVxuICAgIHtcbiAgICAgICAgaWYgKHdpbmRvdy5NUEEubWVudUxvYWRlZClcbiAgICAgICAge1xuICAgICAgICAgICAgd2luZG93Lk1QQS5tZW51TG9hZGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgUHJlZmVyZW5jZU1lbnVFeGl0KCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGN1cnJlbnRNZW51ID09PSBcIlJFU0VUX1NldHRpbmdzXCIpXG4gICAge1xuICAgICAgICBjdXJyZW50TWVudSA9IG51bGw7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIC8vIFNhdmUgYWxsIHRleHQgZmllbGRzIHRvIHRoZWlyIHJlc3BlY3RpdmUgc2V0dGluZ1xuICAgICAgICBVcGRhdGVBbmREZWxldGVIVE1MRWxlbWVudHMoY3VycmVudE1lbnUpO1xuICAgICAgICBjdXJyZW50UGFnZSA9IDE7XG4gICAgICAgIG1heFBhZ2VzID0gMTtcbiAgICAgICAgY3VycmVudE1lbnUgPSBudWxsO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFByZWZlcmVuY2VNZW51Q2xpY2soKTogdm9pZFxue1xuICAgIGlmIChNb3VzZUluKC4uLkVYSVRfUE9TSVNUSU9OKSlcbiAgICB7XG4gICAgICAgIEV4aXRCdXR0b25QcmVzc2VkKCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoc2V0dGluZ0NoYXI/Lk1lbWJlck51bWJlciA9PT0gUGxheWVyLk1lbWJlck51bWJlciAmJiBjdXJyZW50TWVudSA9PT0gbnVsbClcbiAgICB7XG4gICAgICAgIGlmIChNb3VzZUluKC4uLldJS0lfUE9TSVRJT04pKVxuICAgICAgICB7XG4gICAgICAgICAgICB3aW5kb3cub3BlbihXSUtJX0xJTkssIFwiX2JsYW5rXCIpPy5mb2N1cygpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChNb3VzZUluKC4uLkRJU0NPUkRfUE9TSVRJT04pKVxuICAgICAgICB7XG4gICAgICAgICAgICB3aW5kb3cub3BlbihESVNDT1JEX0lOVklURSwgXCJfYmxhbmtcIik/LmZvY3VzKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE1vdXNlSW4oLi4uUkVTRVRfUE9TSVRJT04pKVxuICAgICAgICB7XG4gICAgICAgICAgICBjdXJyZW50TWVudSA9IFwiUkVTRVRfU2V0dGluZ3NcIjtcbiAgICAgICAgICAgIGFsbG93UmVzZXRUaW1lID0gRGF0ZS5ub3coKSArIDEwMDAwO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChNb3VzZUluKC4uLklNUE9SVF9QT1NJVElPTikpXG4gICAgICAgIHtcbiAgICAgICAgICAgIEltcG9ydFNldHRpbmdzRnJvbUNsaXBib2FyZCgpLnRoZW4oKCkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzZXR0aW5nc0FsZXJ0VGV4dCA9IFwiU2V0dGluZ3MgaW1wb3J0ZWQgZnJvbSBjbGlwYm9hcmRcIjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNldHRpbmdzQWxlcnRUZXh0ID0gXCJGYWlsZWQgdG8gaW1wb3J0IHNldHRpbmdzXCI7XG4gICAgICAgICAgICB9KS5maW5hbGx5KCgpID0+IHNob3dTZXR0aW5nc0FsZXJ0ID0gRGF0ZS5ub3coKSArIDUwMDApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChNb3VzZUluKC4uLkVYUE9SVF9QT1NJVElPTikpXG4gICAgICAgIHtcbiAgICAgICAgICAgIEV4cG9ydFNldHRpbmdzVG9DbGlwYm9hcmQoKS50aGVuKCgpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2V0dGluZ3NBbGVydFRleHQgPSBcIlNldHRpbmdzIGNvcGllZCB0byBjbGlwYm9hcmRcIjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNldHRpbmdzQWxlcnRUZXh0ID0gXCJGYWlsZWQgdG8gZXhwb3J0IHNldHRpbmdzXCI7XG4gICAgICAgICAgICB9KS5maW5hbGx5KCgpID0+IHNob3dTZXR0aW5nc0FsZXJ0ID0gRGF0ZS5ub3coKSArIDUwMDApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gR2V0IHRoZSBzdWJtZW51IGNsaWNrZWQgb3B0aW9uc1xuICAgIGlmIChjdXJyZW50TWVudSA9PT0gbnVsbCAmJiBHZXRDbGlja2VkTWVudShNRU5VX0NBVEVHT1JJRVMoKSkgIT09IG51bGwpXG4gICAge1xuICAgICAgICBjdXJyZW50TWVudSA9IEdldENsaWNrZWRNZW51KE1FTlVfQ0FURUdPUklFUygpKTtcbiAgICAgICAgY3VycmVudFBhZ2UgPSAxO1xuICAgICAgICBtYXhQYWdlcyA9IE1hdGguY2VpbChPYmplY3QuZW50cmllcyhkZWZhdWx0U2V0dGluZ3NbY3VycmVudE1lbnUgPz8gXCJcIl0gPz8ge30pXG4gICAgICAgICAgICAuZmlsdGVyKChba2V5LCBzZXR0aW5nXSkgPT4gSXNEaXNwbGF5U2V0dGluZyhzZXR0aW5nKSAmJiAoa2V5IGluIChzZXR0aW5nQ2hhcj8uTVBBW2N1cnJlbnRNZW51ID8/IFwiXCJdID8/IHt9KSkpXG4gICAgICAgICAgICAubGVuZ3RoIC8gT1BUSU9OX1BFUl9QQUdFKTtcbiAgICAgICAgQ3JlYXRlSFRNTEVsZW1lbnRzKGN1cnJlbnRNZW51KTtcbiAgICB9XG4gICAgaWYgKGN1cnJlbnRNZW51ID09PSBcIlJFU0VUX1NldHRpbmdzXCIpXG4gICAge1xuICAgICAgICBSZXNldE1lbnVDbGljaygpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIEdldCBvcHRpb24gb2YgdGhlIGN1cnJlbnQgbWVudVxuICAgIGlmIChjdXJyZW50TWVudSAhPT0gbnVsbClcbiAgICB7XG4gICAgICAgIC8vIE5leHQgYW5kIHByZXZpb3VzIGJ1dHRvbnNcbiAgICAgICAgLy8gT25seSBjaGVjayBpZiBzZXR0aW5nIHBhZ2UgbmVlZHMgaXRcbiAgICAgICAgaWYgKE9iamVjdC5lbnRyaWVzKGRlZmF1bHRTZXR0aW5nc1tjdXJyZW50TWVudSA/PyBcIlwiXSA/PyB7fSlcbiAgICAgICAgICAgIC5maWx0ZXIoKFtrZXksIHNldHRpbmddKSA9PiBJc0Rpc3BsYXlTZXR0aW5nKHNldHRpbmcpICYmIChrZXkgaW4gKHNldHRpbmdDaGFyPy5NUEFbY3VycmVudE1lbnUgPz8gXCJcIl0gPz8ge30pKSlcbiAgICAgICAgICAgIC5sZW5ndGggPiBPUFRJT05fUEVSX1BBR0VcbiAgICAgICAgKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoTW91c2VJbiguLi5ORVhUX0JVVFRPTl9QT1MpICYmIGN1cnJlbnRQYWdlIDwgbWF4UGFnZXMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgVXBkYXRlQW5kRGVsZXRlSFRNTEVsZW1lbnRzKGN1cnJlbnRNZW51KTtcbiAgICAgICAgICAgICAgICBjdXJyZW50UGFnZSsrO1xuICAgICAgICAgICAgICAgIENyZWF0ZUhUTUxFbGVtZW50cyhjdXJyZW50TWVudSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKE1vdXNlSW4oLi4uUFJFVl9CVVRUT05fUE9TKSAmJiBjdXJyZW50UGFnZSA+IDEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgVXBkYXRlQW5kRGVsZXRlSFRNTEVsZW1lbnRzKGN1cnJlbnRNZW51KTtcbiAgICAgICAgICAgICAgICBjdXJyZW50UGFnZS0tO1xuICAgICAgICAgICAgICAgIENyZWF0ZUhUTUxFbGVtZW50cyhjdXJyZW50TWVudSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIEdldENsaWNrZWRPcHRpb24oY3VycmVudE1lbnUpO1xuICAgIH1cblxuICAgIHJldHVybjtcbn1cblxuZnVuY3Rpb24gUmVzZXRNZW51Q2xpY2soKTogdm9pZFxue1xuICAgIGlmIChNb3VzZUluKC4uLlJFU0VUX0NPTkZJUk1fUE9TSVRJT04pICYmIERhdGUubm93KCkgPiBhbGxvd1Jlc2V0VGltZSlcbiAgICB7XG4gICAgICAgIFJlc2V0U3RvcmFnZSgpO1xuICAgICAgICBjdXJyZW50TWVudSA9IG51bGw7XG4gICAgICAgIGFsbG93UmVzZXRUaW1lID0gMDtcbiAgICB9XG5cbiAgICBpZiAoTW91c2VJbiguLi5SRVNFVF9DQU5DRUxfUE9TSVRJT04pKVxuICAgIHtcbiAgICAgICAgY3VycmVudE1lbnUgPSBudWxsO1xuICAgICAgICBhbGxvd1Jlc2V0VGltZSA9IDA7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBSZXNldE1lbnVSdW4oKTogdm9pZFxue1xuICAgIGNvbnN0IHByZXZUZXh0QWxpZ24gPSBNYWluQ2FudmFzLnRleHRBbGlnbjtcbiAgICBNYWluQ2FudmFzLnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XG5cbiAgICBEcmF3VGV4dChcbiAgICAgICAgTG9jYWxpemVkVGV4dChcIldBUk5JTkc6IEFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byByZXNldCB5b3VyIE1QQSBzZXR0aW5ncyBhbmQgZGF0YSBiYWNrIHRvIGRlZmF1bHQ/XCIpLFxuICAgICAgICBDQU5WQVNfV0lEVEggLyAyLFxuICAgICAgICAyNTAsXG4gICAgICAgIFwiIzAwMDAwMFwiLFxuICAgICAgICBcIiNhYWFhYWFcIlxuICAgICk7XG4gICAgRHJhd1RleHQoXG4gICAgICAgIC8vIEEgbGl0dGxlIGhvbWFnZSB0byBCQ1ggYW5kIExTQ0cgZm9yIGJlaW5nIGdyZWF0IG9wZW4gc291cmNlIHJlZmVyZW5jZXMgb24gdGhpcyBwcm9qZWN0XG4gICAgICAgIExvY2FsaXplZFRleHQoXCJUaGlzIGFjdGlvbiBjYW4gbm90IGJlIHVuZG9uZSFcIiksXG4gICAgICAgIENBTlZBU19XSURUSCAvIDIsXG4gICAgICAgIDQwMCxcbiAgICAgICAgXCIjZmYwMDAwXCIsXG4gICAgICAgIFwiI2FhYWFhYVwiXG4gICAgKTtcbiAgICBEcmF3VGV4dChcbiAgICAgICAgTG9jYWxpemVkVGV4dChcIkV4cG9ydCBhbmQgc2F2ZSB5b3VyIHNldHRpbmdzIEJFRk9SRSBjb25maXJtaW5nIGlmIHlvdSBhcmUgdW5zdXJlLlwiKSxcbiAgICAgICAgQ0FOVkFTX1dJRFRIIC8gMixcbiAgICAgICAgNTUwLFxuICAgICAgICBcIiM2OTY5NjlcIixcbiAgICAgICAgXCIjYWFhYWFhXCJcbiAgICApO1xuXG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICBpZiAobm93IDw9IGFsbG93UmVzZXRUaW1lKVxuICAgIHtcbiAgICAgICAgRHJhd0J1dHRvbihcbiAgICAgICAgICAgIC4uLlJFU0VUX0NPTkZJUk1fUE9TSVRJT04sXG4gICAgICAgICAgICBgJHtMb2NhbGl6ZWRUZXh0KFwiQ29uZmlybVwiKX0gKCR7TWF0aC5mbG9vcigoYWxsb3dSZXNldFRpbWUgLSBub3cpIC8gMTAwMCl9KWAsXG4gICAgICAgICAgICBcIiNhYWFhYWFcIixcbiAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHRydWVcbiAgICAgICAgKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgRHJhd0J1dHRvbihcbiAgICAgICAgICAgIC4uLlJFU0VUX0NPTkZJUk1fUE9TSVRJT04sXG4gICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KFwiQ29uZmlybVwiKSxcbiAgICAgICAgICAgIFwiI2ZmMDAwMFwiXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgRHJhd0J1dHRvbihcbiAgICAgICAgLi4uUkVTRVRfQ0FOQ0VMX1BPU0lUSU9OLFxuICAgICAgICBMb2NhbGl6ZWRUZXh0KFwiQ2FuY2VsXCIpLFxuICAgICAgICBcIldoaXRlXCJcbiAgICApO1xuXG4gICAgTWFpbkNhbnZhcy50ZXh0QWxpZ24gPSBwcmV2VGV4dEFsaWduO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUHJlZmVyZW5jZU1lbnVSdW4oKTogdm9pZFxue1xuICAgIGlmIChjdXJyZW50TWVudSA9PT0gXCJSRVNFVF9TZXR0aW5nc1wiKVxuICAgIHtcbiAgICAgICAgUmVzZXRNZW51UnVuKCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBwcmV2VGV4dEFsaWduID0gTWFpbkNhbnZhcy50ZXh0QWxpZ247XG4gICAgRHJhd0J1dHRvbiguLi5FWElUX1BPU0lTVElPTiwgXCJcIiwgXCJXaGl0ZVwiLCBcIkljb25zL0V4aXQucG5nXCIpO1xuICAgIE1haW5DYW52YXMudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcbiAgICBEcmF3VGV4dChgJHtMb2NhbGl6ZWRUZXh0KFwiTWF5YSdzIFBldHBsYXkgQWRkaXRpb25zXCIpfSR7Y3VycmVudE1lbnUgPyBgIC0gJHtzZXR0aW5nQ2hhcj8uTmlja25hbWUgfHwgc2V0dGluZ0NoYXI/Lk5hbWV9J3MgJHtMb2NhbGl6ZWRUZXh0KE1FTlVfVElUTEVTW2N1cnJlbnRNZW51XSA/PyBjdXJyZW50TWVudSl9YCA6IFwiXCJ9YCwgMTAwMCwgMTI1LCBcIkJsYWNrXCIsIFwiR3JheVwiKTtcblxuICAgIC8vIFdpa2ksIFJlc2V0LCBpbXBvcnQgYW5kIGV4cG9ydCBidXQgb25seSB3aGlsZSBQbGF5ZXJcbiAgICBpZiAoc2V0dGluZ0NoYXI/Lk1lbWJlck51bWJlciA9PT0gUGxheWVyLk1lbWJlck51bWJlciAmJiBjdXJyZW50TWVudSA9PT0gbnVsbClcbiAgICB7XG4gICAgICAgIGlmIChzaG93U2V0dGluZ3NBbGVydCA+PSBEYXRlLm5vdygpKVxuICAgICAgICB7XG4gICAgICAgICAgICBNYWluQ2FudmFzLnRleHRBbGlnbiA9IFwibGVmdFwiO1xuICAgICAgICAgICAgRHJhd1RleHRGaXQoXG4gICAgICAgICAgICAgICAgc2V0dGluZ3NBbGVydFRleHQsXG4gICAgICAgICAgICAgICAgLi4uQUxFUlRfUE9TSVRJT04sXG4gICAgICAgICAgICAgICAgXCJCbGFja1wiLFxuICAgICAgICAgICAgICAgIFwiR3JheVwiXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIE1haW5DYW52YXMudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcbiAgICAgICAgRHJhd0J1dHRvbihcbiAgICAgICAgICAgIC4uLldJS0lfUE9TSVRJT04sXG4gICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KFwiV2lraVwiKSxcbiAgICAgICAgICAgIFwiI2ZmZmZmZlwiLFxuICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgIExvY2FsaXplZFRleHQoXCJPcGVuIHRoZSBNUEEgd2lraSBpbiBhIG5ldyB0YWJcIilcbiAgICAgICAgKTtcbiAgICAgICAgRHJhd0J1dHRvbihcbiAgICAgICAgICAgIC4uLkRJU0NPUkRfUE9TSVRJT04sXG4gICAgICAgICAgICBcIkRpc2NvcmRcIixcbiAgICAgICAgICAgIFwiI2ZmZmZmZlwiLFxuICAgICAgICAgICAgSUNPTlMuRElTQ09SRCxcbiAgICAgICAgICAgIFwiSm9pbiB0aGUgTVBBIGRpc2NvcmQhXCJcbiAgICAgICAgKTtcbiAgICAgICAgRHJhd0J1dHRvbihcbiAgICAgICAgICAgIC4uLlJFU0VUX1BPU0lUSU9OLFxuICAgICAgICAgICAgTG9jYWxpemVkVGV4dChcIlJFU0VUXCIpLFxuICAgICAgICAgICAgXCIjZmYyZTJlYWFcIixcbiAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KFwiUmVzZXQgYWxsIHlvdXIgc2V0dGluZ3MgYmFjayB0byBkZWZhdWx0XCIpXG4gICAgICAgICk7XG4gICAgICAgIERyYXdCdXR0b24oXG4gICAgICAgICAgICAuLi5JTVBPUlRfUE9TSVRJT04sXG4gICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KFwiSW1wb3J0XCIpLFxuICAgICAgICAgICAgXCIjZmZmZmZmXCIsXG4gICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgTG9jYWxpemVkVGV4dChcIkltcG9ydCB0aGUgc2V0dGluZ3MgY29waWVkIHRvIHlvdXIgY2xpcGJvYXJkXCIpXG4gICAgICAgICk7XG4gICAgICAgIERyYXdCdXR0b24oXG4gICAgICAgICAgICAuLi5FWFBPUlRfUE9TSVRJT04sXG4gICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KFwiRXhwb3J0XCIpLFxuICAgICAgICAgICAgXCIjZmZmZmZmXCIsXG4gICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgTG9jYWxpemVkVGV4dChcIkV4cG9ydCB5b3VyIGN1cnJlbnQgc2V0dGluZ3MgdG8gdGhlIGNsaXBib2FyZFwiKVxuICAgICAgICApO1xuICAgICAgICBEcmF3VGV4dEZpdChcbiAgICAgICAgICAgIGAke0xvY2FsaXplZFRleHQoXCJWZXJzaW9uXCIpfTogJHtQbGF5ZXIuTVBBLnZlcnNpb259YCxcbiAgICAgICAgICAgIC4uLlZFUlNJT05fVEVYVCxcbiAgICAgICAgICAgIFwiQmxhY2tcIixcbiAgICAgICAgICAgIFwiR3JheVwiXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgTWFpbkNhbnZhcy50ZXh0QWxpZ24gPSBcImxlZnRcIjtcbiAgICBpZiAoY3VycmVudE1lbnUgPT09IG51bGwpXG4gICAge1xuICAgICAgICAvLyBEcmF3IGFsbCB0aGUgYnV0dG9ucyB0byBhY2Nlc3MgdGhlIHN1Ym1lbnVzXG4gICAgICAgIERyYXdNZW51T3B0aW9ucyhNRU5VX0NBVEVHT1JJRVMoKSk7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIC8vIERyYXcgdGhlIG9wdGlvbnMgaW4gdGhlIHN1Ym1lbnVcbiAgICAgICAgRHJhd1N1Yk1lbnVPcHRpb25zKGN1cnJlbnRNZW51KTtcbiAgICB9XG4gICAgTWFpbkNhbnZhcy50ZXh0QWxpZ24gPSBwcmV2VGV4dEFsaWduO1xuICAgIHJldHVybjtcbn1cblxuZnVuY3Rpb24gUHJlZmVyZW5jZU1lbnVFeGl0KCk6IGJvb2xlYW4gfCB2b2lkXG57XG4gICAgLy8gU2hvdWxkbid0IGJlIG5lZWRlZCBidXQgYWN0cyBhcyBmYWlsc2FmZSBhbmQgbWFrZXMgdHlwZXNjcmlwdCBoYXBweVxuICAgIGlmICghc2V0dGluZ0NoYXIpIHsgcmV0dXJuOyB9XG5cbiAgICBpZiAoc2V0dGluZ3NFZGl0ZWQpXG4gICAge1xuICAgICAgICBpZiAoc2V0dGluZ0NoYXIuTWVtYmVyTnVtYmVyID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICBMZXZlbFN5bmMoZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgICAgICBTYXZlU3RvcmFnZSh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIFNlbmRNUEFNZXNzYWdlKFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJTZXR0aW5nUHV0UmVxdWVzdFwiLFxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nczogc2V0dGluZ0NoYXIuTVBBXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXR0aW5nQ2hhci5NZW1iZXJOdW1iZXJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHNldHRpbmdDaGFyLk1lbWJlck51bWJlciA9PT0gUGxheWVyLk1lbWJlck51bWJlcilcbiAgICB7XG4gICAgICAgIFByZWZlcmVuY2VTdWJzY3JlZW5FeHRlbnNpb25zQ2xlYXIoKTtcbiAgICB9XG4gICAgc2V0dGluZ3NFZGl0ZWQgPSBmYWxzZTtcbiAgICBzZXR0aW5nQ2hhciA9IG51bGw7XG4gICAgc2V0dGluZ3NPcGVuID0gZmFsc2U7XG59XG5cbi8qKlxuICogQ2FsbGVkIG9uY2Ugd2hlbiB0aGUgUHJlZmVyZW5jZSBNZW51IGxvYWRzIHVwIGFmdGVyIG9wZW5pbmdcbiAqL1xuZnVuY3Rpb24gUHJlZmVyZW5jZU1lbnVMb2FkKCk6IHZvaWRcbntcbiAgICAvLyBTaG91bGRuJ3QgYmUgbmVlZGVkIGJ1dCBhY3RzIGFzIGZhaWxzYWZlIGFuZCBtYWtlcyB0eXBlc2NyaXB0IGhhcHB5XG4gICAgaWYgKCFzZXR0aW5nQ2hhcikgeyByZXR1cm47IH1cbiAgICBzZXR0aW5nc09wZW4gPSB0cnVlO1xufVxuXG5mdW5jdGlvbiBQbGF5ZXJQcmVmZXJlbmNlTWVudUxvYWQoKTogdm9pZFxue1xuICAgIHNldHRpbmdzRWRpdGVkID0gZmFsc2U7XG4gICAgc2V0dGluZ0NoYXIgPSBQbGF5ZXI7XG4gICAgUHJlZmVyZW5jZU1lbnVMb2FkKCk7XG59XG5cbi8qKlxuICogR2V0IHRoZSBzdHJpbmcgd2l0aCBhbiBNUEEgaWRlbnRpZmllciBpbiBmcm9udFxuICovXG5leHBvcnQgZnVuY3Rpb24gRWxlbWVudE5hbWUodGl0bGU6IE1vZHVsZVRpdGxlIHwgc3RyaW5nLCBzZXR0aW5nOiBzdHJpbmcpOiBzdHJpbmdcbntcbiAgICByZXR1cm4gYE1QQV9PUFRJT05fJHt0aXRsZX0ke3NldHRpbmd9YDtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYW5kIGhpZGUgYWxsIHRoZSBIVE1MIGVsZW1lbnRzIHRoYXQgYXJlIG5lZWRlZCBmb3IgdGhlIFByZWZlcmVuY2UgU2V0dGluZyBwYWdlXG4gKi9cbmZ1bmN0aW9uIENyZWF0ZUhUTUxFbGVtZW50cyhzdWJNZW51OiBNb2R1bGVUaXRsZSB8IG51bGwsIHBhZ2U6IG51bWJlciA9IGN1cnJlbnRQYWdlKTogdm9pZFxue1xuICAgIGlmICghc3ViTWVudSkgeyByZXR1cm47IH1cbiAgICAvLyBTaG91bGRuJ3QgYmUgbmVlZGVkIGJ1dCBhY3RzIGFzIGZhaWxzYWZlIGFuZCBtYWtlcyB0eXBlc2NyaXB0IGhhcHB5XG4gICAgaWYgKCFzZXR0aW5nQ2hhcikgeyByZXR1cm47IH1cblxuICAgIE9iamVjdC5lbnRyaWVzKGRlZmF1bHRTZXR0aW5nc1tzdWJNZW51XSA/PyB7fSkuc2xpY2UoKHBhZ2UgLSAxKSAqIE9QVElPTl9QRVJfUEFHRSwgcGFnZSAqIE9QVElPTl9QRVJfUEFHRSkuZm9yRWFjaCgoc2V0KSA9PlxuICAgIHtcbiAgICAgICAgY29uc3QgW3NldHRpbmdOYW1lLCBzZXR0aW5nXSA9IHNldDtcbiAgICAgICAgY29uc3QgaWQgPSBFbGVtZW50TmFtZShzdWJNZW51LCBzZXR0aW5nTmFtZSk7XG4gICAgICAgIGlmIChJc1RleHRTZXR0aW5nKHNldHRpbmcpKVxuICAgICAgICB7XG4gICAgICAgICAgICBFbGVtZW50Q3JlYXRlSW5wdXQoaWQsIFwidGV4dFwiLCBzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSBhcyBzdHJpbmcsIHNldHRpbmcubWF4Q2hhcnMgPz8gT1BUSU9OX1RFWFRfTUFYX0NIQVJTKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChJc051bWJlclNldHRpbmcoc2V0dGluZykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIEVsZW1lbnRDcmVhdGVJbnB1dChpZCwgXCJudW1iZXJcIiwgc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0udG9TdHJpbmcoKSk7XG4gICAgICAgICAgICBFbGVtZW50U2V0QXR0cmlidXRlKGlkLCBcIm1pblwiLCBzZXR0aW5nLm1pbi50b1N0cmluZygpKTtcbiAgICAgICAgICAgIEVsZW1lbnRTZXRBdHRyaWJ1dGUoaWQsIFwibWF4XCIsIHNldHRpbmcubWF4LnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgRWxlbWVudFNldEF0dHJpYnV0ZShpZCwgXCJpbnB1dG1vZGVcIiwgXCJkZWNpbWFsXCIpO1xuICAgICAgICAgICAgaWYgKHNldHRpbmcuc3RlcClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBFbGVtZW50U2V0QXR0cmlidXRlKGlkLCBcInN0ZXBcIiwgc2V0dGluZy5zdGVwLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59XG4vKipcbiAqIFVwZGF0ZSB0aGUgc2V0dGluZyB2YWx1ZXMgdG8gcmVmbGVjdCB0aG9zZSBpbiB0aGUgaHRtbCBlbGVtZW50cyBhbmQgZGVsZXRlIHRoZW0gYWZ0ZXJcbiAqL1xuZnVuY3Rpb24gVXBkYXRlQW5kRGVsZXRlSFRNTEVsZW1lbnRzKHN1Yk1lbnU6IE1vZHVsZVRpdGxlLCBwYWdlOiBudW1iZXIgPSBjdXJyZW50UGFnZSk6IHZvaWRcbntcbiAgICAvLyBTaG91bGRuJ3QgYmUgbmVlZGVkIGJ1dCBhY3RzIGFzIGZhaWxzYWZlIGFuZCBtYWtlcyB0eXBlc2NyaXB0IGhhcHB5XG4gICAgaWYgKCFzZXR0aW5nQ2hhcikgeyByZXR1cm47IH1cblxuICAgIC8vIFVwZGF0ZSB0aGUgdmlydHVhbCBwZXQgc3RhdHMgYmFzZWQgb24gY3VycmVudCB2YWx1ZXMgc28gdGhlIGxldmVsIGRvZXNuJ3QganVtcCBhcm91bmRcbiAgICBpZiAoc3ViTWVudSA9PT0gTW9kdWxlVGl0bGUuVmlydHVhbFBldClcbiAgICB7XG4gICAgICAgIExldmVsU3luYyhmYWxzZSwgZmFsc2UsIGZhbHNlKTtcbiAgICB9XG5cbiAgICBPYmplY3QuZW50cmllcyhkZWZhdWx0U2V0dGluZ3Nbc3ViTWVudV0gPz8ge30pLnNsaWNlKChwYWdlIC0gMSkgKiBPUFRJT05fUEVSX1BBR0UsIHBhZ2UgKiBPUFRJT05fUEVSX1BBR0UpLmZvckVhY2goKHNldCkgPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IFtzZXR0aW5nTmFtZSwgc2V0dGluZ10gPSBzZXQ7XG4gICAgICAgIGNvbnN0IGlkID0gRWxlbWVudE5hbWUoc3ViTWVudSwgc2V0dGluZ05hbWUpO1xuICAgICAgICBpZiAoSXNUZXh0U2V0dGluZyhzZXR0aW5nKSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdICE9PSBFbGVtZW50VmFsdWUoaWQpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdID0gRWxlbWVudFZhbHVlKGlkKTtcbiAgICAgICAgICAgICAgICBzZXR0aW5nc0VkaXRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBFbGVtZW50UmVtb3ZlKGlkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoSXNOdW1iZXJTZXR0aW5nKHNldHRpbmcpKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gIT09IE51bWJlcihFbGVtZW50VmFsdWUoaWQpKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSA9IE51bWJlcihFbGVtZW50VmFsdWUoaWQpKTtcbiAgICAgICAgICAgICAgICBzZXR0aW5nc0VkaXRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBFbGVtZW50UmVtb3ZlKGlkKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5leHBvcnQgY2xhc3MgU2V0dGluZ3NNb2R1bGUgZXh0ZW5kcyBNb2R1bGVcbntcbiAgICBnZXQgVGl0bGUoKTogTW9kdWxlVGl0bGVcbiAgICB7XG4gICAgICAgIHJldHVybiBNb2R1bGVUaXRsZS5TZXR0aW5ncztcbiAgICB9XG5cbiAgICBMb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIC8vIEFkZCBzZXR0aW5ncyB0byB0aGUgZXh0ZW5zaW9uIG9wdGlvbnNcbiAgICAgICAgUHJlZmVyZW5jZVJlZ2lzdGVyRXh0ZW5zaW9uU2V0dGluZyh7XG4gICAgICAgICAgICBJZGVudGlmaWVyOiBcIk1QQVwiLFxuICAgICAgICAgICAgQnV0dG9uVGV4dDogTG9jYWxpemVkVGV4dChcIk1QQSBTZXR0aW5nc1wiKSxcbiAgICAgICAgICAgIEltYWdlOiBJQ09OUy5QQVcsXG4gICAgICAgICAgICBjbGljazogUHJlZmVyZW5jZU1lbnVDbGljayxcbiAgICAgICAgICAgIHJ1bjogUHJlZmVyZW5jZU1lbnVSdW4sXG4gICAgICAgICAgICBleGl0OiBQcmVmZXJlbmNlTWVudUV4aXQsXG4gICAgICAgICAgICBsb2FkOiBQbGF5ZXJQcmVmZXJlbmNlTWVudUxvYWRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gV2hlbiBwcmVzc2luZyBlc2NhcGUsIG9ubHkgZ28gdG8gbWFpbiBtZW51IGlmIGluIHN1YiBtZW51XG4gICAgICAgIGZ1bmN0aW9uIEVzY2FwZUhhbmRsZXIoZXZlbnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAoZXZlbnQua2V5ID09PSBcIkVzY2FwZVwiIHx8IGV2ZW50LmtleSA9PT0gXCJFc2NcIilcbiAgICAgICAgICAgICAgICAmJiBzZXR0aW5nc09wZW5cbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudE1lbnUgPT09IG51bGwpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBQcmVmZXJlbmNlTWVudUV4aXQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY3VycmVudE1lbnUgPT09IFwiUkVTRVRfU2V0dGluZ3NcIilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGFsbG93UmVzZXRUaW1lID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgVXBkYXRlQW5kRGVsZXRlSFRNTEVsZW1lbnRzKGN1cnJlbnRNZW51KTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhZ2UgPSAxO1xuICAgICAgICAgICAgICAgICAgICBtYXhQYWdlcyA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGN1cnJlbnRNZW51ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5cHJlc3NcIiwgRXNjYXBlSGFuZGxlciwgdHJ1ZSk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIEVzY2FwZUhhbmRsZXIsIHRydWUpO1xuICAgIH1cblxuICAgIFVubG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICAvLyBVbmxvYWQgYmVpbmcgZW1wdHkgaXMgd2FudGVkLCBuZXZlciB1bmxvYWQgc2V0dGluZ3NcbiAgICB9XG5cbiAgICBSZWxvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgLy8gUmVsb2FkIGJlaW5nIGVtcHR5IGlzIHdhbnRlZCwgbmV2ZXIgcmVsb2FkIHNldHRpbmdzXG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQXJyYXlUb1JlYWRhYmxlU3RyaW5nLCBIb29rZWRNZXNzYWdlLCBNUEFNZXNzYWdlQ29udGVudCwgTVBBTm90aWZ5UGxheWVyLCBOb3RpZnlQbGF5ZXIsIFNlbmRNUEFNZXNzYWdlIH0gZnJvbSBcIi4uL3V0aWwvbWVzc2FnaW5nXCI7XG5pbXBvcnQgeyBMb2NhbGl6ZWRUZXh0IH0gZnJvbSBcIi4uL2xvY2FsaXphdGlvbi9sb2NhbGl6YXRpb25cIjtcbmltcG9ydCB7IElDT05TIH0gZnJvbSBcIi4uL3V0aWwvY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBiY3hGb3VuZCwgSG9va0Z1bmN0aW9uIH0gZnJvbSBcIi4uL3V0aWwvc2RrXCI7XG5pbXBvcnQgeyBNb2R1bGUsIE1vZHVsZUlzUHVibGljLCBNb2R1bGVUaXRsZSB9IGZyb20gXCIuL19tb2R1bGVcIjtcbmltcG9ydCB7IGN1cnJlbnRNZW51LCBFeGl0QnV0dG9uUHJlc3NlZCwgTUVOVV9USVRMRVMsIFByZWZlcmVuY2VNZW51Q2xpY2ssIFByZWZlcmVuY2VNZW51UnVuLCBTZXRTZXR0aW5nQ2hhciB9IGZyb20gXCIuL3NldHRpbmdzXCI7XG5pbXBvcnQgeyBTYXZlU3RvcmFnZSB9IGZyb20gXCIuLi91dGlsL3N0b3JhZ2VcIjtcbmltcG9ydCB7IExldmVsU3luYyB9IGZyb20gXCIuL3ZpcnR1YWxQZXRcIjtcbmltcG9ydCB7IElzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAgfSBmcm9tIFwiLi4vdXRpbC9hdXRob3JpdHlcIjtcbmltcG9ydCB7IHNldHRpbmdzIGFzIGRlZmF1bHRTZXR0aW5ncyB9IGZyb20gXCIuLi91dGlsL3JlZ2lzdGVyTW9kdWxlc1wiO1xuXG4vLyBPdGhlciBzZXR0aW5nc1xuY29uc3QgTVBBX1JFTU9URSA9IFsxNzAwLCA3NjUsIDkwLCA5MF0gYXMgY29uc3Q7XG4vLyBCQ1ggbW92ZXMgdGhlIGJ1dHRvbiBkb3duIGJ5IDM1IGZvciBzb21lIHJlYXNvblxuY29uc3QgTVBBX1JFTU9URV9CQ1ggPSBbMTcwMCwgODAwLCA5MCwgOTBdIGFzIGNvbnN0O1xuLy8gUG9zaXRpb25pbmcgZm9yIHZlcnNpb24gdGV4dFxuY29uc3QgVkVSU0lPTl9URVhUX1NFTEYgPSBbXG4gICAgMjc1LFxuICAgIDkwMCxcbiAgICAzNTBcbl0gYXMgY29uc3Q7XG5jb25zdCBWRVJTSU9OX1RFWFRfT1RIRVIgPSBbXG4gICAgVkVSU0lPTl9URVhUX1NFTEZbMF0sXG4gICAgVkVSU0lPTl9URVhUX1NFTEZbMV0gLSA1MCxcbiAgICBWRVJTSU9OX1RFWFRfU0VMRlsyXVxuXSBhcyBjb25zdDtcblxuZnVuY3Rpb24gQXJyYXlzRXF1YWwoYXJyMTogYW55W10sIGFycjI6IGFueVtdKTogYm9vbGVhblxue1xuICAgIGlmIChhcnIxLmxlbmd0aCAhPT0gYXJyMi5sZW5ndGgpXG4gICAge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICByZXR1cm4gYXJyMS5ldmVyeSgodmFsdWUsIGluZGV4KSA9PiB2YWx1ZSA9PT0gYXJyMltpbmRleF0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gT2JqZWN0RGlmZmVyZW5jZXMob2xkT2JqOiBvYmplY3QsIG5ld09iajogb2JqZWN0KTogb2JqZWN0XG57XG4gICAgY29uc3QgZGlmZmVyZW5jZXMgPSB7fTtcblxuICAgIGZvciAoY29uc3Qga2V5IGluIG9sZE9iailcbiAgICB7XG4gICAgICAgIC8vIEtleSBpcyBtaXNzaW5nIGluIG5ld09ialxuICAgICAgICBpZiAoIShrZXkgaW4gbmV3T2JqKSlcbiAgICAgICAge1xuICAgICAgICAgICAgZGlmZmVyZW5jZXNba2V5XSA9IHsgb2xkOiBvbGRPYmpba2V5XSwgbmV3OiB1bmRlZmluZWQgfTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgb2xkVmFsdWUgPSBvbGRPYmpba2V5XTtcbiAgICAgICAgY29uc3QgbmV3VmFsdWUgPSBuZXdPYmpba2V5XTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgICBBcnJheS5pc0FycmF5KG9sZFZhbHVlKVxuICAgICAgICAgICAgJiYgQXJyYXkuaXNBcnJheShuZXdWYWx1ZSlcbiAgICAgICAgKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBJZiBib3RoIGFyZSBhcnJheXMsIGNvbXBhcmUgdGhlaXIgY29udGVudHNcbiAgICAgICAgICAgIGlmICghQXJyYXlzRXF1YWwob2xkVmFsdWUsIG5ld1ZhbHVlKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkaWZmZXJlbmNlc1trZXldID0geyBvbGQ6IG9sZFZhbHVlLCBuZXc6IG5ld1ZhbHVlIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoXG4gICAgICAgICAgICB0eXBlb2Ygb2xkVmFsdWUgPT09IFwib2JqZWN0XCJcbiAgICAgICAgICAgICYmIHR5cGVvZiBuZXdWYWx1ZSA9PT0gXCJvYmplY3RcIlxuICAgICAgICAgICAgJiYgIUFycmF5LmlzQXJyYXkob2xkVmFsdWUpKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBJZiBib3RoIGFyZSBvYmplY3RzLCByZWN1cnNpdmVseSBjaGVjayBmb3IgZGlmZmVyZW5jZXNcbiAgICAgICAgICAgIGNvbnN0IGRpZmYgPSBPYmplY3REaWZmZXJlbmNlcyhvbGRWYWx1ZSwgbmV3VmFsdWUpO1xuICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKGRpZmYpLmxlbmd0aCA+IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGlmZmVyZW5jZXNba2V5XSA9IGRpZmY7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob2xkVmFsdWUgIT09IG5ld1ZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBJZiB2YWx1ZXMgYXJlIGRpZmZlcmVudCwgc3RvcmUgdGhlIGRpZmZlcmVuY2VcbiAgICAgICAgICAgIGRpZmZlcmVuY2VzW2tleV0gPSB7IG9sZDogb2xkVmFsdWUsIG5ldzogbmV3VmFsdWUgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIE5ldyBrZXlzIG5vdCBmb3VuZCBpbiB0aGUgb2xkIG9iamVjdFxuICAgIGZvciAoY29uc3Qga2V5IGluIG5ld09iailcbiAgICB7XG4gICAgICAgIGlmICghKGtleSBpbiBvbGRPYmopKVxuICAgICAgICB7XG4gICAgICAgICAgICBkaWZmZXJlbmNlc1trZXldID0geyBvbGQ6IHVuZGVmaW5lZCwgbmV3OiBuZXdPYmpba2V5XSB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGRpZmZlcmVuY2VzO1xufVxuXG5leHBvcnQgY2xhc3MgU2V0dGluZ3NPdGhlck1vZHVsZSBleHRlbmRzIE1vZHVsZVxue1xuICAgIGdldCBUaXRsZSgpOiBNb2R1bGVUaXRsZVxuICAgIHtcbiAgICAgICAgcmV0dXJuIE1vZHVsZVRpdGxlLlNldHRpbmdzT3RoZXI7XG4gICAgfVxuXG4gICAgZ2V0IFN5bmNMaXN0ZW5lcnMoKTogSG9va2VkTWVzc2FnZVtdXG4gICAge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG1vZHVsZTogdGhpcy5UaXRsZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlNldHRpbmdQdXRSZXF1ZXN0XCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoc2VuZGVyOiBDaGFyYWN0ZXIsIGNvbnRlbnQ6IE1QQU1lc3NhZ2VDb250ZW50KTogdm9pZFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdnBFbmFibGVkID0gUGxheWVyLk1QQVtNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XS5lbmFibGVkO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkaWZmZXJlbmNlcyA9IE9iamVjdERpZmZlcmVuY2VzKFBsYXllci5NUEEsIGNvbnRlbnQuc2V0dGluZ3MpO1xuICAgICAgICAgICAgICAgICAgICAvLyBEb24ndCBjaGFuZ2UgYW55IHByaXZhdGUgcmVjb3JkcyBmcm9tIGluY29taW5nIHNvdXJjZXNcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoZGlmZmVyZW5jZXMpLmZvckVhY2goKG1vZHVsZVRpdGxlKSA9PlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIU1vZHVsZUlzUHVibGljKG1vZHVsZVRpdGxlIGFzIE1vZHVsZVRpdGxlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZGlmZmVyZW5jZXNbbW9kdWxlVGl0bGVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhbmdlZFNldHRpbmdzOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIERlbGV0ZSB0aGUgVlAgbGV2ZWxzIGFzIHRoZXkgd2lsbCBiZSBzeW5jZWQgd2l0aCB0aGUgcGxheWVyIGluc3RlYWRcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpZmZlcmVuY2VzPy5bTW9kdWxlVGl0bGUuVmlydHVhbFBldF0/LmxldmVscylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGRpZmZlcmVuY2VzW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdLmxldmVscztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhkaWZmZXJlbmNlc1tNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XSkubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBkaWZmZXJlbmNlc1tNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBMZXZlbFN5bmMoZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gISEhISEhISEhISEhISEhISEhISEhISFcbiAgICAgICAgICAgICAgICAgICAgLy8gRG8gQXV0aG9yaXR5IHF1ZXJ5cyBmaXJzdFxuICAgICAgICAgICAgICAgICAgICAvLyAhISEhISEhISEhISEhISEhISEhISEhIVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2aW91c0F1dGhvcml0eSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoUGxheWVyLk1QQT8uW01vZHVsZVRpdGxlLkF1dGhvcml0eV0pKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3QXV0aG9yaXR5ID0gZGlmZmVyZW5jZXNbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0F1dGhvcml0eSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGRpZmZlcmVuY2VzW01vZHVsZVRpdGxlLkF1dGhvcml0eV07XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBWYWxpZGF0ZSB0aGF0IGF1dGhvcml0eSBjYW4gYmUgY2hhbmdlZCBiYXNlZCBvbiBjdXJyZW50IGF1dGhvcml0eSBmaXJzdFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKElzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAoc2VuZGVyLk1lbWJlck51bWJlciA/PyAtMSwgcHJldmlvdXNBdXRob3JpdHlbYG90aGVycyR7TW9kdWxlVGl0bGUuQXV0aG9yaXR5fWBdKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VkU2V0dGluZ3MucHVzaChMb2NhbGl6ZWRUZXh0KE1vZHVsZVRpdGxlLkF1dGhvcml0eSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZW50cnkgaW4gbmV3QXV0aG9yaXR5KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0F1dGhvcml0eVtlbnRyeV0ubmV3ICE9PSB1bmRlZmluZWQgJiYgbmV3QXV0aG9yaXR5W2VudHJ5XS5vbGQgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGxheWVyLk1QQVtNb2R1bGVUaXRsZS5BdXRob3JpdHldW2VudHJ5XSA9IG5ld0F1dGhvcml0eVtlbnRyeV0ubmV3O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgTVBBOiAke3NlbmRlci5OaWNrbmFtZSB8fCBzZW5kZXIuTmFtZX0gKCR7c2VuZGVyLk1lbWJlck51bWJlcn0pIHRyaWVkIHRvIGlsbGVnYWxseSBtb2RpZnkgeW91ciAke01vZHVsZVRpdGxlLkF1dGhvcml0eX0gc2V0dGluZ3MhYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRpdGxlIGluIGRpZmZlcmVuY2VzKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBWYWxpZGF0ZSB0aGF0IGFueSBzZXR0aW5ncyBjYW4gYmUgY2hhbmdlZCB3aXRoIEVJVEhFUiB0aGUgb2xkIG9yIG5ldyBhdXRob3JpdHlcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNlbmRlciBpcyBub3QgYXV0aG9yaXplZCB0byBjaGFuZ2UgdGhlIHNldHRpbmdzLCBpZ25vcmUgYW5kIHdhcm4gaW4gY29uc29sZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cChzZW5kZXIuTWVtYmVyTnVtYmVyID8/IC0xLCBwcmV2aW91c0F1dGhvcml0eVtgb3RoZXJzJHt0aXRsZX1gXSA/PyBcIk5vbmVcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cChzZW5kZXIuTWVtYmVyTnVtYmVyID8/IC0xLCBQbGF5ZXIuTVBBPy5bTW9kdWxlVGl0bGUuQXV0aG9yaXR5XT8uW2BvdGhlcnMke3RpdGxlfWBdID8/IFwiTm9uZVwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYE1QQTogJHtzZW5kZXIuTmlja25hbWUgfHwgc2VuZGVyLk5hbWV9ICgke3NlbmRlci5NZW1iZXJOdW1iZXJ9KSB0cmllZCB0byBpbGxlZ2FsbHkgbW9kaWZ5IHlvdXIgJHt0aXRsZX0gc2V0dGluZ3MhYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZWRTZXR0aW5ncy5wdXNoKExvY2FsaXplZFRleHQoTUVOVV9USVRMRVNbdGl0bGUgYXMgTW9kdWxlVGl0bGVdID8/IHRpdGxlKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vZHVsZURpZmYgPSBkaWZmZXJlbmNlc1t0aXRsZV07XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IGluIG1vZHVsZURpZmYpXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vZHVsZURpZmZbZW50cnldLm5ldyAhPT0gdW5kZWZpbmVkICYmIG1vZHVsZURpZmZbZW50cnldLm9sZCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGxheWVyLk1QQVt0aXRsZSBhcyBNb2R1bGVUaXRsZV1bZW50cnldID0gbW9kdWxlRGlmZltlbnRyeV0ubmV3O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIGhhcmRjb3JlIGlzIHNldCwgbWFrZSBzdXJlIGl0cyBzZXR0aW5ncyBhcmUgc2V0XG4gICAgICAgICAgICAgICAgICAgIGlmIChQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLlByb2ZpbGVdLmhhcmRjb3JlKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAoZGVmYXVsdFNldHRpbmdzW01vZHVsZVRpdGxlLlByb2ZpbGVdPy5oYXJkY29yZSBhcyBhbnkpPy5vblNldChQbGF5ZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2F0Y2ggVmlydHVhbCBQZXQgbGV2ZWxzIHVwIHRvIGRhdGUgaWYgaXQgd2FzIHR1cm5lZCBvbiAvIG9mZlxuICAgICAgICAgICAgICAgICAgICBpZiAodnBFbmFibGVkICE9PSBQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdLmVuYWJsZWQpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBsYXllci5NUEFbTW9kdWxlVGl0bGUuVmlydHVhbFBldF0ubGV2ZWxzLmxhc3RVcGRhdGVkID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFuZ2VkU2V0dGluZ3MubGVuZ3RoICE9PSAwKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBNUEFOb3RpZnlQbGF5ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9jYWxpemVkVGV4dChcIlNvdXJjZUNoYXJhY3RlciBqdXN0IHVwZGF0ZWQgeW91ciBTZXR0aW5nc0FycmF5IHNldHRpbmdzLlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZShcIlNvdXJjZUNoYXJhY3RlclwiLCBzZW5kZXIuTmlja25hbWUgfHwgc2VuZGVyLk5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKFwiU2V0dGluZ3NBcnJheVwiLCBBcnJheVRvUmVhZGFibGVTdHJpbmcoY2hhbmdlZFNldHRpbmdzKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBMZXZlbFN5bmMoZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIFNhdmVTdG9yYWdlKHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBtb2R1bGU6IHRoaXMuVGl0bGUsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFZGl0aW5nU2V0dGluZ3NcIixcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uIChzZW5kZXI6IENoYXJhY3RlciwgX2NvbnRlbnQ6IE1QQU1lc3NhZ2VDb250ZW50KTogdm9pZFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFBsYXllci5NUEFbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XS5zZXR0aW5nc05vdGlmeSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgTm90aWZ5UGxheWVyKExvY2FsaXplZFRleHQoXCJTb3VyY2VDaGFyYWN0ZXIgaXMgYWNjZXNzaW5nIHlvdXIgTVBBIHNldHRpbmdzLlwiKS5yZXBsYWNlKFwiU291cmNlQ2hhcmFjdGVyXCIsIHNlbmRlci5OaWNrbmFtZSB8fCBzZW5kZXIuTmFtZSksIDMwMDAwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBMb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLkxvYWQoKTtcblxuICAgICAgICAvLyBQcmlvIGhhcyB0byBiZSAxIG1vcmUgdGhhbiBMU0NHIG9yIEJDWCBob29rc1xuICAgICAgICBjb25zdCBob29rUHJpb3JpdHkgPSAxMjtcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiSW5mb3JtYXRpb25TaGVldFJ1blwiLCBob29rUHJpb3JpdHksIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBMU0NHIG9yIEJDWCBzdWJzY3JlZW5zIG9wZW4gaW5zdGVhZFxuICAgICAgICAgICAgaWYgKHdpbmRvdy5iY3g/LmluQmN4U3Vic2NyZWVuKCkgfHwgd2luZG93LkxTQ0dfUkVNT1RFX1dJTkRPV19PUEVOKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBNUEEgU2V0dGluZ3MgYXJlIG9wZW5cbiAgICAgICAgICAgIGlmICh3aW5kb3cuTVBBLm1lbnVMb2FkZWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hhciA9IEluZm9ybWF0aW9uU2hlZXRTZWxlY3Rpb247XG4gICAgICAgICAgICAgICAgaWYgKGNoYXI/Lk1QQSAmJiAhY2hhci5Jc1BsYXllcigpICYmIGN1cnJlbnRNZW51ID09IG51bGwpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBEcmF3VGV4dEZpdChcbiAgICAgICAgICAgICAgICAgICAgICAgIGAke0xvY2FsaXplZFRleHQoXCJZb3VyIFZlcnNpb25cIil9OiAke1BsYXllci5NUEEudmVyc2lvbn1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgLi4uVkVSU0lPTl9URVhUX1NFTEYsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkJsYWNrXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkdyYXlcIlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBEcmF3VGV4dEZpdChcbiAgICAgICAgICAgICAgICAgICAgICAgIGAke0xvY2FsaXplZFRleHQoXCJUYXJnZXRDaGFyYWN0ZXIncyBWZXJzaW9uXCIpfTogJHtjaGFyPy5NUEEudmVyc2lvbn1gLnJlcGxhY2UoXCJUYXJnZXRDaGFyYWN0ZXJcIiwgY2hhcj8uTmlja25hbWUgfHwgY2hhcj8uTmFtZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5WRVJTSU9OX1RFWFRfT1RIRVIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkJsYWNrXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkdyYXlcIlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBQcmVmZXJlbmNlTWVudVJ1bigpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbmV4dChhcmdzKTtcbiAgICAgICAgICAgIC8vIERyYXcgdGhlIHJlbW90ZSBpbnRvIHNldHRpbmdzIGJ1dHRvbiBpZiBhcHBsaWNhYmxlXG4gICAgICAgICAgICBjb25zdCBjaGFyID0gSW5mb3JtYXRpb25TaGVldFNlbGVjdGlvbjtcbiAgICAgICAgICAgIGlmIChjaGFyPy5NUEEgJiYgIWNoYXIuSXNQbGF5ZXIoKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhY2Nlc3MgPSBTZXJ2ZXJDaGF0Um9vbUdldEFsbG93SXRlbShQbGF5ZXIsIGNoYXIpO1xuICAgICAgICAgICAgICAgIERyYXdCdXR0b24oXG4gICAgICAgICAgICAgICAgICAgIC4uLigoYmN4Rm91bmQoKSA/IE1QQV9SRU1PVEVfQkNYIDogTVBBX1JFTU9URSkgYXMgcmVhZG9ubHkgW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl0pLFxuICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICBhY2Nlc3MgPyBcIiNmZmZmZmZcIiA6IFwiI2FhYWFhYVwiLFxuICAgICAgICAgICAgICAgICAgICBJQ09OUy5QQVcsXG4gICAgICAgICAgICAgICAgICAgIExvY2FsaXplZFRleHQoYWNjZXNzID8gXCJNUEFcIiA6IFwiTVBBOiBObyBCQyBpdGVtIHBlcm1pc3Npb25cIiksXG4gICAgICAgICAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiSW5mb3JtYXRpb25TaGVldENsaWNrXCIsIGhvb2tQcmlvcml0eSwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh3aW5kb3cuTVBBLm1lbnVMb2FkZWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByZWZlcmVuY2VNZW51Q2xpY2soKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgY2hhciA9IEluZm9ybWF0aW9uU2hlZXRTZWxlY3Rpb247XG4gICAgICAgICAgICBpZiAoTW91c2VJbiguLi5NUEFfUkVNT1RFX0JDWCkgJiYgY2hhcj8uTVBBICYmICFjaGFyLklzUGxheWVyKCkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgd2luZG93Lk1QQS5tZW51TG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAvLyBNUEEgaXMgZGVmaW5lZCBmcm9tIGNoZWNrIGFib3ZlLCBzbyBvdGhlciBjaGFyYWN0ZXIgaXMgc2FtZSBhcyBzZWxmIGluIHN0cnVjdHVyZVxuICAgICAgICAgICAgICAgIFNldFNldHRpbmdDaGFyKGNoYXIgYXMgUGxheWVyQ2hhcmFjdGVyKTtcbiAgICAgICAgICAgICAgICBTZW5kTVBBTWVzc2FnZSh7IG1lc3NhZ2U6IFwiRWRpdGluZ1NldHRpbmdzXCIgfSwgY2hhci5NZW1iZXJOdW1iZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJJbmZvcm1hdGlvblNoZWV0RXhpdFwiLCBob29rUHJpb3JpdHksIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAod2luZG93Lk1QQS5tZW51TG9hZGVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIEV4aXRCdXR0b25QcmVzc2VkKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIFVubG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5VbmxvYWQoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBNb2R1bGUsIE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4vX21vZHVsZVwiO1xuaW1wb3J0IHsgQkVEX0JBRCwgQkVEX05PUk1BTCwgQkVEX1BFUkZFQ1QgfSBmcm9tIFwiLi4vdXRpbC9jb25zdGFudHNcIjtcbmltcG9ydCB7IEhvb2tGdW5jdGlvbiB9IGZyb20gXCIuLi91dGlsL3Nka1wiO1xuaW1wb3J0IHsgU2F2ZVN0b3JhZ2UgfSBmcm9tIFwiLi4vdXRpbC9zdG9yYWdlXCI7XG5pbXBvcnQgeyBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkgfSBmcm9tIFwiLi4vdXRpbC9tZXNzYWdpbmdcIjtcbmltcG9ydCB7IFJlY29yZFN5bmMgfSBmcm9tIFwiLi9kYXRhU3luY1wiO1xuaW1wb3J0IHsgSXNIYXJkY29yZU9uIH0gZnJvbSBcIi4vcHJvZmlsZVwiO1xuXG5jb25zdCBNQVhfU0VUVElOR19USU1FX0hPVVJTID0gMTY4O1xuXG5jb25zdCBQbGF5ZXJWUDogKEM/OiBDaGFyYWN0ZXIpID0+IE1QQVJlY29yZCA9IChDOiBDaGFyYWN0ZXIgPSBQbGF5ZXIpID0+XG57XG4gICAgcmV0dXJuIEMuTVBBPy5bTW9kdWxlVGl0bGUuVmlydHVhbFBldF0gPz8ge307XG59O1xuXG4vLyBjb25zdCBDSEFSQUNURVJTX01PVklORyA9IFtcIlNlcnZlck1vdmVSaWdodFwiLCBcIlNlcnZlclN3YXBcIiwgXCJTZXJ2ZXJNb3ZlTGVmdFwiXTtcblxuY29uc3QgQk9XTF9DT05TVU1FX1JFQ09WRVJZID0gMC42NztcbmNvbnN0IElURU1fQ09OVU1FX1JFQ09WRVJZID0gMC4zMztcblxuY29uc3QgQUNUSVZJVElFU19GT09EX0dBSU4gPSBbXCJMU0NHX0VhdFwiLCBcIlRocm93SXRlbVwiXTtcbmNvbnN0IEFDVElWSVRJRVNfV0FURVJfR0FJTiA9IFtcIkxTQ0dfRnVubmVsUG91clwiLCBcIkxTQ0dfUXVhZmZcIl07XG5cbmNvbnN0IEVNT1RJQ09OU19TTEVFUCA9IFtcIlNsZWVwXCIsIFwiQWZrXCIsIFwiRm9ya1wiLCBcIkNvZGluZ1wiLCBcIlJlYWRcIl07XG5cbmNvbnN0IEFGRkVDVElPTl9BQ1RJVklUWV9MT1ZFID0gW1wiUGV0XCIsIFwiVGFrZUNhcmVcIiwgXCJMU0NHX051enpsZVwiLCBcIkNhcmVzc1wiLCBcIkxTQ0dfSHVnXCIsIFwiU2NyYXRjaFwiXTtcbmNvbnN0IEFGRkVDVElPTl9BQ1RJVklUWV9MSUtFID0gW1wiS2lzc1wiLCBcIk1hc3NhZ2VIYW5kc1wiLCBcIkxpY2tcIiwgXCJOaWJibGVcIiwgXCJDdWRkbGVcIiwgXCJHcm9wZVwiXTtcbmNvbnN0IEFGRkVDVElPTl9BQ1RJVklUWV9NQVNPID0gW1wiU3BhbmtcIiwgXCJTbGFwXCIsIFwiQml0ZVwiLCBcIlBpbmNoXCIsIFwiUHVsbFwiLCBcIlNob2NrSXRlbVwiLCBcIlNwYW5rSXRlbVwiXTtcbmNvbnN0IEFGRkVDVElPTl9MT1ZFX0JBU0UgPSAwLjA1O1xuY29uc3QgQUZGRUNUSU9OX0xJS0VfQkFTRSA9IDAuMDM7XG5jb25zdCBBRkZFQ1RJT05fTUFTT19CQVNFID0gLTAuMDQ7XG5cbmNvbnN0IEFGRkVDVElPTl9aT05FX0FGRkVDVElPTjogUGFydGlhbDxSZWNvcmQ8QXNzZXRHcm91cEl0ZW1OYW1lLCBudW1iZXI+PiA9IHtcbiAgICBJdGVtQXJtczogMSxcbiAgICBJdGVtQm9vdHM6IDAuOCxcbiAgICBJdGVtQnJlYXN0OiAxLjUsXG4gICAgSXRlbUJ1dHQ6IDEuNSxcbiAgICBJdGVtRWFyczogMi41LFxuICAgIEl0ZW1GZWV0OiAwLjgsXG4gICAgSXRlbUhhbmRzOiAxLFxuICAgIEl0ZW1IZWFkOiAzLFxuICAgIEl0ZW1MZWdzOiAxLFxuICAgIEl0ZW1Nb3V0aDogMixcbiAgICBJdGVtTmVjazogMS4yLFxuICAgIEl0ZW1OaXBwbGVzOiAxLjUsXG4gICAgSXRlbU5vc2U6IDEuNyxcbiAgICBJdGVtUGVsdmlzOiAxLjMsXG4gICAgSXRlbVRvcnNvOiAxLFxuICAgIEl0ZW1WdWx2YTogMixcbiAgICBJdGVtVnVsdmFQaWVyY2luZ3M6IDIuNVxufTtcblxuY29uc3QgTUlOX09GRkxJTkVfRFJBSU5fTEVWRUwgPSAwLjI7XG5cbmNvbnN0IExBU1RfT05MSU5FX0lOVEVSVkFMX01TID0gMTAwMDA7XG5sZXQgbGFzdE9ubGluZUludGVydmFsOiBudW1iZXI7XG5cbmV4cG9ydCBjb25zdCBJc1NsZWVwaW5nRXhwcmVzc2lvbiA9IChjaGFyOiBDaGFyYWN0ZXIpOiBib29sZWFuID0+XG57XG4gICAgcmV0dXJuIChcbiAgICAgICAgY2hhci5BcHBlYXJhbmNlLmZpbmQoKHgpID0+IHguQXNzZXQuR3JvdXAuTmFtZSA9PT0gXCJFeWVzXCIpPy5Qcm9wZXJ0eT8uRXhwcmVzc2lvbiA9PT0gXCJDbG9zZWRcIlxuICAgICAgICAmJiBjaGFyLkFwcGVhcmFuY2UuZmluZCgoeCkgPT4geC5Bc3NldC5Hcm91cC5OYW1lID09PSBcIkV5ZXMyXCIpPy5Qcm9wZXJ0eT8uRXhwcmVzc2lvbiA9PT0gXCJDbG9zZWRcIlxuICAgICAgICAmJiBFTU9USUNPTlNfU0xFRVAuaW5jbHVkZXMoY2hhci5BcHBlYXJhbmNlLmZpbmQoKHgpID0+IHguQXNzZXQuR3JvdXAuTmFtZSA9PT0gXCJFbW90aWNvblwiKT8uUHJvcGVydHk/LkV4cHJlc3Npb24gPz8gXCJcIilcbiAgICApO1xufTtcbmV4cG9ydCBjb25zdCBJc0JlZE11bHRpcGxpZXIgPSAoY2hhcjogQ2hhcmFjdGVyKTogbnVtYmVyID0+XG57XG4gICAgY29uc3QgZGV2aWNlID0gSW52ZW50b3J5R2V0KGNoYXIsIFwiSXRlbURldmljZXNcIik/LkFzc2V0Lk5hbWUgPz8gXCJcIjtcbiAgICByZXR1cm4gKFxuICAgICAgICBCRURfUEVSRkVDVC5pbmNsdWRlcyhkZXZpY2UpID8gMTAgOiBCRURfTk9STUFMLmluY2x1ZGVzKGRldmljZSkgPyA1IDogQkVEX0JBRC5pbmNsdWRlcyhkZXZpY2UpID8gMiA6IDFcbiAgICApO1xufTtcblxubGV0IHBsYXllclNsZWVwaW5nRXhwcmVzc2lvbiA9IGZhbHNlO1xubGV0IHBsYXllckJlZE11bHRpcGxpZXIgPSAxO1xuXG5leHBvcnQgdHlwZSBWaXJ0dWFsUGV0U3RhdENhdGVnb3J5ID0gXCJmb29kXCIgfCBcIndhdGVyXCIgfCBcInNsZWVwXCIgfCBcImFmZmVjdGlvblwiO1xuZXhwb3J0IHR5cGUgVmlydHVhbFBldEhvdXJDYXRlZ29yaWVzID0gYCR7VmlydHVhbFBldFN0YXRDYXRlZ29yeX1Ib3Vyc2A7XG5leHBvcnQgaW50ZXJmYWNlIFZpcnR1YWxQZXRTdGF0XG57XG4gICAgc3RhdDogVmlydHVhbFBldFN0YXRDYXRlZ29yeTtcbiAgICBsZXZlbDogbnVtYmVyO1xufVxuXG5mdW5jdGlvbiBTbGVlcENoYW5nZUNoZWNrKHN5bmM6IGJvb2xlYW4gPSB0cnVlKTogdm9pZFxue1xuICAgIGlmIChcbiAgICAgICAgUGxheWVyVlAoKS5lbmFibGVkXG4gICAgICAgICYmIFBsYXllclZQKCkuc2xlZXBIb3VycyAhPT0gMFxuICAgICAgICAmJiAocGxheWVyU2xlZXBpbmdFeHByZXNzaW9uICE9PSBJc1NsZWVwaW5nRXhwcmVzc2lvbihQbGF5ZXIpXG4gICAgICAgIHx8IHBsYXllckJlZE11bHRpcGxpZXIgIT09IElzQmVkTXVsdGlwbGllcihQbGF5ZXIpKVxuICAgIClcbiAgICB7XG4gICAgICAgIC8vIGlmIGEgY2hhbmdlIGluIHNsZWVwaW5nIGV4cHJlc3Npb24gb3IgYmVkIG11bHRpcGxpZXIsIHN5bmMgbGV2ZWxzXG4gICAgICAgIGlmIChzeW5jKVxuICAgICAgICB7XG4gICAgICAgICAgICBMZXZlbFN5bmMoKTtcbiAgICAgICAgfVxuICAgICAgICBwbGF5ZXJTbGVlcGluZ0V4cHJlc3Npb24gPSBJc1NsZWVwaW5nRXhwcmVzc2lvbihQbGF5ZXIpO1xuICAgICAgICBwbGF5ZXJCZWRNdWx0aXBsaWVyID0gSXNCZWRNdWx0aXBsaWVyKFBsYXllcik7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBTdGF0TW9kaWZpZXIoc3RhdDogVmlydHVhbFBldFN0YXRDYXRlZ29yeSwgc291cmNlQ2hhcj86IENoYXJhY3Rlcik6IG51bWJlclxue1xuICAgIGxldCBtb2RpZmllciA9IDE7XG5cbiAgICAvLyBGcm9tIG93bmVycywgKzUwJVxuICAgIGlmIChzb3VyY2VDaGFyPy5Jc093bmVyKCkpXG4gICAge1xuICAgICAgICBtb2RpZmllciArPSAwLjU7XG4gICAgfVxuICAgIC8vIGxvdmVycyArMzUlXG4gICAgZWxzZSBpZiAoc291cmNlQ2hhcj8uSXNMb3Zlck9mUGxheWVyKCkpXG4gICAge1xuICAgICAgICBtb2RpZmllciArPSAwLjM1O1xuICAgIH1cbiAgICAvLyBzdWJzICsyNSVcbiAgICBlbHNlIGlmIChzb3VyY2VDaGFyPy5Jc0ZhbWlseU9mUGxheWVyKCkpXG4gICAge1xuICAgICAgICBtb2RpZmllciArPSAwLjI1O1xuICAgIH1cblxuICAgIC8vIEhhcmQgdG8gZWF0IG9yIGRyaW5rIHdoaWxlIHJpbmcgZ2FnZ2VkXG4gICAgaWYgKHN0YXQgPT09IFwiZm9vZFwiIHx8IHN0YXQgPT09IFwid2F0ZXJcIilcbiAgICB7XG4gICAgICAgIGlmICghUGxheWVyLkNhblRhbGsoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgbW9kaWZpZXIgLT0gMC41O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gMyUgYm9udXMgZm9yIGVhY2ggcmVzdHJhaW50IHdvcm5cbiAgICBtb2RpZmllciArPSAwLjAzICogUGxheWVyLkFwcGVhcmFuY2UuZmlsdGVyKCh4KSA9PiB4LkFzc2V0LkR5bmFtaWNHcm91cE5hbWUuc3RhcnRzV2l0aChcIkl0ZW1cIikpLmxlbmd0aDtcblxuICAgIC8vIDUwJSBib251cyBmb3IgYmVpbmcgb24gYWxsIGZvdXJzXG4gICAgaWYgKFBsYXllci5Qb3NlTWFwcGluZy5Cb2R5RnVsbCA9PT0gXCJBbGxGb3Vyc1wiKVxuICAgIHtcbiAgICAgICAgbW9kaWZpZXIgKz0gMC41O1xuICAgIH1cblxuICAgIC8vIEZvb2QgYW5kIHdhdGVyIG1vZGlmaWVzIGFmZmVjdGlvbiBnYWluXG4gICAgaWYgKFxuICAgICAgICBzdGF0ID09PSBcImFmZmVjdGlvblwiXG4gICAgICAgICYmIFBsYXllci5NUEFbTW9kdWxlVGl0bGUuVmlydHVhbFBldENvbmRpdGlvbnNdLmVuYWJsZWRcbiAgICAgICAgJiYgUGxheWVyLk1QQVtNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9uc10uZm9vZE5PV1xuICAgIClcbiAgICB7XG4gICAgICAgIGNvbnN0IG51bXM6IG51bWJlcltdID0gW107XG4gICAgICAgIGlmIChQbGF5ZXJWUCgpLmZvb2RIb3VycyAhPT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgbnVtcy5wdXNoKEdldENoYXJhY3RlckN1cnJlbnRTdGF0VmFsdWUoUGxheWVyLCBcImZvb2RcIikpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChQbGF5ZXJWUCgpLndhdGVySG91cnMgIT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIG51bXMucHVzaChHZXRDaGFyYWN0ZXJDdXJyZW50U3RhdFZhbHVlKFBsYXllciwgXCJ3YXRlclwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG51bXMubGVuZ3RoICE9PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBtb2RpZmllciAqPSBudW1zLnJlZHVjZSgoc3VtLCBudW0pID0+IHN1bSArIG51bSwgMCkgLyBudW1zLmxlbmd0aCAvIDAuNzU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gTWF0aC5tYXgoMCwgbW9kaWZpZXIpO1xufVxuXG5mdW5jdGlvbiBWZXJpZnlWYWxpZFN0YXQoc3RhdDogVmlydHVhbFBldFN0YXRDYXRlZ29yeSk6IGJvb2xlYW5cbntcbiAgICBjb25zdCBsZXZlbCA9IFBsYXllclZQKCkubGV2ZWxzW3N0YXRdO1xuICAgIFBsYXllclZQKCkubGV2ZWxzW3N0YXRdID0gTWF0aC5taW4oTWF0aC5tYXgobGV2ZWwsIDApLCAxKTtcbiAgICByZXR1cm4gMCA8PSBsZXZlbCAmJiBsZXZlbCA8PSAxO1xufVxuXG5mdW5jdGlvbiBIb3VyVG9NUyhob3VyczogbnVtYmVyKVxue1xuICAgIHJldHVybiBob3VycyAqIDYwICogNjAgKiAxMDAwO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gQ2FsY3VsYXRlQ3VycmVudFZhbHVlKHZhbHVlOiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIsIGxhc3RVcGRhdGVkOiBudW1iZXIsIGxhc3RPbmxpbmU/OiBudW1iZXIsIGZpcnN0UnVuQ2hlY2s6IGJvb2xlYW4gPSBmYWxzZSwgQzogQ2hhcmFjdGVyID0gUGxheWVyKTogbnVtYmVyXG57XG4gICAgLyoqIEhvdyBsb25nIGluIG1zIGhhcyBlbGFzcGVkIHNpbmNlIG5vdyBvciBsYXN0IG9ubGluZSAqL1xuICAgIGNvbnN0IGRpZmY6IG51bWJlciA9IChsYXN0T25saW5lID8gbGFzdE9ubGluZSA6IERhdGUubm93KCkpIC0gbGFzdFVwZGF0ZWQ7XG4gICAgY29uc3QgY3VycmVudFZhbHVlID0gTWF0aC5tYXgoMCwgTWF0aC5taW4odmFsdWUgLSAoZGlmZiAvIEhvdXJUb01TKGR1cmF0aW9uKSksIDEpKTtcbiAgICAvLyBNYXggZHJhaW4gZG93biB0byAyMCUgd2hpbGUgb2ZmbGluZVxuICAgIGlmIChmaXJzdFJ1bkNoZWNrICYmIHZhbHVlID4gTUlOX09GRkxJTkVfRFJBSU5fTEVWRUwgJiYgY3VycmVudFZhbHVlIDwgTUlOX09GRkxJTkVfRFJBSU5fTEVWRUwpXG4gICAge1xuICAgICAgICBjb25zdCBkaWZmMjogbnVtYmVyID0gUGxheWVyVlAoQykubGV2ZWxzLmxhc3RPbmxpbmUgLSBsYXN0VXBkYXRlZDtcbiAgICAgICAgY29uc3QgbmV3VmFsdWUyID0gTWF0aC5tYXgoMCwgTWF0aC5taW4odmFsdWUgLSAoZGlmZjIgLyBIb3VyVG9NUyhkdXJhdGlvbikpLCAxKSk7XG4gICAgICAgIHJldHVybiBNYXRoLm1pbihNSU5fT0ZGTElORV9EUkFJTl9MRVZFTCwgbmV3VmFsdWUyKTtcbiAgICB9XG4gICAgcmV0dXJuIGN1cnJlbnRWYWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEdldENoYXJhY3RlckN1cnJlbnRTdGF0VmFsdWUoY2hhcmFjdGVyOiBDaGFyYWN0ZXIsIHN0YXQ6IFZpcnR1YWxQZXRTdGF0Q2F0ZWdvcnkpOiBudW1iZXJcbntcbiAgICBjb25zdCBjaGFyU3RhdHMgPSBjaGFyYWN0ZXI/Lk1QQT8uW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdO1xuICAgIGlmICghY2hhclN0YXRzKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIGlmIChzdGF0ID09PSBcInNsZWVwXCIpXG4gICAge1xuICAgICAgICBjb25zdCBsdmwgPSAoSXNTbGVlcGluZ0V4cHJlc3Npb24oY2hhcmFjdGVyKSB8fCBJc0JlZE11bHRpcGxpZXIoY2hhcmFjdGVyKSAhPT0gMSkgP1xuICAgICAgICAgICAgY2hhclN0YXRzLmxldmVscy5zbGVlcCArIChEYXRlLm5vdygpIC0gY2hhclN0YXRzLmxldmVscy5sYXN0VXBkYXRlZCkgLyAoY2hhclN0YXRzLnNsZWVwSG91cnMgKiA2MCAqIDYwICogMTAwMCkgKiBJc0JlZE11bHRpcGxpZXIoY2hhcmFjdGVyKSAqIChJc1NsZWVwaW5nRXhwcmVzc2lvbihjaGFyYWN0ZXIpID8gNSA6IDEpIDpcbiAgICAgICAgICAgIENhbGN1bGF0ZUN1cnJlbnRWYWx1ZShjaGFyU3RhdHMubGV2ZWxzLnNsZWVwLCBjaGFyU3RhdHMuc2xlZXBIb3VycywgY2hhclN0YXRzLmxldmVscy5sYXN0VXBkYXRlZCk7XG4gICAgICAgIHJldHVybiBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCBsdmwpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gQ2FsY3VsYXRlQ3VycmVudFZhbHVlKGNoYXJTdGF0cy5sZXZlbHNbc3RhdF0sIGNoYXJTdGF0c1tgJHtzdGF0fUhvdXJzYF0sIGNoYXJTdGF0cy5sZXZlbHMubGFzdFVwZGF0ZWQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gTGV2ZWxTeW5jKHB1c2hUb1N0b3JhZ2U6IGJvb2xlYW4gPSB0cnVlLCByZWNvcmRTeW5jOiBib29sZWFuID0gdHJ1ZSwgZmlyc3RTeW5jOiBib29sZWFuID0gZmFsc2UpOiB2b2lkXG57XG4gICAgLy8gVmlydHVhbCBwZXQgaXMgbm90IGVuYWJsZWQgc28gZG8gbm90aGluZ1xuICAgIGlmICghUGxheWVyVlAoKS5lbmFibGVkKVxuICAgIHtcbiAgICAgICAgUGxheWVyVlAoKS5sZXZlbHMubGFzdFVwZGF0ZWQgPSBEYXRlLm5vdygpO1xuICAgICAgICBQbGF5ZXJWUCgpLmxldmVscy5sYXN0T25saW5lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHVwZGF0ZTogbnVtYmVyID0gUGxheWVyVlAoKS5sZXZlbHMubGFzdFVwZGF0ZWQgPz8gRGF0ZS5ub3coKTtcbiAgICBjb25zdCBvbmxpbmU6IG51bWJlciB8IHVuZGVmaW5lZCA9ICFQbGF5ZXJWUCgpLm9mZmxpbmVEcmFpbiA/IFBsYXllclZQKCkubGV2ZWxzLmxhc3RPbmxpbmUgOiB1bmRlZmluZWQ7XG5cbiAgICBjb25zdCBmb29kID0gUGxheWVyVlAoKS5mb29kSG91cnM7XG4gICAgaWYgKGZvb2QgIT09IDApXG4gICAge1xuICAgICAgICBQbGF5ZXJWUCgpLmxldmVscy5mb29kID0gQ2FsY3VsYXRlQ3VycmVudFZhbHVlKFBsYXllclZQKCkubGV2ZWxzLmZvb2QsIGZvb2QsIHVwZGF0ZSwgb25saW5lLCBmaXJzdFN5bmMpO1xuICAgIH1cbiAgICBjb25zdCB3YXRlciA9IFBsYXllclZQKCkud2F0ZXJIb3VycztcbiAgICBpZiAod2F0ZXIgIT09IDApXG4gICAge1xuICAgICAgICBQbGF5ZXJWUCgpLmxldmVscy53YXRlciA9IENhbGN1bGF0ZUN1cnJlbnRWYWx1ZShQbGF5ZXJWUCgpLmxldmVscy53YXRlciwgd2F0ZXIsIHVwZGF0ZSwgb25saW5lLCBmaXJzdFN5bmMpO1xuICAgIH1cbiAgICBjb25zdCBzbGVlcCA9IFBsYXllclZQKCkuc2xlZXBIb3VycztcbiAgICBpZiAoc2xlZXAgIT09IDApXG4gICAge1xuICAgICAgICBpZiAoKGZpcnN0U3luYyAmJiAhb25saW5lKVxuICAgICAgICAgIHx8IHBsYXllclNsZWVwaW5nRXhwcmVzc2lvblxuICAgICAgICAgIHx8IHBsYXllckJlZE11bHRpcGxpZXIgIT09IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGR1cmF0aW9uVG9Vc2UgPSBmaXJzdFN5bmMgPyAoRGF0ZS5ub3coKSAtIFBsYXllclZQKCkubGV2ZWxzLmxhc3RPbmxpbmUpIC0gKFBsYXllclZQKCkubGV2ZWxzLmxhc3RPbmxpbmUgLSB1cGRhdGUpIDogRGF0ZS5ub3coKSAtIHVwZGF0ZTtcbiAgICAgICAgICAgIGNvbnN0IG5ld1NsZWVwID0gUGxheWVyVlAoKS5sZXZlbHMuc2xlZXAgKyAoZHVyYXRpb25Ub1VzZSkgLyBIb3VyVG9NUyhzbGVlcCkgKiBwbGF5ZXJCZWRNdWx0aXBsaWVyICogKHBsYXllclNsZWVwaW5nRXhwcmVzc2lvbiA/IDUgOiAxKTtcbiAgICAgICAgICAgIFBsYXllclZQKCkubGV2ZWxzLnNsZWVwID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgbmV3U2xlZXApKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIFBsYXllclZQKCkubGV2ZWxzLnNsZWVwID0gQ2FsY3VsYXRlQ3VycmVudFZhbHVlKFBsYXllclZQKCkubGV2ZWxzLnNsZWVwLCBzbGVlcCwgdXBkYXRlLCBvbmxpbmUsIGZpcnN0U3luYyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgYWZmZWN0aW9uID0gUGxheWVyVlAoKS5hZmZlY3Rpb25Ib3VycztcbiAgICBpZiAoYWZmZWN0aW9uICE9PSAwKVxuICAgIHtcbiAgICAgICAgUGxheWVyVlAoKS5sZXZlbHMuYWZmZWN0aW9uID0gQ2FsY3VsYXRlQ3VycmVudFZhbHVlKFBsYXllclZQKCkubGV2ZWxzLmFmZmVjdGlvbiwgYWZmZWN0aW9uLCB1cGRhdGUsIG9ubGluZSwgZmlyc3RTeW5jKTtcbiAgICB9XG4gICAgUGxheWVyVlAoKS5sZXZlbHMubGFzdFVwZGF0ZWQgPSBEYXRlLm5vdygpO1xuICAgIFBsYXllclZQKCkubGV2ZWxzLmxhc3RPbmxpbmUgPSBEYXRlLm5vdygpO1xuICAgIC8vIFNhdmUgdG8gbG9jYWwgc3RvcmFnZVxuICAgIGlmIChwdXNoVG9TdG9yYWdlKVxuICAgIHtcbiAgICAgICAgU2F2ZVN0b3JhZ2UoZmFsc2UpO1xuICAgIH1cbiAgICAvLyBTeW5jIG5ldyBzdGF0cyB3aXRoIG90aGVyc1xuICAgIGlmIChyZWNvcmRTeW5jKVxuICAgIHtcbiAgICAgICAgUmVjb3JkU3luYyhNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0LCBcImxldmVsc1wiKTtcbiAgICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHN0YXQgLSBTdGF0IHRvIG1vZGlmeVxuICogQHBhcmFtIGFtb3VudCAtIE11c3QgYmUgYmV0d2VlbiAtMSBhbmQgMVxuICogQHBhcmFtIGFwcGx5TW9kaWZpZXIgLSBJZiBhcHBseSB0aGUgXCJQZXQgbGlrZVwiIG1vZGlmaWVyXG4gKiBAcGFyYW0gc3RvcmFnZVB1c2ggLSBJZiBzYXZpbmcgdG8gc3RvcmFnZVxuICovXG5leHBvcnQgZnVuY3Rpb24gTW9kaWZ5U3RhdChzdGF0OiBWaXJ0dWFsUGV0U3RhdENhdGVnb3J5LCBhbW91bnQ6IG51bWJlciwgYXBwbHlNb2RpZmllciA9IHRydWUsIHN0b3JhZ2VQdXNoID0gdHJ1ZSwgc291cmNlQ2hhcj86IENoYXJhY3Rlcik6IHZvaWRcbntcbiAgICBpZiAoYW1vdW50IDwgLTEgJiYgYW1vdW50ID4gMSlcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDYWxjdWxhdGUgdGhlIGN1cnJlbnQgc3RhdHMgYmFzZWQgb24gZHJhaW4gYW5kIHRoZW4gYXBwbHkgbW9kaWZpY2F0aW9ucyBhZnRlciBjaGFuZ2luZyB0aG9zZSB2YWx1ZXMgZmlyc3RcbiAgICBMZXZlbFN5bmMoZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG5cbiAgICBQbGF5ZXJWUCgpLmxldmVsc1tzdGF0XSArPSBhbW91bnQgKiAoKGFwcGx5TW9kaWZpZXIgJiYgYW1vdW50ID4gMCkgPyBTdGF0TW9kaWZpZXIoc3RhdCwgc291cmNlQ2hhcikgOiAxKTtcbiAgICBWZXJpZnlWYWxpZFN0YXQoc3RhdCk7XG5cbiAgICAvLyBTYXZlIHRvIGxvY2FsIHN0b3JhZ2VcbiAgICBpZiAoc3RvcmFnZVB1c2gpXG4gICAge1xuICAgICAgICBTYXZlU3RvcmFnZShmYWxzZSk7XG4gICAgfVxuICAgIC8vIFN5bmMgbmV3IHN0YXRzIHdpdGggb3RoZXJzXG4gICAgUmVjb3JkU3luYyhNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0LCBcImxldmVsc1wiKTtcbn1cblxuZXhwb3J0IGNsYXNzIFZpcnR1YWxQZXRNb2R1bGUgZXh0ZW5kcyBNb2R1bGVcbntcbiAgICBnZXQgVGl0bGUoKTogTW9kdWxlVGl0bGVcbiAgICB7XG4gICAgICAgIHJldHVybiBNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0O1xuICAgIH1cblxuICAgIGdldCBBY3Rpdml0aWVzKCk6IEN1c3RvbUFjdGl2aXR5W11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgTmFtZTogXCJCb3dsRWF0XCIsXG4gICAgICAgICAgICAgICAgVGFyZ2V0czogW3tcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IFwiSXRlbU1vdXRoXCIsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkVhdCBGcm9tIEJvd2xcIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uU2VsZjogXCJTb3VyY2VDaGFyYWN0ZXIgZWF0cyBmcm9tIFByb25vdW5Qb3NzZXNzaXZlIGJvd2wuXCJcbiAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgICAgICBJbWFnZTogXCJBc3NldHMvRmVtYWxlM0RDRy9JdGVtRGV2aWNlcy9QcmV2aWV3L1BldEJvd2wucG5nXCIsXG4gICAgICAgICAgICAgICAgUHJlcmVxdWlzaXRlOiBbXCJVc2VNb3V0aFwiXSxcbiAgICAgICAgICAgICAgICBDdXN0b21QcmVyZXF1aXNpdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgTmFtZTogXCJIYXNCb3dsXCIsXG4gICAgICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogKGFjdGluZywgX2FjdGVkLCBfZ3JvdXApID0+XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBJbnZlbnRvcnlHZXQoYWN0aW5nLCBcIkl0ZW1EZXZpY2VzXCIpPy5Bc3NldD8uTmFtZSA9PT0gXCJQZXRCb3dsXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIE9uVHJpZ2dlcjogKCkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChQbGF5ZXJWUCgpLmVuYWJsZWQgJiYgUGxheWVyVlAoKS5mb29kSG91cnMgIT09IDApXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE1vZGlmeVN0YXQoXCJmb29kXCIsIEJPV0xfQ09OU1VNRV9SRUNPVkVSWSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgTmFtZTogXCJCb3dsRHJpbmtcIixcbiAgICAgICAgICAgICAgICBUYXJnZXRzOiBbe1xuICAgICAgICAgICAgICAgICAgICBncm91cDogXCJJdGVtTW91dGhcIixcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiRHJpbmsgRnJvbSBCb3dsXCIsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvblNlbGY6IFwiU291cmNlQ2hhcmFjdGVyIGRyaW5rcyBmcm9tIFByb25vdW5Qb3NzZXNzaXZlIGJvd2wuXCJcbiAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgICAgICBJbWFnZTogXCJBc3NldHMvRmVtYWxlM0RDRy9JdGVtRGV2aWNlcy9QcmV2aWV3L1BldEJvd2wucG5nXCIsXG4gICAgICAgICAgICAgICAgUHJlcmVxdWlzaXRlOiBbXCJVc2VNb3V0aFwiXSxcbiAgICAgICAgICAgICAgICBDdXN0b21QcmVyZXF1aXNpdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgTmFtZTogXCJIYXNCb3dsXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIE9uVHJpZ2dlcjogKCkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChQbGF5ZXJWUCgpLmVuYWJsZWQgJiYgUGxheWVyVlAoKS53YXRlckhvdXJzICE9PSAwKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBNb2RpZnlTdGF0KFwid2F0ZXJcIiwgQk9XTF9DT05TVU1FX1JFQ09WRVJZLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBOYW1lOiBcIkJvd2xFYXQyXCIsXG4gICAgICAgICAgICAgICAgVGFyZ2V0czogW3tcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IFwiSXRlbU1vdXRoXCIsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkVhdCBGcm9tIEJvd2xcIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uU2VsZjogXCJTb3VyY2VDaGFyYWN0ZXIgcHV0cyBQcm9ub3VuUG9zc2Vzc2l2ZSBoZWFkIGludG8gUHJvbm91blBvc3Nlc3NpdmUgYm93bCBpbiBvcmRlciB0byBlYXQgd2l0aCB0aGUgZ2FnLCBtYWtpbmcgYSBtZXNzLlwiXG4gICAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAgICAgSW1hZ2U6IFwiQXNzZXRzL0ZlbWFsZTNEQ0cvSXRlbURldmljZXMvUHJldmlldy9QZXRCb3dsLnBuZ1wiLFxuICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogW10sXG4gICAgICAgICAgICAgICAgQ3VzdG9tUHJlcmVxdWlzaXRlOiBbXG4gICAgICAgICAgICAgICAgICAgIHsgTmFtZTogXCJIYXNCb3dsXCIgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgTmFtZTogXCJVc2VUb25ndWVOb01vdXRoXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBQcmVyZXF1aXNpdGU6IChhY3RpbmcsIF9hY3RlZCwgX2dyb3VwKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhYWN0aW5nLkNhblRhbGsoKSAmJiAhYWN0aW5nLklzTW91dGhCbG9ja2VkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIE9uVHJpZ2dlcjogKCkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChQbGF5ZXJWUCgpLmVuYWJsZWQgJiYgUGxheWVyVlAoKS5mb29kSG91cnMgIT09IDApXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE1vZGlmeVN0YXQoXCJmb29kXCIsIEJPV0xfQ09OU1VNRV9SRUNPVkVSWSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgTmFtZTogXCJCb3dsRHJpbmsyXCIsXG4gICAgICAgICAgICAgICAgVGFyZ2V0czogW3tcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IFwiSXRlbU1vdXRoXCIsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkRyaW5rIEZyb20gQm93bFwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25TZWxmOiBcIlNvdXJjZUNoYXJhY3RlciBwdXRzIFByb25vdW5Qb3NzZXNzaXZlIGhlYWQgaW50byBQcm9ub3VuUG9zc2Vzc2l2ZSBib3dsIGluIG9yZGVyIHRvIGRyaW5rIHdpdGggdGhlIGdhZywgbWFraW5nIGEgbWVzcy5cIlxuICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgICAgIEltYWdlOiBcIkFzc2V0cy9GZW1hbGUzRENHL0l0ZW1EZXZpY2VzL1ByZXZpZXcvUGV0Qm93bC5wbmdcIixcbiAgICAgICAgICAgICAgICBQcmVyZXF1aXNpdGU6IFtdLFxuICAgICAgICAgICAgICAgIEN1c3RvbVByZXJlcXVpc2l0ZTogW1xuICAgICAgICAgICAgICAgICAgICB7IE5hbWU6IFwiSGFzQm93bFwiIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgTmFtZTogXCJVc2VUb25ndWVOb01vdXRoXCIgfVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgT25UcmlnZ2VyOiAoKSA9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFBsYXllclZQKCkuZW5hYmxlZCAmJiBQbGF5ZXJWUCgpLndhdGVySG91cnMgIT09IDApXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE1vZGlmeVN0YXQoXCJ3YXRlclwiLCBCT1dMX0NPTlNVTUVfUkVDT1ZFUlksIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuICAgIH1cblxuICAgIGdldCBTZXR0aW5ncygpOiBTZXR0aW5nW11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJlbmFibGVkXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICFJc0hhcmRjb3JlT24oQyksXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkJlY29tZSBhIHZpcnR1YWwgcGV0ISBSZXF1aXJpbmc6IGZvb2QsIHdhdGVyLCBzbGVlcCwgYW5kIGFmZmVjdGlvblwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiZm9vZEhvdXJzXCIgYXMgVmlydHVhbFBldEhvdXJDYXRlZ29yaWVzLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IDQsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkhvdyBtYW55IGhvdXJzIHVudGlsIHlvdSBhcmUgY29tcGxldGVseSBvdXQgb2YgZm9vZDsgMCB0byBkaXNhYmxlXCIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IDEyOCxcbiAgICAgICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICAgICAgbWF4OiBNQVhfU0VUVElOR19USU1FX0hPVVJTLFxuICAgICAgICAgICAgICAgIHN0ZXA6IDAuMVxuICAgICAgICAgICAgfSBhcyBOdW1iZXJTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJ3YXRlckhvdXJzXCIgYXMgVmlydHVhbFBldEhvdXJDYXRlZ29yaWVzLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IDQsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkhvdyBtYW55IGhvdXJzIHVudGlsIHlvdSBhcmUgY29tcGxldGVseSBvdXQgb2Ygd2F0ZXI7IDAgdG8gZGlzYWJsZVwiLFxuICAgICAgICAgICAgICAgIHdpZHRoOiAxMjgsXG4gICAgICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgICAgIG1heDogTUFYX1NFVFRJTkdfVElNRV9IT1VSUyxcbiAgICAgICAgICAgICAgICBzdGVwOiAwLjFcbiAgICAgICAgICAgIH0gYXMgTnVtYmVyU2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwic2xlZXBIb3Vyc1wiIGFzIFZpcnR1YWxQZXRIb3VyQ2F0ZWdvcmllcyxcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiA4LFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJIb3cgbWFueSBob3VycyB1bnRpbCB5b3UgYXJlIGNvbXBsZXRlbHkgb3V0IG9mIHNsZWVwOyAwIHRvIGRpc2FibGVcIixcbiAgICAgICAgICAgICAgICB3aWR0aDogMTI4LFxuICAgICAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgICAgICBtYXg6IE1BWF9TRVRUSU5HX1RJTUVfSE9VUlMsXG4gICAgICAgICAgICAgICAgc3RlcDogMC4xXG4gICAgICAgICAgICB9IGFzIE51bWJlclNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImFmZmVjdGlvbkhvdXJzXCIgYXMgVmlydHVhbFBldEhvdXJDYXRlZ29yaWVzLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IDQsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkhvdyBtYW55IGhvdXJzIHVudGlsIHlvdSBhcmUgY29tcGxldGVseSBvdXQgb2YgYWZmZWN0aW9uOyAwIHRvIGRpc2FibGVcIixcbiAgICAgICAgICAgICAgICB3aWR0aDogMTI4LFxuICAgICAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgICAgICBtYXg6IE1BWF9TRVRUSU5HX1RJTUVfSE9VUlMsXG4gICAgICAgICAgICAgICAgc3RlcDogMC4xXG4gICAgICAgICAgICB9IGFzIE51bWJlclNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIm9mZmxpbmVEcmFpblwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiU3RhdHMgZHJhaW4gZXZlbiB3aGVuIGxvZ2dlZCBvdXQgb2YgdGhlIGNsdWJcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIm5vSGFuZHNcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkICYmICFJc0hhcmRjb3JlT24oQyksXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWxsb3cgZWF0aW5nIG9yIGRyaW5raW5nIGZyb20gaXRlbXMgaW4geW91ciBPV04gaGFuZHNcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIm1hc29jaGlzdFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIk1hc29jaGlzdCBwZXQ7IEFidXNlIHJhaXNlcyBhZmZlY3Rpb25cIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImxldmVsc1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwicmVjb3JkXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgZm9vZDogMSxcbiAgICAgICAgICAgICAgICAgICAgd2F0ZXI6IDEsXG4gICAgICAgICAgICAgICAgICAgIHNsZWVwOiAxLFxuICAgICAgICAgICAgICAgICAgICBhZmZlY3Rpb246IDEsXG4gICAgICAgICAgICAgICAgICAgIGxhc3RVcGRhdGVkOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgICAgICAgICBsYXN0T25saW5lOiBEYXRlLm5vdygpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBhcyBTZXR0aW5nXG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgTG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5Mb2FkKCk7XG5cbiAgICAgICAgLy8gTG9naW4gbGV2ZWwgc3luY1xuICAgICAgICBTbGVlcENoYW5nZUNoZWNrKGZhbHNlKTtcbiAgICAgICAgTGV2ZWxTeW5jKHRydWUsIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgbGFzdE9ubGluZUludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKFBsYXllci5NZW1iZXJOdW1iZXIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgUGxheWVyLk1QQVt0aGlzLlRpdGxlXS5sZXZlbHMubGFzdE9ubGluZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgU2F2ZVN0b3JhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBMQVNUX09OTElORV9JTlRFUlZBTF9NUyk7XG5cbiAgICAgICAgLy8gTm9tcyBhbmQgZHJpbmtzXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIkNoYXRSb29tTWVzc2FnZVwiLCAwLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGFyZ3NbMF07XG4gICAgICAgICAgICBjb25zdCBhY3Rpdml0eU5hbWUgPSBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJBY3Rpdml0eU5hbWVcIik7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgIVBsYXllclZQKCkuZW5hYmxlZFxuICAgICAgICAgICAgICAgIHx8ICghUGxheWVyVlAoKS5ub0hhbmRzXG4gICAgICAgICAgICAgICAgJiYgR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiU291cmNlQ2hhcmFjdGVyXCIpID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyKVxuICAgICAgICAgICAgICAgIHx8IGRhdGEuVHlwZSAhPT0gXCJBY3Rpdml0eVwiXG4gICAgICAgICAgICAgICAgfHwgR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiVGFyZ2V0Q2hhcmFjdGVyXCIpICE9PSBQbGF5ZXIuTWVtYmVyTnVtYmVyXG4gICAgICAgICAgICAgICAgfHwgR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiRm9jdXNHcm91cE5hbWVcIikgIT09IFwiSXRlbU1vdXRoXCJcbiAgICAgICAgICAgICAgICB8fCAhYWN0aXZpdHlOYW1lXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEdldCBhY3Rpdml0eSBhbmQgY2hlY2sgcHJlcmVxdWlzaXRlc1xuICAgICAgICAgICAgY29uc3QgYWN0aXZpdHkgPSBBY3Rpdml0eUZlbWFsZTNEQ0cuZmluZCgoeCkgPT4geC5OYW1lID09PSBhY3Rpdml0eU5hbWUpO1xuXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgUGxheWVyVlAoKS5mb29kSG91cnMgIT09IDBcbiAgICAgICAgICAgICAgICAmJiAoYWN0aXZpdHk/LlByZXJlcXVpc2l0ZT8uaW5jbHVkZXMoXCJOZWVkcy1FYXRJdGVtXCIpXG4gICAgICAgICAgICAgICAgfHwgQUNUSVZJVElFU19GT09EX0dBSU4uc29tZSgoeCkgPT4gYWN0aXZpdHk/Lk5hbWUgPT09IHgpKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIE1vZGlmeVN0YXQoXCJmb29kXCIsIElURU1fQ09OVU1FX1JFQ09WRVJZLCB0cnVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIFBsYXllclZQKCkud2F0ZXJIb3VycyAhPT0gMFxuICAgICAgICAgICAgICAgICYmIChhY3Rpdml0eT8uUHJlcmVxdWlzaXRlPy5pbmNsdWRlcyhcIk5lZWRzLVNpcEl0ZW1cIilcbiAgICAgICAgICAgICAgICB8fCBBQ1RJVklUSUVTX1dBVEVSX0dBSU4uc29tZSgoeCkgPT4gYWN0aXZpdHk/Lk5hbWUgPT09IHgpKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIE1vZGlmeVN0YXQoXCJ3YXRlclwiLCBJVEVNX0NPTlVNRV9SRUNPVkVSWSwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBTbGVlcFxuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJDaGFyYWN0ZXJSZWZyZXNoXCIsIDAsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoYXJnc1swXS5NZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgU2xlZXBDaGFuZ2VDaGVjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEFmZmVjdGlvblxuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJDaGF0Um9vbU1lc3NhZ2VcIiwgMCwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhcmdzWzBdO1xuICAgICAgICAgICAgY29uc3QgYWN0aXZpdHlOYW1lID0gR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiQWN0aXZpdHlOYW1lXCIpO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICFQbGF5ZXJWUCgpLmVuYWJsZWRcbiAgICAgICAgICAgICAgICB8fCBQbGF5ZXJWUCgpLmFmZmVjdGlvbkhvdXJzID09PSAwXG4gICAgICAgICAgICAgICAgfHwgZGF0YS5UeXBlICE9PSBcIkFjdGl2aXR5XCJcbiAgICAgICAgICAgICAgICB8fCBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJUYXJnZXRDaGFyYWN0ZXJcIikgIT09IFBsYXllci5NZW1iZXJOdW1iZXJcbiAgICAgICAgICAgICAgICB8fCBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJTb3VyY2VDaGFyYWN0ZXJcIikgPT09IFBsYXllci5NZW1iZXJOdW1iZXJcbiAgICAgICAgICAgICAgICB8fCAhYWN0aXZpdHlOYW1lXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGdyb3VwID0gR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiRm9jdXNHcm91cE5hbWVcIikgYXMgc3RyaW5nID8/IFwiXCI7XG4gICAgICAgICAgICBjb25zdCBncm91cE11bHQgPSBBRkZFQ1RJT05fWk9ORV9BRkZFQ1RJT05bZ3JvdXBdID8/IDE7XG4gICAgICAgICAgICBpZiAoQUZGRUNUSU9OX0FDVElWSVRZX0xPVkUuaW5jbHVkZXMoYWN0aXZpdHlOYW1lKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBNb2RpZnlTdGF0KFwiYWZmZWN0aW9uXCIsIEFGRkVDVElPTl9MT1ZFX0JBU0UgKiBncm91cE11bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoQUZGRUNUSU9OX0FDVElWSVRZX0xJS0UuaW5jbHVkZXMoYWN0aXZpdHlOYW1lKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBNb2RpZnlTdGF0KFwiYWZmZWN0aW9uXCIsIEFGRkVDVElPTl9MSUtFX0JBU0UgKiBncm91cE11bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoQUZGRUNUSU9OX0FDVElWSVRZX01BU08uaW5jbHVkZXMoYWN0aXZpdHlOYW1lKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBNb2RpZnlTdGF0KFwiYWZmZWN0aW9uXCIsIChQbGF5ZXJWUCgpLm1hc29jaGlzdCA/IC0xIDogMSkgKiBBRkZFQ1RJT05fTUFTT19CQVNFICogZ3JvdXBNdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBVbmxvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3VwZXIuVW5sb2FkKCk7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwobGFzdE9ubGluZUludGVydmFsKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBSYW5kb21FbGVtZW50IH0gZnJvbSBcIi4uL3V0aWwvZ2VuZXJhbFwiO1xuaW1wb3J0IHsgR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5LCBTZW5kQWN0aW9uIH0gZnJvbSBcIi4uL3V0aWwvbWVzc2FnaW5nXCI7XG5pbXBvcnQgeyBIb29rRnVuY3Rpb24gfSBmcm9tIFwiLi4vdXRpbC9zZGtcIjtcbmltcG9ydCB7IE1vZHVsZSwgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi9fbW9kdWxlXCI7XG5pbXBvcnQgeyBJc0hhcmRjb3JlT24gfSBmcm9tIFwiLi9wcm9maWxlXCI7XG5pbXBvcnQgeyBHZXRDaGFyYWN0ZXJDdXJyZW50U3RhdFZhbHVlLCBNb2RpZnlTdGF0LCBWaXJ0dWFsUGV0U3RhdENhdGVnb3J5IH0gZnJvbSBcIi4vdmlydHVhbFBldFwiO1xuXG5jb25zdCBQbGF5ZXJWUDogKEM/OiBDaGFyYWN0ZXIpID0+IE1QQVJlY29yZCA9IChDOiBDaGFyYWN0ZXIgPSBQbGF5ZXIpID0+XG57XG4gICAgcmV0dXJuIEMuTVBBPy5bTW9kdWxlVGl0bGUuVmlydHVhbFBldF0gPz8ge307XG59O1xuXG5jb25zdCBQbGF5ZXJWUEM6IChDPzogQ2hhcmFjdGVyKSA9PiBNUEFSZWNvcmQgPSAoQzogQ2hhcmFjdGVyID0gUGxheWVyKSA9Plxue1xuICAgIHJldHVybiBDLk1QQT8uW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zXSA/PyB7fTtcbn07XG5cbi8qKlxuICogQ2hlY2sgaWYgYSBjb25kaXRpb24gaXMgY3VycmVudGx5IGVuZm9yY2VkLCBjaGVja2luZyBpZiBlbmFibGVkIGFuZCBpZiBpdCByZWxpZXMgb24gYSBWUCBzdGF0LCB0aGF0IHRoZSBzdGF0IGlzIHNldFxuICovXG5mdW5jdGlvbiBDb25kaXRpb25Jc0VuZm9yY2VkKGNvbmRpdGlvbjogc3RyaW5nLCB2cFN0YXROZWVkVG9CZUVuYWJsZWQ/OiBWaXJ0dWFsUGV0U3RhdENhdGVnb3J5KTogYm9vbGVhblxue1xuICAgIGlmICghUGxheWVyVlBDKCkuZW5hYmxlZCB8fCAhKFBsYXllclZQQygpW2NvbmRpdGlvbl0pKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gKCF2cFN0YXROZWVkVG9CZUVuYWJsZWQgfHwgKFBsYXllclZQKCkuZW5hYmxlZCAmJiBQbGF5ZXJWUCgpPy5bYCR7dnBTdGF0TmVlZFRvQmVFbmFibGVkfUhvdXJzYF0gIT09IDApKTtcbn07XG5cbi8qKiBbU2tpbGwsIHBvc3RpdmUgb3IgbmVnYXRpdmUgY29ycmxhdGlvbl0gKi9cbmNvbnN0IEFGRkVDVElPTl9TS0lMTFM6IFtTa2lsbFR5cGUsIGJvb2xlYW5dW10gPVxuW1xuICAgIFtcIlNlbGZCb25kYWdlXCIsIHRydWVdLFxuICAgIFtcIldpbGxwb3dlclwiLCB0cnVlXSxcbiAgICBbXCJCb25kYWdlXCIsIGZhbHNlXSxcbiAgICBbXCJFdmFzaW9uXCIsIGZhbHNlXSxcbiAgICBbXCJMb2NrUGlja2luZ1wiLCBmYWxzZV1cbl07XG5cbmludGVyZmFjZSBPblN0YXRDaGFuZ2VFdmVudFxue1xuICAgIHN0YXQ6IFZpcnR1YWxQZXRTdGF0Q2F0ZWdvcnk7XG4gICAgdGhyZXNoaG9sZDogbnVtYmVyO1xuICAgIGNoYW5nZTogXCJyaXNpbmdcIiB8IFwiZmFsbGluZ1wiIHwgXCJib3RoXCI7XG4gICAgYWN0aW9uOiAoKSA9PiB2b2lkO1xuICAgIGZpcnN0UnVuPzogKCkgPT4gdm9pZDtcbn1cbmNvbnN0IHByZXZpb3VzU3RhdHM6IFJlY29yZDxWaXJ0dWFsUGV0U3RhdENhdGVnb3J5LCBudW1iZXI+ID0ge1xuICAgIGZvb2Q6IC0xLFxuICAgIHdhdGVyOiAtMSxcbiAgICBzbGVlcDogLTEsXG4gICAgYWZmZWN0aW9uOiAtMVxufTtcbmxldCBvblN0YXRMZXZlbDogT25TdGF0Q2hhbmdlRXZlbnRbXSA9IFtdO1xuLy8gTGlzdGVucyBmb3IgY2hhbmdlcyBldmVyeSB+MS41IHNlY29uZHNcbmNvbnN0IFNUQVRfQ09VTlRfTUFYID0gMjUwO1xubGV0IHN0YXRDb3VudCA9IFNUQVRfQ09VTlRfTUFYO1xuZXhwb3J0IGZ1bmN0aW9uIENvbmRpdGlvbkNoZWNrKCk6IHZvaWRcbntcbiAgICAoW1wiZm9vZFwiLCBcIndhdGVyXCIsIFwiYWZmZWN0aW9uXCIsIFwic2xlZXBcIl0gYXMgVmlydHVhbFBldFN0YXRDYXRlZ29yeVtdKS5mb3JFYWNoKChjYXRlZ29yeSkgPT5cbiAgICB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIFBsYXllclZQKCkuZW5hYmxlZFxuICAgICAgICAgICAgJiYgUGxheWVyVlBDKCkuZW5hYmxlZFxuICAgICAgICAgICAgJiYgUGxheWVyVlAoKVtgJHtjYXRlZ29yeX1Ib3Vyc2BdICE9PSAwXG4gICAgICAgIClcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgcHJldlZhbHVlID0gcHJldmlvdXNTdGF0c1tjYXRlZ29yeV07XG4gICAgICAgICAgICBjb25zdCBjdXJyVmFsdWUgPSBHZXRDaGFyYWN0ZXJDdXJyZW50U3RhdFZhbHVlKFBsYXllciwgY2F0ZWdvcnkpO1xuICAgICAgICAgICAgb25TdGF0TGV2ZWwuZm9yRWFjaCgoY2hhbmdlRXZlbnQpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VFdmVudC5zdGF0ID09PSBjYXRlZ29yeVxuICAgICAgICAgICAgICAgICAgICAmJiBwcmV2VmFsdWUgPT09IC0xXG4gICAgICAgICAgICAgICAgICAgICYmICEhY2hhbmdlRXZlbnQuZmlyc3RSdW5cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VFdmVudC5maXJzdFJ1bigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZUV2ZW50LnN0YXQgPT09IGNhdGVnb3J5XG4gICAgICAgICAgICAgICAgICAgICYmIHByZXZWYWx1ZSAhPT0gLTFcbiAgICAgICAgICAgICAgICAgICAgJiYgcHJldlZhbHVlID4gY3VyclZhbHVlIC8vIEZhbGxpbmdcbiAgICAgICAgICAgICAgICAgICAgJiYgY2hhbmdlRXZlbnQuY2hhbmdlICE9PSBcInJpc2luZ1wiXG4gICAgICAgICAgICAgICAgICAgICYmIGN1cnJWYWx1ZSA8PSBjaGFuZ2VFdmVudC50aHJlc2hob2xkXG4gICAgICAgICAgICAgICAgICAgICYmIGNoYW5nZUV2ZW50LnRocmVzaGhvbGQgPCBwcmV2VmFsdWVcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VFdmVudC5hY3Rpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VFdmVudC5zdGF0ID09PSBjYXRlZ29yeVxuICAgICAgICAgICAgICAgICAgICAmJiBwcmV2VmFsdWUgIT09IC0xXG4gICAgICAgICAgICAgICAgICAgICYmIHByZXZWYWx1ZSA8IGN1cnJWYWx1ZSAvLyBSaXNpbmdcbiAgICAgICAgICAgICAgICAgICAgJiYgY2hhbmdlRXZlbnQuY2hhbmdlICE9PSBcImZhbGxpbmdcIlxuICAgICAgICAgICAgICAgICAgICAmJiBwcmV2VmFsdWUgPCBjaGFuZ2VFdmVudC50aHJlc2hob2xkXG4gICAgICAgICAgICAgICAgICAgICYmIGNoYW5nZUV2ZW50LnRocmVzaGhvbGQgPD0gY3VyclZhbHVlXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlRXZlbnQuYWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwcmV2aW91c1N0YXRzW2NhdGVnb3J5XSA9IGN1cnJWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHByZXZpb3VzU3RhdHNbY2F0ZWdvcnldID0gLTE7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuY29uc3QgU0xFRVBfVElOVCA9IHtcbiAgICBzdGF0OiBcInNsZWVwXCIgYXMgVmlydHVhbFBldFN0YXRDYXRlZ29yeSxcbiAgICBzdGFydExldmVsOiAwLjI1LFxuICAgIGVuZExldmVsOiAwLFxuICAgIG1pblRpbnQ6IDAsXG4gICAgbWF4VGludDogMVxufTtcblxubGV0IHBhc3NlZE91dCA9IGZhbHNlO1xuY29uc3QgUEFTU09VVF9UQUxLX1JFUExBQ0U6IHN0cmluZ1tdID0gW1xuICAgIFwiU291cmNlQ2hhcmFjdGVyIGRyb29scyBvdXQgb2YgdGhlIGNvcm5lciBvZiBQcm9ub3VuUG9zc2Vzc2l2ZSBtb3V0aCBhcyBQcm9ub3VuU3ViamVjdCBzbGVlcHMuXCIsXG4gICAgXCJTb3VyY2VDaGFyYWN0ZXIgbXVtYmxlcyBxdWlldGx5IGluIFByb25vdW5Qb3NzZXNzaXZlIHNsdW1iZXIuXCIsXG4gICAgXCJTb3VyY2VDaGFyYWN0ZXIgcmVzdHMgcGVhY2VmdWxseS5cIlxuXTtcbmZ1bmN0aW9uIE1QQVBhc3NvdXQoKTogdm9pZFxue1xuICAgIENoYXJhY3RlclNldEZhY2lhbEV4cHJlc3Npb24oUGxheWVyLCBcIkVtb3RpY29uXCIsIFwiU2xlZXBcIik7XG4gICAgQ2hhcmFjdGVyU2V0RmFjaWFsRXhwcmVzc2lvbihQbGF5ZXIsIFwiRXllc1wiLCBcIkNsb3NlZFwiKTtcbiAgICBDaGFyYWN0ZXJTZXRGYWNpYWxFeHByZXNzaW9uKFBsYXllciwgXCJGbHVpZHNcIiwgXCJEcm9vbE1lZGl1bVwiKTtcbiAgICBpZiAoUGxheWVyLkNhbktuZWVsKCkpXG4gICAge1xuICAgICAgICBQb3NlU2V0QWN0aXZlKFBsYXllciwgXCJLbmVlbFwiLCB0cnVlKTtcbiAgICB9XG4gICAgcGFzc2VkT3V0ID0gdHJ1ZTtcblxuICAgIGNvbnN0IHNsZWVwTW9kdWxlID0gUGxheWVyPy5MU0NHPy5TdGF0ZU1vZHVsZT8uc3RhdGVzPy5maW5kKCh4KSA9PiB4LnR5cGUgPT09IFwiYXNsZWVwXCIpO1xuICAgIGlmIChQbGF5ZXJWUEMoKS5wYXNzb3V0TFNDRyAmJiBzbGVlcE1vZHVsZSlcbiAgICB7XG4gICAgICAgIC8qXG4gICAgICAgIHRoaXMuc3RhdGVNb2R1bGUuU2xlZXBTdGF0ZS5BY3RpdmF0ZSh1bmRlZmluZWQsIHVuZGVmaW5lZCwgZG9FbW90ZSk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3Muc3RhdHMuc2VkYXRlZENvdW50Kys7XG4gICAgICAgIEFjdGl2YXRlKG1lbWJlck51bWJlcj86IG51bWJlciwgZHVyYXRpb24/OiBudW1iZXIsIGVtb3RlPzogYm9vbGVhbik6IEJhc2VTdGF0ZSB8IHVuZGVmaW5lZCB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVtb3RlKVxuICAgICAgICAgICAgICAgICAgICBTZW5kQWN0aW9uKFwiJU5BTUUlIHNsdW1wcyB3ZWFrbHkgYXMgJVBST05PVU4lIHNsaXBzIGludG8gdW5jb25jaW91c25lc3MuXCIpO1xuICAgICAgICAgICAgICAgIHRoaXMuU2V0U2xlZXBFeHByZXNzaW9uKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5GYWxsRG93bklmUG9zc2libGUoKTtcbiAgICAgICAgICAgICAgICBhZGRDdXN0b21FZmZlY3QoUGxheWVyLCBcIkZvcmNlS25lZWxcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN1cGVyLkFjdGl2YXRlKG1lbWJlck51bWJlciwgZHVyYXRpb24sIGVtb3RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBBY3RpdmF0ZShtZW1iZXJOdW1iZXI/OiBudW1iZXIsIGR1cmF0aW9uPzogbnVtYmVyLCBlbW90ZT86IGJvb2xlYW4pOiBCYXNlU3RhdGUgfCB1bmRlZmluZWQge1xuICAgICAgICAgICAgdGhpcy5jb25maWcuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLmFjdGl2YXRlZEF0ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5hY3RpdmF0ZWRCeSA9IG1lbWJlck51bWJlciA/PyAtMTtcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLmFjdGl2YXRpb25Db3VudCsrO1xuICAgICAgICAgICAgdGhpcy5jb25maWcuZHVyYXRpb24gPSBkdXJhdGlvbjtcblxuICAgICAgICAgICAgc2V0dGluZ3NTYXZlKHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgKi9cbiAgICAgICAgY29uc29sZS5sb2coXCJDYWxsaW5nIExTQ0cgcGFzc291dFwiKTtcbiAgICB9XG4gICAgU2VuZEFjdGlvbihcIlNvdXJjZUNoYXJhY3RlciBwYXNzZXMgb3V0IGZyb20gZXhoYXVzdGlvbi5cIiwgdW5kZWZpbmVkLCBbeyBTb3VyY2VDaGFyYWN0ZXI6IFBsYXllci5NZW1iZXJOdW1iZXIgfSBhcyBTb3VyY2VDaGFyYWN0ZXJEaWN0aW9uYXJ5RW50cnldKTtcbn1cbmZ1bmN0aW9uIE1QQVdha2V1cCgpOiB2b2lkXG57XG4gICAgQ2hhcmFjdGVyU2V0RmFjaWFsRXhwcmVzc2lvbihQbGF5ZXIsIFwiRW1vdGljb25cIiwgbnVsbCk7XG4gICAgQ2hhcmFjdGVyU2V0RmFjaWFsRXhwcmVzc2lvbihQbGF5ZXIsIFwiRXllc1wiLCBcIkRhemVkXCIpO1xuICAgIENoYXJhY3RlclNldEZhY2lhbEV4cHJlc3Npb24oUGxheWVyLCBcIkV5ZWJyb3dzXCIsIFwiTG93ZXJlZFwiKTtcblxuICAgIHBhc3NlZE91dCA9IGZhbHNlO1xuICAgIFNlbmRBY3Rpb24oXCJTb3VyY2VDaGFyYWN0ZXIgd2FrZXMgdXAgZnJvbSBQcm9ub3VuUG9zc2Vzc2l2ZSBuYXAuXCIsIHVuZGVmaW5lZCwgW3sgU291cmNlQ2hhcmFjdGVyOiBQbGF5ZXIuTWVtYmVyTnVtYmVyIH0gYXMgU291cmNlQ2hhcmFjdGVyRGljdGlvbmFyeUVudHJ5XSk7XG59XG5mdW5jdGlvbiBQYXNzb3V0Q2hlY2soKTogYm9vbGVhblxue1xuICAgIHJldHVybiAoUGxheWVyVlBDKCkuZW5hYmxlZFxuICAgICAgJiYgUGxheWVyVlAoKS5zbGVlcEhvdXJzICE9PSAwXG4gICAgICAmJiBQbGF5ZXJWUEMoKS5wYXNzb3V0XG4gICAgICAmJiAhUGxheWVyVlBDKCkucGFzc291dExTQ0dcbiAgICAgICYmIHBhc3NlZE91dCk7XG59XG5cbmxldCBhZmZlY3Rpb25DaGVja0ludGVydmFsOiBudW1iZXI7XG5jb25zdCBza2lsbER1cmF0aW9uTVMgPSAxNTAwMDtcbmZ1bmN0aW9uIEFmZmVjdGlvblNraWxsQ2hlY2soKTogdm9pZFxue1xuICAgIGlmIChcbiAgICAgICAgIVBsYXllclZQKCkuZW5hYmxlZFxuICAgICAgICB8fCBQbGF5ZXJWUCgpLmFmZmVjdGlvbkhvdXJzID09PSAwXG4gICAgICAgIHx8ICFQbGF5ZXJWUEMoKS5lbmFibGVkXG4gICAgKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIEFGRkVDVElPTl9TS0lMTFMuZm9yRWFjaCgoW3NraWxsLCB0eXBlXSkgPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IGFmZmVjdGlvbiA9IEdldENoYXJhY3RlckN1cnJlbnRTdGF0VmFsdWUoUGxheWVyLCBcImFmZmVjdGlvblwiKTtcbiAgICAgICAgY29uc3QgYWZmZWN0aW9uTW9kaWZpZXIgPSBNYXRoLnJvdW5kKCgoKGFmZmVjdGlvbikgKiAoNSAtICgtNSkpKSAvICgxKSArICgtNSkpICogKHR5cGUgPyAxIDogLTEpICogMTAwKSAvIDEwMDtcblxuICAgICAgICBjb25zdCBwcmV2TW9kID0gU2tpbGxHZXRNb2RpZmllcihQbGF5ZXIsIHNraWxsKTtcbiAgICAgICAgY29uc3QgZHVyYXRpb24gPSBTa2lsbEdldE1vZGlmaWVyRHVyYXRpb24oUGxheWVyLCBza2lsbCkgIT09IDAgPyBTa2lsbEdldE1vZGlmaWVyRHVyYXRpb24oUGxheWVyLCBza2lsbCkgOiBza2lsbER1cmF0aW9uTVM7XG4gICAgICAgIGlmIChhZmZlY3Rpb25Nb2RpZmllciA+IDAgJiYgUGxheWVyVlBDKCkuYWZmZWN0aW9uU2tpbGxCdWZmcylcbiAgICAgICAge1xuICAgICAgICAgICAgU2tpbGxTZXRNb2RpZmllcihQbGF5ZXIsIHNraWxsLCBwcmV2TW9kICsgYWZmZWN0aW9uTW9kaWZpZXIsIGR1cmF0aW9uLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFmZmVjdGlvbk1vZGlmaWVyIDwgMCAmJiBQbGF5ZXJWUEMoKS5hZmZlY3Rpb25Ta2lsbERlYnVmZnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIFNraWxsU2V0TW9kaWZpZXIoUGxheWVyLCBza2lsbCwgcHJldk1vZCArIGFmZmVjdGlvbk1vZGlmaWVyLCBkdXJhdGlvbiwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmNvbnN0IE1BWF9TTE9XX0xFQVZFX0RVUkFUSU9OX1NFQyA9IDI1O1xuY29uc3QgU0xPV19MRUFWRV9MRVZFTF9TVEFSVCA9IDAuMztcblxuY29uc3QgT1JHQVNNX0FDVElWSVRZX1JFR0VYID0gL09yZ2FzbVswLTldLztcbmNvbnN0IE9SR0FTTV9XQVRFUl9EUkFJTiA9IC0wLjA1O1xuY29uc3QgT1JHQVNNX1NMRUVQX0RSQUlOID0gLTAuMDU7XG5cbmV4cG9ydCBjbGFzcyBWaXJ0dWFsUGV0Q29uZGl0aW9uc01vZHVsZSBleHRlbmRzIE1vZHVsZVxue1xuICAgIGdldCBUaXRsZSgpOiBNb2R1bGVUaXRsZVxuICAgIHtcbiAgICAgICAgcmV0dXJuIE1vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zO1xuICAgIH1cblxuICAgIGdldCBTZXR0aW5ncygpOiBTZXR0aW5nW11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJlbmFibGVkXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCAmJiAhSXNIYXJkY29yZU9uKEMpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJSZWNpdmUgY29uZGl0aW9ucyBiYXNlZCBvbiBjdXJyZW50IGxldmVsIG9mIHlvdXIgdmlydHVhbCBwZXQgc3RhdHNcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImZvb2ROT1dcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkICYmICEhUGxheWVyVlBDKEMpLmVuYWJsZWQgJiYgIUlzSGFyZGNvcmVPbihDKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJGb29kIGFuZCB3YXRlciBhZmZlY3RzIGFmZmVjdGlvbiBnYWluXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJ0aW50XCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCAmJiAhIVBsYXllclZQQyhDKS5lbmFibGVkICYmICFJc0hhcmRjb3JlT24oQyksXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiVmlzaW9uIGRhcmtlbnMgYXMgeW91IGdldCBzbGVlcGllclwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwicGFzc291dFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQgJiYgISFQbGF5ZXJWUEMoQykuZW5hYmxlZCAmJiAhSXNIYXJkY29yZU9uKEMpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIlBhc3NvdXQgd2hlbiBleGhhdXN0ZWRcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIC8qIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInBhc3NvdXRMU0NHXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCAmJiAhIVBsYXllclZQQyhDKS5lbmFibGVkICYmICEhUGxheWVyVlBDKEMpLnBhc3NvdXQgJiYgISFDLkxTQ0cgJiYgIUlzSGFyZGNvcmVPbihDKSAmJiBmYWxzZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiVXNlIExTQ0cgcGFzc291dCBpbnN0ZWFkIG9mIE1QQTsgUmVxdWlyZXMgTFNDR1wiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywgKi8ge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiYWZmZWN0aW9uU2tpbGxCdWZmc1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQgJiYgISFQbGF5ZXJWUEMoQykuZW5hYmxlZCAmJiAhSXNIYXJkY29yZU9uKEMpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkFmZmVjdGlvbiB3aWxsIGJ1ZmYgc2tpbGxzIGJhc2VkIG9uIGl0cyBsZXZlbFwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiYWZmZWN0aW9uU2tpbGxEZWJ1ZmZzXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCAmJiAhIVBsYXllclZQQyhDKS5lbmFibGVkICYmICFJc0hhcmRjb3JlT24oQyksXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWZmZWN0aW9uIHdpbGwgZGVidWZmIHNraWxscyBiYXNlZCBvbiBpdHMgbGV2ZWxcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImhlYXJpbmdMb3NzXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCAmJiAhIVBsYXllclZQQyhDKS5lbmFibGVkICYmICFJc0hhcmRjb3JlT24oQyksXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiSGVhcmluZyBiZWNvbWVzIGhhcmRlciB0aGUgaHVuZ3JpZXIgeW91IGFyZVwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwic2xvd0xlYXZlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCAmJiAhIVBsYXllclZQQyhDKS5lbmFibGVkICYmICFJc0hhcmRjb3JlT24oQyksXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiVGFrZXMgbG9uZ2VyIHRvIGxlYXZlIHRoZSByb29tIHdoZW4gaHVuZ3J5XCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJvcmdhc21XYXRlclwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQgJiYgISFQbGF5ZXJWUEMoQykuZW5hYmxlZCAmJiAhSXNIYXJkY29yZU9uKEMpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIk9yZ2FzbXMgbWFrZSB5b3UgbG9zZSBzb21lIGh5ZHJhdGlvblwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwib3JnYXNtU2xlZXBcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkICYmICEhUGxheWVyVlBDKEMpLmVuYWJsZWQgJiYgIUlzSGFyZGNvcmVPbihDKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJPcmdhc21zIG1ha2UgeW91IGxvc2Ugc29tZSBlbmVyZ3lcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmdcbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBMb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIC8vIENoZWNrIGZvciBjb25kaXRpb24gY2hhbmdlcyBldmVyeSBzbyBvZnRlblxuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJHYW1lUnVuXCIsIDAsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoc3RhdENvdW50ID49IFNUQVRfQ09VTlRfTUFYKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIENvbmRpdGlvbkNoZWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGF0Q291bnQrKztcbiAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBFZXB5IHRpbnRcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiUGxheWVyLkdldFRpbnRzXCIsIDAsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBOb3QgZW5hYmxlZCwgc2tpcFxuICAgICAgICAgICAgaWYgKCFDb25kaXRpb25Jc0VuZm9yY2VkKFwidGludFwiLCBTTEVFUF9USU5ULnN0YXQpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBjdXJyTGV2ZWwgPSBHZXRDaGFyYWN0ZXJDdXJyZW50U3RhdFZhbHVlKFBsYXllciwgU0xFRVBfVElOVC5zdGF0KTtcbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgc2NhbGVkIHZhbHVlXG4gICAgICAgICAgICBjb25zdCBzY2FsZWRWYWx1ZSA9ICgoY3VyckxldmVsIC0gU0xFRVBfVElOVC5zdGFydExldmVsKSAvIChTTEVFUF9USU5ULmVuZExldmVsIC0gU0xFRVBfVElOVC5zdGFydExldmVsKSkgKiAoU0xFRVBfVElOVC5tYXhUaW50IC0gU0xFRVBfVElOVC5taW5UaW50KSArIFNMRUVQX1RJTlQubWluVGludDtcbiAgICAgICAgICAgIGlmIChTTEVFUF9USU5ULm1pblRpbnQgPD0gc2NhbGVkVmFsdWUgJiYgc2NhbGVkVmFsdWUgPD0gU0xFRVBfVElOVC5tYXhUaW50KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpLmNvbmNhdCh7IHI6IDAsIGc6IDAsIGI6IDAsIGE6IE1hdGguc3FydChNYXRoLnJvdW5kKHNjYWxlZFZhbHVlICogMTAwMCkgLyAxMDAwKSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBBZGQgY29uZGl0aW9uIHRyaWdnZXJzXG4gICAgICAgIG9uU3RhdExldmVsID0gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXQ6IFwic2xlZXBcIixcbiAgICAgICAgICAgICAgICB0aHJlc2hob2xkOiAwLFxuICAgICAgICAgICAgICAgIGNoYW5nZTogXCJmYWxsaW5nXCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoKTogdm9pZFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgTVBBUGFzc291dCgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZmlyc3RSdW46IGZ1bmN0aW9uICgpOiB2b2lkXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoR2V0Q2hhcmFjdGVyQ3VycmVudFN0YXRWYWx1ZShQbGF5ZXIsIFwic2xlZXBcIikgPT09IDApXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE1QQVBhc3NvdXQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBzdGF0OiBcInNsZWVwXCIsXG4gICAgICAgICAgICAgICAgdGhyZXNoaG9sZDogMC4xLFxuICAgICAgICAgICAgICAgIGNoYW5nZTogXCJyaXNpbmdcIixcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uICgpOiB2b2lkXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFzc2VkT3V0KVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBNUEFXYWtldXAoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICAgICAgLy8gRWVweVxuXG4gICAgICAgIC8vIFBhc3NvdXQgSG9va3NcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiUGxheWVyLkNhblRhbGtcIiwgNSwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBQYXNzb3V0Q2hlY2soKSA/IGZhbHNlIDogbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIlBsYXllci5DYW5XYWxrXCIsIDUsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gUGFzc291dENoZWNrKCkgPyBmYWxzZSA6IG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJQbGF5ZXIuQ2FuQ2hhbmdlT3duQ2xvdGhlc1wiLCA1LCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIFBhc3NvdXRDaGVjaygpID8gZmFsc2UgOiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiUGxheWVyLkNhbkludGVyYWN0XCIsIDUsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gUGFzc291dENoZWNrKCkgPyBmYWxzZSA6IG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJTZXJ2ZXJTZW5kXCIsIDUsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIVBhc3NvdXRDaGVjaygpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBbdHlwZSwgZGF0YV0gPSBhcmdzIGFzIFtzdHJpbmcsIFNlcnZlckNoYXRSb29tTWVzc2FnZV07XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgdHlwZSA9PSBcIkNoYXRSb29tQ2hhdFwiXG4gICAgICAgICAgICAgICAgJiYgZGF0YT8uVHlwZSA9PSBcIkNoYXRcIlxuICAgICAgICAgICAgICAgICYmICFkYXRhPy5Db250ZW50LnN0YXJ0c1dpdGgoXCIoXCIpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgU2VuZEFjdGlvbihSYW5kb21FbGVtZW50KFBBU1NPVVRfVEFMS19SRVBMQUNFKSBhcyBzdHJpbmcsIHVuZGVmaW5lZCwgW3sgU291cmNlQ2hhcmFjdGVyOiBQbGF5ZXIuTWVtYmVyTnVtYmVyIH0gYXMgU291cmNlQ2hhcmFjdGVyRGljdGlvbmFyeUVudHJ5XSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIlBsYXllci5HZXREZWFmTGV2ZWxcIiwgNSwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBQYXNzb3V0Q2hlY2soKSA/IDQgOiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiUGxheWVyLkdldEJsaW5kTGV2ZWxcIiwgNSwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBQYXNzb3V0Q2hlY2soKSA/IChQbGF5ZXIuR2FtZXBsYXlTZXR0aW5ncz8uU2Vuc0RlcENoYXRMb2cgPT09IFwiU2Vuc0RlcEV4dHJlbWVcIiB8fCBQbGF5ZXIuR2FtZXBsYXlTZXR0aW5ncz8uU2Vuc0RlcENoYXRMb2cgPT09IFwiU2Vuc0RlcFRvdGFsXCIpID8gMyA6IDIgOiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBDYW4ndCBmb2N1cyB3aGlsZSBodW5ncnkgKGRlYWYpXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIlBsYXllci5HZXREZWFmTGV2ZWxcIiwgNSwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGRlYWZMZXZlbCA9IENvbmRpdGlvbklzRW5mb3JjZWQoXCJoZWFyaW5nTG9zc1wiLCBcImZvb2RcIikgPyBNYXRoLm1heCgwLCBNYXRoLmZsb29yKChHZXRDaGFyYWN0ZXJDdXJyZW50U3RhdFZhbHVlKFBsYXllciwgXCJmb29kXCIpIC0gMC4zMDAxKSAqIC0xMCkpIDogMDtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLm1heChkZWFmTGV2ZWwsIG5leHQoYXJncykpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBBZmZlY3Rpb24gYWZmZWN0IHNraWxsc1xuICAgICAgICBpZiAoU2tpbGxNb2RpZmllck1heCA8IDEwKVxuICAgICAgICB7XG4gICAgICAgICAgICBTa2lsbE1vZGlmaWVyTWF4ID0gMTA7XG4gICAgICAgIH1cbiAgICAgICAgQWZmZWN0aW9uU2tpbGxDaGVjaygpO1xuICAgICAgICBhZmZlY3Rpb25DaGVja0ludGVydmFsID0gc2V0SW50ZXJ2YWwoQWZmZWN0aW9uU2tpbGxDaGVjaywgc2tpbGxEdXJhdGlvbk1TICsgMTAwMCk7XG5cbiAgICAgICAgLy8gU2xvdyBsZWF2ZVxuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJDaGF0Um9vbUF0dGVtcHRMZWF2ZVwiLCAwLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCFDb25kaXRpb25Jc0VuZm9yY2VkKFwic2xvd0xlYXZlXCIsIFwiZm9vZFwiKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgcHJldlNsb3cgPSBDaGF0Um9vbVNsb3d0aW1lcjtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJGb29kID0gR2V0Q2hhcmFjdGVyQ3VycmVudFN0YXRWYWx1ZShQbGF5ZXIsIFwiZm9vZFwiKTtcbiAgICAgICAgICAgIG5leHQoYXJncyk7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgcHJldlNsb3cgPT09IDBcbiAgICAgICAgICAgICAgICAmJiBDaGF0Um9vbVNsb3d0aW1lciA+IDBcbiAgICAgICAgICAgICAgICAmJiBjdXJyRm9vZCA8PSBTTE9XX0xFQVZFX0xFVkVMX1NUQVJUXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2xvd2VkU3BlZWQgPSAoKCgtTUFYX1NMT1dfTEVBVkVfRFVSQVRJT05fU0VDIC8gU0xPV19MRUFWRV9MRVZFTF9TVEFSVCkgKiBjdXJyRm9vZCkgKyBNQVhfU0xPV19MRUFWRV9EVVJBVElPTl9TRUMpICogMTAwMDtcbiAgICAgICAgICAgICAgICBDaGF0Um9vbVNsb3d0aW1lciA9IEN1cnJlbnRUaW1lICsgQ2hhdFJvb21TbG93TGVhdmVNaW5UaW1lICsgc2xvd2VkU3BlZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJQbGF5ZXIuSXNTbG93XCIsIDAsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gKENvbmRpdGlvbklzRW5mb3JjZWQoXCJzbG93TGVhdmVcIiwgXCJmb29kXCIpICYmIEdldENoYXJhY3RlckN1cnJlbnRTdGF0VmFsdWUoUGxheWVyLCBcImZvb2RcIikgPD0gU0xPV19MRUFWRV9MRVZFTF9TVEFSVCkgPyB0cnVlIDogbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gT24gb3JnYXNtXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIkNoYXRSb29tTWVzc2FnZVwiLCAxMCwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhcmdzWzBdO1xuICAgICAgICAgICAgaWYgKGRhdGEuVHlwZSAhPT0gXCJBY3Rpdml0eVwiXG4gICAgICAgICAgICAgIHx8ICFPUkdBU01fQUNUSVZJVFlfUkVHRVgudGVzdChkYXRhLkNvbnRlbnQpXG4gICAgICAgICAgICAgIHx8IEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIlNvdXJjZUNoYXJhY3RlclwiKSAhPT0gUGxheWVyLk1lbWJlck51bWJlcilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKFBsYXllclZQQygpLm9yZ2FzbVdhdGVyKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIE1vZGlmeVN0YXQoXCJ3YXRlclwiLCBPUkdBU01fV0FURVJfRFJBSU4sIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKFBsYXllclZQQygpLm9yZ2FzbVNsZWVwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIE1vZGlmeVN0YXQoXCJzbGVlcFwiLCBPUkdBU01fU0xFRVBfRFJBSU4sIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIFVubG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5VbmxvYWQoKTtcbiAgICAgICAgb25TdGF0TGV2ZWwgPSBbXTtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChhZmZlY3Rpb25DaGVja0ludGVydmFsKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBIb29rRnVuY3Rpb24gfSBmcm9tIFwiLi4vdXRpbC9zZGtcIjtcbmltcG9ydCB7IElzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAgfSBmcm9tIFwiLi4vdXRpbC9hdXRob3JpdHlcIjtcbmltcG9ydCB7IE1vZHVsZSwgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi9fbW9kdWxlXCI7XG5pbXBvcnQgeyBHZXRDaGFyYWN0ZXJDdXJyZW50U3RhdFZhbHVlLCBWaXJ0dWFsUGV0U3RhdENhdGVnb3J5LCB0eXBlIFZpcnR1YWxQZXRTdGF0IH0gZnJvbSBcIi4vdmlydHVhbFBldFwiO1xuXG5jb25zdCBQbGF5ZXJWUDogKCkgPT4gTVBBUmVjb3JkID0gKCkgPT5cbntcbiAgICByZXR1cm4gUGxheWVyLk1QQVtNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XTtcbn07XG5jb25zdCBQbGF5ZXJWUEhVRDogKCkgPT4gTVBBUmVjb3JkID0gKCkgPT5cbntcbiAgICByZXR1cm4gUGxheWVyLk1QQVtNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0SFVEXTtcbn07XG5cbmNvbnN0IFZQX1NUQVRfQ09MT1JfRElDVCA9IHtcbiAgICBmb29kOiBcIiNmMmJiMThcIixcbiAgICB3YXRlcjogXCIjMmE5ZmMzXCIsXG4gICAgc2xlZXA6IFwiIzhkMmFlZVwiLFxuICAgIGFmZmVjdGlvbjogXCIjZmY3OGYyXCJcbn07XG5cbmZ1bmN0aW9uIERyYXdTdGF0Q2lyY2xlKHg6IG51bWJlciwgeTogbnVtYmVyLCByYWRpdXM6IG51bWJlciwgc3RhdDogVmlydHVhbFBldFN0YXQpOiB2b2lkXG57XG4gICAgY29uc3QgY29sb3IgPSBWUF9TVEFUX0NPTE9SX0RJQ1Rbc3RhdC5zdGF0XTtcblxuICAgIC8vIE91dGVyIGNpcmNsZVxuICAgIE1haW5DYW52YXMuYmVnaW5QYXRoKCk7XG4gICAgTWFpbkNhbnZhcy5hcmMoXG4gICAgICAgIHgsXG4gICAgICAgIHksXG4gICAgICAgIHJhZGl1cyxcbiAgICAgICAgMCxcbiAgICAgICAgMiAqIE1hdGguUEksXG4gICAgICAgIHRydWVcbiAgICApO1xuICAgIE1haW5DYW52YXMubGluZVdpZHRoID0gcmFkaXVzIC8gODtcbiAgICBNYWluQ2FudmFzLnN0cm9rZVN0eWxlID0gY29sb3I7XG4gICAgTWFpbkNhbnZhcy5zdHJva2UoKTtcblxuICAgIC8vIElubmVyIGFyY1xuICAgIE1haW5DYW52YXMuYmVnaW5QYXRoKCk7XG4gICAgTWFpbkNhbnZhcy5hcmMoXG4gICAgICAgIHgsXG4gICAgICAgIHksXG4gICAgICAgIHJhZGl1cyxcbiAgICAgICAgLU1hdGguUEkgLyAyLFxuICAgICAgICAoMiAqIE1hdGguUEkgKiAtc3RhdC5sZXZlbCkgLSAoTWF0aC5QSSAvIDIpLFxuICAgICAgICB0cnVlXG4gICAgKTtcbiAgICBNYWluQ2FudmFzLmxpbmVUbyh4LCB5KTtcbiAgICBNYWluQ2FudmFzLmZpbGxTdHlsZSA9IGNvbG9yO1xuICAgIE1haW5DYW52YXMuZmlsbCgpO1xuXG4gICAgLy8gRGlzcGxheSB0aGUgdGV4dFxuICAgIGlmIChQbGF5ZXJWUEhVRCgpLmV4YWN0U3RhdHMpXG4gICAge1xuICAgICAgICBNYWluQ2FudmFzLmZpbGxTdHlsZSA9IFwiIzAwMDAwMFwiO1xuICAgICAgICBNYWluQ2FudmFzLmZvbnQgPSBDb21tb25HZXRGb250KHJhZGl1cyAqIDEuMjUpO1xuICAgICAgICBNYWluQ2FudmFzLmZpbGxUZXh0KE1hdGgucm91bmQoc3RhdC5sZXZlbCAqIDEwMCkudG9TdHJpbmcoKSwgeCwgeSArIChyYWRpdXMgKiAwLjEyNSkpO1xuICAgICAgICAvLyBEZWZhdWx0IHNpemUsIGlkayBpZiBuZWVkZWQgYnV0IGNhbid0IGh1cnRcbiAgICAgICAgTWFpbkNhbnZhcy5mb250ID0gQ29tbW9uR2V0Rm9udCgzNik7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBEcmF3VmlydWFsUGV0SHVkKHg6IG51bWJlciwgeTogbnVtYmVyLCB6b29tOiBudW1iZXIsIHN0YXRzOiBWaXJ0dWFsUGV0U3RhdFtdKTogdm9pZFxue1xuICAgIGNvbnN0IHBvczogXCJMZWZ0XCIgfCBcIkNlbnRlclwiIHwgXCJSaWdodFwiIHwgXCJTcGxpdFwiID0gUGxheWVyVlBIVUQoKS5wb3NpdGlvbjtcbiAgICBpZiAocG9zID09PSBcIkxlZnRcIiB8fCBwb3MgPT09IFwiUmlnaHRcIilcbiAgICB7XG4gICAgICAgIHN0YXRzLnJldmVyc2UoKTtcbiAgICAgICAgc3RhdHMuZm9yRWFjaCgoc3RhdCwgaW5kZXgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIERyYXdTdGF0Q2lyY2xlKFxuICAgICAgICAgICAgICAgIHggKyAoKHBvcyA9PT0gXCJMZWZ0XCIgPyA4MCA6IDQyMCkgKiB6b29tKSxcbiAgICAgICAgICAgICAgICB5ICsgKDk1MCAtIChpbmRleCAqIDM2KSkgKiB6b29tLFxuICAgICAgICAgICAgICAgIDE2ICogem9vbSxcbiAgICAgICAgICAgICAgICBzdGF0XG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAocG9zID09PSBcIkNlbnRlclwiKVxuICAgIHtcbiAgICAgICAgY29uc3Qgc3RhdExlbiA9IHN0YXRzLmxlbmd0aDtcbiAgICAgICAgc3RhdHMuZm9yRWFjaCgoc3RhdCwgaW5kZXgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIERyYXdTdGF0Q2lyY2xlKFxuICAgICAgICAgICAgICAgIHggKyAoMjUwIC0gKChzdGF0TGVuIC0gMSkgKiAxOCkgKyAoaW5kZXggKiAzNikpICogem9vbSxcbiAgICAgICAgICAgICAgICB5ICsgKDk1MCAqIHpvb20pLFxuICAgICAgICAgICAgICAgIDE2ICogem9vbSxcbiAgICAgICAgICAgICAgICBzdGF0XG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gUHJvYmFibHkgYSBiZXR0ZXIgd2F5IHRvIGRvIHRoaXMsIGJ1dCBJIGRvbid0IGNhcmUuIEl0IHdvcmtzIHRoYXRzIGFsbCBJIG5lZWQuXG4gICAgZWxzZSBpZiAocG9zID09PSBcIlNwbGl0XCIpXG4gICAge1xuICAgICAgICBjb25zdCBjb2xzOiBWaXJ0dWFsUGV0U3RhdFtdW10gPSBbXTtcbiAgICAgICAgc3dpdGNoIChzdGF0cy5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBjb2xzLnB1c2goW3N0YXRzWzBdXSk7XG4gICAgICAgICAgICAgICAgY29scy5wdXNoKFtdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBjb2xzLnB1c2goW3N0YXRzWzBdXSk7XG4gICAgICAgICAgICAgICAgY29scy5wdXNoKFtzdGF0c1sxXV0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIGNvbHMucHVzaChbc3RhdHNbMV0sIHN0YXRzWzBdXSk7XG4gICAgICAgICAgICAgICAgY29scy5wdXNoKFtzdGF0c1syXV0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIGNvbHMucHVzaChbc3RhdHNbMV0sIHN0YXRzWzBdXSk7XG4gICAgICAgICAgICAgICAgY29scy5wdXNoKFtzdGF0c1szXSwgc3RhdHNbMl1dKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgIH1cbiAgICAgICAgY29scy5mb3JFYWNoKChjb2wsIGluZGV4KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb2wuZm9yRWFjaCgoc3RhdCwgc3RhdEluZGV4KSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIERyYXdTdGF0Q2lyY2xlKFxuICAgICAgICAgICAgICAgICAgICB4ICsgKChpbmRleCA9PSAwID8gODAgOiA0MjApICogem9vbSksXG4gICAgICAgICAgICAgICAgICAgIHkgKyAoOTUwIC0gKHN0YXRJbmRleCAqIDM2KSkgKiB6b29tLFxuICAgICAgICAgICAgICAgICAgICAxNiAqIHpvb20sXG4gICAgICAgICAgICAgICAgICAgIHN0YXRcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFZpcnR1YWxQZXRIVURNb2R1bGUgZXh0ZW5kcyBNb2R1bGVcbntcbiAgICBnZXQgVGl0bGUoKTogTW9kdWxlVGl0bGVcbiAgICB7XG4gICAgICAgIHJldHVybiBNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0SFVEO1xuICAgIH1cblxuICAgIGdldCBTZXR0aW5ncygpOiBTZXR0aW5nW11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJzZWxmXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gISFQbGF5ZXJWUCgpLmVuYWJsZWQsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiRGlzcGxheSB5b3VyIG93biB2aXJ0dWFsIHBldCBzdGF0cyBvbiB0aGUgSFVEXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJleGFjdFN0YXRzXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gISFQbGF5ZXJWUCgpLmVuYWJsZWQgfHwgUGxheWVyVlBIVUQoKS5vdGhlcnMgIT09IFwiT2ZmXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkRpc3BsYXkgdGhlIGV4YWN0IG51bWJlciBwZXJjZW50YWdlIG9uIHRoZSBIVURcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInBvc2l0aW9uXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJvcHRpb25cIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+ICEhUGxheWVyVlAoKS5lbmFibGVkIHx8IFBsYXllclZQSFVEKCkub3RoZXJzICE9PSBcIk9mZlwiLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IFtcIkxlZnRcIiwgXCJDZW50ZXJcIiwgXCJSaWdodFwiLCBcIlNwbGl0XCJdLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIkxlZnRcIixcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJXaGVyZSB0byBkaXNwbGF5IHRoZSBIVURcIixcbiAgICAgICAgICAgICAgICBsb29wOiB0cnVlXG4gICAgICAgICAgICB9IGFzIE9wdGlvblNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIm90aGVyc1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwib3B0aW9uXCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IFtcIk9mZlwiLCBcIlB1YmxpY1wiLCBcIkZyaWVuZHNcIiwgXCJXaGl0ZWxpc3RcIiwgXCJMb3ZlcnNcIiwgXCJPd25lcnNcIiwgXCJEL3MgRmFtaWx5XCIsIFwiQ2x1Ym93bmVyXCJdLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIkZyaWVuZHNcIixcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJEaXNwbGF5IHRoZSB2aXJ0dWFsIHBldCBzdGF0cyBvZiBvdGhlcnMgb24gdGhlIEhVRFwiLFxuICAgICAgICAgICAgICAgIGxvb3A6IGZhbHNlXG4gICAgICAgICAgICB9IGFzIE9wdGlvblNldHRpbmdcbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBMb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIkRyYXdBcm91c2FsTWV0ZXJcIiwgMSwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IFtjaGFyYWN0ZXIsIHgsIHksIHpvb21dID0gYXJncztcbiAgICAgICAgICAgIC8vIEdldCBjaGFyYWN0ZXIgc3RhdHMgd2hlbiBzdXBwb3J0IGZvciBtdWx0cGxheWVyXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgIUFjdGl2aXR5QWxsb3dlZCgpXG4gICAgICAgICAgICAgICAgfHwgKGNoYXJhY3Rlci5Jc1BsYXllcigpICYmICghUGxheWVyVlBIVUQoKS5zZWxmIHx8ICFQbGF5ZXJWUCgpLmVuYWJsZWQpKVxuICAgICAgICAgICAgICAgIHx8ICghY2hhcmFjdGVyLklzUGxheWVyKCkgJiYgUGxheWVyVlBIVUQoKS5vdGhlcnMgPT09IFwiT2ZmXCIpXG4gICAgICAgICAgICAgICAgfHwgKCFjaGFyYWN0ZXIuSXNQbGF5ZXIoKSAmJiAhSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cChjaGFyYWN0ZXIuTWVtYmVyTnVtYmVyIGFzIG51bWJlciwgUGxheWVyVlBIVUQoKS5vdGhlcnMpKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBHZXQgdGhlIHN0YXRzIGZvciB0aGUgY2hhcmFjdGVyLCBub3QganVzdCB0aGUgcGxheWVyXG4gICAgICAgICAgICBjb25zdCBjaGFyYWN0ZXJWUFN0YXRzID0gY2hhcmFjdGVyPy5NUEE/LltNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XTtcbiAgICAgICAgICAgIGlmICghY2hhcmFjdGVyVlBTdGF0cz8uZW5hYmxlZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3Qgc3RhdHM6IFZpcnR1YWxQZXRTdGF0W10gPSBbXTtcbiAgICAgICAgICAgIChbXCJmb29kXCIsIFwid2F0ZXJcIiwgXCJzbGVlcFwiLCBcImFmZmVjdGlvblwiXSBhcyBWaXJ0dWFsUGV0U3RhdENhdGVnb3J5W10pLmZvckVhY2goKHN0YXQpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGNoYXJhY3RlclZQU3RhdHNbYCR7c3RhdH1Ib3Vyc2BdICE9PSAwKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0OiBzdGF0LFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZWw6IEdldENoYXJhY3RlckN1cnJlbnRTdGF0VmFsdWUoY2hhcmFjdGVyLCBzdGF0KVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChzdGF0cy5sZW5ndGggIT09IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgRHJhd1ZpcnVhbFBldEh1ZCh4LCB5LCB6b29tLCBzdGF0cyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBVbmxvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3VwZXIuVW5sb2FkKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgTG9jYWxpemVkVGV4dCB9IGZyb20gXCIuLi9sb2NhbGl6YXRpb24vbG9jYWxpemF0aW9uXCI7XG5pbXBvcnQgeyBBQ1RJVklUWV9OQU1FX1BSRUZJWCB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuXG4vKiogU3RvcmVzIHRoZSBhY3Rpdml0eSBuYW1lIGFuZCB0aGUgaW1hZ2UgbG9jYXRpb24gb3IgYmFzZSA2NCBpbWFnZSBmb3IgdGhhdCBhY3Rpdml0eSAqL1xuZXhwb3J0IGNvbnN0IGFjdGl2aXR5SW1hZ2VzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4vKiogV2hlbiBhbiBhY3Rpdml0eSBpcyB1c2VkIGJ5IHRoZSBQbGF5ZXIsIHJ1biB0aGlzIGNhbGxiYWNrIGZ1bmN0aW9uICovXG5leHBvcnQgY29uc3QgYWN0aXZpdHlUcmlnZ2VyczogUmVjb3JkPHN0cmluZywgQWNpdGl2aXR5VHJpZ2dlcj4gPSB7fTtcbi8qKiBDdXN0b20gcHJlcmVxdWlzaXRlcyBmb3IgYWN0aXZpdGllcyAqL1xuZXhwb3J0IGNvbnN0IGFjdGl2aXR5UHJlcmVxdWlzaXRlczogUmVjb3JkPHN0cmluZywgUHJlcmVxdWlzaXRlPiA9IHt9O1xuLyoqIFdoZW4gYW4gYWN0aXZpdHkgaGFwcGVucywgcnVuIHRoaXMgY2FsbGJhY2sgZnVuY3Rpb24gKi9cbmV4cG9ydCBjb25zdCBhY3Rpdml0eVJlY2VpdmVkOiBSZWNvcmQ8c3RyaW5nLCBBY3Rpdml0eVJlY2VpdmVkPiA9IHt9O1xuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBjdXN0b20gYWN0aXZpdHkgZm9yIHRoZSBQbGF5ZXIgdG8gdXNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBDcmVhdGVBY3Rpdml0eShjdXN0b21BY3Rpdml0eTogQ3VzdG9tQWN0aXZpdHkpOiB2b2lkXG57XG4gICAgLy8gQ3JlYXRlIHRoZSBhY3Rpdml0eSBCQyB1c2VzXG4gICAgY29uc3QgYWN0aXZpdHk6IEFjdGl2aXR5ID0ge1xuICAgICAgICBOYW1lOiBgJHtBQ1RJVklUWV9OQU1FX1BSRUZJWH0ke2N1c3RvbUFjdGl2aXR5Lk5hbWV9YCBhcyBBY3Rpdml0eU5hbWUsXG4gICAgICAgIEFjdGl2aXR5SUQ6IE1hdGgubWF4KC4uLkFjdGl2aXR5RmVtYWxlM0RDRy5tYXAoKHgpID0+IHguQWN0aXZpdHlJRCA/PyAtMSkpICsgMSxcbiAgICAgICAgTWF4UHJvZ3Jlc3M6IGN1c3RvbUFjdGl2aXR5Lk1heFByb2dyZXNzID8/IDUwLFxuICAgICAgICAvLyBNYXhQcm9ncmVzc1NlbGY6IGN1c3RvbUFjdGl2aXR5Lk1heFByb2dyZXNzU2VsZiA/PyBjdXN0b21BY3Rpdml0eS5NYXhQcm9ncmVzcyxcbiAgICAgICAgUHJlcmVxdWlzaXRlOiBjdXN0b21BY3Rpdml0eS5QcmVyZXF1aXNpdGUsXG4gICAgICAgIFRhcmdldDogW11cbiAgICB9O1xuXG4gICAgLy8gQWRkIGN1c3RvbSBhY3Rpdml0ZXMgdG8gdGhlIHJlY29yZCBmb3IgY2hlY2tpbmcgd2hlbiBhbiBhY3Rpdml0eSBpcyBjYWxsZWQgbGF0ZXJcbiAgICBpZiAoY3VzdG9tQWN0aXZpdHkuQ3VzdG9tUHJlcmVxdWlzaXRlKVxuICAgIHtcbiAgICAgICAgbGV0IGN1c3RvbVByZXJlcXVpc2l0ZXMgPSBjdXN0b21BY3Rpdml0eS5DdXN0b21QcmVyZXF1aXNpdGU7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShjdXN0b21QcmVyZXF1aXNpdGVzKSlcbiAgICAgICAge1xuICAgICAgICAgICAgY3VzdG9tUHJlcmVxdWlzaXRlcyA9IFtjdXN0b21QcmVyZXF1aXNpdGVzXTtcbiAgICAgICAgfVxuICAgICAgICBjdXN0b21QcmVyZXF1aXNpdGVzLmZvckVhY2goKG5ld1ByZXJlcXVpc2l0ZSkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgYWN0aXZpdHkuUHJlcmVxdWlzaXRlLnB1c2gobmV3UHJlcmVxdWlzaXRlLk5hbWUgYXMgQWN0aXZpdHlQcmVyZXF1aXNpdGUpO1xuICAgICAgICAgICAgaWYgKCEobmV3UHJlcmVxdWlzaXRlLk5hbWUgaW4gYWN0aXZpdHlQcmVyZXF1aXNpdGVzKVxuICAgICAgICAgICAgICAmJiBuZXdQcmVyZXF1aXNpdGUuUHJlcmVxdWlzaXRlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGFjdGl2aXR5UHJlcmVxdWlzaXRlc1tuZXdQcmVyZXF1aXNpdGUuTmFtZV0gPSBuZXdQcmVyZXF1aXNpdGUuUHJlcmVxdWlzaXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBUaGUgbG9va3VwIHRhYmxlIGZvciB0aGUgYWN0aXZpdHlcbiAgICBjdXN0b21BY3Rpdml0eS5UYXJnZXRzLmZvckVhY2goKHRhcmdldCkgPT5cbiAgICB7XG4gICAgICAgIC8vIEFjaXRpdml0eSBjYW4gYmUgdXNlZCBvbiBzZWxmXG4gICAgICAgIGlmICh0YXJnZXQuYWN0aW9uU2VsZilcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCFhY3Rpdml0eS5UYXJnZXRTZWxmKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGFjdGl2aXR5LlRhcmdldFNlbGYgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIChhY3Rpdml0eS5UYXJnZXRTZWxmIGFzIEFzc2V0R3JvdXBJdGVtTmFtZVtdKT8ucHVzaCh0YXJnZXQuZ3JvdXApO1xuICAgICAgICAgICAgQWN0aXZpdHlEaWN0aW9uYXJ5Py5wdXNoKFtgTGFiZWwtQ2hhdFNlbGYtJHt0YXJnZXQuZ3JvdXB9LSR7YWN0aXZpdHkuTmFtZX1gLCBMb2NhbGl6ZWRUZXh0KHRhcmdldC5sYWJlbCldKTtcbiAgICAgICAgICAgIEFjdGl2aXR5RGljdGlvbmFyeT8ucHVzaChbYENoYXRTZWxmLSR7dGFyZ2V0Lmdyb3VwfS0ke2FjdGl2aXR5Lk5hbWV9YCwgTG9jYWxpemVkVGV4dCh0YXJnZXQuYWN0aW9uU2VsZildKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFjdGl2aXR5IGNhbiBiZSB1c2VkIG9uIG90aGVyc1xuICAgICAgICBpZiAodGFyZ2V0LmFjdGlvbk90aGVycylcbiAgICAgICAge1xuICAgICAgICAgICAgYWN0aXZpdHkuVGFyZ2V0LnB1c2godGFyZ2V0Lmdyb3VwKTtcbiAgICAgICAgICAgIEFjdGl2aXR5RGljdGlvbmFyeT8ucHVzaChbYExhYmVsLUNoYXRPdGhlci0ke3RhcmdldC5ncm91cH0tJHthY3Rpdml0eS5OYW1lfWAsIExvY2FsaXplZFRleHQodGFyZ2V0LmxhYmVsKV0pO1xuICAgICAgICAgICAgQWN0aXZpdHlEaWN0aW9uYXJ5Py5wdXNoKFtgQ2hhdE90aGVyLSR7dGFyZ2V0Lmdyb3VwfS0ke2FjdGl2aXR5Lk5hbWV9YCwgTG9jYWxpemVkVGV4dCh0YXJnZXQuYWN0aW9uT3RoZXJzKV0pO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBJbWFnZSB0aGUgYWN0aXZpdHkgd2lsbCB1c2VcbiAgICBhY3Rpdml0eUltYWdlc1thY3Rpdml0eS5OYW1lXSA9IGN1c3RvbUFjdGl2aXR5LkltYWdlO1xuXG4gICAgLy8gT24gYWN0aXZpdHkgdHJpZ2dlciBzdXBwb3J0XG4gICAgaWYgKGN1c3RvbUFjdGl2aXR5Lk9uVHJpZ2dlcilcbiAgICB7XG4gICAgICAgIGFjdGl2aXR5VHJpZ2dlcnNbYWN0aXZpdHkuTmFtZV0gPSBjdXN0b21BY3Rpdml0eS5PblRyaWdnZXI7XG4gICAgfVxuXG4gICAgLy8gT24gYWN0aXZpdHkgcmVjaWV2ZWQgc3VwcG9ydFxuICAgIGlmIChjdXN0b21BY3Rpdml0eS5PblJlY2VpdmUpXG4gICAge1xuICAgICAgICBhY3Rpdml0eVJlY2VpdmVkW2FjdGl2aXR5Lk5hbWVdID0gY3VzdG9tQWN0aXZpdHkuT25SZWNlaXZlO1xuICAgIH1cblxuICAgIEFjdGl2aXR5RmVtYWxlM0RDRy5wdXNoKGFjdGl2aXR5KTtcbiAgICBBY3Rpdml0eUZlbWFsZTNEQ0dPcmRlcmluZy5wdXNoKGFjdGl2aXR5Lk5hbWUpO1xufVxuXG4vKipcbiAqIENyZWF0ZSBtYW55IGN1c3RvbSBhY3Rpdml0aWVzIGZvciB0aGUgUGxheWVyIHRvIHVzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gQ3JlYXRlQWN0aXZpdGllcyhjdXN0b21BY3Rpdml0aWVzOiBDdXN0b21BY3Rpdml0eVtdKTogdm9pZFxue1xuICAgIGN1c3RvbUFjdGl2aXRpZXMuZm9yRWFjaCgoYWN0aXZpdHkpID0+XG4gICAge1xuICAgICAgICBDcmVhdGVBY3Rpdml0eShhY3Rpdml0eSk7XG4gICAgfSk7XG59XG5cbi8qKlxuICogUmVtb3ZlIGFjdGl2aXR5LCBkaXNhbGxvd2luZyB0aGUgUGxheWVyIHRvIHVzZSBpdFxuICogQHBhcmFtIGN1c3RvbUFjdGl2aXR5IC0gT25seSBOYW1lIGFuZCBUYXJnZXRzIG1hdHRlciBmb3IgdGhpcyBmdW5jdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gUmVtb3ZlQWN0aXZpdHkoY3VzdG9tQWN0aXZpdHk6IEN1c3RvbUFjdGl2aXR5KTogdm9pZFxue1xuICAgIGNvbnN0IGFjdGl2aXR5TmFtZSA9IGAke0FDVElWSVRZX05BTUVfUFJFRklYfSR7Y3VzdG9tQWN0aXZpdHkuTmFtZX1gO1xuXG4gICAgLy8gVGhlIGxvb2t1cCB0YWJsZSBmb3IgdGhlIGFjdGl2aXR5XG4gICAgY3VzdG9tQWN0aXZpdHkuVGFyZ2V0cy5mb3JFYWNoKCh0YXJnZXQpID0+XG4gICAge1xuICAgICAgICAvLyBBY2l0aXZpdHkgY2FuIGJlIHVzZWQgb24gc2VsZlxuICAgICAgICBpZiAodGFyZ2V0LmFjdGlvblNlbGYpXG4gICAgICAgIHtcbiAgICAgICAgICAgIEFjdGl2aXR5RGljdGlvbmFyeSA9IEFjdGl2aXR5RGljdGlvbmFyeT8uZmlsdGVyKCh4KSA9PiAhKHhbMF0gPT09IGBMYWJlbC1DaGF0U2VsZi0ke3RhcmdldC5ncm91cH0tJHthY3Rpdml0eU5hbWV9YCB8fCB4WzBdID09PSBgQ2hhdFNlbGYtJHt0YXJnZXQuZ3JvdXB9LSR7YWN0aXZpdHlOYW1lfWApKSA/PyBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWN0aXZpdHkgY2FuIGJlIHVzZWQgb24gb3RoZXJzXG4gICAgICAgIGlmICh0YXJnZXQuYWN0aW9uT3RoZXJzKVxuICAgICAgICB7XG4gICAgICAgICAgICBBY3Rpdml0eURpY3Rpb25hcnkgPSBBY3Rpdml0eURpY3Rpb25hcnk/LmZpbHRlcigoeCkgPT4gISh4WzBdID09PSBgTGFiZWwtQ2hhdE90aGVyLSR7dGFyZ2V0Lmdyb3VwfS0ke2FjdGl2aXR5TmFtZX1gIHx8IHhbMF0gPT09IGBDaGF0T3RoZXItJHt0YXJnZXQuZ3JvdXB9LSR7YWN0aXZpdHlOYW1lfWApKSA/PyBudWxsO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBJbWFnZSB0aGUgYWN0aXZpdHkgd2lsbCB1c2VcbiAgICBkZWxldGUgYWN0aXZpdHlJbWFnZXNbYWN0aXZpdHlOYW1lXTtcblxuICAgIC8vIE9uIGFjdGl2aXR5IHRyaWdnZXIgc3VwcG9ydFxuICAgIGRlbGV0ZSBhY3Rpdml0eVRyaWdnZXJzW2FjdGl2aXR5TmFtZV07XG5cbiAgICAvLyBEb25lXG4gICAgQWN0aXZpdHlGZW1hbGUzRENHID0gQWN0aXZpdHlGZW1hbGUzRENHLmZpbHRlcigoeCkgPT4geC5OYW1lICE9PSBhY3Rpdml0eU5hbWUpO1xuICAgIEFjdGl2aXR5RmVtYWxlM0RDR09yZGVyaW5nID0gQWN0aXZpdHlGZW1hbGUzRENHT3JkZXJpbmcuZmlsdGVyKCh4KSA9PiB4ICE9PSBhY3Rpdml0eU5hbWUpO1xufVxuXG4vKipcbiAqIFJlbW92ZSBhY3Rpdml0aWVzLCBkaXNhbGxvd2luZyB0aGUgUGxheWVyIHRvIHVzZSB0aGVtXG4gKiBAcGFyYW0gY3VzdG9tQWN0aXZpdHkgLSBPbmx5IE5hbWUgYW5kIFRhcmdldHMgbWF0dGVyIGZvciB0aGlzIGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBSZW1vdmVBY3Rpdml0aWVzKGN1c3RvbUFjdGl2aXRpZXM6IEN1c3RvbUFjdGl2aXR5W10pOiB2b2lkXG57XG4gICAgY3VzdG9tQWN0aXZpdGllcy5mb3JFYWNoKChhY3Rpdml0eSkgPT5cbiAgICB7XG4gICAgICAgIFJlbW92ZUFjdGl2aXR5KGFjdGl2aXR5KTtcbiAgICB9KTtcbn1cbiIsImltcG9ydCB7IE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4uL21vZHVsZXMvX21vZHVsZVwiO1xuaW1wb3J0IHsgRmluZENoYXJhY3RlckluUm9vbSB9IGZyb20gXCIuL21lc3NhZ2luZ1wiO1xuXG5leHBvcnQgY29uc3QgQVVUSE9SSVRZX0dST1VQX09QVElPTlM6IEF1dGhvcml0eUdyb3VwW10gPSBbXG4gICAgXCJQdWJsaWNcIixcbiAgICBcIkZyaWVuZHNcIixcbiAgICBcIldoaXRlbGlzdFwiLFxuICAgIFwiTG92ZXJzXCIsXG4gICAgXCJPd25lcnNcIixcbiAgICBcIkNsdWJvd25lclwiLFxuICAgIFwiU2VsZlwiXG5dO1xuXG5jb25zdCBBVVRIT1JJVFlfR1JPVVBfUFJJT19PUkRFUjogQXV0aG9yaXR5R3JvdXBbXSA9IFtcbiAgICBcIk5vbmVcIixcbiAgICBcIlB1YmxpY1wiLFxuICAgIFwiRnJpZW5kc1wiLFxuICAgIFwiV2hpdGVsaXN0XCIsXG4gICAgXCJMb3ZlcnNcIixcbiAgICBcIk93bmVyc1wiLFxuICAgIFwiRC9zIEZhbWlseVwiLFxuICAgIFwiQ2x1Ym93bmVyXCIsXG4gICAgXCJTZWxmXCJcbl07XG5cbmNvbnN0IExvdmVycyA9IChDOiBDaGFyYWN0ZXIpID0+IChDLkxvdmVyc2hpcD8uZmlsdGVyKCh4KSA9PiB4Lk1lbWJlck51bWJlcikubWFwKChsb3ZlcikgPT4gbG92ZXIuTWVtYmVyTnVtYmVyKSA/PyBbXSkgYXMgbnVtYmVyW107XG5leHBvcnQgY29uc3QgQVVUSE9SSVRZX0dST1VQUyA9XG57XG4gICAgU2VsZjogKEM6IENoYXJhY3RlcikgPT4gW0MuTWVtYmVyTnVtYmVyID8/IC0xXSxcbiAgICBDbHVib3duZXI6IChDOiBDaGFyYWN0ZXIpID0+IEM/Lk93bmVyc2hpcD8uTWVtYmVyTnVtYmVyID8gW0M/Lk93bmVyc2hpcD8uTWVtYmVyTnVtYmVyXSA6IFtdLFxuICAgIE93bmVyczogZnVuY3Rpb24gKEM6IENoYXJhY3Rlcik6IG51bWJlcltdXG4gICAge1xuICAgICAgICBjb25zdCBvd25lcnMgPSAoKEMuTVBBPy5bTW9kdWxlVGl0bGUuQXV0aG9yaXR5XT8ub3duZXJzIGFzIHN0cmluZykgPz8gXCJcIikuc3BsaXQoXCIsXCIpLm1hcCgodmFsKSA9PiBwYXJzZUludCh2YWwpKS5maWx0ZXIoKG51bSkgPT4gIWlzTmFOKG51bSkpO1xuICAgICAgICByZXR1cm4gb3duZXJzLmxlbmd0aCA9PT0gMCA/IFtdIDogb3duZXJzO1xuICAgIH0sXG4gICAgTG92ZXJzOiBMb3ZlcnMsXG4gICAgV2hpdGVMaXN0OiAoQzogQ2hhcmFjdGVyKSA9PiBDLldoaXRlTGlzdCA/PyBbXSxcbiAgICBGcmllbmRMaXN0OiAoKSA9PiBQbGF5ZXIuRnJpZW5kTGlzdCA/PyBbXVxufTtcblxuZXhwb3J0IHR5cGUgQXV0aG9yaXR5R3JvdXAgPSBcIlNlbGZcIiB8IFwiQ2x1Ym93bmVyXCIgfCBcIkQvcyBGYW1pbHlcIiB8IFwiT3duZXJzXCIgfCBcIkxvdmVyc1wiIHwgXCJXaGl0ZWxpc3RcIiB8IFwiRnJpZW5kc1wiIHwgXCJQdWJsaWNcIiB8IFwiTm9uZVwiO1xuXG5leHBvcnQgZnVuY3Rpb24gSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cChtZW1iZXJOdW1iZXI6IG51bWJlciwgYXV0aEdyb3VwOiBBdXRob3JpdHlHcm91cCwgYWxsb3dTZWxmID0gZmFsc2UsIHNvdXJjZUNoYXI6IENoYXJhY3RlciA9IFBsYXllcik6IGJvb2xlYW5cbntcbiAgICBpZiAoYXV0aEdyb3VwID09PSBcIk5vbmVcIilcbiAgICB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBEZW55IHNlbGYgb3IgaW5zdGFudCBhY2Nlc3NcbiAgICBpZiAobWVtYmVyTnVtYmVyID09PSBBVVRIT1JJVFlfR1JPVVBTLlNlbGYoc291cmNlQ2hhcilbMF0pXG4gICAge1xuICAgICAgICAvLyBJZiBTZWxmIEF1dGhvcml0eUdyb3VwLCBvdmVycmlkZSB0aGUgYWxsb3dTZWxmIGZsYWdcbiAgICAgICAgcmV0dXJuIGF1dGhHcm91cCA9PT0gXCJTZWxmXCIgPyB0cnVlIDogYWxsb3dTZWxmO1xuICAgIH1cblxuICAgIC8vIE5vIGlmIGluIGJsYWNrbGlzdCByZWdhcmRsZXNzIG9mIHJvbGVcbiAgICBpZiAoc291cmNlQ2hhci5CbGFja0xpc3QuaW5jbHVkZXMobWVtYmVyTnVtYmVyKSB8fCAoKHNvdXJjZUNoYXIgYXMgUGxheWVyQ2hhcmFjdGVyKT8uR2hvc3RMaXN0Py5pbmNsdWRlcyhtZW1iZXJOdW1iZXIpID8/IGZhbHNlKSlcbiAgICB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBFdmVyeW9uZSBhbGxvd2VkIGV4Y2VwdCBibG9ja2VkIGNoYXJhY3RlcnNcbiAgICBpZiAoYXV0aEdyb3VwID09PSBcIlB1YmxpY1wiKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gRmFtaWx5IG9ubHkgY2FuIGJlIGNoZWNrZWQgYnkgYWdhaW5zdCB0aGUgUGxheWVyIHRoZW1zZWxmXG4gICAgaWYgKGF1dGhHcm91cCA9PT0gXCJEL3MgRmFtaWx5XCIgJiYgc291cmNlQ2hhci5NZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXIpXG4gICAge1xuICAgICAgICByZXR1cm4gRmluZENoYXJhY3RlckluUm9vbShtZW1iZXJOdW1iZXIpPy5Jc0ZhbWlseU9mUGxheWVyKCkgPz8gZmFsc2U7XG4gICAgfVxuXG4gICAgbGV0IGF1dGhDaGVjayA9IG5ldyBTZXQ8bnVtYmVyPigpO1xuICAgIC8vIFVzZSBzd2l0Y2ggZmFsbHRocm91Z2ggdG8gZ2V0IHRoZSBzZXQgb2YgYWxsIGF1dGhlZCB1c2VycyBpbiB0aGUgZ3JvdXAocylcbiAgICBzd2l0Y2ggKGF1dGhHcm91cClcbiAgICB7XG4gICAgICAgIGNhc2UgXCJGcmllbmRzXCI6XG4gICAgICAgICAgICAvLyBTaW5jZSBGcmllbmRzTGlzdCBpcyBub3Qgb24gb3RoZXIgY2hhcmFjdGVycywgY2FuIG9ubHkgY2hlY2sgaWYgdGhlIFBsYXllciBhbmQgYW5vdGhlciBjaGFyYWN0ZXIgYXJlIGZyaWVuZHNcbiAgICAgICAgICAgIC8vIFVuYWJsZSB0byBjaGVjayBpZiAyIGRpZmZlcmVudCBjaGFyYWN0ZXJzIGFyZSBmcmllbmRzXG4gICAgICAgICAgICAvLyB0YXJnZXRDaGFyIGlzIG5vbi1wbGF5ZXIgYW5kIGxvb2tpbmcgZm9yIFBsYXllciBtZW1iZXIgbnVtYmVyXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgc291cmNlQ2hhci5NZW1iZXJOdW1iZXIgIT09IFBsYXllci5NZW1iZXJOdW1iZXJcbiAgICAgICAgICAgICAgICAmJiBQbGF5ZXIuTWVtYmVyTnVtYmVyID09PSBtZW1iZXJOdW1iZXJcbiAgICAgICAgICAgICAgICAmJiBBVVRIT1JJVFlfR1JPVVBTLkZyaWVuZExpc3QoKS5pbmNsdWRlcyhzb3VyY2VDaGFyLk1lbWJlck51bWJlciA/PyAtMSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFBsYXllciBpcyBzZWxmIGFuZCBsb29raW5nIHRocm91Z2ggZnJpZW5kcyBsaXN0XG4gICAgICAgICAgICBpZiAoc291cmNlQ2hhci5NZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXV0aENoZWNrID0gbmV3IFNldChbLi4uYXV0aENoZWNrLCAuLi5BVVRIT1JJVFlfR1JPVVBTLkZyaWVuZExpc3QoKV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZTogZmFsbHRocm91Z2ggaXMgaW50ZW50aW9uYWxcbiAgICAgICAgY2FzZSBcIldoaXRlbGlzdFwiOlxuICAgICAgICAgICAgYXV0aENoZWNrID0gbmV3IFNldChbLi4uYXV0aENoZWNrLCAuLi5BVVRIT1JJVFlfR1JPVVBTLldoaXRlTGlzdChzb3VyY2VDaGFyKV0pO1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZTogZmFsbHRocm91Z2ggaXMgaW50ZW50aW9uYWxcbiAgICAgICAgY2FzZSBcIkxvdmVyc1wiOlxuICAgICAgICAgICAgYXV0aENoZWNrID0gbmV3IFNldChbLi4uYXV0aENoZWNrLCAuLi5BVVRIT1JJVFlfR1JPVVBTLkxvdmVycyhzb3VyY2VDaGFyKV0pO1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZTogZmFsbHRocm91Z2ggaXMgaW50ZW50aW9uYWxcbiAgICAgICAgY2FzZSBcIk93bmVyc1wiOlxuICAgICAgICAgICAgYXV0aENoZWNrID0gbmV3IFNldChbLi4uYXV0aENoZWNrLCAuLi5BVVRIT1JJVFlfR1JPVVBTLk93bmVycyhzb3VyY2VDaGFyKV0pO1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZTogZmFsbHRocm91Z2ggaXMgaW50ZW50aW9uYWxcbiAgICAgICAgY2FzZSBcIkNsdWJvd25lclwiOlxuICAgICAgICAgICAgYXV0aENoZWNrID0gbmV3IFNldChbLi4uYXV0aENoZWNrLCAuLi5BVVRIT1JJVFlfR1JPVVBTLkNsdWJvd25lcihzb3VyY2VDaGFyKV0pO1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZTogZmFsbHRocm91Z2ggaXMgaW50ZW50aW9uYWxcbiAgICAgICAgZGVmYXVsdDpcbiAgICB9XG5cbiAgICByZXR1cm4gYXV0aENoZWNrLmhhcyhtZW1iZXJOdW1iZXIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gSGlnaGVzdExldmVsQXV0aG9yaXR5R3JvdXAobWVtYmVyTnVtYmVyOiBudW1iZXIsIHRhcmdldENoYXI6IENoYXJhY3RlciA9IFBsYXllcik6IEF1dGhvcml0eUdyb3VwXG57XG4gICAgaWYgKHRhcmdldENoYXIuTWVtYmVyTnVtYmVyID09PSBtZW1iZXJOdW1iZXIpXG4gICAge1xuICAgICAgICByZXR1cm4gXCJTZWxmXCI7XG4gICAgfVxuICAgIGlmICh0YXJnZXRDaGFyPy5Pd25lcnNoaXA/Lk1lbWJlck51bWJlciA9PT0gbWVtYmVyTnVtYmVyKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFwiQ2x1Ym93bmVyXCI7XG4gICAgfVxuICAgIGlmIChBVVRIT1JJVFlfR1JPVVBTLk93bmVycyh0YXJnZXRDaGFyKS5pbmNsdWRlcyhtZW1iZXJOdW1iZXIpKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFwiT3duZXJzXCI7XG4gICAgfVxuICAgIGlmIChBVVRIT1JJVFlfR1JPVVBTLkxvdmVycyh0YXJnZXRDaGFyKS5pbmNsdWRlcyhtZW1iZXJOdW1iZXIpKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFwiTG92ZXJzXCI7XG4gICAgfVxuICAgIGlmIChBVVRIT1JJVFlfR1JPVVBTLldoaXRlTGlzdCh0YXJnZXRDaGFyKS5pbmNsdWRlcyhtZW1iZXJOdW1iZXIpKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFwiV2hpdGVsaXN0XCI7XG4gICAgfVxuICAgIC8vIEZyaWVuZHNcbiAgICAvLyBUYXJnZXRjaGFyYWN0ZXIgaXMgc2VsZlxuICAgIGlmICh0YXJnZXRDaGFyLk1lbWJlck51bWJlciA9PT0gUGxheWVyLk1lbWJlck51bWJlciAmJiBQbGF5ZXIuRnJpZW5kTGlzdD8uaW5jbHVkZXMobWVtYmVyTnVtYmVyKSlcbiAgICB7XG4gICAgICAgIHJldHVybiBcIkZyaWVuZHNcIjtcbiAgICB9XG4gICAgLy8gVGFyZ2V0IGNoYXJhY3RlciBpcyBub3Qgc2VsZiwgYnV0IGxvb2t1cCBjaGFyYWN0ZXIgaXNcbiAgICBpZiAodGFyZ2V0Q2hhci5NZW1iZXJOdW1iZXIgIT09IFBsYXllci5NZW1iZXJOdW1iZXJcbiAgICAgICYmIG1lbWJlck51bWJlciA9PT0gUGxheWVyLk1lbWJlck51bWJlclxuICAgICAgJiYgUGxheWVyLkZyaWVuZExpc3Q/LmluY2x1ZGVzKHRhcmdldENoYXIuTWVtYmVyTnVtYmVyID8/IC0xKVxuICAgIClcbiAgICB7XG4gICAgICAgIHJldHVybiBcIkZyaWVuZHNcIjtcbiAgICB9XG4gICAgLy8gUHVibGljXG4gICAgaWYgKFxuICAgICAgICAhKHRhcmdldENoYXIuQmxhY2tMaXN0LmluY2x1ZGVzKG1lbWJlck51bWJlcilcbiAgICAgICAgfHwgKCh0YXJnZXRDaGFyIGFzIFBsYXllckNoYXJhY3Rlcik/Lkdob3N0TGlzdD8uaW5jbHVkZXMobWVtYmVyTnVtYmVyKSA/PyBmYWxzZSkpXG4gICAgKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFwiUHVibGljXCI7XG4gICAgfVxuICAgIHJldHVybiBcIk5vbmVcIjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEF1dGhvcml0eUlzQ29tcGFyaXNvblRvQ2hhcmFjdGVyKGdyb3VwOiBBdXRob3JpdHlHcm91cCwgY29tcGFyaXNvbjogXCI+XCIgfCBcIjxcIiB8IGAke1wiPVwiIHwgXCIhXCIgfCBcIj5cIiB8IFwiPFwifT1gID0gXCI+PVwiLCBtZW1iZXJOdW1iZXI6IG51bWJlciwgY2hhcmFjdGVyOiBDaGFyYWN0ZXIgPSBQbGF5ZXIpOiBib29sZWFuXG57XG4gICAgY29uc3QgcmFuayA9IEhpZ2hlc3RMZXZlbEF1dGhvcml0eUdyb3VwKG1lbWJlck51bWJlciwgY2hhcmFjdGVyKTtcblxuICAgIGNvbnN0IGdyb3VwSW5kZXggPSBBVVRIT1JJVFlfR1JPVVBfUFJJT19PUkRFUi5pbmRleE9mKGdyb3VwKTtcbiAgICBjb25zdCByYW5rSW5kZXggPSBBVVRIT1JJVFlfR1JPVVBfUFJJT19PUkRFUi5pbmRleE9mKHJhbmspO1xuXG4gICAgaWYgKGdyb3VwSW5kZXggPT09IC0xIHx8IHJhbmtJbmRleCA9PT0gLTEpXG4gICAge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgc3dpdGNoIChjb21wYXJpc29uKVxuICAgIHtcbiAgICAgICAgY2FzZSBcIj5cIjpcbiAgICAgICAgICAgIHJldHVybiByYW5rSW5kZXggPiBncm91cEluZGV4O1xuXG4gICAgICAgIGNhc2UgXCI8XCI6XG4gICAgICAgICAgICByZXR1cm4gcmFua0luZGV4IDwgZ3JvdXBJbmRleDtcblxuICAgICAgICBjYXNlIFwiPj1cIjpcbiAgICAgICAgICAgIHJldHVybiByYW5rSW5kZXggPj0gZ3JvdXBJbmRleDtcblxuICAgICAgICBjYXNlIFwiPD1cIjpcbiAgICAgICAgICAgIHJldHVybiByYW5rSW5kZXggPD0gZ3JvdXBJbmRleDtcblxuICAgICAgICBjYXNlIFwiPT1cIjpcbiAgICAgICAgICAgIHJldHVybiByYW5rSW5kZXggPT0gZ3JvdXBJbmRleDtcblxuICAgICAgICBjYXNlIFwiIT1cIjpcbiAgICAgICAgICAgIHJldHVybiByYW5rSW5kZXggIT0gZ3JvdXBJbmRleDtcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBjb21wYXJpc29uIG9wZXJhdG9yXCIpO1xuICAgIH1cbn1cbiIsImltcG9ydCBwYWNrYWdlSW5mbyBmcm9tIFwiLi4vLi4vcGFja2FnZS5qc29uXCI7XG5cbmV4cG9ydCBjb25zdCBNUEFfTkFNRSA9IHBhY2thZ2VJbmZvLm5hbWUudG9Mb2NhbGVVcHBlckNhc2UoKTtcbmV4cG9ydCBjb25zdCBNUEFfVkVSU0lPTiA9IHBhY2thZ2VJbmZvLnZlcnNpb247XG5leHBvcnQgY29uc3QgTVBBX1JFUE8gPSBwYWNrYWdlSW5mby5yZXBvc2l0b3J5LnVybDtcblxuZXhwb3J0IGNvbnN0IElDT05TID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgUEFXOiBcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRllBQUFCV0NBWUFBQUJWVm1IM0FBQUFBWE5TUjBJQXJzNGM2UUFBQUFSblFVMUJBQUN4and2OFlRVUFBQUFKY0VoWmN3QUFEc0VBQUE3QkFiaVJhKzBBQUFBWmRFVllkRk52Wm5SM1lYSmxBSGQzZHk1cGJtdHpZMkZ3WlM1dmNtZWI3andhQUFBRzdFbEVRVlI0WHUyY1Y4ZzBOUmhHZnhWN0FUdUtZa05GN0lLaTNsZ3Z4SWFLSWlKMnZWQ3hGeFFiMkM0VmU4RjJvYUpnQTN0RnNIY0ZHNG9Oc1dEdnZUM25tNDJFNFozWlpKTFpiK2NuQnc0NzdDWXpTWFoySm5tVDJUbUZRcUZRS0JRS2hVS2hVQ2dVeHJHYVBGKytMZitSMzh2NzVRRnlNWmtMOXJXL3ZFOStKemtXeCtUWWxHR3U0bWo1dS95M3dVOGtEWndLKzJCZjFqR1FNaHdsNXdwb1ZLdVNscGZLcnBEWDJxZmw0QnQzSThsUDBhcGNrOWZLV01oajdhdEp5clNoSEN3UFNhdGk0enhkaG5LYXRQWXh6Z2ZsSUZsUFdoVUtkVXM1RHRKWWVVT2xqTDB3NytpMUQvWVl2WGJsQ3RsV1BqNGpUUXE3ajE0SHhTUFNPa3RpcE52VUJKOVplV0o4V0E2SytlV0gwcXBNakc5STY2emxQVDZ6OHNUNGdhU3NnMkU1K1lPMEtoUHJWcklPNzFscFk2V015OHJzOUhXTlhVUXVWRzBtcy9mbzFjZDZyd3NMU3NxYW5iNGFGamdqY3JDOW5LL2FuSUZ0M3N1Qk8zT3owMWZEL2l4L3F6YVRXVU91WG0zT3dEYnY1WUF5L2xKdDVxV3ZoaVg0OFhXMW1ReGxYS2ZhbklIdFhPWCtSbExXN1BUVnNIOUs3cmk1V0hYMENqa2pWSlR4cjJvekw2RU5Tem91OURHOE5Ick5nWC9uem5rWGYzSDBHZ3B0RU5SbWJZbFdrQ2RKeHRURU05K1JiMHJpbkdmSkxXUWJqNDVlYytCL3FiRmZjQnVQalY2YjJGeFNWK3BNM1dtRHQrUUQ4a1JKRzBYQnFPWkw2ZTZhVGI0Z2lZSE9JK3NzS3IrUVZyNVl6NVVPdHEwMHNWSTJ5bWhCL1orWFZqNWYybWcvR1VTWG9TS0YyRnJXdVV4YTZXTWxwdXM0UmxwcFlyVml2d3c4bnBOVytqYkhCdW1Ya2I5S0szT0k1MGdmN3VDeDhWakxIYVZqSjJtbGlaRXkrVDBOT0Z0YWFVT2t6V2k3Um5LY0RYZElmOVIxbzdUU2hjcDB5a3JTd1hiYk5FK0lsTWxCV1crWFZyb1lhYnRHbnBSV3BsaTVLU3dzZ1liNFVWcnBRcVJNZFo2U1Z0b1FLWXY3b2lnalpiWFN4ZnFFYk9RbmFXWHE0cjNTY1pDMDBvUkkzam9IU3l0dGlBZEtCMlcwMG5TUnRtdkV5cERpQmRJUk05bm5mRTlhM1N0K3ZueG01V256RXVtZ2JGYWFGQnRoR0dwbFNIRUg2WWlkOU50R09sYVdLMWFiTTJ3cnJUeE4rcE9VbE1sS2srSlhzaEU2OVZhbUZOK1g3bm9MWjhpL3BaWFc5MUFKdTBoR2NkeDUrYmx4TFhQellZZEpLNjh2UFlBenBZT3lNSlMxMHFiWU9pQTZWVnFaVWoxZSttd203NUxXM1oxKzVIWVNhTlQ2NTBnRHN3OGdyZFgzWk44Y3c2VnpuQ0RyYVhOSTIvMVBmY1RFWFB1cjFXWldQcFpyU2lyclEvaHZVOGxQblBBZHgzNVd3czZTcmx2VDFBbFJLWDdTTkNvdy9HUWRBNEhyVHlXalFxN0RQbHliR1paeVdja054MzZ0MnJSaFRHeDlJNmx5OW9XeWx5VHFaTzNIbC9WZjF0Uk5FN3RLYXorcDBtWmpZWGhtWlU3MUdobENiTmVNYXkranNSQmliNTZoQnEwN0krTEZUOUxhUVlxdFA1TVJSSXlzdk9Qa0J0VTJWZTZnREZiK0ZHbXIwUERyekFVL3h4amZsMGpRNHJLSmk2U1ZMMGFXR3pXeGhBeUoyTVZJRzlWdmptTTVXVm83NnlwRHllVmxIVUozZDBvclR4ZXZsbFlZazJPbkRLMHRhYU5PWENldEhYYVJEalJuamM4cWtydTNsVDVGQXRGTFNoK09UUm1zOUYya2JaSzRSVm83anZWbDZVUDNpRzZZbFRhSHI4dTFwYzhyMGtvYksyMlNoY3VsZFlBWS9WbUFQU1g5Vml0ZFRwa2w4QVB3NTBrclhZeTBSVmFPa0YwYmc1R1N1NzRlSzYwMGZmbUgzRmNDYzFSZEkzalUvVWpaQyt2S2U2UjE0RGJkY3NrTHBmWDVKSFJEVHBhWFdwKzNTWjE3VzB2cncxQ1NXQ1puZzFVUTUwZlNUYXZjS3EwMGs5VE5jekZjSHJjYWtyb3hPK3RINTRLeHVpVXhNUDRuQ01KVU9PTisrcWtzMnlHaXhmcllteVFGSkVvZk0vVHNFNlpodU1ZVFU5aEhzZzZNc2hQM3BUdEdmT0VaU2JUcVhUbVYwTkNFL0t3ellqWmxyVVRxU1RWcmNFWjBtVXFlbEhmTFFUWXVJVCtyUXRPa1AxVXpDRTZSVmtXbVVkY1ZtM3JvbG9URVVxZEZBdWJSYTdCbWcxeno5SlAwQmpuVjVIcm9ZdEl5dVZtUEt5UVJIS0FONVBEUjY5Q2dIUTZwTnFjUHduSjlyRXVZbEt4N3pYYWk1VHhqTjVaTFZadURaQzJaNjZHUnJBM0w5TytRb1MzV3J6YlR5ZG13MmI3dFdjUi83Q21KbkEyNzlPaDF5TFF1SG80aFo4TU9OcWpoa2EwT09SczIxd056czBucmlzRVljallzM1pXaE01VjFZTnJHNmgvbWtyOTl5cjNnd3BlNXNGNGVzYy9CMDlJcWRBNlpxenF1OWw1T21UcWFXcGhMc2dxZHFsdk54Ny9BNVhvb3IrNG1jcXJKdVZ6STZhOE5JSDVxcFVueFlqbjFNS3p0OHVCRmt5eXRyM09sdE5KMmtZWE9DOGhCd093dE03VldSV0xrYWNFbXJwSlduaGg1K250cWIxaE5zUHlkeFdsV2hjYjVyZlNmeDJxQzliUmRuMUs4V2RZWDZRMEtWanVITG1SbWRmYjFNdWJQSGphUXQ4bVFKM0dRbnN0dXNsY21PUXdsck1oelc2d3k1QUZoL2tLS2luNHVXWW5JbEE2TEpENlRYZUJmT0ZoOHdURjRTSVg5MDlqc24vL29va0VmbDBIUEN4UUtoVUtoVUNnVUNvVkNZYnFaTStjL2NGTFZiZ3RlVEVZQUFBQUFTVVZPUks1Q1lJST1cIixcbiAgICBESVNDT1JEOiBcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRllBQUFCQkNBWUFBQUJMaFZQVUFBQUFBWE5TUjBJQXJzNGM2UUFBQUFSblFVMUJBQUN4and2OFlRVUFBQUFKY0VoWmN3QUFOZEVBQURYUkFYUGZnUDRBQUE5ZVNVUkJWSGhlN1Z3TGNGeFZHVDZ2KzlwWEFuM1JGbHVSVjFVR0VDdVZRU2tPNEF1Zm1KQzBCVnVhTkpVaUtqaUtJekJSa1JsRUdCL0ZvVFJ0c1VyYUpoUkZ4d2MraWlNNnZoQ2RBaXBxS3dwU3JDVnRkcFBzN24yZDQvL2ZQU2tOeVc3MmNRdVY1cHR1Yy9lL2QrKzk1enYvK2MvLy8rZS9sNUlYQ2N1dWxwblE5MDlrU3A2aGlGcklLSDlkNEx1ZGZSc3pmOUdIeElvbHE3TW5NMnB0bGlyWXFTUjVtQW02TXhVbWRxMWZUN1A2a01PS3cwWnM2eHFWTWxUeERVU1N0eWdpRnl1bFRoZkNhZWFjRWFVSUVZS1FrZUdoNy9adHlMeFgveVJXdEhWbSs1UHBUR3ZnUXlPaGxXR29TQmdVc29xcXh4amhEMUV1SGlTY1A5eTdsdVgwVDJKRnJNUmVmbFYybWd6c0N5UUoza3NVWGN5RlBaZHpTcVNFaGdVdS9JVldFbUFWUUNtSGRobEVCZjdadlQzSmh5TmhUR2p2R0RxZEdRSTBWVUluaGxwS0NXT0N3RDNCWDBJa0VCMkV4V2ZoZmg1aVJIekhOZDJmYmwrYjJhY1BiaGdORTd0NDhjL0UzRlBPdVVneHRZUVM5WFpoT0ROUVF3TGZCeTF4NFlnU2tlT2hpR1ZuU0xFd3NkWjJkeXUyZS9kL0hKbDJUSzhJQTFrV09NcFZ4Z21UdWJSdldjU2JQWnNVUC90WkN0MDJGdTJkMmEyV2sybDNpNmlNNVpwSW9XTk5JTnFNTk5wekN3T3c4U05LNlZaL3dQcnh2ZmRTVHg5WUYrb210clVyUDA4d2NobFY1REl1bkZlakZ2aStCNXFBWkZZSDFGclFLRkFwOVFrbFZZb3lmZ0tZalRtd1p4b2xOQU8yT0FVM2FJTVpFZERnNkY1aFc4Rm1BUHVLY013d2RCdXdwd1pBSC9lQTdKL3cyLzFVeWRzb055d2xnK2c2MVlBQnlZWmhFYkRIb0JTRnZ4TkdlbGxBdjNIUEJ1ZEpmVWhOcUoxWTBLVDJaM0ozTUc1ZGJscFdLZ2hnNFB0NTJGRk9NeXRCUmVRYVpqTFNta2dDRFFQdTRJUERHRDVncEV1bkhqMC9IQmo5WS9BYi9QRG90N0FaQWUyMzc0M0FYelFCdFRjUGZ3TnpBUkVHSjU3bjVsWG85d2FEcVN0QmcwZHRTbFdvK2NwdG5ZT2ZUbVdhYmk3a3dXYUdEWTJXSXg2TW1jUkpXbVFvbC90Yy80YW1iaTJ1Q2pVUjI5YVJlelUzakoyZ1BFWnBJbnI1QXljOEdCbWhyNExYOTkrVjJxbkZrMElQb0NwQjVUb2hiQ0QxNWEycGh3SVZpQXVMMHpCY3IwVlZvV3BpMjFkbGw5dUpwdk04ZHhpKzFXTzcvbDlCd1dNWUlrNGljL2FscXdiWGFPR2txSXFoMXE3OVRZS1lmNFVKYXhZNDJWcDZkSUZ6bTRUU1B4RDQ0YW5iNzU3YzM2MUtZNmxrTjFoMkVrakYyZi9vUkJnV2lHMG5qdUZjM2FSRkZUR3B4bDdXV1RoQmN2VUVIR29lTFJOV09WQ2N5RUROd0wwOG8zL1R0TWUxZUVKTXFyRSs5VzR5TEFkSVBYb21ySEpRb0ZpR2FUTUlaRzdXb3JLb3FMR1hyaHc0VFpqT28rQ25VNldxajJKZXpzQ2doSE9MQkVIK2pkdDZtbjZyeGVOUVVXTXBGVGNhaGdPa0h0MG00RkJnTk1pNXdJMktBVU5aalkyQ0FTRWVoeENSVFducldJeG01b0xRZjhPMjljbmZhL0VZbE5WWXhlVEhUY3NCVXFlMDlZWEFQQVFYQnRyY1QyclJPRXlvc2N0V0RjK1dqTzZpaENXT2RrK2dITkJEQUlZRHFmd0ZmVDNOdTdYNElDYlUyRkRKRHN0S1RKRmFBZWdoV0haQ2dQS3QxcUl4R0Vkc1Y1Y3k0RTlINEUvWjFjcWd4UGQ5b29qNklIQ1cwTUtER0Vkc1R1WGVhdHJwVndaQlVVdW1VQTRoY0dUYm1WbURLdnNlTFRxSWNjUXFwYTdRdWZybyt4UXFBeFByRUkydDBGOFBZc3prMVhKRmJnWVg5RW5Pak9SVXBGVWRHRVB2SVBTa1lDZjEzWmw0V292SGFpem43R0xiVGsyUldnTndnamVkcE1tQ2NNeUM2QmhpS1pVZlFOVStmSUJCRTYxVGpiTkFodzNQWDY5aTlONFFjSjFPS25tSi9ocmg0TlZhT2dhUDVaUTl5WVdaaVhzdEMzT1p3akIwZlVFUkdncVJDempZYU1aOUh4ZitZRWVNUUNLRmtZenFCM0FaUG5MbzRSNFloKzlCZ0lVYitzaDRnT1lnbEg1UkVQYXEzcDdVczVFczJnTUFVdDlzMmVsWVNjVUd3am5Sajk3akZmTzNlMjd1M1NSMEZ3Wmg0Vnl2T05MbGUva0hHTGNpRXVLWkxCVVJJZ0dkNXVESzhVOWROMytsN3hmZjVPTTEzWkdMWFMvL0JSbDRUK0U5eFRscTBCellkdG9PWlBBV0xYcGVZOXM2czErem5jd2F0emlrSlkyaHRLeWRBSTBzckN2ay9SdnUvMmJUZ040MUJrdXZMRnlvcExyTE1KeFhBZkVncVhmSUtyaGVCaXR1OWhBYXJONnlMdlU5dldNTWxsMzlYRVo1VGpjWGlXdFJjMlVOdFFlVmdKMEYzSDE5VzAvbUN2eXVXNkZvZTJmdVVXR21UZ3RnYURZT1Npd3JoV3RGTjJ6dHlVeWF1MnhmdVc4T00xSTd1TEFXK0I1MmJLM2tncVlhS1Z5T2Z4b3VldjZXdTV2L29YZVVSZHVxb1E5YlptcHRYS1lJUndxY2E1Zk1aaFpnRFVJMEh0cVdEODZINFBmVVVrbFFvOERTb1JRcHVybitha2hGYk5zMFkwK3hPUHgrdUg0ZTEvSnJCWTFjbmlEd0FyZWxHbElSZlQzcE8xd3Z0ODYwMEF3MUR1U09NWDZpT2MwOUNiK1hESTNnWjVsV3lxaWxKS2Nja0JqZnpROTd4UDJZRmxXRmIyMmU4UVRZdjlzTjA5YVM2bUdhWUZPOS9NYnRHNXQvcDBWVlFkaitkWjQ3c2c4VDE0MENKMGpEVEZJLzhCZmk5NGhZeXRUWm95VStqUUtKZ1JueXZtLzN6SXhteDVvZ3hUcG9hQUUxc0ZxZ0xmZTlRa2dvLzRvV1ZZM2V0ZE56WUdPL0lZemFSOGxFaUVxZHFGeUUyeEd4TUIrZkdZLy9TcUhuVUd1Tis3V2dKbXpibE53RFBmOTdJYXJYV2l6TERFUHZ6M1VYTUN2K3ZSRHI4dXFlTko4SHVwTkE1dW00emJCY0V0ejJVMG9uYnd6b3duamVNRVI0NFYrMXFBNnd4OUgvckJaWXlBd1hycmhpV2hFbTMrMTdJeDdZUnkyb0h6S00wcXduTCs1V2d2M3BxYUZwUVBOY0ZVTVlpOFFDcTBWcXUzV1hvMHRGOXV2TkdrRHJMaGdPUFEvZG9Md2V2QTBCL1ZsUTB1Tm1QNTJmQ1hOTk1FZUlwQ2tQVmo3WEQ0VkdCY3lzQ2tUZFJndU15YmpjNXVSUWp0Nm9HU0h6WU9aU2NMK04yMEowMnd3enhRTHFIODlJd09jeURzTWdCaU1iell4R1VqREZqOWVpZW5CaUxiY1MyVFg0VGZSL0hUQ0lNUnZDM1FUZWUrTlFFRFpUd2drN25sRktqNC9MSThETzRVS0FPWkRuYTBsTmFMbEdPb1NxUlNFK2tWRWwwSCtraXI1KytmSUR6VnBVRTVnUzV4cW1GV2xiWEdCTXZRS0lWWTFvMXppVUprRjJHYkJjYzNmeGtaRjNXVlptVmhoV3YzcUJ1UTNMU1RlNUJtblZvaG9oVjhndzNpUVFtTVI1YUxIbnhPTnFsWUJsODlEUVUxczdzeE11c3BWRGE2dUMrWjEyUzFuN2tBd0RDR3lZdVA1ZFhjL1VaSjh2WFRuWWJ0cVpzL3lvMUQ4ZVJLYUpzam5vcTh5S2sxaUU3N3ZFRVBadHJaMEh6dFNpU2NHYWg3NEM0ZVZyUzg4ejFJWWdnTTYwVXZOVHFxbnE0dUNXanIwbkNjTytJNHhjcFBnSXdPY240SFRIb2NaT0J4ZXBKSTBKK09RTUJBbEpVemdQTEZtVlc2ekZaZERObHE0ZXVkMnkwbGU1VVZGelBhREVMUTRUeTA0dVc5S1YzL0QycTJYRkdMVjk1ZUJDMDJqNkNSZld0TGh6czZXMGdKcE8yem9IL3lLRXN5Q2VCTXdoZ0o0VFpoS2Rabno4WlMwNDRCdnVXV2YrQ1VpSTFBT0xtUTFpWFFERDVwTVFCaStDVURhR0NZUkdDU0RQS3p3R0p1VVdMbEkvM0hJblBhQjNraVZkdVFVUUFpK0g4WEVONTVZVlpkSmltN2xMWU53ZzB2ZitUZHM3Qi8vRmhEMHY3bFdERWxTVWVjSWtDV2dVRUNxZkFORWVhSTBEQnY0azA4ck14S05LcWNMNGdDbEVCdkdrVzh3OUIvMjRDN3lHRVpoS2p3UG5mWUZscDdudkZjRVdZbnZqSlJXQnVRdm8xQU5BYkhZdjVjYk1PREpibFJBdHgzQWJpQzVGT05pUkVPUERWc3dHL2lCbzlGQWNQbjJJd05HQWo1MGU3Z0kvakQ2bGxQbkc0N2dxZ1E1NEVJeEUyb21ma3VrNVhLUWlWR1RyUjYrSENmd1hyV29Td3NjWGpkaWpDbWdCNFU4eHpvVzFLWUFsaDJtREFibUZhSE1LOFNCU1VvVTJWdVZ3WXBsQ1BHQ1lPcVUwQjE0SkhZaVBXRFF1Z2hobUd0d2RvV1ZITHJEZHBYdkZwYUI0SmxKS3NTQ1o3R2ZnMysyTHg4Umlac3NoQ2dKMzN4M2FBYjZjWnp2cFNJWjI1MGdDdW4wVzNCdEVuTkx6aGg2TXFsZ0VwaGthSnhmZFNVcnBmMEZ2eVQ0emhyVTByR2dCcC84WkdZU0x0bTNJWEVpcE9zTnp2VnVVOUo4MHJWUlUwRkJhRFgxcFNFYWYxclRTMFFkODltZDh0L2hsR0sxbjl2VmtMcURLWHdqdTREL2pXSzB0Y1NuMzBaYk9BeWVZd3U0MVRmc2N6OFhLRUV4SzFONTRIUHJRMy9pbWkxc0oyOXV6NWM3NVVTalowdktVWTAyZmVaRlNxaFUrRndyRE9RNWpCSHo1alF3eEFzSThSZnorYkJTUUNEdGFFOE84aU8vbjk4TWsvVE5ndU05MmpRYzJiV0pSdVBlZWxmdlNhVFBkQWZmMktiaVBXZlZWeHBRaVRNdHlDSFRZSTBIb0xZMFliRzN0NThheEYzY1R5cThYd21MNHRIUHRlUDdrbmx2Y294VDlLaUhleHEzck04L3BBN0FNdjJtSXV1Y1NHYndObXY0bVJkVnJEQ05wSTlIWWVDbUJiT2pZS0pzUGtWS1VLU3BMT3RBVTNUME1QY1poMGpDQU14eUdwWFA1M2pDY2hEMEIrMzVKSlBteDUzdS9PUFRoWWt5TUI1YXpVakgxVVZDcWVYRFBjTzM2d2x5MDA1RkNxdkJXYjJEM2pmZmVlNW8zNWl4TFZnNmNRODNrbDB6VFd1UjdHSEppd3JuMkM2R21ZSFVoOU41ZWFPam13UGUvUHRIeTlOSTErZmtxWUtjckVwd0ZzK2xycFFwUEJoN253aDBlQTNaUVlFSURpWHBobmdTSkszVUVWZzdtZ1g4NkNIYnRXZmpzQWsxOW5CTDVSMG40enExMzJYL1hQemtJZkI4WEplWUtPTU1LdzNMbTRMTVc5V1c0Y0JuR2dxRnY0U3RPL3FEQy9MVmJlNDc5dWQ0NUVXdVl4cnZ1V2xDRDZ3M1RhdmFLZVdnRURvODZDSVlMWXpFRXhNNWg0STJzM2RxVHVVYnZLb3RXMEdxbXN0T0ZNbWFBUmg4amxXcVdLa2d5eXZVTmhLQ0FJaThFelVMZ2VDQU0yVDdYZFFmS0ZkMGRpcmJPN0JmQTNsL0R3QTBvdldXcHZ1Y3NNS0RDMGlRZlpta1lZN2Y4N2VFL2YvR1JSeGFPV1U4cXk5YlNsZnZuRXpQUkRWcHdCU1l5U2krd3FTZXRSNG50cEVpK2tGM1MzOU84VFF0ZkVyUjE1QzZ4RStuN01IZUxHbGM3UU5kaElnWTFJVEM2ZWoyLytKbnRHNXQzNloxak1La2FMdnZReUJ0QjZXL2t6SG9uWmJSR2drdnYxaW9Vc2p2Nk56UmZxSVV2S1M3dEdQeUJrMmg2UitWM2NyMEFxS0ZtTWpJL1llaitoRWp2ODF2V1p4N1NleWRFMWVPN2ZmWFFSWnlZSDRmSjRHMWM0S3VUQ2pwYlhoNmpMNnB4dzVIWGJlK1o5cGdXdjZTSWt0M01lQlQ2Zk5JWEJxRm5ZWm9KRXVLa0dub1BBbHUzYlZsbi8xRHZyb2lxaVIzRjBxNzhlZUE5ZkZpUjhIM2dBUmgrQmVPUEFVSWhuNzIxYjBQemRWcDBSS0N0NDhCTlRxcjVobUorWXU4SEF3aGhHZ1RtRndtSzhWMnF5QjI5NjUwZGVuZFZxSm5ZVWVEVDRURHpyNERPYkRjTWV4N0tBaDlkbHRMaUhMb2dnWi8vbStrbXo5aThtUjVSVCtPMXRpcVROdy8vMFRCVHIvRzlra25Bc0ZZWXBXSzh3Qy9zZ1lpMER6emhUZmVzcytxcUM2dWIyRkcwcnRtYk1sVHpPMkNzTE1VQXdMUVNLWlJEWUF1ZndybDlQVTIvaWc0OHd0RFM4ZHpabHBINnRUQ3NLS0Qzdkh3ZTZOMEJuNjNFTkw3ZjZGczZHeWIyVUZ4K2xad21BKzg4SnNSU3R6ajBtLzZOeDl5dWR4MlJhTy9JZnNSeWt1Y0h2cnZGTkoyZjM3Mld4ZlEyVGtMK0J6V3F6Vy9mQ3dSd0FBQUFBRWxGVGtTdVFtQ0NcIlxufSk7XG5cbmV4cG9ydCBjb25zdCBBQ1RJVklUWV9OQU1FX1BSRUZJWCA9IFwiTVBBX1wiO1xuZXhwb3J0IGNvbnN0IEJFTExfU09VTkQgPSBuZXcgQXVkaW8oXCJBdWRpb1xcXFxCZWxsTWVkaXVtLm1wM1wiKTtcblxuZXhwb3J0IGNvbnN0IEJFRF9QRVJGRUNUID0gW1wiUGV0QmVkXCIsIFwiQ3JpYlwiXTtcbmV4cG9ydCBjb25zdCBCRURfTk9STUFMID0gW1wiTG93Q2FnZVwiLCBcIktlbm5lbFwiLCBcIkJlZFwiLCBcIk1lZGljYWxCZWRcIiwgXCJDdXNoaW9uXCJdO1xuZXhwb3J0IGNvbnN0IEJFRF9CQUQgPSBbXCJGdXR1cmlzdGljQ3JhdGVcIiwgXCJEb2xsQm94XCJdO1xuZXhwb3J0IGNvbnN0IEFMTF9CRURTID0gQkVEX1BFUkZFQ1QuY29uY2F0KEJFRF9OT1JNQUwsIEJFRF9CQUQpO1xuIiwiLyoqXG4gKiBHZXQgYSByYW5kb20gZWxlbWVudCBmcm9tIGFuIGFycmF5IG9mIG9iamVjdHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFJhbmRvbUVsZW1lbnQ8VD4oYXJyYXk6IFRbXSk6IFQgfCBudWxsXG57XG4gICAgaWYgKGFycmF5Lmxlbmd0aCA9PSAwKSB7IHJldHVybiBudWxsOyB9XG4gICAgcmV0dXJuIGFycmF5W01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGFycmF5Lmxlbmd0aCldO1xufVxuXG4vKipcbiAqIE1ha2UgYSBuZXcgYXJyYXkgdGhhdCBpcyBhIGNvcHkgb2YgdGhlIG9yZ2luYWwgbWludXMgYW55IG1hdGNoaW5nIGVsZW1lbnRzIGluIHRoZSBmaWx0ZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEZpbHRlckFycmF5RnJvbUFycmF5PFQ+KGFycmF5OiBUW10sIGZpbHRlckFycmF5OiBUW10pOiBUW11cbntcbiAgICBsZXQgbmV3QXJyYXkgPSBzdHJ1Y3R1cmVkQ2xvbmUoYXJyYXkpO1xuICAgIGZpbHRlckFycmF5LmZvckVhY2goKGVsZSkgPT5cbiAgICB7XG4gICAgICAgIG5ld0FycmF5ID0gbmV3QXJyYXkuZmlsdGVyKChiYWRFbGUpID0+IGVsZSAhPT0gYmFkRWxlKTtcbiAgICB9KTtcbiAgICByZXR1cm4gbmV3QXJyYXk7XG59XG5cbi8qKlxuICogU2h1ZmZsZSBhbiBhcnJheSBpbiBwbGFjZSwgdGhhbmtzIHRvIENoYXQgR1BUXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBTaHVmZmxlQXJyYXk8VD4oYXJyYXk6IFRbXSk6IFRbXVxue1xuICAgIGZvciAobGV0IGkgPSBhcnJheS5sZW5ndGggLSAxOyBpID4gMDsgaS0tKVxuICAgIHtcbiAgICAgICAgY29uc3QgaiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChpICsgMSkpOyAvLyByYW5kb20gaW5kZXggZnJvbSAwIHRvIGlcbiAgICAgICAgW2FycmF5W2ldLCBhcnJheVtqXV0gPSBbYXJyYXlbal0sIGFycmF5W2ldXTsgLy8gc3dhcCBlbGVtZW50c1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG59XG4iLCJpbXBvcnQgeyBNb2R1bGVUaXRsZSB9IGZyb20gXCIuLi9tb2R1bGVzL19tb2R1bGVcIjtcbmltcG9ydCB7IExvY2FsaXplZFRleHQgfSBmcm9tIFwiLi4vbG9jYWxpemF0aW9uL2xvY2FsaXphdGlvblwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIE1QQU1lc3NhZ2VDb250ZW50XG57XG4gICAgbWVzc2FnZTogc3RyaW5nO1xuICAgIFtrZXk6IHN0cmluZ106IGFueTsgLy8gQWxsb3dzIGFueSBvdGhlciBrZXlzIHdpdGggdmFsdWVzIG9mIGFueSB0eXBlXG59XG5pbnRlcmZhY2UgTVBBTWVzc2FnZSBleHRlbmRzIFNlcnZlckNoYXRSb29tTWVzc2FnZVxue1xuICAgIENvbnRlbnQ6IFwiTVBBXCI7XG4gICAgVHlwZTogXCJIaWRkZW5cIjtcbiAgICBEaWN0aW9uYXJ5OiBbTVBBTWVzc2FnZUNvbnRlbnRdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gQ29udGVudElzTVBBTWVzYWdlKGNvbnRlbnQ6IFNlcnZlckNoYXRSb29tTWVzc2FnZSk6IGNvbnRlbnQgaXMgTVBBTWVzc2FnZVxue1xuICAgIHJldHVybiAoXG4gICAgICAgIGNvbnRlbnQuVHlwZSA9PT0gXCJIaWRkZW5cIlxuICAgICAgICAmJiBjb250ZW50LkNvbnRlbnQgPT09IFwiTVBBXCJcbiAgICAgICAgJiYgY29udGVudD8uRGljdGlvbmFyeT8ubGVuZ3RoID09PSAxXG4gICAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEdldE1QQU1lc3NhZ2VGcm9tQ2hhdChtZXNzYWdlOiBTZXJ2ZXJDaGF0Um9vbU1lc3NhZ2UpOiBNUEFNZXNzYWdlQ29udGVudCB8IG51bGxcbntcbiAgICByZXR1cm4gQ29udGVudElzTVBBTWVzYWdlKG1lc3NhZ2UpID8gbWVzc2FnZS5EaWN0aW9uYXJ5WzBdIDogbnVsbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFNlbmRNUEFNZXNzYWdlKG1lc3NhZ2U6IE1QQU1lc3NhZ2VDb250ZW50LCB0YXJnZXQ/OiBudW1iZXIpOiB2b2lkXG57XG4gICAgU2VydmVyU2VuZChcIkNoYXRSb29tQ2hhdFwiLCB7XG4gICAgICAgIFR5cGU6IFwiSGlkZGVuXCIsXG4gICAgICAgIENvbnRlbnQ6IFwiTVBBXCIsXG4gICAgICAgIERpY3Rpb25hcnk6IFttZXNzYWdlXSxcbiAgICAgICAgVGFyZ2V0OiB0YXJnZXRcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBTZW5kIGFuIGFjdGlvbiB0byB0aGUgcm9vbSBvciBjYW4gc3BlY2lmeSBhIGNoYXJhY3RlciB3aG8gd2lsbCBvbmx5IHNlZVxuICovXG5leHBvcnQgZnVuY3Rpb24gU2VuZEFjdGlvbihjb250ZW50OiBzdHJpbmcsIHRhcmdldDogQ2hhcmFjdGVyIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkLCBkaWN0aW9uYXJ5OiBDaGF0TWVzc2FnZURpY3Rpb25hcnkgPSBbXSk6IHZvaWRcbntcbiAgICBTZXJ2ZXJTZW5kKFwiQ2hhdFJvb21DaGF0XCIsIHtcbiAgICAgICAgQ29udGVudDogXCJNYXlhU2NyaXB0XCIsXG4gICAgICAgIFR5cGU6IFwiQWN0aXZpdHlcIixcbiAgICAgICAgRGljdGlvbmFyeTogW3sgVGFnOiBcIk1JU1NJTkcgQUNUSVZJVFkgREVTQ1JJUFRJT04gRk9SIEtFWVdPUkQgTWF5YVNjcmlwdFwiLCBUZXh0OiBMb2NhbGl6ZWRUZXh0KGNvbnRlbnQpIH0sIC4uLmRpY3Rpb25hcnldLFxuICAgICAgICBUYXJnZXQ6IHRhcmdldD8uTWVtYmVyTnVtYmVyIH1cbiAgICApO1xuXG4gICAgLy8gU2VydmVyU2VuZChcIkNoYXRSb29tQ2hhdFwiLCB7XG4gICAgLy8gICAgIENvbnRlbnQ6IFwiQmVlcFwiLFxuICAgIC8vICAgICBUeXBlOiBcIkFjdGlvblwiLFxuICAgIC8vICAgICBEaWN0aW9uYXJ5OiBbeyBUYWc6IFwiQmVlcFwiLCBUZXh0OiBMb2NhbGl6ZWRUZXh0KGNvbnRlbnQpIH1dLFxuICAgIC8vICAgICBUYXJnZXQ6IHRhcmdldD8uTWVtYmVyTnVtYmVyXG4gICAgLy8gfSk7XG59XG5cbi8qKlxuICogU2VuZCBhbiBlbW90ZSB0byB0aGUgcm9vbSBvciBjYW4gc3BlY2lmeSBhIGNoYXJhY3RlciB3aG8gd2lsbCBvbmx5IHNlZVxuICovXG5leHBvcnQgZnVuY3Rpb24gU2VuZEVtb3RlKGNvbnRlbnQ6IHN0cmluZywgdGFyZ2V0OiBDaGFyYWN0ZXIgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQpOiB2b2lkXG57XG4gICAgU2VydmVyU2VuZChcIkNoYXRSb29tQ2hhdFwiLCB7XG4gICAgICAgIENvbnRlbnQ6IGAke2NvbnRlbnR9YCxcbiAgICAgICAgVHlwZTogXCJFbW90ZVwiLFxuICAgICAgICBUYXJnZXQ6IHRhcmdldD8uTWVtYmVyTnVtYmVyIH1cbiAgICApO1xufVxuXG4vKipcbiAqIERpc3BsYXkgdGV4dCB0byB0aGUgbG9jYWwgcGxheWVyIG9ubHlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIE5vdGlmeVBsYXllcihjb250ZW50OiBzdHJpbmcsIHRpbWVvdXQ/OiBudW1iZXIpOiB2b2lkXG57XG4gICAgY29uc3QgZGFya1RoZW1lID0gUGxheWVyLkNoYXRTZXR0aW5ncz8uQ29sb3JUaGVtZSA9PT0gXCJEYXJrXCIgfHwgUGxheWVyLkNoYXRTZXR0aW5ncz8uQ29sb3JUaGVtZSA9PT0gXCJEYXJrMlwiO1xuICAgIENoYXRSb29tU2VuZExvY2FsKGA8cCBzdHlsZT0nYmFja2dyb3VuZC1jb2xvcjojMDBjMmZmO2NvbG9yOiR7ZGFya1RoZW1lID8gXCJ3aGl0ZVwiIDogXCJibGFja1wifTttYXJnaW4tYm90dG9tOjAuMjVlbTttYXJnaW4tdG9wOjAnPiR7Y29udGVudH08L3A+YCwgdGltZW91dCk7XG59XG5cbi8qKlxuICogRGlzcGxheSB0ZXh0IHRvIHRoZSBsb2NhbCBwbGF5ZXIsIG1ha2luZyBpdCBjbGVhciBpdHMgZnJvbSBNUEFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIE1QQU5vdGlmeVBsYXllcihjb250ZW50OiBzdHJpbmcsIHRpbWVvdXQ/OiBudW1iZXIpOiB2b2lkXG57XG4gICAgTm90aWZ5UGxheWVyKGAke0xvY2FsaXplZFRleHQoXCJNUEFcIil9OiAke2NvbnRlbnR9YCwgdGltZW91dCk7XG59XG5cbi8qKlxuICogRmluZCBhIENoYXJhY3RlciBpbiB0aGUgY2hhdCByb29tIHdpdGggYnkgbnVtYmVyLCBuYW1lLCBvciBuaWNrLiBOb3QgY2FzZSBzZW5zdGl2ZS5cbiAqIElmIG11bHRpcGxlIHBlb3BsZSBleGlzdHMgd2l0aCB0aGUgc2FtZSBuaWNrbmFtZSBvciBuYW1lLiBJdCB3aWxsIHJldHVybiB0aGUgZmlyc3QgcGVyc29uIHRoYXQgbWF0Y2hlcy5cbiAqIFVzZSBNZW1iZXJOdW1iZXIgaWYgeW91IHdhbnQgdG8gZ3VyYW50ZWUgdG8gZmluZCB0aGF0IHNwZWNpZmljIGNoYXJhY3Rlci5cbiAqXG4gKiBAcGFyYW0gc2VhcmNoIC0gVGhlIE1lbWJlck51bWJlciwgTmFtZSwgb3IgTmlja25hbWUgb2YgdGhlIHBlcnNvbiB5b3Ugd2FudCB0byBmaW5kXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBGaW5kQ2hhcmFjdGVySW5Sb29tKHNlYXJjaDogc3RyaW5nIHwgbnVtYmVyLCB7IE1lbWJlck51bWJlciA9IHRydWUsIE5pY2tOYW1lOiBOaWNrbmFtZSA9IHRydWUsIE5hbWUgPSB0cnVlIH0gPSB7fSk6IENoYXJhY3RlciB8IG51bGxcbntcbiAgICAvLyBNYWtlIHN1cmUgcGxheWVyU2VhcmNoIGlzIGEgc3RyaW5nIC0gbm90IGNhc2Ugc2Vuc3RpdmVcbiAgICBpZiAodHlwZW9mIHNlYXJjaCAhPT0gXCJzdHJpbmdcIilcbiAgICB7XG4gICAgICAgIHNlYXJjaCA9IHNlYXJjaC50b1N0cmluZygpO1xuICAgIH1cbiAgICBzZWFyY2ggPSBzZWFyY2gudG9Mb2NhbGVMb3dlckNhc2UoKTtcblxuICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgdGhlIENoYXJhY3RlcnMgaW4gdGhlIGNoYXRcbiAgICBmb3IgKGNvbnN0IGNoYXJhY3RlciBvZiBDaGF0Um9vbUNoYXJhY3RlcilcbiAgICB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIChNZW1iZXJOdW1iZXIgJiYgY2hhcmFjdGVyPy5NZW1iZXJOdW1iZXIgPT09IE51bWJlcihzZWFyY2gpKVxuICAgICAgICAgICAgfHwgKE5pY2tuYW1lICYmIGNoYXJhY3Rlcj8uTmlja25hbWU/LnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09IHNlYXJjaClcbiAgICAgICAgICAgIHx8IChOYW1lICYmIGNoYXJhY3Rlci5OYW1lLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09IHNlYXJjaClcbiAgICAgICAgKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gY2hhcmFjdGVyO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gTm8gY2hhcmFjdGVyIGZvdW5kXG4gICAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogUmVtb3ZlIGFsbCBjb250ZW50IHRoYXQgaXMgT09DIGZyb20gYSBtZXNzYWdlXG4gKiBAcmV0dXJucyBPbmx5IHRoZSBJQyBtZXNzYWdlIGNvbnRlbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFJlbW92ZU9PQ0NvbnRlbnRGcm9tTWVzc2FnZShtZXNzYWdlOiBzdHJpbmcpOiBzdHJpbmdcbntcbiAgICBjb25zdCByYW5nZXMgPSBTcGVlY2hHZXRPT0NSYW5nZXMobWVzc2FnZSkucmV2ZXJzZSgpO1xuICAgIHJhbmdlcy5mb3JFYWNoKChyYW5nZSkgPT5cbiAgICB7XG4gICAgICAgIG1lc3NhZ2UgPSBtZXNzYWdlLnN1YnN0cmluZygwLCByYW5nZS5zdGFydCkgKyBtZXNzYWdlLnN1YnN0cmluZyhyYW5nZS5zdGFydCArIHJhbmdlLmxlbmd0aCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG59XG5cbnR5cGUgTWVzc2FnZUFjdGlvbiA9IChzZW5kZXI6IENoYXJhY3RlciwgY29udGVudDogTVBBTWVzc2FnZUNvbnRlbnQpID0+IHZvaWQ7XG5leHBvcnQgaW50ZXJmYWNlIEhvb2tlZE1lc3NhZ2VcbntcbiAgICBtb2R1bGU6IE1vZHVsZVRpdGxlIHwgbnVsbDtcbiAgICBtZXNzYWdlOiBzdHJpbmc7XG4gICAgYWN0aW9uOiBNZXNzYWdlQWN0aW9uO1xufVxuZXhwb3J0IGNvbnN0IGhvb2tlZE1lc3NhZ2VzOiBIb29rZWRNZXNzYWdlW10gPSBbXTtcblxuLyoqXG4gKiBBZGQgYSBsaXN0ZW5lciBmb3IgYW4gaW5jb21pbmcgTVBBIG1lc3NhZ2VcbiAqIEBwYXJhbSBsaXN0ZW5lci50aXRsZSAtIFdoYXQgbW9kdWxlIGRvZXMgdGhlIGxpc3RlbmVyIGJlbG9uZyB0b1xuICogQHBhcmFtIGxpc3RlbmVyLm1lc3NhZ2UgLSBUaGUgbWVzc2FnZSBzdHJpbmcgdG8gbWF0Y2ggd2l0aCB0aGUgaW5jb21pbmcgbWVzc2FnZVxuICogQHBhcmFtIGxpc3RlbmVyLmFjdGlvbiAtIFJ1biB0aGlzIGZ1bmN0aW9uIHdoZW4gYSBtYXRjaCBpcyBmb3VuZFxuICovXG5leHBvcnQgZnVuY3Rpb24gQWRkRGF0YVN5bmNMaXN0ZW5lcihsaXN0ZW5lcjogSG9va2VkTWVzc2FnZSk6IHZvaWRcbntcbiAgICBob29rZWRNZXNzYWdlcy5wdXNoKHtcbiAgICAgICAgbW9kdWxlOiBsaXN0ZW5lci5tb2R1bGUsXG4gICAgICAgIG1lc3NhZ2U6IGxpc3RlbmVyLm1lc3NhZ2UsXG4gICAgICAgIGFjdGlvbjogbGlzdGVuZXIuYWN0aW9uXG4gICAgfSBhcyBIb29rZWRNZXNzYWdlKTtcbn1cbi8qKlxuICogQWRkIG1hbnkgbGlzdGVuZXJzIGZvciBhbiBpbmNvbWluZyBNUEEgbWVzc2FnZVxuICovXG5leHBvcnQgZnVuY3Rpb24gQWRkRGF0YVN5bmNMaXN0ZW5lcnMobGlzdGVuZXJzOiBIb29rZWRNZXNzYWdlW10pOiB2b2lkXG57XG4gICAgbGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyKSA9PlxuICAgIHtcbiAgICAgICAgaG9va2VkTWVzc2FnZXMucHVzaCh7XG4gICAgICAgICAgICBtb2R1bGU6IGxpc3RlbmVyLm1vZHVsZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGxpc3RlbmVyLm1lc3NhZ2UsXG4gICAgICAgICAgICBhY3Rpb246IGxpc3RlbmVyLmFjdGlvblxuICAgICAgICB9IGFzIEhvb2tlZE1lc3NhZ2UpO1xuICAgIH0pO1xufVxuLyoqXG4gKiBSZW1vdmUgYWxsIHRoZSBsaXN0ZW5lcnMgYmFzZWQgb24gdGhlIE1vZHVsZVRpdGxlXG4gKiBAcGFyYW0gbW9kdWxlIC0gTW9kdWxlIHRoZSBsaXN0ZW5lcnMgeW91IHdhbnQgdG8gcmVtb3ZlIGJlbG9uZ3MgdG9cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFJlbW92ZURhdGFTeW5jTGlzdGVuZXJzKG1vZHVsZTogTW9kdWxlVGl0bGUgfCBudWxsKTogdm9pZFxue1xuICAgIGZvciAobGV0IGkgPSBob29rZWRNZXNzYWdlcy5sZW5ndGggLSAxOyAwIDw9IGk7IGktLSlcbiAgICB7XG4gICAgICAgIGlmIChob29rZWRNZXNzYWdlc1tpXS5tb2R1bGUgPT09IG1vZHVsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgaG9va2VkTWVzc2FnZXMuc3BsaWNlKGksIDEpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gR2V0RW50cnlGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YTogU2VydmVyQ2hhdFJvb21NZXNzYWdlLCBhdHRyaWJ1dGU6IHN0cmluZyk6IENoYXRNZXNzYWdlRGljdGlvbmFyeUVudHJ5IHwgdW5kZWZpbmVkXG57XG4gICAgaWYgKCFkYXRhLkRpY3Rpb25hcnkpXG4gICAge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICB0cnlcbiAgICB7XG4gICAgICAgIHJldHVybiBkYXRhLkRpY3Rpb25hcnkuZmlsdGVyKChlbnRyeSkgPT4gISFlbnRyeVthdHRyaWJ1dGVdKVswXTtcbiAgICB9XG4gICAgY2F0Y2ggKF9lcnJvcilcbiAgICB7XG4gICAgICAgIC8vIGVoaGggdGhpcyBkb2Vzbid0IHdvcmsgY3V6IC5maWx0ZXIgaXMgbm90IGRlZmluZWQgb24gZmlyc3QgbG9hZCBmb3Igc29tZSByZWFzb25cbiAgICAgICAgLy8gTm8gYmlnIGRlYWwgc28gSSBkb24ndCByZWFsbHkgY2FyZSBpZiBpdHMgYW4gaXNzdWUgZm9yIG5vd1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGE6IFNlcnZlckNoYXRSb29tTWVzc2FnZSwgYXR0cmlidXRlOiBzdHJpbmcpOiBhbnkgfCB1bmRlZmluZWRcbntcbiAgICByZXR1cm4gR2V0RW50cnlGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgYXR0cmlidXRlKT8uW2F0dHJpYnV0ZV07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBBcnJheVRvUmVhZGFibGVTdHJpbmcoYXJyOiBzdHJpbmdbXSk6IHN0cmluZ1xue1xuICAgIGNvbnN0IGxlbmd0aCA9IGFyci5sZW5ndGg7XG4gICAgaWYgKGxlbmd0aCA9PT0gMClcbiAgICB7XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbiAgICBlbHNlIGlmIChsZW5ndGggPT09IDEpXG4gICAge1xuICAgICAgICByZXR1cm4gYXJyWzBdO1xuICAgIH1cbiAgICBlbHNlIGlmIChsZW5ndGggPT09IDIpXG4gICAge1xuICAgICAgICByZXR1cm4gYCR7YXJyWzBdfSBhbmQgJHthcnJbMV19YDtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGAke2Fyci5zbGljZSgwLCAtMSkuam9pbihcIiwgXCIpfSwgYW5kICR7YXJyW2xlbmd0aCAtIDFdfWA7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUmFuZG9tRWxlbWVudCwgU2h1ZmZsZUFycmF5IH0gZnJvbSBcIi4vZ2VuZXJhbFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gQXBwZW5kUGV0U3BlZWNoKHRleHQ6IHN0cmluZywgcGV0UGhyYXNlczogc3RyaW5nW10pOiBzdHJpbmdcbntcbiAgICAvLyBObyB2YWxpZCBwZXQgcGhyYXNlcyB0byBhZGRcbiAgICBjb25zdCBwZXRTb3VuZCA9IFJhbmRvbUVsZW1lbnQocGV0UGhyYXNlcyk7XG4gICAgaWYgKHBldFNvdW5kID09PSBudWxsKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfVxuXG4gICAgaWYgKC9bLiE/XSQvLnRlc3QodGV4dCkpXG4gICAge1xuICAgICAgICByZXR1cm4gYCR7dGV4dH0gJHtwZXRTb3VuZC5jaGFyQXQoMCkudG9Mb2NhbGVVcHBlckNhc2UoKSArIHBldFNvdW5kLnNsaWNlKDEpfS5gO1xuICAgIH1cbiAgICBpZiAoL1thLXpBLVpdJC8udGVzdCh0ZXh0KSlcbiAgICB7XG4gICAgICAgIHJldHVybiBgJHt0ZXh0fSwgJHtwZXRTb3VuZH0uYDtcbiAgICB9XG4gICAgcmV0dXJuIGAke3RleHR9ICR7cGV0U291bmR9LmA7XG59XG5cbi8qKlxuICogQXBwbHkgcGV0IGhlYXJpbmcgdG8gYSBTcGVlY2hUcmFuc2Zvcm1HYWdHYXJibGUgaW5wdXRcbiAqIEBwYXJhbSBhcmdzIEFyZ3Mgb2YgdGhlIFNwZWVjaFRyYW5zZm9ybUdhZ0dhcmJsZVxuICogQHBhcmFtIG5leHQgLSBOZXh0IFNwZWVjaFRyYW5zZm9ybUdhZ0dhcmJsZSB0byBjYWxsXG4gKiBAcGFyYW0gcGhyYXNlc1RvS2VlcCAtIFNvdW5kcyB0aGUgcGV0IGtub3dzXG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gQXBwbHlQZXRIZWFyaW5nKFt0ZXh0LCBpbnRlbnNpdHksIGlnbm9yZU9PQ106IFtzdHJpbmcsIG51bWJlciwgYm9vbGVhbiB8IHVuZGVmaW5lZF0sXG4gICAgbmV4dDogKGFyZ3M6IFt0ZXh0OiBzdHJpbmcsIGludGVuc2l0eTogbnVtYmVyLCBpZ25vcmVPT0M/OiBib29sZWFuIHwgdW5kZWZpbmVkXSkgPT4gc3RyaW5nLFxuICAgIHBocmFzZXNUb0tlZXA6IHN0cmluZ1tdKTogc3RyaW5nXG57XG4gICAgLy8gU3BsaXQgdGhlIGlucHV0IHRleHQgaW50byBkaWZmZXJlbnQgc3Vic3RyaW5ncyBleGx1ZGluZyB0aGUgd29yZHMgeW91IHdhbnQgdG8ga2VlcFxuICAgIC8vIFN0ZXAgMTogR2V0IHRoZSB3b3JkcyB5b3Ugd2FudCB0byBrZWVwIGlmIGFueVxuICAgIC8vIGNvbnN0IHBocmFzZXNUb0tlZXAgPSBHZXRQZXRIZWFyaW5nUGhyYXNlcygpO1xuICAgIC8vIEFkZCB0aGUgUGxheWVyJ3MgbmFtZSBhcyBhIHdvcmQgdGhleSBjYW4gaGVhclxuICAgIHBocmFzZXNUb0tlZXAucHVzaCgoUGxheWVyLk5pY2tuYW1lIHx8IFBsYXllci5OYW1lKS50b0xvY2FsZUxvd2VyQ2FzZSgpKTtcbiAgICAvLyBBZGQgdGhlIFBsYXllcidzIGdlbmRlciBhcyBpbiB0aGUgZXhhbXBsZSwgXCJHb29kIGdpcmxcIlxuICAgIGlmIChQbGF5ZXIuR2V0UHJvbm91bnMoKSA9PT0gXCJTaGVIZXJcIilcbiAgICB7XG4gICAgICAgIHBocmFzZXNUb0tlZXAucHVzaChcImdpcmxcIik7XG4gICAgICAgIHBocmFzZXNUb0tlZXAucHVzaChcInNoZVwiKTtcbiAgICAgICAgcGhyYXNlc1RvS2VlcC5wdXNoKFwiaGVyXCIpO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICBwaHJhc2VzVG9LZWVwLnB1c2goXCJib3lcIik7XG4gICAgICAgIHBocmFzZXNUb0tlZXAucHVzaChcImhlXCIpO1xuICAgICAgICBwaHJhc2VzVG9LZWVwLnB1c2goXCJoaW1cIik7XG4gICAgfVxuXG4gICAgLy8gU3RlcCAyOiBGaW5kIHRoZSBtYXRjaGVzIGlmIHRoZXkgZXhpc3QgaW4gdGhlIG9yZ2luYWwgbWVzc2FnZVxuICAgIC8vIENoZWNrIGxvd2VyIGNhc2UgY3V6IHRoZSBwaHJhc2Ugd2UgbG9va2luZyBmb3IgaW4gbG93ZXIgY2FzZSwgZG9lcyBub3QgbWF0dGVyIGZvciBmaW5hbCByZXN1bHQsIG9ubHkgd2FudCBwb3NpdGlvblxuICAgIGNvbnN0IG1lc3NhZ2UgPSB0ZXh0LnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgaW50ZXJmYWNlIFJhbmdlIHsgc3RhcnQ6IG51bWJlcjsgbGVuOiBudW1iZXIgfVxuICAgIGxldCBmb3VuZFBocmFzZXM6IFJhbmdlW10gPSBbXTtcbiAgICBwaHJhc2VzVG9LZWVwLmZvckVhY2goKHBocmFzZSkgPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IHJlZ0V4cCA9IG5ldyBSZWdFeHAoYFxcXFxiJHtwaHJhc2V9XFxcXGJgLCBcImdcIik7XG4gICAgICAgIGNvbnN0IHJlZ2V4TWF0Y2hlcyA9IFsuLi5tZXNzYWdlLm1hdGNoQWxsKHJlZ0V4cCldO1xuICAgICAgICByZWdleE1hdGNoZXMuZm9yRWFjaCgobWF0Y2gpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvdW5kUGhyYXNlcy5wdXNoKHsgc3RhcnQ6IG1hdGNoLmluZGV4LCBsZW46IHBocmFzZS5sZW5ndGggfSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLy8gUmVtb3ZlIGR1cGxpY2F0ZXMgYmVjYXVzZSBJIGFtIHRvbyBsYXp5IHRvIHByb3Blcmx5IGRlYnVnIHdoeSBkdXBsaWNhdGVzIGFyZSBiZWluZyBwb3B1bGF0ZWRcbiAgICBjb25zdCB1bmlxdWVSYW5nZXMgPSBuZXcgTWFwPHN0cmluZywgUmFuZ2U+KCk7XG4gICAgZm9yIChjb25zdCBpdGVtIG9mIGZvdW5kUGhyYXNlcylcbiAgICB7XG4gICAgICAgIGNvbnN0IGtleSA9IGAke2l0ZW0uc3RhcnR9LSR7aXRlbS5sZW59YDtcbiAgICAgICAgaWYgKCF1bmlxdWVSYW5nZXMuaGFzKGtleSkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHVuaXF1ZVJhbmdlcy5zZXQoa2V5LCBpdGVtKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3VuZFBocmFzZXMgPSBBcnJheS5mcm9tKHVuaXF1ZVJhbmdlcy52YWx1ZXMoKSk7XG5cbiAgICAvLyBObyBtYXRjaGVzIGZvdW5kIHNvIGNhbiBza2lwIGFuZCBlYXJseSByZXR1cm5cbiAgICBpZiAoZm91bmRQaHJhc2VzLmxlbmd0aCA9PT0gMClcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXh0KFt0ZXh0LCBpbnRlbnNpdHksIGlnbm9yZU9PQ10pO1xuICAgIH1cblxuICAgIC8vIFNvcnQgc28gdGhhdCBpdCBpcyBjb25zdHJ1Y3RlZCBpbiB0aGUgY29ycmVjdCBvcmRlciB3aGVuIHB1dCBiYWNrIHRvZ2V0aGVyOyBsb3dlciBzdGFydGluZyBpbmRleGVzIGZpcnN0XG4gICAgZm91bmRQaHJhc2VzLnNvcnQoKGEsIGIpID0+IGEuc3RhcnQgLSBiLnN0YXJ0KTtcbiAgICAvLyBSZW1vdmUgYW55IHBocmFzZXMgdGhhdCBhcmUgZm91bmQgd2l0aGluIE9PQyBzcGVlY2ggcmFuZ2U7XG4gICAgY29uc3Qgb29jUmFuZ2VzID0gU3BlZWNoR2V0T09DUmFuZ2VzKHRleHQpO1xuICAgIG9vY1Jhbmdlcy5mb3JFYWNoKChyYW5nZSkgPT5cbiAgICB7XG4gICAgICAgIGZvciAobGV0IGkgPSBmb3VuZFBocmFzZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHBocmFzZSA9IGZvdW5kUGhyYXNlc1tpXTtcbiAgICAgICAgICAgIC8vIFJlbW92ZSBpZiB0aGUgcGhyYXNlIHN0YXJ0cyBvciBlbmRzIHdpdGhpbiB0aGUgb29jIHJhbmdlXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgKHJhbmdlLnN0YXJ0IDwgcGhyYXNlLnN0YXJ0ICYmIHBocmFzZS5zdGFydCA8IHJhbmdlLnN0YXJ0ICsgcmFuZ2UubGVuZ3RoKVxuICAgICAgICAgICAgICAgIHx8IChyYW5nZS5zdGFydCA8IHBocmFzZS5zdGFydCArIHBocmFzZS5sZW4gJiYgcGhyYXNlLnN0YXJ0ICsgcGhyYXNlLmxlbiA8IHJhbmdlLnN0YXJ0ICsgcmFuZ2UubGVuZ3RoKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZvdW5kUGhyYXNlcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIE1heSBuZWVkIHRvIGNoZWNrIHRoYXQgb25lIHBocmFzZSBkb2VzIG5vdCBzdGFydCBiZWZvcmUgYW5vdGhlciBlbmRzLCBhbmQgaWYgc28gbWVyZ2UgaW50byBhIHNpbmdsZSBsb25nZXIgZW50cnlcbiAgICBsZXQgbGFzdEluZGV4ID0gMDtcbiAgICBsZXQgZmluYWxUZXh0ID0gXCJcIjtcbiAgICBmb3VuZFBocmFzZXMuZm9yRWFjaCgoZm91bmQpID0+XG4gICAge1xuICAgICAgICAvLyBCZWZvcmUgdGhlIHBocmFzZSB0byBvbWl0XG4gICAgICAgIGZpbmFsVGV4dCArPSBuZXh0KFt0ZXh0LnN1YnN0cmluZyhsYXN0SW5kZXgsIGZvdW5kLnN0YXJ0KSwgaW50ZW5zaXR5LCBpZ25vcmVPT0NdKTtcblxuICAgICAgICAvLyBQaHJhc2Ugd2Ugd2FudCB0byBvbWl0XG4gICAgICAgIGxhc3RJbmRleCA9IGZvdW5kLnN0YXJ0ICsgZm91bmQubGVuO1xuICAgICAgICBmaW5hbFRleHQgKz0gdGV4dC5zdWJzdHJpbmcoZm91bmQuc3RhcnQsIGZvdW5kLnN0YXJ0ICsgZm91bmQubGVuKTtcbiAgICB9KTtcbiAgICAvLyBMYXN0IG9mIHRoZSB0ZXh0IHRvIGdhcmJsZSB1cFxuICAgIGZpbmFsVGV4dCArPSBuZXh0KFt0ZXh0LnN1YnN0cmluZyhsYXN0SW5kZXgpLCBpbnRlbnNpdHksIGlnbm9yZU9PQ10pO1xuXG4gICAgcmV0dXJuIGZpbmFsVGV4dDtcbn07XG5cbmNvbnN0IFJVU0hFRF9TUEVBS19QRVJDRU5UQUdFID0gMC41O1xuY29uc3QgUEVUX1NQRUFLX1NUUkVOR1RIX01BUCA9IE9iamVjdC5mcmVlemUoe1xuICAgIExvdzogMC4wMSxcbiAgICBNZWRpdW06IDAuMDI1LFxuICAgIEhpZ2g6IDAuMDUsXG4gICAgTWF4OiAwLjEyNVxufSk7XG5jb25zdCBQRVRfU1BFQUtfRU5EX1BFUkNFTlRBR0UgPSBPYmplY3QuZnJlZXplKHtcbiAgICBMb3c6IDAuMDUsXG4gICAgTWVkaXVtOiAwLjEsXG4gICAgSGlnaDogMC4yLFxuICAgIE1heDogMC4yNVxufSk7XG5cbi8qKlxuICogQWRkIHBldCBzb3VuZHMgdG8gdGhlIGlucHV0IHNwZWVjaCB3aGlsZSBub3QgZ2FyYmxpbmcgYW55dGhpbmdcbiAqIEBwYXJhbSBtc2cgU3BlZWNoIHRvIGNoYW5nZVxuICogQHBhcmFtIGFsbG93ZWRQZXRQaHJhc2VzIFBldCBzb3VuZHMgdG8gYWRkXG4gKiBAcGFyYW0gc3RyZW5ndGggaG93IG11Y2ggcmVwbGFjaW5nIHRvIGRvXG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gTm9uRGlzcnVwdGl2ZVBldFNwZWVjaChcbiAgICBtc2c6IHN0cmluZyxcbiAgICBhbGxvd2VkUGV0UGhyYXNlczogc3RyaW5nW10sXG4gICAgc3RyZW5ndGg6IFwiT2ZmXCIgfCBcIkxvd1wiIHwgXCJNZWRpdW1cIiB8IFwiSGlnaFwiIHwgXCJNYXhcIlxuKTogc3RyaW5nXG57XG4gICAgLy8gTm8gcGhyYXNlcyB3ZSBjYW4gdXNlLCBza2lwXG4gICAgaWYgKGFsbG93ZWRQZXRQaHJhc2VzLmxlbmd0aCA9PT0gMCB8fCBzdHJlbmd0aCA9PT0gXCJPZmZcIilcbiAgICB7XG4gICAgICAgIHJldHVybiBtc2c7XG4gICAgfVxuXG4gICAgLy8gVXNlIGJ1Y2tldCBzeXN0ZW0gc28gd29yZHMgYXBwZWFyIGxlc3MgcmFuZG9tXG4gICAgLy8gQnVja2V0IGlzIDJ4IGFsbG93ZWQgcGV0IHBocmFzZXMgYmVmb3JlIHJlZmlsbGluZ1xuICAgIGxldCBwZXRQaHJhc2VCdWNrZXQ6IHN0cmluZ1tdID0gW107XG4gICAgZnVuY3Rpb24gR2V0UGV0UGhyYXNlKCk6IHN0cmluZ1xuICAgIHtcbiAgICAgICAgaWYgKHBldFBocmFzZUJ1Y2tldC5sZW5ndGggPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHBldFBocmFzZUJ1Y2tldCA9IGFsbG93ZWRQZXRQaHJhc2VzLmNvbmNhdChhbGxvd2VkUGV0UGhyYXNlcyk7XG4gICAgICAgICAgICBwZXRQaHJhc2VCdWNrZXQgPSBTaHVmZmxlQXJyYXkocGV0UGhyYXNlQnVja2V0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGV0UGhyYXNlQnVja2V0LnBvcCgpID8/IFwiXCI7XG4gICAgfVxuXG4gICAgLy8gTG9vcCB0aHJvdWdoIGFsbCB0aGUgb29jIHJhbmdlcyB0byBzcGxpdCB0ZXh0IGludG8gb29jIGFuZCBub24gb29jIGNodW5rc1xuICAgIC8vIFNraXAgYWRkaW5nIHBldCBzb3VuZHMgdG8gb29jIHNlZ21lbnRzXG4gICAgbGV0IG5leHRJbmRleCA9IDA7XG4gICAgbGV0IHNlZ21lbnRzOiB7IHRleHQ6IHN0cmluZzsgb29jOiBib29sZWFuIH1bXSA9IFtdO1xuICAgIGNvbnN0IG9vY1JhbmdlcyA9IFNwZWVjaEdldE9PQ1Jhbmdlcyhtc2cpO1xuICAgIGZvciAoY29uc3QgcmFuZ2Ugb2Ygb29jUmFuZ2VzKVxuICAgIHtcbiAgICAgICAgaWYgKG1zZy5zdWJzdHJpbmcobmV4dEluZGV4LCByYW5nZS5zdGFydCkgIT09IFwiXCIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNlZ21lbnRzLnB1c2goeyB0ZXh0OiBtc2cuc3Vic3RyaW5nKG5leHRJbmRleCwgcmFuZ2Uuc3RhcnQpLCBvb2M6IGZhbHNlIH0pO1xuICAgICAgICB9XG4gICAgICAgIHNlZ21lbnRzLnB1c2goeyB0ZXh0OiBtc2cuc3Vic3RyaW5nKHJhbmdlLnN0YXJ0LCByYW5nZS5zdGFydCArIHJhbmdlLmxlbmd0aCksIG9vYzogdHJ1ZSB9KTtcbiAgICAgICAgbmV4dEluZGV4ID0gcmFuZ2Uuc3RhcnQgKyByYW5nZS5sZW5ndGg7XG4gICAgfVxuICAgIC8vIEFkZCBsYXN0IHNlZ21lbnQgZnJvbSBlbmQgb2YgcmFuZ2UgdG8gZW5kIG9mIHRleHRcbiAgICBjb25zdCBsYXN0Qml0ID0gbXNnLnN1YnN0cmluZyhuZXh0SW5kZXgpO1xuICAgIGlmIChsYXN0Qml0ICE9PSBcIlwiKVxuICAgIHtcbiAgICAgICAgc2VnbWVudHMucHVzaCh7IHRleHQ6IGxhc3RCaXQsIG9vYzogZmFsc2UgfSk7XG4gICAgfVxuICAgIC8vIE1vdmUgYW55IHdoaXRlc3BhY2Ugb24gdGhlIHJpZ2h0IHNpZGUgb2YgYW4gZWxlbWVudCB0byB0aGUgbGVmdCBzaWRlIG9mIHRoZSBuZXh0IGVsZW1lbnRcbiAgICAvLyBNYWtlcyBmaW5hbCBmb3JtYXR0aW5nIGNsZWFuZXIgYW5kIGVhc2llclxuICAgIHNlZ21lbnRzID0gc2VnbWVudHMubWFwKChvYmosIGkpID0+XG4gICAge1xuICAgICAgICBjb25zdCB0cmFpbGluZ1doaXRlc3BhY2UgPSAvXFxzKyQvLmV4ZWMob2JqLnRleHQpO1xuICAgICAgICBvYmoudGV4dCA9IG9iai50ZXh0LnJlcGxhY2UoL1xccyskLywgXCJcIik7IC8vIFJlbW92ZSB0cmFpbGluZyB3aGl0ZXNwYWNlIGZyb20gY3VycmVudCB0ZXh0XG4gICAgICAgIGlmICh0cmFpbGluZ1doaXRlc3BhY2UgJiYgc2VnbWVudHNbaSArIDFdKVxuICAgICAgICB7XG4gICAgICAgICAgICBzZWdtZW50c1tpICsgMV0udGV4dCA9IHRyYWlsaW5nV2hpdGVzcGFjZVswXSArIHNlZ21lbnRzW2kgKyAxXS50ZXh0OyAvLyBQcmVwZW5kIHdoaXRlc3BhY2UgdG8gbmV4dCB0ZXh0XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9KTtcblxuICAgIC8vIHBldCBzcGVhayBwZXJjZW50IHZhbHVlc1xuICAgIGNvbnN0IHdvcmRTdGVuZ3RoID0gUEVUX1NQRUFLX1NUUkVOR1RIX01BUFtzdHJlbmd0aF07XG4gICAgY29uc3QgZW5kU3Rlbmd0aCA9IFBFVF9TUEVBS19FTkRfUEVSQ0VOVEFHRVtzdHJlbmd0aF07XG4gICAgY29uc3Qgc3BlYWtSZXF1aXJlZCA9IHN0cmVuZ3RoID09PSBcIkhpZ2hcIiB8fCBzdHJlbmd0aCA9PT0gXCJNYXhcIjtcblxuICAgIC8vIEZvciBlYWNoIG5vbiBvb2Mgc2VnbWVudCBwZXRpZnkgc3BlYWsgaXRcbiAgICBsZXQgc3Bva2VQZXQgPSBmYWxzZTtcbiAgICBsZXQgbmV3TXNnID0gXCJcIjtcbiAgICBmb3IgKGNvbnN0IHNlZ21lbnQgb2Ygc2VnbWVudHMpXG4gICAge1xuICAgICAgICBpZiAoc2VnbWVudC5vb2MpXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5ld01zZyArPSBzZWdtZW50LnRleHQ7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNwbGl0UGhyYXNlID0gc2VnbWVudC50ZXh0Lm1hdGNoKC8oXFxzKlxcUyspL2cpIHx8IFtdO1xuICAgICAgICBsZXQgcHJldmlvdXNXb3JkOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgICAgICAgc3BsaXRQaHJhc2UuZm9yRWFjaCgod29yZCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgLy8gUmFuZG9tIGNoYW5jZSBmb3IgYSBwZXQgc291bmQgdG8gYXBwZWFyIGJlZm9yZSB0aGUgY3VycmVudCB3b3JkXG4gICAgICAgICAgICBpZiAoTWF0aC5yYW5kb20oKSA8IHdvcmRTdGVuZ3RoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNwb2tlUGV0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb25zdCBwZXRTb3VuZCA9IEdldFBldFBocmFzZSgpO1xuXG4gICAgICAgICAgICAgICAgY29uc3Qgbm9QcmV2ID0gcHJldmlvdXNXb3JkID09PSBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChub1ByZXYgfHwgL1suIT9dJC8udGVzdChwcmV2aW91c1dvcmQgPz8gXCJcIikpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuZXdNc2cgKz0gYCR7bm9QcmV2ID8gXCJcIiA6IFwiIFwifSR7cGV0U291bmQuY2hhckF0KDApLnRvTG9jYWxlVXBwZXJDYXNlKCl9JHtwZXRTb3VuZC5zbGljZSgxKX1gXG4gICAgICAgICAgICAgICAgICAgICsgYCR7L1suIT9dJC8udGVzdCh3b3JkKSB8fCBub1ByZXYgPyBgLiR7bm9QcmV2ID8gXCIgXCIgOiBcIlwifWAgOiBcIiwgXCJ9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3TXNnICs9IGAke01hdGgucmFuZG9tKCkgPCBSVVNIRURfU1BFQUtfUEVSQ0VOVEFHRSAmJiAhKHByZXZpb3VzV29yZCA/PyBcIlwiKS5lbmRzV2l0aChcIixcIikgPyBcIixcIiA6IFwiXCJ9ICR7cGV0U291bmR9LGA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV3TXNnICs9IHdvcmQ7XG4gICAgICAgICAgICBwcmV2aW91c1dvcmQgPSB3b3JkO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBJZiBubyBwZXQgd29yZHMgaGF2ZSBiZWVuIHNwb2tlbiBzbyBmYXIsIGVuZCB3aXRoIG9uZSBvciBhIGNoYW5jZSBmb3IgaXQgdG8gZW5kIHdpdGggb25lIGFueXdheVxuICAgICAgICBpZiAoXG4gICAgICAgICAgICBzZWdtZW50cy5zbGljZSgpLnJldmVyc2UoKS5maW5kKChpdGVtKSA9PiAhaXRlbS5vb2MpPy50ZXh0ID09PSBzZWdtZW50LnRleHQgLy8gTGFzdCBub24gb29jIHNlZ21lbnRcbiAgICAgICAgICAgICYmICgoc3BlYWtSZXF1aXJlZCAmJiAhc3Bva2VQZXQpXG4gICAgICAgICAgICB8fCBNYXRoLnJhbmRvbSgpIDwgZW5kU3Rlbmd0aClcbiAgICAgICAgKVxuICAgICAgICB7XG4gICAgICAgICAgICBuZXdNc2cgPSBBcHBlbmRQZXRTcGVlY2gobmV3TXNnLCBbR2V0UGV0UGhyYXNlKCldKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBuZXdNc2c7XG59XG5cbi8qKlxuICogUmVwbGFjZSBlYWNoIHdvcmQgaW4gdGhlIHRleHQgd2l0aCBhIHBldCBzb3VuZCBiYXNlZCBvbiB0aGUgc3RyZW5ndGhcbiAqIEBwYXJhbSBtc2cgLSBUZXh0IHRvIHByb2Nlc3NcbiAqIEBwYXJhbSBhbGxvd2VkUGV0UGhyYXNlcyAtIFBldCBzb3VuZHMgdG8gdXNlXG4gKiBAcGFyYW0gc3RyZW5ndGggLSAwIHRvIDEgaW5jbHVzaXZlXG4gKiBAcmV0dXJucyBBIG5ldyBjb3B5IG9mIHRoZSBwcm9jZXNzZWQgdGV4dFxuICovXG5leHBvcnQgZnVuY3Rpb24gRGlzcnVwdGl2ZVBldFNwZWVjaChcbiAgICBtc2c6IHN0cmluZyxcbiAgICBhbGxvd2VkUGV0UGhyYXNlczogc3RyaW5nW10sXG4gICAgc3RyZW5ndGg6IG51bWJlclxuKTogc3RyaW5nXG57XG4gICAgLy8gTm8gcGhyYXNlcyB3ZSBjYW4gdXNlLCBza2lwXG4gICAgaWYgKGFsbG93ZWRQZXRQaHJhc2VzLmxlbmd0aCA9PT0gMClcbiAgICB7XG4gICAgICAgIHJldHVybiBtc2c7XG4gICAgfVxuXG4gICAgLy8gU3RyZW5ndGggc2hvdWxkIGJlIGJldHdlZW4gMCBhbmQgMVxuICAgIHN0cmVuZ3RoID0gKHN0cmVuZ3RoID4gMSkgPyAxIDogKHN0cmVuZ3RoIDwgMCkgPyAwIDogc3RyZW5ndGg7XG5cbiAgICAvLyBVc2UgYnVja2V0IHN5c3RlbSBzbyB3b3JkcyBhcHBlYXIgbGVzcyByYW5kb21cbiAgICAvLyBCdWNrZXQgaXMgMnggYWxsb3dlZCBwZXQgcGhyYXNlcyBiZWZvcmUgcmVmaWxsaW5nXG4gICAgbGV0IHBldFBocmFzZUJ1Y2tldDogc3RyaW5nW10gPSBbXTtcbiAgICBmdW5jdGlvbiBHZXRQZXRQaHJhc2UoKTogc3RyaW5nXG4gICAge1xuICAgICAgICBpZiAocGV0UGhyYXNlQnVja2V0Lmxlbmd0aCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgcGV0UGhyYXNlQnVja2V0ID0gYWxsb3dlZFBldFBocmFzZXMuY29uY2F0KGFsbG93ZWRQZXRQaHJhc2VzKTtcbiAgICAgICAgICAgIHBldFBocmFzZUJ1Y2tldCA9IFNodWZmbGVBcnJheShwZXRQaHJhc2VCdWNrZXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwZXRQaHJhc2VCdWNrZXQucG9wKCkgPz8gXCJcIjtcbiAgICB9XG5cbiAgICAvLyBMb29wIHRocm91Z2ggYWxsIHRoZSBvb2MgcmFuZ2VzIHRvIHNwbGl0IHRleHQgaW50byBvb2MgYW5kIG5vbiBvb2MgY2h1bmtzXG4gICAgLy8gU2tpcCBhZGRpbmcgcGV0IHNvdW5kcyB0byBvb2Mgc2VnbWVudHNcbiAgICBsZXQgbmV4dEluZGV4ID0gMDtcbiAgICBjb25zdCBzZWdtZW50czogeyB0ZXh0OiBzdHJpbmc7IG9vYzogYm9vbGVhbiB9W10gPSBbXTtcbiAgICBjb25zdCBvb2NSYW5nZXMgPSBTcGVlY2hHZXRPT0NSYW5nZXMobXNnKTtcbiAgICBmb3IgKGNvbnN0IHJhbmdlIG9mIG9vY1JhbmdlcylcbiAgICB7XG4gICAgICAgIGlmIChtc2cuc3Vic3RyaW5nKG5leHRJbmRleCwgcmFuZ2Uuc3RhcnQpICE9PSBcIlwiKVxuICAgICAgICB7XG4gICAgICAgICAgICBzZWdtZW50cy5wdXNoKHsgdGV4dDogbXNnLnN1YnN0cmluZyhuZXh0SW5kZXgsIHJhbmdlLnN0YXJ0KSwgb29jOiBmYWxzZSB9KTtcbiAgICAgICAgfVxuICAgICAgICBzZWdtZW50cy5wdXNoKHsgdGV4dDogbXNnLnN1YnN0cmluZyhyYW5nZS5zdGFydCwgcmFuZ2Uuc3RhcnQgKyByYW5nZS5sZW5ndGgpLCBvb2M6IHRydWUgfSk7XG4gICAgICAgIG5leHRJbmRleCA9IHJhbmdlLnN0YXJ0ICsgcmFuZ2UubGVuZ3RoO1xuICAgIH1cbiAgICAvLyBBZGQgbGFzdCBzZWdtZW50IGZyb20gZW5kIG9mIHJhbmdlIHRvIGVuZCBvZiB0ZXh0XG4gICAgY29uc3QgbGFzdEJpdCA9IG1zZy5zdWJzdHJpbmcobmV4dEluZGV4KTtcbiAgICBpZiAobGFzdEJpdCAhPT0gXCJcIilcbiAgICB7XG4gICAgICAgIHNlZ21lbnRzLnB1c2goeyB0ZXh0OiBsYXN0Qml0LCBvb2M6IGZhbHNlIH0pO1xuICAgIH1cblxuICAgIC8vIEZvciBlYWNoIG5vbiBvb2Mgc2VnbWVudCBwZXRpZnkgc3BlYWsgaXRcbiAgICBsZXQgbmV3TXNnID0gXCJcIjtcbiAgICBmb3IgKGNvbnN0IHNlZ21lbnQgb2Ygc2VnbWVudHMpXG4gICAge1xuICAgICAgICBpZiAoc2VnbWVudC5vb2MpXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5ld01zZyArPSBzZWdtZW50LnRleHQ7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIG5ld01zZyArPSBzZWdtZW50LnRleHQucmVwbGFjZSgvXFxiXFx3K1xcYi9nLCAobWF0Y2gpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChNYXRoLnJhbmRvbSgpID4gc3RyZW5ndGgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcGV0UGhyYXNlID0gR2V0UGV0UGhyYXNlKCk7XG4gICAgICAgICAgICBpZiAoL15bQS1aXSskLy50ZXN0KG1hdGNoKSAmJiBtYXRjaC5sZW5ndGggPiAxKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBwZXRQaHJhc2UudG9Mb2NhbGVVcHBlckNhc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgvXltBLVpdLiokLy50ZXN0KG1hdGNoKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGV0UGhyYXNlLnN1YnN0cmluZygwLCAxKS50b0xvY2FsZVVwcGVyQ2FzZSgpICsgcGV0UGhyYXNlLnN1YnN0cmluZygxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwZXRQaHJhc2U7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBuZXdNc2c7XG59XG4iLCJpbXBvcnQgeyBNb2R1bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9fbW9kdWxlXCI7XG5pbXBvcnQgeyBMb2FkU3RvcmFnZSB9IGZyb20gXCIuL3N0b3JhZ2VcIjtcbmltcG9ydCB7IERhdGFTeW5jTW9kdWxlIH0gZnJvbSBcIi4uL21vZHVsZXMvZGF0YVN5bmNcIjtcbmltcG9ydCB7IFNldHRpbmdzTW9kdWxlIH0gZnJvbSBcIi4uL21vZHVsZXMvc2V0dGluZ3NcIjtcbmltcG9ydCB7IEFjdGl2aXRpZXNNb2R1bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9hY3Rpdml0aWVzXCI7XG5pbXBvcnQgeyBDbGlja2VyTW9kdWxlIH0gZnJvbSBcIi4uL21vZHVsZXMvY2xpY2tlclwiO1xuaW1wb3J0IHsgVmlydHVhbFBldE1vZHVsZSB9IGZyb20gXCIuLi9tb2R1bGVzL3ZpcnR1YWxQZXRcIjtcbmltcG9ydCB7IFZpcnR1YWxQZXRIVURNb2R1bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy92aXJ0dWFsUGV0SFVEXCI7XG5pbXBvcnQgeyBWaXJ0dWFsUGV0Q29uZGl0aW9uc01vZHVsZSB9IGZyb20gXCIuLi9tb2R1bGVzL3ZpcnR1YWxQZXRDb25kaXRpb25zXCI7XG5pbXBvcnQgeyBQcm9maWxlTW9kdWxlIH0gZnJvbSBcIi4uL21vZHVsZXMvcHJvZmlsZVwiO1xuaW1wb3J0IHsgU2V0dGluZ3NPdGhlck1vZHVsZSB9IGZyb20gXCIuLi9tb2R1bGVzL3NldHRpbmdzT3RoZXJzXCI7XG5pbXBvcnQgeyBBdXRob3JpdHlNb2R1bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9hdXRob3JpdHlcIjtcbmltcG9ydCB7IFByaXZhdGVNb2R1bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9wcml2YXRlXCI7XG5cbmxldCBtb2R1bGVzUmVnaXN0ZXJlZCA9IGZhbHNlO1xuXG5leHBvcnQgY29uc3QgbW9kdWxlczogTW9kdWxlW10gPSBbXG4gICAgbmV3IERhdGFTeW5jTW9kdWxlKCksXG4gICAgbmV3IFNldHRpbmdzTW9kdWxlKCksXG4gICAgbmV3IEFjdGl2aXRpZXNNb2R1bGUoKSxcbiAgICBuZXcgQ2xpY2tlck1vZHVsZSgpLFxuICAgIG5ldyBWaXJ0dWFsUGV0TW9kdWxlKCksXG4gICAgbmV3IFZpcnR1YWxQZXRIVURNb2R1bGUoKSxcbiAgICBuZXcgVmlydHVhbFBldENvbmRpdGlvbnNNb2R1bGUoKSxcbiAgICBuZXcgUHJvZmlsZU1vZHVsZSgpLFxuICAgIG5ldyBTZXR0aW5nc090aGVyTW9kdWxlKCksXG4gICAgbmV3IEF1dGhvcml0eU1vZHVsZSgpLFxuICAgIG5ldyBQcml2YXRlTW9kdWxlKClcbl07XG5cbmV4cG9ydCBjb25zdCBzZXR0aW5nczogUGFydGlhbDxNUEFTZXR0aW5ncz4gPSB7fTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFJlZ2lzdGVyTW9kdWxlcygpOiBQcm9taXNlPHZvaWQ+XG57XG4gICAgLy8gTm8gZHVwbGljYXRlIG1vZHVsZSByZWdpc3RlcmluZ1xuICAgIGlmIChtb2R1bGVzUmVnaXN0ZXJlZCkgeyByZXR1cm47IH1cblxuICAgIG1vZHVsZXMuZm9yRWFjaCgobW9kdWxlKSA9PlxuICAgIHtcbiAgICAgICAgLy8gR2V0IGFsbCB0aGUgc2V0dGluZ3NcbiAgICAgICAgY29uc3QgbW9kU2V0ID0gbW9kdWxlLlNldHRpbmdzO1xuICAgICAgICBjb25zdCBuZXdTZXR0aW5ncyA9IHt9O1xuICAgICAgICBtb2RTZXQuZm9yRWFjaCgoc2V0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBuZXdTZXR0aW5nc1tzZXQubmFtZV0gPSBzZXQ7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoT2JqZWN0LmtleXMobmV3U2V0dGluZ3MpLmxlbmd0aCAhPT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgc2V0dGluZ3NbbW9kdWxlLlRpdGxlXSA9IG5ld1NldHRpbmdzO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgYXdhaXQgTG9hZFN0b3JhZ2UoKTtcblxuICAgIC8vIExvYWQgdGhlIG1vZHVsZXNcbiAgICBtb2R1bGVzLmZvckVhY2goKG1vZHVsZSkgPT5cbiAgICB7XG4gICAgICAgIG1vZHVsZS5Mb2FkKCk7XG4gICAgfSk7XG4gICAgbW9kdWxlc1JlZ2lzdGVyZWQgPSB0cnVlO1xufVxuIiwiaW1wb3J0IGJjTW9kU2RrLCB7IEdldERvdGVkUGF0aFR5cGUsIE1vZFNES01vZEFQSSwgUGF0Y2hIb29rIH0gZnJvbSBcImJvbmRhZ2UtY2x1Yi1tb2Qtc2RrXCI7XG5pbXBvcnQgeyBNb2R1bGVUaXRsZSB9IGZyb20gXCIuLi9tb2R1bGVzL19tb2R1bGVcIjtcbmltcG9ydCB7IE1QQV9OQU1FLCBNUEFfUkVQTywgTVBBX1ZFUlNJT04gfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcblxuaW50ZXJmYWNlIEhvb2tlZEZ1bmN0aW9uXG57XG4gICAgZnVuY3Rpb25OYW1lOiBzdHJpbmc7XG4gICAgcHJpb3JpdHk6IG51bWJlcjtcbiAgICBob29rOiBQYXRjaEhvb2s7XG4gICAgbW9kdWxlOiBzdHJpbmcgfCBudWxsO1xuICAgIHJlbW92ZUhvb2s6ICgpID0+IHZvaWQ7XG59XG5jb25zdCBob29rczogSG9va2VkRnVuY3Rpb25bXSA9IFtdO1xuXG5leHBvcnQgY29uc3QgbW9kQVBJOiBNb2RTREtNb2RBUEkgPSBiY01vZFNkay5yZWdpc3Rlck1vZCh7XG4gICAgbmFtZTogTVBBX05BTUUsXG4gICAgdmVyc2lvbjogTVBBX1ZFUlNJT04sXG4gICAgZnVsbE5hbWU6IFwiTWF5YSdzIFBldHBsYXkgQWRkaXRpb25zXCIsXG4gICAgcmVwb3NpdG9yeTogTVBBX1JFUE9cbn0sIHtcbiAgICBhbGxvd1JlcGxhY2U6IGZhbHNlXG59KTtcblxuLyoqXG4gKiBIb29rIGEgQkMgZnVuY3Rpb25cbiAqIEBwYXJhbSBtb2R1bGUgLSBUaGUgdGl0bGUgb2YgdGhlIG1vZHVsZSB0aGUgaG9vayBpcyBiZWluZyB1c2VkIGluXG4gKiBAdGVtcGxhdGUgVEZ1bmN0aW9uTmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBob29rZWQgZnVuY3Rpb24sIF9lLmcuXyBgXCJQbGF5ZXIuQ2FuQ2hhbmdlXCJgXG4gKiBAcGFyYW0gZnVuY3Rpb25OYW1lIC0gTmFtZSBvZiBmdW5jdGlvbiB0byBob29rLiBDYW4gY29udGFpbiBkb3RzIHRvIGNoYW5nZSBtZXRob2RzIGluIG9iamVjdHMgKGUuZy4gYFBsYXllci5DYW5DaGFuZ2VgKVxuICogQHBhcmFtIHByaW9yaXR5IC0gTnVtYmVyIHVzZWQgdG8gZGV0ZXJtaW5hdGUgb3JkZXIgaG9va3Mgd2lsbCBiZSBjYWxsZWQgaW4uIEhpZ2hlciBudW1iZXIgaXMgY2FsbGVkIGZpcnN0XG4gKiBAcGFyYW0gaG9vayAtIFRoZSBob29rIGl0c2VsZiB0byB1c2UsIEBzZWUgUGF0Y2hIb29rXG4gKiBAcmV0dXJucyBGdW5jdGlvbiB0aGF0IGNhbiBiZSBjYWxsZWQgdG8gcmVtb3ZlIHRoaXMgaG9va1xuICovXG5leHBvcnQgZnVuY3Rpb24gSG9va0Z1bmN0aW9uPFRGdW5jdGlvbk5hbWUgZXh0ZW5kcyBzdHJpbmc+KG1vZHVsZTogTW9kdWxlVGl0bGUgfCBudWxsLCBmdW5jdGlvbk5hbWU6IFRGdW5jdGlvbk5hbWUsIHByaW9yaXR5OiBudW1iZXIsIGhvb2s6IFBhdGNoSG9vazxHZXREb3RlZFBhdGhUeXBlPHR5cGVvZiBnbG9iYWxUaGlzLCBURnVuY3Rpb25OYW1lPj4pOiAoKSA9PiB2b2lkXG57XG4gICAgY29uc3QgcmVtb3ZlSG9vayA9IG1vZEFQSS5ob29rRnVuY3Rpb24oZnVuY3Rpb25OYW1lLCBwcmlvcml0eSwgaG9vayk7XG5cbiAgICBob29rcy5wdXNoKHtcbiAgICAgICAgZnVuY3Rpb25OYW1lOiBmdW5jdGlvbk5hbWUsXG4gICAgICAgIHByaW9yaXR5OiBwcmlvcml0eSxcbiAgICAgICAgaG9vazogaG9vayxcbiAgICAgICAgbW9kdWxlOiBtb2R1bGUsXG4gICAgICAgIHJlbW92ZUhvb2s6IHJlbW92ZUhvb2tcbiAgICB9IGFzIEhvb2tlZEZ1bmN0aW9uKTtcblxuICAgIHJldHVybiByZW1vdmVIb29rO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVtb3ZlSG9va3MobW9kdWxlOiBNb2R1bGVUaXRsZSB8IG51bGwpOiB2b2lkXG57XG4gICAgZm9yIChsZXQgaSA9IGhvb2tzLmxlbmd0aCAtIDE7IDAgPD0gaTsgaS0tKVxuICAgIHtcbiAgICAgICAgaWYgKGhvb2tzW2ldLm1vZHVsZSA9PT0gbW9kdWxlKVxuICAgICAgICB7XG4gICAgICAgICAgICBob29rc1tpXS5yZW1vdmVIb29rKCk7XG4gICAgICAgICAgICBob29rcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogT25seSByZWxlYXNlIHRoZSBhd2FpdCB3aGVuIHRoZSBQbGF5ZXIgaXMgZGV0ZWN0ZWQgYW5kIGxvYWRlZFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gQXdhaXRQbGF5ZXIoKTogUHJvbWlzZTx2b2lkPlxue1xuICAgIGlmIChQbGF5ZXIuTWVtYmVyTnVtYmVyICYmIFBsYXllci5FeHRlbnNpb25TZXR0aW5ncylcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4oKHJlc29sdmUpID0+XG4gICAge1xuICAgICAgICBjb25zdCBob29rID0gbW9kQVBJLmhvb2tGdW5jdGlvbihcIkxvZ2luUmVzcG9uc2VcIiwgMCwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIExldCByZXNwb25zZSBoYXBwZW4gZmlyc3RcbiAgICAgICAgICAgIG5leHQoYXJncyk7XG5cbiAgICAgICAgICAgIC8vIFJlbW92ZSB0aGlzIGhvb2sgd2hlbiBkb25lXG4gICAgICAgICAgICBob29rKCk7XG5cbiAgICAgICAgICAgIC8vIFJlc29sdmUgdGhlIHByb21pc2UgdG8gZW5kIHRoZSBhd2FpdCBjb25kaXRpb25cbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5cbi8qKlxuICogT25seSByZWxlYXNlIHRoZSBhd2FpdCB3aGVuIHRoZSBQbGF5ZXIgaGFzIGVudGVyZWQgYSBjaGF0IHJvb21cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEF3YWl0SW5DaGF0Um9vbSgpXG57XG4gICAgaWYgKENoYXRSb29tQ2hhcmFjdGVyLmxlbmd0aCA+IDEpXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlKSA9PlxuICAgIHtcbiAgICAgICAgY29uc3QgaG9vayA9IG1vZEFQSS5ob29rRnVuY3Rpb24oXCJDaGF0Um9vbVN5bmNcIiwgMTAwLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgLy8gTGV0IHJlc3BvbnNlIGhhcHBlbiBmaXJzdFxuICAgICAgICAgICAgbmV4dChhcmdzKTtcblxuICAgICAgICAgICAgLy8gUmVtb3ZlIHRoaXMgaG9vayB3aGVuIGRvbmVcbiAgICAgICAgICAgIGhvb2soKTtcblxuICAgICAgICAgICAgLy8gUmVzb2x2ZSB0aGUgcHJvbWlzZSB0byBlbmQgdGhlIGF3YWl0IGNvbmRpdGlvblxuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBEbyBub3RoaW5nIGJ1dCB3YWl0XG4gKiBAcGFyYW0gbXMgRHVyYXRpb24gdG8gd2FpdFxuICovXG5leHBvcnQgZnVuY3Rpb24gU2xlZXAobXM6IG51bWJlcilcbntcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpKTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIEJDWCBtb2QgYXBpIGZvciBNUEFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJjeEFQSSgpXG57XG4gICAgcmV0dXJuIHdpbmRvdy5iY3g/LmdldE1vZEFwaShNUEFfTkFNRSk7XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgQkNYIGlmIGZvdW5kXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiY3hGb3VuZCgpOiBib29sZWFuXG57XG4gICAgcmV0dXJuICEhd2luZG93LmJjeDtcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBJc0Rpc3BsYXlTZXR0aW5nKHNldHRpbmc6IFNldHRpbmcpOiBzZXR0aW5nIGlzIERpc3BsYXllZFNldHRpbmdcbntcbiAgICByZXR1cm4gKFxuICAgICAgICB0eXBlb2YgKHNldHRpbmcgYXMgRGlzcGxheWVkU2V0dGluZykuYWN0aXZlID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgJiYgdHlwZW9mIChzZXR0aW5nIGFzIERpc3BsYXllZFNldHRpbmcpLmxhYmVsID09PSBcInN0cmluZ1wiXG4gICAgKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBJc0NoZWNrYm94U2V0dGluZyhzZXR0aW5nOiBTZXR0aW5nKTogc2V0dGluZyBpcyBDaGVja2JveFNldHRpbmdcbntcbiAgICByZXR1cm4gKFxuICAgICAgICBJc0Rpc3BsYXlTZXR0aW5nKHNldHRpbmcpXG4gICAgICAgICYmIChzZXR0aW5nIGFzIENoZWNrYm94U2V0dGluZykudHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICYmIHR5cGVvZiAoc2V0dGluZyBhcyBDaGVja2JveFNldHRpbmcpLnZhbHVlID09PSBcImJvb2xlYW5cIlxuICAgICk7XG59XG5leHBvcnQgZnVuY3Rpb24gSXNPcHRpb25TZXR0aW5nKHNldHRpbmc6IFNldHRpbmcpOiBzZXR0aW5nIGlzIE9wdGlvblNldHRpbmdcbntcbiAgICByZXR1cm4gKFxuICAgICAgICBJc0Rpc3BsYXlTZXR0aW5nKHNldHRpbmcpXG4gICAgICAgICYmIChzZXR0aW5nIGFzIE9wdGlvblNldHRpbmcpLnR5cGUgPT09IFwib3B0aW9uXCJcbiAgICAgICAgJiYgdHlwZW9mIChzZXR0aW5nIGFzIE9wdGlvblNldHRpbmcpLnZhbHVlID09PSBcInN0cmluZ1wiXG4gICAgICAgICYmIEFycmF5LmlzQXJyYXkoKHNldHRpbmcgYXMgT3B0aW9uU2V0dGluZykub3B0aW9ucylcbiAgICAgICAgJiYgdHlwZW9mIChzZXR0aW5nIGFzIE9wdGlvblNldHRpbmcpLmxvb3AgPT09IFwiYm9vbGVhblwiXG4gICAgKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBJc1RleHRTZXR0aW5nKHNldHRpbmc6IFNldHRpbmcpOiBzZXR0aW5nIGlzIFRleHRTZXR0aW5nXG57XG4gICAgcmV0dXJuIChcbiAgICAgICAgSXNEaXNwbGF5U2V0dGluZyhzZXR0aW5nKVxuICAgICAgICAmJiAoc2V0dGluZyBhcyBUZXh0U2V0dGluZykudHlwZSA9PT0gXCJ0ZXh0XCJcbiAgICAgICAgJiYgdHlwZW9mIChzZXR0aW5nIGFzIFRleHRTZXR0aW5nKS52YWx1ZSA9PT0gXCJzdHJpbmdcIlxuICAgICAgICAmJiAodHlwZW9mIChzZXR0aW5nIGFzIFRleHRTZXR0aW5nKS53aWR0aCA9PT0gXCJudW1iZXJcIlxuICAgICAgICB8fCAoc2V0dGluZyBhcyBUZXh0U2V0dGluZykud2lkdGggPT09IG51bGwpXG4gICAgICAgICYmICh0eXBlb2YgKHNldHRpbmcgYXMgVGV4dFNldHRpbmcpLm1heENoYXJzID09PSBcIm51bWJlclwiXG4gICAgICAgIHx8IChzZXR0aW5nIGFzIFRleHRTZXR0aW5nKS5tYXhDaGFycyA9PT0gbnVsbClcbiAgICApO1xufVxuZXhwb3J0IGZ1bmN0aW9uIElzTnVtYmVyU2V0dGluZyhzZXR0aW5nOiBTZXR0aW5nKTogc2V0dGluZyBpcyBOdW1iZXJTZXR0aW5nXG57XG4gICAgcmV0dXJuIChcbiAgICAgICAgSXNEaXNwbGF5U2V0dGluZyhzZXR0aW5nKVxuICAgICAgICAmJiAoc2V0dGluZyBhcyBOdW1iZXJTZXR0aW5nKS50eXBlID09PSBcIm51bWJlclwiXG4gICAgICAgICYmIHR5cGVvZiAoc2V0dGluZyBhcyBOdW1iZXJTZXR0aW5nKS52YWx1ZSA9PT0gXCJudW1iZXJcIlxuICAgICAgICAmJiAodHlwZW9mIChzZXR0aW5nIGFzIE51bWJlclNldHRpbmcpLndpZHRoID09PSBcIm51bWJlclwiXG4gICAgICAgIHx8IChzZXR0aW5nIGFzIE51bWJlclNldHRpbmcpLndpZHRoID09PSBudWxsKVxuICAgICAgICAmJiB0eXBlb2YgKHNldHRpbmcgYXMgTnVtYmVyU2V0dGluZykubWluID09PSBcIm51bWJlclwiXG4gICAgICAgICYmIHR5cGVvZiAoc2V0dGluZyBhcyBOdW1iZXJTZXR0aW5nKS5tYXggPT09IFwibnVtYmVyXCJcbiAgICAgICAgJiYgKHR5cGVvZiAoc2V0dGluZyBhcyBOdW1iZXJTZXR0aW5nKS5zdGVwID09PSBcIm51bWJlclwiXG4gICAgICAgIHx8IChzZXR0aW5nIGFzIE51bWJlclNldHRpbmcpLnN0ZXAgPT09IG51bGwpXG4gICAgKTtcbn1cbiIsImltcG9ydCB7IExvY2FsaXplZFRleHQgfSBmcm9tIFwiLi4vbG9jYWxpemF0aW9uL2xvY2FsaXphdGlvblwiO1xuaW1wb3J0IHsgc2V0dGluZ3MgYXMgY3VycmVudFNldHRpbmdzIH0gZnJvbSBcIi4vcmVnaXN0ZXJNb2R1bGVzXCI7XG5pbXBvcnQgeyBBd2FpdEluQ2hhdFJvb20sIEF3YWl0UGxheWVyLCBTbGVlcCB9IGZyb20gXCIuL3Nka1wiO1xuaW1wb3J0IHsgU2V0dGluZ1N5bmMgfSBmcm9tIFwiLi4vbW9kdWxlcy9kYXRhU3luY1wiO1xuaW1wb3J0IHsgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9fbW9kdWxlXCI7XG5pbXBvcnQgeyBNUEFfVkVSU0lPTiB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgTGV2ZWxTeW5jIH0gZnJvbSBcIi4uL21vZHVsZXMvdmlydHVhbFBldFwiO1xuaW1wb3J0IHsgTm90aWZ5UGxheWVyIH0gZnJvbSBcIi4vbWVzc2FnaW5nXCI7XG5cbmNvbnN0IENIQU5HRUxPR19SQVdfU1RBQkxFID0gXCJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vTWF5YVRoZUZveHkvTVBBL3JlZnMvaGVhZHMvbWFpbi9DSEFOR0VMT0cubWRcIjtcbmNvbnN0IENIQU5HRUxPR19SQVdfREVWID0gXCJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vTWF5YVRoZUZveHkvTVBBL3JlZnMvaGVhZHMvZGV2L0NIQU5HRUxPRy5tZFwiO1xuXG5jb25zdCBDSEFOR0VMT0dfU1RBQkxFID0gXCJodHRwczovL2dpdGh1Yi5jb20vTWF5YVRoZUZveHkvTVBBL2Jsb2IvbWFpbi9DSEFOR0VMT0cubWRcIjtcbmNvbnN0IENIQU5HRUxPR19ERVYgPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9NYXlhVGhlRm94eS9NUEEvYmxvYi9kZXYvQ0hBTkdFTE9HLm1kXCI7XG5cbmNvbnN0IFZFUlNJT05fU1RBQkxFX1JFR0VYID0gL15cXGQrXFwuXFxkK1xcLlxcZCskLztcbi8vIGNvbnN0IFZFUlNJT05fREVWX1JFR0VYID0gL15cXGQrXFwuXFxkK1xcLlxcZCtcXC5cXGQrJC87XG5cbi8qKlxuICogRmV0Y2ggdGhlIGNoYW5nZWxvZyBmcm9tIHRoZSByZXBvXG4gKiBAcmV0dXJuc1xuICovXG5hc3luYyBmdW5jdGlvbiBGZXRjaExhdGVzdENoYW5nZWxvZygpOiBQcm9taXNlPHZvaWQ+XG57XG4gICAgY29uc3QgaXNTdGFibGUgPSBWRVJTSU9OX1NUQUJMRV9SRUdFWC50ZXN0KE1QQV9WRVJTSU9OKTtcbiAgICBjb25zdCB1cmwgPSBpc1N0YWJsZSA/IENIQU5HRUxPR19SQVdfU1RBQkxFIDogQ0hBTkdFTE9HX1JBV19ERVY7XG4gICAgdHJ5XG4gICAge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgTVBBOiBGYWlsZWQgdG8gZmV0Y2ggQ0hBTkdFTE9HLm1kOiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjaGFuZ2Vsb2cgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgIC8vIFVzZSBhIHJlZ3VsYXIgZXhwcmVzc2lvbiB0byBleHRyYWN0IHRoZSBsYXRlc3QgcmVsZWFzZSBzZWN0aW9uXG4gICAgICAgIGNvbnN0IG1hdGNoZXMgPSAvIyAoXFxkK1xcLlxcZCtcXC5cXGQrKD86XFwuXFxkKyk/KStcXG4oW1xcc1xcU10qPykoPz1cXG4jIHwkKS8uZXhlYyhjaGFuZ2Vsb2cpO1xuXG4gICAgICAgIGlmIChtYXRjaGVzKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB2ZXJzaW9uID0gbWF0Y2hlc1sxXTtcblxuICAgICAgICAgICAgaWYgKHZlcnNpb24gPT09IE1QQV9WRVJTSU9OKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoYW5nZXMgPSBtYXRjaGVzWzJdLnRyaW0oKTtcbiAgICAgICAgICAgICAgICB3aGlsZSAodHJ1ZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IEF3YWl0SW5DaGF0Um9vbSgpO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBTbGVlcCgxMDApO1xuICAgICAgICAgICAgICAgICAgICBpZiAoQ2hhdFJvb21DaGFyYWN0ZXIubGVuZ3RoID4gMClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgTm90aWZ5UGxheWVyKGA8YiBzdHlsZT0ndGV4dC1hbGlnbjpjZW50ZXI7d2lkdGg6MTAwJTtkaXNwbGF5OmJsb2NrJz5NUEEgVXBkYXRlZDwvYj5cbkN1cnJlbnQgTVBBIFZlcnNpb246ICR7TVBBX1ZFUlNJT059XG5DaGFuZ2VzIGZyb20gcHJldmlvdXMgdmVyc2lvbjpcbiR7Y2hhbmdlc31cbjxhIGhyZWY9XCIke2lzU3RhYmxlID8gQ0hBTkdFTE9HX1NUQUJMRSA6IENIQU5HRUxPR19ERVZ9XCIgdGFyZ2V0PVwiX2JsYW5rXCI+U2VlIEZ1bGwgQ2hhbmdlbG9nPC9hPmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUud2FybihcIk1QQTogQ291bGQgbm90IGdldCB0aGUgbGF0ZXN0IE1QQSBDaGFuZ2Vsb2dzXCIpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpXG4gICAge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvcjogJHtlcnJvcn1gKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIE1QQVVwZGF0ZUNoZWNrKHNldHRpbmdzOiBNUEFSZWNvcmRzKTogdm9pZFxue1xuICAgIGlmICgoc2V0dGluZ3MudmVyc2lvbiBhcyBhbnkpICE9PSBNUEFfVkVSU0lPTilcbiAgICB7XG4gICAgICAgIGNvbnN0IGlzU3RhYmxlID0gVkVSU0lPTl9TVEFCTEVfUkVHRVgudGVzdChNUEFfVkVSU0lPTik7XG4gICAgICAgIFNlcnZlckFjY291bnRCZWVwKHtcbiAgICAgICAgICAgIE1lbWJlck51bWJlcjogUGxheWVyLk1lbWJlck51bWJlciA/PyAtMSxcbiAgICAgICAgICAgIE1lbWJlck5hbWU6IExvY2FsaXplZFRleHQoXCJNUEFcIiksXG4gICAgICAgICAgICBDaGF0Um9vbVNwYWNlOiBcIlhcIixcbiAgICAgICAgICAgIENoYXRSb29tTmFtZTogTG9jYWxpemVkVGV4dChcIk1QQSBVcGRhdGVkXCIpLFxuICAgICAgICAgICAgUHJpdmF0ZTogZmFsc2UsXG4gICAgICAgICAgICBCZWVwVHlwZTogXCJcIixcbiAgICAgICAgICAgIE1lc3NhZ2U6IGBNUEEgaGFzIGJlZW4gdXBkYXRlZC4gU2VlIHRoZSBjaGFuZ2Vsb2cgaGVyZTpcXG4ke2lzU3RhYmxlID8gQ0hBTkdFTE9HX1NUQUJMRSA6IENIQU5HRUxPR19ERVZ9YFxuICAgICAgICB9KTtcbiAgICAgICAgKHNldHRpbmdzLnZlcnNpb24gYXMgYW55KSA9IE1QQV9WRVJTSU9OO1xuICAgICAgICBTYXZlU3RvcmFnZShmYWxzZSk7XG4gICAgICAgIEZldGNoTGF0ZXN0Q2hhbmdlbG9nKCk7XG4gICAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gTG9hZFN0b3JhZ2UoKTogUHJvbWlzZTx2b2lkPlxue1xuICAgIC8vIEVuc3VyZSB0aGUgcGxheWVyIGlzIGxvYWRlZCBiZWZvcmUgYXR0ZW1wdGluZyB0byByZWFkIHRoZSBleHRlbnRpb24gc2V0dGluZ3NcbiAgICBhd2FpdCBBd2FpdFBsYXllcigpO1xuXG4gICAgY29uc3Qgc2V0dGluZ3M6IE1QQVJlY29yZHMgPSBKU09OLnBhcnNlKExaU3RyaW5nLmRlY29tcHJlc3NGcm9tQmFzZTY0KFBsYXllci5FeHRlbnNpb25TZXR0aW5ncz8uTVBBID8/IFwiXCIpID8/IFwie31cIikgPz8ge307XG5cbiAgICBPYmplY3QuZW50cmllcyhjdXJyZW50U2V0dGluZ3MpLmZvckVhY2goKGNhdGVnb3J5KSA9PlxuICAgIHtcbiAgICAgICAgY29uc3QgW3NldHRpbmdUaXRsZSwgY2F0ZWdvcnlTZXR0aW5nc10gPSBjYXRlZ29yeSBhcyBbTW9kdWxlVGl0bGUsIE1QQUNhdGVnb3J5U2V0dGluZ3NdO1xuICAgICAgICBmb3IgKGNvbnN0IFtzZXR0aW5nTmFtZSwgc2V0XSBvZiBPYmplY3QuZW50cmllcyhjYXRlZ29yeVNldHRpbmdzKSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBwbGFjZSBmb3IgZGF0YSBpZiBpdCBkb2VzIG5vdCBleGlzdFxuICAgICAgICAgICAgaWYgKCEoc2V0dGluZ1RpdGxlIGluIHNldHRpbmdzKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzZXR0aW5nc1tzZXR0aW5nVGl0bGVdID0ge307XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTZXR0aW5nIGFscmVhZHkgc2V0XG4gICAgICAgICAgICAvLyBWZXJpZnkgaXQgaXMgZ29vZCBkYXRhXG4gICAgICAgICAgICBpZiAoc2V0dGluZ05hbWUgaW4gc2V0dGluZ3Nbc2V0dGluZ1RpdGxlXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBjdXJyZW50IHZhbHVlIGlzIG5vdCBpbiB0aGUgb3B0aW9uc1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgKGN1cnJlbnRTZXR0aW5ncz8uW3NldHRpbmdUaXRsZV0/LltzZXR0aW5nTmFtZV0/LnR5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgdHlwZW9mIHNldHRpbmdzW3NldHRpbmdUaXRsZV1bc2V0dGluZ05hbWVdICE9PSBcImJvb2xlYW5cIilcbiAgICAgICAgICAgICAgICAgICAgfHxcbiAgICAgICAgICAgICAgICAgICAgKGN1cnJlbnRTZXR0aW5ncz8uW3NldHRpbmdUaXRsZV0/LltzZXR0aW5nTmFtZV0/LnR5cGUgPT09IFwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICYmIGlzTmFOKHNldHRpbmdzW3NldHRpbmdUaXRsZV1bc2V0dGluZ05hbWVdKSlcbiAgICAgICAgICAgICAgICAgICAgfHxcbiAgICAgICAgICAgICAgICAgICAgKFwib3B0aW9uc1wiIGluIChjdXJyZW50U2V0dGluZ3M/LltzZXR0aW5nVGl0bGVdPy5bc2V0dGluZ05hbWVdID8/IHt9KVxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgISgoY3VycmVudFNldHRpbmdzPy5bc2V0dGluZ1RpdGxlXT8uW3NldHRpbmdOYW1lXSBhcyBPcHRpb25TZXR0aW5nKT8ub3B0aW9ucyA/PyBbXSkuaW5jbHVkZXMoc2V0dGluZ3Nbc2V0dGluZ1RpdGxlXVtzZXR0aW5nTmFtZV0pKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzW3NldHRpbmdUaXRsZV1bc2V0dGluZ05hbWVdID0gc2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYE1QQTogSW52YWxpZCBzZXR0aW5nIG9mIFwiJHtzZXR0aW5nc1tzZXR0aW5nVGl0bGVdW3NldHRpbmdOYW1lXX1cIiBhdCAke3NldHRpbmdUaXRsZX0tPiR7c2V0dGluZ05hbWV9LCByZXNldHRpbmcgdG8gZGVmYXVsdGApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldHRpbmdzW3NldHRpbmdUaXRsZV1bc2V0dGluZ05hbWVdID0gc2V0LnZhbHVlO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBDaGVjayBhbmQgbm90aWZ5IGlmIHRoZXJlIGlzIGFuIHVwZGF0ZVxuICAgIE1QQVVwZGF0ZUNoZWNrKHNldHRpbmdzKTtcblxuICAgIFBsYXllci5NUEEgPSBzZXR0aW5ncztcbiAgICByZXR1cm47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBTYXZlU3RvcmFnZShzeW5jV2l0aE90aGVyczogYm9vbGVhbiA9IHRydWUpOiB2b2lkXG57XG4gICAgaWYgKCFQbGF5ZXIuTVBBKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBQcnVuZSBzZWxmIGZyb20gb3duZXIgbGlzdCBpZiBhZGRlZFxuICAgIFBsYXllci5NUEFbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XS5vd25lcnMgPVxuICAgICAgICAoUGxheWVyLk1QQVtNb2R1bGVUaXRsZS5BdXRob3JpdHldLm93bmVycyBhcyBzdHJpbmcpLnNwbGl0KFwiLFwiKVxuICAgICAgICAgICAgLmZpbHRlcigodmFsKSA9PiBOdW1iZXIodmFsKSAhPT0gUGxheWVyLk1lbWJlck51bWJlcikuam9pbihcIixcIik7XG4gICAgUGxheWVyLkV4dGVuc2lvblNldHRpbmdzLk1QQSA9IExaU3RyaW5nLmNvbXByZXNzVG9CYXNlNjQoSlNPTi5zdHJpbmdpZnkoUGxheWVyLk1QQSkpO1xuICAgIFNlcnZlclBsYXllckV4dGVuc2lvblNldHRpbmdzU3luYyhcIk1QQVwiKTtcbiAgICBpZiAoc3luY1dpdGhPdGhlcnMpXG4gICAge1xuICAgICAgICBTZXR0aW5nU3luYyhmYWxzZSk7XG4gICAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUmVzZXRTdG9yYWdlKCk6IFByb21pc2U8dm9pZD5cbntcbiAgICBkZWxldGUgKFBsYXllci5FeHRlbnNpb25TZXR0aW5ncyBhcyBhbnkpLk1QQTtcbiAgICBQbGF5ZXIuRXh0ZW5zaW9uU2V0dGluZ3MuTVBBID0gTFpTdHJpbmcuY29tcHJlc3NUb0Jhc2U2NChKU09OLnN0cmluZ2lmeSh7IHZlcnNpb246IE1QQV9WRVJTSU9OIH0pKTtcbiAgICBhd2FpdCBMb2FkU3RvcmFnZSgpO1xuICAgIFNhdmVTdG9yYWdlKCk7XG4gICAgcmV0dXJuO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gRXhwb3J0U2V0dGluZ3NUb0NsaXBib2FyZCgpOiBQcm9taXNlPHZvaWQ+XG57XG4gICAgcmV0dXJuIG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KExaU3RyaW5nLmNvbXByZXNzVG9CYXNlNjQoSlNPTi5zdHJpbmdpZnkoUGxheWVyLk1QQSkpKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEltcG9ydFNldHRpbmdzRnJvbUNsaXBib2FyZCgpOiBQcm9taXNlPHZvaWQ+XG57XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+XG4gICAge1xuICAgICAgICBuYXZpZ2F0b3IuY2xpcGJvYXJkLnJlYWRUZXh0KCkudGhlbigodGV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgdHJ5XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3U2V0dGluZ3M6IE1QQVJlY29yZHMgPSBKU09OLnBhcnNlKExaU3RyaW5nLmRlY29tcHJlc3NGcm9tQmFzZTY0KHRleHQgPz8gXCJcIikgPz8gXCJ7fVwiKTtcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYSBsb2NhbGx5IGNvcHkgdG8gbW9kaWZ5IGluIGNhc2UgaXQgZmFpbHMgYW5kIG5lZWQgdG8gcmV2ZXJ0XG4gICAgICAgICAgICAgICAgLy8gVHJhbnNhY3Rpb24gaGFwcGVucyBvciBub3QgYXQgYWxsXG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFNldHRpbmdzOiBNUEFSZWNvcmRzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShQbGF5ZXIuTVBBKSk7XG5cbiAgICAgICAgICAgICAgICAvLyBWaXJ0dWFsIHBldCBsZXZlbHMgd2lsbCBiZSByZXBsYWNlZCBhbnl3YXksIHNldCBjdXJyZW50IHRpbWUgc28gbm93IHRvIG5vdCBpbnRlcmZlciB3aXRoIHN5bmNpbmcgbGF0ZXJcbiAgICAgICAgICAgICAgICBjdXJyZW50U2V0dGluZ3NbTW9kdWxlVGl0bGUuVmlydHVhbFBldF0ubGV2ZWxzLmxhc3RVcGRhdGVkID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgICAgICBjdXJyZW50U2V0dGluZ3NbTW9kdWxlVGl0bGUuVmlydHVhbFBldF0ubGV2ZWxzLmxhc3RPbmxpbmUgPSBEYXRlLm5vdygpO1xuXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbmV3U2V0dGluZ3MpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV3U2V0dGluZ3Nba2V5XSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IHVwZGF0ZSB0aGUgdmFsdWUgaWYgdGhlIG5ld1JlY29yZCBrZXkgZXhpc3RzIGFuZCBpcyBub3QgdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2V0dGluZ3Nba2V5IGFzIGtleW9mIE1QQVJlY29yZHNdID0gbmV3U2V0dGluZ3Nba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFZlcmlmeSBuZXcgc2V0dGluZ3MgYXJlIGdvb2RcbiAgICAgICAgICAgICAgICAvLyBJZiBiYWQgZGF0YSAgcmV0dXJuIHJlamVjdCgpO1xuXG4gICAgICAgICAgICAgICAgLy8gU2V0IHRoZSBsZXZlbHMgdXBkYXRlIHNvIHRoYXQgdGhleSByZXRhaW4gdGhlIHNhbWUgdmFsdWUgd2hlbiBzYXZlZCBhZnRlciBzeW5jaW5nIGFnYWluXG4gICAgICAgICAgICAgICAgY3VycmVudFNldHRpbmdzW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdLmxldmVscy5sYXN0VXBkYXRlZCA9IERhdGUubm93KCkgLSAoY3VycmVudFNldHRpbmdzW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdLmxldmVscy5sYXN0T25saW5lIC0gY3VycmVudFNldHRpbmdzW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdLmxldmVscy5sYXN0VXBkYXRlZCk7XG4gICAgICAgICAgICAgICAgY3VycmVudFNldHRpbmdzW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdLmxldmVscy5sYXN0T25saW5lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgICAgICBQbGF5ZXIuTVBBID0gY3VycmVudFNldHRpbmdzO1xuICAgICAgICAgICAgICAgIExldmVsU3luYyhmYWxzZSwgZmFsc2UsIGZhbHNlKTtcblxuICAgICAgICAgICAgICAgIFNhdmVTdG9yYWdlKHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihlcnJvcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSgpO1xuICAgICAgICB9LCAoKSA9PiByZWplY3QoKSk7XG4gICAgfSk7XG59XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiaW1wb3J0IHsgUmVnaXN0ZXJNb2R1bGVzIH0gZnJvbSBcIi4vdXRpbC9yZWdpc3Rlck1vZHVsZXNcIjtcbmltcG9ydCB7IEJ1aWxkQWxsQ29tbWFuZHMgfSBmcm9tIFwiLi9jb21tYW5kcy9idWlsZEFsbENvbW1hbmRzXCI7XG5pbXBvcnQgeyBNUEFfVkVSU0lPTiB9IGZyb20gXCIuL3V0aWwvY29uc3RhbnRzXCI7XG5cbi8vIFRlc3RpbmcgZm9yIExvY2FsaXphdGlvbiwgZW5zdXJpbmcgYWxsIGZpZWxkcyBpbiB0aGUgdGVtcGxhdGVcbi8vIGltcG9ydCB7IFNldHRpbmdUZXN0IH0gZnJvbSBcIi4vX3Rlc3RzL3NldHRpbmdzTGFiZWxzXCI7XG4vLyBTZXR0aW5nVGVzdCgpO1xuLy8gaW1wb3J0IHsgQWN0aXZpdGllc1Rlc3QgfSBmcm9tIFwiLi9fdGVzdHMvYWN0aXZpdGllc1RleHRcIjtcbi8vIEFjdGl2aXRpZXNUZXN0KCk7XG5cbmNvbnNvbGUubG9nKFwiTG9hZGluZyBNYXlhJ3MgUGV0cGxheSBBZGRpdGlvbnNcIik7XG5cbkJ1aWxkQWxsQ29tbWFuZHMoKTtcblJlZ2lzdGVyTW9kdWxlcygpO1xud2luZG93Lk1QQSA9IHtcbiAgICB2ZXJzaW9uOiBNUEFfVkVSU0lPTixcbiAgICBtZW51TG9hZGVkOiBmYWxzZVxufTtcbiJdLCJuYW1lcyI6WyJvIiwiZSIsImFsZXJ0IiwiRXJyb3IiLCJjb25zb2xlIiwiZXJyb3IiLCJ0IiwiVGV4dEVuY29kZXIiLCJuIiwiQXJyYXkiLCJpc0FycmF5IiwiciIsIlNldCIsImZpbHRlciIsImhhcyIsImFkZCIsImkiLCJNYXAiLCJhIiwiYyIsIndhcm4iLCJzIiwiZiIsInZhbHVlcyIsInBhdGNoaW5nIiwiZ2V0IiwibmFtZSIsInB1c2giLCJob29rcyIsInBhdGNoZXMiLCJlbnRyaWVzIiwic2V0Iiwic29ydCIsInByaW9yaXR5Iiwic2l6ZSIsInRvU3RyaW5nIiwicmVwbGFjZUFsbCIsImluY2x1ZGVzIiwiZXZhbCIsIm9yaWdpbmFsIiwibSIsImVycm9yUmVwb3J0ZXJIb29rcyIsImhvb2tDaGFpbkV4aXQiLCJjYWxsIiwiYXBwbHkiLCJ0aGlzIiwibGVuZ3RoIiwiaG9va0VudGVyIiwibW9kIiwiaG9vayIsImFyZ3VtZW50cyIsInBhdGNoZXNTb3VyY2VzIiwiZW50ZXIiLCJmaW5hbCIsImwiLCJwcmVjb21wdXRlZCIsIndpbmRvdyIsInNwbGl0Iiwic2xpY2UiLCJqb2luIiwiZW5jb2RlIiwicGFkU3RhcnQiLCJ0b1VwcGVyQ2FzZSIsImQiLCJvcmlnaW5hbEhhc2giLCJPYmplY3QiLCJhc3NpZ24iLCJyb3V0ZXIiLCJjb250ZXh0IiwiY29udGV4dFByb3BlcnR5IiwicCIsInNka0VudHJ5cG9pbnQiLCJjdXJyZW50RW50cnlwb2ludCIsImhvb2tlZEJ5TW9kcyIsIm1hcCIsInBhdGNoZWRCeU1vZHMiLCJmcm9tIiwidSIsImRlbGV0ZSIsImxvYWRlZCIsImciLCJmdWxsTmFtZSIsInZlcnNpb24iLCJyZXBvc2l0b3J5IiwiYWxsb3dSZXBsYWNlIiwiYXBpRW5kcG9pbnRFbnRlciIsInVubG9hZCIsImhvb2tGdW5jdGlvbiIsImluZGV4T2YiLCJzcGxpY2UiLCJwYXRjaEZ1bmN0aW9uIiwicmVtb3ZlUGF0Y2hlcyIsImNsZWFyIiwiY2FsbE9yaWdpbmFsIiwiZ2xvYmFsVGhpcyIsImdldE9yaWdpbmFsSGFzaCIsImFwaSIsImZyZWV6ZSIsImgiLCJ5IiwiYmNNb2RTZGsiLCJhcGlWZXJzaW9uIiwicmVnaXN0ZXJNb2QiLCJnZXRNb2RzSW5mbyIsImdldFBhdGNoaW5nSW5mbyIsInNlYWwiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIkJPV0xfU0VMRl9URVhUIiwiQk9XTF9PVEhFUl9URVhUIiwiSXNCZWQiLCJiZWQiLCJrZXlzIiwiQ3JhZnRpbmdWYWxpZGF0ZSIsIkNyYWZ0aW5nU3RhdHVzVHlwZSIsIk9LIiwiQUxMX0JFRFMiLCJJdGVtIiwiTmFtZSIsInRvTG9jYWxlTG93ZXJDYXNlIiwiR2l2ZUJlZFRleHQiLCJjaGFyYWN0ZXIiLCJQbGF5ZXIiLCJNZW1iZXJOdW1iZXIiLCJTZW5kQWN0aW9uIiwidW5kZWZpbmVkIiwiU291cmNlQ2hhcmFjdGVyIiwiVGFyZ2V0Q2hhcmFjdGVyIiwiVXNlQmVkIiwiSW52ZW50b3J5R2V0IiwiSW52ZW50b3J5R3JvdXBJc0Jsb2NrZWRGb3JDaGFyYWN0ZXIiLCJzYXZlZEJlZCIsIkpTT04iLCJwYXJzZSIsIkxaU3RyaW5nIiwiZGVjb21wcmVzc0Zyb21CYXNlNjQiLCJNUEEiLCJNb2R1bGVUaXRsZSIsIlByaXZhdGUiLCJJbnZlbnRvcnlXZWFyIiwiQ29sb3IiLCJoYWlyQ29sb3IiLCJDaGF0Um9vbUNoYXJhY3Rlckl0ZW1VcGRhdGUiLCJHaXZlQmVkIiwidW5hYmxlVG9HaXZlQmVkIiwiQ2FuSW50ZXJhY3QiLCJTZXJ2ZXJDaGF0Um9vbUdldEFsbG93SXRlbSIsIk1QQU5vdGlmeVBsYXllciIsIk5pY2tuYW1lIiwiTm90aWZ5UGxheWVyIiwiQmVkIiwiQ29tbWFuZENvbWJpbmUiLCJUYWciLCJEZXNjcmlwdGlvbiIsIkFjdGlvbiIsIl9hcmdzIiwibXNnIiwiX3BhcnNlZCIsImFyZyIsImV4ZWMiLCJjaGFyIiwiRmluZENoYXJhY3RlckluUm9vbSIsIlNhdmVTdG9yYWdlIiwiQXNzZXQiLCJQcm9wZXJ0eSIsIlR5cGVSZWNvcmQiLCJ0eXBlZCIsIk51bWJlciIsIkNoYXRSb29tQ2hhcmFjdGVyVXBkYXRlIiwiSG9va0Z1bmN0aW9uIiwiYXJncyIsIm5leHQiLCJkYXRhIiwiVHlwZSIsIkNvbnRlbnQiLCJHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkiLCJEaWN0aW9uYXJ5Iiwic29tZSIsImN1cnIiLCJUZXh0IiwiQk9XTF9SRUdFWCIsIklzQm93bCIsImJvd2wiLCJHaXZlQm93bFRleHQiLCJVc2VCb3dsIiwic2F2ZWRCb3dsIiwiSXRlbVByb3BlcnR5IiwidGVzdCIsInN1YnN0cmluZyIsIkdpdmVCb3dsIiwidW5hYmxlVG9HaXZlQm93bCIsIkJvd2wiLCJCdWlsZEFsbENvbW1hbmRzIiwidHJhbnNsYXRpb25zIiwidGVtcGxhdGUiLCJSVSIsIkxvY2FsaXplZFRleHQiLCJ0ZXh0IiwidHJhbnNsYXRlZFRleHQiLCJUcmFuc2xhdGlvbkxhbmd1YWdlIiwiTW9kdWxlVGl0bGVQdWJsaWNpdHkiLCJVbmtub3duIiwiQXV0aG9yaXR5IiwiQWN0aXZpdGllcyIsIkNsaWNrZXIiLCJTZXR0aW5ncyIsIlZpcnR1YWxQZXQiLCJWaXJ0dWFsUGV0SFVEIiwiVmlydHVhbFBldENvbmRpdGlvbnMiLCJEYXRhU3luYyIsIlByb2ZpbGUiLCJTZXR0aW5nc090aGVyIiwiTW9kdWxlSXNQdWJsaWMiLCJtb2R1bGVUaXRsZSIsIk1vZHVsZSIsIlRpdGxlIiwiU3luY0xpc3RlbmVycyIsIkxvYWQiLCJDcmVhdGVBY3Rpdml0aWVzIiwiQWRkRGF0YVN5bmNMaXN0ZW5lcnMiLCJVbmxvYWQiLCJSZW1vdmVIb29rcyIsIlJlbW92ZUFjdGl2aXRpZXMiLCJSZW1vdmVEYXRhU3luY0xpc3RlbmVycyIsIlJlbG9hZCIsIlJlY2lldmVCZWxsIiwic291cmNlIiwidGFyZ2V0IiwiX2dyb3VwIiwiX2RhdGEiLCJBdWRpb1NldHRpbmdzIiwiUGxheUl0ZW0iLCJQbGF5SXRlbVBsYXllck9ubHkiLCJCRUxMX1NPVU5EIiwicGxheSIsIkFjdGl2aXRpZXNNb2R1bGUiLCJNYXhQcm9ncmVzcyIsIlByZXJlcXVpc2l0ZSIsIkN1c3RvbVByZXJlcXVpc2l0ZSIsIl9hY3RpbmciLCJhY3RlZCIsIlRhcmdldHMiLCJncm91cCIsImxhYmVsIiwiYWN0aW9uU2VsZiIsImFjdGlvbk90aGVycyIsIkltYWdlIiwiT25SZWNlaXZlIiwiY2xpdFBpZXJjaW5nIiwic3VwZXIiLCJwcmVyZXEiLCJhY3RpbmciLCJhY3Rpdml0eVByZXJlcXVpc2l0ZXMiLCJhY3Rpdml0eU5hbWUiLCJmaW5kIiwieCIsIkFjdGl2aXR5TmFtZSIsInN0YXJ0c1dpdGgiLCJBQ1RJVklUWV9OQU1FX1BSRUZJWCIsIkFjdGl2aXR5RGljdGlvbmFyeVRleHQiLCJhY3Rpdml0eVRyaWdnZXJzIiwidGFyZ2V0TnVtYmVyIiwiQ2hhdFJvb21DaGFyYWN0ZXIiLCJhY3Rpdml0eVJlY2VpdmVkIiwic291cmNlQ2hhciIsIk5pY2tOYW1lIiwidGFyZ2V0Q2hhciIsIkFjdGl2aXR5IiwiYWN0aXZpdHlJbWFnZXMiLCJpbWFnZSIsIlBsYXllclAiLCJDIiwiSXNIYXJkY29yZU9uIiwiaGFyZGNvcmUiLCJBdXRob3JpdHlNb2R1bGUiLCJ0eXBlIiwiYWN0aXZlIiwibWF4Q2hhcnMiLCJ3aWR0aCIsIm9wdGlvbnMiLCJBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUyIsImxvb3AiLCJvdGhlcnNQcm9maWxlIiwib25TZXQiLCJzZWxmUHJvZmlsZSIsIkFMTF9DTElDS1MiLCJBdWRpbyIsIlBsYXllckMiLCJDbGlja0NvdW50Iiwic3RyIiwidG90YWxDbGlja3MiLCJ0cmlnZ2VycyIsInRyaW0iLCJmb3JFYWNoIiwidHJpZ2dlciIsIm1hdGNoIiwiUmVnRXhwIiwiUGxheUNsaWNrZXJTb3VuZCIsIm51bWJlck9mQ2xpY2tzIiwiaXNOYU4iLCJlbmFibGVkIiwiTWF0aCIsIm1pbiIsImJjeEhvb2tlZCIsIkhvb2tCQ1hDbGlja2VyIiwiYmN4Rm91bmQiLCJiY3hBUEkiLCJvbiIsIm1lc3NhZ2UiLCJwcmVmaXgiLCJiY3hWb2ljZSIsIkNsaWNrZXJNb2R1bGUiLCJoYXNCZWVuTG9hZGVkIiwiX2FjdGVkIiwiYXV0aGVkR3JvdXAiLCJzZWxmQXV0aGVkIiwiU2VuZGVyIiwiSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cCIsImNsaWNrcyIsIlJlbW92ZU9PQ0NvbnRlbnRGcm9tTWVzc2FnZSIsInJlZHVjZSIsImFjYyIsImludmVydmFsIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwiU2V0dGluZ1N5bmMiLCJyZXBseSIsInNldHRpbmdzIiwic3RydWN0dXJlZENsb25lIiwiU2VuZE1QQU1lc3NhZ2UiLCJDYXRlZ29yeVN5bmMiLCJjYXRlZ29yeSIsIlJlY29yZFN5bmMiLCJyZWNvcmQiLCJSZWNvcmRzU3luYyIsInJlY29yZHMiLCJEYXRhU3luY01vZHVsZSIsIm1vZHVsZSIsImFjdGlvbiIsInNlbmRlciIsImNvbnRlbnQiLCJHZXRNUEFNZXNzYWdlRnJvbUNoYXQiLCJob29rZWRNZXNzYWdlcyIsImRlYWZlblByb2Nlc3MiLCJQcml2YXRlTW9kdWxlIiwiZWZmZWN0cyIsImlnbm9yZU9PQyIsImhhZERlYWZlbiIsImVmZmVjdCIsIm91dHB1dCIsImludGVuc2l0eSIsIlNwZWVjaFRyYW5zZm9ybURlYWZlbkludGVuc2l0eSIsIlNwZWVjaFRyYW5zZm9ybUdhZ0dhcmJsZSIsIkdldFJlY29yZCIsInRpdGxlIiwiR0FSQkxFX1BIUkFTRVMiLCJIdW1hbiIsIkN1c3RvbSIsIkJ1bm55IiwiQ2F0IiwiQ293IiwiRG9nIiwiRm94IiwiTW91c2UiLCJQb255IiwiV29sZiIsIkdldEFsbG93ZWRQZXRHYXJibGVQaHJhc2VzIiwicHJvZmlsZSIsImJhbm5lZEJDWFdvcmRzIiwiZ2V0UnVsZVN0YXRlIiwiY3VzdG9tRGF0YSIsImJhbm5lZFdvcmRzIiwicGV0UGhyYXNlcyIsImJjeFNwZWFraW5nIiwibWFuZGF0b3J5V29yZHMiLCJnYXJibGVQaHJhc2VzIiwiR2V0UGV0R2FyYmxlUGhyYXNlcyIsIkZpbHRlckFycmF5RnJvbUFycmF5IiwicGhyYXNlIiwiUEVUX0hFQVJJTkciLCJBbGwiLCJTZXRQcm9maWxlVHlwZSIsInByZXZWYWx1ZSIsImVsZUlEIiwiRWxlbWVudE5hbWUiLCJjdXN0b21HYXJibGVQaHJhc2VzIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsIkVsZW1lbnRWYWx1ZSIsIlNldEJDWFNwZWFrIiwid29yZHMiLCJHQUdHSU5HX1NUUkVOR1RIX01BUCIsIkxvdyIsIk1lZGl1bSIsIkhpZ2giLCJNYXgiLCJQcm9maWxlTW9kdWxlIiwiX2NvbnRlbnQiLCJwZXRTcGVha2luZyIsIklzUGxheWVyIiwibm9IYW5kcyIsImZvb2ROT1ciLCJ0aW50IiwicGFzc291dCIsImFmZmVjdGlvblNraWxsQnVmZnMiLCJhZmZlY3Rpb25Ta2lsbERlYnVmZnMiLCJoZWFyaW5nTG9zcyIsInNsb3dMZWF2ZSIsIm9yZ2FzbVdhdGVyIiwib3JnYXNtU2xlZXAiLCJwZXRHYWdnaW5nIiwiU3BlZWNoVHJhbnNmb3JtQWxsRWZmZWN0cyIsIklzR2FnZ2VkIiwiSXNEZWFmIiwicGV0SGVhcmluZyIsIkFwcGx5UGV0SGVhcmluZyIsImNvbmNhdCIsIkdldFBldEhlYXJpbmdQaHJhc2VzIiwiQ29tbWFuZHNLZXkiLCJjaGFyQXQiLCJzcGVhayIsIk5vbkRpc3J1cHRpdmVQZXRTcGVlY2giLCJwZXRHYWdnaW5nT3B0aW9uIiwicGhyYXNlcyIsInN0cmVuZ3RoIiwicGV0R2FnZ2luZ1N0cmVuZ3RoIiwiRGlzcnVwdGl2ZVBldFNwZWVjaCIsInRyYW5zZm9ybSIsInNldHRpbmdzRWRpdGVkIiwic2V0dGluZ0NoYXIiLCJTZXRTZXR0aW5nQ2hhciIsIkNBTlZBU19XSURUSCIsIkVYSVRfUE9TSVNUSU9OIiwiQlVUVE9OX01BWF9OVU1CRVIiLCJCVVRUT05fV0lEVEgiLCJCVVRUT05fSEVJR0hUIiwiQlVUVE9OX1RPUCIsIkJVVFRPTl9MRUZUIiwiQlVUVE9OX0dBUCIsIkJVVFRPTl9URVhUX1BBRERJTkciLCJXSUtJX1BPU0lUSU9OIiwiV0lLSV9MSU5LIiwiRElTQ09SRF9JTlZJVEUiLCJESVNDT1JEX1BPU0lUSU9OIiwiUkVTRVRfUE9TSVRJT04iLCJBTEVSVF9QT1NJVElPTiIsInNob3dTZXR0aW5nc0FsZXJ0Iiwic2V0dGluZ3NBbGVydFRleHQiLCJJTVBPUlRfUE9TSVRJT04iLCJFWFBPUlRfUE9TSVRJT04iLCJSRVNFVF9DT05GSVJNX1BPU0lUSU9OIiwiUkVTRVRfQ0FOQ0VMX1BPU0lUSU9OIiwiVkVSU0lPTl9URVhUIiwiTUVOVV9DQVRFR09SSUVTIiwiTUVOVV9USVRMRVMiLCJjdXJyZW50TWVudSIsInNldHRpbmdzT3BlbiIsImFsbG93UmVzZXRUaW1lIiwiR2V0Q2xpY2tlZE1lbnUiLCJtZW51T3B0aW9ucyIsIk1vdXNlSW4iLCJmbG9vciIsIkRyYXdCdXR0b24iLCJPUFRJT05fUEVSX1BBR0UiLCJPUFRJT05fSEVJR0hUIiwiT1BUSU9OX1RPUCIsIk9QVElPTl9MRUZUIiwiT1BUSU9OX0dBUCIsIk9QVElPTl9DSEVDS0JPWF9TSVpFIiwiT1BUSU9OX0JBQ0tfTkVYVF9XSURUSCIsIk9QVElPTl9URVhUX1dJRFRIIiwiT1BUSU9OX1RFWFRfTUFYX0NIQVJTIiwiY3VycmVudFBhZ2UiLCJtYXhQYWdlcyIsIk5FWFRfQlVUVE9OX1BPUyIsIlBSRVZfQlVUVE9OX1BPUyIsIkRyYXdTdWJNZW51T3B0aW9ucyIsInN1Yk1lbnUiLCJzZXR0aW5nc1RvRGlzcGxheSIsImtleSIsInNldHRpbmciLCJJc0Rpc3BsYXlTZXR0aW5nIiwidmFsIiwic2V0dGluZ05hbWUiLCJkaXNhYmxlZFNldHRpbmciLCJib3VuZEFjY2Vzc1NlbGYiLCJib3VuZEFjY2Vzc090aGVycyIsIklzQ2hlY2tib3hTZXR0aW5nIiwiRHJhd0NoZWNrYm94IiwiR2V0UHJvbm91bnMiLCJJc09wdGlvblNldHRpbmciLCJpbmRleCIsIm9wdExlbiIsInByb2ZpbGVPckV4Y2x1ZGVzIiwicHJldkRpc2FibGVkIiwiQXV0aG9yaXR5SXNDb21wYXJpc29uVG9DaGFyYWN0ZXIiLCJuZXh0RGlzYWJsZWQiLCJEcmF3QmFja05leHRCdXR0b24iLCJEcmF3VGV4dEZpdCIsImNlaWwiLCJJc1RleHRTZXR0aW5nIiwiSXNOdW1iZXJTZXR0aW5nIiwiaWQiLCJFbGVtZW50UG9zaXRpb25GaXhlZCIsIkVsZW1lbnRTZXRBdHRyaWJ1dGUiLCJFbGVtZW50UmVtb3ZlQXR0cmlidXRlIiwiRXhpdEJ1dHRvblByZXNzZWQiLCJtZW51TG9hZGVkIiwiUHJlZmVyZW5jZU1lbnVFeGl0IiwiVXBkYXRlQW5kRGVsZXRlSFRNTEVsZW1lbnRzIiwiUHJlZmVyZW5jZU1lbnVDbGljayIsIm9wZW4iLCJmb2N1cyIsIkRhdGUiLCJub3ciLCJJbXBvcnRTZXR0aW5nc0Zyb21DbGlwYm9hcmQiLCJ0aGVuIiwiZmluYWxseSIsIkV4cG9ydFNldHRpbmdzVG9DbGlwYm9hcmQiLCJDcmVhdGVIVE1MRWxlbWVudHMiLCJHZXRDbGlja2VkT3B0aW9uIiwiUmVzZXRTdG9yYWdlIiwiUmVzZXRNZW51Q2xpY2siLCJQcmVmZXJlbmNlTWVudVJ1biIsInByZXZUZXh0QWxpZ24iLCJNYWluQ2FudmFzIiwidGV4dEFsaWduIiwiRHJhd1RleHQiLCJSZXNldE1lbnVSdW4iLCJJQ09OUyIsIkRJU0NPUkQiLCJEcmF3TWVudU9wdGlvbnMiLCJMZXZlbFN5bmMiLCJQcmVmZXJlbmNlU3Vic2NyZWVuRXh0ZW5zaW9uc0NsZWFyIiwiUGxheWVyUHJlZmVyZW5jZU1lbnVMb2FkIiwicGFnZSIsIkVsZW1lbnRDcmVhdGVJbnB1dCIsIm1heCIsInN0ZXAiLCJFbGVtZW50UmVtb3ZlIiwiU2V0dGluZ3NNb2R1bGUiLCJFc2NhcGVIYW5kbGVyIiwiZXZlbnQiLCJzdG9wUHJvcGFnYXRpb24iLCJQcmVmZXJlbmNlUmVnaXN0ZXJFeHRlbnNpb25TZXR0aW5nIiwiSWRlbnRpZmllciIsIkJ1dHRvblRleHQiLCJQQVciLCJjbGljayIsInJ1biIsImV4aXQiLCJsb2FkIiwiYWRkRXZlbnRMaXN0ZW5lciIsIk1QQV9SRU1PVEUiLCJNUEFfUkVNT1RFX0JDWCIsIlZFUlNJT05fVEVYVF9TRUxGIiwiVkVSU0lPTl9URVhUX09USEVSIiwiQXJyYXlzRXF1YWwiLCJhcnIxIiwiYXJyMiIsImV2ZXJ5IiwiT2JqZWN0RGlmZmVyZW5jZXMiLCJvbGRPYmoiLCJuZXdPYmoiLCJkaWZmZXJlbmNlcyIsIm9sZCIsIm5ldyIsIm9sZFZhbHVlIiwibmV3VmFsdWUiLCJkaWZmIiwiU2V0dGluZ3NPdGhlck1vZHVsZSIsInZwRW5hYmxlZCIsImNoYW5nZWRTZXR0aW5ncyIsImxldmVscyIsInByZXZpb3VzQXV0aG9yaXR5Iiwic3RyaW5naWZ5IiwibmV3QXV0aG9yaXR5IiwiZW50cnkiLCJtb2R1bGVEaWZmIiwibGFzdFVwZGF0ZWQiLCJyZXBsYWNlIiwiQXJyYXlUb1JlYWRhYmxlU3RyaW5nIiwic2V0dGluZ3NOb3RpZnkiLCJiY3giLCJpbkJjeFN1YnNjcmVlbiIsIkxTQ0dfUkVNT1RFX1dJTkRPV19PUEVOIiwiSW5mb3JtYXRpb25TaGVldFNlbGVjdGlvbiIsImFjY2VzcyIsIk1BWF9TRVRUSU5HX1RJTUVfSE9VUlMiLCJQbGF5ZXJWUCIsIkJPV0xfQ09OU1VNRV9SRUNPVkVSWSIsIkFDVElWSVRJRVNfRk9PRF9HQUlOIiwiQUNUSVZJVElFU19XQVRFUl9HQUlOIiwiRU1PVElDT05TX1NMRUVQIiwiQUZGRUNUSU9OX0FDVElWSVRZX0xPVkUiLCJBRkZFQ1RJT05fQUNUSVZJVFlfTElLRSIsIkFGRkVDVElPTl9BQ1RJVklUWV9NQVNPIiwiQUZGRUNUSU9OX1pPTkVfQUZGRUNUSU9OIiwiSXRlbUFybXMiLCJJdGVtQm9vdHMiLCJJdGVtQnJlYXN0IiwiSXRlbUJ1dHQiLCJJdGVtRWFycyIsIkl0ZW1GZWV0IiwiSXRlbUhhbmRzIiwiSXRlbUhlYWQiLCJJdGVtTGVncyIsIkl0ZW1Nb3V0aCIsIkl0ZW1OZWNrIiwiSXRlbU5pcHBsZXMiLCJJdGVtTm9zZSIsIkl0ZW1QZWx2aXMiLCJJdGVtVG9yc28iLCJJdGVtVnVsdmEiLCJJdGVtVnVsdmFQaWVyY2luZ3MiLCJNSU5fT0ZGTElORV9EUkFJTl9MRVZFTCIsImxhc3RPbmxpbmVJbnRlcnZhbCIsIklzU2xlZXBpbmdFeHByZXNzaW9uIiwiQXBwZWFyYW5jZSIsIkdyb3VwIiwiRXhwcmVzc2lvbiIsIklzQmVkTXVsdGlwbGllciIsImRldmljZSIsIkJFRF9QRVJGRUNUIiwiQkVEX05PUk1BTCIsIkJFRF9CQUQiLCJwbGF5ZXJTbGVlcGluZ0V4cHJlc3Npb24iLCJwbGF5ZXJCZWRNdWx0aXBsaWVyIiwiU2xlZXBDaGFuZ2VDaGVjayIsInN5bmMiLCJzbGVlcEhvdXJzIiwiSG91clRvTVMiLCJob3VycyIsIkNhbGN1bGF0ZUN1cnJlbnRWYWx1ZSIsImR1cmF0aW9uIiwibGFzdE9ubGluZSIsImZpcnN0UnVuQ2hlY2siLCJjdXJyZW50VmFsdWUiLCJkaWZmMiIsIm5ld1ZhbHVlMiIsIkdldENoYXJhY3RlckN1cnJlbnRTdGF0VmFsdWUiLCJzdGF0IiwiY2hhclN0YXRzIiwibHZsIiwic2xlZXAiLCJwdXNoVG9TdG9yYWdlIiwicmVjb3JkU3luYyIsImZpcnN0U3luYyIsInVwZGF0ZSIsIm9ubGluZSIsIm9mZmxpbmVEcmFpbiIsImZvb2QiLCJmb29kSG91cnMiLCJ3YXRlciIsIndhdGVySG91cnMiLCJkdXJhdGlvblRvVXNlIiwibmV3U2xlZXAiLCJhZmZlY3Rpb24iLCJhZmZlY3Rpb25Ib3VycyIsIk1vZGlmeVN0YXQiLCJhbW91bnQiLCJhcHBseU1vZGlmaWVyIiwic3RvcmFnZVB1c2giLCJtb2RpZmllciIsIklzT3duZXIiLCJJc0xvdmVyT2ZQbGF5ZXIiLCJJc0ZhbWlseU9mUGxheWVyIiwiQ2FuVGFsayIsIkR5bmFtaWNHcm91cE5hbWUiLCJQb3NlTWFwcGluZyIsIkJvZHlGdWxsIiwibnVtcyIsInN1bSIsIm51bSIsIlN0YXRNb2RpZmllciIsImxldmVsIiwiVmVyaWZ5VmFsaWRTdGF0IiwiVmlydHVhbFBldE1vZHVsZSIsIk9uVHJpZ2dlciIsIklzTW91dGhCbG9ja2VkIiwiYWN0aXZpdHkiLCJBY3Rpdml0eUZlbWFsZTNEQ0ciLCJncm91cE11bHQiLCJtYXNvY2hpc3QiLCJQbGF5ZXJWUEMiLCJDb25kaXRpb25Jc0VuZm9yY2VkIiwiY29uZGl0aW9uIiwidnBTdGF0TmVlZFRvQmVFbmFibGVkIiwiQUZGRUNUSU9OX1NLSUxMUyIsInByZXZpb3VzU3RhdHMiLCJvblN0YXRMZXZlbCIsInN0YXRDb3VudCIsIkNvbmRpdGlvbkNoZWNrIiwiY3VyclZhbHVlIiwiY2hhbmdlRXZlbnQiLCJmaXJzdFJ1biIsImNoYW5nZSIsInRocmVzaGhvbGQiLCJTTEVFUF9USU5UIiwicGFzc2VkT3V0IiwiUEFTU09VVF9UQUxLX1JFUExBQ0UiLCJNUEFQYXNzb3V0IiwiQ2hhcmFjdGVyU2V0RmFjaWFsRXhwcmVzc2lvbiIsIkNhbktuZWVsIiwiUG9zZVNldEFjdGl2ZSIsInNsZWVwTW9kdWxlIiwiTFNDRyIsIlN0YXRlTW9kdWxlIiwic3RhdGVzIiwicGFzc291dExTQ0ciLCJsb2ciLCJQYXNzb3V0Q2hlY2siLCJhZmZlY3Rpb25DaGVja0ludGVydmFsIiwiQWZmZWN0aW9uU2tpbGxDaGVjayIsInNraWxsIiwiYWZmZWN0aW9uTW9kaWZpZXIiLCJyb3VuZCIsInByZXZNb2QiLCJTa2lsbEdldE1vZGlmaWVyIiwiU2tpbGxHZXRNb2RpZmllckR1cmF0aW9uIiwiU2tpbGxTZXRNb2RpZmllciIsIk9SR0FTTV9BQ1RJVklUWV9SRUdFWCIsIlZpcnR1YWxQZXRDb25kaXRpb25zTW9kdWxlIiwic2NhbGVkVmFsdWUiLCJiIiwic3FydCIsIlJhbmRvbUVsZW1lbnQiLCJHYW1lcGxheVNldHRpbmdzIiwiU2Vuc0RlcENoYXRMb2ciLCJkZWFmTGV2ZWwiLCJTa2lsbE1vZGlmaWVyTWF4Iiwic2tpbGxEdXJhdGlvbk1TIiwicHJldlNsb3ciLCJDaGF0Um9vbVNsb3d0aW1lciIsImN1cnJGb29kIiwiQ3VycmVudFRpbWUiLCJDaGF0Um9vbVNsb3dMZWF2ZU1pblRpbWUiLCJQbGF5ZXJWUEhVRCIsIlZQX1NUQVRfQ09MT1JfRElDVCIsIkRyYXdTdGF0Q2lyY2xlIiwicmFkaXVzIiwiY29sb3IiLCJiZWdpblBhdGgiLCJhcmMiLCJQSSIsImxpbmVXaWR0aCIsInN0cm9rZVN0eWxlIiwic3Ryb2tlIiwibGluZVRvIiwiZmlsbFN0eWxlIiwiZmlsbCIsImV4YWN0U3RhdHMiLCJmb250IiwiQ29tbW9uR2V0Rm9udCIsImZpbGxUZXh0IiwiVmlydHVhbFBldEhVRE1vZHVsZSIsIm90aGVycyIsInpvb20iLCJBY3Rpdml0eUFsbG93ZWQiLCJzZWxmIiwiY2hhcmFjdGVyVlBTdGF0cyIsInN0YXRzIiwicG9zIiwicG9zaXRpb24iLCJyZXZlcnNlIiwic3RhdExlbiIsImNvbHMiLCJjb2wiLCJzdGF0SW5kZXgiLCJEcmF3VmlydWFsUGV0SHVkIiwiQ3JlYXRlQWN0aXZpdHkiLCJjdXN0b21BY3Rpdml0eSIsIkFjdGl2aXR5SUQiLCJUYXJnZXQiLCJjdXN0b21QcmVyZXF1aXNpdGVzIiwibmV3UHJlcmVxdWlzaXRlIiwiVGFyZ2V0U2VsZiIsIkFjdGl2aXR5RGljdGlvbmFyeSIsIkFjdGl2aXR5RmVtYWxlM0RDR09yZGVyaW5nIiwiY3VzdG9tQWN0aXZpdGllcyIsIlJlbW92ZUFjdGl2aXR5IiwiQVVUSE9SSVRZX0dST1VQX1BSSU9fT1JERVIiLCJBVVRIT1JJVFlfR1JPVVBTIiwiU2VsZiIsIkNsdWJvd25lciIsIk93bmVyc2hpcCIsIk93bmVycyIsIm93bmVycyIsInBhcnNlSW50IiwiTG92ZXJzIiwiTG92ZXJzaGlwIiwibG92ZXIiLCJXaGl0ZUxpc3QiLCJGcmllbmRMaXN0IiwibWVtYmVyTnVtYmVyIiwiYXV0aEdyb3VwIiwiYWxsb3dTZWxmIiwiQmxhY2tMaXN0IiwiR2hvc3RMaXN0IiwiYXV0aENoZWNrIiwiSGlnaGVzdExldmVsQXV0aG9yaXR5R3JvdXAiLCJjb21wYXJpc29uIiwicmFuayIsImdyb3VwSW5kZXgiLCJyYW5rSW5kZXgiLCJNUEFfTkFNRSIsInRvTG9jYWxlVXBwZXJDYXNlIiwiTVBBX1ZFUlNJT04iLCJNUEFfUkVQTyIsImFycmF5IiwicmFuZG9tIiwiZmlsdGVyQXJyYXkiLCJuZXdBcnJheSIsImVsZSIsImJhZEVsZSIsIlNodWZmbGVBcnJheSIsImoiLCJDb250ZW50SXNNUEFNZXNhZ2UiLCJTZXJ2ZXJTZW5kIiwiZGljdGlvbmFyeSIsIlNlbmRFbW90ZSIsInRpbWVvdXQiLCJkYXJrVGhlbWUiLCJDaGF0U2V0dGluZ3MiLCJDb2xvclRoZW1lIiwiQ2hhdFJvb21TZW5kTG9jYWwiLCJzZWFyY2giLCJTcGVlY2hHZXRPT0NSYW5nZXMiLCJyYW5nZSIsInN0YXJ0IiwiQWRkRGF0YVN5bmNMaXN0ZW5lciIsImxpc3RlbmVyIiwibGlzdGVuZXJzIiwiR2V0RW50cnlGcm9tQ2hhdERpY3Rpb25hcnkiLCJhdHRyaWJ1dGUiLCJfZXJyb3IiLCJhcnIiLCJBcHBlbmRQZXRTcGVlY2giLCJwZXRTb3VuZCIsInBocmFzZXNUb0tlZXAiLCJmb3VuZFBocmFzZXMiLCJyZWdFeHAiLCJtYXRjaEFsbCIsImxlbiIsInVuaXF1ZVJhbmdlcyIsIml0ZW0iLCJsYXN0SW5kZXgiLCJmaW5hbFRleHQiLCJmb3VuZCIsIlJVU0hFRF9TUEVBS19QRVJDRU5UQUdFIiwiUEVUX1NQRUFLX1NUUkVOR1RIX01BUCIsIlBFVF9TUEVBS19FTkRfUEVSQ0VOVEFHRSIsImFsbG93ZWRQZXRQaHJhc2VzIiwicGV0UGhyYXNlQnVja2V0IiwiR2V0UGV0UGhyYXNlIiwicG9wIiwibmV4dEluZGV4Iiwic2VnbWVudHMiLCJvb2NSYW5nZXMiLCJvb2MiLCJsYXN0Qml0Iiwib2JqIiwidHJhaWxpbmdXaGl0ZXNwYWNlIiwid29yZFN0ZW5ndGgiLCJlbmRTdGVuZ3RoIiwic3BlYWtSZXF1aXJlZCIsInNwb2tlUGV0IiwibmV3TXNnIiwic2VnbWVudCIsInNwbGl0UGhyYXNlIiwicHJldmlvdXNXb3JkIiwid29yZCIsIm5vUHJldiIsImVuZHNXaXRoIiwicGV0UGhyYXNlIiwibW9kdWxlc1JlZ2lzdGVyZWQiLCJtb2R1bGVzIiwiYXN5bmMiLCJSZWdpc3Rlck1vZHVsZXMiLCJtb2RTZXQiLCJuZXdTZXR0aW5ncyIsIkxvYWRTdG9yYWdlIiwibW9kQVBJIiwiZnVuY3Rpb25OYW1lIiwicmVtb3ZlSG9vayIsIkF3YWl0UGxheWVyIiwiRXh0ZW5zaW9uU2V0dGluZ3MiLCJQcm9taXNlIiwicmVzb2x2ZSIsIkF3YWl0SW5DaGF0Um9vbSIsIlNsZWVwIiwibXMiLCJzZXRUaW1lb3V0IiwiZ2V0TW9kQXBpIiwiQ0hBTkdFTE9HX1JBV19TVEFCTEUiLCJDSEFOR0VMT0dfUkFXX0RFViIsIkNIQU5HRUxPR19TVEFCTEUiLCJDSEFOR0VMT0dfREVWIiwiVkVSU0lPTl9TVEFCTEVfUkVHRVgiLCJNUEFVcGRhdGVDaGVjayIsImlzU3RhYmxlIiwiU2VydmVyQWNjb3VudEJlZXAiLCJNZW1iZXJOYW1lIiwiQ2hhdFJvb21TcGFjZSIsIkNoYXRSb29tTmFtZSIsIkJlZXBUeXBlIiwiTWVzc2FnZSIsInVybCIsInJlc3BvbnNlIiwiZmV0Y2giLCJvayIsInN0YXR1c1RleHQiLCJjaGFuZ2Vsb2ciLCJtYXRjaGVzIiwiY2hhbmdlcyIsIkZldGNoTGF0ZXN0Q2hhbmdlbG9nIiwic2V0dGluZ1RpdGxlIiwiY2F0ZWdvcnlTZXR0aW5ncyIsInN5bmNXaXRoT3RoZXJzIiwiY29tcHJlc3NUb0Jhc2U2NCIsIlNlcnZlclBsYXllckV4dGVuc2lvblNldHRpbmdzU3luYyIsIm5hdmlnYXRvciIsImNsaXBib2FyZCIsIndyaXRlVGV4dCIsInJlamVjdCIsInJlYWRUZXh0IiwiY3VycmVudFNldHRpbmdzIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkZWZpbml0aW9uIiwiZW51bWVyYWJsZSIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIl0sInNvdXJjZVJvb3QiOiIifQ==