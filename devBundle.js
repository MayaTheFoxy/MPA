/*! For license information please see devBundle.js.LICENSE.txt */
(()=>{var e={"./node_modules/bondage-club-mod-sdk/dist/bcmodsdk.js":(e,t)=>{!function(){"use strict";const e="1.2.0";function o(e){alert("Mod ERROR:\n"+e);const t=new Error(e);throw console.error(t),t}const r=new TextEncoder;function n(e){return!!e&&"object"==typeof e&&!Array.isArray(e)}function i(e){const t=new Set;return e.filter((e=>!t.has(e)&&t.add(e)))}const l=new Map,a=new Set;function s(e){a.has(e)||(a.add(e),console.warn(e))}function u(e){const t=[],o=new Map,r=new Set;for(const n of h.values()){const i=n.patching.get(e.name);if(i){t.push(...i.hooks);for(const[t,l]of i.patches.entries())o.has(t)&&o.get(t)!==l&&s(`ModSDK: Mod '${n.name}' is patching function ${e.name} with same pattern that is already applied by different mod, but with different pattern:\nPattern:\n${t}\nPatch1:\n${o.get(t)||""}\nPatch2:\n${l}`),o.set(t,l),r.add(n.name)}}t.sort(((e,t)=>t.priority-e.priority));const n=function(e,t){if(0===t.size)return e;let o=e.toString().replaceAll("\r\n","\n");for(const[r,n]of t.entries())o.includes(r)||s(`ModSDK: Patching ${e.name}: Patch ${r} not applied`),o=o.replaceAll(r,n);return(0,eval)(`(${o})`)}(e.original,o);let i=function(t){var o,i;const l=null===(i=(o=y.errorReporterHooks).hookChainExit)||void 0===i?void 0:i.call(o,e.name,r),a=n.apply(this,t);return null==l||l(),a};for(let o=t.length-1;o>=0;o--){const r=t[o],n=i;i=function(t){var o,i;const l=null===(i=(o=y.errorReporterHooks).hookEnter)||void 0===i?void 0:i.call(o,e.name,r.mod),a=r.hook.apply(this,[t,e=>{if(1!==arguments.length||!Array.isArray(t))throw new Error(`Mod ${r.mod} failed to call next hook: Expected args to be array, got ${typeof e}`);return n.call(this,e)}]);return null==l||l(),a}}return{hooks:t,patches:o,patchesSources:r,enter:i,final:n}}function c(e,t=!1){let o=l.get(e);if(o)t&&(o.precomputed=u(o));else{let t=window;const i=e.split(".");for(let o=0;o<i.length-1;o++)if(t=t[i[o]],!n(t))throw new Error(`ModSDK: Function ${e} to be patched not found; ${i.slice(0,o+1).join(".")} is not object`);const a=t[i[i.length-1]];if("function"!=typeof a)throw new Error(`ModSDK: Function ${e} to be patched not found`);const s=function(e){let t=-1;for(const o of r.encode(e)){let e=255&(t^o);for(let t=0;t<8;t++)e=1&e?-306674912^e>>>1:e>>>1;t=t>>>8^e}return(~t>>>0).toString(16).padStart(8,"0").toUpperCase()}(a.toString().replaceAll("\r\n","\n")),c={name:e,original:a,originalHash:s};o=Object.assign(Object.assign({},c),{precomputed:u(c),router:()=>{},context:t,contextProperty:i[i.length-1]}),o.router=function(e){return function(...t){return e.precomputed.enter.apply(this,[t])}}(o),l.set(e,o),t[o.contextProperty]=o.router}return o}function d(){for(const e of l.values())e.precomputed=u(e)}function m(){const e=new Map;for(const[t,o]of l)e.set(t,{name:t,original:o.original,originalHash:o.originalHash,sdkEntrypoint:o.router,currentEntrypoint:o.context[o.contextProperty],hookedByMods:i(o.precomputed.hooks.map((e=>e.mod))),patchedByMods:Array.from(o.precomputed.patchesSources)});return e}const h=new Map;function v(e){h.get(e.name)!==e&&o(`Failed to unload mod '${e.name}': Not registered`),h.delete(e.name),e.loaded=!1,d()}function f(e,t){e&&"object"==typeof e||o("Failed to register mod: Expected info object, got "+typeof e),"string"==typeof e.name&&e.name||o("Failed to register mod: Expected name to be non-empty string, got "+typeof e.name);let r=`'${e.name}'`;"string"==typeof e.fullName&&e.fullName||o(`Failed to register mod ${r}: Expected fullName to be non-empty string, got ${typeof e.fullName}`),r=`'${e.fullName} (${e.name})'`,"string"!=typeof e.version&&o(`Failed to register mod ${r}: Expected version to be string, got ${typeof e.version}`),e.repository||(e.repository=void 0),void 0!==e.repository&&"string"!=typeof e.repository&&o(`Failed to register mod ${r}: Expected repository to be undefined or string, got ${typeof e.version}`),null==t&&(t={}),t&&"object"==typeof t||o(`Failed to register mod ${r}: Expected options to be undefined or object, got ${typeof t}`);const i=!0===t.allowReplace,l=h.get(e.name);l&&(l.allowReplace&&i||o(`Refusing to load mod ${r}: it is already loaded and doesn't allow being replaced.\nWas the mod loaded multiple times?`),v(l));const a=e=>{let t=m.patching.get(e.name);return t||(t={hooks:[],patches:new Map},m.patching.set(e.name,t)),t},s=(e,t)=>(...n)=>{var i,l;const a=null===(l=(i=y.errorReporterHooks).apiEndpointEnter)||void 0===l?void 0:l.call(i,e,m.name);m.loaded||o(`Mod ${r} attempted to call SDK function after being unloaded`);const s=t(...n);return null==a||a(),s},u={unload:s("unload",(()=>v(m))),hookFunction:s("hookFunction",((e,t,n)=>{"string"==typeof e&&e||o(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof e}`);const i=c(e),l=a(i);"number"!=typeof t&&o(`Mod ${r} failed to hook function '${e}': Expected priority number, got ${typeof t}`),"function"!=typeof n&&o(`Mod ${r} failed to hook function '${e}': Expected hook function, got ${typeof n}`);const s={mod:m.name,priority:t,hook:n};return l.hooks.push(s),d(),()=>{const e=l.hooks.indexOf(s);e>=0&&(l.hooks.splice(e,1),d())}})),patchFunction:s("patchFunction",((e,t)=>{"string"==typeof e&&e||o(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof e}`);const i=c(e),l=a(i);n(t)||o(`Mod ${r} failed to patch function '${e}': Expected patches object, got ${typeof t}`);for(const[n,i]of Object.entries(t))"string"==typeof i?l.patches.set(n,i):null===i?l.patches.delete(n):o(`Mod ${r} failed to patch function '${e}': Invalid format of patch '${n}'`);d()})),removePatches:s("removePatches",(e=>{"string"==typeof e&&e||o(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof e}`);const t=c(e);a(t).patches.clear(),d()})),callOriginal:s("callOriginal",((e,t,n)=>{"string"==typeof e&&e||o(`Mod ${r} failed to call a function: Expected function name string, got ${typeof e}`);const i=c(e);return Array.isArray(t)||o(`Mod ${r} failed to call a function: Expected args array, got ${typeof t}`),i.original.apply(null!=n?n:globalThis,t)})),getOriginalHash:s("getOriginalHash",(e=>("string"==typeof e&&e||o(`Mod ${r} failed to get hash: Expected function name string, got ${typeof e}`),c(e).originalHash)))},m={name:e.name,fullName:e.fullName,version:e.version,repository:e.repository,allowReplace:i,api:u,loaded:!0,patching:new Map};return h.set(e.name,m),Object.freeze(u)}function p(){const e=[];for(const t of h.values())e.push({name:t.name,fullName:t.fullName,version:t.version,repository:t.repository});return e}let y;const g=void 0===window.bcModSdk?window.bcModSdk=function(){const t={version:e,apiVersion:1,registerMod:f,getModsInfo:p,getPatchingInfo:m,errorReporterHooks:Object.seal({apiEndpointEnter:null,hookEnter:null,hookChainExit:null})};return y=t,Object.freeze(t)}():(n(window.bcModSdk)||o("Failed to init Mod SDK: Name already in use"),1!==window.bcModSdk.apiVersion&&o(`Failed to init Mod SDK: Different version already loaded ('1.2.0' vs '${window.bcModSdk.version}')`),window.bcModSdk.version!==e&&alert(`Mod SDK warning: Loading different but compatible versions ('1.2.0' vs '${window.bcModSdk.version}')\nOne of mods you are using is using an old version of SDK. It will work for now but please inform author to update`),window.bcModSdk);Object.defineProperty(t,"__esModule",{value:!0}),t.default=g}()},"./src/commands/bed.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{Bed:()=>n});var r=o("./src/util/messaging.ts");function n(){CommandCombine([{Tag:"bed",Description:"Crawl into bed without needing hands",Action:()=>{var e;if(null!==InventoryGet(Player,"ItemDevices"))return void(0,r.NotifyPlayer)("Unable to crawl into bed",2e4);const t=null===(e=InventoryGet(Player,"HairFront"))||void 0===e?void 0:e.Color;InventoryWear(Player,"PetBed","ItemDevices",[t[0],"Default",t[t.length-1]]),ChatRoomCharacterItemUpdate(Player,"ItemDevices"),(0,r.SendAction)("SourceCharacter crawls into PronounPossessive bed.",void 0,[{SourceCharacter:Player.MemberNumber}])}},{Tag:"blanket",Description:"Pull the blanket over yourself",Action:()=>{var e,t,o,n;const i=InventoryGet(Player,"ItemDevices");"PetBed"===(null==i?void 0:i.Asset.Name)&&(0===(null===(t=null===(e=i.Property)||void 0===e?void 0:e.TypeRecord)||void 0===t?void 0:t.typed)||1===(null===(n=null===(o=i.Property)||void 0===o?void 0:o.TypeRecord)||void 0===n?void 0:n.typed))?(i.Property.TypeRecord.typed=Number(!i.Property.TypeRecord.typed),ChatRoomCharacterUpdate(Player),1===i.Property.TypeRecord.typed?(0,r.SendAction)("SourceCharacter pulls a blanket over PronounObject.",void 0,[{SourceCharacter:Player.MemberNumber}]):(0,r.SendAction)("SourceCharacter removes the blanket from on top of PronounObject.",void 0,[{SourceCharacter:Player.MemberNumber}])):(0,r.NotifyPlayer)("Unable to pull the blanket over yourself.",2e4)}}])}},"./src/commands/buildAllCommands.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{BuildAllCommands:()=>n});var r=o("./src/commands/bed.ts");function n(){(0,r.Bed)()}},"./src/localization/localization.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{LocalizedText:()=>n});const r={template:o("./src/localization/template.json"),RU:o("./src/localization/RU.json")};function n(e){var t;const o=null===(t=null==r?void 0:r[TranslationLanguage])||void 0===t?void 0:t[e];return o&&""!==o?o:e}},"./src/modules/_module.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{Module:()=>a,ModuleTitle:()=>r});var r,n=o("./src/util/sdk.ts"),i=o("./src/util/activities.ts"),l=o("./src/util/messaging.ts");!function(e){e.Unknown="Unknown",e.Authority="Authority",e.Activities="Activities",e.Clicker="Clicker",e.Settings="Settings",e.VirtualPet="VirtualPet",e.VirtualPetHUD="VirtualPetHud",e.VirtualPetConditions="VirtualPetConditions",e.DataSync="DataSync",e.Profile="Profile",e.SettingsOther="SettingsOther"}(r||(r={}));class a{get Title(){return r.Unknown}get Activities(){return[]}get Settings(){return[]}get SyncListeners(){return[]}Load(){(0,i.CreateActivities)(this.Activities),(0,l.AddDataSyncListeners)(this.SyncListeners)}Unload(){(0,n.RemoveHooks)(this.Title),(0,i.RemoveActivities)(this.Activities),(0,l.RemoveDataSyncListeners)(this.Title)}Reload(){this.Unload(),this.Load()}}},"./src/modules/activities.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ActivitiesModule:()=>l});var r=o("./src/util/activities.ts"),n=o("./src/util/sdk.ts"),i=o("./src/modules/_module.ts");class l extends i.Module{get Title(){return i.ModuleTitle.Activities}Load(){(0,n.HookFunction)(this.Title,"ActivityCheckPrerequisite",1,((e,t)=>{const[o,n,i,l]=e;return Object.keys(r.activityPrerequisites).includes(o)?r.activityPrerequisites[o](n,i,l):t(e)})),(0,n.HookFunction)(this.Title,"ServerSend",1,((e,t)=>{var o,n,i,l,a,s;const u=e[1];if("ChatRoomChat"!==e[0]||"Activity"!==(null==u?void 0:u.Type))return t(e);const c=null===(n=null===(o=null==u?void 0:u.Dictionary)||void 0===o?void 0:o.find((e=>e.ActivityName)))||void 0===n?void 0:n.ActivityName;if((null==c?void 0:c.startsWith("MPA_"))&&(null===(i=null==u?void 0:u.Dictionary)||void 0===i||i.push({Tag:"MISSING ACTIVITY DESCRIPTION FOR KEYWORD "+u.Content,Text:ActivityDictionaryText(u.Content)}),Object.keys(r.activityTriggers).includes(c))){const e=null!==(s=null===(a=null===(l=null==u?void 0:u.Dictionary)||void 0===l?void 0:l.find((e=>e.TargetCharacter)))||void 0===a?void 0:a.TargetCharacter)&&void 0!==s?s:-1,t=null===ChatRoomCharacter||void 0===ChatRoomCharacter?void 0:ChatRoomCharacter.find((t=>t.MemberNumber===e));r.activityTriggers[c](t)}return t(e)})),(0,n.HookFunction)(this.Title,"DrawImageResize",1,((e,t)=>{const o=e[0].toString(),n=o.substring(o.indexOf("MPA_"),o.indexOf(".png"));return Object.keys(r.activityImages).includes(n)&&(e[0]=r.activityImages[n]),t(e)}))}Unload(){super.Unload()}}},"./src/modules/authority.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{AuthorityModule:()=>a,IsHardcoreOn:()=>l});var r=o("./src/util/authority.ts"),n=o("./src/modules/_module.ts");const i=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[n.ModuleTitle.Authority])&&void 0!==o?o:{}};function l(e){var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[n.ModuleTitle.Authority].hardcore)&&void 0!==o&&o}class a extends n.Module{get Title(){return n.ModuleTitle.Authority}get Settings(){return[{name:"owners",type:"text",active:()=>!0,value:"",label:"Owner member numbers; Seperated by a ,",maxChars:1024,width:400},{name:"selfAuthority",type:"checkbox",active:()=>!0,value:!0,label:"Allow TargetCharacter to change TargetPronounPossessive Authority settings"},{name:"othersAuthority",type:"option",active:()=>!0,options:r.AUTHORITY_GROUP_OPTIONS,value:"Clubowner",label:"Allow others to change TargetCharacter's Authority settings",loop:!1},{name:"selfProfile",type:"checkbox",active:e=>"Self"!==i(e).othersProfile,value:!0,label:"Allow TargetCharacter to change TargetPronounPossessive Profile settings"},{name:"othersProfile",type:"option",active:()=>!0,options:r.AUTHORITY_GROUP_OPTIONS,value:"Clubowner",label:"Allow others to change TargetCharacter's Profile settings",loop:!1,onSet(e){i(e).selfProfile=!0}},{name:"selfClicker",type:"checkbox",active:()=>!0,value:!0,label:"Allow TargetCharacter to change TargetPronounPossessive Clicker settings"},{name:"othersClicker",type:"option",active:()=>!0,options:r.AUTHORITY_GROUP_OPTIONS,value:"Clubowner",label:"Allow others to change TargetCharacter's Clicker settings",loop:!1},{name:"selfVirtualPet",type:"checkbox",active:()=>!0,value:!0,label:"Allow TargetCharacter to change TargetPronounPossessive Virtual Pet settings"},{name:"othersVirtualPet",type:"option",active:()=>!0,options:r.AUTHORITY_GROUP_OPTIONS,value:"Clubowner",label:"Allow others to change TargetCharacter's Virtual Pet settings",loop:!1},{name:"selfVirtualPetConditions",type:"checkbox",active:()=>!0,value:!0,label:"Allow TargetCharacter to change TargetPronounPossessive Virtual Pet Conditions settings"},{name:"othersVirtualPetConditions",type:"option",active:()=>!0,options:r.AUTHORITY_GROUP_OPTIONS,value:"Clubowner",label:"Allow others to change TargetCharacter's Virtual Pet Conditions settings",loop:!1}]}}},"./src/modules/clicker.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ClickerModule:()=>v});var r=o("./src/util/sdk.ts"),n=o("./src/util/messaging.ts"),i=o("./src/util/authority.ts"),l=o("./src/modules/_module.ts"),a=o("./src/modules/profile.ts");const s=[new Audio("https://media.soundgasm.net/sounds/df33316bec7bc03902860d21fb4b8827466f2bad.m4a"),new Audio("https://media.soundgasm.net/sounds/fa49b10dad3e1202de096859b339dcfc5eab90a5.m4a"),new Audio("https://media.soundgasm.net/sounds/b25177a6a92d5a74d047a9d77a807f2d1ed28c71.m4a")],u=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[l.ModuleTitle.Clicker])&&void 0!==o?o:{}};function c(e=""){let t=0;return u().triggers.split(",").map((e=>e.trim())).filter((e=>""!==e)).forEach((o=>{var r,n;t+=null!==(n=null===(r=e.toLocaleLowerCase().match(new RegExp(o.toLocaleLowerCase(),"g")))||void 0===r?void 0:r.length)&&void 0!==n?n:0})),t}function d(e=0){isNaN(e)||e<=0||!u().enabled||s[Math.min(e-1,s.length-1)].play()}let m=!1;function h(){var e,t;window.bcx&&!m&&(null===(t=(e=window.bcx.getModApi("MPA")).on)||void 0===t||t.call(e,"bcxLocalMessage",(e=>{const t=null==e?void 0:e.message,o="[Voice] ";u().enabled&&u().bcxVoice&&(null==t?void 0:t.startsWith(o))&&d(c(t.substring(8)))})),m=!0)}class v extends l.Module{constructor(){super(...arguments),this.hasBeenLoaded=!1}get Title(){return l.ModuleTitle.Clicker}get Activities(){return[{Name:"Clicker1",MaxProgress:50,Prerequisite:["UseHands","HoldingClicker"],Targets:[{group:"ItemHands",label:"Click Once",actionSelf:"SourceCharacter presses the button on PronounPossessive clicker."}],Image:"Icons/AudioOn.png"},{Name:"Clicker2",MaxProgress:50,Prerequisite:["UseHands","HoldingClicker"],Targets:[{group:"ItemHands",label:"Click Twice",actionSelf:"SourceCharacter presses the button on PronounPossessive clicker twice."}],Image:"Icons/AudioOn.png"},{Name:"Clicker3",MaxProgress:50,Prerequisite:["UseHands","HoldingClicker"],Targets:[{group:"ItemHands",label:"Click Thrice",actionSelf:"SourceCharacter presses the button on PronounPossessive clicker three times."}],Image:"Icons/AudioOn.png"}]}get Settings(){return[{name:"enabled",type:"checkbox",active:e=>!(0,a.IsHardcoreOn)(e),value:!1,label:"Enable auditory clicker"},{name:"triggers",type:"text",active:e=>!!u(e).enabled,value:"~click~",label:"Phrases that trigger the click; Separate phrases with a comma",width:384,maxChars:null},{name:"selfAuthed",type:"checkbox",active:e=>!!u(e).enabled&&"Self"!==u(e).authedGroup,value:!0,label:"Allow your own chat, emotes, & actions to trigger the clicker"},{name:"authedGroup",type:"option",active:e=>!!u(e).enabled,value:"Friends",options:["Public","Friends","Whitelist","Lovers","Owners","Clubowner","Self"],label:"Who will be able to trigger the clicker",loop:!1,onSet(e){"Self"===u(e).authedGroup&&(u(e).selfAuthed=!0)}},{name:"bcxVoice",type:"checkbox",active:e=>!!u(e).enabled&&window.bcx&&!(0,a.IsHardcoreOn)(e),value:!0,label:"Allow BCX Listen to my voice rule to trigger the clicker; Requires BCX"}]}Load(){if(super.Load(),(0,r.HookFunction)(l.ModuleTitle.Clicker,"ChatRoomMessage",0,((e,t)=>{var o,r,l,a,s,m,h,v,f,p;const y=e[0];if(!(u().enabled&&(null===(o=e[0])||void 0===o?void 0:o.Type)&&(null===(r=e[0])||void 0===r?void 0:r.Content)&&(null===(l=e[0])||void 0===l?void 0:l.Sender)&&(0,i.IsMemberNumberInAuthGroup)(y.Sender,u().authedGroup,u().selfAuthed)))return t(e);let g=0;return"Chat"!=y.Type&&"Emote"!=y.Type&&"Whisper"!=y.Type||(g=c((0,n.RemoveOOCContentFromMessage)(y.Content))),"Action"==y.Type&&(g="Beep"==y.Content?c(null!==(m=null===(s=null===(a=null==y?void 0:y.Dictionary)||void 0===a?void 0:a.filter((e=>"Beep"==e.Tag))[0])||void 0===s?void 0:s.Text)&&void 0!==m?m:""):(null===(h=y.Dictionary)||void 0===h?void 0:h.reduce(((e,t)=>e||'MISSING TEXT IN "Interface.csv": '===t.Tag&&"â€Œ"===t.Text),!1))?c(y.Content):c(null!==(p=null===(f=null===(v=null==y?void 0:y.Dictionary)||void 0===v?void 0:v.filter((e=>e.Tag==`MISSING TEXT IN "Interface.csv": ${null==y?void 0:y.Content}`))[0])||void 0===f?void 0:f.Text)&&void 0!==p?p:"")),d(g),t(e)})),(0,r.HookFunction)(l.ModuleTitle.Clicker,"ChatRoomMessage",0,((e,t)=>{t(e);const o=e[0],r=(0,n.GetAttributeFromChatDictionary)(o,"ActivityName");u().enabled&&"Activity"===o.Type&&(null==r?void 0:r.startsWith("MPA_Clicker"))&&(0,i.IsMemberNumberInAuthGroup)(o.Sender,u().authedGroup,u().selfAuthed)&&d(Number(r.slice(-1)))})),!this.hasBeenLoaded){h();const e=setInterval((()=>{m?clearInterval(e):h()}),6e4)}this.hasBeenLoaded=!0}Unload(){super.Unload()}}},"./src/modules/dataSync.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{CategorySync:()=>a,DataSyncModule:()=>u,RecordSync:()=>s,SettingSync:()=>l});var r=o("./src/util/sdk.ts"),n=o("./src/modules/_module.ts"),i=o("./src/util/messaging.ts");function l(e=!1,t){(0,i.SendMPAMessage)({message:"SettingSync",settings:Player.MPA,reply:e},t)}function a(e,t){(0,i.SendMPAMessage)({message:"CategorySync",category:e,value:Player.MPA[e]},t)}function s(e,t,o){(0,i.SendMPAMessage)({message:"RecordSync",category:e,record:t,value:Player.MPA[e][t]},o)}class u extends n.Module{get Title(){return n.ModuleTitle.DataSync}get SyncListeners(){return[{module:n.ModuleTitle.DataSync,message:"SettingSync",action:function(e,t){e.MPA=t.settings,t.reply&&l(!1,e.MemberNumber)}},{module:n.ModuleTitle.DataSync,message:"CategorySync",action:function(e,t){e.MPA?e.MPA[t.category]=t.value:l(!1,e.MemberNumber)}},{module:n.ModuleTitle.DataSync,message:"RecordSync",action:function(e,t){var o;(null===(o=null==e?void 0:e.MPA)||void 0===o?void 0:o[t.category])?e.MPA[t.category][t.record]=t.value:l(!1,e.MemberNumber)}}]}Load(){super.Load(),0!==ChatRoomCharacter.length&&l(!0),(0,r.HookFunction)(n.ModuleTitle.DataSync,"ChatRoomSync",0,((e,t)=>{t(e),l(!0)})),(0,r.HookFunction)(n.ModuleTitle.DataSync,"ChatRoomMessage",0,((e,t)=>{var o;const r=e[0],n=(0,i.GetMPAMessageFromChat)(r);if(!n)return t(e);const l=(0,i.FindCharacterInRoom)(null!==(o=r.Sender)&&void 0!==o?o:"",{MemberNumber:!0,Name:!1,NickName:!1});if(!l)return t(e);i.hookedMessages.forEach((e=>{n.message===e.message&&e.action(l,n)}))}))}Unload(){super.Unload()}}},"./src/modules/profile.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{GARBLE_PHRASES:()=>s,IsHardcoreOn:()=>l,PET_HEARING:()=>u,ProfileModule:()=>c});var r=o("./src/util/sdk.ts"),n=o("./src/modules/_module.ts");const i=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[n.ModuleTitle.Profile])&&void 0!==o?o:{}};function l(e){var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[n.ModuleTitle.Profile].hardcore)&&void 0!==o&&o}function a(e,t=Player){var o,r;return null!==(r=null===(o=t.MPA)||void 0===o?void 0:o[e])&&void 0!==r?r:{}}const s=Object.freeze({Human:"Hmmgm",Custom:"",Bunny:"Pon",Cat:"Mew",Cow:"Moo",Dog:"Arf",Fox:"Chirp",Mouse:"Sqeak",Pony:"Neigh",Wolf:"Grrr"}),u=Object.freeze({All:["owner","pet","master","mistress","miss","sir","paw","sit","come","down","up","stay","water","food","kibble","eat","treat","drink","toy","play","leash","walk","walkies","bed","sleep","cutie","adorable","toy","play","kibble","good","bad","lap","speak","hush","quiet","hush","all fours","all-fours"],Human:[],Custom:[],Bunny:["bun","bunny","carrot","hop","jump"],Cat:["cat","kitty","kitten","catnip"],Cow:["milk","milking","utter","breast","grass","moo"],Dog:["cage","kennel","pup","puppy","dog","doggy","bone","fetch"],Fox:["trap","bun","bunny","bone","fox","foxy"],Mouse:["mouse"],Pony:["pony","mare","stallion","bridle","hoof","hooves","trot","stall","hay","woah","stomp","calm","easy","slow"],Wolf:["bone","wolf"]});class c extends n.Module{get Title(){return n.ModuleTitle.Profile}get Settings(){return[{name:"type",type:"option",active:()=>!0,options:Object.keys(s),value:"Human",label:"Use a preset profile or make your own",loop:!0},{name:"petHearing",type:"checkbox",active:()=>!0,value:!1,label:"While deafened certain pet keywords can be picked up"},{name:"hardcore",type:"checkbox",active:()=>!0,value:!1,label:"Enable hardcore mode; Will set certain settings and prevent changing them back",onSet(e){a(n.ModuleTitle.Clicker,e).enabled=!0,a(n.ModuleTitle.Clicker,e).bcxVoice=!0,a(n.ModuleTitle.VirtualPet,e).enabled=!0,a(n.ModuleTitle.VirtualPet,e).noHands=!1,a(n.ModuleTitle.VirtualPetConditions,e).enabled=!0,a(n.ModuleTitle.VirtualPetConditions,e).foodNOW=!0,a(n.ModuleTitle.VirtualPetConditions,e).tint=!0,a(n.ModuleTitle.VirtualPetConditions,e).passout=!0,a(n.ModuleTitle.VirtualPetConditions,e).affectionSkillBuffs=!1,a(n.ModuleTitle.VirtualPetConditions,e).affectionSkillDebuffs=!0,a(n.ModuleTitle.VirtualPetConditions,e).hearingLoss=!0,a(n.ModuleTitle.VirtualPetConditions,e).slowLeave=!0}}]}Load(){super.Load(),(0,r.HookFunction)(this.Title,"SpeechTransformGagGarble",5,(([e,t,o,...r],n)=>{var l;const a=r[0];if(a&&a.MemberNumber!==Player.MemberNumber||!Player.IsDeaf()||!1===i().petHearing)return n([e,t,o,...r]);const s=u.All.concat(u[null===(l=i())||void 0===l?void 0:l.type]);s.push((Player.Nickname||Player.Name).toLocaleLowerCase()),s.push("SheHer"===Player.GetPronouns()?"girl":"boy");const c=e.toLocaleLowerCase(),d=[];if(s.forEach((e=>{const t=new RegExp(`\\b${e}\\b`,"g");[...c.matchAll(t)].forEach((t=>{d.push({start:t.index,len:e.length})}))})),0===d.length)return n([e,t,o,...r]);d.sort(((e,t)=>e.start-t.start));SpeechGetOOCRanges(e).forEach((e=>{for(let t=d.length-1;t>=0;t--){const o=d[t];(e.start<o.start&&o.start<e.start+e.length||e.start<o.start+o.len&&o.start+o.len<e.start+e.length)&&d.splice(t,1)}}));let m=0,h="";return d.forEach((i=>{h+=n([e.substring(m,i.start),t,o,...r]),m=i.start+i.len,h+=e.substring(i.start,i.start+i.len)})),h+=n([e.substring(m),t,o,...r]),h}))}}},"./src/modules/settings.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ExitButtonPressed:()=>J,MENU_TITLES:()=>E,PreferenceMenuClick:()=>Q,PreferenceMenuRun:()=>ee,SetSettingChar:()=>v,SettingsModule:()=>ae,UpdateElementValues:()=>ne,currentMenu:()=>L});var r=o("./src/localization/localization.ts"),n=o("./src/util/storage.ts"),i=o("./src/util/constants.ts"),l=o("./src/util/settingTypes.ts"),a=o("./src/util/registerModules.ts"),s=o("./src/util/authority.ts"),u=o("./src/util/messaging.ts"),c=o("./src/modules/_module.ts"),d=o("./src/modules/virtualPet.ts");let m=!1,h=null;function v(e){m=!1,h=e}const f=2e3,p=[1815,75,90,90],y=7,g=400,b=90,P=160,M=500,S=20,A=20,C=[100,700,350,75],w=[C[0],C[1]-C[3],C[2]];let T=0,k="";const N=[C[0],C[1]+C[3]+S,(C[2]-S)/2,C[3]],x=[C[0]+(C[2]+S)/2,C[1]+C[3]+S,(C[2]-S)/2,C[3]],I=[300,700,250,90],O=[1450,700,250,90];function D(){return h?h.IsPlayer()?[c.ModuleTitle.Authority,c.ModuleTitle.Profile,c.ModuleTitle.Clicker,c.ModuleTitle.VirtualPet,c.ModuleTitle.VirtualPetHUD,c.ModuleTitle.VirtualPetConditions]:[c.ModuleTitle.Authority,c.ModuleTitle.Profile,c.ModuleTitle.Clicker,c.ModuleTitle.VirtualPet,c.ModuleTitle.VirtualPetConditions]:[]}const E={[c.ModuleTitle.VirtualPet]:"Virtual Pet",[c.ModuleTitle.VirtualPetHUD]:"Virtual Pet Hud",[c.ModuleTitle.VirtualPetConditions]:"Virtual Pet Conditions"};let L=null,H=!1,R=0;function F(e){for(let t=0;t<e.length;t++)if(MouseIn(M+(g+S)*Math.floor(t/y),P+(b+S)*(t%y),g,b))return e[t];return null}DrawButton(1520,720,200,80,"Cancel","White");const V=9,G=64,U=200,B=250,W=10,$=64,j=256,z=256,_=256;let Y=1,q=1;const K=[1635,75,90,90],X=[K[0]-K[2],K[1],K[2],K[2]];function Z(e){var t;if(!h)return;const o=Object.entries(null!==(t=a.settings[e])&&void 0!==t?t:{}).filter((([t,o])=>{var r;return(0,l.IsDisplaySetting)(o)&&t in(null!==(r=null==h?void 0:h.MPA[e])&&void 0!==r?r:{})}));1!==q&&(Y>q&&(Y=q),Y<1&&(Y=1),DrawButton(...K,"",Y>=q?"#aaaaaa":"#ffffff","Icons/Next.png","Next Page",Y>=q),DrawButton(...X,"",1>=Y?"#aaaaaa":"#ffffff","Icons/Prev.png","Previous Page",1>=Y)),o.slice((Y-1)*V,Y*V).forEach(((t,o)=>{var n,i,a,u,d,m,v,p,y;const[g,b]=t,P=!b.active(h)||`others${e}`in h.MPA[c.ModuleTitle.Authority]&&`self${e}`in h.MPA[c.ModuleTitle.Authority]&&!(0,s.IsMemberNumberInAuthGroup)(null!==(n=Player.MemberNumber)&&void 0!==n?n:-1,h.MPA[c.ModuleTitle.Authority][`others${e}`],h.MPA[c.ModuleTitle.Authority][`self${e}`],h);if((0,l.IsCheckboxSetting)(b))DrawCheckbox(B,U+o*(W+G),$,$,(0,r.LocalizedText)(b.label).replaceAll("TargetCharacter",null!==(i=(null==h?void 0:h.Nickname)||(null==h?void 0:h.Name))&&void 0!==i?i:"").replaceAll("TargetPronounPossessive","SheHer"===(null==h?void 0:h.GetPronouns())?"her":"his"),!!h.MPA[e][g],P,"Black");else if((0,l.IsOptionSetting)(b)){const t=b.options.indexOf(h.MPA[e][g]),n=b.options.length,i=e!==c.ModuleTitle.Authority||!s.AUTHORITY_GROUP_OPTIONS.includes(h.MPA[e][g]),l=!(i||(0,s.AuthorityIsComparisonToCharacter)(h.MPA[e][g],">=",null!==(a=Player.MemberNumber)&&void 0!==a?a:-1,h)),m=!(i||(0,s.AuthorityIsComparisonToCharacter)(h.MPA[e][g],">",null!==(u=Player.MemberNumber)&&void 0!==u?u:-1,h))&&"Self"!==h.MPA[e][g];DrawBackNextButton(B,U+o*(W+G),j,G,(0,r.LocalizedText)(h.MPA[e][g]),P||l&&m?"#aaaaaa":"#ffffff","",(()=>(0,r.LocalizedText)(l?"":b.loop?b.options[(t-1+n)%n]:t>0?b.options[t-1]:"")),(()=>(0,r.LocalizedText)(m?"":b.loop?b.options[(t+1+n)%n]:t+1<n?b.options[t+1]:"")),P||l&&m),DrawTextFit((0,r.LocalizedText)(b.label).replaceAll("TargetCharacter",null!==(d=(null==h?void 0:h.Nickname)||(null==h?void 0:h.Name))&&void 0!==d?d:"").replaceAll("TargetPronounPossessive","SheHer"===(null==h?void 0:h.GetPronouns())?"her":"his"),B+j+2*W,U+(o*(W+G)+Math.ceil(G/2)),f-2*B-j,"Black","Gray")}else if((0,l.IsTextSetting)(b)||(0,l.IsNumberSetting)(b)){const t=re(e,g);ElementPositionFixed(t,B,U+o*(W+G),null!==(m=b.width)&&void 0!==m?m:z,G),P?ElementSetAttribute(t,"disabled","true"):ElementRemoveAttribute(t,"disabled"),DrawTextFit((0,r.LocalizedText)(b.label).replaceAll("TargetCharacter",null!==(v=(null==h?void 0:h.Nickname)||(null==h?void 0:h.Name))&&void 0!==v?v:"").replaceAll("TargetPronounPossessive","SheHer"===(null==h?void 0:h.GetPronouns())?"her":"his"),B+(null!==(p=b.width)&&void 0!==p?p:z)+2*W,U+o*(W+G)+Math.ceil(G/2),f-2*B-(null!==(y=b.width)&&void 0!==y?y:z),"Black","Gray")}}))}function J(){null===L?(window.MPA.menuLoaded&&(window.MPA.menuLoaded=!1),te()):("RESET_Settings"===L||(le(L),Y=1,q=1),L=null)}function Q(){var e,t;if(MouseIn(...p))J();else{if((null==h?void 0:h.MemberNumber)===Player.MemberNumber&&null===L){if(MouseIn(...C))return L="RESET_Settings",void(R=Date.now()+1e4);if(MouseIn(...N))return void(0,n.ImportSettingsFromClipboard)().then((()=>{k="Settings imported from clipboard"}),(()=>{k="Failed to import settings"})).finally((()=>T=Date.now()+5e3));if(MouseIn(...x))return void(0,n.ExportSettingsToClipboard)().then((()=>{k="Settings copied to clipboard"}),(()=>{k="Failed to export settings"})).finally((()=>T=Date.now()+5e3))}if(null===L&&null!==F(D())&&(L=F(D()),Y=1,q=Math.ceil(Object.entries(null!==(e=a.settings[null!=L?L:""])&&void 0!==e?e:{}).filter((([e,t])=>{var o;return(0,l.IsDisplaySetting)(t)&&e in(null!==(o=null==h?void 0:h.MPA[null!=L?L:""])&&void 0!==o?o:{})})).length/V),ie(L)),"RESET_Settings"!==L){if(null!==L){if(Object.entries(null!==(t=a.settings[null!=L?L:""])&&void 0!==t?t:{}).filter((([e,t])=>{var o;return(0,l.IsDisplaySetting)(t)&&e in(null!==(o=null==h?void 0:h.MPA[null!=L?L:""])&&void 0!==o?o:{})})).length>V){if(MouseIn(...K)&&Y<q)return le(L),Y++,void ie(L);if(MouseIn(...X)&&Y>1)return le(L),Y--,void ie(L)}!function(e){var t;if(!h)return;const o=Object.entries(null!==(t=a.settings[e])&&void 0!==t?t:{}).filter((([t,o])=>{var r;return(0,l.IsDisplaySetting)(o)&&t in(null!==(r=null==h?void 0:h.MPA[e])&&void 0!==r?r:{})}));o.slice((Y-1)*V,Y*V).forEach(((t,o)=>{var r,n,i;const[a,u]=t,d=!u.active(h)||`others${e}`in h.MPA[c.ModuleTitle.Authority]&&`self${e}`in h.MPA[c.ModuleTitle.Authority]&&!(0,s.IsMemberNumberInAuthGroup)(null!==(r=Player.MemberNumber)&&void 0!==r?r:-1,h.MPA[c.ModuleTitle.Authority][`others${e}`],h.MPA[c.ModuleTitle.Authority][`self${e}`],h);if((0,l.IsCheckboxSetting)(u))MouseIn(B,U+o*(W+G),$,$)&&!d&&(h.MPA[e][a]=!h.MPA[e][a],u.onSet&&u.onSet(h),m=!0);else if((0,l.IsOptionSetting)(u)){const t=u.options.indexOf(h.MPA[e][a]),r=u.options.length;!MouseIn(B,U+o*(W+G),Math.floor(j/2),G)||d||!(u.loop||t>0)||e===c.ModuleTitle.Authority&&s.AUTHORITY_GROUP_OPTIONS.includes(h.MPA[e][a])&&!(0,s.AuthorityIsComparisonToCharacter)(h.MPA[e][a],">=",null!==(n=Player.MemberNumber)&&void 0!==n?n:-1,h)?!MouseIn(B+Math.floor(j/2),U+o*(W+G),Math.ceil(j/2),G)||d||!(u.loop||t+1<u.options.length)||e===c.ModuleTitle.Authority&&s.AUTHORITY_GROUP_OPTIONS.includes(h.MPA[e][a])&&!(0,s.AuthorityIsComparisonToCharacter)(h.MPA[e][a],">",null!==(i=Player.MemberNumber)&&void 0!==i?i:-1,h)||(h.MPA[e][a]=u.options[(t+1+r)%r],u.onSet&&u.onSet(h),m=!0):(h.MPA[e][a]=u.options[(t-1+r)%r],u.onSet&&u.onSet(h),m=!0)}}))}(L)}}else!function(){MouseIn(...I)&&Date.now()>R&&((0,n.ResetStorage)(),L=null,R=0);MouseIn(...O)&&(L=null,R=0)}()}}function ee(){var e;if("RESET_Settings"===L)return void function(){const e=MainCanvas.textAlign;MainCanvas.textAlign="center",DrawText((0,r.LocalizedText)("WARNING: Are you sure you want to reset your MPA settings and data back to default?"),f/2,250,"#000000","#aaaaaa"),DrawText((0,r.LocalizedText)("This action can not be undone!"),f/2,400,"#ff0000","#aaaaaa"),DrawText((0,r.LocalizedText)("Export and save your settings BEFORE confirming if you are unsure."),f/2,550,"#696969","#aaaaaa");const t=Date.now();t<=R?DrawButton(...I,`${(0,r.LocalizedText)("Confirm")} (${Math.floor((R-t)/1e3)})`,"#aaaaaa",void 0,void 0,!0):DrawButton(...I,(0,r.LocalizedText)("Confirm"),"#ff0000"),DrawButton(...O,(0,r.LocalizedText)("Cancel"),"White"),MainCanvas.textAlign=e}();const t=MainCanvas.textAlign;DrawButton(...p,"","White","Icons/Exit.png"),MainCanvas.textAlign="center",DrawText(`${(0,r.LocalizedText)("Maya's Petplay Additions")}${L?` - ${(null==h?void 0:h.Nickname)||(null==h?void 0:h.Name)}'s ${(0,r.LocalizedText)(null!==(e=E[L])&&void 0!==e?e:L)}`:""}`,1e3,125,"Black","Gray"),(null==h?void 0:h.MemberNumber)===Player.MemberNumber&&null===L&&(T>=Date.now()&&(MainCanvas.textAlign="left",DrawTextFit(k,...w,"Black","Gray")),MainCanvas.textAlign="center",DrawButton(...C,(0,r.LocalizedText)("RESET"),"#ff2e2eaa","",(0,r.LocalizedText)("Reset all your settings back to default")),DrawButton(...N,(0,r.LocalizedText)("Import"),"#ffffff","",(0,r.LocalizedText)("Import the settings copied to your clipboard")),DrawButton(...x,(0,r.LocalizedText)("Export"),"#ffffff","",(0,r.LocalizedText)("Export your current settings to the clipboard"))),MainCanvas.textAlign="left",null===L?function(e){var t;for(let o=0;o<e.length;o++)DrawButton(M+(g+S)*Math.floor(o/y),P+(b+S)*(o%y),g,b,"","White"),DrawTextFit((0,r.LocalizedText)(null!==(t=E[e[o]])&&void 0!==t?t:e[o]),M+A+(g+S)*Math.floor(o/y),P+Math.floor(b/2)+(b+S)*(o%y),g-2*A,"Black","Gray")}(D()):Z(L),MainCanvas.textAlign=t}function te(){h&&(m&&(h.MemberNumber===Player.MemberNumber?((0,d.LevelSync)(!1,!1,!1),(0,n.SaveStorage)(!0)):(0,u.SendMPAMessage)({message:"SettingPutRequest",settings:h.MPA},h.MemberNumber)),h.MemberNumber===Player.MemberNumber&&PreferenceSubscreenExtensionsClear(),m=!1,h=null,H=!1)}function oe(){m=!1,h=Player,h&&(H=!0)}function re(e,t){return`MPA_OPTION_${e}${t}`}function ne(){h&&Object.entries(a.settings).forEach((e=>{const[t,o]=e;Object.entries(o).forEach((e=>{const[o,r]=e,n=re(t,o);((0,l.IsTextSetting)(r)||(0,l.IsNumberSetting)(r))&&ElementSetAttribute(n,"value",h.MPA[t][o].toString())}))}))}function ie(e,t=Y){var o;e&&h&&Object.entries(null!==(o=a.settings[e])&&void 0!==o?o:{}).slice((t-1)*V,t*V).forEach((t=>{var o;const[r,n]=t,i=re(e,r);(0,l.IsTextSetting)(n)?ElementCreateInput(i,"text",h.MPA[e][r],null!==(o=n.maxChars)&&void 0!==o?o:_):(0,l.IsNumberSetting)(n)&&(ElementCreateInput(i,"number",h.MPA[e][r].toString()),ElementSetAttribute(i,"min",n.min.toString()),ElementSetAttribute(i,"max",n.max.toString()),ElementSetAttribute(i,"inputmode","decimal"),n.step&&ElementSetAttribute(i,"step",n.step.toString()))}))}function le(e,t=Y){var o;h&&(e===c.ModuleTitle.VirtualPet&&(0,d.LevelSync)(!1,!1,!1),Object.entries(null!==(o=a.settings[e])&&void 0!==o?o:{}).slice((t-1)*V,t*V).forEach((t=>{const[o,r]=t,n=re(e,o);(0,l.IsTextSetting)(r)&&(h.MPA[e][o]!==ElementValue(n)&&(h.MPA[e][o]=ElementValue(n),m=!0),ElementRemove(n)),(0,l.IsNumberSetting)(r)&&(h.MPA[e][o]!==Number(ElementValue(n))&&(h.MPA[e][o]=Number(ElementValue(n)),m=!0),ElementRemove(n))})))}class ae extends c.Module{get Title(){return c.ModuleTitle.Settings}Load(){function e(e){"Escape"!==e.key&&"Esc"!==e.key||!H||(null===L?te():"RESET_Settings"===L?R=0:(le(L),Y=1,q=1),L=null,e.stopPropagation())}PreferenceRegisterExtensionSetting({Identifier:"MPA",ButtonText:(0,r.LocalizedText)("MPA Settings"),Image:i.ICONS.PAW,click:Q,run:ee,exit:te,load:oe}),document.addEventListener("keypress",e,!0),document.addEventListener("keydown",e,!0)}Unload(){}Reload(){}}},"./src/modules/settingsOthers.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ObjectDifferences:()=>f,SettingsOtherModule:()=>p});var r=o("./src/util/messaging.ts"),n=o("./src/localization/localization.ts"),i=o("./src/util/constants.ts"),l=o("./src/util/sdk.ts"),a=o("./src/modules/_module.ts"),s=o("./src/modules/settings.ts"),u=o("./src/util/storage.ts"),c=o("./src/modules/virtualPet.ts"),d=o("./src/util/authority.ts"),m=o("./src/util/registerModules.ts");const h=[1700,765,90,90],v=[1700,800,90,90];function f(e,t){const o={};for(const r in e)if(r in t)if("object"!=typeof e[r]||"object"!=typeof t[r]||Array.isArray(e[r]))e[r]!==t[r]&&(o[r]={old:e[r],new:t[r]});else{const n=f(e[r],t[r]);Object.keys(n).length>0&&(o[r]=n)}else o[r]={old:e[r],new:void 0};for(const r in t)r in e||(o[r]={old:void 0,new:t[r]});return o}class p extends a.Module{get Title(){return a.ModuleTitle.SettingsOther}get SyncListeners(){return[{module:this.Title,message:"SettingPutRequest",action:function(e,t){var o,i,l,h,v,p,y,g,b,P,M,S;const A=Player.MPA[a.ModuleTitle.VirtualPet].enabled,C=f(Player.MPA,t.settings),w=[];(null===(o=null==C?void 0:C[a.ModuleTitle.VirtualPet])||void 0===o?void 0:o.levels)&&(delete C[a.ModuleTitle.VirtualPet].levels,0===Object.keys(C[a.ModuleTitle.VirtualPet]).length&&delete C[a.ModuleTitle.VirtualPet]),(0,c.LevelSync)(!1,!1,!1);const T=JSON.parse(JSON.stringify(null===(i=Player.MPA)||void 0===i?void 0:i[a.ModuleTitle.Authority])),k=C[a.ModuleTitle.Authority];if(k)if(delete C[a.ModuleTitle.Authority],(0,d.IsMemberNumberInAuthGroup)(null!==(l=e.MemberNumber)&&void 0!==l?l:-1,T[`others${a.ModuleTitle.Authority}`])){w.push((0,n.LocalizedText)(a.ModuleTitle.Authority));for(const e in k)void 0!==k[e].new&&void 0!==k[e].old&&(Player.MPA[a.ModuleTitle.Authority][e]=k[e].new)}else console.warn(`MPA: ${e.Nickname||e.Name} (${e.MemberNumber}) tried to illegally modify your ${a.ModuleTitle.Authority} settings!`);for(const t in C){if(!(0,d.IsMemberNumberInAuthGroup)(null!==(h=e.MemberNumber)&&void 0!==h?h:-1,null!==(v=T[`others${t}`])&&void 0!==v?v:"None")&&!(0,d.IsMemberNumberInAuthGroup)(null!==(p=e.MemberNumber)&&void 0!==p?p:-1,null!==(b=null===(g=null===(y=Player.MPA)||void 0===y?void 0:y[a.ModuleTitle.Authority])||void 0===g?void 0:g[`others${t}`])&&void 0!==b?b:"None")){console.warn(`MPA: ${e.Nickname||e.Name} (${e.MemberNumber}) tried to illegally modify your ${t} settings!`);continue}w.push((0,n.LocalizedText)(null!==(P=s.MENU_TITLES[t])&&void 0!==P?P:t));const o=C[t];for(const e in o)void 0!==o[e].new&&void 0!==o[e].old&&(Player.MPA[t][e]=o[e].new)}Player.MPA[a.ModuleTitle.Profile].hardcore&&(null===(S=null===(M=m.settings[a.ModuleTitle.Profile])||void 0===M?void 0:M.hardcore)||void 0===S||S.onSet(Player)),A!==Player.MPA[a.ModuleTitle.VirtualPet].enabled&&(Player.MPA[a.ModuleTitle.VirtualPet].levels.lastUpdated=Date.now()),0!==w.length&&(0,r.MPANotifyPlayer)((0,n.LocalizedText)("SourceCharacter just updated your SettingsArray settings.").replace("SourceCharacter",e.Nickname||e.Name).replace("SettingsArray",(0,r.ArrayToReadableString)(w))),(0,u.SaveStorage)(!0)}}]}Load(){super.Load();(0,l.HookFunction)(this.Title,"InformationSheetRun",12,((e,t)=>{var o;if((null===(o=window.bcx)||void 0===o?void 0:o.inBcxSubscreen())||window.LSCG_REMOTE_WINDOW_OPEN)return t(e);if(window.MPA.menuLoaded)return void(0,s.PreferenceMenuRun)();t(e);const r=InformationSheetSelection;if((null==r?void 0:r.MPA)&&!r.IsPlayer()){const e=ServerChatRoomGetAllowItem(Player,r);DrawButton(...window.bcx?v:h,"",e?"#ffffff":"#aaaaaa",i.ICONS.PAW,(0,n.LocalizedText)(e?"MPA":"MPA: No BC item permission"),!1)}})),(0,l.HookFunction)(this.Title,"InformationSheetClick",12,((e,t)=>{if(window.MPA.menuLoaded)return(0,s.PreferenceMenuClick)();const o=InformationSheetSelection;if(!MouseIn(...v)||!(null==o?void 0:o.MPA)||o.IsPlayer())return t(e);window.MPA.menuLoaded=!0,(0,s.SetSettingChar)(o)})),(0,l.HookFunction)(this.Title,"InformationSheetExit",12,((e,t)=>{if(!window.MPA.menuLoaded)return t(e);(0,s.ExitButtonPressed)()}))}Unload(){super.Unload()}}},"./src/modules/virtualPet.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{CalculateCurrentValue:()=>I,GetCharacterCurrentStatValue:()=>O,IsBedMultiplier:()=>w,IsSleepingExpression:()=>C,LevelSync:()=>D,ModifyStat:()=>E,VirtualPetModule:()=>L});var r=o("./src/modules/_module.ts"),n=o("./src/util/sdk.ts"),i=o("./src/util/storage.ts"),l=o("./src/util/messaging.ts"),a=o("./src/modules/dataSync.ts"),s=o("./src/modules/profile.ts");const u=168,c=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[r.ModuleTitle.VirtualPet])&&void 0!==o?o:{}},d=.4,m=["LSCG_Eat","ThrowItem"],h=["LSCG_FunnelPour","LSCG_Quaff"],v=["Sleep","Afk","Fork","Coding","Read"],f=["PetBed","Crib"],p=["LowCage","Kennel","Bed","MedicalBed"],y=["FuturisticCrate","DollBox"],g=["Pet","TakeCare","LSCG_Nuzzle","Caress","LSCG_Hug","Scratch"],b=["Kiss","MassageHands","Lick","Nibble","Cuddle","Grope"],P=["Spank","Slap","Bite","Pinch","Pull","ShockItem","SpankItem"],M={ItemArms:1,ItemBoots:.8,ItemBreast:1.5,ItemButt:1.5,ItemEars:2.5,ItemFeet:.8,ItemHands:1,ItemHead:3,ItemLegs:1,ItemMouth:2,ItemNeck:1.2,ItemNipples:1.5,ItemNose:1.7,ItemPelvis:1.3,ItemTorso:1,ItemVulva:2,ItemVulvaPiercings:2.5},S=.2;let A;const C=e=>{var t,o,r,n,i,l,a;return"Closed"===(null===(o=null===(t=e.Appearance.find((e=>"Eyes"===e.Asset.Group.Name)))||void 0===t?void 0:t.Property)||void 0===o?void 0:o.Expression)&&"Closed"===(null===(n=null===(r=e.Appearance.find((e=>"Eyes2"===e.Asset.Group.Name)))||void 0===r?void 0:r.Property)||void 0===n?void 0:n.Expression)&&v.includes(null!==(a=null===(l=null===(i=e.Appearance.find((e=>"Emoticon"===e.Asset.Group.Name)))||void 0===i?void 0:i.Property)||void 0===l?void 0:l.Expression)&&void 0!==a?a:"")},w=e=>{var t,o;const r=null!==(o=null===(t=InventoryGet(e,"ItemDevices"))||void 0===t?void 0:t.Asset.Name)&&void 0!==o?o:"";return f.includes(r)?10:p.includes(r)?5:y.includes(r)?2:1};let T=!1,k=1;function N(e=!0){!c().enabled||0===c().sleepHours||T===C(Player)&&k===w(Player)||(e&&D(),T=C(Player),k=w(Player))}function x(e){return 60*e*60*1e3}function I(e,t,o,r,n=!1,i=Player){const l=(r||Date.now())-o,a=Math.max(0,Math.min(e-l/x(t),1));if(n&&e>S&&a<S){const r=c(i).levels.lastOnline-o,n=Math.max(0,Math.min(e-r/x(t),1));return Math.min(S,n)}return a}function O(e,t){var o;const n=null===(o=null==e?void 0:e.MPA)||void 0===o?void 0:o[r.ModuleTitle.VirtualPet];if(!n)return-1;if("sleep"===t){const t=C(e)||1!==w(e)?n.levels.sleep+(Date.now()-n.levels.lastUpdated)/(60*n.sleepHours*60*1e3)*w(e)*(C(e)?5:1):I(n.levels.sleep,n.sleepHours,n.levels.lastUpdated);return Math.max(0,Math.min(1,t))}return I(n.levels[t],n[`${t}Hours`],n.levels.lastUpdated)}function D(e=!0,t=!0,o=!1){var n;if(!c().enabled)return c().levels.lastUpdated=Date.now(),void(c().levels.lastOnline=Date.now());const l=null!==(n=c().levels.lastUpdated)&&void 0!==n?n:Date.now(),s=c().offlineDrain?void 0:c().levels.lastOnline,u=c().foodHours;0!==u&&(c().levels.food=I(c().levels.food,u,l,s,o));const d=c().waterHours;0!==d&&(c().levels.water=I(c().levels.water,d,l,s,o));const m=c().sleepHours;if(0!==m)if(o&&!s||T||1!==k){const e=o?Date.now()-c().levels.lastOnline-(c().levels.lastOnline-l):Date.now()-l,t=c().levels.sleep+e/x(m)*k*(T?5:1);c().levels.sleep=Math.max(0,Math.min(1,t))}else c().levels.sleep=I(c().levels.sleep,m,l,s,o);const h=c().affectionHours;0!==h&&(c().levels.affection=I(c().levels.affection,h,l,s,o)),c().levels.lastUpdated=Date.now(),c().levels.lastOnline=Date.now(),e&&(0,i.SaveStorage)(!1),t&&(0,a.RecordSync)(r.ModuleTitle.VirtualPet,"levels")}function E(e,t,o=!0,n=!0,l){t<-1&&t>1||(D(!1,!1,!1),c().levels[e]+=t*(o&&t>0?function(e,t){let o=1;if((null==t?void 0:t.IsOwner())?o+=.5:(null==t?void 0:t.IsLoverOfPlayer())?o+=.35:(null==t?void 0:t.IsFamilyOfPlayer())&&(o+=.25),"food"!==e&&"water"!==e||Player.CanTalk()||(o-=.5),o+=.03*Player.Appearance.filter((e=>e.Asset.DynamicGroupName.startsWith("Item"))).length,"AllFours"===Player.PoseMapping.BodyFull&&(o+=.5),"affection"===e&&Player.MPA[r.ModuleTitle.VirtualPetConditions].enabled&&Player.MPA[r.ModuleTitle.VirtualPetConditions].foodNOW){const e=[];0!==c().foodHours&&e.push(O(Player,"food")),0!==c().waterHours&&e.push(O(Player,"water")),0!==e.length&&(o*=e.reduce(((e,t)=>e+t),0)/e.length/.75)}return Math.max(0,o)}(e,l):1),function(e){const t=c().levels[e];c().levels[e]=Math.min(Math.max(t,0),1)}(e),n&&(0,i.SaveStorage)(!1),(0,a.RecordSync)(r.ModuleTitle.VirtualPet,"levels"))}class L extends r.Module{get Title(){return r.ModuleTitle.VirtualPet}get Activities(){return[{Name:"BowlEat",Targets:[{group:"ItemMouth",label:"Eat From Bowl",actionSelf:"SourceCharacter eats from PronounPossessive bowl."}],Image:"Assets/Female3DCG/ItemDevices/Preview/PetBowl.png",Prerequisite:["UseMouth","HasBowl"],OnTrigger:()=>{c().enabled&&0!==c().foodHours&&E("food",d,!0)}},{Name:"BowlDrink",Targets:[{group:"ItemMouth",label:"Drink From Bowl",actionSelf:"SourceCharacter drinks from PronounPossessive bowl."}],Image:"Assets/Female3DCG/ItemDevices/Preview/PetBowl.png",Prerequisite:["UseMouth","HasBowl"],OnTrigger:()=>{c().enabled&&0!==c().waterHours&&E("water",d,!0)}},{Name:"BowlEat2",Targets:[{group:"ItemMouth",label:"Eat From Bowl",actionSelf:"SourceCharacter puts PronounPossessive head into PronounPossessive bowl in order to eat with the gag, making a mess."}],Image:"Assets/Female3DCG/ItemDevices/Preview/PetBowl.png",Prerequisite:["UseTongueNoMouth","HasBowl"],OnTrigger:()=>{c().enabled&&0!==c().foodHours&&E("food",d,!0)}},{Name:"BowlDrink2",Targets:[{group:"ItemMouth",label:"Drink From Bowl",actionSelf:"SourceCharacter puts PronounPossessive head into PronounPossessive bowl in order to drink with the gag, making a mess."}],Image:"Assets/Female3DCG/ItemDevices/Preview/PetBowl.png",Prerequisite:["UseTongueNoMouth","HasBowl"],OnTrigger:()=>{c().enabled&&0!==c().waterHours&&E("water",d,!0)}}]}get Settings(){return[{name:"enabled",type:"checkbox",active:e=>!(0,s.IsHardcoreOn)(e),value:!1,label:"Become a virtual pet! Requiring: food, water, sleep, and affection"},{name:"foodHours",type:"number",value:4,active:e=>!!c(e).enabled,label:"How many hours until you are completely out of food; 0 to disable",width:128,min:0,max:u,step:.1},{name:"waterHours",type:"number",value:4,active:e=>!!c(e).enabled,label:"How many hours until you are completely out of water; 0 to disable",width:128,min:0,max:u,step:.1},{name:"sleepHours",type:"number",value:8,active:e=>!!c(e).enabled,label:"How many hours until you are completely out of sleep; 0 to disable",width:128,min:0,max:u,step:.1},{name:"affectionHours",type:"number",value:4,active:e=>!!c(e).enabled,label:"How many hours until you are completely out of affection; 0 to disable",width:128,min:0,max:u,step:.1},{name:"offlineDrain",type:"checkbox",value:!0,active:e=>!!c(e).enabled,label:"Stats drain even when logged out of the club"},{name:"noHands",type:"checkbox",active:e=>!!c(e).enabled&&!(0,s.IsHardcoreOn)(e),value:!0,label:"Allow eating or drinking from items in your OWN hands"},{name:"masochist",type:"checkbox",active:e=>!!c(e).enabled,value:!1,label:"Masochist pet; Abuse raises affection"},{name:"levels",type:"record",value:{food:1,water:1,sleep:1,affection:1,lastUpdated:Date.now(),lastOnline:Date.now()}}]}Load(){super.Load(),N(!1),D(!0,!1,!0),A=setInterval((()=>{Player.MemberNumber&&(Player.MPA[this.Title].levels.lastOnline=Date.now(),(0,i.SaveStorage)(!1))}),1e4),(0,n.HookFunction)(this.Title,"ChatRoomMessage",0,((e,t)=>{var o,r;const n=e[0],i=(0,l.GetAttributeFromChatDictionary)(n,"ActivityName");if(!c().enabled||!c().noHands&&(0,l.GetAttributeFromChatDictionary)(n,"SourceCharacter")===Player.MemberNumber||"Activity"!==n.Type||(0,l.GetAttributeFromChatDictionary)(n,"TargetCharacter")!==Player.MemberNumber||"ItemMouth"!==(0,l.GetAttributeFromChatDictionary)(n,"FocusGroupName")||!i)return t(e);const a=ActivityFemale3DCG.find((e=>e.Name===i));return 0!==c().foodHours&&((null===(o=null==a?void 0:a.Prerequisite)||void 0===o?void 0:o.includes("Needs-EatItem"))||m.some((e=>(null==a?void 0:a.Name)===e)))&&E("food",.2,!0),0!==c().waterHours&&((null===(r=null==a?void 0:a.Prerequisite)||void 0===r?void 0:r.includes("Needs-SipItem"))||h.some((e=>(null==a?void 0:a.Name)===e)))&&E("water",.2,!0),t(e)})),(0,n.HookFunction)(this.Title,"CharacterRefresh",0,((e,t)=>(e[0].MemberNumber===Player.MemberNumber&&N(),t(e)))),(0,n.HookFunction)(this.Title,"ChatRoomMessage",0,((e,t)=>{var o,r;const n=e[0],i=(0,l.GetAttributeFromChatDictionary)(n,"ActivityName");if(!c().enabled||0===c().affectionHours||"Activity"!==n.Type||(0,l.GetAttributeFromChatDictionary)(n,"TargetCharacter")!==Player.MemberNumber||(0,l.GetAttributeFromChatDictionary)(n,"SourceCharacter")===Player.MemberNumber||!i)return t(e);const a=null!==(o=(0,l.GetAttributeFromChatDictionary)(n,"FocusGroupName"))&&void 0!==o?o:"",s=null!==(r=M[a])&&void 0!==r?r:1;return g.includes(i)?E("affection",.05*s):b.includes(i)?E("affection",.03*s):P.includes(i)&&E("affection",-.04*(c().masochist?-1:1)*s),t(e)}))}Unload(){super.Unload(),clearInterval(A)}}},"./src/modules/virtualPetConditions.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ConditionCheck:()=>p,VirtualPetConditionsModule:()=>N});var r=o("./src/util/general.ts"),n=o("./src/util/messaging.ts"),i=o("./src/util/sdk.ts"),l=o("./src/modules/_module.ts"),a=o("./src/modules/profile.ts"),s=o("./src/modules/virtualPet.ts");const u=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[l.ModuleTitle.VirtualPet])&&void 0!==o?o:{}},c=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[l.ModuleTitle.VirtualPetConditions])&&void 0!==o?o:{}};function d(e,t){var o;return!(!c().enabled||!c()[e])&&(!t||u().enabled&&0!==(null===(o=u())||void 0===o?void 0:o[`${t}Hours`]))}const m=[["SelfBondage",!0],["Willpower",!0],["Bondage",!1],["Evasion",!1],["LockPicking",!1]],h={food:-1,water:-1,sleep:-1,affection:-1};let v=[];let f=250;function p(){["food","water","affection","sleep"].forEach((e=>{if(u().enabled&&c().enabled&&0!==u()[`${e}Hours`]){const t=h[e],o=(0,s.GetCharacterCurrentStatValue)(Player,e);v.forEach((r=>{r.stat===e&&-1===t&&r.firstRun&&r.firstRun(),r.stat===e&&-1!==t&&t>o&&"rising"!==r.change&&o<=r.threshhold&&r.threshhold<t&&r.action(),r.stat===e&&-1!==t&&t<o&&"falling"!==r.change&&t<r.threshhold&&r.threshhold<=o&&r.action()})),h[e]=o}else h[e]=-1}))}const y="sleep",g=.25,b=0,P=0,M=1;let S=!1;const A=["SourceCharacter drools out of the corner of PronounPossessive lip as PronounSubject sleeps.","SourceCharacter mumbles quietly in PronounPossessive slumber.","SourceCharacter rests peacefully."];function C(){var e,t,o;CharacterSetFacialExpression(Player,"Emoticon","Sleep"),CharacterSetFacialExpression(Player,"Eyes","Closed"),CharacterSetFacialExpression(Player,"Fluids","DroolMedium"),Player.CanKneel()&&PoseSetActive(Player,"Kneel",!0),S=!0;const r=null===(o=null===(t=null===(e=null===Player||void 0===Player?void 0:Player.LSCG)||void 0===e?void 0:e.StateModule)||void 0===t?void 0:t.states)||void 0===o?void 0:o.find((e=>"asleep"===e.type));c().passoutLSCG&&r&&console.log("Calling LSCG passout"),(0,n.SendAction)("SourceCharacter passes out from exhaustion.",void 0,[{SourceCharacter:Player.MemberNumber}])}function w(){return c().enabled&&0!==u().sleepHours&&c().passout&&!c().passoutLSCG&&S}let T;function k(){u().enabled&&0!==u().affectionHours&&c().enabled&&m.forEach((([e,t])=>{const o=(0,s.GetCharacterCurrentStatValue)(Player,"affection"),r=Math.round((10*o/1-5)*(t?1:-1)*100)/100,n=SkillGetModifier(Player,e),i=0!==SkillGetModifierDuration(Player,e)?SkillGetModifierDuration(Player,e):15e3;r>0&&c().affectionSkillBuffs&&SkillSetModifier(Player,e,n+r,i,!1),r<0&&c().affectionSkillDebuffs&&SkillSetModifier(Player,e,n+r,i,!1)}))}class N extends l.Module{get Title(){return l.ModuleTitle.VirtualPetConditions}get Settings(){return[{name:"enabled",type:"checkbox",active:e=>!!u(e).enabled&&!(0,a.IsHardcoreOn)(e),value:!1,label:"Recive conditions based on current level of your virtual pet stats"},{name:"foodNOW",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,a.IsHardcoreOn)(e),value:!0,label:"Food and water affects affection gain"},{name:"tint",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,a.IsHardcoreOn)(e),value:!0,label:"Vision darkens as you get sleepier"},{name:"passout",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,a.IsHardcoreOn)(e),value:!0,label:"Passout when exhausted"},{name:"affectionSkillBuffs",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,a.IsHardcoreOn)(e),value:!0,label:"Affection will buff skills based on its level"},{name:"affectionSkillDebuffs",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,a.IsHardcoreOn)(e),value:!0,label:"Affection will debuff skills based on its level"},{name:"hearingLoss",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,a.IsHardcoreOn)(e),value:!0,label:"Hearing becomes harder the hungrier you are"},{name:"slowLeave",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,a.IsHardcoreOn)(e),value:!0,label:"Takes longer to leave the room when hungry"}]}Load(){(0,i.HookFunction)(this.Title,"GameRun",0,((e,t)=>(f>=250&&p(),f++,t(e)))),(0,i.HookFunction)(this.Title,"Player.GetTints",0,((e,t)=>{if(!d("tint",y))return t(e);const o=((0,s.GetCharacterCurrentStatValue)(Player,y)-g)/(b-g)*(M-P)+P;return P<=o&&o<=M?t(e).concat({r:0,g:0,b:0,a:Math.sqrt(Math.round(1e3*o)/1e3)}):t(e)})),v=[{stat:"sleep",threshhold:0,change:"falling",action:function(){C()},firstRun:function(){0===(0,s.GetCharacterCurrentStatValue)(Player,"sleep")&&C()}},{stat:"sleep",threshhold:.1,change:"rising",action:function(){S&&(CharacterSetFacialExpression(Player,"Emoticon",null),CharacterSetFacialExpression(Player,"Eyes","Dazed"),CharacterSetFacialExpression(Player,"Eyebrows","Lowered"),S=!1,(0,n.SendAction)("SourceCharacter wakes up from PronounPossessive nap.",void 0,[{SourceCharacter:Player.MemberNumber}]))}}],(0,i.HookFunction)(this.Title,"Player.CanTalk",5,((e,t)=>!w()&&t(e))),(0,i.HookFunction)(this.Title,"Player.CanWalk",5,((e,t)=>!w()&&t(e))),(0,i.HookFunction)(this.Title,"Player.CanChangeOwnClothes",5,((e,t)=>!w()&&t(e))),(0,i.HookFunction)(this.Title,"Player.CanInteract",5,((e,t)=>!w()&&t(e))),(0,i.HookFunction)(this.Title,"ServerSend",5,((e,t)=>{if(!w())return t(e);const[o,i]=e;return"ChatRoomChat"!=o||"Chat"!=(null==i?void 0:i.Type)||(null==i?void 0:i.Content.startsWith("("))?t(e):((0,n.SendAction)((0,r.RandomElement)(A),void 0,[{SourceCharacter:Player.MemberNumber}]),null)})),(0,i.HookFunction)(this.Title,"Player.GetDeafLevel",5,((e,t)=>w()?4:t(e))),(0,i.HookFunction)(this.Title,"Player.GetBlindLevel",5,((e,t)=>{var o,r;return w()?"SensDepExtreme"===(null===(o=Player.GameplaySettings)||void 0===o?void 0:o.SensDepChatLog)||"SensDepTotal"===(null===(r=Player.GameplaySettings)||void 0===r?void 0:r.SensDepChatLog)?3:2:t(e)})),(0,i.HookFunction)(this.Title,"Player.GetDeafLevel",5,((e,t)=>{const o=d("hearingLoss","food")?Math.max(0,Math.floor(-10*((0,s.GetCharacterCurrentStatValue)(Player,"food")-.3001))):0;return Math.max(o,t(e))})),SkillModifierMax<10&&(SkillModifierMax=10),k(),T=setInterval(k,16e3),(0,i.HookFunction)(this.Title,"ChatRoomAttemptLeave",0,((e,t)=>{if(!d("slowLeave","food"))return t(e);const o=ChatRoomSlowtimer,r=(0,s.GetCharacterCurrentStatValue)(Player,"food");if(t(e),0===o&&ChatRoomSlowtimer>0&&r<=.3){ChatRoomSlowtimer=CurrentTime+ChatRoomSlowLeaveMinTime+1e3*(-25/.3*r+25)}})),(0,i.HookFunction)(this.Title,"Player.IsSlow",0,((e,t)=>!!(d("slowLeave","food")&&(0,s.GetCharacterCurrentStatValue)(Player,"food")<=.3)||t(e)))}Unload(){super.Unload(),v=[],clearInterval(T)}}},"./src/modules/virtualPetHUD.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{VirtualPetHUDModule:()=>d});var r=o("./src/util/sdk.ts"),n=o("./src/util/authority.ts"),i=o("./src/modules/_module.ts"),l=o("./src/modules/virtualPet.ts");const a=()=>Player.MPA[i.ModuleTitle.VirtualPet],s=()=>Player.MPA[i.ModuleTitle.VirtualPetHUD],u={food:"#f2bb18",water:"#2a9fc3",sleep:"#8d2aee",affection:"#ff78f2"};function c(e,t,o,r){const n=u[r.stat];MainCanvas.beginPath(),MainCanvas.arc(e,t,o,0,2*Math.PI,!0),MainCanvas.lineWidth=o/8,MainCanvas.strokeStyle=n,MainCanvas.stroke(),MainCanvas.beginPath(),MainCanvas.arc(e,t,o,-Math.PI/2,2*Math.PI*-r.level-Math.PI/2,!0),MainCanvas.lineTo(e,t),MainCanvas.fillStyle=n,MainCanvas.fill(),s().exactStats&&(MainCanvas.fillStyle="#000000",MainCanvas.font=CommonGetFont(1.25*o),MainCanvas.fillText(Math.round(100*r.level).toString(),e,t+.125*o),MainCanvas.font=CommonGetFont(36))}class d extends i.Module{get Title(){return i.ModuleTitle.VirtualPetHUD}get Settings(){return[{name:"self",type:"checkbox",active:()=>!!a().enabled,value:!0,label:"Display your own virtual pet stats on the HUD"},{name:"exactStats",type:"checkbox",active:()=>!!a().enabled||"Off"!==s().others,value:!1,label:"Display the exact number percentage on the HUD"},{name:"position",type:"option",active:()=>!!a().enabled||"Off"!==s().others,options:["Left","Center","Right","Split"],value:"Left",label:"Where to display the HUD",loop:!0},{name:"others",type:"option",active:()=>!0,options:["Off","Public","Friends","Whitelist","Lovers","Owners","D/s Family","Clubowner"],value:"Friends",label:"Display the virtual pet stats of others on the HUD",loop:!1}]}Load(){(0,r.HookFunction)(this.Title,"DrawArousalMeter",1,((e,t)=>{var o;const[r,u,d,m]=e;if(!ActivityAllowed()||r.IsPlayer()&&(!s().self||!a().enabled)||!r.IsPlayer()&&"Off"===s().others||!r.IsPlayer()&&!(0,n.IsMemberNumberInAuthGroup)(r.MemberNumber,s().others))return t(e);const h=null===(o=null==r?void 0:r.MPA)||void 0===o?void 0:o[i.ModuleTitle.VirtualPet];if(!(null==h?void 0:h.enabled))return t(e);const v=[];return["food","water","sleep","affection"].forEach((e=>{0!==h[`${e}Hours`]&&v.push({stat:e,level:(0,l.GetCharacterCurrentStatValue)(r,e)})})),0!==v.length&&function(e,t,o,r){const n=s().position;if("Left"===n||"Right"===n)r.reverse(),r.forEach(((r,i)=>{c(e+("Left"===n?80:420)*o,t+(950-36*i)*o,16*o,r)}));else if("Center"===n){const n=r.length;r.forEach(((r,i)=>{c(e+(250-18*(n-1)+36*i)*o,t+950*o,16*o,r)}))}else if("Split"===n){const n=[];switch(r.length){case 1:n.push([r[0]]),n.push([]);break;case 2:n.push([r[0]]),n.push([r[1]]);break;case 3:n.push([r[1],r[0]]),n.push([r[2]]);break;case 4:n.push([r[1],r[0]]),n.push([r[3],r[2]])}n.forEach(((r,n)=>{r.forEach(((r,i)=>{c(e+(0==n?80:420)*o,t+(950-36*i)*o,16*o,r)}))}))}}(u,d,m,v),t(e)}))}Unload(){super.Unload()}}},"./src/util/activities.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{CreateActivities:()=>s,CreateActivity:()=>a,RemoveActivities:()=>c,RemoveActivity:()=>u,activityImages:()=>n,activityPrerequisites:()=>l,activityTriggers:()=>i});var r=o("./src/localization/localization.ts");const n={},i={},l={HoldingClicker:(e,t,o)=>{var r,n,i,l,a;return null!==(a=null===(l=null===(i=null===(n=null===(r=InventoryGet(e,"ItemHandheld"))||void 0===r?void 0:r.Asset)||void 0===n?void 0:n.Name)||void 0===i?void 0:i.toLocaleLowerCase())||void 0===l?void 0:l.includes("remote"))&&void 0!==a&&a},HasBowl:(e,t,o)=>{var r,n;return"PetBowl"===(null===(n=null===(r=InventoryGet(e,"ItemDevices"))||void 0===r?void 0:r.Asset)||void 0===n?void 0:n.Name)},UseTongueNoMouth:(e,t,o)=>!e.CanTalk()&&!e.IsMouthBlocked()};function a(e){var t;const o={Name:`MPA_${e.Name}`,ActivityID:Math.max(...ActivityFemale3DCG.map((e=>{var t;return null!==(t=e.ActivityID)&&void 0!==t?t:-1})))+1,MaxProgress:null!==(t=e.MaxProgress)&&void 0!==t?t:50,Prerequisite:e.Prerequisite,Target:[]};e.Targets.forEach((e=>{var t;e.actionSelf&&(o.TargetSelf||(o.TargetSelf=[]),null===(t=o.TargetSelf)||void 0===t||t.push(e.group),null===ActivityDictionary||void 0===ActivityDictionary||ActivityDictionary.push([`Label-ChatSelf-${e.group}-${o.Name}`,(0,r.LocalizedText)(e.label)]),null===ActivityDictionary||void 0===ActivityDictionary||ActivityDictionary.push([`ChatSelf-${e.group}-${o.Name}`,(0,r.LocalizedText)(e.actionSelf)])),e.actionOthers&&(o.Target.push(e.group),null===ActivityDictionary||void 0===ActivityDictionary||ActivityDictionary.push([`Label-ChatOther-${e.group}-${o.Name}`,(0,r.LocalizedText)(e.label)]),null===ActivityDictionary||void 0===ActivityDictionary||ActivityDictionary.push([`ChatOther-${e.group}-${o.Name}`,(0,r.LocalizedText)(e.actionOthers)]))})),n[o.Name]=e.Image,e.OnTrigger&&(i[o.Name]=e.OnTrigger),ActivityFemale3DCG.push(o),ActivityFemale3DCGOrdering.push(o.Name)}function s(e){e.forEach((e=>{a(e)}))}function u(e){const t=`MPA_${e.Name}`;e.Targets.forEach((e=>{var o,r;e.actionSelf&&(ActivityDictionary=null!==(o=null===ActivityDictionary||void 0===ActivityDictionary?void 0:ActivityDictionary.filter((o=>!(o[0]===`Label-ChatSelf-${e.group}-${t}`||o[0]===`ChatSelf-${e.group}-${t}`))))&&void 0!==o?o:null),e.actionOthers&&(ActivityDictionary=null!==(r=null===ActivityDictionary||void 0===ActivityDictionary?void 0:ActivityDictionary.filter((o=>!(o[0]===`Label-ChatOther-${e.group}-${t}`||o[0]===`ChatOther-${e.group}-${t}`))))&&void 0!==r?r:null)})),delete n[t],delete i[t],ActivityFemale3DCG=ActivityFemale3DCG.filter((e=>e.Name!==t)),ActivityFemale3DCGOrdering=ActivityFemale3DCGOrdering.filter((e=>e!==t))}function c(e){e.forEach((e=>{u(e)}))}},"./src/util/authority.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{AUTHORITY_GROUPS:()=>a,AUTHORITY_GROUP_OPTIONS:()=>i,AuthorityIsComparisonToCharacter:()=>c,HighestLevelAuthorityGroup:()=>u,IsMemberNumberInAuthGroup:()=>s});var r=o("./src/modules/_module.ts"),n=o("./src/util/messaging.ts");const i=["Public","Friends","Whitelist","Lovers","Owners","Clubowner","Self"],l=["None","Public","Friends","Whitelist","Lovers","Owners","D/s Family","Clubowner","Self"],a={Self:e=>{var t;return[null!==(t=e.MemberNumber)&&void 0!==t?t:-1]},Clubowner:e=>{var t,o;return(null===(t=null==e?void 0:e.Ownership)||void 0===t?void 0:t.MemberNumber)?[null===(o=null==e?void 0:e.Ownership)||void 0===o?void 0:o.MemberNumber]:[]},Owners:function(e){var t,o,n;const i=(null!==(n=null===(o=null===(t=e.MPA)||void 0===t?void 0:t[r.ModuleTitle.Authority])||void 0===o?void 0:o.owners)&&void 0!==n?n:"").split(",").map((e=>parseInt(e))).filter((e=>!isNaN(e)));return 0===i.length?[]:i},Lovers:e=>{var t,o;return null!==(o=null===(t=e.Lovership)||void 0===t?void 0:t.filter((e=>e.MemberNumber)).map((e=>e.MemberNumber)))&&void 0!==o?o:[]},WhiteList:e=>{var t;return null!==(t=e.WhiteList)&&void 0!==t?t:[]},FriendList:()=>{var e;return null!==(e=Player.FriendList)&&void 0!==e?e:[]}};function s(e,t,o=!1,r=Player){var i,l,s,u,c;if("None"===t)return!1;if(e===a.Self(r)[0])return"Self"===t||o;if("Public"===t)return!(r.BlackList.includes(e)||null!==(l=null===(i=null==r?void 0:r.GhostList)||void 0===i?void 0:i.includes(e))&&void 0!==l&&l);if("D/s Family"===t&&r.MemberNumber===Player.MemberNumber)return null!==(u=null===(s=(0,n.FindCharacterInRoom)(e))||void 0===s?void 0:s.IsFamilyOfPlayer())&&void 0!==u&&u;let d=new Set;switch(t){case"Friends":if(r.MemberNumber!==Player.MemberNumber&&Player.MemberNumber===e&&a.FriendList().includes(null!==(c=r.MemberNumber)&&void 0!==c?c:-1))return!0;r.MemberNumber===Player.MemberNumber&&(d=new Set([...d,...a.FriendList()]));case"Whitelist":d=new Set([...d,...a.WhiteList(r)]);case"Lovers":d=new Set([...d,...a.Lovers(r)]);case"Owners":d=new Set([...d,...a.Owners(r)]);case"Clubowner":d=new Set([...d,...a.Clubowner(r)])}return d.has(e)}function u(e,t=Player){var o,r,n,i,l,s;return t.MemberNumber===e?"Self":(null===(o=null==t?void 0:t.Ownership)||void 0===o?void 0:o.MemberNumber)===e?"Clubowner":a.Owners(t).includes(e)?"Owners":a.Lovers(t).includes(e)?"Lovers":a.WhiteList(t).includes(e)?"Whitelist":t.MemberNumber===Player.MemberNumber&&(null===(r=Player.FriendList)||void 0===r?void 0:r.includes(e))||t.MemberNumber!==Player.MemberNumber&&e===Player.MemberNumber&&(null===(n=Player.FriendList)||void 0===n?void 0:n.includes(null!==(i=t.MemberNumber)&&void 0!==i?i:-1))?"Friends":t.BlackList.includes(e)||null!==(s=null===(l=null==t?void 0:t.GhostList)||void 0===l?void 0:l.includes(e))&&void 0!==s&&s?"None":"Public"}function c(e,t=">=",o,r=Player){const n=u(o,r),i=l.indexOf(e),a=l.indexOf(n);if(-1===i||-1===a)return!1;switch(t){case">":return a>i;case"<":return a<i;case">=":return a>=i;case"<=":return a<=i;case"==":return a==i;case"!=":return a!=i;default:throw new Error("Invalid comparison operator")}}},"./src/util/constants.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ICONS:()=>l,MPA_REPO:()=>i,MPA_VERSION:()=>n});var r=o("./package.json");const n=r.version,i=r.repository.url,l=Object.freeze({PAW:"data:image/png;base64,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"})},"./src/util/general.ts":(e,t,o)=>{"use strict";function r(e){return 0==e.length?null:e[Math.floor(Math.random()*e.length)]}o.r(t),o.d(t,{RandomElement:()=>r})},"./src/util/messaging.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{AddDataSyncListener:()=>v,AddDataSyncListeners:()=>f,ArrayToReadableString:()=>b,ContentIsMPAMesage:()=>n,FindCharacterInRoom:()=>d,GetAttributeFromChatDictionary:()=>g,GetEntryFromChatDictionary:()=>y,GetMPAMessageFromChat:()=>i,MPANotifyPlayer:()=>c,NotifyPlayer:()=>u,RemoveDataSyncListeners:()=>p,RemoveOOCContentFromMessage:()=>m,SendAction:()=>a,SendEmote:()=>s,SendMPAMessage:()=>l,hookedMessages:()=>h});var r=o("./src/localization/localization.ts");function n(e){var t;return"Hidden"===e.Type&&"MPA"===e.Content&&1===(null===(t=null==e?void 0:e.Dictionary)||void 0===t?void 0:t.length)}function i(e){return n(e)?e.Dictionary[0]:null}function l(e,t){ServerSend("ChatRoomChat",{Type:"Hidden",Content:"MPA",Dictionary:[e],Target:t})}function a(e,t=void 0,o=[]){ServerSend("ChatRoomChat",{Content:"MayaScript",Type:"Activity",Dictionary:[{Tag:"MISSING ACTIVITY DESCRIPTION FOR KEYWORD MayaScript",Text:(0,r.LocalizedText)(e)},...o],Target:null==t?void 0:t.MemberNumber})}function s(e,t=void 0){ServerSend("ChatRoomChat",{Content:`${e}`,Type:"Emote",Target:null==t?void 0:t.MemberNumber})}function u(e,t){ChatRoomSendLocal(`<p style='background-color:#00c2ff;margin-bottom:0.25em;margin-top:0'>${e}</p>`,t)}function c(e,t){u(`${(0,r.LocalizedText)("MPA")}: ${e}`,t)}function d(e,{MemberNumber:t=!0,NickName:o=!0,Name:r=!0}={}){var n;"string"!=typeof e&&(e=e.toString()),e=e.toLocaleLowerCase();for(const i of ChatRoomCharacter)if(t&&(null==i?void 0:i.MemberNumber)===Number(e)||o&&(null===(n=null==i?void 0:i.Nickname)||void 0===n?void 0:n.toLocaleLowerCase())===e||r&&i.Name.toLocaleLowerCase()===e)return i;return null}function m(e){return SpeechGetOOCRanges(e).reverse().forEach((t=>{e=e.substring(0,t.start)+e.substring(t.start+t.length)})),e}const h=[];function v(e){h.push({module:e.module,message:e.message,action:e.action})}function f(e){e.forEach((e=>{h.push({module:e.module,message:e.message,action:e.action})}))}function p(e){for(let t=h.length-1;0<=t;t--)h[t].module===e&&h.splice(t,1)}function y(e,t){if(e.Dictionary)try{return e.Dictionary.filter((e=>!!e[t]))[0]}catch(e){}}function g(e,t){var o;return null===(o=y(e,t))||void 0===o?void 0:o[t]}function b(e){const t=e.length;return 0===t?"":1===t?e[0]:2===t?`${e[0]} and ${e[1]}`:`${e.slice(0,-1).join(", ")}, and ${e[t-1]}`}},"./src/util/registerModules.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{RegisterModules:()=>y,modules:()=>f,settings:()=>p});var r=o("./src/util/storage.ts"),n=o("./src/modules/dataSync.ts"),i=o("./src/modules/settings.ts"),l=o("./src/modules/activities.ts"),a=o("./src/modules/clicker.ts"),s=o("./src/modules/virtualPet.ts"),u=o("./src/modules/virtualPetHUD.ts"),c=o("./src/modules/virtualPetConditions.ts"),d=o("./src/modules/profile.ts"),m=o("./src/modules/settingsOthers.ts"),h=o("./src/modules/authority.ts");let v=!1;const f=[new n.DataSyncModule,new i.SettingsModule,new l.ActivitiesModule,new a.ClickerModule,new s.VirtualPetModule,new u.VirtualPetHUDModule,new c.VirtualPetConditionsModule,new d.ProfileModule,new m.SettingsOtherModule,new h.AuthorityModule],p={};async function y(){v||(f.forEach((e=>{const t=e.Settings,o={};t.forEach((e=>{o[e.name]=e})),0!==Object.keys(o).length&&(p[e.Title]=o)})),await(0,r.LoadStorage)(),f.forEach((e=>{e.Load()})),v=!0)}},"./src/util/sdk.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{AwaitPlayer:()=>c,HookFunction:()=>s,RemoveHooks:()=>u,modAPI:()=>a});var r=o("./node_modules/bondage-club-mod-sdk/dist/bcmodsdk.js"),n=o.n(r),i=o("./src/util/constants.ts");const l=[],a=n().registerMod({name:"MPA",version:i.MPA_VERSION,fullName:"Maya's Petplay Additions",repository:i.MPA_REPO},{allowReplace:!1});function s(e,t,o,r){const n=a.hookFunction(t,o,r);return l.push({functionName:t,priority:o,hook:r,module:e,removeHook:n}),n}function u(e){for(let t=l.length-1;0<=t;t--)l[t].module===e&&(l[t].removeHook(),l.splice(t,1))}async function c(){if(!Player.MemberNumber||!Player.ExtensionSettings)return new Promise((e=>{const t=a.hookFunction("LoginResponse",0,((o,r)=>{r(o),t(),e()}))}))}},"./src/util/settingTypes.ts":(e,t,o)=>{"use strict";function r(e){return"function"==typeof e.active&&"string"==typeof e.label}function n(e){return r(e)&&"checkbox"===e.type&&"boolean"==typeof e.value}function i(e){return r(e)&&"option"===e.type&&"string"==typeof e.value&&Array.isArray(e.options)&&"boolean"==typeof e.loop}function l(e){return r(e)&&"text"===e.type&&"string"==typeof e.value&&("number"==typeof e.width||null===e.width)&&("number"==typeof e.maxChars||null===e.maxChars)}function a(e){return r(e)&&"number"===e.type&&"number"==typeof e.value&&("number"==typeof e.width||null===e.width)&&"number"==typeof e.min&&"number"==typeof e.max&&("number"==typeof e.step||null===e.step)}o.r(t),o.d(t,{IsCheckboxSetting:()=>n,IsDisplaySetting:()=>r,IsNumberSetting:()=>a,IsOptionSetting:()=>i,IsTextSetting:()=>l})},"./src/util/storage.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ExportSettingsToClipboard:()=>v,ImportSettingsFromClipboard:()=>f,LoadStorage:()=>d,ResetStorage:()=>h,SaveStorage:()=>m});var r=o("./src/localization/localization.ts"),n=o("./src/util/registerModules.ts"),i=o("./src/util/sdk.ts"),l=o("./src/modules/settings.ts"),a=o("./src/modules/dataSync.ts"),s=o("./src/modules/_module.ts"),u=o("./src/util/constants.ts"),c=o("./src/modules/virtualPet.ts");async function d(){var e,t,o,l;await(0,i.AwaitPlayer)();const a=null!==(l=JSON.parse(null!==(o=LZString.decompressFromBase64(null!==(t=null===(e=Player.ExtensionSettings)||void 0===e?void 0:e.MPA)&&void 0!==t?t:""))&&void 0!==o?o:"{}"))&&void 0!==l?l:{};Object.entries(n.settings).forEach((e=>{const[t,o]=e;for(const[e,r]of Object.entries(o))t in a||(a[t]={}),e in a[t]||(a[t][e]=r.value)})),function(e){var t;e.version!==u.MPA_VERSION&&(ServerAccountBeep({MemberNumber:null!==(t=Player.MemberNumber)&&void 0!==t?t:-1,MemberName:(0,r.LocalizedText)("MPA"),ChatRoomSpace:"X",ChatRoomName:(0,r.LocalizedText)("MPA Updated"),Private:!1,BeepType:"",Message:"MPA has been updated."}),e.version=u.MPA_VERSION,m(!1))}(a),Player.MPA=a}function m(e=!0){Player.ExtensionSettings.MPA=LZString.compressToBase64(JSON.stringify(Player.MPA)),ServerPlayerExtensionSettingsSync("MPA"),e&&(0,a.SettingSync)(!1)}async function h(){delete Player.ExtensionSettings.MPA,Player.ExtensionSettings.MPA=LZString.compressToBase64(JSON.stringify({version:u.MPA_VERSION})),await d(),m(),(0,l.UpdateElementValues)()}async function v(){return navigator.clipboard.writeText(LZString.compressToBase64(JSON.stringify(Player.MPA)))}async function f(){return new Promise(((e,t)=>{navigator.clipboard.readText().then((o=>{var r;try{const e=JSON.parse(null!==(r=LZString.decompressFromBase64(null!=o?o:""))&&void 0!==r?r:"{}"),t=JSON.parse(JSON.stringify(Player.MPA));t[s.ModuleTitle.VirtualPet].levels.lastUpdated=Date.now(),t[s.ModuleTitle.VirtualPet].levels.lastOnline=Date.now();for(const o in e)void 0!==e[o]&&(t[o]=e[o]);t[s.ModuleTitle.VirtualPet].levels.lastUpdated=Date.now()-(t[s.ModuleTitle.VirtualPet].levels.lastOnline-t[s.ModuleTitle.VirtualPet].levels.lastUpdated),t[s.ModuleTitle.VirtualPet].levels.lastOnline=Date.now(),Player.MPA=t,(0,c.LevelSync)(!1,!1,!1),m(!0)}catch(e){return console.warn(e),t()}return e()}),(()=>t()))}))}},"./package.json":e=>{"use strict";e.exports=JSON.parse('{"name":"mpa","description":"","version":"0.4.2","author":"Maya","license":"MIT","repository":{"type":"git","url":"https://github.com/MayaTheFoxy/MPA"},"scripts":{"build":"webpack serve --progress","lint":"eslint ./src","lint-fix":"eslint ./src --fix"},"dependencies":{"bondage-club-mod-sdk":"^1.2.0"},"devDependencies":{"@eslint/js":"^9.9.0","@stylistic/eslint-plugin":"^2.6.2","bc-stubs":"^v108.0.0","eslint":"^9.9.0","globals":"^15.9.0","lz-string":"^1.5.0","terser-webpack-plugin":"^5.3.10","ts-loader":"^9.5.1","typescript":"^5.5.4","typescript-eslint":"^8.1.0","webpack":"^5.93.0","webpack-cli":"^5.1.4","webpack-dev-server":"^5.0.4"}}')},"./src/localization/RU.json":e=>{"use strict";e.exports=JSON.parse('{"Maya\'s Petplay Additions":"Ð”Ð¾Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ Ð´Ð»Ñ Ð¿ÐµÑ‚Ð¿Ð»ÐµÑ Ð¾Ñ‚ Maya","MPA Settings":"","Clicker":"ÐšÐ»Ð¸ÐºÐµÑ€","Enable auditory clicker":"","Phrases that trigger the click; Separate phrases with a comma":"Ð¤Ñ€Ð°Ð·Ñ‹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ ÑÐ¾Ð²ÐµÑ€ÑˆÐ°ÑŽÑ‚ ÐºÐ»Ð¸Ðº; Ð Ð°Ð·Ð´ÐµÐ»ÑÐ¹Ñ‚Ðµ Ñ„Ñ€Ð°Ð·Ñ‹ Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ Ð·Ð°Ð¿ÑÑ‚Ð¾Ð¹","Allow your own chat, emotes, & actions to trigger the clicker":"Ð Ð°Ð·Ñ€ÐµÑˆÐ¸Ñ‚ÑŒ Ð²Ð°ÑˆÐ¸Ð¼ ÑÐ¾Ð±ÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ð¼ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ Ð² Ñ‡Ð°Ñ‚Ðµ, ÑÐ¼Ð¾Ñ†Ð¸ÑÐ¼ Ð¸Ð»Ð¸ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸ÑÐ¼ ÑÐ¾Ð²ÐµÑ€ÑˆÐ°Ñ‚ÑŒ ÐºÐ»Ð¸Ðº","Who will be able to trigger the clicker":"ÐšÑ‚Ð¾ ÑÐ¼Ð¾Ð¶ÐµÑ‚ Ð²Ñ‹Ð·Ñ‹Ð²Ð°Ñ‚ÑŒ ÑÑ€Ð°Ð±Ð°Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ðµ ÐºÐ»Ð¸ÐºÐµÑ€Ð°","Public":"ÐŸÑƒÐ±Ð»Ð¸Ñ‡Ð½Ð¾","Friends":"Ð”Ñ€ÑƒÐ·ÑŒÑ","Whitelist":"Ð‘ÐµÐ»Ñ‹Ð¹ ÑÐ¿Ð¸ÑÐ¾Ðº","Lovers":"Ð›ÑŽÐ±Ð¾Ð²Ð½Ð¸ÐºÐ¸","Owners":"Ð’Ð»Ð°Ð´ÐµÐ»ÑŒÑ†Ñ‹","Clubowner":"ÐšÐ»ÑƒÐ±Ð½Ñ‹Ð¹ Ð²Ð»Ð°Ð´ÐµÐ»ÐµÑ†","Self":"Ð¡Ð°Ð¼Ð¾ÑÑ‚Ð¾ÑÑ‚ÐµÐ»ÑŒÐ½Ð¾","Virtual Pet":"Ð’Ð¸Ñ€Ñ‚ÑƒÐ°Ð»ÑŒÐ½Ñ‹Ð¹ Ð¿Ð¸Ñ‚Ð¾Ð¼ÐµÑ†","Become a virtual pet! Requiring: food, water, sleep, and affection":"Ð¡Ñ‚Ð°Ð½ÑŒÑ‚Ðµ Ð²Ð¸Ñ€Ñ‚ÑƒÐ°Ð»ÑŒÐ½Ñ‹Ð¼ Ð¿Ð¸Ñ‚Ð¾Ð¼Ñ†ÐµÐ¼! Ð’Ð°ÑˆÐ¸ Ð¿Ð¾Ñ‚Ñ€ÐµÐ±Ð½Ð¾ÑÑ‚Ð¸: ÐµÐ´Ð°, Ð²Ð¾Ð´Ð°, ÑÐ¾Ð½ Ð¸ Ð»Ð°ÑÐºÐ°","How many hours until you are completely out of food; 0 to disable":"Ð§ÐµÑ€ÐµÐ· ÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ñ‡Ð°ÑÐ¾Ð² Ñƒ Ð²Ð°Ñ Ð¿Ð¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ Ð·Ð°ÐºÐ¾Ð½Ñ‡Ð¸Ñ‚ÑÑ ÐµÐ´Ð°; 0 Ð´Ð»Ñ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ","How many hours until you are completely out of water; 0 to disable":"Ð§ÐµÑ€ÐµÐ· ÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ñ‡Ð°ÑÐ¾Ð² Ñƒ Ð²Ð°Ñ Ð¿Ð¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ Ð·Ð°ÐºÐ¾Ð½Ñ‡Ð¸Ñ‚ÑÑ Ð²Ð¾Ð´Ð°; 0 Ð´Ð»Ñ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ","How many hours until you are completely out of sleep; 0 to disable":"Ð§ÐµÑ€ÐµÐ· ÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ñ‡Ð°ÑÐ¾Ð² Ñƒ Ð²Ð°Ñ Ð¿Ð¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ Ð·Ð°ÐºÐ¾Ð½Ñ‡Ð¸Ñ‚ÑÑ ÑÐ¾Ð½; 0 Ð´Ð»Ñ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ","How many hours until you are completely out of affection; 0 to disable":"Ð§ÐµÑ€ÐµÐ· ÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ñ‡Ð°ÑÐ¾Ð² Ñƒ Ð²Ð°Ñ Ð¿Ð¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ Ð·Ð°ÐºÐ¾Ð½Ñ‡Ð¸Ñ‚ÑÑ Ð»Ð°ÑÐºÐ°; 0 Ð´Ð»Ñ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ","Pause stats from draining when logged out of the club":"ÐŸÑ€Ð¸Ð¾ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ ÑÐ½Ð¸Ð¶ÐµÐ½Ð¸Ðµ Ð¿Ð¾ÐºÐ°Ð·Ð°Ñ‚ÐµÐ»ÐµÐ¹ Ð¿Ñ€Ð¸ Ð²Ñ‹Ñ…Ð¾Ð´Ðµ Ð¸Ð· ÐºÐ»ÑƒÐ±Ð°","Allow eating or drinking from items in your OWN hands":"Ð Ð°Ð·Ñ€ÐµÑˆÐ¸Ñ‚ÑŒ ÐµÑÑ‚ÑŒ Ð¸Ð»Ð¸ Ð¿Ð¸Ñ‚ÑŒ Ð¸Ð· Ð¿Ñ€ÐµÐ´Ð¼ÐµÑ‚Ð¾Ð² Ð² Ð²Ð°ÑˆÐ¸Ñ… Ð¡ÐžÐ‘Ð¡Ð¢Ð’Ð•ÐÐÐ«Ð¥ Ñ€ÑƒÐºÐ°Ñ…","Click Once":"Ð©ÐµÐ»ÐºÐ½ÑƒÑ‚ÑŒ Ð¾Ð´Ð¸Ð½ Ñ€Ð°Ð·","SourceCharacter presses the button PronounPossessive clicker.":"SourceCharacter Ð½Ð°Ð¶Ð¸Ð¼Ð°ÐµÑ‚ Ð½Ð° ÐºÐ½Ð¾Ð¿ÐºÑƒ PronounPossessive ÐºÐ»Ð¸ÐºÐµÑ€Ð°.","Click Twice":"Ð©ÐµÐ»ÐºÐ½ÑƒÑ‚ÑŒ Ð´Ð²Ð°Ð¶Ð´Ñ‹","SourceCharacter presses the button PronounPossessive clicker twice.":"SourceCharacter Ð½Ð°Ð¶Ð¸Ð¼Ð°ÐµÑ‚ Ð½Ð° ÐºÐ½Ð¾Ð¿ÐºÑƒ PronounPossessive ÐºÐ»Ð¸ÐºÐµÑ€Ð° Ð´Ð²Ð°Ð¶Ð´Ñ‹.","Click Thrice":"Ð©ÐµÐ»ÐºÐ½ÑƒÑ‚ÑŒ Ñ‚Ñ€Ð¸Ð¶Ð´Ñ‹","SourceCharacter presses the button PronounPossessive clicker three times.":"SourceCharacter Ð½Ð°Ð¶Ð¸Ð¼Ð°ÐµÑ‚ Ð½Ð° ÐºÐ½Ð¾Ð¿ÐºÑƒ PronounPossessive ÐºÐ»Ð¸ÐºÐµÑ€Ð° Ñ‚Ñ€Ð¸Ð¶Ð´Ñ‹."}')},"./src/localization/template.json":e=>{"use strict";e.exports=JSON.parse('{"Maya\'s Petplay Additions":"","MPA":"","MPA Settings":"","MPA: No BC item permission":"","MPA Updated":"","RESET":"","Reset all your settings back to default":"","Import":"","Import the settings copied to your clipboard":"","Export":"","Export your current settings to the clipboard":"","Confirm":"","Cancel":"","WARNING: Are you sure you want to reset your MPA settings and data back to default?":"","This action can not be undone!":"","Export and save your settings BEFORE confirming if you are unsure.":"","Public":"","Friends":"","Whitelist":"","Lovers":"","Owners":"","Clubowner":"","Self":"","None":"","Authority":"","Owner member numbers; Seperated by a ,":"","Allow TargetCharacter to change TargetPronounPossessive Authority settings":"","Allow others to change TargetCharacter\'s Authority settings":"","Allow TargetCharacter to change TargetPronounPossessive Profile settings":"","Allow others to change TargetCharacter\'s Profile settings":"","Allow TargetCharacter to change TargetPronounPossessive Clicker settings":"","Allow others to change TargetCharacter\'s Clicker settings":"","Allow TargetCharacter to change TargetPronounPossessive Virtual Pet settings":"","Allow others to change TargetCharacter\'s Virtual Pet settings":"","Allow TargetCharacter to change TargetPronounPossessive Virtual Pet Conditions settings":"","Allow others to change TargetCharacter\'s Virtual Pet Conditions settings":"","SourceCharacter just updated your SettingsArray settings.":"","Profile":"","Use a preset profile or make your own":"","Phrases you speak when unable to be understood":"","Enable hardcore mode; Will set certain settings and prevent changing them back":"","Clicker":"","Enable auditory clicker":"","Phrases that trigger the click; Separate phrases with a comma":"","Allow your own chat, emotes, & actions to trigger the clicker":"","Who will be able to trigger the clicker":"","Allow BCX Listen to my voice rule to trigger the clicker; Requires BCX":"","Virtual Pet":"","Become a virtual pet! Requiring: food, water, sleep, and affection":"","How many hours until you are completely out of food; 0 to disable":"","How many hours until you are completely out of water; 0 to disable":"","How many hours until you are completely out of sleep; 0 to disable":"","How many hours until you are completely out of affection; 0 to disable":"","Pause stats from draining when logged out of the club":"","Allow eating or drinking from items in your OWN hands":"","Stats drain even when logged out of the club":"","Masochist pet; Abuse raises affection":"","Virtual Pet HUD":"","Display your own virtual pet stats on the HUD":"","Display the exact number percentage on the HUD":"","Where to display the HUD":"","Display the virtual pet stats of others on the HUD":"","Click Once":"","SourceCharacter presses the button on PronounPossessive clicker.":"","Click Twice":"","SourceCharacter presses the button on PronounPossessive clicker twice.":"","Click Thrice":"","SourceCharacter presses the button on PronounPossessive clicker three times.":"","Eat From Bowl":"","Drink From Bowl":"","SourceCharacter eats from PronounPossessive bowl.":"","SourceCharacter drinks from PronounPossessive bowl.":"","SourceCharacter puts PronounPossessive head into PronounPossessive bowl in order to eat with the gag, making a mess.":"","SourceCharacter puts PronounPossessive head into PronounPossessive bowl in order to drink with the gag, making a mess.":"","Virtual Pet Conditions":"","SourceCharacter passes out from exhaustion.":"","SourceCharacter wakes up from PronounPossessive nap.":"","Recive conditions based on current level of your virtual pet stats":"","Food and water affects affection gain":"","Vision darkens as you get sleepier":"","Passout when exhausted":"","Use LSCG passout instead of MPA; Requires LSCG":"","Affection will buff skills based on its level":"","Affection will debuff skills based on its level":"","Hearing becomes harder the hungrier you are":"","Takes longer to leave the room when hungry":""}')}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,o),i.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{"use strict";o.r(r);var e=o("./src/util/registerModules.ts"),t=o("./src/commands/buildAllCommands.ts"),n=o("./src/util/constants.ts");console.log("Loading Maya's Petplay Additions"),(0,t.BuildAllCommands)(),(0,e.RegisterModules)(),window.MPA={version:n.MPA_VERSION,menuLoaded:!1}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFZbFksS0FBUzRYLEVBQW9CNXVCLEVBQUUyRyxFQUFTcVEsSUFDNUUvUyxPQUFPeUMsZUFBZUMsRUFBU3FRLEVBQUssQ0FBRW1ZLFlBQVksRUFBTTF0QixJQUFLeXRCLEVBQVdsWSxJQUUxRSxFQ05ENFgsRUFBb0I1dUIsRUFBSSxDQUFDb3ZCLEVBQUtDLElBQVVwckIsT0FBT3FyQixVQUFVQyxlQUFlNXNCLEtBQUt5c0IsRUFBS0MsR0NDbEZULEVBQW9CanVCLEVBQUtnRyxJQUNILG9CQUFYNm9CLFFBQTBCQSxPQUFPQyxhQUMxQ3hyQixPQUFPeUMsZUFBZUMsRUFBUzZvQixPQUFPQyxZQUFhLENBQUU3b0IsTUFBTyxXQUU3RDNDLE9BQU95QyxlQUFlQyxFQUFTLGFBQWMsQ0FBRUMsT0FBTyxHQUFPLHVKQ0s5RHhHLFFBQVFnbEIsSUFBSSxxQ0FFWixJQUFBL2MscUJBQ0EsSUFBQXVrQixtQkFDQXBwQixPQUFPb0ksSUFBTSxDQUNUMUcsUUFBUyxFQUFBcW1CLFlBQ1Q5UyxZQUFZIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXBhLy4vbm9kZV9tb2R1bGVzL2JvbmRhZ2UtY2x1Yi1tb2Qtc2RrL2Rpc3QvYmNtb2RzZGsuanMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL2NvbW1hbmRzL2JlZC50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvY29tbWFuZHMvYnVpbGRBbGxDb21tYW5kcy50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvbG9jYWxpemF0aW9uL2xvY2FsaXphdGlvbi50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvbW9kdWxlcy9fbW9kdWxlLnRzIiwid2VicGFjazovL21wYS8uL3NyYy9tb2R1bGVzL2FjdGl2aXRpZXMudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL21vZHVsZXMvYXV0aG9yaXR5LnRzIiwid2VicGFjazovL21wYS8uL3NyYy9tb2R1bGVzL2NsaWNrZXIudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL21vZHVsZXMvZGF0YVN5bmMudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL21vZHVsZXMvcHJvZmlsZS50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvbW9kdWxlcy9zZXR0aW5ncy50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvbW9kdWxlcy9zZXR0aW5nc090aGVycy50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvbW9kdWxlcy92aXJ0dWFsUGV0LnRzIiwid2VicGFjazovL21wYS8uL3NyYy9tb2R1bGVzL3ZpcnR1YWxQZXRDb25kaXRpb25zLnRzIiwid2VicGFjazovL21wYS8uL3NyYy9tb2R1bGVzL3ZpcnR1YWxQZXRIVUQudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL3V0aWwvYWN0aXZpdGllcy50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvdXRpbC9hdXRob3JpdHkudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL3V0aWwvY29uc3RhbnRzLnRzIiwid2VicGFjazovL21wYS8uL3NyYy91dGlsL2dlbmVyYWwudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL3V0aWwvbWVzc2FnaW5nLnRzIiwid2VicGFjazovL21wYS8uL3NyYy91dGlsL3JlZ2lzdGVyTW9kdWxlcy50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvdXRpbC9zZGsudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL3V0aWwvc2V0dGluZ1R5cGVzLnRzIiwid2VicGFjazovL21wYS8uL3NyYy91dGlsL3N0b3JhZ2UudHMiLCJ3ZWJwYWNrOi8vbXBhL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL21wYS93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9tcGEvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL21wYS93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL21wYS93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL21wYS8uL3NyYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBCb25kYWdlIENsdWIgTW9kIERldmVsb3BtZW50IEtpdCAoMS4yLjApXG4vLyBGb3IgbW9yZSBpbmZvIHNlZTogaHR0cHM6Ly9naXRodWIuY29tL0pvbXNoaXI5OC9ib25kYWdlLWNsdWItbW9kLXNka1xuLyoqIEB0eXBlIHtNb2RTREtHbG9iYWxBUEl9ICovXG52YXIgYmNNb2RTZGs9ZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtjb25zdCBvPVwiMS4yLjBcIjtmdW5jdGlvbiBlKG8pe2FsZXJ0KFwiTW9kIEVSUk9SOlxcblwiK28pO2NvbnN0IGU9bmV3IEVycm9yKG8pO3Rocm93IGNvbnNvbGUuZXJyb3IoZSksZX1jb25zdCB0PW5ldyBUZXh0RW5jb2RlcjtmdW5jdGlvbiBuKG8pe3JldHVybiEhbyYmXCJvYmplY3RcIj09dHlwZW9mIG8mJiFBcnJheS5pc0FycmF5KG8pfWZ1bmN0aW9uIHIobyl7Y29uc3QgZT1uZXcgU2V0O3JldHVybiBvLmZpbHRlcigobz0+IWUuaGFzKG8pJiZlLmFkZChvKSkpfWNvbnN0IGk9bmV3IE1hcCxhPW5ldyBTZXQ7ZnVuY3Rpb24gYyhvKXthLmhhcyhvKXx8KGEuYWRkKG8pLGNvbnNvbGUud2FybihvKSl9ZnVuY3Rpb24gcyhvKXtjb25zdCBlPVtdLHQ9bmV3IE1hcCxuPW5ldyBTZXQ7Zm9yKGNvbnN0IHIgb2YgZi52YWx1ZXMoKSl7Y29uc3QgaT1yLnBhdGNoaW5nLmdldChvLm5hbWUpO2lmKGkpe2UucHVzaCguLi5pLmhvb2tzKTtmb3IoY29uc3RbZSxhXW9mIGkucGF0Y2hlcy5lbnRyaWVzKCkpdC5oYXMoZSkmJnQuZ2V0KGUpIT09YSYmYyhgTW9kU0RLOiBNb2QgJyR7ci5uYW1lfScgaXMgcGF0Y2hpbmcgZnVuY3Rpb24gJHtvLm5hbWV9IHdpdGggc2FtZSBwYXR0ZXJuIHRoYXQgaXMgYWxyZWFkeSBhcHBsaWVkIGJ5IGRpZmZlcmVudCBtb2QsIGJ1dCB3aXRoIGRpZmZlcmVudCBwYXR0ZXJuOlxcblBhdHRlcm46XFxuJHtlfVxcblBhdGNoMTpcXG4ke3QuZ2V0KGUpfHxcIlwifVxcblBhdGNoMjpcXG4ke2F9YCksdC5zZXQoZSxhKSxuLmFkZChyLm5hbWUpfX1lLnNvcnQoKChvLGUpPT5lLnByaW9yaXR5LW8ucHJpb3JpdHkpKTtjb25zdCByPWZ1bmN0aW9uKG8sZSl7aWYoMD09PWUuc2l6ZSlyZXR1cm4gbztsZXQgdD1vLnRvU3RyaW5nKCkucmVwbGFjZUFsbChcIlxcclxcblwiLFwiXFxuXCIpO2Zvcihjb25zdFtuLHJdb2YgZS5lbnRyaWVzKCkpdC5pbmNsdWRlcyhuKXx8YyhgTW9kU0RLOiBQYXRjaGluZyAke28ubmFtZX06IFBhdGNoICR7bn0gbm90IGFwcGxpZWRgKSx0PXQucmVwbGFjZUFsbChuLHIpO3JldHVybigwLGV2YWwpKGAoJHt0fSlgKX0oby5vcmlnaW5hbCx0KTtsZXQgaT1mdW5jdGlvbihlKXt2YXIgdCxpO2NvbnN0IGE9bnVsbD09PShpPSh0PW0uZXJyb3JSZXBvcnRlckhvb2tzKS5ob29rQ2hhaW5FeGl0KXx8dm9pZCAwPT09aT92b2lkIDA6aS5jYWxsKHQsby5uYW1lLG4pLGM9ci5hcHBseSh0aGlzLGUpO3JldHVybiBudWxsPT1hfHxhKCksY307Zm9yKGxldCB0PWUubGVuZ3RoLTE7dD49MDt0LS0pe2NvbnN0IG49ZVt0XSxyPWk7aT1mdW5jdGlvbihlKXt2YXIgdCxpO2NvbnN0IGE9bnVsbD09PShpPSh0PW0uZXJyb3JSZXBvcnRlckhvb2tzKS5ob29rRW50ZXIpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmNhbGwodCxvLm5hbWUsbi5tb2QpLGM9bi5ob29rLmFwcGx5KHRoaXMsW2Usbz0+e2lmKDEhPT1hcmd1bWVudHMubGVuZ3RofHwhQXJyYXkuaXNBcnJheShlKSl0aHJvdyBuZXcgRXJyb3IoYE1vZCAke24ubW9kfSBmYWlsZWQgdG8gY2FsbCBuZXh0IGhvb2s6IEV4cGVjdGVkIGFyZ3MgdG8gYmUgYXJyYXksIGdvdCAke3R5cGVvZiBvfWApO3JldHVybiByLmNhbGwodGhpcyxvKX1dKTtyZXR1cm4gbnVsbD09YXx8YSgpLGN9fXJldHVybntob29rczplLHBhdGNoZXM6dCxwYXRjaGVzU291cmNlczpuLGVudGVyOmksZmluYWw6cn19ZnVuY3Rpb24gbChvLGU9ITEpe2xldCByPWkuZ2V0KG8pO2lmKHIpZSYmKHIucHJlY29tcHV0ZWQ9cyhyKSk7ZWxzZXtsZXQgZT13aW5kb3c7Y29uc3QgYT1vLnNwbGl0KFwiLlwiKTtmb3IobGV0IHQ9MDt0PGEubGVuZ3RoLTE7dCsrKWlmKGU9ZVthW3RdXSwhbihlKSl0aHJvdyBuZXcgRXJyb3IoYE1vZFNESzogRnVuY3Rpb24gJHtvfSB0byBiZSBwYXRjaGVkIG5vdCBmb3VuZDsgJHthLnNsaWNlKDAsdCsxKS5qb2luKFwiLlwiKX0gaXMgbm90IG9iamVjdGApO2NvbnN0IGM9ZVthW2EubGVuZ3RoLTFdXTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBjKXRocm93IG5ldyBFcnJvcihgTW9kU0RLOiBGdW5jdGlvbiAke299IHRvIGJlIHBhdGNoZWQgbm90IGZvdW5kYCk7Y29uc3QgbD1mdW5jdGlvbihvKXtsZXQgZT0tMTtmb3IoY29uc3QgbiBvZiB0LmVuY29kZShvKSl7bGV0IG89MjU1JihlXm4pO2ZvcihsZXQgZT0wO2U8ODtlKyspbz0xJm8/LTMwNjY3NDkxMl5vPj4+MTpvPj4+MTtlPWU+Pj44Xm99cmV0dXJuKCgtMV5lKT4+PjApLnRvU3RyaW5nKDE2KS5wYWRTdGFydCg4LFwiMFwiKS50b1VwcGVyQ2FzZSgpfShjLnRvU3RyaW5nKCkucmVwbGFjZUFsbChcIlxcclxcblwiLFwiXFxuXCIpKSxkPXtuYW1lOm8sb3JpZ2luYWw6YyxvcmlnaW5hbEhhc2g6bH07cj1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZCkse3ByZWNvbXB1dGVkOnMoZCkscm91dGVyOigpPT57fSxjb250ZXh0OmUsY29udGV4dFByb3BlcnR5OmFbYS5sZW5ndGgtMV19KSxyLnJvdXRlcj1mdW5jdGlvbihvKXtyZXR1cm4gZnVuY3Rpb24oLi4uZSl7cmV0dXJuIG8ucHJlY29tcHV0ZWQuZW50ZXIuYXBwbHkodGhpcyxbZV0pfX0ociksaS5zZXQobyxyKSxlW3IuY29udGV4dFByb3BlcnR5XT1yLnJvdXRlcn1yZXR1cm4gcn1mdW5jdGlvbiBkKCl7Zm9yKGNvbnN0IG8gb2YgaS52YWx1ZXMoKSlvLnByZWNvbXB1dGVkPXMobyl9ZnVuY3Rpb24gcCgpe2NvbnN0IG89bmV3IE1hcDtmb3IoY29uc3RbZSx0XW9mIGkpby5zZXQoZSx7bmFtZTplLG9yaWdpbmFsOnQub3JpZ2luYWwsb3JpZ2luYWxIYXNoOnQub3JpZ2luYWxIYXNoLHNka0VudHJ5cG9pbnQ6dC5yb3V0ZXIsY3VycmVudEVudHJ5cG9pbnQ6dC5jb250ZXh0W3QuY29udGV4dFByb3BlcnR5XSxob29rZWRCeU1vZHM6cih0LnByZWNvbXB1dGVkLmhvb2tzLm1hcCgobz0+by5tb2QpKSkscGF0Y2hlZEJ5TW9kczpBcnJheS5mcm9tKHQucHJlY29tcHV0ZWQucGF0Y2hlc1NvdXJjZXMpfSk7cmV0dXJuIG99Y29uc3QgZj1uZXcgTWFwO2Z1bmN0aW9uIHUobyl7Zi5nZXQoby5uYW1lKSE9PW8mJmUoYEZhaWxlZCB0byB1bmxvYWQgbW9kICcke28ubmFtZX0nOiBOb3QgcmVnaXN0ZXJlZGApLGYuZGVsZXRlKG8ubmFtZSksby5sb2FkZWQ9ITEsZCgpfWZ1bmN0aW9uIGcobyx0KXtvJiZcIm9iamVjdFwiPT10eXBlb2Ygb3x8ZShcIkZhaWxlZCB0byByZWdpc3RlciBtb2Q6IEV4cGVjdGVkIGluZm8gb2JqZWN0LCBnb3QgXCIrdHlwZW9mIG8pLFwic3RyaW5nXCI9PXR5cGVvZiBvLm5hbWUmJm8ubmFtZXx8ZShcIkZhaWxlZCB0byByZWdpc3RlciBtb2Q6IEV4cGVjdGVkIG5hbWUgdG8gYmUgbm9uLWVtcHR5IHN0cmluZywgZ290IFwiK3R5cGVvZiBvLm5hbWUpO2xldCByPWAnJHtvLm5hbWV9J2A7XCJzdHJpbmdcIj09dHlwZW9mIG8uZnVsbE5hbWUmJm8uZnVsbE5hbWV8fGUoYEZhaWxlZCB0byByZWdpc3RlciBtb2QgJHtyfTogRXhwZWN0ZWQgZnVsbE5hbWUgdG8gYmUgbm9uLWVtcHR5IHN0cmluZywgZ290ICR7dHlwZW9mIG8uZnVsbE5hbWV9YCkscj1gJyR7by5mdWxsTmFtZX0gKCR7by5uYW1lfSknYCxcInN0cmluZ1wiIT10eXBlb2Ygby52ZXJzaW9uJiZlKGBGYWlsZWQgdG8gcmVnaXN0ZXIgbW9kICR7cn06IEV4cGVjdGVkIHZlcnNpb24gdG8gYmUgc3RyaW5nLCBnb3QgJHt0eXBlb2Ygby52ZXJzaW9ufWApLG8ucmVwb3NpdG9yeXx8KG8ucmVwb3NpdG9yeT12b2lkIDApLHZvaWQgMCE9PW8ucmVwb3NpdG9yeSYmXCJzdHJpbmdcIiE9dHlwZW9mIG8ucmVwb3NpdG9yeSYmZShgRmFpbGVkIHRvIHJlZ2lzdGVyIG1vZCAke3J9OiBFeHBlY3RlZCByZXBvc2l0b3J5IHRvIGJlIHVuZGVmaW5lZCBvciBzdHJpbmcsIGdvdCAke3R5cGVvZiBvLnZlcnNpb259YCksbnVsbD09dCYmKHQ9e30pLHQmJlwib2JqZWN0XCI9PXR5cGVvZiB0fHxlKGBGYWlsZWQgdG8gcmVnaXN0ZXIgbW9kICR7cn06IEV4cGVjdGVkIG9wdGlvbnMgdG8gYmUgdW5kZWZpbmVkIG9yIG9iamVjdCwgZ290ICR7dHlwZW9mIHR9YCk7Y29uc3QgaT0hMD09PXQuYWxsb3dSZXBsYWNlLGE9Zi5nZXQoby5uYW1lKTthJiYoYS5hbGxvd1JlcGxhY2UmJml8fGUoYFJlZnVzaW5nIHRvIGxvYWQgbW9kICR7cn06IGl0IGlzIGFscmVhZHkgbG9hZGVkIGFuZCBkb2Vzbid0IGFsbG93IGJlaW5nIHJlcGxhY2VkLlxcbldhcyB0aGUgbW9kIGxvYWRlZCBtdWx0aXBsZSB0aW1lcz9gKSx1KGEpKTtjb25zdCBjPW89PntsZXQgZT1nLnBhdGNoaW5nLmdldChvLm5hbWUpO3JldHVybiBlfHwoZT17aG9va3M6W10scGF0Y2hlczpuZXcgTWFwfSxnLnBhdGNoaW5nLnNldChvLm5hbWUsZSkpLGV9LHM9KG8sdCk9PiguLi5uKT0+e3ZhciBpLGE7Y29uc3QgYz1udWxsPT09KGE9KGk9bS5lcnJvclJlcG9ydGVySG9va3MpLmFwaUVuZHBvaW50RW50ZXIpfHx2b2lkIDA9PT1hP3ZvaWQgMDphLmNhbGwoaSxvLGcubmFtZSk7Zy5sb2FkZWR8fGUoYE1vZCAke3J9IGF0dGVtcHRlZCB0byBjYWxsIFNESyBmdW5jdGlvbiBhZnRlciBiZWluZyB1bmxvYWRlZGApO2NvbnN0IHM9dCguLi5uKTtyZXR1cm4gbnVsbD09Y3x8YygpLHN9LHA9e3VubG9hZDpzKFwidW5sb2FkXCIsKCgpPT51KGcpKSksaG9va0Z1bmN0aW9uOnMoXCJob29rRnVuY3Rpb25cIiwoKG8sdCxuKT0+e1wic3RyaW5nXCI9PXR5cGVvZiBvJiZvfHxlKGBNb2QgJHtyfSBmYWlsZWQgdG8gcGF0Y2ggYSBmdW5jdGlvbjogRXhwZWN0ZWQgZnVuY3Rpb24gbmFtZSBzdHJpbmcsIGdvdCAke3R5cGVvZiBvfWApO2NvbnN0IGk9bChvKSxhPWMoaSk7XCJudW1iZXJcIiE9dHlwZW9mIHQmJmUoYE1vZCAke3J9IGZhaWxlZCB0byBob29rIGZ1bmN0aW9uICcke299JzogRXhwZWN0ZWQgcHJpb3JpdHkgbnVtYmVyLCBnb3QgJHt0eXBlb2YgdH1gKSxcImZ1bmN0aW9uXCIhPXR5cGVvZiBuJiZlKGBNb2QgJHtyfSBmYWlsZWQgdG8gaG9vayBmdW5jdGlvbiAnJHtvfSc6IEV4cGVjdGVkIGhvb2sgZnVuY3Rpb24sIGdvdCAke3R5cGVvZiBufWApO2NvbnN0IHM9e21vZDpnLm5hbWUscHJpb3JpdHk6dCxob29rOm59O3JldHVybiBhLmhvb2tzLnB1c2gocyksZCgpLCgpPT57Y29uc3Qgbz1hLmhvb2tzLmluZGV4T2Yocyk7bz49MCYmKGEuaG9va3Muc3BsaWNlKG8sMSksZCgpKX19KSkscGF0Y2hGdW5jdGlvbjpzKFwicGF0Y2hGdW5jdGlvblwiLCgobyx0KT0+e1wic3RyaW5nXCI9PXR5cGVvZiBvJiZvfHxlKGBNb2QgJHtyfSBmYWlsZWQgdG8gcGF0Y2ggYSBmdW5jdGlvbjogRXhwZWN0ZWQgZnVuY3Rpb24gbmFtZSBzdHJpbmcsIGdvdCAke3R5cGVvZiBvfWApO2NvbnN0IGk9bChvKSxhPWMoaSk7bih0KXx8ZShgTW9kICR7cn0gZmFpbGVkIHRvIHBhdGNoIGZ1bmN0aW9uICcke299JzogRXhwZWN0ZWQgcGF0Y2hlcyBvYmplY3QsIGdvdCAke3R5cGVvZiB0fWApO2Zvcihjb25zdFtuLGldb2YgT2JqZWN0LmVudHJpZXModCkpXCJzdHJpbmdcIj09dHlwZW9mIGk/YS5wYXRjaGVzLnNldChuLGkpOm51bGw9PT1pP2EucGF0Y2hlcy5kZWxldGUobik6ZShgTW9kICR7cn0gZmFpbGVkIHRvIHBhdGNoIGZ1bmN0aW9uICcke299JzogSW52YWxpZCBmb3JtYXQgb2YgcGF0Y2ggJyR7bn0nYCk7ZCgpfSkpLHJlbW92ZVBhdGNoZXM6cyhcInJlbW92ZVBhdGNoZXNcIiwobz0+e1wic3RyaW5nXCI9PXR5cGVvZiBvJiZvfHxlKGBNb2QgJHtyfSBmYWlsZWQgdG8gcGF0Y2ggYSBmdW5jdGlvbjogRXhwZWN0ZWQgZnVuY3Rpb24gbmFtZSBzdHJpbmcsIGdvdCAke3R5cGVvZiBvfWApO2NvbnN0IHQ9bChvKTtjKHQpLnBhdGNoZXMuY2xlYXIoKSxkKCl9KSksY2FsbE9yaWdpbmFsOnMoXCJjYWxsT3JpZ2luYWxcIiwoKG8sdCxuKT0+e1wic3RyaW5nXCI9PXR5cGVvZiBvJiZvfHxlKGBNb2QgJHtyfSBmYWlsZWQgdG8gY2FsbCBhIGZ1bmN0aW9uOiBFeHBlY3RlZCBmdW5jdGlvbiBuYW1lIHN0cmluZywgZ290ICR7dHlwZW9mIG99YCk7Y29uc3QgaT1sKG8pO3JldHVybiBBcnJheS5pc0FycmF5KHQpfHxlKGBNb2QgJHtyfSBmYWlsZWQgdG8gY2FsbCBhIGZ1bmN0aW9uOiBFeHBlY3RlZCBhcmdzIGFycmF5LCBnb3QgJHt0eXBlb2YgdH1gKSxpLm9yaWdpbmFsLmFwcGx5KG51bGwhPW4/bjpnbG9iYWxUaGlzLHQpfSkpLGdldE9yaWdpbmFsSGFzaDpzKFwiZ2V0T3JpZ2luYWxIYXNoXCIsKG89PntcInN0cmluZ1wiPT10eXBlb2YgbyYmb3x8ZShgTW9kICR7cn0gZmFpbGVkIHRvIGdldCBoYXNoOiBFeHBlY3RlZCBmdW5jdGlvbiBuYW1lIHN0cmluZywgZ290ICR7dHlwZW9mIG99YCk7cmV0dXJuIGwobykub3JpZ2luYWxIYXNofSkpfSxnPXtuYW1lOm8ubmFtZSxmdWxsTmFtZTpvLmZ1bGxOYW1lLHZlcnNpb246by52ZXJzaW9uLHJlcG9zaXRvcnk6by5yZXBvc2l0b3J5LGFsbG93UmVwbGFjZTppLGFwaTpwLGxvYWRlZDohMCxwYXRjaGluZzpuZXcgTWFwfTtyZXR1cm4gZi5zZXQoby5uYW1lLGcpLE9iamVjdC5mcmVlemUocCl9ZnVuY3Rpb24gaCgpe2NvbnN0IG89W107Zm9yKGNvbnN0IGUgb2YgZi52YWx1ZXMoKSlvLnB1c2goe25hbWU6ZS5uYW1lLGZ1bGxOYW1lOmUuZnVsbE5hbWUsdmVyc2lvbjplLnZlcnNpb24scmVwb3NpdG9yeTplLnJlcG9zaXRvcnl9KTtyZXR1cm4gb31sZXQgbTtjb25zdCB5PXZvaWQgMD09PXdpbmRvdy5iY01vZFNkaz93aW5kb3cuYmNNb2RTZGs9ZnVuY3Rpb24oKXtjb25zdCBlPXt2ZXJzaW9uOm8sYXBpVmVyc2lvbjoxLHJlZ2lzdGVyTW9kOmcsZ2V0TW9kc0luZm86aCxnZXRQYXRjaGluZ0luZm86cCxlcnJvclJlcG9ydGVySG9va3M6T2JqZWN0LnNlYWwoe2FwaUVuZHBvaW50RW50ZXI6bnVsbCxob29rRW50ZXI6bnVsbCxob29rQ2hhaW5FeGl0Om51bGx9KX07cmV0dXJuIG09ZSxPYmplY3QuZnJlZXplKGUpfSgpOihuKHdpbmRvdy5iY01vZFNkayl8fGUoXCJGYWlsZWQgdG8gaW5pdCBNb2QgU0RLOiBOYW1lIGFscmVhZHkgaW4gdXNlXCIpLDEhPT13aW5kb3cuYmNNb2RTZGsuYXBpVmVyc2lvbiYmZShgRmFpbGVkIHRvIGluaXQgTW9kIFNESzogRGlmZmVyZW50IHZlcnNpb24gYWxyZWFkeSBsb2FkZWQgKCcxLjIuMCcgdnMgJyR7d2luZG93LmJjTW9kU2RrLnZlcnNpb259JylgKSx3aW5kb3cuYmNNb2RTZGsudmVyc2lvbiE9PW8mJmFsZXJ0KGBNb2QgU0RLIHdhcm5pbmc6IExvYWRpbmcgZGlmZmVyZW50IGJ1dCBjb21wYXRpYmxlIHZlcnNpb25zICgnMS4yLjAnIHZzICcke3dpbmRvdy5iY01vZFNkay52ZXJzaW9ufScpXFxuT25lIG9mIG1vZHMgeW91IGFyZSB1c2luZyBpcyB1c2luZyBhbiBvbGQgdmVyc2lvbiBvZiBTREsuIEl0IHdpbGwgd29yayBmb3Igbm93IGJ1dCBwbGVhc2UgaW5mb3JtIGF1dGhvciB0byB1cGRhdGVgKSx3aW5kb3cuYmNNb2RTZGspO3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBleHBvcnRzJiYoT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5kZWZhdWx0PXkpLHl9KCk7XG4iLCJpbXBvcnQgeyBOb3RpZnlQbGF5ZXIsIFNlbmRBY3Rpb24gfSBmcm9tIFwiLi4vdXRpbC9tZXNzYWdpbmdcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBCZWQoKTogdm9pZFxyXG57XHJcbiAgICBDb21tYW5kQ29tYmluZShbe1xyXG4gICAgICAgIFRhZzogXCJiZWRcIixcclxuICAgICAgICBEZXNjcmlwdGlvbjogXCJDcmF3bCBpbnRvIGJlZCB3aXRob3V0IG5lZWRpbmcgaGFuZHNcIixcclxuICAgICAgICBBY3Rpb246ICgpID0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAoSW52ZW50b3J5R2V0KFBsYXllciwgXCJJdGVtRGV2aWNlc1wiKSAhPT0gbnVsbClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgTm90aWZ5UGxheWVyKFwiVW5hYmxlIHRvIGNyYXdsIGludG8gYmVkXCIsIDIwMDAwKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBoYWlyQ29sb3IgPSBJbnZlbnRvcnlHZXQoUGxheWVyLCBcIkhhaXJGcm9udFwiKT8uQ29sb3IgYXMgSXRlbUNvbG9yO1xyXG4gICAgICAgICAgICBJbnZlbnRvcnlXZWFyKFBsYXllciwgXCJQZXRCZWRcIiwgXCJJdGVtRGV2aWNlc1wiLCBbaGFpckNvbG9yWzBdLCBcIkRlZmF1bHRcIiwgaGFpckNvbG9yW2hhaXJDb2xvci5sZW5ndGggLSAxXV0pO1xyXG4gICAgICAgICAgICBDaGF0Um9vbUNoYXJhY3Rlckl0ZW1VcGRhdGUoUGxheWVyLCBcIkl0ZW1EZXZpY2VzXCIpO1xyXG4gICAgICAgICAgICBTZW5kQWN0aW9uKFxyXG4gICAgICAgICAgICAgICAgXCJTb3VyY2VDaGFyYWN0ZXIgY3Jhd2xzIGludG8gUHJvbm91blBvc3Nlc3NpdmUgYmVkLlwiLFxyXG4gICAgICAgICAgICAgICAgdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgW3sgU291cmNlQ2hhcmFjdGVyOiBQbGF5ZXIuTWVtYmVyTnVtYmVyIH0gYXMgU291cmNlQ2hhcmFjdGVyRGljdGlvbmFyeUVudHJ5XVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIH0sIHtcclxuICAgICAgICBUYWc6IFwiYmxhbmtldFwiLFxyXG4gICAgICAgIERlc2NyaXB0aW9uOiBcIlB1bGwgdGhlIGJsYW5rZXQgb3ZlciB5b3Vyc2VsZlwiLFxyXG4gICAgICAgIEFjdGlvbjogKCkgPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8vIGJsYW5reVxyXG4gICAgICAgICAgICBjb25zdCBiZWQgPSBJbnZlbnRvcnlHZXQoUGxheWVyLCBcIkl0ZW1EZXZpY2VzXCIpO1xyXG4gICAgICAgICAgICBpZiAoYmVkPy5Bc3NldC5OYW1lICE9PSBcIlBldEJlZFwiKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBOb3RpZnlQbGF5ZXIoXCJVbmFibGUgdG8gcHVsbCB0aGUgYmxhbmtldCBvdmVyIHlvdXJzZWxmLlwiLCAyMDAwMCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICghKGJlZC5Qcm9wZXJ0eT8uVHlwZVJlY29yZD8udHlwZWQgPT09IDAgfHwgYmVkLlByb3BlcnR5Py5UeXBlUmVjb3JkPy50eXBlZCA9PT0gMSkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIE5vdGlmeVBsYXllcihcIlVuYWJsZSB0byBwdWxsIHRoZSBibGFua2V0IG92ZXIgeW91cnNlbGYuXCIsIDIwMDAwKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBiZWQuUHJvcGVydHkuVHlwZVJlY29yZC50eXBlZCA9IE51bWJlcighYmVkLlByb3BlcnR5LlR5cGVSZWNvcmQudHlwZWQpO1xyXG4gICAgICAgICAgICBDaGF0Um9vbUNoYXJhY3RlclVwZGF0ZShQbGF5ZXIpO1xyXG4gICAgICAgICAgICBpZiAoYmVkLlByb3BlcnR5LlR5cGVSZWNvcmQudHlwZWQgPT09IDEpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIFNlbmRBY3Rpb24oXHJcbiAgICAgICAgICAgICAgICAgICAgXCJTb3VyY2VDaGFyYWN0ZXIgcHVsbHMgYSBibGFua2V0IG92ZXIgUHJvbm91bk9iamVjdC5cIixcclxuICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgW3sgU291cmNlQ2hhcmFjdGVyOiBQbGF5ZXIuTWVtYmVyTnVtYmVyIH0gYXMgU291cmNlQ2hhcmFjdGVyRGljdGlvbmFyeUVudHJ5XVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIFNlbmRBY3Rpb24oXHJcbiAgICAgICAgICAgICAgICAgICAgXCJTb3VyY2VDaGFyYWN0ZXIgcmVtb3ZlcyB0aGUgYmxhbmtldCBmcm9tIG9uIHRvcCBvZiBQcm9ub3VuT2JqZWN0LlwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICBbeyBTb3VyY2VDaGFyYWN0ZXI6IFBsYXllci5NZW1iZXJOdW1iZXIgfSBhcyBTb3VyY2VDaGFyYWN0ZXJEaWN0aW9uYXJ5RW50cnldXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfV0pO1xyXG59XHJcbiIsImltcG9ydCB7IEJlZCB9IGZyb20gXCIuL2JlZFwiO1xyXG4vLyBpbXBvcnQgeyBMb2dDaGF0IH0gZnJvbSBcIi4vbG9nXCI7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gQnVpbGRBbGxDb21tYW5kcygpOiB2b2lkXHJcbntcclxuICAgIEJlZCgpO1xyXG4gICAgLy8gTG9nQ2hhdCgpO1xyXG59XHJcbiIsIi8vIElmIHlvdSB3YW50IHRvIGxvY2FsaXplIHRoaXMgYWRkb24gdG8geW91ciBsYW5ndWFnZSBmb3IgeW91cnNlbGYgYW5kIG90aGVycywgaGVyZSBpcyBob3dcclxuLy8gMS4gQ3JlYXRlIGEgbmV3IGZpbGUgaW4gdGhlIGxvY2FsaXphdGlvbiBkaXJlY3RvcnkgbmFtZWQgW2xhbmd1YWdlXS5qc29uXHJcbi8vIDIuIENvcHkgYW5kIHBhc3RlIHRoZSBjb250ZW50cyBvZiB0ZW1wbGF0ZS5qc29uIGludG8geW91ciBuZXcgW2xhbmd1YWdlXS5qc29uIGZpbGUuXHJcbi8vIDMuIFJlcGxhY2UgdGhlIHJpZ2h0KGVtcHR5KSBzaWRlIG9mIHRoZSB0ZXh0IHdpdGggdGhlIHRyYW5zbGF0aW9uIGZyb20gdGhlIEVuZ2xpc2ggb24gdGhlIGxlZnQuXHJcbi8vIDNiLiBEbyBub3QgdHJhbnNsYXRlIHdvcmRzIGxpa2UgU291cmNlQ2hhcmFjdGVyIGFuZCBTZXR0aW5nc0FycmF5LCBsZWF2ZSB0aG9zZSBhcyB0aGV5IHdpbGwgYmUgZmlsbGVkIGluIGJ5IHRoZSBjb2RlXHJcbi8vIDQuIEltcG9ydCB0aGUganNvbiBmb2xsb3dpbmcgdGhlIGV4YW1wbGUgYmVsb3csIG1ha2Ugc3VyZSB0aGF0IHRoZSBuYW1lIHlvdSBpbXBvcnQgdGhlIGZpbGUgaXNcclxuLy8gICAgdGhlIHNhbWUgdGhhdCBkZWZpbmVkIGJ5IFRyYW5zbGF0aW9uTGFuZ3VhZ2UuIEV4OiBFbmdsaXNoIC0+IEVOXHJcbi8vICAgIElmIHlvdSBhcmUgdW5zdXJlIG9mIGhvdyB0byBkbyB0aGlzIGJ1dCBzdGlsbCB3YW50IHRvIGNvbnRyaWJ1dGUsIHJlYWNoIG91dCBhbmQgSSB3aWxsIGF0dGVtcHQgdG8gaGVscC5cclxuXHJcbmltcG9ydCB0ZW1wbGF0ZSBmcm9tIFwiLi90ZW1wbGF0ZS5qc29uXCI7XHJcbmltcG9ydCBSVSBmcm9tIFwiLi9SVS5qc29uXCI7XHJcblxyXG4vLyBFdmVyeXRoaW5nIGlzIGRlZmF1bHRlZCB0byBFbmdsaXNoXHJcbmNvbnN0IHRyYW5zbGF0aW9ucyA9XHJcbntcclxuICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZSxcclxuICAgIFJVOiBSVVxyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIExvY2FsaXplZFRleHQodGV4dDogc3RyaW5nKTogc3RyaW5nXHJcbntcclxuICAgIGNvbnN0IHRyYW5zbGF0ZWRUZXh0ID0gdHJhbnNsYXRpb25zPy5bVHJhbnNsYXRpb25MYW5ndWFnZV0/Llt0ZXh0XTtcclxuICAgIGlmICghIXRyYW5zbGF0ZWRUZXh0ICYmIHRyYW5zbGF0ZWRUZXh0ICE9PSBcIlwiKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiB0cmFuc2xhdGVkVGV4dDtcclxuICAgIH1cclxuICAgIHJldHVybiB0ZXh0O1xyXG59XHJcbiIsImltcG9ydCB7IFJlbW92ZUhvb2tzIH0gZnJvbSBcIi4uL3V0aWwvc2RrXCI7XHJcbmltcG9ydCB7IENyZWF0ZUFjdGl2aXRpZXMsIFJlbW92ZUFjdGl2aXRpZXMgfSBmcm9tIFwiLi4vdXRpbC9hY3Rpdml0aWVzXCI7XHJcbmltcG9ydCB7IEFkZERhdGFTeW5jTGlzdGVuZXJzLCBIb29rZWRNZXNzYWdlLCBSZW1vdmVEYXRhU3luY0xpc3RlbmVycyB9IGZyb20gXCIuLi91dGlsL21lc3NhZ2luZ1wiO1xyXG5cclxuZXhwb3J0IGVudW0gTW9kdWxlVGl0bGVcclxue1xyXG4gICAgVW5rbm93biA9IFwiVW5rbm93blwiLFxyXG4gICAgQXV0aG9yaXR5ID0gXCJBdXRob3JpdHlcIixcclxuICAgIEFjdGl2aXRpZXMgPSBcIkFjdGl2aXRpZXNcIixcclxuICAgIENsaWNrZXIgPSBcIkNsaWNrZXJcIixcclxuICAgIFNldHRpbmdzID0gXCJTZXR0aW5nc1wiLFxyXG4gICAgVmlydHVhbFBldCA9IFwiVmlydHVhbFBldFwiLFxyXG4gICAgVmlydHVhbFBldEhVRCA9IFwiVmlydHVhbFBldEh1ZFwiLFxyXG4gICAgVmlydHVhbFBldENvbmRpdGlvbnMgPSBcIlZpcnR1YWxQZXRDb25kaXRpb25zXCIsXHJcbiAgICBEYXRhU3luYyA9IFwiRGF0YVN5bmNcIixcclxuICAgIFByb2ZpbGUgPSBcIlByb2ZpbGVcIixcclxuICAgIFNldHRpbmdzT3RoZXIgPSBcIlNldHRpbmdzT3RoZXJcIlxyXG59XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgTW9kdWxlXHJcbntcclxuICAgIGdldCBUaXRsZSgpOiBNb2R1bGVUaXRsZVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBNb2R1bGVUaXRsZS5Vbmtub3duO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBBY3Rpdml0aWVzKCk6IEN1c3RvbUFjdGl2aXR5W11cclxuICAgIHtcclxuICAgICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IFNldHRpbmdzKCk6IFNldHRpbmdbXVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgU3luY0xpc3RlbmVycygpOiBIb29rZWRNZXNzYWdlW11cclxuICAgIHtcclxuICAgICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcblxyXG4gICAgTG9hZCgpOiB2b2lkXHJcbiAgICB7XHJcbiAgICAgICAgQ3JlYXRlQWN0aXZpdGllcyh0aGlzLkFjdGl2aXRpZXMpO1xyXG4gICAgICAgIEFkZERhdGFTeW5jTGlzdGVuZXJzKHRoaXMuU3luY0xpc3RlbmVycyk7XHJcbiAgICB9XHJcblxyXG4gICAgVW5sb2FkKCk6IHZvaWRcclxuICAgIHtcclxuICAgICAgICBSZW1vdmVIb29rcyh0aGlzLlRpdGxlKTtcclxuICAgICAgICBSZW1vdmVBY3Rpdml0aWVzKHRoaXMuQWN0aXZpdGllcyk7XHJcbiAgICAgICAgUmVtb3ZlRGF0YVN5bmNMaXN0ZW5lcnModGhpcy5UaXRsZSk7XHJcbiAgICB9XHJcblxyXG4gICAgUmVsb2FkKCk6IHZvaWRcclxuICAgIHtcclxuICAgICAgICB0aGlzLlVubG9hZCgpO1xyXG4gICAgICAgIHRoaXMuTG9hZCgpO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IGFjdGl2aXR5SW1hZ2VzLCBhY3Rpdml0eVByZXJlcXVpc2l0ZXMsIGFjdGl2aXR5VHJpZ2dlcnMgfSBmcm9tIFwiLi4vdXRpbC9hY3Rpdml0aWVzXCI7XHJcbmltcG9ydCB7IEhvb2tGdW5jdGlvbiB9IGZyb20gXCIuLi91dGlsL3Nka1wiO1xyXG5pbXBvcnQgeyBNb2R1bGUsIE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4vX21vZHVsZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEFjdGl2aXRpZXNNb2R1bGUgZXh0ZW5kcyBNb2R1bGVcclxue1xyXG4gICAgZ2V0IFRpdGxlKCk6IE1vZHVsZVRpdGxlXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIE1vZHVsZVRpdGxlLkFjdGl2aXRpZXM7XHJcbiAgICB9XHJcblxyXG4gICAgTG9hZCgpOiB2b2lkXHJcbiAgICB7XHJcbiAgICAgICAgLy8gUHJlcmVxdWlzaXRlIGhhbmRsaW5nXHJcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiQWN0aXZpdHlDaGVja1ByZXJlcXVpc2l0ZVwiLCAxLCAoYXJncywgbmV4dCkgPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IFtwcmVyZXEsIGFjdGluZywgYWN0ZWQsIGdyb3VwXSA9IGFyZ3M7XHJcbiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhhY3Rpdml0eVByZXJlcXVpc2l0ZXMpLmluY2x1ZGVzKHByZXJlcSkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhY3Rpdml0eVByZXJlcXVpc2l0ZXNbcHJlcmVxXShhY3RpbmcsIGFjdGVkLCBncm91cCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEFjdGl2aXR5IG9udHJpZ2dlcnNcclxuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJTZXJ2ZXJTZW5kXCIsIDEsIChhcmdzLCBuZXh0KSA9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGFyZ3NbMV0gYXMgU2VydmVyQ2hhdFJvb21NZXNzYWdlO1xyXG4gICAgICAgICAgICBpZiAoYXJnc1swXSAhPT0gXCJDaGF0Um9vbUNoYXRcIiB8fCBkYXRhPy5UeXBlICE9PSBcIkFjdGl2aXR5XCIpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUgLSBUUyBub3QgZmluZGluZyB0eXBlIGF1dG9tYXRpY2FsbHksIGl0IGV4aXN0c1xyXG4gICAgICAgICAgICBjb25zdCBhY3Rpdml0eU5hbWUgPSBkYXRhPy5EaWN0aW9uYXJ5Py5maW5kKCh4KSA9PiB4LkFjdGl2aXR5TmFtZSk/LkFjdGl2aXR5TmFtZSBhcyBzdHJpbmcgfCB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIGlmIChhY3Rpdml0eU5hbWU/LnN0YXJ0c1dpdGgoXCJNUEFfXCIpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBkYXRhPy5EaWN0aW9uYXJ5Py5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBUYWc6IFwiTUlTU0lORyBBQ1RJVklUWSBERVNDUklQVElPTiBGT1IgS0VZV09SRCBcIiArIGRhdGEuQ29udGVudCxcclxuICAgICAgICAgICAgICAgICAgICBUZXh0OiBBY3Rpdml0eURpY3Rpb25hcnlUZXh0KGRhdGEuQ29udGVudClcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhhY3Rpdml0eVRyaWdnZXJzKS5pbmNsdWRlcyhhY3Rpdml0eU5hbWUpKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldE51bWJlciA9IChkYXRhPy5EaWN0aW9uYXJ5Py5maW5kKCh4KSA9PiAoeCBhcyBUYXJnZXRDaGFyYWN0ZXJEaWN0aW9uYXJ5RW50cnkpLlRhcmdldENoYXJhY3RlcikgYXMgVGFyZ2V0Q2hhcmFjdGVyRGljdGlvbmFyeUVudHJ5KT8uVGFyZ2V0Q2hhcmFjdGVyID8/IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IENoYXRSb29tQ2hhcmFjdGVyPy5maW5kKChjKSA9PiBjLk1lbWJlck51bWJlciA9PT0gdGFyZ2V0TnVtYmVyKTtcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpdml0eVRyaWdnZXJzW2FjdGl2aXR5TmFtZV0odGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIERyYXcgY3VzdG9tIGltYWdlcyBmb3IgYWN0aXZpdGllc1xyXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIkRyYXdJbWFnZVJlc2l6ZVwiLCAxLCAoYXJncywgbmV4dCkgPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IGltYWdlUGF0aCA9IGFyZ3NbMF0udG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgY29uc3QgYWN0aXZpdHlOYW1lID0gaW1hZ2VQYXRoLnN1YnN0cmluZyhpbWFnZVBhdGguaW5kZXhPZihcIk1QQV9cIiksIGltYWdlUGF0aC5pbmRleE9mKFwiLnBuZ1wiKSk7XHJcbiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhhY3Rpdml0eUltYWdlcykuaW5jbHVkZXMoYWN0aXZpdHlOYW1lKSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgYXJnc1swXSA9IGFjdGl2aXR5SW1hZ2VzW2FjdGl2aXR5TmFtZV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgVW5sb2FkKCk6IHZvaWRcclxuICAgIHtcclxuICAgICAgICBzdXBlci5VbmxvYWQoKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUyB9IGZyb20gXCIuLi91dGlsL2F1dGhvcml0eVwiO1xyXG5pbXBvcnQgeyBNb2R1bGUsIE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4vX21vZHVsZVwiO1xyXG5cclxuY29uc3QgUGxheWVyUDogKEM/OiBDaGFyYWN0ZXIpID0+IE1QQVJlY29yZCA9IChDOiBDaGFyYWN0ZXIgPSBQbGF5ZXIpID0+XHJcbntcclxuICAgIHJldHVybiBDLk1QQT8uW01vZHVsZVRpdGxlLkF1dGhvcml0eV0gPz8ge307XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gSXNIYXJkY29yZU9uKEM6IENoYXJhY3Rlcik6IGJvb2xlYW5cclxue1xyXG4gICAgcmV0dXJuIChDLk1QQT8uW01vZHVsZVRpdGxlLkF1dGhvcml0eV0uaGFyZGNvcmUgYXMgYm9vbGVhbiB8IHVuZGVmaW5lZCkgPz8gZmFsc2U7XHJcbn07XHJcblxyXG50eXBlIFNlbGZBY2Nlc3MgPSBgc2VsZiR7a2V5b2YgdHlwZW9mIE1vZHVsZVRpdGxlfWA7XHJcbnR5cGUgT3RoZXJzQWNjZXNzID0gYG90aGVycyR7a2V5b2YgdHlwZW9mIE1vZHVsZVRpdGxlfWA7XHJcblxyXG5leHBvcnQgY2xhc3MgQXV0aG9yaXR5TW9kdWxlIGV4dGVuZHMgTW9kdWxlXHJcbntcclxuICAgIGdldCBUaXRsZSgpOiBNb2R1bGVUaXRsZVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBNb2R1bGVUaXRsZS5BdXRob3JpdHk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IFNldHRpbmdzKCk6IFNldHRpbmdbXVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwib3duZXJzXCIsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcInRleHRcIixcclxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiT3duZXIgbWVtYmVyIG51bWJlcnM7IFNlcGVyYXRlZCBieSBhICxcIixcclxuICAgICAgICAgICAgICAgIG1heENoYXJzOiAxMDI0LFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IDQwMFxyXG4gICAgICAgICAgICB9IGFzIFRleHRTZXR0aW5nLCB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNlbGZBdXRob3JpdHlcIiBhcyBTZWxmQWNjZXNzLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxyXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBUYXJnZXRDaGFyYWN0ZXIgdG8gY2hhbmdlIFRhcmdldFByb25vdW5Qb3NzZXNzaXZlIEF1dGhvcml0eSBzZXR0aW5nc1wiXHJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcIm90aGVyc0F1dGhvcml0eVwiIGFzIE90aGVyc0FjY2VzcyxcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwib3B0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUyxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIkNsdWJvd25lclwiLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWxsb3cgb3RoZXJzIHRvIGNoYW5nZSBUYXJnZXRDaGFyYWN0ZXIncyBBdXRob3JpdHkgc2V0dGluZ3NcIixcclxuICAgICAgICAgICAgICAgIGxvb3A6IGZhbHNlXHJcbiAgICAgICAgICAgIH0gYXMgT3B0aW9uU2V0dGluZywge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJzZWxmUHJvZmlsZVwiIGFzIFNlbGZBY2Nlc3MsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXHJcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiBQbGF5ZXJQKEMpLm90aGVyc1Byb2ZpbGUgIT09IFwiU2VsZlwiLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBUYXJnZXRDaGFyYWN0ZXIgdG8gY2hhbmdlIFRhcmdldFByb25vdW5Qb3NzZXNzaXZlIFByb2ZpbGUgc2V0dGluZ3NcIlxyXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJvdGhlcnNQcm9maWxlXCIgYXMgT3RoZXJzQWNjZXNzLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJvcHRpb25cIixcclxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcclxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IEFVVEhPUklUWV9HUk9VUF9PUFRJT05TLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiQ2x1Ym93bmVyXCIsXHJcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBvdGhlcnMgdG8gY2hhbmdlIFRhcmdldENoYXJhY3RlcidzIFByb2ZpbGUgc2V0dGluZ3NcIixcclxuICAgICAgICAgICAgICAgIGxvb3A6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgb25TZXQoQylcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBQbGF5ZXJQKEMpLnNlbGZQcm9maWxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBhcyBPcHRpb25TZXR0aW5nLCB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNlbGZDbGlja2VyXCIgYXMgU2VsZkFjY2VzcyxcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcclxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWxsb3cgVGFyZ2V0Q2hhcmFjdGVyIHRvIGNoYW5nZSBUYXJnZXRQcm9ub3VuUG9zc2Vzc2l2ZSBDbGlja2VyIHNldHRpbmdzXCJcclxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwib3RoZXJzQ2xpY2tlclwiIGFzIE90aGVyc0FjY2VzcyxcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwib3B0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUyxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIkNsdWJvd25lclwiLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWxsb3cgb3RoZXJzIHRvIGNoYW5nZSBUYXJnZXRDaGFyYWN0ZXIncyBDbGlja2VyIHNldHRpbmdzXCIsXHJcbiAgICAgICAgICAgICAgICBsb29wOiBmYWxzZVxyXG4gICAgICAgICAgICB9IGFzIE9wdGlvblNldHRpbmcsIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwic2VsZlZpcnR1YWxQZXRcIiBhcyBTZWxmQWNjZXNzLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxyXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBUYXJnZXRDaGFyYWN0ZXIgdG8gY2hhbmdlIFRhcmdldFByb25vdW5Qb3NzZXNzaXZlIFZpcnR1YWwgUGV0IHNldHRpbmdzXCJcclxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwib3RoZXJzVmlydHVhbFBldFwiIGFzIE90aGVyc0FjY2VzcyxcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwib3B0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUyxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIkNsdWJvd25lclwiLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWxsb3cgb3RoZXJzIHRvIGNoYW5nZSBUYXJnZXRDaGFyYWN0ZXIncyBWaXJ0dWFsIFBldCBzZXR0aW5nc1wiLFxyXG4gICAgICAgICAgICAgICAgbG9vcDogZmFsc2VcclxuICAgICAgICAgICAgfSBhcyBPcHRpb25TZXR0aW5nLCB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNlbGZWaXJ0dWFsUGV0Q29uZGl0aW9uc1wiIGFzIFNlbGZBY2Nlc3MsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXHJcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkFsbG93IFRhcmdldENoYXJhY3RlciB0byBjaGFuZ2UgVGFyZ2V0UHJvbm91blBvc3Nlc3NpdmUgVmlydHVhbCBQZXQgQ29uZGl0aW9ucyBzZXR0aW5nc1wiXHJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcIm90aGVyc1ZpcnR1YWxQZXRDb25kaXRpb25zXCIgYXMgT3RoZXJzQWNjZXNzLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJvcHRpb25cIixcclxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcclxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IEFVVEhPUklUWV9HUk9VUF9PUFRJT05TLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiQ2x1Ym93bmVyXCIsXHJcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBvdGhlcnMgdG8gY2hhbmdlIFRhcmdldENoYXJhY3RlcidzIFZpcnR1YWwgUGV0IENvbmRpdGlvbnMgc2V0dGluZ3NcIixcclxuICAgICAgICAgICAgICAgIGxvb3A6IGZhbHNlXHJcbiAgICAgICAgICAgIH0gYXMgT3B0aW9uU2V0dGluZ1xyXG4gICAgICAgIF07XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgSG9va0Z1bmN0aW9uIH0gZnJvbSBcIi4uL3V0aWwvc2RrXCI7XHJcbmltcG9ydCB7IEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeSwgUmVtb3ZlT09DQ29udGVudEZyb21NZXNzYWdlIH0gZnJvbSBcIi4uL3V0aWwvbWVzc2FnaW5nXCI7XHJcbmltcG9ydCB7IEF1dGhvcml0eUdyb3VwLCBJc01lbWJlck51bWJlckluQXV0aEdyb3VwIH0gZnJvbSBcIi4uL3V0aWwvYXV0aG9yaXR5XCI7XHJcbmltcG9ydCB7IE1vZHVsZSwgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi9fbW9kdWxlXCI7XHJcbmltcG9ydCB7IElzSGFyZGNvcmVPbiB9IGZyb20gXCIuL3Byb2ZpbGVcIjtcclxuXHJcbi8vIENsaWNrZXIgc291bmRzIHRvIHBsYXlcclxuLy8gQW4gYXJyYXkgb2YgYXVkaW8gZmlsZXMsIDEgY2xpY2sgaW4gaW5kZXggMCwgbisxIGNsaWNrcyBpbiBpbmRleCBuXHJcbmNvbnN0IEFMTF9DTElDS1M6IEhUTUxBdWRpb0VsZW1lbnRbXSA9XHJcbltcclxuICAgIG5ldyBBdWRpbyhcImh0dHBzOi8vbWVkaWEuc291bmRnYXNtLm5ldC9zb3VuZHMvZGYzMzMxNmJlYzdiYzAzOTAyODYwZDIxZmI0Yjg4Mjc0NjZmMmJhZC5tNGFcIiksXHJcbiAgICBuZXcgQXVkaW8oXCJodHRwczovL21lZGlhLnNvdW5kZ2FzbS5uZXQvc291bmRzL2ZhNDliMTBkYWQzZTEyMDJkZTA5Njg1OWIzMzlkY2ZjNWVhYjkwYTUubTRhXCIpLFxyXG4gICAgbmV3IEF1ZGlvKFwiaHR0cHM6Ly9tZWRpYS5zb3VuZGdhc20ubmV0L3NvdW5kcy9iMjUxNzdhNmE5MmQ1YTc0ZDA0N2E5ZDc3YTgwN2YyZDFlZDI4YzcxLm00YVwiKVxyXG5dO1xyXG5cclxuLyoqXHJcbiAqIEdldCB0aGUgQ2xpY2tlciBzZXR0aW5ncyBvZiB0aGUgUGxheWVyXHJcbiAqL1xyXG5jb25zdCBQbGF5ZXJDOiAoQz86IENoYXJhY3RlcikgPT4gTVBBUmVjb3JkID0gKEM6IENoYXJhY3RlciA9IFBsYXllcikgPT5cclxue1xyXG4gICAgcmV0dXJuIEMuTVBBPy5bTW9kdWxlVGl0bGUuQ2xpY2tlcl0gPz8ge307XHJcbn07XHJcblxyXG4vKipcclxuICogR2V0IHRoZSB0b3RhbCBudW1iZXIgb2YgY2xpY2tzIGluIGEgc3RyaW5nXHJcbiAqL1xyXG5mdW5jdGlvbiBDbGlja0NvdW50KHN0cjogc3RyaW5nID0gXCJcIik6IG51bWJlclxyXG57XHJcbiAgICBsZXQgdG90YWxDbGlja3MgPSAwO1xyXG4gICAgKFBsYXllckMoKS50cmlnZ2VycyBhcyBzdHJpbmcpXHJcbiAgICAgICAgLnNwbGl0KFwiLFwiKVxyXG4gICAgICAgIC5tYXAoKHN0cjogc3RyaW5nKSA9PiBzdHIudHJpbSgpKVxyXG4gICAgICAgIC5maWx0ZXIoKHN0cikgPT4gc3RyICE9PSBcIlwiKVxyXG4gICAgICAgIC5mb3JFYWNoKCh0cmlnZ2VyKSA9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdG90YWxDbGlja3MgKz0gc3RyLnRvTG9jYWxlTG93ZXJDYXNlKCkubWF0Y2gobmV3IFJlZ0V4cCh0cmlnZ2VyLnRvTG9jYWxlTG93ZXJDYXNlKCksIFwiZ1wiKSk/Lmxlbmd0aCA/PyAwO1xyXG4gICAgICAgIH0pO1xyXG4gICAgcmV0dXJuIHRvdGFsQ2xpY2tzO1xyXG59XHJcblxyXG4vKipcclxuICogUGxheSBjbGlja3MgdG8gdGhlIHVzZXJcclxuICovXHJcbmZ1bmN0aW9uIFBsYXlDbGlja2VyU291bmQobnVtYmVyT2ZDbGlja3M6IG51bWJlciA9IDApOiB2b2lkXHJcbntcclxuICAgIGlmIChcclxuICAgICAgICBpc05hTihudW1iZXJPZkNsaWNrcylcclxuICAgICAgICB8fCBudW1iZXJPZkNsaWNrcyA8PSAwXHJcbiAgICAgICAgfHwgIVBsYXllckMoKS5lbmFibGVkXHJcbiAgICApXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIEFMTF9DTElDS1NbTWF0aC5taW4obnVtYmVyT2ZDbGlja3MgLSAxLCBBTExfQ0xJQ0tTLmxlbmd0aCAtIDEpXS5wbGF5KCk7XHJcbn1cclxuXHJcbmxldCBiY3hIb29rZWQgPSBmYWxzZTtcclxuZnVuY3Rpb24gSG9va0JDWENsaWNrZXIoKTogdm9pZFxyXG57XHJcbiAgICBpZiAod2luZG93LmJjeCAmJiAhYmN4SG9va2VkKVxyXG4gICAge1xyXG4gICAgICAgIHdpbmRvdy5iY3guZ2V0TW9kQXBpKFwiTVBBXCIpLm9uPy4oXCJiY3hMb2NhbE1lc3NhZ2VcIiwgKGRhdGE6IGFueSkgPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBkYXRhPy5tZXNzYWdlIGFzIHN0cmluZyB8IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgY29uc3QgcHJlZml4ID0gXCJbVm9pY2VdIFwiO1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICBQbGF5ZXJDKCkuZW5hYmxlZFxyXG4gICAgICAgICAgICAgICAgJiYgUGxheWVyQygpLmJjeFZvaWNlXHJcbiAgICAgICAgICAgICAgICAmJiBtZXNzYWdlPy5zdGFydHNXaXRoKHByZWZpeClcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBQbGF5Q2xpY2tlclNvdW5kKENsaWNrQ291bnQobWVzc2FnZS5zdWJzdHJpbmcocHJlZml4Lmxlbmd0aCkpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGJjeEhvb2tlZCA9IHRydWU7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDbGlja2VyTW9kdWxlIGV4dGVuZHMgTW9kdWxlXHJcbntcclxuICAgIC8vIEJDWCBob29rIG9ubHkgbG9hZHMgb25jZSwgdW5rbm93biBpZiBjYW4gdW5ob29rIGZvciBVbmxvYWQoKVxyXG4gICAgaGFzQmVlbkxvYWRlZCA9IGZhbHNlO1xyXG5cclxuICAgIGdldCBUaXRsZSgpOiBNb2R1bGVUaXRsZVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBNb2R1bGVUaXRsZS5DbGlja2VyO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBBY3Rpdml0aWVzKCk6IEN1c3RvbUFjdGl2aXR5W11cclxuICAgIHtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBOYW1lOiBcIkNsaWNrZXIxXCIsXHJcbiAgICAgICAgICAgICAgICBNYXhQcm9ncmVzczogNTAsXHJcbiAgICAgICAgICAgICAgICBQcmVyZXF1aXNpdGU6IFtcIlVzZUhhbmRzXCIsIFwiSG9sZGluZ0NsaWNrZXJcIl0sXHJcbiAgICAgICAgICAgICAgICBUYXJnZXRzOiBbe1xyXG4gICAgICAgICAgICAgICAgICAgIGdyb3VwOiBcIkl0ZW1IYW5kc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkNsaWNrIE9uY2VcIixcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25TZWxmOiBcIlNvdXJjZUNoYXJhY3RlciBwcmVzc2VzIHRoZSBidXR0b24gb24gUHJvbm91blBvc3Nlc3NpdmUgY2xpY2tlci5cIlxyXG4gICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICBJbWFnZTogXCJJY29ucy9BdWRpb09uLnBuZ1wiXHJcbiAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgIE5hbWU6IFwiQ2xpY2tlcjJcIixcclxuICAgICAgICAgICAgICAgIE1heFByb2dyZXNzOiA1MCxcclxuICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogW1wiVXNlSGFuZHNcIiwgXCJIb2xkaW5nQ2xpY2tlclwiXSxcclxuICAgICAgICAgICAgICAgIFRhcmdldHM6IFt7XHJcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IFwiSXRlbUhhbmRzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiQ2xpY2sgVHdpY2VcIixcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25TZWxmOiBcIlNvdXJjZUNoYXJhY3RlciBwcmVzc2VzIHRoZSBidXR0b24gb24gUHJvbm91blBvc3Nlc3NpdmUgY2xpY2tlciB0d2ljZS5cIlxyXG4gICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICBJbWFnZTogXCJJY29ucy9BdWRpb09uLnBuZ1wiXHJcbiAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgIE5hbWU6IFwiQ2xpY2tlcjNcIixcclxuICAgICAgICAgICAgICAgIE1heFByb2dyZXNzOiA1MCxcclxuICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogW1wiVXNlSGFuZHNcIiwgXCJIb2xkaW5nQ2xpY2tlclwiXSxcclxuICAgICAgICAgICAgICAgIFRhcmdldHM6IFt7XHJcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IFwiSXRlbUhhbmRzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiQ2xpY2sgVGhyaWNlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uU2VsZjogXCJTb3VyY2VDaGFyYWN0ZXIgcHJlc3NlcyB0aGUgYnV0dG9uIG9uIFByb25vdW5Qb3NzZXNzaXZlIGNsaWNrZXIgdGhyZWUgdGltZXMuXCJcclxuICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgSW1hZ2U6IFwiSWNvbnMvQXVkaW9Pbi5wbmdcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXTtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgU2V0dGluZ3MoKTogU2V0dGluZ1tdXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJlbmFibGVkXCIsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXHJcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhSXNIYXJkY29yZU9uKEMpLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiRW5hYmxlIGF1ZGl0b3J5IGNsaWNrZXJcIlxyXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJ0cmlnZ2Vyc1wiLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXHJcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllckMoQykuZW5hYmxlZCxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIn5jbGlja35cIixcclxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIlBocmFzZXMgdGhhdCB0cmlnZ2VyIHRoZSBjbGljazsgU2VwYXJhdGUgcGhyYXNlcyB3aXRoIGEgY29tbWFcIixcclxuICAgICAgICAgICAgICAgIHdpZHRoOiAzODQsXHJcbiAgICAgICAgICAgICAgICBtYXhDaGFyczogbnVsbFxyXG4gICAgICAgICAgICB9IGFzIFRleHRTZXR0aW5nLCB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNlbGZBdXRoZWRcIixcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcclxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyQyhDKS5lbmFibGVkICYmIFBsYXllckMoQykuYXV0aGVkR3JvdXAgIT09IFwiU2VsZlwiLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyB5b3VyIG93biBjaGF0LCBlbW90ZXMsICYgYWN0aW9ucyB0byB0cmlnZ2VyIHRoZSBjbGlja2VyXCJcclxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwiYXV0aGVkR3JvdXBcIixcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwib3B0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllckMoQykuZW5hYmxlZCxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIkZyaWVuZHNcIiBhcyBBdXRob3JpdHlHcm91cCxcclxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IFtcIlB1YmxpY1wiLCBcIkZyaWVuZHNcIiwgXCJXaGl0ZWxpc3RcIiwgXCJMb3ZlcnNcIiwgXCJPd25lcnNcIiwgXCJDbHVib3duZXJcIiwgXCJTZWxmXCJdLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiV2hvIHdpbGwgYmUgYWJsZSB0byB0cmlnZ2VyIHRoZSBjbGlja2VyXCIsXHJcbiAgICAgICAgICAgICAgICBsb29wOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIG9uU2V0KEMpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFBsYXllckMoQykuYXV0aGVkR3JvdXAgPT09IFwiU2VsZlwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgUGxheWVyQyhDKS5zZWxmQXV0aGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gYXMgT3B0aW9uU2V0dGluZywge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJiY3hWb2ljZVwiLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxyXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJDKEMpLmVuYWJsZWQgJiYgd2luZG93LmJjeCAmJiAhSXNIYXJkY29yZU9uKEMpLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBCQ1ggTGlzdGVuIHRvIG15IHZvaWNlIHJ1bGUgdG8gdHJpZ2dlciB0aGUgY2xpY2tlcjsgUmVxdWlyZXMgQkNYXCJcclxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmdcclxuICAgICAgICBdO1xyXG4gICAgfVxyXG5cclxuICAgIExvYWQoKTogdm9pZFxyXG4gICAge1xyXG4gICAgICAgIHN1cGVyLkxvYWQoKTtcclxuXHJcbiAgICAgICAgLy8gQ2hhdCwgd2hpc3BlciwgZW1vdGUsIGFuZCBhY3Rpb24gdHJpZ2dlcnNcclxuICAgICAgICBIb29rRnVuY3Rpb24oTW9kdWxlVGl0bGUuQ2xpY2tlciwgXCJDaGF0Um9vbU1lc3NhZ2VcIiwgMCwgKGFyZ3MsIG5leHQpID0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXJnc1swXTtcclxuICAgICAgICAgICAgLy8gSWYgY2xpY2tlciBpcyBub3QgZW5hYmxlZCBvciBpbnZhbGlkIGRhdGEsIHNraXBcclxuICAgICAgICAgICAgLy8gTWVzc2FnZSBzZW5kZXIgbm90IGF1dGhlZCwgc2tpcFxyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAhUGxheWVyQygpLmVuYWJsZWRcclxuICAgICAgICAgICAgICAgIHx8ICFhcmdzWzBdPy5UeXBlXHJcbiAgICAgICAgICAgICAgICB8fCAhYXJnc1swXT8uQ29udGVudFxyXG4gICAgICAgICAgICAgICAgfHwgIWFyZ3NbMF0/LlNlbmRlclxyXG4gICAgICAgICAgICAgICAgfHwgIUlzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAoZGF0YS5TZW5kZXIhLCBQbGF5ZXJDKCkuYXV0aGVkR3JvdXAgYXMgQXV0aG9yaXR5R3JvdXAsIFBsYXllckMoKS5zZWxmQXV0aGVkIGFzIGJvb2xlYW4pKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IGNsaWNrczogbnVtYmVyID0gMDtcclxuICAgICAgICAgICAgLy8gQ291bnQgdGhlIGNsaWNrcyBpbiBhbiBlbW90ZSBvciBjaGF0XHJcbiAgICAgICAgICAgIGlmIChkYXRhLlR5cGUgPT0gXCJDaGF0XCIgfHwgZGF0YS5UeXBlID09IFwiRW1vdGVcIiB8fCBkYXRhLlR5cGUgPT0gXCJXaGlzcGVyXCIpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNsaWNrcyA9IENsaWNrQ291bnQoUmVtb3ZlT09DQ29udGVudEZyb21NZXNzYWdlKGRhdGEuQ29udGVudCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIENvdW50IHRoZSBjbGlja3MgaW4gYW4gYWN0aW9uLCAoc3VwcG9ydCBjdXN0b20gYWN0aW9ucylcclxuICAgICAgICAgICAgaWYgKGRhdGEuVHlwZSA9PSBcIkFjdGlvblwiKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAvLyBCZWVwc1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuQ29udGVudCA9PSBcIkJlZXBcIilcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGlja3MgPSBDbGlja0NvdW50KChkYXRhPy5EaWN0aW9uYXJ5Py5maWx0ZXIoKHgpID0+ICh4IGFzIFRleHREaWN0aW9uYXJ5RW50cnkpLlRhZyA9PSBcIkJlZXBcIilbMF0gYXMgVGV4dERpY3Rpb25hcnlFbnRyeSk/LlRleHQgPz8gXCJcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBNQkNIIGFjdGlvbnNcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRhdGEuRGljdGlvbmFyeT8ucmVkdWNlKChhY2MsIGN1cnIpID0+IGFjYyB8fCAoKGN1cnIgYXMgYW55KS5UYWcgPT09IFwiTUlTU0lORyBURVhUIElOIFxcXCJJbnRlcmZhY2UuY3N2XFxcIjogXCIgJiYgKGN1cnIgYXMgYW55KS5UZXh0ID09PSBcIlxcdTIwMGNcIiksIGZhbHNlKSlcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGlja3MgPSBDbGlja0NvdW50KGRhdGEuQ29udGVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvLyBCQ1ggYWN0aW9uc1xyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNsaWNrcyA9IENsaWNrQ291bnQoKGRhdGE/LkRpY3Rpb25hcnk/LmZpbHRlcigoeCkgPT4gKHggYXMgVGV4dERpY3Rpb25hcnlFbnRyeSkuVGFnID09IGBNSVNTSU5HIFRFWFQgSU4gXCJJbnRlcmZhY2UuY3N2XCI6ICR7ZGF0YT8uQ29udGVudH1gKVswXSBhcyBUZXh0RGljdGlvbmFyeUVudHJ5KT8uVGV4dCA/PyBcIlwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gUGxheSB0aGUgY2xpY2tzIGlmIG5lZWRlZFxyXG4gICAgICAgICAgICBQbGF5Q2xpY2tlclNvdW5kKGNsaWNrcyk7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBIYW5kIGNsaWNrZXIgYWN0aXZpdHkgdHJpZ2dlclxyXG4gICAgICAgIEhvb2tGdW5jdGlvbihNb2R1bGVUaXRsZS5DbGlja2VyLCBcIkNoYXRSb29tTWVzc2FnZVwiLCAwLCAoYXJncywgbmV4dCkgPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5leHQoYXJncyk7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhcmdzWzBdO1xyXG4gICAgICAgICAgICAvLyBGb3Igc29tZSByZWFzb24gX2EuZmluZCBpcyBub3QgZGVmaW5lZFxyXG4gICAgICAgICAgICAvLyBJIGRvbid0IGtub3cgd2h5LCBvciB3aHkgbm90XHJcbiAgICAgICAgICAgIC8vIEJ1ZyBpcyBTY2hyw7ZkaW5nZXIncyBidWcsIGl0IG9ubHkgZXhpc3RzIHdoZW4gSSBkb24ndCBvYnNlcnZlIGl0XHJcbiAgICAgICAgICAgIC8vIExvZ2dpbmcgdGhlIGRhdGEgb2JqZWN0IGFuZCB0aGUgYnVnIHZhbmlzaGVzLi4uXHJcbiAgICAgICAgICAgIC8vIEVkaXQ6IE1hZGUgZnJhbWV3b3JrIHRvIGhhbmRsZSBmaW5kaW5nIGF0dHJpYnV0ZXMgZnJvbSBDaGF0TWVzc2FnZURpY3Rpb25hcnkuIE5vIGlzc3Vlcy4uLi4uIHNvIGZhci4uLlxyXG4gICAgICAgICAgICBjb25zdCBhY3Rpdml0eU5hbWUgPSBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJBY3Rpdml0eU5hbWVcIikgYXMgc3RyaW5nO1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICBQbGF5ZXJDKCkuZW5hYmxlZFxyXG4gICAgICAgICAgICAgICAgJiYgZGF0YS5UeXBlID09PSBcIkFjdGl2aXR5XCJcclxuICAgICAgICAgICAgICAgICYmIGFjdGl2aXR5TmFtZT8uc3RhcnRzV2l0aChcIk1QQV9DbGlja2VyXCIpXHJcbiAgICAgICAgICAgICAgICAmJiBJc01lbWJlck51bWJlckluQXV0aEdyb3VwKGRhdGEuU2VuZGVyISwgUGxheWVyQygpLmF1dGhlZEdyb3VwIGFzIEF1dGhvcml0eUdyb3VwLCBQbGF5ZXJDKCkuc2VsZkF1dGhlZCBhcyBib29sZWFuKVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIFBsYXlDbGlja2VyU291bmQoTnVtYmVyKGFjdGl2aXR5TmFtZS5zbGljZSgtMSkpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBIb29rIGludG8gQkNYIGxpc3RlbiB0byB2b2ljZSwgbWF5IG5vdCBiZSBsb2FkZWQgcmlnaHQgYXdheSwgd2FpdCAxNSBzZWNvbmRzXHJcbiAgICAgICAgaWYgKCF0aGlzLmhhc0JlZW5Mb2FkZWQpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBIb29rQkNYQ2xpY2tlcigpO1xyXG4gICAgICAgICAgICBjb25zdCBpbnZlcnZhbCA9IHNldEludGVydmFsKCgpID0+XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmIChiY3hIb29rZWQpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnZlcnZhbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgSG9va0JDWENsaWNrZXIoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgNjAwMDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmhhc0JlZW5Mb2FkZWQgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIFVubG9hZCgpOiB2b2lkXHJcbiAgICB7XHJcbiAgICAgICAgc3VwZXIuVW5sb2FkKCk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgSG9va0Z1bmN0aW9uIH0gZnJvbSBcIi4uL3V0aWwvc2RrXCI7XHJcbmltcG9ydCB7IE1vZHVsZSwgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi9fbW9kdWxlXCI7XHJcbmltcG9ydCB7IEZpbmRDaGFyYWN0ZXJJblJvb20sIEdldE1QQU1lc3NhZ2VGcm9tQ2hhdCwgSG9va2VkTWVzc2FnZSwgaG9va2VkTWVzc2FnZXMsIE1QQU1lc3NhZ2VDb250ZW50LCBTZW5kTVBBTWVzc2FnZSB9IGZyb20gXCIuLi91dGlsL21lc3NhZ2luZ1wiO1xyXG5cclxuLyoqXHJcbiAqIFN5bmMgYWxsIG9mIHlvdXIgY3VycmVudCBzZXR0aW5ncyB3aXRoIGV2ZXJ5b25lIGVsc2VcclxuICogQHBhcmFtIHJlcGx5IC0gSWYgd2Ugd2FudCBvdGhlcnMgdG8gc2hhcmUgdGhlaXIgc2V0dGluZ3MgYmFja1xyXG4gKiBAcGFyYW0gdGFyZ2V0IC0gU2hhcmUgb25seSB0byB0aGlzIG9uZSBNZW1iZXJOdW1iZXJcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBTZXR0aW5nU3luYyhyZXBseTogYm9vbGVhbiA9IGZhbHNlLCB0YXJnZXQ/OiBudW1iZXIpOiB2b2lkXHJcbntcclxuICAgIFNlbmRNUEFNZXNzYWdlKHtcclxuICAgICAgICBtZXNzYWdlOiBcIlNldHRpbmdTeW5jXCIsXHJcbiAgICAgICAgc2V0dGluZ3M6IFBsYXllci5NUEEsXHJcbiAgICAgICAgcmVwbHk6IHJlcGx5XHJcbiAgICB9LCB0YXJnZXQpO1xyXG59XHJcblxyXG4vKipcclxuICogU3luYyBhbGwgb2YgeW91ciBjdXJyZW50IHNldHRpbmdzIG9mIGEgZ2l2ZW4gY2F0ZWdvcnkgd2l0aCBvdGhlcnNcclxuICogQHBhcmFtIGNhdGVnb3J5IC0gV2hpY2ggTW9kdWxlVGl0bGUgY2F0ZWdvcnkgdG8gc2hhcmVcclxuICogQHBhcmFtIHRhcmdldCAtIFNoYXJlIG9ubHkgdG8gdGhpcyBvbmUgTWVtYmVyTnVtYmVyXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gQ2F0ZWdvcnlTeW5jKGNhdGVnb3J5OiBNb2R1bGVUaXRsZSwgdGFyZ2V0PzogbnVtYmVyKTogdm9pZFxyXG57XHJcbiAgICBTZW5kTVBBTWVzc2FnZSh7XHJcbiAgICAgICAgbWVzc2FnZTogXCJDYXRlZ29yeVN5bmNcIixcclxuICAgICAgICBjYXRlZ29yeTogY2F0ZWdvcnksXHJcbiAgICAgICAgdmFsdWU6IFBsYXllci5NUEFbY2F0ZWdvcnldXHJcbiAgICB9LCB0YXJnZXQpO1xyXG59XHJcblxyXG4vKipcclxuICogU3luYyBvbmx5IGEgc2luZ2xlIHJlY29yZCBmcm9tIGEgZ2l2ZW4gY2F0ZWdvcnkgd2l0aCBvdGhlcnNcclxuICogQHBhcmFtIGNhdGVnb3J5IC0gV2hpY2ggTW9kdWxlVGl0bGUgY2F0ZWdvcnkgdG8gc2hhcmVcclxuICogQHBhcmFtIHJlY29yZCAtIFJlY29yZCB3aXRoaW4gTW9kdWxlVGl0bGUgeW91IHdhbnQgdG8gc2hhcmVcclxuICogQHBhcmFtIHRhcmdldCAtIFNoYXJlIG9ubHkgdG8gdGhpcyBvbmUgTWVtYmVyTnVtYmVyXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gUmVjb3JkU3luYyhjYXRlZ29yeTogTW9kdWxlVGl0bGUsIHJlY29yZDogc3RyaW5nLCB0YXJnZXQ/OiBudW1iZXIpOiB2b2lkXHJcbntcclxuICAgIFNlbmRNUEFNZXNzYWdlKHtcclxuICAgICAgICBtZXNzYWdlOiBcIlJlY29yZFN5bmNcIixcclxuICAgICAgICBjYXRlZ29yeTogY2F0ZWdvcnksXHJcbiAgICAgICAgcmVjb3JkOiByZWNvcmQsXHJcbiAgICAgICAgdmFsdWU6IFBsYXllci5NUEFbY2F0ZWdvcnldW3JlY29yZF1cclxuICAgIH0sIHRhcmdldCk7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBEYXRhU3luY01vZHVsZSBleHRlbmRzIE1vZHVsZVxyXG57XHJcbiAgICBnZXQgVGl0bGUoKTogTW9kdWxlVGl0bGVcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gTW9kdWxlVGl0bGUuRGF0YVN5bmM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IFN5bmNMaXN0ZW5lcnMoKTogSG9va2VkTWVzc2FnZVtdXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbW9kdWxlOiBNb2R1bGVUaXRsZS5EYXRhU3luYyxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiU2V0dGluZ1N5bmNcIixcclxuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKHNlbmRlcjogQ2hhcmFjdGVyLCBjb250ZW50OiBNUEFNZXNzYWdlQ29udGVudCk6IHZvaWRcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBzZW5kZXIuTVBBID0gY29udGVudC5zZXR0aW5ncztcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudC5yZXBseSlcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNldHRpbmdTeW5jKGZhbHNlLCBzZW5kZXIuTWVtYmVyTnVtYmVyKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgIG1vZHVsZTogTW9kdWxlVGl0bGUuRGF0YVN5bmMsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkNhdGVnb3J5U3luY1wiLFxyXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoc2VuZGVyOiBDaGFyYWN0ZXIsIGNvbnRlbnQ6IE1QQU1lc3NhZ2VDb250ZW50KTogdm9pZFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghc2VuZGVyLk1QQSlcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNldHRpbmdTeW5jKGZhbHNlLCBzZW5kZXIuTWVtYmVyTnVtYmVyKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VuZGVyLk1QQVtjb250ZW50LmNhdGVnb3J5XSA9IGNvbnRlbnQudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICBtb2R1bGU6IE1vZHVsZVRpdGxlLkRhdGFTeW5jLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJSZWNvcmRTeW5jXCIsXHJcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uIChzZW5kZXI6IENoYXJhY3RlciwgY29udGVudDogTVBBTWVzc2FnZUNvbnRlbnQpOiB2b2lkXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzZW5kZXI/Lk1QQT8uW2NvbnRlbnQuY2F0ZWdvcnldKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgU2V0dGluZ1N5bmMoZmFsc2UsIHNlbmRlci5NZW1iZXJOdW1iZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZW5kZXIuTVBBW2NvbnRlbnQuY2F0ZWdvcnldW2NvbnRlbnQucmVjb3JkXSA9IGNvbnRlbnQudmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXTtcclxuICAgIH1cclxuXHJcbiAgICBMb2FkKCk6IHZvaWRcclxuICAgIHtcclxuICAgICAgICBzdXBlci5Mb2FkKCk7XHJcblxyXG4gICAgICAgIC8vIE1QQSBsb2FkZWQgaW4gYSBjaGF0cm9vbSwgU3luYyB3aXRoIG90aGVycyBpbiB0aGUgcm9vbVxyXG4gICAgICAgIGlmIChDaGF0Um9vbUNoYXJhY3Rlci5sZW5ndGggIT09IDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBTZXR0aW5nU3luYyh0cnVlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFdoZW4gam9pbmluZyBhIHJvb20sIHN5bmMgTVBBIHNldHRpbmdzIHdpdGggZXZlcnlvbmUgZWxzZVxyXG4gICAgICAgIEhvb2tGdW5jdGlvbihNb2R1bGVUaXRsZS5EYXRhU3luYywgXCJDaGF0Um9vbVN5bmNcIiwgMCwgKGFyZ3MsIG5leHQpID0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBuZXh0KGFyZ3MpO1xyXG4gICAgICAgICAgICBTZXR0aW5nU3luYyh0cnVlKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gU3luYyByZXF1ZXN0LCBoYW5kbGUgYW5kIHJlcGx5IGlmIG5lZWRlZFxyXG4gICAgICAgIEhvb2tGdW5jdGlvbihNb2R1bGVUaXRsZS5EYXRhU3luYywgXCJDaGF0Um9vbU1lc3NhZ2VcIiwgMCwgKGFyZ3MsIG5leHQpID0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXJnc1swXTtcclxuICAgICAgICAgICAgY29uc3QgY29udGVudCA9IEdldE1QQU1lc3NhZ2VGcm9tQ2hhdChkYXRhKTtcclxuICAgICAgICAgICAgaWYgKCFjb250ZW50KVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBzZW5kZXIgPSBGaW5kQ2hhcmFjdGVySW5Sb29tKGRhdGEuU2VuZGVyID8/IFwiXCIsIHsgTWVtYmVyTnVtYmVyOiB0cnVlLCBOYW1lOiBmYWxzZSwgTmlja05hbWU6IGZhbHNlIH0pO1xyXG4gICAgICAgICAgICBpZiAoIXNlbmRlcilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEhhbmRsZSB0aGUgZGF0YSBsaXN0ZW5lcnNcclxuICAgICAgICAgICAgaG9va2VkTWVzc2FnZXMuZm9yRWFjaCgoaG9vaykgPT5cclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbnRlbnQubWVzc2FnZSA9PT0gaG9vay5tZXNzYWdlKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGhvb2suYWN0aW9uKHNlbmRlciwgY29udGVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIFVubG9hZCgpOiB2b2lkXHJcbiAgICB7XHJcbiAgICAgICAgc3VwZXIuVW5sb2FkKCk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgSG9va0Z1bmN0aW9uIH0gZnJvbSBcIi4uL3V0aWwvc2RrXCI7XHJcbmltcG9ydCB7IE1vZHVsZSwgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi9fbW9kdWxlXCI7XHJcbi8vIGltcG9ydCB7IFVwZGF0ZUVsZW1lbnRWYWx1ZXMgfSBmcm9tIFwiLi9zZXR0aW5nc1wiO1xyXG5cclxuY29uc3QgUGxheWVyUDogKEM/OiBDaGFyYWN0ZXIpID0+IE1QQVJlY29yZCA9IChDOiBDaGFyYWN0ZXIgPSBQbGF5ZXIpID0+XHJcbntcclxuICAgIHJldHVybiBDLk1QQT8uW01vZHVsZVRpdGxlLlByb2ZpbGVdID8/IHt9O1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIElzSGFyZGNvcmVPbihDOiBDaGFyYWN0ZXIpOiBib29sZWFuXHJcbntcclxuICAgIHJldHVybiAoQy5NUEE/LltNb2R1bGVUaXRsZS5Qcm9maWxlXS5oYXJkY29yZSBhcyBib29sZWFuIHwgdW5kZWZpbmVkKSA/PyBmYWxzZTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIEdldFJlY29yZCh0aXRsZTogTW9kdWxlVGl0bGUsIEM6IENoYXJhY3RlciA9IFBsYXllcik6IE1QQVJlY29yZFxyXG57XHJcbiAgICByZXR1cm4gQy5NUEE/Llt0aXRsZV0gPz8ge307XHJcbn1cclxuXHJcbi8vIE1ha2Ugc3VyZSBub3QgaW4gQkNYIGJhbm5lZCB3b3JkcyAvIHBocmFzZXNcclxuZXhwb3J0IGNvbnN0IEdBUkJMRV9QSFJBU0VTID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICBIdW1hbjogXCJIbW1nbVwiLFxyXG4gICAgQ3VzdG9tOiBcIlwiLFxyXG4gICAgQnVubnk6IFwiUG9uXCIsXHJcbiAgICBDYXQ6IFwiTWV3XCIsXHJcbiAgICBDb3c6IFwiTW9vXCIsXHJcbiAgICBEb2c6IFwiQXJmXCIsXHJcbiAgICBGb3g6IFwiQ2hpcnBcIixcclxuICAgIE1vdXNlOiBcIlNxZWFrXCIsXHJcbiAgICBQb255OiBcIk5laWdoXCIsXHJcbiAgICBXb2xmOiBcIkdycnJcIlxyXG59KTtcclxuXHJcbmV4cG9ydCBjb25zdCBQRVRfSEVBUklORyA9IE9iamVjdC5mcmVlemUoe1xyXG4gICAgQWxsOiBbXCJvd25lclwiLCBcInBldFwiLCBcIm1hc3RlclwiLCBcIm1pc3RyZXNzXCIsIFwibWlzc1wiLCBcInNpclwiLCBcInBhd1wiLCBcInNpdFwiLCBcImNvbWVcIiwgXCJkb3duXCIsIFwidXBcIixcclxuICAgICAgICBcInN0YXlcIiwgXCJ3YXRlclwiLCBcImZvb2RcIiwgXCJraWJibGVcIiwgXCJlYXRcIiwgXCJ0cmVhdFwiLCBcImRyaW5rXCIsIFwidG95XCIsIFwicGxheVwiLCBcImxlYXNoXCIsIFwid2Fsa1wiLFxyXG4gICAgICAgIFwid2Fsa2llc1wiLCBcImJlZFwiLCBcInNsZWVwXCIsIFwiY3V0aWVcIiwgXCJhZG9yYWJsZVwiLCBcInRveVwiLCBcInBsYXlcIiwgXCJraWJibGVcIiwgXCJnb29kXCIsIFwiYmFkXCIsXHJcbiAgICAgICAgXCJsYXBcIiwgXCJzcGVha1wiLCBcImh1c2hcIiwgXCJxdWlldFwiLCBcImh1c2hcIiwgXCJhbGwgZm91cnNcIiwgXCJhbGwtZm91cnNcIl0sXHJcbiAgICBIdW1hbjogW10sXHJcbiAgICBDdXN0b206IFtdLFxyXG4gICAgQnVubnk6IFtcImJ1blwiLCBcImJ1bm55XCIsIFwiY2Fycm90XCIsIFwiaG9wXCIsIFwianVtcFwiXSxcclxuICAgIENhdDogW1wiY2F0XCIsIFwia2l0dHlcIiwgXCJraXR0ZW5cIiwgXCJjYXRuaXBcIl0sXHJcbiAgICBDb3c6IFtcIm1pbGtcIiwgXCJtaWxraW5nXCIsIFwidXR0ZXJcIiwgXCJicmVhc3RcIiwgXCJncmFzc1wiLCBcIm1vb1wiXSxcclxuICAgIERvZzogW1wiY2FnZVwiLCBcImtlbm5lbFwiLCBcInB1cFwiLCBcInB1cHB5XCIsIFwiZG9nXCIsIFwiZG9nZ3lcIiwgXCJib25lXCIsIFwiZmV0Y2hcIl0sXHJcbiAgICBGb3g6IFtcInRyYXBcIiwgXCJidW5cIiwgXCJidW5ueVwiLCBcImJvbmVcIiwgXCJmb3hcIiwgXCJmb3h5XCJdLFxyXG4gICAgTW91c2U6IFtcIm1vdXNlXCJdLFxyXG4gICAgUG9ueTogW1wicG9ueVwiLCBcIm1hcmVcIiwgXCJzdGFsbGlvblwiLCBcImJyaWRsZVwiLCBcImhvb2ZcIiwgXCJob292ZXNcIiwgXCJ0cm90XCIsIFwic3RhbGxcIiwgXCJoYXlcIiwgXCJ3b2FoXCIsXHJcbiAgICAgICAgXCJzdG9tcFwiLCBcImNhbG1cIiwgXCJlYXN5XCIsIFwic2xvd1wiXSxcclxuICAgIFdvbGY6IFtcImJvbmVcIiwgXCJ3b2xmXCJdXHJcbn0pO1xyXG5cclxuZXhwb3J0IGNsYXNzIFByb2ZpbGVNb2R1bGUgZXh0ZW5kcyBNb2R1bGVcclxue1xyXG4gICAgZ2V0IFRpdGxlKCk6IE1vZHVsZVRpdGxlXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIE1vZHVsZVRpdGxlLlByb2ZpbGU7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IFNldHRpbmdzKCk6IFNldHRpbmdbXVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwidHlwZVwiLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJvcHRpb25cIixcclxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcclxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IE9iamVjdC5rZXlzKEdBUkJMRV9QSFJBU0VTKSxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIkh1bWFuXCIsXHJcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJVc2UgYSBwcmVzZXQgcHJvZmlsZSBvciBtYWtlIHlvdXIgb3duXCIsXHJcbiAgICAgICAgICAgICAgICBsb29wOiB0cnVlXHJcbiAgICAgICAgICAgICAgICAvLyBvblNldChDKVxyXG4gICAgICAgICAgICAgICAgLy8ge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIFBsYXllclAoQykuZ2FyYmxlUGhyYXNlcyA9IEdBUkJMRV9QSFJBU0VTW1BsYXllclAoQykudHlwZV07XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgVXBkYXRlRWxlbWVudFZhbHVlcygpO1xyXG4gICAgICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICB9IGFzIE9wdGlvblNldHRpbmcsIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwicGV0SGVhcmluZ1wiLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxyXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiV2hpbGUgZGVhZmVuZWQgY2VydGFpbiBwZXQga2V5d29yZHMgY2FuIGJlIHBpY2tlZCB1cFwiXHJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCAvKiB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcImdhcmJsZVBocmFzZXNcIixcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxyXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gUGxheWVyUChDKS50eXBlID09PSBcIkN1c3RvbVwiLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IEdBUkJMRV9QSFJBU0VTLkh1bWFuLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiUGhyYXNlcyB5b3Ugc3BlYWsgd2hlbiB1bmFibGUgdG8gYmUgdW5kZXJzdG9vZFwiLFxyXG4gICAgICAgICAgICAgICAgbWF4Q2hhcnM6IDEwMjQsXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogNDAwXHJcbiAgICAgICAgICAgIH0gYXMgVGV4dFNldHRpbmcsICove1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJoYXJkY29yZVwiLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxyXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiRW5hYmxlIGhhcmRjb3JlIG1vZGU7IFdpbGwgc2V0IGNlcnRhaW4gc2V0dGluZ3MgYW5kIHByZXZlbnQgY2hhbmdpbmcgdGhlbSBiYWNrXCIsXHJcbiAgICAgICAgICAgICAgICBvblNldChDKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIEdldFJlY29yZChNb2R1bGVUaXRsZS5DbGlja2VyLCBDKS5lbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBHZXRSZWNvcmQoTW9kdWxlVGl0bGUuQ2xpY2tlciwgQykuYmN4Vm9pY2UgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIEdldFJlY29yZChNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0LCBDKS5lbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBHZXRSZWNvcmQoTW9kdWxlVGl0bGUuVmlydHVhbFBldCwgQykubm9IYW5kcyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIEdldFJlY29yZChNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9ucywgQykuZW5hYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgR2V0UmVjb3JkKE1vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zLCBDKS5mb29kTk9XID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBHZXRSZWNvcmQoTW9kdWxlVGl0bGUuVmlydHVhbFBldENvbmRpdGlvbnMsIEMpLnRpbnQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIEdldFJlY29yZChNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9ucywgQykucGFzc291dCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgR2V0UmVjb3JkKE1vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zLCBDKS5hZmZlY3Rpb25Ta2lsbEJ1ZmZzID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgR2V0UmVjb3JkKE1vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zLCBDKS5hZmZlY3Rpb25Ta2lsbERlYnVmZnMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIEdldFJlY29yZChNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9ucywgQykuaGVhcmluZ0xvc3MgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIEdldFJlY29yZChNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9ucywgQykuc2xvd0xlYXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmdcclxuICAgICAgICBdO1xyXG4gICAgfVxyXG5cclxuICAgIExvYWQoKTogdm9pZFxyXG4gICAge1xyXG4gICAgICAgIHN1cGVyLkxvYWQoKTtcclxuXHJcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiU3BlZWNoVHJhbnNmb3JtR2FnR2FyYmxlXCIsIDUsIChbdGV4dCwgaW50ZW5zaXR5LCBpZ25vcmVPT0MsIC4uLmFyZ3NdLCBuZXh0KSA9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy8gTUJTIGFkZHMgQ2hhcmFjdGVyIHBhcmFtZXRlciB0byB0aGlzLCBjYW4gdXNlIGFzIGFuIGV4dHJhIGNoZWNrIGZvciB3aGVuIHRvIGFwcGx5XHJcbiAgICAgICAgICAgIGNvbnN0IEMgPSAoYXJncyBhcyBbQz86IENoYXJhY3RlciwgLi4uYXJnczogdW5rbm93bltdXSlbMF07XHJcblxyXG4gICAgICAgICAgICAvLyBBcmUgd2UgZ2FnZ2luZyBvciBkZWFmZW5pbmc/XHJcbiAgICAgICAgICAgIC8vIE5vdCBkZWFmZW5pbmcgc28gc2tpcFxyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAoQyA/IEMuTWVtYmVyTnVtYmVyICE9PSBQbGF5ZXIuTWVtYmVyTnVtYmVyIDogZmFsc2UpXHJcbiAgICAgICAgICAgICAgICB8fCAhUGxheWVyLklzRGVhZigpXHJcbiAgICAgICAgICAgICAgICB8fCBQbGF5ZXJQKCkucGV0SGVhcmluZyA9PT0gZmFsc2VcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChbdGV4dCwgaW50ZW5zaXR5LCBpZ25vcmVPT0MsIC4uLmFyZ3NdKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gU3BsaXQgdGhlIGlucHV0IHRleHQgaW50byBkaWZmZXJlbnQgc3Vic3RyaW5ncyBleGx1ZGluZyB0aGUgd29yZHMgeW91IHdhbnQgdG8ga2VlcFxyXG4gICAgICAgICAgICAvLyBTdGVwIDE6IEdldCB0aGUgd29yZHMgeW91IHdhbnQgdG8ga2VlcCBpZiBhbnlcclxuICAgICAgICAgICAgY29uc3QgcGhyYXNlc1RvS2VlcCA9IFBFVF9IRUFSSU5HLkFsbC5jb25jYXQoUEVUX0hFQVJJTkdbUGxheWVyUCgpPy50eXBlXSk7XHJcbiAgICAgICAgICAgIC8vIEFkZCB0aGUgUGxheWVyJ3MgbmFtZSBhcyBhIHdvcmQgdGhleSBjYW4gaGVhclxyXG4gICAgICAgICAgICBwaHJhc2VzVG9LZWVwLnB1c2goKFBsYXllci5OaWNrbmFtZSB8fCBQbGF5ZXIuTmFtZSkudG9Mb2NhbGVMb3dlckNhc2UoKSk7XHJcbiAgICAgICAgICAgIC8vIEFkZCB0aGUgUGxheWVyJ3MgZ2VuZGVyIGFzIGluIHRoZSBleGFtcGxlLCBcIkdvb2QgZ2lybFwiXHJcbiAgICAgICAgICAgIHBocmFzZXNUb0tlZXAucHVzaChQbGF5ZXIuR2V0UHJvbm91bnMoKSA9PT0gXCJTaGVIZXJcIiA/IFwiZ2lybFwiIDogXCJib3lcIik7XHJcblxyXG4gICAgICAgICAgICAvLyBTdGVwIDI6IEZpbmQgdGhlIG1hdGNoZXMgaWYgdGhleSBleGlzdCBpbiB0aGUgb3JnaW5hbCBtZXNzYWdlXHJcbiAgICAgICAgICAgIC8vIENoZWNrIGxvd2VyIGNhc2UgY3V6IHRoZSBwaHJhc2Ugd2UgbG9va2luZyBmb3IgaW4gbG93ZXIgY2FzZSwgZG9lcyBub3QgbWF0dGVyIGZvciBmaW5hbCByZXN1bHQsIG9ubHkgd2FudCBwb3NpdGlvblxyXG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gdGV4dC50b0xvY2FsZUxvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICBjb25zdCBmb3VuZFBocmFzZXM6IHsgc3RhcnQ6IG51bWJlcjsgbGVuOiBudW1iZXIgfVtdID0gW107XHJcbiAgICAgICAgICAgIHBocmFzZXNUb0tlZXAuZm9yRWFjaCgocGhyYXNlKSA9PlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByZWdFeHAgPSBuZXcgUmVnRXhwKGBcXFxcYiR7cGhyYXNlfVxcXFxiYCwgXCJnXCIpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVnZXhNYXRjaGVzID0gWy4uLm1lc3NhZ2UubWF0Y2hBbGwocmVnRXhwKV07XHJcbiAgICAgICAgICAgICAgICByZWdleE1hdGNoZXMuZm9yRWFjaCgobWF0Y2gpID0+XHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm91bmRQaHJhc2VzLnB1c2goeyBzdGFydDogbWF0Y2guaW5kZXgsIGxlbjogcGhyYXNlLmxlbmd0aCB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIE5vIG1hdGNoZXMgZm91bmQgc28gY2FuIHNraXAgYW5kIGVhcmx5IHJldHVyblxyXG4gICAgICAgICAgICBpZiAoZm91bmRQaHJhc2VzLmxlbmd0aCA9PT0gMClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoW3RleHQsIGludGVuc2l0eSwgaWdub3JlT09DLCAuLi5hcmdzXSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFNvcnQgc28gdGhhdCBpdCBpcyBjb25zdHJ1Y3RlZCBpbiB0aGUgY29ycmVjdCBvcmRlciB3aGVuIHB1dCBiYWNrIHRvZ2V0aGVyOyBsb3dlciBzdGFydGluZyBpbmRleGVzIGZpcnN0XHJcbiAgICAgICAgICAgIGZvdW5kUGhyYXNlcy5zb3J0KChhLCBiKSA9PiBhLnN0YXJ0IC0gYi5zdGFydCk7XHJcbiAgICAgICAgICAgIC8vIFJlbW92ZSBhbnkgcGhyYXNlcyB0aGF0IGFyZSBmb3VuZCB3aXRoaW4gT09DIHNwZWVjaCByYW5nZTtcclxuICAgICAgICAgICAgY29uc3Qgb29jUmFuZ2VzID0gU3BlZWNoR2V0T09DUmFuZ2VzKHRleHQpO1xyXG4gICAgICAgICAgICBvb2NSYW5nZXMuZm9yRWFjaCgocmFuZ2UpID0+XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSBmb3VuZFBocmFzZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGhyYXNlID0gZm91bmRQaHJhc2VzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBpZiB0aGUgcGhyYXNlIHN0YXJ0cyBvciBlbmRzIHdpdGhpbiB0aGUgb29jIHJhbmdlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAocmFuZ2Uuc3RhcnQgPCBwaHJhc2Uuc3RhcnQgJiYgcGhyYXNlLnN0YXJ0IDwgcmFuZ2Uuc3RhcnQgKyByYW5nZS5sZW5ndGgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8IChyYW5nZS5zdGFydCA8IHBocmFzZS5zdGFydCArIHBocmFzZS5sZW4gJiYgcGhyYXNlLnN0YXJ0ICsgcGhyYXNlLmxlbiA8IHJhbmdlLnN0YXJ0ICsgcmFuZ2UubGVuZ3RoKVxyXG4gICAgICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvdW5kUGhyYXNlcy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIE1heSBuZWVkIHRvIGNoZWNrIHRoYXQgb25lIHBocmFzZSBkb2VzIG5vdCBzdGFydCBiZWZvcmUgYW5vdGhlciBlbmRzLCBhbmQgaWYgc28gbWVyZ2UgaW50byBhIHNpbmdsZSBsb25nZXIgZW50cnlcclxuXHJcbiAgICAgICAgICAgIGxldCBsYXN0SW5kZXggPSAwO1xyXG4gICAgICAgICAgICBsZXQgZmluYWxUZXh0ID0gXCJcIjtcclxuICAgICAgICAgICAgZm91bmRQaHJhc2VzLmZvckVhY2goKGZvdW5kKSA9PlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAvLyBCZWZvcmUgdGhlIHBocmFzZSB0byBvbWl0XHJcbiAgICAgICAgICAgICAgICBmaW5hbFRleHQgKz0gbmV4dChbdGV4dC5zdWJzdHJpbmcobGFzdEluZGV4LCBmb3VuZC5zdGFydCksIGludGVuc2l0eSwgaWdub3JlT09DLCAuLi5hcmdzXSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gUGhyYXNlIHdlIHdhbnQgdG8gb21pdFxyXG4gICAgICAgICAgICAgICAgbGFzdEluZGV4ID0gZm91bmQuc3RhcnQgKyBmb3VuZC5sZW47XHJcbiAgICAgICAgICAgICAgICBmaW5hbFRleHQgKz0gdGV4dC5zdWJzdHJpbmcoZm91bmQuc3RhcnQsIGZvdW5kLnN0YXJ0ICsgZm91bmQubGVuKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vIExhc3Qgb2YgdGhlIHRleHQgdG8gZ2FyYmxlIHVwXHJcbiAgICAgICAgICAgIGZpbmFsVGV4dCArPSBuZXh0KFt0ZXh0LnN1YnN0cmluZyhsYXN0SW5kZXgpLCBpbnRlbnNpdHksIGlnbm9yZU9PQywgLi4uYXJnc10pO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGZpbmFsVGV4dDtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBMb2NhbGl6ZWRUZXh0IH0gZnJvbSBcIi4uL2xvY2FsaXphdGlvbi9sb2NhbGl6YXRpb25cIjtcclxuaW1wb3J0IHsgRXhwb3J0U2V0dGluZ3NUb0NsaXBib2FyZCwgSW1wb3J0U2V0dGluZ3NGcm9tQ2xpcGJvYXJkLCBSZXNldFN0b3JhZ2UsIFNhdmVTdG9yYWdlIH0gZnJvbSBcIi4uL3V0aWwvc3RvcmFnZVwiO1xyXG5pbXBvcnQgeyBJQ09OUyB9IGZyb20gXCIuLi91dGlsL2NvbnN0YW50c1wiO1xyXG5pbXBvcnQgeyBJc0Rpc3BsYXlTZXR0aW5nLCBJc09wdGlvblNldHRpbmcsIElzQ2hlY2tib3hTZXR0aW5nLCBJc1RleHRTZXR0aW5nLCBJc051bWJlclNldHRpbmcgfSBmcm9tIFwiLi4vdXRpbC9zZXR0aW5nVHlwZXNcIjtcclxuaW1wb3J0IHsgc2V0dGluZ3MgYXMgZGVmYXVsdFNldHRpbmdzIH0gZnJvbSBcIi4uL3V0aWwvcmVnaXN0ZXJNb2R1bGVzXCI7XHJcbmltcG9ydCB7IEFVVEhPUklUWV9HUk9VUF9PUFRJT05TLCBBdXRob3JpdHlHcm91cCwgQXV0aG9yaXR5SXNDb21wYXJpc29uVG9DaGFyYWN0ZXIsIElzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAgfSBmcm9tIFwiLi4vdXRpbC9hdXRob3JpdHlcIjtcclxuaW1wb3J0IHsgU2VuZE1QQU1lc3NhZ2UgfSBmcm9tIFwiLi4vdXRpbC9tZXNzYWdpbmdcIjtcclxuaW1wb3J0IHsgTW9kdWxlLCBNb2R1bGVUaXRsZSB9IGZyb20gXCIuL19tb2R1bGVcIjtcclxuaW1wb3J0IHsgTGV2ZWxTeW5jIH0gZnJvbSBcIi4vdmlydHVhbFBldFwiO1xyXG5cclxubGV0IHNldHRpbmdzRWRpdGVkID0gZmFsc2U7XHJcbmxldCBzZXR0aW5nQ2hhcjogUGxheWVyQ2hhcmFjdGVyIHwgbnVsbCA9IG51bGw7XHJcbmV4cG9ydCBmdW5jdGlvbiBTZXRTZXR0aW5nQ2hhcihjaGFyYWN0ZXI6IFBsYXllckNoYXJhY3Rlcik6IHZvaWRcclxue1xyXG4gICAgc2V0dGluZ3NFZGl0ZWQgPSBmYWxzZTtcclxuICAgIHNldHRpbmdDaGFyID0gY2hhcmFjdGVyO1xyXG59XHJcblxyXG4vLyBTaXplIG9mIHRoZSBjYW52YXMgaW4gZ2FtZVxyXG5jb25zdCBDQU5WQVNfV0lEVEggPSAyMDAwO1xyXG5jb25zdCBfQ0FOVkFTX0hFSUdIVCA9IDEwMDA7XHJcblxyXG4vLyBFeGl0IGJ1dHRvbiBwb3Npc3Rpb24gb24gY2FudmFzXHJcbmNvbnN0IEVYSVRfUE9TSVNUSU9OID0gWzE4MTUsIDc1LCA5MCwgOTBdIGFzIGNvbnN0O1xyXG5cclxuLy8gTWVudSBsYXlvdXQgdmFsdWVzXHJcbmNvbnN0IEJVVFRPTl9NQVhfTlVNQkVSID0gNztcclxuY29uc3QgQlVUVE9OX1dJRFRIID0gNDAwO1xyXG5jb25zdCBCVVRUT05fSEVJR0hUID0gOTA7XHJcbmNvbnN0IEJVVFRPTl9UT1AgPSAxNjA7XHJcbmNvbnN0IEJVVFRPTl9MRUZUID0gNTAwO1xyXG5jb25zdCBCVVRUT05fR0FQID0gMjA7XHJcbmNvbnN0IEJVVFRPTl9URVhUX1BBRERJTkcgPSAyMDtcclxuXHJcbi8vIFBsYXllciBvbmx5IGJ1dHRvbnNcclxuY29uc3QgUkVTRVRfUE9TSVRJT04gPSBbMTAwLCA3MDAsIDM1MCwgNzVdIGFzIGNvbnN0O1xyXG5jb25zdCBBTEVSVF9QT1NJVElPTiA9IFtcclxuICAgIFJFU0VUX1BPU0lUSU9OWzBdLFxyXG4gICAgUkVTRVRfUE9TSVRJT05bMV0gLSBSRVNFVF9QT1NJVElPTlszXSxcclxuICAgIFJFU0VUX1BPU0lUSU9OWzJdXHJcbl0gYXMgY29uc3Q7XHJcbmxldCBzaG93U2V0dGluZ3NBbGVydDogbnVtYmVyID0gMDtcclxubGV0IHNldHRpbmdzQWxlcnRUZXh0OiBzdHJpbmcgPSBcIlwiO1xyXG5jb25zdCBJTVBPUlRfUE9TSVRJT04gPSBbXHJcbiAgICBSRVNFVF9QT1NJVElPTlswXSxcclxuICAgIFJFU0VUX1BPU0lUSU9OWzFdICsgUkVTRVRfUE9TSVRJT05bM10gKyBCVVRUT05fR0FQLFxyXG4gICAgKFJFU0VUX1BPU0lUSU9OWzJdIC0gQlVUVE9OX0dBUCkgLyAyLFxyXG4gICAgUkVTRVRfUE9TSVRJT05bM11cclxuXSBhcyBjb25zdDtcclxuY29uc3QgRVhQT1JUX1BPU0lUSU9OID0gW1xyXG4gICAgUkVTRVRfUE9TSVRJT05bMF0gKyAoKFJFU0VUX1BPU0lUSU9OWzJdICsgQlVUVE9OX0dBUCkgLyAyKSxcclxuICAgIFJFU0VUX1BPU0lUSU9OWzFdICsgUkVTRVRfUE9TSVRJT05bM10gKyBCVVRUT05fR0FQLFxyXG4gICAgKFJFU0VUX1BPU0lUSU9OWzJdIC0gQlVUVE9OX0dBUCkgLyAyLFxyXG4gICAgUkVTRVRfUE9TSVRJT05bM11cclxuXSBhcyBjb25zdDtcclxuY29uc3QgUkVTRVRfQ09ORklSTV9QT1NJVElPTiA9IFszMDAsIDcwMCwgMjUwLCA5MF0gYXMgY29uc3Q7XHJcbmNvbnN0IFJFU0VUX0NBTkNFTF9QT1NJVElPTiA9IFsxNDUwLCA3MDAsIDI1MCwgOTBdIGFzIGNvbnN0O1xyXG5cclxuLy8gQ2FuIGFkZCBvciByZW1vdmUgbW9kdWxlcyBkZXBlbmRpbmcgb24gaWYgd2FudGluZyB0byBkaXNwbGF5IHRoZW0gb3Igbm90XHJcbi8vIE9yZGVyIGdpdmVuIGlzIHRoZSBvcmRlciBkaXNwbGF5ZWRcclxuZnVuY3Rpb24gTUVOVV9DQVRFR09SSUVTKCk6IE1vZHVsZVRpdGxlW11cclxue1xyXG4gICAgaWYgKCFzZXR0aW5nQ2hhcilcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcbiAgICAvLyBEaXNwbGF5IHNldHRpbmdzIGlmIHlvdSBhcmUgdGhlIFBsYXllclxyXG4gICAgaWYgKHNldHRpbmdDaGFyLklzUGxheWVyKCkpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgTW9kdWxlVGl0bGUuQXV0aG9yaXR5LFxyXG4gICAgICAgICAgICBNb2R1bGVUaXRsZS5Qcm9maWxlLFxyXG4gICAgICAgICAgICBNb2R1bGVUaXRsZS5DbGlja2VyLFxyXG4gICAgICAgICAgICBNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0LFxyXG4gICAgICAgICAgICBNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0SFVELFxyXG4gICAgICAgICAgICBNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9uc1xyXG4gICAgICAgIF07XHJcbiAgICB9XHJcbiAgICAvLyBEaXNwbGF5IHNldHRpbmdzIGlmIHlvdSBhcmUgYW4gYW5vdGhlciBwbGF5ZXJcclxuICAgIHJldHVybiBbXHJcbiAgICAgICAgTW9kdWxlVGl0bGUuQXV0aG9yaXR5LFxyXG4gICAgICAgIE1vZHVsZVRpdGxlLlByb2ZpbGUsXHJcbiAgICAgICAgTW9kdWxlVGl0bGUuQ2xpY2tlcixcclxuICAgICAgICBNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0LFxyXG4gICAgICAgIE1vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zXHJcbiAgICBdO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgTUVOVV9USVRMRVM6IFBhcnRpYWw8UmVjb3JkPE1vZHVsZVRpdGxlLCBzdHJpbmc+PiA9XHJcbntcclxuICAgIFtNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XTogXCJWaXJ0dWFsIFBldFwiLFxyXG4gICAgW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRIVURdOiBcIlZpcnR1YWwgUGV0IEh1ZFwiLFxyXG4gICAgW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zXTogXCJWaXJ0dWFsIFBldCBDb25kaXRpb25zXCJcclxufTtcclxuXHJcbmV4cG9ydCBsZXQgY3VycmVudE1lbnU6IE1vZHVsZVRpdGxlIHwgbnVsbCB8IFwiUkVTRVRfU2V0dGluZ3NcIiA9IG51bGw7XHJcbmxldCBzZXR0aW5nc09wZW46IGJvb2xlYW4gPSBmYWxzZTtcclxubGV0IGFsbG93UmVzZXRUaW1lOiBudW1iZXIgPSAwO1xyXG5cclxuRHJhd0J1dHRvbigxNTIwLCA3MjAsIDIwMCwgODAsIFwiQ2FuY2VsXCIsIFwiV2hpdGVcIik7XHJcblxyXG5mdW5jdGlvbiBEcmF3TWVudU9wdGlvbnMobWVudU9wdGlvbnM6IHN0cmluZ1tdKTogdm9pZFxyXG57XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1lbnVPcHRpb25zLmxlbmd0aDsgaSsrKVxyXG4gICAge1xyXG4gICAgICAgIERyYXdCdXR0b24oXHJcbiAgICAgICAgICAgIEJVVFRPTl9MRUZUICsgKEJVVFRPTl9XSURUSCArIEJVVFRPTl9HQVApICogTWF0aC5mbG9vcihpIC8gQlVUVE9OX01BWF9OVU1CRVIpLFxyXG4gICAgICAgICAgICBCVVRUT05fVE9QICsgKEJVVFRPTl9IRUlHSFQgKyBCVVRUT05fR0FQKSAqIChpICUgQlVUVE9OX01BWF9OVU1CRVIpLFxyXG4gICAgICAgICAgICBCVVRUT05fV0lEVEgsXHJcbiAgICAgICAgICAgIEJVVFRPTl9IRUlHSFQsXHJcbiAgICAgICAgICAgIFwiXCIsXHJcbiAgICAgICAgICAgIFwiV2hpdGVcIlxyXG4gICAgICAgICk7XHJcbiAgICAgICAgRHJhd1RleHRGaXQoXHJcbiAgICAgICAgICAgIExvY2FsaXplZFRleHQoTUVOVV9USVRMRVNbbWVudU9wdGlvbnNbaV1dID8/IG1lbnVPcHRpb25zW2ldKSxcclxuICAgICAgICAgICAgKEJVVFRPTl9MRUZUICsgQlVUVE9OX1RFWFRfUEFERElORykgKyAoQlVUVE9OX1dJRFRIICsgQlVUVE9OX0dBUCkgKiBNYXRoLmZsb29yKGkgLyBCVVRUT05fTUFYX05VTUJFUiksXHJcbiAgICAgICAgICAgIChCVVRUT05fVE9QICsgTWF0aC5mbG9vcihCVVRUT05fSEVJR0hUIC8gMikpICsgKEJVVFRPTl9IRUlHSFQgKyBCVVRUT05fR0FQKSAqIChpICUgQlVUVE9OX01BWF9OVU1CRVIpLFxyXG4gICAgICAgICAgICBCVVRUT05fV0lEVEggLSBCVVRUT05fVEVYVF9QQURESU5HICogMixcclxuICAgICAgICAgICAgXCJCbGFja1wiLFxyXG4gICAgICAgICAgICBcIkdyYXlcIlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdldENsaWNrZWRNZW51KG1lbnVPcHRpb25zOiBNb2R1bGVUaXRsZVtdKTogTW9kdWxlVGl0bGUgfCBudWxsXHJcbntcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWVudU9wdGlvbnMubGVuZ3RoOyBpKyspXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKE1vdXNlSW4oXHJcbiAgICAgICAgICAgIEJVVFRPTl9MRUZUICsgKEJVVFRPTl9XSURUSCArIEJVVFRPTl9HQVApICogTWF0aC5mbG9vcihpIC8gQlVUVE9OX01BWF9OVU1CRVIpLFxyXG4gICAgICAgICAgICBCVVRUT05fVE9QICsgKEJVVFRPTl9IRUlHSFQgKyBCVVRUT05fR0FQKSAqIChpICUgQlVUVE9OX01BWF9OVU1CRVIpLFxyXG4gICAgICAgICAgICBCVVRUT05fV0lEVEgsXHJcbiAgICAgICAgICAgIEJVVFRPTl9IRUlHSFRcclxuICAgICAgICApKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1lbnVPcHRpb25zW2ldO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59XHJcblxyXG4vLyBPcHRpb25zIGxheW91dFxyXG4vLyBNYXkgbm90IGJlIG5lZWRlZC4gV2lsbCBoYXZlIHRvIHVzZSBpZiB0aGVyZSBhcmUgbW9yZSB0aGFuIDEwIHNldHRpbmdzIHRvIGRpc3BsYXkgcGVyIGNhdGVnb3J5XHJcbmNvbnN0IE9QVElPTl9QRVJfUEFHRSA9IDk7XHJcbmNvbnN0IE9QVElPTl9IRUlHSFQgPSA2NDtcclxuY29uc3QgT1BUSU9OX1RPUCA9IDIwMDtcclxuY29uc3QgT1BUSU9OX0xFRlQgPSAyNTA7XHJcbmNvbnN0IE9QVElPTl9HQVAgPSAxMDtcclxuY29uc3QgT1BUSU9OX0NIRUNLQk9YX1NJWkUgPSA2NDtcclxuY29uc3QgT1BUSU9OX0JBQ0tfTkVYVF9XSURUSCA9IDI1NjtcclxuY29uc3QgT1BUSU9OX1RFWFRfV0lEVEggPSAyNTY7XHJcbmNvbnN0IE9QVElPTl9URVhUX01BWF9DSEFSUyA9IDI1NjtcclxubGV0IGN1cnJlbnRQYWdlOiBudW1iZXIgPSAxO1xyXG5sZXQgbWF4UGFnZXM6IG51bWJlciA9IDE7XHJcblxyXG5jb25zdCBORVhUX0JVVFRPTl9QT1MgPSBbMTYzNSwgNzUsIDkwLCA5MF0gYXMgY29uc3Q7XHJcbmNvbnN0IFBSRVZfQlVUVE9OX1BPUyA9IFtORVhUX0JVVFRPTl9QT1NbMF0gLSBORVhUX0JVVFRPTl9QT1NbMl0sIE5FWFRfQlVUVE9OX1BPU1sxXSwgTkVYVF9CVVRUT05fUE9TWzJdLCBORVhUX0JVVFRPTl9QT1NbMl1dIGFzIGNvbnN0O1xyXG5cclxuZnVuY3Rpb24gRHJhd1BhZ2VzQnV0dG9ucygpOiB2b2lkXHJcbntcclxuICAgIC8vIEFzc2V0IGN1cnJlbnQgcGFnZSBpcyBpbiBjb3JyZWN0IHJhbmdlXHJcbiAgICBpZiAoY3VycmVudFBhZ2UgPiBtYXhQYWdlcylcclxuICAgIHtcclxuICAgICAgICBjdXJyZW50UGFnZSA9IG1heFBhZ2VzO1xyXG4gICAgfVxyXG4gICAgaWYgKGN1cnJlbnRQYWdlIDwgMSlcclxuICAgIHtcclxuICAgICAgICBjdXJyZW50UGFnZSA9IDE7XHJcbiAgICB9XHJcblxyXG4gICAgRHJhd0J1dHRvbihcclxuICAgICAgICAuLi5ORVhUX0JVVFRPTl9QT1MsXHJcbiAgICAgICAgXCJcIixcclxuICAgICAgICBjdXJyZW50UGFnZSA+PSBtYXhQYWdlcyA/IFwiI2FhYWFhYVwiIDogXCIjZmZmZmZmXCIsXHJcbiAgICAgICAgXCJJY29ucy9OZXh0LnBuZ1wiLFxyXG4gICAgICAgIFwiTmV4dCBQYWdlXCIsXHJcbiAgICAgICAgY3VycmVudFBhZ2UgPj0gbWF4UGFnZXNcclxuICAgICk7XHJcbiAgICBEcmF3QnV0dG9uKFxyXG4gICAgICAgIC4uLlBSRVZfQlVUVE9OX1BPUyxcclxuICAgICAgICBcIlwiLFxyXG4gICAgICAgIDEgPj0gY3VycmVudFBhZ2UgPyBcIiNhYWFhYWFcIiA6IFwiI2ZmZmZmZlwiLFxyXG4gICAgICAgIFwiSWNvbnMvUHJldi5wbmdcIixcclxuICAgICAgICBcIlByZXZpb3VzIFBhZ2VcIixcclxuICAgICAgICAxID49IGN1cnJlbnRQYWdlXHJcbiAgICApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBEcmF3U3ViTWVudU9wdGlvbnMoc3ViTWVudTogTW9kdWxlVGl0bGUpOiB2b2lkXHJcbntcclxuICAgIC8vIFNob3VsZG4ndCBiZSBuZWVkZWQgYnV0IGFjdHMgYXMgZmFpbHNhZmUgYW5kIG1ha2VzIHR5cGVzY3JpcHQgaGFwcHlcclxuICAgIGlmICghc2V0dGluZ0NoYXIpIHsgcmV0dXJuOyB9XHJcblxyXG4gICAgLy8gU2V0dGluZ3MgaGF2ZSB0byBiZSBkaXNwbGF5YWJsZSBhbmQgaGF2ZSBhIHZhbHVlIGV4aXN0IGluIHRoZSBzdG9yZWQgc2V0dGluZ3NcclxuICAgIGNvbnN0IHNldHRpbmdzVG9EaXNwbGF5ID0gT2JqZWN0LmVudHJpZXMoZGVmYXVsdFNldHRpbmdzW3N1Yk1lbnVdID8/IHt9KVxyXG4gICAgICAgIC5maWx0ZXIoKFtrZXksIHNldHRpbmddKSA9PiBJc0Rpc3BsYXlTZXR0aW5nKHNldHRpbmcpICYmIChrZXkgaW4gKHNldHRpbmdDaGFyPy5NUEFbc3ViTWVudV0gPz8ge30pKSk7XHJcblxyXG4gICAgLy8gTmV4dCBhbmQgcHJldmlvdXMgb3B0aW9uIGJ1dHRvbnNcclxuICAgIGlmIChtYXhQYWdlcyAhPT0gMSlcclxuICAgIHtcclxuICAgICAgICBEcmF3UGFnZXNCdXR0b25zKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0dGluZ3NUb0Rpc3BsYXkuc2xpY2UoKGN1cnJlbnRQYWdlIC0gMSkgKiBPUFRJT05fUEVSX1BBR0UsIGN1cnJlbnRQYWdlICogT1BUSU9OX1BFUl9QQUdFKS5mb3JFYWNoKCh2YWwsIGkpID0+XHJcbiAgICB7XHJcbiAgICAgICAgY29uc3QgW3NldHRpbmdOYW1lLCBzZXR0aW5nXSA9IHZhbCBhcyBbc3RyaW5nLCBEaXNwbGF5ZWRTZXR0aW5nXTtcclxuXHJcbiAgICAgICAgY29uc3QgZGlzYWJsZWRTZXR0aW5nID0gIXNldHRpbmcuYWN0aXZlKHNldHRpbmdDaGFyISlcclxuICAgICAgICAgIHx8IChcclxuICAgICAgICAgICAgICBgb3RoZXJzJHtzdWJNZW51fWAgaW4gc2V0dGluZ0NoYXIhLk1QQVtNb2R1bGVUaXRsZS5BdXRob3JpdHldXHJcbiAgICAgICAgICAgICAgJiYgYHNlbGYke3N1Yk1lbnV9YCBpbiBzZXR0aW5nQ2hhciEuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV1cclxuICAgICAgICAgICAgICAmJiAhSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cChcclxuICAgICAgICAgICAgICAgICAgUGxheWVyLk1lbWJlck51bWJlciA/PyAtMSxcclxuICAgICAgICAgICAgICAgICAgc2V0dGluZ0NoYXIhLk1QQVtNb2R1bGVUaXRsZS5BdXRob3JpdHldW2BvdGhlcnMke3N1Yk1lbnV9YF0gYXMgQXV0aG9yaXR5R3JvdXAsXHJcbiAgICAgICAgICAgICAgICAgIHNldHRpbmdDaGFyIS5NUEFbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XVtgc2VsZiR7c3ViTWVudX1gXSBhcyBib29sZWFuLFxyXG4gICAgICAgICAgICAgICAgICBzZXR0aW5nQ2hhciFcclxuICAgICAgICAgICAgICApKTtcclxuXHJcbiAgICAgICAgaWYgKElzQ2hlY2tib3hTZXR0aW5nKHNldHRpbmcpKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgRHJhd0NoZWNrYm94KFxyXG4gICAgICAgICAgICAgICAgT1BUSU9OX0xFRlQsXHJcbiAgICAgICAgICAgICAgICBPUFRJT05fVE9QICsgKGkgKiAoT1BUSU9OX0dBUCArIE9QVElPTl9IRUlHSFQpKSxcclxuICAgICAgICAgICAgICAgIE9QVElPTl9DSEVDS0JPWF9TSVpFLFxyXG4gICAgICAgICAgICAgICAgT1BUSU9OX0NIRUNLQk9YX1NJWkUsXHJcbiAgICAgICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KHNldHRpbmcubGFiZWwpXHJcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2VBbGwoXCJUYXJnZXRDaGFyYWN0ZXJcIiwgKHNldHRpbmdDaGFyPy5OaWNrbmFtZSB8fCBzZXR0aW5nQ2hhcj8uTmFtZSkgPz8gXCJcIilcclxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZUFsbChcIlRhcmdldFByb25vdW5Qb3NzZXNzaXZlXCIsIHNldHRpbmdDaGFyPy5HZXRQcm9ub3VucygpID09PSBcIlNoZUhlclwiID8gXCJoZXJcIiA6IFwiaGlzXCIpLFxyXG4gICAgICAgICAgICAgICAgISFzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSxcclxuICAgICAgICAgICAgICAgIGRpc2FibGVkU2V0dGluZyxcclxuICAgICAgICAgICAgICAgIFwiQmxhY2tcIlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChJc09wdGlvblNldHRpbmcoc2V0dGluZykpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHNldHRpbmcub3B0aW9ucy5pbmRleE9mKHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdIGFzIHN0cmluZyk7XHJcbiAgICAgICAgICAgIGNvbnN0IG9wdExlbiA9IHNldHRpbmcub3B0aW9ucy5sZW5ndGg7XHJcblxyXG4gICAgICAgICAgICAvLyBDYW4ndCBkZWNyZWFzZSBhdXRob3JpdHkgYmV5b25kIGlmIHRoZSBwbGF5ZXIgaXMgbm90IG9mIHRoYXQgcmFua1xyXG4gICAgICAgICAgICBjb25zdCBwcm9maWxlT3JFeGNsdWRlcyA9IChzdWJNZW51ICE9PSBNb2R1bGVUaXRsZS5BdXRob3JpdHkpIHx8ICFBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUy5pbmNsdWRlcyhzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHByZXZEaXNhYmxlZCA9ICEocHJvZmlsZU9yRXhjbHVkZXMgfHwgQXV0aG9yaXR5SXNDb21wYXJpc29uVG9DaGFyYWN0ZXIoc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gYXMgQXV0aG9yaXR5R3JvdXAsIFwiPj1cIiwgUGxheWVyLk1lbWJlck51bWJlciA/PyAtMSwgc2V0dGluZ0NoYXIhKSk7XHJcbiAgICAgICAgICAgIGNvbnN0IG5leHREaXNhYmxlZCA9ICEocHJvZmlsZU9yRXhjbHVkZXMgfHwgQXV0aG9yaXR5SXNDb21wYXJpc29uVG9DaGFyYWN0ZXIoc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gYXMgQXV0aG9yaXR5R3JvdXAsIFwiPlwiLCBQbGF5ZXIuTWVtYmVyTnVtYmVyID8/IC0xLCBzZXR0aW5nQ2hhciEpKVxyXG4gICAgICAgICAgICAgICYmIHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdICE9PSBcIlNlbGZcIjtcclxuXHJcbiAgICAgICAgICAgIERyYXdCYWNrTmV4dEJ1dHRvbihcclxuICAgICAgICAgICAgICAgIE9QVElPTl9MRUZULFxyXG4gICAgICAgICAgICAgICAgT1BUSU9OX1RPUCArIChpICogKE9QVElPTl9HQVAgKyBPUFRJT05fSEVJR0hUKSksXHJcbiAgICAgICAgICAgICAgICBPUFRJT05fQkFDS19ORVhUX1dJRFRILFxyXG4gICAgICAgICAgICAgICAgT1BUSU9OX0hFSUdIVCxcclxuICAgICAgICAgICAgICAgIExvY2FsaXplZFRleHQoc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gYXMgc3RyaW5nKSxcclxuICAgICAgICAgICAgICAgICEoZGlzYWJsZWRTZXR0aW5nIHx8IChwcmV2RGlzYWJsZWQgJiYgbmV4dERpc2FibGVkKSkgPyBcIiNmZmZmZmZcIiA6IFwiI2FhYWFhYVwiLFxyXG4gICAgICAgICAgICAgICAgXCJcIixcclxuICAgICAgICAgICAgICAgICgpID0+IExvY2FsaXplZFRleHQocHJldkRpc2FibGVkID8gXCJcIiA6IChzZXR0aW5nLmxvb3AgPyBzZXR0aW5nLm9wdGlvbnNbKGluZGV4IC0gMSArIG9wdExlbikgJSBvcHRMZW5dIDogaW5kZXggPiAwID8gc2V0dGluZy5vcHRpb25zW2luZGV4IC0gMV0gOiBcIlwiKSksXHJcbiAgICAgICAgICAgICAgICAoKSA9PiBMb2NhbGl6ZWRUZXh0KG5leHREaXNhYmxlZCA/IFwiXCIgOiAoc2V0dGluZy5sb29wID8gc2V0dGluZy5vcHRpb25zWyhpbmRleCArIDEgKyBvcHRMZW4pICUgb3B0TGVuXSA6IGluZGV4ICsgMSA8IG9wdExlbiA/IHNldHRpbmcub3B0aW9uc1tpbmRleCArIDFdIDogXCJcIikpLFxyXG4gICAgICAgICAgICAgICAgZGlzYWJsZWRTZXR0aW5nIHx8IChwcmV2RGlzYWJsZWQgJiYgbmV4dERpc2FibGVkKVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBEcmF3VGV4dEZpdChcclxuICAgICAgICAgICAgICAgIExvY2FsaXplZFRleHQoc2V0dGluZy5sYWJlbClcclxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZUFsbChcIlRhcmdldENoYXJhY3RlclwiLCAoc2V0dGluZ0NoYXI/Lk5pY2tuYW1lIHx8IHNldHRpbmdDaGFyPy5OYW1lKSA/PyBcIlwiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlQWxsKFwiVGFyZ2V0UHJvbm91blBvc3Nlc3NpdmVcIiwgc2V0dGluZ0NoYXI/LkdldFByb25vdW5zKCkgPT09IFwiU2hlSGVyXCIgPyBcImhlclwiIDogXCJoaXNcIiksXHJcbiAgICAgICAgICAgICAgICBPUFRJT05fTEVGVCArIE9QVElPTl9CQUNLX05FWFRfV0lEVEggKyAoT1BUSU9OX0dBUCAqIDIpLFxyXG4gICAgICAgICAgICAgICAgT1BUSU9OX1RPUCArIChpICogKE9QVElPTl9HQVAgKyBPUFRJT05fSEVJR0hUKSArIE1hdGguY2VpbChPUFRJT05fSEVJR0hUIC8gMikpLFxyXG4gICAgICAgICAgICAgICAgQ0FOVkFTX1dJRFRIIC0gKE9QVElPTl9MRUZUICogMikgLSBPUFRJT05fQkFDS19ORVhUX1dJRFRILFxyXG4gICAgICAgICAgICAgICAgXCJCbGFja1wiLFxyXG4gICAgICAgICAgICAgICAgXCJHcmF5XCJcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoSXNUZXh0U2V0dGluZyhzZXR0aW5nKSB8fCBJc051bWJlclNldHRpbmcoc2V0dGluZykpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBpZCA9IEVsZW1lbnROYW1lKHN1Yk1lbnUsIHNldHRpbmdOYW1lKTtcclxuICAgICAgICAgICAgRWxlbWVudFBvc2l0aW9uRml4ZWQoXHJcbiAgICAgICAgICAgICAgICBpZCxcclxuICAgICAgICAgICAgICAgIE9QVElPTl9MRUZULFxyXG4gICAgICAgICAgICAgICAgT1BUSU9OX1RPUCArIChpICogKE9QVElPTl9HQVAgKyBPUFRJT05fSEVJR0hUKSksXHJcbiAgICAgICAgICAgICAgICBzZXR0aW5nLndpZHRoID8/IE9QVElPTl9URVhUX1dJRFRILFxyXG4gICAgICAgICAgICAgICAgT1BUSU9OX0hFSUdIVFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICBpZiAoZGlzYWJsZWRTZXR0aW5nKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBFbGVtZW50U2V0QXR0cmlidXRlKGlkLCBcImRpc2FibGVkXCIsIFwidHJ1ZVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIEVsZW1lbnRSZW1vdmVBdHRyaWJ1dGUoaWQsIFwiZGlzYWJsZWRcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgRHJhd1RleHRGaXQoXHJcbiAgICAgICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KHNldHRpbmcubGFiZWwpXHJcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2VBbGwoXCJUYXJnZXRDaGFyYWN0ZXJcIiwgKHNldHRpbmdDaGFyPy5OaWNrbmFtZSB8fCBzZXR0aW5nQ2hhcj8uTmFtZSkgPz8gXCJcIilcclxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZUFsbChcIlRhcmdldFByb25vdW5Qb3NzZXNzaXZlXCIsIHNldHRpbmdDaGFyPy5HZXRQcm9ub3VucygpID09PSBcIlNoZUhlclwiID8gXCJoZXJcIiA6IFwiaGlzXCIpLFxyXG4gICAgICAgICAgICAgICAgT1BUSU9OX0xFRlQgKyAoc2V0dGluZy53aWR0aCA/PyBPUFRJT05fVEVYVF9XSURUSCkgKyAoT1BUSU9OX0dBUCAqIDIpLFxyXG4gICAgICAgICAgICAgICAgT1BUSU9OX1RPUCArIChpICogKE9QVElPTl9HQVAgKyBPUFRJT05fSEVJR0hUKSkgKyBNYXRoLmNlaWwoT1BUSU9OX0hFSUdIVCAvIDIpLFxyXG4gICAgICAgICAgICAgICAgQ0FOVkFTX1dJRFRIIC0gKE9QVElPTl9MRUZUICogMikgLSAoc2V0dGluZy53aWR0aCA/PyBPUFRJT05fVEVYVF9XSURUSCksXHJcbiAgICAgICAgICAgICAgICBcIkJsYWNrXCIsXHJcbiAgICAgICAgICAgICAgICBcIkdyYXlcIlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBHZXRDbGlja2VkT3B0aW9uKHN1Yk1lbnU6IE1vZHVsZVRpdGxlKTogdm9pZFxyXG57XHJcbiAgICAvLyBTaG91bGRuJ3QgYmUgbmVlZGVkIGJ1dCBhY3RzIGFzIGZhaWxzYWZlIGFuZCBtYWtlcyB0eXBlc2NyaXB0IGhhcHB5XHJcbiAgICBpZiAoIXNldHRpbmdDaGFyKSB7IHJldHVybjsgfVxyXG5cclxuICAgIC8vIFNldHRpbmdzIGhhdmUgdG8gYmUgZGlzcGxheWFibGUgYW5kIGhhdmUgYSB2YWx1ZSBleGlzdCBpbiB0aGUgc3RvcmVkIHNldHRpbmdzXHJcbiAgICBjb25zdCBzZXR0aW5nc1RvRGlzcGxheSA9IE9iamVjdC5lbnRyaWVzKGRlZmF1bHRTZXR0aW5nc1tzdWJNZW51XSA/PyB7fSlcclxuICAgICAgICAuZmlsdGVyKChba2V5LCBzZXR0aW5nXSkgPT4gSXNEaXNwbGF5U2V0dGluZyhzZXR0aW5nKSAmJiAoa2V5IGluIChzZXR0aW5nQ2hhcj8uTVBBW3N1Yk1lbnVdID8/IHt9KSkpO1xyXG5cclxuICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgdGhlIG9wdGlvbnMgYW5kIGNoZWNrIGlmIHRoZSBjbGljayBvY2N1cmVkIGluIHRoZSB0eXBlJ3MgY29ycmVzcG9uZGluZyBjbGljayB6b25lXHJcbiAgICBzZXR0aW5nc1RvRGlzcGxheS5zbGljZSgoY3VycmVudFBhZ2UgLSAxKSAqIE9QVElPTl9QRVJfUEFHRSwgY3VycmVudFBhZ2UgKiBPUFRJT05fUEVSX1BBR0UpLmZvckVhY2goKHZhbCwgaSkgPT5cclxuICAgIHtcclxuICAgICAgICBjb25zdCBbc2V0dGluZ05hbWUsIHNldHRpbmddID0gdmFsIGFzIFtzdHJpbmcsIERpc3BsYXllZFNldHRpbmddO1xyXG5cclxuICAgICAgICBjb25zdCBkaXNhYmxlZFNldHRpbmcgPSAhc2V0dGluZy5hY3RpdmUoc2V0dGluZ0NoYXIhKVxyXG4gICAgICAgICAgfHwgKFxyXG4gICAgICAgICAgICAgIGBvdGhlcnMke3N1Yk1lbnV9YCBpbiBzZXR0aW5nQ2hhciEuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV1cclxuICAgICAgICAgICAgICAmJiBgc2VsZiR7c3ViTWVudX1gIGluIHNldHRpbmdDaGFyIS5NUEFbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XVxyXG4gICAgICAgICAgICAgICYmICFJc01lbWJlck51bWJlckluQXV0aEdyb3VwKFxyXG4gICAgICAgICAgICAgICAgICBQbGF5ZXIuTWVtYmVyTnVtYmVyID8/IC0xLFxyXG4gICAgICAgICAgICAgICAgICBzZXR0aW5nQ2hhciEuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV1bYG90aGVycyR7c3ViTWVudX1gXSBhcyBBdXRob3JpdHlHcm91cCxcclxuICAgICAgICAgICAgICAgICAgc2V0dGluZ0NoYXIhLk1QQVtNb2R1bGVUaXRsZS5BdXRob3JpdHldW2BzZWxmJHtzdWJNZW51fWBdIGFzIGJvb2xlYW4sXHJcbiAgICAgICAgICAgICAgICAgIHNldHRpbmdDaGFyIVxyXG4gICAgICAgICAgICAgICkpO1xyXG5cclxuICAgICAgICBpZiAoSXNDaGVja2JveFNldHRpbmcoc2V0dGluZykpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICBNb3VzZUluKFxyXG4gICAgICAgICAgICAgICAgICAgIE9QVElPTl9MRUZULFxyXG4gICAgICAgICAgICAgICAgICAgIE9QVElPTl9UT1AgKyAoaSAqIChPUFRJT05fR0FQICsgT1BUSU9OX0hFSUdIVCkpLFxyXG4gICAgICAgICAgICAgICAgICAgIE9QVElPTl9DSEVDS0JPWF9TSVpFLFxyXG4gICAgICAgICAgICAgICAgICAgIE9QVElPTl9DSEVDS0JPWF9TSVpFXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAmJiAhZGlzYWJsZWRTZXR0aW5nXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gPSAhc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV07XHJcbiAgICAgICAgICAgICAgICBpZiAoc2V0dGluZy5vblNldClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nLm9uU2V0KHNldHRpbmdDaGFyISk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzZXR0aW5nc0VkaXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoSXNPcHRpb25TZXR0aW5nKHNldHRpbmcpKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBzZXR0aW5nLm9wdGlvbnMuaW5kZXhPZihzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSBhcyBzdHJpbmcpO1xyXG4gICAgICAgICAgICBjb25zdCBvcHRMZW4gPSBzZXR0aW5nLm9wdGlvbnMubGVuZ3RoO1xyXG4gICAgICAgICAgICAvLyBCYWNrIGFycm93XHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgIE1vdXNlSW4oXHJcbiAgICAgICAgICAgICAgICAgICAgT1BUSU9OX0xFRlQsXHJcbiAgICAgICAgICAgICAgICAgICAgT1BUSU9OX1RPUCArIChpICogKE9QVElPTl9HQVAgKyBPUFRJT05fSEVJR0hUKSksXHJcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihPUFRJT05fQkFDS19ORVhUX1dJRFRIIC8gMiksXHJcbiAgICAgICAgICAgICAgICAgICAgT1BUSU9OX0hFSUdIVFxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgJiYgIWRpc2FibGVkU2V0dGluZ1xyXG4gICAgICAgICAgICAgICAgJiYgKHNldHRpbmcubG9vcFxyXG4gICAgICAgICAgICAgICAgfHwgaW5kZXggPiAwKVxyXG4gICAgICAgICAgICAgICAgLy8gQ2FuJ3QgZGVjcmVhc2UgYXV0aG9yaXR5IGJleW9uZCBpZiB0aGUgcGxheWVyIGlzIG5vdCBvZiB0aGF0IHJhbmtcclxuICAgICAgICAgICAgICAgICYmIChzdWJNZW51ICE9PSBNb2R1bGVUaXRsZS5BdXRob3JpdHlcclxuICAgICAgICAgICAgICAgIHx8ICFBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUy5pbmNsdWRlcyhzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSlcclxuICAgICAgICAgICAgICAgIHx8IEF1dGhvcml0eUlzQ29tcGFyaXNvblRvQ2hhcmFjdGVyKHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdIGFzIEF1dGhvcml0eUdyb3VwLCBcIj49XCIsIFBsYXllci5NZW1iZXJOdW1iZXIgPz8gLTEsIHNldHRpbmdDaGFyISkpXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gPSBzZXR0aW5nLm9wdGlvbnNbKGluZGV4IC0gMSArIG9wdExlbikgJSBvcHRMZW5dO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNldHRpbmcub25TZXQpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZy5vblNldChzZXR0aW5nQ2hhciEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc2V0dGluZ3NFZGl0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIE5leHQgYXJyb3dcclxuICAgICAgICAgICAgZWxzZSBpZiAoXHJcbiAgICAgICAgICAgICAgICBNb3VzZUluKFxyXG4gICAgICAgICAgICAgICAgICAgIE9QVElPTl9MRUZUICsgTWF0aC5mbG9vcihPUFRJT05fQkFDS19ORVhUX1dJRFRIIC8gMiksXHJcbiAgICAgICAgICAgICAgICAgICAgT1BUSU9OX1RPUCArIChpICogKE9QVElPTl9HQVAgKyBPUFRJT05fSEVJR0hUKSksXHJcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5jZWlsKE9QVElPTl9CQUNLX05FWFRfV0lEVEggLyAyKSxcclxuICAgICAgICAgICAgICAgICAgICBPUFRJT05fSEVJR0hUXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAmJiAhZGlzYWJsZWRTZXR0aW5nXHJcbiAgICAgICAgICAgICAgICAmJiAoc2V0dGluZy5sb29wXHJcbiAgICAgICAgICAgICAgICB8fCBpbmRleCArIDEgPCBzZXR0aW5nLm9wdGlvbnMubGVuZ3RoKVxyXG4gICAgICAgICAgICAgICAgLy8gQ2FuJ3QgaW5jcmVhc2UgYXV0aG9yaXR5IGJleW9uZCB3aGF0IHRoZSBwbGF5ZXIgd2hvIGlzIHNldHRpbmcgaXQgaXNcclxuICAgICAgICAgICAgICAgICYmIChzdWJNZW51ICE9PSBNb2R1bGVUaXRsZS5BdXRob3JpdHlcclxuICAgICAgICAgICAgICAgIHx8ICFBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUy5pbmNsdWRlcyhzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSlcclxuICAgICAgICAgICAgICAgIHx8IEF1dGhvcml0eUlzQ29tcGFyaXNvblRvQ2hhcmFjdGVyKHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdIGFzIEF1dGhvcml0eUdyb3VwLCBcIj5cIiwgUGxheWVyLk1lbWJlck51bWJlciA/PyAtMSwgc2V0dGluZ0NoYXIhKSlcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSA9IHNldHRpbmcub3B0aW9uc1soaW5kZXggKyAxICsgb3B0TGVuKSAlIG9wdExlbl07XHJcbiAgICAgICAgICAgICAgICBpZiAoc2V0dGluZy5vblNldClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nLm9uU2V0KHNldHRpbmdDaGFyISk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzZXR0aW5nc0VkaXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIEV4aXRCdXR0b25QcmVzc2VkKCk6IHZvaWRcclxue1xyXG4gICAgaWYgKGN1cnJlbnRNZW51ID09PSBudWxsKVxyXG4gICAge1xyXG4gICAgICAgIGlmICh3aW5kb3cuTVBBLm1lbnVMb2FkZWQpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICB3aW5kb3cuTVBBLm1lbnVMb2FkZWQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgUHJlZmVyZW5jZU1lbnVFeGl0KCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIGlmIChjdXJyZW50TWVudSA9PT0gXCJSRVNFVF9TZXR0aW5nc1wiKVxyXG4gICAge1xyXG4gICAgICAgIGN1cnJlbnRNZW51ID0gbnVsbDtcclxuICAgIH1cclxuICAgIGVsc2VcclxuICAgIHtcclxuICAgICAgICAvLyBTYXZlIGFsbCB0ZXh0IGZpZWxkcyB0byB0aGVpciByZXNwZWN0aXZlIHNldHRpbmdcclxuICAgICAgICBVcGRhdGVBbmREZWxldGVIVE1MRWxlbWVudHMoY3VycmVudE1lbnUpO1xyXG4gICAgICAgIGN1cnJlbnRQYWdlID0gMTtcclxuICAgICAgICBtYXhQYWdlcyA9IDE7XHJcbiAgICAgICAgY3VycmVudE1lbnUgPSBudWxsO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gUHJlZmVyZW5jZU1lbnVDbGljaygpOiB2b2lkXHJcbntcclxuICAgIGlmIChNb3VzZUluKC4uLkVYSVRfUE9TSVNUSU9OKSlcclxuICAgIHtcclxuICAgICAgICBFeGl0QnV0dG9uUHJlc3NlZCgpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoc2V0dGluZ0NoYXI/Lk1lbWJlck51bWJlciA9PT0gUGxheWVyLk1lbWJlck51bWJlciAmJiBjdXJyZW50TWVudSA9PT0gbnVsbClcclxuICAgIHtcclxuICAgICAgICBpZiAoTW91c2VJbiguLi5SRVNFVF9QT1NJVElPTikpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjdXJyZW50TWVudSA9IFwiUkVTRVRfU2V0dGluZ3NcIjtcclxuICAgICAgICAgICAgYWxsb3dSZXNldFRpbWUgPSBEYXRlLm5vdygpICsgMTAwMDA7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKE1vdXNlSW4oLi4uSU1QT1JUX1BPU0lUSU9OKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIEltcG9ydFNldHRpbmdzRnJvbUNsaXBib2FyZCgpLnRoZW4oKCkgPT5cclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc2V0dGluZ3NBbGVydFRleHQgPSBcIlNldHRpbmdzIGltcG9ydGVkIGZyb20gY2xpcGJvYXJkXCI7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICgpID0+XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHNldHRpbmdzQWxlcnRUZXh0ID0gXCJGYWlsZWQgdG8gaW1wb3J0IHNldHRpbmdzXCI7XHJcbiAgICAgICAgICAgIH0pLmZpbmFsbHkoKCkgPT4gc2hvd1NldHRpbmdzQWxlcnQgPSBEYXRlLm5vdygpICsgNTAwMCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKE1vdXNlSW4oLi4uRVhQT1JUX1BPU0lUSU9OKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIEV4cG9ydFNldHRpbmdzVG9DbGlwYm9hcmQoKS50aGVuKCgpID0+XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHNldHRpbmdzQWxlcnRUZXh0ID0gXCJTZXR0aW5ncyBjb3BpZWQgdG8gY2xpcGJvYXJkXCI7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICgpID0+XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHNldHRpbmdzQWxlcnRUZXh0ID0gXCJGYWlsZWQgdG8gZXhwb3J0IHNldHRpbmdzXCI7XHJcbiAgICAgICAgICAgIH0pLmZpbmFsbHkoKCkgPT4gc2hvd1NldHRpbmdzQWxlcnQgPSBEYXRlLm5vdygpICsgNTAwMCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2V0IHRoZSBzdWJtZW51IGNsaWNrZWQgb3B0aW9uc1xyXG4gICAgaWYgKGN1cnJlbnRNZW51ID09PSBudWxsICYmIEdldENsaWNrZWRNZW51KE1FTlVfQ0FURUdPUklFUygpKSAhPT0gbnVsbClcclxuICAgIHtcclxuICAgICAgICBjdXJyZW50TWVudSA9IEdldENsaWNrZWRNZW51KE1FTlVfQ0FURUdPUklFUygpKTtcclxuICAgICAgICBjdXJyZW50UGFnZSA9IDE7XHJcbiAgICAgICAgbWF4UGFnZXMgPSBNYXRoLmNlaWwoT2JqZWN0LmVudHJpZXMoZGVmYXVsdFNldHRpbmdzW2N1cnJlbnRNZW51ID8/IFwiXCJdID8/IHt9KVxyXG4gICAgICAgICAgICAuZmlsdGVyKChba2V5LCBzZXR0aW5nXSkgPT4gSXNEaXNwbGF5U2V0dGluZyhzZXR0aW5nKSAmJiAoa2V5IGluIChzZXR0aW5nQ2hhcj8uTVBBW2N1cnJlbnRNZW51ID8/IFwiXCJdID8/IHt9KSkpXHJcbiAgICAgICAgICAgIC5sZW5ndGggLyBPUFRJT05fUEVSX1BBR0UpO1xyXG4gICAgICAgIENyZWF0ZUhUTUxFbGVtZW50cyhjdXJyZW50TWVudSk7XHJcbiAgICB9XHJcbiAgICBpZiAoY3VycmVudE1lbnUgPT09IFwiUkVTRVRfU2V0dGluZ3NcIilcclxuICAgIHtcclxuICAgICAgICBSZXNldE1lbnVDbGljaygpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIC8vIEdldCBvcHRpb24gb2YgdGhlIGN1cnJlbnQgbWVudVxyXG4gICAgaWYgKGN1cnJlbnRNZW51ICE9PSBudWxsKVxyXG4gICAge1xyXG4gICAgICAgIC8vIE5leHQgYW5kIHByZXZpb3VzIGJ1dHRvbnNcclxuICAgICAgICAvLyBPbmx5IGNoZWNrIGlmIHNldHRpbmcgcGFnZSBuZWVkcyBpdFxyXG4gICAgICAgIGlmIChPYmplY3QuZW50cmllcyhkZWZhdWx0U2V0dGluZ3NbY3VycmVudE1lbnUgPz8gXCJcIl0gPz8ge30pXHJcbiAgICAgICAgICAgIC5maWx0ZXIoKFtrZXksIHNldHRpbmddKSA9PiBJc0Rpc3BsYXlTZXR0aW5nKHNldHRpbmcpICYmIChrZXkgaW4gKHNldHRpbmdDaGFyPy5NUEFbY3VycmVudE1lbnUgPz8gXCJcIl0gPz8ge30pKSlcclxuICAgICAgICAgICAgLmxlbmd0aCA+IE9QVElPTl9QRVJfUEFHRVxyXG4gICAgICAgIClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmIChNb3VzZUluKC4uLk5FWFRfQlVUVE9OX1BPUykgJiYgY3VycmVudFBhZ2UgPCBtYXhQYWdlcylcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgVXBkYXRlQW5kRGVsZXRlSFRNTEVsZW1lbnRzKGN1cnJlbnRNZW51KTtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlKys7XHJcbiAgICAgICAgICAgICAgICBDcmVhdGVIVE1MRWxlbWVudHMoY3VycmVudE1lbnUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChNb3VzZUluKC4uLlBSRVZfQlVUVE9OX1BPUykgJiYgY3VycmVudFBhZ2UgPiAxKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBVcGRhdGVBbmREZWxldGVIVE1MRWxlbWVudHMoY3VycmVudE1lbnUpO1xyXG4gICAgICAgICAgICAgICAgY3VycmVudFBhZ2UtLTtcclxuICAgICAgICAgICAgICAgIENyZWF0ZUhUTUxFbGVtZW50cyhjdXJyZW50TWVudSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgR2V0Q2xpY2tlZE9wdGlvbihjdXJyZW50TWVudSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuO1xyXG59XHJcblxyXG5mdW5jdGlvbiBSZXNldE1lbnVDbGljaygpOiB2b2lkXHJcbntcclxuICAgIGlmIChNb3VzZUluKC4uLlJFU0VUX0NPTkZJUk1fUE9TSVRJT04pICYmIERhdGUubm93KCkgPiBhbGxvd1Jlc2V0VGltZSlcclxuICAgIHtcclxuICAgICAgICBSZXNldFN0b3JhZ2UoKTtcclxuICAgICAgICBjdXJyZW50TWVudSA9IG51bGw7XHJcbiAgICAgICAgYWxsb3dSZXNldFRpbWUgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChNb3VzZUluKC4uLlJFU0VUX0NBTkNFTF9QT1NJVElPTikpXHJcbiAgICB7XHJcbiAgICAgICAgY3VycmVudE1lbnUgPSBudWxsO1xyXG4gICAgICAgIGFsbG93UmVzZXRUaW1lID0gMDtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gUmVzZXRNZW51UnVuKCk6IHZvaWRcclxue1xyXG4gICAgY29uc3QgcHJldlRleHRBbGlnbiA9IE1haW5DYW52YXMudGV4dEFsaWduO1xyXG4gICAgTWFpbkNhbnZhcy50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xyXG5cclxuICAgIERyYXdUZXh0KFxyXG4gICAgICAgIExvY2FsaXplZFRleHQoXCJXQVJOSU5HOiBBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcmVzZXQgeW91ciBNUEEgc2V0dGluZ3MgYW5kIGRhdGEgYmFjayB0byBkZWZhdWx0P1wiKSxcclxuICAgICAgICBDQU5WQVNfV0lEVEggLyAyLFxyXG4gICAgICAgIDI1MCxcclxuICAgICAgICBcIiMwMDAwMDBcIixcclxuICAgICAgICBcIiNhYWFhYWFcIlxyXG4gICAgKTtcclxuICAgIERyYXdUZXh0KFxyXG4gICAgICAgIC8vIEEgbGl0dGxlIGhvbWFnZSB0byBCQ1ggYW5kIExTQ0cgZm9yIGJlaW5nIGdyZWF0IG9wZW4gc291cmNlIHJlZmVyZW5jZXMgb24gdGhpcyBwcm9qZWN0XHJcbiAgICAgICAgTG9jYWxpemVkVGV4dChcIlRoaXMgYWN0aW9uIGNhbiBub3QgYmUgdW5kb25lIVwiKSxcclxuICAgICAgICBDQU5WQVNfV0lEVEggLyAyLFxyXG4gICAgICAgIDQwMCxcclxuICAgICAgICBcIiNmZjAwMDBcIixcclxuICAgICAgICBcIiNhYWFhYWFcIlxyXG4gICAgKTtcclxuICAgIERyYXdUZXh0KFxyXG4gICAgICAgIExvY2FsaXplZFRleHQoXCJFeHBvcnQgYW5kIHNhdmUgeW91ciBzZXR0aW5ncyBCRUZPUkUgY29uZmlybWluZyBpZiB5b3UgYXJlIHVuc3VyZS5cIiksXHJcbiAgICAgICAgQ0FOVkFTX1dJRFRIIC8gMixcclxuICAgICAgICA1NTAsXHJcbiAgICAgICAgXCIjNjk2OTY5XCIsXHJcbiAgICAgICAgXCIjYWFhYWFhXCJcclxuICAgICk7XHJcblxyXG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcclxuICAgIGlmIChub3cgPD0gYWxsb3dSZXNldFRpbWUpXHJcbiAgICB7XHJcbiAgICAgICAgRHJhd0J1dHRvbihcclxuICAgICAgICAgICAgLi4uUkVTRVRfQ09ORklSTV9QT1NJVElPTixcclxuICAgICAgICAgICAgYCR7TG9jYWxpemVkVGV4dChcIkNvbmZpcm1cIil9ICgke01hdGguZmxvb3IoKGFsbG93UmVzZXRUaW1lIC0gbm93KSAvIDEwMDApfSlgLFxyXG4gICAgICAgICAgICBcIiNhYWFhYWFcIixcclxuICAgICAgICAgICAgdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgIHRydWVcclxuICAgICAgICApO1xyXG4gICAgfVxyXG4gICAgZWxzZVxyXG4gICAge1xyXG4gICAgICAgIERyYXdCdXR0b24oXHJcbiAgICAgICAgICAgIC4uLlJFU0VUX0NPTkZJUk1fUE9TSVRJT04sXHJcbiAgICAgICAgICAgIExvY2FsaXplZFRleHQoXCJDb25maXJtXCIpLFxyXG4gICAgICAgICAgICBcIiNmZjAwMDBcIlxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgRHJhd0J1dHRvbihcclxuICAgICAgICAuLi5SRVNFVF9DQU5DRUxfUE9TSVRJT04sXHJcbiAgICAgICAgTG9jYWxpemVkVGV4dChcIkNhbmNlbFwiKSxcclxuICAgICAgICBcIldoaXRlXCJcclxuICAgICk7XHJcblxyXG4gICAgTWFpbkNhbnZhcy50ZXh0QWxpZ24gPSBwcmV2VGV4dEFsaWduO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gUHJlZmVyZW5jZU1lbnVSdW4oKTogdm9pZFxyXG57XHJcbiAgICBpZiAoY3VycmVudE1lbnUgPT09IFwiUkVTRVRfU2V0dGluZ3NcIilcclxuICAgIHtcclxuICAgICAgICBSZXNldE1lbnVSdW4oKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcHJldlRleHRBbGlnbiA9IE1haW5DYW52YXMudGV4dEFsaWduO1xyXG4gICAgRHJhd0J1dHRvbiguLi5FWElUX1BPU0lTVElPTiwgXCJcIiwgXCJXaGl0ZVwiLCBcIkljb25zL0V4aXQucG5nXCIpO1xyXG4gICAgTWFpbkNhbnZhcy50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xyXG4gICAgRHJhd1RleHQoYCR7TG9jYWxpemVkVGV4dChcIk1heWEncyBQZXRwbGF5IEFkZGl0aW9uc1wiKX0ke2N1cnJlbnRNZW51ID8gYCAtICR7c2V0dGluZ0NoYXI/Lk5pY2tuYW1lIHx8IHNldHRpbmdDaGFyPy5OYW1lfSdzICR7TG9jYWxpemVkVGV4dChNRU5VX1RJVExFU1tjdXJyZW50TWVudV0gPz8gY3VycmVudE1lbnUpfWAgOiBcIlwifWAsIDEwMDAsIDEyNSwgXCJCbGFja1wiLCBcIkdyYXlcIik7XHJcblxyXG4gICAgLy8gUmVzZXQsIGltcG9ydCBhbmQgZXhwb3J0IGJ1dCBvbmx5IHdoaWxlIFBsYXllclxyXG4gICAgaWYgKHNldHRpbmdDaGFyPy5NZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXIgJiYgY3VycmVudE1lbnUgPT09IG51bGwpXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKHNob3dTZXR0aW5nc0FsZXJ0ID49IERhdGUubm93KCkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBNYWluQ2FudmFzLnRleHRBbGlnbiA9IFwibGVmdFwiO1xyXG4gICAgICAgICAgICBEcmF3VGV4dEZpdChcclxuICAgICAgICAgICAgICAgIHNldHRpbmdzQWxlcnRUZXh0LFxyXG4gICAgICAgICAgICAgICAgLi4uQUxFUlRfUE9TSVRJT04sXHJcbiAgICAgICAgICAgICAgICBcIkJsYWNrXCIsXHJcbiAgICAgICAgICAgICAgICBcIkdyYXlcIlxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBNYWluQ2FudmFzLnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XHJcbiAgICAgICAgRHJhd0J1dHRvbihcclxuICAgICAgICAgICAgLi4uUkVTRVRfUE9TSVRJT04sXHJcbiAgICAgICAgICAgIExvY2FsaXplZFRleHQoXCJSRVNFVFwiKSxcclxuICAgICAgICAgICAgXCIjZmYyZTJlYWFcIixcclxuICAgICAgICAgICAgXCJcIixcclxuICAgICAgICAgICAgTG9jYWxpemVkVGV4dChcIlJlc2V0IGFsbCB5b3VyIHNldHRpbmdzIGJhY2sgdG8gZGVmYXVsdFwiKVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgRHJhd0J1dHRvbihcclxuICAgICAgICAgICAgLi4uSU1QT1JUX1BPU0lUSU9OLFxyXG4gICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KFwiSW1wb3J0XCIpLFxyXG4gICAgICAgICAgICBcIiNmZmZmZmZcIixcclxuICAgICAgICAgICAgXCJcIixcclxuICAgICAgICAgICAgTG9jYWxpemVkVGV4dChcIkltcG9ydCB0aGUgc2V0dGluZ3MgY29waWVkIHRvIHlvdXIgY2xpcGJvYXJkXCIpXHJcbiAgICAgICAgKTtcclxuICAgICAgICBEcmF3QnV0dG9uKFxyXG4gICAgICAgICAgICAuLi5FWFBPUlRfUE9TSVRJT04sXHJcbiAgICAgICAgICAgIExvY2FsaXplZFRleHQoXCJFeHBvcnRcIiksXHJcbiAgICAgICAgICAgIFwiI2ZmZmZmZlwiLFxyXG4gICAgICAgICAgICBcIlwiLFxyXG4gICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KFwiRXhwb3J0IHlvdXIgY3VycmVudCBzZXR0aW5ncyB0byB0aGUgY2xpcGJvYXJkXCIpXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICBNYWluQ2FudmFzLnRleHRBbGlnbiA9IFwibGVmdFwiO1xyXG4gICAgaWYgKGN1cnJlbnRNZW51ID09PSBudWxsKVxyXG4gICAge1xyXG4gICAgICAgIC8vIERyYXcgYWxsIHRoZSBidXR0b25zIHRvIGFjY2VzcyB0aGUgc3VibWVudXNcclxuICAgICAgICBEcmF3TWVudU9wdGlvbnMoTUVOVV9DQVRFR09SSUVTKCkpO1xyXG4gICAgfVxyXG4gICAgZWxzZVxyXG4gICAge1xyXG4gICAgICAgIC8vIERyYXcgdGhlIG9wdGlvbnMgaW4gdGhlIHN1Ym1lbnVcclxuICAgICAgICBEcmF3U3ViTWVudU9wdGlvbnMoY3VycmVudE1lbnUpO1xyXG4gICAgfVxyXG4gICAgTWFpbkNhbnZhcy50ZXh0QWxpZ24gPSBwcmV2VGV4dEFsaWduO1xyXG4gICAgcmV0dXJuO1xyXG59XHJcblxyXG5mdW5jdGlvbiBQcmVmZXJlbmNlTWVudUV4aXQoKTogYm9vbGVhbiB8IHZvaWRcclxue1xyXG4gICAgLy8gU2hvdWxkbid0IGJlIG5lZWRlZCBidXQgYWN0cyBhcyBmYWlsc2FmZSBhbmQgbWFrZXMgdHlwZXNjcmlwdCBoYXBweVxyXG4gICAgaWYgKCFzZXR0aW5nQ2hhcikgeyByZXR1cm47IH1cclxuXHJcbiAgICBpZiAoc2V0dGluZ3NFZGl0ZWQpXHJcbiAgICB7XHJcbiAgICAgICAgaWYgKHNldHRpbmdDaGFyLk1lbWJlck51bWJlciA9PT0gUGxheWVyLk1lbWJlck51bWJlcilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIExldmVsU3luYyhmYWxzZSwgZmFsc2UsIGZhbHNlKTtcclxuICAgICAgICAgICAgU2F2ZVN0b3JhZ2UodHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIFNlbmRNUEFNZXNzYWdlKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiU2V0dGluZ1B1dFJlcXVlc3RcIixcclxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nczogc2V0dGluZ0NoYXIuTVBBXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc2V0dGluZ0NoYXIuTWVtYmVyTnVtYmVyXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKHNldHRpbmdDaGFyLk1lbWJlck51bWJlciA9PT0gUGxheWVyLk1lbWJlck51bWJlcilcclxuICAgIHtcclxuICAgICAgICBQcmVmZXJlbmNlU3Vic2NyZWVuRXh0ZW5zaW9uc0NsZWFyKCk7XHJcbiAgICB9XHJcbiAgICBzZXR0aW5nc0VkaXRlZCA9IGZhbHNlO1xyXG4gICAgc2V0dGluZ0NoYXIgPSBudWxsO1xyXG4gICAgc2V0dGluZ3NPcGVuID0gZmFsc2U7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDYWxsZWQgb25jZSB3aGVuIHRoZSBQcmVmZXJlbmNlIE1lbnUgbG9hZHMgdXAgYWZ0ZXIgb3BlbmluZ1xyXG4gKi9cclxuZnVuY3Rpb24gUHJlZmVyZW5jZU1lbnVMb2FkKCk6IHZvaWRcclxue1xyXG4gICAgLy8gU2hvdWxkbid0IGJlIG5lZWRlZCBidXQgYWN0cyBhcyBmYWlsc2FmZSBhbmQgbWFrZXMgdHlwZXNjcmlwdCBoYXBweVxyXG4gICAgaWYgKCFzZXR0aW5nQ2hhcikgeyByZXR1cm47IH1cclxuICAgIHNldHRpbmdzT3BlbiA9IHRydWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIFBsYXllclByZWZlcmVuY2VNZW51TG9hZCgpOiB2b2lkXHJcbntcclxuICAgIHNldHRpbmdzRWRpdGVkID0gZmFsc2U7XHJcbiAgICBzZXR0aW5nQ2hhciA9IFBsYXllcjtcclxuICAgIFByZWZlcmVuY2VNZW51TG9hZCgpO1xyXG59XHJcblxyXG4vKipcclxuICogR2V0IHRoZSBzdHJpbmcgd2l0aCBhbiBNUEEgaWRlbnRpZmllciBpbiBmcm9udFxyXG4gKi9cclxuZnVuY3Rpb24gRWxlbWVudE5hbWUodGl0bGU6IE1vZHVsZVRpdGxlIHwgc3RyaW5nLCBzZXR0aW5nOiBzdHJpbmcpOiBzdHJpbmdcclxue1xyXG4gICAgcmV0dXJuIGBNUEFfT1BUSU9OXyR7dGl0bGV9JHtzZXR0aW5nfWA7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBVcGRhdGUgdGhlIHZhbHVlcyBpbnNpZGUgdGhlIEhUTUwgZWxlbWVudHMgdG8gcmVmbGVjdCB0aGUgY3VycmVudCBzZXR0aW5nc1xyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIFVwZGF0ZUVsZW1lbnRWYWx1ZXMoKTogdm9pZFxyXG57XHJcbiAgICAvLyBTaG91bGRuJ3QgYmUgbmVlZGVkIGJ1dCBhY3RzIGFzIGZhaWxzYWZlIGFuZCBtYWtlcyB0eXBlc2NyaXB0IGhhcHB5XHJcbiAgICBpZiAoIXNldHRpbmdDaGFyKSB7IHJldHVybjsgfVxyXG5cclxuICAgIE9iamVjdC5lbnRyaWVzKGRlZmF1bHRTZXR0aW5ncykuZm9yRWFjaCgoY2F0ZWdvcnkpID0+XHJcbiAgICB7XHJcbiAgICAgICAgY29uc3QgW3NldHRpbmdUaXRsZSwgc2V0dGluZ3NdID0gY2F0ZWdvcnkgYXMgW01vZHVsZVRpdGxlLCBNUEFDYXRlZ29yeVNldHRpbmdzXTtcclxuICAgICAgICBPYmplY3QuZW50cmllcyhzZXR0aW5ncykuZm9yRWFjaCgoc2V0KSA9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgW3NldHRpbmdOYW1lLCBzZXR0aW5nXSA9IHNldDtcclxuICAgICAgICAgICAgY29uc3QgaWQgPSBFbGVtZW50TmFtZShzZXR0aW5nVGl0bGUsIHNldHRpbmdOYW1lKTtcclxuICAgICAgICAgICAgaWYgKElzVGV4dFNldHRpbmcoc2V0dGluZykgfHwgSXNOdW1iZXJTZXR0aW5nKHNldHRpbmcpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBFbGVtZW50U2V0QXR0cmlidXRlKGlkLCBcInZhbHVlXCIsIHNldHRpbmdDaGFyIS5NUEFbc2V0dGluZ1RpdGxlXVtzZXR0aW5nTmFtZV0udG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGUgYW5kIGhpZGUgYWxsIHRoZSBIVE1MIGVsZW1lbnRzIHRoYXQgYXJlIG5lZWRlZCBmb3IgdGhlIFByZWZlcmVuY2UgU2V0dGluZyBwYWdlXHJcbiAqL1xyXG5mdW5jdGlvbiBDcmVhdGVIVE1MRWxlbWVudHMoc3ViTWVudTogTW9kdWxlVGl0bGUgfCBudWxsLCBwYWdlOiBudW1iZXIgPSBjdXJyZW50UGFnZSk6IHZvaWRcclxue1xyXG4gICAgaWYgKCFzdWJNZW51KSB7IHJldHVybjsgfVxyXG4gICAgLy8gU2hvdWxkbid0IGJlIG5lZWRlZCBidXQgYWN0cyBhcyBmYWlsc2FmZSBhbmQgbWFrZXMgdHlwZXNjcmlwdCBoYXBweVxyXG4gICAgaWYgKCFzZXR0aW5nQ2hhcikgeyByZXR1cm47IH1cclxuXHJcbiAgICBPYmplY3QuZW50cmllcyhkZWZhdWx0U2V0dGluZ3Nbc3ViTWVudV0gPz8ge30pLnNsaWNlKChwYWdlIC0gMSkgKiBPUFRJT05fUEVSX1BBR0UsIHBhZ2UgKiBPUFRJT05fUEVSX1BBR0UpLmZvckVhY2goKHNldCkgPT5cclxuICAgIHtcclxuICAgICAgICBjb25zdCBbc2V0dGluZ05hbWUsIHNldHRpbmddID0gc2V0O1xyXG4gICAgICAgIGNvbnN0IGlkID0gRWxlbWVudE5hbWUoc3ViTWVudSwgc2V0dGluZ05hbWUpO1xyXG4gICAgICAgIGlmIChJc1RleHRTZXR0aW5nKHNldHRpbmcpKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgRWxlbWVudENyZWF0ZUlucHV0KGlkLCBcInRleHRcIiwgc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gYXMgc3RyaW5nLCBzZXR0aW5nLm1heENoYXJzID8/IE9QVElPTl9URVhUX01BWF9DSEFSUyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKElzTnVtYmVyU2V0dGluZyhzZXR0aW5nKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIEVsZW1lbnRDcmVhdGVJbnB1dChpZCwgXCJudW1iZXJcIiwgc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0udG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgIEVsZW1lbnRTZXRBdHRyaWJ1dGUoaWQsIFwibWluXCIsIHNldHRpbmcubWluLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICBFbGVtZW50U2V0QXR0cmlidXRlKGlkLCBcIm1heFwiLCBzZXR0aW5nLm1heC50b1N0cmluZygpKTtcclxuICAgICAgICAgICAgRWxlbWVudFNldEF0dHJpYnV0ZShpZCwgXCJpbnB1dG1vZGVcIiwgXCJkZWNpbWFsXCIpO1xyXG4gICAgICAgICAgICBpZiAoc2V0dGluZy5zdGVwKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBFbGVtZW50U2V0QXR0cmlidXRlKGlkLCBcInN0ZXBcIiwgc2V0dGluZy5zdGVwLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuLyoqXHJcbiAqIFVwZGF0ZSB0aGUgc2V0dGluZyB2YWx1ZXMgdG8gcmVmbGVjdCB0aG9zZSBpbiB0aGUgaHRtbCBlbGVtZW50cyBhbmQgZGVsZXRlIHRoZW0gYWZ0ZXJcclxuICovXHJcbmZ1bmN0aW9uIFVwZGF0ZUFuZERlbGV0ZUhUTUxFbGVtZW50cyhzdWJNZW51OiBNb2R1bGVUaXRsZSwgcGFnZTogbnVtYmVyID0gY3VycmVudFBhZ2UpOiB2b2lkXHJcbntcclxuICAgIC8vIFNob3VsZG4ndCBiZSBuZWVkZWQgYnV0IGFjdHMgYXMgZmFpbHNhZmUgYW5kIG1ha2VzIHR5cGVzY3JpcHQgaGFwcHlcclxuICAgIGlmICghc2V0dGluZ0NoYXIpIHsgcmV0dXJuOyB9XHJcblxyXG4gICAgLy8gVXBkYXRlIHRoZSB2aXJ0dWFsIHBldCBzdGF0cyBiYXNlZCBvbiBjdXJyZW50IHZhbHVlcyBzbyB0aGUgbGV2ZWwgZG9lc24ndCBqdW1wIGFyb3VuZFxyXG4gICAgaWYgKHN1Yk1lbnUgPT09IE1vZHVsZVRpdGxlLlZpcnR1YWxQZXQpXHJcbiAgICB7XHJcbiAgICAgICAgTGV2ZWxTeW5jKGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIE9iamVjdC5lbnRyaWVzKGRlZmF1bHRTZXR0aW5nc1tzdWJNZW51XSA/PyB7fSkuc2xpY2UoKHBhZ2UgLSAxKSAqIE9QVElPTl9QRVJfUEFHRSwgcGFnZSAqIE9QVElPTl9QRVJfUEFHRSkuZm9yRWFjaCgoc2V0KSA9PlxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IFtzZXR0aW5nTmFtZSwgc2V0dGluZ10gPSBzZXQ7XHJcbiAgICAgICAgY29uc3QgaWQgPSBFbGVtZW50TmFtZShzdWJNZW51LCBzZXR0aW5nTmFtZSk7XHJcbiAgICAgICAgaWYgKElzVGV4dFNldHRpbmcoc2V0dGluZykpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAoc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gIT09IEVsZW1lbnRWYWx1ZShpZCkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdID0gRWxlbWVudFZhbHVlKGlkKTtcclxuICAgICAgICAgICAgICAgIHNldHRpbmdzRWRpdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBFbGVtZW50UmVtb3ZlKGlkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKElzTnVtYmVyU2V0dGluZyhzZXR0aW5nKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmIChzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSAhPT0gTnVtYmVyKEVsZW1lbnRWYWx1ZShpZCkpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSA9IE51bWJlcihFbGVtZW50VmFsdWUoaWQpKTtcclxuICAgICAgICAgICAgICAgIHNldHRpbmdzRWRpdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBFbGVtZW50UmVtb3ZlKGlkKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFNldHRpbmdzTW9kdWxlIGV4dGVuZHMgTW9kdWxlXHJcbntcclxuICAgIGdldCBUaXRsZSgpOiBNb2R1bGVUaXRsZVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBNb2R1bGVUaXRsZS5TZXR0aW5ncztcclxuICAgIH1cclxuXHJcbiAgICBMb2FkKCk6IHZvaWRcclxuICAgIHtcclxuICAgICAgICAvLyBBZGQgc2V0dGluZ3MgdG8gdGhlIGV4dGVuc2lvbiBvcHRpb25zXHJcbiAgICAgICAgUHJlZmVyZW5jZVJlZ2lzdGVyRXh0ZW5zaW9uU2V0dGluZyh7XHJcbiAgICAgICAgICAgIElkZW50aWZpZXI6IFwiTVBBXCIsXHJcbiAgICAgICAgICAgIEJ1dHRvblRleHQ6IExvY2FsaXplZFRleHQoXCJNUEEgU2V0dGluZ3NcIiksXHJcbiAgICAgICAgICAgIEltYWdlOiBJQ09OUy5QQVcsXHJcbiAgICAgICAgICAgIGNsaWNrOiBQcmVmZXJlbmNlTWVudUNsaWNrLFxyXG4gICAgICAgICAgICBydW46IFByZWZlcmVuY2VNZW51UnVuLFxyXG4gICAgICAgICAgICBleGl0OiBQcmVmZXJlbmNlTWVudUV4aXQsXHJcbiAgICAgICAgICAgIGxvYWQ6IFBsYXllclByZWZlcmVuY2VNZW51TG9hZFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBXaGVuIHByZXNzaW5nIGVzY2FwZSwgb25seSBnbyB0byBtYWluIG1lbnUgaWYgaW4gc3ViIG1lbnVcclxuICAgICAgICBmdW5jdGlvbiBFc2NhcGVIYW5kbGVyKGV2ZW50OiBLZXlib2FyZEV2ZW50KTogdm9pZFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgKGV2ZW50LmtleSA9PT0gXCJFc2NhcGVcIiB8fCBldmVudC5rZXkgPT09IFwiRXNjXCIpXHJcbiAgICAgICAgICAgICAgICAmJiBzZXR0aW5nc09wZW5cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudE1lbnUgPT09IG51bGwpXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgUHJlZmVyZW5jZU1lbnVFeGl0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjdXJyZW50TWVudSA9PT0gXCJSRVNFVF9TZXR0aW5nc1wiKVxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGFsbG93UmVzZXRUaW1lID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBVcGRhdGVBbmREZWxldGVIVE1MRWxlbWVudHMoY3VycmVudE1lbnUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlID0gMTtcclxuICAgICAgICAgICAgICAgICAgICBtYXhQYWdlcyA9IDE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50TWVudSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5cHJlc3NcIiwgRXNjYXBlSGFuZGxlciwgdHJ1ZSk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgRXNjYXBlSGFuZGxlciwgdHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgVW5sb2FkKCk6IHZvaWRcclxuICAgIHtcclxuICAgICAgICAvLyBVbmxvYWQgYmVpbmcgZW1wdHkgaXMgd2FudGVkLCBuZXZlciB1bmxvYWQgc2V0dGluZ3NcclxuICAgIH1cclxuXHJcbiAgICBSZWxvYWQoKTogdm9pZFxyXG4gICAge1xyXG4gICAgICAgIC8vIFJlbG9hZCBiZWluZyBlbXB0eSBpcyB3YW50ZWQsIG5ldmVyIHJlbG9hZCBzZXR0aW5nc1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IEFycmF5VG9SZWFkYWJsZVN0cmluZywgSG9va2VkTWVzc2FnZSwgTVBBTWVzc2FnZUNvbnRlbnQsIE1QQU5vdGlmeVBsYXllciB9IGZyb20gXCIuLi91dGlsL21lc3NhZ2luZ1wiO1xyXG5pbXBvcnQgeyBMb2NhbGl6ZWRUZXh0IH0gZnJvbSBcIi4uL2xvY2FsaXphdGlvbi9sb2NhbGl6YXRpb25cIjtcclxuaW1wb3J0IHsgSUNPTlMgfSBmcm9tIFwiLi4vdXRpbC9jb25zdGFudHNcIjtcclxuaW1wb3J0IHsgSG9va0Z1bmN0aW9uIH0gZnJvbSBcIi4uL3V0aWwvc2RrXCI7XHJcbmltcG9ydCB7IE1vZHVsZSwgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi9fbW9kdWxlXCI7XHJcbmltcG9ydCB7IEV4aXRCdXR0b25QcmVzc2VkLCBNRU5VX1RJVExFUywgUHJlZmVyZW5jZU1lbnVDbGljaywgUHJlZmVyZW5jZU1lbnVSdW4sIFNldFNldHRpbmdDaGFyIH0gZnJvbSBcIi4vc2V0dGluZ3NcIjtcclxuaW1wb3J0IHsgU2F2ZVN0b3JhZ2UgfSBmcm9tIFwiLi4vdXRpbC9zdG9yYWdlXCI7XHJcbmltcG9ydCB7IExldmVsU3luYyB9IGZyb20gXCIuL3ZpcnR1YWxQZXRcIjtcclxuaW1wb3J0IHsgSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cCB9IGZyb20gXCIuLi91dGlsL2F1dGhvcml0eVwiO1xyXG5pbXBvcnQgeyBzZXR0aW5ncyBhcyBkZWZhdWx0U2V0dGluZ3MgfSBmcm9tIFwiLi4vdXRpbC9yZWdpc3Rlck1vZHVsZXNcIjtcclxuXHJcbi8vIE90aGVyIHNldHRpbmdzXHJcbmNvbnN0IE1QQV9SRU1PVEUgPSBbMTcwMCwgNzY1LCA5MCwgOTBdIGFzIGNvbnN0O1xyXG4vLyBCQ1ggbW92ZXMgdGhlIGJ1dHRvbiBkb3duIGJ5IDM1IGZvciBzb21lIHJlYXNvblxyXG5jb25zdCBNUEFfUkVNT1RFX0JDWCA9IFsxNzAwLCA4MDAsIDkwLCA5MF0gYXMgY29uc3Q7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gT2JqZWN0RGlmZmVyZW5jZXMob2xkT2JqOiBvYmplY3QsIG5ld09iajogb2JqZWN0KTogb2JqZWN0XHJcbntcclxuICAgIGNvbnN0IGRpZmZlcmVuY2VzID0ge307XHJcblxyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gb2xkT2JqKVxyXG4gICAge1xyXG4gICAgICAgIC8vIEtleSBpcyBtaXNzaW5nIGluIG5ld09ialxyXG4gICAgICAgIGlmICghKGtleSBpbiBuZXdPYmopKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgZGlmZmVyZW5jZXNba2V5XSA9IHsgb2xkOiBvbGRPYmpba2V5XSwgbmV3OiB1bmRlZmluZWQgfTtcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodHlwZW9mIG9sZE9ialtrZXldID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBuZXdPYmpba2V5XSA9PT0gXCJvYmplY3RcIiAmJiAhQXJyYXkuaXNBcnJheShvbGRPYmpba2V5XSkpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvLyBJZiBib3RoIGFyZSBvYmplY3RzLCByZWN1cnNpdmVseSBjaGVjayBmb3IgZGlmZmVyZW5jZXNcclxuICAgICAgICAgICAgY29uc3QgZGlmZiA9IE9iamVjdERpZmZlcmVuY2VzKG9sZE9ialtrZXldLCBuZXdPYmpba2V5XSk7XHJcbiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhkaWZmKS5sZW5ndGggPiAwKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBkaWZmZXJlbmNlc1trZXldID0gZGlmZjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChvbGRPYmpba2V5XSAhPT0gbmV3T2JqW2tleV0pXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvLyBJZiB2YWx1ZXMgYXJlIGRpZmZlcmVudCwgc3RvcmUgdGhlIGRpZmZlcmVuY2VcclxuICAgICAgICAgICAgZGlmZmVyZW5jZXNba2V5XSA9IHsgb2xkOiBvbGRPYmpba2V5XSwgbmV3OiBuZXdPYmpba2V5XSB9O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBOZXcga2V5cyBub3QgZm91bmQgaW4gdGhlIG9sZCBvYmplY3RcclxuICAgIGZvciAoY29uc3Qga2V5IGluIG5ld09iailcclxuICAgIHtcclxuICAgICAgICBpZiAoIShrZXkgaW4gb2xkT2JqKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGRpZmZlcmVuY2VzW2tleV0gPSB7IG9sZDogdW5kZWZpbmVkLCBuZXc6IG5ld09ialtrZXldIH07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBkaWZmZXJlbmNlcztcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFNldHRpbmdzT3RoZXJNb2R1bGUgZXh0ZW5kcyBNb2R1bGVcclxue1xyXG4gICAgZ2V0IFRpdGxlKCk6IE1vZHVsZVRpdGxlXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIE1vZHVsZVRpdGxlLlNldHRpbmdzT3RoZXI7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IFN5bmNMaXN0ZW5lcnMoKTogSG9va2VkTWVzc2FnZVtdXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbW9kdWxlOiB0aGlzLlRpdGxlLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJTZXR0aW5nUHV0UmVxdWVzdFwiLFxyXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoc2VuZGVyOiBDaGFyYWN0ZXIsIGNvbnRlbnQ6IE1QQU1lc3NhZ2VDb250ZW50KTogdm9pZFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZwRW5hYmxlZCA9IFBsYXllci5NUEFbTW9kdWxlVGl0bGUuVmlydHVhbFBldF0uZW5hYmxlZDtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBkaWZmZXJlbmNlcyA9IE9iamVjdERpZmZlcmVuY2VzKFBsYXllci5NUEEsIGNvbnRlbnQuc2V0dGluZ3MpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYW5nZWRTZXR0aW5nczogc3RyaW5nW10gPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRGVsZXRlIHRoZSBWUCBsZXZlbHMgYXMgdGhleSB3aWxsIGJlIHN5bmNlZCB3aXRoIHRoZSBwbGF5ZXIgaW5zdGVhZFxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkaWZmZXJlbmNlcz8uW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdPy5sZXZlbHMpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZGlmZmVyZW5jZXNbTW9kdWxlVGl0bGUuVmlydHVhbFBldF0ubGV2ZWxzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoZGlmZmVyZW5jZXNbTW9kdWxlVGl0bGUuVmlydHVhbFBldF0pLmxlbmd0aCA9PT0gMClcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGRpZmZlcmVuY2VzW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIExldmVsU3luYyhmYWxzZSwgZmFsc2UsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gISEhISEhISEhISEhISEhISEhISEhISFcclxuICAgICAgICAgICAgICAgICAgICAvLyBEbyBBdXRob3JpdHkgcXVlcnlzIGZpcnN0XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gISEhISEhISEhISEhISEhISEhISEhISFcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2aW91c0F1dGhvcml0eSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoUGxheWVyLk1QQT8uW01vZHVsZVRpdGxlLkF1dGhvcml0eV0pKTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdBdXRob3JpdHkgPSBkaWZmZXJlbmNlc1tNb2R1bGVUaXRsZS5BdXRob3JpdHldO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdBdXRob3JpdHkpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZGlmZmVyZW5jZXNbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVmFsaWRhdGUgdGhhdCBhdXRob3JpdHkgY2FuIGJlIGNoYW5nZWQgYmFzZWQgb24gY3VycmVudCBhdXRob3JpdHkgZmlyc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKElzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAoc2VuZGVyLk1lbWJlck51bWJlciA/PyAtMSwgcHJldmlvdXNBdXRob3JpdHlbYG90aGVycyR7TW9kdWxlVGl0bGUuQXV0aG9yaXR5fWBdKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlZFNldHRpbmdzLnB1c2goTG9jYWxpemVkVGV4dChNb2R1bGVUaXRsZS5BdXRob3JpdHkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZW50cnkgaW4gbmV3QXV0aG9yaXR5KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdBdXRob3JpdHlbZW50cnldLm5ldyAhPT0gdW5kZWZpbmVkICYmIG5ld0F1dGhvcml0eVtlbnRyeV0ub2xkICE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV1bZW50cnldID0gbmV3QXV0aG9yaXR5W2VudHJ5XS5uZXc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBNUEE6ICR7c2VuZGVyLk5pY2tuYW1lIHx8IHNlbmRlci5OYW1lfSAoJHtzZW5kZXIuTWVtYmVyTnVtYmVyfSkgdHJpZWQgdG8gaWxsZWdhbGx5IG1vZGlmeSB5b3VyICR7TW9kdWxlVGl0bGUuQXV0aG9yaXR5fSBzZXR0aW5ncyFgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB0aXRsZSBpbiBkaWZmZXJlbmNlcylcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFZhbGlkYXRlIHRoYXQgYW55IHNldHRpbmdzIGNhbiBiZSBjaGFuZ2VkIHdpdGggRUlUSEVSIHRoZSBvbGQgb3IgbmV3IGF1dGhvcml0eVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTZW5kZXIgaXMgbm90IGF1dGhvcml6ZWQgdG8gY2hhbmdlIHRoZSBzZXR0aW5ncywgaWdub3JlIGFuZCB3YXJuIGluIGNvbnNvbGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cChzZW5kZXIuTWVtYmVyTnVtYmVyID8/IC0xLCBwcmV2aW91c0F1dGhvcml0eVtgb3RoZXJzJHt0aXRsZX1gXSA/PyBcIk5vbmVcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBJc01lbWJlck51bWJlckluQXV0aEdyb3VwKHNlbmRlci5NZW1iZXJOdW1iZXIgPz8gLTEsIFBsYXllci5NUEE/LltNb2R1bGVUaXRsZS5BdXRob3JpdHldPy5bYG90aGVycyR7dGl0bGV9YF0gPz8gXCJOb25lXCIpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgTVBBOiAke3NlbmRlci5OaWNrbmFtZSB8fCBzZW5kZXIuTmFtZX0gKCR7c2VuZGVyLk1lbWJlck51bWJlcn0pIHRyaWVkIHRvIGlsbGVnYWxseSBtb2RpZnkgeW91ciAke3RpdGxlfSBzZXR0aW5ncyFgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VkU2V0dGluZ3MucHVzaChMb2NhbGl6ZWRUZXh0KE1FTlVfVElUTEVTW3RpdGxlIGFzIE1vZHVsZVRpdGxlXSA/PyB0aXRsZSkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9kdWxlRGlmZiA9IGRpZmZlcmVuY2VzW3RpdGxlXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBlbnRyeSBpbiBtb2R1bGVEaWZmKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobW9kdWxlRGlmZltlbnRyeV0ubmV3ICE9PSB1bmRlZmluZWQgJiYgbW9kdWxlRGlmZltlbnRyeV0ub2xkICE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGxheWVyLk1QQVt0aXRsZSBhcyBNb2R1bGVUaXRsZV1bZW50cnldID0gbW9kdWxlRGlmZltlbnRyeV0ubmV3O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBJZiBoYXJkY29yZSBpcyBzZXQsIG1ha2Ugc3VyZSBpdHMgc2V0dGluZ3MgYXJlIHNldFxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLlByb2ZpbGVdLmhhcmRjb3JlKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgKGRlZmF1bHRTZXR0aW5nc1tNb2R1bGVUaXRsZS5Qcm9maWxlXT8uaGFyZGNvcmUgYXMgYW55KT8ub25TZXQoUGxheWVyKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIENhdGNoIFZpcnR1YWwgUGV0IGxldmVscyB1cCB0byBkYXRlIGlmIGl0IHdhcyB0dXJuZWQgb24gLyBvZmZcclxuICAgICAgICAgICAgICAgICAgICBpZiAodnBFbmFibGVkICE9PSBQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdLmVuYWJsZWQpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdLmxldmVscy5sYXN0VXBkYXRlZCA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hhbmdlZFNldHRpbmdzLmxlbmd0aCAhPT0gMClcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE1QQU5vdGlmeVBsYXllcihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvY2FsaXplZFRleHQoXCJTb3VyY2VDaGFyYWN0ZXIganVzdCB1cGRhdGVkIHlvdXIgU2V0dGluZ3NBcnJheSBzZXR0aW5ncy5cIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZShcIlNvdXJjZUNoYXJhY3RlclwiLCBzZW5kZXIuTmlja25hbWUgfHwgc2VuZGVyLk5hbWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoXCJTZXR0aW5nc0FycmF5XCIsIEFycmF5VG9SZWFkYWJsZVN0cmluZyhjaGFuZ2VkU2V0dGluZ3MpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gTGV2ZWxTeW5jKGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIFNhdmVTdG9yYWdlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXTtcclxuICAgIH1cclxuXHJcbiAgICBMb2FkKCk6IHZvaWRcclxuICAgIHtcclxuICAgICAgICBzdXBlci5Mb2FkKCk7XHJcblxyXG4gICAgICAgIC8vIFByaW8gaGFzIHRvIGJlIDEgbW9yZSB0aGFuIExTQ0cgb3IgQkNYIGhvb2tzXHJcbiAgICAgICAgY29uc3QgaG9va1ByaW9yaXR5ID0gMTI7XHJcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiSW5mb3JtYXRpb25TaGVldFJ1blwiLCBob29rUHJpb3JpdHksIChhcmdzLCBuZXh0KSA9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLy8gTFNDRyBvciBCQ1ggc3Vic2NyZWVucyBvcGVuIGluc3RlYWRcclxuICAgICAgICAgICAgaWYgKHdpbmRvdy5iY3g/LmluQmN4U3Vic2NyZWVuKCkgfHwgd2luZG93LkxTQ0dfUkVNT1RFX1dJTkRPV19PUEVOKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gTVBBIFNldHRpbmdzIGFyZSBvcGVuXHJcbiAgICAgICAgICAgIGlmICh3aW5kb3cuTVBBLm1lbnVMb2FkZWQpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIFByZWZlcmVuY2VNZW51UnVuKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG5leHQoYXJncyk7XHJcbiAgICAgICAgICAgIC8vIERyYXcgdGhlIHJlbW90ZSBpbnRvIHNldHRpbmdzIGJ1dHRvbiBpZiBhcHBsaWNhYmxlXHJcbiAgICAgICAgICAgIGNvbnN0IGNoYXIgPSBJbmZvcm1hdGlvblNoZWV0U2VsZWN0aW9uO1xyXG4gICAgICAgICAgICBpZiAoY2hhcj8uTVBBICYmICFjaGFyLklzUGxheWVyKCkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFjY2VzcyA9IFNlcnZlckNoYXRSb29tR2V0QWxsb3dJdGVtKFBsYXllciwgY2hhcik7XHJcbiAgICAgICAgICAgICAgICBEcmF3QnV0dG9uKFxyXG4gICAgICAgICAgICAgICAgICAgIC4uLigod2luZG93LmJjeCA/IE1QQV9SRU1PVEVfQkNYIDogTVBBX1JFTU9URSkgYXMgcmVhZG9ubHkgW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl0pLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYWNjZXNzID8gXCIjZmZmZmZmXCIgOiBcIiNhYWFhYWFcIixcclxuICAgICAgICAgICAgICAgICAgICBJQ09OUy5QQVcsXHJcbiAgICAgICAgICAgICAgICAgICAgTG9jYWxpemVkVGV4dChhY2Nlc3MgPyBcIk1QQVwiIDogXCJNUEE6IE5vIEJDIGl0ZW0gcGVybWlzc2lvblwiKSxcclxuICAgICAgICAgICAgICAgICAgICBmYWxzZVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJJbmZvcm1hdGlvblNoZWV0Q2xpY2tcIiwgaG9va1ByaW9yaXR5LCAoYXJncywgbmV4dCkgPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmICh3aW5kb3cuTVBBLm1lbnVMb2FkZWQpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBQcmVmZXJlbmNlTWVudUNsaWNrKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGNoYXIgPSBJbmZvcm1hdGlvblNoZWV0U2VsZWN0aW9uO1xyXG4gICAgICAgICAgICBpZiAoTW91c2VJbiguLi5NUEFfUkVNT1RFX0JDWCkgJiYgY2hhcj8uTVBBICYmICFjaGFyLklzUGxheWVyKCkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5NUEEubWVudUxvYWRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAvLyBNUEEgaXMgZGVmaW5lZCBmcm9tIGNoZWNrIGFib3ZlLCBzbyBvdGhlciBjaGFyYWN0ZXIgaXMgc2FtZSBhcyBzZWxmIGluIHN0cnVjdHVyZVxyXG4gICAgICAgICAgICAgICAgU2V0U2V0dGluZ0NoYXIoY2hhciBhcyBQbGF5ZXJDaGFyYWN0ZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiSW5mb3JtYXRpb25TaGVldEV4aXRcIiwgaG9va1ByaW9yaXR5LCAoYXJncywgbmV4dCkgPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmICh3aW5kb3cuTVBBLm1lbnVMb2FkZWQpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIEV4aXRCdXR0b25QcmVzc2VkKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgVW5sb2FkKCk6IHZvaWRcclxuICAgIHtcclxuICAgICAgICBzdXBlci5VbmxvYWQoKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBNb2R1bGUsIE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4vX21vZHVsZVwiO1xyXG5pbXBvcnQgeyBIb29rRnVuY3Rpb24gfSBmcm9tIFwiLi4vdXRpbC9zZGtcIjtcclxuaW1wb3J0IHsgU2F2ZVN0b3JhZ2UgfSBmcm9tIFwiLi4vdXRpbC9zdG9yYWdlXCI7XHJcbmltcG9ydCB7IEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeSB9IGZyb20gXCIuLi91dGlsL21lc3NhZ2luZ1wiO1xyXG5pbXBvcnQgeyBSZWNvcmRTeW5jIH0gZnJvbSBcIi4vZGF0YVN5bmNcIjtcclxuaW1wb3J0IHsgSXNIYXJkY29yZU9uIH0gZnJvbSBcIi4vcHJvZmlsZVwiO1xyXG5cclxuY29uc3QgTUFYX1NFVFRJTkdfVElNRV9IT1VSUyA9IDE2ODtcclxuXHJcbmNvbnN0IFBsYXllclZQOiAoQz86IENoYXJhY3RlcikgPT4gTVBBUmVjb3JkID0gKEM6IENoYXJhY3RlciA9IFBsYXllcikgPT5cclxue1xyXG4gICAgcmV0dXJuIEMuTVBBPy5bTW9kdWxlVGl0bGUuVmlydHVhbFBldF0gPz8ge307XHJcbn07XHJcblxyXG4vLyBjb25zdCBDSEFSQUNURVJTX01PVklORyA9IFtcIlNlcnZlck1vdmVSaWdodFwiLCBcIlNlcnZlclN3YXBcIiwgXCJTZXJ2ZXJNb3ZlTGVmdFwiXTtcclxuXHJcbmNvbnN0IEJPV0xfQ09OU1VNRV9SRUNPVkVSWSA9IDAuNDtcclxuY29uc3QgSVRFTV9DT05VTUVfUkVDT1ZFUlkgPSAwLjI7XHJcblxyXG5jb25zdCBBQ1RJVklUSUVTX0ZPT0RfR0FJTiA9IFtcIkxTQ0dfRWF0XCIsIFwiVGhyb3dJdGVtXCJdO1xyXG5jb25zdCBBQ1RJVklUSUVTX1dBVEVSX0dBSU4gPSBbXCJMU0NHX0Z1bm5lbFBvdXJcIiwgXCJMU0NHX1F1YWZmXCJdO1xyXG5cclxuY29uc3QgRU1PVElDT05TX1NMRUVQID0gW1wiU2xlZXBcIiwgXCJBZmtcIiwgXCJGb3JrXCIsIFwiQ29kaW5nXCIsIFwiUmVhZFwiXTtcclxuY29uc3QgQkVEX1BFUkZFQ1QgPSBbXCJQZXRCZWRcIiwgXCJDcmliXCJdO1xyXG5jb25zdCBCRURfTk9STUFMID0gW1wiTG93Q2FnZVwiLCBcIktlbm5lbFwiLCBcIkJlZFwiLCBcIk1lZGljYWxCZWRcIl07XHJcbmNvbnN0IEJFRF9CQUQgPSBbXCJGdXR1cmlzdGljQ3JhdGVcIiwgXCJEb2xsQm94XCJdO1xyXG5cclxuY29uc3QgQUZGRUNUSU9OX0FDVElWSVRZX0xPVkUgPSBbXCJQZXRcIiwgXCJUYWtlQ2FyZVwiLCBcIkxTQ0dfTnV6emxlXCIsIFwiQ2FyZXNzXCIsIFwiTFNDR19IdWdcIiwgXCJTY3JhdGNoXCJdO1xyXG5jb25zdCBBRkZFQ1RJT05fQUNUSVZJVFlfTElLRSA9IFtcIktpc3NcIiwgXCJNYXNzYWdlSGFuZHNcIiwgXCJMaWNrXCIsIFwiTmliYmxlXCIsIFwiQ3VkZGxlXCIsIFwiR3JvcGVcIl07XHJcbmNvbnN0IEFGRkVDVElPTl9BQ1RJVklUWV9NQVNPID0gW1wiU3BhbmtcIiwgXCJTbGFwXCIsIFwiQml0ZVwiLCBcIlBpbmNoXCIsIFwiUHVsbFwiLCBcIlNob2NrSXRlbVwiLCBcIlNwYW5rSXRlbVwiXTtcclxuY29uc3QgQUZGRUNUSU9OX0xPVkVfQkFTRSA9IDAuMDU7XHJcbmNvbnN0IEFGRkVDVElPTl9MSUtFX0JBU0UgPSAwLjAzO1xyXG5jb25zdCBBRkZFQ1RJT05fTUFTT19CQVNFID0gLTAuMDQ7XHJcblxyXG5jb25zdCBBRkZFQ1RJT05fWk9ORV9BRkZFQ1RJT046IFBhcnRpYWw8UmVjb3JkPEFzc2V0R3JvdXBJdGVtTmFtZSwgbnVtYmVyPj4gPSB7XHJcbiAgICBJdGVtQXJtczogMSxcclxuICAgIEl0ZW1Cb290czogMC44LFxyXG4gICAgSXRlbUJyZWFzdDogMS41LFxyXG4gICAgSXRlbUJ1dHQ6IDEuNSxcclxuICAgIEl0ZW1FYXJzOiAyLjUsXHJcbiAgICBJdGVtRmVldDogMC44LFxyXG4gICAgSXRlbUhhbmRzOiAxLFxyXG4gICAgSXRlbUhlYWQ6IDMsXHJcbiAgICBJdGVtTGVnczogMSxcclxuICAgIEl0ZW1Nb3V0aDogMixcclxuICAgIEl0ZW1OZWNrOiAxLjIsXHJcbiAgICBJdGVtTmlwcGxlczogMS41LFxyXG4gICAgSXRlbU5vc2U6IDEuNyxcclxuICAgIEl0ZW1QZWx2aXM6IDEuMyxcclxuICAgIEl0ZW1Ub3JzbzogMSxcclxuICAgIEl0ZW1WdWx2YTogMixcclxuICAgIEl0ZW1WdWx2YVBpZXJjaW5nczogMi41XHJcbn07XHJcblxyXG5jb25zdCBNSU5fT0ZGTElORV9EUkFJTl9MRVZFTCA9IDAuMjtcclxuXHJcbmNvbnN0IExBU1RfT05MSU5FX0lOVEVSVkFMX01TID0gMTAwMDA7XHJcbmxldCBsYXN0T25saW5lSW50ZXJ2YWw6IG51bWJlcjtcclxuXHJcbmV4cG9ydCBjb25zdCBJc1NsZWVwaW5nRXhwcmVzc2lvbiA9IChjaGFyOiBDaGFyYWN0ZXIpOiBib29sZWFuID0+XHJcbntcclxuICAgIHJldHVybiAoXHJcbiAgICAgICAgY2hhci5BcHBlYXJhbmNlLmZpbmQoKHgpID0+IHguQXNzZXQuR3JvdXAuTmFtZSA9PT0gXCJFeWVzXCIpPy5Qcm9wZXJ0eT8uRXhwcmVzc2lvbiA9PT0gXCJDbG9zZWRcIlxyXG4gICAgICAgICYmIGNoYXIuQXBwZWFyYW5jZS5maW5kKCh4KSA9PiB4LkFzc2V0Lkdyb3VwLk5hbWUgPT09IFwiRXllczJcIik/LlByb3BlcnR5Py5FeHByZXNzaW9uID09PSBcIkNsb3NlZFwiXHJcbiAgICAgICAgJiYgRU1PVElDT05TX1NMRUVQLmluY2x1ZGVzKGNoYXIuQXBwZWFyYW5jZS5maW5kKCh4KSA9PiB4LkFzc2V0Lkdyb3VwLk5hbWUgPT09IFwiRW1vdGljb25cIik/LlByb3BlcnR5Py5FeHByZXNzaW9uID8/IFwiXCIpXHJcbiAgICApO1xyXG59O1xyXG5leHBvcnQgY29uc3QgSXNCZWRNdWx0aXBsaWVyID0gKGNoYXI6IENoYXJhY3Rlcik6IG51bWJlciA9PlxyXG57XHJcbiAgICBjb25zdCBkZXZpY2UgPSBJbnZlbnRvcnlHZXQoY2hhciwgXCJJdGVtRGV2aWNlc1wiKT8uQXNzZXQuTmFtZSA/PyBcIlwiO1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgICBCRURfUEVSRkVDVC5pbmNsdWRlcyhkZXZpY2UpID8gMTAgOiBCRURfTk9STUFMLmluY2x1ZGVzKGRldmljZSkgPyA1IDogQkVEX0JBRC5pbmNsdWRlcyhkZXZpY2UpID8gMiA6IDFcclxuICAgICk7XHJcbn07XHJcblxyXG5sZXQgcGxheWVyU2xlZXBpbmdFeHByZXNzaW9uID0gZmFsc2U7XHJcbmxldCBwbGF5ZXJCZWRNdWx0aXBsaWVyID0gMTtcclxuXHJcbmV4cG9ydCB0eXBlIFZpcnR1YWxQZXRTdGF0Q2F0ZWdvcnkgPSBcImZvb2RcIiB8IFwid2F0ZXJcIiB8IFwic2xlZXBcIiB8IFwiYWZmZWN0aW9uXCI7XHJcbmV4cG9ydCB0eXBlIFZpcnR1YWxQZXRIb3VyQ2F0ZWdvcmllcyA9IGAke1ZpcnR1YWxQZXRTdGF0Q2F0ZWdvcnl9SG91cnNgO1xyXG5leHBvcnQgaW50ZXJmYWNlIFZpcnR1YWxQZXRTdGF0XHJcbntcclxuICAgIHN0YXQ6IFZpcnR1YWxQZXRTdGF0Q2F0ZWdvcnk7XHJcbiAgICBsZXZlbDogbnVtYmVyO1xyXG59XHJcblxyXG5mdW5jdGlvbiBTbGVlcENoYW5nZUNoZWNrKHN5bmM6IGJvb2xlYW4gPSB0cnVlKTogdm9pZFxyXG57XHJcbiAgICBpZiAoXHJcbiAgICAgICAgUGxheWVyVlAoKS5lbmFibGVkXHJcbiAgICAgICAgJiYgUGxheWVyVlAoKS5zbGVlcEhvdXJzICE9PSAwXHJcbiAgICAgICAgJiYgKHBsYXllclNsZWVwaW5nRXhwcmVzc2lvbiAhPT0gSXNTbGVlcGluZ0V4cHJlc3Npb24oUGxheWVyKVxyXG4gICAgICAgIHx8IHBsYXllckJlZE11bHRpcGxpZXIgIT09IElzQmVkTXVsdGlwbGllcihQbGF5ZXIpKVxyXG4gICAgKVxyXG4gICAge1xyXG4gICAgICAgIC8vIGlmIGEgY2hhbmdlIGluIHNsZWVwaW5nIGV4cHJlc3Npb24gb3IgYmVkIG11bHRpcGxpZXIsIHN5bmMgbGV2ZWxzXHJcbiAgICAgICAgaWYgKHN5bmMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBMZXZlbFN5bmMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcGxheWVyU2xlZXBpbmdFeHByZXNzaW9uID0gSXNTbGVlcGluZ0V4cHJlc3Npb24oUGxheWVyKTtcclxuICAgICAgICBwbGF5ZXJCZWRNdWx0aXBsaWVyID0gSXNCZWRNdWx0aXBsaWVyKFBsYXllcik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIFN0YXRNb2RpZmllcihzdGF0OiBWaXJ0dWFsUGV0U3RhdENhdGVnb3J5LCBzb3VyY2VDaGFyPzogQ2hhcmFjdGVyKTogbnVtYmVyXHJcbntcclxuICAgIGxldCBtb2RpZmllciA9IDE7XHJcblxyXG4gICAgLy8gRnJvbSBvd25lcnMsICs1MCVcclxuICAgIGlmIChzb3VyY2VDaGFyPy5Jc093bmVyKCkpXHJcbiAgICB7XHJcbiAgICAgICAgbW9kaWZpZXIgKz0gMC41O1xyXG4gICAgfVxyXG4gICAgLy8gbG92ZXJzICszNSVcclxuICAgIGVsc2UgaWYgKHNvdXJjZUNoYXI/LklzTG92ZXJPZlBsYXllcigpKVxyXG4gICAge1xyXG4gICAgICAgIG1vZGlmaWVyICs9IDAuMzU7XHJcbiAgICB9XHJcbiAgICAvLyBzdWJzICsyNSVcclxuICAgIGVsc2UgaWYgKHNvdXJjZUNoYXI/LklzRmFtaWx5T2ZQbGF5ZXIoKSlcclxuICAgIHtcclxuICAgICAgICBtb2RpZmllciArPSAwLjI1O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEhhcmQgdG8gZWF0IG9yIGRyaW5rIHdoaWxlIHJpbmcgZ2FnZ2VkXHJcbiAgICBpZiAoc3RhdCA9PT0gXCJmb29kXCIgfHwgc3RhdCA9PT0gXCJ3YXRlclwiKVxyXG4gICAge1xyXG4gICAgICAgIGlmICghUGxheWVyLkNhblRhbGsoKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG1vZGlmaWVyIC09IDAuNTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gMyUgYm9udXMgZm9yIGVhY2ggcmVzdHJhaW50IHdvcm5cclxuICAgIG1vZGlmaWVyICs9IDAuMDMgKiBQbGF5ZXIuQXBwZWFyYW5jZS5maWx0ZXIoKHgpID0+IHguQXNzZXQuRHluYW1pY0dyb3VwTmFtZS5zdGFydHNXaXRoKFwiSXRlbVwiKSkubGVuZ3RoO1xyXG5cclxuICAgIC8vIDUwJSBib251cyBmb3IgYmVpbmcgb24gYWxsIGZvdXJzXHJcbiAgICBpZiAoUGxheWVyLlBvc2VNYXBwaW5nLkJvZHlGdWxsID09PSBcIkFsbEZvdXJzXCIpXHJcbiAgICB7XHJcbiAgICAgICAgbW9kaWZpZXIgKz0gMC41O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEZvb2QgYW5kIHdhdGVyIG1vZGlmaWVzIGFmZmVjdGlvbiBnYWluXHJcbiAgICBpZiAoXHJcbiAgICAgICAgc3RhdCA9PT0gXCJhZmZlY3Rpb25cIlxyXG4gICAgICAgICYmIFBsYXllci5NUEFbTW9kdWxlVGl0bGUuVmlydHVhbFBldENvbmRpdGlvbnNdLmVuYWJsZWRcclxuICAgICAgICAmJiBQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zXS5mb29kTk9XXHJcbiAgICApXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3QgbnVtczogbnVtYmVyW10gPSBbXTtcclxuICAgICAgICBpZiAoUGxheWVyVlAoKS5mb29kSG91cnMgIT09IDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBudW1zLnB1c2goR2V0Q2hhcmFjdGVyQ3VycmVudFN0YXRWYWx1ZShQbGF5ZXIsIFwiZm9vZFwiKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChQbGF5ZXJWUCgpLndhdGVySG91cnMgIT09IDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBudW1zLnB1c2goR2V0Q2hhcmFjdGVyQ3VycmVudFN0YXRWYWx1ZShQbGF5ZXIsIFwid2F0ZXJcIikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobnVtcy5sZW5ndGggIT09IDApXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBtb2RpZmllciAqPSBudW1zLnJlZHVjZSgoc3VtLCBudW0pID0+IHN1bSArIG51bSwgMCkgLyBudW1zLmxlbmd0aCAvIDAuNzU7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBNYXRoLm1heCgwLCBtb2RpZmllcik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIFZlcmlmeVZhbGlkU3RhdChzdGF0OiBWaXJ0dWFsUGV0U3RhdENhdGVnb3J5KTogYm9vbGVhblxyXG57XHJcbiAgICBjb25zdCBsZXZlbCA9IFBsYXllclZQKCkubGV2ZWxzW3N0YXRdO1xyXG4gICAgUGxheWVyVlAoKS5sZXZlbHNbc3RhdF0gPSBNYXRoLm1pbihNYXRoLm1heChsZXZlbCwgMCksIDEpO1xyXG4gICAgcmV0dXJuIDAgPD0gbGV2ZWwgJiYgbGV2ZWwgPD0gMTtcclxufVxyXG5cclxuZnVuY3Rpb24gSG91clRvTVMoaG91cnM6IG51bWJlcilcclxue1xyXG4gICAgcmV0dXJuIGhvdXJzICogNjAgKiA2MCAqIDEwMDA7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBDYWxjdWxhdGVDdXJyZW50VmFsdWUodmFsdWU6IG51bWJlciwgZHVyYXRpb246IG51bWJlciwgbGFzdFVwZGF0ZWQ6IG51bWJlciwgbGFzdE9ubGluZT86IG51bWJlciwgZmlyc3RSdW5DaGVjazogYm9vbGVhbiA9IGZhbHNlLCBDOiBDaGFyYWN0ZXIgPSBQbGF5ZXIpOiBudW1iZXJcclxue1xyXG4gICAgLyoqIEhvdyBsb25nIGluIG1zIGhhcyBlbGFzcGVkIHNpbmNlIG5vdyBvciBsYXN0IG9ubGluZSAqL1xyXG4gICAgY29uc3QgZGlmZjogbnVtYmVyID0gKGxhc3RPbmxpbmUgPyBsYXN0T25saW5lIDogRGF0ZS5ub3coKSkgLSBsYXN0VXBkYXRlZDtcclxuICAgIGNvbnN0IGN1cnJlbnRWYWx1ZSA9IE1hdGgubWF4KDAsIE1hdGgubWluKHZhbHVlIC0gKGRpZmYgLyBIb3VyVG9NUyhkdXJhdGlvbikpLCAxKSk7XHJcbiAgICAvLyBNYXggZHJhaW4gZG93biB0byAyMCUgd2hpbGUgb2ZmbGluZVxyXG4gICAgaWYgKGZpcnN0UnVuQ2hlY2sgJiYgdmFsdWUgPiBNSU5fT0ZGTElORV9EUkFJTl9MRVZFTCAmJiBjdXJyZW50VmFsdWUgPCBNSU5fT0ZGTElORV9EUkFJTl9MRVZFTClcclxuICAgIHtcclxuICAgICAgICBjb25zdCBkaWZmMjogbnVtYmVyID0gUGxheWVyVlAoQykubGV2ZWxzLmxhc3RPbmxpbmUgLSBsYXN0VXBkYXRlZDtcclxuICAgICAgICBjb25zdCBuZXdWYWx1ZTIgPSBNYXRoLm1heCgwLCBNYXRoLm1pbih2YWx1ZSAtIChkaWZmMiAvIEhvdXJUb01TKGR1cmF0aW9uKSksIDEpKTtcclxuICAgICAgICByZXR1cm4gTWF0aC5taW4oTUlOX09GRkxJTkVfRFJBSU5fTEVWRUwsIG5ld1ZhbHVlMik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY3VycmVudFZhbHVlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gR2V0Q2hhcmFjdGVyQ3VycmVudFN0YXRWYWx1ZShjaGFyYWN0ZXI6IENoYXJhY3Rlciwgc3RhdDogVmlydHVhbFBldFN0YXRDYXRlZ29yeSk6IG51bWJlclxyXG57XHJcbiAgICBjb25zdCBjaGFyU3RhdHMgPSBjaGFyYWN0ZXI/Lk1QQT8uW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdO1xyXG4gICAgaWYgKCFjaGFyU3RhdHMpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChzdGF0ID09PSBcInNsZWVwXCIpXHJcbiAgICB7XHJcbiAgICAgICAgY29uc3QgbHZsID0gKElzU2xlZXBpbmdFeHByZXNzaW9uKGNoYXJhY3RlcikgfHwgSXNCZWRNdWx0aXBsaWVyKGNoYXJhY3RlcikgIT09IDEpID9cclxuICAgICAgICAgICAgY2hhclN0YXRzLmxldmVscy5zbGVlcCArIChEYXRlLm5vdygpIC0gY2hhclN0YXRzLmxldmVscy5sYXN0VXBkYXRlZCkgLyAoY2hhclN0YXRzLnNsZWVwSG91cnMgKiA2MCAqIDYwICogMTAwMCkgKiBJc0JlZE11bHRpcGxpZXIoY2hhcmFjdGVyKSAqIChJc1NsZWVwaW5nRXhwcmVzc2lvbihjaGFyYWN0ZXIpID8gNSA6IDEpIDpcclxuICAgICAgICAgICAgQ2FsY3VsYXRlQ3VycmVudFZhbHVlKGNoYXJTdGF0cy5sZXZlbHMuc2xlZXAsIGNoYXJTdGF0cy5zbGVlcEhvdXJzLCBjaGFyU3RhdHMubGV2ZWxzLmxhc3RVcGRhdGVkKTtcclxuICAgICAgICByZXR1cm4gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgbHZsKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIENhbGN1bGF0ZUN1cnJlbnRWYWx1ZShjaGFyU3RhdHMubGV2ZWxzW3N0YXRdLCBjaGFyU3RhdHNbYCR7c3RhdH1Ib3Vyc2BdLCBjaGFyU3RhdHMubGV2ZWxzLmxhc3RVcGRhdGVkKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIExldmVsU3luYyhwdXNoVG9TdG9yYWdlOiBib29sZWFuID0gdHJ1ZSwgcmVjb3JkU3luYzogYm9vbGVhbiA9IHRydWUsIGZpcnN0U3luYzogYm9vbGVhbiA9IGZhbHNlKTogdm9pZFxyXG57XHJcbiAgICAvLyBWaXJ0dWFsIHBldCBpcyBub3QgZW5hYmxlZCBzbyBkbyBub3RoaW5nXHJcbiAgICBpZiAoIVBsYXllclZQKCkuZW5hYmxlZClcclxuICAgIHtcclxuICAgICAgICBQbGF5ZXJWUCgpLmxldmVscy5sYXN0VXBkYXRlZCA9IERhdGUubm93KCk7XHJcbiAgICAgICAgUGxheWVyVlAoKS5sZXZlbHMubGFzdE9ubGluZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHVwZGF0ZTogbnVtYmVyID0gUGxheWVyVlAoKS5sZXZlbHMubGFzdFVwZGF0ZWQgPz8gRGF0ZS5ub3coKTtcclxuICAgIGNvbnN0IG9ubGluZTogbnVtYmVyIHwgdW5kZWZpbmVkID0gIVBsYXllclZQKCkub2ZmbGluZURyYWluID8gUGxheWVyVlAoKS5sZXZlbHMubGFzdE9ubGluZSA6IHVuZGVmaW5lZDtcclxuXHJcbiAgICBjb25zdCBmb29kID0gUGxheWVyVlAoKS5mb29kSG91cnM7XHJcbiAgICBpZiAoZm9vZCAhPT0gMClcclxuICAgIHtcclxuICAgICAgICBQbGF5ZXJWUCgpLmxldmVscy5mb29kID0gQ2FsY3VsYXRlQ3VycmVudFZhbHVlKFBsYXllclZQKCkubGV2ZWxzLmZvb2QsIGZvb2QsIHVwZGF0ZSwgb25saW5lLCBmaXJzdFN5bmMpO1xyXG4gICAgfVxyXG4gICAgY29uc3Qgd2F0ZXIgPSBQbGF5ZXJWUCgpLndhdGVySG91cnM7XHJcbiAgICBpZiAod2F0ZXIgIT09IDApXHJcbiAgICB7XHJcbiAgICAgICAgUGxheWVyVlAoKS5sZXZlbHMud2F0ZXIgPSBDYWxjdWxhdGVDdXJyZW50VmFsdWUoUGxheWVyVlAoKS5sZXZlbHMud2F0ZXIsIHdhdGVyLCB1cGRhdGUsIG9ubGluZSwgZmlyc3RTeW5jKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHNsZWVwID0gUGxheWVyVlAoKS5zbGVlcEhvdXJzO1xyXG4gICAgaWYgKHNsZWVwICE9PSAwKVxyXG4gICAge1xyXG4gICAgICAgIGlmICgoZmlyc3RTeW5jICYmICFvbmxpbmUpXHJcbiAgICAgICAgICB8fCBwbGF5ZXJTbGVlcGluZ0V4cHJlc3Npb25cclxuICAgICAgICAgIHx8IHBsYXllckJlZE11bHRpcGxpZXIgIT09IDEpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBkdXJhdGlvblRvVXNlID0gZmlyc3RTeW5jID8gKERhdGUubm93KCkgLSBQbGF5ZXJWUCgpLmxldmVscy5sYXN0T25saW5lKSAtIChQbGF5ZXJWUCgpLmxldmVscy5sYXN0T25saW5lIC0gdXBkYXRlKSA6IERhdGUubm93KCkgLSB1cGRhdGU7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1NsZWVwID0gUGxheWVyVlAoKS5sZXZlbHMuc2xlZXAgKyAoZHVyYXRpb25Ub1VzZSkgLyBIb3VyVG9NUyhzbGVlcCkgKiBwbGF5ZXJCZWRNdWx0aXBsaWVyICogKHBsYXllclNsZWVwaW5nRXhwcmVzc2lvbiA/IDUgOiAxKTtcclxuICAgICAgICAgICAgUGxheWVyVlAoKS5sZXZlbHMuc2xlZXAgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCBuZXdTbGVlcCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBQbGF5ZXJWUCgpLmxldmVscy5zbGVlcCA9IENhbGN1bGF0ZUN1cnJlbnRWYWx1ZShQbGF5ZXJWUCgpLmxldmVscy5zbGVlcCwgc2xlZXAsIHVwZGF0ZSwgb25saW5lLCBmaXJzdFN5bmMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnN0IGFmZmVjdGlvbiA9IFBsYXllclZQKCkuYWZmZWN0aW9uSG91cnM7XHJcbiAgICBpZiAoYWZmZWN0aW9uICE9PSAwKVxyXG4gICAge1xyXG4gICAgICAgIFBsYXllclZQKCkubGV2ZWxzLmFmZmVjdGlvbiA9IENhbGN1bGF0ZUN1cnJlbnRWYWx1ZShQbGF5ZXJWUCgpLmxldmVscy5hZmZlY3Rpb24sIGFmZmVjdGlvbiwgdXBkYXRlLCBvbmxpbmUsIGZpcnN0U3luYyk7XHJcbiAgICB9XHJcbiAgICBQbGF5ZXJWUCgpLmxldmVscy5sYXN0VXBkYXRlZCA9IERhdGUubm93KCk7XHJcbiAgICBQbGF5ZXJWUCgpLmxldmVscy5sYXN0T25saW5lID0gRGF0ZS5ub3coKTtcclxuICAgIC8vIFNhdmUgdG8gbG9jYWwgc3RvcmFnZVxyXG4gICAgaWYgKHB1c2hUb1N0b3JhZ2UpXHJcbiAgICB7XHJcbiAgICAgICAgU2F2ZVN0b3JhZ2UoZmFsc2UpO1xyXG4gICAgfVxyXG4gICAgLy8gU3luYyBuZXcgc3RhdHMgd2l0aCBvdGhlcnNcclxuICAgIGlmIChyZWNvcmRTeW5jKVxyXG4gICAge1xyXG4gICAgICAgIFJlY29yZFN5bmMoTW9kdWxlVGl0bGUuVmlydHVhbFBldCwgXCJsZXZlbHNcIik7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0gc3RhdCAtIFN0YXQgdG8gbW9kaWZ5XHJcbiAqIEBwYXJhbSBhbW91bnQgLSBNdXN0IGJlIGJldHdlZW4gLTEgYW5kIDFcclxuICogQHBhcmFtIGFwcGx5TW9kaWZpZXIgLSBJZiBhcHBseSB0aGUgXCJQZXQgbGlrZVwiIG1vZGlmaWVyXHJcbiAqIEBwYXJhbSBzdG9yYWdlUHVzaCAtIElmIHNhdmluZyB0byBzdG9yYWdlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gTW9kaWZ5U3RhdChzdGF0OiBWaXJ0dWFsUGV0U3RhdENhdGVnb3J5LCBhbW91bnQ6IG51bWJlciwgYXBwbHlNb2RpZmllciA9IHRydWUsIHN0b3JhZ2VQdXNoID0gdHJ1ZSwgc291cmNlQ2hhcj86IENoYXJhY3Rlcik6IHZvaWRcclxue1xyXG4gICAgaWYgKGFtb3VudCA8IC0xICYmIGFtb3VudCA+IDEpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENhbGN1bGF0ZSB0aGUgY3VycmVudCBzdGF0cyBiYXNlZCBvbiBkcmFpbiBhbmQgdGhlbiBhcHBseSBtb2RpZmljYXRpb25zIGFmdGVyIGNoYW5naW5nIHRob3NlIHZhbHVlcyBmaXJzdFxyXG4gICAgTGV2ZWxTeW5jKGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xyXG5cclxuICAgIFBsYXllclZQKCkubGV2ZWxzW3N0YXRdICs9IGFtb3VudCAqICgoYXBwbHlNb2RpZmllciAmJiBhbW91bnQgPiAwKSA/IFN0YXRNb2RpZmllcihzdGF0LCBzb3VyY2VDaGFyKSA6IDEpO1xyXG4gICAgVmVyaWZ5VmFsaWRTdGF0KHN0YXQpO1xyXG5cclxuICAgIC8vIFNhdmUgdG8gbG9jYWwgc3RvcmFnZVxyXG4gICAgaWYgKHN0b3JhZ2VQdXNoKVxyXG4gICAge1xyXG4gICAgICAgIFNhdmVTdG9yYWdlKGZhbHNlKTtcclxuICAgIH1cclxuICAgIC8vIFN5bmMgbmV3IHN0YXRzIHdpdGggb3RoZXJzXHJcbiAgICBSZWNvcmRTeW5jKE1vZHVsZVRpdGxlLlZpcnR1YWxQZXQsIFwibGV2ZWxzXCIpO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgVmlydHVhbFBldE1vZHVsZSBleHRlbmRzIE1vZHVsZVxyXG57XHJcbiAgICBnZXQgVGl0bGUoKTogTW9kdWxlVGl0bGVcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gTW9kdWxlVGl0bGUuVmlydHVhbFBldDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQgQWN0aXZpdGllcygpOiBDdXN0b21BY3Rpdml0eVtdXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgTmFtZTogXCJCb3dsRWF0XCIsXHJcbiAgICAgICAgICAgICAgICBUYXJnZXRzOiBbe1xyXG4gICAgICAgICAgICAgICAgICAgIGdyb3VwOiBcIkl0ZW1Nb3V0aFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkVhdCBGcm9tIEJvd2xcIixcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25TZWxmOiBcIlNvdXJjZUNoYXJhY3RlciBlYXRzIGZyb20gUHJvbm91blBvc3Nlc3NpdmUgYm93bC5cIlxyXG4gICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICBJbWFnZTogXCJBc3NldHMvRmVtYWxlM0RDRy9JdGVtRGV2aWNlcy9QcmV2aWV3L1BldEJvd2wucG5nXCIsXHJcbiAgICAgICAgICAgICAgICBQcmVyZXF1aXNpdGU6IFtcIlVzZU1vdXRoXCIsIFwiSGFzQm93bFwiXSxcclxuICAgICAgICAgICAgICAgIE9uVHJpZ2dlcjogKCkgPT5cclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoUGxheWVyVlAoKS5lbmFibGVkICYmIFBsYXllclZQKCkuZm9vZEhvdXJzICE9PSAwKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgTW9kaWZ5U3RhdChcImZvb2RcIiwgQk9XTF9DT05TVU1FX1JFQ09WRVJZLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgIE5hbWU6IFwiQm93bERyaW5rXCIsXHJcbiAgICAgICAgICAgICAgICBUYXJnZXRzOiBbe1xyXG4gICAgICAgICAgICAgICAgICAgIGdyb3VwOiBcIkl0ZW1Nb3V0aFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkRyaW5rIEZyb20gQm93bFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvblNlbGY6IFwiU291cmNlQ2hhcmFjdGVyIGRyaW5rcyBmcm9tIFByb25vdW5Qb3NzZXNzaXZlIGJvd2wuXCJcclxuICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgSW1hZ2U6IFwiQXNzZXRzL0ZlbWFsZTNEQ0cvSXRlbURldmljZXMvUHJldmlldy9QZXRCb3dsLnBuZ1wiLFxyXG4gICAgICAgICAgICAgICAgUHJlcmVxdWlzaXRlOiBbXCJVc2VNb3V0aFwiLCBcIkhhc0Jvd2xcIl0sXHJcbiAgICAgICAgICAgICAgICBPblRyaWdnZXI6ICgpID0+XHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFBsYXllclZQKCkuZW5hYmxlZCAmJiBQbGF5ZXJWUCgpLndhdGVySG91cnMgIT09IDApXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBNb2RpZnlTdGF0KFwid2F0ZXJcIiwgQk9XTF9DT05TVU1FX1JFQ09WRVJZLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgIE5hbWU6IFwiQm93bEVhdDJcIixcclxuICAgICAgICAgICAgICAgIFRhcmdldHM6IFt7XHJcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IFwiSXRlbU1vdXRoXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiRWF0IEZyb20gQm93bFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvblNlbGY6IFwiU291cmNlQ2hhcmFjdGVyIHB1dHMgUHJvbm91blBvc3Nlc3NpdmUgaGVhZCBpbnRvIFByb25vdW5Qb3NzZXNzaXZlIGJvd2wgaW4gb3JkZXIgdG8gZWF0IHdpdGggdGhlIGdhZywgbWFraW5nIGEgbWVzcy5cIlxyXG4gICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICBJbWFnZTogXCJBc3NldHMvRmVtYWxlM0RDRy9JdGVtRGV2aWNlcy9QcmV2aWV3L1BldEJvd2wucG5nXCIsXHJcbiAgICAgICAgICAgICAgICBQcmVyZXF1aXNpdGU6IFtcIlVzZVRvbmd1ZU5vTW91dGhcIiwgXCJIYXNCb3dsXCJdLFxyXG4gICAgICAgICAgICAgICAgT25UcmlnZ2VyOiAoKSA9PlxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChQbGF5ZXJWUCgpLmVuYWJsZWQgJiYgUGxheWVyVlAoKS5mb29kSG91cnMgIT09IDApXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBNb2RpZnlTdGF0KFwiZm9vZFwiLCBCT1dMX0NPTlNVTUVfUkVDT1ZFUlksIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgTmFtZTogXCJCb3dsRHJpbmsyXCIsXHJcbiAgICAgICAgICAgICAgICBUYXJnZXRzOiBbe1xyXG4gICAgICAgICAgICAgICAgICAgIGdyb3VwOiBcIkl0ZW1Nb3V0aFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkRyaW5rIEZyb20gQm93bFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvblNlbGY6IFwiU291cmNlQ2hhcmFjdGVyIHB1dHMgUHJvbm91blBvc3Nlc3NpdmUgaGVhZCBpbnRvIFByb25vdW5Qb3NzZXNzaXZlIGJvd2wgaW4gb3JkZXIgdG8gZHJpbmsgd2l0aCB0aGUgZ2FnLCBtYWtpbmcgYSBtZXNzLlwiXHJcbiAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgIEltYWdlOiBcIkFzc2V0cy9GZW1hbGUzRENHL0l0ZW1EZXZpY2VzL1ByZXZpZXcvUGV0Qm93bC5wbmdcIixcclxuICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogW1wiVXNlVG9uZ3VlTm9Nb3V0aFwiLCBcIkhhc0Jvd2xcIl0sXHJcbiAgICAgICAgICAgICAgICBPblRyaWdnZXI6ICgpID0+XHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFBsYXllclZQKCkuZW5hYmxlZCAmJiBQbGF5ZXJWUCgpLndhdGVySG91cnMgIT09IDApXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBNb2RpZnlTdGF0KFwid2F0ZXJcIiwgQk9XTF9DT05TVU1FX1JFQ09WRVJZLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBdO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBTZXR0aW5ncygpOiBTZXR0aW5nW11cclxuICAgIHtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcImVuYWJsZWRcIixcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcclxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICFJc0hhcmRjb3JlT24oQyksXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJCZWNvbWUgYSB2aXJ0dWFsIHBldCEgUmVxdWlyaW5nOiBmb29kLCB3YXRlciwgc2xlZXAsIGFuZCBhZmZlY3Rpb25cIlxyXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJmb29kSG91cnNcIiBhcyBWaXJ0dWFsUGV0SG91ckNhdGVnb3JpZXMsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IDQsXHJcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQsXHJcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJIb3cgbWFueSBob3VycyB1bnRpbCB5b3UgYXJlIGNvbXBsZXRlbHkgb3V0IG9mIGZvb2Q7IDAgdG8gZGlzYWJsZVwiLFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IDEyOCxcclxuICAgICAgICAgICAgICAgIG1pbjogMCxcclxuICAgICAgICAgICAgICAgIG1heDogTUFYX1NFVFRJTkdfVElNRV9IT1VSUyxcclxuICAgICAgICAgICAgICAgIHN0ZXA6IDAuMVxyXG4gICAgICAgICAgICB9IGFzIE51bWJlclNldHRpbmcsIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwid2F0ZXJIb3Vyc1wiIGFzIFZpcnR1YWxQZXRIb3VyQ2F0ZWdvcmllcyxcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogNCxcclxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCxcclxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkhvdyBtYW55IGhvdXJzIHVudGlsIHlvdSBhcmUgY29tcGxldGVseSBvdXQgb2Ygd2F0ZXI7IDAgdG8gZGlzYWJsZVwiLFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IDEyOCxcclxuICAgICAgICAgICAgICAgIG1pbjogMCxcclxuICAgICAgICAgICAgICAgIG1heDogTUFYX1NFVFRJTkdfVElNRV9IT1VSUyxcclxuICAgICAgICAgICAgICAgIHN0ZXA6IDAuMVxyXG4gICAgICAgICAgICB9IGFzIE51bWJlclNldHRpbmcsIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwic2xlZXBIb3Vyc1wiIGFzIFZpcnR1YWxQZXRIb3VyQ2F0ZWdvcmllcyxcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogOCxcclxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCxcclxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkhvdyBtYW55IGhvdXJzIHVudGlsIHlvdSBhcmUgY29tcGxldGVseSBvdXQgb2Ygc2xlZXA7IDAgdG8gZGlzYWJsZVwiLFxyXG4gICAgICAgICAgICAgICAgd2lkdGg6IDEyOCxcclxuICAgICAgICAgICAgICAgIG1pbjogMCxcclxuICAgICAgICAgICAgICAgIG1heDogTUFYX1NFVFRJTkdfVElNRV9IT1VSUyxcclxuICAgICAgICAgICAgICAgIHN0ZXA6IDAuMVxyXG4gICAgICAgICAgICB9IGFzIE51bWJlclNldHRpbmcsIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwiYWZmZWN0aW9uSG91cnNcIiBhcyBWaXJ0dWFsUGV0SG91ckNhdGVnb3JpZXMsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IDQsXHJcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQsXHJcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJIb3cgbWFueSBob3VycyB1bnRpbCB5b3UgYXJlIGNvbXBsZXRlbHkgb3V0IG9mIGFmZmVjdGlvbjsgMCB0byBkaXNhYmxlXCIsXHJcbiAgICAgICAgICAgICAgICB3aWR0aDogMTI4LFxyXG4gICAgICAgICAgICAgICAgbWluOiAwLFxyXG4gICAgICAgICAgICAgICAgbWF4OiBNQVhfU0VUVElOR19USU1FX0hPVVJTLFxyXG4gICAgICAgICAgICAgICAgc3RlcDogMC4xXHJcbiAgICAgICAgICAgIH0gYXMgTnVtYmVyU2V0dGluZywge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJvZmZsaW5lRHJhaW5cIixcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcclxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiU3RhdHMgZHJhaW4gZXZlbiB3aGVuIGxvZ2dlZCBvdXQgb2YgdGhlIGNsdWJcIlxyXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJub0hhbmRzXCIsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXHJcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQgJiYgIUlzSGFyZGNvcmVPbihDKSxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWxsb3cgZWF0aW5nIG9yIGRyaW5raW5nIGZyb20gaXRlbXMgaW4geW91ciBPV04gaGFuZHNcIlxyXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJtYXNvY2hpc3RcIixcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcclxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIk1hc29jaGlzdCBwZXQ7IEFidXNlIHJhaXNlcyBhZmZlY3Rpb25cIlxyXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJsZXZlbHNcIixcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwicmVjb3JkXCIsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZToge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvb2Q6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgd2F0ZXI6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgc2xlZXA6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgYWZmZWN0aW9uOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhc3RVcGRhdGVkOiBEYXRlLm5vdygpLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhc3RPbmxpbmU6IERhdGUubm93KClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBhcyBTZXR0aW5nXHJcbiAgICAgICAgXTtcclxuICAgIH1cclxuXHJcbiAgICBMb2FkKCk6IHZvaWRcclxuICAgIHtcclxuICAgICAgICBzdXBlci5Mb2FkKCk7XHJcblxyXG4gICAgICAgIC8vIExvZ2luIGxldmVsIHN5bmNcclxuICAgICAgICBTbGVlcENoYW5nZUNoZWNrKGZhbHNlKTtcclxuICAgICAgICBMZXZlbFN5bmModHJ1ZSwgZmFsc2UsIHRydWUpO1xyXG4gICAgICAgIGxhc3RPbmxpbmVJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAoUGxheWVyLk1lbWJlck51bWJlcilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgUGxheWVyLk1QQVt0aGlzLlRpdGxlXS5sZXZlbHMubGFzdE9ubGluZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgICAgICBTYXZlU3RvcmFnZShmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCBMQVNUX09OTElORV9JTlRFUlZBTF9NUyk7XHJcblxyXG4gICAgICAgIC8vIE5vbXMgYW5kIGRyaW5rc1xyXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIkNoYXRSb29tTWVzc2FnZVwiLCAwLCAoYXJncywgbmV4dCkgPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhcmdzWzBdO1xyXG4gICAgICAgICAgICBjb25zdCBhY3Rpdml0eU5hbWUgPSBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJBY3Rpdml0eU5hbWVcIik7XHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICFQbGF5ZXJWUCgpLmVuYWJsZWRcclxuICAgICAgICAgICAgICAgIHx8ICghUGxheWVyVlAoKS5ub0hhbmRzXHJcbiAgICAgICAgICAgICAgICAmJiBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJTb3VyY2VDaGFyYWN0ZXJcIikgPT09IFBsYXllci5NZW1iZXJOdW1iZXIpXHJcbiAgICAgICAgICAgICAgICB8fCBkYXRhLlR5cGUgIT09IFwiQWN0aXZpdHlcIlxyXG4gICAgICAgICAgICAgICAgfHwgR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiVGFyZ2V0Q2hhcmFjdGVyXCIpICE9PSBQbGF5ZXIuTWVtYmVyTnVtYmVyXHJcbiAgICAgICAgICAgICAgICB8fCBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJGb2N1c0dyb3VwTmFtZVwiKSAhPT0gXCJJdGVtTW91dGhcIlxyXG4gICAgICAgICAgICAgICAgfHwgIWFjdGl2aXR5TmFtZVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBHZXQgYWN0aXZpdHkgYW5kIGNoZWNrIHByZXJlcXVpc2l0ZXNcclxuICAgICAgICAgICAgY29uc3QgYWN0aXZpdHkgPSBBY3Rpdml0eUZlbWFsZTNEQ0cuZmluZCgoeCkgPT4geC5OYW1lID09PSBhY3Rpdml0eU5hbWUpO1xyXG5cclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgUGxheWVyVlAoKS5mb29kSG91cnMgIT09IDBcclxuICAgICAgICAgICAgICAgICYmIChhY3Rpdml0eT8uUHJlcmVxdWlzaXRlPy5pbmNsdWRlcyhcIk5lZWRzLUVhdEl0ZW1cIilcclxuICAgICAgICAgICAgICAgIHx8IEFDVElWSVRJRVNfRk9PRF9HQUlOLnNvbWUoKHgpID0+IGFjdGl2aXR5Py5OYW1lID09PSB4KSlcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBNb2RpZnlTdGF0KFwiZm9vZFwiLCBJVEVNX0NPTlVNRV9SRUNPVkVSWSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgIFBsYXllclZQKCkud2F0ZXJIb3VycyAhPT0gMFxyXG4gICAgICAgICAgICAgICAgJiYgKGFjdGl2aXR5Py5QcmVyZXF1aXNpdGU/LmluY2x1ZGVzKFwiTmVlZHMtU2lwSXRlbVwiKVxyXG4gICAgICAgICAgICAgICAgfHwgQUNUSVZJVElFU19XQVRFUl9HQUlOLnNvbWUoKHgpID0+IGFjdGl2aXR5Py5OYW1lID09PSB4KSlcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBNb2RpZnlTdGF0KFwid2F0ZXJcIiwgSVRFTV9DT05VTUVfUkVDT1ZFUlksIHRydWUpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gU2xlZXBcclxuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJDaGFyYWN0ZXJSZWZyZXNoXCIsIDAsIChhcmdzLCBuZXh0KSA9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKGFyZ3NbMF0uTWVtYmVyTnVtYmVyID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBTbGVlcENoYW5nZUNoZWNrKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEFmZmVjdGlvblxyXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIkNoYXRSb29tTWVzc2FnZVwiLCAwLCAoYXJncywgbmV4dCkgPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhcmdzWzBdO1xyXG4gICAgICAgICAgICBjb25zdCBhY3Rpdml0eU5hbWUgPSBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJBY3Rpdml0eU5hbWVcIik7XHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICFQbGF5ZXJWUCgpLmVuYWJsZWRcclxuICAgICAgICAgICAgICAgIHx8IFBsYXllclZQKCkuYWZmZWN0aW9uSG91cnMgPT09IDBcclxuICAgICAgICAgICAgICAgIHx8IGRhdGEuVHlwZSAhPT0gXCJBY3Rpdml0eVwiXHJcbiAgICAgICAgICAgICAgICB8fCBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJUYXJnZXRDaGFyYWN0ZXJcIikgIT09IFBsYXllci5NZW1iZXJOdW1iZXJcclxuICAgICAgICAgICAgICAgIHx8IEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIlNvdXJjZUNoYXJhY3RlclwiKSA9PT0gUGxheWVyLk1lbWJlck51bWJlclxyXG4gICAgICAgICAgICAgICAgfHwgIWFjdGl2aXR5TmFtZVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCBncm91cCA9IEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIkZvY3VzR3JvdXBOYW1lXCIpIGFzIHN0cmluZyA/PyBcIlwiO1xyXG4gICAgICAgICAgICBjb25zdCBncm91cE11bHQgPSBBRkZFQ1RJT05fWk9ORV9BRkZFQ1RJT05bZ3JvdXBdID8/IDE7XHJcbiAgICAgICAgICAgIGlmIChBRkZFQ1RJT05fQUNUSVZJVFlfTE9WRS5pbmNsdWRlcyhhY3Rpdml0eU5hbWUpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBNb2RpZnlTdGF0KFwiYWZmZWN0aW9uXCIsIEFGRkVDVElPTl9MT1ZFX0JBU0UgKiBncm91cE11bHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKEFGRkVDVElPTl9BQ1RJVklUWV9MSUtFLmluY2x1ZGVzKGFjdGl2aXR5TmFtZSkpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIE1vZGlmeVN0YXQoXCJhZmZlY3Rpb25cIiwgQUZGRUNUSU9OX0xJS0VfQkFTRSAqIGdyb3VwTXVsdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoQUZGRUNUSU9OX0FDVElWSVRZX01BU08uaW5jbHVkZXMoYWN0aXZpdHlOYW1lKSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgTW9kaWZ5U3RhdChcImFmZmVjdGlvblwiLCAoUGxheWVyVlAoKS5tYXNvY2hpc3QgPyAtMSA6IDEpICogQUZGRUNUSU9OX01BU09fQkFTRSAqIGdyb3VwTXVsdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgVW5sb2FkKCk6IHZvaWRcclxuICAgIHtcclxuICAgICAgICBzdXBlci5VbmxvYWQoKTtcclxuICAgICAgICBjbGVhckludGVydmFsKGxhc3RPbmxpbmVJbnRlcnZhbCk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgUmFuZG9tRWxlbWVudCB9IGZyb20gXCIuLi91dGlsL2dlbmVyYWxcIjtcclxuaW1wb3J0IHsgU2VuZEFjdGlvbiB9IGZyb20gXCIuLi91dGlsL21lc3NhZ2luZ1wiO1xyXG5pbXBvcnQgeyBIb29rRnVuY3Rpb24gfSBmcm9tIFwiLi4vdXRpbC9zZGtcIjtcclxuaW1wb3J0IHsgTW9kdWxlLCBNb2R1bGVUaXRsZSB9IGZyb20gXCIuL19tb2R1bGVcIjtcclxuaW1wb3J0IHsgSXNIYXJkY29yZU9uIH0gZnJvbSBcIi4vcHJvZmlsZVwiO1xyXG5pbXBvcnQgeyBHZXRDaGFyYWN0ZXJDdXJyZW50U3RhdFZhbHVlLCBWaXJ0dWFsUGV0U3RhdENhdGVnb3J5IH0gZnJvbSBcIi4vdmlydHVhbFBldFwiO1xyXG5cclxuY29uc3QgUGxheWVyVlA6IChDPzogQ2hhcmFjdGVyKSA9PiBNUEFSZWNvcmQgPSAoQzogQ2hhcmFjdGVyID0gUGxheWVyKSA9PlxyXG57XHJcbiAgICByZXR1cm4gQy5NUEE/LltNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XSA/PyB7fTtcclxufTtcclxuXHJcbmNvbnN0IFBsYXllclZQQzogKEM/OiBDaGFyYWN0ZXIpID0+IE1QQVJlY29yZCA9IChDOiBDaGFyYWN0ZXIgPSBQbGF5ZXIpID0+XHJcbntcclxuICAgIHJldHVybiBDLk1QQT8uW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zXSA/PyB7fTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBDaGVjayBpZiBhIGNvbmRpdGlvbiBpcyBjdXJyZW50bHkgZW5mb3JjZWQsIGNoZWNraW5nIGlmIGVuYWJsZWQgYW5kIGlmIGl0IHJlbGllcyBvbiBhIFZQIHN0YXQsIHRoYXQgdGhlIHN0YXQgaXMgc2V0XHJcbiAqL1xyXG5mdW5jdGlvbiBDb25kaXRpb25Jc0VuZm9yY2VkKGNvbmRpdGlvbjogc3RyaW5nLCB2cFN0YXROZWVkVG9CZUVuYWJsZWQ/OiBWaXJ0dWFsUGV0U3RhdENhdGVnb3J5KTogYm9vbGVhblxyXG57XHJcbiAgICBpZiAoIVBsYXllclZQQygpLmVuYWJsZWQgfHwgIShQbGF5ZXJWUEMoKVtjb25kaXRpb25dKSlcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKCF2cFN0YXROZWVkVG9CZUVuYWJsZWQgfHwgKFBsYXllclZQKCkuZW5hYmxlZCAmJiBQbGF5ZXJWUCgpPy5bYCR7dnBTdGF0TmVlZFRvQmVFbmFibGVkfUhvdXJzYF0gIT09IDApKTtcclxufTtcclxuXHJcbi8qKiBbU2tpbGwsIHBvc3RpdmUgb3IgbmVnYXRpdmUgY29ycmxhdGlvbl0gKi9cclxuY29uc3QgQUZGRUNUSU9OX1NLSUxMUzogW1NraWxsVHlwZSwgYm9vbGVhbl1bXSA9XHJcbltcclxuICAgIFtcIlNlbGZCb25kYWdlXCIsIHRydWVdLFxyXG4gICAgW1wiV2lsbHBvd2VyXCIsIHRydWVdLFxyXG4gICAgW1wiQm9uZGFnZVwiLCBmYWxzZV0sXHJcbiAgICBbXCJFdmFzaW9uXCIsIGZhbHNlXSxcclxuICAgIFtcIkxvY2tQaWNraW5nXCIsIGZhbHNlXVxyXG5dO1xyXG5cclxuaW50ZXJmYWNlIE9uU3RhdENoYW5nZUV2ZW50XHJcbntcclxuICAgIHN0YXQ6IFZpcnR1YWxQZXRTdGF0Q2F0ZWdvcnk7XHJcbiAgICB0aHJlc2hob2xkOiBudW1iZXI7XHJcbiAgICBjaGFuZ2U6IFwicmlzaW5nXCIgfCBcImZhbGxpbmdcIiB8IFwiYm90aFwiO1xyXG4gICAgYWN0aW9uOiAoKSA9PiB2b2lkO1xyXG4gICAgZmlyc3RSdW4/OiAoKSA9PiB2b2lkO1xyXG59XHJcbmNvbnN0IHByZXZpb3VzU3RhdHM6IFJlY29yZDxWaXJ0dWFsUGV0U3RhdENhdGVnb3J5LCBudW1iZXI+ID0ge1xyXG4gICAgZm9vZDogLTEsXHJcbiAgICB3YXRlcjogLTEsXHJcbiAgICBzbGVlcDogLTEsXHJcbiAgICBhZmZlY3Rpb246IC0xXHJcbn07XHJcbmxldCBvblN0YXRMZXZlbDogT25TdGF0Q2hhbmdlRXZlbnRbXSA9IFtdO1xyXG4vLyBMaXN0ZW5zIGZvciBjaGFuZ2VzIGV2ZXJ5IH4xLjUgc2Vjb25kc1xyXG5jb25zdCBTVEFUX0NPVU5UX01BWCA9IDI1MDtcclxubGV0IHN0YXRDb3VudCA9IFNUQVRfQ09VTlRfTUFYO1xyXG5leHBvcnQgZnVuY3Rpb24gQ29uZGl0aW9uQ2hlY2soKTogdm9pZFxyXG57XHJcbiAgICAoW1wiZm9vZFwiLCBcIndhdGVyXCIsIFwiYWZmZWN0aW9uXCIsIFwic2xlZXBcIl0gYXMgVmlydHVhbFBldFN0YXRDYXRlZ29yeVtdKS5mb3JFYWNoKChjYXRlZ29yeSkgPT5cclxuICAgIHtcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIFBsYXllclZQKCkuZW5hYmxlZFxyXG4gICAgICAgICAgICAmJiBQbGF5ZXJWUEMoKS5lbmFibGVkXHJcbiAgICAgICAgICAgICYmIFBsYXllclZQKClbYCR7Y2F0ZWdvcnl9SG91cnNgXSAhPT0gMFxyXG4gICAgICAgIClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHByZXZWYWx1ZSA9IHByZXZpb3VzU3RhdHNbY2F0ZWdvcnldO1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyVmFsdWUgPSBHZXRDaGFyYWN0ZXJDdXJyZW50U3RhdFZhbHVlKFBsYXllciwgY2F0ZWdvcnkpO1xyXG4gICAgICAgICAgICBvblN0YXRMZXZlbC5mb3JFYWNoKChjaGFuZ2VFdmVudCkgPT5cclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZUV2ZW50LnN0YXQgPT09IGNhdGVnb3J5XHJcbiAgICAgICAgICAgICAgICAgICAgJiYgcHJldlZhbHVlID09PSAtMVxyXG4gICAgICAgICAgICAgICAgICAgICYmICEhY2hhbmdlRXZlbnQuZmlyc3RSdW5cclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VFdmVudC5maXJzdFJ1bigpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZUV2ZW50LnN0YXQgPT09IGNhdGVnb3J5XHJcbiAgICAgICAgICAgICAgICAgICAgJiYgcHJldlZhbHVlICE9PSAtMVxyXG4gICAgICAgICAgICAgICAgICAgICYmIHByZXZWYWx1ZSA+IGN1cnJWYWx1ZSAvLyBGYWxsaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgY2hhbmdlRXZlbnQuY2hhbmdlICE9PSBcInJpc2luZ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgY3VyclZhbHVlIDw9IGNoYW5nZUV2ZW50LnRocmVzaGhvbGRcclxuICAgICAgICAgICAgICAgICAgICAmJiBjaGFuZ2VFdmVudC50aHJlc2hob2xkIDwgcHJldlZhbHVlXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlRXZlbnQuYWN0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlRXZlbnQuc3RhdCA9PT0gY2F0ZWdvcnlcclxuICAgICAgICAgICAgICAgICAgICAmJiBwcmV2VmFsdWUgIT09IC0xXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgcHJldlZhbHVlIDwgY3VyclZhbHVlIC8vIFJpc2luZ1xyXG4gICAgICAgICAgICAgICAgICAgICYmIGNoYW5nZUV2ZW50LmNoYW5nZSAhPT0gXCJmYWxsaW5nXCJcclxuICAgICAgICAgICAgICAgICAgICAmJiBwcmV2VmFsdWUgPCBjaGFuZ2VFdmVudC50aHJlc2hob2xkXHJcbiAgICAgICAgICAgICAgICAgICAgJiYgY2hhbmdlRXZlbnQudGhyZXNoaG9sZCA8PSBjdXJyVmFsdWVcclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VFdmVudC5hY3Rpb24oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHByZXZpb3VzU3RhdHNbY2F0ZWdvcnldID0gY3VyclZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBwcmV2aW91c1N0YXRzW2NhdGVnb3J5XSA9IC0xO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5jb25zdCBTTEVFUF9USU5UID0ge1xyXG4gICAgc3RhdDogXCJzbGVlcFwiIGFzIFZpcnR1YWxQZXRTdGF0Q2F0ZWdvcnksXHJcbiAgICBzdGFydExldmVsOiAwLjI1LFxyXG4gICAgZW5kTGV2ZWw6IDAsXHJcbiAgICBtaW5UaW50OiAwLFxyXG4gICAgbWF4VGludDogMVxyXG59O1xyXG5cclxubGV0IHBhc3NlZE91dCA9IGZhbHNlO1xyXG5jb25zdCBQQVNTT1VUX1RBTEtfUkVQTEFDRTogc3RyaW5nW10gPSBbXHJcbiAgICBcIlNvdXJjZUNoYXJhY3RlciBkcm9vbHMgb3V0IG9mIHRoZSBjb3JuZXIgb2YgUHJvbm91blBvc3Nlc3NpdmUgbGlwIGFzIFByb25vdW5TdWJqZWN0IHNsZWVwcy5cIixcclxuICAgIFwiU291cmNlQ2hhcmFjdGVyIG11bWJsZXMgcXVpZXRseSBpbiBQcm9ub3VuUG9zc2Vzc2l2ZSBzbHVtYmVyLlwiLFxyXG4gICAgXCJTb3VyY2VDaGFyYWN0ZXIgcmVzdHMgcGVhY2VmdWxseS5cIlxyXG5dO1xyXG5mdW5jdGlvbiBNUEFQYXNzb3V0KCk6IHZvaWRcclxue1xyXG4gICAgQ2hhcmFjdGVyU2V0RmFjaWFsRXhwcmVzc2lvbihQbGF5ZXIsIFwiRW1vdGljb25cIiwgXCJTbGVlcFwiKTtcclxuICAgIENoYXJhY3RlclNldEZhY2lhbEV4cHJlc3Npb24oUGxheWVyLCBcIkV5ZXNcIiwgXCJDbG9zZWRcIik7XHJcbiAgICBDaGFyYWN0ZXJTZXRGYWNpYWxFeHByZXNzaW9uKFBsYXllciwgXCJGbHVpZHNcIiwgXCJEcm9vbE1lZGl1bVwiKTtcclxuICAgIGlmIChQbGF5ZXIuQ2FuS25lZWwoKSlcclxuICAgIHtcclxuICAgICAgICBQb3NlU2V0QWN0aXZlKFBsYXllciwgXCJLbmVlbFwiLCB0cnVlKTtcclxuICAgIH1cclxuICAgIHBhc3NlZE91dCA9IHRydWU7XHJcblxyXG4gICAgY29uc3Qgc2xlZXBNb2R1bGUgPSBQbGF5ZXI/LkxTQ0c/LlN0YXRlTW9kdWxlPy5zdGF0ZXM/LmZpbmQoKHgpID0+IHgudHlwZSA9PT0gXCJhc2xlZXBcIik7XHJcbiAgICBpZiAoUGxheWVyVlBDKCkucGFzc291dExTQ0cgJiYgc2xlZXBNb2R1bGUpXHJcbiAgICB7XHJcbiAgICAgICAgLypcclxuICAgICAgICB0aGlzLnN0YXRlTW9kdWxlLlNsZWVwU3RhdGUuQWN0aXZhdGUodW5kZWZpbmVkLCB1bmRlZmluZWQsIGRvRW1vdGUpO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3Muc3RhdHMuc2VkYXRlZENvdW50Kys7XHJcbiAgICAgICAgQWN0aXZhdGUobWVtYmVyTnVtYmVyPzogbnVtYmVyLCBkdXJhdGlvbj86IG51bWJlciwgZW1vdGU/OiBib29sZWFuKTogQmFzZVN0YXRlIHwgdW5kZWZpbmVkIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLkFjdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVtb3RlKVxyXG4gICAgICAgICAgICAgICAgICAgIFNlbmRBY3Rpb24oXCIlTkFNRSUgc2x1bXBzIHdlYWtseSBhcyAlUFJPTk9VTiUgc2xpcHMgaW50byB1bmNvbmNpb3VzbmVzcy5cIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLlNldFNsZWVwRXhwcmVzc2lvbigpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5GYWxsRG93bklmUG9zc2libGUoKTtcclxuICAgICAgICAgICAgICAgIGFkZEN1c3RvbUVmZmVjdChQbGF5ZXIsIFwiRm9yY2VLbmVlbFwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzdXBlci5BY3RpdmF0ZShtZW1iZXJOdW1iZXIsIGR1cmF0aW9uLCBlbW90ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBBY3RpdmF0ZShtZW1iZXJOdW1iZXI/OiBudW1iZXIsIGR1cmF0aW9uPzogbnVtYmVyLCBlbW90ZT86IGJvb2xlYW4pOiBCYXNlU3RhdGUgfCB1bmRlZmluZWQge1xyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5hY3RpdmF0ZWRBdCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5hY3RpdmF0ZWRCeSA9IG1lbWJlck51bWJlciA/PyAtMTtcclxuICAgICAgICAgICAgdGhpcy5jb25maWcuYWN0aXZhdGlvbkNvdW50Kys7XHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLmR1cmF0aW9uID0gZHVyYXRpb247XHJcblxyXG4gICAgICAgICAgICBzZXR0aW5nc1NhdmUodHJ1ZSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH1cclxuICAgICAgICAqL1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQ2FsbGluZyBMU0NHIHBhc3NvdXRcIik7XHJcbiAgICB9XHJcbiAgICBTZW5kQWN0aW9uKFwiU291cmNlQ2hhcmFjdGVyIHBhc3NlcyBvdXQgZnJvbSBleGhhdXN0aW9uLlwiLCB1bmRlZmluZWQsIFt7IFNvdXJjZUNoYXJhY3RlcjogUGxheWVyLk1lbWJlck51bWJlciB9IGFzIFNvdXJjZUNoYXJhY3RlckRpY3Rpb25hcnlFbnRyeV0pO1xyXG59XHJcbmZ1bmN0aW9uIE1QQVdha2V1cCgpOiB2b2lkXHJcbntcclxuICAgIENoYXJhY3RlclNldEZhY2lhbEV4cHJlc3Npb24oUGxheWVyLCBcIkVtb3RpY29uXCIsIG51bGwpO1xyXG4gICAgQ2hhcmFjdGVyU2V0RmFjaWFsRXhwcmVzc2lvbihQbGF5ZXIsIFwiRXllc1wiLCBcIkRhemVkXCIpO1xyXG4gICAgQ2hhcmFjdGVyU2V0RmFjaWFsRXhwcmVzc2lvbihQbGF5ZXIsIFwiRXllYnJvd3NcIiwgXCJMb3dlcmVkXCIpO1xyXG5cclxuICAgIHBhc3NlZE91dCA9IGZhbHNlO1xyXG4gICAgU2VuZEFjdGlvbihcIlNvdXJjZUNoYXJhY3RlciB3YWtlcyB1cCBmcm9tIFByb25vdW5Qb3NzZXNzaXZlIG5hcC5cIiwgdW5kZWZpbmVkLCBbeyBTb3VyY2VDaGFyYWN0ZXI6IFBsYXllci5NZW1iZXJOdW1iZXIgfSBhcyBTb3VyY2VDaGFyYWN0ZXJEaWN0aW9uYXJ5RW50cnldKTtcclxufVxyXG5mdW5jdGlvbiBQYXNzb3V0Q2hlY2soKTogYm9vbGVhblxyXG57XHJcbiAgICByZXR1cm4gKFBsYXllclZQQygpLmVuYWJsZWRcclxuICAgICAgJiYgUGxheWVyVlAoKS5zbGVlcEhvdXJzICE9PSAwXHJcbiAgICAgICYmIFBsYXllclZQQygpLnBhc3NvdXRcclxuICAgICAgJiYgIVBsYXllclZQQygpLnBhc3NvdXRMU0NHXHJcbiAgICAgICYmIHBhc3NlZE91dCk7XHJcbn1cclxuXHJcbmxldCBhZmZlY3Rpb25DaGVja0ludGVydmFsOiBudW1iZXI7XHJcbmNvbnN0IHNraWxsRHVyYXRpb25NUyA9IDE1MDAwO1xyXG5mdW5jdGlvbiBBZmZlY3Rpb25Ta2lsbENoZWNrKCk6IHZvaWRcclxue1xyXG4gICAgaWYgKFxyXG4gICAgICAgICFQbGF5ZXJWUCgpLmVuYWJsZWRcclxuICAgICAgICB8fCBQbGF5ZXJWUCgpLmFmZmVjdGlvbkhvdXJzID09PSAwXHJcbiAgICAgICAgfHwgIVBsYXllclZQQygpLmVuYWJsZWRcclxuICAgIClcclxuICAgIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgQUZGRUNUSU9OX1NLSUxMUy5mb3JFYWNoKChbc2tpbGwsIHR5cGVdKSA9PlxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IGFmZmVjdGlvbiA9IEdldENoYXJhY3RlckN1cnJlbnRTdGF0VmFsdWUoUGxheWVyLCBcImFmZmVjdGlvblwiKTtcclxuICAgICAgICBjb25zdCBhZmZlY3Rpb25Nb2RpZmllciA9IE1hdGgucm91bmQoKCgoYWZmZWN0aW9uKSAqICg1IC0gKC01KSkpIC8gKDEpICsgKC01KSkgKiAodHlwZSA/IDEgOiAtMSkgKiAxMDApIC8gMTAwO1xyXG5cclxuICAgICAgICBjb25zdCBwcmV2TW9kID0gU2tpbGxHZXRNb2RpZmllcihQbGF5ZXIsIHNraWxsKTtcclxuICAgICAgICBjb25zdCBkdXJhdGlvbiA9IFNraWxsR2V0TW9kaWZpZXJEdXJhdGlvbihQbGF5ZXIsIHNraWxsKSAhPT0gMCA/IFNraWxsR2V0TW9kaWZpZXJEdXJhdGlvbihQbGF5ZXIsIHNraWxsKSA6IHNraWxsRHVyYXRpb25NUztcclxuICAgICAgICBpZiAoYWZmZWN0aW9uTW9kaWZpZXIgPiAwICYmIFBsYXllclZQQygpLmFmZmVjdGlvblNraWxsQnVmZnMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBTa2lsbFNldE1vZGlmaWVyKFBsYXllciwgc2tpbGwsIHByZXZNb2QgKyBhZmZlY3Rpb25Nb2RpZmllciwgZHVyYXRpb24sIGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFmZmVjdGlvbk1vZGlmaWVyIDwgMCAmJiBQbGF5ZXJWUEMoKS5hZmZlY3Rpb25Ta2lsbERlYnVmZnMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBTa2lsbFNldE1vZGlmaWVyKFBsYXllciwgc2tpbGwsIHByZXZNb2QgKyBhZmZlY3Rpb25Nb2RpZmllciwgZHVyYXRpb24sIGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuY29uc3QgTUFYX1NMT1dfTEVBVkVfRFVSQVRJT05fU0VDID0gMjU7XHJcbmNvbnN0IFNMT1dfTEVBVkVfTEVWRUxfU1RBUlQgPSAwLjM7XHJcblxyXG5leHBvcnQgY2xhc3MgVmlydHVhbFBldENvbmRpdGlvbnNNb2R1bGUgZXh0ZW5kcyBNb2R1bGVcclxue1xyXG4gICAgZ2V0IFRpdGxlKCk6IE1vZHVsZVRpdGxlXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIE1vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zO1xyXG4gICAgfVxyXG5cclxuICAgIGdldCBTZXR0aW5ncygpOiBTZXR0aW5nW11cclxuICAgIHtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcImVuYWJsZWRcIixcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcclxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCAmJiAhSXNIYXJkY29yZU9uKEMpLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiUmVjaXZlIGNvbmRpdGlvbnMgYmFzZWQgb24gY3VycmVudCBsZXZlbCBvZiB5b3VyIHZpcnR1YWwgcGV0IHN0YXRzXCJcclxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwiZm9vZE5PV1wiLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxyXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkICYmICEhUGxheWVyVlBDKEMpLmVuYWJsZWQgJiYgIUlzSGFyZGNvcmVPbihDKSxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiRm9vZCBhbmQgd2F0ZXIgYWZmZWN0cyBhZmZlY3Rpb24gZ2FpblwiXHJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiBcInRpbnRcIixcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcclxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCAmJiAhIVBsYXllclZQQyhDKS5lbmFibGVkICYmICFJc0hhcmRjb3JlT24oQyksXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIlZpc2lvbiBkYXJrZW5zIGFzIHlvdSBnZXQgc2xlZXBpZXJcIlxyXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJwYXNzb3V0XCIsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXHJcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQgJiYgISFQbGF5ZXJWUEMoQykuZW5hYmxlZCAmJiAhSXNIYXJkY29yZU9uKEMpLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJQYXNzb3V0IHdoZW4gZXhoYXVzdGVkXCJcclxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIC8qIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwicGFzc291dExTQ0dcIixcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcclxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCAmJiAhIVBsYXllclZQQyhDKS5lbmFibGVkICYmICEhUGxheWVyVlBDKEMpLnBhc3NvdXQgJiYgISFDLkxTQ0cgJiYgIUlzSGFyZGNvcmVPbihDKSAmJiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIlVzZSBMU0NHIHBhc3NvdXQgaW5zdGVhZCBvZiBNUEE7IFJlcXVpcmVzIExTQ0dcIlxyXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywgKi8ge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJhZmZlY3Rpb25Ta2lsbEJ1ZmZzXCIsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXHJcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQgJiYgISFQbGF5ZXJWUEMoQykuZW5hYmxlZCAmJiAhSXNIYXJkY29yZU9uKEMpLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBZmZlY3Rpb24gd2lsbCBidWZmIHNraWxscyBiYXNlZCBvbiBpdHMgbGV2ZWxcIlxyXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJhZmZlY3Rpb25Ta2lsbERlYnVmZnNcIixcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcclxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCAmJiAhIVBsYXllclZQQyhDKS5lbmFibGVkICYmICFJc0hhcmRjb3JlT24oQyksXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkFmZmVjdGlvbiB3aWxsIGRlYnVmZiBza2lsbHMgYmFzZWQgb24gaXRzIGxldmVsXCJcclxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwiaGVhcmluZ0xvc3NcIixcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcclxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCAmJiAhIVBsYXllclZQQyhDKS5lbmFibGVkICYmICFJc0hhcmRjb3JlT24oQyksXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkhlYXJpbmcgYmVjb21lcyBoYXJkZXIgdGhlIGh1bmdyaWVyIHlvdSBhcmVcIlxyXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJzbG93TGVhdmVcIixcclxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcclxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCAmJiAhIVBsYXllclZQQyhDKS5lbmFibGVkICYmICFJc0hhcmRjb3JlT24oQyksXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIlRha2VzIGxvbmdlciB0byBsZWF2ZSB0aGUgcm9vbSB3aGVuIGh1bmdyeVwiXHJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nXHJcbiAgICAgICAgXTtcclxuICAgIH1cclxuXHJcbiAgICBMb2FkKCk6IHZvaWRcclxuICAgIHtcclxuICAgICAgICAvLyBDaGVjayBmb3IgY29uZGl0aW9uIGNoYW5nZXMgZXZlcnkgc28gb2Z0ZW5cclxuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJHYW1lUnVuXCIsIDAsIChhcmdzLCBuZXh0KSA9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKHN0YXRDb3VudCA+PSBTVEFUX0NPVU5UX01BWClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgQ29uZGl0aW9uQ2hlY2soKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzdGF0Q291bnQrKztcclxuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEVlcHkgdGludFxyXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIlBsYXllci5HZXRUaW50c1wiLCAwLCAoYXJncywgbmV4dCkgPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8vIE5vdCBlbmFibGVkLCBza2lwXHJcbiAgICAgICAgICAgIGlmICghQ29uZGl0aW9uSXNFbmZvcmNlZChcInRpbnRcIiwgU0xFRVBfVElOVC5zdGF0KSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJMZXZlbCA9IEdldENoYXJhY3RlckN1cnJlbnRTdGF0VmFsdWUoUGxheWVyLCBTTEVFUF9USU5ULnN0YXQpO1xyXG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIHNjYWxlZCB2YWx1ZVxyXG4gICAgICAgICAgICBjb25zdCBzY2FsZWRWYWx1ZSA9ICgoY3VyckxldmVsIC0gU0xFRVBfVElOVC5zdGFydExldmVsKSAvIChTTEVFUF9USU5ULmVuZExldmVsIC0gU0xFRVBfVElOVC5zdGFydExldmVsKSkgKiAoU0xFRVBfVElOVC5tYXhUaW50IC0gU0xFRVBfVElOVC5taW5UaW50KSArIFNMRUVQX1RJTlQubWluVGludDtcclxuICAgICAgICAgICAgaWYgKFNMRUVQX1RJTlQubWluVGludCA8PSBzY2FsZWRWYWx1ZSAmJiBzY2FsZWRWYWx1ZSA8PSBTTEVFUF9USU5ULm1heFRpbnQpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpLmNvbmNhdCh7IHI6IDAsIGc6IDAsIGI6IDAsIGE6IE1hdGguc3FydChNYXRoLnJvdW5kKHNjYWxlZFZhbHVlICogMTAwMCkgLyAxMDAwKSB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQWRkIGNvbmRpdGlvbiB0cmlnZ2Vyc1xyXG4gICAgICAgIG9uU3RhdExldmVsID0gW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBzdGF0OiBcInNsZWVwXCIsXHJcbiAgICAgICAgICAgICAgICB0aHJlc2hob2xkOiAwLFxyXG4gICAgICAgICAgICAgICAgY2hhbmdlOiBcImZhbGxpbmdcIixcclxuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKCk6IHZvaWRcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBNUEFQYXNzb3V0KCk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZmlyc3RSdW46IGZ1bmN0aW9uICgpOiB2b2lkXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKEdldENoYXJhY3RlckN1cnJlbnRTdGF0VmFsdWUoUGxheWVyLCBcInNsZWVwXCIpID09PSAwKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgTVBBUGFzc291dCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgc3RhdDogXCJzbGVlcFwiLFxyXG4gICAgICAgICAgICAgICAgdGhyZXNoaG9sZDogMC4xLFxyXG4gICAgICAgICAgICAgICAgY2hhbmdlOiBcInJpc2luZ1wiLFxyXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoKTogdm9pZFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXNzZWRPdXQpXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBNUEFXYWtldXAoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBdO1xyXG4gICAgICAgIC8vIEVlcHlcclxuXHJcbiAgICAgICAgLy8gUGFzc291dCBIb29rc1xyXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIlBsYXllci5DYW5UYWxrXCIsIDUsIChhcmdzLCBuZXh0KSA9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIFBhc3NvdXRDaGVjaygpID8gZmFsc2UgOiBuZXh0KGFyZ3MpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIlBsYXllci5DYW5XYWxrXCIsIDUsIChhcmdzLCBuZXh0KSA9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIFBhc3NvdXRDaGVjaygpID8gZmFsc2UgOiBuZXh0KGFyZ3MpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIlBsYXllci5DYW5DaGFuZ2VPd25DbG90aGVzXCIsIDUsIChhcmdzLCBuZXh0KSA9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIFBhc3NvdXRDaGVjaygpID8gZmFsc2UgOiBuZXh0KGFyZ3MpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIlBsYXllci5DYW5JbnRlcmFjdFwiLCA1LCAoYXJncywgbmV4dCkgPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiBQYXNzb3V0Q2hlY2soKSA/IGZhbHNlIDogbmV4dChhcmdzKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJTZXJ2ZXJTZW5kXCIsIDUsIChhcmdzLCBuZXh0KSA9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKCFQYXNzb3V0Q2hlY2soKSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IFt0eXBlLCBkYXRhXSA9IGFyZ3MgYXMgW3N0cmluZywgU2VydmVyQ2hhdFJvb21NZXNzYWdlXTtcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgdHlwZSA9PSBcIkNoYXRSb29tQ2hhdFwiXHJcbiAgICAgICAgICAgICAgICAmJiBkYXRhPy5UeXBlID09IFwiQ2hhdFwiXHJcbiAgICAgICAgICAgICAgICAmJiAhZGF0YT8uQ29udGVudC5zdGFydHNXaXRoKFwiKFwiKVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIFNlbmRBY3Rpb24oUmFuZG9tRWxlbWVudChQQVNTT1VUX1RBTEtfUkVQTEFDRSkgYXMgc3RyaW5nLCB1bmRlZmluZWQsIFt7IFNvdXJjZUNoYXJhY3RlcjogUGxheWVyLk1lbWJlck51bWJlciB9IGFzIFNvdXJjZUNoYXJhY3RlckRpY3Rpb25hcnlFbnRyeV0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiUGxheWVyLkdldERlYWZMZXZlbFwiLCA1LCAoYXJncywgbmV4dCkgPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHJldHVybiBQYXNzb3V0Q2hlY2soKSA/IDQgOiBuZXh0KGFyZ3MpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIlBsYXllci5HZXRCbGluZExldmVsXCIsIDUsIChhcmdzLCBuZXh0KSA9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIFBhc3NvdXRDaGVjaygpID8gKFBsYXllci5HYW1lcGxheVNldHRpbmdzPy5TZW5zRGVwQ2hhdExvZyA9PT0gXCJTZW5zRGVwRXh0cmVtZVwiIHx8IFBsYXllci5HYW1lcGxheVNldHRpbmdzPy5TZW5zRGVwQ2hhdExvZyA9PT0gXCJTZW5zRGVwVG90YWxcIikgPyAzIDogMiA6IG5leHQoYXJncyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIENhbid0IGZvY3VzIHdoaWxlIGh1bmdyeSAoZGVhZilcclxuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJQbGF5ZXIuR2V0RGVhZkxldmVsXCIsIDUsIChhcmdzLCBuZXh0KSA9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgZGVhZkxldmVsID0gQ29uZGl0aW9uSXNFbmZvcmNlZChcImhlYXJpbmdMb3NzXCIsIFwiZm9vZFwiKSA/IE1hdGgubWF4KDAsIE1hdGguZmxvb3IoKEdldENoYXJhY3RlckN1cnJlbnRTdGF0VmFsdWUoUGxheWVyLCBcImZvb2RcIikgLSAwLjMwMDEpICogLTEwKSkgOiAwO1xyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5tYXgoZGVhZkxldmVsLCBuZXh0KGFyZ3MpKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQWZmZWN0aW9uIGFmZmVjdCBza2lsbHNcclxuICAgICAgICBpZiAoU2tpbGxNb2RpZmllck1heCA8IDEwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgU2tpbGxNb2RpZmllck1heCA9IDEwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBBZmZlY3Rpb25Ta2lsbENoZWNrKCk7XHJcbiAgICAgICAgYWZmZWN0aW9uQ2hlY2tJbnRlcnZhbCA9IHNldEludGVydmFsKEFmZmVjdGlvblNraWxsQ2hlY2ssIHNraWxsRHVyYXRpb25NUyArIDEwMDApO1xyXG5cclxuICAgICAgICAvLyBTbG93IGxlYXZlXHJcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiQ2hhdFJvb21BdHRlbXB0TGVhdmVcIiwgMCwgKGFyZ3MsIG5leHQpID0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAoIUNvbmRpdGlvbklzRW5mb3JjZWQoXCJzbG93TGVhdmVcIiwgXCJmb29kXCIpKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29uc3QgcHJldlNsb3cgPSBDaGF0Um9vbVNsb3d0aW1lcjtcclxuICAgICAgICAgICAgY29uc3QgY3VyckZvb2QgPSBHZXRDaGFyYWN0ZXJDdXJyZW50U3RhdFZhbHVlKFBsYXllciwgXCJmb29kXCIpO1xyXG4gICAgICAgICAgICBuZXh0KGFyZ3MpO1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICBwcmV2U2xvdyA9PT0gMFxyXG4gICAgICAgICAgICAgICAgJiYgQ2hhdFJvb21TbG93dGltZXIgPiAwXHJcbiAgICAgICAgICAgICAgICAmJiBjdXJyRm9vZCA8PSBTTE9XX0xFQVZFX0xFVkVMX1NUQVJUXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgc2xvd2VkU3BlZWQgPSAoKCgtTUFYX1NMT1dfTEVBVkVfRFVSQVRJT05fU0VDIC8gU0xPV19MRUFWRV9MRVZFTF9TVEFSVCkgKiBjdXJyRm9vZCkgKyBNQVhfU0xPV19MRUFWRV9EVVJBVElPTl9TRUMpICogMTAwMDtcclxuICAgICAgICAgICAgICAgIENoYXRSb29tU2xvd3RpbWVyID0gQ3VycmVudFRpbWUgKyBDaGF0Um9vbVNsb3dMZWF2ZU1pblRpbWUgKyBzbG93ZWRTcGVlZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIlBsYXllci5Jc1Nsb3dcIiwgMCwgKGFyZ3MsIG5leHQpID0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXR1cm4gKENvbmRpdGlvbklzRW5mb3JjZWQoXCJzbG93TGVhdmVcIiwgXCJmb29kXCIpICYmIEdldENoYXJhY3RlckN1cnJlbnRTdGF0VmFsdWUoUGxheWVyLCBcImZvb2RcIikgPD0gU0xPV19MRUFWRV9MRVZFTF9TVEFSVCkgPyB0cnVlIDogbmV4dChhcmdzKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBVbmxvYWQoKTogdm9pZFxyXG4gICAge1xyXG4gICAgICAgIHN1cGVyLlVubG9hZCgpO1xyXG4gICAgICAgIG9uU3RhdExldmVsID0gW107XHJcbiAgICAgICAgY2xlYXJJbnRlcnZhbChhZmZlY3Rpb25DaGVja0ludGVydmFsKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBIb29rRnVuY3Rpb24gfSBmcm9tIFwiLi4vdXRpbC9zZGtcIjtcclxuaW1wb3J0IHsgSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cCB9IGZyb20gXCIuLi91dGlsL2F1dGhvcml0eVwiO1xyXG5pbXBvcnQgeyBNb2R1bGUsIE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4vX21vZHVsZVwiO1xyXG5pbXBvcnQgeyBHZXRDaGFyYWN0ZXJDdXJyZW50U3RhdFZhbHVlLCBWaXJ0dWFsUGV0U3RhdENhdGVnb3J5LCB0eXBlIFZpcnR1YWxQZXRTdGF0IH0gZnJvbSBcIi4vdmlydHVhbFBldFwiO1xyXG5cclxuY29uc3QgUGxheWVyVlA6ICgpID0+IE1QQVJlY29yZCA9ICgpID0+XHJcbntcclxuICAgIHJldHVybiBQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdO1xyXG59O1xyXG5jb25zdCBQbGF5ZXJWUEhVRDogKCkgPT4gTVBBUmVjb3JkID0gKCkgPT5cclxue1xyXG4gICAgcmV0dXJuIFBsYXllci5NUEFbTW9kdWxlVGl0bGUuVmlydHVhbFBldEhVRF07XHJcbn07XHJcblxyXG5jb25zdCBWUF9TVEFUX0NPTE9SX0RJQ1QgPSB7XHJcbiAgICBmb29kOiBcIiNmMmJiMThcIixcclxuICAgIHdhdGVyOiBcIiMyYTlmYzNcIixcclxuICAgIHNsZWVwOiBcIiM4ZDJhZWVcIixcclxuICAgIGFmZmVjdGlvbjogXCIjZmY3OGYyXCJcclxufTtcclxuXHJcbmZ1bmN0aW9uIERyYXdTdGF0Q2lyY2xlKHg6IG51bWJlciwgeTogbnVtYmVyLCByYWRpdXM6IG51bWJlciwgc3RhdDogVmlydHVhbFBldFN0YXQpOiB2b2lkXHJcbntcclxuICAgIGNvbnN0IGNvbG9yID0gVlBfU1RBVF9DT0xPUl9ESUNUW3N0YXQuc3RhdF07XHJcblxyXG4gICAgLy8gT3V0ZXIgY2lyY2xlXHJcbiAgICBNYWluQ2FudmFzLmJlZ2luUGF0aCgpO1xyXG4gICAgTWFpbkNhbnZhcy5hcmMoXHJcbiAgICAgICAgeCxcclxuICAgICAgICB5LFxyXG4gICAgICAgIHJhZGl1cyxcclxuICAgICAgICAwLFxyXG4gICAgICAgIDIgKiBNYXRoLlBJLFxyXG4gICAgICAgIHRydWVcclxuICAgICk7XHJcbiAgICBNYWluQ2FudmFzLmxpbmVXaWR0aCA9IHJhZGl1cyAvIDg7XHJcbiAgICBNYWluQ2FudmFzLnN0cm9rZVN0eWxlID0gY29sb3I7XHJcbiAgICBNYWluQ2FudmFzLnN0cm9rZSgpO1xyXG5cclxuICAgIC8vIElubmVyIGFyY1xyXG4gICAgTWFpbkNhbnZhcy5iZWdpblBhdGgoKTtcclxuICAgIE1haW5DYW52YXMuYXJjKFxyXG4gICAgICAgIHgsXHJcbiAgICAgICAgeSxcclxuICAgICAgICByYWRpdXMsXHJcbiAgICAgICAgLU1hdGguUEkgLyAyLFxyXG4gICAgICAgICgyICogTWF0aC5QSSAqIC1zdGF0LmxldmVsKSAtIChNYXRoLlBJIC8gMiksXHJcbiAgICAgICAgdHJ1ZVxyXG4gICAgKTtcclxuICAgIE1haW5DYW52YXMubGluZVRvKHgsIHkpO1xyXG4gICAgTWFpbkNhbnZhcy5maWxsU3R5bGUgPSBjb2xvcjtcclxuICAgIE1haW5DYW52YXMuZmlsbCgpO1xyXG5cclxuICAgIC8vIERpc3BsYXkgdGhlIHRleHRcclxuICAgIGlmIChQbGF5ZXJWUEhVRCgpLmV4YWN0U3RhdHMpXHJcbiAgICB7XHJcbiAgICAgICAgTWFpbkNhbnZhcy5maWxsU3R5bGUgPSBcIiMwMDAwMDBcIjtcclxuICAgICAgICBNYWluQ2FudmFzLmZvbnQgPSBDb21tb25HZXRGb250KHJhZGl1cyAqIDEuMjUpO1xyXG4gICAgICAgIE1haW5DYW52YXMuZmlsbFRleHQoTWF0aC5yb3VuZChzdGF0LmxldmVsICogMTAwKS50b1N0cmluZygpLCB4LCB5ICsgKHJhZGl1cyAqIDAuMTI1KSk7XHJcbiAgICAgICAgLy8gRGVmYXVsdCBzaXplLCBpZGsgaWYgbmVlZGVkIGJ1dCBjYW4ndCBodXJ0XHJcbiAgICAgICAgTWFpbkNhbnZhcy5mb250ID0gQ29tbW9uR2V0Rm9udCgzNik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIERyYXdWaXJ1YWxQZXRIdWQoeDogbnVtYmVyLCB5OiBudW1iZXIsIHpvb206IG51bWJlciwgc3RhdHM6IFZpcnR1YWxQZXRTdGF0W10pOiB2b2lkXHJcbntcclxuICAgIGNvbnN0IHBvczogXCJMZWZ0XCIgfCBcIkNlbnRlclwiIHwgXCJSaWdodFwiIHwgXCJTcGxpdFwiID0gUGxheWVyVlBIVUQoKS5wb3NpdGlvbjtcclxuICAgIGlmIChwb3MgPT09IFwiTGVmdFwiIHx8IHBvcyA9PT0gXCJSaWdodFwiKVxyXG4gICAge1xyXG4gICAgICAgIHN0YXRzLnJldmVyc2UoKTtcclxuICAgICAgICBzdGF0cy5mb3JFYWNoKChzdGF0LCBpbmRleCkgPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIERyYXdTdGF0Q2lyY2xlKFxyXG4gICAgICAgICAgICAgICAgeCArICgocG9zID09PSBcIkxlZnRcIiA/IDgwIDogNDIwKSAqIHpvb20pLFxyXG4gICAgICAgICAgICAgICAgeSArICg5NTAgLSAoaW5kZXggKiAzNikpICogem9vbSxcclxuICAgICAgICAgICAgICAgIDE2ICogem9vbSxcclxuICAgICAgICAgICAgICAgIHN0YXRcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHBvcyA9PT0gXCJDZW50ZXJcIilcclxuICAgIHtcclxuICAgICAgICBjb25zdCBzdGF0TGVuID0gc3RhdHMubGVuZ3RoO1xyXG4gICAgICAgIHN0YXRzLmZvckVhY2goKHN0YXQsIGluZGV4KSA9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgRHJhd1N0YXRDaXJjbGUoXHJcbiAgICAgICAgICAgICAgICB4ICsgKDI1MCAtICgoc3RhdExlbiAtIDEpICogMTgpICsgKGluZGV4ICogMzYpKSAqIHpvb20sXHJcbiAgICAgICAgICAgICAgICB5ICsgKDk1MCAqIHpvb20pLFxyXG4gICAgICAgICAgICAgICAgMTYgKiB6b29tLFxyXG4gICAgICAgICAgICAgICAgc3RhdFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLy8gUHJvYmFibHkgYSBiZXR0ZXIgd2F5IHRvIGRvIHRoaXMsIGJ1dCBJIGRvbid0IGNhcmUuIEl0IHdvcmtzIHRoYXRzIGFsbCBJIG5lZWQuXHJcbiAgICBlbHNlIGlmIChwb3MgPT09IFwiU3BsaXRcIilcclxuICAgIHtcclxuICAgICAgICBjb25zdCBjb2xzOiBWaXJ0dWFsUGV0U3RhdFtdW10gPSBbXTtcclxuICAgICAgICBzd2l0Y2ggKHN0YXRzLmxlbmd0aClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgIGNvbHMucHVzaChbc3RhdHNbMF1dKTtcclxuICAgICAgICAgICAgICAgIGNvbHMucHVzaChbXSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgY29scy5wdXNoKFtzdGF0c1swXV0pO1xyXG4gICAgICAgICAgICAgICAgY29scy5wdXNoKFtzdGF0c1sxXV0pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgIGNvbHMucHVzaChbc3RhdHNbMV0sIHN0YXRzWzBdXSk7XHJcbiAgICAgICAgICAgICAgICBjb2xzLnB1c2goW3N0YXRzWzJdXSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgY29scy5wdXNoKFtzdGF0c1sxXSwgc3RhdHNbMF1dKTtcclxuICAgICAgICAgICAgICAgIGNvbHMucHVzaChbc3RhdHNbM10sIHN0YXRzWzJdXSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICB9XHJcbiAgICAgICAgY29scy5mb3JFYWNoKChjb2wsIGluZGV4KSA9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29sLmZvckVhY2goKHN0YXQsIHN0YXRJbmRleCkgPT5cclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgRHJhd1N0YXRDaXJjbGUoXHJcbiAgICAgICAgICAgICAgICAgICAgeCArICgoaW5kZXggPT0gMCA/IDgwIDogNDIwKSAqIHpvb20pLFxyXG4gICAgICAgICAgICAgICAgICAgIHkgKyAoOTUwIC0gKHN0YXRJbmRleCAqIDM2KSkgKiB6b29tLFxyXG4gICAgICAgICAgICAgICAgICAgIDE2ICogem9vbSxcclxuICAgICAgICAgICAgICAgICAgICBzdGF0XHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFZpcnR1YWxQZXRIVURNb2R1bGUgZXh0ZW5kcyBNb2R1bGVcclxue1xyXG4gICAgZ2V0IFRpdGxlKCk6IE1vZHVsZVRpdGxlXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIE1vZHVsZVRpdGxlLlZpcnR1YWxQZXRIVUQ7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0IFNldHRpbmdzKCk6IFNldHRpbmdbXVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwic2VsZlwiLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxyXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiAhIVBsYXllclZQKCkuZW5hYmxlZCxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiRGlzcGxheSB5b3VyIG93biB2aXJ0dWFsIHBldCBzdGF0cyBvbiB0aGUgSFVEXCJcclxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwiZXhhY3RTdGF0c1wiLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxyXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiAhIVBsYXllclZQKCkuZW5hYmxlZCB8fCBQbGF5ZXJWUEhVRCgpLm90aGVycyAhPT0gXCJPZmZcIixcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkRpc3BsYXkgdGhlIGV4YWN0IG51bWJlciBwZXJjZW50YWdlIG9uIHRoZSBIVURcIlxyXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xyXG4gICAgICAgICAgICAgICAgbmFtZTogXCJwb3NpdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogXCJvcHRpb25cIixcclxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gISFQbGF5ZXJWUCgpLmVuYWJsZWQgfHwgUGxheWVyVlBIVUQoKS5vdGhlcnMgIT09IFwiT2ZmXCIsXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBbXCJMZWZ0XCIsIFwiQ2VudGVyXCIsIFwiUmlnaHRcIiwgXCJTcGxpdFwiXSxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIkxlZnRcIixcclxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIldoZXJlIHRvIGRpc3BsYXkgdGhlIEhVRFwiLFxyXG4gICAgICAgICAgICAgICAgbG9vcDogdHJ1ZVxyXG4gICAgICAgICAgICB9IGFzIE9wdGlvblNldHRpbmcsIHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IFwib3RoZXJzXCIsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm9wdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgb3B0aW9uczogW1wiT2ZmXCIsIFwiUHVibGljXCIsIFwiRnJpZW5kc1wiLCBcIldoaXRlbGlzdFwiLCBcIkxvdmVyc1wiLCBcIk93bmVyc1wiLCBcIkQvcyBGYW1pbHlcIiwgXCJDbHVib3duZXJcIl0sXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJGcmllbmRzXCIsXHJcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJEaXNwbGF5IHRoZSB2aXJ0dWFsIHBldCBzdGF0cyBvZiBvdGhlcnMgb24gdGhlIEhVRFwiLFxyXG4gICAgICAgICAgICAgICAgbG9vcDogZmFsc2VcclxuICAgICAgICAgICAgfSBhcyBPcHRpb25TZXR0aW5nXHJcbiAgICAgICAgXTtcclxuICAgIH1cclxuXHJcbiAgICBMb2FkKCk6IHZvaWRcclxuICAgIHtcclxuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJEcmF3QXJvdXNhbE1ldGVyXCIsIDEsIChhcmdzLCBuZXh0KSA9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgW2NoYXJhY3RlciwgeCwgeSwgem9vbV0gPSBhcmdzO1xyXG4gICAgICAgICAgICAvLyBHZXQgY2hhcmFjdGVyIHN0YXRzIHdoZW4gc3VwcG9ydCBmb3IgbXVsdHBsYXllclxyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAhQWN0aXZpdHlBbGxvd2VkKClcclxuICAgICAgICAgICAgICAgIHx8IChjaGFyYWN0ZXIuSXNQbGF5ZXIoKSAmJiAoIVBsYXllclZQSFVEKCkuc2VsZiB8fCAhUGxheWVyVlAoKS5lbmFibGVkKSlcclxuICAgICAgICAgICAgICAgIHx8ICghY2hhcmFjdGVyLklzUGxheWVyKCkgJiYgUGxheWVyVlBIVUQoKS5vdGhlcnMgPT09IFwiT2ZmXCIpXHJcbiAgICAgICAgICAgICAgICB8fCAoIWNoYXJhY3Rlci5Jc1BsYXllcigpICYmICFJc01lbWJlck51bWJlckluQXV0aEdyb3VwKGNoYXJhY3Rlci5NZW1iZXJOdW1iZXIgYXMgbnVtYmVyLCBQbGF5ZXJWUEhVRCgpLm90aGVycykpXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEdldCB0aGUgc3RhdHMgZm9yIHRoZSBjaGFyYWN0ZXIsIG5vdCBqdXN0IHRoZSBwbGF5ZXJcclxuICAgICAgICAgICAgY29uc3QgY2hhcmFjdGVyVlBTdGF0cyA9IGNoYXJhY3Rlcj8uTVBBPy5bTW9kdWxlVGl0bGUuVmlydHVhbFBldF07XHJcbiAgICAgICAgICAgIGlmICghY2hhcmFjdGVyVlBTdGF0cz8uZW5hYmxlZClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHN0YXRzOiBWaXJ0dWFsUGV0U3RhdFtdID0gW107XHJcbiAgICAgICAgICAgIChbXCJmb29kXCIsIFwid2F0ZXJcIiwgXCJzbGVlcFwiLCBcImFmZmVjdGlvblwiXSBhcyBWaXJ0dWFsUGV0U3RhdENhdGVnb3J5W10pLmZvckVhY2goKHN0YXQpID0+XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFyYWN0ZXJWUFN0YXRzW2Ake3N0YXR9SG91cnNgXSAhPT0gMClcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0cy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdDogc3RhdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZWw6IEdldENoYXJhY3RlckN1cnJlbnRTdGF0VmFsdWUoY2hhcmFjdGVyLCBzdGF0KVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKHN0YXRzLmxlbmd0aCAhPT0gMClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgRHJhd1ZpcnVhbFBldEh1ZCh4LCB5LCB6b29tLCBzdGF0cyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIFVubG9hZCgpOiB2b2lkXHJcbiAgICB7XHJcbiAgICAgICAgc3VwZXIuVW5sb2FkKCk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgTG9jYWxpemVkVGV4dCB9IGZyb20gXCIuLi9sb2NhbGl6YXRpb24vbG9jYWxpemF0aW9uXCI7XHJcblxyXG50eXBlIE5ld1ByZXJlcXVpc2l0ZXMgPSBcIkhvbGRpbmdDbGlja2VyXCIgfCBcIkhhc0Jvd2xcIiB8IFwiVXNlVG9uZ3VlTm9Nb3V0aFwiO1xyXG5cclxuLyoqIFN0b3JlcyB0aGUgYWN0aXZpdHkgbmFtZSBhbmQgdGhlIGltYWdlIGxvY2F0aW9uIG9yIGJhc2UgNjQgaW1hZ2UgZm9yIHRoYXQgYWN0aXZpdHkgKi9cclxuZXhwb3J0IGNvbnN0IGFjdGl2aXR5SW1hZ2VzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XHJcbi8qKiBXaGVuIGFuIGFjdGl2aXR5IGhhcHBlbnMsIHJ1biB0aGlzIGNhbGxiYWNrIGZ1bmN0aW9uICovXHJcbmV4cG9ydCBjb25zdCBhY3Rpdml0eVRyaWdnZXJzOiBSZWNvcmQ8c3RyaW5nLCBBY2l0aXZpdHlUcmlnZ2VyPiA9IHt9O1xyXG4vKiogQ3VzdG9tIHByZXJlcXVpc2l0ZXMgZm9yIGFjdGl2aXRpZXMgKi9cclxuZXhwb3J0IGNvbnN0IGFjdGl2aXR5UHJlcmVxdWlzaXRlczogUmVjb3JkPE5ld1ByZXJlcXVpc2l0ZXMsIFByZXJlcXVpc2l0ZT4gPVxyXG57XHJcbiAgICBIb2xkaW5nQ2xpY2tlcjogKGFjdGluZywgX2FjdGVkLCBfZ3JvdXApID0+XHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIEludmVudG9yeUdldChhY3RpbmcsIFwiSXRlbUhhbmRoZWxkXCIpPy5Bc3NldD8uTmFtZT8udG9Mb2NhbGVMb3dlckNhc2UoKT8uaW5jbHVkZXMoXCJyZW1vdGVcIikgPz8gZmFsc2U7XHJcbiAgICB9LFxyXG4gICAgSGFzQm93bDogKGFjdGluZywgX2FjdGVkLCBfZ3JvdXApID0+XHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIEludmVudG9yeUdldChhY3RpbmcsIFwiSXRlbURldmljZXNcIik/LkFzc2V0Py5OYW1lID09PSBcIlBldEJvd2xcIjtcclxuICAgIH0sXHJcbiAgICBVc2VUb25ndWVOb01vdXRoOiAoYWN0aW5nLCBfYWN0ZWQsIF9ncm91cCkgPT5cclxuICAgIHtcclxuICAgICAgICByZXR1cm4gIWFjdGluZy5DYW5UYWxrKCkgJiYgIWFjdGluZy5Jc01vdXRoQmxvY2tlZCgpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIENyZWF0ZSBhIG5ldyBjdXN0b20gYWN0aXZpdHkgZm9yIHRoZSBQbGF5ZXIgdG8gdXNlXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gQ3JlYXRlQWN0aXZpdHkoY3VzdG9tQWN0aXZpdHk6IEN1c3RvbUFjdGl2aXR5KTogdm9pZFxyXG57XHJcbiAgICAvLyBDcmVhdGUgdGhlIGFjdGl2aXR5IEJDIHVzZXNcclxuICAgIGNvbnN0IGFjdGl2aXR5OiBBY3Rpdml0eSA9IHtcclxuICAgICAgICBOYW1lOiBgTVBBXyR7Y3VzdG9tQWN0aXZpdHkuTmFtZX1gIGFzIEFjdGl2aXR5TmFtZSxcclxuICAgICAgICBBY3Rpdml0eUlEOiBNYXRoLm1heCguLi5BY3Rpdml0eUZlbWFsZTNEQ0cubWFwKCh4KSA9PiB4LkFjdGl2aXR5SUQgPz8gLTEpKSArIDEsXHJcbiAgICAgICAgTWF4UHJvZ3Jlc3M6IGN1c3RvbUFjdGl2aXR5Lk1heFByb2dyZXNzID8/IDUwLFxyXG4gICAgICAgIC8vIE1heFByb2dyZXNzU2VsZjogY3VzdG9tQWN0aXZpdHkuTWF4UHJvZ3Jlc3NTZWxmID8/IGN1c3RvbUFjdGl2aXR5Lk1heFByb2dyZXNzLFxyXG4gICAgICAgIFByZXJlcXVpc2l0ZTogY3VzdG9tQWN0aXZpdHkuUHJlcmVxdWlzaXRlLFxyXG4gICAgICAgIFRhcmdldDogW11cclxuICAgIH07XHJcblxyXG4gICAgLy8gVGhlIGxvb2t1cCB0YWJsZSBmb3IgdGhlIGFjdGl2aXR5XHJcbiAgICBjdXN0b21BY3Rpdml0eS5UYXJnZXRzLmZvckVhY2goKHRhcmdldCkgPT5cclxuICAgIHtcclxuICAgICAgICAvLyBBY2l0aXZpdHkgY2FuIGJlIHVzZWQgb24gc2VsZlxyXG4gICAgICAgIGlmICh0YXJnZXQuYWN0aW9uU2VsZilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGlmICghYWN0aXZpdHkuVGFyZ2V0U2VsZilcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgYWN0aXZpdHkuVGFyZ2V0U2VsZiA9IFtdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIChhY3Rpdml0eS5UYXJnZXRTZWxmIGFzIEFzc2V0R3JvdXBJdGVtTmFtZVtdKT8ucHVzaCh0YXJnZXQuZ3JvdXApO1xyXG4gICAgICAgICAgICBBY3Rpdml0eURpY3Rpb25hcnk/LnB1c2goW2BMYWJlbC1DaGF0U2VsZi0ke3RhcmdldC5ncm91cH0tJHthY3Rpdml0eS5OYW1lfWAsIExvY2FsaXplZFRleHQodGFyZ2V0LmxhYmVsKV0pO1xyXG4gICAgICAgICAgICBBY3Rpdml0eURpY3Rpb25hcnk/LnB1c2goW2BDaGF0U2VsZi0ke3RhcmdldC5ncm91cH0tJHthY3Rpdml0eS5OYW1lfWAsIExvY2FsaXplZFRleHQodGFyZ2V0LmFjdGlvblNlbGYpXSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBBY3Rpdml0eSBjYW4gYmUgdXNlZCBvbiBvdGhlcnNcclxuICAgICAgICBpZiAodGFyZ2V0LmFjdGlvbk90aGVycylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGFjdGl2aXR5LlRhcmdldC5wdXNoKHRhcmdldC5ncm91cCk7XHJcbiAgICAgICAgICAgIEFjdGl2aXR5RGljdGlvbmFyeT8ucHVzaChbYExhYmVsLUNoYXRPdGhlci0ke3RhcmdldC5ncm91cH0tJHthY3Rpdml0eS5OYW1lfWAsIExvY2FsaXplZFRleHQodGFyZ2V0LmxhYmVsKV0pO1xyXG4gICAgICAgICAgICBBY3Rpdml0eURpY3Rpb25hcnk/LnB1c2goW2BDaGF0T3RoZXItJHt0YXJnZXQuZ3JvdXB9LSR7YWN0aXZpdHkuTmFtZX1gLCBMb2NhbGl6ZWRUZXh0KHRhcmdldC5hY3Rpb25PdGhlcnMpXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gSW1hZ2UgdGhlIGFjdGl2aXR5IHdpbGwgdXNlXHJcbiAgICBhY3Rpdml0eUltYWdlc1thY3Rpdml0eS5OYW1lXSA9IGN1c3RvbUFjdGl2aXR5LkltYWdlO1xyXG5cclxuICAgIC8vIE9uIGFjdGl2aXR5IHRyaWdnZXIgc3VwcG9ydFxyXG4gICAgaWYgKGN1c3RvbUFjdGl2aXR5Lk9uVHJpZ2dlcilcclxuICAgIHtcclxuICAgICAgICBhY3Rpdml0eVRyaWdnZXJzW2FjdGl2aXR5Lk5hbWVdID0gY3VzdG9tQWN0aXZpdHkuT25UcmlnZ2VyO1xyXG4gICAgfVxyXG5cclxuICAgIEFjdGl2aXR5RmVtYWxlM0RDRy5wdXNoKGFjdGl2aXR5KTtcclxuICAgIEFjdGl2aXR5RmVtYWxlM0RDR09yZGVyaW5nLnB1c2goYWN0aXZpdHkuTmFtZSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDcmVhdGUgbWFueSBjdXN0b20gYWN0aXZpdGllcyBmb3IgdGhlIFBsYXllciB0byB1c2VcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBDcmVhdGVBY3Rpdml0aWVzKGN1c3RvbUFjdGl2aXRpZXM6IEN1c3RvbUFjdGl2aXR5W10pOiB2b2lkXHJcbntcclxuICAgIGN1c3RvbUFjdGl2aXRpZXMuZm9yRWFjaCgoYWN0aXZpdHkpID0+XHJcbiAgICB7XHJcbiAgICAgICAgQ3JlYXRlQWN0aXZpdHkoYWN0aXZpdHkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZW1vdmUgYWN0aXZpdHksIGRpc2FsbG93aW5nIHRoZSBQbGF5ZXIgdG8gdXNlIGl0XHJcbiAqIEBwYXJhbSBjdXN0b21BY3Rpdml0eSAtIE9ubHkgTmFtZSBhbmQgVGFyZ2V0cyBtYXR0ZXIgZm9yIHRoaXMgZnVuY3Rpb25cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBSZW1vdmVBY3Rpdml0eShjdXN0b21BY3Rpdml0eTogQ3VzdG9tQWN0aXZpdHkpOiB2b2lkXHJcbntcclxuICAgIGNvbnN0IGFjdGl2aXR5TmFtZSA9IGBNUEFfJHtjdXN0b21BY3Rpdml0eS5OYW1lfWA7XHJcblxyXG4gICAgLy8gVGhlIGxvb2t1cCB0YWJsZSBmb3IgdGhlIGFjdGl2aXR5XHJcbiAgICBjdXN0b21BY3Rpdml0eS5UYXJnZXRzLmZvckVhY2goKHRhcmdldCkgPT5cclxuICAgIHtcclxuICAgICAgICAvLyBBY2l0aXZpdHkgY2FuIGJlIHVzZWQgb24gc2VsZlxyXG4gICAgICAgIGlmICh0YXJnZXQuYWN0aW9uU2VsZilcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIEFjdGl2aXR5RGljdGlvbmFyeSA9IEFjdGl2aXR5RGljdGlvbmFyeT8uZmlsdGVyKCh4KSA9PiAhKHhbMF0gPT09IGBMYWJlbC1DaGF0U2VsZi0ke3RhcmdldC5ncm91cH0tJHthY3Rpdml0eU5hbWV9YCB8fCB4WzBdID09PSBgQ2hhdFNlbGYtJHt0YXJnZXQuZ3JvdXB9LSR7YWN0aXZpdHlOYW1lfWApKSA/PyBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQWN0aXZpdHkgY2FuIGJlIHVzZWQgb24gb3RoZXJzXHJcbiAgICAgICAgaWYgKHRhcmdldC5hY3Rpb25PdGhlcnMpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBBY3Rpdml0eURpY3Rpb25hcnkgPSBBY3Rpdml0eURpY3Rpb25hcnk/LmZpbHRlcigoeCkgPT4gISh4WzBdID09PSBgTGFiZWwtQ2hhdE90aGVyLSR7dGFyZ2V0Lmdyb3VwfS0ke2FjdGl2aXR5TmFtZX1gIHx8IHhbMF0gPT09IGBDaGF0T3RoZXItJHt0YXJnZXQuZ3JvdXB9LSR7YWN0aXZpdHlOYW1lfWApKSA/PyBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIEltYWdlIHRoZSBhY3Rpdml0eSB3aWxsIHVzZVxyXG4gICAgZGVsZXRlIGFjdGl2aXR5SW1hZ2VzW2FjdGl2aXR5TmFtZV07XHJcblxyXG4gICAgLy8gT24gYWN0aXZpdHkgdHJpZ2dlciBzdXBwb3J0XHJcbiAgICBkZWxldGUgYWN0aXZpdHlUcmlnZ2Vyc1thY3Rpdml0eU5hbWVdO1xyXG5cclxuICAgIC8vIERvbmVcclxuICAgIEFjdGl2aXR5RmVtYWxlM0RDRyA9IEFjdGl2aXR5RmVtYWxlM0RDRy5maWx0ZXIoKHgpID0+IHguTmFtZSAhPT0gYWN0aXZpdHlOYW1lKTtcclxuICAgIEFjdGl2aXR5RmVtYWxlM0RDR09yZGVyaW5nID0gQWN0aXZpdHlGZW1hbGUzRENHT3JkZXJpbmcuZmlsdGVyKCh4KSA9PiB4ICE9PSBhY3Rpdml0eU5hbWUpO1xyXG59XHJcblxyXG4vKipcclxuICogUmVtb3ZlIGFjdGl2aXRpZXMsIGRpc2FsbG93aW5nIHRoZSBQbGF5ZXIgdG8gdXNlIHRoZW1cclxuICogQHBhcmFtIGN1c3RvbUFjdGl2aXR5IC0gT25seSBOYW1lIGFuZCBUYXJnZXRzIG1hdHRlciBmb3IgdGhpcyBmdW5jdGlvblxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIFJlbW92ZUFjdGl2aXRpZXMoY3VzdG9tQWN0aXZpdGllczogQ3VzdG9tQWN0aXZpdHlbXSk6IHZvaWRcclxue1xyXG4gICAgY3VzdG9tQWN0aXZpdGllcy5mb3JFYWNoKChhY3Rpdml0eSkgPT5cclxuICAgIHtcclxuICAgICAgICBSZW1vdmVBY3Rpdml0eShhY3Rpdml0eSk7XHJcbiAgICB9KTtcclxufVxyXG4iLCJpbXBvcnQgeyBNb2R1bGVUaXRsZSB9IGZyb20gXCIuLi9tb2R1bGVzL19tb2R1bGVcIjtcclxuaW1wb3J0IHsgRmluZENoYXJhY3RlckluUm9vbSB9IGZyb20gXCIuL21lc3NhZ2luZ1wiO1xyXG5cclxuZXhwb3J0IGNvbnN0IEFVVEhPUklUWV9HUk9VUF9PUFRJT05TOiBBdXRob3JpdHlHcm91cFtdID0gW1xyXG4gICAgXCJQdWJsaWNcIixcclxuICAgIFwiRnJpZW5kc1wiLFxyXG4gICAgXCJXaGl0ZWxpc3RcIixcclxuICAgIFwiTG92ZXJzXCIsXHJcbiAgICBcIk93bmVyc1wiLFxyXG4gICAgXCJDbHVib3duZXJcIixcclxuICAgIFwiU2VsZlwiXHJcbl07XHJcblxyXG5jb25zdCBBVVRIT1JJVFlfR1JPVVBfUFJJT19PUkRFUjogQXV0aG9yaXR5R3JvdXBbXSA9IFtcclxuICAgIFwiTm9uZVwiLFxyXG4gICAgXCJQdWJsaWNcIixcclxuICAgIFwiRnJpZW5kc1wiLFxyXG4gICAgXCJXaGl0ZWxpc3RcIixcclxuICAgIFwiTG92ZXJzXCIsXHJcbiAgICBcIk93bmVyc1wiLFxyXG4gICAgXCJEL3MgRmFtaWx5XCIsXHJcbiAgICBcIkNsdWJvd25lclwiLFxyXG4gICAgXCJTZWxmXCJcclxuXTtcclxuXHJcbmNvbnN0IExvdmVycyA9IChDOiBDaGFyYWN0ZXIpID0+IChDLkxvdmVyc2hpcD8uZmlsdGVyKCh4KSA9PiB4Lk1lbWJlck51bWJlcikubWFwKChsb3ZlcikgPT4gbG92ZXIuTWVtYmVyTnVtYmVyKSA/PyBbXSkgYXMgbnVtYmVyW107XHJcbmV4cG9ydCBjb25zdCBBVVRIT1JJVFlfR1JPVVBTID1cclxue1xyXG4gICAgU2VsZjogKEM6IENoYXJhY3RlcikgPT4gW0MuTWVtYmVyTnVtYmVyID8/IC0xXSxcclxuICAgIENsdWJvd25lcjogKEM6IENoYXJhY3RlcikgPT4gQz8uT3duZXJzaGlwPy5NZW1iZXJOdW1iZXIgPyBbQz8uT3duZXJzaGlwPy5NZW1iZXJOdW1iZXJdIDogW10sXHJcbiAgICBPd25lcnM6IGZ1bmN0aW9uIChDOiBDaGFyYWN0ZXIpOiBudW1iZXJbXVxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IG93bmVycyA9ICgoQy5NUEE/LltNb2R1bGVUaXRsZS5BdXRob3JpdHldPy5vd25lcnMgYXMgc3RyaW5nKSA/PyBcIlwiKS5zcGxpdChcIixcIikubWFwKCh2YWwpID0+IHBhcnNlSW50KHZhbCkpLmZpbHRlcigobnVtKSA9PiAhaXNOYU4obnVtKSk7XHJcbiAgICAgICAgcmV0dXJuIG93bmVycy5sZW5ndGggPT09IDAgPyBbXSA6IG93bmVycztcclxuICAgIH0sXHJcbiAgICBMb3ZlcnM6IExvdmVycyxcclxuICAgIFdoaXRlTGlzdDogKEM6IENoYXJhY3RlcikgPT4gQy5XaGl0ZUxpc3QgPz8gW10sXHJcbiAgICBGcmllbmRMaXN0OiAoKSA9PiBQbGF5ZXIuRnJpZW5kTGlzdCA/PyBbXVxyXG59O1xyXG5cclxuZXhwb3J0IHR5cGUgQXV0aG9yaXR5R3JvdXAgPSBcIlNlbGZcIiB8IFwiQ2x1Ym93bmVyXCIgfCBcIkQvcyBGYW1pbHlcIiB8IFwiT3duZXJzXCIgfCBcIkxvdmVyc1wiIHwgXCJXaGl0ZWxpc3RcIiB8IFwiRnJpZW5kc1wiIHwgXCJQdWJsaWNcIiB8IFwiTm9uZVwiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIElzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAobWVtYmVyTnVtYmVyOiBudW1iZXIsIGF1dGhHcm91cDogQXV0aG9yaXR5R3JvdXAsIGFsbG93U2VsZiA9IGZhbHNlLCBzb3VyY2VDaGFyOiBDaGFyYWN0ZXIgPSBQbGF5ZXIpOiBib29sZWFuXHJcbntcclxuICAgIGlmIChhdXRoR3JvdXAgPT09IFwiTm9uZVwiKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBEZW55IHNlbGYgb3IgaW5zdGFudCBhY2Nlc3NcclxuICAgIGlmIChtZW1iZXJOdW1iZXIgPT09IEFVVEhPUklUWV9HUk9VUFMuU2VsZihzb3VyY2VDaGFyKVswXSlcclxuICAgIHtcclxuICAgICAgICAvLyBJZiBTZWxmIEF1dGhvcml0eUdyb3VwLCBvdmVycmlkZSB0aGUgYWxsb3dTZWxmIGZsYWdcclxuICAgICAgICByZXR1cm4gYXV0aEdyb3VwID09PSBcIlNlbGZcIiA/IHRydWUgOiBhbGxvd1NlbGY7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRXZlcnlvbmUgYWxsb3dlZCBleGNlcHQgYmxvY2tlZCBjaGFyYWN0ZXJzXHJcbiAgICBpZiAoYXV0aEdyb3VwID09PSBcIlB1YmxpY1wiKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiAhKFxyXG4gICAgICAgICAgICBzb3VyY2VDaGFyLkJsYWNrTGlzdC5pbmNsdWRlcyhtZW1iZXJOdW1iZXIpXHJcbiAgICAgICAgICAgIHx8ICgoc291cmNlQ2hhciBhcyBQbGF5ZXJDaGFyYWN0ZXIpPy5HaG9zdExpc3Q/LmluY2x1ZGVzKG1lbWJlck51bWJlcikgPz8gZmFsc2UpXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBGYW1pbHkgb25seSBjYW4gYmUgY2hlY2tlZCBieSBhZ2FpbnN0IHRoZSBQbGF5ZXIgdGhlbXNlbGZcclxuICAgIGlmIChhdXRoR3JvdXAgPT09IFwiRC9zIEZhbWlseVwiICYmIHNvdXJjZUNoYXIuTWVtYmVyTnVtYmVyID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBGaW5kQ2hhcmFjdGVySW5Sb29tKG1lbWJlck51bWJlcik/LklzRmFtaWx5T2ZQbGF5ZXIoKSA/PyBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgYXV0aENoZWNrID0gbmV3IFNldDxudW1iZXI+KCk7XHJcbiAgICAvLyBVc2Ugc3dpdGNoIGZhbGx0aHJvdWdoIHRvIGdldCB0aGUgc2V0IG9mIGFsbCBhdXRoZWQgdXNlcnMgaW4gdGhlIGdyb3VwKHMpXHJcbiAgICBzd2l0Y2ggKGF1dGhHcm91cClcclxuICAgIHtcclxuICAgICAgICBjYXNlIFwiRnJpZW5kc1wiOlxyXG4gICAgICAgICAgICAvLyBTaW5jZSBGcmllbmRzTGlzdCBpcyBub3Qgb24gb3RoZXIgY2hhcmFjdGVycywgY2FuIG9ubHkgY2hlY2sgaWYgdGhlIFBsYXllciBhbmQgYW5vdGhlciBjaGFyYWN0ZXIgYXJlIGZyaWVuZHNcclxuICAgICAgICAgICAgLy8gVW5hYmxlIHRvIGNoZWNrIGlmIDIgZGlmZmVyZW50IGNoYXJhY3RlcnMgYXJlIGZyaWVuZHNcclxuICAgICAgICAgICAgLy8gdGFyZ2V0Q2hhciBpcyBub24tcGxheWVyIGFuZCBsb29raW5nIGZvciBQbGF5ZXIgbWVtYmVyIG51bWJlclxyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICBzb3VyY2VDaGFyLk1lbWJlck51bWJlciAhPT0gUGxheWVyLk1lbWJlck51bWJlclxyXG4gICAgICAgICAgICAgICAgJiYgUGxheWVyLk1lbWJlck51bWJlciA9PT0gbWVtYmVyTnVtYmVyXHJcbiAgICAgICAgICAgICAgICAmJiBBVVRIT1JJVFlfR1JPVVBTLkZyaWVuZExpc3QoKS5pbmNsdWRlcyhzb3VyY2VDaGFyLk1lbWJlck51bWJlciA/PyAtMSlcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBQbGF5ZXIgaXMgc2VsZiBhbmQgbG9va2luZyB0aHJvdWdoIGZyaWVuZHMgbGlzdFxyXG4gICAgICAgICAgICBpZiAoc291cmNlQ2hhci5NZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXIpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGF1dGhDaGVjayA9IG5ldyBTZXQoWy4uLmF1dGhDaGVjaywgLi4uQVVUSE9SSVRZX0dST1VQUy5GcmllbmRMaXN0KCldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlOiBmYWxsdGhyb3VnaCBpcyBpbnRlbnRpb25hbFxyXG4gICAgICAgIGNhc2UgXCJXaGl0ZWxpc3RcIjpcclxuICAgICAgICAgICAgYXV0aENoZWNrID0gbmV3IFNldChbLi4uYXV0aENoZWNrLCAuLi5BVVRIT1JJVFlfR1JPVVBTLldoaXRlTGlzdChzb3VyY2VDaGFyKV0pO1xyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlOiBmYWxsdGhyb3VnaCBpcyBpbnRlbnRpb25hbFxyXG4gICAgICAgIGNhc2UgXCJMb3ZlcnNcIjpcclxuICAgICAgICAgICAgYXV0aENoZWNrID0gbmV3IFNldChbLi4uYXV0aENoZWNrLCAuLi5BVVRIT1JJVFlfR1JPVVBTLkxvdmVycyhzb3VyY2VDaGFyKV0pO1xyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlOiBmYWxsdGhyb3VnaCBpcyBpbnRlbnRpb25hbFxyXG4gICAgICAgIGNhc2UgXCJPd25lcnNcIjpcclxuICAgICAgICAgICAgYXV0aENoZWNrID0gbmV3IFNldChbLi4uYXV0aENoZWNrLCAuLi5BVVRIT1JJVFlfR1JPVVBTLk93bmVycyhzb3VyY2VDaGFyKV0pO1xyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlOiBmYWxsdGhyb3VnaCBpcyBpbnRlbnRpb25hbFxyXG4gICAgICAgIGNhc2UgXCJDbHVib3duZXJcIjpcclxuICAgICAgICAgICAgYXV0aENoZWNrID0gbmV3IFNldChbLi4uYXV0aENoZWNrLCAuLi5BVVRIT1JJVFlfR1JPVVBTLkNsdWJvd25lcihzb3VyY2VDaGFyKV0pO1xyXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlOiBmYWxsdGhyb3VnaCBpcyBpbnRlbnRpb25hbFxyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGF1dGhDaGVjay5oYXMobWVtYmVyTnVtYmVyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIEhpZ2hlc3RMZXZlbEF1dGhvcml0eUdyb3VwKG1lbWJlck51bWJlcjogbnVtYmVyLCB0YXJnZXRDaGFyOiBDaGFyYWN0ZXIgPSBQbGF5ZXIpOiBBdXRob3JpdHlHcm91cFxyXG57XHJcbiAgICBpZiAodGFyZ2V0Q2hhci5NZW1iZXJOdW1iZXIgPT09IG1lbWJlck51bWJlcilcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gXCJTZWxmXCI7XHJcbiAgICB9XHJcbiAgICBpZiAodGFyZ2V0Q2hhcj8uT3duZXJzaGlwPy5NZW1iZXJOdW1iZXIgPT09IG1lbWJlck51bWJlcilcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gXCJDbHVib3duZXJcIjtcclxuICAgIH1cclxuICAgIGlmIChBVVRIT1JJVFlfR1JPVVBTLk93bmVycyh0YXJnZXRDaGFyKS5pbmNsdWRlcyhtZW1iZXJOdW1iZXIpKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBcIk93bmVyc1wiO1xyXG4gICAgfVxyXG4gICAgaWYgKEFVVEhPUklUWV9HUk9VUFMuTG92ZXJzKHRhcmdldENoYXIpLmluY2x1ZGVzKG1lbWJlck51bWJlcikpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIFwiTG92ZXJzXCI7XHJcbiAgICB9XHJcbiAgICBpZiAoQVVUSE9SSVRZX0dST1VQUy5XaGl0ZUxpc3QodGFyZ2V0Q2hhcikuaW5jbHVkZXMobWVtYmVyTnVtYmVyKSlcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gXCJXaGl0ZWxpc3RcIjtcclxuICAgIH1cclxuICAgIC8vIEZyaWVuZHNcclxuICAgIC8vIFRhcmdldGNoYXJhY3RlciBpcyBzZWxmXHJcbiAgICBpZiAodGFyZ2V0Q2hhci5NZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXIgJiYgUGxheWVyLkZyaWVuZExpc3Q/LmluY2x1ZGVzKG1lbWJlck51bWJlcikpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIFwiRnJpZW5kc1wiO1xyXG4gICAgfVxyXG4gICAgLy8gVGFyZ2V0IGNoYXJhY3RlciBpcyBub3Qgc2VsZiwgYnV0IGxvb2t1cCBjaGFyYWN0ZXIgaXNcclxuICAgIGlmICh0YXJnZXRDaGFyLk1lbWJlck51bWJlciAhPT0gUGxheWVyLk1lbWJlck51bWJlclxyXG4gICAgICAmJiBtZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXJcclxuICAgICAgJiYgUGxheWVyLkZyaWVuZExpc3Q/LmluY2x1ZGVzKHRhcmdldENoYXIuTWVtYmVyTnVtYmVyID8/IC0xKVxyXG4gICAgKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBcIkZyaWVuZHNcIjtcclxuICAgIH1cclxuICAgIC8vIFB1YmxpY1xyXG4gICAgaWYgKFxyXG4gICAgICAgICEodGFyZ2V0Q2hhci5CbGFja0xpc3QuaW5jbHVkZXMobWVtYmVyTnVtYmVyKVxyXG4gICAgICAgIHx8ICgodGFyZ2V0Q2hhciBhcyBQbGF5ZXJDaGFyYWN0ZXIpPy5HaG9zdExpc3Q/LmluY2x1ZGVzKG1lbWJlck51bWJlcikgPz8gZmFsc2UpKVxyXG4gICAgKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBcIlB1YmxpY1wiO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFwiTm9uZVwiO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gQXV0aG9yaXR5SXNDb21wYXJpc29uVG9DaGFyYWN0ZXIoZ3JvdXA6IEF1dGhvcml0eUdyb3VwLCBjb21wYXJpc29uOiBcIj5cIiB8IFwiPFwiIHwgYCR7XCI9XCIgfCBcIiFcIiB8IFwiPlwiIHwgXCI8XCJ9PWAgPSBcIj49XCIsIG1lbWJlck51bWJlcjogbnVtYmVyLCBjaGFyYWN0ZXI6IENoYXJhY3RlciA9IFBsYXllcik6IGJvb2xlYW5cclxue1xyXG4gICAgY29uc3QgcmFuayA9IEhpZ2hlc3RMZXZlbEF1dGhvcml0eUdyb3VwKG1lbWJlck51bWJlciwgY2hhcmFjdGVyKTtcclxuXHJcbiAgICBjb25zdCBncm91cEluZGV4ID0gQVVUSE9SSVRZX0dST1VQX1BSSU9fT1JERVIuaW5kZXhPZihncm91cCk7XHJcbiAgICBjb25zdCByYW5rSW5kZXggPSBBVVRIT1JJVFlfR1JPVVBfUFJJT19PUkRFUi5pbmRleE9mKHJhbmspO1xyXG5cclxuICAgIGlmIChncm91cEluZGV4ID09PSAtMSB8fCByYW5rSW5kZXggPT09IC0xKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBzd2l0Y2ggKGNvbXBhcmlzb24pXHJcbiAgICB7XHJcbiAgICAgICAgY2FzZSBcIj5cIjpcclxuICAgICAgICAgICAgcmV0dXJuIHJhbmtJbmRleCA+IGdyb3VwSW5kZXg7XHJcblxyXG4gICAgICAgIGNhc2UgXCI8XCI6XHJcbiAgICAgICAgICAgIHJldHVybiByYW5rSW5kZXggPCBncm91cEluZGV4O1xyXG5cclxuICAgICAgICBjYXNlIFwiPj1cIjpcclxuICAgICAgICAgICAgcmV0dXJuIHJhbmtJbmRleCA+PSBncm91cEluZGV4O1xyXG5cclxuICAgICAgICBjYXNlIFwiPD1cIjpcclxuICAgICAgICAgICAgcmV0dXJuIHJhbmtJbmRleCA8PSBncm91cEluZGV4O1xyXG5cclxuICAgICAgICBjYXNlIFwiPT1cIjpcclxuICAgICAgICAgICAgcmV0dXJuIHJhbmtJbmRleCA9PSBncm91cEluZGV4O1xyXG5cclxuICAgICAgICBjYXNlIFwiIT1cIjpcclxuICAgICAgICAgICAgcmV0dXJuIHJhbmtJbmRleCAhPSBncm91cEluZGV4O1xyXG5cclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGNvbXBhcmlzb24gb3BlcmF0b3JcIik7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IHBhY2thZ2VJbmZvIGZyb20gXCIuLi8uLi9wYWNrYWdlLmpzb25cIjtcclxuXHJcbmV4cG9ydCBjb25zdCBNUEFfVkVSU0lPTiA9IHBhY2thZ2VJbmZvLnZlcnNpb247XHJcbmV4cG9ydCBjb25zdCBNUEFfUkVQTyA9IHBhY2thZ2VJbmZvLnJlcG9zaXRvcnkudXJsO1xyXG5cclxuZXhwb3J0IGNvbnN0IElDT05TID0gT2JqZWN0LmZyZWV6ZSh7XHJcbiAgICBQQVc6IFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFGWUFBQUJXQ0FZQUFBQlZWbUgzQUFBQUFYTlNSMElBcnM0YzZRQUFBQVJuUVUxQkFBQ3hqd3Y4WVFVQUFBQUpjRWhaY3dBQURzRUFBQTdCQWJpUmErMEFBQUFaZEVWWWRGTnZablIzWVhKbEFIZDNkeTVwYm10elkyRndaUzV2Y21lYjdqd2FBQUFHN0VsRVFWUjRYdTJjVjhnME5SaEdmeFY3QVR1S1lrTkY3SUtpM2xndnhJYUtJaUoydlZDeEZ4UWIyQzRWZThGMm9hSmdBM3RGc0hjRkc0b05zV0R2dlQzbm00MkU0WjNaWkpMWmIrY25CdzQ3N0NZelNYWjJKbm1UMlRtRlFxRlFLQlFLaFVLaFVDZ1V4ckdhUEYrK0xmK1IzOHY3NVFGeU1aa0w5clcvdkU5K0p6a1d4K1RZbEdHdTRtajV1L3kzd1U4a0Rad0srMkJmMWpHUU1od2w1d3BvVkt1U2xwZktycERYMnFmbDRCdDNJOGxQMGFwY2s5ZktXTWhqN2F0SnlyU2hIQ3dQU2F0aTR6eGRobkthdFBZeHpnZmxJRmxQV2hVS2RVczVEdEpZZVVPbGpMMHc3K2kxRC9ZWXZYYmxDdGxXUGo0alRRcTdqMTRIeFNQU09rdGlwTnZVQko5WmVXSjhXQTZLK2VXSDBxcE1qRzlJNjZ6bFBUNno4c1Q0Z2FTc2cyRTUrWU8wS2hQclZySU83MWxwWTZXTXk4cnM5SFdOWFVRdVZHMG1zL2ZvMWNkNnJ3c0xTc3FhbmI0YUZqZ2pjckM5bksvYW5JRnQzc3VCTzNPejAxZkQvaXgvcXphVFdVT3VYbTNPd0RidjVZQXkvbEp0NXFXdmhpWDQ4WFcxbVF4bFhLZmFuSUh0WE9YK1JsTFc3UFRWc0g5SzdyaTVXSFgwQ2pralZKVHhyMm96TDZFTlN6b3U5REc4TkhyTmdYL256bmtYZjNIMEdncHRFTlJtYllsV2tDZEp4dFRFTTkrUmIwcmluR2ZKTFdRYmo0NWVjK0IvcWJGZmNCdVBqVjZiMkZ4U1YrcE0zV21EdCtRRDhrUkpHMFhCcU9aTDZlNmFUYjRnaVlIT0krc3NLcitRVnI1WXo1VU90cTAwc1ZJMnltaEIvWitYVmo1ZjJtZy9HVVNYb1NLRjJGcld1VXhhNldNbHB1czRSbHBwWXJWaXZ3dzhucE5XK2piSEJ1bVhrYjlLSzNPSTUwZ2Y3dUN4OFZqTEhhVmpKMm1saVpFeStUME5PRnRhYVVPa3pXaTdSbktjRFhkSWY5UjFvN1RTaGNwMHlrclN3WGJiTkUrSWxNbEJXVytYVnJvWWFidEducFJXcGxpNUtTd3NnWWI0VVZycFFxUk1kWjZTVnRvUUtZdjdvaWdqWmJYU3hmcUViT1FuYVdYcTRyM1NjWkMwMG9SSTNqb0hTeXR0aUFkS0IyVzAwblNSdG12RXlwRGlCZElSTTlubmZFOWEzU3Qrdm54bTVXbnpFdW1nYkZhYUZCdGhHR3BsU0hFSDZZaWQ5TnRHT2xhV0sxYWJNMndyclR4TitwT1VsTWxLaytKWHNoRTY5VmFtRk4rWDdub0xaOGkvcFpYVzkxQUp1MGhHY2R4NStibHhMWFB6WVlkSks2OHZQWUF6cFlPeU1KUzEwcWJZT2lBNlZWcVpVajFlK213bTc1TFczWjErNUhZU2FOVDY1MGdEc3c4Z3JkWDNaTjhjdzZWem5DRHJhWE5JMi8xUGZjVEVYUHVyMVdaV1BwWnJTaXJyUS9odlU4bFBuUEFkeDM1V3dzNlNybHZUMUFsUktYN1NOQ293L0dRZEE0SHJUeVdqUXE3RFBseWJHWlp5V2NrTngzNnQyclJoVEd4OUk2bHk5b1d5bHlUcVpPM0hsL1ZmMXRSTkU3dEtheitwMG1aallYaG1aVTcxR2hsQ2JOZU1heStqc1JCaWI1NmhCcTA3SStMRlQ5TGFRWXF0UDVNUlJJeXN2T1BrQnRVMlZlNmdERmIrRkdtcjBQRHJ6QVUveHhqZmwwalE0cktKaTZTVkwwYVdHeld4aEF5SjJNVklHOVZ2am1NNVdWbzc2eXBEeWVWbEhVSjNkMG9yVHhldmxsWVlrMk9uREswdGFhTk9YQ2V0SFhhUkRqUm5qYzhxa3J1M2xUNUZBdEZMU2grT1RSbXM5RjJrYlpLNFJWbzdqdlZsNlVQM2lHNllsVGFIcjh1MXBjOHIwa29iSzIyU2hjdWxkWUFZL1ZtQVBTWDlWaXRkVHBrbDhBUHc1MGtyWFl5MFJWYU9rRjBiZzVHU3U3NGVLNjAwZmZtSDNGY0NjMVJkSTNqVS9ValpDK3ZLZTZSMTREYmRjc2tMcGZYNUpIUkRUcGFYV3ArM1NaMTdXMHZydzFDU1dDWm5nMVVRNTBmU1RhdmNLcTAwazlUTmN6RmNIcmNha3JveE8rdEg1NEt4dWlVeE1QNG5DTUpVT09OKytxa3MyeUdpeGZyWW15UUZKRW9mTS9Uc0U2Wmh1TVlUVTloSHNnNk1zaFAzcFR0R2ZPRVpTYlRxWFRtVjBOQ0UvS3d6WWpabHJVVHFTVFZyY0VaMG1VcWVsSGZMUVRZdUlUK3JRdE9rUDFVekNFNlJWa1dtVWRjVm0zcm9sb1RFVXFkRkF1YlJhN0JtZzF6ejlKUDBCam5WNUhyb1l0SXl1Vm1QS3lRUkhLQU41UERSNjlDZ0hRNnBOcWNQd25KOXJFdVlsS3g3elhhaTVUeGpONVpMVlp1RFpDMlo2NkdSckEzTDlPK1FvUzNXcnpiVHlkbXcyYjd0V2NSLzdDbUpuQTI3OU9oMXlMUXVIbzRoWjhNT05xamhrYTBPT1JzMjF3TnpzMG5yaXNFWWNqWXMzWldoTTVWMVlOckc2aC9ta3I5OXlyM2d3cGU1c0Y0ZXNjL0IwOUlxZEE2WnF6cXU5bDVPbVRxYVdwaExzZ3FkcWx2Tng3L0E1WG9vcis0bWNxckp1VnpJNmE4TklINXFwVW54WWpuMU1LenQ4dUJGa3l5dHIzT2x0Tkoya1lYT0M4aEJ3T3d0TTdWV1JXTGthY0VtcnBKV25oaDUrbnRxYjFoTnNQeWR4V2xXaGNiNXJmU2Z4MnFDOWJSZG4xSzhXZFlYNlEwS1ZqdUhMbVJtZGZiMU11YlBIamFRdDhtUUozR1Fuc3R1c2xjbU9Rd2xyTWh6VzZ3eTVBRmgva0tLaW40dVdZbklsQTZMSkQ2VFhlQmZPRmg4d1RGNFNJWDkwOWpzbi8vb29rRWZsMEhQQ3hRS2hVS2hVQ2dVQ29WQ1licVpNK2MvY0ZMVmJndGVURVlBQUFBQVNVVk9SSzVDWUlJPVwiXHJcbn0pO1xyXG4iLCIvKipcclxuICogR2V0IGEgcmFuZG9tIGVsZW1lbnQgZnJvbSBhbiBhcnJheSBvZiBvYmplY3RzXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gUmFuZG9tRWxlbWVudDxUPihhcnJheTogVFtdKTogVCB8IG51bGxcclxue1xyXG4gICAgaWYgKGFycmF5Lmxlbmd0aCA9PSAwKSB7IHJldHVybiBudWxsOyB9XHJcbiAgICByZXR1cm4gYXJyYXlbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogYXJyYXkubGVuZ3RoKV07XHJcbn1cclxuIiwiaW1wb3J0IHsgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9fbW9kdWxlXCI7XHJcbmltcG9ydCB7IExvY2FsaXplZFRleHQgfSBmcm9tIFwiLi4vbG9jYWxpemF0aW9uL2xvY2FsaXphdGlvblwiO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBNUEFNZXNzYWdlQ29udGVudFxyXG57XHJcbiAgICBtZXNzYWdlOiBzdHJpbmc7XHJcbiAgICBba2V5OiBzdHJpbmddOiBhbnk7IC8vIEFsbG93cyBhbnkgb3RoZXIga2V5cyB3aXRoIHZhbHVlcyBvZiBhbnkgdHlwZVxyXG59XHJcbmludGVyZmFjZSBNUEFNZXNzYWdlIGV4dGVuZHMgU2VydmVyQ2hhdFJvb21NZXNzYWdlXHJcbntcclxuICAgIENvbnRlbnQ6IFwiTVBBXCI7XHJcbiAgICBUeXBlOiBcIkhpZGRlblwiO1xyXG4gICAgRGljdGlvbmFyeTogW01QQU1lc3NhZ2VDb250ZW50XTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIENvbnRlbnRJc01QQU1lc2FnZShjb250ZW50OiBTZXJ2ZXJDaGF0Um9vbU1lc3NhZ2UpOiBjb250ZW50IGlzIE1QQU1lc3NhZ2Vcclxue1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgICBjb250ZW50LlR5cGUgPT09IFwiSGlkZGVuXCJcclxuICAgICAgICAmJiBjb250ZW50LkNvbnRlbnQgPT09IFwiTVBBXCJcclxuICAgICAgICAmJiBjb250ZW50Py5EaWN0aW9uYXJ5Py5sZW5ndGggPT09IDFcclxuICAgICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBHZXRNUEFNZXNzYWdlRnJvbUNoYXQobWVzc2FnZTogU2VydmVyQ2hhdFJvb21NZXNzYWdlKTogTVBBTWVzc2FnZUNvbnRlbnQgfCBudWxsXHJcbntcclxuICAgIHJldHVybiBDb250ZW50SXNNUEFNZXNhZ2UobWVzc2FnZSkgPyBtZXNzYWdlLkRpY3Rpb25hcnlbMF0gOiBudWxsO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gU2VuZE1QQU1lc3NhZ2UobWVzc2FnZTogTVBBTWVzc2FnZUNvbnRlbnQsIHRhcmdldD86IG51bWJlcik6IHZvaWRcclxue1xyXG4gICAgU2VydmVyU2VuZChcIkNoYXRSb29tQ2hhdFwiLCB7XHJcbiAgICAgICAgVHlwZTogXCJIaWRkZW5cIixcclxuICAgICAgICBDb250ZW50OiBcIk1QQVwiLFxyXG4gICAgICAgIERpY3Rpb25hcnk6IFttZXNzYWdlXSxcclxuICAgICAgICBUYXJnZXQ6IHRhcmdldFxyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBTZW5kIGFuIGFjdGlvbiB0byB0aGUgcm9vbSBvciBjYW4gc3BlY2lmeSBhIGNoYXJhY3RlciB3aG8gd2lsbCBvbmx5IHNlZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIFNlbmRBY3Rpb24oY29udGVudDogc3RyaW5nLCB0YXJnZXQ6IENoYXJhY3RlciB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCwgZGljdGlvbmFyeTogQ2hhdE1lc3NhZ2VEaWN0aW9uYXJ5ID0gW10pOiB2b2lkXHJcbntcclxuICAgIFNlcnZlclNlbmQoXCJDaGF0Um9vbUNoYXRcIiwge1xyXG4gICAgICAgIENvbnRlbnQ6IFwiTWF5YVNjcmlwdFwiLFxyXG4gICAgICAgIFR5cGU6IFwiQWN0aXZpdHlcIixcclxuICAgICAgICBEaWN0aW9uYXJ5OiBbeyBUYWc6IFwiTUlTU0lORyBBQ1RJVklUWSBERVNDUklQVElPTiBGT1IgS0VZV09SRCBNYXlhU2NyaXB0XCIsIFRleHQ6IExvY2FsaXplZFRleHQoY29udGVudCkgfSwgLi4uZGljdGlvbmFyeV0sXHJcbiAgICAgICAgVGFyZ2V0OiB0YXJnZXQ/Lk1lbWJlck51bWJlciB9XHJcbiAgICApO1xyXG5cclxuICAgIC8vIFNlcnZlclNlbmQoXCJDaGF0Um9vbUNoYXRcIiwge1xyXG4gICAgLy8gICAgIENvbnRlbnQ6IFwiQmVlcFwiLFxyXG4gICAgLy8gICAgIFR5cGU6IFwiQWN0aW9uXCIsXHJcbiAgICAvLyAgICAgRGljdGlvbmFyeTogW3sgVGFnOiBcIkJlZXBcIiwgVGV4dDogTG9jYWxpemVkVGV4dChjb250ZW50KSB9XSxcclxuICAgIC8vICAgICBUYXJnZXQ6IHRhcmdldD8uTWVtYmVyTnVtYmVyXHJcbiAgICAvLyB9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFNlbmQgYW4gZW1vdGUgdG8gdGhlIHJvb20gb3IgY2FuIHNwZWNpZnkgYSBjaGFyYWN0ZXIgd2hvIHdpbGwgb25seSBzZWVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBTZW5kRW1vdGUoY29udGVudDogc3RyaW5nLCB0YXJnZXQ6IENoYXJhY3RlciB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCk6IHZvaWRcclxue1xyXG4gICAgU2VydmVyU2VuZChcIkNoYXRSb29tQ2hhdFwiLCB7XHJcbiAgICAgICAgQ29udGVudDogYCR7Y29udGVudH1gLFxyXG4gICAgICAgIFR5cGU6IFwiRW1vdGVcIixcclxuICAgICAgICBUYXJnZXQ6IHRhcmdldD8uTWVtYmVyTnVtYmVyIH1cclxuICAgICk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBEaXNwbGF5IHRleHQgdG8gdGhlIGxvY2FsIHBsYXllciBvbmx5XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gTm90aWZ5UGxheWVyKGNvbnRlbnQ6IHN0cmluZywgdGltZW91dD86IG51bWJlcik6IHZvaWRcclxue1xyXG4gICAgQ2hhdFJvb21TZW5kTG9jYWwoYDxwIHN0eWxlPSdiYWNrZ3JvdW5kLWNvbG9yOiMwMGMyZmY7bWFyZ2luLWJvdHRvbTowLjI1ZW07bWFyZ2luLXRvcDowJz4ke2NvbnRlbnR9PC9wPmAsIHRpbWVvdXQpO1xyXG59XHJcblxyXG4vKipcclxuICogRGlzcGxheSB0ZXh0IHRvIHRoZSBsb2NhbCBwbGF5ZXIsIG1ha2luZyBpdCBjbGVhciBpdHMgZnJvbSBNUEFcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBNUEFOb3RpZnlQbGF5ZXIoY29udGVudDogc3RyaW5nLCB0aW1lb3V0PzogbnVtYmVyKTogdm9pZFxyXG57XHJcbiAgICBOb3RpZnlQbGF5ZXIoYCR7TG9jYWxpemVkVGV4dChcIk1QQVwiKX06ICR7Y29udGVudH1gLCB0aW1lb3V0KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEZpbmQgYSBDaGFyYWN0ZXIgaW4gdGhlIGNoYXQgcm9vbSB3aXRoIGJ5IG51bWJlciwgbmFtZSwgb3Igbmljay4gTm90IGNhc2Ugc2Vuc3RpdmUuXHJcbiAqIElmIG11bHRpcGxlIHBlb3BsZSBleGlzdHMgd2l0aCB0aGUgc2FtZSBuaWNrbmFtZSBvciBuYW1lLiBJdCB3aWxsIHJldHVybiB0aGUgZmlyc3QgcGVyc29uIHRoYXQgbWF0Y2hlcy5cclxuICogVXNlIE1lbWJlck51bWJlciBpZiB5b3Ugd2FudCB0byBndXJhbnRlZSB0byBmaW5kIHRoYXQgc3BlY2lmaWMgY2hhcmFjdGVyLlxyXG4gKlxyXG4gKiBAcGFyYW0gc2VhcmNoIC0gVGhlIE1lbWJlck51bWJlciwgTmFtZSwgb3IgTmlja25hbWUgb2YgdGhlIHBlcnNvbiB5b3Ugd2FudCB0byBmaW5kXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gRmluZENoYXJhY3RlckluUm9vbShzZWFyY2g6IHN0cmluZyB8IG51bWJlciwgeyBNZW1iZXJOdW1iZXIgPSB0cnVlLCBOaWNrTmFtZTogTmlja25hbWUgPSB0cnVlLCBOYW1lID0gdHJ1ZSB9ID0ge30pOiBDaGFyYWN0ZXIgfCBudWxsXHJcbntcclxuICAgIC8vIE1ha2Ugc3VyZSBwbGF5ZXJTZWFyY2ggaXMgYSBzdHJpbmcgLSBub3QgY2FzZSBzZW5zdGl2ZVxyXG4gICAgaWYgKHR5cGVvZiBzZWFyY2ggIT09IFwic3RyaW5nXCIpXHJcbiAgICB7XHJcbiAgICAgICAgc2VhcmNoID0gc2VhcmNoLnRvU3RyaW5nKCk7XHJcbiAgICB9XHJcbiAgICBzZWFyY2ggPSBzZWFyY2gudG9Mb2NhbGVMb3dlckNhc2UoKTtcclxuXHJcbiAgICAvLyBMb29wIHRocm91Z2ggYWxsIHRoZSBDaGFyYWN0ZXJzIGluIHRoZSBjaGF0XHJcbiAgICBmb3IgKGNvbnN0IGNoYXJhY3RlciBvZiBDaGF0Um9vbUNoYXJhY3RlcilcclxuICAgIHtcclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIChNZW1iZXJOdW1iZXIgJiYgY2hhcmFjdGVyPy5NZW1iZXJOdW1iZXIgPT09IE51bWJlcihzZWFyY2gpKVxyXG4gICAgICAgICAgICB8fCAoTmlja25hbWUgJiYgY2hhcmFjdGVyPy5OaWNrbmFtZT8udG9Mb2NhbGVMb3dlckNhc2UoKSA9PT0gc2VhcmNoKVxyXG4gICAgICAgICAgICB8fCAoTmFtZSAmJiBjaGFyYWN0ZXIuTmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSBzZWFyY2gpXHJcbiAgICAgICAgKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNoYXJhY3RlcjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTm8gY2hhcmFjdGVyIGZvdW5kXHJcbiAgICByZXR1cm4gbnVsbDtcclxufVxyXG5cclxuLyoqXHJcbiAqIFJlbW92ZSBhbGwgY29udGVudCB0aGF0IGlzIE9PQyBmcm9tIGEgbWVzc2FnZVxyXG4gKiBAcmV0dXJucyBPbmx5IHRoZSBJQyBtZXNzYWdlIGNvbnRlbnRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBSZW1vdmVPT0NDb250ZW50RnJvbU1lc3NhZ2UobWVzc2FnZTogc3RyaW5nKTogc3RyaW5nXHJcbntcclxuICAgIGNvbnN0IHJhbmdlcyA9IFNwZWVjaEdldE9PQ1JhbmdlcyhtZXNzYWdlKS5yZXZlcnNlKCk7XHJcbiAgICByYW5nZXMuZm9yRWFjaCgocmFuZ2UpID0+XHJcbiAgICB7XHJcbiAgICAgICAgbWVzc2FnZSA9IG1lc3NhZ2Uuc3Vic3RyaW5nKDAsIHJhbmdlLnN0YXJ0KSArIG1lc3NhZ2Uuc3Vic3RyaW5nKHJhbmdlLnN0YXJ0ICsgcmFuZ2UubGVuZ3RoKTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIG1lc3NhZ2U7XHJcbn1cclxuXHJcbnR5cGUgTWVzc2FnZUFjdGlvbiA9IChzZW5kZXI6IENoYXJhY3RlciwgY29udGVudDogTVBBTWVzc2FnZUNvbnRlbnQpID0+IHZvaWQ7XHJcbmV4cG9ydCBpbnRlcmZhY2UgSG9va2VkTWVzc2FnZVxyXG57XHJcbiAgICBtb2R1bGU6IE1vZHVsZVRpdGxlIHwgbnVsbDtcclxuICAgIG1lc3NhZ2U6IHN0cmluZztcclxuICAgIGFjdGlvbjogTWVzc2FnZUFjdGlvbjtcclxufVxyXG5leHBvcnQgY29uc3QgaG9va2VkTWVzc2FnZXM6IEhvb2tlZE1lc3NhZ2VbXSA9IFtdO1xyXG5cclxuLyoqXHJcbiAqIEFkZCBhIGxpc3RlbmVyIGZvciBhbiBpbmNvbWluZyBNUEEgbWVzc2FnZVxyXG4gKiBAcGFyYW0gbGlzdGVuZXIudGl0bGUgLSBXaGF0IG1vZHVsZSBkb2VzIHRoZSBsaXN0ZW5lciBiZWxvbmcgdG9cclxuICogQHBhcmFtIGxpc3RlbmVyLm1lc3NhZ2UgLSBUaGUgbWVzc2FnZSBzdHJpbmcgdG8gbWF0Y2ggd2l0aCB0aGUgaW5jb21pbmcgbWVzc2FnZVxyXG4gKiBAcGFyYW0gbGlzdGVuZXIuYWN0aW9uIC0gUnVuIHRoaXMgZnVuY3Rpb24gd2hlbiBhIG1hdGNoIGlzIGZvdW5kXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gQWRkRGF0YVN5bmNMaXN0ZW5lcihsaXN0ZW5lcjogSG9va2VkTWVzc2FnZSk6IHZvaWRcclxue1xyXG4gICAgaG9va2VkTWVzc2FnZXMucHVzaCh7XHJcbiAgICAgICAgbW9kdWxlOiBsaXN0ZW5lci5tb2R1bGUsXHJcbiAgICAgICAgbWVzc2FnZTogbGlzdGVuZXIubWVzc2FnZSxcclxuICAgICAgICBhY3Rpb246IGxpc3RlbmVyLmFjdGlvblxyXG4gICAgfSBhcyBIb29rZWRNZXNzYWdlKTtcclxufVxyXG4vKipcclxuICogQWRkIG1hbnkgbGlzdGVuZXJzIGZvciBhbiBpbmNvbWluZyBNUEEgbWVzc2FnZVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIEFkZERhdGFTeW5jTGlzdGVuZXJzKGxpc3RlbmVyczogSG9va2VkTWVzc2FnZVtdKTogdm9pZFxyXG57XHJcbiAgICBsaXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXIpID0+XHJcbiAgICB7XHJcbiAgICAgICAgaG9va2VkTWVzc2FnZXMucHVzaCh7XHJcbiAgICAgICAgICAgIG1vZHVsZTogbGlzdGVuZXIubW9kdWxlLFxyXG4gICAgICAgICAgICBtZXNzYWdlOiBsaXN0ZW5lci5tZXNzYWdlLFxyXG4gICAgICAgICAgICBhY3Rpb246IGxpc3RlbmVyLmFjdGlvblxyXG4gICAgICAgIH0gYXMgSG9va2VkTWVzc2FnZSk7XHJcbiAgICB9KTtcclxufVxyXG4vKipcclxuICogUmVtb3ZlIGFsbCB0aGUgbGlzdGVuZXJzIGJhc2VkIG9uIHRoZSBNb2R1bGVUaXRsZVxyXG4gKiBAcGFyYW0gbW9kdWxlIC0gTW9kdWxlIHRoZSBsaXN0ZW5lcnMgeW91IHdhbnQgdG8gcmVtb3ZlIGJlbG9uZ3MgdG9cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBSZW1vdmVEYXRhU3luY0xpc3RlbmVycyhtb2R1bGU6IE1vZHVsZVRpdGxlIHwgbnVsbCk6IHZvaWRcclxue1xyXG4gICAgZm9yIChsZXQgaSA9IGhvb2tlZE1lc3NhZ2VzLmxlbmd0aCAtIDE7IDAgPD0gaTsgaS0tKVxyXG4gICAge1xyXG4gICAgICAgIGlmIChob29rZWRNZXNzYWdlc1tpXS5tb2R1bGUgPT09IG1vZHVsZSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGhvb2tlZE1lc3NhZ2VzLnNwbGljZShpLCAxKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBHZXRFbnRyeUZyb21DaGF0RGljdGlvbmFyeShkYXRhOiBTZXJ2ZXJDaGF0Um9vbU1lc3NhZ2UsIGF0dHJpYnV0ZTogc3RyaW5nKTogQ2hhdE1lc3NhZ2VEaWN0aW9uYXJ5RW50cnkgfCB1bmRlZmluZWRcclxue1xyXG4gICAgaWYgKCFkYXRhLkRpY3Rpb25hcnkpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuICAgIHRyeVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBkYXRhLkRpY3Rpb25hcnkuZmlsdGVyKChlbnRyeSkgPT4gISFlbnRyeVthdHRyaWJ1dGVdKVswXTtcclxuICAgIH1cclxuICAgIGNhdGNoIChfZXJyb3IpXHJcbiAgICB7XHJcbiAgICAgICAgLy8gZWhoaCB0aGlzIGRvZXNuJ3Qgd29yayBjdXogLmZpbHRlciBpcyBub3QgZGVmaW5lZCBvbiBmaXJzdCBsb2FkIGZvciBzb21lIHJlYXNvblxyXG4gICAgICAgIC8vIE5vIGJpZyBkZWFsIHNvIEkgZG9uJ3QgcmVhbGx5IGNhcmUgaWYgaXRzIGFuIGlzc3VlIGZvciBub3dcclxuICAgIH1cclxuICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YTogU2VydmVyQ2hhdFJvb21NZXNzYWdlLCBhdHRyaWJ1dGU6IHN0cmluZyk6IGFueSB8IHVuZGVmaW5lZFxyXG57XHJcbiAgICByZXR1cm4gR2V0RW50cnlGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgYXR0cmlidXRlKT8uW2F0dHJpYnV0ZV07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBBcnJheVRvUmVhZGFibGVTdHJpbmcoYXJyOiBzdHJpbmdbXSk6IHN0cmluZ1xyXG57XHJcbiAgICBjb25zdCBsZW5ndGggPSBhcnIubGVuZ3RoO1xyXG4gICAgaWYgKGxlbmd0aCA9PT0gMClcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gXCJcIjtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGxlbmd0aCA9PT0gMSlcclxuICAgIHtcclxuICAgICAgICByZXR1cm4gYXJyWzBdO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAobGVuZ3RoID09PSAyKVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBgJHthcnJbMF19IGFuZCAke2FyclsxXX1gO1xyXG4gICAgfVxyXG4gICAgZWxzZVxyXG4gICAge1xyXG4gICAgICAgIHJldHVybiBgJHthcnIuc2xpY2UoMCwgLTEpLmpvaW4oXCIsIFwiKX0sIGFuZCAke2FycltsZW5ndGggLSAxXX1gO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCB7IE1vZHVsZSB9IGZyb20gXCIuLi9tb2R1bGVzL19tb2R1bGVcIjtcclxuaW1wb3J0IHsgTG9hZFN0b3JhZ2UgfSBmcm9tIFwiLi9zdG9yYWdlXCI7XHJcbmltcG9ydCB7IERhdGFTeW5jTW9kdWxlIH0gZnJvbSBcIi4uL21vZHVsZXMvZGF0YVN5bmNcIjtcclxuaW1wb3J0IHsgU2V0dGluZ3NNb2R1bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9zZXR0aW5nc1wiO1xyXG5pbXBvcnQgeyBBY3Rpdml0aWVzTW9kdWxlIH0gZnJvbSBcIi4uL21vZHVsZXMvYWN0aXZpdGllc1wiO1xyXG5pbXBvcnQgeyBDbGlja2VyTW9kdWxlIH0gZnJvbSBcIi4uL21vZHVsZXMvY2xpY2tlclwiO1xyXG5pbXBvcnQgeyBWaXJ0dWFsUGV0TW9kdWxlIH0gZnJvbSBcIi4uL21vZHVsZXMvdmlydHVhbFBldFwiO1xyXG5pbXBvcnQgeyBWaXJ0dWFsUGV0SFVETW9kdWxlIH0gZnJvbSBcIi4uL21vZHVsZXMvdmlydHVhbFBldEhVRFwiO1xyXG5pbXBvcnQgeyBWaXJ0dWFsUGV0Q29uZGl0aW9uc01vZHVsZSB9IGZyb20gXCIuLi9tb2R1bGVzL3ZpcnR1YWxQZXRDb25kaXRpb25zXCI7XHJcbmltcG9ydCB7IFByb2ZpbGVNb2R1bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9wcm9maWxlXCI7XHJcbmltcG9ydCB7IFNldHRpbmdzT3RoZXJNb2R1bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9zZXR0aW5nc090aGVyc1wiO1xyXG5pbXBvcnQgeyBBdXRob3JpdHlNb2R1bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9hdXRob3JpdHlcIjtcclxuXHJcbmxldCBtb2R1bGVzUmVnaXN0ZXJlZCA9IGZhbHNlO1xyXG5cclxuZXhwb3J0IGNvbnN0IG1vZHVsZXM6IE1vZHVsZVtdID0gW1xyXG4gICAgbmV3IERhdGFTeW5jTW9kdWxlKCksXHJcbiAgICBuZXcgU2V0dGluZ3NNb2R1bGUoKSxcclxuICAgIG5ldyBBY3Rpdml0aWVzTW9kdWxlKCksXHJcbiAgICBuZXcgQ2xpY2tlck1vZHVsZSgpLFxyXG4gICAgbmV3IFZpcnR1YWxQZXRNb2R1bGUoKSxcclxuICAgIG5ldyBWaXJ0dWFsUGV0SFVETW9kdWxlKCksXHJcbiAgICBuZXcgVmlydHVhbFBldENvbmRpdGlvbnNNb2R1bGUoKSxcclxuICAgIG5ldyBQcm9maWxlTW9kdWxlKCksXHJcbiAgICBuZXcgU2V0dGluZ3NPdGhlck1vZHVsZSgpLFxyXG4gICAgbmV3IEF1dGhvcml0eU1vZHVsZSgpXHJcbl07XHJcblxyXG5leHBvcnQgY29uc3Qgc2V0dGluZ3M6IFBhcnRpYWw8TVBBU2V0dGluZ3M+ID0ge307XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUmVnaXN0ZXJNb2R1bGVzKCk6IFByb21pc2U8dm9pZD5cclxue1xyXG4gICAgLy8gTm8gZHVwbGljYXRlIG1vZHVsZSByZWdpc3RlcmluZ1xyXG4gICAgaWYgKG1vZHVsZXNSZWdpc3RlcmVkKSB7IHJldHVybjsgfVxyXG5cclxuICAgIG1vZHVsZXMuZm9yRWFjaCgobW9kdWxlKSA9PlxyXG4gICAge1xyXG4gICAgICAgIC8vIEdldCBhbGwgdGhlIHNldHRpbmdzXHJcbiAgICAgICAgY29uc3QgbW9kU2V0ID0gbW9kdWxlLlNldHRpbmdzO1xyXG4gICAgICAgIGNvbnN0IG5ld1NldHRpbmdzID0ge307XHJcbiAgICAgICAgbW9kU2V0LmZvckVhY2goKHNldCkgPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIG5ld1NldHRpbmdzW3NldC5uYW1lXSA9IHNldDtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoT2JqZWN0LmtleXMobmV3U2V0dGluZ3MpLmxlbmd0aCAhPT0gMClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHNldHRpbmdzW21vZHVsZS5UaXRsZV0gPSBuZXdTZXR0aW5ncztcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIGF3YWl0IExvYWRTdG9yYWdlKCk7XHJcblxyXG4gICAgLy8gTG9hZCB0aGUgbW9kdWxlc1xyXG4gICAgbW9kdWxlcy5mb3JFYWNoKChtb2R1bGUpID0+XHJcbiAgICB7XHJcbiAgICAgICAgbW9kdWxlLkxvYWQoKTtcclxuICAgIH0pO1xyXG4gICAgbW9kdWxlc1JlZ2lzdGVyZWQgPSB0cnVlO1xyXG59XHJcbiIsImltcG9ydCBiY01vZFNkaywgeyBHZXREb3RlZFBhdGhUeXBlLCBNb2RTREtNb2RBUEksIFBhdGNoSG9vayB9IGZyb20gXCJib25kYWdlLWNsdWItbW9kLXNka1wiO1xyXG5pbXBvcnQgeyBNb2R1bGVUaXRsZSB9IGZyb20gXCIuLi9tb2R1bGVzL19tb2R1bGVcIjtcclxuaW1wb3J0IHsgTVBBX1JFUE8sIE1QQV9WRVJTSU9OIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XHJcblxyXG5pbnRlcmZhY2UgSG9va2VkRnVuY3Rpb25cclxue1xyXG4gICAgZnVuY3Rpb25OYW1lOiBzdHJpbmc7XHJcbiAgICBwcmlvcml0eTogbnVtYmVyO1xyXG4gICAgaG9vazogUGF0Y2hIb29rO1xyXG4gICAgbW9kdWxlOiBzdHJpbmcgfCBudWxsO1xyXG4gICAgcmVtb3ZlSG9vazogKCkgPT4gdm9pZDtcclxufVxyXG5jb25zdCBob29rczogSG9va2VkRnVuY3Rpb25bXSA9IFtdO1xyXG5cclxuZXhwb3J0IGNvbnN0IG1vZEFQSTogTW9kU0RLTW9kQVBJID0gYmNNb2RTZGsucmVnaXN0ZXJNb2Qoe1xyXG4gICAgbmFtZTogXCJNUEFcIixcclxuICAgIHZlcnNpb246IE1QQV9WRVJTSU9OLFxyXG4gICAgZnVsbE5hbWU6IFwiTWF5YSdzIFBldHBsYXkgQWRkaXRpb25zXCIsXHJcbiAgICByZXBvc2l0b3J5OiBNUEFfUkVQT1xyXG59LCB7XHJcbiAgICBhbGxvd1JlcGxhY2U6IGZhbHNlXHJcbn0pO1xyXG5cclxuLyoqXHJcbiAqIEhvb2sgYSBCQyBmdW5jdGlvblxyXG4gKiBAcGFyYW0gbW9kdWxlIC0gVGhlIHRpdGxlIG9mIHRoZSBtb2R1bGUgdGhlIGhvb2sgaXMgYmVpbmcgdXNlZCBpblxyXG4gKiBAdGVtcGxhdGUgVEZ1bmN0aW9uTmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBob29rZWQgZnVuY3Rpb24sIF9lLmcuXyBgXCJQbGF5ZXIuQ2FuQ2hhbmdlXCJgXHJcbiAqIEBwYXJhbSBmdW5jdGlvbk5hbWUgLSBOYW1lIG9mIGZ1bmN0aW9uIHRvIGhvb2suIENhbiBjb250YWluIGRvdHMgdG8gY2hhbmdlIG1ldGhvZHMgaW4gb2JqZWN0cyAoZS5nLiBgUGxheWVyLkNhbkNoYW5nZWApXHJcbiAqIEBwYXJhbSBwcmlvcml0eSAtIE51bWJlciB1c2VkIHRvIGRldGVybWluYXRlIG9yZGVyIGhvb2tzIHdpbGwgYmUgY2FsbGVkIGluLiBIaWdoZXIgbnVtYmVyIGlzIGNhbGxlZCBmaXJzdFxyXG4gKiBAcGFyYW0gaG9vayAtIFRoZSBob29rIGl0c2VsZiB0byB1c2UsIEBzZWUgUGF0Y2hIb29rXHJcbiAqIEByZXR1cm5zIEZ1bmN0aW9uIHRoYXQgY2FuIGJlIGNhbGxlZCB0byByZW1vdmUgdGhpcyBob29rXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gSG9va0Z1bmN0aW9uPFRGdW5jdGlvbk5hbWUgZXh0ZW5kcyBzdHJpbmc+KG1vZHVsZTogTW9kdWxlVGl0bGUgfCBudWxsLCBmdW5jdGlvbk5hbWU6IFRGdW5jdGlvbk5hbWUsIHByaW9yaXR5OiBudW1iZXIsIGhvb2s6IFBhdGNoSG9vazxHZXREb3RlZFBhdGhUeXBlPHR5cGVvZiBnbG9iYWxUaGlzLCBURnVuY3Rpb25OYW1lPj4pOiAoKSA9PiB2b2lkXHJcbntcclxuICAgIGNvbnN0IHJlbW92ZUhvb2sgPSBtb2RBUEkuaG9va0Z1bmN0aW9uKGZ1bmN0aW9uTmFtZSwgcHJpb3JpdHksIGhvb2spO1xyXG5cclxuICAgIGhvb2tzLnB1c2goe1xyXG4gICAgICAgIGZ1bmN0aW9uTmFtZTogZnVuY3Rpb25OYW1lLFxyXG4gICAgICAgIHByaW9yaXR5OiBwcmlvcml0eSxcclxuICAgICAgICBob29rOiBob29rLFxyXG4gICAgICAgIG1vZHVsZTogbW9kdWxlLFxyXG4gICAgICAgIHJlbW92ZUhvb2s6IHJlbW92ZUhvb2tcclxuICAgIH0gYXMgSG9va2VkRnVuY3Rpb24pO1xyXG5cclxuICAgIHJldHVybiByZW1vdmVIb29rO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gUmVtb3ZlSG9va3MobW9kdWxlOiBNb2R1bGVUaXRsZSB8IG51bGwpOiB2b2lkXHJcbntcclxuICAgIGZvciAobGV0IGkgPSBob29rcy5sZW5ndGggLSAxOyAwIDw9IGk7IGktLSlcclxuICAgIHtcclxuICAgICAgICBpZiAoaG9va3NbaV0ubW9kdWxlID09PSBtb2R1bGUpXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBob29rc1tpXS5yZW1vdmVIb29rKCk7XHJcbiAgICAgICAgICAgIGhvb2tzLnNwbGljZShpLCAxKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBPbmx5IHJlbGVhc2UgdGhlIGF3YWl0IHdoZW4gdGhlIFBsYXllciBpcyBkZXRlY3RlZCBhbmQgbG9hZGVkXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gQXdhaXRQbGF5ZXIoKTogUHJvbWlzZTx2b2lkPlxyXG57XHJcbiAgICBpZiAoUGxheWVyLk1lbWJlck51bWJlciAmJiBQbGF5ZXIuRXh0ZW5zaW9uU2V0dGluZ3MpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSkgPT5cclxuICAgIHtcclxuICAgICAgICBjb25zdCBob29rID0gbW9kQVBJLmhvb2tGdW5jdGlvbihcIkxvZ2luUmVzcG9uc2VcIiwgMCwgKGFyZ3MsIG5leHQpID0+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICAvLyBMZXQgcmVzcG9uc2UgaGFwcGVuIGZpcnN0XHJcbiAgICAgICAgICAgIG5leHQoYXJncyk7XHJcblxyXG4gICAgICAgICAgICAvLyBSZW1vdmUgdGhpcyBob29rIHdoZW4gZG9uZVxyXG4gICAgICAgICAgICBob29rKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBSZXNvbHZlIHRoZSBwcm9taXNlIHRvIGVuZCB0aGUgYXdhaXQgY29uZGl0aW9uXHJcbiAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcbiIsImV4cG9ydCBmdW5jdGlvbiBJc0Rpc3BsYXlTZXR0aW5nKHNldHRpbmc6IFNldHRpbmcpOiBzZXR0aW5nIGlzIERpc3BsYXllZFNldHRpbmdcclxue1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgICB0eXBlb2YgKHNldHRpbmcgYXMgRGlzcGxheWVkU2V0dGluZykuYWN0aXZlID09PSBcImZ1bmN0aW9uXCJcclxuICAgICAgICAmJiB0eXBlb2YgKHNldHRpbmcgYXMgRGlzcGxheWVkU2V0dGluZykubGFiZWwgPT09IFwic3RyaW5nXCJcclxuICAgICk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIElzQ2hlY2tib3hTZXR0aW5nKHNldHRpbmc6IFNldHRpbmcpOiBzZXR0aW5nIGlzIENoZWNrYm94U2V0dGluZ1xyXG57XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICAgIElzRGlzcGxheVNldHRpbmcoc2V0dGluZylcclxuICAgICAgICAmJiAoc2V0dGluZyBhcyBDaGVja2JveFNldHRpbmcpLnR5cGUgPT09IFwiY2hlY2tib3hcIlxyXG4gICAgICAgICYmIHR5cGVvZiAoc2V0dGluZyBhcyBDaGVja2JveFNldHRpbmcpLnZhbHVlID09PSBcImJvb2xlYW5cIlxyXG4gICAgKTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gSXNPcHRpb25TZXR0aW5nKHNldHRpbmc6IFNldHRpbmcpOiBzZXR0aW5nIGlzIE9wdGlvblNldHRpbmdcclxue1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgICBJc0Rpc3BsYXlTZXR0aW5nKHNldHRpbmcpXHJcbiAgICAgICAgJiYgKHNldHRpbmcgYXMgT3B0aW9uU2V0dGluZykudHlwZSA9PT0gXCJvcHRpb25cIlxyXG4gICAgICAgICYmIHR5cGVvZiAoc2V0dGluZyBhcyBPcHRpb25TZXR0aW5nKS52YWx1ZSA9PT0gXCJzdHJpbmdcIlxyXG4gICAgICAgICYmIEFycmF5LmlzQXJyYXkoKHNldHRpbmcgYXMgT3B0aW9uU2V0dGluZykub3B0aW9ucylcclxuICAgICAgICAmJiB0eXBlb2YgKHNldHRpbmcgYXMgT3B0aW9uU2V0dGluZykubG9vcCA9PT0gXCJib29sZWFuXCJcclxuICAgICk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIElzVGV4dFNldHRpbmcoc2V0dGluZzogU2V0dGluZyk6IHNldHRpbmcgaXMgVGV4dFNldHRpbmdcclxue1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgICBJc0Rpc3BsYXlTZXR0aW5nKHNldHRpbmcpXHJcbiAgICAgICAgJiYgKHNldHRpbmcgYXMgVGV4dFNldHRpbmcpLnR5cGUgPT09IFwidGV4dFwiXHJcbiAgICAgICAgJiYgdHlwZW9mIChzZXR0aW5nIGFzIFRleHRTZXR0aW5nKS52YWx1ZSA9PT0gXCJzdHJpbmdcIlxyXG4gICAgICAgICYmICh0eXBlb2YgKHNldHRpbmcgYXMgVGV4dFNldHRpbmcpLndpZHRoID09PSBcIm51bWJlclwiXHJcbiAgICAgICAgfHwgKHNldHRpbmcgYXMgVGV4dFNldHRpbmcpLndpZHRoID09PSBudWxsKVxyXG4gICAgICAgICYmICh0eXBlb2YgKHNldHRpbmcgYXMgVGV4dFNldHRpbmcpLm1heENoYXJzID09PSBcIm51bWJlclwiXHJcbiAgICAgICAgfHwgKHNldHRpbmcgYXMgVGV4dFNldHRpbmcpLm1heENoYXJzID09PSBudWxsKVxyXG4gICAgKTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gSXNOdW1iZXJTZXR0aW5nKHNldHRpbmc6IFNldHRpbmcpOiBzZXR0aW5nIGlzIE51bWJlclNldHRpbmdcclxue1xyXG4gICAgcmV0dXJuIChcclxuICAgICAgICBJc0Rpc3BsYXlTZXR0aW5nKHNldHRpbmcpXHJcbiAgICAgICAgJiYgKHNldHRpbmcgYXMgTnVtYmVyU2V0dGluZykudHlwZSA9PT0gXCJudW1iZXJcIlxyXG4gICAgICAgICYmIHR5cGVvZiAoc2V0dGluZyBhcyBOdW1iZXJTZXR0aW5nKS52YWx1ZSA9PT0gXCJudW1iZXJcIlxyXG4gICAgICAgICYmICh0eXBlb2YgKHNldHRpbmcgYXMgTnVtYmVyU2V0dGluZykud2lkdGggPT09IFwibnVtYmVyXCJcclxuICAgICAgICB8fCAoc2V0dGluZyBhcyBOdW1iZXJTZXR0aW5nKS53aWR0aCA9PT0gbnVsbClcclxuICAgICAgICAmJiB0eXBlb2YgKHNldHRpbmcgYXMgTnVtYmVyU2V0dGluZykubWluID09PSBcIm51bWJlclwiXHJcbiAgICAgICAgJiYgdHlwZW9mIChzZXR0aW5nIGFzIE51bWJlclNldHRpbmcpLm1heCA9PT0gXCJudW1iZXJcIlxyXG4gICAgICAgICYmICh0eXBlb2YgKHNldHRpbmcgYXMgTnVtYmVyU2V0dGluZykuc3RlcCA9PT0gXCJudW1iZXJcIlxyXG4gICAgICAgIHx8IChzZXR0aW5nIGFzIE51bWJlclNldHRpbmcpLnN0ZXAgPT09IG51bGwpXHJcbiAgICApO1xyXG59XHJcbiIsImltcG9ydCB7IExvY2FsaXplZFRleHQgfSBmcm9tIFwiLi4vbG9jYWxpemF0aW9uL2xvY2FsaXphdGlvblwiO1xyXG5pbXBvcnQgeyBzZXR0aW5ncyBhcyBjdXJyZW50U2V0dGluZ3MgfSBmcm9tIFwiLi9yZWdpc3Rlck1vZHVsZXNcIjtcclxuaW1wb3J0IHsgQXdhaXRQbGF5ZXIgfSBmcm9tIFwiLi9zZGtcIjtcclxuaW1wb3J0IHsgVXBkYXRlRWxlbWVudFZhbHVlcyB9IGZyb20gXCIuLi9tb2R1bGVzL3NldHRpbmdzXCI7XHJcbmltcG9ydCB7IFNldHRpbmdTeW5jIH0gZnJvbSBcIi4uL21vZHVsZXMvZGF0YVN5bmNcIjtcclxuaW1wb3J0IHsgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9fbW9kdWxlXCI7XHJcbmltcG9ydCB7IE1QQV9WRVJTSU9OIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XHJcbmltcG9ydCB7IExldmVsU3luYyB9IGZyb20gXCIuLi9tb2R1bGVzL3ZpcnR1YWxQZXRcIjtcclxuXHJcbmZ1bmN0aW9uIE1QQVVwZGF0ZUNoZWNrKHNldHRpbmdzOiBNUEFSZWNvcmRzKTogdm9pZFxyXG57XHJcbiAgICBpZiAoKHNldHRpbmdzLnZlcnNpb24gYXMgYW55KSAhPT0gTVBBX1ZFUlNJT04pXHJcbiAgICB7XHJcbiAgICAgICAgU2VydmVyQWNjb3VudEJlZXAoe1xyXG4gICAgICAgICAgICBNZW1iZXJOdW1iZXI6IFBsYXllci5NZW1iZXJOdW1iZXIgPz8gLTEsXHJcbiAgICAgICAgICAgIE1lbWJlck5hbWU6IExvY2FsaXplZFRleHQoXCJNUEFcIiksXHJcbiAgICAgICAgICAgIENoYXRSb29tU3BhY2U6IFwiWFwiLFxyXG4gICAgICAgICAgICBDaGF0Um9vbU5hbWU6IExvY2FsaXplZFRleHQoXCJNUEEgVXBkYXRlZFwiKSxcclxuICAgICAgICAgICAgUHJpdmF0ZTogZmFsc2UsXHJcbiAgICAgICAgICAgIEJlZXBUeXBlOiBcIlwiLFxyXG4gICAgICAgICAgICBNZXNzYWdlOiBcIk1QQSBoYXMgYmVlbiB1cGRhdGVkLlwiXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgKHNldHRpbmdzLnZlcnNpb24gYXMgYW55KSA9IE1QQV9WRVJTSU9OO1xyXG4gICAgICAgIFNhdmVTdG9yYWdlKGZhbHNlKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIExvYWRTdG9yYWdlKCk6IFByb21pc2U8dm9pZD5cclxue1xyXG4gICAgLy8gRW5zdXJlIHRoZSBwbGF5ZXIgaXMgbG9hZGVkIGJlZm9yZSBhdHRlbXB0aW5nIHRvIHJlYWQgdGhlIGV4dGVudGlvbiBzZXR0aW5nc1xyXG4gICAgYXdhaXQgQXdhaXRQbGF5ZXIoKTtcclxuXHJcbiAgICBjb25zdCBzZXR0aW5nczogTVBBUmVjb3JkcyA9IEpTT04ucGFyc2UoTFpTdHJpbmcuZGVjb21wcmVzc0Zyb21CYXNlNjQoUGxheWVyLkV4dGVuc2lvblNldHRpbmdzPy5NUEEgPz8gXCJcIikgPz8gXCJ7fVwiKSA/PyB7fTtcclxuXHJcbiAgICBPYmplY3QuZW50cmllcyhjdXJyZW50U2V0dGluZ3MpLmZvckVhY2goKGNhdGVnb3J5KSA9PlxyXG4gICAge1xyXG4gICAgICAgIGNvbnN0IFtzZXR0aW5nVGl0bGUsIGNhdGVnb3J5U2V0dGluZ3NdID0gY2F0ZWdvcnkgYXMgW01vZHVsZVRpdGxlLCBNUEFDYXRlZ29yeVNldHRpbmdzXTtcclxuICAgICAgICBmb3IgKGNvbnN0IFtzZXR0aW5nTmFtZSwgc2V0XSBvZiBPYmplY3QuZW50cmllcyhjYXRlZ29yeVNldHRpbmdzKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgcGxhY2UgZm9yIGRhdGEgaWYgaXQgZG9lcyBub3QgZXhpc3RcclxuICAgICAgICAgICAgaWYgKCEoc2V0dGluZ1RpdGxlIGluIHNldHRpbmdzKSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgc2V0dGluZ3Nbc2V0dGluZ1RpdGxlXSA9IHt9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFNldHRpbmcgYWxyZWFkeSBzZXRcclxuICAgICAgICAgICAgaWYgKHNldHRpbmdOYW1lIGluIHNldHRpbmdzW3NldHRpbmdUaXRsZV0pXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldHRpbmdzW3NldHRpbmdUaXRsZV1bc2V0dGluZ05hbWVdID0gc2V0LnZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIENoZWNrIGFuZCBub3RpZnkgaWYgdGhlcmUgaXMgYW4gdXBkYXRlXHJcbiAgICBNUEFVcGRhdGVDaGVjayhzZXR0aW5ncyk7XHJcblxyXG4gICAgUGxheWVyLk1QQSA9IHNldHRpbmdzO1xyXG4gICAgcmV0dXJuO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gU2F2ZVN0b3JhZ2Uoc3luY1dpdGhPdGhlcnM6IGJvb2xlYW4gPSB0cnVlKTogdm9pZFxyXG57XHJcbiAgICBQbGF5ZXIuRXh0ZW5zaW9uU2V0dGluZ3MuTVBBID0gTFpTdHJpbmcuY29tcHJlc3NUb0Jhc2U2NChKU09OLnN0cmluZ2lmeShQbGF5ZXIuTVBBKSk7XHJcbiAgICBTZXJ2ZXJQbGF5ZXJFeHRlbnNpb25TZXR0aW5nc1N5bmMoXCJNUEFcIik7XHJcbiAgICBpZiAoc3luY1dpdGhPdGhlcnMpXHJcbiAgICB7XHJcbiAgICAgICAgU2V0dGluZ1N5bmMoZmFsc2UpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUmVzZXRTdG9yYWdlKCk6IFByb21pc2U8dm9pZD5cclxue1xyXG4gICAgZGVsZXRlIChQbGF5ZXIuRXh0ZW5zaW9uU2V0dGluZ3MgYXMgYW55KS5NUEE7XHJcbiAgICBQbGF5ZXIuRXh0ZW5zaW9uU2V0dGluZ3MuTVBBID0gTFpTdHJpbmcuY29tcHJlc3NUb0Jhc2U2NChKU09OLnN0cmluZ2lmeSh7IHZlcnNpb246IE1QQV9WRVJTSU9OIH0pKTtcclxuICAgIGF3YWl0IExvYWRTdG9yYWdlKCk7XHJcbiAgICBTYXZlU3RvcmFnZSgpO1xyXG4gICAgVXBkYXRlRWxlbWVudFZhbHVlcygpO1xyXG4gICAgcmV0dXJuO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gRXhwb3J0U2V0dGluZ3NUb0NsaXBib2FyZCgpOiBQcm9taXNlPHZvaWQ+XHJcbntcclxuICAgIHJldHVybiBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChMWlN0cmluZy5jb21wcmVzc1RvQmFzZTY0KEpTT04uc3RyaW5naWZ5KFBsYXllci5NUEEpKSk7XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBJbXBvcnRTZXR0aW5nc0Zyb21DbGlwYm9hcmQoKTogUHJvbWlzZTx2b2lkPlxyXG57XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT5cclxuICAgIHtcclxuICAgICAgICBuYXZpZ2F0b3IuY2xpcGJvYXJkLnJlYWRUZXh0KCkudGhlbigodGV4dCkgPT5cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIHRyeVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdTZXR0aW5nczogTVBBUmVjb3JkcyA9IEpTT04ucGFyc2UoTFpTdHJpbmcuZGVjb21wcmVzc0Zyb21CYXNlNjQodGV4dCA/PyBcIlwiKSA/PyBcInt9XCIpO1xyXG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgbG9jYWxseSBjb3B5IHRvIG1vZGlmeSBpbiBjYXNlIGl0IGZhaWxzIGFuZCBuZWVkIHRvIHJldmVydFxyXG4gICAgICAgICAgICAgICAgLy8gVHJhbnNhY3Rpb24gaGFwcGVucyBvciBub3QgYXQgYWxsXHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50U2V0dGluZ3M6IE1QQVJlY29yZHMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KFBsYXllci5NUEEpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBWaXJ0dWFsIHBldCBsZXZlbHMgd2lsbCBiZSByZXBsYWNlZCBhbnl3YXksIHNldCBjdXJyZW50IHRpbWUgc28gbm93IHRvIG5vdCBpbnRlcmZlciB3aXRoIHN5bmNpbmcgbGF0ZXJcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRTZXR0aW5nc1tNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XS5sZXZlbHMubGFzdFVwZGF0ZWQgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgICAgICAgICAgY3VycmVudFNldHRpbmdzW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdLmxldmVscy5sYXN0T25saW5lID0gRGF0ZS5ub3coKTtcclxuXHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBuZXdTZXR0aW5ncylcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3U2V0dGluZ3Nba2V5XSAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gT25seSB1cGRhdGUgdGhlIHZhbHVlIGlmIHRoZSBuZXdSZWNvcmQga2V5IGV4aXN0cyBhbmQgaXMgbm90IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2V0dGluZ3Nba2V5IGFzIGtleW9mIE1QQVJlY29yZHNdID0gbmV3U2V0dGluZ3Nba2V5XTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gVmVyaWZ5IG5ldyBzZXR0aW5ncyBhcmUgZ29vZFxyXG4gICAgICAgICAgICAgICAgLy8gSWYgYmFkIGRhdGEgIHJldHVybiByZWplY3QoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBTZXQgdGhlIGxldmVscyB1cGRhdGUgc28gdGhhdCB0aGV5IHJldGFpbiB0aGUgc2FtZSB2YWx1ZSB3aGVuIHNhdmVkIGFmdGVyIHN5bmNpbmcgYWdhaW5cclxuICAgICAgICAgICAgICAgIGN1cnJlbnRTZXR0aW5nc1tNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XS5sZXZlbHMubGFzdFVwZGF0ZWQgPSBEYXRlLm5vdygpIC0gKGN1cnJlbnRTZXR0aW5nc1tNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XS5sZXZlbHMubGFzdE9ubGluZSAtIGN1cnJlbnRTZXR0aW5nc1tNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XS5sZXZlbHMubGFzdFVwZGF0ZWQpO1xyXG4gICAgICAgICAgICAgICAgY3VycmVudFNldHRpbmdzW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdLmxldmVscy5sYXN0T25saW5lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAgICAgICAgIFBsYXllci5NUEEgPSBjdXJyZW50U2V0dGluZ3M7XHJcbiAgICAgICAgICAgICAgICBMZXZlbFN5bmMoZmFsc2UsIGZhbHNlLCBmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgU2F2ZVN0b3JhZ2UodHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdCgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSgpO1xyXG4gICAgICAgIH0sICgpID0+IHJlamVjdCgpKTtcclxuICAgIH0pO1xyXG59XHJcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJpbXBvcnQgeyBSZWdpc3Rlck1vZHVsZXMgfSBmcm9tIFwiLi91dGlsL3JlZ2lzdGVyTW9kdWxlc1wiO1xyXG5pbXBvcnQgeyBCdWlsZEFsbENvbW1hbmRzIH0gZnJvbSBcIi4vY29tbWFuZHMvYnVpbGRBbGxDb21tYW5kc1wiO1xyXG5pbXBvcnQgeyBNUEFfVkVSU0lPTiB9IGZyb20gXCIuL3V0aWwvY29uc3RhbnRzXCI7XHJcblxyXG4vLyBUZXN0aW5nIGZvciBMb2NhbGl6YXRpb24sIGVuc3VyaW5nIGFsbCBmaWVsZHMgaW4gdGhlIHRlbXBsYXRlXHJcbi8vIGltcG9ydCB7IFNldHRpbmdUZXN0IH0gZnJvbSBcIi4vX3Rlc3RzL3NldHRpbmdzTGFiZWxzXCI7XHJcbi8vIFNldHRpbmdUZXN0KCk7XHJcbi8vIGltcG9ydCB7IEFjdGl2aXRpZXNUZXN0IH0gZnJvbSBcIi4vX3Rlc3RzL2FjdGl2aXRpZXNUZXh0XCI7XHJcbi8vIEFjdGl2aXRpZXNUZXN0KCk7XHJcblxyXG5jb25zb2xlLmxvZyhcIkxvYWRpbmcgTWF5YSdzIFBldHBsYXkgQWRkaXRpb25zXCIpO1xyXG5cclxuQnVpbGRBbGxDb21tYW5kcygpO1xyXG5SZWdpc3Rlck1vZHVsZXMoKTtcclxud2luZG93Lk1QQSA9IHtcclxuICAgIHZlcnNpb246IE1QQV9WRVJTSU9OLFxyXG4gICAgbWVudUxvYWRlZDogZmFsc2VcclxufTtcclxuIl0sIm5hbWVzIjpbIm8iLCJlIiwiYWxlcnQiLCJFcnJvciIsImNvbnNvbGUiLCJlcnJvciIsInQiLCJUZXh0RW5jb2RlciIsIm4iLCJBcnJheSIsImlzQXJyYXkiLCJyIiwiU2V0IiwiZmlsdGVyIiwiaGFzIiwiYWRkIiwiaSIsIk1hcCIsImEiLCJjIiwid2FybiIsInMiLCJmIiwidmFsdWVzIiwicGF0Y2hpbmciLCJnZXQiLCJuYW1lIiwicHVzaCIsImhvb2tzIiwicGF0Y2hlcyIsImVudHJpZXMiLCJzZXQiLCJzb3J0IiwicHJpb3JpdHkiLCJzaXplIiwidG9TdHJpbmciLCJyZXBsYWNlQWxsIiwiaW5jbHVkZXMiLCJldmFsIiwib3JpZ2luYWwiLCJtIiwiZXJyb3JSZXBvcnRlckhvb2tzIiwiaG9va0NoYWluRXhpdCIsImNhbGwiLCJhcHBseSIsInRoaXMiLCJsZW5ndGgiLCJob29rRW50ZXIiLCJtb2QiLCJob29rIiwiYXJndW1lbnRzIiwicGF0Y2hlc1NvdXJjZXMiLCJlbnRlciIsImZpbmFsIiwibCIsInByZWNvbXB1dGVkIiwid2luZG93Iiwic3BsaXQiLCJzbGljZSIsImpvaW4iLCJlbmNvZGUiLCJwYWRTdGFydCIsInRvVXBwZXJDYXNlIiwiZCIsIm9yaWdpbmFsSGFzaCIsIk9iamVjdCIsImFzc2lnbiIsInJvdXRlciIsImNvbnRleHQiLCJjb250ZXh0UHJvcGVydHkiLCJwIiwic2RrRW50cnlwb2ludCIsImN1cnJlbnRFbnRyeXBvaW50IiwiaG9va2VkQnlNb2RzIiwibWFwIiwicGF0Y2hlZEJ5TW9kcyIsImZyb20iLCJ1IiwiZGVsZXRlIiwibG9hZGVkIiwiZyIsImZ1bGxOYW1lIiwidmVyc2lvbiIsInJlcG9zaXRvcnkiLCJhbGxvd1JlcGxhY2UiLCJhcGlFbmRwb2ludEVudGVyIiwidW5sb2FkIiwiaG9va0Z1bmN0aW9uIiwiaW5kZXhPZiIsInNwbGljZSIsInBhdGNoRnVuY3Rpb24iLCJyZW1vdmVQYXRjaGVzIiwiY2xlYXIiLCJjYWxsT3JpZ2luYWwiLCJnbG9iYWxUaGlzIiwiZ2V0T3JpZ2luYWxIYXNoIiwiYXBpIiwiZnJlZXplIiwiaCIsInkiLCJiY01vZFNkayIsImFwaVZlcnNpb24iLCJyZWdpc3Rlck1vZCIsImdldE1vZHNJbmZvIiwiZ2V0UGF0Y2hpbmdJbmZvIiwic2VhbCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiQmVkIiwiQ29tbWFuZENvbWJpbmUiLCJUYWciLCJEZXNjcmlwdGlvbiIsIkFjdGlvbiIsIkludmVudG9yeUdldCIsIlBsYXllciIsIk5vdGlmeVBsYXllciIsImhhaXJDb2xvciIsIkNvbG9yIiwiSW52ZW50b3J5V2VhciIsIkNoYXRSb29tQ2hhcmFjdGVySXRlbVVwZGF0ZSIsIlNlbmRBY3Rpb24iLCJ1bmRlZmluZWQiLCJTb3VyY2VDaGFyYWN0ZXIiLCJNZW1iZXJOdW1iZXIiLCJiZWQiLCJBc3NldCIsIk5hbWUiLCJQcm9wZXJ0eSIsIlR5cGVSZWNvcmQiLCJ0eXBlZCIsIk51bWJlciIsIkNoYXRSb29tQ2hhcmFjdGVyVXBkYXRlIiwiQnVpbGRBbGxDb21tYW5kcyIsInRyYW5zbGF0aW9ucyIsInRlbXBsYXRlIiwiUlUiLCJMb2NhbGl6ZWRUZXh0IiwidGV4dCIsInRyYW5zbGF0ZWRUZXh0IiwiVHJhbnNsYXRpb25MYW5ndWFnZSIsIk1vZHVsZVRpdGxlIiwiTW9kdWxlIiwiVGl0bGUiLCJVbmtub3duIiwiQWN0aXZpdGllcyIsIlNldHRpbmdzIiwiU3luY0xpc3RlbmVycyIsIkxvYWQiLCJDcmVhdGVBY3Rpdml0aWVzIiwiQWRkRGF0YVN5bmNMaXN0ZW5lcnMiLCJVbmxvYWQiLCJSZW1vdmVIb29rcyIsIlJlbW92ZUFjdGl2aXRpZXMiLCJSZW1vdmVEYXRhU3luY0xpc3RlbmVycyIsIlJlbG9hZCIsIkFjdGl2aXRpZXNNb2R1bGUiLCJIb29rRnVuY3Rpb24iLCJhcmdzIiwibmV4dCIsInByZXJlcSIsImFjdGluZyIsImFjdGVkIiwiZ3JvdXAiLCJrZXlzIiwiYWN0aXZpdHlQcmVyZXF1aXNpdGVzIiwiZGF0YSIsIlR5cGUiLCJhY3Rpdml0eU5hbWUiLCJEaWN0aW9uYXJ5IiwiZmluZCIsIngiLCJBY3Rpdml0eU5hbWUiLCJzdGFydHNXaXRoIiwiQ29udGVudCIsIlRleHQiLCJBY3Rpdml0eURpY3Rpb25hcnlUZXh0IiwiYWN0aXZpdHlUcmlnZ2VycyIsInRhcmdldE51bWJlciIsIlRhcmdldENoYXJhY3RlciIsInRhcmdldCIsIkNoYXRSb29tQ2hhcmFjdGVyIiwiaW1hZ2VQYXRoIiwic3Vic3RyaW5nIiwiYWN0aXZpdHlJbWFnZXMiLCJzdXBlciIsIlBsYXllclAiLCJDIiwiTVBBIiwiQXV0aG9yaXR5IiwiSXNIYXJkY29yZU9uIiwiaGFyZGNvcmUiLCJBdXRob3JpdHlNb2R1bGUiLCJ0eXBlIiwiYWN0aXZlIiwibGFiZWwiLCJtYXhDaGFycyIsIndpZHRoIiwib3B0aW9ucyIsIkFVVEhPUklUWV9HUk9VUF9PUFRJT05TIiwibG9vcCIsIm90aGVyc1Byb2ZpbGUiLCJvblNldCIsInNlbGZQcm9maWxlIiwiQUxMX0NMSUNLUyIsIkF1ZGlvIiwiUGxheWVyQyIsIkNsaWNrZXIiLCJDbGlja0NvdW50Iiwic3RyIiwidG90YWxDbGlja3MiLCJ0cmlnZ2VycyIsInRyaW0iLCJmb3JFYWNoIiwidHJpZ2dlciIsInRvTG9jYWxlTG93ZXJDYXNlIiwibWF0Y2giLCJSZWdFeHAiLCJQbGF5Q2xpY2tlclNvdW5kIiwibnVtYmVyT2ZDbGlja3MiLCJpc05hTiIsImVuYWJsZWQiLCJNYXRoIiwibWluIiwicGxheSIsImJjeEhvb2tlZCIsIkhvb2tCQ1hDbGlja2VyIiwiYmN4IiwiZ2V0TW9kQXBpIiwib24iLCJtZXNzYWdlIiwicHJlZml4IiwiYmN4Vm9pY2UiLCJDbGlja2VyTW9kdWxlIiwiaGFzQmVlbkxvYWRlZCIsIk1heFByb2dyZXNzIiwiUHJlcmVxdWlzaXRlIiwiVGFyZ2V0cyIsImFjdGlvblNlbGYiLCJJbWFnZSIsImF1dGhlZEdyb3VwIiwic2VsZkF1dGhlZCIsIlNlbmRlciIsIklzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAiLCJjbGlja3MiLCJSZW1vdmVPT0NDb250ZW50RnJvbU1lc3NhZ2UiLCJyZWR1Y2UiLCJhY2MiLCJjdXJyIiwiR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5IiwiaW52ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJTZXR0aW5nU3luYyIsInJlcGx5IiwiU2VuZE1QQU1lc3NhZ2UiLCJzZXR0aW5ncyIsIkNhdGVnb3J5U3luYyIsImNhdGVnb3J5IiwiUmVjb3JkU3luYyIsInJlY29yZCIsIkRhdGFTeW5jTW9kdWxlIiwiRGF0YVN5bmMiLCJtb2R1bGUiLCJhY3Rpb24iLCJzZW5kZXIiLCJjb250ZW50IiwiR2V0TVBBTWVzc2FnZUZyb21DaGF0IiwiRmluZENoYXJhY3RlckluUm9vbSIsIk5pY2tOYW1lIiwiaG9va2VkTWVzc2FnZXMiLCJQcm9maWxlIiwiR2V0UmVjb3JkIiwidGl0bGUiLCJHQVJCTEVfUEhSQVNFUyIsIkh1bWFuIiwiQ3VzdG9tIiwiQnVubnkiLCJDYXQiLCJDb3ciLCJEb2ciLCJGb3giLCJNb3VzZSIsIlBvbnkiLCJXb2xmIiwiUEVUX0hFQVJJTkciLCJBbGwiLCJQcm9maWxlTW9kdWxlIiwiVmlydHVhbFBldCIsIm5vSGFuZHMiLCJWaXJ0dWFsUGV0Q29uZGl0aW9ucyIsImZvb2ROT1ciLCJ0aW50IiwicGFzc291dCIsImFmZmVjdGlvblNraWxsQnVmZnMiLCJhZmZlY3Rpb25Ta2lsbERlYnVmZnMiLCJoZWFyaW5nTG9zcyIsInNsb3dMZWF2ZSIsImludGVuc2l0eSIsImlnbm9yZU9PQyIsIklzRGVhZiIsInBldEhlYXJpbmciLCJwaHJhc2VzVG9LZWVwIiwiY29uY2F0IiwiTmlja25hbWUiLCJHZXRQcm9ub3VucyIsImZvdW5kUGhyYXNlcyIsInBocmFzZSIsInJlZ0V4cCIsIm1hdGNoQWxsIiwic3RhcnQiLCJpbmRleCIsImxlbiIsImIiLCJTcGVlY2hHZXRPT0NSYW5nZXMiLCJyYW5nZSIsImxhc3RJbmRleCIsImZpbmFsVGV4dCIsImZvdW5kIiwic2V0dGluZ3NFZGl0ZWQiLCJzZXR0aW5nQ2hhciIsIlNldFNldHRpbmdDaGFyIiwiY2hhcmFjdGVyIiwiQ0FOVkFTX1dJRFRIIiwiRVhJVF9QT1NJU1RJT04iLCJCVVRUT05fTUFYX05VTUJFUiIsIkJVVFRPTl9XSURUSCIsIkJVVFRPTl9IRUlHSFQiLCJCVVRUT05fVE9QIiwiQlVUVE9OX0xFRlQiLCJCVVRUT05fR0FQIiwiQlVUVE9OX1RFWFRfUEFERElORyIsIlJFU0VUX1BPU0lUSU9OIiwiQUxFUlRfUE9TSVRJT04iLCJzaG93U2V0dGluZ3NBbGVydCIsInNldHRpbmdzQWxlcnRUZXh0IiwiSU1QT1JUX1BPU0lUSU9OIiwiRVhQT1JUX1BPU0lUSU9OIiwiUkVTRVRfQ09ORklSTV9QT1NJVElPTiIsIlJFU0VUX0NBTkNFTF9QT1NJVElPTiIsIk1FTlVfQ0FURUdPUklFUyIsIklzUGxheWVyIiwiVmlydHVhbFBldEhVRCIsIk1FTlVfVElUTEVTIiwiY3VycmVudE1lbnUiLCJzZXR0aW5nc09wZW4iLCJhbGxvd1Jlc2V0VGltZSIsIkdldENsaWNrZWRNZW51IiwibWVudU9wdGlvbnMiLCJNb3VzZUluIiwiZmxvb3IiLCJEcmF3QnV0dG9uIiwiT1BUSU9OX1BFUl9QQUdFIiwiT1BUSU9OX0hFSUdIVCIsIk9QVElPTl9UT1AiLCJPUFRJT05fTEVGVCIsIk9QVElPTl9HQVAiLCJPUFRJT05fQ0hFQ0tCT1hfU0laRSIsIk9QVElPTl9CQUNLX05FWFRfV0lEVEgiLCJPUFRJT05fVEVYVF9XSURUSCIsIk9QVElPTl9URVhUX01BWF9DSEFSUyIsImN1cnJlbnRQYWdlIiwibWF4UGFnZXMiLCJORVhUX0JVVFRPTl9QT1MiLCJQUkVWX0JVVFRPTl9QT1MiLCJEcmF3U3ViTWVudU9wdGlvbnMiLCJzdWJNZW51Iiwic2V0dGluZ3NUb0Rpc3BsYXkiLCJrZXkiLCJzZXR0aW5nIiwiSXNEaXNwbGF5U2V0dGluZyIsInZhbCIsInNldHRpbmdOYW1lIiwiZGlzYWJsZWRTZXR0aW5nIiwiSXNDaGVja2JveFNldHRpbmciLCJEcmF3Q2hlY2tib3giLCJJc09wdGlvblNldHRpbmciLCJvcHRMZW4iLCJwcm9maWxlT3JFeGNsdWRlcyIsInByZXZEaXNhYmxlZCIsIkF1dGhvcml0eUlzQ29tcGFyaXNvblRvQ2hhcmFjdGVyIiwibmV4dERpc2FibGVkIiwiRHJhd0JhY2tOZXh0QnV0dG9uIiwiRHJhd1RleHRGaXQiLCJjZWlsIiwiSXNUZXh0U2V0dGluZyIsIklzTnVtYmVyU2V0dGluZyIsImlkIiwiRWxlbWVudE5hbWUiLCJFbGVtZW50UG9zaXRpb25GaXhlZCIsIkVsZW1lbnRTZXRBdHRyaWJ1dGUiLCJFbGVtZW50UmVtb3ZlQXR0cmlidXRlIiwiRXhpdEJ1dHRvblByZXNzZWQiLCJtZW51TG9hZGVkIiwiUHJlZmVyZW5jZU1lbnVFeGl0IiwiVXBkYXRlQW5kRGVsZXRlSFRNTEVsZW1lbnRzIiwiUHJlZmVyZW5jZU1lbnVDbGljayIsIkRhdGUiLCJub3ciLCJJbXBvcnRTZXR0aW5nc0Zyb21DbGlwYm9hcmQiLCJ0aGVuIiwiZmluYWxseSIsIkV4cG9ydFNldHRpbmdzVG9DbGlwYm9hcmQiLCJDcmVhdGVIVE1MRWxlbWVudHMiLCJHZXRDbGlja2VkT3B0aW9uIiwiUmVzZXRTdG9yYWdlIiwiUmVzZXRNZW51Q2xpY2siLCJQcmVmZXJlbmNlTWVudVJ1biIsInByZXZUZXh0QWxpZ24iLCJNYWluQ2FudmFzIiwidGV4dEFsaWduIiwiRHJhd1RleHQiLCJSZXNldE1lbnVSdW4iLCJEcmF3TWVudU9wdGlvbnMiLCJMZXZlbFN5bmMiLCJTYXZlU3RvcmFnZSIsIlByZWZlcmVuY2VTdWJzY3JlZW5FeHRlbnNpb25zQ2xlYXIiLCJQbGF5ZXJQcmVmZXJlbmNlTWVudUxvYWQiLCJVcGRhdGVFbGVtZW50VmFsdWVzIiwic2V0dGluZ1RpdGxlIiwicGFnZSIsIkVsZW1lbnRDcmVhdGVJbnB1dCIsIm1heCIsInN0ZXAiLCJFbGVtZW50VmFsdWUiLCJFbGVtZW50UmVtb3ZlIiwiU2V0dGluZ3NNb2R1bGUiLCJFc2NhcGVIYW5kbGVyIiwiZXZlbnQiLCJzdG9wUHJvcGFnYXRpb24iLCJQcmVmZXJlbmNlUmVnaXN0ZXJFeHRlbnNpb25TZXR0aW5nIiwiSWRlbnRpZmllciIsIkJ1dHRvblRleHQiLCJJQ09OUyIsIlBBVyIsImNsaWNrIiwicnVuIiwiZXhpdCIsImxvYWQiLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJNUEFfUkVNT1RFIiwiTVBBX1JFTU9URV9CQ1giLCJPYmplY3REaWZmZXJlbmNlcyIsIm9sZE9iaiIsIm5ld09iaiIsImRpZmZlcmVuY2VzIiwib2xkIiwibmV3IiwiZGlmZiIsIlNldHRpbmdzT3RoZXJNb2R1bGUiLCJTZXR0aW5nc090aGVyIiwidnBFbmFibGVkIiwiY2hhbmdlZFNldHRpbmdzIiwibGV2ZWxzIiwicHJldmlvdXNBdXRob3JpdHkiLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJuZXdBdXRob3JpdHkiLCJlbnRyeSIsIm1vZHVsZURpZmYiLCJsYXN0VXBkYXRlZCIsIk1QQU5vdGlmeVBsYXllciIsInJlcGxhY2UiLCJBcnJheVRvUmVhZGFibGVTdHJpbmciLCJpbkJjeFN1YnNjcmVlbiIsIkxTQ0dfUkVNT1RFX1dJTkRPV19PUEVOIiwiY2hhciIsIkluZm9ybWF0aW9uU2hlZXRTZWxlY3Rpb24iLCJhY2Nlc3MiLCJTZXJ2ZXJDaGF0Um9vbUdldEFsbG93SXRlbSIsIk1BWF9TRVRUSU5HX1RJTUVfSE9VUlMiLCJQbGF5ZXJWUCIsIkJPV0xfQ09OU1VNRV9SRUNPVkVSWSIsIkFDVElWSVRJRVNfRk9PRF9HQUlOIiwiQUNUSVZJVElFU19XQVRFUl9HQUlOIiwiRU1PVElDT05TX1NMRUVQIiwiQkVEX1BFUkZFQ1QiLCJCRURfTk9STUFMIiwiQkVEX0JBRCIsIkFGRkVDVElPTl9BQ1RJVklUWV9MT1ZFIiwiQUZGRUNUSU9OX0FDVElWSVRZX0xJS0UiLCJBRkZFQ1RJT05fQUNUSVZJVFlfTUFTTyIsIkFGRkVDVElPTl9aT05FX0FGRkVDVElPTiIsIkl0ZW1Bcm1zIiwiSXRlbUJvb3RzIiwiSXRlbUJyZWFzdCIsIkl0ZW1CdXR0IiwiSXRlbUVhcnMiLCJJdGVtRmVldCIsIkl0ZW1IYW5kcyIsIkl0ZW1IZWFkIiwiSXRlbUxlZ3MiLCJJdGVtTW91dGgiLCJJdGVtTmVjayIsIkl0ZW1OaXBwbGVzIiwiSXRlbU5vc2UiLCJJdGVtUGVsdmlzIiwiSXRlbVRvcnNvIiwiSXRlbVZ1bHZhIiwiSXRlbVZ1bHZhUGllcmNpbmdzIiwiTUlOX09GRkxJTkVfRFJBSU5fTEVWRUwiLCJsYXN0T25saW5lSW50ZXJ2YWwiLCJJc1NsZWVwaW5nRXhwcmVzc2lvbiIsIkFwcGVhcmFuY2UiLCJHcm91cCIsIkV4cHJlc3Npb24iLCJJc0JlZE11bHRpcGxpZXIiLCJkZXZpY2UiLCJwbGF5ZXJTbGVlcGluZ0V4cHJlc3Npb24iLCJwbGF5ZXJCZWRNdWx0aXBsaWVyIiwiU2xlZXBDaGFuZ2VDaGVjayIsInN5bmMiLCJzbGVlcEhvdXJzIiwiSG91clRvTVMiLCJob3VycyIsIkNhbGN1bGF0ZUN1cnJlbnRWYWx1ZSIsImR1cmF0aW9uIiwibGFzdE9ubGluZSIsImZpcnN0UnVuQ2hlY2siLCJjdXJyZW50VmFsdWUiLCJkaWZmMiIsIm5ld1ZhbHVlMiIsIkdldENoYXJhY3RlckN1cnJlbnRTdGF0VmFsdWUiLCJzdGF0IiwiY2hhclN0YXRzIiwibHZsIiwic2xlZXAiLCJwdXNoVG9TdG9yYWdlIiwicmVjb3JkU3luYyIsImZpcnN0U3luYyIsInVwZGF0ZSIsIm9ubGluZSIsIm9mZmxpbmVEcmFpbiIsImZvb2QiLCJmb29kSG91cnMiLCJ3YXRlciIsIndhdGVySG91cnMiLCJkdXJhdGlvblRvVXNlIiwibmV3U2xlZXAiLCJhZmZlY3Rpb24iLCJhZmZlY3Rpb25Ib3VycyIsIk1vZGlmeVN0YXQiLCJhbW91bnQiLCJhcHBseU1vZGlmaWVyIiwic3RvcmFnZVB1c2giLCJzb3VyY2VDaGFyIiwibW9kaWZpZXIiLCJJc093bmVyIiwiSXNMb3Zlck9mUGxheWVyIiwiSXNGYW1pbHlPZlBsYXllciIsIkNhblRhbGsiLCJEeW5hbWljR3JvdXBOYW1lIiwiUG9zZU1hcHBpbmciLCJCb2R5RnVsbCIsIm51bXMiLCJzdW0iLCJudW0iLCJTdGF0TW9kaWZpZXIiLCJsZXZlbCIsIlZlcmlmeVZhbGlkU3RhdCIsIlZpcnR1YWxQZXRNb2R1bGUiLCJPblRyaWdnZXIiLCJhY3Rpdml0eSIsIkFjdGl2aXR5RmVtYWxlM0RDRyIsInNvbWUiLCJncm91cE11bHQiLCJtYXNvY2hpc3QiLCJQbGF5ZXJWUEMiLCJDb25kaXRpb25Jc0VuZm9yY2VkIiwiY29uZGl0aW9uIiwidnBTdGF0TmVlZFRvQmVFbmFibGVkIiwiQUZGRUNUSU9OX1NLSUxMUyIsInByZXZpb3VzU3RhdHMiLCJvblN0YXRMZXZlbCIsInN0YXRDb3VudCIsIkNvbmRpdGlvbkNoZWNrIiwicHJldlZhbHVlIiwiY3VyclZhbHVlIiwiY2hhbmdlRXZlbnQiLCJmaXJzdFJ1biIsImNoYW5nZSIsInRocmVzaGhvbGQiLCJTTEVFUF9USU5UIiwicGFzc2VkT3V0IiwiUEFTU09VVF9UQUxLX1JFUExBQ0UiLCJNUEFQYXNzb3V0IiwiQ2hhcmFjdGVyU2V0RmFjaWFsRXhwcmVzc2lvbiIsIkNhbktuZWVsIiwiUG9zZVNldEFjdGl2ZSIsInNsZWVwTW9kdWxlIiwiTFNDRyIsIlN0YXRlTW9kdWxlIiwic3RhdGVzIiwicGFzc291dExTQ0ciLCJsb2ciLCJQYXNzb3V0Q2hlY2siLCJhZmZlY3Rpb25DaGVja0ludGVydmFsIiwiQWZmZWN0aW9uU2tpbGxDaGVjayIsInNraWxsIiwiYWZmZWN0aW9uTW9kaWZpZXIiLCJyb3VuZCIsInByZXZNb2QiLCJTa2lsbEdldE1vZGlmaWVyIiwiU2tpbGxHZXRNb2RpZmllckR1cmF0aW9uIiwiU2tpbGxTZXRNb2RpZmllciIsIlZpcnR1YWxQZXRDb25kaXRpb25zTW9kdWxlIiwic2NhbGVkVmFsdWUiLCJzcXJ0IiwiUmFuZG9tRWxlbWVudCIsIkdhbWVwbGF5U2V0dGluZ3MiLCJTZW5zRGVwQ2hhdExvZyIsImRlYWZMZXZlbCIsIlNraWxsTW9kaWZpZXJNYXgiLCJza2lsbER1cmF0aW9uTVMiLCJwcmV2U2xvdyIsIkNoYXRSb29tU2xvd3RpbWVyIiwiY3VyckZvb2QiLCJDdXJyZW50VGltZSIsIkNoYXRSb29tU2xvd0xlYXZlTWluVGltZSIsIlBsYXllclZQSFVEIiwiVlBfU1RBVF9DT0xPUl9ESUNUIiwiRHJhd1N0YXRDaXJjbGUiLCJyYWRpdXMiLCJjb2xvciIsImJlZ2luUGF0aCIsImFyYyIsIlBJIiwibGluZVdpZHRoIiwic3Ryb2tlU3R5bGUiLCJzdHJva2UiLCJsaW5lVG8iLCJmaWxsU3R5bGUiLCJmaWxsIiwiZXhhY3RTdGF0cyIsImZvbnQiLCJDb21tb25HZXRGb250IiwiZmlsbFRleHQiLCJWaXJ0dWFsUGV0SFVETW9kdWxlIiwib3RoZXJzIiwiem9vbSIsIkFjdGl2aXR5QWxsb3dlZCIsInNlbGYiLCJjaGFyYWN0ZXJWUFN0YXRzIiwic3RhdHMiLCJwb3MiLCJwb3NpdGlvbiIsInJldmVyc2UiLCJzdGF0TGVuIiwiY29scyIsImNvbCIsInN0YXRJbmRleCIsIkRyYXdWaXJ1YWxQZXRIdWQiLCJIb2xkaW5nQ2xpY2tlciIsIl9hY3RlZCIsIl9ncm91cCIsIkhhc0Jvd2wiLCJVc2VUb25ndWVOb01vdXRoIiwiSXNNb3V0aEJsb2NrZWQiLCJDcmVhdGVBY3Rpdml0eSIsImN1c3RvbUFjdGl2aXR5IiwiQWN0aXZpdHlJRCIsIlRhcmdldCIsIlRhcmdldFNlbGYiLCJBY3Rpdml0eURpY3Rpb25hcnkiLCJhY3Rpb25PdGhlcnMiLCJBY3Rpdml0eUZlbWFsZTNEQ0dPcmRlcmluZyIsImN1c3RvbUFjdGl2aXRpZXMiLCJSZW1vdmVBY3Rpdml0eSIsIkFVVEhPUklUWV9HUk9VUF9QUklPX09SREVSIiwiQVVUSE9SSVRZX0dST1VQUyIsIlNlbGYiLCJDbHVib3duZXIiLCJPd25lcnNoaXAiLCJPd25lcnMiLCJvd25lcnMiLCJwYXJzZUludCIsIkxvdmVycyIsIkxvdmVyc2hpcCIsImxvdmVyIiwiV2hpdGVMaXN0IiwiRnJpZW5kTGlzdCIsIm1lbWJlck51bWJlciIsImF1dGhHcm91cCIsImFsbG93U2VsZiIsIkJsYWNrTGlzdCIsIkdob3N0TGlzdCIsImF1dGhDaGVjayIsIkhpZ2hlc3RMZXZlbEF1dGhvcml0eUdyb3VwIiwidGFyZ2V0Q2hhciIsImNvbXBhcmlzb24iLCJyYW5rIiwiZ3JvdXBJbmRleCIsInJhbmtJbmRleCIsIk1QQV9WRVJTSU9OIiwiTVBBX1JFUE8iLCJhcnJheSIsInJhbmRvbSIsIkNvbnRlbnRJc01QQU1lc2FnZSIsIlNlcnZlclNlbmQiLCJkaWN0aW9uYXJ5IiwiU2VuZEVtb3RlIiwidGltZW91dCIsIkNoYXRSb29tU2VuZExvY2FsIiwic2VhcmNoIiwiQWRkRGF0YVN5bmNMaXN0ZW5lciIsImxpc3RlbmVyIiwibGlzdGVuZXJzIiwiR2V0RW50cnlGcm9tQ2hhdERpY3Rpb25hcnkiLCJhdHRyaWJ1dGUiLCJfZXJyb3IiLCJhcnIiLCJtb2R1bGVzUmVnaXN0ZXJlZCIsIm1vZHVsZXMiLCJhc3luYyIsIlJlZ2lzdGVyTW9kdWxlcyIsIm1vZFNldCIsIm5ld1NldHRpbmdzIiwiTG9hZFN0b3JhZ2UiLCJtb2RBUEkiLCJmdW5jdGlvbk5hbWUiLCJyZW1vdmVIb29rIiwiQXdhaXRQbGF5ZXIiLCJFeHRlbnNpb25TZXR0aW5ncyIsIlByb21pc2UiLCJyZXNvbHZlIiwiTFpTdHJpbmciLCJkZWNvbXByZXNzRnJvbUJhc2U2NCIsImNhdGVnb3J5U2V0dGluZ3MiLCJTZXJ2ZXJBY2NvdW50QmVlcCIsIk1lbWJlck5hbWUiLCJDaGF0Um9vbVNwYWNlIiwiQ2hhdFJvb21OYW1lIiwiUHJpdmF0ZSIsIkJlZXBUeXBlIiwiTWVzc2FnZSIsIk1QQVVwZGF0ZUNoZWNrIiwic3luY1dpdGhPdGhlcnMiLCJjb21wcmVzc1RvQmFzZTY0IiwiU2VydmVyUGxheWVyRXh0ZW5zaW9uU2V0dGluZ3NTeW5jIiwibmF2aWdhdG9yIiwiY2xpcGJvYXJkIiwid3JpdGVUZXh0IiwicmVqZWN0IiwicmVhZFRleHQiLCJjdXJyZW50U2V0dGluZ3MiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImRlZmluaXRpb24iLCJlbnVtZXJhYmxlIiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiU3ltYm9sIiwidG9TdHJpbmdUYWciXSwic291cmNlUm9vdCI6IiJ9