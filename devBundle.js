/*! For license information please see devBundle.js.LICENSE.txt */
(()=>{var e={"./assets/bell1.mp3":(e,t,o)=>{"use strict";e.exports=o.p+"assets/bell1.640014462cfbb6131003.mp3"},"./assets/bell2.mp3":(e,t,o)=>{"use strict";e.exports=o.p+"assets/bell2.bc4bb7b1248c43fd88af.mp3"},"./assets/bell3.mp3":(e,t,o)=>{"use strict";e.exports=o.p+"assets/bell3.951950cd16996e057072.mp3"},"./assets/bell4.mp3":(e,t,o)=>{"use strict";e.exports=o.p+"assets/bell4.bcdd5953f7e56325d47e.mp3"},"./assets/bell5.mp3":(e,t,o)=>{"use strict";e.exports=o.p+"assets/bell5.687a83b89d1458794c56.mp3"},"./assets/clicker1.mp3":(e,t,o)=>{"use strict";e.exports=o.p+"assets/clicker1.b486407f429484048bc4.mp3"},"./assets/clicker2.mp3":(e,t,o)=>{"use strict";e.exports=o.p+"assets/clicker2.ab2f967e63ce5649ac52.mp3"},"./assets/clicker3.mp3":(e,t,o)=>{"use strict";e.exports=o.p+"assets/clicker3.bf205c47b282e7ea4158.mp3"},"./assets/jingle1.mp3":(e,t,o)=>{"use strict";e.exports=o.p+"assets/jingle1.962ac69ab66b7da9c06d.mp3"},"./assets/jingle2.mp3":(e,t,o)=>{"use strict";e.exports=o.p+"assets/jingle2.962ac69ab66b7da9c06d.mp3"},"./assets/jingle3.mp3":(e,t,o)=>{"use strict";e.exports=o.p+"assets/jingle3.962ac69ab66b7da9c06d.mp3"},"./assets/jingle4.mp3":(e,t,o)=>{"use strict";e.exports=o.p+"assets/jingle4.962ac69ab66b7da9c06d.mp3"},"./assets/jingle5.mp3":(e,t,o)=>{"use strict";e.exports=o.p+"assets/jingle5.962ac69ab66b7da9c06d.mp3"},"./assets/ring1.mp3":(e,t,o)=>{"use strict";e.exports=o.p+"assets/ring1.2b883e0764e5e9b6c623.mp3"},"./assets/ring2.mp3":(e,t,o)=>{"use strict";e.exports=o.p+"assets/ring2.817a313f9c6494bb8cfb.mp3"},"./assets/ring3.mp3":(e,t,o)=>{"use strict";e.exports=o.p+"assets/ring3.4dba92cea2dabe66b2b7.mp3"},"./assets/ring4.mp3":(e,t,o)=>{"use strict";e.exports=o.p+"assets/ring4.633edacb3d3ffd4a1d88.mp3"},"./assets/ring5.mp3":(e,t,o)=>{"use strict";e.exports=o.p+"assets/ring5.9f0aed6ace380583aa9c.mp3"},"./node_modules/bondage-club-mod-sdk/dist/bcmodsdk.js":(e,t)=>{!function(){"use strict";const e="1.2.0";function o(e){alert("Mod ERROR:\n"+e);const t=new Error(e);throw console.error(t),t}const r=new TextEncoder;function n(e){return!!e&&"object"==typeof e&&!Array.isArray(e)}function a(e){const t=new Set;return e.filter(e=>!t.has(e)&&t.add(e))}const i=new Map,l=new Set;function s(e){l.has(e)||(l.add(e),console.warn(e))}function u(e){const t=[],o=new Map,r=new Set;for(const n of h.values()){const a=n.patching.get(e.name);if(a){t.push(...a.hooks);for(const[t,i]of a.patches.entries())o.has(t)&&o.get(t)!==i&&s(`ModSDK: Mod '${n.name}' is patching function ${e.name} with same pattern that is already applied by different mod, but with different pattern:\nPattern:\n${t}\nPatch1:\n${o.get(t)||""}\nPatch2:\n${i}`),o.set(t,i),r.add(n.name)}}t.sort((e,t)=>t.priority-e.priority);const n=function(e,t){if(0===t.size)return e;let o=e.toString().replaceAll("\r\n","\n");for(const[r,n]of t.entries())o.includes(r)||s(`ModSDK: Patching ${e.name}: Patch ${r} not applied`),o=o.replaceAll(r,n);return(0,eval)(`(${o})`)}(e.original,o);let a=function(t){var o,a;const i=null===(a=(o=f.errorReporterHooks).hookChainExit)||void 0===a?void 0:a.call(o,e.name,r),l=n.apply(this,t);return null==i||i(),l};for(let o=t.length-1;o>=0;o--){const r=t[o],n=a;a=function(t){var o,a;const i=null===(a=(o=f.errorReporterHooks).hookEnter)||void 0===a?void 0:a.call(o,e.name,r.mod),l=r.hook.apply(this,[t,e=>{if(1!==arguments.length||!Array.isArray(t))throw new Error(`Mod ${r.mod} failed to call next hook: Expected args to be array, got ${typeof e}`);return n.call(this,e)}]);return null==i||i(),l}}return{hooks:t,patches:o,patchesSources:r,enter:a,final:n}}function c(e,t=!1){let o=i.get(e);if(o)t&&(o.precomputed=u(o));else{let t=window;const a=e.split(".");for(let o=0;o<a.length-1;o++)if(t=t[a[o]],!n(t))throw new Error(`ModSDK: Function ${e} to be patched not found; ${a.slice(0,o+1).join(".")} is not object`);const l=t[a[a.length-1]];if("function"!=typeof l)throw new Error(`ModSDK: Function ${e} to be patched not found`);const s=function(e){let t=-1;for(const o of r.encode(e)){let e=255&(t^o);for(let t=0;t<8;t++)e=1&e?-306674912^e>>>1:e>>>1;t=t>>>8^e}return((-1^t)>>>0).toString(16).padStart(8,"0").toUpperCase()}(l.toString().replaceAll("\r\n","\n")),c={name:e,original:l,originalHash:s};o=Object.assign(Object.assign({},c),{precomputed:u(c),router:()=>{},context:t,contextProperty:a[a.length-1]}),o.router=function(e){return function(...t){return e.precomputed.enter.apply(this,[t])}}(o),i.set(e,o),t[o.contextProperty]=o.router}return o}function d(){for(const e of i.values())e.precomputed=u(e)}function m(){const e=new Map;for(const[t,o]of i)e.set(t,{name:t,original:o.original,originalHash:o.originalHash,sdkEntrypoint:o.router,currentEntrypoint:o.context[o.contextProperty],hookedByMods:a(o.precomputed.hooks.map(e=>e.mod)),patchedByMods:Array.from(o.precomputed.patchesSources)});return e}const h=new Map;function v(e){h.get(e.name)!==e&&o(`Failed to unload mod '${e.name}': Not registered`),h.delete(e.name),e.loaded=!1,d()}function g(e,t){e&&"object"==typeof e||o("Failed to register mod: Expected info object, got "+typeof e),"string"==typeof e.name&&e.name||o("Failed to register mod: Expected name to be non-empty string, got "+typeof e.name);let r=`'${e.name}'`;"string"==typeof e.fullName&&e.fullName||o(`Failed to register mod ${r}: Expected fullName to be non-empty string, got ${typeof e.fullName}`),r=`'${e.fullName} (${e.name})'`,"string"!=typeof e.version&&o(`Failed to register mod ${r}: Expected version to be string, got ${typeof e.version}`),e.repository||(e.repository=void 0),void 0!==e.repository&&"string"!=typeof e.repository&&o(`Failed to register mod ${r}: Expected repository to be undefined or string, got ${typeof e.version}`),null==t&&(t={}),t&&"object"==typeof t||o(`Failed to register mod ${r}: Expected options to be undefined or object, got ${typeof t}`);const a=!0===t.allowReplace,i=h.get(e.name);i&&(i.allowReplace&&a||o(`Refusing to load mod ${r}: it is already loaded and doesn't allow being replaced.\nWas the mod loaded multiple times?`),v(i));const l=e=>{let t=m.patching.get(e.name);return t||(t={hooks:[],patches:new Map},m.patching.set(e.name,t)),t},s=(e,t)=>(...n)=>{var a,i;const l=null===(i=(a=f.errorReporterHooks).apiEndpointEnter)||void 0===i?void 0:i.call(a,e,m.name);m.loaded||o(`Mod ${r} attempted to call SDK function after being unloaded`);const s=t(...n);return null==l||l(),s},u={unload:s("unload",()=>v(m)),hookFunction:s("hookFunction",(e,t,n)=>{"string"==typeof e&&e||o(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof e}`);const a=c(e),i=l(a);"number"!=typeof t&&o(`Mod ${r} failed to hook function '${e}': Expected priority number, got ${typeof t}`),"function"!=typeof n&&o(`Mod ${r} failed to hook function '${e}': Expected hook function, got ${typeof n}`);const s={mod:m.name,priority:t,hook:n};return i.hooks.push(s),d(),()=>{const e=i.hooks.indexOf(s);e>=0&&(i.hooks.splice(e,1),d())}}),patchFunction:s("patchFunction",(e,t)=>{"string"==typeof e&&e||o(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof e}`);const a=c(e),i=l(a);n(t)||o(`Mod ${r} failed to patch function '${e}': Expected patches object, got ${typeof t}`);for(const[n,a]of Object.entries(t))"string"==typeof a?i.patches.set(n,a):null===a?i.patches.delete(n):o(`Mod ${r} failed to patch function '${e}': Invalid format of patch '${n}'`);d()}),removePatches:s("removePatches",e=>{"string"==typeof e&&e||o(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof e}`);const t=c(e);l(t).patches.clear(),d()}),callOriginal:s("callOriginal",(e,t,n)=>{"string"==typeof e&&e||o(`Mod ${r} failed to call a function: Expected function name string, got ${typeof e}`);const a=c(e);return Array.isArray(t)||o(`Mod ${r} failed to call a function: Expected args array, got ${typeof t}`),a.original.apply(null!=n?n:globalThis,t)}),getOriginalHash:s("getOriginalHash",e=>("string"==typeof e&&e||o(`Mod ${r} failed to get hash: Expected function name string, got ${typeof e}`),c(e).originalHash))},m={name:e.name,fullName:e.fullName,version:e.version,repository:e.repository,allowReplace:a,api:u,loaded:!0,patching:new Map};return h.set(e.name,m),Object.freeze(u)}function p(){const e=[];for(const t of h.values())e.push({name:t.name,fullName:t.fullName,version:t.version,repository:t.repository});return e}let f;const P=void 0===window.bcModSdk?window.bcModSdk=function(){const t={version:e,apiVersion:1,registerMod:g,getModsInfo:p,getPatchingInfo:m,errorReporterHooks:Object.seal({apiEndpointEnter:null,hookEnter:null,hookChainExit:null})};return f=t,Object.freeze(t)}():(n(window.bcModSdk)||o("Failed to init Mod SDK: Name already in use"),1!==window.bcModSdk.apiVersion&&o(`Failed to init Mod SDK: Different version already loaded ('1.2.0' vs '${window.bcModSdk.version}')`),window.bcModSdk.version!==e&&alert(`Mod SDK warning: Loading different but compatible versions ('1.2.0' vs '${window.bcModSdk.version}')\nOne of mods you are using is using an old version of SDK. It will work for now but please inform author to update`),window.bcModSdk);Object.defineProperty(t,"__esModule",{value:!0}),t.default=P}()},"./package.json":e=>{"use strict";e.exports=JSON.parse('{"name":"mpa","description":"","version":"0.5.0.2","author":"Maya","license":"MIT","repository":{"type":"git","url":"https://github.com/MayaTheFoxy/MPA"},"scripts":{"serve":"npx webpack serve --progress","stable":"npx webpack --env stable=true","dev":"npx webpack --env stable=false","lint":"eslint ./src","lint-fix":"eslint ./src --fix","lang":"node ./src/localization/updateTemplate.js"},"dependencies":{"bondage-club-mod-sdk":"^1.2.0"},"devDependencies":{"@eslint/js":"^9.9.0","@stylistic/eslint-plugin":"^2.6.2","bc-stubs":"^115.0.1","eslint":"^9.9.0","globals":"^15.9.0","lz-string":"^1.5.0","terser-webpack-plugin":"^5.3.10","ts-loader":"^9.5.1","typescript":"^5.5.4","typescript-eslint":"^8.1.0","webpack":"^5.93.0","webpack-cli":"^5.1.4","webpack-dev-server":"^5.0.4"}}')},"./src/commands/bed.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{Bed:()=>v});var r=o("./src/util/storage.ts"),n=o("./src/modules/_module.ts"),a=o("./src/util/constants.ts"),i=o("./src/util/messaging.ts"),l=o("./src/util/sdk.ts");const s="SourceCharacter crawls into PronounPossessive bed.",u="SourceCharacter tucks TargetCharacter into bed.";function c(e){var t,o;return Object.keys(e).length>0&&CraftingValidate(e)===CraftingStatusType.OK&&(a.ALL_BEDS.includes(e.Item)||(null===(o=null===(t=null==e?void 0:e.Name)||void 0===t?void 0:t.toLocaleLowerCase())||void 0===o?void 0:o.includes("bed")))}function d(e=Player){e.MemberNumber===Player.MemberNumber?(0,i.SendAction)(s,void 0,[{SourceCharacter:Player.MemberNumber}]):(0,i.SendAction)(u,void 0,[{SourceCharacter:Player.MemberNumber},{TargetCharacter:e.MemberNumber}])}function m(){var e;if(InventoryGet(Player,"ItemDevices")||InventoryGroupIsBlockedForCharacter(Player,"ItemDevices"))return;const t=JSON.parse(LZString.decompressFromBase64(Player.MPA[n.ModuleTitle.Private].savedBed||"")||"{}")||{};if(c(t))InventoryWear(Player,t.Item,"ItemDevices",t.Color.split(","),0,Player.MemberNumber,t,!1);else{const t=null===(e=InventoryGet(Player,"HairFront"))||void 0===e?void 0:e.Color;InventoryWear(Player,"PetBed","ItemDevices",[t[0],"Default",t[t.length-1]],0,Player.MemberNumber,void 0,!1)}ChatRoomCharacterUpdate(Player)}function h(e=Player){const t=InventoryGet(e,"ItemDevices")||InventoryGroupIsBlockedForCharacter(e,"ItemDevices")||e.MemberNumber!==Player.MemberNumber&&!Player.CanInteract();return e.MemberNumber!==Player.MemberNumber?ServerChatRoomGetAllowItem(Player,e)?e.MPA?t?((0,i.MPANotifyPlayer)(`Unable to tuck ${e.Nickname||e.Name} into bed`,3e4),!1):(d(e),!0):((0,i.MPANotifyPlayer)(`${e.Nickname||e.Name} does not have MPA, unable to give bed`,3e4),!1):((0,i.NotifyPlayer)("MPA: No BC item permission",3e4),!1):t?((0,i.MPANotifyPlayer)("Unable to crawl into bed",3e4),!1):(m(),d(e),!0)}function v(){CommandCombine([{Tag:"bed",Description:"[(optional) Bed export code OR Other player] Crawl into bed without needing hands",Action:(e,t,o)=>{var a;const l=(null!==(a=/^(\S+)\s*(.*)$/.exec(t))&&void 0!==a?a:["","",""])[2];if(l){const e=(0,i.FindCharacterInRoom)(l);if(e)return void h(e);return c(JSON.parse(LZString.decompressFromBase64(l)||"{}")||{})?(Player.MPA[n.ModuleTitle.Private].savedBed=l,(0,r.SaveStorage)(!1),void(0,i.MPANotifyPlayer)("Bed saved")):void(0,i.MPANotifyPlayer)("Invalid argument given!")}h(Player)}},{Tag:"blanket",Description:"Pull the blanket over yourself (Only works on PetBed)",Action:()=>{var e,t,o,r;const n=InventoryGet(Player,"ItemDevices");"PetBed"===(null==n?void 0:n.Asset.Name)&&(0===(null===(t=null===(e=n.Property)||void 0===e?void 0:e.TypeRecord)||void 0===t?void 0:t.typed)||1===(null===(r=null===(o=n.Property)||void 0===o?void 0:o.TypeRecord)||void 0===r?void 0:r.typed))?(TypedItemSetOptionByName(Player,"ItemDevices",(1===n.Property.TypeRecord.typed?"No":"")+"Blanket",!0,Player,!0),1===n.Property.TypeRecord.typed?(0,i.SendAction)("SourceCharacter pulls a blanket over PronounObject.",void 0,[{SourceCharacter:Player.MemberNumber}]):(0,i.SendAction)("SourceCharacter removes the blanket from on top of PronounObject.",void 0,[{SourceCharacter:Player.MemberNumber}])):(0,i.MPANotifyPlayer)("Unable to pull the blanket over yourself.",2e4)}}]),(0,l.HookFunction)(null,"ChatRoomMessage",100,(e,t)=>{var o;const r=e[0];return"Activity"===r.Type&&"MayaScript"===r.Content&&(0,i.GetAttributeFromChatDictionary)(r,"TargetCharacter")===Player.MemberNumber&&(null===(o=r.Dictionary)||void 0===o?void 0:o.some(e=>"MISSING ACTIVITY DESCRIPTION FOR KEYWORD MayaScript"===(null==e?void 0:e.Tag)&&(null==e?void 0:e.Text)===u))&&m(),t(e)})}},"./src/commands/bowl.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{Bowl:()=>v});var r=o("./src/util/storage.ts"),n=o("./src/modules/_module.ts"),a=o("./src/util/messaging.ts"),i=o("./src/util/sdk.ts");const l="SourceCharacter lays a bowl of food and water on the ground in front of PronounObjectself.",s="SourceCharacter lays a bowl of food and water on the ground in front of TargetCharacter.",u=/^(?:\w|[ ~!$#%*+])*$/;function c(e){return Object.keys(e).length>0&&CraftingValidate(e)===CraftingStatusType.OK&&"PetBowl"==(null==e?void 0:e.Item)}function d(e=Player){e.MemberNumber===Player.MemberNumber?(0,a.SendAction)(l,void 0,[{SourceCharacter:Player.MemberNumber}]):(0,a.SendAction)(s,void 0,[{SourceCharacter:Player.MemberNumber},{TargetCharacter:e.MemberNumber}])}function m(){var e;if(InventoryGet(Player,"ItemDevices")||InventoryGroupIsBlockedForCharacter(Player,"ItemDevices"))return;const t=JSON.parse(LZString.decompressFromBase64(Player.MPA[n.ModuleTitle.Private].savedBowl||"")||"{}")||{};if(c(t))InventoryWear(Player,t.Item,"ItemDevices",t.Color.split(","),0,Player.MemberNumber,t,!1).Property=t.ItemProperty;else{const t=null===(e=InventoryGet(Player,"HairFront"))||void 0===e?void 0:e.Color;InventoryWear(Player,"PetBowl","ItemDevices",[t[0],"#000000"],0,Player.MemberNumber,void 0,!1).Property={Text:(Player.Nickname&&u.test(Player.Nickname)?Player.Nickname:u.test(Player.Name)?Player.Name:"").substring(0,12)}}ChatRoomCharacterUpdate(Player)}function h(e=Player){const t=InventoryGet(e,"ItemDevices")||InventoryGroupIsBlockedForCharacter(e,"ItemDevices")||!Player.CanInteract();return e.MemberNumber!==Player.MemberNumber?ServerChatRoomGetAllowItem(Player,e)?e.MPA?t?((0,a.MPANotifyPlayer)(`Unable to give ${e.Nickname||e.Name} a bowl`,3e4),!1):(d(e),!0):((0,a.MPANotifyPlayer)(`${e.Nickname||e.Name} does not have MPA, unable to give bowl`,3e4),!1):((0,a.NotifyPlayer)("MPA: No BC item permission",3e4),!1):t?((0,a.MPANotifyPlayer)("Unable to give bowl",3e4),!1):(m(),d(e),!0)}function v(){CommandCombine([{Tag:"bowl",Description:"Give bowl to pet",Action:(e,t,o)=>{var i;const l=(null!==(i=/^(\S+)\s*(.*)$/.exec(t))&&void 0!==i?i:["","",""])[2];if(l){const e=(0,a.FindCharacterInRoom)(l);if(e)return void h(e);return c(JSON.parse(LZString.decompressFromBase64(l)||"{}")||{})?(Player.MPA[n.ModuleTitle.Private].savedBowl=l,(0,r.SaveStorage)(!1),void(0,a.MPANotifyPlayer)("Bowl saved")):void(0,a.MPANotifyPlayer)("Invalid argument given!")}h(Player)}}]),(0,i.HookFunction)(null,"ChatRoomMessage",100,(e,t)=>{var o;const r=e[0];return"Activity"===r.Type&&"MayaScript"===r.Content&&(0,a.GetAttributeFromChatDictionary)(r,"TargetCharacter")===Player.MemberNumber&&(null===(o=r.Dictionary)||void 0===o?void 0:o.some(e=>"MISSING ACTIVITY DESCRIPTION FOR KEYWORD MayaScript"===(null==e?void 0:e.Tag)&&(null==e?void 0:e.Text)===s))&&m(),t(e)})}},"./src/commands/buildAllCommands.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{BuildAllCommands:()=>a});var r=o("./src/commands/bed.ts"),n=o("./src/commands/bowl.ts");function a(){(0,r.Bed)(),(0,n.Bowl)()}},"./src/localization/CN.json":e=>{"use strict";e.exports=JSON.parse('{"Maya\'s Petplay Additions":"Maya的宠物游戏扩展","MPA":"MPA","MPA Settings":"MPA设置","MPA: No BC item permission":"MPA: 没有BC物品权限","MPA Updated":"MPA已更新","Wiki":"Wiki","Open the MPA wiki in a new tab":"在新标签页中打开MPA Wiki","RESET":"重置","Reset all your settings back to default":"将所有设置重置为默认值","Import":"导入","Import the settings copied to your clipboard":"从剪贴板导入设置","Export":"导出","Export your current settings to the clipboard":"将当前设置导出到剪贴板","Confirm":"确认","Cancel":"取消","WARNING: Are you sure you want to reset your MPA settings and data back to default?":"警告：你确定要将MPA设置和数据重置为默认值吗？","This action can not be undone!":"此操作无法撤消！","Export and save your settings BEFORE confirming if you are unsure.":"如果不确定，请在确认之前导出并保存设置。","SourceCharacter is accessing your MPA settings.":"SourceCharacter正在访问你的MPA设置。","Version":"版本","Your Version":"你的版本","TargetCharacter\'s Version":"TargetCharacter的版本","Public":"公开","Friends":"好友","Whitelist":"白名单","Lovers":"恋人","Owners":"主人","Clubowner":"俱乐部主人","Self":"自己","None":"无","Low":"低","Medium":"中","High":"高","Max":"最大","Off":"关闭","First":"前","Last":"后","Replace":"替换","Authority":"权限","Owner member numbers; Seperated by a ,":"主人成员编号；用,分隔","Allow TargetCharacter changing TargetPronounPossessive own settings while bound":"允许TargetCharacter在被束缚时更改TargetPronoun自己的设置","Allow TargetCharacter changing the settings of others while bound":"允许TargetCharacter在被束缚时更改其他人的设置","Allow TargetCharacter to change TargetPronounPossessive Authority settings":"允许TargetCharacter更改TargetPronounPossessive权限设置","Allow others to change TargetCharacter\'s Authority settings":"允许其他人更改TargetCharacter的权限设置","Allow TargetCharacter to change TargetPronounPossessive Profile settings":"允许TargetCharacter更改TargetPronounPossessive个人资料设置","Allow others to change TargetCharacter\'s Profile settings":"允许其他人更改TargetCharacter的个人资料设置","Allow TargetCharacter to change TargetPronounPossessive Clicker settings":"允许TargetCharacter更改TargetPronounPossessive点击器设置","Allow others to change TargetCharacter\'s Clicker settings":"允许其他人更改TargetCharacter的点击器设置","Allow TargetCharacter to change TargetPronounPossessive Virtual Pet settings":"允许TargetCharacter更改TargetPronounPossessive虚拟宠物设置","Allow others to change TargetCharacter\'s Virtual Pet settings":"允许其他人更改TargetCharacter的虚拟宠物设置","Allow TargetCharacter to change TargetPronounPossessive Virtual Pet Conditions settings":"允许TargetCharacter更改TargetPronounPossessive虚拟宠物状态设置","Allow others to change TargetCharacter\'s Virtual Pet Conditions settings":"允许其他人更改TargetCharacter的虚拟宠物状态设置","SourceCharacter just updated your SettingsArray settings.":"SourceCharacter刚刚更新了你的SettingsArray设置","Profile":"个人资料","Use a preset profile or make your own":"使用预设的个人资料或创建自己的","Pet sounds you make":"你发出的宠物声音","Enable hardcore mode; Will set certain settings and prevent changing them back":"启用硬核模式；将设置某些选项并防止更改回去","Automatically make the above pet sounds while talking":"在说话时自动发出上述宠物声音","Pet gagging mode":"宠物堵嘴模式","Pet gagging strength":"宠物堵嘴强度","While deafened certain pet keywords can be picked up":"在失聪时可以识别某些宠物关键词","Use BCX mandatory words instead of the pet sounds above":"使用BCX强制词代替上述宠物声音","Notify when others are accessing TargetCharacter\'s settings":"当其他人访问TargetCharacter的设置时通知","Clicker":"响片训练器","Enable auditory clicker":"启用听觉响片训练器","Phrases that trigger the click; Separate phrases with a comma":"触发点击的短语；用逗号分隔短语","Allow your own chat, emotes, & actions to trigger the clicker":"允许你的聊天、表情和动作触发响片训练器","Who will be able to trigger the clicker":"谁可以触发响片训练器","Allow BCX Listen to my voice rule to trigger the clicker; Requires BCX":"允许BCX的“听我的声音”规则触发响片训练器；需要BCX","Virtual Pet":"虚拟宠物","Become a virtual pet! Requiring: food, water, sleep, and affection":"成为虚拟宠物！需要：食物、水、睡眠和关爱","How many hours until you are completely out of food; 0 to disable":"耗尽食物需要多少小时；0表示禁用","How many hours until you are completely out of water; 0 to disable":"耗尽水需要多少小时；0表示禁用","How many hours until you are completely out of sleep; 0 to disable":"耗尽睡眠需要多少小时；0表示禁用","How many hours until you are completely out of affection; 0 to disable":"耗尽关爱需要多少小时；0表示禁用","Pause stats from draining when logged out of the club":"退出俱乐部时暂停状态消耗","Allow eating or drinking from items in your OWN hands":"允许从自己手中的物品中吃喝","Stats drain even when logged out of the club":"即使退出俱乐部状态也会消耗","Masochist pet; Abuse raises affection":"受虐宠物；虐待会提高关爱","How much hunger and thirst gained from performing oral sex":"通过口交获得的饥饿和口渴值","ONLY Able to gain hunger and thirst from performing oral sex":"只能通过口交获得饥饿和口渴值","Virtual Pet HUD":"虚拟宠物HUD","Display your own virtual pet stats on the HUD":"在HUD上显示你自己的虚拟宠物状态","Display the exact number percentage on the HUD":"在HUD上显示精确的百分比数值","Where to display the HUD":"在何处显示HUD","Display the virtual pet stats of others on the HUD":"在HUD上显示其他人的虚拟宠物状态","Click Once":"按响片一次","SourceCharacter presses the button on PronounPossessive clicker.":"SourceCharacter按下了PronounPossessive响片训练器按钮。","Click Twice":"按响片两次","SourceCharacter presses the button on PronounPossessive clicker twice.":"SourceCharacter按下了PronounPossessive响片训练器按钮两次。","Click Thrice":"按响片三次","SourceCharacter presses the button on PronounPossessive clicker three times.":"SourceCharacter按下了PronounPossessive响片训练器按钮三次。","Eat From Bowl":"从碗中吃","Drink From Bowl":"从碗中喝","SourceCharacter eats from PronounPossessive bowl.":"SourceCharacter从PronounPossessive碗中吃东西。","SourceCharacter drinks from PronounPossessive bowl.":"SourceCharacter从PronounPossessive碗中喝水。","SourceCharacter puts PronounPossessive head into PronounPossessive bowl in order to eat with the gag, making a mess.":"SourceCharacter将头伸入PronounPossessive碗中想要隔着口塞进食，弄得一团糟。","SourceCharacter puts PronounPossessive head into PronounPossessive bowl in order to drink with the gag, making a mess.":"SourceCharacter将头伸入PronounPossessive碗中想要隔着口塞喝水，弄得一团糟。","Virtual Pet Conditions":"虚拟宠物状态","SourceCharacter passes out from exhaustion.":"SourceCharacter因疲惫而晕倒。","SourceCharacter wakes up from PronounPossessive nap.":"SourceCharacter从PronounPossessive小睡中醒来。","Recive conditions based on current level of your virtual pet stats":"根据你虚拟宠物状态的当前等级获得状态","Food and water affects affection gain":"食物和水会影响关爱值的增长","Vision darkens as you get sleepier":"随着你变得更困，视野会变暗","Passout when exhausted":"疲惫时晕倒","Use LSCG passout instead of MPA; Requires LSCG":"使用LSCG的晕倒代替MPA；需要LSCG","Affection will buff skills based on its level":"关爱值会根据其等级增强技能","Affection will debuff skills based on its level":"关爱值会根据其等级削弱技能","Hearing becomes harder the hungrier you are":"你越饿，听力越差","Takes longer to leave the room when hungry":"饥饿时离开房间需要更长时间","Orgasms make you lose some hydration":"高潮会让你失去一些水分","Orgasms make you lose some energy":"高潮会让你失去一些能量","Flick Bell":"拨动铃铛","SourceCharacter flicks the bell on PronounPossessive collar.":"SourceCharacter拨动了PronounPossessive项圈上的铃铛。","SourceCharacter flicks the bell on TargetCharacter\'s collar.":"SourceCharacter拨动了TargetCharacter的项圈上的铃铛。","SourceCharacter flicks the bells on PronounPossessive nipple clamps.":"SourceCharacter拨动了PronounPossessive乳头夹上的铃铛。","SourceCharacter flicks the bells on TargetCharacter\'s nipple clamps.":"SourceCharacter拨动了TargetCharacter的乳头夹上的铃铛。","SourceCharacter flicks the bell on PronounPossessive clit piercing.":"SourceCharacter拨动了PronounPossessive阴蒂穿环上的铃铛。","SourceCharacter flicks the bell on TargetCharacter\'s clit piercing.":"SourceCharacter拨动了TargetCharacter的阴蒂穿环上的铃铛。","SourceCharacter flicks the bells on PronounPossessive nipple piercings.":"SourceCharacter拨动了PronounPossessive乳头穿环上的铃铛。","SourceCharacter flicks the bells on TargetCharacter\'s nipple piercings.":"SourceCharacter拨动了TargetCharacter乳头穿环上的铃铛。","SourceCharacter crawls into PronounPossessive bed.":"SourceCharacter爬进了PronounPossessive床。","SourceCharacter tucks TargetCharacter into bed.":"SourceCharacter将TargetCharacter塞进了床里。","Always display the HUD; Overrides BCX rule \\"Force-hide UI elements\\"":"","Stomp Once":"","Stomp Twice":"","SourceCharacter stomps PronounPossessive hoof on the ground once.":"","SourceCharacter stomps PronounPossessive hoof on the ground twice.":"","Water":"","Food":"","Sleep":"","Affection":"","SourceCharacter added TargetCharacter (TargetMemberNumber) as MPA owner.":"","SourceCharacter removed TargetCharacter (TargetMemberNumber) as MPA owner.":"","You have been added as an MPA owner for SourceCharacter.":"","You have been removed as an MPA owner for SourceCharacter.":"","SourceCharacter can add owners":"","SourceCharacter can remove owners":"","Allow others to remove owners":"","Allow others to add owners":"","Add":"","Unknown":"","Remove Owner":"","SourceCharacter cawls into bed with TargetCharacter.":"","Chat can trigger the clicker":"","Emotes can trigger the clicker":"","Custom activities can trigger the clicker":""}')},"./src/localization/RU.json":e=>{"use strict";e.exports=JSON.parse('{"Maya\'s Petplay Additions":"Дополнения для петплея от Maya","MPA":"MPA","MPA Settings":"Настройки дополнения (аддона) MPA","MPA Updated":"Обновлено","Wiki":"Wiki","Open the MPA wiki in a new tab":"Открыть Wiki по MPA в новой вкладке","RESET":"СБРОСИТЬ","Reset all your settings back to default":"Сбросить все настройки по умолчанию","Import":"Импорт","Import the settings copied to your clipboard":"Импортировать настройки скопированные из буфера обмена","Export":"Экспорт","Export your current settings to the clipboard":"Экспортировать настройки в буфера обмена","Confirm":"Подтвердить","Cancel":"Отменить","WARNING: Are you sure you want to reset your MPA settings and data back to default?":"ВНИМАЕИЕ: Вы уверены что хотите сбросить данные MPA и настройки до значения по умолчанию?","This action can not be undone!":"Это действие нельзя будет отменить!","Export and save your settings BEFORE confirming if you are unsure.":"Экспортируйте и сохраните настройки, прежде чем подтвердить, если вы НЕ УВЕРЕНЫ в своем решении.","SourceCharacter is accessing your MPA settings.":"SourceCharacter получил доступ к вашим настройкам  MPA","Version":"Версия","Your Version":"Ваша версия","TargetCharacter\'s Version":"TargetCharacter\'s версия","Public":"Публично","Friends":"Друзья","Whitelist":"Белый список","Lovers":"Любовники","Owners":"Владельцы","Clubowner":"Клубный владелец","Self":"Самостоятельно","None":"Отсуствует","Low":"Низкий","Medium":"Средний","High":"Высокий","Max":"Максимальный","Off":"Выключено","First":"Первый","Last":"Последний","Replace":"Заменить","Authority":"Полномочия","Owner member numbers; Seperated by a ,":"Номер владельца;","Allow TargetCharacter changing TargetPronounPossessive own settings while bound":"Разрешить TargetCharacter изменять TargetPronounPossessive собственные настройки, когда связан","Allow TargetCharacter changing the settings of others while bound":"Разрешить TargetCharacter изменять настройки других персонажей когда связан","Allow TargetCharacter to change TargetPronounPossessive Authority settings":"Разрешить TargetCharacter изменять TargetPronounPossessive настройки полномочий","Allow others to change TargetCharacter\'s Authority settings":"Разрешить  другим изменятьTargetCharacter настройки полномочий","Allow TargetCharacter to change TargetPronounPossessive Profile settings":"Разрешить TargetCharacter изменять TargetPronounPossessive настройки профиля","Allow others to change TargetCharacter\'s Profile settings":"Разрешить другим изменять TargetCharacter\'s настрйоки профиля","Allow TargetCharacter to change TargetPronounPossessive Clicker settings":"Разрешить TargetCharacter изменять TargetPronounPossessive настройки Кликера","Allow others to change TargetCharacter\'s Clicker settings":"Разрешить другим изменять TargetCharacter\'s настройки кликера","Allow TargetCharacter to change TargetPronounPossessive Virtual Pet settings":"Разрешить TargetCharacter изменять TargetPronounPossessive Настройки виртуального питомца","Allow others to change TargetCharacter\'s Virtual Pet settings":" Разрешить другим изменять TargetCharacter\'s настройки виртуального питомца","Allow TargetCharacter to change TargetPronounPossessive Virtual Pet Conditions settings":"Разрешить TargetCharacter изменять TargetPronounPossessive настройки условий виртуального питомца","Allow others to change TargetCharacter\'s Virtual Pet Conditions settings":"Разрешить другим изменять TargetCharacter\'s настройки условий виртуального питомца","SourceCharacter just updated your SettingsArray settings.":"SourceCharacter только что обновил ваши SettingsArray настройки","Profile":"Профиль","Use a preset profile or make your own":"Используйте готовый профиль или создайте свой собственный","Pet sounds you make":"Звуки домашнего животного, которые вы издаете","Enable hardcore mode; Will set certain settings and prevent changing them back":"Включить режим Хардкора; Устанавливает определенные настройки и не позволит изменить их обратно","Automatically make the above pet sounds while talking":"Автоматически издавать выше указанные звуки во время разговора","While deafened certain pet keywords can be picked up":"При глухоте, можно слышать некоторые звуки домашних животных","Use BCX mandatory words instead of the pet sounds above":"Использовать обязательные слова BCX вместо вышеуказанных звуков питомца","Notify when others are accessing TargetCharacter\'s settings":"Уведомлять, когда другие получают доступ к TargetCharacter настройкам","Clicker":"Кликер","Enable auditory clicker":"Включить слышимость кликера","Phrases that trigger the click; Separate phrases with a comma":"Фразы, которые совершают клик; Разделяйте фразы с помощью запятой","Allow your own chat, emotes, & actions to trigger the clicker":"Разрешить своими сообщениями, эмоциями и действиями активировать кликер","Who will be able to trigger the clicker":"Кто сможет вызывать срабатывание кликера","Allow BCX Listen to my voice rule to trigger the clicker; Requires BCX":"Разрешить BCX слушать правила своего голоса для активации кликера; Нужен BCX","Virtual Pet":"Виртуальный питомец","Become a virtual pet! Requiring: food, water, sleep, and affection":"Станьте виртуальным питомцем! Ваши потребности: еда, вода, сон и ласка","How many hours until you are completely out of food; 0 to disable":"Через сколько часов у вас полностью закончится еда; 0 для отключения","How many hours until you are completely out of water; 0 to disable":"Через сколько часов у вас полностью закончится вода; 0 для отключения","How many hours until you are completely out of sleep; 0 to disable":"Через сколько часов у вас полностью закончится сон; 0 для отключения","How many hours until you are completely out of affection; 0 to disable":"Через сколько часов у вас полностью закончится ласка; 0 для отключения","Pause stats from draining when logged out of the club":"Приостановить снижение показателей при выходе из клуба","Allow eating or drinking from items in your OWN hands":"Разрешить есть или пить из предметов в ваших СОБСТВЕННЫХ руках","Stats drain even when logged out of the club":"Статистика снижается даже при выходе из клуба","Masochist pet; Abuse raises affection":"Питомец мазохист; Насилие усиливает привязанность","How much hunger and thirst gained from performing oral sex":"Насколько усилились чувство голода и жажды от орального секса","ONLY Able to gain hunger and thirst from performing oral sex":"Способен утолять голод и жажду ТОЛЬКО при оральном сексе","Virtual Pet HUD":"Виртуальный питомец HUD","Display your own virtual pet stats on the HUD":"Отображение статистики своего виртуального питомца на HUD","Display the exact number percentage on the HUD":"Отображать точное число в процентах на HUD","Where to display the HUD":"Где отображать HUD","Display the virtual pet stats of others on the HUD":"Отображать статистику виртуальных питомцев других на HUD","Click Once":"Щелкнуть один раз","SourceCharacter presses the button PronounPossessive clicker.":"SourceCharacter нажимает на кнопку PronounPossessive кликера.","Click Twice":"Щелкнуть дважды","SourceCharacter presses the button PronounPossessive clicker twice.":"SourceCharacter нажимает на кнопку PronounPossessive кликера дважды.","Click Thrice":"Щелкнуть трижды","SourceCharacter presses the button PronounPossessive clicker three times.":"SourceCharacter нажимает на кнопку PronounPossessive кликера трижды.","Eat From Bowl":"Есть из миски","Drink From Bowl":"Пить из миски","SourceCharacter eats from PronounPossessive bowl.":"SourceCharacter ест из PronounPossessive миски","SourceCharacter drinks from PronounPossessive bowl.":"SourceCharacter пьет из PronounPossessive миски","SourceCharacter puts PronounPossessive head into PronounPossessive bowl in order to eat with the gag, making a mess.":"SourceCharacter опускает PronounPossessive голову в PronounPossessive миску для того, чтобы поесть с кляпом во рту, создавая беспорядок","SourceCharacter puts PronounPossessive head into PronounPossessive bowl in order to drink with the gag, making a mess.":"SourceCharacter опускает PronounPossessive голову в PronounPossessive миску для того, чтобы попить с кляпом во рту, создавая беспорядок","Virtual Pet Conditions":"Состояние виртуального питомца","SourceCharacter passes out from exhaustion.":"SourceCharacter теряет сознание от истощения","SourceCharacter wakes up from PronounPossessive nap.":"SourceCharacter просыпается ото сна","Food and water affects affection gain":"Еда и вода влияют на усиление привязанности","Vision darkens as you get sleepier":"Зрение ухудшатся по мере того, как хотите спать","Passout when exhausted":"Вырубиться при истощении","Use LSCG passout instead of MPA; Requires LSCG":"Использовать LSCG passout вместо MPA; Требуется LSCG ","Affection will buff skills based on its level":"Привязанность будет усиливать навыки в зависимости от их уровня","Affection will debuff skills based on its level":"Привязанность будет ослаблять действие навыков в зависимости от их уровня","Hearing becomes harder the hungrier you are":"Чем сильнее вы голодны, тем хуже вы слышите","Takes longer to leave the room when hungry":"Когда голоден, требуется больше времени чтобы выйти из комнаты","Orgasms make you lose some hydration":"Оргазмы заставляют вас терять часть влаги (влияет на жажду)","Orgasms make you lose some energy":"Оргазмы заставляют вас терять часть энергии (жизненных сил)","Flick Bell":"Щечок колокольчика","SourceCharacter flicks the bell on PronounPossessive collar.":"SourceCharacter ударяет по колокольчику на PronounPossessive ошейник","SourceCharacter flicks the bell on TargetCharacter\'s collar.":"SourceCharacter ударяет по колокольчку на TargetCharacter\'s ошейник","SourceCharacter flicks the bells on PronounPossessive nipple clamps.":"SourceCharacter ударяет по колокольчку на PronounPossessive зажимы для сосоков","SourceCharacter flicks the bells on TargetCharacter\'s nipple clamps.":"SourceCharacter ударяет по колокольчику на TargetCharacter\'s зажимы для сосков","SourceCharacter flicks the bell on PronounPossessive clit piercing.":"SourceCharacter ударяет по колокольчику на TargetCharacter\'s пирсинг клитора ","SourceCharacter flicks the bell on TargetCharacter\'s clit piercing.":"SourceCharacter ударяет по колокольчику на TargetCharacter\'s пирсинг клитора","SourceCharacter flicks the bells on PronounPossessive nipple piercings.":"SourceCharacter ударяет по колокольчику на PronounPossessive пирсинг для сосков","SourceCharacter flicks the bells on TargetCharacter\'s nipple piercings.":"SourceCharacter ударяет по колокольчику на TargetCharacter\'s пирсинг для сосков","SourceCharacter crawls into PronounPossessive bed.":"SourceCharacter заползает в PronounPossessive лежанку","SourceCharacter tucks TargetCharacter into bed.":"SourceCharacter укладывает TargetCharacter\'s в лежанку","MPA: No BC item permission":"","Pet gagging mode":"","Pet gagging strength":"","Recive conditions based on current level of your virtual pet stats":"","Always display the HUD; Overrides BCX rule \\"Force-hide UI elements\\"":"","SourceCharacter presses the button on PronounPossessive clicker.":"","SourceCharacter presses the button on PronounPossessive clicker twice.":"","SourceCharacter presses the button on PronounPossessive clicker three times.":"","Stomp Once":"","Stomp Twice":"","SourceCharacter stomps PronounPossessive hoof on the ground once.":"","SourceCharacter stomps PronounPossessive hoof on the ground twice.":"","Water":"","Food":"","Sleep":"","Affection":"","SourceCharacter added TargetCharacter (TargetMemberNumber) as MPA owner.":"","SourceCharacter removed TargetCharacter (TargetMemberNumber) as MPA owner.":"","You have been added as an MPA owner for SourceCharacter.":"","You have been removed as an MPA owner for SourceCharacter.":"","SourceCharacter can add owners":"","SourceCharacter can remove owners":"","Allow others to remove owners":"","Allow others to add owners":"","Add":"","Unknown":"","Remove Owner":"","SourceCharacter cawls into bed with TargetCharacter.":"","Chat can trigger the clicker":"","Emotes can trigger the clicker":"","Custom activities can trigger the clicker":""}')},"./src/localization/localization.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{LocalizedText:()=>n});const r={RU:o("./src/localization/RU.json"),CN:o("./src/localization/CN.json")};function n(e){var t;const o=null===(t=null==r?void 0:r[TranslationLanguage])||void 0===t?void 0:t[e];return o&&""!==o?o:e}},"./src/modules/_module.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{Module:()=>u,ModuleIsPublic:()=>s,ModuleTitle:()=>r,ModuleTitlePublicity:()=>l});var r,n=o("./src/util/sdk.ts"),a=o("./src/util/activities.ts"),i=o("./src/util/messaging.ts");!function(e){e.Unknown="Unknown",e.Authority="Authority",e.Activities="Activities",e.Clicker="Clicker",e.Settings="Settings",e.VirtualPet="VirtualPet",e.VirtualPetHUD="VirtualPetHud",e.VirtualPetConditions="VirtualPetConditions",e.DataSync="DataSync",e.Profile="Profile",e.SettingsOther="SettingsOther",e.Private="Private"}(r||(r={}));const l={[r.Unknown]:!1,[r.Authority]:!0,[r.Activities]:!0,[r.Clicker]:!0,[r.Settings]:!0,[r.VirtualPet]:!0,[r.VirtualPetHUD]:!1,[r.VirtualPetConditions]:!0,[r.DataSync]:!0,[r.Profile]:!0,[r.SettingsOther]:!0,[r.Private]:!1};function s(e){var t;return null===(t=l[e])||void 0===t||t}class u{get Title(){return r.Unknown}get Activities(){return[]}get Settings(){return[]}get SyncListeners(){return[]}Load(){(0,a.CreateActivities)(this.Activities),(0,i.AddDataSyncListeners)(this.SyncListeners)}Unload(){(0,n.RemoveHooks)(this.Title),(0,a.RemoveActivities)(this.Activities),(0,i.RemoveDataSyncListeners)(this.Title)}Reload(){this.Unload(),this.Load()}}},"./src/modules/activities.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ActivitiesModule:()=>d});var r=o("./src/modules/_module.ts"),n=o("./src/util/messaging.ts"),a=o("./src/util/activities.ts"),i=o("./src/util/sdk.ts"),l=o("./src/util/constants.ts"),s=o("./src/util/chatroom.ts");const u=(e,t,o,r)=>{var n;!(null===(n=Player.AudioSettings)||void 0===n?void 0:n.PlayItem)||Player.AudioSettings.PlayItemPlayerOnly&&(null==e?void 0:e.MemberNumber)!==Player.MemberNumber&&(null==t?void 0:t.MemberNumber)!==Player.MemberNumber||l.BELL_SOUND.play()},c=document.createElement("img");c.src=l.ICONS.PAW,c.style.position="absolute",c.style.right="1%",c.style.bottom="23%",c.style.width="1.4em",c.style.height="1.4em";class d extends r.Module{get Title(){return r.ModuleTitle.Activities}get Activities(){return[{Name:"FlickBell",MaxProgress:50,Prerequisite:["UseHands"],CustomPrerequisite:{Name:"HasBellCollar",Prerequisite:(e,t,o)=>{var r,n,a,i,l,s,u,c;return(null===(i=null===(a=null===(n=null===(r=InventoryGet(t,"ItemNeck"))||void 0===r?void 0:r.Asset)||void 0===n?void 0:n.Name)||void 0===a?void 0:a.toLocaleLowerCase())||void 0===i?void 0:i.includes("bell"))||(null===(c=null===(u=null===(s=null===(l=InventoryGet(t,"ItemNeckAccessories"))||void 0===l?void 0:l.Asset)||void 0===s?void 0:s.Name)||void 0===u?void 0:u.toLocaleLowerCase())||void 0===c?void 0:c.includes("bell"))||!1}},Targets:[{group:"ItemNeck",label:"Flick Bell",actionSelf:"SourceCharacter flicks the bell on PronounPossessive collar.",actionOthers:"SourceCharacter flicks the bell on TargetCharacter's collar."}],Image:"Assets\\Female3DCG\\ItemNeckAccessories\\Preview\\CollarBell.png",OnReceive:u},{Name:"FlickBell2",MaxProgress:50,Prerequisite:["UseHands"],CustomPrerequisite:{Name:"HasBellNipples",Prerequisite:(e,t,o)=>{var r,n,a,i,l;return null!==(l=null===(i=null===(a=null===(n=null===(r=InventoryGet(t,"ItemNipples"))||void 0===r?void 0:r.Asset)||void 0===n?void 0:n.Name)||void 0===a?void 0:a.toLocaleLowerCase())||void 0===i?void 0:i.includes("bell"))&&void 0!==l&&l}},Targets:[{group:"ItemNipples",label:"Flick Bell",actionSelf:"SourceCharacter flicks the bells on PronounPossessive nipple clamps.",actionOthers:"SourceCharacter flicks the bells on TargetCharacter's nipple clamps."}],Image:"Assets\\Female3DCG\\ItemNipples\\Preview\\BellClamps.png",OnReceive:u},{Name:"FlickBell3",MaxProgress:50,Prerequisite:["UseHands"],CustomPrerequisite:{Name:"HasBellClit",Prerequisite:(e,t,o)=>{var r,n,a;const i=InventoryGet(t,"ItemVulvaPiercings");return"RoundClitPiercing"==(null===(r=null==i?void 0:i.Asset)||void 0===r?void 0:r.Name)&&2==(null===(a=null===(n=null==i?void 0:i.Property)||void 0===n?void 0:n.TypeRecord)||void 0===a?void 0:a.typed)}},Targets:[{group:"ItemVulvaPiercings",label:"Flick Bell",actionSelf:"SourceCharacter flicks the bell on PronounPossessive clit piercing.",actionOthers:"SourceCharacter flicks the bell on TargetCharacter's clit piercing."}],Image:"Assets\\Female3DCG\\ItemVulvaPiercings\\Preview\\RoundClitPiercing.png",OnReceive:u},{Name:"FlickBell4",MaxProgress:50,Prerequisite:["UseHands"],CustomPrerequisite:{Name:"HasBellNipplesPiercings",Prerequisite:(e,t,o)=>{var r,n,a,i,l;return null!==(l=null===(i=null===(a=null===(n=null===(r=InventoryGet(t,"ItemNipplesPiercings"))||void 0===r?void 0:r.Asset)||void 0===n?void 0:n.Name)||void 0===a?void 0:a.toLocaleLowerCase())||void 0===i?void 0:i.includes("bell"))&&void 0!==l&&l}},Targets:[{group:"ItemNipples",label:"Flick Bell",actionSelf:"SourceCharacter flicks the bells on PronounPossessive nipple piercings.",actionOthers:"SourceCharacter flicks the bells on TargetCharacter's nipple piercings."}],Image:"Assets\\Female3DCG\\ItemNipplesPiercings\\Preview\\BellPiercing.png",OnReceive:u},{Name:"StompOnce",MaxProgress:50,Prerequisite:["UseFeet"],CustomPrerequisite:{Name:"HasHooves",Prerequisite:(e,t,o)=>{var r,n,a,i;return(null===(i=null===(a=null===(n=null===(r=InventoryGet(t,"ItemBoots"))||void 0===r?void 0:r.Asset)||void 0===n?void 0:n.Name)||void 0===a?void 0:a.toLocaleLowerCase())||void 0===i?void 0:i.includes("pony"))||["pony","兽蹄鞋_luzi"].some(e=>{var o,r,n,a;return null===(a=null===(n=null===(r=null===(o=InventoryGet(t,"Shoes"))||void 0===o?void 0:o.Asset)||void 0===r?void 0:r.Name)||void 0===n?void 0:n.toLocaleLowerCase())||void 0===a?void 0:a.includes(e)})}},Targets:[{group:"ItemBoots",label:"Stomp Once",actionSelf:"SourceCharacter stomps PronounPossessive hoof on the ground once."}],Image:"Assets\\Female3DCG\\Shoes\\Preview\\PonyBoots.png"},{Name:"StompTwice",MaxProgress:50,Prerequisite:["UseFeet"],CustomPrerequisite:{Name:"HasHooves"},Targets:[{group:"ItemBoots",label:"Stomp Twice",actionSelf:"SourceCharacter stomps PronounPossessive hoof on the ground twice."}],Image:"Assets\\Female3DCG\\Shoes\\Preview\\PonyBoots.png"},{Name:"CrawlInBed",Prerequisite:[],CustomPrerequisite:{Name:"InBed",Prerequisite:(e,t,o)=>l.NO_STUCK_BEDS.some(e=>{var o,r;return e===(null===(r=null===(o=InventoryGet(t,"ItemDevices"))||void 0===o?void 0:o.Asset)||void 0===r?void 0:r.Name)})&&null===InventoryGet(e,"ItemDevices")},Targets:[{group:"ItemArms",label:"Crawl In Bed",actionOthers:"SourceCharacter cawls into bed with TargetCharacter."}],Image:"Assets\\Female3DCG\\ItemDevices\\Preview\\Bed.png",OnTrigger:e=>{if(console.log("crawling in bed"),!e)return;const t=(0,s.SaveCharacterItem)(e,"ItemDevices");t&&(0,s.ApplyItemsToCharacter)(Player,[t])}}]}Load(){super.Load(),(0,i.HookFunction)(this.Title,"ActivityCheckPrerequisite",1,(e,t)=>{const[o,r,n,i]=e;return Object.keys(a.activityPrerequisites).includes(o)?a.activityPrerequisites[o](r,n,i):t(e)}),(0,i.HookFunction)(this.Title,"ServerSend",1,(e,t)=>{var o,r,n,i,s,u;const c=e[1];if("ChatRoomChat"!==e[0]||"Activity"!==(null==c?void 0:c.Type))return t(e);const d=null===(r=null===(o=null==c?void 0:c.Dictionary)||void 0===o?void 0:o.find(e=>e.ActivityName))||void 0===r?void 0:r.ActivityName;if((null==d?void 0:d.startsWith(l.ACTIVITY_NAME_PREFIX))&&(null===(n=null==c?void 0:c.Dictionary)||void 0===n||n.push({Tag:"MISSING ACTIVITY DESCRIPTION FOR KEYWORD "+c.Content,Text:ActivityDictionaryText(c.Content)}),Object.keys(a.activityTriggers).includes(d))){const e=null!==(u=null===(s=null===(i=null==c?void 0:c.Dictionary)||void 0===i?void 0:i.find(e=>e.TargetCharacter))||void 0===s?void 0:s.TargetCharacter)&&void 0!==u?u:-1,t=null===ChatRoomCharacter||void 0===ChatRoomCharacter?void 0:ChatRoomCharacter.find(t=>t.MemberNumber===e);a.activityTriggers[d](t)}return t(e)}),(0,i.HookFunction)(r.ModuleTitle.Clicker,"ChatRoomMessage",0,(e,t)=>{var o,r;t(e);const i=e[0];if("Activity"===i.Type){const e=(0,n.GetAttributeFromChatDictionary)(i,"ActivityName");if(!(null==e?void 0:e.startsWith(l.ACTIVITY_NAME_PREFIX))||!(e in a.activityReceived))return;const t=null!==(o=(0,n.FindCharacterInRoom)((0,n.GetAttributeFromChatDictionary)(i,"SourceCharacter"),{MemberNumber:!0,Nickname:!1,Name:!1}))&&void 0!==o?o:void 0,s=null!==(r=(0,n.FindCharacterInRoom)((0,n.GetAttributeFromChatDictionary)(i,"TargetCharacter"),{MemberNumber:!0,Nickname:!1,Name:!1}))&&void 0!==r?r:void 0,u=(0,n.GetAttributeFromChatDictionary)(i,"FocusGroupName");a.activityReceived[e](t,s,u,i)}}),(0,i.HookFunction)(this.Title,"ElementButton.CreateForActivity",0,(e,t)=>{const o=e[1].Activity.Name,r=Object.keys(a.activityImages).includes(o);r&&(e[4]||(e[4]={}),e[4].image=a.activityImages[o]);const n=t(e);return r&&n.appendChild(c.cloneNode()),n})}Unload(){super.Unload()}}},"./src/modules/authority.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{AuthorityModule:()=>s,IsHardcoreOn:()=>l});var r=o("./src/settings/owners.ts"),n=o("./src/util/authority.ts"),a=o("./src/modules/_module.ts");const i=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[a.ModuleTitle.Authority])&&void 0!==o?o:{}};function l(e){var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[a.ModuleTitle.Authority].hardcore)&&void 0!==o&&o}class s extends a.Module{get Title(){return a.ModuleTitle.Authority}get Settings(){return[r.OWNERS_CUSTOM_SETTINGS,{name:"settingsNotify",type:"checkbox",active:()=>!0,value:!0,label:"Notify when others are accessing TargetCharacter's settings"},{name:"boundAccessSelf",type:"checkbox",active:()=>!0,value:!0,label:"Allow TargetCharacter changing TargetPronounPossessive own settings while bound"},{name:"boundAccessOthers",type:"checkbox",active:()=>!0,value:!1,label:"Allow TargetCharacter changing the settings of others while bound"},{name:"selfAuthority",type:"checkbox",active:()=>!0,value:!0,label:"Allow TargetCharacter to change TargetPronounPossessive Authority settings"},{name:"othersAuthority",type:"option",active:()=>!0,options:n.AUTHORITY_GROUP_OPTIONS,value:"Clubowner",label:"Allow others to change TargetCharacter's Authority settings",loop:!1},{name:"selfProfile",type:"checkbox",active:e=>"Self"!==i(e).othersProfile,value:!0,label:"Allow TargetCharacter to change TargetPronounPossessive Profile settings"},{name:"othersProfile",type:"option",active:()=>!0,options:n.AUTHORITY_GROUP_OPTIONS,value:"Clubowner",label:"Allow others to change TargetCharacter's Profile settings",loop:!1,onSet(e){i(e).selfProfile=!0}},{name:"selfClicker",type:"checkbox",active:()=>!0,value:!0,label:"Allow TargetCharacter to change TargetPronounPossessive Clicker settings"},{name:"othersClicker",type:"option",active:()=>!0,options:n.AUTHORITY_GROUP_OPTIONS,value:"Clubowner",label:"Allow others to change TargetCharacter's Clicker settings",loop:!1},{name:"selfVirtualPet",type:"checkbox",active:()=>!0,value:!0,label:"Allow TargetCharacter to change TargetPronounPossessive Virtual Pet settings"},{name:"othersVirtualPet",type:"option",active:()=>!0,options:n.AUTHORITY_GROUP_OPTIONS,value:"Clubowner",label:"Allow others to change TargetCharacter's Virtual Pet settings",loop:!1},{name:"selfVirtualPetConditions",type:"checkbox",active:()=>!0,value:!0,label:"Allow TargetCharacter to change TargetPronounPossessive Virtual Pet Conditions settings"},{name:"othersVirtualPetConditions",type:"option",active:()=>!0,options:n.AUTHORITY_GROUP_OPTIONS,value:"Clubowner",label:"Allow others to change TargetCharacter's Virtual Pet Conditions settings",loop:!1}]}}},"./src/modules/clicker.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ClickerModule:()=>P});var r,n=o("./src/util/sdk.ts"),a=o("./src/util/messaging.ts"),i=o("./src/util/authority.ts"),l=o("./src/modules/_module.ts"),s=o("./src/modules/profile.ts"),u=o("./assets/clicker1.mp3"),c=o("./assets/clicker2.mp3"),d=o("./assets/clicker3.mp3");!function(e){e[e.NONE=0]="NONE",e[e.CHAT=1]="CHAT",e[e.EMOTE=2]="EMOTE",e[e.ACTION=3]="ACTION"}(r||(r={}));const m=[new Audio(u),new Audio(c),new Audio(d)],h=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[l.ModuleTitle.Clicker])&&void 0!==o?o:{}};function v(e=""){let t=0;return h().triggers.split(",").map(e=>e.trim()).filter(e=>""!==e).forEach(o=>{var r,n;t+=null!==(n=null===(r=e.toLocaleLowerCase().match(new RegExp(o.toLocaleLowerCase(),"g")))||void 0===r?void 0:r.length)&&void 0!==n?n:0}),t}function g(e=0){isNaN(e)||e<=0||!h().enabled||m[Math.min(e-1,m.length-1)].play()}let p=!1;function f(){var e,t;(0,n.bcxFound)()&&!p&&(null===(t=null===(e=(0,n.bcxAPI)())||void 0===e?void 0:e.on)||void 0===t||t.call(e,"bcxLocalMessage",e=>{const t=null==e?void 0:e.message,o="[Voice] ";h().enabled&&h().bcxVoice&&(null==t?void 0:t.startsWith(o))&&g(v(t.substring(8)))}),p=!0)}class P extends l.Module{constructor(){super(...arguments),this.hasBeenLoaded=!1}get Title(){return l.ModuleTitle.Clicker}get Activities(){return[{Name:"Clicker1",MaxProgress:50,Prerequisite:["UseHands"],CustomPrerequisite:{Name:"HoldingClicker",Prerequisite:(e,t,o)=>{var r,n,a,i,l;return null!==(l=null===(i=null===(a=null===(n=null===(r=InventoryGet(e,"ItemHandheld"))||void 0===r?void 0:r.Asset)||void 0===n?void 0:n.Name)||void 0===a?void 0:a.toLocaleLowerCase())||void 0===i?void 0:i.includes("remote"))&&void 0!==l&&l}},Targets:[{group:"ItemHands",label:"Click Once",actionSelf:"SourceCharacter presses the button on PronounPossessive clicker."}],Image:"Icons/AudioOn.png"},{Name:"Clicker2",MaxProgress:50,Prerequisite:["UseHands"],CustomPrerequisite:{Name:"HoldingClicker"},Targets:[{group:"ItemHands",label:"Click Twice",actionSelf:"SourceCharacter presses the button on PronounPossessive clicker twice."}],Image:"Icons/AudioOn.png"},{Name:"Clicker3",MaxProgress:50,Prerequisite:["UseHands"],CustomPrerequisite:{Name:"HoldingClicker"},Targets:[{group:"ItemHands",label:"Click Thrice",actionSelf:"SourceCharacter presses the button on PronounPossessive clicker three times."}],Image:"Icons/AudioOn.png"}]}get Settings(){return[{name:"enabled",type:"checkbox",active:e=>!(0,s.IsHardcoreOn)(e),value:!1,label:"Enable auditory clicker"},{name:"triggers",type:"text",active:e=>!!h(e).enabled,value:"~click~",label:"Phrases that trigger the click; Separate phrases with a comma",width:384,maxChars:null},{name:"chat",type:"checkbox",active:e=>!!h(e).enabled,value:!0,label:"Chat can trigger the clicker"},{name:"emotes",type:"checkbox",active:e=>!!h(e).enabled,value:!0,label:"Emotes can trigger the clicker"},{name:"activities",type:"checkbox",active:e=>!!h(e).enabled,value:!0,label:"Custom activities can trigger the clicker"},{name:"selfAuthed",type:"checkbox",active:e=>!!h(e).enabled&&"Self"!==h(e).authedGroup,value:!0,label:"Allow your own chat, emotes, & actions to trigger the clicker"},{name:"authedGroup",type:"option",active:e=>!!h(e).enabled,value:"Friends",options:["Public","Friends","Whitelist","Lovers","Owners","Clubowner","Self"],label:"Who will be able to trigger the clicker",loop:!1,onSet(e){"Self"===h(e).authedGroup&&(h(e).selfAuthed=!0)}},{name:"bcxVoice",type:"checkbox",active:e=>!!h(e).enabled&&(0,n.bcxFound)()&&!(0,s.IsHardcoreOn)(e),value:!0,label:"Allow BCX Listen to my voice rule to trigger the clicker; Requires BCX"}]}Load(){if(super.Load(),(0,n.HookFunction)(l.ModuleTitle.Clicker,"ChatRoomMessage",0,(e,t)=>{var o,n,l,s,u,c,d,m,p,f,P,y,b,C;const A=e[0];if(!(h().enabled&&(null===(o=e[0])||void 0===o?void 0:o.Type)&&(null===(n=e[0])||void 0===n?void 0:n.Content)&&(null===(l=e[0])||void 0===l?void 0:l.Sender)&&(0,i.IsMemberNumberInAuthGroup)(A.Sender,h().authedGroup,h().selfAuthed)))return t(e);let M=0,T=r.NONE;const S=`MISSING ACTIVITY DESCRIPTION FOR KEYWORD ${A.Content}`;switch(A.Type){case"Chat":case"Whisper":M=v((0,a.RemoveOOCContentFromMessage)(A.Content)),T=r.CHAT;break;case"Emote":M=v((0,a.RemoveOOCContentFromMessage)(A.Content)),T=r.EMOTE;break;case"Action":M="Beep"==A.Content?v(null!==(c=null===(u=null===(s=null==A?void 0:A.Dictionary)||void 0===s?void 0:s.filter(e=>"Beep"==e.Tag)[0])||void 0===u?void 0:u.Text)&&void 0!==c?c:""):(null===(d=A.Dictionary)||void 0===d?void 0:d.reduce((e,t)=>e||'MISSING TEXT IN "Interface.csv": '===t.Tag&&"‌"===t.Text,!1))?v(A.Content):v(null!==(f=null===(p=null===(m=null==A?void 0:A.Dictionary)||void 0===m?void 0:m.filter(e=>e.Tag==`MISSING TEXT IN "Interface.csv": ${null==A?void 0:A.Content}`)[0])||void 0===p?void 0:p.Text)&&void 0!==f?f:""),T=r.ACTION;break;case"Activity":(null===(P=null==A?void 0:A.Dictionary)||void 0===P?void 0:P.some(e=>(null==e?void 0:e.Tag)===S))&&(M=v(null!==(C=null===(b=null===(y=null==A?void 0:A.Dictionary)||void 0===y?void 0:y.filter(e=>e.Tag===S)[0])||void 0===b?void 0:b.Text)&&void 0!==C?C:"")),T=r.ACTION}return 0!==M&&(T===r.CHAT&&h().chat||T===r.EMOTE&&h().emotes||T===r.ACTION&&h().activities)&&g(M),t(e)}),(0,n.HookFunction)(l.ModuleTitle.Clicker,"ChatRoomMessage",0,(e,t)=>{t(e);const o=e[0],r=(0,a.GetAttributeFromChatDictionary)(o,"ActivityName");h().enabled&&"Activity"===o.Type&&(null==r?void 0:r.startsWith("MPA_Clicker"))&&(0,i.IsMemberNumberInAuthGroup)(o.Sender,h().authedGroup,h().selfAuthed)&&g(Number(r.slice(-1)))}),!this.hasBeenLoaded){f();const e=setInterval(()=>{p?clearInterval(e):f()},6e4)}this.hasBeenLoaded=!0}Unload(){super.Unload()}}},"./src/modules/dataSync.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{CategorySync:()=>l,DataSyncModule:()=>c,RecordSync:()=>s,RecordsSync:()=>u,SettingSync:()=>i});var r=o("./src/util/sdk.ts"),n=o("./src/modules/_module.ts"),a=o("./src/util/messaging.ts");function i(e=!1,t){const o=structuredClone(Player.MPA);Object.keys(o).forEach(e=>{(0,n.ModuleIsPublic)(e)||delete o[e]}),(0,a.SendMPAMessage)({message:"SettingSync",settings:o,reply:e},t)}function l(e,t){(0,n.ModuleIsPublic)(e)&&(0,a.SendMPAMessage)({message:"CategorySync",category:e,value:Player.MPA[e]},t)}function s(e,t,o){u([{category:e,record:t}],o)}function u(e,t){for(let t=e.length-1;t>=0;t--){const o=e[t];(0,n.ModuleIsPublic)(o.category)?o.value=Player.MPA[o.category][o.record]:e.splice(t,1)}0!==e.length&&(0,a.SendMPAMessage)({message:"RecordsSync",records:e},t)}class c extends n.Module{get Title(){return n.ModuleTitle.DataSync}get SyncListeners(){return[{module:n.ModuleTitle.DataSync,message:"SettingSync",action:function(e,t){e.MemberNumber!==Player.MemberNumber&&(e.MPA=t.settings,t.reply&&i(!1,e.MemberNumber))}},{module:n.ModuleTitle.DataSync,message:"CategorySync",action:function(e,t){e.MemberNumber!==Player.MemberNumber&&(e.MPA?e.MPA[t.category]=t.value:i(!1,e.MemberNumber))}},{module:n.ModuleTitle.DataSync,message:"RecordsSync",action:function(e,t){var o;if(e.MemberNumber!==Player.MemberNumber)for(const r of t.records)(null===(o=null==e?void 0:e.MPA)||void 0===o?void 0:o[r.category])?e.MPA[r.category][r.record]=r.value:l(t.category,e.MemberNumber)}}]}Load(){super.Load(),0!==ChatRoomCharacter.length&&i(!0),(0,r.HookFunction)(n.ModuleTitle.DataSync,"ChatRoomSync",0,(e,t)=>{t(e),i(!0)}),(0,r.HookFunction)(n.ModuleTitle.DataSync,"ChatRoomMessage",0,(e,t)=>{var o;const r=e[0],n=(0,a.GetMPAMessageFromChat)(r);if(!n)return t(e);const i=(0,a.FindCharacterInRoom)(null!==(o=r.Sender)&&void 0!==o?o:"",{MemberNumber:!0,Name:!1,Nickname:!1});if(!i)return t(e);a.hookedMessages.forEach(e=>{n.message===e.message&&e.action(i,n)})})}Unload(){super.Unload()}}},"./src/modules/private.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{PrivateModule:()=>i,deafenProcess:()=>a});var r=o("./src/util/sdk.ts"),n=o("./src/modules/_module.ts");let a=!1;class i extends n.Module{get Title(){return n.ModuleTitle.Private}get Settings(){return[{name:"savedBed",type:"record",value:""},{name:"savedBowl",type:"record",value:""}]}Load(){(0,r.HookFunction)(this.Title,"SpeechTransformProcess",10,([e,t,o,r],n)=>{let i=!1;o.includes("deafen")&&(i=!0,o=o.filter(e=>"deafen"!==e));const l=n([e,t,o,r]);if(i){const o=SpeechTransformDeafenIntensity(e);o>0&&(a=!0,l.effects.push("deafen"),l.text=SpeechTransformGagGarble(t,o,r,e),a=!1)}return l}),super.Load()}Unload(){super.Unload()}}},"./src/modules/profile.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{GARBLE_PHRASES:()=>x,IsHardcoreOn:()=>O,PET_HEARING:()=>R,ProfileModule:()=>U});var r=o("./src/util/general.ts"),n=o("./src/util/sdk.ts"),a=o("./src/modules/_module.ts"),i=o("./src/modules/settings.ts"),l=o("./src/util/petHearAndSpeak.ts"),s=o("./src/util/messaging.ts"),u=o("./src/modules/dataSync.ts"),c=o("./src/util/authority.ts"),d=o("./src/modules/private.ts"),m=o("./assets/bell1.mp3"),h=o("./assets/bell2.mp3"),v=o("./assets/bell3.mp3"),g=o("./assets/bell4.mp3"),p=o("./assets/bell5.mp3"),f=o("./assets/jingle1.mp3"),P=o("./assets/jingle2.mp3"),y=o("./assets/jingle3.mp3"),b=o("./assets/jingle4.mp3"),C=o("./assets/jingle5.mp3"),A=o("./assets/ring1.mp3"),M=o("./assets/ring2.mp3"),T=o("./assets/ring3.mp3"),S=o("./assets/ring4.mp3"),w=o("./assets/ring5.mp3");const N=[new Audio(m),new Audio(h),new Audio(v),new Audio(g),new Audio(p),new Audio(f),new Audio(P),new Audio(y),new Audio(b),new Audio(C),new Audio(A),new Audio(M),new Audio(T),new Audio(S),new Audio(w)];N.forEach(e=>{e.volume=.2});const I=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[a.ModuleTitle.Profile])&&void 0!==o?o:{}};function O(e){var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[a.ModuleTitle.Profile].hardcore)&&void 0!==o&&o}function k(e,t=Player){var o,r;return null!==(r=null===(o=t.MPA)||void 0===o?void 0:o[e])&&void 0!==r?r:{}}const x=Object.freeze({Human:["hmmgm","mmmm","mhhmmaa","hmmm"],Custom:[""],Bunny:["pon","pyon","eep","huff","tk-tk","nngh-nngh"],Cat:["meow","mew","nyah","nya","purr","mrrow","prrr"],Cow:["moo","mooooo","muuhhh","moooah"],Dog:["arf","woof","bark","ruff","huff","eep"],Fox:["chirp","yip","wow-wow","yoww","eep"],Mouse:["squeak","eeek","tch-tch","wi-i-i","sss"],Pony:["neigh","whinny","wheee","snrt","whooosh","huff","nnhhh-ker"],Wolf:["awoo","aa-ooo","woof","ruff","arf","wiiip","huff"]});function E(e=I(Player).type){var t,o,a,i,l,s,u,c;const d=null!==(i=null===(a=null===(o=null===(t=(0,n.bcxAPI)())||void 0===t?void 0:t.getRuleState("speech_ban_words"))||void 0===o?void 0:o.customData)||void 0===a?void 0:a.bannedWords)&&void 0!==i?i:[],m=(0,n.bcxFound)()&&I(Player).bcxSpeaking?null!==(c=null===(u=null===(s=null===(l=(0,n.bcxAPI)())||void 0===l?void 0:l.getRuleState("speech_mandatory_words"))||void 0===s?void 0:s.customData)||void 0===u?void 0:u.mandatoryWords)&&void 0!==c?c:[]:function(e=I(Player).type){return e in x&&"Custom"!==e?x[e]:I(Player).garblePhrases.split(",").map(e=>e.trim())}(e);return(0,r.FilterArrayFromArray)(m,d).map(e=>e.toLocaleLowerCase().trim()).filter(e=>0!=e.length)}const R=Object.freeze({All:["owner","pet","master","mistress","miss","sir","paw","sit","come","down","up","stay","water","food","kibble","eat","treat","drink","toy","play","leash","walk","walkies","bed","sleep","cutie","adorable","toy","play","kibble","good","bad","lap","speak","hush","quiet","hush","all fours","all-fours"],Human:[],Custom:[],Bunny:["bun","bunny","carrot","hop","jump","hump","ear","ears"],Cat:["cat","kitty","kitten","catnip","knead","scratch","yarn","milk"],Cow:["milk","milking","utter","breast","grass","moo"],Dog:["cage","kennel","pup","puppy","dog","doggy","bone","fetch","heel","roll","over","bark"],Fox:["trap","bun","bunny","bone","fox","foxy"],Mouse:["mouse","ear","ears","trap","wire","wheel","cheese","nibble","cat","kitty","kitten"],Pony:["pony","mare","stallion","bridle","hoof","hooves","trot","stall","hay","woah","stomp","calm","easy","slow","cart","bay","run","race","show","canter","gallop"],Wolf:["bone","wolf","dog","pup","puppy","heel"]});function D(e,t,o){const r=(0,i.ElementName)(a.ModuleTitle.Profile,"garblePhrases");if("Custom"===t)return I(e).garblePhrases=I(e).customGarblePhrases.join(", "),void(document.getElementById(r)&&ElementValue(r,I(e).garblePhrases));"Custom"===o&&document.getElementById(r)&&(I(e).customGarblePhrases=ElementValue(r).split(",").map(e=>e.trim())),I(e).garblePhrases=x[I(e).type].join(", "),document.getElementById(r)&&ElementValue(r,I(e).garblePhrases)}function G(){var e,t,o,r;I().bcxSpeaking=!0;const l=(0,i.ElementName)(a.ModuleTitle.Profile,"garblePhrases");"Custom"===I().type&&document.getElementById(l)&&(I().customGarblePhrases=ElementValue(l).split(",").map(e=>e.trim()));const s=null!==(r=null===(o=null===(t=null===(e=(0,n.bcxAPI)())||void 0===e?void 0:e.getRuleState("speech_mandatory_words"))||void 0===t?void 0:t.customData)||void 0===o?void 0:o.mandatoryWords)&&void 0!==r?r:[];I().garblePhrases=s.join(", "),document.getElementById(l)&&ElementValue(l,I().garblePhrases)}const H=Object.freeze({Low:.015,Medium:.05,High:.1,Max:1}),F=new RegExp(`\\b(${["bounce","bounces","crawl","crawls","dash","dashes","fly","flies","gallop","gallops","hop","hops","jog","jogs","run","runs","scamper","scamper","spring","springs","step","steps","trot","trots","walk","walks","wiggle","wiggles","wobble","wobbles"].join("|")})\\b`,"i"),L=Object.freeze({options:["Off","Low","Medium","High","Max"],Off:0,Low:.05,Medium:.15,High:.33,Max:1});function B(e){var t,o;const n=function(){var e,t,o;let r=0;["ItemNeck","ItemNeckAccessories","ItemNipples","ItemNipplesPiercings"].forEach(e=>{var t,o,n;(null!==(n=null===(o=null===(t=InventoryGet(Player,e))||void 0===t?void 0:t.Asset)||void 0===o?void 0:o.Name)&&void 0!==n?n:"").toLocaleLowerCase().includes("bell")&&r++});const n=InventoryGet(Player,"ItemVulvaPiercings");return"RoundClitPiercing"===(null===(e=null==n?void 0:n.Asset)||void 0===e?void 0:e.Name)&&2===(null===(o=null===(t=null==n?void 0:n.Property)||void 0===t?void 0:t.TypeRecord)||void 0===o?void 0:o.typed)&&r++,["ItemMouth","ItemMouth2","ItemMouth3"].forEach(e=>{var t,o,n;const a=InventoryGet(Player,e);"TonguePiercingGag"===(null===(t=null==a?void 0:a.Asset)||void 0===t?void 0:t.Name)&&2===(null===(n=null===(o=null==a?void 0:a.Property)||void 0===o?void 0:o.TypeRecord)||void 0===n?void 0:n.typed)&&r++}),r}();0!==n&&(Math.random()>L[null!==(t=I().bellJingle)&&void 0!==t?t:"Off"]*n*(e?1:3)||null===(o=(0,r.RandomElement)(N))||void 0===o||o.play())}class U extends a.Module{get Title(){return a.ModuleTitle.Profile}get SyncListeners(){return[{module:this.Title,message:"BCXSpeakEnableRequest",action:function(e,t){var o,r;(0,c.IsMemberNumberInAuthGroup)(null!==(o=e.MemberNumber)&&void 0!==o?o:-1,null===(r=Player.MPA)||void 0===r?void 0:r[a.ModuleTitle.Authority][`others${a.ModuleTitle.Profile}`])?(G(),(0,u.RecordsSync)([{category:a.ModuleTitle.Profile,record:"garblePhrases"},{category:a.ModuleTitle.Profile,record:"bcxSpeaking"}],e.MemberNumber),(0,s.SendMPAMessage)({message:"BCXSpeakEnableReply"},e.MemberNumber)):console.warn(`${e.Nickname||e.Name}[${e.MemberNumber}] tried to illegially set your bcx speak to be enabled`)}},{module:this.Title,message:"BCXSpeakEnableReply",action:function(e,t){const o=(0,i.ElementName)(a.ModuleTitle.Profile,"garblePhrases");document.getElementById(o)&&ElementValue(o,I(e).garblePhrases)}}]}get Settings(){return[{name:"type",type:"option",active:()=>!0,options:Object.keys(x),value:"Human",label:"Use a preset profile or make your own",loop:!0,onSet:(e,t,o)=>{I(e).bcxSpeaking||D(e,t,o)}},{name:"petHearing",type:"checkbox",active:()=>!0,value:!1,label:"While deafened certain pet keywords can be picked up"},{name:"garblePhrases",type:"text",active:e=>"Custom"===I(e).type&&!(I(e).petSpeaking&&(0,n.bcxFound)()&&I(e).bcxSpeaking),value:x.Human.join(),label:"Pet sounds you make",maxChars:1024,width:1024},{name:"customGarblePhrases",type:"record",value:[]},{name:"petSpeaking",type:"option",active:()=>!0,options:["Off","Low","Medium","High","Max"],loop:!1,value:"Off",label:"Automatically make the above pet sounds while talking"},{name:"bcxSpeaking",type:"checkbox",active:e=>I(e).petSpeaking&&(0,n.bcxFound)(),value:!1,label:"Use BCX mandatory words instead of the pet sounds above",onSet:(e,t)=>{if(t)if(e.IsPlayer())G();else{const t=(0,i.ElementName)(a.ModuleTitle.Profile,"garblePhrases");"Custom"===I(e).type&&document.getElementById(t)&&(I(e).customGarblePhrases=ElementValue(t).split(",").map(e=>e.trim())),(0,s.SendMPAMessage)({message:"BCXSpeakEnableRequest"},e.MemberNumber)}else D(e,I(e).type,"")}},{name:"hardcore",type:"checkbox",active:()=>!0,value:!1,label:"Enable hardcore mode; Will set certain settings and prevent changing them back",onSet(e,t){0!=t&&(k(a.ModuleTitle.Clicker,e).enabled=!0,k(a.ModuleTitle.Clicker,e).bcxVoice=!0,k(a.ModuleTitle.VirtualPet,e).enabled=!0,k(a.ModuleTitle.VirtualPet,e).noHands=!1,k(a.ModuleTitle.VirtualPetConditions,e).enabled=!0,k(a.ModuleTitle.VirtualPetConditions,e).foodNOW=!0,k(a.ModuleTitle.VirtualPetConditions,e).tint=!0,k(a.ModuleTitle.VirtualPetConditions,e).passout=!0,k(a.ModuleTitle.VirtualPetConditions,e).affectionSkillBuffs=!1,k(a.ModuleTitle.VirtualPetConditions,e).affectionSkillDebuffs=!0,k(a.ModuleTitle.VirtualPetConditions,e).hearingLoss=!0,k(a.ModuleTitle.VirtualPetConditions,e).slowLeave=!0,k(a.ModuleTitle.VirtualPetConditions,e).orgasmWater=!0,k(a.ModuleTitle.VirtualPetConditions,e).orgasmSleep=!0)}},{name:"petGagging",type:"option",active:()=>!0,value:"Off",options:["Off","First","Last","Replace"],loop:!0,label:"Pet gagging mode"},{name:"petGaggingStrength",type:"option",value:"Medium",options:["Low","Medium","High","Max"],loop:!1,label:"Pet gagging strength",active:e=>"Off"!==I(e).petGagging},{name:"bellJingle",type:"option",value:"Off",options:["Off","Low","Medium","High","Max"],loop:!1,label:"Bell jingle on movement",active:()=>!0}]}Load(){super.Load(),SpeechTransformAllEffects.push("petSpeak"),(0,n.HookFunction)(this.Title,"SpeechTransformGagGarble",5,([e,t,o,...r],n)=>{const a=r[0];return!(null==a?void 0:a.IsGagged())&&Player.IsDeaf()&&!1!==I().petHearing&&e?(0,l.ApplyPetHearing)([e,t,o],n,function(e=I(Player).type){return e in R?R.All.concat(R[e]):R.All}()):n([e,t,o])}),(0,n.HookFunction)(this.Title,"CommandParse",8,([e],t)=>{if(e=e.trim(),[CommandsKey,"*","@","!"].includes(e.charAt(0)))return t([e]);const o=I(Player).petSpeaking;return t([(0,l.NonDisruptivePetSpeech)(e,E(),o)])}),(0,n.HookFunction)(this.Title,"SpeechTransformGagGarble",5,(e,t)=>{var o;const r=I(Player).petGagging;if(!d.deafenProcess&&"Off"!==r&&0!==ChatRoomCharacter.length){const r=E();if(0===r.length)return t(e);const n=(null!==(o=H[I(Player).petGaggingStrength])&&void 0!==o?o:.05)*e[1];switch(I(Player).petGagging){case"First":return e[0]=(0,l.DisruptivePetSpeech)(e[0],r,n),t(e);case"Last":return(0,l.DisruptivePetSpeech)(t(e),r,n);case"Replace":return(0,l.DisruptivePetSpeech)(e[0],r,n)}}return t(e)}),(0,n.HookFunction)(this.Title,"ChatRoomMapViewUpdatePlayerFlag",0,(e,t)=>{t(e),"Off"!==I().bellJingle&&B(!0)}),(0,n.HookFunction)(this.Title,"ChatRoomMessage",0,(e,t)=>{const o=e[0];return(null==o?void 0:o.Sender)!==Player.MemberNumber||"Off"===I().bellJingle||"Action"!==o.Type&&"Emote"!==o.Type||!F.test(o.Content)||B(!1),t(e)}),(0,n.HookFunction)(this.Title,"PoseRefresh",0,(e,t)=>{var o,r;const n=structuredClone(Player.Pose),a=structuredClone(Player.PoseMapping);t(e);(["AllFours","Hogtied","Suspension"].some(e=>n.includes(e)!==Player.Pose.includes(e))||("Kneel"===(null==a?void 0:a.BodyLower)||"KneelingSpread"===(null==a?void 0:a.BodyLower))!=("Kneel"===(null===(o=Player.PoseMapping)||void 0===o?void 0:o.BodyLower)||"KneelingSpread"===(null===(r=Player.PoseMapping)||void 0===r?void 0:r.BodyLower)))&&B(!0)})}Unload(){super.Unload(),SpeechTransformAllEffects=SpeechTransformAllEffects.filter(e=>"petSpeak"!==e)}}},"./src/modules/settings.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{BUTTON_GAP:()=>T,BUTTON_HEIGHT:()=>C,BUTTON_LEFT:()=>M,BUTTON_MAX_NUMBER:()=>y,BUTTON_TEXT_PADDING:()=>S,BUTTON_TOP:()=>A,BUTTON_WIDTH:()=>b,CANVAS_HEIGHT:()=>f,CANVAS_WIDTH:()=>p,ClickedPagesButtons:()=>de,DrawPagesButtons:()=>ce,ElementName:()=>fe,ExitButtonPressed:()=>me,MENU_TITLES:()=>U,OPTION_BACK_NEXT_WIDTH:()=>oe,OPTION_CHECKBOX_SIZE:()=>te,OPTION_CUSTOM_WIDTH:()=>ae,OPTION_GAP:()=>ee,OPTION_HEIGHT:()=>Z,OPTION_LEFT:()=>Q,OPTION_PER_PAGE:()=>X,OPTION_TEXT_MAX_CHARS:()=>ne,OPTION_TEXT_WIDTH:()=>re,OPTION_TOP:()=>J,OwnerAdded:()=>q,OwnerRemoved:()=>$,PreferenceMenuClick:()=>he,PreferenceMenuRun:()=>ve,SetSettingChar:()=>v,SetSettingsEdited:()=>g,SettingsModule:()=>be,currentMenu:()=>V});var r=o("./src/localization/localization.ts"),n=o("./src/util/storage.ts"),a=o("./src/util/constants.ts"),i=o("./src/util/settingTypes.ts"),l=o("./src/util/registerModules.ts"),s=o("./src/util/authority.ts"),u=o("./src/util/messaging.ts"),c=o("./src/modules/_module.ts"),d=o("./src/modules/virtualPet.ts");let m=!1,h=null;function v(e){m=!1,h=e}function g(e){m=e}const p=2e3,f=1e3,P=[1815,75,90,90],y=7,b=400,C=90,A=160,M=500,T=20,S=20,w=[100,510,350,75],N="https://github.com/MayaTheFoxy/MPA/wiki",I="https://discord.gg/9GHwmHEMAS",O=[w[0],w[1]+w[3]+T,w[2],w[3]],k=[O[0],O[1]+O[3]+T,O[2],O[3]],x=[k[0],k[1]-k[3],k[2]];let E=0,R="";const D=[k[0],k[1]+k[3]+T,(k[2]-T)/2,k[3]],G=[k[0]+(k[2]+T)/2,k[1]+k[3]+T,(k[2]-T)/2,k[3]],H=[300,700,250,90],F=[1450,700,250,90],L=[w[2]/2+w[0],w[1]-2*T,w[2]];function B(){return h?h.IsPlayer()?[c.ModuleTitle.Authority,c.ModuleTitle.Profile,c.ModuleTitle.Clicker,c.ModuleTitle.VirtualPet,c.ModuleTitle.VirtualPetHUD,c.ModuleTitle.VirtualPetConditions]:[c.ModuleTitle.Authority,c.ModuleTitle.Profile,c.ModuleTitle.Clicker,c.ModuleTitle.VirtualPet,c.ModuleTitle.VirtualPetConditions]:[]}const U={[c.ModuleTitle.VirtualPet]:"Virtual Pet",[c.ModuleTitle.VirtualPetHUD]:"Virtual Pet Hud",[c.ModuleTitle.VirtualPetConditions]:"Virtual Pet Conditions"};let V=null,W=!1,_=0,Y=null,j=[],z=[];function q(e){j.push(e)}function $(e){z.push(e)}function K(e){for(let t=0;t<e.length;t++)if(MouseIn(M+(b+T)*Math.floor(t/y),A+(C+T)*(t%y),b,C))return e[t];return null}const X=9,Z=64,J=200,Q=250,ee=10,te=64,oe=256,re=256,ne=256,ae=192;let ie=1,le=1;const se=[1635,75,90,90],ue=[se[0]-se[2],se[1],se[2],se[2]];function ce(e,t){let[o,r]=void 0!==e&&void 0!==t?[e,t]:[ie,le];o>r&&(o=r),o<1&&(o=1),DrawButton(...se,"",o>=r?"#aaaaaa":"#ffffff","Icons/Next.png","Next Page",o>=r),DrawButton(...ue,"",1>=o?"#aaaaaa":"#ffffff","Icons/Prev.png","Previous Page",1>=o)}function de(e,t){let[o,r]=void 0!==e&&void 0!==t?[e,t]:[ie,le];return!!(MouseIn(...se)&&o<r)||!(MouseIn(...ue)&&o>1)&&null}function me(){var e;if(null===V)window.MPA.menuLoaded&&(window.MPA.menuLoaded=!1),ge();else if("RESET_Settings"===V)V=null;else{if(Y)return(null===(e=l.settings[V])||void 0===e?void 0:e[Y]).OnExit(h),Y=null,void Pe(V);ye(V),ie=1,le=1,V=null}}function he(){var e,t,o,r,a,u;if(MouseIn(...P))me();else{if((null==h?void 0:h.MemberNumber)===Player.MemberNumber&&null===V){if(MouseIn(...w))return void(null===(e=window.open(N,"_blank"))||void 0===e||e.focus());if(MouseIn(...O))return void(null===(t=window.open(I,"_blank"))||void 0===t||t.focus());if(MouseIn(...k))return V="RESET_Settings",void(_=Date.now()+1e4);if(MouseIn(...D))return void(0,n.ImportSettingsFromClipboard)().then(()=>{R="Settings imported from clipboard"},()=>{R="Failed to import settings"}).finally(()=>E=Date.now()+5e3);if(MouseIn(...G))return void(0,n.ExportSettingsToClipboard)().then(()=>{R="Settings copied to clipboard"},()=>{R="Failed to export settings"}).finally(()=>E=Date.now()+5e3)}if(null===V&&null!==K(B())&&(V=K(B()),ie=1,le=Math.ceil(Object.entries(null!==(o=l.settings[null!=V?V:""])&&void 0!==o?o:{}).filter(([e,t])=>{var o;return(0,i.IsDisplaySetting)(t)&&e in(null!==(o=null==h?void 0:h.MPA[null!=V?V:""])&&void 0!==o?o:{})}).length/X),Pe(V)),"RESET_Settings"!==V){if(null!==V){const e=`others${V}`in h.MPA[c.ModuleTitle.Authority]&&`self${V}`in h.MPA[c.ModuleTitle.Authority]&&!(0,s.IsMemberNumberInAuthGroup)(null!==(r=Player.MemberNumber)&&void 0!==r?r:-1,h.MPA[c.ModuleTitle.Authority][`others${V}`],h.MPA[c.ModuleTitle.Authority][`self${V}`],h)||!Player.CanInteract()&&((null==h?void 0:h.MemberNumber)===Player.MemberNumber&&!Player.MPA[c.ModuleTitle.Authority].boundAccessSelf||(null==h?void 0:h.MemberNumber)!==Player.MemberNumber&&!Player.MPA[c.ModuleTitle.Authority].boundAccessOthers);if(Y&&V)return void(null===(a=l.settings[V])||void 0===a?void 0:a[Y]).OnClick(h,!e);if(Object.entries(null!==(u=l.settings[null!=V?V:""])&&void 0!==u?u:{}).filter(([e,t])=>{var o;return(0,i.IsDisplaySetting)(t)&&e in(null!==(o=null==h?void 0:h.MPA[null!=V?V:""])&&void 0!==o?o:{})}).length>X){const e=de();if(!0===e)return ye(V),ie++,void Pe(V);if(!1===e)return ye(V),ie--,void Pe(V)}!function(e,t){var o;if(!h)return;const r=Object.entries(null!==(o=l.settings[e])&&void 0!==o?o:{}).filter(([t,o])=>{var r;return(0,i.IsDisplaySetting)(o)&&t in(null!==(r=null==h?void 0:h.MPA[e])&&void 0!==r?r:{})});r.slice((ie-1)*X,ie*X).forEach((o,r)=>{var n,a;const[l,u]=o,d=!u.active(h)||t;if((0,i.IsCheckboxSetting)(u))MouseIn(Q,J+r*(ee+Z),te,te)&&!d&&(h.MPA[e][l]=!h.MPA[e][l],u.onSet&&u.onSet(h,h.MPA[e][l],!h.MPA[e][l]),m=!0);else if((0,i.IsOptionSetting)(u)){const t=u.options.indexOf(h.MPA[e][l]),o=u.options.length;if(!MouseIn(Q,J+r*(ee+Z),Math.floor(oe/2),Z)||d||!(u.loop||t>0)||e===c.ModuleTitle.Authority&&s.AUTHORITY_GROUP_OPTIONS.includes(h.MPA[e][l])&&!(0,s.AuthorityIsComparisonToCharacter)(h.MPA[e][l],">=",null!==(n=Player.MemberNumber)&&void 0!==n?n:-1,h)){if(MouseIn(Q+Math.floor(oe/2),J+r*(ee+Z),Math.ceil(oe/2),Z)&&!d&&(u.loop||t+1<u.options.length)&&(e!==c.ModuleTitle.Authority||!s.AUTHORITY_GROUP_OPTIONS.includes(h.MPA[e][l])||(0,s.AuthorityIsComparisonToCharacter)(h.MPA[e][l],">",null!==(a=Player.MemberNumber)&&void 0!==a?a:-1,h))){const r=h.MPA[e][l];h.MPA[e][l]=u.options[(t+1+o)%o],u.onSet&&u.onSet(h,u.options[(t+1+o)%o],r),m=!0}}else{const r=h.MPA[e][l];h.MPA[e][l]=u.options[(t-1+o)%o],u.onSet&&u.onSet(h,u.options[(t-1+o)%o],r),m=!0}}else(0,i.IsCustomSetting)(u)&&MouseIn(Q,J+r*(ee+Z),ae,te)&&(ye(e),Y=u.name,u.OnLoad(h,!t))})}(V,e)}}else!function(){MouseIn(...H)&&Date.now()>_&&((0,n.ResetStorage)(),V=null,_=0);MouseIn(...F)&&(V=null,_=0)}()}}function ve(){var e;if("RESET_Settings"===V)return void function(){const e=MainCanvas.textAlign;MainCanvas.textAlign="center",DrawText((0,r.LocalizedText)("WARNING: Are you sure you want to reset your MPA settings and data back to default?"),p/2,250,"#000000","#aaaaaa"),DrawText((0,r.LocalizedText)("This action can not be undone!"),p/2,400,"#ff0000","#aaaaaa"),DrawText((0,r.LocalizedText)("Export and save your settings BEFORE confirming if you are unsure."),p/2,550,"#696969","#aaaaaa");const t=Date.now();t<=_?DrawButton(...H,`${(0,r.LocalizedText)("Confirm")} (${Math.floor((_-t)/1e3)})`,"#aaaaaa",void 0,void 0,!0):DrawButton(...H,(0,r.LocalizedText)("Confirm"),"#ff0000"),DrawButton(...F,(0,r.LocalizedText)("Cancel"),"White"),MainCanvas.textAlign=e}();const t=MainCanvas.textAlign;DrawButton(...P,"","White","Icons/Exit.png"),MainCanvas.textAlign="center",DrawText(`${(0,r.LocalizedText)("Maya's Petplay Additions")}${V?` - ${(null==h?void 0:h.Nickname)||(null==h?void 0:h.Name)}'s ${(0,r.LocalizedText)(null!==(e=U[V])&&void 0!==e?e:V)}`:""}`,1e3,125,"Black","Gray"),(null==h?void 0:h.MemberNumber)===Player.MemberNumber&&null===V&&(E>=Date.now()&&(MainCanvas.textAlign="left",DrawTextFit(R,...x,"Black","Gray")),MainCanvas.textAlign="center",DrawButton(...w,(0,r.LocalizedText)("Wiki"),"#ffffff","",(0,r.LocalizedText)("Open the MPA wiki in a new tab")),DrawButton(...O,"Discord","#ffffff",a.ICONS.DISCORD,"Join the MPA discord!"),DrawButton(...k,(0,r.LocalizedText)("RESET"),"#ff2e2eaa","",(0,r.LocalizedText)("Reset all your settings back to default")),DrawButton(...D,(0,r.LocalizedText)("Import"),"#ffffff","",(0,r.LocalizedText)("Import the settings copied to your clipboard")),DrawButton(...G,(0,r.LocalizedText)("Export"),"#ffffff","",(0,r.LocalizedText)("Export your current settings to the clipboard")),DrawTextFit(`${(0,r.LocalizedText)("Version")}: ${Player.MPA.version}`,...L,"Black","Gray")),MainCanvas.textAlign="left",null===V?function(e){var t;for(let o=0;o<e.length;o++)DrawButton(M+(b+T)*Math.floor(o/y),A+(C+T)*(o%y),b,C,"","White"),DrawTextFit((0,r.LocalizedText)(null!==(t=U[e[o]])&&void 0!==t?t:e[o]),M+S+(b+T)*Math.floor(o/y),A+Math.floor(C/2)+(C+T)*(o%y),b-2*S,"Black","Gray")}(B()):function(e){var t,o,n;if(!h)return;const a=`others${e}`in h.MPA[c.ModuleTitle.Authority]&&`self${e}`in h.MPA[c.ModuleTitle.Authority]&&!(0,s.IsMemberNumberInAuthGroup)(null!==(t=Player.MemberNumber)&&void 0!==t?t:-1,h.MPA[c.ModuleTitle.Authority][`others${e}`],h.MPA[c.ModuleTitle.Authority][`self${e}`],h)||!Player.CanInteract()&&((null==h?void 0:h.MemberNumber)===Player.MemberNumber&&!Player.MPA[c.ModuleTitle.Authority].boundAccessSelf||(null==h?void 0:h.MemberNumber)!==Player.MemberNumber&&!Player.MPA[c.ModuleTitle.Authority].boundAccessOthers);if(Y)return void(null===(o=l.settings[e])||void 0===o?void 0:o[Y]).OnRun(h,!a);const u=Object.entries(null!==(n=l.settings[e])&&void 0!==n?n:{}).filter(([t,o])=>{var r;return(0,i.IsDisplaySetting)(o)&&t in(null!==(r=null==h?void 0:h.MPA[e])&&void 0!==r?r:{})});1!==le&&ce(),u.slice((ie-1)*X,ie*X).forEach((t,o)=>{var n,l,u,d,m,v,g,f;const[P,y]=t,b=!y.active(h)||a;if((0,i.IsCheckboxSetting)(y))DrawCheckbox(Q,J+o*(ee+Z),te,te,(0,r.LocalizedText)(y.label).replaceAll("TargetCharacter",null!==(n=(null==h?void 0:h.Nickname)||(null==h?void 0:h.Name))&&void 0!==n?n:"").replaceAll("TargetPronounPossessive","SheHer"===(null==h?void 0:h.GetPronouns())?"her":"his"),!!h.MPA[e][P],b,"Black");else if((0,i.IsOptionSetting)(y)){const t=y.options.indexOf(h.MPA[e][P]),n=y.options.length,a=e!==c.ModuleTitle.Authority||!s.AUTHORITY_GROUP_OPTIONS.includes(h.MPA[e][P]),i=!(a||(0,s.AuthorityIsComparisonToCharacter)(h.MPA[e][P],">=",null!==(l=Player.MemberNumber)&&void 0!==l?l:-1,h)),m=!(a||(0,s.AuthorityIsComparisonToCharacter)(h.MPA[e][P],">",null!==(u=Player.MemberNumber)&&void 0!==u?u:-1,h))&&"Self"!==h.MPA[e][P];DrawBackNextButton(Q,J+o*(ee+Z),oe,Z,(0,r.LocalizedText)(h.MPA[e][P]),b||i&&m?"#aaaaaa":"#ffffff","",()=>(0,r.LocalizedText)(i?"":y.loop?y.options[(t-1+n)%n]:t>0?y.options[t-1]:""),()=>(0,r.LocalizedText)(m?"":y.loop?y.options[(t+1+n)%n]:t+1<n?y.options[t+1]:""),b||i&&m),DrawTextFit((0,r.LocalizedText)(y.label).replaceAll("TargetCharacter",null!==(d=(null==h?void 0:h.Nickname)||(null==h?void 0:h.Name))&&void 0!==d?d:"").replaceAll("TargetPronounPossessive","SheHer"===(null==h?void 0:h.GetPronouns())?"her":"his"),Q+oe+2*ee,J+(o*(ee+Z)+Math.ceil(Z/2)),p-2*Q-oe,"Black","Gray")}else if((0,i.IsTextSetting)(y)||(0,i.IsNumberSetting)(y)){const t=fe(e,P);ElementPositionFixed(t,Q,J+o*(ee+Z),null!==(m=y.width)&&void 0!==m?m:re,Z),b?ElementSetAttribute(t,"disabled","true"):ElementRemoveAttribute(t,"disabled"),DrawTextFit((0,r.LocalizedText)(y.label).replaceAll("TargetCharacter",null!==(v=(null==h?void 0:h.Nickname)||(null==h?void 0:h.Name))&&void 0!==v?v:"").replaceAll("TargetPronounPossessive","SheHer"===(null==h?void 0:h.GetPronouns())?"her":"his"),Q+(null!==(g=y.width)&&void 0!==g?g:re)+2*ee,J+o*(ee+Z)+Math.ceil(Z/2),p-2*Q-(null!==(f=y.width)&&void 0!==f?f:re),"Black","Gray")}else if((0,i.IsCustomSetting)(y)){const e=MainCanvas.textAlign;MainCanvas.textAlign="center",DrawButton(Q,J+o*(ee+Z),ae,te,"Open","White","",(0,r.LocalizedText)("Open options")),MainCanvas.textAlign=e,DrawTextFit((0,r.LocalizedText)(y.label),Q+12+ae,J+o*(ee+Z)+Math.ceil(Z/2),p-2*Q-ae,"Black","Gray")}})}(V),MainCanvas.textAlign=t}function ge(){if(h){if(m){h.MemberNumber===Player.MemberNumber?((0,d.LevelSync)(!1,!1,!1),(0,n.SaveStorage)(!0)):(0,u.SendMPAMessage)({message:"SettingPutRequest",settings:h.MPA},h.MemberNumber);for(const e of j)e!==(null==h?void 0:h.MemberNumber)&&e!==Player.MemberNumber&&(0,u.FindCharacterInRoom)(e,{Nickname:!1,Name:!1})&&(0,u.SendMPAMessage)({message:"ownerAdded"},e);for(const e of z)e!==(null==h?void 0:h.MemberNumber)&&e!==Player.MemberNumber&&(0,u.FindCharacterInRoom)(e,{Nickname:!1,Name:!1})&&(0,u.SendMPAMessage)({message:"ownerRemoved"},e);j=[],z=[]}h.MemberNumber===Player.MemberNumber&&PreferenceSubscreenExtensionsClear(),m=!1,h=null,W=!1}}function pe(){m=!1,h=Player,j=[],z=[],h&&(W=!0)}function fe(e,t){return`MPA_OPTION_${e}${t}`}function Pe(e,t=ie){var o;e&&h&&Object.entries(null!==(o=l.settings[e])&&void 0!==o?o:{}).slice((t-1)*X,t*X).forEach(t=>{var o;const[r,n]=t,a=fe(e,r);(0,i.IsTextSetting)(n)?ElementCreateInput(a,"text",h.MPA[e][r],null!==(o=n.maxChars)&&void 0!==o?o:ne):(0,i.IsNumberSetting)(n)&&(ElementCreateInput(a,"number",h.MPA[e][r].toString()),ElementSetAttribute(a,"min",n.min.toString()),ElementSetAttribute(a,"max",n.max.toString()),ElementSetAttribute(a,"inputmode","decimal"),n.step&&ElementSetAttribute(a,"step",n.step.toString()))})}function ye(e,t=ie){var o;h&&(e===c.ModuleTitle.VirtualPet&&(0,d.LevelSync)(!1,!1,!1),Object.entries(null!==(o=l.settings[e])&&void 0!==o?o:{}).slice((t-1)*X,t*X).forEach(t=>{const[o,r]=t,n=fe(e,o);(0,i.IsTextSetting)(r)&&(h.MPA[e][o]!==ElementValue(n)&&(h.MPA[e][o]=ElementValue(n),m=!0),ElementRemove(n)),(0,i.IsNumberSetting)(r)&&(h.MPA[e][o]!==Number(ElementValue(n))&&(h.MPA[e][o]=Number(ElementValue(n)),m=!0),ElementRemove(n))}))}class be extends c.Module{get Title(){return c.ModuleTitle.Settings}Load(){function e(e){var t;if(("Escape"===e.key||"Esc"===e.key)&&W){if(null===V)ge();else if("RESET_Settings"===V)_=0;else{if(null!==Y)return(null===(t=l.settings[V])||void 0===t?void 0:t[Y]).OnExit(h),Y=null,Pe(V),void e.stopPropagation();ye(V),ie=1,le=1}V=null,e.stopPropagation()}}PreferenceRegisterExtensionSetting({Identifier:"MPA",ButtonText:(0,r.LocalizedText)("MPA Settings"),Image:a.ICONS.PAW,click:he,run:ve,exit:ge,load:pe}),document.addEventListener("keypress",e,!0),document.addEventListener("keydown",e,!0)}Unload(){}Reload(){}}},"./src/modules/settingsOthers.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ObjectDifferences:()=>P,SettingsOtherModule:()=>y});var r=o("./src/util/messaging.ts"),n=o("./src/localization/localization.ts"),a=o("./src/util/constants.ts"),i=o("./src/util/sdk.ts"),l=o("./src/modules/_module.ts"),s=o("./src/modules/settings.ts"),u=o("./src/util/storage.ts"),c=o("./src/modules/virtualPet.ts"),d=o("./src/util/authority.ts"),m=o("./src/util/registerModules.ts");const h=[1700,765,90,90],v=[1700,800,90,90],g=[275,900,350],p=[g[0],g[1]-50,g[2]];function f(e,t){return e.length===t.length&&e.every((e,o)=>e===t[o])}function P(e,t){const o={};for(const r in e){if(!(r in t)){o[r]={old:e[r],new:void 0};continue}const n=e[r],a=t[r];if(Array.isArray(n)&&Array.isArray(a))f(n,a)||(o[r]={old:n,new:a});else if("object"!=typeof n||"object"!=typeof a||Array.isArray(n))n!==a&&(o[r]={old:n,new:a});else{const e=P(n,a);Object.keys(e).length>0&&(o[r]=e)}}for(const r in t)r in e||(o[r]={old:void 0,new:t[r]});return o}class y extends l.Module{get Title(){return l.ModuleTitle.SettingsOther}get SyncListeners(){return[{module:this.Title,message:"SettingPutRequest",action:function(e,t){var o,a,i,h,v,g,p,f,y,b,C,A,M,T,S,w,N,I,O,k,x,E,R,D,G,H,F,L,B,U,V,W,_,Y,j,z,q,$,K;const X=structuredClone(Player.MPA),Z=Player.MPA[l.ModuleTitle.VirtualPet].enabled,J=P(Player.MPA,t.settings);Object.keys(J).forEach(e=>{(0,l.ModuleIsPublic)(e)||delete J[e]});const Q=[];(null===(o=null==J?void 0:J[l.ModuleTitle.VirtualPet])||void 0===o?void 0:o.levels)&&(delete J[l.ModuleTitle.VirtualPet].levels,0===Object.keys(J[l.ModuleTitle.VirtualPet]).length&&delete J[l.ModuleTitle.VirtualPet]),(0,c.LevelSync)(!1,!1,!1);const ee=JSON.parse(JSON.stringify(null===(a=Player.MPA)||void 0===a?void 0:a[l.ModuleTitle.Authority])),te=J[l.ModuleTitle.Authority];if(te){delete J[l.ModuleTitle.Authority];let t=null;if((null===(i=null==te?void 0:te.newOwners)||void 0===i?void 0:i.owners)&&(t=te.newOwners.owners,delete te.newOwners.owners),(0,d.IsMemberNumberInAuthGroup)(null!==(h=e.MemberNumber)&&void 0!==h?h:-1,ee[`others${l.ModuleTitle.Authority}`])){Q.push((0,n.LocalizedText)(l.ModuleTitle.Authority));for(const e in te)if(void 0!==te[e].new&&void 0!==te[e].old)Player.MPA[l.ModuleTitle.Authority][e]=te[e].new;else for(const t in te[e])void 0!==te[e][t].new&&void 0!==te[e][t].old&&(Player.MPA[l.ModuleTitle.Authority][e][t]=te[e][t].new)}if(t){const o=(null!==(p=null===(g=null===(v=null==X?void 0:X[l.ModuleTitle.Authority])||void 0===v?void 0:v.newOwners)||void 0===g?void 0:g.owners)&&void 0!==p?p:[]).sort(),a=t.new;let i="";if((0,d.IsMemberNumberInAuthGroup)(null!==(f=e.MemberNumber)&&void 0!==f?f:-1,null!==(C=null===(b=null===(y=null==X?void 0:X[l.ModuleTitle.Authority])||void 0===y?void 0:y.newOwners)||void 0===b?void 0:b.othersAdd)&&void 0!==C?C:"None"))for(const t of a.filter(e=>!o.includes(e)))null===(T=null===(M=null===(A=Player.MPA[l.ModuleTitle.Authority])||void 0===A?void 0:A.newOwners)||void 0===M?void 0:M.owners)||void 0===T||T.push(t),i+=(0,n.LocalizedText)("SourceCharacter added TargetCharacter (TargetMemberNumber) as MPA owner.").replace("SourceCharacter",e.Nickname||e.Name).replaceAll("TargetCharacter",(0,r.MemberNumberToName)(t)).replaceAll("TargetMemberNumber",t.toString()),i+="\n",t!==e.MemberNumber&&(0,r.FindCharacterInRoom)(t,{Nickname:!1,Name:!1})&&(0,r.SendMPAMessage)({message:"ownerAdded"},t);if((0,d.IsMemberNumberInAuthGroup)(null!==(S=e.MemberNumber)&&void 0!==S?S:-1,null!==(I=null===(N=null===(w=null==X?void 0:X[l.ModuleTitle.Authority])||void 0===w?void 0:w.newOwners)||void 0===N?void 0:N.othersRemove)&&void 0!==I?I:"None"))for(const t of o.filter(e=>!a.includes(e))){const o=null===(x=null===(k=null===(O=Player.MPA[l.ModuleTitle.Authority])||void 0===O?void 0:O.newOwners)||void 0===k?void 0:k.owners)||void 0===x?void 0:x.filter(e=>e!==t);o&&(Player.MPA[l.ModuleTitle.Authority].newOwners.owners=o),i+=(0,n.LocalizedText)("SourceCharacter removed TargetCharacter (TargetMemberNumber) as MPA owner.").replace("SourceCharacter",e.Nickname||e.Name).replaceAll("TargetCharacter",(0,r.MemberNumberToName)(t)).replaceAll("TargetMemberNumber",t.toString()),i+="\n",t!==e.MemberNumber&&(0,r.FindCharacterInRoom)(t,{Nickname:!1,Name:!1})&&(0,r.SendMPAMessage)({message:"ownerRemoved"},t)}if(!a.includes(e.MemberNumber)&&(null===(D=null===(R=null===(E=Player.MPA[l.ModuleTitle.Authority])||void 0===E?void 0:E.newOwners)||void 0===R?void 0:R.owners)||void 0===D?void 0:D.includes(e.MemberNumber))){const t=null===(F=null===(H=null===(G=Player.MPA[l.ModuleTitle.Authority])||void 0===G?void 0:G.newOwners)||void 0===H?void 0:H.owners)||void 0===F?void 0:F.filter(t=>t!==e.MemberNumber);t&&(Player.MPA[l.ModuleTitle.Authority].newOwners.owners=t),i+=(0,n.LocalizedText)("SourceCharacter removed TargetCharacter (TargetMemberNumber) as MPA owner.").replace("SourceCharacter",e.Nickname||e.Name).replaceAll("TargetCharacter",(0,r.MemberNumberToName)(null!==(L=e.MemberNumber)&&void 0!==L?L:-1)).replaceAll("TargetMemberNumber",e.MemberNumber.toString()),i+="\n"}""!==i&&((0,r.NotifyPlayer)(i.trimEnd()),null===(U=null===(B=Player.MPA[l.ModuleTitle.Authority])||void 0===B?void 0:B.newOwners)||void 0===U||U.owners.sort((e,t)=>e-t))}}for(const t in J){if(!(0,d.IsMemberNumberInAuthGroup)(null!==(V=e.MemberNumber)&&void 0!==V?V:-1,null!==(W=ee[`others${t}`])&&void 0!==W?W:"None")&&!(0,d.IsMemberNumberInAuthGroup)(null!==(_=e.MemberNumber)&&void 0!==_?_:-1,null!==(z=null===(j=null===(Y=Player.MPA)||void 0===Y?void 0:Y[l.ModuleTitle.Authority])||void 0===j?void 0:j[`others${t}`])&&void 0!==z?z:"None")){console.warn(`MPA: ${e.Nickname||e.Name} (${e.MemberNumber}) tried to illegally modify your ${t} settings!`);continue}Q.push((0,n.LocalizedText)(null!==(q=s.MENU_TITLES[t])&&void 0!==q?q:t));const o=J[t];for(const e in o)void 0!==o[e].new&&void 0!==o[e].old&&(Player.MPA[t][e]=o[e].new)}Player.MPA[l.ModuleTitle.Profile].hardcore&&(null===(K=null===($=m.settings[l.ModuleTitle.Profile])||void 0===$?void 0:$.hardcore)||void 0===K||K.onSet(Player)),Z!==Player.MPA[l.ModuleTitle.VirtualPet].enabled&&(Player.MPA[l.ModuleTitle.VirtualPet].levels.lastUpdated=Date.now()),0!==Q.length&&(0,r.MPANotifyPlayer)((0,n.LocalizedText)("SourceCharacter just updated your SettingsArray settings.").replace("SourceCharacter",e.Nickname||e.Name).replace("SettingsArray",(0,r.ArrayToReadableString)(Q))),(0,u.SaveStorage)(!0)}},{module:this.Title,message:"EditingSettings",action:function(e,t){Player.MPA[l.ModuleTitle.Authority].settingsNotify&&(0,r.NotifyPlayer)((0,n.LocalizedText)("SourceCharacter is accessing your MPA settings.").replace("SourceCharacter",e.Nickname||e.Name),3e4)}},{module:this.Title,message:"ownerAdded",action:function(e,t){(0,r.NotifyPlayer)((0,n.LocalizedText)("You have been added as an MPA owner for SourceCharacter.").replace("SourceCharacter",e.Nickname||e.Name))}},{module:this.Title,message:"ownerRemoved",action:function(e,t){(0,r.NotifyPlayer)((0,n.LocalizedText)("You have been removed as an MPA owner for SourceCharacter.").replace("SourceCharacter",e.Nickname||e.Name))}}]}Load(){super.Load();(0,i.HookFunction)(this.Title,"InformationSheetRun",12,(e,t)=>{var o;if((null===(o=window.bcx)||void 0===o?void 0:o.inBcxSubscreen())||window.LSCG_REMOTE_WINDOW_OPEN)return t(e);if(window.MPA.menuLoaded){const e=InformationSheetSelection;return(null==e?void 0:e.MPA)&&!e.IsPlayer()&&null==s.currentMenu&&(DrawTextFit(`${(0,n.LocalizedText)("Your Version")}: ${Player.MPA.version}`,...g,"Black","Gray"),DrawTextFit(`${(0,n.LocalizedText)("TargetCharacter's Version")}: ${null==e?void 0:e.MPA.version}`.replace("TargetCharacter",(null==e?void 0:e.Nickname)||(null==e?void 0:e.Name)),...p,"Black","Gray")),void(0,s.PreferenceMenuRun)()}t(e);const r=InformationSheetSelection;if((null==r?void 0:r.MPA)&&!r.IsPlayer()){const e=ServerChatRoomGetAllowItem(Player,r);DrawButton(...(0,i.bcxFound)()?v:h,"",e?"#ffffff":"#aaaaaa",a.ICONS.PAW,(0,n.LocalizedText)(e?"MPA":"MPA: No BC item permission"),!1)}}),(0,i.HookFunction)(this.Title,"InformationSheetClick",12,(e,t)=>{var o;if((null===(o=window.bcx)||void 0===o?void 0:o.inBcxSubscreen())||window.LSCG_REMOTE_WINDOW_OPEN)return t(e);if(window.MPA.menuLoaded)return(0,s.PreferenceMenuClick)();const n=InformationSheetSelection;if(!MouseIn(...(0,i.bcxFound)()?v:h)||!(null==n?void 0:n.MPA)||n.IsPlayer()||!ServerChatRoomGetAllowItem(Player,n))return t(e);window.MPA.menuLoaded=!0,(0,s.SetSettingChar)(n),(0,r.SendMPAMessage)({message:"EditingSettings"},n.MemberNumber)}),(0,i.HookFunction)(this.Title,"InformationSheetExit",12,(e,t)=>{if(!window.MPA.menuLoaded)return t(e);(0,s.ExitButtonPressed)()})}Unload(){super.Unload()}}},"./src/modules/virtualPet.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{CalculateCurrentValue:()=>H,GetCharacterCurrentStatValue:()=>F,IsBedMultiplier:()=>x,IsSleepingExpression:()=>k,LevelSync:()=>L,ModifyStat:()=>V,VirtualPetModule:()=>W});var r=o("./src/modules/_module.ts"),n=o("./src/util/constants.ts"),a=o("./src/util/sdk.ts"),i=o("./src/util/storage.ts"),l=o("./src/util/messaging.ts"),s=o("./src/modules/dataSync.ts"),u=o("./src/modules/profile.ts"),c=o("./src/util/general.ts");const d=168,m=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[r.ModuleTitle.VirtualPet])&&void 0!==o?o:{}},h=.67,v=.33,g=["LSCG_Eat","ThrowItem","吃掉嘴里食物_Luzi"],p=["LSCG_FunnelPour","LSCG_Quaff"],f=["Sleep","Afk","Fork","Coding","Read"],P=["Pet","TakeCare","LSCG_Nuzzle","Caress","LSCG_Hug","Scratch"],y=["Kiss","MassageHands","Lick","Nibble","Cuddle","Grope"],b=["Spank","Slap","Bite","Pinch","Pull","ShockItem","SpankItem"],C={ItemArms:1,ItemBoots:.8,ItemBreast:1.5,ItemButt:1.5,ItemEars:2.5,ItemFeet:.8,ItemHands:1,ItemHead:3,ItemLegs:1,ItemMouth:2,ItemNeck:1.2,ItemNipples:1.5,ItemNose:1.7,ItemPelvis:1.3,ItemTorso:1,ItemVulva:2,ItemVulvaPiercings:2.5},A=.2;let M;const T=["Lick","MasturbateTongue","Kiss","Nibble","LSCG_Throat","LSCG_Suck"],S=["PenetrateSlow","PenetrateFast","RubItem","LSCG_SlapPenis"],w=["ItemVulva","ItemVulvaPiercings","ItemButt"],N=Object.freeze({Off:0,Low:.05,Medium:.1,High:.2}),I={},O=Object.freeze({FEMALE:["SourceCharacter gasps and sputters as PronounSubject slurps up all of DestinationCharacter climax.","SourceCharacter smiles as PronounSubject eagerly gulps down DestinationCharacter ejaculate, with some dripping down PronounPossessive chin.","SourceCharacter opens PronounPossessive mouth wide trying to catch and swallow as much of DestinationCharacter squirt."],MALE:["SourceCharacter opens PronounPossessive mouth as TargetCharacter shoots TargetPronounPossessive load, hitting the back of PronounPossessive throat.","SourceCharacter wraps PronounPossessive lips around DestinationCharacter shaft to swallow and not waste a drop of TargetPronounPossessive cum.","TargetCharacter pumps TargetPronounPossessive load into SourceCharacter's awaiting mouth, looking up at TargetCharacter with pride as SourceCharacter swallows it all."]}),k=e=>{var t,o,r,n,a,i,l;return"Closed"===(null===(o=null===(t=e.Appearance.find(e=>"Eyes"===e.Asset.Group.Name))||void 0===t?void 0:t.Property)||void 0===o?void 0:o.Expression)&&"Closed"===(null===(n=null===(r=e.Appearance.find(e=>"Eyes2"===e.Asset.Group.Name))||void 0===r?void 0:r.Property)||void 0===n?void 0:n.Expression)&&f.includes(null!==(l=null===(i=null===(a=e.Appearance.find(e=>"Emoticon"===e.Asset.Group.Name))||void 0===a?void 0:a.Property)||void 0===i?void 0:i.Expression)&&void 0!==l?l:"")},x=e=>{var t,o;const r=null!==(o=null===(t=InventoryGet(e,"ItemDevices"))||void 0===t?void 0:t.Asset.Name)&&void 0!==o?o:"";return n.BED_PERFECT.includes(r)?10:n.BED_NORMAL.includes(r)?5:n.BED_BAD.includes(r)?2:1};let E=!1,R=1;function D(e=!0){!m().enabled||0===m().sleepHours||E===k(Player)&&R===x(Player)||(e&&L(),E=k(Player),R=x(Player))}function G(e){return 60*e*60*1e3}function H(e,t,o,r,n=!1,a=Player){const i=(r||Date.now())-o,l=Math.max(0,Math.min(e-i/G(t),1));if(n&&e>A&&l<A){const r=m(a).levels.lastOnline-o,n=Math.max(0,Math.min(e-r/G(t),1));return Math.min(A,n)}return l}function F(e,t){var o;const n=null===(o=null==e?void 0:e.MPA)||void 0===o?void 0:o[r.ModuleTitle.VirtualPet];if(!n)return-1;if("sleep"===t){const t=k(e)||1!==x(e)?n.levels.sleep+(Date.now()-n.levels.lastUpdated)/(60*n.sleepHours*60*1e3)*x(e)*(k(e)?5:1):H(n.levels.sleep,n.sleepHours,n.levels.lastUpdated);return Math.max(0,Math.min(1,t))}return H(n.levels[t],n[`${t}Hours`],n.levels.lastUpdated)}function L(e=!0,t=!0,o=!1){var n;if(!m().enabled)return m().levels.lastUpdated=Date.now(),void(m().levels.lastOnline=Date.now());const a=null!==(n=m().levels.lastUpdated)&&void 0!==n?n:Date.now(),l=m().offlineDrain?void 0:m().levels.lastOnline,u=m().foodHours;0!==u&&(m().levels.food=H(m().levels.food,u,a,l,o));const c=m().waterHours;0!==c&&(m().levels.water=H(m().levels.water,c,a,l,o));const d=m().sleepHours;if(0!==d)if(o&&!l||E||1!==R){const e=o?Date.now()-m().levels.lastOnline-(m().levels.lastOnline-a):Date.now()-a,t=m().levels.sleep+e/G(d)*R*(E?5:1);m().levels.sleep=Math.max(0,Math.min(1,t))}else m().levels.sleep=H(m().levels.sleep,d,a,l,o);const h=m().affectionHours;0!==h&&(m().levels.affection=H(m().levels.affection,h,a,l,o)),m().levels.lastUpdated=Date.now(),m().levels.lastOnline=Date.now(),e&&(0,i.SaveStorage)(!1),t&&(0,s.RecordSync)(r.ModuleTitle.VirtualPet,"levels")}function B(){return m().enabled&&("Off"===m().sexPet||!m().sexPetOnly)}function U(){return m().enabled&&"Off"!==m().sexPet}function V(e,t,o=!0,n=!0,a){t<-1&&t>1||(L(!1,!1,!1),m().levels[e]+=t*(o&&t>0?function(e,t){let o=1;if((null==t?void 0:t.IsOwner())?o+=.5:(null==t?void 0:t.IsLoverOfPlayer())?o+=.35:(null==t?void 0:t.IsFamilyOfPlayer())&&(o+=.25),"food"!==e&&"water"!==e||Player.CanTalk()||(o-=.5),o+=.03*Player.Appearance.filter(e=>e.Asset.DynamicGroupName.startsWith("Item")).length,"AllFours"===Player.PoseMapping.BodyFull&&(o+=.5),"affection"===e&&Player.MPA[r.ModuleTitle.VirtualPetConditions].enabled&&Player.MPA[r.ModuleTitle.VirtualPetConditions].foodNOW){const e=[];0!==m().foodHours&&e.push(F(Player,"food")),0!==m().waterHours&&e.push(F(Player,"water")),0!==e.length&&(o*=e.reduce((e,t)=>e+t,0)/e.length/.75)}return Math.max(0,o)}(e,a):1),function(e){const t=m().levels[e];m().levels[e]=Math.min(Math.max(t,0),1)}(e),n&&(0,i.SaveStorage)(!1),(0,s.RecordSync)(r.ModuleTitle.VirtualPet,"levels"))}class W extends r.Module{get Title(){return r.ModuleTitle.VirtualPet}get Activities(){return[{Name:"BowlEat",Targets:[{group:"ItemMouth",label:"Eat From Bowl",actionSelf:"SourceCharacter eats from PronounPossessive bowl."}],Image:"Assets/Female3DCG/ItemDevices/Preview/PetBowl.png",Prerequisite:["UseMouth"],CustomPrerequisite:{Name:"HasBowl",Prerequisite:(e,t,o)=>{var r,n;return"PetBowl"===(null===(n=null===(r=InventoryGet(e,"ItemDevices"))||void 0===r?void 0:r.Asset)||void 0===n?void 0:n.Name)}},OnTrigger:()=>{m().enabled&&0!==m().foodHours&&B()&&V("food",h,!0)}},{Name:"BowlDrink",Targets:[{group:"ItemMouth",label:"Drink From Bowl",actionSelf:"SourceCharacter drinks from PronounPossessive bowl."}],Image:"Assets/Female3DCG/ItemDevices/Preview/PetBowl.png",Prerequisite:["UseMouth"],CustomPrerequisite:{Name:"HasBowl"},OnTrigger:()=>{m().enabled&&0!==m().waterHours&&B()&&V("water",h,!0)}},{Name:"BowlEat2",Targets:[{group:"ItemMouth",label:"Eat From Bowl",actionSelf:"SourceCharacter puts PronounPossessive head into PronounPossessive bowl in order to eat with the gag, making a mess."}],Image:"Assets/Female3DCG/ItemDevices/Preview/PetBowl.png",Prerequisite:[],CustomPrerequisite:[{Name:"HasBowl"},{Name:"UseTongueNoMouth",Prerequisite:(e,t,o)=>!e.CanTalk()&&!e.IsMouthBlocked()}],OnTrigger:()=>{m().enabled&&0!==m().foodHours&&B()&&V("food",h,!0)}},{Name:"BowlDrink2",Targets:[{group:"ItemMouth",label:"Drink From Bowl",actionSelf:"SourceCharacter puts PronounPossessive head into PronounPossessive bowl in order to drink with the gag, making a mess."}],Image:"Assets/Female3DCG/ItemDevices/Preview/PetBowl.png",Prerequisite:[],CustomPrerequisite:[{Name:"HasBowl"},{Name:"UseTongueNoMouth"}],OnTrigger:()=>{m().enabled&&0!==m().waterHours&&B()&&V("water",h,!0)}}]}get Settings(){return[{name:"enabled",type:"checkbox",active:e=>!(0,u.IsHardcoreOn)(e),value:!1,label:"Become a virtual pet! Requiring: food, water, sleep, and affection"},{name:"foodHours",type:"number",value:4,active:e=>!!m(e).enabled,label:"How many hours until you are completely out of food; 0 to disable",width:128,min:0,max:d,step:.1},{name:"waterHours",type:"number",value:4,active:e=>!!m(e).enabled,label:"How many hours until you are completely out of water; 0 to disable",width:128,min:0,max:d,step:.1},{name:"sleepHours",type:"number",value:8,active:e=>!!m(e).enabled,label:"How many hours until you are completely out of sleep; 0 to disable",width:128,min:0,max:d,step:.1},{name:"affectionHours",type:"number",value:4,active:e=>!!m(e).enabled,label:"How many hours until you are completely out of affection; 0 to disable",width:128,min:0,max:d,step:.1},{name:"offlineDrain",type:"checkbox",value:!0,active:e=>!!m(e).enabled,label:"Stats drain even when logged out of the club"},{name:"noHands",type:"checkbox",active:e=>!!m(e).enabled&&!(0,u.IsHardcoreOn)(e),value:!0,label:"Allow eating or drinking from items in your OWN hands"},{name:"masochist",type:"checkbox",active:e=>!!m(e).enabled,value:!1,label:"Masochist pet; Abuse raises affection"},{name:"levels",type:"record",value:{food:1,water:1,sleep:1,affection:1,lastUpdated:Date.now(),lastOnline:Date.now()}},{name:"sexPet",type:"option",active:e=>!!m(e).enabled,value:"Off",options:["Off","Low","Medium","High"],label:"How much hunger and thirst gained from performing oral sex",loop:!1},{name:"sexPetOnly",type:"checkbox",active:e=>"Off"!=m(e).sexPet,value:!1,label:"ONLY Able to gain hunger and thirst from performing oral sex"}]}Load(){super.Load(),D(!1),L(!0,!1,!0),M=setInterval(()=>{Player.MemberNumber&&(Player.MPA[this.Title].levels.lastOnline=Date.now(),(0,i.SaveStorage)(!1))},1e4),(0,a.HookFunction)(this.Title,"ChatRoomMessage",0,(e,t)=>{var o,r,n;const a=e[0],i=(0,l.GetAttributeFromChatDictionary)(a,"ActivityName");if(!m().enabled||!m().noHands&&(0,l.GetAttributeFromChatDictionary)(a,"SourceCharacter")===Player.MemberNumber||"Activity"!==a.Type||(0,l.GetAttributeFromChatDictionary)(a,"TargetCharacter")!==Player.MemberNumber||"ItemMouth"!==(0,l.GetAttributeFromChatDictionary)(a,"FocusGroupName")||!i||!B())return t(e);const s=ActivityFemale3DCG.find(e=>e.Name===i),u=null!==(o=(0,l.FindCharacterInRoom)((0,l.GetAttributeFromChatDictionary)(a,"TargetCharacter")))&&void 0!==o?o:void 0;return 0!==m().foodHours&&((null===(r=null==s?void 0:s.Prerequisite)||void 0===r?void 0:r.includes("Needs-EatItem"))||g.some(e=>(null==s?void 0:s.Name)===e))&&V("food",v,!0,void 0,u),0!==m().waterHours&&((null===(n=null==s?void 0:s.Prerequisite)||void 0===n?void 0:n.includes("Needs-SipItem"))||p.some(e=>(null==s?void 0:s.Name)===e))&&V("water",v,!0,void 0,u),t(e)}),(0,a.HookFunction)(this.Title,"ChatRoomMessage",0,(e,t)=>{var o,r;const n=e[0],a=(0,l.GetAttributeFromChatDictionary)(n,"ActivityName"),i=ActivityFemale3DCG.find(e=>e.Name===a);return m().enabled&&(0,l.GetAttributeFromChatDictionary)(n,"SourceCharacter")===Player.MemberNumber&&"Activity"===n.Type&&"ItemHands"===(0,l.GetAttributeFromChatDictionary)(n,"FocusGroupName")&&a&&B()&&0!==m().foodHours&&((null===(o=null==i?void 0:i.Prerequisite)||void 0===o?void 0:o.includes("Needs-EatItem"))||g.some(e=>(null==i?void 0:i.Name)===e))?(V("food",v,!0,void 0,null!==(r=(0,l.FindCharacterInRoom)((0,l.GetAttributeFromChatDictionary)(n,"TargetCharacter")))&&void 0!==r?r:void 0),t(e)):t(e)}),(0,a.HookFunction)(this.Title,"ChatRoomMessage",0,(e,t)=>{var o,r;const n=e[0],a=(0,l.GetAttributeFromChatDictionary)(n,"ActivityName"),i=(0,l.GetAttributeFromChatDictionary)(n,"SourceCharacter"),s=(0,l.GetAttributeFromChatDictionary)(n,"TargetCharacter");return m().enabled&&"Activity"===n.Type&&U()&&i===Player.MemberNumber&&s!==Player.MemberNumber&&w.includes((0,l.GetAttributeFromChatDictionary)(n,"FocusGroupName"))&&T.includes(a)?(V("food",N[null!==(o=m().sexPet)&&void 0!==o?o:"Low"],!0,!0,null!==(r=(0,l.FindCharacterInRoom)(s))&&void 0!==r?r:void 0),I[s]=Date.now(),t(e)):t(e)}),(0,a.HookFunction)(this.Title,"ChatRoomMessage",0,(e,t)=>{var o,r;const n=e[0],a=(0,l.GetAttributeFromChatDictionary)(n,"ActivityName"),i=(0,l.GetAttributeFromChatDictionary)(n,"SourceCharacter"),s=(0,l.GetAttributeFromChatDictionary)(n,"TargetCharacter");return m().enabled&&"Activity"===n.Type&&U()&&i!==Player.MemberNumber&&s===Player.MemberNumber&&("ItemMouth"===(0,l.GetAttributeFromChatDictionary)(n,"FocusGroupName")&&S.includes(a)&&"Penis"===(0,l.GetAttributeFromChatDictionary)(n,"AssetName")&&"Pussy"===(0,l.GetAttributeFromChatDictionary)(n,"GroupName")||"ItemHead"===(0,l.GetAttributeFromChatDictionary)(n,"FocusGroupName")&&"LSCG_FuckWithPussy"===a)?(V("food",N[null!==(o=m().sexPet)&&void 0!==o?o:"Low"],!0,!0,null!==(r=(0,l.FindCharacterInRoom)(i))&&void 0!==r?r:void 0),I[i]=Date.now(),t(e)):t(e)}),(0,a.HookFunction)(this.Title,"ChatRoomMessage",10,(e,t)=>{var o,r;const a=e[0],i=(0,l.GetAttributeFromChatDictionary)(a,"SourceCharacter");if("Activity"!==a.Type||!n.ORGASM_ACTIVITY_REGEX.test(a.Content)||i===Player.MemberNumber)return t(e);if((null!==(o=I[i])&&void 0!==o?o:0)>=Date.now()-9e4){const e=(0,l.FindCharacterInRoom)(i);V("water",7*N[null!==(r=m().sexPet)&&void 0!==r?r:"Low"],!0,!0,null!=e?e:void 0),e&&(0,l.SendAction)((0,c.RandomElement)(O[e.HasPenis()?"MALE":"FEMALE"]),void 0,[{SourceCharacter:Player.MemberNumber},{TargetCharacter:i}])}return t(e)}),(0,a.HookFunction)(this.Title,"CharacterRefresh",0,(e,t)=>(e[0].MemberNumber===Player.MemberNumber&&D(),t(e))),(0,a.HookFunction)(this.Title,"ChatRoomMessage",0,(e,t)=>{var o,r;const n=e[0],a=(0,l.GetAttributeFromChatDictionary)(n,"ActivityName");if(!m().enabled||0===m().affectionHours||"Activity"!==n.Type||(0,l.GetAttributeFromChatDictionary)(n,"TargetCharacter")!==Player.MemberNumber||(0,l.GetAttributeFromChatDictionary)(n,"SourceCharacter")===Player.MemberNumber||!a)return t(e);const i=null!==(o=(0,l.GetAttributeFromChatDictionary)(n,"FocusGroupName"))&&void 0!==o?o:"",s=null!==(r=C[i])&&void 0!==r?r:1;return P.includes(a)?V("affection",.05*s):y.includes(a)?V("affection",.03*s):b.includes(a)&&V("affection",-.04*(m().masochist?-1:1)*s),t(e)})}Unload(){super.Unload(),clearInterval(M)}}},"./src/modules/virtualPetConditions.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ConditionCheck:()=>f,VirtualPetConditionsModule:()=>k});var r=o("./src/util/constants.ts"),n=o("./src/util/general.ts"),a=o("./src/util/messaging.ts"),i=o("./src/util/sdk.ts"),l=o("./src/modules/_module.ts"),s=o("./src/modules/profile.ts"),u=o("./src/modules/virtualPet.ts");const c=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[l.ModuleTitle.VirtualPet])&&void 0!==o?o:{}},d=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[l.ModuleTitle.VirtualPetConditions])&&void 0!==o?o:{}};function m(e,t){var o;return!(!d().enabled||!d()[e])&&(!t||c().enabled&&0!==(null===(o=c())||void 0===o?void 0:o[`${t}Hours`]))}const h=[["SelfBondage",!0],["Willpower",!0],["Bondage",!1],["Evasion",!1],["LockPicking",!1]],v={food:-1,water:-1,sleep:-1,affection:-1};let g=[];let p=250;function f(){["food","water","affection","sleep"].forEach(e=>{if(c().enabled&&d().enabled&&0!==c()[`${e}Hours`]){const t=v[e],o=(0,u.GetCharacterCurrentStatValue)(Player,e);g.forEach(r=>{r.stat===e&&-1===t&&r.firstRun&&r.firstRun(),r.stat===e&&-1!==t&&t>o&&"rising"!==r.change&&o<=r.threshhold&&r.threshhold<t&&r.action(),r.stat===e&&-1!==t&&t<o&&"falling"!==r.change&&t<r.threshhold&&r.threshhold<=o&&r.action()}),v[e]=o}else v[e]=-1})}const P="sleep",y=.25,b=0,C=0,A=1;var M;!function(e){e[e.NOT=0]="NOT",e[e.MPA=1]="MPA",e[e.LSCG=2]="LSCG"}(M||(M={}));let T=M.NOT;const S=["SourceCharacter drools out of the corner of PronounPossessive mouth as PronounSubject sleeps.","SourceCharacter mumbles quietly in PronounPossessive slumber.","SourceCharacter rests peacefully."];function w(){var e,t,o,r,n,i,l,s,u;(null===(o=null===(t=null===(e=globalThis.LSCG)||void 0===e?void 0:e.getModule("StateModule"))||void 0===t?void 0:t.SleepState)||void 0===o?void 0:o.Active)||((0,a.SendAction)("SourceCharacter passes out from exhaustion.",void 0,[{SourceCharacter:Player.MemberNumber}]),d().passoutLSCG&&(null===globalThis||void 0===globalThis?void 0:globalThis.LSCG)&&(null===(i=null===(n=null===(r=null===globalThis||void 0===globalThis?void 0:globalThis.LSCG)||void 0===r?void 0:r.getModule("StateModule"))||void 0===n?void 0:n.SleepState)||void 0===i||i.Activate(Player.MemberNumber),null===(u=null===(s=null===(l=globalThis.LSCG)||void 0===l?void 0:l.getModule("StateModule"))||void 0===s?void 0:s.SleepState)||void 0===u?void 0:u.Active)?T=M.LSCG:(CharacterSetFacialExpression(Player,"Emoticon","Sleep"),CharacterSetFacialExpression(Player,"Eyes","Closed"),CharacterSetFacialExpression(Player,"Fluids","DroolMedium"),Player.CanKneel()&&PoseSetActive(Player,"Kneel",!0),T=M.MPA))}function N(){return d().enabled&&0!==c().sleepHours&&d().passout&&(!(null===globalThis||void 0===globalThis?void 0:globalThis.LSSG)||!d().passoutLSCG)&&T===M.MPA}let I;function O(){c().enabled&&0!==c().affectionHours&&d().enabled&&h.forEach(([e,t])=>{const o=(0,u.GetCharacterCurrentStatValue)(Player,"affection"),r=Math.round((10*o/1-5)*(t?1:-1)*100)/100,n=SkillGetModifier(Player,e),a=0!==SkillGetModifierDuration(Player,e)?SkillGetModifierDuration(Player,e):15e3;r>0&&d().affectionSkillBuffs&&SkillSetModifier(Player,e,n+r,a,!1),r<0&&d().affectionSkillDebuffs&&SkillSetModifier(Player,e,n+r,a,!1)})}class k extends l.Module{get Title(){return l.ModuleTitle.VirtualPetConditions}get Settings(){return[{name:"enabled",type:"checkbox",active:e=>!!c(e).enabled&&!(0,s.IsHardcoreOn)(e),value:!1,label:"Recive conditions based on current level of your virtual pet stats"},{name:"foodNOW",type:"checkbox",active:e=>!!c(e).enabled&&!!d(e).enabled&&!(0,s.IsHardcoreOn)(e),value:!0,label:"Food and water affects affection gain"},{name:"tint",type:"checkbox",active:e=>!!c(e).enabled&&!!d(e).enabled&&!(0,s.IsHardcoreOn)(e),value:!0,label:"Vision darkens as you get sleepier"},{name:"passout",type:"checkbox",active:e=>!!c(e).enabled&&!!d(e).enabled&&!(0,s.IsHardcoreOn)(e),value:!0,label:"Passout when exhausted"},{name:"passoutLSCG",type:"checkbox",active:e=>!!(c(e).enabled&&d(e).enabled&&d(e).passout&&e.LSCG),value:!1,label:"Use LSCG passout instead of MPA; Requires LSCG"},{name:"affectionSkillBuffs",type:"checkbox",active:e=>!!c(e).enabled&&!!d(e).enabled&&!(0,s.IsHardcoreOn)(e),value:!0,label:"Affection will buff skills based on its level"},{name:"affectionSkillDebuffs",type:"checkbox",active:e=>!!c(e).enabled&&!!d(e).enabled&&!(0,s.IsHardcoreOn)(e),value:!0,label:"Affection will debuff skills based on its level"},{name:"hearingLoss",type:"checkbox",active:e=>!!c(e).enabled&&!!d(e).enabled&&!(0,s.IsHardcoreOn)(e),value:!0,label:"Hearing becomes harder the hungrier you are"},{name:"slowLeave",type:"checkbox",active:e=>!!c(e).enabled&&!!d(e).enabled&&!(0,s.IsHardcoreOn)(e),value:!0,label:"Takes longer to leave the room when hungry"},{name:"orgasmWater",type:"checkbox",active:e=>!!c(e).enabled&&!!d(e).enabled&&!(0,s.IsHardcoreOn)(e),value:!0,label:"Orgasms make you lose some hydration"},{name:"orgasmSleep",type:"checkbox",active:e=>!!c(e).enabled&&!!d(e).enabled&&!(0,s.IsHardcoreOn)(e),value:!0,label:"Orgasms make you lose some energy"}]}Load(){(0,i.HookFunction)(this.Title,"GameRun",0,(e,t)=>(p>=250&&f(),p++,t(e))),(0,i.HookFunction)(this.Title,"Player.GetTints",0,(e,t)=>{if(!m("tint",P))return t(e);const o=((0,u.GetCharacterCurrentStatValue)(Player,P)-y)/(b-y)*(A-C)+C;return C<=o&&o<=A?t(e).concat({r:0,g:0,b:0,a:Math.sqrt(Math.round(1e3*o)/1e3)}):t(e)}),g=[{stat:"sleep",threshhold:0,change:"falling",action:function(){w()},firstRun:function(){0===(0,u.GetCharacterCurrentStatValue)(Player,"sleep")&&w()}},{stat:"sleep",threshhold:.1,change:"rising",action:function(){T!==M.NOT&&function(){var e,t,o,r,n,i,l,s,u,c,d,m;if(T!==M.LSCG)CharacterSetFacialExpression(Player,"Emoticon",null),CharacterSetFacialExpression(Player,"Eyes","Dazed"),CharacterSetFacialExpression(Player,"Eyebrows","Lowered"),T=M.NOT,(0,a.SendAction)("SourceCharacter wakes up from PronounPossessive nap.",void 0,[{SourceCharacter:Player.MemberNumber}]);else{if(!(null===(o=null===(t=null===(e=null===globalThis||void 0===globalThis?void 0:globalThis.LSCG)||void 0===e?void 0:e.getModule("StateModule"))||void 0===t?void 0:t.SleepState)||void 0===o?void 0:o.Active)||(null!==(i=null===(n=null===(r=null===Player||void 0===Player?void 0:Player.LSCG)||void 0===r?void 0:r.InjectorModule)||void 0===n?void 0:n.sedativeLevel)&&void 0!==i?i:0)>0||(null===(s=null===(l=null===Player||void 0===Player?void 0:Player.LSCG)||void 0===l?void 0:l.MiscModule)||void 0===s?void 0:s.chloroformEnabled)&&["ItemMouth","ItemMouth2","ItemMouth3"].some(e=>{var t,o;return"ChloroformCloth"===(null===(o=null===(t=InventoryGet(Player,e))||void 0===t?void 0:t.Asset)||void 0===o?void 0:o.Name)}))return;!1===(null===(m=null===(d=null===(c=null===(u=null===globalThis||void 0===globalThis?void 0:globalThis.LSCG)||void 0===u?void 0:u.getModule("StateModule"))||void 0===c?void 0:c.SleepState)||void 0===d?void 0:d.Recover())||void 0===m?void 0:m.Active)&&(0,a.SendAction)("SourceCharacter wakes up from PronounPossessive nap.",void 0,[{SourceCharacter:Player.MemberNumber}])}}()}}],(0,i.HookFunction)(this.Title,"Player.CanTalk",5,(e,t)=>!N()&&t(e)),(0,i.HookFunction)(this.Title,"Player.CanWalk",5,(e,t)=>!N()&&t(e)),(0,i.HookFunction)(this.Title,"Player.CanChangeOwnClothes",5,(e,t)=>!N()&&t(e)),(0,i.HookFunction)(this.Title,"Player.CanInteract",5,(e,t)=>!N()&&t(e)),(0,i.HookFunction)(this.Title,"ServerSend",5,(e,t)=>{if(!N())return t(e);const[o,r]=e;return"ChatRoomChat"!=o||"Chat"!=(null==r?void 0:r.Type)||(null==r?void 0:r.Content.startsWith("("))?t(e):((0,a.SendAction)((0,n.RandomElement)(S),void 0,[{SourceCharacter:Player.MemberNumber}]),null)}),(0,i.HookFunction)(this.Title,"Player.GetDeafLevel",5,(e,t)=>N()?4:t(e)),(0,i.HookFunction)(this.Title,"Player.GetBlindLevel",5,(e,t)=>{var o,r;return N()?"SensDepExtreme"===(null===(o=Player.GameplaySettings)||void 0===o?void 0:o.SensDepChatLog)||"SensDepTotal"===(null===(r=Player.GameplaySettings)||void 0===r?void 0:r.SensDepChatLog)?3:2:t(e)}),(0,i.HookFunction)(this.Title,"ChatRoomCharacterUpdate",5,(e,t)=>{var o,r,n;return e[0].IsPlayer()&&T===M.LSCG&&!1===(null===(n=null===(r=null===(o=globalThis.LSCG)||void 0===o?void 0:o.getModule("StateModule"))||void 0===r?void 0:r.SleepState)||void 0===n?void 0:n.Active)&&(T=M.NOT),t(e)}),(0,i.HookFunction)(this.Title,"Player.GetDeafLevel",5,(e,t)=>{const o=m("hearingLoss","food")?Math.max(0,Math.floor(-10*((0,u.GetCharacterCurrentStatValue)(Player,"food")-.3001))):0;return Math.max(o,t(e))}),SkillModifierMax<10&&(SkillModifierMax=10),O(),I=setInterval(O,16e3),(0,i.HookFunction)(this.Title,"ChatRoomAttemptLeave",0,(e,t)=>{if(!m("slowLeave","food"))return t(e);const o=ChatRoomSlowtimer,r=(0,u.GetCharacterCurrentStatValue)(Player,"food");if(t(e),0===o&&ChatRoomSlowtimer>0&&r<=.3){ChatRoomSlowtimer=CurrentTime+ChatRoomSlowLeaveMinTime+1e3*(-25/.3*r+25)}}),(0,i.HookFunction)(this.Title,"Player.IsSlow",0,(e,t)=>!!(m("slowLeave","food")&&(0,u.GetCharacterCurrentStatValue)(Player,"food")<=.3)||t(e)),(0,i.HookFunction)(this.Title,"ChatRoomMessage",10,(e,t)=>{const o=e[0];return"Activity"===o.Type&&r.ORGASM_ACTIVITY_REGEX.test(o.Content)&&(0,a.GetAttributeFromChatDictionary)(o,"SourceCharacter")===Player.MemberNumber?(d().orgasmWater&&(0,u.ModifyStat)("water",-.05,!1,!0),d().orgasmSleep&&(0,u.ModifyStat)("sleep",-.05,!1,!0),t(e)):t(e)})}Unload(){super.Unload(),g=[],clearInterval(I)}}},"./src/modules/virtualPetHUD.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{VirtualPetHUDModule:()=>h});var r=o("./src/util/sdk.ts"),n=o("./src/util/authority.ts"),a=o("./src/modules/_module.ts"),i=o("./src/modules/virtualPet.ts"),l=o("./src/localization/localization.ts");const s=()=>Player.MPA[a.ModuleTitle.VirtualPet],u=()=>Player.MPA[a.ModuleTitle.VirtualPetHUD],c={food:"#f2bb18",water:"#2a9fc3",sleep:"#8d2aee",affection:"#ff78f2"};function d(e,t,o,r){const n=u().position,a=[];if("Left"===n||"Right"===n){const i=e+("Left"===n?80:420)*o;[...r].reverse().forEach((e,r)=>{a.push({stat:e,x:i,y:t+(950-36*r)*o})})}else if("Center"===n){const n=r.length;r.forEach((r,i)=>{a.push({stat:r,x:e+(250-18*(n-1)+36*i)*o,y:t+950*o})})}else if("Split"===n){const n=[];switch(r.length){case 1:n.push([r[0]],[]);break;case 2:n.push([r[0]],[r[1]]);break;case 3:n.push([r[1],r[0]],[r[2]]);break;case 4:n.push([r[1],r[0]],[r[3],r[2]])}n.forEach((r,n)=>{const i=e+(0===n?80:420)*o;r.forEach((e,r)=>{a.push({stat:e,x:i,y:t+(950-36*r)*o})})})}a.forEach(({stat:e,x:t,y:r})=>{!function(e,t,o,r){const n=c[r.stat];if(MainCanvas.beginPath(),MainCanvas.arc(e,t,o,0,2*Math.PI,!0),MainCanvas.lineWidth=o/8,MainCanvas.strokeStyle=n,MainCanvas.stroke(),MainCanvas.beginPath(),MainCanvas.arc(e,t,o,-Math.PI/2,2*Math.PI*-r.level-Math.PI/2,!0),MainCanvas.lineTo(e,t),MainCanvas.fillStyle=n,MainCanvas.fill(),u().exactStats){const n=MainCanvas.font;MainCanvas.font=CommonGetFont(1.25*o),MainCanvas.lineWidth=2,MainCanvas.strokeStyle="#000000",MainCanvas.strokeText(Math.round(100*r.level).toString(),e,t+.125*o),MainCanvas.fillStyle="#ffffff",MainCanvas.fillText(Math.round(100*r.level).toString(),e,t+.125*o),MainCanvas.font=n}}(t,r,16*o,e)}),a.forEach(({stat:e,x:t,y:r})=>{!function(e,t,o,r){if(MouseIn(e-o,t-o,2*o,2*o)){const o=`${(0,l.LocalizedText)(r.stat.charAt(0).toUpperCase()+r.stat.slice(1))}: ${Math.round(100*r.level)}%`,n=MainCanvas.textAlign,a=MainCanvas.font;MainCanvas.textAlign="left",MainCanvas.font=CommonGetFont(26);const i=5,s=u().position,c=MainCanvas.measureText(o),d=c.actualBoundingBoxRight-c.actualBoundingBoxLeft+2*i,m=c.actualBoundingBoxDescent+c.actualBoundingBoxAscent+2*i;let h=e,v=t;switch(s){case"Left":h=e+i;break;case"Center":case"Split":h=e-d/2,v-=m;break;case"Right":h=e-d}v-=c.actualBoundingBoxAscent,DrawRect(h-i+3,v-i+3,d,m,"rgba(0, 0, 0, .7)"),DrawRect(h-i,v-i,d,m,"#D7F6E9"),DrawTextFit(o,h,v+2*i,c.width,"Black"),MainCanvas.textAlign=n,MainCanvas.font=a}}(t,r,16*o,e)})}function m(e,t){var o;const r=t(e),[l,c,m,h]=e;if(!ActivityAllowed()||l.IsPlayer()&&(!u().self||!s().enabled)||!l.IsPlayer()&&"Off"===u().others||!l.IsPlayer()&&!(0,n.IsMemberNumberInAuthGroup)(l.MemberNumber,u().others))return r;const v=null===(o=null==l?void 0:l.MPA)||void 0===o?void 0:o[a.ModuleTitle.VirtualPet];if(!(null==v?void 0:v.enabled))return r;const g=[];return["food","water","sleep","affection"].forEach(e=>{0!==v[`${e}Hours`]&&g.push({stat:e,level:(0,i.GetCharacterCurrentStatValue)(l,e)})}),0!==g.length&&d(c,m,h,g),r}class h extends a.Module{get Title(){return a.ModuleTitle.VirtualPetHUD}get Settings(){return[{name:"self",type:"checkbox",active:()=>!!s().enabled,value:!0,label:"Display your own virtual pet stats on the HUD"},{name:"exactStats",type:"checkbox",active:()=>!!s().enabled||"Off"!==u().others,value:!1,label:"Display the exact number percentage on the HUD"},{name:"position",type:"option",active:()=>!!s().enabled||"Off"!==u().others,options:["Left","Center","Right","Split"],value:"Left",label:"Where to display the HUD",loop:!0},{name:"others",type:"option",active:()=>!0,options:["Off","Public","Friends","Whitelist","Lovers","Owners","D/s Family","Clubowner"],value:"Friends",label:"Display the virtual pet stats of others on the HUD",loop:!1},{name:"forceDraw",type:"checkbox",active:()=>!!s().enabled||"Off"!==u().others,value:!1,label:'Always display the HUD; Overrides BCX rule "Force-hide UI elements"'}]}Load(){(0,r.HookFunction)(this.Title,"DrawArousalMeter",1,(e,t)=>{var o;return"Wardrobe"===CurrentScreen||(null===(o=u())||void 0===o?void 0:o.forceDraw)?t(e):m(e,t)}),(0,r.HookFunction)(this.Title,"DrawCharacter",1,(e,t)=>{var o;return"Wardrobe"!==CurrentScreen&&(null===(o=u())||void 0===o?void 0:o.forceDraw)?m(e,t):t(e)})}Unload(){super.Unload()}}},"./src/settings/owners.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{OWNERS_CUSTOM_SETTINGS:()=>P});var r=o("./src/util/authority.ts"),n=o("./src/modules/_module.ts"),a=o("./src/localization/localization.ts"),i=o("./src/modules/settings.ts"),l=o("./src/util/messaging.ts");const s="MPA_ownerIdEntry";function u(e){return e.MPA[n.ModuleTitle.Authority]}function c(e){var t;return null===(t=u(e))||void 0===t?void 0:t[P.name]}const d=[250,200,64,64],m=[250,274,64,64],h=[250,348,128,64],v=[388,348,256,64];let g=1,p=1;const f=14;const P={type:"custom",OnClick:function(e,t){var o,n,a,l,v,P,y,b,C;const A=(0,i.ClickedPagesButtons)(g,p);if(!0===A)return void g++;if(!1===A)return void g--;const M=u(e),T=c(e);if(function(e){var t,o,n;const a=c(e),l=!(0,r.IsMemberNumberInAuthGroup)(null!==(t=Player.MemberNumber)&&void 0!==t?t:-1,a.othersRemove,a.selfRemove,e),s=a.owners.slice(f*(g-1),f*g);if(l&&!s.includes(null!==(o=Player.MemberNumber)&&void 0!==o?o:-1))return!1;for(const[e,t]of s.entries())if(MouseIn(250+(e%2==0?0:750),412+i.OPTION_GAP+(i.OPTION_GAP+i.OPTION_HEIGHT)*Math.floor(e/2),i.OPTION_HEIGHT,i.OPTION_HEIGHT)&&(!l||t===Player.MemberNumber)){const e=a.owners.indexOf(t);if(-1!==e)return(0,i.OwnerRemoved)(null===(n=a.owners)||void 0===n?void 0:n[e]),a.owners.splice(e,1),p=a.owners.length/f,1===s.length&&g>1&&g--,!0}return!1}(e))return void(0,i.SetSettingsEdited)(!0);if((0,r.IsMemberNumberInAuthGroup)(null!==(o=Player.MemberNumber)&&void 0!==o?o:-1,T.othersAdd,T.selfAdd,e)&&MouseIn(...h)){const t=Number(ElementValue(s));return void(""===ElementValue(s)||isNaN(t)||T.owners.includes(t)||t===e.MemberNumber||(T.owners.push(t),T.owners.sort((e,t)=>e-t),(0,i.OwnerAdded)(t),ElementValue(s,""),p=T.owners.length/f,(0,i.SetSettingsEdited)(!0)))}if(t&&MouseIn(...d))return T.selfAdd=!T.selfAdd,void(0,i.SetSettingsEdited)(!0);if(t&&MouseIn(...m))return T.selfRemove=!T.selfRemove,void(0,i.SetSettingsEdited)(!0);const S=r.AUTHORITY_GROUP_OPTIONS.indexOf(T.othersAdd);if(t&&MouseIn(900,200,128,64)&&S>0&&(0,r.IsMemberNumberInAuthGroup)(null!==(n=Player.MemberNumber)&&void 0!==n?n:-1,M.othersAuthority,M.selfProfile,e)&&(0,r.IsMemberNumberInAuthGroup)(null!==(a=Player.MemberNumber)&&void 0!==a?a:-1,r.AUTHORITY_GROUP_OPTIONS[S],M.selfProfile,e))return T.othersAdd=r.AUTHORITY_GROUP_OPTIONS[S-1],void(0,i.SetSettingsEdited)(!0);if(t&&MouseIn(1028,200,128,64)&&S+1<r.AUTHORITY_GROUP_OPTIONS.length&&(0,r.IsMemberNumberInAuthGroup)(null!==(l=Player.MemberNumber)&&void 0!==l?l:-1,M.othersAuthority,M.selfProfile,e)&&(0,r.IsMemberNumberInAuthGroup)(null!==(v=Player.MemberNumber)&&void 0!==v?v:-1,r.AUTHORITY_GROUP_OPTIONS[S+1],M.selfProfile,e))return T.othersAdd=r.AUTHORITY_GROUP_OPTIONS[S+1],void(0,i.SetSettingsEdited)(!0);const w=r.AUTHORITY_GROUP_OPTIONS.indexOf(T.othersRemove);return t&&MouseIn(900,274,128,64)&&w>0&&(0,r.IsMemberNumberInAuthGroup)(null!==(P=Player.MemberNumber)&&void 0!==P?P:-1,M.othersAuthority,M.selfProfile,e)&&(0,r.IsMemberNumberInAuthGroup)(null!==(y=Player.MemberNumber)&&void 0!==y?y:-1,r.AUTHORITY_GROUP_OPTIONS[w],M.selfProfile,e)?(T.othersRemove=r.AUTHORITY_GROUP_OPTIONS[w-1],void(0,i.SetSettingsEdited)(!0)):t&&MouseIn(1028,274,128,64)&&w+1<r.AUTHORITY_GROUP_OPTIONS.length&&(0,r.IsMemberNumberInAuthGroup)(null!==(b=Player.MemberNumber)&&void 0!==b?b:-1,M.othersAuthority,M.selfProfile,e)&&(0,r.IsMemberNumberInAuthGroup)(null!==(C=Player.MemberNumber)&&void 0!==C?C:-1,r.AUTHORITY_GROUP_OPTIONS[w+1],M.selfProfile,e)?(T.othersRemove=r.AUTHORITY_GROUP_OPTIONS[w+1],void(0,i.SetSettingsEdited)(!0)):void 0},OnExit:function(e,t){ElementRemove(s)},OnLoad:function(e,t){const o=c(e);p=o.owners.length/f,ElementCreateInput(s,"number",""),ElementSetAttribute(s,"min","0"),ElementSetAttribute(s,"inputmode","numeric"),ElementPositionFixed(s,...v)},OnRun:function(e,t){var o,P,y,b,C;const A=MainCanvas.textAlign;MainCanvas.textAlign="left";const M=u(e),T=c(e);DrawCheckbox(...d,(0,a.LocalizedText)("SourceCharacter can add owners").replace("SourceCharacter",e.Nickname||e.Name),!!e.MPA[n.ModuleTitle.Authority].newOwners.selfAdd,!t,"Black"),DrawCheckbox(...m,(0,a.LocalizedText)("SourceCharacter can remove owners").replace("SourceCharacter",e.Nickname||e.Name),!!e.MPA[n.ModuleTitle.Authority].newOwners.selfRemove,!t,"Black");for(const n of[!1,!0]){const l=Number(n),s=T[n?"othersRemove":"othersAdd"],u=r.AUTHORITY_GROUP_OPTIONS.indexOf(s),c=r.AUTHORITY_GROUP_OPTIONS.length,d=0===u||!(0,r.IsMemberNumberInAuthGroup)(null!==(o=Player.MemberNumber)&&void 0!==o?o:-1,M.othersAuthority,M.selfProfile,e)||!(0,r.IsMemberNumberInAuthGroup)(null!==(P=Player.MemberNumber)&&void 0!==P?P:-1,r.AUTHORITY_GROUP_OPTIONS[u],M.selfProfile,e),m=u===r.AUTHORITY_GROUP_OPTIONS.length-1||!(0,r.IsMemberNumberInAuthGroup)(null!==(y=Player.MemberNumber)&&void 0!==y?y:-1,M.othersAuthority,M.selfProfile,e)||!(0,r.IsMemberNumberInAuthGroup)(null!==(b=Player.MemberNumber)&&void 0!==b?b:-1,r.AUTHORITY_GROUP_OPTIONS[u+1],M.selfProfile,e);DrawBackNextButton(900,i.OPTION_TOP+l*(i.OPTION_GAP+i.OPTION_HEIGHT),i.OPTION_BACK_NEXT_WIDTH,i.OPTION_HEIGHT,(0,a.LocalizedText)(s),!t||d&&m?"#aaaaaa":"#ffffff","",()=>(0,a.LocalizedText)(d?"":u>0?r.AUTHORITY_GROUP_OPTIONS[u-1]:""),()=>(0,a.LocalizedText)(m?"":u+1<c?r.AUTHORITY_GROUP_OPTIONS[u+1]:""),!t),DrawTextFit((0,a.LocalizedText)(n?"Allow others to remove owners":"Allow others to add owners"),900+i.OPTION_BACK_NEXT_WIDTH+2*i.OPTION_GAP,i.OPTION_TOP+(l*(i.OPTION_GAP+i.OPTION_HEIGHT)+Math.ceil(i.OPTION_HEIGHT/2)),i.CANVAS_WIDTH-900-i.OPTION_BACK_NEXT_WIDTH,"Black","Gray")}ElementPositionFixed(s,...v),(0,i.DrawPagesButtons)(g,p),function(e){var t;const o=c(e),n=o.owners.slice(f*(g-1),f*g),s=!(0,r.IsMemberNumberInAuthGroup)(null!==(t=Player.MemberNumber)&&void 0!==t?t:-1,o.othersRemove,o.selfRemove,e);n.forEach((e,t)=>{MainCanvas.textAlign="center";let o=s;e===Player.MemberNumber&&(o=!1),DrawButton(250+(t%2==0?0:750),412+i.OPTION_GAP+(i.OPTION_GAP+i.OPTION_HEIGHT)*Math.floor(t/2),i.OPTION_HEIGHT,i.OPTION_HEIGHT,"X",o?"Gray":"White","",(0,a.LocalizedText)("Remove Owner"),o),MainCanvas.textAlign="left",DrawTextFit(`${(0,l.MemberNumberToName)(e)} (${e})`,250+i.OPTION_GAP+i.OPTION_HEIGHT+(t%2==0?0:750),412+Math.floor(t/2)*(i.OPTION_GAP+i.OPTION_HEIGHT)+Math.ceil(i.OPTION_HEIGHT/2)+i.OPTION_GAP,600,"Black","Gray")})}(e),MainCanvas.textAlign="center";const S=(0,r.IsMemberNumberInAuthGroup)(null!==(C=Player.MemberNumber)&&void 0!==C?C:-1,T.othersAdd,T.selfAdd,e);DrawButton(...h,"Add",S?"White":"Gray","","",!S),MainCanvas.textAlign=A},active:function(e){return!0},label:"Owners",name:"newOwners",value:{owners:[],selfAdd:!0,selfRemove:!0,othersAdd:"Clubowner",othersRemove:"Clubowner"}}},"./src/util/activities.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{CreateActivities:()=>c,CreateActivity:()=>u,RemoveActivities:()=>m,RemoveActivity:()=>d,activityImages:()=>a,activityPrerequisites:()=>l,activityReceived:()=>s,activityTriggers:()=>i});var r=o("./src/localization/localization.ts"),n=o("./src/util/constants.ts");const a={},i={},l={},s={};function u(e){var t;const o={Name:`${n.ACTIVITY_NAME_PREFIX}${e.Name}`,ActivityID:Math.max(...ActivityFemale3DCG.map(e=>{var t;return null!==(t=e.ActivityID)&&void 0!==t?t:-1}))+1,MaxProgress:null!==(t=e.MaxProgress)&&void 0!==t?t:50,Prerequisite:e.Prerequisite,Target:[]};if(e.CustomPrerequisite){let t=e.CustomPrerequisite;Array.isArray(t)||(t=[t]),t.forEach(e=>{o.Prerequisite.push(e.Name),!(e.Name in l)&&e.Prerequisite&&(l[e.Name]=e.Prerequisite)})}let u=!1;e.Targets.forEach(e=>{var t;u||(null===ActivityDictionary||void 0===ActivityDictionary||ActivityDictionary.push([`Activity${o.Name}`,(0,r.LocalizedText)(e.label)]),u=!0),e.actionSelf&&(o.TargetSelf||(o.TargetSelf=[]),null===(t=o.TargetSelf)||void 0===t||t.push(e.group),null===ActivityDictionary||void 0===ActivityDictionary||ActivityDictionary.push([`Label-ChatSelf-${e.group}-${o.Name}`,(0,r.LocalizedText)(e.label)]),null===ActivityDictionary||void 0===ActivityDictionary||ActivityDictionary.push([`ChatSelf-${e.group}-${o.Name}`,(0,r.LocalizedText)(e.actionSelf)])),e.actionOthers&&(o.Target.push(e.group),null===ActivityDictionary||void 0===ActivityDictionary||ActivityDictionary.push([`Label-ChatOther-${e.group}-${o.Name}`,(0,r.LocalizedText)(e.label)]),null===ActivityDictionary||void 0===ActivityDictionary||ActivityDictionary.push([`ChatOther-${e.group}-${o.Name}`,(0,r.LocalizedText)(e.actionOthers)]))}),a[o.Name]=e.Image,e.OnTrigger&&(i[o.Name]=e.OnTrigger),e.OnReceive&&(s[o.Name]=e.OnReceive),ActivityFemale3DCG.push(o),ActivityFemale3DCGOrdering.push(o.Name)}function c(e){e.forEach(e=>{u(e)})}function d(e){const t=`${n.ACTIVITY_NAME_PREFIX}${e.Name}`;e.Targets.forEach(e=>{var o,r;e.actionSelf&&(ActivityDictionary=null!==(o=null===ActivityDictionary||void 0===ActivityDictionary?void 0:ActivityDictionary.filter(o=>!(o[0]===`Label-ChatSelf-${e.group}-${t}`||o[0]===`ChatSelf-${e.group}-${t}`)))&&void 0!==o?o:null),e.actionOthers&&(ActivityDictionary=null!==(r=null===ActivityDictionary||void 0===ActivityDictionary?void 0:ActivityDictionary.filter(o=>!(o[0]===`Label-ChatOther-${e.group}-${t}`||o[0]===`ChatOther-${e.group}-${t}`)))&&void 0!==r?r:null)}),delete a[t],delete i[t],ActivityFemale3DCG=ActivityFemale3DCG.filter(e=>e.Name!==t),ActivityFemale3DCGOrdering=ActivityFemale3DCGOrdering.filter(e=>e!==t)}function m(e){e.forEach(e=>{d(e)})}},"./src/util/authority.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{AUTHORITY_GROUPS:()=>l,AUTHORITY_GROUP_OPTIONS:()=>a,AuthorityIsComparisonToCharacter:()=>c,HighestLevelAuthorityGroup:()=>u,IsMemberNumberInAuthGroup:()=>s});var r=o("./src/modules/_module.ts"),n=o("./src/util/messaging.ts");const a=["Public","Friends","Whitelist","Lovers","Owners","Clubowner","Self"],i=["None","Public","Friends","Whitelist","Lovers","Owners","D/s Family","Clubowner","Self"],l={Self:e=>{var t;return[null!==(t=e.MemberNumber)&&void 0!==t?t:-1]},Clubowner:e=>{var t,o;return(null===(t=null==e?void 0:e.Ownership)||void 0===t?void 0:t.MemberNumber)?[null===(o=null==e?void 0:e.Ownership)||void 0===o?void 0:o.MemberNumber]:[]},Owners:e=>{var t,o,n;return null!==(n=null===(o=null===(t=e.MPA)||void 0===t?void 0:t[r.ModuleTitle.Authority])||void 0===o?void 0:o.newOwners.owners)&&void 0!==n?n:[]},Lovers:e=>{var t,o;return null!==(o=null===(t=e.Lovership)||void 0===t?void 0:t.filter(e=>e.MemberNumber).map(e=>e.MemberNumber))&&void 0!==o?o:[]},WhiteList:e=>{var t;return null!==(t=e.WhiteList)&&void 0!==t?t:[]},FriendList:()=>{var e;return null!==(e=Player.FriendList)&&void 0!==e?e:[]}};function s(e,t,o=!1,r=Player){var a,i,s,u,c;if("None"===t)return!1;if(e===l.Self(r)[0])return"Self"===t||o;if(r.BlackList.includes(e)||null!==(i=null===(a=null==r?void 0:r.GhostList)||void 0===a?void 0:a.includes(e))&&void 0!==i&&i)return!1;if("Public"===t)return!0;if("D/s Family"===t&&r.MemberNumber===Player.MemberNumber)return null!==(u=null===(s=(0,n.FindCharacterInRoom)(e))||void 0===s?void 0:s.IsFamilyOfPlayer())&&void 0!==u&&u;let d=new Set;switch(t){case"Friends":if(r.MemberNumber!==Player.MemberNumber&&Player.MemberNumber===e&&l.FriendList().includes(null!==(c=r.MemberNumber)&&void 0!==c?c:-1))return!0;r.MemberNumber===Player.MemberNumber&&(d=new Set([...d,...l.FriendList()]));case"Whitelist":d=new Set([...d,...l.WhiteList(r)]);case"Lovers":d=new Set([...d,...l.Lovers(r)]);case"Owners":d=new Set([...d,...l.Owners(r)]);case"Clubowner":d=new Set([...d,...l.Clubowner(r)])}return d.has(e)}function u(e,t=Player){var o,r,n,a,i,s;return t.MemberNumber===e?"Self":(null===(o=null==t?void 0:t.Ownership)||void 0===o?void 0:o.MemberNumber)===e?"Clubowner":l.Owners(t).includes(e)?"Owners":l.Lovers(t).includes(e)?"Lovers":l.WhiteList(t).includes(e)?"Whitelist":t.MemberNumber===Player.MemberNumber&&(null===(r=Player.FriendList)||void 0===r?void 0:r.includes(e))||t.MemberNumber!==Player.MemberNumber&&e===Player.MemberNumber&&(null===(n=Player.FriendList)||void 0===n?void 0:n.includes(null!==(a=t.MemberNumber)&&void 0!==a?a:-1))?"Friends":t.BlackList.includes(e)||null!==(s=null===(i=null==t?void 0:t.GhostList)||void 0===i?void 0:i.includes(e))&&void 0!==s&&s?"None":"Public"}function c(e,t=">=",o,r=Player){const n=u(o,r),a=i.indexOf(e),l=i.indexOf(n);if(-1===a||-1===l)return!1;switch(t){case">":return l>a;case"<":return l<a;case">=":return l>=a;case"<=":return l<=a;case"==":return l==a;case"!=":return l!=a;default:throw new Error("Invalid comparison operator")}}},"./src/util/chatroom.ts":(e,t,o)=>{"use strict";function r(e,t){var o,r;const n=InventoryGet(e,t);if(n)return n.Craft?{...WardrobeAssetBundle(n),Craft:CraftingValidate(null!==(o=n.Craft)&&void 0!==o?o:null,null!==(r=n.Asset)&&void 0!==r?r:null,!0)>CraftingStatusType.CRITICAL_ERROR?n.Craft:void 0}:WardrobeAssetBundle(n)}function n(e,t,o=!0){var r;if(null!==e&&null!==t&&Array.isArray(t)&&ServerChatRoomGetAllowItem(Player,e))try{const n=ValidationCreateDiffParams(e,null!==(r=Player.MemberNumber)&&void 0!==r?r:-1);for(const o of t){const t=InventoryGet(e,o.Group);if(null!==t&&!ValidationCanRemoveItem(t,n,!0))continue;const r=InventoryItemCreate(e,o.Group,o.Name);if(null!==r&&!ValidationCanAddItem(r,n))continue;const a=InventoryWear(e,o.Name,o.Group,o.Color,void 0===o.Difficulty?0:o.Difficulty,Player.MemberNumber,o.Craft,!1);if(null!==a&&o.Property){const e=void 0===a.Property?{}:structuredClone(a.Property);for(const t of Object.keys(o.Property))e[t]=o.Property[t];a.Property=e}}o&&(0===(null===ChatRoomCharacter||void 0===ChatRoomCharacter?void 0:ChatRoomCharacter.length)?CharacterRefresh(e):ChatRoomCharacterUpdate(e))}catch(e){console.log("Error while applying items to character",e)}}o.r(t),o.d(t,{ApplyItemsToCharacter:()=>n,SaveCharacterItem:()=>r})},"./src/util/constants.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ACTIVITY_NAME_PREFIX:()=>s,ALL_BEDS:()=>h,BED_BAD:()=>m,BED_NORMAL:()=>d,BED_PERFECT:()=>c,BELL_SOUND:()=>u,ICONS:()=>l,MPA_NAME:()=>n,MPA_REPO:()=>i,MPA_VERSION:()=>a,NO_STUCK_BEDS:()=>v,ORGASM_ACTIVITY_REGEX:()=>g});var r=o("./package.json");const n=r.name.toLocaleUpperCase(),a=r.version,i=r.repository.url,l=Object.freeze({PAW:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFYAAABWCAYAAABVVmH3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsEAAA7BAbiRa+0AAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAG7ElEQVR4Xu2cV8g0NRhGfxV7ATuKYkNF7IKi3lgvxIaKIiJ2vVCxFxQb2C4Ve8F2oaJgA3tFsHcFG4oNsWDvvT3nm42E4Z3ZZJLZb+cnBw477CYzSXZ2JnmT2TmFQqFQKBQKhUKhUCgUxrGaPF++Lf+R38v75QFyMZkL9rW/vE9+JzkWx+TYlGGu4mj5u/y3wU8kDZwK+2Bf1jGQMhwl5wpoVKuSlpfKrpDX2qfl4Bt3I8lP0apck9fKWMhj7atJyrShHCwPSati4zxdhnKatPYxzgflIFlPWhUKdUs5DtJYeUOljL0w7+i1D/YYvXblCtlWPj4jTQq7j14HxSPSOktipNvUBJ9ZeWJ8WA6K+eWH0qpMjG9I66zlPT6z8sT4gaSsg2E5+YO0KhPrVrIO71lpY6WMy8rs9HWNXUQuVG0ms/fo1cd6rwsLSsqanb4aFjgjcrC9nK/anIFt3suBO3Oz01fD/ix/qzaTWUOuXm3OwDbv5YAy/lJt5qWvhiX48XW1mQxlXKfanIHtXOX+RlLW7PTVsH9K7ri5WHX0CjkjVJTxr2ozL6ENSzou9DG8NHrNgX/nznkXf3H0GgptENRmbYlWkCdJxtTEM9+Rb0rinGfJLWQbj45ec+B/qbFfcBuPjV6b2FxSV+pM3WmDt+QD8kRJG0XBqOZL6e6aTb4giYHOI+ssKr+QVr5Yz5UOtq00sVI2ymhB/Z+XVj5f2mg/GUSXoSKF2FrWuUxa6WMlpus4RlppYrVivww8npNW+jbHBumXkb9KK3OI50gf7uCx8VjLHaVjJ2mliZEy+T0NOFtaaUOkzWi7RnKcDXdIf9R1o7TShcp0ykrSwXbbNE+IlMlBWW+XVroYabtGnpRWpli5KSwsgYb4UVrpQqRMdZ6SVtoQKYv7oigjZbXSxfqEbOQnaWXq4r3ScZC00oRI3joHSyttiAdKB2W00nSRtmvEypDiBdIRM9nnfE9a3St+vnxm5WnzEumgbFaaFBthGGplSHEH6Yid9NtGOlaWK1abM2wrrTxN+pOUlMlKk+JXshE69VamFN+X7noLZ8i/pZXW91AJu0hGcdx5+blxLXPzYYdJK68vPYAzpYOyMJS10qbYOiA6VVqZUj1e+mwm75LW3Z1+5HYSaNT650gDsw8grdX3ZN8cw6VznCDraXNI2/1PfcTEXPur1WZWPpZrSirrQ/hvU8lPnPAdx35Wws6SrlvT1AlRKX7SNCow/GQdA4HrTyWjQq7DPlybGZZyWckNx36t2rRhTGx9I6ly9oWylyTqZO3Hl/Vf1tRNE7tKaz+p0mZjYXhmZU71GhlCbNeMay+jsRBib56hBq07I+LFT9LaQYqtP5MRRIysvOPkBtU2Ve6gDFb+FGmr0PDrzAU/xxjfl0jQ4rKJi6SVL0aWGzWxhAyJ2MVIG9VvjmM5WVo76ypDyeVlHUJ3d0orTxevllYYk2OnDK0taaNOXCetHXaRDjRnjc8qkru3lT5FAtFLSh+OTRms9F2kbZK4RVo7jvVl6UP3iG6YlTaHr8u1pc8r0kobK22ShculdYAY/VmAPSX9VitdTpkl8APw50krXYy0RVaOkF0bg5GSu74eK600ffmH3FcCc1RdI3jU/UjZC+vKe6R14DbdcskLpfX5JHRDTpaXWp+3SZ17W0vrw1CSWCZng1UQ50fSTavcKq00k9TNczFcHrcakroxO+tH54KxuiUxMP4nCMJUOON++qks2yGixfrYmyQFJEofM/TsE6ZhuMYTU9hHsg6MshP3pTtGfOEZSbTqXTmV0NCE/KwzYjZlrUTqSTVrcEZ0mUqelHfLQTYuIT+rQtOkP1UzCE6RVkWmUdcVm3roloTEUqdFAubRa7Bmg1zz9JP0BjnV5HroYtIyuVmPKyQRHKAN5PDR69CgHQ6pNqcPwnJ9rEuYlKx7zXai5TxjN5ZLVZuDZC2Z66GRrA3L9O+QoS3WrzbTydmw2b7tWcR/7CmJnA279Oh1yLQuHo4hZ8MONqjhka0OORs21wNzs0nrisEYcjYs3ZWhM5V1YNrG6h/mkr99yr3gwpe5sF4esc/B09IqdA6Zqzqu9l5OmTqaWphLsgqdqlvNx7/A5Xoor+4mcqrJuVzI6a8NIH5qpUnxYjn1MKzt8uBFkyytr3OltNJ2kYXOC8hBwOwtM7VWRWLkacEmrpJWnhh5+ntqb1hNsPydxWlWhcb5rfSfx2qC9bRdn1K8WdYX6Q0KVjuHLmRmdfb1MubPHjaQt8mQJ3GQnstuslcmOQwlrMhzW6wy5AFh/kKKin4uWYnIlA6LJD6TXeBfOFh8wTF4SIX909jsn//ookEfl0HPCxQKhUKhUCgUCoVCYbqZM+c/cFLVbgteTEYAAAAASUVORK5CYII=",DISCORD:"data:image/png;base64,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"}),s="MPA_",u=new Audio("Audio\\BellMedium.mp3"),c=["PetBed","Crib"],d=["LowCage","Kennel","Bed","MedicalBed","Cushion","床左边_Luzi","床右边_Luzi"],m=["FuturisticCrate","DollBox","乳胶带床_Luzi"],h=c.concat(d,m),v=["PetBed","Crib","Bed","MedicalBed"],g=/Orgasm[0-9]/},"./src/util/general.ts":(e,t,o)=>{"use strict";function r(e){return 0==e.length?null:e[Math.floor(Math.random()*e.length)]}function n(e,t){let o=structuredClone(e);return t.forEach(e=>{o=o.filter(t=>e!==t)}),o}function a(e){for(let t=e.length-1;t>0;t--){const o=Math.floor(Math.random()*(t+1));[e[t],e[o]]=[e[o],e[t]]}return e}o.r(t),o.d(t,{FilterArrayFromArray:()=>n,RandomElement:()=>r,ShuffleArray:()=>a})},"./src/util/messaging.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{AddDataSyncListener:()=>v,AddDataSyncListeners:()=>g,ArrayToReadableString:()=>y,ContentIsMPAMesage:()=>n,FindCharacterInRoom:()=>d,GetAttributeFromChatDictionary:()=>P,GetEntryFromChatDictionary:()=>f,GetMPAMessageFromChat:()=>a,MPANotifyPlayer:()=>c,MemberNumberToName:()=>b,NotifyPlayer:()=>u,RemoveDataSyncListeners:()=>p,RemoveOOCContentFromMessage:()=>m,SendAction:()=>l,SendEmote:()=>s,SendMPAMessage:()=>i,hookedMessages:()=>h});var r=o("./src/localization/localization.ts");function n(e){var t;return"Hidden"===e.Type&&"MPA"===e.Content&&1===(null===(t=null==e?void 0:e.Dictionary)||void 0===t?void 0:t.length)}function a(e){return n(e)?e.Dictionary[0]:null}function i(e,t){ServerSend("ChatRoomChat",{Type:"Hidden",Content:"MPA",Dictionary:[e],Target:t})}function l(e,t=void 0,o=[]){ServerSend("ChatRoomChat",{Content:"MayaScript",Type:"Activity",Dictionary:[{Tag:"MISSING ACTIVITY DESCRIPTION FOR KEYWORD MayaScript",Text:(0,r.LocalizedText)(e)},...o],Target:null==t?void 0:t.MemberNumber})}function s(e,t=void 0){ServerSend("ChatRoomChat",{Content:`${e}`,Type:"Emote",Target:null==t?void 0:t.MemberNumber})}function u(e,t){var o,r;const n="Dark"===(null===(o=Player.ChatSettings)||void 0===o?void 0:o.ColorTheme)||"Dark2"===(null===(r=Player.ChatSettings)||void 0===r?void 0:r.ColorTheme);ChatRoomSendLocal(`<p style='background-color:#00c2ff;color:${n?"white":"black"};margin-bottom:0.25em;margin-top:0'>${e}</p>`,t)}function c(e,t){u(`${(0,r.LocalizedText)("MPA")}: ${e}`,t)}function d(e,{MemberNumber:t=!0,Nickname:o=!0,Name:r=!0}={}){var n;"string"!=typeof e&&(e=e.toString()),e=e.toLocaleLowerCase();for(const a of ChatRoomCharacter)if(t&&(null==a?void 0:a.MemberNumber)===Number(e)||o&&(null===(n=null==a?void 0:a.Nickname)||void 0===n?void 0:n.toLocaleLowerCase())===e||r&&a.Name.toLocaleLowerCase()===e)return a;return null}function m(e){return SpeechGetOOCRanges(e).reverse().forEach(t=>{e=e.substring(0,t.start)+e.substring(t.start+t.length)}),e}const h=[];function v(e){h.push({module:e.module,message:e.message,action:e.action})}function g(e){e.forEach(e=>{h.push({module:e.module,message:e.message,action:e.action})})}function p(e){for(let t=h.length-1;0<=t;t--)h[t].module===e&&h.splice(t,1)}function f(e,t){if(e.Dictionary)try{return e.Dictionary.filter(e=>!!e[t])[0]}catch(e){}}function P(e,t){var o;return null===(o=f(e,t))||void 0===o?void 0:o[t]}function y(e){const t=e.length;return 0===t?"":1===t?e[0]:2===t?`${e[0]} and ${e[1]}`:`${e.slice(0,-1).join(", ")}, and ${e[t-1]}`}function b(e,t="Unknown"){var o;if(e===Player.MemberNumber)return Player.Name;let n=null===(o=Player.FriendNames)||void 0===o?void 0:o.get(e);if(n)return n;let a=d(e,{MemberNumber:!0,Nickname:!1,Name:!1});return a?a.Name:(0,r.LocalizedText)(t)}},"./src/util/petHearAndSpeak.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{AppendPetSpeech:()=>a,ApplyPetHearing:()=>i,DisruptivePetSpeech:()=>d,NonDisruptivePetSpeech:()=>c});var r=o("./src/util/general.ts");const n=/^(https?:\/\/)?(www\.)?[\w-]+(\.[a-z]{2,})(\.[a-z]{2,})?(\/[^\s]*)?$/i;function a(e,t){const o=(0,r.RandomElement)(t);return null===o?e:/[.!?]$/.test(e)?`${e} ${o.charAt(0).toLocaleUpperCase()+o.slice(1)}.`:/[a-zA-Z]$/.test(e)&&!n.test(e)?`${e}, ${o}.`:`${e} ${o}.`}function i([e,t,o],r,n){if(!e||isNaN(t)||"boolean"!=typeof o&&void 0!==o)return r([e,t,o]);n.push((Player.Nickname||Player.Name).toLocaleLowerCase()),"SheHer"===Player.GetPronouns()?(n.push("girl"),n.push("she"),n.push("her")):(n.push("boy"),n.push("he"),n.push("him"));const a=e.toLocaleLowerCase();let i=[];n.forEach(e=>{const t=new RegExp(`\\b${e}\\b`,"g");[...a.matchAll(t)].forEach(t=>{i.push({start:t.index,len:e.length})})});const l=new Map;for(const e of i){const t=`${e.start}-${e.len}`;l.has(t)||l.set(t,e)}if(i=Array.from(l.values()),0===i.length)return r([e,t,o]);i.sort((e,t)=>e.start-t.start);SpeechGetOOCRanges(e).forEach(e=>{for(let t=i.length-1;t>=0;t--){const o=i[t];(e.start<o.start&&o.start<e.start+e.length||e.start<o.start+o.len&&o.start+o.len<e.start+e.length)&&i.splice(t,1)}});let s=0,u="";return i.forEach(n=>{u+=r([e.substring(s,n.start),t,o]),s=n.start+n.len,u+=e.substring(n.start,n.start+n.len)}),u+=r([e.substring(s),t,o]),u}const l=.5,s=Object.freeze({Low:.01,Medium:.025,High:.05,Max:.125}),u=Object.freeze({Low:.05,Medium:.1,High:.2,Max:.25});function c(e,t,o){var i;if(0===t.length||"Off"===o)return e;let c=[];function d(){var e;return 0===c.length&&(c=t.concat(t),c=(0,r.ShuffleArray)(c)),null!==(e=c.pop())&&void 0!==e?e:""}let m=0,h=[];const v=SpeechGetOOCRanges(e);for(const t of v)""!==e.substring(m,t.start)&&h.push({text:e.substring(m,t.start),ooc:!1}),h.push({text:e.substring(t.start,t.start+t.length),ooc:!0}),m=t.start+t.length;const g=e.substring(m);""!==g&&h.push({text:g,ooc:!1}),h=h.map((e,t)=>{const o=/\s+$/.exec(e.text);return e.text=e.text.replace(/\s+$/,""),o&&h[t+1]&&(h[t+1].text=o[0]+h[t+1].text),e});const p=s[o],f=u[o],P="High"===o||"Max"===o;let y=!1,b="";for(const e of h){if(e.ooc){b+=e.text;continue}const t=e.text.match(/(\s*\S+)/g)||[];let o=null;for(const e of t)if(n.test(e))b+=e,o=null;else{if(Math.random()<p){y=!0;const t=d(),r=null===o;r||/[.!?]$/.test(null!=o?o:"")?b+=`${r?"":" "}${t.charAt(0).toLocaleUpperCase()}${t.slice(1)}`+(/[.!?]$/.test(e)||r?"."+(r?" ":""):", "):b+=`${Math.random()<l&&!(null!=o?o:"").endsWith(",")?",":""} ${t},`}b+=e,o=e}(null===(i=h.slice().reverse().find(e=>!e.ooc))||void 0===i?void 0:i.text)===e.text&&(P&&!y||Math.random()<f)&&(b=a(b,[d()]))}return b}function d(e,t,o){if(0===t.length)return e;e=null!=e?e:"",o=o>1?1:o<0?0:o;let n=[];let a=0;const i=[],l=SpeechGetOOCRanges(e);for(const t of l)""!==e.substring(a,t.start)&&i.push({text:e.substring(a,t.start),ooc:!1}),i.push({text:e.substring(t.start,t.start+t.length),ooc:!0}),a=t.start+t.length;const s=e.substring(a);""!==s&&i.push({text:s,ooc:!1});let u="";for(const e of i)e.ooc?u+=e.text:u+=e.text.replace(/\b\w+\b/g,e=>{if(Math.random()>o)return e;const a=(0===n.length&&(n=t.concat(t),n=(0,r.ShuffleArray)(n)),null!==(i=n.pop())&&void 0!==i?i:"");var i;return/^[A-Z]+$/.test(e)&&e.length>1?a.toLocaleUpperCase():/^[A-Z].*$/.test(e)?a.substring(0,1).toLocaleUpperCase()+a.substring(1):a});return u}},"./src/util/registerModules.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{RegisterModules:()=>P,modules:()=>p,settings:()=>f});var r=o("./src/util/storage.ts"),n=o("./src/modules/dataSync.ts"),a=o("./src/modules/settings.ts"),i=o("./src/modules/activities.ts"),l=o("./src/modules/clicker.ts"),s=o("./src/modules/virtualPet.ts"),u=o("./src/modules/virtualPetHUD.ts"),c=o("./src/modules/virtualPetConditions.ts"),d=o("./src/modules/profile.ts"),m=o("./src/modules/settingsOthers.ts"),h=o("./src/modules/authority.ts"),v=o("./src/modules/private.ts");let g=!1;const p=[new n.DataSyncModule,new a.SettingsModule,new i.ActivitiesModule,new l.ClickerModule,new s.VirtualPetModule,new u.VirtualPetHUDModule,new c.VirtualPetConditionsModule,new d.ProfileModule,new m.SettingsOtherModule,new h.AuthorityModule,new v.PrivateModule],f={};async function P(){g||(p.forEach(e=>{const t=e.Settings,o={};t.forEach(e=>{o[e.name]=e}),0!==Object.keys(o).length&&(f[e.Title]=o)}),await(0,r.LoadStorage)(),p.forEach(e=>{e.Load()}),g=!0)}},"./src/util/sdk.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{AwaitInChatRoom:()=>d,AwaitPlayer:()=>c,HookFunction:()=>s,RemoveHooks:()=>u,Sleep:()=>m,bcxAPI:()=>h,bcxFound:()=>v,modAPI:()=>l});var r=o("./node_modules/bondage-club-mod-sdk/dist/bcmodsdk.js"),n=o.n(r),a=o("./src/util/constants.ts");const i=[],l=n().registerMod({name:a.MPA_NAME,version:a.MPA_VERSION,fullName:"Maya's Petplay Additions",repository:a.MPA_REPO},{allowReplace:!1});function s(e,t,o,r){const n=l.hookFunction(t,o,r);return i.push({functionName:t,priority:o,hook:r,module:e,removeHook:n}),n}function u(e){for(let t=i.length-1;0<=t;t--)i[t].module===e&&(i[t].removeHook(),i.splice(t,1))}async function c(){if(!(null===Player||void 0===Player?void 0:Player.MemberNumber)||!(null===Player||void 0===Player?void 0:Player.ExtensionSettings))return new Promise(e=>{const t=l.hookFunction("LoginResponse",0,(o,r)=>{r(o),t(),setTimeout(e,1e3)})})}async function d(){if(!(ChatRoomCharacter.length>1))return new Promise(e=>{const t=l.hookFunction("ChatRoomSync",100,(o,r)=>{r(o),t(),e()})})}function m(e){return new Promise(t=>setTimeout(t,e))}function h(){var e;return null===(e=window.bcx)||void 0===e?void 0:e.getModApi(a.MPA_NAME)}function v(){return!!window.bcx}},"./src/util/settingTypes.ts":(e,t,o)=>{"use strict";function r(e){return"string"==typeof e.name&&["checkbox","option","text","number","record","custom"].includes(e.type)&&void 0!==e.value}function n(e){return r(e)&&"function"==typeof e.active&&"string"==typeof e.label}function a(e){return n(e)&&"checkbox"===e.type&&"boolean"==typeof e.value}function i(e){return n(e)&&"option"===e.type&&"string"==typeof e.value&&Array.isArray(e.options)&&"boolean"==typeof e.loop}function l(e){return n(e)&&"text"===e.type&&"string"==typeof e.value&&("number"==typeof e.width||null===e.width)&&("number"==typeof e.maxChars||null===e.maxChars)}function s(e){return n(e)&&"number"===e.type&&"number"==typeof e.value&&("number"==typeof e.width||null===e.width)&&"number"==typeof e.min&&"number"==typeof e.max&&("number"==typeof e.step||null===e.step)}function u(e){return n(e)&&"custom"===e.type&&"function"==typeof e.OnClick&&"function"==typeof e.OnExit&&"function"==typeof e.OnLoad&&"function"==typeof e.OnRun}o.r(t),o.d(t,{IsCheckboxSetting:()=>a,IsCustomSetting:()=>u,IsDisplaySetting:()=>n,IsNumberSetting:()=>s,IsOptionSetting:()=>i,IsSetting:()=>r,IsTextSetting:()=>l})},"./src/util/storage.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ExportSettingsToClipboard:()=>b,ImportSettingsFromClipboard:()=>C,LoadStorage:()=>f,ResetStorage:()=>y,SaveStorage:()=>P});var r=o("./src/localization/localization.ts"),n=o("./src/util/registerModules.ts"),a=o("./src/util/sdk.ts"),i=o("./src/modules/dataSync.ts"),l=o("./src/modules/_module.ts"),s=o("./src/util/constants.ts"),u=o("./src/modules/virtualPet.ts"),c=o("./src/util/messaging.ts");const d="https://raw.githubusercontent.com/MayaTheFoxy/MPA/refs/heads/main/CHANGELOG.md",m="https://raw.githubusercontent.com/MayaTheFoxy/MPA/refs/heads/dev/CHANGELOG.md",h="https://github.com/MayaTheFoxy/MPA/blob/main/CHANGELOG.md",v="https://github.com/MayaTheFoxy/MPA/blob/dev/CHANGELOG.md",g=/^\d+\.\d+\.\d+$/;function p(e){var t;if(e.version!==s.MPA_VERSION){const o=g.test(s.MPA_VERSION);ServerAccountBeep({MemberNumber:null!==(t=Player.MemberNumber)&&void 0!==t?t:-1,MemberName:(0,r.LocalizedText)("MPA"),ChatRoomSpace:"X",ChatRoomName:(0,r.LocalizedText)("MPA Updated"),Private:!1,BeepType:"",Message:`MPA has been updated. See the changelog here:\n${o?h:v}`}),e.version=s.MPA_VERSION,P(!1),async function(){const e=g.test(s.MPA_VERSION),t=e?d:m;try{const o=await fetch(t);o.ok||console.warn(`MPA: Failed to fetch CHANGELOG.md: ${o.statusText}`);const r=await o.text(),n=/# (\d+\.\d+\.\d+(?:\.\d+)?)+\n([\s\S]*?)(?=\n# |$)/.exec(r);if(n&&n[1]===s.MPA_VERSION){const t=n[2].trim();for(;;)if(await(0,a.AwaitInChatRoom)(),await(0,a.Sleep)(100),ChatRoomCharacter.length>0){(0,c.NotifyPlayer)(`<b style='text-align:center;width:100%;display:block'>MPA Updated</b>\nCurrent MPA Version: ${s.MPA_VERSION}\nChanges from previous version:\n${t}\n<a href="${e?h:v}" target="_blank">See Full Changelog</a>`);break}return}console.warn("MPA: Could not get the latest MPA Changelogs")}catch(e){console.error(`Error: ${e}`)}}()}}async function f(){var e,t,o,r,i;await(0,a.AwaitPlayer)();const s=null!==(r=JSON.parse(null!==(o=LZString.decompressFromBase64(null!==(t=null===(e=Player.ExtensionSettings)||void 0===e?void 0:e.MPA)&&void 0!==t?t:""))&&void 0!==o?o:"{}"))&&void 0!==r?r:{};Object.entries(n.settings).forEach(e=>{var t,o,r,a,i,l,u,c,d;const[m,h]=e;for(const[e,v]of Object.entries(h))m in s||(s[m]={}),e in s[m]?("checkbox"===(null===(o=null===(t=null===n.settings||void 0===n.settings?void 0:n.settings[m])||void 0===t?void 0:t[e])||void 0===o?void 0:o.type)&&"boolean"!=typeof s[m][e]||"number"===(null===(a=null===(r=null===n.settings||void 0===n.settings?void 0:n.settings[m])||void 0===r?void 0:r[e])||void 0===a?void 0:a.type)&&isNaN(s[m][e])||"options"in(null!==(l=null===(i=null===n.settings||void 0===n.settings?void 0:n.settings[m])||void 0===i?void 0:i[e])&&void 0!==l?l:{})&&!(null!==(d=null===(c=null===(u=null===n.settings||void 0===n.settings?void 0:n.settings[m])||void 0===u?void 0:u[e])||void 0===c?void 0:c.options)&&void 0!==d?d:[]).includes(s[m][e]))&&(s[m][e]=v.value,console.warn(`MPA: Invalid setting of "${s[m][e]}" at ${m}->${e}, resetting to default`)):s[m][e]=v.value}),0===s[l.ModuleTitle.Authority].newOwners.owners.length&&""!==s[l.ModuleTitle.Authority].owners&&(s[l.ModuleTitle.Authority].newOwners.owners=(null!==(i=s[l.ModuleTitle.Authority].owners)&&void 0!==i?i:"").split(",").map(e=>Number(e))),p(s),Player.MPA=s}function P(e=!0){Player.MPA&&Player.ExtensionSettings&&(Player.MPA[l.ModuleTitle.Authority].newOwners.owners=Player.MPA[l.ModuleTitle.Authority].newOwners.owners.filter(e=>Number(e)!==Player.MemberNumber),Player.ExtensionSettings.MPA=LZString.compressToBase64(JSON.stringify(Player.MPA)),ServerPlayerExtensionSettingsSync("MPA"),e&&(0,i.SettingSync)(!1))}async function y(){delete Player.ExtensionSettings.MPA,Player.ExtensionSettings.MPA=LZString.compressToBase64(JSON.stringify({version:s.MPA_VERSION})),await f(),P()}async function b(){return navigator.clipboard.writeText(LZString.compressToBase64(JSON.stringify(Player.MPA)))}async function C(){return new Promise((e,t)=>{navigator.clipboard.readText().then(o=>{var r;try{const e=JSON.parse(null!==(r=LZString.decompressFromBase64(null!=o?o:""))&&void 0!==r?r:"{}"),t=JSON.parse(JSON.stringify(Player.MPA));t[l.ModuleTitle.VirtualPet].levels.lastUpdated=Date.now(),t[l.ModuleTitle.VirtualPet].levels.lastOnline=Date.now();for(const o in e)void 0!==e[o]&&(t[o]=e[o]);t[l.ModuleTitle.VirtualPet].levels.lastUpdated=Date.now()-(t[l.ModuleTitle.VirtualPet].levels.lastOnline-t[l.ModuleTitle.VirtualPet].levels.lastUpdated),t[l.ModuleTitle.VirtualPet].levels.lastOnline=Date.now(),Player.MPA=t,(0,u.LevelSync)(!1,!1,!1),P(!0)}catch(e){return console.warn(e),t()}return e()},()=>t())})}}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,o),a.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var n=r.length-1;n>-1&&(!e||!/^http(s?):/.test(e));)e=r[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})();var r={};(()=>{"use strict";o.r(r);var e=o("./src/util/registerModules.ts"),t=o("./src/commands/buildAllCommands.ts"),n=o("./src/util/constants.ts");console.log("Loading Maya's Petplay Additions"),(0,t.BuildAllCommands)(),(0,e.RegisterModules)(),window.MPA={version:n.MPA_VERSION,menuLoaded:!1}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFBTSxDQUNUdkQsUUFBUyxFQUFBODNCLFlBQ1Q1YSxZQUFZLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tcGEvLi9ub2RlX21vZHVsZXMvYm9uZGFnZS1jbHViLW1vZC1zZGsvZGlzdC9iY21vZHNkay5qcyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvY29tbWFuZHMvYmVkLnRzIiwid2VicGFjazovL21wYS8uL3NyYy9jb21tYW5kcy9ib3dsLnRzIiwid2VicGFjazovL21wYS8uL3NyYy9jb21tYW5kcy9idWlsZEFsbENvbW1hbmRzLnRzIiwid2VicGFjazovL21wYS8uL3NyYy9sb2NhbGl6YXRpb24vbG9jYWxpemF0aW9uLnRzIiwid2VicGFjazovL21wYS8uL3NyYy9tb2R1bGVzL19tb2R1bGUudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL21vZHVsZXMvYWN0aXZpdGllcy50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvbW9kdWxlcy9hdXRob3JpdHkudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL21vZHVsZXMvY2xpY2tlci50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvbW9kdWxlcy9kYXRhU3luYy50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvbW9kdWxlcy9wcml2YXRlLnRzIiwid2VicGFjazovL21wYS8uL3NyYy9tb2R1bGVzL3Byb2ZpbGUudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL21vZHVsZXMvc2V0dGluZ3MudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL21vZHVsZXMvc2V0dGluZ3NPdGhlcnMudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL21vZHVsZXMvdmlydHVhbFBldC50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvbW9kdWxlcy92aXJ0dWFsUGV0Q29uZGl0aW9ucy50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvbW9kdWxlcy92aXJ0dWFsUGV0SFVELnRzIiwid2VicGFjazovL21wYS8uL3NyYy9zZXR0aW5ncy9vd25lcnMudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL3V0aWwvYWN0aXZpdGllcy50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvdXRpbC9hdXRob3JpdHkudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL3V0aWwvY2hhdHJvb20udHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL3V0aWwvY29uc3RhbnRzLnRzIiwid2VicGFjazovL21wYS8uL3NyYy91dGlsL2dlbmVyYWwudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL3V0aWwvbWVzc2FnaW5nLnRzIiwid2VicGFjazovL21wYS8uL3NyYy91dGlsL3BldEhlYXJBbmRTcGVhay50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvdXRpbC9yZWdpc3Rlck1vZHVsZXMudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL3V0aWwvc2RrLnRzIiwid2VicGFjazovL21wYS8uL3NyYy91dGlsL3NldHRpbmdUeXBlcy50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvdXRpbC9zdG9yYWdlLnRzIiwid2VicGFjazovL21wYS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9tcGEvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vbXBhL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9tcGEvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly9tcGEvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9tcGEvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9tcGEvd2VicGFjay9ydW50aW1lL3B1YmxpY1BhdGgiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEJvbmRhZ2UgQ2x1YiBNb2QgRGV2ZWxvcG1lbnQgS2l0ICgxLjIuMClcbi8vIEZvciBtb3JlIGluZm8gc2VlOiBodHRwczovL2dpdGh1Yi5jb20vSm9tc2hpcjk4L2JvbmRhZ2UtY2x1Yi1tb2Qtc2RrXG4vKiogQHR5cGUge01vZFNES0dsb2JhbEFQSX0gKi9cbnZhciBiY01vZFNkaz1mdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2NvbnN0IG89XCIxLjIuMFwiO2Z1bmN0aW9uIGUobyl7YWxlcnQoXCJNb2QgRVJST1I6XFxuXCIrbyk7Y29uc3QgZT1uZXcgRXJyb3Iobyk7dGhyb3cgY29uc29sZS5lcnJvcihlKSxlfWNvbnN0IHQ9bmV3IFRleHRFbmNvZGVyO2Z1bmN0aW9uIG4obyl7cmV0dXJuISFvJiZcIm9iamVjdFwiPT10eXBlb2YgbyYmIUFycmF5LmlzQXJyYXkobyl9ZnVuY3Rpb24gcihvKXtjb25zdCBlPW5ldyBTZXQ7cmV0dXJuIG8uZmlsdGVyKChvPT4hZS5oYXMobykmJmUuYWRkKG8pKSl9Y29uc3QgaT1uZXcgTWFwLGE9bmV3IFNldDtmdW5jdGlvbiBjKG8pe2EuaGFzKG8pfHwoYS5hZGQobyksY29uc29sZS53YXJuKG8pKX1mdW5jdGlvbiBzKG8pe2NvbnN0IGU9W10sdD1uZXcgTWFwLG49bmV3IFNldDtmb3IoY29uc3QgciBvZiBmLnZhbHVlcygpKXtjb25zdCBpPXIucGF0Y2hpbmcuZ2V0KG8ubmFtZSk7aWYoaSl7ZS5wdXNoKC4uLmkuaG9va3MpO2Zvcihjb25zdFtlLGFdb2YgaS5wYXRjaGVzLmVudHJpZXMoKSl0LmhhcyhlKSYmdC5nZXQoZSkhPT1hJiZjKGBNb2RTREs6IE1vZCAnJHtyLm5hbWV9JyBpcyBwYXRjaGluZyBmdW5jdGlvbiAke28ubmFtZX0gd2l0aCBzYW1lIHBhdHRlcm4gdGhhdCBpcyBhbHJlYWR5IGFwcGxpZWQgYnkgZGlmZmVyZW50IG1vZCwgYnV0IHdpdGggZGlmZmVyZW50IHBhdHRlcm46XFxuUGF0dGVybjpcXG4ke2V9XFxuUGF0Y2gxOlxcbiR7dC5nZXQoZSl8fFwiXCJ9XFxuUGF0Y2gyOlxcbiR7YX1gKSx0LnNldChlLGEpLG4uYWRkKHIubmFtZSl9fWUuc29ydCgoKG8sZSk9PmUucHJpb3JpdHktby5wcmlvcml0eSkpO2NvbnN0IHI9ZnVuY3Rpb24obyxlKXtpZigwPT09ZS5zaXplKXJldHVybiBvO2xldCB0PW8udG9TdHJpbmcoKS5yZXBsYWNlQWxsKFwiXFxyXFxuXCIsXCJcXG5cIik7Zm9yKGNvbnN0W24scl1vZiBlLmVudHJpZXMoKSl0LmluY2x1ZGVzKG4pfHxjKGBNb2RTREs6IFBhdGNoaW5nICR7by5uYW1lfTogUGF0Y2ggJHtufSBub3QgYXBwbGllZGApLHQ9dC5yZXBsYWNlQWxsKG4scik7cmV0dXJuKDAsZXZhbCkoYCgke3R9KWApfShvLm9yaWdpbmFsLHQpO2xldCBpPWZ1bmN0aW9uKGUpe3ZhciB0LGk7Y29uc3QgYT1udWxsPT09KGk9KHQ9bS5lcnJvclJlcG9ydGVySG9va3MpLmhvb2tDaGFpbkV4aXQpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmNhbGwodCxvLm5hbWUsbiksYz1yLmFwcGx5KHRoaXMsZSk7cmV0dXJuIG51bGw9PWF8fGEoKSxjfTtmb3IobGV0IHQ9ZS5sZW5ndGgtMTt0Pj0wO3QtLSl7Y29uc3Qgbj1lW3RdLHI9aTtpPWZ1bmN0aW9uKGUpe3ZhciB0LGk7Y29uc3QgYT1udWxsPT09KGk9KHQ9bS5lcnJvclJlcG9ydGVySG9va3MpLmhvb2tFbnRlcil8fHZvaWQgMD09PWk/dm9pZCAwOmkuY2FsbCh0LG8ubmFtZSxuLm1vZCksYz1uLmhvb2suYXBwbHkodGhpcyxbZSxvPT57aWYoMSE9PWFyZ3VtZW50cy5sZW5ndGh8fCFBcnJheS5pc0FycmF5KGUpKXRocm93IG5ldyBFcnJvcihgTW9kICR7bi5tb2R9IGZhaWxlZCB0byBjYWxsIG5leHQgaG9vazogRXhwZWN0ZWQgYXJncyB0byBiZSBhcnJheSwgZ290ICR7dHlwZW9mIG99YCk7cmV0dXJuIHIuY2FsbCh0aGlzLG8pfV0pO3JldHVybiBudWxsPT1hfHxhKCksY319cmV0dXJue2hvb2tzOmUscGF0Y2hlczp0LHBhdGNoZXNTb3VyY2VzOm4sZW50ZXI6aSxmaW5hbDpyfX1mdW5jdGlvbiBsKG8sZT0hMSl7bGV0IHI9aS5nZXQobyk7aWYocillJiYoci5wcmVjb21wdXRlZD1zKHIpKTtlbHNle2xldCBlPXdpbmRvdztjb25zdCBhPW8uc3BsaXQoXCIuXCIpO2ZvcihsZXQgdD0wO3Q8YS5sZW5ndGgtMTt0KyspaWYoZT1lW2FbdF1dLCFuKGUpKXRocm93IG5ldyBFcnJvcihgTW9kU0RLOiBGdW5jdGlvbiAke299IHRvIGJlIHBhdGNoZWQgbm90IGZvdW5kOyAke2Euc2xpY2UoMCx0KzEpLmpvaW4oXCIuXCIpfSBpcyBub3Qgb2JqZWN0YCk7Y29uc3QgYz1lW2FbYS5sZW5ndGgtMV1dO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGMpdGhyb3cgbmV3IEVycm9yKGBNb2RTREs6IEZ1bmN0aW9uICR7b30gdG8gYmUgcGF0Y2hlZCBub3QgZm91bmRgKTtjb25zdCBsPWZ1bmN0aW9uKG8pe2xldCBlPS0xO2Zvcihjb25zdCBuIG9mIHQuZW5jb2RlKG8pKXtsZXQgbz0yNTUmKGVebik7Zm9yKGxldCBlPTA7ZTw4O2UrKylvPTEmbz8tMzA2Njc0OTEyXm8+Pj4xOm8+Pj4xO2U9ZT4+Pjheb31yZXR1cm4oKC0xXmUpPj4+MCkudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDgsXCIwXCIpLnRvVXBwZXJDYXNlKCl9KGMudG9TdHJpbmcoKS5yZXBsYWNlQWxsKFwiXFxyXFxuXCIsXCJcXG5cIikpLGQ9e25hbWU6byxvcmlnaW5hbDpjLG9yaWdpbmFsSGFzaDpsfTtyPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxkKSx7cHJlY29tcHV0ZWQ6cyhkKSxyb3V0ZXI6KCk9Pnt9LGNvbnRleHQ6ZSxjb250ZXh0UHJvcGVydHk6YVthLmxlbmd0aC0xXX0pLHIucm91dGVyPWZ1bmN0aW9uKG8pe3JldHVybiBmdW5jdGlvbiguLi5lKXtyZXR1cm4gby5wcmVjb21wdXRlZC5lbnRlci5hcHBseSh0aGlzLFtlXSl9fShyKSxpLnNldChvLHIpLGVbci5jb250ZXh0UHJvcGVydHldPXIucm91dGVyfXJldHVybiByfWZ1bmN0aW9uIGQoKXtmb3IoY29uc3QgbyBvZiBpLnZhbHVlcygpKW8ucHJlY29tcHV0ZWQ9cyhvKX1mdW5jdGlvbiBwKCl7Y29uc3Qgbz1uZXcgTWFwO2Zvcihjb25zdFtlLHRdb2YgaSlvLnNldChlLHtuYW1lOmUsb3JpZ2luYWw6dC5vcmlnaW5hbCxvcmlnaW5hbEhhc2g6dC5vcmlnaW5hbEhhc2gsc2RrRW50cnlwb2ludDp0LnJvdXRlcixjdXJyZW50RW50cnlwb2ludDp0LmNvbnRleHRbdC5jb250ZXh0UHJvcGVydHldLGhvb2tlZEJ5TW9kczpyKHQucHJlY29tcHV0ZWQuaG9va3MubWFwKChvPT5vLm1vZCkpKSxwYXRjaGVkQnlNb2RzOkFycmF5LmZyb20odC5wcmVjb21wdXRlZC5wYXRjaGVzU291cmNlcyl9KTtyZXR1cm4gb31jb25zdCBmPW5ldyBNYXA7ZnVuY3Rpb24gdShvKXtmLmdldChvLm5hbWUpIT09byYmZShgRmFpbGVkIHRvIHVubG9hZCBtb2QgJyR7by5uYW1lfSc6IE5vdCByZWdpc3RlcmVkYCksZi5kZWxldGUoby5uYW1lKSxvLmxvYWRlZD0hMSxkKCl9ZnVuY3Rpb24gZyhvLHQpe28mJlwib2JqZWN0XCI9PXR5cGVvZiBvfHxlKFwiRmFpbGVkIHRvIHJlZ2lzdGVyIG1vZDogRXhwZWN0ZWQgaW5mbyBvYmplY3QsIGdvdCBcIit0eXBlb2YgbyksXCJzdHJpbmdcIj09dHlwZW9mIG8ubmFtZSYmby5uYW1lfHxlKFwiRmFpbGVkIHRvIHJlZ2lzdGVyIG1vZDogRXhwZWN0ZWQgbmFtZSB0byBiZSBub24tZW1wdHkgc3RyaW5nLCBnb3QgXCIrdHlwZW9mIG8ubmFtZSk7bGV0IHI9YCcke28ubmFtZX0nYDtcInN0cmluZ1wiPT10eXBlb2Ygby5mdWxsTmFtZSYmby5mdWxsTmFtZXx8ZShgRmFpbGVkIHRvIHJlZ2lzdGVyIG1vZCAke3J9OiBFeHBlY3RlZCBmdWxsTmFtZSB0byBiZSBub24tZW1wdHkgc3RyaW5nLCBnb3QgJHt0eXBlb2Ygby5mdWxsTmFtZX1gKSxyPWAnJHtvLmZ1bGxOYW1lfSAoJHtvLm5hbWV9KSdgLFwic3RyaW5nXCIhPXR5cGVvZiBvLnZlcnNpb24mJmUoYEZhaWxlZCB0byByZWdpc3RlciBtb2QgJHtyfTogRXhwZWN0ZWQgdmVyc2lvbiB0byBiZSBzdHJpbmcsIGdvdCAke3R5cGVvZiBvLnZlcnNpb259YCksby5yZXBvc2l0b3J5fHwoby5yZXBvc2l0b3J5PXZvaWQgMCksdm9pZCAwIT09by5yZXBvc2l0b3J5JiZcInN0cmluZ1wiIT10eXBlb2Ygby5yZXBvc2l0b3J5JiZlKGBGYWlsZWQgdG8gcmVnaXN0ZXIgbW9kICR7cn06IEV4cGVjdGVkIHJlcG9zaXRvcnkgdG8gYmUgdW5kZWZpbmVkIG9yIHN0cmluZywgZ290ICR7dHlwZW9mIG8udmVyc2lvbn1gKSxudWxsPT10JiYodD17fSksdCYmXCJvYmplY3RcIj09dHlwZW9mIHR8fGUoYEZhaWxlZCB0byByZWdpc3RlciBtb2QgJHtyfTogRXhwZWN0ZWQgb3B0aW9ucyB0byBiZSB1bmRlZmluZWQgb3Igb2JqZWN0LCBnb3QgJHt0eXBlb2YgdH1gKTtjb25zdCBpPSEwPT09dC5hbGxvd1JlcGxhY2UsYT1mLmdldChvLm5hbWUpO2EmJihhLmFsbG93UmVwbGFjZSYmaXx8ZShgUmVmdXNpbmcgdG8gbG9hZCBtb2QgJHtyfTogaXQgaXMgYWxyZWFkeSBsb2FkZWQgYW5kIGRvZXNuJ3QgYWxsb3cgYmVpbmcgcmVwbGFjZWQuXFxuV2FzIHRoZSBtb2QgbG9hZGVkIG11bHRpcGxlIHRpbWVzP2ApLHUoYSkpO2NvbnN0IGM9bz0+e2xldCBlPWcucGF0Y2hpbmcuZ2V0KG8ubmFtZSk7cmV0dXJuIGV8fChlPXtob29rczpbXSxwYXRjaGVzOm5ldyBNYXB9LGcucGF0Y2hpbmcuc2V0KG8ubmFtZSxlKSksZX0scz0obyx0KT0+KC4uLm4pPT57dmFyIGksYTtjb25zdCBjPW51bGw9PT0oYT0oaT1tLmVycm9yUmVwb3J0ZXJIb29rcykuYXBpRW5kcG9pbnRFbnRlcil8fHZvaWQgMD09PWE/dm9pZCAwOmEuY2FsbChpLG8sZy5uYW1lKTtnLmxvYWRlZHx8ZShgTW9kICR7cn0gYXR0ZW1wdGVkIHRvIGNhbGwgU0RLIGZ1bmN0aW9uIGFmdGVyIGJlaW5nIHVubG9hZGVkYCk7Y29uc3Qgcz10KC4uLm4pO3JldHVybiBudWxsPT1jfHxjKCksc30scD17dW5sb2FkOnMoXCJ1bmxvYWRcIiwoKCk9PnUoZykpKSxob29rRnVuY3Rpb246cyhcImhvb2tGdW5jdGlvblwiLCgobyx0LG4pPT57XCJzdHJpbmdcIj09dHlwZW9mIG8mJm98fGUoYE1vZCAke3J9IGZhaWxlZCB0byBwYXRjaCBhIGZ1bmN0aW9uOiBFeHBlY3RlZCBmdW5jdGlvbiBuYW1lIHN0cmluZywgZ290ICR7dHlwZW9mIG99YCk7Y29uc3QgaT1sKG8pLGE9YyhpKTtcIm51bWJlclwiIT10eXBlb2YgdCYmZShgTW9kICR7cn0gZmFpbGVkIHRvIGhvb2sgZnVuY3Rpb24gJyR7b30nOiBFeHBlY3RlZCBwcmlvcml0eSBudW1iZXIsIGdvdCAke3R5cGVvZiB0fWApLFwiZnVuY3Rpb25cIiE9dHlwZW9mIG4mJmUoYE1vZCAke3J9IGZhaWxlZCB0byBob29rIGZ1bmN0aW9uICcke299JzogRXhwZWN0ZWQgaG9vayBmdW5jdGlvbiwgZ290ICR7dHlwZW9mIG59YCk7Y29uc3Qgcz17bW9kOmcubmFtZSxwcmlvcml0eTp0LGhvb2s6bn07cmV0dXJuIGEuaG9va3MucHVzaChzKSxkKCksKCk9Pntjb25zdCBvPWEuaG9va3MuaW5kZXhPZihzKTtvPj0wJiYoYS5ob29rcy5zcGxpY2UobywxKSxkKCkpfX0pKSxwYXRjaEZ1bmN0aW9uOnMoXCJwYXRjaEZ1bmN0aW9uXCIsKChvLHQpPT57XCJzdHJpbmdcIj09dHlwZW9mIG8mJm98fGUoYE1vZCAke3J9IGZhaWxlZCB0byBwYXRjaCBhIGZ1bmN0aW9uOiBFeHBlY3RlZCBmdW5jdGlvbiBuYW1lIHN0cmluZywgZ290ICR7dHlwZW9mIG99YCk7Y29uc3QgaT1sKG8pLGE9YyhpKTtuKHQpfHxlKGBNb2QgJHtyfSBmYWlsZWQgdG8gcGF0Y2ggZnVuY3Rpb24gJyR7b30nOiBFeHBlY3RlZCBwYXRjaGVzIG9iamVjdCwgZ290ICR7dHlwZW9mIHR9YCk7Zm9yKGNvbnN0W24saV1vZiBPYmplY3QuZW50cmllcyh0KSlcInN0cmluZ1wiPT10eXBlb2YgaT9hLnBhdGNoZXMuc2V0KG4saSk6bnVsbD09PWk/YS5wYXRjaGVzLmRlbGV0ZShuKTplKGBNb2QgJHtyfSBmYWlsZWQgdG8gcGF0Y2ggZnVuY3Rpb24gJyR7b30nOiBJbnZhbGlkIGZvcm1hdCBvZiBwYXRjaCAnJHtufSdgKTtkKCl9KSkscmVtb3ZlUGF0Y2hlczpzKFwicmVtb3ZlUGF0Y2hlc1wiLChvPT57XCJzdHJpbmdcIj09dHlwZW9mIG8mJm98fGUoYE1vZCAke3J9IGZhaWxlZCB0byBwYXRjaCBhIGZ1bmN0aW9uOiBFeHBlY3RlZCBmdW5jdGlvbiBuYW1lIHN0cmluZywgZ290ICR7dHlwZW9mIG99YCk7Y29uc3QgdD1sKG8pO2ModCkucGF0Y2hlcy5jbGVhcigpLGQoKX0pKSxjYWxsT3JpZ2luYWw6cyhcImNhbGxPcmlnaW5hbFwiLCgobyx0LG4pPT57XCJzdHJpbmdcIj09dHlwZW9mIG8mJm98fGUoYE1vZCAke3J9IGZhaWxlZCB0byBjYWxsIGEgZnVuY3Rpb246IEV4cGVjdGVkIGZ1bmN0aW9uIG5hbWUgc3RyaW5nLCBnb3QgJHt0eXBlb2Ygb31gKTtjb25zdCBpPWwobyk7cmV0dXJuIEFycmF5LmlzQXJyYXkodCl8fGUoYE1vZCAke3J9IGZhaWxlZCB0byBjYWxsIGEgZnVuY3Rpb246IEV4cGVjdGVkIGFyZ3MgYXJyYXksIGdvdCAke3R5cGVvZiB0fWApLGkub3JpZ2luYWwuYXBwbHkobnVsbCE9bj9uOmdsb2JhbFRoaXMsdCl9KSksZ2V0T3JpZ2luYWxIYXNoOnMoXCJnZXRPcmlnaW5hbEhhc2hcIiwobz0+e1wic3RyaW5nXCI9PXR5cGVvZiBvJiZvfHxlKGBNb2QgJHtyfSBmYWlsZWQgdG8gZ2V0IGhhc2g6IEV4cGVjdGVkIGZ1bmN0aW9uIG5hbWUgc3RyaW5nLCBnb3QgJHt0eXBlb2Ygb31gKTtyZXR1cm4gbChvKS5vcmlnaW5hbEhhc2h9KSl9LGc9e25hbWU6by5uYW1lLGZ1bGxOYW1lOm8uZnVsbE5hbWUsdmVyc2lvbjpvLnZlcnNpb24scmVwb3NpdG9yeTpvLnJlcG9zaXRvcnksYWxsb3dSZXBsYWNlOmksYXBpOnAsbG9hZGVkOiEwLHBhdGNoaW5nOm5ldyBNYXB9O3JldHVybiBmLnNldChvLm5hbWUsZyksT2JqZWN0LmZyZWV6ZShwKX1mdW5jdGlvbiBoKCl7Y29uc3Qgbz1bXTtmb3IoY29uc3QgZSBvZiBmLnZhbHVlcygpKW8ucHVzaCh7bmFtZTplLm5hbWUsZnVsbE5hbWU6ZS5mdWxsTmFtZSx2ZXJzaW9uOmUudmVyc2lvbixyZXBvc2l0b3J5OmUucmVwb3NpdG9yeX0pO3JldHVybiBvfWxldCBtO2NvbnN0IHk9dm9pZCAwPT09d2luZG93LmJjTW9kU2RrP3dpbmRvdy5iY01vZFNkaz1mdW5jdGlvbigpe2NvbnN0IGU9e3ZlcnNpb246byxhcGlWZXJzaW9uOjEscmVnaXN0ZXJNb2Q6ZyxnZXRNb2RzSW5mbzpoLGdldFBhdGNoaW5nSW5mbzpwLGVycm9yUmVwb3J0ZXJIb29rczpPYmplY3Quc2VhbCh7YXBpRW5kcG9pbnRFbnRlcjpudWxsLGhvb2tFbnRlcjpudWxsLGhvb2tDaGFpbkV4aXQ6bnVsbH0pfTtyZXR1cm4gbT1lLE9iamVjdC5mcmVlemUoZSl9KCk6KG4od2luZG93LmJjTW9kU2RrKXx8ZShcIkZhaWxlZCB0byBpbml0IE1vZCBTREs6IE5hbWUgYWxyZWFkeSBpbiB1c2VcIiksMSE9PXdpbmRvdy5iY01vZFNkay5hcGlWZXJzaW9uJiZlKGBGYWlsZWQgdG8gaW5pdCBNb2QgU0RLOiBEaWZmZXJlbnQgdmVyc2lvbiBhbHJlYWR5IGxvYWRlZCAoJzEuMi4wJyB2cyAnJHt3aW5kb3cuYmNNb2RTZGsudmVyc2lvbn0nKWApLHdpbmRvdy5iY01vZFNkay52ZXJzaW9uIT09byYmYWxlcnQoYE1vZCBTREsgd2FybmluZzogTG9hZGluZyBkaWZmZXJlbnQgYnV0IGNvbXBhdGlibGUgdmVyc2lvbnMgKCcxLjIuMCcgdnMgJyR7d2luZG93LmJjTW9kU2RrLnZlcnNpb259JylcXG5PbmUgb2YgbW9kcyB5b3UgYXJlIHVzaW5nIGlzIHVzaW5nIGFuIG9sZCB2ZXJzaW9uIG9mIFNESy4gSXQgd2lsbCB3b3JrIGZvciBub3cgYnV0IHBsZWFzZSBpbmZvcm0gYXV0aG9yIHRvIHVwZGF0ZWApLHdpbmRvdy5iY01vZFNkayk7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGV4cG9ydHMmJihPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLmRlZmF1bHQ9eSkseX0oKTtcbiIsImltcG9ydCB7IFNhdmVTdG9yYWdlIH0gZnJvbSBcIi4uL3V0aWwvc3RvcmFnZVwiO1xuaW1wb3J0IHsgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9fbW9kdWxlXCI7XG5pbXBvcnQgeyBBTExfQkVEUyB9IGZyb20gXCIuLi91dGlsL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgRmluZENoYXJhY3RlckluUm9vbSwgR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5LCBNUEFOb3RpZnlQbGF5ZXIsIE5vdGlmeVBsYXllciwgU2VuZEFjdGlvbiB9IGZyb20gXCIuLi91dGlsL21lc3NhZ2luZ1wiO1xuaW1wb3J0IHsgSG9va0Z1bmN0aW9uIH0gZnJvbSBcIi4uL3V0aWwvc2RrXCI7XG5cbmNvbnN0IEJFRF9TRUxGX1RFWFQgPSBcIlNvdXJjZUNoYXJhY3RlciBjcmF3bHMgaW50byBQcm9ub3VuUG9zc2Vzc2l2ZSBiZWQuXCI7XG5jb25zdCBCRURfT1RIRVJfVEVYVCA9IFwiU291cmNlQ2hhcmFjdGVyIHR1Y2tzIFRhcmdldENoYXJhY3RlciBpbnRvIGJlZC5cIjtcblxuZnVuY3Rpb24gSXNCZWQoYmVkOiBhbnkpOiBib29sZWFuXG57XG4gICAgLy8gSW52YWxpZCBjcmFmdCA9IHNraXBcbiAgICByZXR1cm4gT2JqZWN0LmtleXMoYmVkKS5sZW5ndGggPiAwXG4gICAgICAmJiBDcmFmdGluZ1ZhbGlkYXRlKGJlZCkgPT09IENyYWZ0aW5nU3RhdHVzVHlwZS5PS1xuICAgICAgJiYgKEFMTF9CRURTLmluY2x1ZGVzKGJlZC5JdGVtKVxuICAgICAgICB8fCBiZWQ/Lk5hbWU/LnRvTG9jYWxlTG93ZXJDYXNlKCk/LmluY2x1ZGVzKFwiYmVkXCIpKTtcbn1cblxuLyoqXG4gKiBEaXNwbGF5IHRoZSBiZWQgdGV4dFxuICovXG5mdW5jdGlvbiBHaXZlQmVkVGV4dChjaGFyYWN0ZXI6IENoYXJhY3RlciA9IFBsYXllcik6IHZvaWRcbntcbiAgICBpZiAoY2hhcmFjdGVyLk1lbWJlck51bWJlciA9PT0gUGxheWVyLk1lbWJlck51bWJlcilcbiAgICB7XG4gICAgICAgIFNlbmRBY3Rpb24oXG4gICAgICAgICAgICBCRURfU0VMRl9URVhULFxuICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgW3sgU291cmNlQ2hhcmFjdGVyOiBQbGF5ZXIuTWVtYmVyTnVtYmVyIH0gYXMgU291cmNlQ2hhcmFjdGVyRGljdGlvbmFyeUVudHJ5XVxuICAgICAgICApO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICBTZW5kQWN0aW9uKFxuICAgICAgICAgICAgQkVEX09USEVSX1RFWFQsXG4gICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICBbeyBTb3VyY2VDaGFyYWN0ZXI6IFBsYXllci5NZW1iZXJOdW1iZXIgfSBhcyBTb3VyY2VDaGFyYWN0ZXJEaWN0aW9uYXJ5RW50cnksXG4gICAgICAgICAgICAgICAgeyBUYXJnZXRDaGFyYWN0ZXI6IGNoYXJhY3Rlci5NZW1iZXJOdW1iZXIgfSBhcyBUYXJnZXRDaGFyYWN0ZXJEaWN0aW9uYXJ5RW50cnldXG4gICAgICAgICk7XG4gICAgfVxufVxuXG4vKipcbiAqIFVzZSBhIGJlZCBvbiB5b3Vyc2VsZlxuICovXG5mdW5jdGlvbiBVc2VCZWQoKTogdm9pZFxue1xuICAgIGlmIChJbnZlbnRvcnlHZXQoUGxheWVyLCBcIkl0ZW1EZXZpY2VzXCIpXG4gICAgICB8fCBJbnZlbnRvcnlHcm91cElzQmxvY2tlZEZvckNoYXJhY3RlcihQbGF5ZXIsIFwiSXRlbURldmljZXNcIikpXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgc2F2ZWRCZWQgPSBKU09OLnBhcnNlKExaU3RyaW5nLmRlY29tcHJlc3NGcm9tQmFzZTY0KFBsYXllci5NUEFbTW9kdWxlVGl0bGUuUHJpdmF0ZV0uc2F2ZWRCZWQgfHwgXCJcIikgfHwgXCJ7fVwiKSB8fCB7fTtcbiAgICBpZiAoSXNCZWQoc2F2ZWRCZWQpKVxuICAgIHtcbiAgICAgICAgSW52ZW50b3J5V2VhcihcbiAgICAgICAgICAgIFBsYXllcixcbiAgICAgICAgICAgIHNhdmVkQmVkLkl0ZW0sXG4gICAgICAgICAgICBcIkl0ZW1EZXZpY2VzXCIsXG4gICAgICAgICAgICBzYXZlZEJlZC5Db2xvci5zcGxpdChcIixcIiksXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgUGxheWVyLk1lbWJlck51bWJlcixcbiAgICAgICAgICAgIHNhdmVkQmVkLFxuICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgY29uc3QgaGFpckNvbG9yID0gSW52ZW50b3J5R2V0KFBsYXllciwgXCJIYWlyRnJvbnRcIik/LkNvbG9yIGFzIEl0ZW1Db2xvcjtcbiAgICAgICAgSW52ZW50b3J5V2VhcihcbiAgICAgICAgICAgIFBsYXllcixcbiAgICAgICAgICAgIFwiUGV0QmVkXCIsXG4gICAgICAgICAgICBcIkl0ZW1EZXZpY2VzXCIsXG4gICAgICAgICAgICBbaGFpckNvbG9yWzBdLCBcIkRlZmF1bHRcIiwgaGFpckNvbG9yW2hhaXJDb2xvci5sZW5ndGggLSAxXV0sXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgUGxheWVyLk1lbWJlck51bWJlcixcbiAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICk7XG4gICAgfVxuICAgIENoYXRSb29tQ2hhcmFjdGVyVXBkYXRlKFBsYXllcik7XG59XG5cbi8qKlxuICogR2l2ZSBhIGJlZCB0byBzb21lb25lXG4gKlxuICogQHBhcmFtIGNoYXJhY3RlciAtIFdobyB0byBnaXZlIHRoZSBiZWQgdG9vXG4gKiBAcmV0dXJucyBJZiBiZWQgd2FzIGdpdmVuXG4gKi9cbmZ1bmN0aW9uIEdpdmVCZWQoY2hhcmFjdGVyOiBDaGFyYWN0ZXIgPSBQbGF5ZXIpOiBib29sZWFuXG57XG4gICAgY29uc3QgdW5hYmxlVG9HaXZlQmVkID0gSW52ZW50b3J5R2V0KGNoYXJhY3RlciwgXCJJdGVtRGV2aWNlc1wiKVxuICAgICAgfHwgSW52ZW50b3J5R3JvdXBJc0Jsb2NrZWRGb3JDaGFyYWN0ZXIoY2hhcmFjdGVyLCBcIkl0ZW1EZXZpY2VzXCIpXG4gICAgICB8fCAoY2hhcmFjdGVyLk1lbWJlck51bWJlciAhPT0gUGxheWVyLk1lbWJlck51bWJlciAmJiAhUGxheWVyLkNhbkludGVyYWN0KCkpO1xuXG4gICAgaWYgKGNoYXJhY3Rlci5NZW1iZXJOdW1iZXIgIT09IFBsYXllci5NZW1iZXJOdW1iZXIpXG4gICAge1xuICAgICAgICBpZiAoIVNlcnZlckNoYXRSb29tR2V0QWxsb3dJdGVtKFBsYXllciwgY2hhcmFjdGVyKSlcbiAgICAgICAge1xuICAgICAgICAgICAgTm90aWZ5UGxheWVyKFwiTVBBOiBObyBCQyBpdGVtIHBlcm1pc3Npb25cIiwgMzAwMDApO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY2hhcmFjdGVyLk1QQSlcbiAgICAgICAge1xuICAgICAgICAgICAgTVBBTm90aWZ5UGxheWVyKGAke2NoYXJhY3Rlci5OaWNrbmFtZSB8fCBjaGFyYWN0ZXIuTmFtZX0gZG9lcyBub3QgaGF2ZSBNUEEsIHVuYWJsZSB0byBnaXZlIGJlZGAsIDMwMDAwKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodW5hYmxlVG9HaXZlQmVkKVxuICAgICAgICB7XG4gICAgICAgICAgICBNUEFOb3RpZnlQbGF5ZXIoYFVuYWJsZSB0byB0dWNrICR7Y2hhcmFjdGVyLk5pY2tuYW1lIHx8IGNoYXJhY3Rlci5OYW1lfSBpbnRvIGJlZGAsIDMwMDAwKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBHaXZlQmVkVGV4dChjaGFyYWN0ZXIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAodW5hYmxlVG9HaXZlQmVkKVxuICAgIHtcbiAgICAgICAgTVBBTm90aWZ5UGxheWVyKFwiVW5hYmxlIHRvIGNyYXdsIGludG8gYmVkXCIsIDMwMDAwKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIFVzZUJlZCgpO1xuICAgIEdpdmVCZWRUZXh0KGNoYXJhY3Rlcik7XG4gICAgcmV0dXJuIHRydWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBCZWQoKTogdm9pZFxue1xuICAgIENvbW1hbmRDb21iaW5lKFt7XG4gICAgICAgIFRhZzogXCJiZWRcIixcbiAgICAgICAgRGVzY3JpcHRpb246IFwiWyhvcHRpb25hbCkgQmVkIGV4cG9ydCBjb2RlIE9SIE90aGVyIHBsYXllcl0gQ3Jhd2wgaW50byBiZWQgd2l0aG91dCBuZWVkaW5nIGhhbmRzXCIsXG4gICAgICAgIEFjdGlvbjogKF9hcmdzLCBtc2csIF9wYXJzZWQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIEFyZ3VtZW50IGlzIHBhc3NlZFxuICAgICAgICAgICAgY29uc3QgYXJnID0gKCgvXihcXFMrKVxccyooLiopJC8uZXhlYyhtc2cpKSA/PyBbXCJcIiwgXCJcIiwgXCJcIl0pWzJdO1xuICAgICAgICAgICAgaWYgKGFyZylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGFyID0gRmluZENoYXJhY3RlckluUm9vbShhcmcpO1xuICAgICAgICAgICAgICAgIGlmIChjaGFyKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgR2l2ZUJlZChjaGFyKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciBiZWQgY3JhZnRcbiAgICAgICAgICAgICAgICBjb25zdCBvYmogPSBKU09OLnBhcnNlKExaU3RyaW5nLmRlY29tcHJlc3NGcm9tQmFzZTY0KGFyZykgfHwgXCJ7fVwiKSB8fCB7fTtcbiAgICAgICAgICAgICAgICBpZiAoSXNCZWQob2JqKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFBsYXllci5NUEFbTW9kdWxlVGl0bGUuUHJpdmF0ZV0uc2F2ZWRCZWQgPSBhcmc7XG4gICAgICAgICAgICAgICAgICAgIFNhdmVTdG9yYWdlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgTVBBTm90aWZ5UGxheWVyKFwiQmVkIHNhdmVkXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgTVBBTm90aWZ5UGxheWVyKFwiSW52YWxpZCBhcmd1bWVudCBnaXZlbiFcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBHaXZlQmVkKFBsYXllcik7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIFRhZzogXCJibGFua2V0XCIsXG4gICAgICAgIERlc2NyaXB0aW9uOiBcIlB1bGwgdGhlIGJsYW5rZXQgb3ZlciB5b3Vyc2VsZiAoT25seSB3b3JrcyBvbiBQZXRCZWQpXCIsXG4gICAgICAgIEFjdGlvbjogKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgLy8gYmxhbmt5XG4gICAgICAgICAgICBjb25zdCBiZWQgPSBJbnZlbnRvcnlHZXQoUGxheWVyLCBcIkl0ZW1EZXZpY2VzXCIpO1xuICAgICAgICAgICAgaWYgKGJlZD8uQXNzZXQuTmFtZSAhPT0gXCJQZXRCZWRcIilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBNUEFOb3RpZnlQbGF5ZXIoXCJVbmFibGUgdG8gcHVsbCB0aGUgYmxhbmtldCBvdmVyIHlvdXJzZWxmLlwiLCAyMDAwMCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIShiZWQuUHJvcGVydHk/LlR5cGVSZWNvcmQ/LnR5cGVkID09PSAwIHx8IGJlZC5Qcm9wZXJ0eT8uVHlwZVJlY29yZD8udHlwZWQgPT09IDEpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIE1QQU5vdGlmeVBsYXllcihcIlVuYWJsZSB0byBwdWxsIHRoZSBibGFua2V0IG92ZXIgeW91cnNlbGYuXCIsIDIwMDAwKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIFR5cGVkSXRlbVNldE9wdGlvbkJ5TmFtZShQbGF5ZXIsIFwiSXRlbURldmljZXNcIiwgYCR7YmVkLlByb3BlcnR5LlR5cGVSZWNvcmQudHlwZWQgPT09IDEgPyBcIk5vXCIgOiBcIlwifUJsYW5rZXRgLCB0cnVlLCBQbGF5ZXIsIHRydWUpO1xuXG4gICAgICAgICAgICBpZiAoYmVkLlByb3BlcnR5LlR5cGVSZWNvcmQudHlwZWQgPT09IDEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgU2VuZEFjdGlvbihcbiAgICAgICAgICAgICAgICAgICAgXCJTb3VyY2VDaGFyYWN0ZXIgcHVsbHMgYSBibGFua2V0IG92ZXIgUHJvbm91bk9iamVjdC5cIixcbiAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBbeyBTb3VyY2VDaGFyYWN0ZXI6IFBsYXllci5NZW1iZXJOdW1iZXIgfSBhcyBTb3VyY2VDaGFyYWN0ZXJEaWN0aW9uYXJ5RW50cnldXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBTZW5kQWN0aW9uKFxuICAgICAgICAgICAgICAgICAgICBcIlNvdXJjZUNoYXJhY3RlciByZW1vdmVzIHRoZSBibGFua2V0IGZyb20gb24gdG9wIG9mIFByb25vdW5PYmplY3QuXCIsXG4gICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgW3sgU291cmNlQ2hhcmFjdGVyOiBQbGF5ZXIuTWVtYmVyTnVtYmVyIH0gYXMgU291cmNlQ2hhcmFjdGVyRGljdGlvbmFyeUVudHJ5XVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICBIb29rRnVuY3Rpb24obnVsbCwgXCJDaGF0Um9vbU1lc3NhZ2VcIiwgMTAwLCAoYXJncywgbmV4dCkgPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhcmdzWzBdO1xuICAgICAgICBpZiAoZGF0YS5UeXBlID09PSBcIkFjdGl2aXR5XCJcbiAgICAgICAgICAmJiBkYXRhLkNvbnRlbnQgPT09IFwiTWF5YVNjcmlwdFwiXG4gICAgICAgICAgJiYgR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiVGFyZ2V0Q2hhcmFjdGVyXCIpID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyXG4gICAgICAgICAgJiYgZGF0YS5EaWN0aW9uYXJ5Py5zb21lKFxuICAgICAgICAgICAgICAoY3VycikgPT4gKGN1cnIgYXMgYW55KT8uVGFnID09PSBcIk1JU1NJTkcgQUNUSVZJVFkgREVTQ1JJUFRJT04gRk9SIEtFWVdPUkQgTWF5YVNjcmlwdFwiXG4gICAgICAgICAgICAgICAgJiYgKGN1cnIgYXMgYW55KT8uVGV4dCA9PT0gQkVEX09USEVSX1RFWFRcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgICAge1xuICAgICAgICAgICAgVXNlQmVkKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgfSk7XG59XG4iLCJpbXBvcnQgeyBTYXZlU3RvcmFnZSB9IGZyb20gXCIuLi91dGlsL3N0b3JhZ2VcIjtcbmltcG9ydCB7IE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4uL21vZHVsZXMvX21vZHVsZVwiO1xuaW1wb3J0IHsgRmluZENoYXJhY3RlckluUm9vbSwgR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5LCBNUEFOb3RpZnlQbGF5ZXIsIE5vdGlmeVBsYXllciwgU2VuZEFjdGlvbiB9IGZyb20gXCIuLi91dGlsL21lc3NhZ2luZ1wiO1xuaW1wb3J0IHsgSG9va0Z1bmN0aW9uIH0gZnJvbSBcIi4uL3V0aWwvc2RrXCI7XG5cbmNvbnN0IEJPV0xfU0VMRl9URVhUID0gXCJTb3VyY2VDaGFyYWN0ZXIgbGF5cyBhIGJvd2wgb2YgZm9vZCBhbmQgd2F0ZXIgb24gdGhlIGdyb3VuZCBpbiBmcm9udCBvZiBQcm9ub3VuT2JqZWN0c2VsZi5cIjtcbmNvbnN0IEJPV0xfT1RIRVJfVEVYVCA9IFwiU291cmNlQ2hhcmFjdGVyIGxheXMgYSBib3dsIG9mIGZvb2QgYW5kIHdhdGVyIG9uIHRoZSBncm91bmQgaW4gZnJvbnQgb2YgVGFyZ2V0Q2hhcmFjdGVyLlwiO1xuY29uc3QgQk9XTF9SRUdFWCA9IC9eKD86XFx3fFsgfiEkIyUqK10pKiQvO1xuXG5mdW5jdGlvbiBJc0Jvd2woYm93bDogYW55KTogYm9vbGVhblxue1xuICAgIC8vIEludmFsaWQgY3JhZnQgPSBza2lwXG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKGJvd2wpLmxlbmd0aCA+IDBcbiAgICAgICYmIENyYWZ0aW5nVmFsaWRhdGUoYm93bCkgPT09IENyYWZ0aW5nU3RhdHVzVHlwZS5PS1xuICAgICAgJiYgYm93bD8uSXRlbSA9PSBcIlBldEJvd2xcIjtcbn1cblxuLyoqXG4gKiBEaXNwbGF5IHRoZSBib3dsIHRleHRcbiAqL1xuZnVuY3Rpb24gR2l2ZUJvd2xUZXh0KGNoYXJhY3RlcjogQ2hhcmFjdGVyID0gUGxheWVyKTogdm9pZFxue1xuICAgIGlmIChjaGFyYWN0ZXIuTWVtYmVyTnVtYmVyID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyKVxuICAgIHtcbiAgICAgICAgU2VuZEFjdGlvbihcbiAgICAgICAgICAgIEJPV0xfU0VMRl9URVhULFxuICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgW3sgU291cmNlQ2hhcmFjdGVyOiBQbGF5ZXIuTWVtYmVyTnVtYmVyIH0gYXMgU291cmNlQ2hhcmFjdGVyRGljdGlvbmFyeUVudHJ5XVxuICAgICAgICApO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICBTZW5kQWN0aW9uKFxuICAgICAgICAgICAgQk9XTF9PVEhFUl9URVhULFxuICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgW3sgU291cmNlQ2hhcmFjdGVyOiBQbGF5ZXIuTWVtYmVyTnVtYmVyIH0gYXMgU291cmNlQ2hhcmFjdGVyRGljdGlvbmFyeUVudHJ5LFxuICAgICAgICAgICAgICAgIHsgVGFyZ2V0Q2hhcmFjdGVyOiBjaGFyYWN0ZXIuTWVtYmVyTnVtYmVyIH0gYXMgVGFyZ2V0Q2hhcmFjdGVyRGljdGlvbmFyeUVudHJ5XVxuICAgICAgICApO1xuICAgIH1cbn1cblxuLyoqXG4gKiBVc2UgYSBib3dsIG9uIHlvdXJzZWxmXG4gKi9cbmZ1bmN0aW9uIFVzZUJvd2woKTogdm9pZFxue1xuICAgIGlmIChJbnZlbnRvcnlHZXQoUGxheWVyLCBcIkl0ZW1EZXZpY2VzXCIpXG4gICAgICB8fCBJbnZlbnRvcnlHcm91cElzQmxvY2tlZEZvckNoYXJhY3RlcihQbGF5ZXIsIFwiSXRlbURldmljZXNcIikpXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgc2F2ZWRCb3dsID0gSlNPTi5wYXJzZShMWlN0cmluZy5kZWNvbXByZXNzRnJvbUJhc2U2NChQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLlByaXZhdGVdLnNhdmVkQm93bCB8fCBcIlwiKSB8fCBcInt9XCIpIHx8IHt9O1xuICAgIGlmIChJc0Jvd2woc2F2ZWRCb3dsKSlcbiAgICB7XG4gICAgICAgIChJbnZlbnRvcnlXZWFyKFxuICAgICAgICAgICAgUGxheWVyLFxuICAgICAgICAgICAgc2F2ZWRCb3dsLkl0ZW0sXG4gICAgICAgICAgICBcIkl0ZW1EZXZpY2VzXCIsXG4gICAgICAgICAgICBzYXZlZEJvd2wuQ29sb3Iuc3BsaXQoXCIsXCIpLFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIFBsYXllci5NZW1iZXJOdW1iZXIsXG4gICAgICAgICAgICBzYXZlZEJvd2wsXG4gICAgICAgICAgICBmYWxzZVxuICAgICAgICApIGFzIGFueSkuUHJvcGVydHkgPSBzYXZlZEJvd2wuSXRlbVByb3BlcnR5O1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICBjb25zdCBoYWlyQ29sb3IgPSBJbnZlbnRvcnlHZXQoUGxheWVyLCBcIkhhaXJGcm9udFwiKT8uQ29sb3IgYXMgSXRlbUNvbG9yO1xuICAgICAgICAoSW52ZW50b3J5V2VhcihcbiAgICAgICAgICAgIFBsYXllcixcbiAgICAgICAgICAgIFwiUGV0Qm93bFwiLFxuICAgICAgICAgICAgXCJJdGVtRGV2aWNlc1wiLFxuICAgICAgICAgICAgW2hhaXJDb2xvclswXSwgXCIjMDAwMDAwXCJdLFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIFBsYXllci5NZW1iZXJOdW1iZXIsXG4gICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICBmYWxzZVxuICAgICAgICApIGFzIGFueSkuUHJvcGVydHkgPSB7XG4gICAgICAgICAgICBUZXh0OiAoKFBsYXllci5OaWNrbmFtZSAmJiBCT1dMX1JFR0VYLnRlc3QoUGxheWVyLk5pY2tuYW1lKSkgPyBQbGF5ZXIuTmlja25hbWUgOiBCT1dMX1JFR0VYLnRlc3QoUGxheWVyLk5hbWUpID8gUGxheWVyLk5hbWUgOiBcIlwiKS5zdWJzdHJpbmcoMCwgMTIpXG4gICAgICAgIH07XG4gICAgfVxuICAgIENoYXRSb29tQ2hhcmFjdGVyVXBkYXRlKFBsYXllcik7XG59XG5cbi8qKlxuICogR2l2ZSBhIGJvd2wgdG8gc29tZW9uZVxuICpcbiAqIEBwYXJhbSBjaGFyYWN0ZXIgLSBXaG8gdG8gZ2l2ZSB0aGUgYm93bCB0b29cbiAqIEByZXR1cm5zIElmIGJvd2wgd2FzIGdpdmVuXG4gKi9cbmZ1bmN0aW9uIEdpdmVCb3dsKGNoYXJhY3RlcjogQ2hhcmFjdGVyID0gUGxheWVyKTogYm9vbGVhblxue1xuICAgIGNvbnN0IHVuYWJsZVRvR2l2ZUJvd2wgPSBJbnZlbnRvcnlHZXQoY2hhcmFjdGVyLCBcIkl0ZW1EZXZpY2VzXCIpXG4gICAgICB8fCBJbnZlbnRvcnlHcm91cElzQmxvY2tlZEZvckNoYXJhY3RlcihjaGFyYWN0ZXIsIFwiSXRlbURldmljZXNcIilcbiAgICAgIHx8ICFQbGF5ZXIuQ2FuSW50ZXJhY3QoKTtcblxuICAgIGlmIChjaGFyYWN0ZXIuTWVtYmVyTnVtYmVyICE9PSBQbGF5ZXIuTWVtYmVyTnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKCFTZXJ2ZXJDaGF0Um9vbUdldEFsbG93SXRlbShQbGF5ZXIsIGNoYXJhY3RlcikpXG4gICAgICAgIHtcbiAgICAgICAgICAgIE5vdGlmeVBsYXllcihcIk1QQTogTm8gQkMgaXRlbSBwZXJtaXNzaW9uXCIsIDMwMDAwKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNoYXJhY3Rlci5NUEEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIE1QQU5vdGlmeVBsYXllcihgJHtjaGFyYWN0ZXIuTmlja25hbWUgfHwgY2hhcmFjdGVyLk5hbWV9IGRvZXMgbm90IGhhdmUgTVBBLCB1bmFibGUgdG8gZ2l2ZSBib3dsYCwgMzAwMDApO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1bmFibGVUb0dpdmVCb3dsKVxuICAgICAgICB7XG4gICAgICAgICAgICBNUEFOb3RpZnlQbGF5ZXIoYFVuYWJsZSB0byBnaXZlICR7Y2hhcmFjdGVyLk5pY2tuYW1lIHx8IGNoYXJhY3Rlci5OYW1lfSBhIGJvd2xgLCAzMDAwMCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgR2l2ZUJvd2xUZXh0KGNoYXJhY3Rlcik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmICh1bmFibGVUb0dpdmVCb3dsKVxuICAgIHtcbiAgICAgICAgTVBBTm90aWZ5UGxheWVyKFwiVW5hYmxlIHRvIGdpdmUgYm93bFwiLCAzMDAwMCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBVc2VCb3dsKCk7XG4gICAgR2l2ZUJvd2xUZXh0KGNoYXJhY3Rlcik7XG4gICAgcmV0dXJuIHRydWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBCb3dsKCk6IHZvaWRcbntcbiAgICBDb21tYW5kQ29tYmluZShbe1xuICAgICAgICBUYWc6IFwiYm93bFwiLFxuICAgICAgICBEZXNjcmlwdGlvbjogXCJHaXZlIGJvd2wgdG8gcGV0XCIsXG4gICAgICAgIEFjdGlvbjogKF9hcmdzLCBtc2csIF9wYXJzZWQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIEFyZ3VtZW50IGlzIHBhc3NlZFxuICAgICAgICAgICAgY29uc3QgYXJnID0gKCgvXihcXFMrKVxccyooLiopJC8uZXhlYyhtc2cpKSA/PyBbXCJcIiwgXCJcIiwgXCJcIl0pWzJdO1xuICAgICAgICAgICAgaWYgKGFyZylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGFyID0gRmluZENoYXJhY3RlckluUm9vbShhcmcpO1xuICAgICAgICAgICAgICAgIGlmIChjaGFyKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgR2l2ZUJvd2woY2hhcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgYm93bCBjcmFmdFxuICAgICAgICAgICAgICAgIGNvbnN0IG9iaiA9IEpTT04ucGFyc2UoTFpTdHJpbmcuZGVjb21wcmVzc0Zyb21CYXNlNjQoYXJnKSB8fCBcInt9XCIpIHx8IHt9O1xuICAgICAgICAgICAgICAgIGlmIChJc0Jvd2wob2JqKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFBsYXllci5NUEFbTW9kdWxlVGl0bGUuUHJpdmF0ZV0uc2F2ZWRCb3dsID0gYXJnO1xuICAgICAgICAgICAgICAgICAgICBTYXZlU3RvcmFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIE1QQU5vdGlmeVBsYXllcihcIkJvd2wgc2F2ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBNUEFOb3RpZnlQbGF5ZXIoXCJJbnZhbGlkIGFyZ3VtZW50IGdpdmVuIVwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIEdpdmVCb3dsKFBsYXllcik7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICBIb29rRnVuY3Rpb24obnVsbCwgXCJDaGF0Um9vbU1lc3NhZ2VcIiwgMTAwLCAoYXJncywgbmV4dCkgPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhcmdzWzBdO1xuICAgICAgICBpZiAoZGF0YS5UeXBlID09PSBcIkFjdGl2aXR5XCJcbiAgICAgICAgICAmJiBkYXRhLkNvbnRlbnQgPT09IFwiTWF5YVNjcmlwdFwiXG4gICAgICAgICAgJiYgR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiVGFyZ2V0Q2hhcmFjdGVyXCIpID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyXG4gICAgICAgICAgJiYgZGF0YS5EaWN0aW9uYXJ5Py5zb21lKFxuICAgICAgICAgICAgICAoY3VycikgPT4gKGN1cnIgYXMgYW55KT8uVGFnID09PSBcIk1JU1NJTkcgQUNUSVZJVFkgREVTQ1JJUFRJT04gRk9SIEtFWVdPUkQgTWF5YVNjcmlwdFwiXG4gICAgICAgICAgICAgICAgJiYgKGN1cnIgYXMgYW55KT8uVGV4dCA9PT0gQk9XTF9PVEhFUl9URVhUXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICAgIHtcbiAgICAgICAgICAgIFVzZUJvd2woKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICB9KTtcbn1cbiIsImltcG9ydCB7IEJlZCB9IGZyb20gXCIuL2JlZFwiO1xuaW1wb3J0IHsgQm93bCB9IGZyb20gXCIuL2Jvd2xcIjtcbi8vIGltcG9ydCB7IExvZ0NoYXQgfSBmcm9tIFwiLi9sb2dcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIEJ1aWxkQWxsQ29tbWFuZHMoKTogdm9pZFxue1xuICAgIEJlZCgpO1xuICAgIEJvd2woKTtcbiAgICAvLyBMb2dDaGF0KCk7XG59XG4iLCIvLyBJZiB5b3Ugd2FudCB0byBsb2NhbGl6ZSB0aGlzIGFkZG9uIHRvIHlvdXIgbGFuZ3VhZ2UgZm9yIHlvdXJzZWxmIGFuZCBvdGhlcnMsIGhlcmUgaXMgaG93XG4vLyAxLiBDcmVhdGUgYSBuZXcgZmlsZSBpbiB0aGUgbG9jYWxpemF0aW9uIGRpcmVjdG9yeSBuYW1lZCBbbGFuZ3VhZ2VdLmpzb25cbi8vIDIuIENvcHkgYW5kIHBhc3RlIHRoZSBjb250ZW50cyBvZiB0ZW1wbGF0ZS5qc29uIGludG8geW91ciBuZXcgW2xhbmd1YWdlXS5qc29uIGZpbGUuXG4vLyAyKGFsdCkuIFJ1biB0aGUgY29tbWFuZCBcIm5wbSBydW4gbGFuZ1wiLCB3aWxsIHJlcXVpcmUgbm9kZSB0byBiZSBpbnN0YWxsZWQgYnV0IHdpbGwgcG9wdWxhdGUgdGhlIG5ldyBqc29uIGZpbGUgZm9yIHlvdVxuLy8gMy4gUmVwbGFjZSB0aGUgcmlnaHQoZW1wdHkpIHNpZGUgb2YgdGhlIHRleHQgd2l0aCB0aGUgdHJhbnNsYXRpb24gZnJvbSB0aGUgRW5nbGlzaCBvbiB0aGUgbGVmdC5cbi8vIDNiLiBEbyBub3QgdHJhbnNsYXRlIHdvcmRzIGxpa2UgU291cmNlQ2hhcmFjdGVyIGFuZCBTZXR0aW5nc0FycmF5LCBsZWF2ZSB0aG9zZSBhcyB0aGV5IHdpbGwgYmUgZmlsbGVkIGluIGJ5IHRoZSBjb2RlXG4vLyA0LiBJbXBvcnQgdGhlIGpzb24gZm9sbG93aW5nIHRoZSBleGFtcGxlIGJlbG93LCBtYWtlIHN1cmUgdGhhdCB0aGUgbmFtZSB5b3UgaW1wb3J0IHRoZSBmaWxlIGlzXG4vLyAgICB0aGUgc2FtZSB0aGF0IGRlZmluZWQgYnkgVHJhbnNsYXRpb25MYW5ndWFnZS4gRXg6IEVuZ2xpc2ggLT4gRU5cbi8vICAgIElmIHlvdSBhcmUgdW5zdXJlIG9mIGhvdyB0byBkbyB0aGlzIGJ1dCBzdGlsbCB3YW50IHRvIGNvbnRyaWJ1dGUsIHJlYWNoIG91dCBhbmQgSSB3aWxsIGF0dGVtcHQgdG8gaGVscC5cblxuaW1wb3J0IFJVIGZyb20gXCIuL1JVLmpzb25cIjtcbmltcG9ydCBDTiBmcm9tIFwiLi9DTi5qc29uXCI7XG5cbi8vIEV2ZXJ5dGhpbmcgaXMgZGVmYXVsdGVkIHRvIEVuZ2xpc2hcbmNvbnN0IHRyYW5zbGF0aW9ucyA9XG57XG4gICAgUlUsXG4gICAgQ05cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBMb2NhbGl6ZWRUZXh0KHRleHQ6IHN0cmluZyk6IHN0cmluZ1xue1xuICAgIGNvbnN0IHRyYW5zbGF0ZWRUZXh0ID0gdHJhbnNsYXRpb25zPy5bVHJhbnNsYXRpb25MYW5ndWFnZV0/Llt0ZXh0XTtcbiAgICBpZiAoISF0cmFuc2xhdGVkVGV4dCAmJiB0cmFuc2xhdGVkVGV4dCAhPT0gXCJcIilcbiAgICB7XG4gICAgICAgIHJldHVybiB0cmFuc2xhdGVkVGV4dDtcbiAgICB9XG4gICAgcmV0dXJuIHRleHQ7XG59XG4iLCJpbXBvcnQgeyBSZW1vdmVIb29rcyB9IGZyb20gXCIuLi91dGlsL3Nka1wiO1xuaW1wb3J0IHsgQ3JlYXRlQWN0aXZpdGllcywgUmVtb3ZlQWN0aXZpdGllcyB9IGZyb20gXCIuLi91dGlsL2FjdGl2aXRpZXNcIjtcbmltcG9ydCB7IEFkZERhdGFTeW5jTGlzdGVuZXJzLCBIb29rZWRNZXNzYWdlLCBSZW1vdmVEYXRhU3luY0xpc3RlbmVycyB9IGZyb20gXCIuLi91dGlsL21lc3NhZ2luZ1wiO1xuXG5leHBvcnQgZW51bSBNb2R1bGVUaXRsZVxue1xuICAgIFVua25vd24gPSBcIlVua25vd25cIixcbiAgICBBdXRob3JpdHkgPSBcIkF1dGhvcml0eVwiLFxuICAgIEFjdGl2aXRpZXMgPSBcIkFjdGl2aXRpZXNcIixcbiAgICBDbGlja2VyID0gXCJDbGlja2VyXCIsXG4gICAgU2V0dGluZ3MgPSBcIlNldHRpbmdzXCIsXG4gICAgVmlydHVhbFBldCA9IFwiVmlydHVhbFBldFwiLFxuICAgIFZpcnR1YWxQZXRIVUQgPSBcIlZpcnR1YWxQZXRIdWRcIixcbiAgICBWaXJ0dWFsUGV0Q29uZGl0aW9ucyA9IFwiVmlydHVhbFBldENvbmRpdGlvbnNcIixcbiAgICBEYXRhU3luYyA9IFwiRGF0YVN5bmNcIixcbiAgICBQcm9maWxlID0gXCJQcm9maWxlXCIsXG4gICAgU2V0dGluZ3NPdGhlciA9IFwiU2V0dGluZ3NPdGhlclwiLFxuICAgIFByaXZhdGUgPSBcIlByaXZhdGVcIlxufVxuXG5leHBvcnQgY29uc3QgTW9kdWxlVGl0bGVQdWJsaWNpdHk6IFBhcnRpYWw8UmVjb3JkPE1vZHVsZVRpdGxlLCBib29sZWFuPj4gPSB7XG4gICAgW01vZHVsZVRpdGxlLlVua25vd25dOiBmYWxzZSxcbiAgICBbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XTogdHJ1ZSxcbiAgICBbTW9kdWxlVGl0bGUuQWN0aXZpdGllc106IHRydWUsXG4gICAgW01vZHVsZVRpdGxlLkNsaWNrZXJdOiB0cnVlLFxuICAgIFtNb2R1bGVUaXRsZS5TZXR0aW5nc106IHRydWUsXG4gICAgW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdOiB0cnVlLFxuICAgIFtNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0SFVEXTogZmFsc2UsXG4gICAgW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zXTogdHJ1ZSxcbiAgICBbTW9kdWxlVGl0bGUuRGF0YVN5bmNdOiB0cnVlLFxuICAgIFtNb2R1bGVUaXRsZS5Qcm9maWxlXTogdHJ1ZSxcbiAgICBbTW9kdWxlVGl0bGUuU2V0dGluZ3NPdGhlcl06IHRydWUsXG4gICAgW01vZHVsZVRpdGxlLlByaXZhdGVdOiBmYWxzZVxufTtcblxuLyoqXG4gKiBDaGVjayBpZiBhIG1vZHVsZSBpcyBwdWJsaWMsIGFsbG93aW5nIHRoZSBkYXRhIHRvIGJlIHNoYXJlZCB3aXRoIG90aGVyc1xuICpcbiAqIEBwYXJhbSBtb2R1bGVUaXRsZSBUaGUgbW9kdWxlIHRvIGNoZWNrXG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gTW9kdWxlSXNQdWJsaWMobW9kdWxlVGl0bGU6IE1vZHVsZVRpdGxlKTogYm9vbGVhblxue1xuICAgIHJldHVybiBNb2R1bGVUaXRsZVB1YmxpY2l0eVttb2R1bGVUaXRsZV0gPz8gdHJ1ZTtcbn1cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIE1vZHVsZVxue1xuICAgIGdldCBUaXRsZSgpOiBNb2R1bGVUaXRsZVxuICAgIHtcbiAgICAgICAgcmV0dXJuIE1vZHVsZVRpdGxlLlVua25vd247XG4gICAgfVxuXG4gICAgZ2V0IEFjdGl2aXRpZXMoKTogQ3VzdG9tQWN0aXZpdHlbXVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIGdldCBTZXR0aW5ncygpOiBTZXR0aW5nW11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBnZXQgU3luY0xpc3RlbmVycygpOiBIb29rZWRNZXNzYWdlW11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBMb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIENyZWF0ZUFjdGl2aXRpZXModGhpcy5BY3Rpdml0aWVzKTtcbiAgICAgICAgQWRkRGF0YVN5bmNMaXN0ZW5lcnModGhpcy5TeW5jTGlzdGVuZXJzKTtcbiAgICB9XG5cbiAgICBVbmxvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgUmVtb3ZlSG9va3ModGhpcy5UaXRsZSk7XG4gICAgICAgIFJlbW92ZUFjdGl2aXRpZXModGhpcy5BY3Rpdml0aWVzKTtcbiAgICAgICAgUmVtb3ZlRGF0YVN5bmNMaXN0ZW5lcnModGhpcy5UaXRsZSk7XG4gICAgfVxuXG4gICAgUmVsb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuVW5sb2FkKCk7XG4gICAgICAgIHRoaXMuTG9hZCgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IE1vZHVsZSwgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi9fbW9kdWxlXCI7XG5pbXBvcnQgeyBGaW5kQ2hhcmFjdGVySW5Sb29tLCBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkgfSBmcm9tIFwiLi4vdXRpbC9tZXNzYWdpbmdcIjtcbmltcG9ydCB7IGFjdGl2aXR5SW1hZ2VzLCBhY3Rpdml0eVByZXJlcXVpc2l0ZXMsIGFjdGl2aXR5UmVjZWl2ZWQsIGFjdGl2aXR5VHJpZ2dlcnMgfSBmcm9tIFwiLi4vdXRpbC9hY3Rpdml0aWVzXCI7XG5pbXBvcnQgeyBIb29rRnVuY3Rpb24gfSBmcm9tIFwiLi4vdXRpbC9zZGtcIjtcbmltcG9ydCB7IEFDVElWSVRZX05BTUVfUFJFRklYLCBCRUxMX1NPVU5ELCBJQ09OUywgTk9fU1RVQ0tfQkVEUyB9IGZyb20gXCIuLi91dGlsL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgQXBwbHlJdGVtc1RvQ2hhcmFjdGVyLCBTYXZlQ2hhcmFjdGVySXRlbSB9IGZyb20gXCIuLi91dGlsL2NoYXRyb29tXCI7XG5cbmNvbnN0IFJlY2lldmVCZWxsOiBBY3Rpdml0eVJlY2VpdmVkID0gKHNvdXJjZSwgdGFyZ2V0LCBfZ3JvdXAsIF9kYXRhKSA9Plxue1xuICAgIGlmIChcbiAgICAgICAgUGxheWVyLkF1ZGlvU2V0dGluZ3M/LlBsYXlJdGVtXG4gICAgICAgICYmICghUGxheWVyLkF1ZGlvU2V0dGluZ3MuUGxheUl0ZW1QbGF5ZXJPbmx5XG4gICAgICAgICAgfHwgc291cmNlPy5NZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXJcbiAgICAgICAgICB8fCB0YXJnZXQ/Lk1lbWJlck51bWJlciA9PT0gUGxheWVyLk1lbWJlck51bWJlcilcbiAgICApXG4gICAge1xuICAgICAgICBCRUxMX1NPVU5ELnBsYXkoKTtcbiAgICB9XG59O1xuXG5jb25zdCBQQVdfVE9PTFRJUCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG5QQVdfVE9PTFRJUC5zcmMgPSBJQ09OUy5QQVc7XG5QQVdfVE9PTFRJUC5zdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcblBBV19UT09MVElQLnN0eWxlLnJpZ2h0ID0gXCIxJVwiO1xuUEFXX1RPT0xUSVAuc3R5bGUuYm90dG9tID0gXCIyMyVcIjtcblBBV19UT09MVElQLnN0eWxlLndpZHRoID0gXCIxLjRlbVwiO1xuUEFXX1RPT0xUSVAuc3R5bGUuaGVpZ2h0ID0gXCIxLjRlbVwiO1xuXG5leHBvcnQgY2xhc3MgQWN0aXZpdGllc01vZHVsZSBleHRlbmRzIE1vZHVsZVxue1xuICAgIGdldCBUaXRsZSgpOiBNb2R1bGVUaXRsZVxuICAgIHtcbiAgICAgICAgcmV0dXJuIE1vZHVsZVRpdGxlLkFjdGl2aXRpZXM7XG4gICAgfVxuXG4gICAgZ2V0IEFjdGl2aXRpZXMoKTogQ3VzdG9tQWN0aXZpdHlbXVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBOYW1lOiBcIkZsaWNrQmVsbFwiLFxuICAgICAgICAgICAgICAgIE1heFByb2dyZXNzOiA1MCxcbiAgICAgICAgICAgICAgICBQcmVyZXF1aXNpdGU6IFtcIlVzZUhhbmRzXCJdLFxuICAgICAgICAgICAgICAgIEN1c3RvbVByZXJlcXVpc2l0ZToge1xuICAgICAgICAgICAgICAgICAgICBOYW1lOiBcIkhhc0JlbGxDb2xsYXJcIixcbiAgICAgICAgICAgICAgICAgICAgUHJlcmVxdWlzaXRlOiAoX2FjdGluZywgYWN0ZWQsIF9ncm91cCkgPT5cbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEludmVudG9yeUdldChhY3RlZCwgXCJJdGVtTmVja1wiKT8uQXNzZXQ/Lk5hbWU/LnRvTG9jYWxlTG93ZXJDYXNlKCk/LmluY2x1ZGVzKFwiYmVsbFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBJbnZlbnRvcnlHZXQoYWN0ZWQsIFwiSXRlbU5lY2tBY2Nlc3Nvcmllc1wiKT8uQXNzZXQ/Lk5hbWU/LnRvTG9jYWxlTG93ZXJDYXNlKCk/LmluY2x1ZGVzKFwiYmVsbFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgVGFyZ2V0czogW3tcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IFwiSXRlbU5lY2tcIixcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiRmxpY2sgQmVsbFwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25TZWxmOiBcIlNvdXJjZUNoYXJhY3RlciBmbGlja3MgdGhlIGJlbGwgb24gUHJvbm91blBvc3Nlc3NpdmUgY29sbGFyLlwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25PdGhlcnM6IFwiU291cmNlQ2hhcmFjdGVyIGZsaWNrcyB0aGUgYmVsbCBvbiBUYXJnZXRDaGFyYWN0ZXIncyBjb2xsYXIuXCJcbiAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgICAgICBJbWFnZTogXCJBc3NldHNcXFxcRmVtYWxlM0RDR1xcXFxJdGVtTmVja0FjY2Vzc29yaWVzXFxcXFByZXZpZXdcXFxcQ29sbGFyQmVsbC5wbmdcIixcbiAgICAgICAgICAgICAgICBPblJlY2VpdmU6IFJlY2lldmVCZWxsXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgTmFtZTogXCJGbGlja0JlbGwyXCIsXG4gICAgICAgICAgICAgICAgTWF4UHJvZ3Jlc3M6IDUwLFxuICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogW1wiVXNlSGFuZHNcIl0sXG4gICAgICAgICAgICAgICAgQ3VzdG9tUHJlcmVxdWlzaXRlOiB7XG4gICAgICAgICAgICAgICAgICAgIE5hbWU6IFwiSGFzQmVsbE5pcHBsZXNcIixcbiAgICAgICAgICAgICAgICAgICAgUHJlcmVxdWlzaXRlOiAoX2FjdGluZywgYWN0ZWQsIF9ncm91cCkgPT5cbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEludmVudG9yeUdldChhY3RlZCwgXCJJdGVtTmlwcGxlc1wiKT8uQXNzZXQ/Lk5hbWU/LnRvTG9jYWxlTG93ZXJDYXNlKCk/LmluY2x1ZGVzKFwiYmVsbFwiKSA/PyBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgVGFyZ2V0czogW3tcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IFwiSXRlbU5pcHBsZXNcIixcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiRmxpY2sgQmVsbFwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25TZWxmOiBcIlNvdXJjZUNoYXJhY3RlciBmbGlja3MgdGhlIGJlbGxzIG9uIFByb25vdW5Qb3NzZXNzaXZlIG5pcHBsZSBjbGFtcHMuXCIsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbk90aGVyczogXCJTb3VyY2VDaGFyYWN0ZXIgZmxpY2tzIHRoZSBiZWxscyBvbiBUYXJnZXRDaGFyYWN0ZXIncyBuaXBwbGUgY2xhbXBzLlwiXG4gICAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAgICAgSW1hZ2U6IFwiQXNzZXRzXFxcXEZlbWFsZTNEQ0dcXFxcSXRlbU5pcHBsZXNcXFxcUHJldmlld1xcXFxCZWxsQ2xhbXBzLnBuZ1wiLFxuICAgICAgICAgICAgICAgIE9uUmVjZWl2ZTogUmVjaWV2ZUJlbGxcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBOYW1lOiBcIkZsaWNrQmVsbDNcIixcbiAgICAgICAgICAgICAgICBNYXhQcm9ncmVzczogNTAsXG4gICAgICAgICAgICAgICAgUHJlcmVxdWlzaXRlOiBbXCJVc2VIYW5kc1wiXSxcbiAgICAgICAgICAgICAgICBDdXN0b21QcmVyZXF1aXNpdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgTmFtZTogXCJIYXNCZWxsQ2xpdFwiLFxuICAgICAgICAgICAgICAgICAgICBQcmVyZXF1aXNpdGU6IChfYWN0aW5nLCBhY3RlZCwgX2dyb3VwKSA9PlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjbGl0UGllcmNpbmcgPSBJbnZlbnRvcnlHZXQoYWN0ZWQsIFwiSXRlbVZ1bHZhUGllcmNpbmdzXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNsaXRQaWVyY2luZz8uQXNzZXQ/Lk5hbWUgPT0gXCJSb3VuZENsaXRQaWVyY2luZ1wiICYmIGNsaXRQaWVyY2luZz8uUHJvcGVydHk/LlR5cGVSZWNvcmQ/LnR5cGVkID09IDI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFRhcmdldHM6IFt7XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwOiBcIkl0ZW1WdWx2YVBpZXJjaW5nc1wiLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJGbGljayBCZWxsXCIsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvblNlbGY6IFwiU291cmNlQ2hhcmFjdGVyIGZsaWNrcyB0aGUgYmVsbCBvbiBQcm9ub3VuUG9zc2Vzc2l2ZSBjbGl0IHBpZXJjaW5nLlwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25PdGhlcnM6IFwiU291cmNlQ2hhcmFjdGVyIGZsaWNrcyB0aGUgYmVsbCBvbiBUYXJnZXRDaGFyYWN0ZXIncyBjbGl0IHBpZXJjaW5nLlwiXG4gICAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAgICAgSW1hZ2U6IFwiQXNzZXRzXFxcXEZlbWFsZTNEQ0dcXFxcSXRlbVZ1bHZhUGllcmNpbmdzXFxcXFByZXZpZXdcXFxcUm91bmRDbGl0UGllcmNpbmcucG5nXCIsXG4gICAgICAgICAgICAgICAgT25SZWNlaXZlOiBSZWNpZXZlQmVsbFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIE5hbWU6IFwiRmxpY2tCZWxsNFwiLFxuICAgICAgICAgICAgICAgIE1heFByb2dyZXNzOiA1MCxcbiAgICAgICAgICAgICAgICBQcmVyZXF1aXNpdGU6IFtcIlVzZUhhbmRzXCJdLFxuICAgICAgICAgICAgICAgIEN1c3RvbVByZXJlcXVpc2l0ZToge1xuICAgICAgICAgICAgICAgICAgICBOYW1lOiBcIkhhc0JlbGxOaXBwbGVzUGllcmNpbmdzXCIsXG4gICAgICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogKF9hY3RpbmcsIGFjdGVkLCBfZ3JvdXApID0+XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBJbnZlbnRvcnlHZXQoYWN0ZWQsIFwiSXRlbU5pcHBsZXNQaWVyY2luZ3NcIik/LkFzc2V0Py5OYW1lPy50b0xvY2FsZUxvd2VyQ2FzZSgpPy5pbmNsdWRlcyhcImJlbGxcIikgPz8gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFRhcmdldHM6IFt7XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwOiBcIkl0ZW1OaXBwbGVzXCIsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkZsaWNrIEJlbGxcIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uU2VsZjogXCJTb3VyY2VDaGFyYWN0ZXIgZmxpY2tzIHRoZSBiZWxscyBvbiBQcm9ub3VuUG9zc2Vzc2l2ZSBuaXBwbGUgcGllcmNpbmdzLlwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25PdGhlcnM6IFwiU291cmNlQ2hhcmFjdGVyIGZsaWNrcyB0aGUgYmVsbHMgb24gVGFyZ2V0Q2hhcmFjdGVyJ3MgbmlwcGxlIHBpZXJjaW5ncy5cIlxuICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgICAgIEltYWdlOiBcIkFzc2V0c1xcXFxGZW1hbGUzRENHXFxcXEl0ZW1OaXBwbGVzUGllcmNpbmdzXFxcXFByZXZpZXdcXFxcQmVsbFBpZXJjaW5nLnBuZ1wiLFxuICAgICAgICAgICAgICAgIE9uUmVjZWl2ZTogUmVjaWV2ZUJlbGxcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBOYW1lOiBcIlN0b21wT25jZVwiLFxuICAgICAgICAgICAgICAgIE1heFByb2dyZXNzOiA1MCxcbiAgICAgICAgICAgICAgICBQcmVyZXF1aXNpdGU6IFtcIlVzZUZlZXRcIl0sXG4gICAgICAgICAgICAgICAgQ3VzdG9tUHJlcmVxdWlzaXRlOiB7XG4gICAgICAgICAgICAgICAgICAgIE5hbWU6IFwiSGFzSG9vdmVzXCIsXG4gICAgICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogKF9hY3RpbmcsIGFjdGVkLCBfZ3JvdXApID0+XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBJbnZlbnRvcnlHZXQoYWN0ZWQsIFwiSXRlbUJvb3RzXCIpPy5Bc3NldD8uTmFtZT8udG9Mb2NhbGVMb3dlckNhc2UoKT8uaW5jbHVkZXMoXCJwb255XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHx8IFtcInBvbnlcIiwgXCLlhb3ouYTpnotfbHV6aVwiXS5zb21lKChrZXl3b3JkKSA9PiBJbnZlbnRvcnlHZXQoYWN0ZWQsIFwiU2hvZXNcIik/LkFzc2V0Py5OYW1lPy50b0xvY2FsZUxvd2VyQ2FzZSgpPy5pbmNsdWRlcyhrZXl3b3JkKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFRhcmdldHM6IFt7XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwOiBcIkl0ZW1Cb290c1wiLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJTdG9tcCBPbmNlXCIsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvblNlbGY6IFwiU291cmNlQ2hhcmFjdGVyIHN0b21wcyBQcm9ub3VuUG9zc2Vzc2l2ZSBob29mIG9uIHRoZSBncm91bmQgb25jZS5cIlxuICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgICAgIEltYWdlOiBcIkFzc2V0c1xcXFxGZW1hbGUzRENHXFxcXFNob2VzXFxcXFByZXZpZXdcXFxcUG9ueUJvb3RzLnBuZ1wiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgTmFtZTogXCJTdG9tcFR3aWNlXCIsXG4gICAgICAgICAgICAgICAgTWF4UHJvZ3Jlc3M6IDUwLFxuICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogW1wiVXNlRmVldFwiXSxcbiAgICAgICAgICAgICAgICBDdXN0b21QcmVyZXF1aXNpdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgTmFtZTogXCJIYXNIb292ZXNcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgVGFyZ2V0czogW3tcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IFwiSXRlbUJvb3RzXCIsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIlN0b21wIFR3aWNlXCIsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvblNlbGY6IFwiU291cmNlQ2hhcmFjdGVyIHN0b21wcyBQcm9ub3VuUG9zc2Vzc2l2ZSBob29mIG9uIHRoZSBncm91bmQgdHdpY2UuXCJcbiAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgICAgICBJbWFnZTogXCJBc3NldHNcXFxcRmVtYWxlM0RDR1xcXFxTaG9lc1xcXFxQcmV2aWV3XFxcXFBvbnlCb290cy5wbmdcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIE5hbWU6IFwiQ3Jhd2xJbkJlZFwiLFxuICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogW10sXG4gICAgICAgICAgICAgICAgQ3VzdG9tUHJlcmVxdWlzaXRlOiB7XG4gICAgICAgICAgICAgICAgICAgIE5hbWU6IFwiSW5CZWRcIixcbiAgICAgICAgICAgICAgICAgICAgUHJlcmVxdWlzaXRlOiAoYWN0aW5nLCBhY3RlZCwgX2dyb3VwKSA9PlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUYXJnZXQgaGFzIGJlZCwgd2UgZG8gbm90XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTk9fU1RVQ0tfQkVEUy5zb21lKChiZWQpID0+IGJlZCA9PT0gSW52ZW50b3J5R2V0KGFjdGVkLCBcIkl0ZW1EZXZpY2VzXCIpPy5Bc3NldD8uTmFtZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJiYgSW52ZW50b3J5R2V0KGFjdGluZywgXCJJdGVtRGV2aWNlc1wiKSA9PT0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgVGFyZ2V0czogW3tcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IFwiSXRlbUFybXNcIixcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiQ3Jhd2wgSW4gQmVkXCIsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbk90aGVyczogXCJTb3VyY2VDaGFyYWN0ZXIgY2F3bHMgaW50byBiZWQgd2l0aCBUYXJnZXRDaGFyYWN0ZXIuXCJcbiAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgICAgICBJbWFnZTogXCJBc3NldHNcXFxcRmVtYWxlM0RDR1xcXFxJdGVtRGV2aWNlc1xcXFxQcmV2aWV3XFxcXEJlZC5wbmdcIixcbiAgICAgICAgICAgICAgICBPblRyaWdnZXI6IChDKSA9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ29weSBiZWQgb2YgdGFyZ2V0IGFuZCBhcHBseSBpdFxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImNyYXdsaW5nIGluIGJlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFDKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmVkID0gU2F2ZUNoYXJhY3Rlckl0ZW0oQywgXCJJdGVtRGV2aWNlc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFiZWQpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBBcHBseUl0ZW1zVG9DaGFyYWN0ZXIoUGxheWVyLCBbYmVkXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuICAgIH1cblxuICAgIExvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3VwZXIuTG9hZCgpO1xuXG4gICAgICAgIC8vIFByZXJlcXVpc2l0ZSBoYW5kbGluZ1xuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJBY3Rpdml0eUNoZWNrUHJlcmVxdWlzaXRlXCIsIDEsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBbcHJlcmVxLCBhY3RpbmcsIGFjdGVkLCBncm91cF0gPSBhcmdzO1xuICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKGFjdGl2aXR5UHJlcmVxdWlzaXRlcykuaW5jbHVkZXMocHJlcmVxKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYWN0aXZpdHlQcmVyZXF1aXNpdGVzW3ByZXJlcV0oYWN0aW5nLCBhY3RlZCwgZ3JvdXApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEFjdGl2aXR5IG9udHJpZ2dlcnNcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiU2VydmVyU2VuZFwiLCAxLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGFyZ3NbMV0gYXMgU2VydmVyQ2hhdFJvb21NZXNzYWdlO1xuICAgICAgICAgICAgaWYgKGFyZ3NbMF0gIT09IFwiQ2hhdFJvb21DaGF0XCIgfHwgZGF0YT8uVHlwZSAhPT0gXCJBY3Rpdml0eVwiKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZSAtIFRTIG5vdCBmaW5kaW5nIHR5cGUgYXV0b21hdGljYWxseSwgaXQgZXhpc3RzXG4gICAgICAgICAgICBjb25zdCBhY3Rpdml0eU5hbWUgPSBkYXRhPy5EaWN0aW9uYXJ5Py5maW5kKCh4KSA9PiB4LkFjdGl2aXR5TmFtZSk/LkFjdGl2aXR5TmFtZSBhcyBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAoYWN0aXZpdHlOYW1lPy5zdGFydHNXaXRoKEFDVElWSVRZX05BTUVfUFJFRklYKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkYXRhPy5EaWN0aW9uYXJ5Py5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgVGFnOiBcIk1JU1NJTkcgQUNUSVZJVFkgREVTQ1JJUFRJT04gRk9SIEtFWVdPUkQgXCIgKyBkYXRhLkNvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgIFRleHQ6IEFjdGl2aXR5RGljdGlvbmFyeVRleHQoZGF0YS5Db250ZW50KVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKGFjdGl2aXR5VHJpZ2dlcnMpLmluY2x1ZGVzKGFjdGl2aXR5TmFtZSkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXROdW1iZXIgPSAoZGF0YT8uRGljdGlvbmFyeT8uZmluZCgoeCkgPT4gKHggYXMgVGFyZ2V0Q2hhcmFjdGVyRGljdGlvbmFyeUVudHJ5KS5UYXJnZXRDaGFyYWN0ZXIpIGFzIFRhcmdldENoYXJhY3RlckRpY3Rpb25hcnlFbnRyeSk/LlRhcmdldENoYXJhY3RlciA/PyAtMTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gQ2hhdFJvb21DaGFyYWN0ZXI/LmZpbmQoKGMpID0+IGMuTWVtYmVyTnVtYmVyID09PSB0YXJnZXROdW1iZXIpO1xuICAgICAgICAgICAgICAgICAgICBhY3Rpdml0eVRyaWdnZXJzW2FjdGl2aXR5TmFtZV0odGFyZ2V0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBBY3Rpdml0eSBvbiByZWNlaXZlZFxuICAgICAgICBIb29rRnVuY3Rpb24oTW9kdWxlVGl0bGUuQ2xpY2tlciwgXCJDaGF0Um9vbU1lc3NhZ2VcIiwgMCwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIG5leHQoYXJncyk7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXJnc1swXTtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBkYXRhLlR5cGUgPT09IFwiQWN0aXZpdHlcIlxuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjdGl2aXR5TmFtZSA9IEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIkFjdGl2aXR5TmFtZVwiKSBhcyBzdHJpbmcgfCB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgaWYgKCFhY3Rpdml0eU5hbWU/LnN0YXJ0c1dpdGgoQUNUSVZJVFlfTkFNRV9QUkVGSVgpXG4gICAgICAgICAgICAgICAgICB8fCAhKGFjdGl2aXR5TmFtZSBpbiBhY3Rpdml0eVJlY2VpdmVkKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgc291cmNlQ2hhciA9IEZpbmRDaGFyYWN0ZXJJblJvb20oR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiU291cmNlQ2hhcmFjdGVyXCIpLFxuICAgICAgICAgICAgICAgICAgICB7IE1lbWJlck51bWJlcjogdHJ1ZSwgTmlja25hbWU6IGZhbHNlLCBOYW1lOiBmYWxzZSB9KSA/PyB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0Q2hhciA9IEZpbmRDaGFyYWN0ZXJJblJvb20oR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiVGFyZ2V0Q2hhcmFjdGVyXCIpLFxuICAgICAgICAgICAgICAgICAgICB7IE1lbWJlck51bWJlcjogdHJ1ZSwgTmlja25hbWU6IGZhbHNlLCBOYW1lOiBmYWxzZSB9KSA/PyB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgY29uc3QgZ3JvdXAgPSBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJGb2N1c0dyb3VwTmFtZVwiKTtcbiAgICAgICAgICAgICAgICBhY3Rpdml0eVJlY2VpdmVkW2FjdGl2aXR5TmFtZV0oc291cmNlQ2hhciwgdGFyZ2V0Q2hhciwgZ3JvdXAsIGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBEcmF3IGN1c3RvbSBpbWFnZXMgZm9yIGFjdGl2aXRpZXNcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiRWxlbWVudEJ1dHRvbi5DcmVhdGVGb3JBY3Rpdml0eVwiLCAwLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgYWN0aXZpdHlOYW1lID0gYXJnc1sxXS5BY3Rpdml0eS5OYW1lO1xuICAgICAgICAgICAgY29uc3QgaXNNUEFBY3Rpdml0eSA9IE9iamVjdC5rZXlzKGFjdGl2aXR5SW1hZ2VzKS5pbmNsdWRlcyhhY3Rpdml0eU5hbWUpO1xuICAgICAgICAgICAgaWYgKGlzTVBBQWN0aXZpdHkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKCFhcmdzWzRdKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYXJnc1s0XSA9IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhcmdzWzRdLmltYWdlID0gYWN0aXZpdHlJbWFnZXNbYWN0aXZpdHlOYW1lXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgYnV0dG9uRWxlbWVudCA9IG5leHQoYXJncyk7XG5cbiAgICAgICAgICAgIGlmIChpc01QQUFjdGl2aXR5KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGJ1dHRvbkVsZW1lbnQuYXBwZW5kQ2hpbGQoUEFXX1RPT0xUSVAuY2xvbmVOb2RlKCkpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gYnV0dG9uRWxlbWVudDtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgVW5sb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLlVubG9hZCgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IE9XTkVSU19DVVNUT01fU0VUVElOR1MgfSBmcm9tIFwiLi4vc2V0dGluZ3Mvb3duZXJzXCI7XG5pbXBvcnQgeyBBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUyB9IGZyb20gXCIuLi91dGlsL2F1dGhvcml0eVwiO1xuaW1wb3J0IHsgTW9kdWxlLCBNb2R1bGVUaXRsZSB9IGZyb20gXCIuL19tb2R1bGVcIjtcblxuY29uc3QgUGxheWVyUDogKEM/OiBDaGFyYWN0ZXIpID0+IE1QQVJlY29yZCA9IChDOiBDaGFyYWN0ZXIgPSBQbGF5ZXIpID0+XG57XG4gICAgcmV0dXJuIEMuTVBBPy5bTW9kdWxlVGl0bGUuQXV0aG9yaXR5XSA/PyB7fTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBJc0hhcmRjb3JlT24oQzogQ2hhcmFjdGVyKTogYm9vbGVhblxue1xuICAgIHJldHVybiAoQy5NUEE/LltNb2R1bGVUaXRsZS5BdXRob3JpdHldLmhhcmRjb3JlIGFzIGJvb2xlYW4gfCB1bmRlZmluZWQpID8/IGZhbHNlO1xufTtcblxudHlwZSBTZWxmQWNjZXNzID0gYHNlbGYke2tleW9mIHR5cGVvZiBNb2R1bGVUaXRsZX1gO1xudHlwZSBPdGhlcnNBY2Nlc3MgPSBgb3RoZXJzJHtrZXlvZiB0eXBlb2YgTW9kdWxlVGl0bGV9YDtcblxuZXhwb3J0IGNsYXNzIEF1dGhvcml0eU1vZHVsZSBleHRlbmRzIE1vZHVsZVxue1xuICAgIGdldCBUaXRsZSgpOiBNb2R1bGVUaXRsZVxuICAgIHtcbiAgICAgICAgcmV0dXJuIE1vZHVsZVRpdGxlLkF1dGhvcml0eTtcbiAgICB9XG5cbiAgICBnZXQgU2V0dGluZ3MoKTogU2V0dGluZ1tdXG4gICAge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgT1dORVJTX0NVU1RPTV9TRVRUSU5HUyxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNldHRpbmdzTm90aWZ5XCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJOb3RpZnkgd2hlbiBvdGhlcnMgYXJlIGFjY2Vzc2luZyBUYXJnZXRDaGFyYWN0ZXIncyBzZXR0aW5nc1wiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiYm91bmRBY2Nlc3NTZWxmXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBUYXJnZXRDaGFyYWN0ZXIgY2hhbmdpbmcgVGFyZ2V0UHJvbm91blBvc3Nlc3NpdmUgb3duIHNldHRpbmdzIHdoaWxlIGJvdW5kXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJib3VuZEFjY2Vzc090aGVyc1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkFsbG93IFRhcmdldENoYXJhY3RlciBjaGFuZ2luZyB0aGUgc2V0dGluZ3Mgb2Ygb3RoZXJzIHdoaWxlIGJvdW5kXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJzZWxmQXV0aG9yaXR5XCIgYXMgU2VsZkFjY2VzcyxcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkFsbG93IFRhcmdldENoYXJhY3RlciB0byBjaGFuZ2UgVGFyZ2V0UHJvbm91blBvc3Nlc3NpdmUgQXV0aG9yaXR5IHNldHRpbmdzXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJvdGhlcnNBdXRob3JpdHlcIiBhcyBPdGhlcnNBY2Nlc3MsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJvcHRpb25cIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogQVVUSE9SSVRZX0dST1VQX09QVElPTlMsXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiQ2x1Ym93bmVyXCIsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWxsb3cgb3RoZXJzIHRvIGNoYW5nZSBUYXJnZXRDaGFyYWN0ZXIncyBBdXRob3JpdHkgc2V0dGluZ3NcIixcbiAgICAgICAgICAgICAgICBsb29wOiBmYWxzZVxuICAgICAgICAgICAgfSBhcyBPcHRpb25TZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJzZWxmUHJvZmlsZVwiIGFzIFNlbGZBY2Nlc3MsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+IFBsYXllclAoQykub3RoZXJzUHJvZmlsZSAhPT0gXCJTZWxmXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWxsb3cgVGFyZ2V0Q2hhcmFjdGVyIHRvIGNoYW5nZSBUYXJnZXRQcm9ub3VuUG9zc2Vzc2l2ZSBQcm9maWxlIHNldHRpbmdzXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJvdGhlcnNQcm9maWxlXCIgYXMgT3RoZXJzQWNjZXNzLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwib3B0aW9uXCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IEFVVEhPUklUWV9HUk9VUF9PUFRJT05TLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIkNsdWJvd25lclwiLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkFsbG93IG90aGVycyB0byBjaGFuZ2UgVGFyZ2V0Q2hhcmFjdGVyJ3MgUHJvZmlsZSBzZXR0aW5nc1wiLFxuICAgICAgICAgICAgICAgIGxvb3A6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG9uU2V0KEMpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBQbGF5ZXJQKEMpLnNlbGZQcm9maWxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGFzIE9wdGlvblNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNlbGZDbGlja2VyXCIgYXMgU2VsZkFjY2VzcyxcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkFsbG93IFRhcmdldENoYXJhY3RlciB0byBjaGFuZ2UgVGFyZ2V0UHJvbm91blBvc3Nlc3NpdmUgQ2xpY2tlciBzZXR0aW5nc1wiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwib3RoZXJzQ2xpY2tlclwiIGFzIE90aGVyc0FjY2VzcyxcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm9wdGlvblwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJDbHVib3duZXJcIixcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBvdGhlcnMgdG8gY2hhbmdlIFRhcmdldENoYXJhY3RlcidzIENsaWNrZXIgc2V0dGluZ3NcIixcbiAgICAgICAgICAgICAgICBsb29wOiBmYWxzZVxuICAgICAgICAgICAgfSBhcyBPcHRpb25TZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJzZWxmVmlydHVhbFBldFwiIGFzIFNlbGZBY2Nlc3MsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBUYXJnZXRDaGFyYWN0ZXIgdG8gY2hhbmdlIFRhcmdldFByb25vdW5Qb3NzZXNzaXZlIFZpcnR1YWwgUGV0IHNldHRpbmdzXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJvdGhlcnNWaXJ0dWFsUGV0XCIgYXMgT3RoZXJzQWNjZXNzLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwib3B0aW9uXCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IEFVVEhPUklUWV9HUk9VUF9PUFRJT05TLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIkNsdWJvd25lclwiLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkFsbG93IG90aGVycyB0byBjaGFuZ2UgVGFyZ2V0Q2hhcmFjdGVyJ3MgVmlydHVhbCBQZXQgc2V0dGluZ3NcIixcbiAgICAgICAgICAgICAgICBsb29wOiBmYWxzZVxuICAgICAgICAgICAgfSBhcyBPcHRpb25TZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJzZWxmVmlydHVhbFBldENvbmRpdGlvbnNcIiBhcyBTZWxmQWNjZXNzLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWxsb3cgVGFyZ2V0Q2hhcmFjdGVyIHRvIGNoYW5nZSBUYXJnZXRQcm9ub3VuUG9zc2Vzc2l2ZSBWaXJ0dWFsIFBldCBDb25kaXRpb25zIHNldHRpbmdzXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJvdGhlcnNWaXJ0dWFsUGV0Q29uZGl0aW9uc1wiIGFzIE90aGVyc0FjY2VzcyxcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm9wdGlvblwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJDbHVib3duZXJcIixcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBvdGhlcnMgdG8gY2hhbmdlIFRhcmdldENoYXJhY3RlcidzIFZpcnR1YWwgUGV0IENvbmRpdGlvbnMgc2V0dGluZ3NcIixcbiAgICAgICAgICAgICAgICBsb29wOiBmYWxzZVxuICAgICAgICAgICAgfSBhcyBPcHRpb25TZXR0aW5nXG4gICAgICAgIF07XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgYmN4QVBJLCBiY3hGb3VuZCwgSG9va0Z1bmN0aW9uIH0gZnJvbSBcIi4uL3V0aWwvc2RrXCI7XG5pbXBvcnQgeyBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnksIFJlbW92ZU9PQ0NvbnRlbnRGcm9tTWVzc2FnZSB9IGZyb20gXCIuLi91dGlsL21lc3NhZ2luZ1wiO1xuaW1wb3J0IHsgQXV0aG9yaXR5R3JvdXAsIElzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAgfSBmcm9tIFwiLi4vdXRpbC9hdXRob3JpdHlcIjtcbmltcG9ydCB7IE1vZHVsZSwgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi9fbW9kdWxlXCI7XG5pbXBvcnQgeyBJc0hhcmRjb3JlT24gfSBmcm9tIFwiLi9wcm9maWxlXCI7XG5cbmltcG9ydCBjbGlja2VyMSBmcm9tIFwiLi4vLi4vYXNzZXRzL2NsaWNrZXIxLm1wM1wiO1xuaW1wb3J0IGNsaWNrZXIyIGZyb20gXCIuLi8uLi9hc3NldHMvY2xpY2tlcjIubXAzXCI7XG5pbXBvcnQgY2xpY2tlcjMgZnJvbSBcIi4uLy4uL2Fzc2V0cy9jbGlja2VyMy5tcDNcIjtcblxuZW51bSBDTElDS0VSX1RZUEVcbntcbiAgICBOT05FLFxuICAgIENIQVQsXG4gICAgRU1PVEUsXG4gICAgQUNUSU9OXG59O1xuXG4vLyBDbGlja2VyIHNvdW5kcyB0byBwbGF5XG4vLyBBbiBhcnJheSBvZiBhdWRpbyBmaWxlcywgMSBjbGljayBpbiBpbmRleCAwLCBuKzEgY2xpY2tzIGluIGluZGV4IG5cbmNvbnN0IEFMTF9DTElDS1M6IEhUTUxBdWRpb0VsZW1lbnRbXSA9XG5bXG4gICAgbmV3IEF1ZGlvKGNsaWNrZXIxKSxcbiAgICBuZXcgQXVkaW8oY2xpY2tlcjIpLFxuICAgIG5ldyBBdWRpbyhjbGlja2VyMylcbl07XG5cbi8qKlxuICogR2V0IHRoZSBDbGlja2VyIHNldHRpbmdzIG9mIHRoZSBQbGF5ZXJcbiAqL1xuY29uc3QgUGxheWVyQzogKEM/OiBDaGFyYWN0ZXIpID0+IE1QQVJlY29yZCA9IChDOiBDaGFyYWN0ZXIgPSBQbGF5ZXIpID0+XG57XG4gICAgcmV0dXJuIEMuTVBBPy5bTW9kdWxlVGl0bGUuQ2xpY2tlcl0gPz8ge307XG59O1xuXG4vKipcbiAqIEdldCB0aGUgdG90YWwgbnVtYmVyIG9mIGNsaWNrcyBpbiBhIHN0cmluZ1xuICovXG5mdW5jdGlvbiBDbGlja0NvdW50KHN0cjogc3RyaW5nID0gXCJcIik6IG51bWJlclxue1xuICAgIGxldCB0b3RhbENsaWNrcyA9IDA7XG4gICAgKFBsYXllckMoKS50cmlnZ2VycyBhcyBzdHJpbmcpXG4gICAgICAgIC5zcGxpdChcIixcIilcbiAgICAgICAgLm1hcCgoc3RyOiBzdHJpbmcpID0+IHN0ci50cmltKCkpXG4gICAgICAgIC5maWx0ZXIoKHN0cikgPT4gc3RyICE9PSBcIlwiKVxuICAgICAgICAuZm9yRWFjaCgodHJpZ2dlcikgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgdG90YWxDbGlja3MgKz0gc3RyLnRvTG9jYWxlTG93ZXJDYXNlKCkubWF0Y2gobmV3IFJlZ0V4cCh0cmlnZ2VyLnRvTG9jYWxlTG93ZXJDYXNlKCksIFwiZ1wiKSk/Lmxlbmd0aCA/PyAwO1xuICAgICAgICB9KTtcbiAgICByZXR1cm4gdG90YWxDbGlja3M7XG59XG5cbi8qKlxuICogUGxheSBjbGlja3MgdG8gdGhlIHVzZXJcbiAqL1xuZnVuY3Rpb24gUGxheUNsaWNrZXJTb3VuZChudW1iZXJPZkNsaWNrczogbnVtYmVyID0gMCk6IHZvaWRcbntcbiAgICBpZiAoXG4gICAgICAgIGlzTmFOKG51bWJlck9mQ2xpY2tzKVxuICAgICAgICB8fCBudW1iZXJPZkNsaWNrcyA8PSAwXG4gICAgICAgIHx8ICFQbGF5ZXJDKCkuZW5hYmxlZFxuICAgIClcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBBTExfQ0xJQ0tTW01hdGgubWluKG51bWJlck9mQ2xpY2tzIC0gMSwgQUxMX0NMSUNLUy5sZW5ndGggLSAxKV0ucGxheSgpO1xufVxuXG5sZXQgYmN4SG9va2VkID0gZmFsc2U7XG5mdW5jdGlvbiBIb29rQkNYQ2xpY2tlcigpOiB2b2lkXG57XG4gICAgaWYgKGJjeEZvdW5kKCkgJiYgIWJjeEhvb2tlZClcbiAgICB7XG4gICAgICAgIGJjeEFQSSgpPy5vbj8uKFwiYmN4TG9jYWxNZXNzYWdlXCIsIChkYXRhOiBhbnkpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBkYXRhPy5tZXNzYWdlIGFzIHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNvbnN0IHByZWZpeCA9IFwiW1ZvaWNlXSBcIjtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBQbGF5ZXJDKCkuZW5hYmxlZFxuICAgICAgICAgICAgICAgICYmIFBsYXllckMoKS5iY3hWb2ljZVxuICAgICAgICAgICAgICAgICYmIG1lc3NhZ2U/LnN0YXJ0c1dpdGgocHJlZml4KVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFBsYXlDbGlja2VyU291bmQoQ2xpY2tDb3VudChtZXNzYWdlLnN1YnN0cmluZyhwcmVmaXgubGVuZ3RoKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgYmN4SG9va2VkID0gdHJ1ZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDbGlja2VyTW9kdWxlIGV4dGVuZHMgTW9kdWxlXG57XG4gICAgLy8gQkNYIGhvb2sgb25seSBsb2FkcyBvbmNlLCB1bmtub3duIGlmIGNhbiB1bmhvb2sgZm9yIFVubG9hZCgpXG4gICAgaGFzQmVlbkxvYWRlZCA9IGZhbHNlO1xuXG4gICAgZ2V0IFRpdGxlKCk6IE1vZHVsZVRpdGxlXG4gICAge1xuICAgICAgICByZXR1cm4gTW9kdWxlVGl0bGUuQ2xpY2tlcjtcbiAgICB9XG5cbiAgICBnZXQgQWN0aXZpdGllcygpOiBDdXN0b21BY3Rpdml0eVtdXG4gICAge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIE5hbWU6IFwiQ2xpY2tlcjFcIixcbiAgICAgICAgICAgICAgICBNYXhQcm9ncmVzczogNTAsXG4gICAgICAgICAgICAgICAgUHJlcmVxdWlzaXRlOiBbXCJVc2VIYW5kc1wiXSxcbiAgICAgICAgICAgICAgICBDdXN0b21QcmVyZXF1aXNpdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgTmFtZTogXCJIb2xkaW5nQ2xpY2tlclwiLFxuICAgICAgICAgICAgICAgICAgICBQcmVyZXF1aXNpdGU6IChhY3RpbmcsIF9hY3RlZCwgX2dyb3VwKSA9PlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSW52ZW50b3J5R2V0KGFjdGluZywgXCJJdGVtSGFuZGhlbGRcIik/LkFzc2V0Py5OYW1lPy50b0xvY2FsZUxvd2VyQ2FzZSgpPy5pbmNsdWRlcyhcInJlbW90ZVwiKSA/PyBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgVGFyZ2V0czogW3tcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IFwiSXRlbUhhbmRzXCIsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkNsaWNrIE9uY2VcIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uU2VsZjogXCJTb3VyY2VDaGFyYWN0ZXIgcHJlc3NlcyB0aGUgYnV0dG9uIG9uIFByb25vdW5Qb3NzZXNzaXZlIGNsaWNrZXIuXCJcbiAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgICAgICBJbWFnZTogXCJJY29ucy9BdWRpb09uLnBuZ1wiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgTmFtZTogXCJDbGlja2VyMlwiLFxuICAgICAgICAgICAgICAgIE1heFByb2dyZXNzOiA1MCxcbiAgICAgICAgICAgICAgICBQcmVyZXF1aXNpdGU6IFtcIlVzZUhhbmRzXCJdLFxuICAgICAgICAgICAgICAgIEN1c3RvbVByZXJlcXVpc2l0ZToge1xuICAgICAgICAgICAgICAgICAgICBOYW1lOiBcIkhvbGRpbmdDbGlja2VyXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFRhcmdldHM6IFt7XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwOiBcIkl0ZW1IYW5kc1wiLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJDbGljayBUd2ljZVwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25TZWxmOiBcIlNvdXJjZUNoYXJhY3RlciBwcmVzc2VzIHRoZSBidXR0b24gb24gUHJvbm91blBvc3Nlc3NpdmUgY2xpY2tlciB0d2ljZS5cIlxuICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgICAgIEltYWdlOiBcIkljb25zL0F1ZGlvT24ucG5nXCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBOYW1lOiBcIkNsaWNrZXIzXCIsXG4gICAgICAgICAgICAgICAgTWF4UHJvZ3Jlc3M6IDUwLFxuICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogW1wiVXNlSGFuZHNcIl0sXG4gICAgICAgICAgICAgICAgQ3VzdG9tUHJlcmVxdWlzaXRlOiB7XG4gICAgICAgICAgICAgICAgICAgIE5hbWU6IFwiSG9sZGluZ0NsaWNrZXJcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgVGFyZ2V0czogW3tcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IFwiSXRlbUhhbmRzXCIsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkNsaWNrIFRocmljZVwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25TZWxmOiBcIlNvdXJjZUNoYXJhY3RlciBwcmVzc2VzIHRoZSBidXR0b24gb24gUHJvbm91blBvc3Nlc3NpdmUgY2xpY2tlciB0aHJlZSB0aW1lcy5cIlxuICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgICAgIEltYWdlOiBcIkljb25zL0F1ZGlvT24ucG5nXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBnZXQgU2V0dGluZ3MoKTogU2V0dGluZ1tdXG4gICAge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiZW5hYmxlZFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhSXNIYXJkY29yZU9uKEMpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJFbmFibGUgYXVkaXRvcnkgY2xpY2tlclwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwidHJpZ2dlcnNcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllckMoQykuZW5hYmxlZCxcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJ+Y2xpY2t+XCIsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiUGhyYXNlcyB0aGF0IHRyaWdnZXIgdGhlIGNsaWNrOyBTZXBhcmF0ZSBwaHJhc2VzIHdpdGggYSBjb21tYVwiLFxuICAgICAgICAgICAgICAgIHdpZHRoOiAzODQsXG4gICAgICAgICAgICAgICAgbWF4Q2hhcnM6IG51bGxcbiAgICAgICAgICAgIH0gYXMgVGV4dFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImNoYXRcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJDKEMpLmVuYWJsZWQsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQ2hhdCBjYW4gdHJpZ2dlciB0aGUgY2xpY2tlclwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiZW1vdGVzXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyQyhDKS5lbmFibGVkLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkVtb3RlcyBjYW4gdHJpZ2dlciB0aGUgY2xpY2tlclwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiYWN0aXZpdGllc1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllckMoQykuZW5hYmxlZCxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJDdXN0b20gYWN0aXZpdGllcyBjYW4gdHJpZ2dlciB0aGUgY2xpY2tlclwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwic2VsZkF1dGhlZFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllckMoQykuZW5hYmxlZCAmJiBQbGF5ZXJDKEMpLmF1dGhlZEdyb3VwICE9PSBcIlNlbGZcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyB5b3VyIG93biBjaGF0LCBlbW90ZXMsICYgYWN0aW9ucyB0byB0cmlnZ2VyIHRoZSBjbGlja2VyXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJhdXRoZWRHcm91cFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwib3B0aW9uXCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJDKEMpLmVuYWJsZWQsXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiRnJpZW5kc1wiIGFzIEF1dGhvcml0eUdyb3VwLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IFtcIlB1YmxpY1wiLCBcIkZyaWVuZHNcIiwgXCJXaGl0ZWxpc3RcIiwgXCJMb3ZlcnNcIiwgXCJPd25lcnNcIiwgXCJDbHVib3duZXJcIiwgXCJTZWxmXCJdLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIldobyB3aWxsIGJlIGFibGUgdG8gdHJpZ2dlciB0aGUgY2xpY2tlclwiLFxuICAgICAgICAgICAgICAgIGxvb3A6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG9uU2V0KEMpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoUGxheWVyQyhDKS5hdXRoZWRHcm91cCA9PT0gXCJTZWxmXCIpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBsYXllckMoQykuc2VsZkF1dGhlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGFzIE9wdGlvblNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImJjeFZvaWNlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyQyhDKS5lbmFibGVkICYmIGJjeEZvdW5kKCkgJiYgIUlzSGFyZGNvcmVPbihDKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBCQ1ggTGlzdGVuIHRvIG15IHZvaWNlIHJ1bGUgdG8gdHJpZ2dlciB0aGUgY2xpY2tlcjsgUmVxdWlyZXMgQkNYXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nXG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgTG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5Mb2FkKCk7XG5cbiAgICAgICAgLy8gQ2hhdCwgd2hpc3BlciwgZW1vdGUsIGFuZCBhY3Rpb24gdHJpZ2dlcnNcbiAgICAgICAgSG9va0Z1bmN0aW9uKE1vZHVsZVRpdGxlLkNsaWNrZXIsIFwiQ2hhdFJvb21NZXNzYWdlXCIsIDAsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXJnc1swXTtcbiAgICAgICAgICAgIC8vIElmIGNsaWNrZXIgaXMgbm90IGVuYWJsZWQgb3IgaW52YWxpZCBkYXRhLCBza2lwXG4gICAgICAgICAgICAvLyBNZXNzYWdlIHNlbmRlciBub3QgYXV0aGVkLCBza2lwXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgIVBsYXllckMoKS5lbmFibGVkXG4gICAgICAgICAgICAgICAgfHwgIWFyZ3NbMF0/LlR5cGVcbiAgICAgICAgICAgICAgICB8fCAhYXJnc1swXT8uQ29udGVudFxuICAgICAgICAgICAgICAgIHx8ICFhcmdzWzBdPy5TZW5kZXJcbiAgICAgICAgICAgICAgICB8fCAhSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cChkYXRhLlNlbmRlciEsIFBsYXllckMoKS5hdXRoZWRHcm91cCBhcyBBdXRob3JpdHlHcm91cCwgUGxheWVyQygpLnNlbGZBdXRoZWQgYXMgYm9vbGVhbikpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBjbGlja3M6IG51bWJlciA9IDA7XG4gICAgICAgICAgICBsZXQgY2xpY2tUeXBlOiBDTElDS0VSX1RZUEUgPSBDTElDS0VSX1RZUEUuTk9ORTtcbiAgICAgICAgICAgIGNvbnN0IHNlYXJjaFRhZyA9IGBNSVNTSU5HIEFDVElWSVRZIERFU0NSSVBUSU9OIEZPUiBLRVlXT1JEICR7ZGF0YS5Db250ZW50fWA7XG4gICAgICAgICAgICBzd2l0Y2ggKGRhdGEuVHlwZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBDb3VudCB0aGUgY2xpY2tzIGluIGFuIGVtb3RlIG9yIGNoYXRcbiAgICAgICAgICAgICAgICBjYXNlIFwiQ2hhdFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJXaGlzcGVyXCI6XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrcyA9IENsaWNrQ291bnQoUmVtb3ZlT09DQ29udGVudEZyb21NZXNzYWdlKGRhdGEuQ29udGVudCkpO1xuICAgICAgICAgICAgICAgICAgICBjbGlja1R5cGUgPSBDTElDS0VSX1RZUEUuQ0hBVDtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBjYXNlIFwiRW1vdGVcIjpcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tzID0gQ2xpY2tDb3VudChSZW1vdmVPT0NDb250ZW50RnJvbU1lc3NhZ2UoZGF0YS5Db250ZW50KSk7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrVHlwZSA9IENMSUNLRVJfVFlQRS5FTU9URTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAvLyBDb3VudCB0aGUgY2xpY2tzIGluIGFuIGFjdGlvbiwgKHN1cHBvcnQgY3VzdG9tIGFjdGlvbnMpXG4gICAgICAgICAgICAgICAgY2FzZSBcIkFjdGlvblwiOlxuICAgICAgICAgICAgICAgICAgICAvLyBCZWVwc1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5Db250ZW50ID09IFwiQmVlcFwiKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGlja3MgPSBDbGlja0NvdW50KChkYXRhPy5EaWN0aW9uYXJ5Py5maWx0ZXIoKHgpID0+ICh4IGFzIFRleHREaWN0aW9uYXJ5RW50cnkpLlRhZyA9PSBcIkJlZXBcIilbMF0gYXMgVGV4dERpY3Rpb25hcnlFbnRyeSk/LlRleHQgPz8gXCJcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gTUJDSCBhY3Rpb25zXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRhdGEuRGljdGlvbmFyeT8ucmVkdWNlKChhY2MsIGN1cnIpID0+IGFjYyB8fCAoKGN1cnIgYXMgYW55KS5UYWcgPT09IFwiTUlTU0lORyBURVhUIElOIFxcXCJJbnRlcmZhY2UuY3N2XFxcIjogXCIgJiYgKGN1cnIgYXMgYW55KS5UZXh0ID09PSBcIlxcdTIwMGNcIiksIGZhbHNlKSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2tzID0gQ2xpY2tDb3VudChkYXRhLkNvbnRlbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIEJDWCBhY3Rpb25zXG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2tzID0gQ2xpY2tDb3VudCgoZGF0YT8uRGljdGlvbmFyeT8uZmlsdGVyKCh4KSA9PiAoeCBhcyBUZXh0RGljdGlvbmFyeUVudHJ5KS5UYWcgPT0gYE1JU1NJTkcgVEVYVCBJTiBcIkludGVyZmFjZS5jc3ZcIjogJHtkYXRhPy5Db250ZW50fWApWzBdIGFzIFRleHREaWN0aW9uYXJ5RW50cnkpPy5UZXh0ID8/IFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrVHlwZSA9IENMSUNLRVJfVFlQRS5BQ1RJT047XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgLy8gQ291bnQgdGhlIGNsaWNrcyBpbiBhbiBhY3Rpdml0eVxuICAgICAgICAgICAgICAgIGNhc2UgXCJBY3Rpdml0eVwiOlxuICAgICAgICAgICAgICAgICAgICAvLyBFY2hvIGN1c3RvbSBhY3Rpb25zXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhPy5EaWN0aW9uYXJ5Py5zb21lKChpdGVtKSA9PiAoaXRlbSBhcyBUZXh0RGljdGlvbmFyeUVudHJ5KT8uVGFnID09PSBzZWFyY2hUYWcpKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGlja3MgPSBDbGlja0NvdW50KChkYXRhPy5EaWN0aW9uYXJ5Py5maWx0ZXIoKHgpID0+ICh4IGFzIFRleHREaWN0aW9uYXJ5RW50cnkpLlRhZyA9PT0gc2VhcmNoVGFnKVswXSBhcyBUZXh0RGljdGlvbmFyeUVudHJ5KT8uVGV4dCA/PyBcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjbGlja1R5cGUgPSBDTElDS0VSX1RZUEUuQUNUSU9OO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY2xpY2tzICE9PSAwXG4gICAgICAgICAgICAgICYmICgoY2xpY2tUeXBlID09PSBDTElDS0VSX1RZUEUuQ0hBVCAmJiBQbGF5ZXJDKCkuY2hhdClcbiAgICAgICAgICAgICAgICB8fCAoY2xpY2tUeXBlID09PSBDTElDS0VSX1RZUEUuRU1PVEUgJiYgUGxheWVyQygpLmVtb3RlcylcbiAgICAgICAgICAgICAgICB8fCAoY2xpY2tUeXBlID09PSBDTElDS0VSX1RZUEUuQUNUSU9OICYmIFBsYXllckMoKS5hY3Rpdml0aWVzKSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gUGxheSB0aGUgY2xpY2tzIGlmIG5lZWRlZFxuICAgICAgICAgICAgICAgIFBsYXlDbGlja2VyU291bmQoY2xpY2tzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEhhbmQgY2xpY2tlciBhY3Rpdml0eSB0cmlnZ2VyXG4gICAgICAgIEhvb2tGdW5jdGlvbihNb2R1bGVUaXRsZS5DbGlja2VyLCBcIkNoYXRSb29tTWVzc2FnZVwiLCAwLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgbmV4dChhcmdzKTtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhcmdzWzBdO1xuICAgICAgICAgICAgLy8gRm9yIHNvbWUgcmVhc29uIF9hLmZpbmQgaXMgbm90IGRlZmluZWRcbiAgICAgICAgICAgIC8vIEkgZG9uJ3Qga25vdyB3aHksIG9yIHdoeSBub3RcbiAgICAgICAgICAgIC8vIEJ1ZyBpcyBTY2hyw7ZkaW5nZXIncyBidWcsIGl0IG9ubHkgZXhpc3RzIHdoZW4gSSBkb24ndCBvYnNlcnZlIGl0XG4gICAgICAgICAgICAvLyBMb2dnaW5nIHRoZSBkYXRhIG9iamVjdCBhbmQgdGhlIGJ1ZyB2YW5pc2hlcy4uLlxuICAgICAgICAgICAgLy8gRWRpdDogTWFkZSBmcmFtZXdvcmsgdG8gaGFuZGxlIGZpbmRpbmcgYXR0cmlidXRlcyBmcm9tIENoYXRNZXNzYWdlRGljdGlvbmFyeS4gTm8gaXNzdWVzLi4uLi4gc28gZmFyLi4uXG4gICAgICAgICAgICBjb25zdCBhY3Rpdml0eU5hbWUgPSBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJBY3Rpdml0eU5hbWVcIikgYXMgc3RyaW5nO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIFBsYXllckMoKS5lbmFibGVkXG4gICAgICAgICAgICAgICAgJiYgZGF0YS5UeXBlID09PSBcIkFjdGl2aXR5XCJcbiAgICAgICAgICAgICAgICAmJiBhY3Rpdml0eU5hbWU/LnN0YXJ0c1dpdGgoXCJNUEFfQ2xpY2tlclwiKVxuICAgICAgICAgICAgICAgICYmIElzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAoZGF0YS5TZW5kZXIhLCBQbGF5ZXJDKCkuYXV0aGVkR3JvdXAgYXMgQXV0aG9yaXR5R3JvdXAsIFBsYXllckMoKS5zZWxmQXV0aGVkIGFzIGJvb2xlYW4pXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgUGxheUNsaWNrZXJTb3VuZChOdW1iZXIoYWN0aXZpdHlOYW1lLnNsaWNlKC0xKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBIb29rIGludG8gQkNYIGxpc3RlbiB0byB2b2ljZSwgbWF5IG5vdCBiZSBsb2FkZWQgcmlnaHQgYXdheSwgd2FpdCAxNSBzZWNvbmRzXG4gICAgICAgIGlmICghdGhpcy5oYXNCZWVuTG9hZGVkKVxuICAgICAgICB7XG4gICAgICAgICAgICBIb29rQkNYQ2xpY2tlcigpO1xuICAgICAgICAgICAgY29uc3QgaW52ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChiY3hIb29rZWQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludmVydmFsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgSG9va0JDWENsaWNrZXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCA2MDAwMCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5oYXNCZWVuTG9hZGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBVbmxvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3VwZXIuVW5sb2FkKCk7XG4gICAgfVxufVxuIiwiLy8gTmV2ZXIgc2VuZCBQcml2YXRlIE1QQSBkYXRhIGFjcm9zcyB0aGUgc2VydmVyIGFuZCBuZXZlciBhY2NlcHQgUHJpdmF0ZSBNUEEgZGF0YVxuaW1wb3J0IHsgSG9va0Z1bmN0aW9uIH0gZnJvbSBcIi4uL3V0aWwvc2RrXCI7XG5pbXBvcnQgeyBNb2R1bGUsIE1vZHVsZUlzUHVibGljLCBNb2R1bGVUaXRsZSB9IGZyb20gXCIuL19tb2R1bGVcIjtcbmltcG9ydCB7IEZpbmRDaGFyYWN0ZXJJblJvb20sIEdldE1QQU1lc3NhZ2VGcm9tQ2hhdCwgSG9va2VkTWVzc2FnZSwgaG9va2VkTWVzc2FnZXMsIE1QQU1lc3NhZ2VDb250ZW50LCBTZW5kTVBBTWVzc2FnZSB9IGZyb20gXCIuLi91dGlsL21lc3NhZ2luZ1wiO1xuXG4vKipcbiAqIFN5bmMgYWxsIG9mIHlvdXIgY3VycmVudCBzZXR0aW5ncyB3aXRoIGV2ZXJ5b25lIGVsc2VcbiAqIEBwYXJhbSByZXBseSAtIElmIHdlIHdhbnQgb3RoZXJzIHRvIHNoYXJlIHRoZWlyIHNldHRpbmdzIGJhY2tcbiAqIEBwYXJhbSB0YXJnZXQgLSBTaGFyZSBvbmx5IHRvIHRoaXMgb25lIE1lbWJlck51bWJlclxuICovXG5leHBvcnQgZnVuY3Rpb24gU2V0dGluZ1N5bmMocmVwbHk6IGJvb2xlYW4gPSBmYWxzZSwgdGFyZ2V0PzogbnVtYmVyKTogdm9pZFxue1xuICAgIGNvbnN0IHNldHRpbmdzID0gc3RydWN0dXJlZENsb25lKFBsYXllci5NUEEpO1xuICAgIE9iamVjdC5rZXlzKHNldHRpbmdzKS5mb3JFYWNoKChtb2R1bGVUaXRsZSkgPT5cbiAgICB7XG4gICAgICAgIGlmICghTW9kdWxlSXNQdWJsaWMobW9kdWxlVGl0bGUgYXMgTW9kdWxlVGl0bGUpKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZWxldGUgc2V0dGluZ3NbbW9kdWxlVGl0bGVdO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgU2VuZE1QQU1lc3NhZ2Uoe1xuICAgICAgICBtZXNzYWdlOiBcIlNldHRpbmdTeW5jXCIsXG4gICAgICAgIHNldHRpbmdzOiBzZXR0aW5ncyxcbiAgICAgICAgcmVwbHk6IHJlcGx5XG4gICAgfSwgdGFyZ2V0KTtcbn1cblxuLyoqXG4gKiBTeW5jIGFsbCBvZiB5b3VyIGN1cnJlbnQgc2V0dGluZ3Mgb2YgYSBnaXZlbiBjYXRlZ29yeSB3aXRoIG90aGVyc1xuICogQHBhcmFtIGNhdGVnb3J5IC0gV2hpY2ggTW9kdWxlVGl0bGUgY2F0ZWdvcnkgdG8gc2hhcmVcbiAqIEBwYXJhbSB0YXJnZXQgLSBTaGFyZSBvbmx5IHRvIHRoaXMgb25lIE1lbWJlck51bWJlclxuICovXG5leHBvcnQgZnVuY3Rpb24gQ2F0ZWdvcnlTeW5jKGNhdGVnb3J5OiBNb2R1bGVUaXRsZSwgdGFyZ2V0PzogbnVtYmVyKTogdm9pZFxue1xuICAgIGlmICghTW9kdWxlSXNQdWJsaWMoY2F0ZWdvcnkpKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBTZW5kTVBBTWVzc2FnZSh7XG4gICAgICAgIG1lc3NhZ2U6IFwiQ2F0ZWdvcnlTeW5jXCIsXG4gICAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeSxcbiAgICAgICAgdmFsdWU6IFBsYXllci5NUEFbY2F0ZWdvcnldXG4gICAgfSwgdGFyZ2V0KTtcbn1cblxuLyoqXG4gKiBTeW5jIG9ubHkgYSBzaW5nbGUgcmVjb3JkIGZyb20gYSBnaXZlbiBjYXRlZ29yeSB3aXRoIG90aGVyc1xuICogQHBhcmFtIGNhdGVnb3J5IC0gV2hpY2ggTW9kdWxlVGl0bGUgY2F0ZWdvcnkgdG8gc2hhcmVcbiAqIEBwYXJhbSByZWNvcmQgLSBSZWNvcmQgd2l0aGluIE1vZHVsZVRpdGxlIHlvdSB3YW50IHRvIHNoYXJlXG4gKiBAcGFyYW0gdGFyZ2V0IC0gU2hhcmUgb25seSB0byB0aGlzIG9uZSBNZW1iZXJOdW1iZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFJlY29yZFN5bmMoY2F0ZWdvcnk6IE1vZHVsZVRpdGxlLCByZWNvcmQ6IHN0cmluZywgdGFyZ2V0PzogbnVtYmVyKTogdm9pZFxue1xuICAgIFJlY29yZHNTeW5jKFt7IGNhdGVnb3J5OiBjYXRlZ29yeSwgcmVjb3JkOiByZWNvcmQgfV0sIHRhcmdldCk7XG59XG5cbnR5cGUgVHJhbnNtaXRSZWNvcmRzID0geyBjYXRlZ29yeTogTW9kdWxlVGl0bGU7IHJlY29yZDogc3RyaW5nOyB2YWx1ZT86IGFueSB9W107XG4vKipcbiAqIFN5bmMgbXVsdGlwbGUgcmVjb3JkcyBmcm9tIGFueSBnaXZlbiBjYXRlZ29yeSB3aXRoIG90aGVyc1xuICogQHBhcmFtIHJlY29yZHMuY2F0ZWdvcnkgLSBXaGljaCBNb2R1bGVUaXRsZSBjYXRlZ29yeSB0byBzaGFyZVxuICogQHBhcmFtIHJlY29yZHMucmVjb3JkIC0gUmVjb3JkIHdpdGhpbiBNb2R1bGVUaXRsZSB5b3Ugd2FudCB0byBzaGFyZVxuICogQHBhcmFtIHRhcmdldCAtIFNoYXJlIG9ubHkgdG8gdGhpcyBvbmUgTWVtYmVyTnVtYmVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBSZWNvcmRzU3luYyhyZWNvcmRzOiBUcmFuc21pdFJlY29yZHMsIHRhcmdldD86IG51bWJlcik6IHZvaWRcbntcbiAgICBmb3IgKGxldCBpID0gcmVjb3Jkcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICB7XG4gICAgICAgIGNvbnN0IHJlY29yZCA9IHJlY29yZHNbaV07XG4gICAgICAgIGlmICghTW9kdWxlSXNQdWJsaWMocmVjb3JkLmNhdGVnb3J5KSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmVjb3Jkcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICByZWNvcmQudmFsdWUgPSBQbGF5ZXIuTVBBW3JlY29yZC5jYXRlZ29yeV1bcmVjb3JkLnJlY29yZF07XG4gICAgfVxuICAgIGlmIChyZWNvcmRzLmxlbmd0aCA9PT0gMClcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgU2VuZE1QQU1lc3NhZ2Uoe1xuICAgICAgICBtZXNzYWdlOiBcIlJlY29yZHNTeW5jXCIsXG4gICAgICAgIHJlY29yZHM6IHJlY29yZHNcbiAgICB9LCB0YXJnZXQpO1xufVxuXG5leHBvcnQgY2xhc3MgRGF0YVN5bmNNb2R1bGUgZXh0ZW5kcyBNb2R1bGVcbntcbiAgICBnZXQgVGl0bGUoKTogTW9kdWxlVGl0bGVcbiAgICB7XG4gICAgICAgIHJldHVybiBNb2R1bGVUaXRsZS5EYXRhU3luYztcbiAgICB9XG5cbiAgICBnZXQgU3luY0xpc3RlbmVycygpOiBIb29rZWRNZXNzYWdlW11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbW9kdWxlOiBNb2R1bGVUaXRsZS5EYXRhU3luYyxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlNldHRpbmdTeW5jXCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoc2VuZGVyOiBDaGFyYWN0ZXIsIGNvbnRlbnQ6IE1QQU1lc3NhZ2VDb250ZW50KTogdm9pZFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbmRlci5NZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXIpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzZW5kZXIuTVBBID0gY29udGVudC5zZXR0aW5ncztcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnQucmVwbHkpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFNldHRpbmdTeW5jKGZhbHNlLCBzZW5kZXIuTWVtYmVyTnVtYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBtb2R1bGU6IE1vZHVsZVRpdGxlLkRhdGFTeW5jLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQ2F0ZWdvcnlTeW5jXCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoc2VuZGVyOiBDaGFyYWN0ZXIsIGNvbnRlbnQ6IE1QQU1lc3NhZ2VDb250ZW50KTogdm9pZFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbmRlci5NZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXIpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIXNlbmRlci5NUEEpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFNldHRpbmdTeW5jKGZhbHNlLCBzZW5kZXIuTWVtYmVyTnVtYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRlci5NUEFbY29udGVudC5jYXRlZ29yeV0gPSBjb250ZW50LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIG1vZHVsZTogTW9kdWxlVGl0bGUuRGF0YVN5bmMsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJSZWNvcmRzU3luY1wiLFxuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKHNlbmRlcjogQ2hhcmFjdGVyLCBjb250ZW50OiBNUEFNZXNzYWdlQ29udGVudCk6IHZvaWRcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZW5kZXIuTWVtYmVyTnVtYmVyID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCByZWNvcmQgb2YgY29udGVudC5yZWNvcmRzIGFzIFRyYW5zbWl0UmVjb3JkcylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzZW5kZXI/Lk1QQT8uW3JlY29yZC5jYXRlZ29yeV0pXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2F0ZWdvcnlTeW5jKGNvbnRlbnQuY2F0ZWdvcnksIHNlbmRlci5NZW1iZXJOdW1iZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRlci5NUEFbcmVjb3JkLmNhdGVnb3J5XVtyZWNvcmQucmVjb3JkXSA9IHJlY29yZC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBMb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLkxvYWQoKTtcblxuICAgICAgICAvLyBNUEEgbG9hZGVkIGluIGEgY2hhdHJvb20sIFN5bmMgd2l0aCBvdGhlcnMgaW4gdGhlIHJvb21cbiAgICAgICAgaWYgKENoYXRSb29tQ2hhcmFjdGVyLmxlbmd0aCAhPT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgU2V0dGluZ1N5bmModHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBXaGVuIGpvaW5pbmcgYSByb29tLCBzeW5jIE1QQSBzZXR0aW5ncyB3aXRoIGV2ZXJ5b25lIGVsc2VcbiAgICAgICAgSG9va0Z1bmN0aW9uKE1vZHVsZVRpdGxlLkRhdGFTeW5jLCBcIkNoYXRSb29tU3luY1wiLCAwLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgbmV4dChhcmdzKTtcbiAgICAgICAgICAgIFNldHRpbmdTeW5jKHRydWUpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBTeW5jIHJlcXVlc3QsIGhhbmRsZSBhbmQgcmVwbHkgaWYgbmVlZGVkXG4gICAgICAgIEhvb2tGdW5jdGlvbihNb2R1bGVUaXRsZS5EYXRhU3luYywgXCJDaGF0Um9vbU1lc3NhZ2VcIiwgMCwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhcmdzWzBdO1xuICAgICAgICAgICAgY29uc3QgY29udGVudCA9IEdldE1QQU1lc3NhZ2VGcm9tQ2hhdChkYXRhKTtcbiAgICAgICAgICAgIGlmICghY29udGVudClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHNlbmRlciA9IEZpbmRDaGFyYWN0ZXJJblJvb20oZGF0YS5TZW5kZXIgPz8gXCJcIiwgeyBNZW1iZXJOdW1iZXI6IHRydWUsIE5hbWU6IGZhbHNlLCBOaWNrbmFtZTogZmFsc2UgfSk7XG4gICAgICAgICAgICBpZiAoIXNlbmRlcilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSGFuZGxlIHRoZSBkYXRhIGxpc3RlbmVyc1xuICAgICAgICAgICAgaG9va2VkTWVzc2FnZXMuZm9yRWFjaCgoaG9vaykgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoY29udGVudC5tZXNzYWdlID09PSBob29rLm1lc3NhZ2UpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBob29rLmFjdGlvbihzZW5kZXIsIGNvbnRlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBVbmxvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3VwZXIuVW5sb2FkKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgSG9va0Z1bmN0aW9uIH0gZnJvbSBcIi4uL3V0aWwvc2RrXCI7XG5pbXBvcnQgeyBNb2R1bGUsIE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4vX21vZHVsZVwiO1xuXG5leHBvcnQgbGV0IGRlYWZlblByb2Nlc3MgPSBmYWxzZTtcblxuZXhwb3J0IGNsYXNzIFByaXZhdGVNb2R1bGUgZXh0ZW5kcyBNb2R1bGVcbntcbiAgICBnZXQgVGl0bGUoKTogTW9kdWxlVGl0bGVcbiAgICB7XG4gICAgICAgIHJldHVybiBNb2R1bGVUaXRsZS5Qcml2YXRlO1xuICAgIH1cblxuICAgIGdldCBTZXR0aW5ncygpOiBTZXR0aW5nW11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJzYXZlZEJlZFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwicmVjb3JkXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiXCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNhdmVkQm93bFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwicmVjb3JkXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBMb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIC8vIEkgaGF0ZSB0aGF0IHRoaXMgaXMgdGhlIGJlc3Qgd2F5IEkgY291bGQgdGhpbmsgb2YgY2hlY2tpbmcgaWYgc3BlZWNoIGdhcmJsZSBpcyBnYWdnaW5nIG9yIGRlYWZlbmluZ1xuICAgICAgICAvLyBCRUNBVVNFIE9GIENPVVJTRSBUSEVZIEFSRSBUSEUgRVhBQ1QgU0FNRSBDQUxMXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIlNwZWVjaFRyYW5zZm9ybVByb2Nlc3NcIiwgMTAsIChbQywgdGV4dCwgZWZmZWN0cywgaWdub3JlT09DXSwgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgLy8gUmVtb3ZlIGRlYWZlbiBiZWZvcmUgaXQgaGFwcGVucyBidXQgcmVtZW1lYmVyIGlmIGl0IHdhcyB0aGVyZVxuICAgICAgICAgICAgbGV0IGhhZERlYWZlbiA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKGVmZmVjdHMuaW5jbHVkZXMoXCJkZWFmZW5cIikpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaGFkRGVhZmVuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBlZmZlY3RzID0gZWZmZWN0cy5maWx0ZXIoKGVmZmVjdCkgPT4gZWZmZWN0ICE9PSBcImRlYWZlblwiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTGV0IGFsbCBvdGhlciBzcGVlY2ggcHJvY2Vzc2luZyBoYXBwZW4sIGRlYWZlbiB3aWxsIG5vdFxuICAgICAgICAgICAgY29uc3Qgb3V0cHV0ID0gbmV4dChbQywgdGV4dCwgZWZmZWN0cywgaWdub3JlT09DXSk7XG5cbiAgICAgICAgICAgIC8vIE5vdyBkbyB0aGUgZGVhZmVuIGNoZWNrIHRoYXQgd2FzIG5vdCBkb25lIGJlZm9yZSB0byBhZGQgcGFyYW1ldGVyIHRvIHRyYWNrXG4gICAgICAgICAgICBpZiAoaGFkRGVhZmVuKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGludGVuc2l0eSA9IFNwZWVjaFRyYW5zZm9ybURlYWZlbkludGVuc2l0eShDKTtcbiAgICAgICAgICAgICAgICBpZiAoaW50ZW5zaXR5ID4gMClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRlYWZlblByb2Nlc3MgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBvdXRwdXQuZWZmZWN0cy5wdXNoKFwiZGVhZmVuXCIpO1xuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlIFBhdGNoaW5nIHRoaXMgZnVuY3Rpb24gdG8gYWRkIEMgZm9yIE1CU1xuICAgICAgICAgICAgICAgICAgICBvdXRwdXQudGV4dCA9IFNwZWVjaFRyYW5zZm9ybUdhZ0dhcmJsZSh0ZXh0LCBpbnRlbnNpdHksIGlnbm9yZU9PQywgQyk7XG4gICAgICAgICAgICAgICAgICAgIGRlYWZlblByb2Nlc3MgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgICAgICB9KTtcbiAgICAgICAgc3VwZXIuTG9hZCgpO1xuICAgIH1cblxuICAgIFVubG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5VbmxvYWQoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBGaWx0ZXJBcnJheUZyb21BcnJheSwgUmFuZG9tRWxlbWVudCB9IGZyb20gXCIuLi91dGlsL2dlbmVyYWxcIjtcbmltcG9ydCB7IGJjeEFQSSwgYmN4Rm91bmQsIEhvb2tGdW5jdGlvbiB9IGZyb20gXCIuLi91dGlsL3Nka1wiO1xuaW1wb3J0IHsgTW9kdWxlLCBNb2R1bGVUaXRsZSB9IGZyb20gXCIuL19tb2R1bGVcIjtcbmltcG9ydCB7IEVsZW1lbnROYW1lIH0gZnJvbSBcIi4vc2V0dGluZ3NcIjtcbmltcG9ydCB7IEFwcGx5UGV0SGVhcmluZywgRGlzcnVwdGl2ZVBldFNwZWVjaCwgTm9uRGlzcnVwdGl2ZVBldFNwZWVjaCB9IGZyb20gXCIuLi91dGlsL3BldEhlYXJBbmRTcGVha1wiO1xuaW1wb3J0IHsgSG9va2VkTWVzc2FnZSwgTVBBTWVzc2FnZUNvbnRlbnQsIFNlbmRNUEFNZXNzYWdlIH0gZnJvbSBcIi4uL3V0aWwvbWVzc2FnaW5nXCI7XG5pbXBvcnQgeyBSZWNvcmRzU3luYyB9IGZyb20gXCIuL2RhdGFTeW5jXCI7XG5pbXBvcnQgeyBJc01lbWJlck51bWJlckluQXV0aEdyb3VwIH0gZnJvbSBcIi4uL3V0aWwvYXV0aG9yaXR5XCI7XG5pbXBvcnQgeyBkZWFmZW5Qcm9jZXNzIH0gZnJvbSBcIi4vcHJpdmF0ZVwiO1xuXG5pbXBvcnQgYmVsbDEgZnJvbSBcIi4uLy4uL2Fzc2V0cy9iZWxsMS5tcDNcIjtcbmltcG9ydCBiZWxsMiBmcm9tIFwiLi4vLi4vYXNzZXRzL2JlbGwyLm1wM1wiO1xuaW1wb3J0IGJlbGwzIGZyb20gXCIuLi8uLi9hc3NldHMvYmVsbDMubXAzXCI7XG5pbXBvcnQgYmVsbDQgZnJvbSBcIi4uLy4uL2Fzc2V0cy9iZWxsNC5tcDNcIjtcbmltcG9ydCBiZWxsNSBmcm9tIFwiLi4vLi4vYXNzZXRzL2JlbGw1Lm1wM1wiO1xuaW1wb3J0IGppbmdsZTEgZnJvbSBcIi4uLy4uL2Fzc2V0cy9qaW5nbGUxLm1wM1wiO1xuaW1wb3J0IGppbmdsZTIgZnJvbSBcIi4uLy4uL2Fzc2V0cy9qaW5nbGUyLm1wM1wiO1xuaW1wb3J0IGppbmdsZTMgZnJvbSBcIi4uLy4uL2Fzc2V0cy9qaW5nbGUzLm1wM1wiO1xuaW1wb3J0IGppbmdsZTQgZnJvbSBcIi4uLy4uL2Fzc2V0cy9qaW5nbGU0Lm1wM1wiO1xuaW1wb3J0IGppbmdsZTUgZnJvbSBcIi4uLy4uL2Fzc2V0cy9qaW5nbGU1Lm1wM1wiO1xuaW1wb3J0IHJpbmcxIGZyb20gXCIuLi8uLi9hc3NldHMvcmluZzEubXAzXCI7XG5pbXBvcnQgcmluZzIgZnJvbSBcIi4uLy4uL2Fzc2V0cy9yaW5nMi5tcDNcIjtcbmltcG9ydCByaW5nMyBmcm9tIFwiLi4vLi4vYXNzZXRzL3JpbmczLm1wM1wiO1xuaW1wb3J0IHJpbmc0IGZyb20gXCIuLi8uLi9hc3NldHMvcmluZzQubXAzXCI7XG5pbXBvcnQgcmluZzUgZnJvbSBcIi4uLy4uL2Fzc2V0cy9yaW5nNS5tcDNcIjtcblxuY29uc3QgQkVMTFMgPSBbXG4gICAgbmV3IEF1ZGlvKGJlbGwxKSxcbiAgICBuZXcgQXVkaW8oYmVsbDIpLFxuICAgIG5ldyBBdWRpbyhiZWxsMyksXG4gICAgbmV3IEF1ZGlvKGJlbGw0KSxcbiAgICBuZXcgQXVkaW8oYmVsbDUpLFxuICAgIG5ldyBBdWRpbyhqaW5nbGUxKSxcbiAgICBuZXcgQXVkaW8oamluZ2xlMiksXG4gICAgbmV3IEF1ZGlvKGppbmdsZTMpLFxuICAgIG5ldyBBdWRpbyhqaW5nbGU0KSxcbiAgICBuZXcgQXVkaW8oamluZ2xlNSksXG4gICAgbmV3IEF1ZGlvKHJpbmcxKSxcbiAgICBuZXcgQXVkaW8ocmluZzIpLFxuICAgIG5ldyBBdWRpbyhyaW5nMyksXG4gICAgbmV3IEF1ZGlvKHJpbmc0KSxcbiAgICBuZXcgQXVkaW8ocmluZzUpXG5dO1xuQkVMTFMuZm9yRWFjaCgoYXVkaW8pID0+XG57XG4gICAgYXVkaW8udm9sdW1lID0gMC4yMDtcbn0pO1xuXG5jb25zdCBQbGF5ZXJQOiAoQz86IENoYXJhY3RlcikgPT4gTVBBUmVjb3JkID0gKEM6IENoYXJhY3RlciA9IFBsYXllcikgPT5cbntcbiAgICByZXR1cm4gQy5NUEE/LltNb2R1bGVUaXRsZS5Qcm9maWxlXSA/PyB7fTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBJc0hhcmRjb3JlT24oQzogQ2hhcmFjdGVyKTogYm9vbGVhblxue1xuICAgIHJldHVybiAoQy5NUEE/LltNb2R1bGVUaXRsZS5Qcm9maWxlXS5oYXJkY29yZSBhcyBib29sZWFuIHwgdW5kZWZpbmVkKSA/PyBmYWxzZTtcbn07XG5cbmZ1bmN0aW9uIEdldFJlY29yZCh0aXRsZTogTW9kdWxlVGl0bGUsIEM6IENoYXJhY3RlciA9IFBsYXllcik6IE1QQVJlY29yZFxue1xuICAgIHJldHVybiBDLk1QQT8uW3RpdGxlXSA/PyB7fTtcbn1cblxuLy8gTWFrZSBzdXJlIG5vdCBpbiBCQ1ggYmFubmVkIHdvcmRzIC8gcGhyYXNlc1xuLy8gRG9uJ3QgYmxhbWUgbWUgZm9yIHRoZSBzZWxlY3Rpb24sIGhvdyBhcmUgeW91IHN1cHBvc2VkIHRvIHR5cGUgb3V0IHRoZXNlIGFuaW1hbCBzb3VuZHNcbi8vIEhhbGYgdGhpcyBjYW1lIGZyb20gY2hhdCBncHQgYW55d2F5LCBpZiB5b3UgZ290IHNvbWV0aGluZyBiZXR0ZXIsIGZlZWwgZnJlZSB0byBzdWdnZXN0IGl0XG5leHBvcnQgY29uc3QgR0FSQkxFX1BIUkFTRVMgPSBPYmplY3QuZnJlZXplKHtcbiAgICBIdW1hbjogW1wiaG1tZ21cIiwgXCJtbW1tXCIsIFwibWhobW1hYVwiLCBcImhtbW1cIl0sXG4gICAgQ3VzdG9tOiBbXCJcIl0sXG4gICAgQnVubnk6IFtcInBvblwiLCBcInB5b25cIiwgXCJlZXBcIiwgXCJodWZmXCIsIFwidGstdGtcIiwgXCJubmdoLW5uZ2hcIl0sXG4gICAgQ2F0OiBbXCJtZW93XCIsIFwibWV3XCIsIFwibnlhaFwiLCBcIm55YVwiLCBcInB1cnJcIiwgXCJtcnJvd1wiLCBcInBycnJcIl0sXG4gICAgQ293OiBbXCJtb29cIiwgXCJtb29vb29cIiwgXCJtdXVoaGhcIiwgXCJtb29vYWhcIl0sXG4gICAgRG9nOiBbXCJhcmZcIiwgXCJ3b29mXCIsIFwiYmFya1wiLCBcInJ1ZmZcIiwgXCJodWZmXCIsIFwiZWVwXCJdLFxuICAgIEZveDogW1wiY2hpcnBcIiwgXCJ5aXBcIiwgXCJ3b3ctd293XCIsIFwieW93d1wiLCBcImVlcFwiXSxcbiAgICBNb3VzZTogW1wic3F1ZWFrXCIsIFwiZWVla1wiLCBcInRjaC10Y2hcIiwgXCJ3aS1pLWlcIiwgXCJzc3NcIl0sXG4gICAgUG9ueTogW1wibmVpZ2hcIiwgXCJ3aGlubnlcIiwgXCJ3aGVlZVwiLCBcInNucnRcIiwgXCJ3aG9vb3NoXCIsIFwiaHVmZlwiLCBcIm5uaGhoLWtlclwiXSxcbiAgICBXb2xmOiBbXCJhd29vXCIsIFwiYWEtb29vXCIsIFwid29vZlwiLCBcInJ1ZmZcIiwgXCJhcmZcIiwgXCJ3aWlpcFwiLCBcImh1ZmZcIl1cbn0pO1xudHlwZSBQZXRTcGVha2luZ0tleXMgPSBrZXlvZiB0eXBlb2YgR0FSQkxFX1BIUkFTRVM7XG5cbi8qKlxuICogR2V0IHRoZSBwZXQgZ2FyYmxlIHBocmFzZXMgZm9yIHRoZSBzZWxlY3RlZCBwcm9maWxlXG4gKiBAcGFyYW0gcHJvZmlsZSAtIERlZmF1bHRzIHRvIFBsYXllcidzIHByb2ZpbGUgaWYgbm9uZSBwcm92aWRlZFxuICovXG5mdW5jdGlvbiBHZXRQZXRHYXJibGVQaHJhc2VzKHByb2ZpbGU6IFBldFNwZWFraW5nS2V5cyA9IFBsYXllclAoUGxheWVyKS50eXBlKTogc3RyaW5nW11cbntcbiAgICBpZiAocHJvZmlsZSBpbiBHQVJCTEVfUEhSQVNFUyAmJiBwcm9maWxlICE9PSBcIkN1c3RvbVwiKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIEdBUkJMRV9QSFJBU0VTW3Byb2ZpbGVdO1xuICAgIH1cbiAgICByZXR1cm4gKFBsYXllclAoUGxheWVyKS5nYXJibGVQaHJhc2VzIGFzIHN0cmluZykuc3BsaXQoXCIsXCIpLm1hcCgoc3RyKSA9PiBzdHIudHJpbSgpKTtcbn1cblxuLyoqXG4gKiBPbmx5IGluY2x1ZGUgcGV0IHNvdW5kcyB0aGF0IGFyZSBwZXJtaXR0ZWQgYnkgQkNYXG4gKiBAcGFyYW0gcHJvZmlsZSAtIERlZmF1bHRzIHRvIFBsYXllcidzIHByb2ZpbGVcbiAqIEByZXR1cm5zIFBocmFzZXMgQkNYIHdvbid0IGdldCBtYWQgYXRcbiAqL1xuZnVuY3Rpb24gR2V0QWxsb3dlZFBldEdhcmJsZVBocmFzZXMocHJvZmlsZTogUGV0U3BlYWtpbmdLZXlzID0gUGxheWVyUChQbGF5ZXIpLnR5cGUpOiBzdHJpbmdbXVxue1xuICAgIGNvbnN0IGJhbm5lZEJDWFdvcmRzID0gYmN4QVBJKCk/LmdldFJ1bGVTdGF0ZShcInNwZWVjaF9iYW5fd29yZHNcIik/LmN1c3RvbURhdGE/LmJhbm5lZFdvcmRzID8/IFtdO1xuICAgIGNvbnN0IHBldFBocmFzZXMgPSBiY3hGb3VuZCgpICYmIFBsYXllclAoUGxheWVyKS5iY3hTcGVha2luZyA/XG4gICAgICAgIGJjeEFQSSgpPy5nZXRSdWxlU3RhdGUoXCJzcGVlY2hfbWFuZGF0b3J5X3dvcmRzXCIpPy5jdXN0b21EYXRhPy5tYW5kYXRvcnlXb3JkcyA/PyBbXSA6XG4gICAgICAgIEdldFBldEdhcmJsZVBocmFzZXMocHJvZmlsZSk7XG4gICAgcmV0dXJuIChGaWx0ZXJBcnJheUZyb21BcnJheShwZXRQaHJhc2VzLCBiYW5uZWRCQ1hXb3JkcykgYXMgc3RyaW5nW10pXG4gICAgICAgIC5tYXAoKHBocmFzZSkgPT4gcGhyYXNlLnRvTG9jYWxlTG93ZXJDYXNlKCkudHJpbSgpKVxuICAgICAgICAuZmlsdGVyKChzdHIpID0+IHN0ci5sZW5ndGggIT0gMCk7XG59XG5cbmV4cG9ydCBjb25zdCBQRVRfSEVBUklORyA9IE9iamVjdC5mcmVlemUoe1xuICAgIEFsbDogW1wib3duZXJcIiwgXCJwZXRcIiwgXCJtYXN0ZXJcIiwgXCJtaXN0cmVzc1wiLCBcIm1pc3NcIiwgXCJzaXJcIiwgXCJwYXdcIiwgXCJzaXRcIiwgXCJjb21lXCIsIFwiZG93blwiLCBcInVwXCIsXG4gICAgICAgIFwic3RheVwiLCBcIndhdGVyXCIsIFwiZm9vZFwiLCBcImtpYmJsZVwiLCBcImVhdFwiLCBcInRyZWF0XCIsIFwiZHJpbmtcIiwgXCJ0b3lcIiwgXCJwbGF5XCIsIFwibGVhc2hcIiwgXCJ3YWxrXCIsXG4gICAgICAgIFwid2Fsa2llc1wiLCBcImJlZFwiLCBcInNsZWVwXCIsIFwiY3V0aWVcIiwgXCJhZG9yYWJsZVwiLCBcInRveVwiLCBcInBsYXlcIiwgXCJraWJibGVcIiwgXCJnb29kXCIsIFwiYmFkXCIsXG4gICAgICAgIFwibGFwXCIsIFwic3BlYWtcIiwgXCJodXNoXCIsIFwicXVpZXRcIiwgXCJodXNoXCIsIFwiYWxsIGZvdXJzXCIsIFwiYWxsLWZvdXJzXCJdLFxuICAgIEh1bWFuOiBbXSxcbiAgICBDdXN0b206IFtdLFxuICAgIEJ1bm55OiBbXCJidW5cIiwgXCJidW5ueVwiLCBcImNhcnJvdFwiLCBcImhvcFwiLCBcImp1bXBcIiwgXCJodW1wXCIsIFwiZWFyXCIsIFwiZWFyc1wiXSxcbiAgICBDYXQ6IFtcImNhdFwiLCBcImtpdHR5XCIsIFwia2l0dGVuXCIsIFwiY2F0bmlwXCIsIFwia25lYWRcIiwgXCJzY3JhdGNoXCIsIFwieWFyblwiLCBcIm1pbGtcIl0sXG4gICAgQ293OiBbXCJtaWxrXCIsIFwibWlsa2luZ1wiLCBcInV0dGVyXCIsIFwiYnJlYXN0XCIsIFwiZ3Jhc3NcIiwgXCJtb29cIl0sXG4gICAgRG9nOiBbXCJjYWdlXCIsIFwia2VubmVsXCIsIFwicHVwXCIsIFwicHVwcHlcIiwgXCJkb2dcIiwgXCJkb2dneVwiLCBcImJvbmVcIiwgXCJmZXRjaFwiLCBcImhlZWxcIiwgXCJyb2xsXCIsIFwib3ZlclwiLCBcImJhcmtcIl0sXG4gICAgRm94OiBbXCJ0cmFwXCIsIFwiYnVuXCIsIFwiYnVubnlcIiwgXCJib25lXCIsIFwiZm94XCIsIFwiZm94eVwiXSxcbiAgICBNb3VzZTogW1wibW91c2VcIiwgXCJlYXJcIiwgXCJlYXJzXCIsIFwidHJhcFwiLCBcIndpcmVcIiwgXCJ3aGVlbFwiLCBcImNoZWVzZVwiLCBcIm5pYmJsZVwiLCBcImNhdFwiLCBcImtpdHR5XCIsIFwia2l0dGVuXCJdLFxuICAgIFBvbnk6IFtcInBvbnlcIiwgXCJtYXJlXCIsIFwic3RhbGxpb25cIiwgXCJicmlkbGVcIiwgXCJob29mXCIsIFwiaG9vdmVzXCIsIFwidHJvdFwiLCBcInN0YWxsXCIsIFwiaGF5XCIsIFwid29haFwiLFxuICAgICAgICBcInN0b21wXCIsIFwiY2FsbVwiLCBcImVhc3lcIiwgXCJzbG93XCIsIFwiY2FydFwiLCBcImJheVwiLCBcInJ1blwiLCBcInJhY2VcIiwgXCJzaG93XCIsIFwiY2FudGVyXCIsIFwiZ2FsbG9wXCJdLFxuICAgIFdvbGY6IFtcImJvbmVcIiwgXCJ3b2xmXCIsIFwiZG9nXCIsIFwicHVwXCIsIFwicHVwcHlcIiwgXCJoZWVsXCJdXG59KTtcbnR5cGUgUGV0SGVhcmluZ0tleXMgPSBrZXlvZiB0eXBlb2YgUEVUX0hFQVJJTkc7XG5cbi8qKlxuICogR2V0dGhlIHBldCBoZWFyaW5nIHBocmFzZXMgYmFzZWQgb24gdGhlIHNlbGVjdGVkIHByb2ZpbGVcbiAqIEBwYXJhbSBwcm9maWxlIC0gRGVmYXVsdHMgdG8gUGxheWVyJ3MgcHJvZmlsZVxuICovXG5mdW5jdGlvbiBHZXRQZXRIZWFyaW5nUGhyYXNlcyhwcm9maWxlOiBQZXRIZWFyaW5nS2V5cyA9IFBsYXllclAoUGxheWVyKS50eXBlKTogc3RyaW5nW11cbntcbiAgICBpZiAocHJvZmlsZSBpbiBQRVRfSEVBUklORylcbiAgICB7XG4gICAgICAgIHJldHVybiBQRVRfSEVBUklORy5BbGwuY29uY2F0KFBFVF9IRUFSSU5HW3Byb2ZpbGVdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gUEVUX0hFQVJJTkcuQWxsO1xufVxuXG4vKipcbiAqIENhbGxiYWNrIHdoZW4gcHJvZmlsZSB0eXBlIGlzIHNldFxuICogQHBhcmFtIEMgLSBDaGFyYWN0ZXIgd2hvIHdlIGFyZSBzZXR0aW5nXG4gKiBAcGFyYW0gdmFsdWUgLSBXaGF0IHRoZSBuZXcgdHlwZSBpc1xuICogQHBhcmFtIHByZXZWYWx1ZSAtIFdoYXQgdGhlIHByZXZpb3VzIHR5cGUgd2FzXG4gKi9cbmZ1bmN0aW9uIFNldFByb2ZpbGVUeXBlKEM6IENoYXJhY3RlciwgdmFsdWU6IHN0cmluZywgcHJldlZhbHVlOiBzdHJpbmcpOiB2b2lkXG57XG4gICAgY29uc3QgZWxlSUQgPSBFbGVtZW50TmFtZShNb2R1bGVUaXRsZS5Qcm9maWxlLCBcImdhcmJsZVBocmFzZXNcIik7XG4gICAgaWYgKHZhbHVlID09PSBcIkN1c3RvbVwiKVxuICAgIHtcbiAgICAgICAgUGxheWVyUChDKS5nYXJibGVQaHJhc2VzID0gUGxheWVyUChDKS5jdXN0b21HYXJibGVQaHJhc2VzLmpvaW4oXCIsIFwiKTtcbiAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZUlEKSlcbiAgICAgICAge1xuICAgICAgICAgICAgRWxlbWVudFZhbHVlKGVsZUlELCBQbGF5ZXJQKEMpLmdhcmJsZVBocmFzZXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHByZXZWYWx1ZSA9PT0gXCJDdXN0b21cIiAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVJRCkpXG4gICAge1xuICAgICAgICBQbGF5ZXJQKEMpLmN1c3RvbUdhcmJsZVBocmFzZXMgPSBFbGVtZW50VmFsdWUoZWxlSUQpLnNwbGl0KFwiLFwiKS5tYXAoKHgpID0+IHgudHJpbSgpKTtcbiAgICB9XG4gICAgUGxheWVyUChDKS5nYXJibGVQaHJhc2VzID0gKEdBUkJMRV9QSFJBU0VTW1BsYXllclAoQykudHlwZV0gYXMgc3RyaW5nW10pLmpvaW4oXCIsIFwiKTtcblxuICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVJRCkpXG4gICAge1xuICAgICAgICBFbGVtZW50VmFsdWUoZWxlSUQsIFBsYXllclAoQykuZ2FyYmxlUGhyYXNlcyk7XG4gICAgfVxufVxuXG4vKipcbiAqIFNldCBwcm9maWxlIGJjeCBzcGVha2luZyBmb3IgdGhlIGxvY2FsIHBsYXllclxuICovXG5mdW5jdGlvbiBTZXRCQ1hTcGVhaygpOiB2b2lkXG57XG4gICAgUGxheWVyUCgpLmJjeFNwZWFraW5nID0gdHJ1ZTtcbiAgICBjb25zdCBlbGVJRCA9IEVsZW1lbnROYW1lKE1vZHVsZVRpdGxlLlByb2ZpbGUsIFwiZ2FyYmxlUGhyYXNlc1wiKTtcbiAgICAvLyBTYXZlIHByZXZpb3VzIHdvcmRzIGlmIG5lZWRlZFxuICAgIGlmIChQbGF5ZXJQKCkudHlwZSA9PT0gXCJDdXN0b21cIiAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVJRCkpXG4gICAge1xuICAgICAgICBQbGF5ZXJQKCkuY3VzdG9tR2FyYmxlUGhyYXNlcyA9IEVsZW1lbnRWYWx1ZShlbGVJRCkuc3BsaXQoXCIsXCIpLm1hcCgoeCkgPT4geC50cmltKCkpO1xuICAgIH1cbiAgICBjb25zdCB3b3JkcyA9IGJjeEFQSSgpPy5nZXRSdWxlU3RhdGUoXCJzcGVlY2hfbWFuZGF0b3J5X3dvcmRzXCIpPy5jdXN0b21EYXRhPy5tYW5kYXRvcnlXb3JkcyA/PyBbXTtcbiAgICBQbGF5ZXJQKCkuZ2FyYmxlUGhyYXNlcyA9IHdvcmRzLmpvaW4oXCIsIFwiKTtcbiAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlSUQpKVxuICAgIHtcbiAgICAgICAgRWxlbWVudFZhbHVlKGVsZUlELCBQbGF5ZXJQKCkuZ2FyYmxlUGhyYXNlcyk7XG4gICAgfVxufVxuXG5jb25zdCBHQUdHSU5HX1NUUkVOR1RIX01BUCA9IE9iamVjdC5mcmVlemUoe1xuICAgIExvdzogMC4wMTUsXG4gICAgTWVkaXVtOiAwLjA1LFxuICAgIEhpZ2g6IDAuMSxcbiAgICBNYXg6IDFcbn0pO1xuXG5jb25zdCBNT1ZFTUVOVF9WRVJCUzogc3RyaW5nW10gPSBbXG4gICAgXCJib3VuY2VcIiwgXCJib3VuY2VzXCIsIFwiY3Jhd2xcIiwgXCJjcmF3bHNcIiwgXCJkYXNoXCIsIFwiZGFzaGVzXCIsXG4gICAgXCJmbHlcIiwgXCJmbGllc1wiLCBcImdhbGxvcFwiLCBcImdhbGxvcHNcIiwgXCJob3BcIiwgXCJob3BzXCIsXG4gICAgXCJqb2dcIiwgXCJqb2dzXCIsIFwicnVuXCIsIFwicnVuc1wiLCBcInNjYW1wZXJcIiwgXCJzY2FtcGVyXCIsXG4gICAgXCJzcHJpbmdcIiwgXCJzcHJpbmdzXCIsIFwic3RlcFwiLCBcInN0ZXBzXCIsIFwidHJvdFwiLCBcInRyb3RzXCIsXG4gICAgXCJ3YWxrXCIsIFwid2Fsa3NcIiwgXCJ3aWdnbGVcIiwgXCJ3aWdnbGVzXCIsIFwid29iYmxlXCIsIFwid29iYmxlc1wiXG5dO1xuY29uc3QgTU9WRU1FTlRfUkVHRVggPSBuZXcgUmVnRXhwKGBcXFxcYigke01PVkVNRU5UX1ZFUkJTLmpvaW4oXCJ8XCIpfSlcXFxcYmAsIFwiaVwiKTtcbmNvbnN0IEJFTExfSklOR0xFX0NIQU5DRSA9IE9iamVjdC5mcmVlemUoe1xuICAgIG9wdGlvbnM6IFtcIk9mZlwiLCBcIkxvd1wiLCBcIk1lZGl1bVwiLCBcIkhpZ2hcIiwgXCJNYXhcIl0sXG4gICAgT2ZmOiAwLFxuICAgIExvdzogMC4wNSxcbiAgICBNZWRpdW06IDAuMTUsXG4gICAgSGlnaDogMC4zMyxcbiAgICBNYXg6IDFcbn0pO1xuLyoqXG4gKiBAcmV0dXJucyBUaGUgbnVtYmVyIG9mIGJlbGxzIGJlaW5nIHdvcm4gYnkgdGhlIHBsYXllclxuICovXG5mdW5jdGlvbiBOdW1iZXJPZkJlbGxzV29ybigpOiBudW1iZXJcbntcbiAgICAvLyBDb3VudCB0aGUgbnVtYmVyIG9mIGJlbGxzIGJlaW5nIHdvcm4gd2l0aCBcImJlbGxcIiBpbiB0aGUgbmFtZVxuICAgIGxldCBjb3VudCA9IDA7XG4gICAgY29uc3QgYmVsbEdyb3VwczogQXNzZXRHcm91cE5hbWVbXSA9IFtcIkl0ZW1OZWNrXCIsIFwiSXRlbU5lY2tBY2Nlc3Nvcmllc1wiLCBcIkl0ZW1OaXBwbGVzXCIsIFwiSXRlbU5pcHBsZXNQaWVyY2luZ3NcIl07XG4gICAgYmVsbEdyb3Vwcy5mb3JFYWNoKChncm91cCkgPT5cbiAgICB7XG4gICAgICAgIGlmICgoSW52ZW50b3J5R2V0KFBsYXllciwgZ3JvdXApPy5Bc3NldD8uTmFtZSA/PyBcIlwiKS50b0xvY2FsZUxvd2VyQ2FzZSgpLmluY2x1ZGVzKFwiYmVsbFwiKSlcbiAgICAgICAge1xuICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIC8vIEJlbGwgYWNjZXNzb3J5IG9uIGNsaXQgcGllcmNpbmdcbiAgICBjb25zdCBjbGl0ID0gSW52ZW50b3J5R2V0KFBsYXllciwgXCJJdGVtVnVsdmFQaWVyY2luZ3NcIik7XG4gICAgaWYgKGNsaXQ/LkFzc2V0Py5OYW1lID09PSBcIlJvdW5kQ2xpdFBpZXJjaW5nXCIgJiYgY2xpdD8uUHJvcGVydHk/LlR5cGVSZWNvcmQ/LnR5cGVkID09PSAyKVxuICAgIHtcbiAgICAgICAgY291bnQrKztcbiAgICB9XG4gICAgLy8gQmVsbCBhY2Nlc3Nvcnkgb24gcGllcmNpbmcgZ2FnXG4gICAgY29uc3QgbW91dGhHcm91cHM6IEFzc2V0R3JvdXBOYW1lW10gPSBbXCJJdGVtTW91dGhcIiwgXCJJdGVtTW91dGgyXCIsIFwiSXRlbU1vdXRoM1wiXTtcbiAgICBtb3V0aEdyb3Vwcy5mb3JFYWNoKChncm91cCkgPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IGdhZyA9IEludmVudG9yeUdldChQbGF5ZXIsIGdyb3VwKTtcbiAgICAgICAgaWYgKGdhZz8uQXNzZXQ/Lk5hbWUgPT09IFwiVG9uZ3VlUGllcmNpbmdHYWdcIiAmJiBnYWc/LlByb3BlcnR5Py5UeXBlUmVjb3JkPy50eXBlZCA9PT0gMilcbiAgICAgICAge1xuICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBjb3VudDtcbn1cblxuLyoqXG4gKiBQbGF5ZXIgaGFzIG1vdmVkLCBqaW5nbGUgYmVsbCBtYXliZVxuICogQHBhcmFtIG1hcE9yUG9zZSBJZiBtb3ZlZCBvbiBtYXAgb3IgcG9zZSwgZWxzZSBlbW90ZXNcbiAqL1xuZnVuY3Rpb24gUGxheWVyTW92ZWRCZWxsSmluZ2xlKG1hcE9yUG9zZTogYm9vbGVhbik6IHZvaWRcbntcbiAgICAvLyBObyBiZWxscywgbm8gcmluZ1xuICAgIGNvbnN0IGJlbGxzID0gTnVtYmVyT2ZCZWxsc1dvcm4oKTtcbiAgICBpZiAoYmVsbHMgPT09IDApXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIFJhbmRvbSBjaGFuY2UgYmFzZWQgb24gc2V0dGluZ3MgYW5kIG51bWJlciBvZiBiZWxsc1xuICAgIGlmIChNYXRoLnJhbmRvbSgpID4gQkVMTF9KSU5HTEVfQ0hBTkNFW1BsYXllclAoKS5iZWxsSmluZ2xlID8/IFwiT2ZmXCJdICogYmVsbHMgKiAobWFwT3JQb3NlID8gMSA6IDMpKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBQbGF5IGEgcmFuZG9tIHNvdW5kXG4gICAgUmFuZG9tRWxlbWVudChCRUxMUyk/LnBsYXkoKTtcbn1cblxuZXhwb3J0IGNsYXNzIFByb2ZpbGVNb2R1bGUgZXh0ZW5kcyBNb2R1bGVcbntcbiAgICBnZXQgVGl0bGUoKTogTW9kdWxlVGl0bGVcbiAgICB7XG4gICAgICAgIHJldHVybiBNb2R1bGVUaXRsZS5Qcm9maWxlO1xuICAgIH1cblxuICAgIGdldCBTeW5jTGlzdGVuZXJzKCk6IEhvb2tlZE1lc3NhZ2VbXVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBtb2R1bGU6IHRoaXMuVGl0bGUsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJCQ1hTcGVha0VuYWJsZVJlcXVlc3RcIixcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uIChzZW5kZXI6IENoYXJhY3RlciwgX2NvbnRlbnQ6IE1QQU1lc3NhZ2VDb250ZW50KTogdm9pZFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHNlbmRlciBoYXMgYXV0aG9yaXR5IHRvIHNldCB0aGlzIHNldHRpbmdcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFJc01lbWJlck51bWJlckluQXV0aEdyb3VwKHNlbmRlci5NZW1iZXJOdW1iZXIgPz8gLTEsIFBsYXllci5NUEE/LltNb2R1bGVUaXRsZS5BdXRob3JpdHldW2BvdGhlcnMke01vZHVsZVRpdGxlLlByb2ZpbGV9YF0pKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYCR7c2VuZGVyLk5pY2tuYW1lIHx8IHNlbmRlci5OYW1lfVske3NlbmRlci5NZW1iZXJOdW1iZXJ9XSB0cmllZCB0byBpbGxlZ2lhbGx5IHNldCB5b3VyIGJjeCBzcGVhayB0byBiZSBlbmFibGVkYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBTZXQgdGhlIHJlY29yZCBieSB0aGUgcGVyc29uIHdobyBpcyBoYXZpbmcgdGhlaXIgc2V0dGluZ3MgY2hhbmdlZFxuICAgICAgICAgICAgICAgICAgICAvLyBCQ1ggbWFuZGF0b3J5IHdvcmRzIG9ubHkgdmlld2FibGUgYnkgdGhlIHBsYXllciBsb2NhbGx5XG4gICAgICAgICAgICAgICAgICAgIFNldEJDWFNwZWFrKCk7XG4gICAgICAgICAgICAgICAgICAgIFJlY29yZHNTeW5jKFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY2F0ZWdvcnk6IE1vZHVsZVRpdGxlLlByb2ZpbGUsIHJlY29yZDogXCJnYXJibGVQaHJhc2VzXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY2F0ZWdvcnk6IE1vZHVsZVRpdGxlLlByb2ZpbGUsIHJlY29yZDogXCJiY3hTcGVha2luZ1wiIH1cbiAgICAgICAgICAgICAgICAgICAgXSwgc2VuZGVyLk1lbWJlck51bWJlcik7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQWZ0ZXIgdXBkYXRpbmcgYW5kIHNlbmRpbmcgdGhlIG5ldyByZWNvcmRzLCBub3RpZnkgc2VuZGVyIGZvciBhY2tub3dsZWRnZW1lbnQgdG8gdXBkYXRlIHRoZWlyIGRpc3BsYXlcbiAgICAgICAgICAgICAgICAgICAgU2VuZE1QQU1lc3NhZ2UoeyBtZXNzYWdlOiBcIkJDWFNwZWFrRW5hYmxlUmVwbHlcIiB9LCBzZW5kZXIuTWVtYmVyTnVtYmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgbW9kdWxlOiB0aGlzLlRpdGxlLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQkNYU3BlYWtFbmFibGVSZXBseVwiLFxuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKHNlbmRlcjogQ2hhcmFjdGVyLCBfY29udGVudDogTVBBTWVzc2FnZUNvbnRlbnQpOiB2b2lkXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSBnb3QgYSBwb3N0aXZlIHJlc3BvbnNlIGZyb20gdGhlIHJlcXVlc3QsIGNoYW5nZSBtYWRlLCBidXQgd2UgbmVlZCB0byBzZWUgaXQgb24gb3VyIHNpZGUgbm93XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsZUlEID0gRWxlbWVudE5hbWUoTW9kdWxlVGl0bGUuUHJvZmlsZSwgXCJnYXJibGVQaHJhc2VzXCIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlSUQpKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBFbGVtZW50VmFsdWUoZWxlSUQsIFBsYXllclAoc2VuZGVyKS5nYXJibGVQaHJhc2VzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBnZXQgU2V0dGluZ3MoKTogU2V0dGluZ1tdXG4gICAge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwidHlwZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwib3B0aW9uXCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IE9iamVjdC5rZXlzKEdBUkJMRV9QSFJBU0VTKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJIdW1hblwiLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIlVzZSBhIHByZXNldCBwcm9maWxlIG9yIG1ha2UgeW91ciBvd25cIixcbiAgICAgICAgICAgICAgICBsb29wOiB0cnVlLFxuICAgICAgICAgICAgICAgIG9uU2V0OiAoQywgdmFsdWUsIHByZXZWYWx1ZSkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChQbGF5ZXJQKEMpLmJjeFNwZWFraW5nKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgU2V0UHJvZmlsZVR5cGUoQywgdmFsdWUsIHByZXZWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBhcyBPcHRpb25TZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJwZXRIZWFyaW5nXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiV2hpbGUgZGVhZmVuZWQgY2VydGFpbiBwZXQga2V5d29yZHMgY2FuIGJlIHBpY2tlZCB1cFwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiZ2FyYmxlUGhyYXNlc1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+IFBsYXllclAoQykudHlwZSA9PT0gXCJDdXN0b21cIiAmJiAhKFBsYXllclAoQykucGV0U3BlYWtpbmcgJiYgYmN4Rm91bmQoKSAmJiBQbGF5ZXJQKEMpLmJjeFNwZWFraW5nKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogR0FSQkxFX1BIUkFTRVMuSHVtYW4uam9pbigpLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIlBldCBzb3VuZHMgeW91IG1ha2VcIixcbiAgICAgICAgICAgICAgICBtYXhDaGFyczogMTAyNCxcbiAgICAgICAgICAgICAgICB3aWR0aDogMTAyNFxuICAgICAgICAgICAgfSBhcyBUZXh0U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiY3VzdG9tR2FyYmxlUGhyYXNlc1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwicmVjb3JkXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IFtdXG4gICAgICAgICAgICB9IGFzIFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInBldFNwZWFraW5nXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJvcHRpb25cIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogW1wiT2ZmXCIsIFwiTG93XCIsIFwiTWVkaXVtXCIsIFwiSGlnaFwiLCBcIk1heFwiXSxcbiAgICAgICAgICAgICAgICBsb29wOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJPZmZcIixcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBdXRvbWF0aWNhbGx5IG1ha2UgdGhlIGFib3ZlIHBldCBzb3VuZHMgd2hpbGUgdGFsa2luZ1wiXG4gICAgICAgICAgICB9IGFzIE9wdGlvblNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImJjeFNwZWFraW5nXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+IFBsYXllclAoQykucGV0U3BlYWtpbmcgJiYgYmN4Rm91bmQoKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiVXNlIEJDWCBtYW5kYXRvcnkgd29yZHMgaW5zdGVhZCBvZiB0aGUgcGV0IHNvdW5kcyBhYm92ZVwiLFxuICAgICAgICAgICAgICAgIG9uU2V0OiAoQywgdmFsdWUpID0+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXZhbHVlKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBTZXRQcm9maWxlVHlwZShDLCBQbGF5ZXJQKEMpLnR5cGUsIFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChDLklzUGxheWVyKCkpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgbWFuZGF0b3J5IHdvcmRzIGZvciB5b3Vyc2VsZiBzaW5jZSBoYXZlIGxvY2FsIGJjeCBhY2Nlc3NcbiAgICAgICAgICAgICAgICAgICAgICAgIFNldEJDWFNwZWFrKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbGVJRCA9IEVsZW1lbnROYW1lKE1vZHVsZVRpdGxlLlByb2ZpbGUsIFwiZ2FyYmxlUGhyYXNlc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNhdmUgYW55IGN1c3RvbSB3b3JkIGNoYW5nZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChQbGF5ZXJQKEMpLnR5cGUgPT09IFwiQ3VzdG9tXCIgJiYgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlSUQpKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBsYXllclAoQykuY3VzdG9tR2FyYmxlUGhyYXNlcyA9IEVsZW1lbnRWYWx1ZShlbGVJRCkuc3BsaXQoXCIsXCIpLm1hcCgoeCkgPT4geC50cmltKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXF1ZXN0IHRoZSBtYW5kYXRvcnkgd29yZHMgZnJvbSB0aGUgb3RoZXIgcGVyc29uXG4gICAgICAgICAgICAgICAgICAgICAgICBTZW5kTVBBTWVzc2FnZSh7IG1lc3NhZ2U6IFwiQkNYU3BlYWtFbmFibGVSZXF1ZXN0XCIgfSwgQy5NZW1iZXJOdW1iZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImhhcmRjb3JlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiRW5hYmxlIGhhcmRjb3JlIG1vZGU7IFdpbGwgc2V0IGNlcnRhaW4gc2V0dGluZ3MgYW5kIHByZXZlbnQgY2hhbmdpbmcgdGhlbSBiYWNrXCIsXG4gICAgICAgICAgICAgICAgb25TZXQoQywgdmFsdWUpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT0gZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBHZXRSZWNvcmQoTW9kdWxlVGl0bGUuQ2xpY2tlciwgQykuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIEdldFJlY29yZChNb2R1bGVUaXRsZS5DbGlja2VyLCBDKS5iY3hWb2ljZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIEdldFJlY29yZChNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0LCBDKS5lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgR2V0UmVjb3JkKE1vZHVsZVRpdGxlLlZpcnR1YWxQZXQsIEMpLm5vSGFuZHMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgR2V0UmVjb3JkKE1vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zLCBDKS5lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgR2V0UmVjb3JkKE1vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zLCBDKS5mb29kTk9XID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgR2V0UmVjb3JkKE1vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zLCBDKS50aW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgR2V0UmVjb3JkKE1vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zLCBDKS5wYXNzb3V0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgR2V0UmVjb3JkKE1vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zLCBDKS5hZmZlY3Rpb25Ta2lsbEJ1ZmZzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIEdldFJlY29yZChNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9ucywgQykuYWZmZWN0aW9uU2tpbGxEZWJ1ZmZzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgR2V0UmVjb3JkKE1vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zLCBDKS5oZWFyaW5nTG9zcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIEdldFJlY29yZChNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9ucywgQykuc2xvd0xlYXZlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgR2V0UmVjb3JkKE1vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zLCBDKS5vcmdhc21XYXRlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIEdldFJlY29yZChNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9ucywgQykub3JnYXNtU2xlZXAgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJwZXRHYWdnaW5nXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJvcHRpb25cIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiT2ZmXCIsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogW1wiT2ZmXCIsIFwiRmlyc3RcIiwgXCJMYXN0XCIsIFwiUmVwbGFjZVwiXSxcbiAgICAgICAgICAgICAgICBsb29wOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIlBldCBnYWdnaW5nIG1vZGVcIlxuICAgICAgICAgICAgfSBhcyBPcHRpb25TZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJwZXRHYWdnaW5nU3RyZW5ndGhcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm9wdGlvblwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIk1lZGl1bVwiLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IFtcIkxvd1wiLCBcIk1lZGl1bVwiLCBcIkhpZ2hcIiwgXCJNYXhcIl0sXG4gICAgICAgICAgICAgICAgbG9vcDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiUGV0IGdhZ2dpbmcgc3RyZW5ndGhcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiBQbGF5ZXJQKEMpLnBldEdhZ2dpbmcgIT09IFwiT2ZmXCJcbiAgICAgICAgICAgIH0gYXMgT3B0aW9uU2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiYmVsbEppbmdsZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwib3B0aW9uXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiT2ZmXCIsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogW1wiT2ZmXCIsIFwiTG93XCIsIFwiTWVkaXVtXCIsIFwiSGlnaFwiLCBcIk1heFwiXSxcbiAgICAgICAgICAgICAgICBsb29wOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJCZWxsIGppbmdsZSBvbiBtb3ZlbWVudFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZVxuICAgICAgICAgICAgfSBhcyBPcHRpb25TZXR0aW5nXG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgTG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5Mb2FkKCk7XG4gICAgICAgIFNwZWVjaFRyYW5zZm9ybUFsbEVmZmVjdHMucHVzaChcInBldFNwZWFrXCIgYXMgU3BlZWNoVHJhbnNmb3JtTmFtZSk7XG5cbiAgICAgICAgLy8gUGV0IGhlYXJpbmdcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiU3BlZWNoVHJhbnNmb3JtR2FnR2FyYmxlXCIsIDUsIChbdGV4dCwgaW50ZW5zaXR5LCBpZ25vcmVPT0MsIC4uLmFyZ3NdLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBNQlMgYWRkcyBDaGFyYWN0ZXIgcGFyYW1ldGVyIHRvIHRoaXMsIGNhbiB1c2UgYXMgYW4gZXh0cmEgY2hlY2sgZm9yIHdoZW4gdG8gYXBwbHlcbiAgICAgICAgICAgIGNvbnN0IEMgPSAoYXJncyBhcyBbQz86IENoYXJhY3RlciwgLi4uYXJnczogdW5rbm93bltdXSlbMF07XG5cbiAgICAgICAgICAgIC8vIEFyZSB3ZSBnYWdnaW5nIG9yIGRlYWZlbmluZz9cbiAgICAgICAgICAgIC8vIE5vdCBkZWFmZW5pbmcgc28gc2tpcFxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIEM/LklzR2FnZ2VkKClcbiAgICAgICAgICAgICAgICB8fCAhUGxheWVyLklzRGVhZigpXG4gICAgICAgICAgICAgICAgfHwgUGxheWVyUCgpLnBldEhlYXJpbmcgPT09IGZhbHNlXG4gICAgICAgICAgICAgICAgfHwgIXRleHRcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChbdGV4dCwgaW50ZW5zaXR5LCBpZ25vcmVPT0NdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBBcHBseVBldEhlYXJpbmcoW3RleHQsIGludGVuc2l0eSwgaWdub3JlT09DXSwgbmV4dCwgR2V0UGV0SGVhcmluZ1BocmFzZXMoKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEluc2VydCBwZXQgc291bmRzIG9uIGlucHV0IGZvciBCQ1ggc3VwcG9ydFxuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJDb21tYW5kUGFyc2VcIiwgOCwgKFttc2ddLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBTa2lwIGNvbW1hbmRzXG4gICAgICAgICAgICAvLyBTa2lwIGlmIG5vdCBhdHRlbXB0aW5nIHRvIGFwcGx5IHBldCBzcGVlY2hcbiAgICAgICAgICAgIG1zZyA9IG1zZy50cmltKCk7XG4gICAgICAgICAgICBpZiAoW0NvbW1hbmRzS2V5LCBcIipcIiwgXCJAXCIsIFwiIVwiXS5pbmNsdWRlcyhtc2cuY2hhckF0KDApKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChbbXNnXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHNwZWFrOiBcIk9mZlwiIHwgXCJMb3dcIiB8IFwiTWVkaXVtXCIgfCBcIkhpZ2hcIiB8IFwiTWF4XCIgPSBQbGF5ZXJQKFBsYXllcikucGV0U3BlYWtpbmc7XG4gICAgICAgICAgICByZXR1cm4gbmV4dChbTm9uRGlzcnVwdGl2ZVBldFNwZWVjaChtc2csIEdldEFsbG93ZWRQZXRHYXJibGVQaHJhc2VzKCksIHNwZWFrKV0pO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBQZXQgZ2FnZ2luZ1xuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJTcGVlY2hUcmFuc2Zvcm1HYWdHYXJibGVcIiwgNSwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHBldEdhZ2dpbmdPcHRpb24gPSBQbGF5ZXJQKFBsYXllcikucGV0R2FnZ2luZztcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAhZGVhZmVuUHJvY2Vzc1xuICAgICAgICAgICAgICAgICYmIHBldEdhZ2dpbmdPcHRpb24gIT09IFwiT2ZmXCJcbiAgICAgICAgICAgICAgICAmJiBDaGF0Um9vbUNoYXJhY3Rlci5sZW5ndGggIT09IDBcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwaHJhc2VzID0gR2V0QWxsb3dlZFBldEdhcmJsZVBocmFzZXMoKTtcbiAgICAgICAgICAgICAgICBpZiAocGhyYXNlcy5sZW5ndGggPT09IDApXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBzdHJlbmd0aCA9IChHQUdHSU5HX1NUUkVOR1RIX01BUFtQbGF5ZXJQKFBsYXllcikucGV0R2FnZ2luZ1N0cmVuZ3RoXSA/PyAwLjA1KSAqIGFyZ3NbMV07XG5cbiAgICAgICAgICAgICAgICBzd2l0Y2ggKFBsYXllclAoUGxheWVyKS5wZXRHYWdnaW5nKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkZpcnN0XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzWzBdID0gRGlzcnVwdGl2ZVBldFNwZWVjaChhcmdzWzBdLCBwaHJhc2VzLCBzdHJlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcblxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiTGFzdFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERpc3J1cHRpdmVQZXRTcGVlY2gobmV4dChhcmdzKSwgcGhyYXNlcywgc3RyZW5ndGgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJSZXBsYWNlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRGlzcnVwdGl2ZVBldFNwZWVjaChhcmdzWzBdLCBwaHJhc2VzLCBzdHJlbmd0aCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQmVsbCBqaW5nbGUgb24gbW92ZW1lbnRcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiQ2hhdFJvb21NYXBWaWV3VXBkYXRlUGxheWVyRmxhZ1wiLCAwLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgbmV4dChhcmdzKTtcbiAgICAgICAgICAgIGlmIChQbGF5ZXJQKCkuYmVsbEppbmdsZSAhPT0gXCJPZmZcIilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBQbGF5ZXJNb3ZlZEJlbGxKaW5nbGUodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJDaGF0Um9vbU1lc3NhZ2VcIiwgMCwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhcmdzWzBdO1xuICAgICAgICAgICAgaWYgKGRhdGE/LlNlbmRlciA9PT0gUGxheWVyLk1lbWJlck51bWJlclxuICAgICAgICAgICAgICAmJiBQbGF5ZXJQKCkuYmVsbEppbmdsZSAhPT0gXCJPZmZcIlxuICAgICAgICAgICAgICAmJiAoZGF0YS5UeXBlID09PSBcIkFjdGlvblwiIHx8IGRhdGEuVHlwZSA9PT0gXCJFbW90ZVwiKVxuICAgICAgICAgICAgICAmJiBNT1ZFTUVOVF9SRUdFWC50ZXN0KGRhdGEuQ29udGVudCkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgUGxheWVyTW92ZWRCZWxsSmluZ2xlKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiUG9zZVJlZnJlc2hcIiwgMCwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHBvc2VCZWZvcmUgPSBzdHJ1Y3R1cmVkQ2xvbmUoUGxheWVyLlBvc2UpO1xuICAgICAgICAgICAgY29uc3QgcG9zZU1hcHBpbmdCZWZvcmUgPSBzdHJ1Y3R1cmVkQ2xvbmUoUGxheWVyLlBvc2VNYXBwaW5nKTtcblxuICAgICAgICAgICAgbmV4dChhcmdzKTtcblxuICAgICAgICAgICAgY29uc3QgZnVsbEJvZHk6IEFzc2V0UG9zZU5hbWVbXSA9IFtcIkFsbEZvdXJzXCIsIFwiSG9ndGllZFwiLCBcIlN1c3BlbnNpb25cIl07XG4gICAgICAgICAgICBpZiAoZnVsbEJvZHkuc29tZSgocG9zZSkgPT4gcG9zZUJlZm9yZS5pbmNsdWRlcyhwb3NlKSAhPT0gUGxheWVyLlBvc2UuaW5jbHVkZXMocG9zZSkpXG4gICAgICAgICAgICAgIHx8IChwb3NlTWFwcGluZ0JlZm9yZT8uQm9keUxvd2VyID09PSBcIktuZWVsXCIgfHwgcG9zZU1hcHBpbmdCZWZvcmU/LkJvZHlMb3dlciA9PT0gXCJLbmVlbGluZ1NwcmVhZFwiKVxuICAgICAgICAgICAgICAhPT0gKFBsYXllci5Qb3NlTWFwcGluZz8uQm9keUxvd2VyID09PSBcIktuZWVsXCIgfHwgUGxheWVyLlBvc2VNYXBwaW5nPy5Cb2R5TG93ZXIgPT09IFwiS25lZWxpbmdTcHJlYWRcIikpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgUGxheWVyTW92ZWRCZWxsSmluZ2xlKHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBVbmxvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3VwZXIuVW5sb2FkKCk7XG5cbiAgICAgICAgU3BlZWNoVHJhbnNmb3JtQWxsRWZmZWN0cyA9IFNwZWVjaFRyYW5zZm9ybUFsbEVmZmVjdHMuZmlsdGVyKCh0cmFuc2Zvcm0pID0+IHRyYW5zZm9ybSBhcyBTcGVlY2hUcmFuc2Zvcm1OYW1lIHwgXCJwZXRTcGVha1wiICE9PSBcInBldFNwZWFrXCIpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IExvY2FsaXplZFRleHQgfSBmcm9tIFwiLi4vbG9jYWxpemF0aW9uL2xvY2FsaXphdGlvblwiO1xuaW1wb3J0IHsgRXhwb3J0U2V0dGluZ3NUb0NsaXBib2FyZCwgSW1wb3J0U2V0dGluZ3NGcm9tQ2xpcGJvYXJkLCBSZXNldFN0b3JhZ2UsIFNhdmVTdG9yYWdlIH0gZnJvbSBcIi4uL3V0aWwvc3RvcmFnZVwiO1xuaW1wb3J0IHsgSUNPTlMgfSBmcm9tIFwiLi4vdXRpbC9jb25zdGFudHNcIjtcbmltcG9ydCB7IElzRGlzcGxheVNldHRpbmcsIElzT3B0aW9uU2V0dGluZywgSXNDaGVja2JveFNldHRpbmcsIElzVGV4dFNldHRpbmcsIElzTnVtYmVyU2V0dGluZywgSXNDdXN0b21TZXR0aW5nIH0gZnJvbSBcIi4uL3V0aWwvc2V0dGluZ1R5cGVzXCI7XG5pbXBvcnQgeyBzZXR0aW5ncyBhcyBkZWZhdWx0U2V0dGluZ3MgfSBmcm9tIFwiLi4vdXRpbC9yZWdpc3Rlck1vZHVsZXNcIjtcbmltcG9ydCB7IEFVVEhPUklUWV9HUk9VUF9PUFRJT05TLCBBdXRob3JpdHlHcm91cCwgQXV0aG9yaXR5SXNDb21wYXJpc29uVG9DaGFyYWN0ZXIsIElzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAgfSBmcm9tIFwiLi4vdXRpbC9hdXRob3JpdHlcIjtcbmltcG9ydCB7IEZpbmRDaGFyYWN0ZXJJblJvb20sIFNlbmRNUEFNZXNzYWdlIH0gZnJvbSBcIi4uL3V0aWwvbWVzc2FnaW5nXCI7XG5pbXBvcnQgeyBNb2R1bGUsIE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4vX21vZHVsZVwiO1xuaW1wb3J0IHsgTGV2ZWxTeW5jIH0gZnJvbSBcIi4vdmlydHVhbFBldFwiO1xuXG5sZXQgc2V0dGluZ3NFZGl0ZWQgPSBmYWxzZTtcbmxldCBzZXR0aW5nQ2hhcjogUGxheWVyQ2hhcmFjdGVyIHwgbnVsbCA9IG51bGw7XG5leHBvcnQgZnVuY3Rpb24gU2V0U2V0dGluZ0NoYXIoY2hhcmFjdGVyOiBQbGF5ZXJDaGFyYWN0ZXIpOiB2b2lkXG57XG4gICAgc2V0dGluZ3NFZGl0ZWQgPSBmYWxzZTtcbiAgICBzZXR0aW5nQ2hhciA9IGNoYXJhY3Rlcjtcbn1cbmV4cG9ydCBmdW5jdGlvbiBTZXRTZXR0aW5nc0VkaXRlZChzZXQ6IGJvb2xlYW4pXG57XG4gICAgc2V0dGluZ3NFZGl0ZWQgPSBzZXQ7XG59XG5cbi8vIFNpemUgb2YgdGhlIGNhbnZhcyBpbiBnYW1lXG5leHBvcnQgY29uc3QgQ0FOVkFTX1dJRFRIID0gMjAwMDtcbmV4cG9ydCBjb25zdCBDQU5WQVNfSEVJR0hUID0gMTAwMDtcblxuLy8gRXhpdCBidXR0b24gcG9zaXN0aW9uIG9uIGNhbnZhc1xuY29uc3QgRVhJVF9QT1NJU1RJT04gPSBbMTgxNSwgNzUsIDkwLCA5MF0gYXMgY29uc3Q7XG5cbi8vIE1lbnUgbGF5b3V0IHZhbHVlc1xuZXhwb3J0IGNvbnN0IEJVVFRPTl9NQVhfTlVNQkVSID0gNztcbmV4cG9ydCBjb25zdCBCVVRUT05fV0lEVEggPSA0MDA7XG5leHBvcnQgY29uc3QgQlVUVE9OX0hFSUdIVCA9IDkwO1xuZXhwb3J0IGNvbnN0IEJVVFRPTl9UT1AgPSAxNjA7XG5leHBvcnQgY29uc3QgQlVUVE9OX0xFRlQgPSA1MDA7XG5leHBvcnQgY29uc3QgQlVUVE9OX0dBUCA9IDIwO1xuZXhwb3J0IGNvbnN0IEJVVFRPTl9URVhUX1BBRERJTkcgPSAyMDtcblxuLy8gUGxheWVyIG9ubHkgYnV0dG9uc1xuY29uc3QgV0lLSV9QT1NJVElPTiA9IFsxMDAsIDUxMCwgMzUwLCA3NV0gYXMgY29uc3Q7XG5jb25zdCBXSUtJX0xJTksgPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9NYXlhVGhlRm94eS9NUEEvd2lraVwiO1xuY29uc3QgRElTQ09SRF9JTlZJVEUgPSBcImh0dHBzOi8vZGlzY29yZC5nZy85R0h3bUhFTUFTXCI7XG5jb25zdCBESVNDT1JEX1BPU0lUSU9OID0gW1xuICAgIFdJS0lfUE9TSVRJT05bMF0sXG4gICAgV0lLSV9QT1NJVElPTlsxXSArIFdJS0lfUE9TSVRJT05bM10gKyBCVVRUT05fR0FQLFxuICAgIFdJS0lfUE9TSVRJT05bMl0sXG4gICAgV0lLSV9QT1NJVElPTlszXVxuXSBhcyBjb25zdDtcbmNvbnN0IFJFU0VUX1BPU0lUSU9OID0gW1xuICAgIERJU0NPUkRfUE9TSVRJT05bMF0sXG4gICAgRElTQ09SRF9QT1NJVElPTlsxXSArIERJU0NPUkRfUE9TSVRJT05bM10gKyBCVVRUT05fR0FQLFxuICAgIERJU0NPUkRfUE9TSVRJT05bMl0sXG4gICAgRElTQ09SRF9QT1NJVElPTlszXVxuXSBhcyBjb25zdDtcbmNvbnN0IEFMRVJUX1BPU0lUSU9OID0gW1xuICAgIFJFU0VUX1BPU0lUSU9OWzBdLFxuICAgIFJFU0VUX1BPU0lUSU9OWzFdIC0gUkVTRVRfUE9TSVRJT05bM10sXG4gICAgUkVTRVRfUE9TSVRJT05bMl1cbl0gYXMgY29uc3Q7XG5sZXQgc2hvd1NldHRpbmdzQWxlcnQ6IG51bWJlciA9IDA7XG5sZXQgc2V0dGluZ3NBbGVydFRleHQ6IHN0cmluZyA9IFwiXCI7XG5jb25zdCBJTVBPUlRfUE9TSVRJT04gPSBbXG4gICAgUkVTRVRfUE9TSVRJT05bMF0sXG4gICAgUkVTRVRfUE9TSVRJT05bMV0gKyBSRVNFVF9QT1NJVElPTlszXSArIEJVVFRPTl9HQVAsXG4gICAgKFJFU0VUX1BPU0lUSU9OWzJdIC0gQlVUVE9OX0dBUCkgLyAyLFxuICAgIFJFU0VUX1BPU0lUSU9OWzNdXG5dIGFzIGNvbnN0O1xuY29uc3QgRVhQT1JUX1BPU0lUSU9OID0gW1xuICAgIFJFU0VUX1BPU0lUSU9OWzBdICsgKChSRVNFVF9QT1NJVElPTlsyXSArIEJVVFRPTl9HQVApIC8gMiksXG4gICAgUkVTRVRfUE9TSVRJT05bMV0gKyBSRVNFVF9QT1NJVElPTlszXSArIEJVVFRPTl9HQVAsXG4gICAgKFJFU0VUX1BPU0lUSU9OWzJdIC0gQlVUVE9OX0dBUCkgLyAyLFxuICAgIFJFU0VUX1BPU0lUSU9OWzNdXG5dIGFzIGNvbnN0O1xuY29uc3QgUkVTRVRfQ09ORklSTV9QT1NJVElPTiA9IFszMDAsIDcwMCwgMjUwLCA5MF0gYXMgY29uc3Q7XG5jb25zdCBSRVNFVF9DQU5DRUxfUE9TSVRJT04gPSBbMTQ1MCwgNzAwLCAyNTAsIDkwXSBhcyBjb25zdDtcbmNvbnN0IFZFUlNJT05fVEVYVCA9IFtcbiAgICBXSUtJX1BPU0lUSU9OWzJdIC8gMiArIFdJS0lfUE9TSVRJT05bMF0sXG4gICAgV0lLSV9QT1NJVElPTlsxXSAtIChCVVRUT05fR0FQICogMiksXG4gICAgV0lLSV9QT1NJVElPTlsyXVxuXSBhcyBjb25zdDtcblxuLy8gQ2FuIGFkZCBvciByZW1vdmUgbW9kdWxlcyBkZXBlbmRpbmcgb24gaWYgd2FudGluZyB0byBkaXNwbGF5IHRoZW0gb3Igbm90XG4vLyBPcmRlciBnaXZlbiBpcyB0aGUgb3JkZXIgZGlzcGxheWVkXG5mdW5jdGlvbiBNRU5VX0NBVEVHT1JJRVMoKTogTW9kdWxlVGl0bGVbXVxue1xuICAgIGlmICghc2V0dGluZ0NoYXIpXG4gICAge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIC8vIERpc3BsYXkgc2V0dGluZ3MgaWYgeW91IGFyZSB0aGUgUGxheWVyXG4gICAgaWYgKHNldHRpbmdDaGFyLklzUGxheWVyKCkpXG4gICAge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgTW9kdWxlVGl0bGUuQXV0aG9yaXR5LFxuICAgICAgICAgICAgTW9kdWxlVGl0bGUuUHJvZmlsZSxcbiAgICAgICAgICAgIE1vZHVsZVRpdGxlLkNsaWNrZXIsXG4gICAgICAgICAgICBNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0LFxuICAgICAgICAgICAgTW9kdWxlVGl0bGUuVmlydHVhbFBldEhVRCxcbiAgICAgICAgICAgIE1vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zXG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgLy8gRGlzcGxheSBzZXR0aW5ncyBpZiB5b3UgYXJlIGFuIGFub3RoZXIgcGxheWVyXG4gICAgcmV0dXJuIFtcbiAgICAgICAgTW9kdWxlVGl0bGUuQXV0aG9yaXR5LFxuICAgICAgICBNb2R1bGVUaXRsZS5Qcm9maWxlLFxuICAgICAgICBNb2R1bGVUaXRsZS5DbGlja2VyLFxuICAgICAgICBNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0LFxuICAgICAgICBNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9uc1xuICAgIF07XG59XG5cbmV4cG9ydCBjb25zdCBNRU5VX1RJVExFUzogUGFydGlhbDxSZWNvcmQ8TW9kdWxlVGl0bGUsIHN0cmluZz4+ID1cbntcbiAgICBbTW9kdWxlVGl0bGUuVmlydHVhbFBldF06IFwiVmlydHVhbCBQZXRcIixcbiAgICBbTW9kdWxlVGl0bGUuVmlydHVhbFBldEhVRF06IFwiVmlydHVhbCBQZXQgSHVkXCIsXG4gICAgW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zXTogXCJWaXJ0dWFsIFBldCBDb25kaXRpb25zXCJcbn07XG5cbmV4cG9ydCBsZXQgY3VycmVudE1lbnU6IE1vZHVsZVRpdGxlIHwgbnVsbCB8IFwiUkVTRVRfU2V0dGluZ3NcIiA9IG51bGw7XG5sZXQgc2V0dGluZ3NPcGVuOiBib29sZWFuID0gZmFsc2U7XG5sZXQgYWxsb3dSZXNldFRpbWU6IG51bWJlciA9IDA7XG5sZXQgY3VzdG9tU2V0dGluZ09wZW46IG51bGwgfCBzdHJpbmcgPSBudWxsO1xubGV0IG93bmVyc0FkZGVkOiBudW1iZXJbXSA9IFtdO1xubGV0IG93bmVyc1JlbW92ZWQ6IG51bWJlcltdID0gW107XG5cbmV4cG9ydCBmdW5jdGlvbiBPd25lckFkZGVkKG51bTogbnVtYmVyKVxue1xuICAgIG93bmVyc0FkZGVkLnB1c2gobnVtKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBPd25lclJlbW92ZWQobnVtOiBudW1iZXIpXG57XG4gICAgb3duZXJzUmVtb3ZlZC5wdXNoKG51bSk7XG59XG5cbmZ1bmN0aW9uIERyYXdNZW51T3B0aW9ucyhtZW51T3B0aW9uczogc3RyaW5nW10pOiB2b2lkXG57XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZW51T3B0aW9ucy5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICAgIERyYXdCdXR0b24oXG4gICAgICAgICAgICBCVVRUT05fTEVGVCArIChCVVRUT05fV0lEVEggKyBCVVRUT05fR0FQKSAqIE1hdGguZmxvb3IoaSAvIEJVVFRPTl9NQVhfTlVNQkVSKSxcbiAgICAgICAgICAgIEJVVFRPTl9UT1AgKyAoQlVUVE9OX0hFSUdIVCArIEJVVFRPTl9HQVApICogKGkgJSBCVVRUT05fTUFYX05VTUJFUiksXG4gICAgICAgICAgICBCVVRUT05fV0lEVEgsXG4gICAgICAgICAgICBCVVRUT05fSEVJR0hULFxuICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgIFwiV2hpdGVcIlxuICAgICAgICApO1xuICAgICAgICBEcmF3VGV4dEZpdChcbiAgICAgICAgICAgIExvY2FsaXplZFRleHQoTUVOVV9USVRMRVNbbWVudU9wdGlvbnNbaV1dID8/IG1lbnVPcHRpb25zW2ldKSxcbiAgICAgICAgICAgIChCVVRUT05fTEVGVCArIEJVVFRPTl9URVhUX1BBRERJTkcpICsgKEJVVFRPTl9XSURUSCArIEJVVFRPTl9HQVApICogTWF0aC5mbG9vcihpIC8gQlVUVE9OX01BWF9OVU1CRVIpLFxuICAgICAgICAgICAgKEJVVFRPTl9UT1AgKyBNYXRoLmZsb29yKEJVVFRPTl9IRUlHSFQgLyAyKSkgKyAoQlVUVE9OX0hFSUdIVCArIEJVVFRPTl9HQVApICogKGkgJSBCVVRUT05fTUFYX05VTUJFUiksXG4gICAgICAgICAgICBCVVRUT05fV0lEVEggLSBCVVRUT05fVEVYVF9QQURESU5HICogMixcbiAgICAgICAgICAgIFwiQmxhY2tcIixcbiAgICAgICAgICAgIFwiR3JheVwiXG4gICAgICAgICk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBHZXRDbGlja2VkTWVudShtZW51T3B0aW9uczogTW9kdWxlVGl0bGVbXSk6IE1vZHVsZVRpdGxlIHwgbnVsbFxue1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWVudU9wdGlvbnMubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgICBpZiAoTW91c2VJbihcbiAgICAgICAgICAgIEJVVFRPTl9MRUZUICsgKEJVVFRPTl9XSURUSCArIEJVVFRPTl9HQVApICogTWF0aC5mbG9vcihpIC8gQlVUVE9OX01BWF9OVU1CRVIpLFxuICAgICAgICAgICAgQlVUVE9OX1RPUCArIChCVVRUT05fSEVJR0hUICsgQlVUVE9OX0dBUCkgKiAoaSAlIEJVVFRPTl9NQVhfTlVNQkVSKSxcbiAgICAgICAgICAgIEJVVFRPTl9XSURUSCxcbiAgICAgICAgICAgIEJVVFRPTl9IRUlHSFRcbiAgICAgICAgKSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIG1lbnVPcHRpb25zW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuXG4vLyBPcHRpb25zIGxheW91dFxuLy8gTWF5IG5vdCBiZSBuZWVkZWQuIFdpbGwgaGF2ZSB0byB1c2UgaWYgdGhlcmUgYXJlIG1vcmUgdGhhbiAxMCBzZXR0aW5ncyB0byBkaXNwbGF5IHBlciBjYXRlZ29yeVxuZXhwb3J0IGNvbnN0IE9QVElPTl9QRVJfUEFHRSA9IDk7XG5leHBvcnQgY29uc3QgT1BUSU9OX0hFSUdIVCA9IDY0O1xuZXhwb3J0IGNvbnN0IE9QVElPTl9UT1AgPSAyMDA7XG5leHBvcnQgY29uc3QgT1BUSU9OX0xFRlQgPSAyNTA7XG5leHBvcnQgY29uc3QgT1BUSU9OX0dBUCA9IDEwO1xuZXhwb3J0IGNvbnN0IE9QVElPTl9DSEVDS0JPWF9TSVpFID0gNjQ7XG5leHBvcnQgY29uc3QgT1BUSU9OX0JBQ0tfTkVYVF9XSURUSCA9IDI1NjtcbmV4cG9ydCBjb25zdCBPUFRJT05fVEVYVF9XSURUSCA9IDI1NjtcbmV4cG9ydCBjb25zdCBPUFRJT05fVEVYVF9NQVhfQ0hBUlMgPSAyNTY7XG5leHBvcnQgY29uc3QgT1BUSU9OX0NVU1RPTV9XSURUSCA9IDE5MjtcbmxldCBjdXJyZW50UGFnZTogbnVtYmVyID0gMTtcbmxldCBtYXhQYWdlczogbnVtYmVyID0gMTtcblxuY29uc3QgTkVYVF9CVVRUT05fUE9TID0gWzE2MzUsIDc1LCA5MCwgOTBdIGFzIGNvbnN0O1xuY29uc3QgUFJFVl9CVVRUT05fUE9TID0gW05FWFRfQlVUVE9OX1BPU1swXSAtIE5FWFRfQlVUVE9OX1BPU1syXSwgTkVYVF9CVVRUT05fUE9TWzFdLCBORVhUX0JVVFRPTl9QT1NbMl0sIE5FWFRfQlVUVE9OX1BPU1syXV0gYXMgY29uc3Q7XG5cbmV4cG9ydCBmdW5jdGlvbiBEcmF3UGFnZXNCdXR0b25zKGN1clBhZ2U/OiBudW1iZXIsIG1heE51bU9mUGFnZXM/OiBudW1iZXIpOiB2b2lkXG57XG4gICAgbGV0IFtwYWdlLCBtYXhdID0gY3VyUGFnZSAhPT0gdW5kZWZpbmVkICYmIG1heE51bU9mUGFnZXMgIT09IHVuZGVmaW5lZCA/IFtjdXJQYWdlLCBtYXhOdW1PZlBhZ2VzXSA6IFtjdXJyZW50UGFnZSwgbWF4UGFnZXNdO1xuXG4gICAgLy8gQXNzZXQgY3VycmVudCBwYWdlIGlzIGluIGNvcnJlY3QgcmFuZ2VcbiAgICBpZiAocGFnZSA+IG1heClcbiAgICB7XG4gICAgICAgIHBhZ2UgPSBtYXg7XG4gICAgfVxuICAgIGlmIChwYWdlIDwgMSlcbiAgICB7XG4gICAgICAgIHBhZ2UgPSAxO1xuICAgIH1cblxuICAgIERyYXdCdXR0b24oXG4gICAgICAgIC4uLk5FWFRfQlVUVE9OX1BPUyxcbiAgICAgICAgXCJcIixcbiAgICAgICAgcGFnZSA+PSBtYXggPyBcIiNhYWFhYWFcIiA6IFwiI2ZmZmZmZlwiLFxuICAgICAgICBcIkljb25zL05leHQucG5nXCIsXG4gICAgICAgIFwiTmV4dCBQYWdlXCIsXG4gICAgICAgIHBhZ2UgPj0gbWF4XG4gICAgKTtcbiAgICBEcmF3QnV0dG9uKFxuICAgICAgICAuLi5QUkVWX0JVVFRPTl9QT1MsXG4gICAgICAgIFwiXCIsXG4gICAgICAgIDEgPj0gcGFnZSA/IFwiI2FhYWFhYVwiIDogXCIjZmZmZmZmXCIsXG4gICAgICAgIFwiSWNvbnMvUHJldi5wbmdcIixcbiAgICAgICAgXCJQcmV2aW91cyBQYWdlXCIsXG4gICAgICAgIDEgPj0gcGFnZVxuICAgICk7XG59XG5cbi8qKlxuICogQHJldHVybnMgVHJ1ZSBpZiBuZXh0LCBGYWxzZSBpZiBwcmV2aW91cywgbnVsbCBpZiBuZWl0aGVyIG9wdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gQ2xpY2tlZFBhZ2VzQnV0dG9ucyhjdXJQYWdlPzogbnVtYmVyLCBtYXhOdW1PZlBhZ2VzPzogbnVtYmVyKTogYm9vbGVhbiB8IG51bGxcbntcbiAgICBsZXQgW3BhZ2UsIG1heF0gPSBjdXJQYWdlICE9PSB1bmRlZmluZWQgJiYgbWF4TnVtT2ZQYWdlcyAhPT0gdW5kZWZpbmVkID8gW2N1clBhZ2UsIG1heE51bU9mUGFnZXNdIDogW2N1cnJlbnRQYWdlLCBtYXhQYWdlc107XG5cbiAgICBpZiAoTW91c2VJbiguLi5ORVhUX0JVVFRPTl9QT1MpICYmIHBhZ2UgPCBtYXgpXG4gICAge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKE1vdXNlSW4oLi4uUFJFVl9CVVRUT05fUE9TKSAmJiBwYWdlID4gMSlcbiAgICB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIERyYXdTdWJNZW51T3B0aW9ucyhzdWJNZW51OiBNb2R1bGVUaXRsZSk6IHZvaWRcbntcbiAgICAvLyBTaG91bGRuJ3QgYmUgbmVlZGVkIGJ1dCBhY3RzIGFzIGZhaWxzYWZlIGFuZCBtYWtlcyB0eXBlc2NyaXB0IGhhcHB5XG4gICAgaWYgKCFzZXR0aW5nQ2hhcikgeyByZXR1cm47IH1cblxuICAgIGNvbnN0IG5vUGVybWlzc2lvbiA9IChcbiAgICAgICAgYG90aGVycyR7c3ViTWVudX1gIGluIHNldHRpbmdDaGFyIS5NUEFbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XVxuICAgICAgICAmJiBgc2VsZiR7c3ViTWVudX1gIGluIHNldHRpbmdDaGFyIS5NUEFbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XVxuICAgICAgICAmJiAhSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cChcbiAgICAgICAgICAgIFBsYXllci5NZW1iZXJOdW1iZXIgPz8gLTEsXG4gICAgICAgICAgICBzZXR0aW5nQ2hhciEuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV1bYG90aGVycyR7c3ViTWVudX1gXSBhcyBBdXRob3JpdHlHcm91cCxcbiAgICAgICAgICAgIHNldHRpbmdDaGFyIS5NUEFbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XVtgc2VsZiR7c3ViTWVudX1gXSBhcyBib29sZWFuLFxuICAgICAgICAgICAgc2V0dGluZ0NoYXIhXG4gICAgICAgIClcbiAgICApXG4gICAgfHwgKFxuICAgICAgICAhUGxheWVyLkNhbkludGVyYWN0KCkgJiYgKFxuICAgICAgICAgICAgKHNldHRpbmdDaGFyPy5NZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXJcbiAgICAgICAgICAgICAgJiYgIVBsYXllci5NUEFbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XS5ib3VuZEFjY2Vzc1NlbGYpXG4gICAgICAgICAgICB8fCAoc2V0dGluZ0NoYXI/Lk1lbWJlck51bWJlciAhPT0gUGxheWVyLk1lbWJlck51bWJlclxuICAgICAgICAgICAgICAmJiAhUGxheWVyLk1QQVtNb2R1bGVUaXRsZS5BdXRob3JpdHldLmJvdW5kQWNjZXNzT3RoZXJzKVxuICAgICAgICApXG4gICAgKTtcblxuICAgIGlmIChjdXN0b21TZXR0aW5nT3BlbilcbiAgICB7XG4gICAgICAgIChkZWZhdWx0U2V0dGluZ3Nbc3ViTWVudV0/LltjdXN0b21TZXR0aW5nT3Blbl0gYXMgQ3VzdG9tU2V0dGluZykuT25SdW4oc2V0dGluZ0NoYXIhLCAhbm9QZXJtaXNzaW9uKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFNldHRpbmdzIGhhdmUgdG8gYmUgZGlzcGxheWFibGUgYW5kIGhhdmUgYSB2YWx1ZSBleGlzdCBpbiB0aGUgc3RvcmVkIHNldHRpbmdzXG4gICAgY29uc3Qgc2V0dGluZ3NUb0Rpc3BsYXkgPSBPYmplY3QuZW50cmllcyhkZWZhdWx0U2V0dGluZ3Nbc3ViTWVudV0gPz8ge30pXG4gICAgICAgIC5maWx0ZXIoKFtrZXksIHNldHRpbmddKSA9PiBJc0Rpc3BsYXlTZXR0aW5nKHNldHRpbmcpICYmIChrZXkgaW4gKHNldHRpbmdDaGFyPy5NUEFbc3ViTWVudV0gPz8ge30pKSk7XG5cbiAgICAvLyBOZXh0IGFuZCBwcmV2aW91cyBvcHRpb24gYnV0dG9uc1xuICAgIGlmIChtYXhQYWdlcyAhPT0gMSlcbiAgICB7XG4gICAgICAgIERyYXdQYWdlc0J1dHRvbnMoKTtcbiAgICB9XG5cbiAgICBzZXR0aW5nc1RvRGlzcGxheS5zbGljZSgoY3VycmVudFBhZ2UgLSAxKSAqIE9QVElPTl9QRVJfUEFHRSwgY3VycmVudFBhZ2UgKiBPUFRJT05fUEVSX1BBR0UpLmZvckVhY2goKHZhbCwgaSkgPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IFtzZXR0aW5nTmFtZSwgc2V0dGluZ10gPSB2YWwgYXMgW3N0cmluZywgRGlzcGxheWVkU2V0dGluZ107XG5cbiAgICAgICAgY29uc3QgZGlzYWJsZWRTZXR0aW5nID0gIXNldHRpbmcuYWN0aXZlKHNldHRpbmdDaGFyISkgfHwgKG5vUGVybWlzc2lvbik7XG5cbiAgICAgICAgaWYgKElzQ2hlY2tib3hTZXR0aW5nKHNldHRpbmcpKVxuICAgICAgICB7XG4gICAgICAgICAgICBEcmF3Q2hlY2tib3goXG4gICAgICAgICAgICAgICAgT1BUSU9OX0xFRlQsXG4gICAgICAgICAgICAgICAgT1BUSU9OX1RPUCArIChpICogKE9QVElPTl9HQVAgKyBPUFRJT05fSEVJR0hUKSksXG4gICAgICAgICAgICAgICAgT1BUSU9OX0NIRUNLQk9YX1NJWkUsXG4gICAgICAgICAgICAgICAgT1BUSU9OX0NIRUNLQk9YX1NJWkUsXG4gICAgICAgICAgICAgICAgTG9jYWxpemVkVGV4dChzZXR0aW5nLmxhYmVsKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZUFsbChcIlRhcmdldENoYXJhY3RlclwiLCAoc2V0dGluZ0NoYXI/Lk5pY2tuYW1lIHx8IHNldHRpbmdDaGFyPy5OYW1lKSA/PyBcIlwiKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZUFsbChcIlRhcmdldFByb25vdW5Qb3NzZXNzaXZlXCIsIHNldHRpbmdDaGFyPy5HZXRQcm9ub3VucygpID09PSBcIlNoZUhlclwiID8gXCJoZXJcIiA6IFwiaGlzXCIpLFxuICAgICAgICAgICAgICAgICEhc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0sXG4gICAgICAgICAgICAgICAgZGlzYWJsZWRTZXR0aW5nLFxuICAgICAgICAgICAgICAgIFwiQmxhY2tcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChJc09wdGlvblNldHRpbmcoc2V0dGluZykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gc2V0dGluZy5vcHRpb25zLmluZGV4T2Yoc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gYXMgc3RyaW5nKTtcbiAgICAgICAgICAgIGNvbnN0IG9wdExlbiA9IHNldHRpbmcub3B0aW9ucy5sZW5ndGg7XG5cbiAgICAgICAgICAgIC8vIENhbid0IGRlY3JlYXNlIGF1dGhvcml0eSBiZXlvbmQgaWYgdGhlIHBsYXllciBpcyBub3Qgb2YgdGhhdCByYW5rXG4gICAgICAgICAgICBjb25zdCBwcm9maWxlT3JFeGNsdWRlcyA9IChzdWJNZW51ICE9PSBNb2R1bGVUaXRsZS5BdXRob3JpdHkpIHx8ICFBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUy5pbmNsdWRlcyhzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSk7XG4gICAgICAgICAgICBjb25zdCBwcmV2RGlzYWJsZWQgPSAhKHByb2ZpbGVPckV4Y2x1ZGVzIHx8IEF1dGhvcml0eUlzQ29tcGFyaXNvblRvQ2hhcmFjdGVyKHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdIGFzIEF1dGhvcml0eUdyb3VwLCBcIj49XCIsIFBsYXllci5NZW1iZXJOdW1iZXIgPz8gLTEsIHNldHRpbmdDaGFyISkpO1xuICAgICAgICAgICAgY29uc3QgbmV4dERpc2FibGVkID0gIShwcm9maWxlT3JFeGNsdWRlcyB8fCBBdXRob3JpdHlJc0NvbXBhcmlzb25Ub0NoYXJhY3RlcihzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSBhcyBBdXRob3JpdHlHcm91cCwgXCI+XCIsIFBsYXllci5NZW1iZXJOdW1iZXIgPz8gLTEsIHNldHRpbmdDaGFyISkpXG4gICAgICAgICAgICAgICYmIHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdICE9PSBcIlNlbGZcIjtcblxuICAgICAgICAgICAgRHJhd0JhY2tOZXh0QnV0dG9uKFxuICAgICAgICAgICAgICAgIE9QVElPTl9MRUZULFxuICAgICAgICAgICAgICAgIE9QVElPTl9UT1AgKyAoaSAqIChPUFRJT05fR0FQICsgT1BUSU9OX0hFSUdIVCkpLFxuICAgICAgICAgICAgICAgIE9QVElPTl9CQUNLX05FWFRfV0lEVEgsXG4gICAgICAgICAgICAgICAgT1BUSU9OX0hFSUdIVCxcbiAgICAgICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdIGFzIHN0cmluZyksXG4gICAgICAgICAgICAgICAgIShkaXNhYmxlZFNldHRpbmcgfHwgKHByZXZEaXNhYmxlZCAmJiBuZXh0RGlzYWJsZWQpKSA/IFwiI2ZmZmZmZlwiIDogXCIjYWFhYWFhXCIsXG4gICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAoKSA9PiBMb2NhbGl6ZWRUZXh0KHByZXZEaXNhYmxlZCA/IFwiXCIgOiAoc2V0dGluZy5sb29wID8gc2V0dGluZy5vcHRpb25zWyhpbmRleCAtIDEgKyBvcHRMZW4pICUgb3B0TGVuXSA6IGluZGV4ID4gMCA/IHNldHRpbmcub3B0aW9uc1tpbmRleCAtIDFdIDogXCJcIikpLFxuICAgICAgICAgICAgICAgICgpID0+IExvY2FsaXplZFRleHQobmV4dERpc2FibGVkID8gXCJcIiA6IChzZXR0aW5nLmxvb3AgPyBzZXR0aW5nLm9wdGlvbnNbKGluZGV4ICsgMSArIG9wdExlbikgJSBvcHRMZW5dIDogaW5kZXggKyAxIDwgb3B0TGVuID8gc2V0dGluZy5vcHRpb25zW2luZGV4ICsgMV0gOiBcIlwiKSksXG4gICAgICAgICAgICAgICAgZGlzYWJsZWRTZXR0aW5nIHx8IChwcmV2RGlzYWJsZWQgJiYgbmV4dERpc2FibGVkKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIERyYXdUZXh0Rml0KFxuICAgICAgICAgICAgICAgIExvY2FsaXplZFRleHQoc2V0dGluZy5sYWJlbClcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2VBbGwoXCJUYXJnZXRDaGFyYWN0ZXJcIiwgKHNldHRpbmdDaGFyPy5OaWNrbmFtZSB8fCBzZXR0aW5nQ2hhcj8uTmFtZSkgPz8gXCJcIilcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2VBbGwoXCJUYXJnZXRQcm9ub3VuUG9zc2Vzc2l2ZVwiLCBzZXR0aW5nQ2hhcj8uR2V0UHJvbm91bnMoKSA9PT0gXCJTaGVIZXJcIiA/IFwiaGVyXCIgOiBcImhpc1wiKSxcbiAgICAgICAgICAgICAgICBPUFRJT05fTEVGVCArIE9QVElPTl9CQUNLX05FWFRfV0lEVEggKyAoT1BUSU9OX0dBUCAqIDIpLFxuICAgICAgICAgICAgICAgIE9QVElPTl9UT1AgKyAoaSAqIChPUFRJT05fR0FQICsgT1BUSU9OX0hFSUdIVCkgKyBNYXRoLmNlaWwoT1BUSU9OX0hFSUdIVCAvIDIpKSxcbiAgICAgICAgICAgICAgICBDQU5WQVNfV0lEVEggLSAoT1BUSU9OX0xFRlQgKiAyKSAtIE9QVElPTl9CQUNLX05FWFRfV0lEVEgsXG4gICAgICAgICAgICAgICAgXCJCbGFja1wiLFxuICAgICAgICAgICAgICAgIFwiR3JheVwiXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKElzVGV4dFNldHRpbmcoc2V0dGluZykgfHwgSXNOdW1iZXJTZXR0aW5nKHNldHRpbmcpKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBpZCA9IEVsZW1lbnROYW1lKHN1Yk1lbnUsIHNldHRpbmdOYW1lKTtcbiAgICAgICAgICAgIEVsZW1lbnRQb3NpdGlvbkZpeGVkKFxuICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgIE9QVElPTl9MRUZULFxuICAgICAgICAgICAgICAgIE9QVElPTl9UT1AgKyAoaSAqIChPUFRJT05fR0FQICsgT1BUSU9OX0hFSUdIVCkpLFxuICAgICAgICAgICAgICAgIHNldHRpbmcud2lkdGggPz8gT1BUSU9OX1RFWFRfV0lEVEgsXG4gICAgICAgICAgICAgICAgT1BUSU9OX0hFSUdIVFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmIChkaXNhYmxlZFNldHRpbmcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgRWxlbWVudFNldEF0dHJpYnV0ZShpZCwgXCJkaXNhYmxlZFwiLCBcInRydWVcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgRWxlbWVudFJlbW92ZUF0dHJpYnV0ZShpZCwgXCJkaXNhYmxlZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIERyYXdUZXh0Rml0KFxuICAgICAgICAgICAgICAgIExvY2FsaXplZFRleHQoc2V0dGluZy5sYWJlbClcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2VBbGwoXCJUYXJnZXRDaGFyYWN0ZXJcIiwgKHNldHRpbmdDaGFyPy5OaWNrbmFtZSB8fCBzZXR0aW5nQ2hhcj8uTmFtZSkgPz8gXCJcIilcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2VBbGwoXCJUYXJnZXRQcm9ub3VuUG9zc2Vzc2l2ZVwiLCBzZXR0aW5nQ2hhcj8uR2V0UHJvbm91bnMoKSA9PT0gXCJTaGVIZXJcIiA/IFwiaGVyXCIgOiBcImhpc1wiKSxcbiAgICAgICAgICAgICAgICBPUFRJT05fTEVGVCArIChzZXR0aW5nLndpZHRoID8/IE9QVElPTl9URVhUX1dJRFRIKSArIChPUFRJT05fR0FQICogMiksXG4gICAgICAgICAgICAgICAgT1BUSU9OX1RPUCArIChpICogKE9QVElPTl9HQVAgKyBPUFRJT05fSEVJR0hUKSkgKyBNYXRoLmNlaWwoT1BUSU9OX0hFSUdIVCAvIDIpLFxuICAgICAgICAgICAgICAgIENBTlZBU19XSURUSCAtIChPUFRJT05fTEVGVCAqIDIpIC0gKHNldHRpbmcud2lkdGggPz8gT1BUSU9OX1RFWFRfV0lEVEgpLFxuICAgICAgICAgICAgICAgIFwiQmxhY2tcIixcbiAgICAgICAgICAgICAgICBcIkdyYXlcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChJc0N1c3RvbVNldHRpbmcoc2V0dGluZykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHByZXZUZXh0QWxpZ24gPSBNYWluQ2FudmFzLnRleHRBbGlnbjtcbiAgICAgICAgICAgIE1haW5DYW52YXMudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcbiAgICAgICAgICAgIERyYXdCdXR0b24oXG4gICAgICAgICAgICAgICAgT1BUSU9OX0xFRlQsXG4gICAgICAgICAgICAgICAgT1BUSU9OX1RPUCArIChpICogKE9QVElPTl9HQVAgKyBPUFRJT05fSEVJR0hUKSksXG4gICAgICAgICAgICAgICAgT1BUSU9OX0NVU1RPTV9XSURUSCxcbiAgICAgICAgICAgICAgICBPUFRJT05fQ0hFQ0tCT1hfU0laRSxcbiAgICAgICAgICAgICAgICBcIk9wZW5cIixcbiAgICAgICAgICAgICAgICBcIldoaXRlXCIsXG4gICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KFwiT3BlbiBvcHRpb25zXCIpXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgTWFpbkNhbnZhcy50ZXh0QWxpZ24gPSBwcmV2VGV4dEFsaWduO1xuICAgICAgICAgICAgRHJhd1RleHRGaXQoXG4gICAgICAgICAgICAgICAgTG9jYWxpemVkVGV4dChzZXR0aW5nLmxhYmVsKSxcbiAgICAgICAgICAgICAgICBPUFRJT05fTEVGVCArIDEyICsgT1BUSU9OX0NVU1RPTV9XSURUSCxcbiAgICAgICAgICAgICAgICBPUFRJT05fVE9QICsgKGkgKiAoT1BUSU9OX0dBUCArIE9QVElPTl9IRUlHSFQpKSArIE1hdGguY2VpbChPUFRJT05fSEVJR0hUIC8gMiksXG4gICAgICAgICAgICAgICAgQ0FOVkFTX1dJRFRIIC0gKE9QVElPTl9MRUZUICogMikgLSBPUFRJT05fQ1VTVE9NX1dJRFRILFxuICAgICAgICAgICAgICAgIFwiQmxhY2tcIixcbiAgICAgICAgICAgICAgICBcIkdyYXlcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG4vKipcbiAqIEBwYXJhbSBzdWJNZW51IE1lbnUgd2UgZGlzcGxheWluZ1xuICogQHBhcmFtIG5vUGVybWlzc2lvbiBEb2VzIHRoZSBpbnRlcmVjdGVyIGhhdmUgcGVybWlzc2lvbiB0byBjaGFuZ2Ugc2V0dGluZ3NcbiAqL1xuZnVuY3Rpb24gR2V0Q2xpY2tlZE9wdGlvbihzdWJNZW51OiBNb2R1bGVUaXRsZSwgbm9QZXJtaXNzaW9uOiBib29sZWFuKTogdm9pZFxue1xuICAgIC8vIFNob3VsZG4ndCBiZSBuZWVkZWQgYnV0IGFjdHMgYXMgZmFpbHNhZmUgYW5kIG1ha2VzIHR5cGVzY3JpcHQgaGFwcHlcbiAgICBpZiAoIXNldHRpbmdDaGFyKSB7IHJldHVybjsgfVxuXG4gICAgLy8gU2V0dGluZ3MgaGF2ZSB0byBiZSBkaXNwbGF5YWJsZSBhbmQgaGF2ZSBhIHZhbHVlIGV4aXN0IGluIHRoZSBzdG9yZWQgc2V0dGluZ3NcbiAgICBjb25zdCBzZXR0aW5nc1RvRGlzcGxheSA9IE9iamVjdC5lbnRyaWVzKGRlZmF1bHRTZXR0aW5nc1tzdWJNZW51XSA/PyB7fSlcbiAgICAgICAgLmZpbHRlcigoW2tleSwgc2V0dGluZ10pID0+IElzRGlzcGxheVNldHRpbmcoc2V0dGluZykgJiYgKGtleSBpbiAoc2V0dGluZ0NoYXI/Lk1QQVtzdWJNZW51XSA/PyB7fSkpKTtcblxuICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgdGhlIG9wdGlvbnMgYW5kIGNoZWNrIGlmIHRoZSBjbGljayBvY2N1cmVkIGluIHRoZSB0eXBlJ3MgY29ycmVzcG9uZGluZyBjbGljayB6b25lXG4gICAgc2V0dGluZ3NUb0Rpc3BsYXkuc2xpY2UoKGN1cnJlbnRQYWdlIC0gMSkgKiBPUFRJT05fUEVSX1BBR0UsIGN1cnJlbnRQYWdlICogT1BUSU9OX1BFUl9QQUdFKS5mb3JFYWNoKCh2YWwsIGkpID0+XG4gICAge1xuICAgICAgICBjb25zdCBbc2V0dGluZ05hbWUsIHNldHRpbmddID0gdmFsIGFzIFtzdHJpbmcsIERpc3BsYXllZFNldHRpbmddO1xuXG4gICAgICAgIGNvbnN0IGRpc2FibGVkU2V0dGluZyA9ICFzZXR0aW5nLmFjdGl2ZShzZXR0aW5nQ2hhciEpIHx8IG5vUGVybWlzc2lvbjtcblxuICAgICAgICBpZiAoSXNDaGVja2JveFNldHRpbmcoc2V0dGluZykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBNb3VzZUluKFxuICAgICAgICAgICAgICAgICAgICBPUFRJT05fTEVGVCxcbiAgICAgICAgICAgICAgICAgICAgT1BUSU9OX1RPUCArIChpICogKE9QVElPTl9HQVAgKyBPUFRJT05fSEVJR0hUKSksXG4gICAgICAgICAgICAgICAgICAgIE9QVElPTl9DSEVDS0JPWF9TSVpFLFxuICAgICAgICAgICAgICAgICAgICBPUFRJT05fQ0hFQ0tCT1hfU0laRVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAmJiAhZGlzYWJsZWRTZXR0aW5nXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gPSAhc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV07XG4gICAgICAgICAgICAgICAgaWYgKHNldHRpbmcub25TZXQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nLm9uU2V0KHNldHRpbmdDaGFyISwgc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0sICFzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNldHRpbmdzRWRpdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChJc09wdGlvblNldHRpbmcoc2V0dGluZykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gc2V0dGluZy5vcHRpb25zLmluZGV4T2Yoc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gYXMgc3RyaW5nKTtcbiAgICAgICAgICAgIGNvbnN0IG9wdExlbiA9IHNldHRpbmcub3B0aW9ucy5sZW5ndGg7XG4gICAgICAgICAgICAvLyBCYWNrIGFycm93XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgTW91c2VJbihcbiAgICAgICAgICAgICAgICAgICAgT1BUSU9OX0xFRlQsXG4gICAgICAgICAgICAgICAgICAgIE9QVElPTl9UT1AgKyAoaSAqIChPUFRJT05fR0FQICsgT1BUSU9OX0hFSUdIVCkpLFxuICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKE9QVElPTl9CQUNLX05FWFRfV0lEVEggLyAyKSxcbiAgICAgICAgICAgICAgICAgICAgT1BUSU9OX0hFSUdIVFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAmJiAhZGlzYWJsZWRTZXR0aW5nXG4gICAgICAgICAgICAgICAgJiYgKHNldHRpbmcubG9vcFxuICAgICAgICAgICAgICAgICAgfHwgaW5kZXggPiAwKVxuICAgICAgICAgICAgICAgIC8vIENhbid0IGRlY3JlYXNlIGF1dGhvcml0eSBiZXlvbmQgaWYgdGhlIHBsYXllciBpcyBub3Qgb2YgdGhhdCByYW5rXG4gICAgICAgICAgICAgICAgJiYgKHN1Yk1lbnUgIT09IE1vZHVsZVRpdGxlLkF1dGhvcml0eVxuICAgICAgICAgICAgICAgICAgfHwgIUFVVEhPUklUWV9HUk9VUF9PUFRJT05TLmluY2x1ZGVzKHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdKVxuICAgICAgICAgICAgICAgICAgfHwgQXV0aG9yaXR5SXNDb21wYXJpc29uVG9DaGFyYWN0ZXIoc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gYXMgQXV0aG9yaXR5R3JvdXAsIFwiPj1cIiwgUGxheWVyLk1lbWJlck51bWJlciA/PyAtMSwgc2V0dGluZ0NoYXIhKSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2VmFsdWUgPSBzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXTtcbiAgICAgICAgICAgICAgICBzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSA9IHNldHRpbmcub3B0aW9uc1soaW5kZXggLSAxICsgb3B0TGVuKSAlIG9wdExlbl07XG4gICAgICAgICAgICAgICAgaWYgKHNldHRpbmcub25TZXQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nLm9uU2V0KHNldHRpbmdDaGFyISwgc2V0dGluZy5vcHRpb25zWyhpbmRleCAtIDEgKyBvcHRMZW4pICUgb3B0TGVuXSwgcHJldlZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2V0dGluZ3NFZGl0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTmV4dCBhcnJvd1xuICAgICAgICAgICAgZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgTW91c2VJbihcbiAgICAgICAgICAgICAgICAgICAgT1BUSU9OX0xFRlQgKyBNYXRoLmZsb29yKE9QVElPTl9CQUNLX05FWFRfV0lEVEggLyAyKSxcbiAgICAgICAgICAgICAgICAgICAgT1BUSU9OX1RPUCArIChpICogKE9QVElPTl9HQVAgKyBPUFRJT05fSEVJR0hUKSksXG4gICAgICAgICAgICAgICAgICAgIE1hdGguY2VpbChPUFRJT05fQkFDS19ORVhUX1dJRFRIIC8gMiksXG4gICAgICAgICAgICAgICAgICAgIE9QVElPTl9IRUlHSFRcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgJiYgIWRpc2FibGVkU2V0dGluZ1xuICAgICAgICAgICAgICAgICYmIChzZXR0aW5nLmxvb3BcbiAgICAgICAgICAgICAgICAgIHx8IGluZGV4ICsgMSA8IHNldHRpbmcub3B0aW9ucy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgLy8gQ2FuJ3QgaW5jcmVhc2UgYXV0aG9yaXR5IGJleW9uZCB3aGF0IHRoZSBwbGF5ZXIgd2hvIGlzIHNldHRpbmcgaXQgaXNcbiAgICAgICAgICAgICAgICAmJiAoc3ViTWVudSAhPT0gTW9kdWxlVGl0bGUuQXV0aG9yaXR5XG4gICAgICAgICAgICAgICAgICB8fCAhQVVUSE9SSVRZX0dST1VQX09QVElPTlMuaW5jbHVkZXMoc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0pXG4gICAgICAgICAgICAgICAgICB8fCBBdXRob3JpdHlJc0NvbXBhcmlzb25Ub0NoYXJhY3RlcihzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSBhcyBBdXRob3JpdHlHcm91cCwgXCI+XCIsIFBsYXllci5NZW1iZXJOdW1iZXIgPz8gLTEsIHNldHRpbmdDaGFyISkpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJldlZhbHVlID0gc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV07XG4gICAgICAgICAgICAgICAgc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gPSBzZXR0aW5nLm9wdGlvbnNbKGluZGV4ICsgMSArIG9wdExlbikgJSBvcHRMZW5dO1xuICAgICAgICAgICAgICAgIGlmIChzZXR0aW5nLm9uU2V0KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZy5vblNldChzZXR0aW5nQ2hhciEsIHNldHRpbmcub3B0aW9uc1soaW5kZXggKyAxICsgb3B0TGVuKSAlIG9wdExlbl0sIHByZXZWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNldHRpbmdzRWRpdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChJc0N1c3RvbVNldHRpbmcoc2V0dGluZykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBNb3VzZUluKFxuICAgICAgICAgICAgICAgICAgICBPUFRJT05fTEVGVCxcbiAgICAgICAgICAgICAgICAgICAgT1BUSU9OX1RPUCArIChpICogKE9QVElPTl9HQVAgKyBPUFRJT05fSEVJR0hUKSksXG4gICAgICAgICAgICAgICAgICAgIE9QVElPTl9DVVNUT01fV0lEVEgsXG4gICAgICAgICAgICAgICAgICAgIE9QVElPTl9DSEVDS0JPWF9TSVpFXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFVwZGF0ZUFuZERlbGV0ZUhUTUxFbGVtZW50cyhzdWJNZW51KTtcbiAgICAgICAgICAgICAgICBjdXN0b21TZXR0aW5nT3BlbiA9IHNldHRpbmcubmFtZTtcbiAgICAgICAgICAgICAgICBzZXR0aW5nLk9uTG9hZChzZXR0aW5nQ2hhciEsICFub1Blcm1pc3Npb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBFeGl0QnV0dG9uUHJlc3NlZCgpOiB2b2lkXG57XG4gICAgaWYgKGN1cnJlbnRNZW51ID09PSBudWxsKVxuICAgIHtcbiAgICAgICAgaWYgKHdpbmRvdy5NUEEubWVudUxvYWRlZClcbiAgICAgICAge1xuICAgICAgICAgICAgd2luZG93Lk1QQS5tZW51TG9hZGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgUHJlZmVyZW5jZU1lbnVFeGl0KCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGN1cnJlbnRNZW51ID09PSBcIlJFU0VUX1NldHRpbmdzXCIpXG4gICAge1xuICAgICAgICBjdXJyZW50TWVudSA9IG51bGw7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIGlmIChjdXN0b21TZXR0aW5nT3BlbilcbiAgICAgICAge1xuICAgICAgICAgICAgKGRlZmF1bHRTZXR0aW5nc1tjdXJyZW50TWVudV0/LltjdXN0b21TZXR0aW5nT3Blbl0gYXMgQ3VzdG9tU2V0dGluZykuT25FeGl0KHNldHRpbmdDaGFyISk7XG4gICAgICAgICAgICBjdXN0b21TZXR0aW5nT3BlbiA9IG51bGw7XG4gICAgICAgICAgICBDcmVhdGVIVE1MRWxlbWVudHMoY3VycmVudE1lbnUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFNhdmUgYWxsIHRleHQgZmllbGRzIHRvIHRoZWlyIHJlc3BlY3RpdmUgc2V0dGluZ1xuICAgICAgICBVcGRhdGVBbmREZWxldGVIVE1MRWxlbWVudHMoY3VycmVudE1lbnUpO1xuICAgICAgICBjdXJyZW50UGFnZSA9IDE7XG4gICAgICAgIG1heFBhZ2VzID0gMTtcbiAgICAgICAgY3VycmVudE1lbnUgPSBudWxsO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFByZWZlcmVuY2VNZW51Q2xpY2soKTogdm9pZFxue1xuICAgIGlmIChNb3VzZUluKC4uLkVYSVRfUE9TSVNUSU9OKSlcbiAgICB7XG4gICAgICAgIEV4aXRCdXR0b25QcmVzc2VkKCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoc2V0dGluZ0NoYXI/Lk1lbWJlck51bWJlciA9PT0gUGxheWVyLk1lbWJlck51bWJlciAmJiBjdXJyZW50TWVudSA9PT0gbnVsbClcbiAgICB7XG4gICAgICAgIGlmIChNb3VzZUluKC4uLldJS0lfUE9TSVRJT04pKVxuICAgICAgICB7XG4gICAgICAgICAgICB3aW5kb3cub3BlbihXSUtJX0xJTkssIFwiX2JsYW5rXCIpPy5mb2N1cygpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChNb3VzZUluKC4uLkRJU0NPUkRfUE9TSVRJT04pKVxuICAgICAgICB7XG4gICAgICAgICAgICB3aW5kb3cub3BlbihESVNDT1JEX0lOVklURSwgXCJfYmxhbmtcIik/LmZvY3VzKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE1vdXNlSW4oLi4uUkVTRVRfUE9TSVRJT04pKVxuICAgICAgICB7XG4gICAgICAgICAgICBjdXJyZW50TWVudSA9IFwiUkVTRVRfU2V0dGluZ3NcIjtcbiAgICAgICAgICAgIGFsbG93UmVzZXRUaW1lID0gRGF0ZS5ub3coKSArIDEwMDAwO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChNb3VzZUluKC4uLklNUE9SVF9QT1NJVElPTikpXG4gICAgICAgIHtcbiAgICAgICAgICAgIEltcG9ydFNldHRpbmdzRnJvbUNsaXBib2FyZCgpLnRoZW4oKCkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzZXR0aW5nc0FsZXJ0VGV4dCA9IFwiU2V0dGluZ3MgaW1wb3J0ZWQgZnJvbSBjbGlwYm9hcmRcIjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNldHRpbmdzQWxlcnRUZXh0ID0gXCJGYWlsZWQgdG8gaW1wb3J0IHNldHRpbmdzXCI7XG4gICAgICAgICAgICB9KS5maW5hbGx5KCgpID0+IHNob3dTZXR0aW5nc0FsZXJ0ID0gRGF0ZS5ub3coKSArIDUwMDApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChNb3VzZUluKC4uLkVYUE9SVF9QT1NJVElPTikpXG4gICAgICAgIHtcbiAgICAgICAgICAgIEV4cG9ydFNldHRpbmdzVG9DbGlwYm9hcmQoKS50aGVuKCgpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2V0dGluZ3NBbGVydFRleHQgPSBcIlNldHRpbmdzIGNvcGllZCB0byBjbGlwYm9hcmRcIjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNldHRpbmdzQWxlcnRUZXh0ID0gXCJGYWlsZWQgdG8gZXhwb3J0IHNldHRpbmdzXCI7XG4gICAgICAgICAgICB9KS5maW5hbGx5KCgpID0+IHNob3dTZXR0aW5nc0FsZXJ0ID0gRGF0ZS5ub3coKSArIDUwMDApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gR2V0IHRoZSBzdWJtZW51IGNsaWNrZWQgb3B0aW9uc1xuICAgIGlmIChjdXJyZW50TWVudSA9PT0gbnVsbCAmJiBHZXRDbGlja2VkTWVudShNRU5VX0NBVEVHT1JJRVMoKSkgIT09IG51bGwpXG4gICAge1xuICAgICAgICBjdXJyZW50TWVudSA9IEdldENsaWNrZWRNZW51KE1FTlVfQ0FURUdPUklFUygpKTtcbiAgICAgICAgY3VycmVudFBhZ2UgPSAxO1xuICAgICAgICBtYXhQYWdlcyA9IE1hdGguY2VpbChPYmplY3QuZW50cmllcyhkZWZhdWx0U2V0dGluZ3NbY3VycmVudE1lbnUgPz8gXCJcIl0gPz8ge30pXG4gICAgICAgICAgICAuZmlsdGVyKChba2V5LCBzZXR0aW5nXSkgPT4gSXNEaXNwbGF5U2V0dGluZyhzZXR0aW5nKSAmJiAoa2V5IGluIChzZXR0aW5nQ2hhcj8uTVBBW2N1cnJlbnRNZW51ID8/IFwiXCJdID8/IHt9KSkpXG4gICAgICAgICAgICAubGVuZ3RoIC8gT1BUSU9OX1BFUl9QQUdFKTtcbiAgICAgICAgQ3JlYXRlSFRNTEVsZW1lbnRzKGN1cnJlbnRNZW51KTtcbiAgICB9XG4gICAgaWYgKGN1cnJlbnRNZW51ID09PSBcIlJFU0VUX1NldHRpbmdzXCIpXG4gICAge1xuICAgICAgICBSZXNldE1lbnVDbGljaygpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIEdldCBvcHRpb24gb2YgdGhlIGN1cnJlbnQgbWVudVxuICAgIGlmIChjdXJyZW50TWVudSAhPT0gbnVsbClcbiAgICB7XG4gICAgICAgIGNvbnN0IG5vUGVybWlzc2lvbiA9IChcbiAgICAgICAgICAgIGBvdGhlcnMke2N1cnJlbnRNZW51fWAgaW4gc2V0dGluZ0NoYXIhLk1QQVtNb2R1bGVUaXRsZS5BdXRob3JpdHldXG4gICAgICAgICAgICAmJiBgc2VsZiR7Y3VycmVudE1lbnV9YCBpbiBzZXR0aW5nQ2hhciEuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV1cbiAgICAgICAgICAgICYmICFJc01lbWJlck51bWJlckluQXV0aEdyb3VwKFxuICAgICAgICAgICAgICAgIFBsYXllci5NZW1iZXJOdW1iZXIgPz8gLTEsXG4gICAgICAgICAgICAgICAgc2V0dGluZ0NoYXIhLk1QQVtNb2R1bGVUaXRsZS5BdXRob3JpdHldW2BvdGhlcnMke2N1cnJlbnRNZW51fWBdIGFzIEF1dGhvcml0eUdyb3VwLFxuICAgICAgICAgICAgICAgIHNldHRpbmdDaGFyIS5NUEFbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XVtgc2VsZiR7Y3VycmVudE1lbnV9YF0gYXMgYm9vbGVhbixcbiAgICAgICAgICAgICAgICBzZXR0aW5nQ2hhciFcbiAgICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgICB8fCAoXG4gICAgICAgICAgICAhUGxheWVyLkNhbkludGVyYWN0KCkgJiYgKFxuICAgICAgICAgICAgICAgIChzZXR0aW5nQ2hhcj8uTWVtYmVyTnVtYmVyID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyXG4gICAgICAgICAgICAgICAgICAmJiAhUGxheWVyLk1QQVtNb2R1bGVUaXRsZS5BdXRob3JpdHldLmJvdW5kQWNjZXNzU2VsZilcbiAgICAgICAgICAgICAgICB8fCAoc2V0dGluZ0NoYXI/Lk1lbWJlck51bWJlciAhPT0gUGxheWVyLk1lbWJlck51bWJlclxuICAgICAgICAgICAgICAgICAgJiYgIVBsYXllci5NUEFbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XS5ib3VuZEFjY2Vzc090aGVycylcbiAgICAgICAgICAgIClcbiAgICAgICAgKTtcblxuICAgICAgICBpZiAoY3VzdG9tU2V0dGluZ09wZW4gJiYgY3VycmVudE1lbnUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIChkZWZhdWx0U2V0dGluZ3NbY3VycmVudE1lbnVdPy5bY3VzdG9tU2V0dGluZ09wZW5dIGFzIEN1c3RvbVNldHRpbmcpLk9uQ2xpY2soc2V0dGluZ0NoYXIhLCAhbm9QZXJtaXNzaW9uKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE5leHQgYW5kIHByZXZpb3VzIGJ1dHRvbnNcbiAgICAgICAgLy8gT25seSBjaGVjayBpZiBzZXR0aW5nIHBhZ2UgbmVlZHMgaXRcbiAgICAgICAgaWYgKE9iamVjdC5lbnRyaWVzKGRlZmF1bHRTZXR0aW5nc1tjdXJyZW50TWVudSA/PyBcIlwiXSA/PyB7fSlcbiAgICAgICAgICAgIC5maWx0ZXIoKFtrZXksIHNldHRpbmddKSA9PiBJc0Rpc3BsYXlTZXR0aW5nKHNldHRpbmcpICYmIChrZXkgaW4gKHNldHRpbmdDaGFyPy5NUEFbY3VycmVudE1lbnUgPz8gXCJcIl0gPz8ge30pKSlcbiAgICAgICAgICAgIC5sZW5ndGggPiBPUFRJT05fUEVSX1BBR0VcbiAgICAgICAgKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBuZXh0UHJldmlvdXNCdXR0b25zID0gQ2xpY2tlZFBhZ2VzQnV0dG9ucygpO1xuICAgICAgICAgICAgaWYgKG5leHRQcmV2aW91c0J1dHRvbnMgPT09IHRydWUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgVXBkYXRlQW5kRGVsZXRlSFRNTEVsZW1lbnRzKGN1cnJlbnRNZW51KTtcbiAgICAgICAgICAgICAgICBjdXJyZW50UGFnZSsrO1xuICAgICAgICAgICAgICAgIENyZWF0ZUhUTUxFbGVtZW50cyhjdXJyZW50TWVudSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5leHRQcmV2aW91c0J1dHRvbnMgPT09IGZhbHNlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFVwZGF0ZUFuZERlbGV0ZUhUTUxFbGVtZW50cyhjdXJyZW50TWVudSk7XG4gICAgICAgICAgICAgICAgY3VycmVudFBhZ2UtLTtcbiAgICAgICAgICAgICAgICBDcmVhdGVIVE1MRWxlbWVudHMoY3VycmVudE1lbnUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBHZXRDbGlja2VkT3B0aW9uKGN1cnJlbnRNZW51LCBub1Blcm1pc3Npb24pO1xuICAgIH1cblxuICAgIHJldHVybjtcbn1cblxuZnVuY3Rpb24gUmVzZXRNZW51Q2xpY2soKTogdm9pZFxue1xuICAgIGlmIChNb3VzZUluKC4uLlJFU0VUX0NPTkZJUk1fUE9TSVRJT04pICYmIERhdGUubm93KCkgPiBhbGxvd1Jlc2V0VGltZSlcbiAgICB7XG4gICAgICAgIFJlc2V0U3RvcmFnZSgpO1xuICAgICAgICBjdXJyZW50TWVudSA9IG51bGw7XG4gICAgICAgIGFsbG93UmVzZXRUaW1lID0gMDtcbiAgICB9XG5cbiAgICBpZiAoTW91c2VJbiguLi5SRVNFVF9DQU5DRUxfUE9TSVRJT04pKVxuICAgIHtcbiAgICAgICAgY3VycmVudE1lbnUgPSBudWxsO1xuICAgICAgICBhbGxvd1Jlc2V0VGltZSA9IDA7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBSZXNldE1lbnVSdW4oKTogdm9pZFxue1xuICAgIGNvbnN0IHByZXZUZXh0QWxpZ24gPSBNYWluQ2FudmFzLnRleHRBbGlnbjtcbiAgICBNYWluQ2FudmFzLnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XG5cbiAgICBEcmF3VGV4dChcbiAgICAgICAgTG9jYWxpemVkVGV4dChcIldBUk5JTkc6IEFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byByZXNldCB5b3VyIE1QQSBzZXR0aW5ncyBhbmQgZGF0YSBiYWNrIHRvIGRlZmF1bHQ/XCIpLFxuICAgICAgICBDQU5WQVNfV0lEVEggLyAyLFxuICAgICAgICAyNTAsXG4gICAgICAgIFwiIzAwMDAwMFwiLFxuICAgICAgICBcIiNhYWFhYWFcIlxuICAgICk7XG4gICAgRHJhd1RleHQoXG4gICAgICAgIC8vIEEgbGl0dGxlIGhvbWFnZSB0byBCQ1ggYW5kIExTQ0cgZm9yIGJlaW5nIGdyZWF0IG9wZW4gc291cmNlIHJlZmVyZW5jZXMgb24gdGhpcyBwcm9qZWN0XG4gICAgICAgIExvY2FsaXplZFRleHQoXCJUaGlzIGFjdGlvbiBjYW4gbm90IGJlIHVuZG9uZSFcIiksXG4gICAgICAgIENBTlZBU19XSURUSCAvIDIsXG4gICAgICAgIDQwMCxcbiAgICAgICAgXCIjZmYwMDAwXCIsXG4gICAgICAgIFwiI2FhYWFhYVwiXG4gICAgKTtcbiAgICBEcmF3VGV4dChcbiAgICAgICAgTG9jYWxpemVkVGV4dChcIkV4cG9ydCBhbmQgc2F2ZSB5b3VyIHNldHRpbmdzIEJFRk9SRSBjb25maXJtaW5nIGlmIHlvdSBhcmUgdW5zdXJlLlwiKSxcbiAgICAgICAgQ0FOVkFTX1dJRFRIIC8gMixcbiAgICAgICAgNTUwLFxuICAgICAgICBcIiM2OTY5NjlcIixcbiAgICAgICAgXCIjYWFhYWFhXCJcbiAgICApO1xuXG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICBpZiAobm93IDw9IGFsbG93UmVzZXRUaW1lKVxuICAgIHtcbiAgICAgICAgRHJhd0J1dHRvbihcbiAgICAgICAgICAgIC4uLlJFU0VUX0NPTkZJUk1fUE9TSVRJT04sXG4gICAgICAgICAgICBgJHtMb2NhbGl6ZWRUZXh0KFwiQ29uZmlybVwiKX0gKCR7TWF0aC5mbG9vcigoYWxsb3dSZXNldFRpbWUgLSBub3cpIC8gMTAwMCl9KWAsXG4gICAgICAgICAgICBcIiNhYWFhYWFcIixcbiAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHRydWVcbiAgICAgICAgKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgRHJhd0J1dHRvbihcbiAgICAgICAgICAgIC4uLlJFU0VUX0NPTkZJUk1fUE9TSVRJT04sXG4gICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KFwiQ29uZmlybVwiKSxcbiAgICAgICAgICAgIFwiI2ZmMDAwMFwiXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgRHJhd0J1dHRvbihcbiAgICAgICAgLi4uUkVTRVRfQ0FOQ0VMX1BPU0lUSU9OLFxuICAgICAgICBMb2NhbGl6ZWRUZXh0KFwiQ2FuY2VsXCIpLFxuICAgICAgICBcIldoaXRlXCJcbiAgICApO1xuXG4gICAgTWFpbkNhbnZhcy50ZXh0QWxpZ24gPSBwcmV2VGV4dEFsaWduO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUHJlZmVyZW5jZU1lbnVSdW4oKTogdm9pZFxue1xuICAgIGlmIChjdXJyZW50TWVudSA9PT0gXCJSRVNFVF9TZXR0aW5nc1wiKVxuICAgIHtcbiAgICAgICAgUmVzZXRNZW51UnVuKCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBwcmV2VGV4dEFsaWduID0gTWFpbkNhbnZhcy50ZXh0QWxpZ247XG4gICAgRHJhd0J1dHRvbiguLi5FWElUX1BPU0lTVElPTiwgXCJcIiwgXCJXaGl0ZVwiLCBcIkljb25zL0V4aXQucG5nXCIpO1xuICAgIE1haW5DYW52YXMudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcbiAgICBEcmF3VGV4dChgJHtMb2NhbGl6ZWRUZXh0KFwiTWF5YSdzIFBldHBsYXkgQWRkaXRpb25zXCIpfSR7Y3VycmVudE1lbnUgPyBgIC0gJHtzZXR0aW5nQ2hhcj8uTmlja25hbWUgfHwgc2V0dGluZ0NoYXI/Lk5hbWV9J3MgJHtMb2NhbGl6ZWRUZXh0KE1FTlVfVElUTEVTW2N1cnJlbnRNZW51XSA/PyBjdXJyZW50TWVudSl9YCA6IFwiXCJ9YCwgMTAwMCwgMTI1LCBcIkJsYWNrXCIsIFwiR3JheVwiKTtcblxuICAgIC8vIFdpa2ksIFJlc2V0LCBpbXBvcnQgYW5kIGV4cG9ydCBidXQgb25seSB3aGlsZSBQbGF5ZXJcbiAgICBpZiAoc2V0dGluZ0NoYXI/Lk1lbWJlck51bWJlciA9PT0gUGxheWVyLk1lbWJlck51bWJlciAmJiBjdXJyZW50TWVudSA9PT0gbnVsbClcbiAgICB7XG4gICAgICAgIGlmIChzaG93U2V0dGluZ3NBbGVydCA+PSBEYXRlLm5vdygpKVxuICAgICAgICB7XG4gICAgICAgICAgICBNYWluQ2FudmFzLnRleHRBbGlnbiA9IFwibGVmdFwiO1xuICAgICAgICAgICAgRHJhd1RleHRGaXQoXG4gICAgICAgICAgICAgICAgc2V0dGluZ3NBbGVydFRleHQsXG4gICAgICAgICAgICAgICAgLi4uQUxFUlRfUE9TSVRJT04sXG4gICAgICAgICAgICAgICAgXCJCbGFja1wiLFxuICAgICAgICAgICAgICAgIFwiR3JheVwiXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIE1haW5DYW52YXMudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcbiAgICAgICAgRHJhd0J1dHRvbihcbiAgICAgICAgICAgIC4uLldJS0lfUE9TSVRJT04sXG4gICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KFwiV2lraVwiKSxcbiAgICAgICAgICAgIFwiI2ZmZmZmZlwiLFxuICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgIExvY2FsaXplZFRleHQoXCJPcGVuIHRoZSBNUEEgd2lraSBpbiBhIG5ldyB0YWJcIilcbiAgICAgICAgKTtcbiAgICAgICAgRHJhd0J1dHRvbihcbiAgICAgICAgICAgIC4uLkRJU0NPUkRfUE9TSVRJT04sXG4gICAgICAgICAgICBcIkRpc2NvcmRcIixcbiAgICAgICAgICAgIFwiI2ZmZmZmZlwiLFxuICAgICAgICAgICAgSUNPTlMuRElTQ09SRCxcbiAgICAgICAgICAgIFwiSm9pbiB0aGUgTVBBIGRpc2NvcmQhXCJcbiAgICAgICAgKTtcbiAgICAgICAgRHJhd0J1dHRvbihcbiAgICAgICAgICAgIC4uLlJFU0VUX1BPU0lUSU9OLFxuICAgICAgICAgICAgTG9jYWxpemVkVGV4dChcIlJFU0VUXCIpLFxuICAgICAgICAgICAgXCIjZmYyZTJlYWFcIixcbiAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KFwiUmVzZXQgYWxsIHlvdXIgc2V0dGluZ3MgYmFjayB0byBkZWZhdWx0XCIpXG4gICAgICAgICk7XG4gICAgICAgIERyYXdCdXR0b24oXG4gICAgICAgICAgICAuLi5JTVBPUlRfUE9TSVRJT04sXG4gICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KFwiSW1wb3J0XCIpLFxuICAgICAgICAgICAgXCIjZmZmZmZmXCIsXG4gICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgTG9jYWxpemVkVGV4dChcIkltcG9ydCB0aGUgc2V0dGluZ3MgY29waWVkIHRvIHlvdXIgY2xpcGJvYXJkXCIpXG4gICAgICAgICk7XG4gICAgICAgIERyYXdCdXR0b24oXG4gICAgICAgICAgICAuLi5FWFBPUlRfUE9TSVRJT04sXG4gICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KFwiRXhwb3J0XCIpLFxuICAgICAgICAgICAgXCIjZmZmZmZmXCIsXG4gICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgTG9jYWxpemVkVGV4dChcIkV4cG9ydCB5b3VyIGN1cnJlbnQgc2V0dGluZ3MgdG8gdGhlIGNsaXBib2FyZFwiKVxuICAgICAgICApO1xuICAgICAgICBEcmF3VGV4dEZpdChcbiAgICAgICAgICAgIGAke0xvY2FsaXplZFRleHQoXCJWZXJzaW9uXCIpfTogJHtQbGF5ZXIuTVBBLnZlcnNpb259YCxcbiAgICAgICAgICAgIC4uLlZFUlNJT05fVEVYVCxcbiAgICAgICAgICAgIFwiQmxhY2tcIixcbiAgICAgICAgICAgIFwiR3JheVwiXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgTWFpbkNhbnZhcy50ZXh0QWxpZ24gPSBcImxlZnRcIjtcbiAgICBpZiAoY3VycmVudE1lbnUgPT09IG51bGwpXG4gICAge1xuICAgICAgICAvLyBEcmF3IGFsbCB0aGUgYnV0dG9ucyB0byBhY2Nlc3MgdGhlIHN1Ym1lbnVzXG4gICAgICAgIERyYXdNZW51T3B0aW9ucyhNRU5VX0NBVEVHT1JJRVMoKSk7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIC8vIERyYXcgdGhlIG9wdGlvbnMgaW4gdGhlIHN1Ym1lbnVcbiAgICAgICAgRHJhd1N1Yk1lbnVPcHRpb25zKGN1cnJlbnRNZW51KTtcbiAgICB9XG4gICAgTWFpbkNhbnZhcy50ZXh0QWxpZ24gPSBwcmV2VGV4dEFsaWduO1xuICAgIHJldHVybjtcbn1cblxuZnVuY3Rpb24gUHJlZmVyZW5jZU1lbnVFeGl0KCk6IGJvb2xlYW4gfCB2b2lkXG57XG4gICAgLy8gU2hvdWxkbid0IGJlIG5lZWRlZCBidXQgYWN0cyBhcyBmYWlsc2FmZSBhbmQgbWFrZXMgdHlwZXNjcmlwdCBoYXBweVxuICAgIGlmICghc2V0dGluZ0NoYXIpIHsgcmV0dXJuOyB9XG5cbiAgICBpZiAoc2V0dGluZ3NFZGl0ZWQpXG4gICAge1xuICAgICAgICBpZiAoc2V0dGluZ0NoYXIuTWVtYmVyTnVtYmVyID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICBMZXZlbFN5bmMoZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgICAgICBTYXZlU3RvcmFnZSh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIFNlbmRNUEFNZXNzYWdlKFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJTZXR0aW5nUHV0UmVxdWVzdFwiLFxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nczogc2V0dGluZ0NoYXIuTVBBXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXR0aW5nQ2hhci5NZW1iZXJOdW1iZXJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBvd25lciBvZiBvd25lcnNBZGRlZClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKG93bmVyICE9PSBzZXR0aW5nQ2hhcj8uTWVtYmVyTnVtYmVyXG4gICAgICAgICAgICAgICYmIG93bmVyICE9PSBQbGF5ZXIuTWVtYmVyTnVtYmVyXG4gICAgICAgICAgICAgICYmIEZpbmRDaGFyYWN0ZXJJblJvb20ob3duZXIsIHsgTmlja25hbWU6IGZhbHNlLCBOYW1lOiBmYWxzZSB9KSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBTZW5kTVBBTWVzc2FnZSh7IG1lc3NhZ2U6IFwib3duZXJBZGRlZFwiIH0sIG93bmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IG93bmVyIG9mIG93bmVyc1JlbW92ZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChvd25lciAhPT0gc2V0dGluZ0NoYXI/Lk1lbWJlck51bWJlclxuICAgICAgICAgICAgICAmJiBvd25lciAhPT0gUGxheWVyLk1lbWJlck51bWJlclxuICAgICAgICAgICAgICAmJiBGaW5kQ2hhcmFjdGVySW5Sb29tKG93bmVyLCB7IE5pY2tuYW1lOiBmYWxzZSwgTmFtZTogZmFsc2UgfSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgU2VuZE1QQU1lc3NhZ2UoeyBtZXNzYWdlOiBcIm93bmVyUmVtb3ZlZFwiIH0sIG93bmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBvd25lcnNBZGRlZCA9IFtdO1xuICAgICAgICBvd25lcnNSZW1vdmVkID0gW107XG4gICAgfVxuICAgIGlmIChzZXR0aW5nQ2hhci5NZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXIpXG4gICAge1xuICAgICAgICBQcmVmZXJlbmNlU3Vic2NyZWVuRXh0ZW5zaW9uc0NsZWFyKCk7XG4gICAgfVxuICAgIHNldHRpbmdzRWRpdGVkID0gZmFsc2U7XG4gICAgc2V0dGluZ0NoYXIgPSBudWxsO1xuICAgIHNldHRpbmdzT3BlbiA9IGZhbHNlO1xufVxuXG4vKipcbiAqIENhbGxlZCBvbmNlIHdoZW4gdGhlIFByZWZlcmVuY2UgTWVudSBsb2FkcyB1cCBhZnRlciBvcGVuaW5nXG4gKi9cbmZ1bmN0aW9uIFByZWZlcmVuY2VNZW51TG9hZCgpOiB2b2lkXG57XG4gICAgLy8gU2hvdWxkbid0IGJlIG5lZWRlZCBidXQgYWN0cyBhcyBmYWlsc2FmZSBhbmQgbWFrZXMgdHlwZXNjcmlwdCBoYXBweVxuICAgIGlmICghc2V0dGluZ0NoYXIpIHsgcmV0dXJuOyB9XG4gICAgc2V0dGluZ3NPcGVuID0gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gUGxheWVyUHJlZmVyZW5jZU1lbnVMb2FkKCk6IHZvaWRcbntcbiAgICBzZXR0aW5nc0VkaXRlZCA9IGZhbHNlO1xuICAgIHNldHRpbmdDaGFyID0gUGxheWVyO1xuICAgIG93bmVyc0FkZGVkID0gW107XG4gICAgb3duZXJzUmVtb3ZlZCA9IFtdO1xuICAgIFByZWZlcmVuY2VNZW51TG9hZCgpO1xufVxuXG4vKipcbiAqIEdldCB0aGUgc3RyaW5nIHdpdGggYW4gTVBBIGlkZW50aWZpZXIgaW4gZnJvbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEVsZW1lbnROYW1lKHRpdGxlOiBNb2R1bGVUaXRsZSB8IHN0cmluZywgc2V0dGluZzogc3RyaW5nKTogc3RyaW5nXG57XG4gICAgcmV0dXJuIGBNUEFfT1BUSU9OXyR7dGl0bGV9JHtzZXR0aW5nfWA7XG59XG5cbi8qKlxuICogQ3JlYXRlIGFuZCBoaWRlIGFsbCB0aGUgSFRNTCBlbGVtZW50cyB0aGF0IGFyZSBuZWVkZWQgZm9yIHRoZSBQcmVmZXJlbmNlIFNldHRpbmcgcGFnZVxuICovXG5mdW5jdGlvbiBDcmVhdGVIVE1MRWxlbWVudHMoc3ViTWVudTogTW9kdWxlVGl0bGUgfCBudWxsLCBwYWdlOiBudW1iZXIgPSBjdXJyZW50UGFnZSk6IHZvaWRcbntcbiAgICBpZiAoIXN1Yk1lbnUpIHsgcmV0dXJuOyB9XG4gICAgLy8gU2hvdWxkbid0IGJlIG5lZWRlZCBidXQgYWN0cyBhcyBmYWlsc2FmZSBhbmQgbWFrZXMgdHlwZXNjcmlwdCBoYXBweVxuICAgIGlmICghc2V0dGluZ0NoYXIpIHsgcmV0dXJuOyB9XG5cbiAgICBPYmplY3QuZW50cmllcyhkZWZhdWx0U2V0dGluZ3Nbc3ViTWVudV0gPz8ge30pLnNsaWNlKChwYWdlIC0gMSkgKiBPUFRJT05fUEVSX1BBR0UsIHBhZ2UgKiBPUFRJT05fUEVSX1BBR0UpLmZvckVhY2goKHNldCkgPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IFtzZXR0aW5nTmFtZSwgc2V0dGluZ10gPSBzZXQ7XG4gICAgICAgIGNvbnN0IGlkID0gRWxlbWVudE5hbWUoc3ViTWVudSwgc2V0dGluZ05hbWUpO1xuICAgICAgICBpZiAoSXNUZXh0U2V0dGluZyhzZXR0aW5nKSlcbiAgICAgICAge1xuICAgICAgICAgICAgRWxlbWVudENyZWF0ZUlucHV0KGlkLCBcInRleHRcIiwgc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gYXMgc3RyaW5nLCBzZXR0aW5nLm1heENoYXJzID8/IE9QVElPTl9URVhUX01BWF9DSEFSUyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoSXNOdW1iZXJTZXR0aW5nKHNldHRpbmcpKVxuICAgICAgICB7XG4gICAgICAgICAgICBFbGVtZW50Q3JlYXRlSW5wdXQoaWQsIFwibnVtYmVyXCIsIHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgRWxlbWVudFNldEF0dHJpYnV0ZShpZCwgXCJtaW5cIiwgc2V0dGluZy5taW4udG9TdHJpbmcoKSk7XG4gICAgICAgICAgICBFbGVtZW50U2V0QXR0cmlidXRlKGlkLCBcIm1heFwiLCBzZXR0aW5nLm1heC50b1N0cmluZygpKTtcbiAgICAgICAgICAgIEVsZW1lbnRTZXRBdHRyaWJ1dGUoaWQsIFwiaW5wdXRtb2RlXCIsIFwiZGVjaW1hbFwiKTtcbiAgICAgICAgICAgIGlmIChzZXR0aW5nLnN0ZXApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgRWxlbWVudFNldEF0dHJpYnV0ZShpZCwgXCJzdGVwXCIsIHNldHRpbmcuc3RlcC50b1N0cmluZygpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufVxuLyoqXG4gKiBVcGRhdGUgdGhlIHNldHRpbmcgdmFsdWVzIHRvIHJlZmxlY3QgdGhvc2UgaW4gdGhlIGh0bWwgZWxlbWVudHMgYW5kIGRlbGV0ZSB0aGVtIGFmdGVyXG4gKi9cbmZ1bmN0aW9uIFVwZGF0ZUFuZERlbGV0ZUhUTUxFbGVtZW50cyhzdWJNZW51OiBNb2R1bGVUaXRsZSwgcGFnZTogbnVtYmVyID0gY3VycmVudFBhZ2UpOiB2b2lkXG57XG4gICAgLy8gU2hvdWxkbid0IGJlIG5lZWRlZCBidXQgYWN0cyBhcyBmYWlsc2FmZSBhbmQgbWFrZXMgdHlwZXNjcmlwdCBoYXBweVxuICAgIGlmICghc2V0dGluZ0NoYXIpIHsgcmV0dXJuOyB9XG5cbiAgICAvLyBVcGRhdGUgdGhlIHZpcnR1YWwgcGV0IHN0YXRzIGJhc2VkIG9uIGN1cnJlbnQgdmFsdWVzIHNvIHRoZSBsZXZlbCBkb2Vzbid0IGp1bXAgYXJvdW5kXG4gICAgaWYgKHN1Yk1lbnUgPT09IE1vZHVsZVRpdGxlLlZpcnR1YWxQZXQpXG4gICAge1xuICAgICAgICBMZXZlbFN5bmMoZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgT2JqZWN0LmVudHJpZXMoZGVmYXVsdFNldHRpbmdzW3N1Yk1lbnVdID8/IHt9KS5zbGljZSgocGFnZSAtIDEpICogT1BUSU9OX1BFUl9QQUdFLCBwYWdlICogT1BUSU9OX1BFUl9QQUdFKS5mb3JFYWNoKChzZXQpID0+XG4gICAge1xuICAgICAgICBjb25zdCBbc2V0dGluZ05hbWUsIHNldHRpbmddID0gc2V0O1xuICAgICAgICBjb25zdCBpZCA9IEVsZW1lbnROYW1lKHN1Yk1lbnUsIHNldHRpbmdOYW1lKTtcbiAgICAgICAgaWYgKElzVGV4dFNldHRpbmcoc2V0dGluZykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSAhPT0gRWxlbWVudFZhbHVlKGlkKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSA9IEVsZW1lbnRWYWx1ZShpZCk7XG4gICAgICAgICAgICAgICAgc2V0dGluZ3NFZGl0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgRWxlbWVudFJlbW92ZShpZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKElzTnVtYmVyU2V0dGluZyhzZXR0aW5nKSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdICE9PSBOdW1iZXIoRWxlbWVudFZhbHVlKGlkKSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gPSBOdW1iZXIoRWxlbWVudFZhbHVlKGlkKSk7XG4gICAgICAgICAgICAgICAgc2V0dGluZ3NFZGl0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgRWxlbWVudFJlbW92ZShpZCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZXhwb3J0IGNsYXNzIFNldHRpbmdzTW9kdWxlIGV4dGVuZHMgTW9kdWxlXG57XG4gICAgZ2V0IFRpdGxlKCk6IE1vZHVsZVRpdGxlXG4gICAge1xuICAgICAgICByZXR1cm4gTW9kdWxlVGl0bGUuU2V0dGluZ3M7XG4gICAgfVxuXG4gICAgTG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICAvLyBBZGQgc2V0dGluZ3MgdG8gdGhlIGV4dGVuc2lvbiBvcHRpb25zXG4gICAgICAgIFByZWZlcmVuY2VSZWdpc3RlckV4dGVuc2lvblNldHRpbmcoe1xuICAgICAgICAgICAgSWRlbnRpZmllcjogXCJNUEFcIixcbiAgICAgICAgICAgIEJ1dHRvblRleHQ6IExvY2FsaXplZFRleHQoXCJNUEEgU2V0dGluZ3NcIiksXG4gICAgICAgICAgICBJbWFnZTogSUNPTlMuUEFXLFxuICAgICAgICAgICAgY2xpY2s6IFByZWZlcmVuY2VNZW51Q2xpY2ssXG4gICAgICAgICAgICBydW46IFByZWZlcmVuY2VNZW51UnVuLFxuICAgICAgICAgICAgZXhpdDogUHJlZmVyZW5jZU1lbnVFeGl0LFxuICAgICAgICAgICAgbG9hZDogUGxheWVyUHJlZmVyZW5jZU1lbnVMb2FkXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFdoZW4gcHJlc3NpbmcgZXNjYXBlLCBvbmx5IGdvIHRvIG1haW4gbWVudSBpZiBpbiBzdWIgbWVudVxuICAgICAgICBmdW5jdGlvbiBFc2NhcGVIYW5kbGVyKGV2ZW50OiBLZXlib2FyZEV2ZW50KTogdm9pZFxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgKGV2ZW50LmtleSA9PT0gXCJFc2NhcGVcIiB8fCBldmVudC5rZXkgPT09IFwiRXNjXCIpXG4gICAgICAgICAgICAgICAgJiYgc2V0dGluZ3NPcGVuXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRNZW51ID09PSBudWxsKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgUHJlZmVyZW5jZU1lbnVFeGl0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGN1cnJlbnRNZW51ID09PSBcIlJFU0VUX1NldHRpbmdzXCIpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBhbGxvd1Jlc2V0VGltZSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGN1c3RvbVNldHRpbmdPcGVuICE9PSBudWxsKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgKGRlZmF1bHRTZXR0aW5nc1tjdXJyZW50TWVudV0/LltjdXN0b21TZXR0aW5nT3Blbl0gYXMgQ3VzdG9tU2V0dGluZykuT25FeGl0KHNldHRpbmdDaGFyISk7XG4gICAgICAgICAgICAgICAgICAgIGN1c3RvbVNldHRpbmdPcGVuID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgQ3JlYXRlSFRNTEVsZW1lbnRzKGN1cnJlbnRNZW51KTtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgVXBkYXRlQW5kRGVsZXRlSFRNTEVsZW1lbnRzKGN1cnJlbnRNZW51KTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhZ2UgPSAxO1xuICAgICAgICAgICAgICAgICAgICBtYXhQYWdlcyA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGN1cnJlbnRNZW51ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5cHJlc3NcIiwgRXNjYXBlSGFuZGxlciwgdHJ1ZSk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIEVzY2FwZUhhbmRsZXIsIHRydWUpO1xuICAgIH1cblxuICAgIFVubG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICAvLyBVbmxvYWQgYmVpbmcgZW1wdHkgaXMgd2FudGVkLCBuZXZlciB1bmxvYWQgc2V0dGluZ3NcbiAgICB9XG5cbiAgICBSZWxvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgLy8gUmVsb2FkIGJlaW5nIGVtcHR5IGlzIHdhbnRlZCwgbmV2ZXIgcmVsb2FkIHNldHRpbmdzXG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQXJyYXlUb1JlYWRhYmxlU3RyaW5nLCBGaW5kQ2hhcmFjdGVySW5Sb29tLCBIb29rZWRNZXNzYWdlLCBNZW1iZXJOdW1iZXJUb05hbWUsIE1QQU1lc3NhZ2VDb250ZW50LCBNUEFOb3RpZnlQbGF5ZXIsIE5vdGlmeVBsYXllciwgU2VuZE1QQU1lc3NhZ2UgfSBmcm9tIFwiLi4vdXRpbC9tZXNzYWdpbmdcIjtcbmltcG9ydCB7IExvY2FsaXplZFRleHQgfSBmcm9tIFwiLi4vbG9jYWxpemF0aW9uL2xvY2FsaXphdGlvblwiO1xuaW1wb3J0IHsgSUNPTlMgfSBmcm9tIFwiLi4vdXRpbC9jb25zdGFudHNcIjtcbmltcG9ydCB7IGJjeEZvdW5kLCBIb29rRnVuY3Rpb24gfSBmcm9tIFwiLi4vdXRpbC9zZGtcIjtcbmltcG9ydCB7IE1vZHVsZSwgTW9kdWxlSXNQdWJsaWMsIE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4vX21vZHVsZVwiO1xuaW1wb3J0IHsgY3VycmVudE1lbnUsIEV4aXRCdXR0b25QcmVzc2VkLCBNRU5VX1RJVExFUywgUHJlZmVyZW5jZU1lbnVDbGljaywgUHJlZmVyZW5jZU1lbnVSdW4sIFNldFNldHRpbmdDaGFyIH0gZnJvbSBcIi4vc2V0dGluZ3NcIjtcbmltcG9ydCB7IFNhdmVTdG9yYWdlIH0gZnJvbSBcIi4uL3V0aWwvc3RvcmFnZVwiO1xuaW1wb3J0IHsgTGV2ZWxTeW5jIH0gZnJvbSBcIi4vdmlydHVhbFBldFwiO1xuaW1wb3J0IHsgSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cCB9IGZyb20gXCIuLi91dGlsL2F1dGhvcml0eVwiO1xuaW1wb3J0IHsgc2V0dGluZ3MgYXMgZGVmYXVsdFNldHRpbmdzIH0gZnJvbSBcIi4uL3V0aWwvcmVnaXN0ZXJNb2R1bGVzXCI7XG5cbi8vIE90aGVyIHNldHRpbmdzXG5jb25zdCBNUEFfUkVNT1RFID0gWzE3MDAsIDc2NSwgOTAsIDkwXSBhcyBjb25zdDtcbi8vIEJDWCBtb3ZlcyB0aGUgYnV0dG9uIGRvd24gYnkgMzUgZm9yIHNvbWUgcmVhc29uXG5jb25zdCBNUEFfUkVNT1RFX0JDWCA9IFsxNzAwLCA4MDAsIDkwLCA5MF0gYXMgY29uc3Q7XG4vLyBQb3NpdGlvbmluZyBmb3IgdmVyc2lvbiB0ZXh0XG5jb25zdCBWRVJTSU9OX1RFWFRfU0VMRiA9IFtcbiAgICAyNzUsXG4gICAgOTAwLFxuICAgIDM1MFxuXSBhcyBjb25zdDtcbmNvbnN0IFZFUlNJT05fVEVYVF9PVEhFUiA9IFtcbiAgICBWRVJTSU9OX1RFWFRfU0VMRlswXSxcbiAgICBWRVJTSU9OX1RFWFRfU0VMRlsxXSAtIDUwLFxuICAgIFZFUlNJT05fVEVYVF9TRUxGWzJdXG5dIGFzIGNvbnN0O1xuXG5mdW5jdGlvbiBBcnJheXNFcXVhbChhcnIxOiBhbnlbXSwgYXJyMjogYW55W10pOiBib29sZWFuXG57XG4gICAgaWYgKGFycjEubGVuZ3RoICE9PSBhcnIyLmxlbmd0aClcbiAgICB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIHJldHVybiBhcnIxLmV2ZXJ5KCh2YWx1ZSwgaW5kZXgpID0+IHZhbHVlID09PSBhcnIyW2luZGV4XSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBPYmplY3REaWZmZXJlbmNlcyhvbGRPYmo6IG9iamVjdCwgbmV3T2JqOiBvYmplY3QpOiBvYmplY3RcbntcbiAgICBjb25zdCBkaWZmZXJlbmNlcyA9IHt9O1xuXG4gICAgZm9yIChjb25zdCBrZXkgaW4gb2xkT2JqKVxuICAgIHtcbiAgICAgICAgLy8gS2V5IGlzIG1pc3NpbmcgaW4gbmV3T2JqXG4gICAgICAgIGlmICghKGtleSBpbiBuZXdPYmopKVxuICAgICAgICB7XG4gICAgICAgICAgICBkaWZmZXJlbmNlc1trZXldID0geyBvbGQ6IG9sZE9ialtrZXldLCBuZXc6IHVuZGVmaW5lZCB9O1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IG9sZE9ialtrZXldO1xuICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IG5ld09ialtrZXldO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIEFycmF5LmlzQXJyYXkob2xkVmFsdWUpXG4gICAgICAgICAgICAmJiBBcnJheS5pc0FycmF5KG5ld1ZhbHVlKVxuICAgICAgICApXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIElmIGJvdGggYXJlIGFycmF5cywgY29tcGFyZSB0aGVpciBjb250ZW50c1xuICAgICAgICAgICAgaWYgKCFBcnJheXNFcXVhbChvbGRWYWx1ZSwgbmV3VmFsdWUpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRpZmZlcmVuY2VzW2tleV0gPSB7IG9sZDogb2xkVmFsdWUsIG5ldzogbmV3VmFsdWUgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgICAgIHR5cGVvZiBvbGRWYWx1ZSA9PT0gXCJvYmplY3RcIlxuICAgICAgICAgICAgJiYgdHlwZW9mIG5ld1ZhbHVlID09PSBcIm9iamVjdFwiXG4gICAgICAgICAgICAmJiAhQXJyYXkuaXNBcnJheShvbGRWYWx1ZSkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIElmIGJvdGggYXJlIG9iamVjdHMsIHJlY3Vyc2l2ZWx5IGNoZWNrIGZvciBkaWZmZXJlbmNlc1xuICAgICAgICAgICAgY29uc3QgZGlmZiA9IE9iamVjdERpZmZlcmVuY2VzKG9sZFZhbHVlLCBuZXdWYWx1ZSk7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoZGlmZikubGVuZ3RoID4gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkaWZmZXJlbmNlc1trZXldID0gZGlmZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvbGRWYWx1ZSAhPT0gbmV3VmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIElmIHZhbHVlcyBhcmUgZGlmZmVyZW50LCBzdG9yZSB0aGUgZGlmZmVyZW5jZVxuICAgICAgICAgICAgZGlmZmVyZW5jZXNba2V5XSA9IHsgb2xkOiBvbGRWYWx1ZSwgbmV3OiBuZXdWYWx1ZSB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gTmV3IGtleXMgbm90IGZvdW5kIGluIHRoZSBvbGQgb2JqZWN0XG4gICAgZm9yIChjb25zdCBrZXkgaW4gbmV3T2JqKVxuICAgIHtcbiAgICAgICAgaWYgKCEoa2V5IGluIG9sZE9iaikpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRpZmZlcmVuY2VzW2tleV0gPSB7IG9sZDogdW5kZWZpbmVkLCBuZXc6IG5ld09ialtrZXldIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZGlmZmVyZW5jZXM7XG59XG5cbmV4cG9ydCBjbGFzcyBTZXR0aW5nc090aGVyTW9kdWxlIGV4dGVuZHMgTW9kdWxlXG57XG4gICAgZ2V0IFRpdGxlKCk6IE1vZHVsZVRpdGxlXG4gICAge1xuICAgICAgICByZXR1cm4gTW9kdWxlVGl0bGUuU2V0dGluZ3NPdGhlcjtcbiAgICB9XG5cbiAgICBnZXQgU3luY0xpc3RlbmVycygpOiBIb29rZWRNZXNzYWdlW11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbW9kdWxlOiB0aGlzLlRpdGxlLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiU2V0dGluZ1B1dFJlcXVlc3RcIixcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uIChzZW5kZXI6IENoYXJhY3RlciwgY29udGVudDogTVBBTWVzc2FnZUNvbnRlbnQpOiB2b2lkXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvcmdpbmFsU2V0dGluZ3MgPSBzdHJ1Y3R1cmVkQ2xvbmUoUGxheWVyLk1QQSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZwRW5hYmxlZCA9IFBsYXllci5NUEFbTW9kdWxlVGl0bGUuVmlydHVhbFBldF0uZW5hYmxlZDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlmZmVyZW5jZXMgPSBPYmplY3REaWZmZXJlbmNlcyhQbGF5ZXIuTVBBLCBjb250ZW50LnNldHRpbmdzKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gRG9uJ3QgY2hhbmdlIGFueSBwcml2YXRlIHJlY29yZHMgZnJvbSBpbmNvbWluZyBzb3VyY2VzXG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKGRpZmZlcmVuY2VzKS5mb3JFYWNoKChtb2R1bGVUaXRsZSkgPT5cbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFNb2R1bGVJc1B1YmxpYyhtb2R1bGVUaXRsZSBhcyBNb2R1bGVUaXRsZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGRpZmZlcmVuY2VzW21vZHVsZVRpdGxlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYW5nZWRTZXR0aW5nczogc3RyaW5nW10gPSBbXTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBEZWxldGUgdGhlIFZQIGxldmVscyBhcyB0aGV5IHdpbGwgYmUgc3luY2VkIHdpdGggdGhlIHBsYXllciBpbnN0ZWFkXG4gICAgICAgICAgICAgICAgICAgIGlmIChkaWZmZXJlbmNlcz8uW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdPy5sZXZlbHMpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBkaWZmZXJlbmNlc1tNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XS5sZXZlbHM7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoZGlmZmVyZW5jZXNbTW9kdWxlVGl0bGUuVmlydHVhbFBldF0pLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZGlmZmVyZW5jZXNbTW9kdWxlVGl0bGUuVmlydHVhbFBldF07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgTGV2ZWxTeW5jKGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vICEhISEhISEhISEhISEhISEhISEhISEhXG4gICAgICAgICAgICAgICAgICAgIC8vIERvIEF1dGhvcml0eSBxdWVyeXMgZmlyc3RcbiAgICAgICAgICAgICAgICAgICAgLy8gISEhISEhISEhISEhISEhISEhISEhISFcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJldmlvdXNBdXRob3JpdHkgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KFBsYXllci5NUEE/LltNb2R1bGVUaXRsZS5BdXRob3JpdHldKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0F1dGhvcml0eSA9IGRpZmZlcmVuY2VzW01vZHVsZVRpdGxlLkF1dGhvcml0eV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdBdXRob3JpdHkpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBkaWZmZXJlbmNlc1tNb2R1bGVUaXRsZS5BdXRob3JpdHldO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgb3duZXJPdmVycmlkZTogYW55ID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdBdXRob3JpdHk/Lm5ld093bmVycz8ub3duZXJzKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG93bmVyT3ZlcnJpZGUgPSBuZXdBdXRob3JpdHkubmV3T3duZXJzLm93bmVycztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgbmV3QXV0aG9yaXR5Lm5ld093bmVycy5vd25lcnM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFZhbGlkYXRlIHRoYXQgYXV0aG9yaXR5IGNhbiBiZSBjaGFuZ2VkIGJhc2VkIG9uIGN1cnJlbnQgYXV0aG9yaXR5IGZpcnN0XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cChzZW5kZXIuTWVtYmVyTnVtYmVyID8/IC0xLCBwcmV2aW91c0F1dGhvcml0eVtgb3RoZXJzJHtNb2R1bGVUaXRsZS5BdXRob3JpdHl9YF0pKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZWRTZXR0aW5ncy5wdXNoKExvY2FsaXplZFRleHQoTW9kdWxlVGl0bGUuQXV0aG9yaXR5KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBlbnRyeSBpbiBuZXdBdXRob3JpdHkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3QXV0aG9yaXR5W2VudHJ5XS5uZXcgIT09IHVuZGVmaW5lZCAmJiBuZXdBdXRob3JpdHlbZW50cnldLm9sZCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV1bZW50cnldID0gbmV3QXV0aG9yaXR5W2VudHJ5XS5uZXc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3ViIHNldHRpbmcgb2JqZWN0IChuZXcgb3duZXJzIG9ubHkgZm9yIG5vdylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHN1YmVudHJ5IGluIG5ld0F1dGhvcml0eVtlbnRyeV0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0F1dGhvcml0eVtlbnRyeV1bc3ViZW50cnldLm5ldyAhPT0gdW5kZWZpbmVkICYmIG5ld0F1dGhvcml0eVtlbnRyeV1bc3ViZW50cnldLm9sZCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGxheWVyLk1QQVtNb2R1bGVUaXRsZS5BdXRob3JpdHldW2VudHJ5XVtzdWJlbnRyeV0gPSBuZXdBdXRob3JpdHlbZW50cnldW3N1YmVudHJ5XS5uZXc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG93bmVyT3ZlcnJpZGUpXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gT3duZXIgY2hhbmdlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzT3duZXJzID0gKChvcmdpbmFsU2V0dGluZ3M/LltNb2R1bGVUaXRsZS5BdXRob3JpdHldPy5uZXdPd25lcnM/Lm93bmVycyBhcyBudW1iZXJbXSkgPz8gW10pLnNvcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwZW5kaW5nT3duZXJzOiBudW1iZXJbXSA9IG93bmVyT3ZlcnJpZGUubmV3O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvd25lck91dHB1dCA9IFwiXCI7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPd25lcnMgYWRkZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cChzZW5kZXIuTWVtYmVyTnVtYmVyID8/IC0xLCBvcmdpbmFsU2V0dGluZ3M/LltNb2R1bGVUaXRsZS5BdXRob3JpdHldPy5uZXdPd25lcnM/Lm90aGVyc0FkZCA/PyBcIk5vbmVcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG93bmVyIG9mIHBlbmRpbmdPd25lcnMuZmlsdGVyKCh4KSA9PiAhcHJldmlvdXNPd25lcnMuaW5jbHVkZXMoeCkpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV0/Lm5ld093bmVycz8ub3duZXJzPy5wdXNoKG93bmVyKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3duZXJPdXRwdXQgKz0gTG9jYWxpemVkVGV4dChcIlNvdXJjZUNoYXJhY3RlciBhZGRlZCBUYXJnZXRDaGFyYWN0ZXIgKFRhcmdldE1lbWJlck51bWJlcikgYXMgTVBBIG93bmVyLlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKFwiU291cmNlQ2hhcmFjdGVyXCIsIHNlbmRlci5OaWNrbmFtZSB8fCBzZW5kZXIuTmFtZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZUFsbChcIlRhcmdldENoYXJhY3RlclwiLCBNZW1iZXJOdW1iZXJUb05hbWUob3duZXIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlQWxsKFwiVGFyZ2V0TWVtYmVyTnVtYmVyXCIsIG93bmVyLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3duZXJPdXRwdXQgKz0gXCJcXG5cIjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG93bmVyICE9PSBzZW5kZXIuTWVtYmVyTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIEZpbmRDaGFyYWN0ZXJJblJvb20ob3duZXIsIHsgTmlja25hbWU6IGZhbHNlLCBOYW1lOiBmYWxzZSB9KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTZW5kTVBBTWVzc2FnZSh7IG1lc3NhZ2U6IFwib3duZXJBZGRlZFwiIH0sIG93bmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE93bmVycyByZW1vdmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKElzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAoc2VuZGVyLk1lbWJlck51bWJlciA/PyAtMSwgb3JnaW5hbFNldHRpbmdzPy5bTW9kdWxlVGl0bGUuQXV0aG9yaXR5XT8ubmV3T3duZXJzPy5vdGhlcnNSZW1vdmUgPz8gXCJOb25lXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBvd25lciBvZiBwcmV2aW91c093bmVycy5maWx0ZXIoKHgpID0+ICFwZW5kaW5nT3duZXJzLmluY2x1ZGVzKHgpKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsdGVyZWQgPSBQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV0/Lm5ld093bmVycz8ub3duZXJzPy5maWx0ZXIoKHg6IG51bWJlcikgPT4geCAhPT0gb3duZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlcmVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBsYXllci5NUEFbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XS5uZXdPd25lcnMub3duZXJzID0gZmlsdGVyZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG93bmVyT3V0cHV0ICs9IExvY2FsaXplZFRleHQoXCJTb3VyY2VDaGFyYWN0ZXIgcmVtb3ZlZCBUYXJnZXRDaGFyYWN0ZXIgKFRhcmdldE1lbWJlck51bWJlcikgYXMgTVBBIG93bmVyLlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKFwiU291cmNlQ2hhcmFjdGVyXCIsIHNlbmRlci5OaWNrbmFtZSB8fCBzZW5kZXIuTmFtZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZUFsbChcIlRhcmdldENoYXJhY3RlclwiLCBNZW1iZXJOdW1iZXJUb05hbWUob3duZXIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlQWxsKFwiVGFyZ2V0TWVtYmVyTnVtYmVyXCIsIG93bmVyLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3duZXJPdXRwdXQgKz0gXCJcXG5cIjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG93bmVyICE9PSBzZW5kZXIuTWVtYmVyTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIEZpbmRDaGFyYWN0ZXJJblJvb20ob3duZXIsIHsgTmlja25hbWU6IGZhbHNlLCBOYW1lOiBmYWxzZSB9KSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTZW5kTVBBTWVzc2FnZSh7IG1lc3NhZ2U6IFwib3duZXJSZW1vdmVkXCIgfSwgb3duZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWxsb3cgc2VsZiByZW1vdmFsIChpZiBub3QgaGF2ZSBwZXJtcylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBlbmRpbmdPd25lcnMuaW5jbHVkZXMoc2VuZGVyLk1lbWJlck51bWJlciBhcyBudW1iZXIpICYmIFBsYXllci5NUEFbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XT8ubmV3T3duZXJzPy5vd25lcnM/LmluY2x1ZGVzKHNlbmRlci5NZW1iZXJOdW1iZXIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsdGVyZWQgPSBQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV0/Lm5ld093bmVycz8ub3duZXJzPy5maWx0ZXIoKHg6IG51bWJlcikgPT4geCAhPT0gc2VuZGVyLk1lbWJlck51bWJlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJlZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGxheWVyLk1QQVtNb2R1bGVUaXRsZS5BdXRob3JpdHldLm5ld093bmVycy5vd25lcnMgPSBmaWx0ZXJlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG93bmVyT3V0cHV0ICs9IExvY2FsaXplZFRleHQoXCJTb3VyY2VDaGFyYWN0ZXIgcmVtb3ZlZCBUYXJnZXRDaGFyYWN0ZXIgKFRhcmdldE1lbWJlck51bWJlcikgYXMgTVBBIG93bmVyLlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoXCJTb3VyY2VDaGFyYWN0ZXJcIiwgc2VuZGVyLk5pY2tuYW1lIHx8IHNlbmRlci5OYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2VBbGwoXCJUYXJnZXRDaGFyYWN0ZXJcIiwgTWVtYmVyTnVtYmVyVG9OYW1lKHNlbmRlci5NZW1iZXJOdW1iZXIgPz8gLTEpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2VBbGwoXCJUYXJnZXRNZW1iZXJOdW1iZXJcIiwgKHNlbmRlci5NZW1iZXJOdW1iZXIgYXMgbnVtYmVyKS50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3duZXJPdXRwdXQgKz0gXCJcXG5cIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBPd25lcnMgaGF2ZSBjaGFuZ2VkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG93bmVyT3V0cHV0ICE9PSBcIlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTm90aWZ5UGxheWVyKG93bmVyT3V0cHV0LnRyaW1FbmQoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSBvd25lcnMgYWx3YXlzIHNvcnRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV0/Lm5ld093bmVycz8ub3duZXJzLnNvcnQoKGEsIGIpID0+IGEgLSBiKTsgO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdGl0bGUgaW4gZGlmZmVyZW5jZXMpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFZhbGlkYXRlIHRoYXQgYW55IHNldHRpbmdzIGNhbiBiZSBjaGFuZ2VkIHdpdGggRUlUSEVSIHRoZSBvbGQgb3IgbmV3IGF1dGhvcml0eVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2VuZGVyIGlzIG5vdCBhdXRob3JpemVkIHRvIGNoYW5nZSB0aGUgc2V0dGluZ3MsIGlnbm9yZSBhbmQgd2FybiBpbiBjb25zb2xlXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShJc01lbWJlck51bWJlckluQXV0aEdyb3VwKHNlbmRlci5NZW1iZXJOdW1iZXIgPz8gLTEsIHByZXZpb3VzQXV0aG9yaXR5W2BvdGhlcnMke3RpdGxlfWBdID8/IFwiTm9uZVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBJc01lbWJlck51bWJlckluQXV0aEdyb3VwKHNlbmRlci5NZW1iZXJOdW1iZXIgPz8gLTEsIFBsYXllci5NUEE/LltNb2R1bGVUaXRsZS5BdXRob3JpdHldPy5bYG90aGVycyR7dGl0bGV9YF0gPz8gXCJOb25lXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgTVBBOiAke3NlbmRlci5OaWNrbmFtZSB8fCBzZW5kZXIuTmFtZX0gKCR7c2VuZGVyLk1lbWJlck51bWJlcn0pIHRyaWVkIHRvIGlsbGVnYWxseSBtb2RpZnkgeW91ciAke3RpdGxlfSBzZXR0aW5ncyFgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlZFNldHRpbmdzLnB1c2goTG9jYWxpemVkVGV4dChNRU5VX1RJVExFU1t0aXRsZSBhcyBNb2R1bGVUaXRsZV0gPz8gdGl0bGUpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9kdWxlRGlmZiA9IGRpZmZlcmVuY2VzW3RpdGxlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZW50cnkgaW4gbW9kdWxlRGlmZilcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobW9kdWxlRGlmZltlbnRyeV0ubmV3ICE9PSB1bmRlZmluZWQgJiYgbW9kdWxlRGlmZltlbnRyeV0ub2xkICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQbGF5ZXIuTVBBW3RpdGxlIGFzIE1vZHVsZVRpdGxlXVtlbnRyeV0gPSBtb2R1bGVEaWZmW2VudHJ5XS5uZXc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgaGFyZGNvcmUgaXMgc2V0LCBtYWtlIHN1cmUgaXRzIHNldHRpbmdzIGFyZSBzZXRcbiAgICAgICAgICAgICAgICAgICAgaWYgKFBsYXllci5NUEFbTW9kdWxlVGl0bGUuUHJvZmlsZV0uaGFyZGNvcmUpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIChkZWZhdWx0U2V0dGluZ3NbTW9kdWxlVGl0bGUuUHJvZmlsZV0/LmhhcmRjb3JlIGFzIGFueSk/Lm9uU2V0KFBsYXllcik7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBDYXRjaCBWaXJ0dWFsIFBldCBsZXZlbHMgdXAgdG8gZGF0ZSBpZiBpdCB3YXMgdHVybmVkIG9uIC8gb2ZmXG4gICAgICAgICAgICAgICAgICAgIGlmICh2cEVuYWJsZWQgIT09IFBsYXllci5NUEFbTW9kdWxlVGl0bGUuVmlydHVhbFBldF0uZW5hYmxlZClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgUGxheWVyLk1QQVtNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XS5sZXZlbHMubGFzdFVwZGF0ZWQgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoYW5nZWRTZXR0aW5ncy5sZW5ndGggIT09IDApXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE1QQU5vdGlmeVBsYXllcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KFwiU291cmNlQ2hhcmFjdGVyIGp1c3QgdXBkYXRlZCB5b3VyIFNldHRpbmdzQXJyYXkgc2V0dGluZ3MuXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKFwiU291cmNlQ2hhcmFjdGVyXCIsIHNlbmRlci5OaWNrbmFtZSB8fCBzZW5kZXIuTmFtZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoXCJTZXR0aW5nc0FycmF5XCIsIEFycmF5VG9SZWFkYWJsZVN0cmluZyhjaGFuZ2VkU2V0dGluZ3MpKVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIExldmVsU3luYyhmYWxzZSwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgU2F2ZVN0b3JhZ2UodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIG1vZHVsZTogdGhpcy5UaXRsZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVkaXRpbmdTZXR0aW5nc1wiLFxuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKHNlbmRlcjogQ2hhcmFjdGVyLCBfY29udGVudDogTVBBTWVzc2FnZUNvbnRlbnQpOiB2b2lkXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoUGxheWVyLk1QQVtNb2R1bGVUaXRsZS5BdXRob3JpdHldLnNldHRpbmdzTm90aWZ5KVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBOb3RpZnlQbGF5ZXIoTG9jYWxpemVkVGV4dChcIlNvdXJjZUNoYXJhY3RlciBpcyBhY2Nlc3NpbmcgeW91ciBNUEEgc2V0dGluZ3MuXCIpLnJlcGxhY2UoXCJTb3VyY2VDaGFyYWN0ZXJcIiwgc2VuZGVyLk5pY2tuYW1lIHx8IHNlbmRlci5OYW1lKSwgMzAwMDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIG1vZHVsZTogdGhpcy5UaXRsZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIm93bmVyQWRkZWRcIixcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uIChzZW5kZXI6IENoYXJhY3RlciwgX2NvbnRlbnQ6IE1QQU1lc3NhZ2VDb250ZW50KTogdm9pZFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgTm90aWZ5UGxheWVyKExvY2FsaXplZFRleHQoXCJZb3UgaGF2ZSBiZWVuIGFkZGVkIGFzIGFuIE1QQSBvd25lciBmb3IgU291cmNlQ2hhcmFjdGVyLlwiKS5yZXBsYWNlKFwiU291cmNlQ2hhcmFjdGVyXCIsIHNlbmRlci5OaWNrbmFtZSB8fCBzZW5kZXIuTmFtZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBtb2R1bGU6IHRoaXMuVGl0bGUsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJvd25lclJlbW92ZWRcIixcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uIChzZW5kZXI6IENoYXJhY3RlciwgX2NvbnRlbnQ6IE1QQU1lc3NhZ2VDb250ZW50KTogdm9pZFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgTm90aWZ5UGxheWVyKExvY2FsaXplZFRleHQoXCJZb3UgaGF2ZSBiZWVuIHJlbW92ZWQgYXMgYW4gTVBBIG93bmVyIGZvciBTb3VyY2VDaGFyYWN0ZXIuXCIpLnJlcGxhY2UoXCJTb3VyY2VDaGFyYWN0ZXJcIiwgc2VuZGVyLk5pY2tuYW1lIHx8IHNlbmRlci5OYW1lKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuICAgIH1cblxuICAgIExvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3VwZXIuTG9hZCgpO1xuXG4gICAgICAgIC8vIFByaW8gaGFzIHRvIGJlIDEgbW9yZSB0aGFuIExTQ0cgb3IgQkNYIGhvb2tzXG4gICAgICAgIGNvbnN0IGhvb2tQcmlvcml0eSA9IDEyO1xuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJJbmZvcm1hdGlvblNoZWV0UnVuXCIsIGhvb2tQcmlvcml0eSwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIExTQ0cgb3IgQkNYIHN1YnNjcmVlbnMgb3BlbiBpbnN0ZWFkXG4gICAgICAgICAgICBpZiAod2luZG93LmJjeD8uaW5CY3hTdWJzY3JlZW4oKSB8fCB3aW5kb3cuTFNDR19SRU1PVEVfV0lORE9XX09QRU4pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE1QQSBTZXR0aW5ncyBhcmUgb3BlblxuICAgICAgICAgICAgaWYgKHdpbmRvdy5NUEEubWVudUxvYWRlZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGFyID0gSW5mb3JtYXRpb25TaGVldFNlbGVjdGlvbjtcbiAgICAgICAgICAgICAgICBpZiAoY2hhcj8uTVBBICYmICFjaGFyLklzUGxheWVyKCkgJiYgY3VycmVudE1lbnUgPT0gbnVsbClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIERyYXdUZXh0Rml0KFxuICAgICAgICAgICAgICAgICAgICAgICAgYCR7TG9jYWxpemVkVGV4dChcIllvdXIgVmVyc2lvblwiKX06ICR7UGxheWVyLk1QQS52ZXJzaW9ufWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5WRVJTSU9OX1RFWFRfU0VMRixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiQmxhY2tcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiR3JheVwiXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIERyYXdUZXh0Rml0KFxuICAgICAgICAgICAgICAgICAgICAgICAgYCR7TG9jYWxpemVkVGV4dChcIlRhcmdldENoYXJhY3RlcidzIFZlcnNpb25cIil9OiAke2NoYXI/Lk1QQS52ZXJzaW9ufWAucmVwbGFjZShcIlRhcmdldENoYXJhY3RlclwiLCBjaGFyPy5OaWNrbmFtZSB8fCBjaGFyPy5OYW1lKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLlZFUlNJT05fVEVYVF9PVEhFUixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiQmxhY2tcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiR3JheVwiXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFByZWZlcmVuY2VNZW51UnVuKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBuZXh0KGFyZ3MpO1xuICAgICAgICAgICAgLy8gRHJhdyB0aGUgcmVtb3RlIGludG8gc2V0dGluZ3MgYnV0dG9uIGlmIGFwcGxpY2FibGVcbiAgICAgICAgICAgIGNvbnN0IGNoYXIgPSBJbmZvcm1hdGlvblNoZWV0U2VsZWN0aW9uO1xuICAgICAgICAgICAgaWYgKGNoYXI/Lk1QQSAmJiAhY2hhci5Jc1BsYXllcigpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjY2VzcyA9IFNlcnZlckNoYXRSb29tR2V0QWxsb3dJdGVtKFBsYXllciwgY2hhcik7XG4gICAgICAgICAgICAgICAgRHJhd0J1dHRvbihcbiAgICAgICAgICAgICAgICAgICAgLi4uKChiY3hGb3VuZCgpID8gTVBBX1JFTU9URV9CQ1ggOiBNUEFfUkVNT1RFKSBhcyByZWFkb25seSBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXSksXG4gICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgIGFjY2VzcyA/IFwiI2ZmZmZmZlwiIDogXCIjYWFhYWFhXCIsXG4gICAgICAgICAgICAgICAgICAgIElDT05TLlBBVyxcbiAgICAgICAgICAgICAgICAgICAgTG9jYWxpemVkVGV4dChhY2Nlc3MgPyBcIk1QQVwiIDogXCJNUEE6IE5vIEJDIGl0ZW0gcGVybWlzc2lvblwiKSxcbiAgICAgICAgICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJJbmZvcm1hdGlvblNoZWV0Q2xpY2tcIiwgaG9va1ByaW9yaXR5LCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgLy8gTFNDRyBvciBCQ1ggc3Vic2NyZWVucyBvcGVuIGluc3RlYWRcbiAgICAgICAgICAgIGlmICh3aW5kb3cuYmN4Py5pbkJjeFN1YnNjcmVlbigpIHx8IHdpbmRvdy5MU0NHX1JFTU9URV9XSU5ET1dfT1BFTilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHdpbmRvdy5NUEEubWVudUxvYWRlZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJlZmVyZW5jZU1lbnVDbGljaygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBjaGFyID0gSW5mb3JtYXRpb25TaGVldFNlbGVjdGlvbjtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBNb3VzZUluKC4uLigoYmN4Rm91bmQoKSA/IE1QQV9SRU1PVEVfQkNYIDogTVBBX1JFTU9URSkgYXMgcmVhZG9ubHkgW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl0pKVxuICAgICAgICAgICAgICAgICYmIGNoYXI/Lk1QQVxuICAgICAgICAgICAgICAgICYmICFjaGFyLklzUGxheWVyKClcbiAgICAgICAgICAgICAgICAmJiBTZXJ2ZXJDaGF0Um9vbUdldEFsbG93SXRlbShQbGF5ZXIsIGNoYXIpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgd2luZG93Lk1QQS5tZW51TG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAvLyBNUEEgaXMgZGVmaW5lZCBmcm9tIGNoZWNrIGFib3ZlLCBzbyBvdGhlciBjaGFyYWN0ZXIgaXMgc2FtZSBhcyBzZWxmIGluIHN0cnVjdHVyZVxuICAgICAgICAgICAgICAgIFNldFNldHRpbmdDaGFyKGNoYXIgYXMgUGxheWVyQ2hhcmFjdGVyKTtcbiAgICAgICAgICAgICAgICBTZW5kTVBBTWVzc2FnZSh7IG1lc3NhZ2U6IFwiRWRpdGluZ1NldHRpbmdzXCIgfSwgY2hhci5NZW1iZXJOdW1iZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJJbmZvcm1hdGlvblNoZWV0RXhpdFwiLCBob29rUHJpb3JpdHksIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAod2luZG93Lk1QQS5tZW51TG9hZGVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIEV4aXRCdXR0b25QcmVzc2VkKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIFVubG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5VbmxvYWQoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBNb2R1bGUsIE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4vX21vZHVsZVwiO1xuaW1wb3J0IHsgQkVEX0JBRCwgQkVEX05PUk1BTCwgQkVEX1BFUkZFQ1QsIE9SR0FTTV9BQ1RJVklUWV9SRUdFWCB9IGZyb20gXCIuLi91dGlsL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgSG9va0Z1bmN0aW9uIH0gZnJvbSBcIi4uL3V0aWwvc2RrXCI7XG5pbXBvcnQgeyBTYXZlU3RvcmFnZSB9IGZyb20gXCIuLi91dGlsL3N0b3JhZ2VcIjtcbmltcG9ydCB7IEZpbmRDaGFyYWN0ZXJJblJvb20sIEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeSwgU2VuZEFjdGlvbiB9IGZyb20gXCIuLi91dGlsL21lc3NhZ2luZ1wiO1xuaW1wb3J0IHsgUmVjb3JkU3luYyB9IGZyb20gXCIuL2RhdGFTeW5jXCI7XG5pbXBvcnQgeyBJc0hhcmRjb3JlT24gfSBmcm9tIFwiLi9wcm9maWxlXCI7XG5pbXBvcnQgeyBSYW5kb21FbGVtZW50IH0gZnJvbSBcIi4uL3V0aWwvZ2VuZXJhbFwiO1xuXG5jb25zdCBNQVhfU0VUVElOR19USU1FX0hPVVJTID0gMTY4O1xuXG5jb25zdCBQbGF5ZXJWUDogKEM/OiBDaGFyYWN0ZXIpID0+IE1QQVJlY29yZCA9IChDOiBDaGFyYWN0ZXIgPSBQbGF5ZXIpID0+XG57XG4gICAgcmV0dXJuIEMuTVBBPy5bTW9kdWxlVGl0bGUuVmlydHVhbFBldF0gPz8ge307XG59O1xuXG4vLyBjb25zdCBDSEFSQUNURVJTX01PVklORyA9IFtcIlNlcnZlck1vdmVSaWdodFwiLCBcIlNlcnZlclN3YXBcIiwgXCJTZXJ2ZXJNb3ZlTGVmdFwiXTtcblxuY29uc3QgQk9XTF9DT05TVU1FX1JFQ09WRVJZID0gMC42NztcbmNvbnN0IElURU1fQ09OVU1FX1JFQ09WRVJZID0gMC4zMztcblxuY29uc3QgQUNUSVZJVElFU19GT09EX0dBSU4gPSBbXCJMU0NHX0VhdFwiLCBcIlRocm93SXRlbVwiLCBcIuWQg+aOieWYtOmHjOmjn+eJqV9MdXppXCJdO1xuY29uc3QgQUNUSVZJVElFU19XQVRFUl9HQUlOID0gW1wiTFNDR19GdW5uZWxQb3VyXCIsIFwiTFNDR19RdWFmZlwiXTtcblxuY29uc3QgRU1PVElDT05TX1NMRUVQID0gW1wiU2xlZXBcIiwgXCJBZmtcIiwgXCJGb3JrXCIsIFwiQ29kaW5nXCIsIFwiUmVhZFwiXTtcblxuY29uc3QgQUZGRUNUSU9OX0FDVElWSVRZX0xPVkUgPSBbXCJQZXRcIiwgXCJUYWtlQ2FyZVwiLCBcIkxTQ0dfTnV6emxlXCIsIFwiQ2FyZXNzXCIsIFwiTFNDR19IdWdcIiwgXCJTY3JhdGNoXCJdO1xuY29uc3QgQUZGRUNUSU9OX0FDVElWSVRZX0xJS0UgPSBbXCJLaXNzXCIsIFwiTWFzc2FnZUhhbmRzXCIsIFwiTGlja1wiLCBcIk5pYmJsZVwiLCBcIkN1ZGRsZVwiLCBcIkdyb3BlXCJdO1xuY29uc3QgQUZGRUNUSU9OX0FDVElWSVRZX01BU08gPSBbXCJTcGFua1wiLCBcIlNsYXBcIiwgXCJCaXRlXCIsIFwiUGluY2hcIiwgXCJQdWxsXCIsIFwiU2hvY2tJdGVtXCIsIFwiU3BhbmtJdGVtXCJdO1xuY29uc3QgQUZGRUNUSU9OX0xPVkVfQkFTRSA9IDAuMDU7XG5jb25zdCBBRkZFQ1RJT05fTElLRV9CQVNFID0gMC4wMztcbmNvbnN0IEFGRkVDVElPTl9NQVNPX0JBU0UgPSAtMC4wNDtcblxuY29uc3QgQUZGRUNUSU9OX1pPTkVfQUZGRUNUSU9OOiBQYXJ0aWFsPFJlY29yZDxBc3NldEdyb3VwSXRlbU5hbWUsIG51bWJlcj4+ID0ge1xuICAgIEl0ZW1Bcm1zOiAxLFxuICAgIEl0ZW1Cb290czogMC44LFxuICAgIEl0ZW1CcmVhc3Q6IDEuNSxcbiAgICBJdGVtQnV0dDogMS41LFxuICAgIEl0ZW1FYXJzOiAyLjUsXG4gICAgSXRlbUZlZXQ6IDAuOCxcbiAgICBJdGVtSGFuZHM6IDEsXG4gICAgSXRlbUhlYWQ6IDMsXG4gICAgSXRlbUxlZ3M6IDEsXG4gICAgSXRlbU1vdXRoOiAyLFxuICAgIEl0ZW1OZWNrOiAxLjIsXG4gICAgSXRlbU5pcHBsZXM6IDEuNSxcbiAgICBJdGVtTm9zZTogMS43LFxuICAgIEl0ZW1QZWx2aXM6IDEuMyxcbiAgICBJdGVtVG9yc286IDEsXG4gICAgSXRlbVZ1bHZhOiAyLFxuICAgIEl0ZW1WdWx2YVBpZXJjaW5nczogMi41XG59O1xuXG5jb25zdCBNSU5fT0ZGTElORV9EUkFJTl9MRVZFTCA9IDAuMjtcblxuY29uc3QgTEFTVF9PTkxJTkVfSU5URVJWQUxfTVMgPSAxMDAwMDtcbmxldCBsYXN0T25saW5lSW50ZXJ2YWw6IG51bWJlcjtcblxuLy8gU2V4IFBldFxuY29uc3QgU0VYX1BFVF9BQ1RJVklUSUVTID0gW1wiTGlja1wiLCBcIk1hc3R1cmJhdGVUb25ndWVcIiwgXCJLaXNzXCIsIFwiTmliYmxlXCIsIFwiTFNDR19UaHJvYXRcIiwgXCJMU0NHX1N1Y2tcIl07XG5jb25zdCBTRVhfUEVUX0FDVElWSVRJRVNfT1RIRVIgPSBbXCJQZW5ldHJhdGVTbG93XCIsIFwiUGVuZXRyYXRlRmFzdFwiLCBcIlJ1Ykl0ZW1cIiwgXCJMU0NHX1NsYXBQZW5pc1wiXTtcbmNvbnN0IFNFWF9QRVRfUkVHSU9OUyA9IFtcIkl0ZW1WdWx2YVwiLCBcIkl0ZW1WdWx2YVBpZXJjaW5nc1wiLCBcIkl0ZW1CdXR0XCJdO1xuY29uc3QgU0VYX1BFVF9SRUNPVkVSWSA9IE9iamVjdC5mcmVlemUoe1xuICAgIE9mZjogMCxcbiAgICBMb3c6IDAuMDUsXG4gICAgTWVkaXVtOiAwLjEsXG4gICAgSGlnaDogMC4yXG59KTtcbmNvbnN0IFNFWF9QRVRfVEhJUlNUX01PRCA9IDc7XG5jb25zdCBTRVhfUEVUX09SR0FTTV9USU1FX01TID0gMS41ICogNjAgKiAxMDAwO1xuY29uc3QgcGVyZm9ybWVkT3JhbE9uOiBSZWNvcmQ8bnVtYmVyLCBudW1iZXI+ID0ge307XG5cbmNvbnN0IFNFWF9QRVRfRFJJTksgPSBPYmplY3QuZnJlZXplKHtcbiAgICBGRU1BTEU6IFtcbiAgICAgICAgXCJTb3VyY2VDaGFyYWN0ZXIgZ2FzcHMgYW5kIHNwdXR0ZXJzIGFzIFByb25vdW5TdWJqZWN0IHNsdXJwcyB1cCBhbGwgb2YgRGVzdGluYXRpb25DaGFyYWN0ZXIgY2xpbWF4LlwiLFxuICAgICAgICBcIlNvdXJjZUNoYXJhY3RlciBzbWlsZXMgYXMgUHJvbm91blN1YmplY3QgZWFnZXJseSBndWxwcyBkb3duIERlc3RpbmF0aW9uQ2hhcmFjdGVyIGVqYWN1bGF0ZSwgd2l0aCBzb21lIGRyaXBwaW5nIGRvd24gUHJvbm91blBvc3Nlc3NpdmUgY2hpbi5cIixcbiAgICAgICAgXCJTb3VyY2VDaGFyYWN0ZXIgb3BlbnMgUHJvbm91blBvc3Nlc3NpdmUgbW91dGggd2lkZSB0cnlpbmcgdG8gY2F0Y2ggYW5kIHN3YWxsb3cgYXMgbXVjaCBvZiBEZXN0aW5hdGlvbkNoYXJhY3RlciBzcXVpcnQuXCJcbiAgICBdLFxuICAgIE1BTEU6IFtcbiAgICAgICAgXCJTb3VyY2VDaGFyYWN0ZXIgb3BlbnMgUHJvbm91blBvc3Nlc3NpdmUgbW91dGggYXMgVGFyZ2V0Q2hhcmFjdGVyIHNob290cyBUYXJnZXRQcm9ub3VuUG9zc2Vzc2l2ZSBsb2FkLCBoaXR0aW5nIHRoZSBiYWNrIG9mIFByb25vdW5Qb3NzZXNzaXZlIHRocm9hdC5cIixcbiAgICAgICAgXCJTb3VyY2VDaGFyYWN0ZXIgd3JhcHMgUHJvbm91blBvc3Nlc3NpdmUgbGlwcyBhcm91bmQgRGVzdGluYXRpb25DaGFyYWN0ZXIgc2hhZnQgdG8gc3dhbGxvdyBhbmQgbm90IHdhc3RlIGEgZHJvcCBvZiBUYXJnZXRQcm9ub3VuUG9zc2Vzc2l2ZSBjdW0uXCIsXG4gICAgICAgIFwiVGFyZ2V0Q2hhcmFjdGVyIHB1bXBzIFRhcmdldFByb25vdW5Qb3NzZXNzaXZlIGxvYWQgaW50byBTb3VyY2VDaGFyYWN0ZXIncyBhd2FpdGluZyBtb3V0aCwgbG9va2luZyB1cCBhdCBUYXJnZXRDaGFyYWN0ZXIgd2l0aCBwcmlkZSBhcyBTb3VyY2VDaGFyYWN0ZXIgc3dhbGxvd3MgaXQgYWxsLlwiXG4gICAgXVxufSk7XG5cbmV4cG9ydCBjb25zdCBJc1NsZWVwaW5nRXhwcmVzc2lvbiA9IChjaGFyOiBDaGFyYWN0ZXIpOiBib29sZWFuID0+XG57XG4gICAgcmV0dXJuIChcbiAgICAgICAgY2hhci5BcHBlYXJhbmNlLmZpbmQoKHgpID0+IHguQXNzZXQuR3JvdXAuTmFtZSA9PT0gXCJFeWVzXCIpPy5Qcm9wZXJ0eT8uRXhwcmVzc2lvbiA9PT0gXCJDbG9zZWRcIlxuICAgICAgICAmJiBjaGFyLkFwcGVhcmFuY2UuZmluZCgoeCkgPT4geC5Bc3NldC5Hcm91cC5OYW1lID09PSBcIkV5ZXMyXCIpPy5Qcm9wZXJ0eT8uRXhwcmVzc2lvbiA9PT0gXCJDbG9zZWRcIlxuICAgICAgICAmJiBFTU9USUNPTlNfU0xFRVAuaW5jbHVkZXMoY2hhci5BcHBlYXJhbmNlLmZpbmQoKHgpID0+IHguQXNzZXQuR3JvdXAuTmFtZSA9PT0gXCJFbW90aWNvblwiKT8uUHJvcGVydHk/LkV4cHJlc3Npb24gPz8gXCJcIilcbiAgICApO1xufTtcbmV4cG9ydCBjb25zdCBJc0JlZE11bHRpcGxpZXIgPSAoY2hhcjogQ2hhcmFjdGVyKTogbnVtYmVyID0+XG57XG4gICAgY29uc3QgZGV2aWNlID0gSW52ZW50b3J5R2V0KGNoYXIsIFwiSXRlbURldmljZXNcIik/LkFzc2V0Lk5hbWUgPz8gXCJcIjtcbiAgICByZXR1cm4gKFxuICAgICAgICBCRURfUEVSRkVDVC5pbmNsdWRlcyhkZXZpY2UpID8gMTAgOiBCRURfTk9STUFMLmluY2x1ZGVzKGRldmljZSkgPyA1IDogQkVEX0JBRC5pbmNsdWRlcyhkZXZpY2UpID8gMiA6IDFcbiAgICApO1xufTtcblxubGV0IHBsYXllclNsZWVwaW5nRXhwcmVzc2lvbiA9IGZhbHNlO1xubGV0IHBsYXllckJlZE11bHRpcGxpZXIgPSAxO1xuXG5leHBvcnQgdHlwZSBWaXJ0dWFsUGV0U3RhdENhdGVnb3J5ID0gXCJmb29kXCIgfCBcIndhdGVyXCIgfCBcInNsZWVwXCIgfCBcImFmZmVjdGlvblwiO1xuZXhwb3J0IHR5cGUgVmlydHVhbFBldEhvdXJDYXRlZ29yaWVzID0gYCR7VmlydHVhbFBldFN0YXRDYXRlZ29yeX1Ib3Vyc2A7XG5leHBvcnQgaW50ZXJmYWNlIFZpcnR1YWxQZXRTdGF0XG57XG4gICAgc3RhdDogVmlydHVhbFBldFN0YXRDYXRlZ29yeTtcbiAgICBsZXZlbDogbnVtYmVyO1xufVxuXG5mdW5jdGlvbiBTbGVlcENoYW5nZUNoZWNrKHN5bmM6IGJvb2xlYW4gPSB0cnVlKTogdm9pZFxue1xuICAgIGlmIChcbiAgICAgICAgUGxheWVyVlAoKS5lbmFibGVkXG4gICAgICAgICYmIFBsYXllclZQKCkuc2xlZXBIb3VycyAhPT0gMFxuICAgICAgICAmJiAocGxheWVyU2xlZXBpbmdFeHByZXNzaW9uICE9PSBJc1NsZWVwaW5nRXhwcmVzc2lvbihQbGF5ZXIpXG4gICAgICAgICAgfHwgcGxheWVyQmVkTXVsdGlwbGllciAhPT0gSXNCZWRNdWx0aXBsaWVyKFBsYXllcikpXG4gICAgKVxuICAgIHtcbiAgICAgICAgLy8gaWYgYSBjaGFuZ2UgaW4gc2xlZXBpbmcgZXhwcmVzc2lvbiBvciBiZWQgbXVsdGlwbGllciwgc3luYyBsZXZlbHNcbiAgICAgICAgaWYgKHN5bmMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIExldmVsU3luYygpO1xuICAgICAgICB9XG4gICAgICAgIHBsYXllclNsZWVwaW5nRXhwcmVzc2lvbiA9IElzU2xlZXBpbmdFeHByZXNzaW9uKFBsYXllcik7XG4gICAgICAgIHBsYXllckJlZE11bHRpcGxpZXIgPSBJc0JlZE11bHRpcGxpZXIoUGxheWVyKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIFN0YXRNb2RpZmllcihzdGF0OiBWaXJ0dWFsUGV0U3RhdENhdGVnb3J5LCBzb3VyY2VDaGFyPzogQ2hhcmFjdGVyKTogbnVtYmVyXG57XG4gICAgbGV0IG1vZGlmaWVyID0gMTtcblxuICAgIC8vIEZyb20gb3duZXJzLCArNTAlXG4gICAgaWYgKHNvdXJjZUNoYXI/LklzT3duZXIoKSlcbiAgICB7XG4gICAgICAgIG1vZGlmaWVyICs9IDAuNTtcbiAgICB9XG4gICAgLy8gbG92ZXJzICszNSVcbiAgICBlbHNlIGlmIChzb3VyY2VDaGFyPy5Jc0xvdmVyT2ZQbGF5ZXIoKSlcbiAgICB7XG4gICAgICAgIG1vZGlmaWVyICs9IDAuMzU7XG4gICAgfVxuICAgIC8vIHN1YnMgKzI1JVxuICAgIGVsc2UgaWYgKHNvdXJjZUNoYXI/LklzRmFtaWx5T2ZQbGF5ZXIoKSlcbiAgICB7XG4gICAgICAgIG1vZGlmaWVyICs9IDAuMjU7XG4gICAgfVxuXG4gICAgLy8gSGFyZCB0byBlYXQgb3IgZHJpbmsgd2hpbGUgcmluZyBnYWdnZWRcbiAgICBpZiAoc3RhdCA9PT0gXCJmb29kXCIgfHwgc3RhdCA9PT0gXCJ3YXRlclwiKVxuICAgIHtcbiAgICAgICAgaWYgKCFQbGF5ZXIuQ2FuVGFsaygpKVxuICAgICAgICB7XG4gICAgICAgICAgICBtb2RpZmllciAtPSAwLjU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyAzJSBib251cyBmb3IgZWFjaCByZXN0cmFpbnQgd29yblxuICAgIG1vZGlmaWVyICs9IDAuMDMgKiBQbGF5ZXIuQXBwZWFyYW5jZS5maWx0ZXIoKHgpID0+IHguQXNzZXQuRHluYW1pY0dyb3VwTmFtZS5zdGFydHNXaXRoKFwiSXRlbVwiKSkubGVuZ3RoO1xuXG4gICAgLy8gNTAlIGJvbnVzIGZvciBiZWluZyBvbiBhbGwgZm91cnNcbiAgICBpZiAoUGxheWVyLlBvc2VNYXBwaW5nLkJvZHlGdWxsID09PSBcIkFsbEZvdXJzXCIpXG4gICAge1xuICAgICAgICBtb2RpZmllciArPSAwLjU7XG4gICAgfVxuXG4gICAgLy8gRm9vZCBhbmQgd2F0ZXIgbW9kaWZpZXMgYWZmZWN0aW9uIGdhaW5cbiAgICBpZiAoXG4gICAgICAgIHN0YXQgPT09IFwiYWZmZWN0aW9uXCJcbiAgICAgICAgJiYgUGxheWVyLk1QQVtNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9uc10uZW5hYmxlZFxuICAgICAgICAmJiBQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zXS5mb29kTk9XXG4gICAgKVxuICAgIHtcbiAgICAgICAgY29uc3QgbnVtczogbnVtYmVyW10gPSBbXTtcbiAgICAgICAgaWYgKFBsYXllclZQKCkuZm9vZEhvdXJzICE9PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBudW1zLnB1c2goR2V0Q2hhcmFjdGVyQ3VycmVudFN0YXRWYWx1ZShQbGF5ZXIsIFwiZm9vZFwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFBsYXllclZQKCkud2F0ZXJIb3VycyAhPT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgbnVtcy5wdXNoKEdldENoYXJhY3RlckN1cnJlbnRTdGF0VmFsdWUoUGxheWVyLCBcIndhdGVyXCIpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobnVtcy5sZW5ndGggIT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIG1vZGlmaWVyICo9IG51bXMucmVkdWNlKChzdW0sIG51bSkgPT4gc3VtICsgbnVtLCAwKSAvIG51bXMubGVuZ3RoIC8gMC43NTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBNYXRoLm1heCgwLCBtb2RpZmllcik7XG59XG5cbmZ1bmN0aW9uIFZlcmlmeVZhbGlkU3RhdChzdGF0OiBWaXJ0dWFsUGV0U3RhdENhdGVnb3J5KTogYm9vbGVhblxue1xuICAgIGNvbnN0IGxldmVsID0gUGxheWVyVlAoKS5sZXZlbHNbc3RhdF07XG4gICAgUGxheWVyVlAoKS5sZXZlbHNbc3RhdF0gPSBNYXRoLm1pbihNYXRoLm1heChsZXZlbCwgMCksIDEpO1xuICAgIHJldHVybiAwIDw9IGxldmVsICYmIGxldmVsIDw9IDE7XG59XG5cbmZ1bmN0aW9uIEhvdXJUb01TKGhvdXJzOiBudW1iZXIpXG57XG4gICAgcmV0dXJuIGhvdXJzICogNjAgKiA2MCAqIDEwMDA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDYWxjdWxhdGVDdXJyZW50VmFsdWUodmFsdWU6IG51bWJlciwgZHVyYXRpb246IG51bWJlciwgbGFzdFVwZGF0ZWQ6IG51bWJlciwgbGFzdE9ubGluZT86IG51bWJlciwgZmlyc3RSdW5DaGVjazogYm9vbGVhbiA9IGZhbHNlLCBDOiBDaGFyYWN0ZXIgPSBQbGF5ZXIpOiBudW1iZXJcbntcbiAgICAvKiogSG93IGxvbmcgaW4gbXMgaGFzIGVsYXNwZWQgc2luY2Ugbm93IG9yIGxhc3Qgb25saW5lICovXG4gICAgY29uc3QgZGlmZjogbnVtYmVyID0gKGxhc3RPbmxpbmUgPyBsYXN0T25saW5lIDogRGF0ZS5ub3coKSkgLSBsYXN0VXBkYXRlZDtcbiAgICBjb25zdCBjdXJyZW50VmFsdWUgPSBNYXRoLm1heCgwLCBNYXRoLm1pbih2YWx1ZSAtIChkaWZmIC8gSG91clRvTVMoZHVyYXRpb24pKSwgMSkpO1xuICAgIC8vIE1heCBkcmFpbiBkb3duIHRvIDIwJSB3aGlsZSBvZmZsaW5lXG4gICAgaWYgKGZpcnN0UnVuQ2hlY2sgJiYgdmFsdWUgPiBNSU5fT0ZGTElORV9EUkFJTl9MRVZFTCAmJiBjdXJyZW50VmFsdWUgPCBNSU5fT0ZGTElORV9EUkFJTl9MRVZFTClcbiAgICB7XG4gICAgICAgIGNvbnN0IGRpZmYyOiBudW1iZXIgPSBQbGF5ZXJWUChDKS5sZXZlbHMubGFzdE9ubGluZSAtIGxhc3RVcGRhdGVkO1xuICAgICAgICBjb25zdCBuZXdWYWx1ZTIgPSBNYXRoLm1heCgwLCBNYXRoLm1pbih2YWx1ZSAtIChkaWZmMiAvIEhvdXJUb01TKGR1cmF0aW9uKSksIDEpKTtcbiAgICAgICAgcmV0dXJuIE1hdGgubWluKE1JTl9PRkZMSU5FX0RSQUlOX0xFVkVMLCBuZXdWYWx1ZTIpO1xuICAgIH1cbiAgICByZXR1cm4gY3VycmVudFZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gR2V0Q2hhcmFjdGVyQ3VycmVudFN0YXRWYWx1ZShjaGFyYWN0ZXI6IENoYXJhY3Rlciwgc3RhdDogVmlydHVhbFBldFN0YXRDYXRlZ29yeSk6IG51bWJlclxue1xuICAgIGNvbnN0IGNoYXJTdGF0cyA9IGNoYXJhY3Rlcj8uTVBBPy5bTW9kdWxlVGl0bGUuVmlydHVhbFBldF07XG4gICAgaWYgKCFjaGFyU3RhdHMpXG4gICAge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgaWYgKHN0YXQgPT09IFwic2xlZXBcIilcbiAgICB7XG4gICAgICAgIGNvbnN0IGx2bCA9IChJc1NsZWVwaW5nRXhwcmVzc2lvbihjaGFyYWN0ZXIpIHx8IElzQmVkTXVsdGlwbGllcihjaGFyYWN0ZXIpICE9PSAxKSA/XG4gICAgICAgICAgICBjaGFyU3RhdHMubGV2ZWxzLnNsZWVwICsgKERhdGUubm93KCkgLSBjaGFyU3RhdHMubGV2ZWxzLmxhc3RVcGRhdGVkKSAvIChjaGFyU3RhdHMuc2xlZXBIb3VycyAqIDYwICogNjAgKiAxMDAwKSAqIElzQmVkTXVsdGlwbGllcihjaGFyYWN0ZXIpICogKElzU2xlZXBpbmdFeHByZXNzaW9uKGNoYXJhY3RlcikgPyA1IDogMSkgOlxuICAgICAgICAgICAgQ2FsY3VsYXRlQ3VycmVudFZhbHVlKGNoYXJTdGF0cy5sZXZlbHMuc2xlZXAsIGNoYXJTdGF0cy5zbGVlcEhvdXJzLCBjaGFyU3RhdHMubGV2ZWxzLmxhc3RVcGRhdGVkKTtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKDEsIGx2bCkpO1xuICAgIH1cblxuICAgIHJldHVybiBDYWxjdWxhdGVDdXJyZW50VmFsdWUoY2hhclN0YXRzLmxldmVsc1tzdGF0XSwgY2hhclN0YXRzW2Ake3N0YXR9SG91cnNgXSwgY2hhclN0YXRzLmxldmVscy5sYXN0VXBkYXRlZCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBMZXZlbFN5bmMocHVzaFRvU3RvcmFnZTogYm9vbGVhbiA9IHRydWUsIHJlY29yZFN5bmM6IGJvb2xlYW4gPSB0cnVlLCBmaXJzdFN5bmM6IGJvb2xlYW4gPSBmYWxzZSk6IHZvaWRcbntcbiAgICAvLyBWaXJ0dWFsIHBldCBpcyBub3QgZW5hYmxlZCBzbyBkbyBub3RoaW5nXG4gICAgaWYgKCFQbGF5ZXJWUCgpLmVuYWJsZWQpXG4gICAge1xuICAgICAgICBQbGF5ZXJWUCgpLmxldmVscy5sYXN0VXBkYXRlZCA9IERhdGUubm93KCk7XG4gICAgICAgIFBsYXllclZQKCkubGV2ZWxzLmxhc3RPbmxpbmUgPSBEYXRlLm5vdygpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgdXBkYXRlOiBudW1iZXIgPSBQbGF5ZXJWUCgpLmxldmVscy5sYXN0VXBkYXRlZCA/PyBEYXRlLm5vdygpO1xuICAgIGNvbnN0IG9ubGluZTogbnVtYmVyIHwgdW5kZWZpbmVkID0gIVBsYXllclZQKCkub2ZmbGluZURyYWluID8gUGxheWVyVlAoKS5sZXZlbHMubGFzdE9ubGluZSA6IHVuZGVmaW5lZDtcblxuICAgIGNvbnN0IGZvb2QgPSBQbGF5ZXJWUCgpLmZvb2RIb3VycztcbiAgICBpZiAoZm9vZCAhPT0gMClcbiAgICB7XG4gICAgICAgIFBsYXllclZQKCkubGV2ZWxzLmZvb2QgPSBDYWxjdWxhdGVDdXJyZW50VmFsdWUoUGxheWVyVlAoKS5sZXZlbHMuZm9vZCwgZm9vZCwgdXBkYXRlLCBvbmxpbmUsIGZpcnN0U3luYyk7XG4gICAgfVxuICAgIGNvbnN0IHdhdGVyID0gUGxheWVyVlAoKS53YXRlckhvdXJzO1xuICAgIGlmICh3YXRlciAhPT0gMClcbiAgICB7XG4gICAgICAgIFBsYXllclZQKCkubGV2ZWxzLndhdGVyID0gQ2FsY3VsYXRlQ3VycmVudFZhbHVlKFBsYXllclZQKCkubGV2ZWxzLndhdGVyLCB3YXRlciwgdXBkYXRlLCBvbmxpbmUsIGZpcnN0U3luYyk7XG4gICAgfVxuICAgIGNvbnN0IHNsZWVwID0gUGxheWVyVlAoKS5zbGVlcEhvdXJzO1xuICAgIGlmIChzbGVlcCAhPT0gMClcbiAgICB7XG4gICAgICAgIGlmICgoZmlyc3RTeW5jICYmICFvbmxpbmUpXG4gICAgICAgICAgfHwgcGxheWVyU2xlZXBpbmdFeHByZXNzaW9uXG4gICAgICAgICAgfHwgcGxheWVyQmVkTXVsdGlwbGllciAhPT0gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgZHVyYXRpb25Ub1VzZSA9IGZpcnN0U3luYyA/IChEYXRlLm5vdygpIC0gUGxheWVyVlAoKS5sZXZlbHMubGFzdE9ubGluZSkgLSAoUGxheWVyVlAoKS5sZXZlbHMubGFzdE9ubGluZSAtIHVwZGF0ZSkgOiBEYXRlLm5vdygpIC0gdXBkYXRlO1xuICAgICAgICAgICAgY29uc3QgbmV3U2xlZXAgPSBQbGF5ZXJWUCgpLmxldmVscy5zbGVlcCArIChkdXJhdGlvblRvVXNlKSAvIEhvdXJUb01TKHNsZWVwKSAqIHBsYXllckJlZE11bHRpcGxpZXIgKiAocGxheWVyU2xlZXBpbmdFeHByZXNzaW9uID8gNSA6IDEpO1xuICAgICAgICAgICAgUGxheWVyVlAoKS5sZXZlbHMuc2xlZXAgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCBuZXdTbGVlcCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgUGxheWVyVlAoKS5sZXZlbHMuc2xlZXAgPSBDYWxjdWxhdGVDdXJyZW50VmFsdWUoUGxheWVyVlAoKS5sZXZlbHMuc2xlZXAsIHNsZWVwLCB1cGRhdGUsIG9ubGluZSwgZmlyc3RTeW5jKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBhZmZlY3Rpb24gPSBQbGF5ZXJWUCgpLmFmZmVjdGlvbkhvdXJzO1xuICAgIGlmIChhZmZlY3Rpb24gIT09IDApXG4gICAge1xuICAgICAgICBQbGF5ZXJWUCgpLmxldmVscy5hZmZlY3Rpb24gPSBDYWxjdWxhdGVDdXJyZW50VmFsdWUoUGxheWVyVlAoKS5sZXZlbHMuYWZmZWN0aW9uLCBhZmZlY3Rpb24sIHVwZGF0ZSwgb25saW5lLCBmaXJzdFN5bmMpO1xuICAgIH1cbiAgICBQbGF5ZXJWUCgpLmxldmVscy5sYXN0VXBkYXRlZCA9IERhdGUubm93KCk7XG4gICAgUGxheWVyVlAoKS5sZXZlbHMubGFzdE9ubGluZSA9IERhdGUubm93KCk7XG4gICAgLy8gU2F2ZSB0byBsb2NhbCBzdG9yYWdlXG4gICAgaWYgKHB1c2hUb1N0b3JhZ2UpXG4gICAge1xuICAgICAgICBTYXZlU3RvcmFnZShmYWxzZSk7XG4gICAgfVxuICAgIC8vIFN5bmMgbmV3IHN0YXRzIHdpdGggb3RoZXJzXG4gICAgaWYgKHJlY29yZFN5bmMpXG4gICAge1xuICAgICAgICBSZWNvcmRTeW5jKE1vZHVsZVRpdGxlLlZpcnR1YWxQZXQsIFwibGV2ZWxzXCIpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gQ2FuTm9tKCk6IGJvb2xlYW5cbntcbiAgICByZXR1cm4gUGxheWVyVlAoKS5lbmFibGVkICYmIChQbGF5ZXJWUCgpLnNleFBldCA9PT0gXCJPZmZcIiB8fCAhUGxheWVyVlAoKS5zZXhQZXRPbmx5KTtcbn1cblxuZnVuY3Rpb24gQ2FuU2V4KCk6IGJvb2xlYW5cbntcbiAgICByZXR1cm4gUGxheWVyVlAoKS5lbmFibGVkICYmIChQbGF5ZXJWUCgpLnNleFBldCAhPT0gXCJPZmZcIik7XG59XG5cbi8qKlxuICogQHBhcmFtIHN0YXQgLSBTdGF0IHRvIG1vZGlmeVxuICogQHBhcmFtIGFtb3VudCAtIE11c3QgYmUgYmV0d2VlbiAtMSBhbmQgMVxuICogQHBhcmFtIGFwcGx5TW9kaWZpZXIgLSBJZiBhcHBseSB0aGUgXCJQZXQgbGlrZVwiIG1vZGlmaWVyXG4gKiBAcGFyYW0gc3RvcmFnZVB1c2ggLSBJZiBzYXZpbmcgdG8gc3RvcmFnZVxuICovXG5leHBvcnQgZnVuY3Rpb24gTW9kaWZ5U3RhdChzdGF0OiBWaXJ0dWFsUGV0U3RhdENhdGVnb3J5LCBhbW91bnQ6IG51bWJlciwgYXBwbHlNb2RpZmllciA9IHRydWUsIHN0b3JhZ2VQdXNoID0gdHJ1ZSwgc291cmNlQ2hhcj86IENoYXJhY3Rlcik6IHZvaWRcbntcbiAgICBpZiAoYW1vdW50IDwgLTEgJiYgYW1vdW50ID4gMSlcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDYWxjdWxhdGUgdGhlIGN1cnJlbnQgc3RhdHMgYmFzZWQgb24gZHJhaW4gYW5kIHRoZW4gYXBwbHkgbW9kaWZpY2F0aW9ucyBhZnRlciBjaGFuZ2luZyB0aG9zZSB2YWx1ZXMgZmlyc3RcbiAgICBMZXZlbFN5bmMoZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG5cbiAgICBQbGF5ZXJWUCgpLmxldmVsc1tzdGF0XSArPSBhbW91bnQgKiAoKGFwcGx5TW9kaWZpZXIgJiYgYW1vdW50ID4gMCkgPyBTdGF0TW9kaWZpZXIoc3RhdCwgc291cmNlQ2hhcikgOiAxKTtcbiAgICBWZXJpZnlWYWxpZFN0YXQoc3RhdCk7XG5cbiAgICAvLyBTYXZlIHRvIGxvY2FsIHN0b3JhZ2VcbiAgICBpZiAoc3RvcmFnZVB1c2gpXG4gICAge1xuICAgICAgICBTYXZlU3RvcmFnZShmYWxzZSk7XG4gICAgfVxuICAgIC8vIFN5bmMgbmV3IHN0YXRzIHdpdGggb3RoZXJzXG4gICAgUmVjb3JkU3luYyhNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0LCBcImxldmVsc1wiKTtcbn1cblxuZXhwb3J0IGNsYXNzIFZpcnR1YWxQZXRNb2R1bGUgZXh0ZW5kcyBNb2R1bGVcbntcbiAgICBnZXQgVGl0bGUoKTogTW9kdWxlVGl0bGVcbiAgICB7XG4gICAgICAgIHJldHVybiBNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0O1xuICAgIH1cblxuICAgIGdldCBBY3Rpdml0aWVzKCk6IEN1c3RvbUFjdGl2aXR5W11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgTmFtZTogXCJCb3dsRWF0XCIsXG4gICAgICAgICAgICAgICAgVGFyZ2V0czogW3tcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IFwiSXRlbU1vdXRoXCIsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkVhdCBGcm9tIEJvd2xcIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uU2VsZjogXCJTb3VyY2VDaGFyYWN0ZXIgZWF0cyBmcm9tIFByb25vdW5Qb3NzZXNzaXZlIGJvd2wuXCJcbiAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgICAgICBJbWFnZTogXCJBc3NldHMvRmVtYWxlM0RDRy9JdGVtRGV2aWNlcy9QcmV2aWV3L1BldEJvd2wucG5nXCIsXG4gICAgICAgICAgICAgICAgUHJlcmVxdWlzaXRlOiBbXCJVc2VNb3V0aFwiXSxcbiAgICAgICAgICAgICAgICBDdXN0b21QcmVyZXF1aXNpdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgTmFtZTogXCJIYXNCb3dsXCIsXG4gICAgICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogKGFjdGluZywgX2FjdGVkLCBfZ3JvdXApID0+XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBJbnZlbnRvcnlHZXQoYWN0aW5nLCBcIkl0ZW1EZXZpY2VzXCIpPy5Bc3NldD8uTmFtZSA9PT0gXCJQZXRCb3dsXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIE9uVHJpZ2dlcjogKCkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChQbGF5ZXJWUCgpLmVuYWJsZWQgJiYgUGxheWVyVlAoKS5mb29kSG91cnMgIT09IDAgJiYgQ2FuTm9tKCkpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE1vZGlmeVN0YXQoXCJmb29kXCIsIEJPV0xfQ09OU1VNRV9SRUNPVkVSWSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgTmFtZTogXCJCb3dsRHJpbmtcIixcbiAgICAgICAgICAgICAgICBUYXJnZXRzOiBbe1xuICAgICAgICAgICAgICAgICAgICBncm91cDogXCJJdGVtTW91dGhcIixcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiRHJpbmsgRnJvbSBCb3dsXCIsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvblNlbGY6IFwiU291cmNlQ2hhcmFjdGVyIGRyaW5rcyBmcm9tIFByb25vdW5Qb3NzZXNzaXZlIGJvd2wuXCJcbiAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgICAgICBJbWFnZTogXCJBc3NldHMvRmVtYWxlM0RDRy9JdGVtRGV2aWNlcy9QcmV2aWV3L1BldEJvd2wucG5nXCIsXG4gICAgICAgICAgICAgICAgUHJlcmVxdWlzaXRlOiBbXCJVc2VNb3V0aFwiXSxcbiAgICAgICAgICAgICAgICBDdXN0b21QcmVyZXF1aXNpdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgTmFtZTogXCJIYXNCb3dsXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIE9uVHJpZ2dlcjogKCkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChQbGF5ZXJWUCgpLmVuYWJsZWQgJiYgUGxheWVyVlAoKS53YXRlckhvdXJzICE9PSAwICYmIENhbk5vbSgpKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBNb2RpZnlTdGF0KFwid2F0ZXJcIiwgQk9XTF9DT05TVU1FX1JFQ09WRVJZLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBOYW1lOiBcIkJvd2xFYXQyXCIsXG4gICAgICAgICAgICAgICAgVGFyZ2V0czogW3tcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IFwiSXRlbU1vdXRoXCIsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkVhdCBGcm9tIEJvd2xcIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uU2VsZjogXCJTb3VyY2VDaGFyYWN0ZXIgcHV0cyBQcm9ub3VuUG9zc2Vzc2l2ZSBoZWFkIGludG8gUHJvbm91blBvc3Nlc3NpdmUgYm93bCBpbiBvcmRlciB0byBlYXQgd2l0aCB0aGUgZ2FnLCBtYWtpbmcgYSBtZXNzLlwiXG4gICAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAgICAgSW1hZ2U6IFwiQXNzZXRzL0ZlbWFsZTNEQ0cvSXRlbURldmljZXMvUHJldmlldy9QZXRCb3dsLnBuZ1wiLFxuICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogW10sXG4gICAgICAgICAgICAgICAgQ3VzdG9tUHJlcmVxdWlzaXRlOiBbXG4gICAgICAgICAgICAgICAgICAgIHsgTmFtZTogXCJIYXNCb3dsXCIgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgTmFtZTogXCJVc2VUb25ndWVOb01vdXRoXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBQcmVyZXF1aXNpdGU6IChhY3RpbmcsIF9hY3RlZCwgX2dyb3VwKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhYWN0aW5nLkNhblRhbGsoKSAmJiAhYWN0aW5nLklzTW91dGhCbG9ja2VkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIE9uVHJpZ2dlcjogKCkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChQbGF5ZXJWUCgpLmVuYWJsZWQgJiYgUGxheWVyVlAoKS5mb29kSG91cnMgIT09IDAgJiYgQ2FuTm9tKCkpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE1vZGlmeVN0YXQoXCJmb29kXCIsIEJPV0xfQ09OU1VNRV9SRUNPVkVSWSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgTmFtZTogXCJCb3dsRHJpbmsyXCIsXG4gICAgICAgICAgICAgICAgVGFyZ2V0czogW3tcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IFwiSXRlbU1vdXRoXCIsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkRyaW5rIEZyb20gQm93bFwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25TZWxmOiBcIlNvdXJjZUNoYXJhY3RlciBwdXRzIFByb25vdW5Qb3NzZXNzaXZlIGhlYWQgaW50byBQcm9ub3VuUG9zc2Vzc2l2ZSBib3dsIGluIG9yZGVyIHRvIGRyaW5rIHdpdGggdGhlIGdhZywgbWFraW5nIGEgbWVzcy5cIlxuICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgICAgIEltYWdlOiBcIkFzc2V0cy9GZW1hbGUzRENHL0l0ZW1EZXZpY2VzL1ByZXZpZXcvUGV0Qm93bC5wbmdcIixcbiAgICAgICAgICAgICAgICBQcmVyZXF1aXNpdGU6IFtdLFxuICAgICAgICAgICAgICAgIEN1c3RvbVByZXJlcXVpc2l0ZTogW1xuICAgICAgICAgICAgICAgICAgICB7IE5hbWU6IFwiSGFzQm93bFwiIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgTmFtZTogXCJVc2VUb25ndWVOb01vdXRoXCIgfVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgT25UcmlnZ2VyOiAoKSA9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFBsYXllclZQKCkuZW5hYmxlZCAmJiBQbGF5ZXJWUCgpLndhdGVySG91cnMgIT09IDAgJiYgQ2FuTm9tKCkpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE1vZGlmeVN0YXQoXCJ3YXRlclwiLCBCT1dMX0NPTlNVTUVfUkVDT1ZFUlksIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuICAgIH1cblxuICAgIGdldCBTZXR0aW5ncygpOiBTZXR0aW5nW11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJlbmFibGVkXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICFJc0hhcmRjb3JlT24oQyksXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkJlY29tZSBhIHZpcnR1YWwgcGV0ISBSZXF1aXJpbmc6IGZvb2QsIHdhdGVyLCBzbGVlcCwgYW5kIGFmZmVjdGlvblwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiZm9vZEhvdXJzXCIgYXMgVmlydHVhbFBldEhvdXJDYXRlZ29yaWVzLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IDQsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkhvdyBtYW55IGhvdXJzIHVudGlsIHlvdSBhcmUgY29tcGxldGVseSBvdXQgb2YgZm9vZDsgMCB0byBkaXNhYmxlXCIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IDEyOCxcbiAgICAgICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICAgICAgbWF4OiBNQVhfU0VUVElOR19USU1FX0hPVVJTLFxuICAgICAgICAgICAgICAgIHN0ZXA6IDAuMVxuICAgICAgICAgICAgfSBhcyBOdW1iZXJTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJ3YXRlckhvdXJzXCIgYXMgVmlydHVhbFBldEhvdXJDYXRlZ29yaWVzLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IDQsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkhvdyBtYW55IGhvdXJzIHVudGlsIHlvdSBhcmUgY29tcGxldGVseSBvdXQgb2Ygd2F0ZXI7IDAgdG8gZGlzYWJsZVwiLFxuICAgICAgICAgICAgICAgIHdpZHRoOiAxMjgsXG4gICAgICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgICAgIG1heDogTUFYX1NFVFRJTkdfVElNRV9IT1VSUyxcbiAgICAgICAgICAgICAgICBzdGVwOiAwLjFcbiAgICAgICAgICAgIH0gYXMgTnVtYmVyU2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwic2xlZXBIb3Vyc1wiIGFzIFZpcnR1YWxQZXRIb3VyQ2F0ZWdvcmllcyxcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiA4LFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJIb3cgbWFueSBob3VycyB1bnRpbCB5b3UgYXJlIGNvbXBsZXRlbHkgb3V0IG9mIHNsZWVwOyAwIHRvIGRpc2FibGVcIixcbiAgICAgICAgICAgICAgICB3aWR0aDogMTI4LFxuICAgICAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgICAgICBtYXg6IE1BWF9TRVRUSU5HX1RJTUVfSE9VUlMsXG4gICAgICAgICAgICAgICAgc3RlcDogMC4xXG4gICAgICAgICAgICB9IGFzIE51bWJlclNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImFmZmVjdGlvbkhvdXJzXCIgYXMgVmlydHVhbFBldEhvdXJDYXRlZ29yaWVzLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IDQsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkhvdyBtYW55IGhvdXJzIHVudGlsIHlvdSBhcmUgY29tcGxldGVseSBvdXQgb2YgYWZmZWN0aW9uOyAwIHRvIGRpc2FibGVcIixcbiAgICAgICAgICAgICAgICB3aWR0aDogMTI4LFxuICAgICAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgICAgICBtYXg6IE1BWF9TRVRUSU5HX1RJTUVfSE9VUlMsXG4gICAgICAgICAgICAgICAgc3RlcDogMC4xXG4gICAgICAgICAgICB9IGFzIE51bWJlclNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIm9mZmxpbmVEcmFpblwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiU3RhdHMgZHJhaW4gZXZlbiB3aGVuIGxvZ2dlZCBvdXQgb2YgdGhlIGNsdWJcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIm5vSGFuZHNcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkICYmICFJc0hhcmRjb3JlT24oQyksXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWxsb3cgZWF0aW5nIG9yIGRyaW5raW5nIGZyb20gaXRlbXMgaW4geW91ciBPV04gaGFuZHNcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIm1hc29jaGlzdFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIk1hc29jaGlzdCBwZXQ7IEFidXNlIHJhaXNlcyBhZmZlY3Rpb25cIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImxldmVsc1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwicmVjb3JkXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgZm9vZDogMSxcbiAgICAgICAgICAgICAgICAgICAgd2F0ZXI6IDEsXG4gICAgICAgICAgICAgICAgICAgIHNsZWVwOiAxLFxuICAgICAgICAgICAgICAgICAgICBhZmZlY3Rpb246IDEsXG4gICAgICAgICAgICAgICAgICAgIGxhc3RVcGRhdGVkOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgICAgICAgICBsYXN0T25saW5lOiBEYXRlLm5vdygpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBhcyBTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJzZXhQZXRcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm9wdGlvblwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCxcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJPZmZcIixcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBbXCJPZmZcIiwgXCJMb3dcIiwgXCJNZWRpdW1cIiwgXCJIaWdoXCJdLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkhvdyBtdWNoIGh1bmdlciBhbmQgdGhpcnN0IGdhaW5lZCBmcm9tIHBlcmZvcm1pbmcgb3JhbCBzZXhcIixcbiAgICAgICAgICAgICAgICBsb29wOiBmYWxzZVxuICAgICAgICAgICAgfSBhcyBPcHRpb25TZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJzZXhQZXRPbmx5XCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+IFBsYXllclZQKEMpLnNleFBldCAhPSBcIk9mZlwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJPTkxZIEFibGUgdG8gZ2FpbiBodW5nZXIgYW5kIHRoaXJzdCBmcm9tIHBlcmZvcm1pbmcgb3JhbCBzZXhcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmdcbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBMb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLkxvYWQoKTtcblxuICAgICAgICAvLyBMb2dpbiBsZXZlbCBzeW5jXG4gICAgICAgIFNsZWVwQ2hhbmdlQ2hlY2soZmFsc2UpO1xuICAgICAgICBMZXZlbFN5bmModHJ1ZSwgZmFsc2UsIHRydWUpO1xuICAgICAgICBsYXN0T25saW5lSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoUGxheWVyLk1lbWJlck51bWJlcilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBQbGF5ZXIuTVBBW3RoaXMuVGl0bGVdLmxldmVscy5sYXN0T25saW5lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgICAgICBTYXZlU3RvcmFnZShmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIExBU1RfT05MSU5FX0lOVEVSVkFMX01TKTtcblxuICAgICAgICAvLyBOb21zIGFuZCBkcmlua3NcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiQ2hhdFJvb21NZXNzYWdlXCIsIDAsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXJnc1swXTtcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2aXR5TmFtZSA9IEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIkFjdGl2aXR5TmFtZVwiKTtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAhUGxheWVyVlAoKS5lbmFibGVkXG4gICAgICAgICAgICAgICAgfHwgKCFQbGF5ZXJWUCgpLm5vSGFuZHNcbiAgICAgICAgICAgICAgICAgICYmIEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIlNvdXJjZUNoYXJhY3RlclwiKSA9PT0gUGxheWVyLk1lbWJlck51bWJlcilcbiAgICAgICAgICAgICAgICB8fCBkYXRhLlR5cGUgIT09IFwiQWN0aXZpdHlcIlxuICAgICAgICAgICAgICAgIHx8IEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIlRhcmdldENoYXJhY3RlclwiKSAhPT0gUGxheWVyLk1lbWJlck51bWJlclxuICAgICAgICAgICAgICAgIHx8IEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIkZvY3VzR3JvdXBOYW1lXCIpICE9PSBcIkl0ZW1Nb3V0aFwiXG4gICAgICAgICAgICAgICAgfHwgIWFjdGl2aXR5TmFtZVxuICAgICAgICAgICAgICAgIHx8ICFDYW5Ob20oKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBHZXQgYWN0aXZpdHkgYW5kIGNoZWNrIHByZXJlcXVpc2l0ZXNcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2aXR5ID0gQWN0aXZpdHlGZW1hbGUzRENHLmZpbmQoKHgpID0+IHguTmFtZSA9PT0gYWN0aXZpdHlOYW1lKTtcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZSA9IEZpbmRDaGFyYWN0ZXJJblJvb20oR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiVGFyZ2V0Q2hhcmFjdGVyXCIpKSA/PyB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgUGxheWVyVlAoKS5mb29kSG91cnMgIT09IDBcbiAgICAgICAgICAgICAgICAmJiAoYWN0aXZpdHk/LlByZXJlcXVpc2l0ZT8uaW5jbHVkZXMoXCJOZWVkcy1FYXRJdGVtXCIpXG4gICAgICAgICAgICAgICAgICB8fCBBQ1RJVklUSUVTX0ZPT0RfR0FJTi5zb21lKCh4KSA9PiBhY3Rpdml0eT8uTmFtZSA9PT0geCkpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgTW9kaWZ5U3RhdChcImZvb2RcIiwgSVRFTV9DT05VTUVfUkVDT1ZFUlksIHRydWUsIHVuZGVmaW5lZCwgc291cmNlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIFBsYXllclZQKCkud2F0ZXJIb3VycyAhPT0gMFxuICAgICAgICAgICAgICAgICYmIChhY3Rpdml0eT8uUHJlcmVxdWlzaXRlPy5pbmNsdWRlcyhcIk5lZWRzLVNpcEl0ZW1cIilcbiAgICAgICAgICAgICAgICAgIHx8IEFDVElWSVRJRVNfV0FURVJfR0FJTi5zb21lKCh4KSA9PiBhY3Rpdml0eT8uTmFtZSA9PT0geCkpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgTW9kaWZ5U3RhdChcIndhdGVyXCIsIElURU1fQ09OVU1FX1JFQ09WRVJZLCB0cnVlLCB1bmRlZmluZWQsIHNvdXJjZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gRWF0IG91dCBvZiBoYW5kcyAoTFNDRylcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiQ2hhdFJvb21NZXNzYWdlXCIsIDAsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXJnc1swXTtcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2aXR5TmFtZSA9IEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIkFjdGl2aXR5TmFtZVwiKTtcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2aXR5ID0gQWN0aXZpdHlGZW1hbGUzRENHLmZpbmQoKHgpID0+IHguTmFtZSA9PT0gYWN0aXZpdHlOYW1lKTtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAhUGxheWVyVlAoKS5lbmFibGVkXG4gICAgICAgICAgICAgICAgfHwgKEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIlNvdXJjZUNoYXJhY3RlclwiKSAhPT0gUGxheWVyLk1lbWJlck51bWJlcilcbiAgICAgICAgICAgICAgICB8fCBkYXRhLlR5cGUgIT09IFwiQWN0aXZpdHlcIlxuICAgICAgICAgICAgICAgIHx8IEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIkZvY3VzR3JvdXBOYW1lXCIpICE9PSBcIkl0ZW1IYW5kc1wiXG4gICAgICAgICAgICAgICAgfHwgIWFjdGl2aXR5TmFtZVxuICAgICAgICAgICAgICAgIHx8ICFDYW5Ob20oKVxuICAgICAgICAgICAgICAgIHx8IFBsYXllclZQKCkuZm9vZEhvdXJzID09PSAwXG4gICAgICAgICAgICAgICAgfHwgIShhY3Rpdml0eT8uUHJlcmVxdWlzaXRlPy5pbmNsdWRlcyhcIk5lZWRzLUVhdEl0ZW1cIilcbiAgICAgICAgICAgICAgICAgIHx8IEFDVElWSVRJRVNfRk9PRF9HQUlOLnNvbWUoKHgpID0+IGFjdGl2aXR5Py5OYW1lID09PSB4KSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgTW9kaWZ5U3RhdChcImZvb2RcIiwgSVRFTV9DT05VTUVfUkVDT1ZFUlksIHRydWUsIHVuZGVmaW5lZCwgRmluZENoYXJhY3RlckluUm9vbShHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJUYXJnZXRDaGFyYWN0ZXJcIikpID8/IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gU2V4c1xuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJDaGF0Um9vbU1lc3NhZ2VcIiwgMCwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhcmdzWzBdO1xuICAgICAgICAgICAgY29uc3QgYWN0aXZpdHlOYW1lID0gR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiQWN0aXZpdHlOYW1lXCIpO1xuICAgICAgICAgICAgY29uc3Qgc291cmNlQ2hhciA9IEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIlNvdXJjZUNoYXJhY3RlclwiKTtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldENoYXIgPSBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJUYXJnZXRDaGFyYWN0ZXJcIikgYXMgbnVtYmVyO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICFQbGF5ZXJWUCgpLmVuYWJsZWRcbiAgICAgICAgICAgICAgICB8fCBkYXRhLlR5cGUgIT09IFwiQWN0aXZpdHlcIlxuICAgICAgICAgICAgICAgIHx8ICFDYW5TZXgoKVxuICAgICAgICAgICAgICAgIHx8IHNvdXJjZUNoYXIgIT09IFBsYXllci5NZW1iZXJOdW1iZXJcbiAgICAgICAgICAgICAgICB8fCB0YXJnZXRDaGFyID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyXG4gICAgICAgICAgICAgICAgfHwgIVNFWF9QRVRfUkVHSU9OUy5pbmNsdWRlcyhHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJGb2N1c0dyb3VwTmFtZVwiKSlcbiAgICAgICAgICAgICAgICB8fCAhU0VYX1BFVF9BQ1RJVklUSUVTLmluY2x1ZGVzKGFjdGl2aXR5TmFtZSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgTW9kaWZ5U3RhdChcImZvb2RcIiwgU0VYX1BFVF9SRUNPVkVSWVtQbGF5ZXJWUCgpLnNleFBldCA/PyBcIkxvd1wiXSwgdHJ1ZSwgdHJ1ZSwgRmluZENoYXJhY3RlckluUm9vbSh0YXJnZXRDaGFyKSA/PyB1bmRlZmluZWQpO1xuICAgICAgICAgICAgcGVyZm9ybWVkT3JhbE9uW3RhcmdldENoYXJdID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBTZXhzIGZyb20gb3RoZXJcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiQ2hhdFJvb21NZXNzYWdlXCIsIDAsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXJnc1swXTtcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2aXR5TmFtZSA9IEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIkFjdGl2aXR5TmFtZVwiKTtcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZUNoYXIgPSBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJTb3VyY2VDaGFyYWN0ZXJcIik7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXRDaGFyID0gR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiVGFyZ2V0Q2hhcmFjdGVyXCIpIGFzIG51bWJlcjtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAhUGxheWVyVlAoKS5lbmFibGVkXG4gICAgICAgICAgICAgICAgfHwgZGF0YS5UeXBlICE9PSBcIkFjdGl2aXR5XCJcbiAgICAgICAgICAgICAgICB8fCAhQ2FuU2V4KClcbiAgICAgICAgICAgICAgICB8fCBzb3VyY2VDaGFyID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyXG4gICAgICAgICAgICAgICAgfHwgdGFyZ2V0Q2hhciAhPT0gUGxheWVyLk1lbWJlck51bWJlclxuICAgICAgICAgICAgICAgIHx8ICEoIShHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJGb2N1c0dyb3VwTmFtZVwiKSAhPT0gXCJJdGVtTW91dGhcIlxuICAgICAgICAgICAgICAgICAgfHwgIVNFWF9QRVRfQUNUSVZJVElFU19PVEhFUi5pbmNsdWRlcyhhY3Rpdml0eU5hbWUpXG4gICAgICAgICAgICAgICAgICB8fCBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJBc3NldE5hbWVcIikgIT09IFwiUGVuaXNcIlxuICAgICAgICAgICAgICAgICAgfHwgR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiR3JvdXBOYW1lXCIpICE9PSBcIlB1c3N5XCIpXG4gICAgICAgICAgICAgICAgfHwgIShHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJGb2N1c0dyb3VwTmFtZVwiKSAhPT0gXCJJdGVtSGVhZFwiXG4gICAgICAgICAgICAgICAgICB8fCBhY3Rpdml0eU5hbWUgIT09IFwiTFNDR19GdWNrV2l0aFB1c3N5XCIpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBNb2RpZnlTdGF0KFwiZm9vZFwiLCBTRVhfUEVUX1JFQ09WRVJZW1BsYXllclZQKCkuc2V4UGV0ID8/IFwiTG93XCJdLCB0cnVlLCB0cnVlLCBGaW5kQ2hhcmFjdGVySW5Sb29tKHNvdXJjZUNoYXIpID8/IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICBwZXJmb3JtZWRPcmFsT25bc291cmNlQ2hhcl0gPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIE9uIG9yZ2FzbVxuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJDaGF0Um9vbU1lc3NhZ2VcIiwgMTAsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXJnc1swXTtcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZUNoYXIgPSBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJTb3VyY2VDaGFyYWN0ZXJcIikgYXMgbnVtYmVyO1xuICAgICAgICAgICAgaWYgKGRhdGEuVHlwZSAhPT0gXCJBY3Rpdml0eVwiXG4gICAgICAgICAgICAgIHx8ICFPUkdBU01fQUNUSVZJVFlfUkVHRVgudGVzdChkYXRhLkNvbnRlbnQpXG4gICAgICAgICAgICAgIHx8IHNvdXJjZUNoYXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICgocGVyZm9ybWVkT3JhbE9uW3NvdXJjZUNoYXJdID8/IDApID49IChEYXRlLm5vdygpIC0gU0VYX1BFVF9PUkdBU01fVElNRV9NUykpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc291cmNlQ2hhcmFjdGVyID0gRmluZENoYXJhY3RlckluUm9vbShzb3VyY2VDaGFyKTtcbiAgICAgICAgICAgICAgICBNb2RpZnlTdGF0KFwid2F0ZXJcIixcbiAgICAgICAgICAgICAgICAgICAgU0VYX1BFVF9SRUNPVkVSWVtQbGF5ZXJWUCgpLnNleFBldCA/PyBcIkxvd1wiXSAqIFNFWF9QRVRfVEhJUlNUX01PRCxcbiAgICAgICAgICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgc291cmNlQ2hhcmFjdGVyID8/IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgaWYgKHNvdXJjZUNoYXJhY3RlcilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFNlbmRBY3Rpb24oUmFuZG9tRWxlbWVudChTRVhfUEVUX0RSSU5LW3NvdXJjZUNoYXJhY3Rlci5IYXNQZW5pcygpID8gXCJNQUxFXCIgOiBcIkZFTUFMRVwiXSkgYXMgc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgW3sgU291cmNlQ2hhcmFjdGVyOiBQbGF5ZXIuTWVtYmVyTnVtYmVyIH0gYXMgU291cmNlQ2hhcmFjdGVyRGljdGlvbmFyeUVudHJ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgVGFyZ2V0Q2hhcmFjdGVyOiBzb3VyY2VDaGFyIH0gYXMgVGFyZ2V0Q2hhcmFjdGVyRGljdGlvbmFyeUVudHJ5XVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFNsZWVwXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIkNoYXJhY3RlclJlZnJlc2hcIiwgMCwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChhcmdzWzBdLk1lbWJlck51bWJlciA9PT0gUGxheWVyLk1lbWJlck51bWJlcilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBTbGVlcENoYW5nZUNoZWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQWZmZWN0aW9uXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIkNoYXRSb29tTWVzc2FnZVwiLCAwLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGFyZ3NbMF07XG4gICAgICAgICAgICBjb25zdCBhY3Rpdml0eU5hbWUgPSBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJBY3Rpdml0eU5hbWVcIik7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgIVBsYXllclZQKCkuZW5hYmxlZFxuICAgICAgICAgICAgICAgIHx8IFBsYXllclZQKCkuYWZmZWN0aW9uSG91cnMgPT09IDBcbiAgICAgICAgICAgICAgICB8fCBkYXRhLlR5cGUgIT09IFwiQWN0aXZpdHlcIlxuICAgICAgICAgICAgICAgIHx8IEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIlRhcmdldENoYXJhY3RlclwiKSAhPT0gUGxheWVyLk1lbWJlck51bWJlclxuICAgICAgICAgICAgICAgIHx8IEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIlNvdXJjZUNoYXJhY3RlclwiKSA9PT0gUGxheWVyLk1lbWJlck51bWJlclxuICAgICAgICAgICAgICAgIHx8ICFhY3Rpdml0eU5hbWVcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgZ3JvdXAgPSBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJGb2N1c0dyb3VwTmFtZVwiKSBhcyBzdHJpbmcgPz8gXCJcIjtcbiAgICAgICAgICAgIGNvbnN0IGdyb3VwTXVsdCA9IEFGRkVDVElPTl9aT05FX0FGRkVDVElPTltncm91cF0gPz8gMTtcbiAgICAgICAgICAgIGlmIChBRkZFQ1RJT05fQUNUSVZJVFlfTE9WRS5pbmNsdWRlcyhhY3Rpdml0eU5hbWUpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIE1vZGlmeVN0YXQoXCJhZmZlY3Rpb25cIiwgQUZGRUNUSU9OX0xPVkVfQkFTRSAqIGdyb3VwTXVsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChBRkZFQ1RJT05fQUNUSVZJVFlfTElLRS5pbmNsdWRlcyhhY3Rpdml0eU5hbWUpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIE1vZGlmeVN0YXQoXCJhZmZlY3Rpb25cIiwgQUZGRUNUSU9OX0xJS0VfQkFTRSAqIGdyb3VwTXVsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChBRkZFQ1RJT05fQUNUSVZJVFlfTUFTTy5pbmNsdWRlcyhhY3Rpdml0eU5hbWUpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIE1vZGlmeVN0YXQoXCJhZmZlY3Rpb25cIiwgKFBsYXllclZQKCkubWFzb2NoaXN0ID8gLTEgOiAxKSAqIEFGRkVDVElPTl9NQVNPX0JBU0UgKiBncm91cE11bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIFVubG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5VbmxvYWQoKTtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChsYXN0T25saW5lSW50ZXJ2YWwpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IE9SR0FTTV9BQ1RJVklUWV9SRUdFWCB9IGZyb20gXCIuLi91dGlsL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgUmFuZG9tRWxlbWVudCB9IGZyb20gXCIuLi91dGlsL2dlbmVyYWxcIjtcbmltcG9ydCB7IEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeSwgU2VuZEFjdGlvbiB9IGZyb20gXCIuLi91dGlsL21lc3NhZ2luZ1wiO1xuaW1wb3J0IHsgSG9va0Z1bmN0aW9uIH0gZnJvbSBcIi4uL3V0aWwvc2RrXCI7XG5pbXBvcnQgeyBNb2R1bGUsIE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4vX21vZHVsZVwiO1xuaW1wb3J0IHsgSXNIYXJkY29yZU9uIH0gZnJvbSBcIi4vcHJvZmlsZVwiO1xuaW1wb3J0IHsgR2V0Q2hhcmFjdGVyQ3VycmVudFN0YXRWYWx1ZSwgTW9kaWZ5U3RhdCwgVmlydHVhbFBldFN0YXRDYXRlZ29yeSB9IGZyb20gXCIuL3ZpcnR1YWxQZXRcIjtcblxuY29uc3QgUGxheWVyVlA6IChDPzogQ2hhcmFjdGVyKSA9PiBNUEFSZWNvcmQgPSAoQzogQ2hhcmFjdGVyID0gUGxheWVyKSA9Plxue1xuICAgIHJldHVybiBDLk1QQT8uW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdID8/IHt9O1xufTtcblxuY29uc3QgUGxheWVyVlBDOiAoQz86IENoYXJhY3RlcikgPT4gTVBBUmVjb3JkID0gKEM6IENoYXJhY3RlciA9IFBsYXllcikgPT5cbntcbiAgICByZXR1cm4gQy5NUEE/LltNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9uc10gPz8ge307XG59O1xuXG4vKipcbiAqIENoZWNrIGlmIGEgY29uZGl0aW9uIGlzIGN1cnJlbnRseSBlbmZvcmNlZCwgY2hlY2tpbmcgaWYgZW5hYmxlZCBhbmQgaWYgaXQgcmVsaWVzIG9uIGEgVlAgc3RhdCwgdGhhdCB0aGUgc3RhdCBpcyBzZXRcbiAqL1xuZnVuY3Rpb24gQ29uZGl0aW9uSXNFbmZvcmNlZChjb25kaXRpb246IHN0cmluZywgdnBTdGF0TmVlZFRvQmVFbmFibGVkPzogVmlydHVhbFBldFN0YXRDYXRlZ29yeSk6IGJvb2xlYW5cbntcbiAgICBpZiAoIVBsYXllclZQQygpLmVuYWJsZWQgfHwgIShQbGF5ZXJWUEMoKVtjb25kaXRpb25dKSlcbiAgICB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuICghdnBTdGF0TmVlZFRvQmVFbmFibGVkIHx8IChQbGF5ZXJWUCgpLmVuYWJsZWQgJiYgUGxheWVyVlAoKT8uW2Ake3ZwU3RhdE5lZWRUb0JlRW5hYmxlZH1Ib3Vyc2BdICE9PSAwKSk7XG59O1xuXG4vKiogW1NraWxsLCBwb3N0aXZlIG9yIG5lZ2F0aXZlIGNvcnJsYXRpb25dICovXG5jb25zdCBBRkZFQ1RJT05fU0tJTExTOiBbU2tpbGxUeXBlLCBib29sZWFuXVtdID1cbltcbiAgICBbXCJTZWxmQm9uZGFnZVwiLCB0cnVlXSxcbiAgICBbXCJXaWxscG93ZXJcIiwgdHJ1ZV0sXG4gICAgW1wiQm9uZGFnZVwiLCBmYWxzZV0sXG4gICAgW1wiRXZhc2lvblwiLCBmYWxzZV0sXG4gICAgW1wiTG9ja1BpY2tpbmdcIiwgZmFsc2VdXG5dO1xuXG5pbnRlcmZhY2UgT25TdGF0Q2hhbmdlRXZlbnRcbntcbiAgICBzdGF0OiBWaXJ0dWFsUGV0U3RhdENhdGVnb3J5O1xuICAgIHRocmVzaGhvbGQ6IG51bWJlcjtcbiAgICBjaGFuZ2U6IFwicmlzaW5nXCIgfCBcImZhbGxpbmdcIiB8IFwiYm90aFwiO1xuICAgIGFjdGlvbjogKCkgPT4gdm9pZDtcbiAgICBmaXJzdFJ1bj86ICgpID0+IHZvaWQ7XG59XG5jb25zdCBwcmV2aW91c1N0YXRzOiBSZWNvcmQ8VmlydHVhbFBldFN0YXRDYXRlZ29yeSwgbnVtYmVyPiA9IHtcbiAgICBmb29kOiAtMSxcbiAgICB3YXRlcjogLTEsXG4gICAgc2xlZXA6IC0xLFxuICAgIGFmZmVjdGlvbjogLTFcbn07XG5sZXQgb25TdGF0TGV2ZWw6IE9uU3RhdENoYW5nZUV2ZW50W10gPSBbXTtcbi8vIExpc3RlbnMgZm9yIGNoYW5nZXMgZXZlcnkgfjEuNSBzZWNvbmRzXG5jb25zdCBTVEFUX0NPVU5UX01BWCA9IDI1MDtcbmxldCBzdGF0Q291bnQgPSBTVEFUX0NPVU5UX01BWDtcbmV4cG9ydCBmdW5jdGlvbiBDb25kaXRpb25DaGVjaygpOiB2b2lkXG57XG4gICAgKFtcImZvb2RcIiwgXCJ3YXRlclwiLCBcImFmZmVjdGlvblwiLCBcInNsZWVwXCJdIGFzIFZpcnR1YWxQZXRTdGF0Q2F0ZWdvcnlbXSkuZm9yRWFjaCgoY2F0ZWdvcnkpID0+XG4gICAge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICBQbGF5ZXJWUCgpLmVuYWJsZWRcbiAgICAgICAgICAgICYmIFBsYXllclZQQygpLmVuYWJsZWRcbiAgICAgICAgICAgICYmIFBsYXllclZQKClbYCR7Y2F0ZWdvcnl9SG91cnNgXSAhPT0gMFxuICAgICAgICApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHByZXZWYWx1ZSA9IHByZXZpb3VzU3RhdHNbY2F0ZWdvcnldO1xuICAgICAgICAgICAgY29uc3QgY3VyclZhbHVlID0gR2V0Q2hhcmFjdGVyQ3VycmVudFN0YXRWYWx1ZShQbGF5ZXIsIGNhdGVnb3J5KTtcbiAgICAgICAgICAgIG9uU3RhdExldmVsLmZvckVhY2goKGNoYW5nZUV2ZW50KSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlRXZlbnQuc3RhdCA9PT0gY2F0ZWdvcnlcbiAgICAgICAgICAgICAgICAgICAgJiYgcHJldlZhbHVlID09PSAtMVxuICAgICAgICAgICAgICAgICAgICAmJiAhIWNoYW5nZUV2ZW50LmZpcnN0UnVuXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlRXZlbnQuZmlyc3RSdW4oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VFdmVudC5zdGF0ID09PSBjYXRlZ29yeVxuICAgICAgICAgICAgICAgICAgICAmJiBwcmV2VmFsdWUgIT09IC0xXG4gICAgICAgICAgICAgICAgICAgICYmIHByZXZWYWx1ZSA+IGN1cnJWYWx1ZSAvLyBGYWxsaW5nXG4gICAgICAgICAgICAgICAgICAgICYmIGNoYW5nZUV2ZW50LmNoYW5nZSAhPT0gXCJyaXNpbmdcIlxuICAgICAgICAgICAgICAgICAgICAmJiBjdXJyVmFsdWUgPD0gY2hhbmdlRXZlbnQudGhyZXNoaG9sZFxuICAgICAgICAgICAgICAgICAgICAmJiBjaGFuZ2VFdmVudC50aHJlc2hob2xkIDwgcHJldlZhbHVlXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlRXZlbnQuYWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlRXZlbnQuc3RhdCA9PT0gY2F0ZWdvcnlcbiAgICAgICAgICAgICAgICAgICAgJiYgcHJldlZhbHVlICE9PSAtMVxuICAgICAgICAgICAgICAgICAgICAmJiBwcmV2VmFsdWUgPCBjdXJyVmFsdWUgLy8gUmlzaW5nXG4gICAgICAgICAgICAgICAgICAgICYmIGNoYW5nZUV2ZW50LmNoYW5nZSAhPT0gXCJmYWxsaW5nXCJcbiAgICAgICAgICAgICAgICAgICAgJiYgcHJldlZhbHVlIDwgY2hhbmdlRXZlbnQudGhyZXNoaG9sZFxuICAgICAgICAgICAgICAgICAgICAmJiBjaGFuZ2VFdmVudC50aHJlc2hob2xkIDw9IGN1cnJWYWx1ZVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZUV2ZW50LmFjdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcHJldmlvdXNTdGF0c1tjYXRlZ29yeV0gPSBjdXJyVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBwcmV2aW91c1N0YXRzW2NhdGVnb3J5XSA9IC0xO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmNvbnN0IFNMRUVQX1RJTlQgPSB7XG4gICAgc3RhdDogXCJzbGVlcFwiIGFzIFZpcnR1YWxQZXRTdGF0Q2F0ZWdvcnksXG4gICAgc3RhcnRMZXZlbDogMC4yNSxcbiAgICBlbmRMZXZlbDogMCxcbiAgICBtaW5UaW50OiAwLFxuICAgIG1heFRpbnQ6IDFcbn07XG5cbmVudW0gUEFTU0VEX09VVFxue1xuICAgIE5PVCA9IDAsXG4gICAgTVBBID0gMSxcbiAgICBMU0NHID0gMlxufVxuXG5sZXQgcGFzc2VkT3V0ID0gUEFTU0VEX09VVC5OT1Q7XG5jb25zdCBQQVNTT1VUX1RBTEtfUkVQTEFDRTogc3RyaW5nW10gPSBbXG4gICAgXCJTb3VyY2VDaGFyYWN0ZXIgZHJvb2xzIG91dCBvZiB0aGUgY29ybmVyIG9mIFByb25vdW5Qb3NzZXNzaXZlIG1vdXRoIGFzIFByb25vdW5TdWJqZWN0IHNsZWVwcy5cIixcbiAgICBcIlNvdXJjZUNoYXJhY3RlciBtdW1ibGVzIHF1aWV0bHkgaW4gUHJvbm91blBvc3Nlc3NpdmUgc2x1bWJlci5cIixcbiAgICBcIlNvdXJjZUNoYXJhY3RlciByZXN0cyBwZWFjZWZ1bGx5LlwiXG5dO1xuZnVuY3Rpb24gTVBBUGFzc291dCgpOiB2b2lkXG57XG4gICAgLy8gRG9uJ3QgcGFzcyBvdXQgaWYgdW5hYmxlIHRvIG9yIGFscmVhZHkgcGFzc2VkIG91dFxuICAgIGlmIChnbG9iYWxUaGlzLkxTQ0c/LmdldE1vZHVsZShcIlN0YXRlTW9kdWxlXCIpPy5TbGVlcFN0YXRlPy5BY3RpdmUpXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgU2VuZEFjdGlvbihcIlNvdXJjZUNoYXJhY3RlciBwYXNzZXMgb3V0IGZyb20gZXhoYXVzdGlvbi5cIiwgdW5kZWZpbmVkLCBbeyBTb3VyY2VDaGFyYWN0ZXI6IFBsYXllci5NZW1iZXJOdW1iZXIgfSBhcyBTb3VyY2VDaGFyYWN0ZXJEaWN0aW9uYXJ5RW50cnldKTtcblxuICAgIGlmIChQbGF5ZXJWUEMoKS5wYXNzb3V0TFNDRyAmJiBnbG9iYWxUaGlzPy5MU0NHKVxuICAgIHtcbiAgICAgICAgZ2xvYmFsVGhpcz8uTFNDRz8uZ2V0TW9kdWxlKFwiU3RhdGVNb2R1bGVcIik/LlNsZWVwU3RhdGU/LkFjdGl2YXRlKFBsYXllci5NZW1iZXJOdW1iZXIpO1xuICAgICAgICBpZiAoZ2xvYmFsVGhpcy5MU0NHPy5nZXRNb2R1bGUoXCJTdGF0ZU1vZHVsZVwiKT8uU2xlZXBTdGF0ZT8uQWN0aXZlKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBzdWNjZXNzLCBkb24ndCBmYWxsIGJhY2sgb24gTVBBIHBhc3NvdXRcbiAgICAgICAgICAgIHBhc3NlZE91dCA9IFBBU1NFRF9PVVQuTFNDRztcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIENoYXJhY3RlclNldEZhY2lhbEV4cHJlc3Npb24oUGxheWVyLCBcIkVtb3RpY29uXCIsIFwiU2xlZXBcIik7XG4gICAgQ2hhcmFjdGVyU2V0RmFjaWFsRXhwcmVzc2lvbihQbGF5ZXIsIFwiRXllc1wiLCBcIkNsb3NlZFwiKTtcbiAgICBDaGFyYWN0ZXJTZXRGYWNpYWxFeHByZXNzaW9uKFBsYXllciwgXCJGbHVpZHNcIiwgXCJEcm9vbE1lZGl1bVwiKTtcbiAgICBpZiAoUGxheWVyLkNhbktuZWVsKCkpXG4gICAge1xuICAgICAgICBQb3NlU2V0QWN0aXZlKFBsYXllciwgXCJLbmVlbFwiLCB0cnVlKTtcbiAgICB9XG4gICAgcGFzc2VkT3V0ID0gUEFTU0VEX09VVC5NUEE7XG59XG5mdW5jdGlvbiBNUEFXYWtldXAoKTogdm9pZFxue1xuICAgIC8vIExTQ0cgcGFzc291dFxuICAgIGlmIChwYXNzZWRPdXQgPT09IFBBU1NFRF9PVVQuTFNDRylcbiAgICB7XG4gICAgICAgIC8vIFNvbWV0aGluZyBrZWVwaW5nIHBsYXllciBhc2xlZXA7IGdhcyBvciBjaGxvcm9cbiAgICAgICAgaWYgKCFnbG9iYWxUaGlzPy5MU0NHPy5nZXRNb2R1bGUoXCJTdGF0ZU1vZHVsZVwiKT8uU2xlZXBTdGF0ZT8uQWN0aXZlXG4gICAgICAgICAgfHwgKFBsYXllcj8uTFNDRz8uSW5qZWN0b3JNb2R1bGU/LnNlZGF0aXZlTGV2ZWwgPz8gMCkgPiAwXG4gICAgICAgICAgfHwgKFBsYXllcj8uTFNDRz8uTWlzY01vZHVsZT8uY2hsb3JvZm9ybUVuYWJsZWRcbiAgICAgICAgICAgICYmIChbXCJJdGVtTW91dGhcIiwgXCJJdGVtTW91dGgyXCIsIFwiSXRlbU1vdXRoM1wiXSBhcyBBc3NldEdyb3VwTmFtZVtdKS5zb21lKChncm91cCkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gSW52ZW50b3J5R2V0KFBsYXllciwgZ3JvdXApPy5Bc3NldD8uTmFtZSA9PT0gXCJDaGxvcm9mb3JtQ2xvdGhcIjtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChnbG9iYWxUaGlzPy5MU0NHPy5nZXRNb2R1bGUoXCJTdGF0ZU1vZHVsZVwiKT8uU2xlZXBTdGF0ZT8uUmVjb3ZlcigpPy5BY3RpdmUgPT09IGZhbHNlKVxuICAgICAgICB7XG4gICAgICAgICAgICBTZW5kQWN0aW9uKFwiU291cmNlQ2hhcmFjdGVyIHdha2VzIHVwIGZyb20gUHJvbm91blBvc3Nlc3NpdmUgbmFwLlwiLCB1bmRlZmluZWQsIFt7IFNvdXJjZUNoYXJhY3RlcjogUGxheWVyLk1lbWJlck51bWJlciB9IGFzIFNvdXJjZUNoYXJhY3RlckRpY3Rpb25hcnlFbnRyeV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBNUEEgcGFzc291dFxuICAgIENoYXJhY3RlclNldEZhY2lhbEV4cHJlc3Npb24oUGxheWVyLCBcIkVtb3RpY29uXCIsIG51bGwpO1xuICAgIENoYXJhY3RlclNldEZhY2lhbEV4cHJlc3Npb24oUGxheWVyLCBcIkV5ZXNcIiwgXCJEYXplZFwiKTtcbiAgICBDaGFyYWN0ZXJTZXRGYWNpYWxFeHByZXNzaW9uKFBsYXllciwgXCJFeWVicm93c1wiLCBcIkxvd2VyZWRcIik7XG5cbiAgICBwYXNzZWRPdXQgPSBQQVNTRURfT1VULk5PVDtcbiAgICBTZW5kQWN0aW9uKFwiU291cmNlQ2hhcmFjdGVyIHdha2VzIHVwIGZyb20gUHJvbm91blBvc3Nlc3NpdmUgbmFwLlwiLCB1bmRlZmluZWQsIFt7IFNvdXJjZUNoYXJhY3RlcjogUGxheWVyLk1lbWJlck51bWJlciB9IGFzIFNvdXJjZUNoYXJhY3RlckRpY3Rpb25hcnlFbnRyeV0pO1xufVxuZnVuY3Rpb24gUGFzc291dEVuYWJsZWQoKTogYm9vbGVhblxue1xuICAgIHJldHVybiAoUGxheWVyVlBDKCkuZW5hYmxlZFxuICAgICAgJiYgUGxheWVyVlAoKS5zbGVlcEhvdXJzICE9PSAwXG4gICAgICAmJiBQbGF5ZXJWUEMoKS5wYXNzb3V0KTtcbn1cbmZ1bmN0aW9uIElzUGFzc2VkT3V0KCk6IGJvb2xlYW5cbntcbiAgICByZXR1cm4gKFBhc3NvdXRFbmFibGVkKClcbiAgICAgICYmICghZ2xvYmFsVGhpcz8uTFNTRyB8fCAhUGxheWVyVlBDKCkucGFzc291dExTQ0cpXG4gICAgICAmJiBwYXNzZWRPdXQgPT09IFBBU1NFRF9PVVQuTVBBKTtcbn1cblxubGV0IGFmZmVjdGlvbkNoZWNrSW50ZXJ2YWw6IG51bWJlcjtcbmNvbnN0IHNraWxsRHVyYXRpb25NUyA9IDE1MDAwO1xuZnVuY3Rpb24gQWZmZWN0aW9uU2tpbGxDaGVjaygpOiB2b2lkXG57XG4gICAgaWYgKFxuICAgICAgICAhUGxheWVyVlAoKS5lbmFibGVkXG4gICAgICAgIHx8IFBsYXllclZQKCkuYWZmZWN0aW9uSG91cnMgPT09IDBcbiAgICAgICAgfHwgIVBsYXllclZQQygpLmVuYWJsZWRcbiAgICApXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgQUZGRUNUSU9OX1NLSUxMUy5mb3JFYWNoKChbc2tpbGwsIHR5cGVdKSA9PlxuICAgIHtcbiAgICAgICAgY29uc3QgYWZmZWN0aW9uID0gR2V0Q2hhcmFjdGVyQ3VycmVudFN0YXRWYWx1ZShQbGF5ZXIsIFwiYWZmZWN0aW9uXCIpO1xuICAgICAgICBjb25zdCBhZmZlY3Rpb25Nb2RpZmllciA9IE1hdGgucm91bmQoKCgoYWZmZWN0aW9uKSAqICg1IC0gKC01KSkpIC8gKDEpICsgKC01KSkgKiAodHlwZSA/IDEgOiAtMSkgKiAxMDApIC8gMTAwO1xuXG4gICAgICAgIGNvbnN0IHByZXZNb2QgPSBTa2lsbEdldE1vZGlmaWVyKFBsYXllciwgc2tpbGwpO1xuICAgICAgICBjb25zdCBkdXJhdGlvbiA9IFNraWxsR2V0TW9kaWZpZXJEdXJhdGlvbihQbGF5ZXIsIHNraWxsKSAhPT0gMCA/IFNraWxsR2V0TW9kaWZpZXJEdXJhdGlvbihQbGF5ZXIsIHNraWxsKSA6IHNraWxsRHVyYXRpb25NUztcbiAgICAgICAgaWYgKGFmZmVjdGlvbk1vZGlmaWVyID4gMCAmJiBQbGF5ZXJWUEMoKS5hZmZlY3Rpb25Ta2lsbEJ1ZmZzKVxuICAgICAgICB7XG4gICAgICAgICAgICBTa2lsbFNldE1vZGlmaWVyKFBsYXllciwgc2tpbGwsIHByZXZNb2QgKyBhZmZlY3Rpb25Nb2RpZmllciwgZHVyYXRpb24sIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWZmZWN0aW9uTW9kaWZpZXIgPCAwICYmIFBsYXllclZQQygpLmFmZmVjdGlvblNraWxsRGVidWZmcylcbiAgICAgICAge1xuICAgICAgICAgICAgU2tpbGxTZXRNb2RpZmllcihQbGF5ZXIsIHNraWxsLCBwcmV2TW9kICsgYWZmZWN0aW9uTW9kaWZpZXIsIGR1cmF0aW9uLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuY29uc3QgTUFYX1NMT1dfTEVBVkVfRFVSQVRJT05fU0VDID0gMjU7XG5jb25zdCBTTE9XX0xFQVZFX0xFVkVMX1NUQVJUID0gMC4zO1xuXG5jb25zdCBPUkdBU01fV0FURVJfRFJBSU4gPSAtMC4wNTtcbmNvbnN0IE9SR0FTTV9TTEVFUF9EUkFJTiA9IC0wLjA1O1xuXG5leHBvcnQgY2xhc3MgVmlydHVhbFBldENvbmRpdGlvbnNNb2R1bGUgZXh0ZW5kcyBNb2R1bGVcbntcbiAgICBnZXQgVGl0bGUoKTogTW9kdWxlVGl0bGVcbiAgICB7XG4gICAgICAgIHJldHVybiBNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9ucztcbiAgICB9XG5cbiAgICBnZXQgU2V0dGluZ3MoKTogU2V0dGluZ1tdXG4gICAge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiZW5hYmxlZFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQgJiYgIUlzSGFyZGNvcmVPbihDKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiUmVjaXZlIGNvbmRpdGlvbnMgYmFzZWQgb24gY3VycmVudCBsZXZlbCBvZiB5b3VyIHZpcnR1YWwgcGV0IHN0YXRzXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJmb29kTk9XXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCAmJiAhIVBsYXllclZQQyhDKS5lbmFibGVkICYmICFJc0hhcmRjb3JlT24oQyksXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiRm9vZCBhbmQgd2F0ZXIgYWZmZWN0cyBhZmZlY3Rpb24gZ2FpblwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwidGludFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQgJiYgISFQbGF5ZXJWUEMoQykuZW5hYmxlZCAmJiAhSXNIYXJkY29yZU9uKEMpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIlZpc2lvbiBkYXJrZW5zIGFzIHlvdSBnZXQgc2xlZXBpZXJcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInBhc3NvdXRcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkICYmICEhUGxheWVyVlBDKEMpLmVuYWJsZWQgJiYgIUlzSGFyZGNvcmVPbihDKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJQYXNzb3V0IHdoZW4gZXhoYXVzdGVkXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJwYXNzb3V0TFNDR1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQgJiYgISFQbGF5ZXJWUEMoQykuZW5hYmxlZCAmJiAhIVBsYXllclZQQyhDKS5wYXNzb3V0ICYmICEhQy5MU0NHLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJVc2UgTFNDRyBwYXNzb3V0IGluc3RlYWQgb2YgTVBBOyBSZXF1aXJlcyBMU0NHXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJhZmZlY3Rpb25Ta2lsbEJ1ZmZzXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCAmJiAhIVBsYXllclZQQyhDKS5lbmFibGVkICYmICFJc0hhcmRjb3JlT24oQyksXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWZmZWN0aW9uIHdpbGwgYnVmZiBza2lsbHMgYmFzZWQgb24gaXRzIGxldmVsXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJhZmZlY3Rpb25Ta2lsbERlYnVmZnNcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkICYmICEhUGxheWVyVlBDKEMpLmVuYWJsZWQgJiYgIUlzSGFyZGNvcmVPbihDKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBZmZlY3Rpb24gd2lsbCBkZWJ1ZmYgc2tpbGxzIGJhc2VkIG9uIGl0cyBsZXZlbFwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiaGVhcmluZ0xvc3NcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkICYmICEhUGxheWVyVlBDKEMpLmVuYWJsZWQgJiYgIUlzSGFyZGNvcmVPbihDKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJIZWFyaW5nIGJlY29tZXMgaGFyZGVyIHRoZSBodW5ncmllciB5b3UgYXJlXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJzbG93TGVhdmVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkICYmICEhUGxheWVyVlBDKEMpLmVuYWJsZWQgJiYgIUlzSGFyZGNvcmVPbihDKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJUYWtlcyBsb25nZXIgdG8gbGVhdmUgdGhlIHJvb20gd2hlbiBodW5ncnlcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIm9yZ2FzbVdhdGVyXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCAmJiAhIVBsYXllclZQQyhDKS5lbmFibGVkICYmICFJc0hhcmRjb3JlT24oQyksXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiT3JnYXNtcyBtYWtlIHlvdSBsb3NlIHNvbWUgaHlkcmF0aW9uXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJvcmdhc21TbGVlcFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQgJiYgISFQbGF5ZXJWUEMoQykuZW5hYmxlZCAmJiAhSXNIYXJkY29yZU9uKEMpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIk9yZ2FzbXMgbWFrZSB5b3UgbG9zZSBzb21lIGVuZXJneVwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZ1xuICAgICAgICBdO1xuICAgIH1cblxuICAgIExvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgLy8gQ2hlY2sgZm9yIGNvbmRpdGlvbiBjaGFuZ2VzIGV2ZXJ5IHNvIG9mdGVuXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIkdhbWVSdW5cIiwgMCwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChzdGF0Q291bnQgPj0gU1RBVF9DT1VOVF9NQVgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgQ29uZGl0aW9uQ2hlY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXRDb3VudCsrO1xuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEVlcHkgdGludFxuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJQbGF5ZXIuR2V0VGludHNcIiwgMCwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIE5vdCBlbmFibGVkLCBza2lwXG4gICAgICAgICAgICBpZiAoIUNvbmRpdGlvbklzRW5mb3JjZWQoXCJ0aW50XCIsIFNMRUVQX1RJTlQuc3RhdCkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGN1cnJMZXZlbCA9IEdldENoYXJhY3RlckN1cnJlbnRTdGF0VmFsdWUoUGxheWVyLCBTTEVFUF9USU5ULnN0YXQpO1xuICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBzY2FsZWQgdmFsdWVcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlZFZhbHVlID0gKChjdXJyTGV2ZWwgLSBTTEVFUF9USU5ULnN0YXJ0TGV2ZWwpIC8gKFNMRUVQX1RJTlQuZW5kTGV2ZWwgLSBTTEVFUF9USU5ULnN0YXJ0TGV2ZWwpKSAqIChTTEVFUF9USU5ULm1heFRpbnQgLSBTTEVFUF9USU5ULm1pblRpbnQpICsgU0xFRVBfVElOVC5taW5UaW50O1xuICAgICAgICAgICAgaWYgKFNMRUVQX1RJTlQubWluVGludCA8PSBzY2FsZWRWYWx1ZSAmJiBzY2FsZWRWYWx1ZSA8PSBTTEVFUF9USU5ULm1heFRpbnQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncykuY29uY2F0KHsgcjogMCwgZzogMCwgYjogMCwgYTogTWF0aC5zcXJ0KE1hdGgucm91bmQoc2NhbGVkVmFsdWUgKiAxMDAwKSAvIDEwMDApIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEFkZCBjb25kaXRpb24gdHJpZ2dlcnNcbiAgICAgICAgb25TdGF0TGV2ZWwgPSBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdDogXCJzbGVlcFwiLFxuICAgICAgICAgICAgICAgIHRocmVzaGhvbGQ6IDAsXG4gICAgICAgICAgICAgICAgY2hhbmdlOiBcImZhbGxpbmdcIixcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uICgpOiB2b2lkXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBNUEFQYXNzb3V0KCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmaXJzdFJ1bjogZnVuY3Rpb24gKCk6IHZvaWRcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChHZXRDaGFyYWN0ZXJDdXJyZW50U3RhdFZhbHVlKFBsYXllciwgXCJzbGVlcFwiKSA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgTVBBUGFzc291dCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHN0YXQ6IFwic2xlZXBcIixcbiAgICAgICAgICAgICAgICB0aHJlc2hob2xkOiAwLjEsXG4gICAgICAgICAgICAgICAgY2hhbmdlOiBcInJpc2luZ1wiLFxuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKCk6IHZvaWRcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXNzZWRPdXQgIT09IFBBU1NFRF9PVVQuTk9UKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBNUEFXYWtldXAoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICAgICAgLy8gRWVweVxuXG4gICAgICAgIC8vIFBhc3NvdXQgSG9va3NcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiUGxheWVyLkNhblRhbGtcIiwgNSwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBJc1Bhc3NlZE91dCgpID8gZmFsc2UgOiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiUGxheWVyLkNhbldhbGtcIiwgNSwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBJc1Bhc3NlZE91dCgpID8gZmFsc2UgOiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiUGxheWVyLkNhbkNoYW5nZU93bkNsb3RoZXNcIiwgNSwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBJc1Bhc3NlZE91dCgpID8gZmFsc2UgOiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiUGxheWVyLkNhbkludGVyYWN0XCIsIDUsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gSXNQYXNzZWRPdXQoKSA/IGZhbHNlIDogbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIlNlcnZlclNlbmRcIiwgNSwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghSXNQYXNzZWRPdXQoKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgW3R5cGUsIGRhdGFdID0gYXJncyBhcyBbc3RyaW5nLCBTZXJ2ZXJDaGF0Um9vbU1lc3NhZ2VdO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHR5cGUgPT0gXCJDaGF0Um9vbUNoYXRcIlxuICAgICAgICAgICAgICAgICYmIGRhdGE/LlR5cGUgPT0gXCJDaGF0XCJcbiAgICAgICAgICAgICAgICAmJiAhZGF0YT8uQ29udGVudC5zdGFydHNXaXRoKFwiKFwiKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFNlbmRBY3Rpb24oUmFuZG9tRWxlbWVudChQQVNTT1VUX1RBTEtfUkVQTEFDRSkgYXMgc3RyaW5nLCB1bmRlZmluZWQsIFt7IFNvdXJjZUNoYXJhY3RlcjogUGxheWVyLk1lbWJlck51bWJlciB9IGFzIFNvdXJjZUNoYXJhY3RlckRpY3Rpb25hcnlFbnRyeV0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJQbGF5ZXIuR2V0RGVhZkxldmVsXCIsIDUsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gSXNQYXNzZWRPdXQoKSA/IDQgOiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiUGxheWVyLkdldEJsaW5kTGV2ZWxcIiwgNSwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBJc1Bhc3NlZE91dCgpID8gKFBsYXllci5HYW1lcGxheVNldHRpbmdzPy5TZW5zRGVwQ2hhdExvZyA9PT0gXCJTZW5zRGVwRXh0cmVtZVwiIHx8IFBsYXllci5HYW1lcGxheVNldHRpbmdzPy5TZW5zRGVwQ2hhdExvZyA9PT0gXCJTZW5zRGVwVG90YWxcIikgPyAzIDogMiA6IG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJDaGF0Um9vbUNoYXJhY3RlclVwZGF0ZVwiLCA1LCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgY2hhciA9IGFyZ3NbMF07XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgY2hhci5Jc1BsYXllcigpXG4gICAgICAgICAgICAgICAgJiYgcGFzc2VkT3V0ID09PSBQQVNTRURfT1VULkxTQ0dcbiAgICAgICAgICAgICAgICAmJiBnbG9iYWxUaGlzLkxTQ0c/LmdldE1vZHVsZShcIlN0YXRlTW9kdWxlXCIpPy5TbGVlcFN0YXRlPy5BY3RpdmUgPT09IGZhbHNlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHBhc3NlZE91dCA9IFBBU1NFRF9PVVQuTk9UO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIENhbid0IGZvY3VzIHdoaWxlIGh1bmdyeSAoZGVhZilcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiUGxheWVyLkdldERlYWZMZXZlbFwiLCA1LCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgZGVhZkxldmVsID0gQ29uZGl0aW9uSXNFbmZvcmNlZChcImhlYXJpbmdMb3NzXCIsIFwiZm9vZFwiKSA/IE1hdGgubWF4KDAsIE1hdGguZmxvb3IoKEdldENoYXJhY3RlckN1cnJlbnRTdGF0VmFsdWUoUGxheWVyLCBcImZvb2RcIikgLSAwLjMwMDEpICogLTEwKSkgOiAwO1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgubWF4KGRlYWZMZXZlbCwgbmV4dChhcmdzKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEFmZmVjdGlvbiBhZmZlY3Qgc2tpbGxzXG4gICAgICAgIGlmIChTa2lsbE1vZGlmaWVyTWF4IDwgMTApXG4gICAgICAgIHtcbiAgICAgICAgICAgIFNraWxsTW9kaWZpZXJNYXggPSAxMDtcbiAgICAgICAgfVxuICAgICAgICBBZmZlY3Rpb25Ta2lsbENoZWNrKCk7XG4gICAgICAgIGFmZmVjdGlvbkNoZWNrSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChBZmZlY3Rpb25Ta2lsbENoZWNrLCBza2lsbER1cmF0aW9uTVMgKyAxMDAwKTtcblxuICAgICAgICAvLyBTbG93IGxlYXZlXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIkNoYXRSb29tQXR0ZW1wdExlYXZlXCIsIDAsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIUNvbmRpdGlvbklzRW5mb3JjZWQoXCJzbG93TGVhdmVcIiwgXCJmb29kXCIpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBwcmV2U2xvdyA9IENoYXRSb29tU2xvd3RpbWVyO1xuICAgICAgICAgICAgY29uc3QgY3VyckZvb2QgPSBHZXRDaGFyYWN0ZXJDdXJyZW50U3RhdFZhbHVlKFBsYXllciwgXCJmb29kXCIpO1xuICAgICAgICAgICAgbmV4dChhcmdzKTtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBwcmV2U2xvdyA9PT0gMFxuICAgICAgICAgICAgICAgICYmIENoYXRSb29tU2xvd3RpbWVyID4gMFxuICAgICAgICAgICAgICAgICYmIGN1cnJGb29kIDw9IFNMT1dfTEVBVkVfTEVWRUxfU1RBUlRcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzbG93ZWRTcGVlZCA9ICgoKC1NQVhfU0xPV19MRUFWRV9EVVJBVElPTl9TRUMgLyBTTE9XX0xFQVZFX0xFVkVMX1NUQVJUKSAqIGN1cnJGb29kKSArIE1BWF9TTE9XX0xFQVZFX0RVUkFUSU9OX1NFQykgKiAxMDAwO1xuICAgICAgICAgICAgICAgIENoYXRSb29tU2xvd3RpbWVyID0gQ3VycmVudFRpbWUgKyBDaGF0Um9vbVNsb3dMZWF2ZU1pblRpbWUgKyBzbG93ZWRTcGVlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIlBsYXllci5Jc1Nsb3dcIiwgMCwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiAoQ29uZGl0aW9uSXNFbmZvcmNlZChcInNsb3dMZWF2ZVwiLCBcImZvb2RcIikgJiYgR2V0Q2hhcmFjdGVyQ3VycmVudFN0YXRWYWx1ZShQbGF5ZXIsIFwiZm9vZFwiKSA8PSBTTE9XX0xFQVZFX0xFVkVMX1NUQVJUKSA/IHRydWUgOiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBPbiBvcmdhc21cbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiQ2hhdFJvb21NZXNzYWdlXCIsIDEwLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGFyZ3NbMF07XG4gICAgICAgICAgICBpZiAoZGF0YS5UeXBlICE9PSBcIkFjdGl2aXR5XCJcbiAgICAgICAgICAgICAgfHwgIU9SR0FTTV9BQ1RJVklUWV9SRUdFWC50ZXN0KGRhdGEuQ29udGVudClcbiAgICAgICAgICAgICAgfHwgR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiU291cmNlQ2hhcmFjdGVyXCIpICE9PSBQbGF5ZXIuTWVtYmVyTnVtYmVyKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoUGxheWVyVlBDKCkub3JnYXNtV2F0ZXIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgTW9kaWZ5U3RhdChcIndhdGVyXCIsIE9SR0FTTV9XQVRFUl9EUkFJTiwgZmFsc2UsIHRydWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoUGxheWVyVlBDKCkub3JnYXNtU2xlZXApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgTW9kaWZ5U3RhdChcInNsZWVwXCIsIE9SR0FTTV9TTEVFUF9EUkFJTiwgZmFsc2UsIHRydWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgVW5sb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLlVubG9hZCgpO1xuICAgICAgICBvblN0YXRMZXZlbCA9IFtdO1xuICAgICAgICBjbGVhckludGVydmFsKGFmZmVjdGlvbkNoZWNrSW50ZXJ2YWwpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEhvb2tGdW5jdGlvbiB9IGZyb20gXCIuLi91dGlsL3Nka1wiO1xuaW1wb3J0IHsgSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cCB9IGZyb20gXCIuLi91dGlsL2F1dGhvcml0eVwiO1xuaW1wb3J0IHsgTW9kdWxlLCBNb2R1bGVUaXRsZSB9IGZyb20gXCIuL19tb2R1bGVcIjtcbmltcG9ydCB7IEdldENoYXJhY3RlckN1cnJlbnRTdGF0VmFsdWUsIFZpcnR1YWxQZXRTdGF0Q2F0ZWdvcnksIHR5cGUgVmlydHVhbFBldFN0YXQgfSBmcm9tIFwiLi92aXJ0dWFsUGV0XCI7XG5pbXBvcnQgeyBMb2NhbGl6ZWRUZXh0IH0gZnJvbSBcIi4uL2xvY2FsaXphdGlvbi9sb2NhbGl6YXRpb25cIjtcblxuY29uc3QgUGxheWVyVlA6ICgpID0+IE1QQVJlY29yZCA9ICgpID0+XG57XG4gICAgcmV0dXJuIFBsYXllci5NUEFbTW9kdWxlVGl0bGUuVmlydHVhbFBldF07XG59O1xuY29uc3QgUGxheWVyVlBIVUQ6ICgpID0+IE1QQVJlY29yZCA9ICgpID0+XG57XG4gICAgcmV0dXJuIFBsYXllci5NUEFbTW9kdWxlVGl0bGUuVmlydHVhbFBldEhVRF07XG59O1xuXG5jb25zdCBWUF9TVEFUX0NPTE9SX0RJQ1QgPSB7XG4gICAgZm9vZDogXCIjZjJiYjE4XCIsXG4gICAgd2F0ZXI6IFwiIzJhOWZjM1wiLFxuICAgIHNsZWVwOiBcIiM4ZDJhZWVcIixcbiAgICBhZmZlY3Rpb246IFwiI2ZmNzhmMlwiXG59O1xuXG5mdW5jdGlvbiBEcmF3U3RhdENpcmNsZSh4OiBudW1iZXIsIHk6IG51bWJlciwgcmFkaXVzOiBudW1iZXIsIHN0YXQ6IFZpcnR1YWxQZXRTdGF0KTogdm9pZFxue1xuICAgIGNvbnN0IGNvbG9yID0gVlBfU1RBVF9DT0xPUl9ESUNUW3N0YXQuc3RhdF07XG5cbiAgICAvLyBPdXRlciBjaXJjbGVcbiAgICBNYWluQ2FudmFzLmJlZ2luUGF0aCgpO1xuICAgIE1haW5DYW52YXMuYXJjKFxuICAgICAgICB4LFxuICAgICAgICB5LFxuICAgICAgICByYWRpdXMsXG4gICAgICAgIDAsXG4gICAgICAgIDIgKiBNYXRoLlBJLFxuICAgICAgICB0cnVlXG4gICAgKTtcbiAgICBNYWluQ2FudmFzLmxpbmVXaWR0aCA9IHJhZGl1cyAvIDg7XG4gICAgTWFpbkNhbnZhcy5zdHJva2VTdHlsZSA9IGNvbG9yO1xuICAgIE1haW5DYW52YXMuc3Ryb2tlKCk7XG5cbiAgICAvLyBJbm5lciBhcmNcbiAgICBNYWluQ2FudmFzLmJlZ2luUGF0aCgpO1xuICAgIE1haW5DYW52YXMuYXJjKFxuICAgICAgICB4LFxuICAgICAgICB5LFxuICAgICAgICByYWRpdXMsXG4gICAgICAgIC1NYXRoLlBJIC8gMixcbiAgICAgICAgKDIgKiBNYXRoLlBJICogLXN0YXQubGV2ZWwpIC0gKE1hdGguUEkgLyAyKSxcbiAgICAgICAgdHJ1ZVxuICAgICk7XG4gICAgTWFpbkNhbnZhcy5saW5lVG8oeCwgeSk7XG4gICAgTWFpbkNhbnZhcy5maWxsU3R5bGUgPSBjb2xvcjtcbiAgICBNYWluQ2FudmFzLmZpbGwoKTtcblxuICAgIC8vIERpc3BsYXkgdGhlIHRleHRcbiAgICBpZiAoUGxheWVyVlBIVUQoKS5leGFjdFN0YXRzKVxuICAgIHtcbiAgICAgICAgY29uc3QgcHJldkZvbnQgPSBNYWluQ2FudmFzLmZvbnQ7XG4gICAgICAgIE1haW5DYW52YXMuZm9udCA9IENvbW1vbkdldEZvbnQocmFkaXVzICogMS4yNSk7XG5cbiAgICAgICAgLy8gU2V0IHVwIG91dGxpbmVcbiAgICAgICAgTWFpbkNhbnZhcy5saW5lV2lkdGggPSAyOyAvLyBhZGp1c3QgYXMgbmVlZGVkXG4gICAgICAgIE1haW5DYW52YXMuc3Ryb2tlU3R5bGUgPSBcIiMwMDAwMDBcIjtcbiAgICAgICAgTWFpbkNhbnZhcy5zdHJva2VUZXh0KE1hdGgucm91bmQoc3RhdC5sZXZlbCAqIDEwMCkudG9TdHJpbmcoKSwgeCwgeSArIChyYWRpdXMgKiAwLjEyNSkpO1xuXG4gICAgICAgIC8vIEZpbGwgdGhlIHRleHRcbiAgICAgICAgTWFpbkNhbnZhcy5maWxsU3R5bGUgPSBcIiNmZmZmZmZcIjsgLy8gb3IgYW55IGZpbGwgY29sb3IgeW91IHdhbnRcbiAgICAgICAgTWFpbkNhbnZhcy5maWxsVGV4dChNYXRoLnJvdW5kKHN0YXQubGV2ZWwgKiAxMDApLnRvU3RyaW5nKCksIHgsIHkgKyAocmFkaXVzICogMC4xMjUpKTtcbiAgICAgICAgTWFpbkNhbnZhcy5mb250ID0gcHJldkZvbnQ7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBEcmF3U3RhdFRvb2x0aXAoeDogbnVtYmVyLCB5OiBudW1iZXIsIHJhZGl1czogbnVtYmVyLCBzdGF0OiBWaXJ0dWFsUGV0U3RhdClcbntcbiAgICBpZiAoTW91c2VJbih4IC0gcmFkaXVzLCB5IC0gcmFkaXVzLCByYWRpdXMgKiAyLCByYWRpdXMgKiAyKSlcbiAgICB7XG4gICAgICAgIGNvbnN0IHN0YXROYW1lID0gTG9jYWxpemVkVGV4dChzdGF0LnN0YXQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdGF0LnN0YXQuc2xpY2UoMSkpO1xuICAgICAgICBjb25zdCB0b290aXBUZXh0ID0gYCR7c3RhdE5hbWV9OiAke01hdGgucm91bmQoc3RhdC5sZXZlbCAqIDEwMCl9JWA7XG5cbiAgICAgICAgY29uc3QgcHJldlRleHRBbGlnbiA9IE1haW5DYW52YXMudGV4dEFsaWduO1xuICAgICAgICBjb25zdCBwcmV2Rm9udCA9IE1haW5DYW52YXMuZm9udDtcblxuICAgICAgICBNYWluQ2FudmFzLnRleHRBbGlnbiA9IFwibGVmdFwiO1xuICAgICAgICBNYWluQ2FudmFzLmZvbnQgPSBDb21tb25HZXRGb250KDI2KTtcblxuICAgICAgICBjb25zdCBwYWQgPSA1O1xuICAgICAgICBjb25zdCBwb3M6IFwiTGVmdFwiIHwgXCJDZW50ZXJcIiB8IFwiUmlnaHRcIiB8IFwiU3BsaXRcIiA9IFBsYXllclZQSFVEKCkucG9zaXRpb247XG4gICAgICAgIGNvbnN0IHNpemUgPSBNYWluQ2FudmFzLm1lYXN1cmVUZXh0KHRvb3RpcFRleHQpO1xuICAgICAgICBjb25zdCB3aWR0aCA9IHNpemUuYWN0dWFsQm91bmRpbmdCb3hSaWdodCAtIHNpemUuYWN0dWFsQm91bmRpbmdCb3hMZWZ0ICsgMiAqIHBhZDtcbiAgICAgICAgY29uc3QgaGVpZ2h0ID0gc2l6ZS5hY3R1YWxCb3VuZGluZ0JveERlc2NlbnQgKyBzaXplLmFjdHVhbEJvdW5kaW5nQm94QXNjZW50ICsgMiAqIHBhZDtcblxuICAgICAgICBsZXQgVGV4dFggPSB4O1xuICAgICAgICBsZXQgVGV4dFkgPSB5O1xuXG4gICAgICAgIC8vIEFkanVzdCBwb3NpdGlvbiBiYXNlZCBvbiBIVUQgcG9zaXRpb25cbiAgICAgICAgc3dpdGNoIChwb3MpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNhc2UgXCJMZWZ0XCI6XG4gICAgICAgICAgICAgICAgVGV4dFggPSB4ICsgcGFkO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIkNlbnRlclwiOlxuICAgICAgICAgICAgY2FzZSBcIlNwbGl0XCI6XG4gICAgICAgICAgICAgICAgVGV4dFggPSB4IC0gd2lkdGggLyAyO1xuICAgICAgICAgICAgICAgIFRleHRZID0gVGV4dFkgLSBoZWlnaHQ7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiUmlnaHRcIjpcbiAgICAgICAgICAgICAgICBUZXh0WCA9IHggLSB3aWR0aDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIFRleHRZID0gVGV4dFkgLSBzaXplLmFjdHVhbEJvdW5kaW5nQm94QXNjZW50O1xuXG4gICAgICAgIERyYXdSZWN0KFRleHRYIC0gcGFkICsgMywgVGV4dFkgLSBwYWQgKyAzLCB3aWR0aCwgaGVpZ2h0LCBcInJnYmEoMCwgMCwgMCwgLjcpXCIpO1xuICAgICAgICBEcmF3UmVjdChUZXh0WCAtIHBhZCwgVGV4dFkgLSBwYWQsIHdpZHRoLCBoZWlnaHQsIFwiI0Q3RjZFOVwiKTtcbiAgICAgICAgRHJhd1RleHRGaXQodG9vdGlwVGV4dCwgVGV4dFgsIFRleHRZICsgcGFkICogMiwgc2l6ZS53aWR0aCwgXCJCbGFja1wiKTtcblxuICAgICAgICBNYWluQ2FudmFzLnRleHRBbGlnbiA9IHByZXZUZXh0QWxpZ247XG4gICAgICAgIE1haW5DYW52YXMuZm9udCA9IHByZXZGb250O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gRHJhd1ZpcnVhbFBldEh1ZCh4OiBudW1iZXIsIHk6IG51bWJlciwgem9vbTogbnVtYmVyLCBzdGF0czogVmlydHVhbFBldFN0YXRbXSk6IHZvaWRcbntcbiAgICBjb25zdCBwb3M6IFwiTGVmdFwiIHwgXCJDZW50ZXJcIiB8IFwiUmlnaHRcIiB8IFwiU3BsaXRcIiA9IFBsYXllclZQSFVEKCkucG9zaXRpb247XG5cbiAgICB0eXBlIFBvc2l0aW9uZWRTdGF0ID0ge1xuICAgICAgICBzdGF0OiBWaXJ0dWFsUGV0U3RhdDtcbiAgICAgICAgeDogbnVtYmVyO1xuICAgICAgICB5OiBudW1iZXI7XG4gICAgfTtcblxuICAgIGNvbnN0IGNpcmNsZXM6IFBvc2l0aW9uZWRTdGF0W10gPSBbXTtcblxuICAgIGlmIChwb3MgPT09IFwiTGVmdFwiIHx8IHBvcyA9PT0gXCJSaWdodFwiKVxuICAgIHtcbiAgICAgICAgY29uc3QgYmFzZVggPSB4ICsgKHBvcyA9PT0gXCJMZWZ0XCIgPyA4MCA6IDQyMCkgKiB6b29tO1xuICAgICAgICBjb25zdCByZXZlcnNlZFN0YXRzID0gWy4uLnN0YXRzXS5yZXZlcnNlKCk7XG4gICAgICAgIHJldmVyc2VkU3RhdHMuZm9yRWFjaCgoc3RhdCwgaW5kZXgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNpcmNsZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgc3RhdDogc3RhdCxcbiAgICAgICAgICAgICAgICB4OiBiYXNlWCxcbiAgICAgICAgICAgICAgICB5OiB5ICsgKDk1MCAtIChpbmRleCAqIDM2KSkgKiB6b29tXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHBvcyA9PT0gXCJDZW50ZXJcIilcbiAgICB7XG4gICAgICAgIGNvbnN0IHN0YXRMZW4gPSBzdGF0cy5sZW5ndGg7XG4gICAgICAgIHN0YXRzLmZvckVhY2goKHN0YXQsIGluZGV4KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjaXJjbGVzLnB1c2goe1xuICAgICAgICAgICAgICAgIHN0YXQ6IHN0YXQsXG4gICAgICAgICAgICAgICAgeDogeCArICgyNTAgLSAoKHN0YXRMZW4gLSAxKSAqIDE4KSArIChpbmRleCAqIDM2KSkgKiB6b29tLFxuICAgICAgICAgICAgICAgIHk6IHkgKyAoOTUwICogem9vbSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gUHJvYmFibHkgYSBiZXR0ZXIgd2F5IHRvIGRvIHRoaXMsIGJ1dCBJIGRvbid0IGNhcmUuIEl0IHdvcmtzIHRoYXRzIGFsbCBJIG5lZWQuXG4gICAgZWxzZSBpZiAocG9zID09PSBcIlNwbGl0XCIpXG4gICAge1xuICAgICAgICBjb25zdCBjb2xzOiBWaXJ0dWFsUGV0U3RhdFtdW10gPSBbXTtcbiAgICAgICAgc3dpdGNoIChzdGF0cy5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBjb2xzLnB1c2goW3N0YXRzWzBdXSwgW10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIGNvbHMucHVzaChbc3RhdHNbMF1dLCBbc3RhdHNbMV1dKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBjb2xzLnB1c2goW3N0YXRzWzFdLCBzdGF0c1swXV0sIFtzdGF0c1syXV0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIGNvbHMucHVzaChbc3RhdHNbMV0sIHN0YXRzWzBdXSwgW3N0YXRzWzNdLCBzdGF0c1syXV0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjb2xzLmZvckVhY2goKGNvbCwgY29sSW5kZXgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGJhc2VYID0geCArIChjb2xJbmRleCA9PT0gMCA/IDgwIDogNDIwKSAqIHpvb207XG4gICAgICAgICAgICBjb2wuZm9yRWFjaCgoc3RhdCwgc3RhdEluZGV4KSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNpcmNsZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHN0YXQ6IHN0YXQsXG4gICAgICAgICAgICAgICAgICAgIHg6IGJhc2VYLFxuICAgICAgICAgICAgICAgICAgICB5OiB5ICsgKDk1MCAtIHN0YXRJbmRleCAqIDM2KSAqIHpvb21cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBEcmF3IGFsbCBjaXJjbGVzXG4gICAgY2lyY2xlcy5mb3JFYWNoKCh7IHN0YXQsIHgsIHkgfSkgPT5cbiAgICB7XG4gICAgICAgIERyYXdTdGF0Q2lyY2xlKHgsIHksIDE2ICogem9vbSwgc3RhdCk7XG4gICAgfSk7XG5cbiAgICAvLyBEcmF3IGFsbCB0b29sdGlwcyBhZnRlclxuICAgIGNpcmNsZXMuZm9yRWFjaCgoeyBzdGF0LCB4LCB5IH0pID0+XG4gICAge1xuICAgICAgICBEcmF3U3RhdFRvb2x0aXAoeCwgeSwgMTYgKiB6b29tLCBzdGF0KTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gU2hvdWxkRHJhd0h1ZDxUIGV4dGVuZHMgdHlwZW9mIERyYXdBcm91c2FsTWV0ZXIgfCB0eXBlb2YgRHJhd0NoYXJhY3Rlcj4oXG4gICAgYXJnczogUGFyYW1ldGVyczxUPixcbiAgICBuZXh0OiBhbnlcbilcbntcbiAgICBjb25zdCBvdXRwdXQgPSBuZXh0KGFyZ3MpO1xuICAgIGNvbnN0IFtjaGFyYWN0ZXIsIHgsIHksIHpvb21dID0gYXJncztcbiAgICAvLyBHZXQgY2hhcmFjdGVyIHN0YXRzIHdoZW4gc3VwcG9ydCBmb3IgbXVsdHBsYXllclxuICAgIGlmIChcbiAgICAgICAgIUFjdGl2aXR5QWxsb3dlZCgpXG4gICAgICAgIHx8IChjaGFyYWN0ZXIuSXNQbGF5ZXIoKSAmJiAoIVBsYXllclZQSFVEKCkuc2VsZiB8fCAhUGxheWVyVlAoKS5lbmFibGVkKSlcbiAgICAgICAgfHwgKCFjaGFyYWN0ZXIuSXNQbGF5ZXIoKSAmJiBQbGF5ZXJWUEhVRCgpLm90aGVycyA9PT0gXCJPZmZcIilcbiAgICAgICAgfHwgKCFjaGFyYWN0ZXIuSXNQbGF5ZXIoKSAmJiAhSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cChjaGFyYWN0ZXIuTWVtYmVyTnVtYmVyIGFzIG51bWJlciwgUGxheWVyVlBIVUQoKS5vdGhlcnMpKVxuICAgIClcbiAgICB7XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfVxuXG4gICAgLy8gR2V0IHRoZSBzdGF0cyBmb3IgdGhlIGNoYXJhY3Rlciwgbm90IGp1c3QgdGhlIHBsYXllclxuICAgIGNvbnN0IGNoYXJhY3RlclZQU3RhdHMgPSBjaGFyYWN0ZXI/Lk1QQT8uW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdO1xuICAgIGlmICghY2hhcmFjdGVyVlBTdGF0cz8uZW5hYmxlZClcbiAgICB7XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfVxuXG4gICAgY29uc3Qgc3RhdHM6IFZpcnR1YWxQZXRTdGF0W10gPSBbXTtcbiAgICAoW1wiZm9vZFwiLCBcIndhdGVyXCIsIFwic2xlZXBcIiwgXCJhZmZlY3Rpb25cIl0gYXMgVmlydHVhbFBldFN0YXRDYXRlZ29yeVtdKS5mb3JFYWNoKChzdGF0KSA9PlxuICAgIHtcbiAgICAgICAgaWYgKGNoYXJhY3RlclZQU3RhdHNbYCR7c3RhdH1Ib3Vyc2BdICE9PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBzdGF0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICBzdGF0OiBzdGF0LFxuICAgICAgICAgICAgICAgIGxldmVsOiBHZXRDaGFyYWN0ZXJDdXJyZW50U3RhdFZhbHVlKGNoYXJhY3Rlciwgc3RhdClcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgaWYgKHN0YXRzLmxlbmd0aCAhPT0gMClcbiAgICB7XG4gICAgICAgIERyYXdWaXJ1YWxQZXRIdWQoeCwgeSwgem9vbSwgc3RhdHMpO1xuICAgIH1cblxuICAgIHJldHVybiBvdXRwdXQ7XG59XG5cbmV4cG9ydCBjbGFzcyBWaXJ0dWFsUGV0SFVETW9kdWxlIGV4dGVuZHMgTW9kdWxlXG57XG4gICAgZ2V0IFRpdGxlKCk6IE1vZHVsZVRpdGxlXG4gICAge1xuICAgICAgICByZXR1cm4gTW9kdWxlVGl0bGUuVmlydHVhbFBldEhVRDtcbiAgICB9XG5cbiAgICBnZXQgU2V0dGluZ3MoKTogU2V0dGluZ1tdXG4gICAge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwic2VsZlwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+ICEhUGxheWVyVlAoKS5lbmFibGVkLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkRpc3BsYXkgeW91ciBvd24gdmlydHVhbCBwZXQgc3RhdHMgb24gdGhlIEhVRFwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiZXhhY3RTdGF0c1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+ICEhUGxheWVyVlAoKS5lbmFibGVkIHx8IFBsYXllclZQSFVEKCkub3RoZXJzICE9PSBcIk9mZlwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJEaXNwbGF5IHRoZSBleGFjdCBudW1iZXIgcGVyY2VudGFnZSBvbiB0aGUgSFVEXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJwb3NpdGlvblwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwib3B0aW9uXCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiAhIVBsYXllclZQKCkuZW5hYmxlZCB8fCBQbGF5ZXJWUEhVRCgpLm90aGVycyAhPT0gXCJPZmZcIixcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBbXCJMZWZ0XCIsIFwiQ2VudGVyXCIsIFwiUmlnaHRcIiwgXCJTcGxpdFwiXSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJMZWZ0XCIsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiV2hlcmUgdG8gZGlzcGxheSB0aGUgSFVEXCIsXG4gICAgICAgICAgICAgICAgbG9vcDogdHJ1ZVxuICAgICAgICAgICAgfSBhcyBPcHRpb25TZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJvdGhlcnNcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm9wdGlvblwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBbXCJPZmZcIiwgXCJQdWJsaWNcIiwgXCJGcmllbmRzXCIsIFwiV2hpdGVsaXN0XCIsIFwiTG92ZXJzXCIsIFwiT3duZXJzXCIsIFwiRC9zIEZhbWlseVwiLCBcIkNsdWJvd25lclwiXSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJGcmllbmRzXCIsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiRGlzcGxheSB0aGUgdmlydHVhbCBwZXQgc3RhdHMgb2Ygb3RoZXJzIG9uIHRoZSBIVURcIixcbiAgICAgICAgICAgICAgICBsb29wOiBmYWxzZVxuICAgICAgICAgICAgfSBhcyBPcHRpb25TZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJmb3JjZURyYXdcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiAhIVBsYXllclZQKCkuZW5hYmxlZCB8fCBQbGF5ZXJWUEhVRCgpLm90aGVycyAhPT0gXCJPZmZcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWx3YXlzIGRpc3BsYXkgdGhlIEhVRDsgT3ZlcnJpZGVzIEJDWCBydWxlIFxcXCJGb3JjZS1oaWRlIFVJIGVsZW1lbnRzXFxcIlwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZ1xuICAgICAgICBdO1xuICAgIH1cblxuICAgIExvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiRHJhd0Fyb3VzYWxNZXRlclwiLCAxLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKEN1cnJlbnRTY3JlZW4gIT09IFwiV2FyZHJvYmVcIiAmJiAhUGxheWVyVlBIVUQoKT8uZm9yY2VEcmF3KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBTaG91bGREcmF3SHVkKGFyZ3MsIG5leHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIkRyYXdDaGFyYWN0ZXJcIiwgMSwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChDdXJyZW50U2NyZWVuICE9PSBcIldhcmRyb2JlXCIgJiYgUGxheWVyVlBIVUQoKT8uZm9yY2VEcmF3KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBTaG91bGREcmF3SHVkKGFyZ3MsIG5leHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIFVubG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5VbmxvYWQoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUywgQXV0aG9yaXR5R3JvdXAsIElzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAgfSBmcm9tIFwiLi4vdXRpbC9hdXRob3JpdHlcIjtcbmltcG9ydCB7IE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4uL21vZHVsZXMvX21vZHVsZVwiO1xuaW1wb3J0IHsgTG9jYWxpemVkVGV4dCB9IGZyb20gXCIuLi9sb2NhbGl6YXRpb24vbG9jYWxpemF0aW9uXCI7XG5pbXBvcnQgeyBDQU5WQVNfV0lEVEgsIENsaWNrZWRQYWdlc0J1dHRvbnMsIERyYXdQYWdlc0J1dHRvbnMsIE9QVElPTl9CQUNLX05FWFRfV0lEVEgsIE9QVElPTl9HQVAsIE9QVElPTl9IRUlHSFQsIE9QVElPTl9UT1AsIE93bmVyQWRkZWQsIE93bmVyUmVtb3ZlZCwgU2V0U2V0dGluZ3NFZGl0ZWQgfSBmcm9tIFwiLi4vbW9kdWxlcy9zZXR0aW5nc1wiO1xuaW1wb3J0IHsgTWVtYmVyTnVtYmVyVG9OYW1lIH0gZnJvbSBcIi4uL3V0aWwvbWVzc2FnaW5nXCI7XG5cbmNvbnN0IGlkID0gXCJNUEFfb3duZXJJZEVudHJ5XCI7XG5cbmZ1bmN0aW9uIFBsYXllckF1dGgoQzogUGxheWVyQ2hhcmFjdGVyKVxue1xuICAgIHJldHVybiBDLk1QQVtNb2R1bGVUaXRsZS5BdXRob3JpdHldO1xufVxuXG5mdW5jdGlvbiBHZXRTZXR0aW5ncyhDOiBQbGF5ZXJDaGFyYWN0ZXIpXG57XG4gICAgcmV0dXJuIFBsYXllckF1dGgoQyk/LltPV05FUlNfQ1VTVE9NX1NFVFRJTkdTLm5hbWVdO1xufVxuXG5jb25zdCBPUFRJT05fT1RIRVJTID0gOTAwO1xuXG5jb25zdCBBRERfQ0hFQ0tCT1ggPSBbMjUwLCAyMDAsIDY0LCA2NF0gYXMgY29uc3Q7XG5jb25zdCBSRU1fQ0hFQ0tCT1ggPSBbMjUwLCAyNzQsIDY0LCA2NF0gYXMgY29uc3Q7XG5jb25zdCBBRERfT1dORVJfQlVUVE9OID0gWzI1MCwgMzQ4LCAxMjgsIDY0XSBhcyBjb25zdDtcbmNvbnN0IE9XTkVSX1RFWFRCT1ggPSBbMzg4LCAzNDgsIDI1NiwgNjRdIGFzIGNvbnN0O1xuXG5sZXQgY3VyUGFnZSA9IDE7XG5sZXQgbWF4UGFnZXMgPSAxO1xuXG5jb25zdCBNQVhfRU5UUklFU19QRVJfQ09MVU1OID0gMTQ7XG5jb25zdCBPV05FUl9YX1NUQVJUID0gMjUwO1xuY29uc3QgT1dORVJfWV9TVEFSVCA9IDQxMjtcblxuZnVuY3Rpb24gRHJhd0VudHJpZXMoQzogUGxheWVyQ2hhcmFjdGVyKTogdm9pZFxue1xuICAgIGNvbnN0IHNldHRpbmdzID0gR2V0U2V0dGluZ3MoQyk7XG4gICAgY29uc3QgcGFnZVJlc3VsdHM6IG51bWJlcltdID0gc2V0dGluZ3Mub3duZXJzLnNsaWNlKE1BWF9FTlRSSUVTX1BFUl9DT0xVTU4gKiAoY3VyUGFnZSAtIDEpLCBNQVhfRU5UUklFU19QRVJfQ09MVU1OICogY3VyUGFnZSk7XG5cbiAgICBjb25zdCByZW1vdmVEaXNhYmxlZCA9ICFJc01lbWJlck51bWJlckluQXV0aEdyb3VwKFBsYXllci5NZW1iZXJOdW1iZXIgPz8gLTEsIHNldHRpbmdzLm90aGVyc1JlbW92ZSwgc2V0dGluZ3Muc2VsZlJlbW92ZSwgQyk7XG5cbiAgICBwYWdlUmVzdWx0cy5mb3JFYWNoKChvd25lciwgaW5kZXgpID0+XG4gICAge1xuICAgICAgICBNYWluQ2FudmFzLnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XG5cbiAgICAgICAgbGV0IGRpc2FibGVkID0gcmVtb3ZlRGlzYWJsZWQ7XG4gICAgICAgIC8vIEFsbG93IHJlbW92aW5nIHNlbGYgZXZlbiBpZiBub3QgaGF2ZSBwZXJtc1xuICAgICAgICBpZiAob3duZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgRHJhd0J1dHRvbihcbiAgICAgICAgICAgIE9XTkVSX1hfU1RBUlQgKyAoaW5kZXggJSAyID09IDAgPyAwIDogNzUwKSxcbiAgICAgICAgICAgIE9XTkVSX1lfU1RBUlQgKyBPUFRJT05fR0FQICsgKChPUFRJT05fR0FQICsgT1BUSU9OX0hFSUdIVCkgKiBNYXRoLmZsb29yKGluZGV4IC8gMikpLFxuICAgICAgICAgICAgT1BUSU9OX0hFSUdIVCxcbiAgICAgICAgICAgIE9QVElPTl9IRUlHSFQsXG4gICAgICAgICAgICBcIlhcIixcbiAgICAgICAgICAgIGRpc2FibGVkID8gXCJHcmF5XCIgOiBcIldoaXRlXCIsXG4gICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgTG9jYWxpemVkVGV4dChcIlJlbW92ZSBPd25lclwiKSxcbiAgICAgICAgICAgIGRpc2FibGVkXG4gICAgICAgICk7XG5cbiAgICAgICAgTWFpbkNhbnZhcy50ZXh0QWxpZ24gPSBcImxlZnRcIjtcbiAgICAgICAgRHJhd1RleHRGaXQoXG4gICAgICAgICAgICBgJHtNZW1iZXJOdW1iZXJUb05hbWUob3duZXIpfSAoJHtvd25lcn0pYCxcbiAgICAgICAgICAgIE9XTkVSX1hfU1RBUlQgKyBPUFRJT05fR0FQICsgT1BUSU9OX0hFSUdIVCArIChpbmRleCAlIDIgPT0gMCA/IDAgOiA3NTApLFxuICAgICAgICAgICAgT1dORVJfWV9TVEFSVCArIChNYXRoLmZsb29yKGluZGV4IC8gMikgKiAoT1BUSU9OX0dBUCArIE9QVElPTl9IRUlHSFQpKSArIE1hdGguY2VpbCgoT1BUSU9OX0hFSUdIVCkgLyAyKSArIE9QVElPTl9HQVAsXG4gICAgICAgICAgICA2MDAsXG4gICAgICAgICAgICBcIkJsYWNrXCIsXG4gICAgICAgICAgICBcIkdyYXlcIlxuICAgICAgICApO1xuICAgIH0pO1xufVxuXG4vKipcbiAqIEBwYXJhbSBDXG4gKiBAcmV0dXJucyBFYXJseSByZXR1cm5cbiAqL1xuZnVuY3Rpb24gQ2xpY2tlZEVudHJpZXMoQzogUGxheWVyQ2hhcmFjdGVyKTogYm9vbGVhblxue1xuICAgIGNvbnN0IHNldHRpbmdzID0gR2V0U2V0dGluZ3MoQyk7XG4gICAgY29uc3QgcmVtb3ZlRGlzYWJsZWQgPSAhSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cChQbGF5ZXIuTWVtYmVyTnVtYmVyID8/IC0xLCBzZXR0aW5ncy5vdGhlcnNSZW1vdmUsIHNldHRpbmdzLnNlbGZSZW1vdmUsIEMpO1xuICAgIGNvbnN0IHBhZ2VSZXN1bHRzOiBudW1iZXJbXSA9IHNldHRpbmdzLm93bmVycy5zbGljZShNQVhfRU5UUklFU19QRVJfQ09MVU1OICogKGN1clBhZ2UgLSAxKSwgTUFYX0VOVFJJRVNfUEVSX0NPTFVNTiAqIGN1clBhZ2UpO1xuXG4gICAgLy8gQ2FuJ3QgcmVtb3ZlIHNvIHRoaXMgZG8gbm90aGluZ1xuICAgIGlmIChyZW1vdmVEaXNhYmxlZCAmJiAhcGFnZVJlc3VsdHMuaW5jbHVkZXMoUGxheWVyLk1lbWJlck51bWJlciA/PyAtMSkpXG4gICAge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBbaW5kZXgsIG93bmVyXSBvZiBwYWdlUmVzdWx0cy5lbnRyaWVzKCkpXG4gICAge1xuICAgICAgICBpZiAoTW91c2VJbihcbiAgICAgICAgICAgIE9XTkVSX1hfU1RBUlQgKyAoaW5kZXggJSAyID09IDAgPyAwIDogNzUwKSxcbiAgICAgICAgICAgIE9XTkVSX1lfU1RBUlQgKyBPUFRJT05fR0FQICsgKChPUFRJT05fR0FQICsgT1BUSU9OX0hFSUdIVCkgKiBNYXRoLmZsb29yKGluZGV4IC8gMikpLFxuICAgICAgICAgICAgT1BUSU9OX0hFSUdIVCxcbiAgICAgICAgICAgIE9QVElPTl9IRUlHSFRcbiAgICAgICAgKSAmJiAoIXJlbW92ZURpc2FibGVkIHx8IG93bmVyID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyKSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBzZXR0aW5ncy5vd25lcnMuaW5kZXhPZihvd25lcik7XG4gICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIE93bmVyUmVtb3ZlZChzZXR0aW5ncy5vd25lcnM/LltpbmRleF0pO1xuICAgICAgICAgICAgICAgIHNldHRpbmdzLm93bmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIG1heFBhZ2VzID0gc2V0dGluZ3Mub3duZXJzLmxlbmd0aCAvIE1BWF9FTlRSSUVTX1BFUl9DT0xVTU47XG5cbiAgICAgICAgICAgICAgICAvLyBSZW1vdmVkIGxhc3QgaXRlbSBvbiB0aGUgbGlzdCwgc2V0IHRvIHByZXZpb3VzIHBhZ2VcbiAgICAgICAgICAgICAgICBpZiAocGFnZVJlc3VsdHMubGVuZ3RoID09PSAxICYmIGN1clBhZ2UgPiAxKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY3VyUGFnZS0tO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOyAvLyBGb3VuZCBlbnRyeSwgc2tpcCByZXN0XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5leHBvcnQgY29uc3QgT1dORVJTX0NVU1RPTV9TRVRUSU5HUzogQ3VzdG9tU2V0dGluZyA9XG57XG4gICAgdHlwZTogXCJjdXN0b21cIixcbiAgICBPbkNsaWNrOiBmdW5jdGlvbiAoQzogUGxheWVyQ2hhcmFjdGVyLCBoYXNQZXJtaXNzaW9uOiBib29sZWFuKTogdm9pZFxuICAgIHtcbiAgICAgICAgLy8gUGFnZXMgb2Ygb3duZXJzXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IENsaWNrZWRQYWdlc0J1dHRvbnMoY3VyUGFnZSwgbWF4UGFnZXMpO1xuICAgICAgICBpZiAocmVzdWx0ID09PSB0cnVlKVxuICAgICAgICB7XG4gICAgICAgICAgICBjdXJQYWdlKys7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocmVzdWx0ID09PSBmYWxzZSlcbiAgICAgICAge1xuICAgICAgICAgICAgY3VyUGFnZS0tO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgYXV0aFNldHRpbmdzID0gUGxheWVyQXV0aChDKTtcbiAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSBHZXRTZXR0aW5ncyhDKTtcblxuICAgICAgICBpZiAoQ2xpY2tlZEVudHJpZXMoQykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIFNldFNldHRpbmdzRWRpdGVkKHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWRkIG93bmVyIGJ1dHRvblxuICAgICAgICBpZiAoSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cChQbGF5ZXIuTWVtYmVyTnVtYmVyID8/IC0xLCBzZXR0aW5ncy5vdGhlcnNBZGQsIHNldHRpbmdzLnNlbGZBZGQsIEMpXG4gICAgICAgICAgJiYgTW91c2VJbiguLi5BRERfT1dORVJfQlVUVE9OKSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBOdW1iZXIoRWxlbWVudFZhbHVlKGlkKSk7XG4gICAgICAgICAgICBpZiAoRWxlbWVudFZhbHVlKGlkKSAhPT0gXCJcIiAmJiAhaXNOYU4oKHZhbHVlKSkgJiYgIXNldHRpbmdzLm93bmVycy5pbmNsdWRlcyh2YWx1ZSkgJiYgdmFsdWUgIT09IEMuTWVtYmVyTnVtYmVyKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNldHRpbmdzLm93bmVycy5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBzZXR0aW5ncy5vd25lcnMuc29ydCgoYSwgYikgPT4gYSAtIGIpO1xuICAgICAgICAgICAgICAgIE93bmVyQWRkZWQodmFsdWUpO1xuICAgICAgICAgICAgICAgIEVsZW1lbnRWYWx1ZShpZCwgXCJcIik7XG4gICAgICAgICAgICAgICAgbWF4UGFnZXMgPSBzZXR0aW5ncy5vd25lcnMubGVuZ3RoIC8gTUFYX0VOVFJJRVNfUEVSX0NPTFVNTjtcbiAgICAgICAgICAgICAgICBTZXRTZXR0aW5nc0VkaXRlZCh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNlbGYgYWRkXG4gICAgICAgIGlmIChoYXNQZXJtaXNzaW9uXG4gICAgICAgICAgJiYgTW91c2VJbiguLi5BRERfQ0hFQ0tCT1gpKVxuICAgICAgICB7XG4gICAgICAgICAgICBzZXR0aW5ncy5zZWxmQWRkID0gIXNldHRpbmdzLnNlbGZBZGQ7XG4gICAgICAgICAgICBTZXRTZXR0aW5nc0VkaXRlZCh0cnVlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBTZWxmIHJlbW92ZVxuICAgICAgICBpZiAoaGFzUGVybWlzc2lvblxuICAgICAgICAgICYmIE1vdXNlSW4oLi4uUkVNX0NIRUNLQk9YKSlcbiAgICAgICAge1xuICAgICAgICAgICAgc2V0dGluZ3Muc2VsZlJlbW92ZSA9ICFzZXR0aW5ncy5zZWxmUmVtb3ZlO1xuICAgICAgICAgICAgU2V0U2V0dGluZ3NFZGl0ZWQodHJ1ZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBhZGRJbmRleCA9IEFVVEhPUklUWV9HUk9VUF9PUFRJT05TLmluZGV4T2Yoc2V0dGluZ3Mub3RoZXJzQWRkKTtcbiAgICAgICAgLy8gQWRkIG90aGVyIHByZXZpb3VzXG4gICAgICAgIGlmIChoYXNQZXJtaXNzaW9uXG4gICAgICAgICAgJiYgTW91c2VJbig5MDAsIDIwMCwgMTI4LCA2NClcbiAgICAgICAgICAmJiBhZGRJbmRleCA+IDBcbiAgICAgICAgICAmJiBJc01lbWJlck51bWJlckluQXV0aEdyb3VwKFBsYXllci5NZW1iZXJOdW1iZXIgPz8gLTEsIGF1dGhTZXR0aW5ncy5vdGhlcnNBdXRob3JpdHkgYXMgQXV0aG9yaXR5R3JvdXAsIGF1dGhTZXR0aW5ncy5zZWxmUHJvZmlsZSwgQylcbiAgICAgICAgICAmJiBJc01lbWJlck51bWJlckluQXV0aEdyb3VwKFBsYXllci5NZW1iZXJOdW1iZXIgPz8gLTEsIEFVVEhPUklUWV9HUk9VUF9PUFRJT05TW2FkZEluZGV4XSwgYXV0aFNldHRpbmdzLnNlbGZQcm9maWxlLCBDKVxuICAgICAgICApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNldHRpbmdzLm90aGVyc0FkZCA9IEFVVEhPUklUWV9HUk9VUF9PUFRJT05TW2FkZEluZGV4IC0gMV07XG4gICAgICAgICAgICBTZXRTZXR0aW5nc0VkaXRlZCh0cnVlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBBZGQgb3RoZXIgbmV4dFxuICAgICAgICBpZiAoaGFzUGVybWlzc2lvblxuICAgICAgICAgICYmIE1vdXNlSW4oMTAyOCwgMjAwLCAxMjgsIDY0KVxuICAgICAgICAgICYmIGFkZEluZGV4ICsgMSA8IEFVVEhPUklUWV9HUk9VUF9PUFRJT05TLmxlbmd0aFxuICAgICAgICAgICYmIElzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAoUGxheWVyLk1lbWJlck51bWJlciA/PyAtMSwgYXV0aFNldHRpbmdzLm90aGVyc0F1dGhvcml0eSBhcyBBdXRob3JpdHlHcm91cCwgYXV0aFNldHRpbmdzLnNlbGZQcm9maWxlLCBDKVxuICAgICAgICAgICYmIElzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAoUGxheWVyLk1lbWJlck51bWJlciA/PyAtMSwgQVVUSE9SSVRZX0dST1VQX09QVElPTlNbYWRkSW5kZXggKyAxXSwgYXV0aFNldHRpbmdzLnNlbGZQcm9maWxlLCBDKVxuICAgICAgICApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNldHRpbmdzLm90aGVyc0FkZCA9IEFVVEhPUklUWV9HUk9VUF9PUFRJT05TW2FkZEluZGV4ICsgMV07XG4gICAgICAgICAgICBTZXRTZXR0aW5nc0VkaXRlZCh0cnVlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJlbUluZGV4ID0gQVVUSE9SSVRZX0dST1VQX09QVElPTlMuaW5kZXhPZihzZXR0aW5ncy5vdGhlcnNSZW1vdmUpO1xuICAgICAgICAvLyBBZGQgb3RoZXIgcHJldmlvdXNcbiAgICAgICAgaWYgKGhhc1Blcm1pc3Npb25cbiAgICAgICAgICAmJiBNb3VzZUluKDkwMCwgMjc0LCAxMjgsIDY0KVxuICAgICAgICAgICYmIHJlbUluZGV4ID4gMFxuICAgICAgICAgICYmIElzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAoUGxheWVyLk1lbWJlck51bWJlciA/PyAtMSwgYXV0aFNldHRpbmdzLm90aGVyc0F1dGhvcml0eSBhcyBBdXRob3JpdHlHcm91cCwgYXV0aFNldHRpbmdzLnNlbGZQcm9maWxlLCBDKVxuICAgICAgICAgICYmIElzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAoUGxheWVyLk1lbWJlck51bWJlciA/PyAtMSwgQVVUSE9SSVRZX0dST1VQX09QVElPTlNbcmVtSW5kZXhdLCBhdXRoU2V0dGluZ3Muc2VsZlByb2ZpbGUsIEMpXG4gICAgICAgIClcbiAgICAgICAge1xuICAgICAgICAgICAgc2V0dGluZ3Mub3RoZXJzUmVtb3ZlID0gQVVUSE9SSVRZX0dST1VQX09QVElPTlNbcmVtSW5kZXggLSAxXTtcbiAgICAgICAgICAgIFNldFNldHRpbmdzRWRpdGVkKHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIEFkZCBvdGhlciBuZXh0XG4gICAgICAgIGlmIChoYXNQZXJtaXNzaW9uXG4gICAgICAgICAgJiYgTW91c2VJbigxMDI4LCAyNzQsIDEyOCwgNjQpXG4gICAgICAgICAgJiYgcmVtSW5kZXggKyAxIDwgQVVUSE9SSVRZX0dST1VQX09QVElPTlMubGVuZ3RoXG4gICAgICAgICAgJiYgSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cChQbGF5ZXIuTWVtYmVyTnVtYmVyID8/IC0xLCBhdXRoU2V0dGluZ3Mub3RoZXJzQXV0aG9yaXR5IGFzIEF1dGhvcml0eUdyb3VwLCBhdXRoU2V0dGluZ3Muc2VsZlByb2ZpbGUsIEMpXG4gICAgICAgICAgJiYgSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cChQbGF5ZXIuTWVtYmVyTnVtYmVyID8/IC0xLCBBVVRIT1JJVFlfR1JPVVBfT1BUSU9OU1tyZW1JbmRleCArIDFdLCBhdXRoU2V0dGluZ3Muc2VsZlByb2ZpbGUsIEMpXG4gICAgICAgIClcbiAgICAgICAge1xuICAgICAgICAgICAgc2V0dGluZ3Mub3RoZXJzUmVtb3ZlID0gQVVUSE9SSVRZX0dST1VQX09QVElPTlNbcmVtSW5kZXggKyAxXTtcbiAgICAgICAgICAgIFNldFNldHRpbmdzRWRpdGVkKHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBPbkV4aXQ6IGZ1bmN0aW9uIChfQzogUGxheWVyQ2hhcmFjdGVyLCBfaGFzUGVybWlzc2lvbj86IGJvb2xlYW4pOiB2b2lkXG4gICAge1xuICAgICAgICBFbGVtZW50UmVtb3ZlKGlkKTtcbiAgICB9LFxuICAgIE9uTG9hZDogZnVuY3Rpb24gKEM6IFBsYXllckNoYXJhY3RlciwgX2hhc1Blcm1pc3Npb24/OiBib29sZWFuKTogdm9pZFxuICAgIHtcbiAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSBHZXRTZXR0aW5ncyhDKTtcbiAgICAgICAgbWF4UGFnZXMgPSBzZXR0aW5ncy5vd25lcnMubGVuZ3RoIC8gTUFYX0VOVFJJRVNfUEVSX0NPTFVNTjtcblxuICAgICAgICBFbGVtZW50Q3JlYXRlSW5wdXQoaWQsIFwibnVtYmVyXCIsIFwiXCIpO1xuICAgICAgICBFbGVtZW50U2V0QXR0cmlidXRlKGlkLCBcIm1pblwiLCBcIjBcIik7XG4gICAgICAgIEVsZW1lbnRTZXRBdHRyaWJ1dGUoaWQsIFwiaW5wdXRtb2RlXCIsIFwibnVtZXJpY1wiKTtcbiAgICAgICAgRWxlbWVudFBvc2l0aW9uRml4ZWQoXG4gICAgICAgICAgICBpZCxcbiAgICAgICAgICAgIC4uLk9XTkVSX1RFWFRCT1hcbiAgICAgICAgKTtcbiAgICB9LFxuICAgIE9uUnVuOiBmdW5jdGlvbiAoQzogUGxheWVyQ2hhcmFjdGVyLCBoYXNQZXJtaXNzaW9uPzogYm9vbGVhbik6IHZvaWRcbiAgICB7XG4gICAgICAgIGNvbnN0IHByZXZUZXh0QWxpZ24gPSBNYWluQ2FudmFzLnRleHRBbGlnbjtcbiAgICAgICAgTWFpbkNhbnZhcy50ZXh0QWxpZ24gPSBcImxlZnRcIjtcblxuICAgICAgICBjb25zdCBhdXRoU2V0dGluZ3MgPSBQbGF5ZXJBdXRoKEMpO1xuICAgICAgICBjb25zdCBzZXR0aW5ncyA9IEdldFNldHRpbmdzKEMpO1xuXG4gICAgICAgIC8vIFBsYXllciBhbGxvd2VkIHRvIGFkZCBvd25lcnNcbiAgICAgICAgRHJhd0NoZWNrYm94KFxuICAgICAgICAgICAgLi4uQUREX0NIRUNLQk9YLFxuICAgICAgICAgICAgTG9jYWxpemVkVGV4dChcIlNvdXJjZUNoYXJhY3RlciBjYW4gYWRkIG93bmVyc1wiKS5yZXBsYWNlKFwiU291cmNlQ2hhcmFjdGVyXCIsIEMuTmlja25hbWUgfHwgQy5OYW1lKSxcbiAgICAgICAgICAgICEhQyEuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV1bXCJuZXdPd25lcnNcIl0uc2VsZkFkZCxcbiAgICAgICAgICAgICFoYXNQZXJtaXNzaW9uLFxuICAgICAgICAgICAgXCJCbGFja1wiXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gUGxheWVyIGFsbG93ZWQgdG8gcmVtb3ZlIG93bmVyc1xuICAgICAgICBEcmF3Q2hlY2tib3goXG4gICAgICAgICAgICAuLi5SRU1fQ0hFQ0tCT1gsXG4gICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KFwiU291cmNlQ2hhcmFjdGVyIGNhbiByZW1vdmUgb3duZXJzXCIpLnJlcGxhY2UoXCJTb3VyY2VDaGFyYWN0ZXJcIiwgQy5OaWNrbmFtZSB8fCBDLk5hbWUpLFxuICAgICAgICAgICAgISFDIS5NUEFbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XVtcIm5ld093bmVyc1wiXS5zZWxmUmVtb3ZlLFxuICAgICAgICAgICAgIWhhc1Blcm1pc3Npb24sXG4gICAgICAgICAgICBcIkJsYWNrXCJcbiAgICAgICAgKTtcblxuICAgICAgICAvLyBPdGhlcnMgY2FuIGFkZCBvciByZW1vdmVcbiAgICAgICAgZm9yIChjb25zdCBvcHRpb24gb2YgW2ZhbHNlLCB0cnVlXSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgbmV3SW5kZXggPSBOdW1iZXIob3B0aW9uKTtcblxuICAgICAgICAgICAgLy8gT3RoZXJzIGFsbG93ZWQgdG8gYWRkIG93bmVyc1xuICAgICAgICAgICAgY29uc3Qgb3RoZXJPcHRpb24gPSBzZXR0aW5nc1tvcHRpb24gPyBcIm90aGVyc1JlbW92ZVwiIDogXCJvdGhlcnNBZGRcIl0gYXMgQXV0aG9yaXR5R3JvdXA7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IEFVVEhPUklUWV9HUk9VUF9PUFRJT05TLmluZGV4T2Yob3RoZXJPcHRpb24pO1xuICAgICAgICAgICAgY29uc3Qgb3B0TGVuID0gQVVUSE9SSVRZX0dST1VQX09QVElPTlMubGVuZ3RoO1xuXG4gICAgICAgICAgICBjb25zdCBwcmV2RGlzYWJsZWQgPSBpbmRleCA9PT0gMFxuICAgICAgICAgICAgICB8fCAhSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cChQbGF5ZXIuTWVtYmVyTnVtYmVyID8/IC0xLCBhdXRoU2V0dGluZ3Mub3RoZXJzQXV0aG9yaXR5IGFzIEF1dGhvcml0eUdyb3VwLCBhdXRoU2V0dGluZ3Muc2VsZlByb2ZpbGUsIEMpXG4gICAgICAgICAgICAgIHx8ICFJc01lbWJlck51bWJlckluQXV0aEdyb3VwKFBsYXllci5NZW1iZXJOdW1iZXIgPz8gLTEsIEFVVEhPUklUWV9HUk9VUF9PUFRJT05TW2luZGV4XSwgYXV0aFNldHRpbmdzLnNlbGZQcm9maWxlLCBDKTtcbiAgICAgICAgICAgIGNvbnN0IG5leHREaXNhYmxlZCA9IGluZGV4ID09PSBBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUy5sZW5ndGggLSAxXG4gICAgICAgICAgICAgIHx8ICFJc01lbWJlck51bWJlckluQXV0aEdyb3VwKFBsYXllci5NZW1iZXJOdW1iZXIgPz8gLTEsIGF1dGhTZXR0aW5ncy5vdGhlcnNBdXRob3JpdHkgYXMgQXV0aG9yaXR5R3JvdXAsIGF1dGhTZXR0aW5ncy5zZWxmUHJvZmlsZSwgQylcbiAgICAgICAgICAgICAgfHwgIUlzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAoUGxheWVyLk1lbWJlck51bWJlciA/PyAtMSwgQVVUSE9SSVRZX0dST1VQX09QVElPTlNbaW5kZXggKyAxXSwgYXV0aFNldHRpbmdzLnNlbGZQcm9maWxlLCBDKTtcbiAgICAgICAgICAgIC8vIEhhcyBwZXJtaXNzaW9ucyBvZiBwcm9maWxlIGFuZCBjdXJyZW50IGxldmVsXG5cbiAgICAgICAgICAgIERyYXdCYWNrTmV4dEJ1dHRvbihcbiAgICAgICAgICAgICAgICBPUFRJT05fT1RIRVJTLFxuICAgICAgICAgICAgICAgIE9QVElPTl9UT1AgKyAobmV3SW5kZXggKiAoT1BUSU9OX0dBUCArIE9QVElPTl9IRUlHSFQpKSxcbiAgICAgICAgICAgICAgICBPUFRJT05fQkFDS19ORVhUX1dJRFRILFxuICAgICAgICAgICAgICAgIE9QVElPTl9IRUlHSFQsXG4gICAgICAgICAgICAgICAgTG9jYWxpemVkVGV4dChvdGhlck9wdGlvbiksXG4gICAgICAgICAgICAgICAgISghaGFzUGVybWlzc2lvbiB8fCAocHJldkRpc2FibGVkICYmIG5leHREaXNhYmxlZCkpID8gXCIjZmZmZmZmXCIgOiBcIiNhYWFhYWFcIixcbiAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICgpID0+IExvY2FsaXplZFRleHQocHJldkRpc2FibGVkID8gXCJcIiA6IChpbmRleCA+IDAgPyBBVVRIT1JJVFlfR1JPVVBfT1BUSU9OU1tpbmRleCAtIDFdIDogXCJcIikpLFxuICAgICAgICAgICAgICAgICgpID0+IExvY2FsaXplZFRleHQobmV4dERpc2FibGVkID8gXCJcIiA6IChpbmRleCArIDEgPCBvcHRMZW4gPyBBVVRIT1JJVFlfR1JPVVBfT1BUSU9OU1tpbmRleCArIDFdIDogXCJcIikpLFxuICAgICAgICAgICAgICAgICFoYXNQZXJtaXNzaW9uXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgRHJhd1RleHRGaXQoXG4gICAgICAgICAgICAgICAgTG9jYWxpemVkVGV4dChvcHRpb24gPyBcIkFsbG93IG90aGVycyB0byByZW1vdmUgb3duZXJzXCIgOiBcIkFsbG93IG90aGVycyB0byBhZGQgb3duZXJzXCIpLFxuICAgICAgICAgICAgICAgIE9QVElPTl9PVEhFUlMgKyBPUFRJT05fQkFDS19ORVhUX1dJRFRIICsgKE9QVElPTl9HQVAgKiAyKSxcbiAgICAgICAgICAgICAgICBPUFRJT05fVE9QICsgKG5ld0luZGV4ICogKE9QVElPTl9HQVAgKyBPUFRJT05fSEVJR0hUKSArIE1hdGguY2VpbChPUFRJT05fSEVJR0hUIC8gMikpLFxuICAgICAgICAgICAgICAgIENBTlZBU19XSURUSCAtIE9QVElPTl9PVEhFUlMgLSBPUFRJT05fQkFDS19ORVhUX1dJRFRILFxuICAgICAgICAgICAgICAgIFwiQmxhY2tcIixcbiAgICAgICAgICAgICAgICBcIkdyYXlcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIEVsZW1lbnRQb3NpdGlvbkZpeGVkKFxuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAuLi5PV05FUl9URVhUQk9YXG4gICAgICAgICk7XG5cbiAgICAgICAgRHJhd1BhZ2VzQnV0dG9ucyhjdXJQYWdlLCBtYXhQYWdlcyk7XG5cbiAgICAgICAgRHJhd0VudHJpZXMoQyk7XG5cbiAgICAgICAgTWFpbkNhbnZhcy50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xuICAgICAgICBjb25zdCBjYW5BZGRPd25lciA9IElzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAoUGxheWVyLk1lbWJlck51bWJlciA/PyAtMSwgc2V0dGluZ3Mub3RoZXJzQWRkLCBzZXR0aW5ncy5zZWxmQWRkLCBDKTtcbiAgICAgICAgRHJhd0J1dHRvbihcbiAgICAgICAgICAgIC4uLkFERF9PV05FUl9CVVRUT04sXG4gICAgICAgICAgICBcIkFkZFwiLFxuICAgICAgICAgICAgY2FuQWRkT3duZXIgPyBcIldoaXRlXCIgOiBcIkdyYXlcIixcbiAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgIWNhbkFkZE93bmVyXG4gICAgICAgICk7XG5cbiAgICAgICAgTWFpbkNhbnZhcy50ZXh0QWxpZ24gPSBwcmV2VGV4dEFsaWduO1xuICAgIH0sXG4gICAgYWN0aXZlOiBmdW5jdGlvbiAoX0M6IENoYXJhY3Rlcik6IGJvb2xlYW5cbiAgICB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gICAgbGFiZWw6IFwiT3duZXJzXCIsXG4gICAgbmFtZTogXCJuZXdPd25lcnNcIixcbiAgICB2YWx1ZTogeyBvd25lcnM6IFtdLCBzZWxmQWRkOiB0cnVlLCBzZWxmUmVtb3ZlOiB0cnVlLCBvdGhlcnNBZGQ6IFwiQ2x1Ym93bmVyXCIsIG90aGVyc1JlbW92ZTogXCJDbHVib3duZXJcIiB9XG59O1xuIiwiaW1wb3J0IHsgTG9jYWxpemVkVGV4dCB9IGZyb20gXCIuLi9sb2NhbGl6YXRpb24vbG9jYWxpemF0aW9uXCI7XG5pbXBvcnQgeyBBQ1RJVklUWV9OQU1FX1BSRUZJWCB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuXG4vKiogU3RvcmVzIHRoZSBhY3Rpdml0eSBuYW1lIGFuZCB0aGUgaW1hZ2UgbG9jYXRpb24gb3IgYmFzZSA2NCBpbWFnZSBmb3IgdGhhdCBhY3Rpdml0eSAqL1xuZXhwb3J0IGNvbnN0IGFjdGl2aXR5SW1hZ2VzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4vKiogV2hlbiBhbiBhY3Rpdml0eSBpcyB1c2VkIGJ5IHRoZSBQbGF5ZXIsIHJ1biB0aGlzIGNhbGxiYWNrIGZ1bmN0aW9uICovXG5leHBvcnQgY29uc3QgYWN0aXZpdHlUcmlnZ2VyczogUmVjb3JkPHN0cmluZywgQWNpdGl2aXR5VHJpZ2dlcj4gPSB7fTtcbi8qKiBDdXN0b20gcHJlcmVxdWlzaXRlcyBmb3IgYWN0aXZpdGllcyAqL1xuZXhwb3J0IGNvbnN0IGFjdGl2aXR5UHJlcmVxdWlzaXRlczogUmVjb3JkPHN0cmluZywgUHJlcmVxdWlzaXRlPiA9IHt9O1xuLyoqIFdoZW4gYW4gYWN0aXZpdHkgaGFwcGVucywgcnVuIHRoaXMgY2FsbGJhY2sgZnVuY3Rpb24gKi9cbmV4cG9ydCBjb25zdCBhY3Rpdml0eVJlY2VpdmVkOiBSZWNvcmQ8c3RyaW5nLCBBY3Rpdml0eVJlY2VpdmVkPiA9IHt9O1xuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBjdXN0b20gYWN0aXZpdHkgZm9yIHRoZSBQbGF5ZXIgdG8gdXNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBDcmVhdGVBY3Rpdml0eShjdXN0b21BY3Rpdml0eTogQ3VzdG9tQWN0aXZpdHkpOiB2b2lkXG57XG4gICAgLy8gQ3JlYXRlIHRoZSBhY3Rpdml0eSBCQyB1c2VzXG4gICAgY29uc3QgYWN0aXZpdHk6IEFjdGl2aXR5ID0ge1xuICAgICAgICBOYW1lOiBgJHtBQ1RJVklUWV9OQU1FX1BSRUZJWH0ke2N1c3RvbUFjdGl2aXR5Lk5hbWV9YCBhcyBBY3Rpdml0eU5hbWUsXG4gICAgICAgIEFjdGl2aXR5SUQ6IE1hdGgubWF4KC4uLkFjdGl2aXR5RmVtYWxlM0RDRy5tYXAoKHgpID0+IHguQWN0aXZpdHlJRCA/PyAtMSkpICsgMSxcbiAgICAgICAgTWF4UHJvZ3Jlc3M6IGN1c3RvbUFjdGl2aXR5Lk1heFByb2dyZXNzID8/IDUwLFxuICAgICAgICAvLyBNYXhQcm9ncmVzc1NlbGY6IGN1c3RvbUFjdGl2aXR5Lk1heFByb2dyZXNzU2VsZiA/PyBjdXN0b21BY3Rpdml0eS5NYXhQcm9ncmVzcyxcbiAgICAgICAgUHJlcmVxdWlzaXRlOiBjdXN0b21BY3Rpdml0eS5QcmVyZXF1aXNpdGUsXG4gICAgICAgIFRhcmdldDogW11cbiAgICB9O1xuXG4gICAgLy8gQWRkIGN1c3RvbSBhY3Rpdml0ZXMgdG8gdGhlIHJlY29yZCBmb3IgY2hlY2tpbmcgd2hlbiBhbiBhY3Rpdml0eSBpcyBjYWxsZWQgbGF0ZXJcbiAgICBpZiAoY3VzdG9tQWN0aXZpdHkuQ3VzdG9tUHJlcmVxdWlzaXRlKVxuICAgIHtcbiAgICAgICAgbGV0IGN1c3RvbVByZXJlcXVpc2l0ZXMgPSBjdXN0b21BY3Rpdml0eS5DdXN0b21QcmVyZXF1aXNpdGU7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShjdXN0b21QcmVyZXF1aXNpdGVzKSlcbiAgICAgICAge1xuICAgICAgICAgICAgY3VzdG9tUHJlcmVxdWlzaXRlcyA9IFtjdXN0b21QcmVyZXF1aXNpdGVzXTtcbiAgICAgICAgfVxuICAgICAgICBjdXN0b21QcmVyZXF1aXNpdGVzLmZvckVhY2goKG5ld1ByZXJlcXVpc2l0ZSkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgYWN0aXZpdHkuUHJlcmVxdWlzaXRlLnB1c2gobmV3UHJlcmVxdWlzaXRlLk5hbWUgYXMgQWN0aXZpdHlQcmVyZXF1aXNpdGUpO1xuICAgICAgICAgICAgaWYgKCEobmV3UHJlcmVxdWlzaXRlLk5hbWUgaW4gYWN0aXZpdHlQcmVyZXF1aXNpdGVzKVxuICAgICAgICAgICAgICAmJiBuZXdQcmVyZXF1aXNpdGUuUHJlcmVxdWlzaXRlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGFjdGl2aXR5UHJlcmVxdWlzaXRlc1tuZXdQcmVyZXF1aXNpdGUuTmFtZV0gPSBuZXdQcmVyZXF1aXNpdGUuUHJlcmVxdWlzaXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBPbmx5IGFkZCB0aGUgbmFtZSBhbmQgbGFiZWwgb25jZVxuICAgIGxldCBuYW1lQWRkZWQgPSBmYWxzZTtcbiAgICAvLyBUaGUgbG9va3VwIHRhYmxlIGZvciB0aGUgYWN0aXZpdHlcbiAgICBjdXN0b21BY3Rpdml0eS5UYXJnZXRzLmZvckVhY2goKHRhcmdldCkgPT5cbiAgICB7XG4gICAgICAgIGlmICghbmFtZUFkZGVkKVxuICAgICAgICB7XG4gICAgICAgICAgICBBY3Rpdml0eURpY3Rpb25hcnk/LnB1c2goW2BBY3Rpdml0eSR7YWN0aXZpdHkuTmFtZX1gLCBMb2NhbGl6ZWRUZXh0KHRhcmdldC5sYWJlbCldKTtcbiAgICAgICAgICAgIG5hbWVBZGRlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBY2l0aXZpdHkgY2FuIGJlIHVzZWQgb24gc2VsZlxuICAgICAgICBpZiAodGFyZ2V0LmFjdGlvblNlbGYpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghYWN0aXZpdHkuVGFyZ2V0U2VsZilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhY3Rpdml0eS5UYXJnZXRTZWxmID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAoYWN0aXZpdHkuVGFyZ2V0U2VsZiBhcyBBc3NldEdyb3VwSXRlbU5hbWVbXSk/LnB1c2godGFyZ2V0Lmdyb3VwKTtcbiAgICAgICAgICAgIEFjdGl2aXR5RGljdGlvbmFyeT8ucHVzaChbYExhYmVsLUNoYXRTZWxmLSR7dGFyZ2V0Lmdyb3VwfS0ke2FjdGl2aXR5Lk5hbWV9YCwgTG9jYWxpemVkVGV4dCh0YXJnZXQubGFiZWwpXSk7XG4gICAgICAgICAgICBBY3Rpdml0eURpY3Rpb25hcnk/LnB1c2goW2BDaGF0U2VsZi0ke3RhcmdldC5ncm91cH0tJHthY3Rpdml0eS5OYW1lfWAsIExvY2FsaXplZFRleHQodGFyZ2V0LmFjdGlvblNlbGYpXSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBY3Rpdml0eSBjYW4gYmUgdXNlZCBvbiBvdGhlcnNcbiAgICAgICAgaWYgKHRhcmdldC5hY3Rpb25PdGhlcnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGFjdGl2aXR5LlRhcmdldC5wdXNoKHRhcmdldC5ncm91cCk7XG4gICAgICAgICAgICBBY3Rpdml0eURpY3Rpb25hcnk/LnB1c2goW2BMYWJlbC1DaGF0T3RoZXItJHt0YXJnZXQuZ3JvdXB9LSR7YWN0aXZpdHkuTmFtZX1gLCBMb2NhbGl6ZWRUZXh0KHRhcmdldC5sYWJlbCldKTtcbiAgICAgICAgICAgIEFjdGl2aXR5RGljdGlvbmFyeT8ucHVzaChbYENoYXRPdGhlci0ke3RhcmdldC5ncm91cH0tJHthY3Rpdml0eS5OYW1lfWAsIExvY2FsaXplZFRleHQodGFyZ2V0LmFjdGlvbk90aGVycyldKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gSW1hZ2UgdGhlIGFjdGl2aXR5IHdpbGwgdXNlXG4gICAgYWN0aXZpdHlJbWFnZXNbYWN0aXZpdHkuTmFtZV0gPSBjdXN0b21BY3Rpdml0eS5JbWFnZTtcblxuICAgIC8vIE9uIGFjdGl2aXR5IHRyaWdnZXIgc3VwcG9ydFxuICAgIGlmIChjdXN0b21BY3Rpdml0eS5PblRyaWdnZXIpXG4gICAge1xuICAgICAgICBhY3Rpdml0eVRyaWdnZXJzW2FjdGl2aXR5Lk5hbWVdID0gY3VzdG9tQWN0aXZpdHkuT25UcmlnZ2VyO1xuICAgIH1cblxuICAgIC8vIE9uIGFjdGl2aXR5IHJlY2lldmVkIHN1cHBvcnRcbiAgICBpZiAoY3VzdG9tQWN0aXZpdHkuT25SZWNlaXZlKVxuICAgIHtcbiAgICAgICAgYWN0aXZpdHlSZWNlaXZlZFthY3Rpdml0eS5OYW1lXSA9IGN1c3RvbUFjdGl2aXR5Lk9uUmVjZWl2ZTtcbiAgICB9XG5cbiAgICBBY3Rpdml0eUZlbWFsZTNEQ0cucHVzaChhY3Rpdml0eSk7XG4gICAgQWN0aXZpdHlGZW1hbGUzRENHT3JkZXJpbmcucHVzaChhY3Rpdml0eS5OYW1lKTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgbWFueSBjdXN0b20gYWN0aXZpdGllcyBmb3IgdGhlIFBsYXllciB0byB1c2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIENyZWF0ZUFjdGl2aXRpZXMoY3VzdG9tQWN0aXZpdGllczogQ3VzdG9tQWN0aXZpdHlbXSk6IHZvaWRcbntcbiAgICBjdXN0b21BY3Rpdml0aWVzLmZvckVhY2goKGFjdGl2aXR5KSA9PlxuICAgIHtcbiAgICAgICAgQ3JlYXRlQWN0aXZpdHkoYWN0aXZpdHkpO1xuICAgIH0pO1xufVxuXG4vKipcbiAqIFJlbW92ZSBhY3Rpdml0eSwgZGlzYWxsb3dpbmcgdGhlIFBsYXllciB0byB1c2UgaXRcbiAqIEBwYXJhbSBjdXN0b21BY3Rpdml0eSAtIE9ubHkgTmFtZSBhbmQgVGFyZ2V0cyBtYXR0ZXIgZm9yIHRoaXMgZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFJlbW92ZUFjdGl2aXR5KGN1c3RvbUFjdGl2aXR5OiBDdXN0b21BY3Rpdml0eSk6IHZvaWRcbntcbiAgICBjb25zdCBhY3Rpdml0eU5hbWUgPSBgJHtBQ1RJVklUWV9OQU1FX1BSRUZJWH0ke2N1c3RvbUFjdGl2aXR5Lk5hbWV9YDtcblxuICAgIC8vIFRoZSBsb29rdXAgdGFibGUgZm9yIHRoZSBhY3Rpdml0eVxuICAgIGN1c3RvbUFjdGl2aXR5LlRhcmdldHMuZm9yRWFjaCgodGFyZ2V0KSA9PlxuICAgIHtcbiAgICAgICAgLy8gQWNpdGl2aXR5IGNhbiBiZSB1c2VkIG9uIHNlbGZcbiAgICAgICAgaWYgKHRhcmdldC5hY3Rpb25TZWxmKVxuICAgICAgICB7XG4gICAgICAgICAgICBBY3Rpdml0eURpY3Rpb25hcnkgPSBBY3Rpdml0eURpY3Rpb25hcnk/LmZpbHRlcigoeCkgPT4gISh4WzBdID09PSBgTGFiZWwtQ2hhdFNlbGYtJHt0YXJnZXQuZ3JvdXB9LSR7YWN0aXZpdHlOYW1lfWAgfHwgeFswXSA9PT0gYENoYXRTZWxmLSR7dGFyZ2V0Lmdyb3VwfS0ke2FjdGl2aXR5TmFtZX1gKSkgPz8gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFjdGl2aXR5IGNhbiBiZSB1c2VkIG9uIG90aGVyc1xuICAgICAgICBpZiAodGFyZ2V0LmFjdGlvbk90aGVycylcbiAgICAgICAge1xuICAgICAgICAgICAgQWN0aXZpdHlEaWN0aW9uYXJ5ID0gQWN0aXZpdHlEaWN0aW9uYXJ5Py5maWx0ZXIoKHgpID0+ICEoeFswXSA9PT0gYExhYmVsLUNoYXRPdGhlci0ke3RhcmdldC5ncm91cH0tJHthY3Rpdml0eU5hbWV9YCB8fCB4WzBdID09PSBgQ2hhdE90aGVyLSR7dGFyZ2V0Lmdyb3VwfS0ke2FjdGl2aXR5TmFtZX1gKSkgPz8gbnVsbDtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gSW1hZ2UgdGhlIGFjdGl2aXR5IHdpbGwgdXNlXG4gICAgZGVsZXRlIGFjdGl2aXR5SW1hZ2VzW2FjdGl2aXR5TmFtZV07XG5cbiAgICAvLyBPbiBhY3Rpdml0eSB0cmlnZ2VyIHN1cHBvcnRcbiAgICBkZWxldGUgYWN0aXZpdHlUcmlnZ2Vyc1thY3Rpdml0eU5hbWVdO1xuXG4gICAgLy8gRG9uZVxuICAgIEFjdGl2aXR5RmVtYWxlM0RDRyA9IEFjdGl2aXR5RmVtYWxlM0RDRy5maWx0ZXIoKHgpID0+IHguTmFtZSAhPT0gYWN0aXZpdHlOYW1lKTtcbiAgICBBY3Rpdml0eUZlbWFsZTNEQ0dPcmRlcmluZyA9IEFjdGl2aXR5RmVtYWxlM0RDR09yZGVyaW5nLmZpbHRlcigoeCkgPT4geCAhPT0gYWN0aXZpdHlOYW1lKTtcbn1cblxuLyoqXG4gKiBSZW1vdmUgYWN0aXZpdGllcywgZGlzYWxsb3dpbmcgdGhlIFBsYXllciB0byB1c2UgdGhlbVxuICogQHBhcmFtIGN1c3RvbUFjdGl2aXR5IC0gT25seSBOYW1lIGFuZCBUYXJnZXRzIG1hdHRlciBmb3IgdGhpcyBmdW5jdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gUmVtb3ZlQWN0aXZpdGllcyhjdXN0b21BY3Rpdml0aWVzOiBDdXN0b21BY3Rpdml0eVtdKTogdm9pZFxue1xuICAgIGN1c3RvbUFjdGl2aXRpZXMuZm9yRWFjaCgoYWN0aXZpdHkpID0+XG4gICAge1xuICAgICAgICBSZW1vdmVBY3Rpdml0eShhY3Rpdml0eSk7XG4gICAgfSk7XG59XG4iLCJpbXBvcnQgeyBNb2R1bGVUaXRsZSB9IGZyb20gXCIuLi9tb2R1bGVzL19tb2R1bGVcIjtcbmltcG9ydCB7IEZpbmRDaGFyYWN0ZXJJblJvb20gfSBmcm9tIFwiLi9tZXNzYWdpbmdcIjtcblxuZXhwb3J0IGNvbnN0IEFVVEhPUklUWV9HUk9VUF9PUFRJT05TOiBBdXRob3JpdHlHcm91cFtdID0gW1xuICAgIFwiUHVibGljXCIsXG4gICAgXCJGcmllbmRzXCIsXG4gICAgXCJXaGl0ZWxpc3RcIixcbiAgICBcIkxvdmVyc1wiLFxuICAgIFwiT3duZXJzXCIsXG4gICAgXCJDbHVib3duZXJcIixcbiAgICBcIlNlbGZcIlxuXTtcblxuY29uc3QgQVVUSE9SSVRZX0dST1VQX1BSSU9fT1JERVI6IEF1dGhvcml0eUdyb3VwW10gPSBbXG4gICAgXCJOb25lXCIsXG4gICAgXCJQdWJsaWNcIixcbiAgICBcIkZyaWVuZHNcIixcbiAgICBcIldoaXRlbGlzdFwiLFxuICAgIFwiTG92ZXJzXCIsXG4gICAgXCJPd25lcnNcIixcbiAgICBcIkQvcyBGYW1pbHlcIixcbiAgICBcIkNsdWJvd25lclwiLFxuICAgIFwiU2VsZlwiXG5dO1xuXG5jb25zdCBMb3ZlcnMgPSAoQzogQ2hhcmFjdGVyKSA9PiAoQy5Mb3ZlcnNoaXA/LmZpbHRlcigoeCkgPT4geC5NZW1iZXJOdW1iZXIpLm1hcCgobG92ZXIpID0+IGxvdmVyLk1lbWJlck51bWJlcikgPz8gW10pIGFzIG51bWJlcltdO1xuZXhwb3J0IGNvbnN0IEFVVEhPUklUWV9HUk9VUFMgPVxue1xuICAgIFNlbGY6IChDOiBDaGFyYWN0ZXIpID0+IFtDLk1lbWJlck51bWJlciA/PyAtMV0sXG4gICAgQ2x1Ym93bmVyOiAoQzogQ2hhcmFjdGVyKSA9PiBDPy5Pd25lcnNoaXA/Lk1lbWJlck51bWJlciA/IFtDPy5Pd25lcnNoaXA/Lk1lbWJlck51bWJlcl0gOiBbXSxcbiAgICBPd25lcnM6IChDOiBDaGFyYWN0ZXIpID0+IEMuTVBBPy5bTW9kdWxlVGl0bGUuQXV0aG9yaXR5XT8ubmV3T3duZXJzLm93bmVycyA/PyBbXSxcbiAgICBMb3ZlcnM6IExvdmVycyxcbiAgICBXaGl0ZUxpc3Q6IChDOiBDaGFyYWN0ZXIpID0+IEMuV2hpdGVMaXN0ID8/IFtdLFxuICAgIEZyaWVuZExpc3Q6ICgpID0+IFBsYXllci5GcmllbmRMaXN0ID8/IFtdXG59O1xuXG5leHBvcnQgdHlwZSBBdXRob3JpdHlHcm91cCA9IFwiU2VsZlwiIHwgXCJDbHVib3duZXJcIiB8IFwiRC9zIEZhbWlseVwiIHwgXCJPd25lcnNcIiB8IFwiTG92ZXJzXCIgfCBcIldoaXRlbGlzdFwiIHwgXCJGcmllbmRzXCIgfCBcIlB1YmxpY1wiIHwgXCJOb25lXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBJc01lbWJlck51bWJlckluQXV0aEdyb3VwKG1lbWJlck51bWJlcjogbnVtYmVyLCBhdXRoR3JvdXA6IEF1dGhvcml0eUdyb3VwLCBhbGxvd1NlbGYgPSBmYWxzZSwgc291cmNlQ2hhcjogQ2hhcmFjdGVyID0gUGxheWVyKTogYm9vbGVhblxue1xuICAgIGlmIChhdXRoR3JvdXAgPT09IFwiTm9uZVwiKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIERlbnkgc2VsZiBvciBpbnN0YW50IGFjY2Vzc1xuICAgIGlmIChtZW1iZXJOdW1iZXIgPT09IEFVVEhPUklUWV9HUk9VUFMuU2VsZihzb3VyY2VDaGFyKVswXSlcbiAgICB7XG4gICAgICAgIC8vIElmIFNlbGYgQXV0aG9yaXR5R3JvdXAsIG92ZXJyaWRlIHRoZSBhbGxvd1NlbGYgZmxhZ1xuICAgICAgICByZXR1cm4gYXV0aEdyb3VwID09PSBcIlNlbGZcIiA/IHRydWUgOiBhbGxvd1NlbGY7XG4gICAgfVxuXG4gICAgLy8gTm8gaWYgaW4gYmxhY2tsaXN0IHJlZ2FyZGxlc3Mgb2Ygcm9sZVxuICAgIGlmIChzb3VyY2VDaGFyLkJsYWNrTGlzdC5pbmNsdWRlcyhtZW1iZXJOdW1iZXIpIHx8ICgoc291cmNlQ2hhciBhcyBQbGF5ZXJDaGFyYWN0ZXIpPy5HaG9zdExpc3Q/LmluY2x1ZGVzKG1lbWJlck51bWJlcikgPz8gZmFsc2UpKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIEV2ZXJ5b25lIGFsbG93ZWQgZXhjZXB0IGJsb2NrZWQgY2hhcmFjdGVyc1xuICAgIGlmIChhdXRoR3JvdXAgPT09IFwiUHVibGljXCIpXG4gICAge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBGYW1pbHkgb25seSBjYW4gYmUgY2hlY2tlZCBieSBhZ2FpbnN0IHRoZSBQbGF5ZXIgdGhlbXNlbGZcbiAgICBpZiAoYXV0aEdyb3VwID09PSBcIkQvcyBGYW1pbHlcIiAmJiBzb3VyY2VDaGFyLk1lbWJlck51bWJlciA9PT0gUGxheWVyLk1lbWJlck51bWJlcilcbiAgICB7XG4gICAgICAgIHJldHVybiBGaW5kQ2hhcmFjdGVySW5Sb29tKG1lbWJlck51bWJlcik/LklzRmFtaWx5T2ZQbGF5ZXIoKSA/PyBmYWxzZTtcbiAgICB9XG5cbiAgICBsZXQgYXV0aENoZWNrID0gbmV3IFNldDxudW1iZXI+KCk7XG4gICAgLy8gVXNlIHN3aXRjaCBmYWxsdGhyb3VnaCB0byBnZXQgdGhlIHNldCBvZiBhbGwgYXV0aGVkIHVzZXJzIGluIHRoZSBncm91cChzKVxuICAgIHN3aXRjaCAoYXV0aEdyb3VwKVxuICAgIHtcbiAgICAgICAgY2FzZSBcIkZyaWVuZHNcIjpcbiAgICAgICAgICAgIC8vIFNpbmNlIEZyaWVuZHNMaXN0IGlzIG5vdCBvbiBvdGhlciBjaGFyYWN0ZXJzLCBjYW4gb25seSBjaGVjayBpZiB0aGUgUGxheWVyIGFuZCBhbm90aGVyIGNoYXJhY3RlciBhcmUgZnJpZW5kc1xuICAgICAgICAgICAgLy8gVW5hYmxlIHRvIGNoZWNrIGlmIDIgZGlmZmVyZW50IGNoYXJhY3RlcnMgYXJlIGZyaWVuZHNcbiAgICAgICAgICAgIC8vIHRhcmdldENoYXIgaXMgbm9uLXBsYXllciBhbmQgbG9va2luZyBmb3IgUGxheWVyIG1lbWJlciBudW1iZXJcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBzb3VyY2VDaGFyLk1lbWJlck51bWJlciAhPT0gUGxheWVyLk1lbWJlck51bWJlclxuICAgICAgICAgICAgICAgICYmIFBsYXllci5NZW1iZXJOdW1iZXIgPT09IG1lbWJlck51bWJlclxuICAgICAgICAgICAgICAgICYmIEFVVEhPUklUWV9HUk9VUFMuRnJpZW5kTGlzdCgpLmluY2x1ZGVzKHNvdXJjZUNoYXIuTWVtYmVyTnVtYmVyID8/IC0xKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUGxheWVyIGlzIHNlbGYgYW5kIGxvb2tpbmcgdGhyb3VnaCBmcmllbmRzIGxpc3RcbiAgICAgICAgICAgIGlmIChzb3VyY2VDaGFyLk1lbWJlck51bWJlciA9PT0gUGxheWVyLk1lbWJlck51bWJlcilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhdXRoQ2hlY2sgPSBuZXcgU2V0KFsuLi5hdXRoQ2hlY2ssIC4uLkFVVEhPUklUWV9HUk9VUFMuRnJpZW5kTGlzdCgpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlOiBmYWxsdGhyb3VnaCBpcyBpbnRlbnRpb25hbFxuICAgICAgICBjYXNlIFwiV2hpdGVsaXN0XCI6XG4gICAgICAgICAgICBhdXRoQ2hlY2sgPSBuZXcgU2V0KFsuLi5hdXRoQ2hlY2ssIC4uLkFVVEhPUklUWV9HUk9VUFMuV2hpdGVMaXN0KHNvdXJjZUNoYXIpXSk7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlOiBmYWxsdGhyb3VnaCBpcyBpbnRlbnRpb25hbFxuICAgICAgICBjYXNlIFwiTG92ZXJzXCI6XG4gICAgICAgICAgICBhdXRoQ2hlY2sgPSBuZXcgU2V0KFsuLi5hdXRoQ2hlY2ssIC4uLkFVVEhPUklUWV9HUk9VUFMuTG92ZXJzKHNvdXJjZUNoYXIpXSk7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlOiBmYWxsdGhyb3VnaCBpcyBpbnRlbnRpb25hbFxuICAgICAgICBjYXNlIFwiT3duZXJzXCI6XG4gICAgICAgICAgICBhdXRoQ2hlY2sgPSBuZXcgU2V0KFsuLi5hdXRoQ2hlY2ssIC4uLkFVVEhPUklUWV9HUk9VUFMuT3duZXJzKHNvdXJjZUNoYXIpXSk7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlOiBmYWxsdGhyb3VnaCBpcyBpbnRlbnRpb25hbFxuICAgICAgICBjYXNlIFwiQ2x1Ym93bmVyXCI6XG4gICAgICAgICAgICBhdXRoQ2hlY2sgPSBuZXcgU2V0KFsuLi5hdXRoQ2hlY2ssIC4uLkFVVEhPUklUWV9HUk9VUFMuQ2x1Ym93bmVyKHNvdXJjZUNoYXIpXSk7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlOiBmYWxsdGhyb3VnaCBpcyBpbnRlbnRpb25hbFxuICAgICAgICBkZWZhdWx0OlxuICAgIH1cblxuICAgIHJldHVybiBhdXRoQ2hlY2suaGFzKG1lbWJlck51bWJlcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBIaWdoZXN0TGV2ZWxBdXRob3JpdHlHcm91cChtZW1iZXJOdW1iZXI6IG51bWJlciwgdGFyZ2V0Q2hhcjogQ2hhcmFjdGVyID0gUGxheWVyKTogQXV0aG9yaXR5R3JvdXBcbntcbiAgICBpZiAodGFyZ2V0Q2hhci5NZW1iZXJOdW1iZXIgPT09IG1lbWJlck51bWJlcilcbiAgICB7XG4gICAgICAgIHJldHVybiBcIlNlbGZcIjtcbiAgICB9XG4gICAgaWYgKHRhcmdldENoYXI/Lk93bmVyc2hpcD8uTWVtYmVyTnVtYmVyID09PSBtZW1iZXJOdW1iZXIpXG4gICAge1xuICAgICAgICByZXR1cm4gXCJDbHVib3duZXJcIjtcbiAgICB9XG4gICAgaWYgKEFVVEhPUklUWV9HUk9VUFMuT3duZXJzKHRhcmdldENoYXIpLmluY2x1ZGVzKG1lbWJlck51bWJlcikpXG4gICAge1xuICAgICAgICByZXR1cm4gXCJPd25lcnNcIjtcbiAgICB9XG4gICAgaWYgKEFVVEhPUklUWV9HUk9VUFMuTG92ZXJzKHRhcmdldENoYXIpLmluY2x1ZGVzKG1lbWJlck51bWJlcikpXG4gICAge1xuICAgICAgICByZXR1cm4gXCJMb3ZlcnNcIjtcbiAgICB9XG4gICAgaWYgKEFVVEhPUklUWV9HUk9VUFMuV2hpdGVMaXN0KHRhcmdldENoYXIpLmluY2x1ZGVzKG1lbWJlck51bWJlcikpXG4gICAge1xuICAgICAgICByZXR1cm4gXCJXaGl0ZWxpc3RcIjtcbiAgICB9XG4gICAgLy8gRnJpZW5kc1xuICAgIC8vIFRhcmdldGNoYXJhY3RlciBpcyBzZWxmXG4gICAgaWYgKHRhcmdldENoYXIuTWVtYmVyTnVtYmVyID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyICYmIFBsYXllci5GcmllbmRMaXN0Py5pbmNsdWRlcyhtZW1iZXJOdW1iZXIpKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFwiRnJpZW5kc1wiO1xuICAgIH1cbiAgICAvLyBUYXJnZXQgY2hhcmFjdGVyIGlzIG5vdCBzZWxmLCBidXQgbG9va3VwIGNoYXJhY3RlciBpc1xuICAgIGlmICh0YXJnZXRDaGFyLk1lbWJlck51bWJlciAhPT0gUGxheWVyLk1lbWJlck51bWJlclxuICAgICAgJiYgbWVtYmVyTnVtYmVyID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyXG4gICAgICAmJiBQbGF5ZXIuRnJpZW5kTGlzdD8uaW5jbHVkZXModGFyZ2V0Q2hhci5NZW1iZXJOdW1iZXIgPz8gLTEpXG4gICAgKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFwiRnJpZW5kc1wiO1xuICAgIH1cbiAgICAvLyBQdWJsaWNcbiAgICBpZiAoXG4gICAgICAgICEodGFyZ2V0Q2hhci5CbGFja0xpc3QuaW5jbHVkZXMobWVtYmVyTnVtYmVyKVxuICAgICAgICAgIHx8ICgodGFyZ2V0Q2hhciBhcyBQbGF5ZXJDaGFyYWN0ZXIpPy5HaG9zdExpc3Q/LmluY2x1ZGVzKG1lbWJlck51bWJlcikgPz8gZmFsc2UpKVxuICAgIClcbiAgICB7XG4gICAgICAgIHJldHVybiBcIlB1YmxpY1wiO1xuICAgIH1cbiAgICByZXR1cm4gXCJOb25lXCI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBBdXRob3JpdHlJc0NvbXBhcmlzb25Ub0NoYXJhY3Rlcihncm91cDogQXV0aG9yaXR5R3JvdXAsIGNvbXBhcmlzb246IFwiPlwiIHwgXCI8XCIgfCBgJHtcIj1cIiB8IFwiIVwiIHwgXCI+XCIgfCBcIjxcIn09YCA9IFwiPj1cIiwgbWVtYmVyTnVtYmVyOiBudW1iZXIsIGNoYXJhY3RlcjogQ2hhcmFjdGVyID0gUGxheWVyKTogYm9vbGVhblxue1xuICAgIGNvbnN0IHJhbmsgPSBIaWdoZXN0TGV2ZWxBdXRob3JpdHlHcm91cChtZW1iZXJOdW1iZXIsIGNoYXJhY3Rlcik7XG5cbiAgICBjb25zdCBncm91cEluZGV4ID0gQVVUSE9SSVRZX0dST1VQX1BSSU9fT1JERVIuaW5kZXhPZihncm91cCk7XG4gICAgY29uc3QgcmFua0luZGV4ID0gQVVUSE9SSVRZX0dST1VQX1BSSU9fT1JERVIuaW5kZXhPZihyYW5rKTtcblxuICAgIGlmIChncm91cEluZGV4ID09PSAtMSB8fCByYW5rSW5kZXggPT09IC0xKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHN3aXRjaCAoY29tcGFyaXNvbilcbiAgICB7XG4gICAgICAgIGNhc2UgXCI+XCI6XG4gICAgICAgICAgICByZXR1cm4gcmFua0luZGV4ID4gZ3JvdXBJbmRleDtcblxuICAgICAgICBjYXNlIFwiPFwiOlxuICAgICAgICAgICAgcmV0dXJuIHJhbmtJbmRleCA8IGdyb3VwSW5kZXg7XG5cbiAgICAgICAgY2FzZSBcIj49XCI6XG4gICAgICAgICAgICByZXR1cm4gcmFua0luZGV4ID49IGdyb3VwSW5kZXg7XG5cbiAgICAgICAgY2FzZSBcIjw9XCI6XG4gICAgICAgICAgICByZXR1cm4gcmFua0luZGV4IDw9IGdyb3VwSW5kZXg7XG5cbiAgICAgICAgY2FzZSBcIj09XCI6XG4gICAgICAgICAgICByZXR1cm4gcmFua0luZGV4ID09IGdyb3VwSW5kZXg7XG5cbiAgICAgICAgY2FzZSBcIiE9XCI6XG4gICAgICAgICAgICByZXR1cm4gcmFua0luZGV4ICE9IGdyb3VwSW5kZXg7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgY29tcGFyaXNvbiBvcGVyYXRvclwiKTtcbiAgICB9XG59XG4iLCJpbnRlcmZhY2UgQ3JhZnRTZXJ2ZXJJdGVtQnVuZGxlIGV4dGVuZHMgU2VydmVySXRlbUJ1bmRsZVxue1xuICAgIENyYWZ0PzogQ3JhZnRpbmdJdGVtO1xufVxuXG4vKiogR2V0IHRoZSBpdGVtIGZyb20gYSBjaGFyYWN0ZXIgYW5kIGFyZWFcbiAqXG4gKiBAcGFyYW0gY2hhcmFjdGVyIC0gV2hvIHRvIGdldCBpdGVtIGZyb21cbiAqIEBwYXJhbSBzbG90IC0gSXRlbSBzbG90XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBTYXZlQ2hhcmFjdGVySXRlbShjaGFyYWN0ZXI6IENoYXJhY3Rlciwgc2xvdDogQXNzZXRHcm91cE5hbWUpOiBDcmFmdFNlcnZlckl0ZW1CdW5kbGUgfCB1bmRlZmluZWRcbntcbiAgICBjb25zdCBpdGVtID0gSW52ZW50b3J5R2V0KGNoYXJhY3Rlciwgc2xvdCk7XG4gICAgaWYgKCFpdGVtKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBpZiAoIWl0ZW0uQ3JhZnQpXG4gICAge1xuICAgICAgICByZXR1cm4gV2FyZHJvYmVBc3NldEJ1bmRsZShpdGVtKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4uV2FyZHJvYmVBc3NldEJ1bmRsZShpdGVtKSxcbiAgICAgICAgQ3JhZnQ6IENyYWZ0aW5nVmFsaWRhdGUoaXRlbS5DcmFmdCA/PyBudWxsLCBpdGVtLkFzc2V0ID8/IG51bGwsIHRydWUpID4gQ3JhZnRpbmdTdGF0dXNUeXBlLkNSSVRJQ0FMX0VSUk9SID8gaXRlbS5DcmFmdCA6IHVuZGVmaW5lZFxuICAgIH07XG59XG5cbi8qKlxuICogQXBwbHkgYW4gYXJyYXkgb2YgaXRlbXMgdG8gYSBjaGFyYWN0ZXIgd2hpbGUgY2hlY2tpbmcgcGVybWlzc2lvbnMgYW5kIHZhbGlkYXRpb25cbiAqXG4gKiBAcGFyYW0gY2hhcmFjdGVyIC0gQ2hhcmFjdGVyIHRvIGFwcGx5IGl0ZW1zIHRvXG4gKiBAcGFyYW0gaXRlbXMgLSBUaGUgaXRlbXMgdG8gYXBwbHlcbiAqIEBwYXJhbSByZWZyZXNoIC0gUmVmcmVzaCB0aGUgY2hhcmFjdGVyIHRvIHVwZGF0ZSBhcHBlYXJhbmNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBBcHBseUl0ZW1zVG9DaGFyYWN0ZXIoY2hhcmFjdGVyOiBDaGFyYWN0ZXIsIGl0ZW1zOiBDcmFmdFNlcnZlckl0ZW1CdW5kbGVbXSwgcmVmcmVzaCA9IHRydWUpXG57XG4gICAgaWYgKGNoYXJhY3RlciA9PT0gbnVsbCB8fCBpdGVtcyA9PT0gbnVsbCB8fCAhQXJyYXkuaXNBcnJheShpdGVtcykgfHwgIVNlcnZlckNoYXRSb29tR2V0QWxsb3dJdGVtKFBsYXllciwgY2hhcmFjdGVyKSkgeyByZXR1cm47IH1cblxuICAgIHRyeVxuICAgIHtcbiAgICAgICAgY29uc3QgdmFsaWRQYXJhbXMgPSBWYWxpZGF0aW9uQ3JlYXRlRGlmZlBhcmFtcyhjaGFyYWN0ZXIsIFBsYXllci5NZW1iZXJOdW1iZXIgPz8gLTEpO1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgaXRlbXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIENhbiB3ZSByZW1vdmUgdGhlIG9sZCBpdGVtXG4gICAgICAgICAgICBjb25zdCBwcmV2SXRlbSA9IEludmVudG9yeUdldChjaGFyYWN0ZXIsIGl0ZW0uR3JvdXApO1xuICAgICAgICAgICAgaWYgKHByZXZJdGVtICE9PSBudWxsICYmICFWYWxpZGF0aW9uQ2FuUmVtb3ZlSXRlbShwcmV2SXRlbSwgdmFsaWRQYXJhbXMsIHRydWUpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQ2FuIHdlIGFkZCB0aGUgbmV3IGl0ZW0/XG4gICAgICAgICAgICBjb25zdCBuZXdJdGVtID0gSW52ZW50b3J5SXRlbUNyZWF0ZShjaGFyYWN0ZXIsIGl0ZW0uR3JvdXAsIGl0ZW0uTmFtZSk7XG4gICAgICAgICAgICBpZiAobmV3SXRlbSAhPT0gbnVsbCAmJiAhVmFsaWRhdGlvbkNhbkFkZEl0ZW0obmV3SXRlbSwgdmFsaWRQYXJhbXMpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBBcHBseSB0aGUgaXRlbSB3ZSB3YW50XG4gICAgICAgICAgICBjb25zdCB3b3JuSXRlbSA9IEludmVudG9yeVdlYXIoY2hhcmFjdGVyLCBpdGVtLk5hbWUsIGl0ZW0uR3JvdXAsIGl0ZW0uQ29sb3IsIGl0ZW0uRGlmZmljdWx0eSA9PT0gdW5kZWZpbmVkID8gMCA6IGl0ZW0uRGlmZmljdWx0eSwgUGxheWVyLk1lbWJlck51bWJlciwgaXRlbS5DcmFmdCwgZmFsc2UpO1xuICAgICAgICAgICAgaWYgKHdvcm5JdGVtICE9PSBudWxsICYmIGl0ZW0uUHJvcGVydHkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gTWVyZ2UgdGhlIHByb3BlcnRpZXMgb24gdGhlIG5ldyBpdGVtXG4gICAgICAgICAgICAgICAgY29uc3QgbmV3UHJvcGVydHkgPSB3b3JuSXRlbS5Qcm9wZXJ0eSA9PT0gdW5kZWZpbmVkID8ge30gOiBzdHJ1Y3R1cmVkQ2xvbmUod29ybkl0ZW0uUHJvcGVydHkpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcHJvcEtleSBvZiBPYmplY3Qua2V5cyhpdGVtLlByb3BlcnR5KSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5ld1Byb3BlcnR5W3Byb3BLZXldID0gaXRlbS5Qcm9wZXJ0eVtwcm9wS2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgd29ybkl0ZW0uUHJvcGVydHkgPSBuZXdQcm9wZXJ0eTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocmVmcmVzaClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKENoYXRSb29tQ2hhcmFjdGVyPy5sZW5ndGggPT09IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgQ2hhcmFjdGVyUmVmcmVzaChjaGFyYWN0ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIENoYXRSb29tQ2hhcmFjdGVyVXBkYXRlKGNoYXJhY3Rlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKVxuICAgIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJFcnJvciB3aGlsZSBhcHBseWluZyBpdGVtcyB0byBjaGFyYWN0ZXJcIiwgZXJyb3IpO1xuICAgIH1cbn1cbiIsImltcG9ydCBwYWNrYWdlSW5mbyBmcm9tIFwiLi4vLi4vcGFja2FnZS5qc29uXCI7XG5cbmV4cG9ydCBjb25zdCBNUEFfTkFNRSA9IHBhY2thZ2VJbmZvLm5hbWUudG9Mb2NhbGVVcHBlckNhc2UoKTtcbmV4cG9ydCBjb25zdCBNUEFfVkVSU0lPTiA9IHBhY2thZ2VJbmZvLnZlcnNpb247XG5leHBvcnQgY29uc3QgTVBBX1JFUE8gPSBwYWNrYWdlSW5mby5yZXBvc2l0b3J5LnVybDtcblxuZXhwb3J0IGNvbnN0IElDT05TID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgUEFXOiBcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRllBQUFCV0NBWUFBQUJWVm1IM0FBQUFBWE5TUjBJQXJzNGM2UUFBQUFSblFVMUJBQUN4and2OFlRVUFBQUFKY0VoWmN3QUFEc0VBQUE3QkFiaVJhKzBBQUFBWmRFVllkRk52Wm5SM1lYSmxBSGQzZHk1cGJtdHpZMkZ3WlM1dmNtZWI3andhQUFBRzdFbEVRVlI0WHUyY1Y4ZzBOUmhHZnhWN0FUdUtZa05GN0lLaTNsZ3Z4SWFLSWlKMnZWQ3hGeFFiMkM0VmU4RjJvYUpnQTN0RnNIY0ZHNG9Oc1dEdnZUM25tNDJFNFozWlpKTFpiK2NuQnc0NzdDWXpTWFoySm5tVDJUbUZRcUZRS0JRS2hVS2hVQ2dVeHJHYVBGKytMZitSMzh2NzVRRnlNWmtMOXJXL3ZFOStKemtXeCtUWWxHR3U0bWo1dS95M3dVOGtEWndLKzJCZjFqR1FNaHdsNXdwb1ZLdVNscGZLcnBEWDJxZmw0QnQzSThsUDBhcGNrOWZLV01oajdhdEp5clNoSEN3UFNhdGk0enhkaG5LYXRQWXh6Z2ZsSUZsUFdoVUtkVXM1RHRKWWVVT2xqTDB3NytpMUQvWVl2WGJsQ3RsV1BqNGpUUXE3ajE0SHhTUFNPa3RpcE52VUJKOVplV0o4V0E2SytlV0gwcXBNakc5STY2emxQVDZ6OHNUNGdhU3NnMkU1K1lPMEtoUHJWcklPNzFscFk2V015OHJzOUhXTlhVUXVWRzBtcy9mbzFjZDZyd3NMU3NxYW5iNGFGamdqY3JDOW5LL2FuSUZ0M3N1Qk8zT3owMWZEL2l4L3F6YVRXVU91WG0zT3dEYnY1WUF5L2xKdDVxV3ZoaVg0OFhXMW1ReGxYS2ZhbklIdFhPWCtSbExXN1BUVnNIOUs3cmk1V0hYMENqa2pWSlR4cjJvekw2RU5Tem91OURHOE5Ick5nWC9uem5rWGYzSDBHZ3B0RU5SbWJZbFdrQ2RKeHRURU05K1JiMHJpbkdmSkxXUWJqNDVlYytCL3FiRmZjQnVQalY2YjJGeFNWK3BNM1dtRHQrUUQ4a1JKRzBYQnFPWkw2ZTZhVGI0Z2lZSE9JK3NzS3IrUVZyNVl6NVVPdHEwMHNWSTJ5bWhCL1orWFZqNWYybWcvR1VTWG9TS0YyRnJXdVV4YTZXTWxwdXM0UmxwcFlyVml2d3c4bnBOVytqYkhCdW1Ya2I5S0szT0k1MGdmN3VDeDhWakxIYVZqSjJtbGlaRXkrVDBOT0Z0YWFVT2t6V2k3Um5LY0RYZElmOVIxbzdUU2hjcDB5a3JTd1hiYk5FK0lsTWxCV1crWFZyb1lhYnRHbnBSV3BsaTVLU3dzZ1liNFVWcnBRcVJNZFo2U1Z0b1FLWXY3b2lnalpiWFN4ZnFFYk9RbmFXWHE0cjNTY1pDMDBvUkkzam9IU3l0dGlBZEtCMlcwMG5TUnRtdkV5cERpQmRJUk05bm5mRTlhM1N0K3ZueG01V256RXVtZ2JGYWFGQnRoR0dwbFNIRUg2WWlkOU50R09sYVdLMWFiTTJ3cnJUeE4rcE9VbE1sS2srSlhzaEU2OVZhbUZOK1g3bm9MWjhpL3BaWFc5MUFKdTBoR2NkeDUrYmx4TFhQellZZEpLNjh2UFlBenBZT3lNSlMxMHFiWU9pQTZWVnFaVWoxZSttd203NUxXM1oxKzVIWVNhTlQ2NTBnRHN3OGdyZFgzWk44Y3c2VnpuQ0RyYVhOSTIvMVBmY1RFWFB1cjFXWldQcFpyU2lyclEvaHZVOGxQblBBZHgzNVd3czZTcmx2VDFBbFJLWDdTTkNvdy9HUWRBNEhyVHlXalFxN0RQbHliR1paeVdja054MzZ0MnJSaFRHeDlJNmx5OW9XeWx5VHFaTzNIbC9WZjF0Uk5FN3RLYXorcDBtWmpZWGhtWlU3MUdobENiTmVNYXkranNSQmliNTZoQnEwN0krTEZUOUxhUVlxdFA1TVJSSXlzdk9Qa0J0VTJWZTZnREZiK0ZHbXIwUERyekFVL3h4amZsMGpRNHJLSmk2U1ZMMGFXR3pXeGhBeUoyTVZJRzlWdmptTTVXVm83NnlwRHllVmxIVUozZDBvclR4ZXZsbFlZazJPbkRLMHRhYU5PWENldEhYYVJEalJuamM4cWtydTNsVDVGQXRGTFNoK09UUm1zOUYya2JaSzRSVm83anZWbDZVUDNpRzZZbFRhSHI4dTFwYzhyMGtvYksyMlNoY3VsZFlBWS9WbUFQU1g5Vml0ZFRwa2w4QVB3NTBrclhZeTBSVmFPa0YwYmc1R1N1NzRlSzYwMGZmbUgzRmNDYzFSZEkzalUvVWpaQyt2S2U2UjE0RGJkY3NrTHBmWDVKSFJEVHBhWFdwKzNTWjE3VzB2cncxQ1NXQ1puZzFVUTUwZlNUYXZjS3EwMGs5VE5jekZjSHJjYWtyb3hPK3RINTRLeHVpVXhNUDRuQ01KVU9PTisrcWtzMnlHaXhmcllteVFGSkVvZk0vVHNFNlpodU1ZVFU5aEhzZzZNc2hQM3BUdEdmT0VaU2JUcVhUbVYwTkNFL0t3ellqWmxyVVRxU1RWcmNFWjBtVXFlbEhmTFFUWXVJVCtyUXRPa1AxVXpDRTZSVmtXbVVkY1ZtM3JvbG9URVVxZEZBdWJSYTdCbWcxeno5SlAwQmpuVjVIcm9ZdEl5dVZtUEt5UVJIS0FONVBEUjY5Q2dIUTZwTnFjUHduSjlyRXVZbEt4N3pYYWk1VHhqTjVaTFZadURaQzJaNjZHUnJBM0w5TytRb1MzV3J6YlR5ZG13MmI3dFdjUi83Q21KbkEyNzlPaDF5TFF1SG80aFo4TU9OcWpoa2EwT09SczIxd056czBucmlzRVljallzM1pXaE01VjFZTnJHNmgvbWtyOTl5cjNnd3BlNXNGNGVzYy9CMDlJcWRBNlpxenF1OWw1T21UcWFXcGhMc2dxZHFsdk54Ny9BNVhvb3IrNG1jcXJKdVZ6STZhOE5JSDVxcFVueFlqbjFNS3p0OHVCRmt5eXRyM09sdE5KMmtZWE9DOGhCd093dE03VldSV0xrYWNFbXJwSlduaGg1K250cWIxaE5zUHlkeFdsV2hjYjVyZlNmeDJxQzliUmRuMUs4V2RZWDZRMEtWanVITG1SbWRmYjFNdWJQSGphUXQ4bVFKM0dRbnN0dXNsY21PUXdsck1oelc2d3k1QUZoL2tLS2luNHVXWW5JbEE2TEpENlRYZUJmT0ZoOHdURjRTSVg5MDlqc24vL29va0VmbDBIUEN4UUtoVUtoVUNnVUNvVkNZYnFaTStjL2NGTFZiZ3RlVEVZQUFBQUFTVVZPUks1Q1lJST1cIixcbiAgICBESVNDT1JEOiBcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRllBQUFCQkNBWUFBQUJMaFZQVUFBQUFBWE5TUjBJQXJzNGM2UUFBQUFSblFVMUJBQUN4and2OFlRVUFBQUFKY0VoWmN3QUFOZEVBQURYUkFYUGZnUDRBQUE5ZVNVUkJWSGhlN1Z3TGNGeFZHVDZ2KzlwWEFuM1JGbHVSVjFVR0VDdVZRU2tPNEF1Zm1KQzBCVnVhTkpVaUtqaUtJekJSa1JsRUdCL0ZvVFJ0c1VyYUpoUkZ4d2MraWlNNnZoQ2RBaXBxS3dwU3JDVnRkcFBzN24yZDQvL2ZQU2tOeVc3MmNRdVY1cHR1Yy9lL2QrKzk1enYvK2MvLy8rZS9sNUlYQ2N1dWxwblE5MDlrU3A2aGlGcklLSDlkNEx1ZGZSc3pmOUdIeElvbHE3TW5NMnB0bGlyWXFTUjVtQW02TXhVbWRxMWZUN1A2a01PS3cwWnM2eHFWTWxUeERVU1N0eWdpRnl1bFRoZkNhZWFjRWFVSUVZS1FrZUdoNy9adHlMeFgveVJXdEhWbSs1UHBUR3ZnUXlPaGxXR29TQmdVc29xcXh4amhEMUV1SGlTY1A5eTdsdVgwVDJKRnJNUmVmbFYybWd6c0N5UUoza3NVWGN5RlBaZHpTcVNFaGdVdS9JVldFbUFWUUNtSGRobEVCZjdadlQzSmh5TmhUR2p2R0RxZEdRSTBWVUluaGxwS0NXT0N3RDNCWDBJa0VCMkV4V2ZoZmg1aVJIekhOZDJmYmwrYjJhY1BiaGdORTd0NDhjL0UzRlBPdVVneHRZUVM5WFpoT0ROUVF3TGZCeTF4NFlnU2tlT2hpR1ZuU0xFd3NkWjJkeXUyZS9kL0hKbDJUSzhJQTFrV09NcFZ4Z21UdWJSdldjU2JQWnNVUC90WkN0MDJGdTJkMmEyV2sybDNpNmlNNVpwSW9XTk5JTnFNTk5wekN3T3c4U05LNlZaL3dQcnh2ZmRTVHg5WUYrb210clVyUDA4d2NobFY1REl1bkZlakZ2aStCNXFBWkZZSDFGclFLRkFwOVFrbFZZb3lmZ0tZalRtd1p4b2xOQU8yT0FVM2FJTVpFZERnNkY1aFc4Rm1BUHVLY013d2RCdXdwd1pBSC9lQTdKL3cyLzFVeWRzb055d2xnK2c2MVlBQnlZWmhFYkRIb0JTRnZ4TkdlbGxBdjNIUEJ1ZEpmVWhOcUoxWTBLVDJaM0ozTUc1ZGJscFdLZ2hnNFB0NTJGRk9NeXRCUmVRYVpqTFNta2dDRFFQdTRJUERHRDVncEV1bkhqMC9IQmo5WS9BYi9QRG90N0FaQWUyMzc0M0FYelFCdFRjUGZ3TnpBUkVHSjU3bjVsWG85d2FEcVN0QmcwZHRTbFdvK2NwdG5ZT2ZUbVdhYmk3a3dXYUdEWTJXSXg2TW1jUkpXbVFvbC90Yy80YW1iaTJ1Q2pVUjI5YVJlelUzakoyZ1BFWnBJbnI1QXljOEdCbWhyNExYOTkrVjJxbkZrMElQb0NwQjVUb2hiQ0QxNWEycGh3SVZpQXVMMHpCY3IwVlZvV3BpMjFkbGw5dUpwdk04ZHhpKzFXTzcvbDlCd1dNWUlrNGljL2FscXdiWGFPR2txSXFoMXE3OVRZS1lmNFVKYXhZNDJWcDZkSUZ6bTRUU1B4RDQ0YW5iNzU3YzM2MUtZNmxrTjFoMkVrakYyZi9vUkJnV2lHMG5qdUZjM2FSRkZUR3B4bDdXV1RoQmN2VUVIR29lTFJOV09WQ2N5RUROd0wwOG8zL1R0TWUxZUVKTXFyRSs5VzR5TEFkSVBYb21ySEpRb0ZpR2FUTUlaRzdXb3JLb3FMR1hyaHc0VFpqT28rQ25VNldxajJKZXpzQ2doSE9MQkVIK2pkdDZtbjZyeGVOUVVXTXBGVGNhaGdPa0h0MG00RkJnTk1pNXdJMktBVU5aalkyQ0FTRWVoeENSVFducldJeG01b0xRZjhPMjljbmZhL0VZbE5WWXhlVEhUY3NCVXFlMDlZWEFQQVFYQnRyY1QyclJPRXlvc2N0V0RjK1dqTzZpaENXT2RrK2dITkJEQUlZRHFmd0ZmVDNOdTdYNElDYlUyRkRKRHN0S1RKRmFBZWdoV0haQ2dQS3QxcUl4R0Vkc1Y1Y3k0RTlINEUvWjFjcWd4UGQ5b29qNklIQ1cwTUtER0Vkc1R1WGVhdHJwVndaQlVVdW1VQTRoY0dUYm1WbURLdnNlTFRxSWNjUXFwYTdRdWZybyt4UXFBeFByRUkydDBGOFBZc3prMVhKRmJnWVg5RW5Pak9SVXBGVWRHRVB2SVBTa1lDZjEzWmw0V292SGFpem43R0xiVGsyUldnTndnamVkcE1tQ2NNeUM2QmhpS1pVZlFOVStmSUJCRTYxVGpiTkFodzNQWDY5aTlONFFjSjFPS25tSi9ocmg0TlZhT2dhUDVaUTl5WVdaaVhzdEMzT1p3akIwZlVFUkdncVJDempZYU1aOUh4ZitZRWVNUUNLRmtZenFCM0FaUG5MbzRSNFloKzlCZ0lVYitzaDRnT1lnbEg1UkVQYXEzcDdVczVFczJnTUFVdDlzMmVsWVNjVUd3am5Sajk3akZmTzNlMjd1M1NSMEZ3Wmg0Vnl2T05MbGUva0hHTGNpRXVLWkxCVVJJZ0dkNXVESzhVOWROMytsN3hmZjVPTTEzWkdMWFMvL0JSbDRUK0U5eFRscTBCellkdG9PWlBBV0xYcGVZOXM2czErem5jd2F0emlrSlkyaHRLeWRBSTBzckN2ay9SdnUvMmJUZ040MUJrdXZMRnlvcExyTE1KeFhBZkVncVhmSUtyaGVCaXR1OWhBYXJONnlMdlU5dldNTWxsMzlYRVo1VGpjWGlXdFJjMlVOdFFlVmdKMEYzSDE5VzAvbUN2eXVXNkZvZTJmdVVXR21UZ3RnYURZT1Npd3JoV3RGTjJ6dHlVeWF1MnhmdVc4T00xSTd1TEFXK0I1MmJLM2tncVlhS1Z5T2Z4b3VldjZXdTV2L29YZVVSZHVxb1E5YlptcHRYS1lJUndxY2E1Zk1aaFpnRFVJMEh0cVdEODZINFBmVVVrbFFvOERTb1JRcHVybitha2hGYk5zMFkwK3hPUHgrdUg0ZTEvSnJCWTFjbmlEd0FyZWxHbElSZlQzcE8xd3Z0ODYwMEF3MUR1U09NWDZpT2MwOUNiK1hESTNnWjVsV3lxaWxKS2Nja0JqZnpROTd4UDJZRmxXRmIyMmU4UVRZdjlzTjA5YVM2bUdhWUZPOS9NYnRHNXQvcDBWVlFkaitkWjQ3c2c4VDE0MENKMGpEVEZJLzhCZmk5NGhZeXRUWm95VStqUUtKZ1JueXZtLzN6SXhteDVvZ3hUcG9hQUUxc0ZxZ0xmZTlRa2dvLzRvV1ZZM2V0ZE56WUdPL0lZemFSOGxFaUVxZHFGeUUyeEd4TUIrZkdZLy9TcUhuVUd1Tis3V2dKbXpibE53RFBmOTdJYXJYV2l6TERFUHZ6M1VYTUN2K3ZSRHI4dXFlTko4SHVwTkE1dW00emJCY0V0ejJVMG9uYnd6b3duamVNRVI0NFYrMXFBNnd4OUgvckJaWXlBd1hycmhpV2hFbTMrMTdJeDdZUnkyb0h6S00wcXduTCs1V2d2M3BxYUZwUVBOY0ZVTVlpOFFDcTBWcXUzV1hvMHRGOXV2TkdrRHJMaGdPUFEvZG9Md2V2QTBCL1ZsUTB1Tm1QNTJmQ1hOTk1FZUlwQ2tQVmo3WEQ0VkdCY3lzQ2tUZFJndU15YmpjNXVSUWp0Nm9HU0h6WU9aU2NMK04yMEowMnd3enhRTHFIODlJd09jeURzTWdCaU1iell4R1VqREZqOWVpZW5CaUxiY1MyVFg0VGZSL0hUQ0lNUnZDM1FUZWUrTlFFRFpUd2drN25sRktqNC9MSThETzRVS0FPWkRuYTBsTmFMbEdPb1NxUlNFK2tWRWwwSCtraXI1KytmSUR6VnBVRTVnUzV4cW1GV2xiWEdCTXZRS0lWWTFvMXppVUprRjJHYkJjYzNmeGtaRjNXVlptVmhoV3YzcUJ1UTNMU1RlNUJtblZvaG9oVjhndzNpUVFtTVI1YUxIbnhPTnFsWUJsODlEUVUxczdzeE11c3BWRGE2dUMrWjEyUzFuN2tBd0RDR3lZdVA1ZFhjL1VaSjh2WFRuWWJ0cVpzL3lvMUQ4ZVJLYUpzam5vcTh5S2sxaUU3N3ZFRVBadHJaMEh6dFNpU2NHYWg3NEM0ZVZyUzg4ejFJWWdnTTYwVXZOVHFxbnE0dUNXanIwbkNjTytJNHhjcFBnSXdPY240SFRIb2NaT0J4ZXBKSTBKK09RTUJBbEpVemdQTEZtVlc2ekZaZERObHE0ZXVkMnkwbGU1VVZGelBhREVMUTRUeTA0dVc5S1YzL0QycTJYRkdMVjk1ZUJDMDJqNkNSZld0TGh6czZXMGdKcE8yem9IL3lLRXN5Q2VCTXdoZ0o0VFpoS2Rabno4WlMwNDRCdnVXV2YrQ1VpSTFBT0xtUTFpWFFERDVwTVFCaStDVURhR0NZUkdDU0RQS3p3R0p1VVdMbEkvM0hJblBhQjNraVZkdVFVUUFpK0g4WEVONTVZVlpkSmltN2xMWU53ZzB2ZitUZHM3Qi8vRmhEMHY3bFdERWxTVWVjSWtDV2dVRUNxZkFORWVhSTBEQnY0azA4ck14S05LcWNMNGdDbEVCdkdrVzh3OUIvMjRDN3lHRVpoS2p3UG5mWUZscDdudkZjRVdZbnZqSlJXQnVRdm8xQU5BYkhZdjVjYk1PREpibFJBdHgzQWJpQzVGT05pUkVPUERWc3dHL2lCbzlGQWNQbjJJd05HQWo1MGU3Z0kvakQ2bGxQbkc0N2dxZ1E1NEVJeEUyb21ma3VrNVhLUWlWR1RyUjYrSENmd1hyV29Td3NjWGpkaWpDbWdCNFU4eHpvVzFLWUFsaDJtREFibUZhSE1LOFNCU1VvVTJWdVZ3WXBsQ1BHQ1lPcVUwQjE0SkhZaVBXRFF1Z2hobUd0d2RvV1ZITHJEZHBYdkZwYUI0SmxKS3NTQ1o3R2ZnMysyTHg4Umlac3NoQ2dKMzN4M2FBYjZjWnp2cFNJWjI1MGdDdW4wVzNCdEVuTkx6aGg2TXFsZ0VwaGthSnhmZFNVcnBmMEZ2eVQ0emhyVTByR2dCcC84WkdZU0x0bTNJWEVpcE9zTnp2VnVVOUo4MHJWUlUwRkJhRFgxcFNFYWYxclRTMFFkODltZDh0L2hsR0sxbjl2VmtMcURLWHdqdTREL2pXSzB0Y1NuMzBaYk9BeWVZd3U0MVRmc2N6OFhLRUV4SzFONTRIUHJRMy9pbWkxc0oyOXV6NWM3NVVTalowdktVWTAyZmVaRlNxaFUrRndyRE9RNWpCSHo1alF3eEFzSThSZnorYkJTUUNEdGFFOE84aU8vbjk4TWsvVE5ndU05MmpRYzJiV0pSdVBlZWxmdlNhVFBkQWZmMktiaVBXZlZWeHBRaVRNdHlDSFRZSTBIb0xZMFliRzN0NThheEYzY1R5cThYd21MNHRIUHRlUDdrbmx2Y294VDlLaUhleHEzck04L3BBN0FNdjJtSXV1Y1NHYndObXY0bVJkVnJEQ05wSTlIWWVDbUJiT2pZS0pzUGtWS1VLU3BMT3RBVTNUME1QY1poMGpDQU14eUdwWFA1M2pDY2hEMEIrMzVKSlBteDUzdS9PUFRoWWt5TUI1YXpVakgxVVZDcWVYRFBjTzM2d2x5MDA1RkNxdkJXYjJEM2pmZmVlNW8zNWl4TFZnNmNRODNrbDB6VFd1UjdHSEppd3JuMkM2R21ZSFVoOU41ZWFPam13UGUvUHRIeTlOSTErZmtxWUtjckVwd0ZzK2xycFFwUEJoN253aDBlQTNaUVlFSURpWHBobmdTSkszVUVWZzdtZ1g4NkNIYnRXZmpzQWsxOW5CTDVSMG40enExMzJYL1hQemtJZkI4WEplWUtPTU1LdzNMbTRMTVc5V1c0Y0JuR2dxRnY0U3RPL3FEQy9MVmJlNDc5dWQ0NUVXdVl4cnZ1V2xDRDZ3M1RhdmFLZVdnRURvODZDSVlMWXpFRXhNNWg0STJzM2RxVHVVYnZLb3RXMEdxbXN0T0ZNbWFBUmg4amxXcVdLa2d5eXZVTmhLQ0FJaThFelVMZ2VDQU0yVDdYZFFmS0ZkMGRpcmJPN0JmQTNsL0R3QTBvdldXcHZ1Y3NNS0RDMGlRZlpta1lZN2Y4N2VFL2YvR1JSeGFPV1U4cXk5YlNsZnZuRXpQUkRWcHdCU1l5U2krd3FTZXRSNG50cEVpK2tGM1MzOU84VFF0ZkVyUjE1QzZ4RStuN01IZUxHbGM3UU5kaElnWTFJVEM2ZWoyLytKbnRHNXQzNloxak1La2FMdnZReUJ0QjZXL2t6SG9uWmJSR2drdnYxaW9Vc2p2Nk56UmZxSVV2S1M3dEdQeUJrMmg2UitWM2NyMEFxS0ZtTWpJL1llaitoRWp2ODF2V1p4N1NleWRFMWVPN2ZmWFFSWnlZSDRmSjRHMWM0S3VUQ2pwYlhoNmpMNnB4dzVIWGJlK1o5cGdXdjZTSWt0M01lQlQ2Zk5JWEJxRm5ZWm9KRXVLa0dub1BBbHUzYlZsbi8xRHZyb2lxaVIzRjBxNzhlZUE5ZkZpUjhIM2dBUmgrQmVPUEFVSWhuNzIxYjBQemRWcDBSS0N0NDhCTlRxcjVobUorWXU4SEF3aGhHZ1RtRndtSzhWMnF5QjI5NjUwZGVuZFZxSm5ZVWVEVDRURHpyNERPYkRjTWV4N0tBaDlkbHRMaUhMb2dnWi8vbStrbXo5aThtUjVSVCtPMXRpcVROdy8vMFRCVHIvRzlra25Bc0ZZWXBXSzh3Qy9zZ1lpMER6emhUZmVzcytxcUM2dWIyRkcwcnRtYk1sVHpPMkNzTE1VQXdMUVNLWlJEWUF1ZndybDlQVTIvaWc0OHd0RFM4ZHpabHBINnRUQ3NLS0Qzdkh3ZTZOMEJuNjNFTkw3ZjZGczZHeWIyVUZ4K2xad21BKzg4SnNSU3R6ajBtLzZOeDl5dWR4MlJhTy9JZnNSeWt1Y0h2cnZGTkoyZjM3Mld4ZlEyVGtMK0J6V3F6Vy9mQ3dSd0FBQUFBRWxGVGtTdVFtQ0NcIlxufSk7XG5cbmV4cG9ydCBjb25zdCBBQ1RJVklUWV9OQU1FX1BSRUZJWCA9IFwiTVBBX1wiO1xuZXhwb3J0IGNvbnN0IEJFTExfU09VTkQgPSBuZXcgQXVkaW8oXCJBdWRpb1xcXFxCZWxsTWVkaXVtLm1wM1wiKTtcblxuZXhwb3J0IGNvbnN0IEJFRF9QRVJGRUNUID0gW1wiUGV0QmVkXCIsIFwiQ3JpYlwiXTtcbmV4cG9ydCBjb25zdCBCRURfTk9STUFMID0gW1wiTG93Q2FnZVwiLCBcIktlbm5lbFwiLCBcIkJlZFwiLCBcIk1lZGljYWxCZWRcIiwgXCJDdXNoaW9uXCIsIFwi5bqK5bem6L65X0x1emlcIiwgXCLluorlj7PovrlfTHV6aVwiXTtcbmV4cG9ydCBjb25zdCBCRURfQkFEID0gW1wiRnV0dXJpc3RpY0NyYXRlXCIsIFwiRG9sbEJveFwiLCBcIuS5s+iDtuW4puW6il9MdXppXCJdO1xuZXhwb3J0IGNvbnN0IEFMTF9CRURTID0gQkVEX1BFUkZFQ1QuY29uY2F0KEJFRF9OT1JNQUwsIEJFRF9CQUQpO1xuXG5leHBvcnQgY29uc3QgTk9fU1RVQ0tfQkVEUyA9IFtcIlBldEJlZFwiLCBcIkNyaWJcIiwgXCJCZWRcIiwgXCJNZWRpY2FsQmVkXCJdO1xuXG5leHBvcnQgY29uc3QgT1JHQVNNX0FDVElWSVRZX1JFR0VYID0gL09yZ2FzbVswLTldLztcbiIsIi8qKlxuICogR2V0IGEgcmFuZG9tIGVsZW1lbnQgZnJvbSBhbiBhcnJheSBvZiBvYmplY3RzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBSYW5kb21FbGVtZW50PFQ+KGFycmF5OiBUW10pOiBUIHwgbnVsbFxue1xuICAgIGlmIChhcnJheS5sZW5ndGggPT0gMCkgeyByZXR1cm4gbnVsbDsgfVxuICAgIHJldHVybiBhcnJheVtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBhcnJheS5sZW5ndGgpXTtcbn1cblxuLyoqXG4gKiBNYWtlIGEgbmV3IGFycmF5IHRoYXQgaXMgYSBjb3B5IG9mIHRoZSBvcmdpbmFsIG1pbnVzIGFueSBtYXRjaGluZyBlbGVtZW50cyBpbiB0aGUgZmlsdGVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBGaWx0ZXJBcnJheUZyb21BcnJheTxUPihhcnJheTogVFtdLCBmaWx0ZXJBcnJheTogVFtdKTogVFtdXG57XG4gICAgbGV0IG5ld0FycmF5ID0gc3RydWN0dXJlZENsb25lKGFycmF5KTtcbiAgICBmaWx0ZXJBcnJheS5mb3JFYWNoKChlbGUpID0+XG4gICAge1xuICAgICAgICBuZXdBcnJheSA9IG5ld0FycmF5LmZpbHRlcigoYmFkRWxlKSA9PiBlbGUgIT09IGJhZEVsZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIG5ld0FycmF5O1xufVxuXG4vKipcbiAqIFNodWZmbGUgYW4gYXJyYXkgaW4gcGxhY2UsIHRoYW5rcyB0byBDaGF0IEdQVFxuICovXG5leHBvcnQgZnVuY3Rpb24gU2h1ZmZsZUFycmF5PFQ+KGFycmF5OiBUW10pOiBUW11cbntcbiAgICBmb3IgKGxldCBpID0gYXJyYXkubGVuZ3RoIC0gMTsgaSA+IDA7IGktLSlcbiAgICB7XG4gICAgICAgIGNvbnN0IGogPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoaSArIDEpKTsgLy8gcmFuZG9tIGluZGV4IGZyb20gMCB0byBpXG4gICAgICAgIFthcnJheVtpXSwgYXJyYXlbal1dID0gW2FycmF5W2pdLCBhcnJheVtpXV07IC8vIHN3YXAgZWxlbWVudHNcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xufVxuIiwiaW1wb3J0IHsgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9fbW9kdWxlXCI7XG5pbXBvcnQgeyBMb2NhbGl6ZWRUZXh0IH0gZnJvbSBcIi4uL2xvY2FsaXphdGlvbi9sb2NhbGl6YXRpb25cIjtcblxuZXhwb3J0IGludGVyZmFjZSBNUEFNZXNzYWdlQ29udGVudFxue1xuICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgICBba2V5OiBzdHJpbmddOiBhbnk7IC8vIEFsbG93cyBhbnkgb3RoZXIga2V5cyB3aXRoIHZhbHVlcyBvZiBhbnkgdHlwZVxufVxuaW50ZXJmYWNlIE1QQU1lc3NhZ2UgZXh0ZW5kcyBTZXJ2ZXJDaGF0Um9vbU1lc3NhZ2VcbntcbiAgICBDb250ZW50OiBcIk1QQVwiO1xuICAgIFR5cGU6IFwiSGlkZGVuXCI7XG4gICAgRGljdGlvbmFyeTogW01QQU1lc3NhZ2VDb250ZW50XTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIENvbnRlbnRJc01QQU1lc2FnZShjb250ZW50OiBTZXJ2ZXJDaGF0Um9vbU1lc3NhZ2UpOiBjb250ZW50IGlzIE1QQU1lc3NhZ2VcbntcbiAgICByZXR1cm4gKFxuICAgICAgICBjb250ZW50LlR5cGUgPT09IFwiSGlkZGVuXCJcbiAgICAgICAgJiYgY29udGVudC5Db250ZW50ID09PSBcIk1QQVwiXG4gICAgICAgICYmIGNvbnRlbnQ/LkRpY3Rpb25hcnk/Lmxlbmd0aCA9PT0gMVxuICAgICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBHZXRNUEFNZXNzYWdlRnJvbUNoYXQobWVzc2FnZTogU2VydmVyQ2hhdFJvb21NZXNzYWdlKTogTVBBTWVzc2FnZUNvbnRlbnQgfCBudWxsXG57XG4gICAgcmV0dXJuIENvbnRlbnRJc01QQU1lc2FnZShtZXNzYWdlKSA/IG1lc3NhZ2UuRGljdGlvbmFyeVswXSA6IG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBTZW5kTVBBTWVzc2FnZShtZXNzYWdlOiBNUEFNZXNzYWdlQ29udGVudCwgdGFyZ2V0PzogbnVtYmVyKTogdm9pZFxue1xuICAgIFNlcnZlclNlbmQoXCJDaGF0Um9vbUNoYXRcIiwge1xuICAgICAgICBUeXBlOiBcIkhpZGRlblwiLFxuICAgICAgICBDb250ZW50OiBcIk1QQVwiLFxuICAgICAgICBEaWN0aW9uYXJ5OiBbbWVzc2FnZV0sXG4gICAgICAgIFRhcmdldDogdGFyZ2V0XG4gICAgfSk7XG59XG5cbi8qKlxuICogU2VuZCBhbiBhY3Rpb24gdG8gdGhlIHJvb20gb3IgY2FuIHNwZWNpZnkgYSBjaGFyYWN0ZXIgd2hvIHdpbGwgb25seSBzZWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFNlbmRBY3Rpb24oY29udGVudDogc3RyaW5nLCB0YXJnZXQ6IENoYXJhY3RlciB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCwgZGljdGlvbmFyeTogQ2hhdE1lc3NhZ2VEaWN0aW9uYXJ5ID0gW10pOiB2b2lkXG57XG4gICAgU2VydmVyU2VuZChcIkNoYXRSb29tQ2hhdFwiLCB7XG4gICAgICAgIENvbnRlbnQ6IFwiTWF5YVNjcmlwdFwiLFxuICAgICAgICBUeXBlOiBcIkFjdGl2aXR5XCIsXG4gICAgICAgIERpY3Rpb25hcnk6IFt7IFRhZzogXCJNSVNTSU5HIEFDVElWSVRZIERFU0NSSVBUSU9OIEZPUiBLRVlXT1JEIE1heWFTY3JpcHRcIiwgVGV4dDogTG9jYWxpemVkVGV4dChjb250ZW50KSB9LCAuLi5kaWN0aW9uYXJ5XSxcbiAgICAgICAgVGFyZ2V0OiB0YXJnZXQ/Lk1lbWJlck51bWJlciB9XG4gICAgKTtcblxuICAgIC8vIFNlcnZlclNlbmQoXCJDaGF0Um9vbUNoYXRcIiwge1xuICAgIC8vICAgICBDb250ZW50OiBcIkJlZXBcIixcbiAgICAvLyAgICAgVHlwZTogXCJBY3Rpb25cIixcbiAgICAvLyAgICAgRGljdGlvbmFyeTogW3sgVGFnOiBcIkJlZXBcIiwgVGV4dDogTG9jYWxpemVkVGV4dChjb250ZW50KSB9XSxcbiAgICAvLyAgICAgVGFyZ2V0OiB0YXJnZXQ/Lk1lbWJlck51bWJlclxuICAgIC8vIH0pO1xufVxuXG4vKipcbiAqIFNlbmQgYW4gZW1vdGUgdG8gdGhlIHJvb20gb3IgY2FuIHNwZWNpZnkgYSBjaGFyYWN0ZXIgd2hvIHdpbGwgb25seSBzZWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFNlbmRFbW90ZShjb250ZW50OiBzdHJpbmcsIHRhcmdldDogQ2hhcmFjdGVyIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkKTogdm9pZFxue1xuICAgIFNlcnZlclNlbmQoXCJDaGF0Um9vbUNoYXRcIiwge1xuICAgICAgICBDb250ZW50OiBgJHtjb250ZW50fWAsXG4gICAgICAgIFR5cGU6IFwiRW1vdGVcIixcbiAgICAgICAgVGFyZ2V0OiB0YXJnZXQ/Lk1lbWJlck51bWJlciB9XG4gICAgKTtcbn1cblxuLyoqXG4gKiBEaXNwbGF5IHRleHQgdG8gdGhlIGxvY2FsIHBsYXllciBvbmx5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBOb3RpZnlQbGF5ZXIoY29udGVudDogc3RyaW5nLCB0aW1lb3V0PzogbnVtYmVyKTogdm9pZFxue1xuICAgIGNvbnN0IGRhcmtUaGVtZSA9IFBsYXllci5DaGF0U2V0dGluZ3M/LkNvbG9yVGhlbWUgPT09IFwiRGFya1wiIHx8IFBsYXllci5DaGF0U2V0dGluZ3M/LkNvbG9yVGhlbWUgPT09IFwiRGFyazJcIjtcbiAgICBDaGF0Um9vbVNlbmRMb2NhbChgPHAgc3R5bGU9J2JhY2tncm91bmQtY29sb3I6IzAwYzJmZjtjb2xvcjoke2RhcmtUaGVtZSA/IFwid2hpdGVcIiA6IFwiYmxhY2tcIn07bWFyZ2luLWJvdHRvbTowLjI1ZW07bWFyZ2luLXRvcDowJz4ke2NvbnRlbnR9PC9wPmAsIHRpbWVvdXQpO1xufVxuXG4vKipcbiAqIERpc3BsYXkgdGV4dCB0byB0aGUgbG9jYWwgcGxheWVyLCBtYWtpbmcgaXQgY2xlYXIgaXRzIGZyb20gTVBBXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBNUEFOb3RpZnlQbGF5ZXIoY29udGVudDogc3RyaW5nLCB0aW1lb3V0PzogbnVtYmVyKTogdm9pZFxue1xuICAgIE5vdGlmeVBsYXllcihgJHtMb2NhbGl6ZWRUZXh0KFwiTVBBXCIpfTogJHtjb250ZW50fWAsIHRpbWVvdXQpO1xufVxuXG4vKipcbiAqIEZpbmQgYSBDaGFyYWN0ZXIgaW4gdGhlIGNoYXQgcm9vbSB3aXRoIGJ5IG51bWJlciwgbmFtZSwgb3Igbmljay4gTm90IGNhc2Ugc2Vuc3RpdmUuXG4gKiBJZiBtdWx0aXBsZSBwZW9wbGUgZXhpc3RzIHdpdGggdGhlIHNhbWUgbmlja25hbWUgb3IgbmFtZS4gSXQgd2lsbCByZXR1cm4gdGhlIGZpcnN0IHBlcnNvbiB0aGF0IG1hdGNoZXMuXG4gKiBVc2UgTWVtYmVyTnVtYmVyIGlmIHlvdSB3YW50IHRvIGd1cmFudGVlIHRvIGZpbmQgdGhhdCBzcGVjaWZpYyBjaGFyYWN0ZXIuXG4gKlxuICogQHBhcmFtIHNlYXJjaCAtIFRoZSBNZW1iZXJOdW1iZXIsIE5hbWUsIG9yIE5pY2tuYW1lIG9mIHRoZSBwZXJzb24geW91IHdhbnQgdG8gZmluZFxuICovXG5leHBvcnQgZnVuY3Rpb24gRmluZENoYXJhY3RlckluUm9vbShzZWFyY2g6IHN0cmluZyB8IG51bWJlciwgeyBNZW1iZXJOdW1iZXIgPSB0cnVlLCBOaWNrbmFtZSA9IHRydWUsIE5hbWUgPSB0cnVlIH0gPSB7fSk6IENoYXJhY3RlciB8IG51bGxcbntcbiAgICAvLyBNYWtlIHN1cmUgcGxheWVyU2VhcmNoIGlzIGEgc3RyaW5nIC0gbm90IGNhc2Ugc2Vuc3RpdmVcbiAgICBpZiAodHlwZW9mIHNlYXJjaCAhPT0gXCJzdHJpbmdcIilcbiAgICB7XG4gICAgICAgIHNlYXJjaCA9IHNlYXJjaC50b1N0cmluZygpO1xuICAgIH1cbiAgICBzZWFyY2ggPSBzZWFyY2gudG9Mb2NhbGVMb3dlckNhc2UoKTtcblxuICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgdGhlIENoYXJhY3RlcnMgaW4gdGhlIGNoYXRcbiAgICBmb3IgKGNvbnN0IGNoYXJhY3RlciBvZiBDaGF0Um9vbUNoYXJhY3RlcilcbiAgICB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIChNZW1iZXJOdW1iZXIgJiYgY2hhcmFjdGVyPy5NZW1iZXJOdW1iZXIgPT09IE51bWJlcihzZWFyY2gpKVxuICAgICAgICAgICAgfHwgKE5pY2tuYW1lICYmIGNoYXJhY3Rlcj8uTmlja25hbWU/LnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09IHNlYXJjaClcbiAgICAgICAgICAgIHx8IChOYW1lICYmIGNoYXJhY3Rlci5OYW1lLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09IHNlYXJjaClcbiAgICAgICAgKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gY2hhcmFjdGVyO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gTm8gY2hhcmFjdGVyIGZvdW5kXG4gICAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogUmVtb3ZlIGFsbCBjb250ZW50IHRoYXQgaXMgT09DIGZyb20gYSBtZXNzYWdlXG4gKiBAcmV0dXJucyBPbmx5IHRoZSBJQyBtZXNzYWdlIGNvbnRlbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFJlbW92ZU9PQ0NvbnRlbnRGcm9tTWVzc2FnZShtZXNzYWdlOiBzdHJpbmcpOiBzdHJpbmdcbntcbiAgICBjb25zdCByYW5nZXMgPSBTcGVlY2hHZXRPT0NSYW5nZXMobWVzc2FnZSkucmV2ZXJzZSgpO1xuICAgIHJhbmdlcy5mb3JFYWNoKChyYW5nZSkgPT5cbiAgICB7XG4gICAgICAgIG1lc3NhZ2UgPSBtZXNzYWdlLnN1YnN0cmluZygwLCByYW5nZS5zdGFydCkgKyBtZXNzYWdlLnN1YnN0cmluZyhyYW5nZS5zdGFydCArIHJhbmdlLmxlbmd0aCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG59XG5cbnR5cGUgTWVzc2FnZUFjdGlvbiA9IChzZW5kZXI6IENoYXJhY3RlciwgY29udGVudDogTVBBTWVzc2FnZUNvbnRlbnQpID0+IHZvaWQ7XG5leHBvcnQgaW50ZXJmYWNlIEhvb2tlZE1lc3NhZ2VcbntcbiAgICBtb2R1bGU6IE1vZHVsZVRpdGxlIHwgbnVsbDtcbiAgICBtZXNzYWdlOiBzdHJpbmc7XG4gICAgYWN0aW9uOiBNZXNzYWdlQWN0aW9uO1xufVxuZXhwb3J0IGNvbnN0IGhvb2tlZE1lc3NhZ2VzOiBIb29rZWRNZXNzYWdlW10gPSBbXTtcblxuLyoqXG4gKiBBZGQgYSBsaXN0ZW5lciBmb3IgYW4gaW5jb21pbmcgTVBBIG1lc3NhZ2VcbiAqIEBwYXJhbSBsaXN0ZW5lci50aXRsZSAtIFdoYXQgbW9kdWxlIGRvZXMgdGhlIGxpc3RlbmVyIGJlbG9uZyB0b1xuICogQHBhcmFtIGxpc3RlbmVyLm1lc3NhZ2UgLSBUaGUgbWVzc2FnZSBzdHJpbmcgdG8gbWF0Y2ggd2l0aCB0aGUgaW5jb21pbmcgbWVzc2FnZVxuICogQHBhcmFtIGxpc3RlbmVyLmFjdGlvbiAtIFJ1biB0aGlzIGZ1bmN0aW9uIHdoZW4gYSBtYXRjaCBpcyBmb3VuZFxuICovXG5leHBvcnQgZnVuY3Rpb24gQWRkRGF0YVN5bmNMaXN0ZW5lcihsaXN0ZW5lcjogSG9va2VkTWVzc2FnZSk6IHZvaWRcbntcbiAgICBob29rZWRNZXNzYWdlcy5wdXNoKHtcbiAgICAgICAgbW9kdWxlOiBsaXN0ZW5lci5tb2R1bGUsXG4gICAgICAgIG1lc3NhZ2U6IGxpc3RlbmVyLm1lc3NhZ2UsXG4gICAgICAgIGFjdGlvbjogbGlzdGVuZXIuYWN0aW9uXG4gICAgfSBhcyBIb29rZWRNZXNzYWdlKTtcbn1cbi8qKlxuICogQWRkIG1hbnkgbGlzdGVuZXJzIGZvciBhbiBpbmNvbWluZyBNUEEgbWVzc2FnZVxuICovXG5leHBvcnQgZnVuY3Rpb24gQWRkRGF0YVN5bmNMaXN0ZW5lcnMobGlzdGVuZXJzOiBIb29rZWRNZXNzYWdlW10pOiB2b2lkXG57XG4gICAgbGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyKSA9PlxuICAgIHtcbiAgICAgICAgaG9va2VkTWVzc2FnZXMucHVzaCh7XG4gICAgICAgICAgICBtb2R1bGU6IGxpc3RlbmVyLm1vZHVsZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGxpc3RlbmVyLm1lc3NhZ2UsXG4gICAgICAgICAgICBhY3Rpb246IGxpc3RlbmVyLmFjdGlvblxuICAgICAgICB9IGFzIEhvb2tlZE1lc3NhZ2UpO1xuICAgIH0pO1xufVxuLyoqXG4gKiBSZW1vdmUgYWxsIHRoZSBsaXN0ZW5lcnMgYmFzZWQgb24gdGhlIE1vZHVsZVRpdGxlXG4gKiBAcGFyYW0gbW9kdWxlIC0gTW9kdWxlIHRoZSBsaXN0ZW5lcnMgeW91IHdhbnQgdG8gcmVtb3ZlIGJlbG9uZ3MgdG9cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFJlbW92ZURhdGFTeW5jTGlzdGVuZXJzKG1vZHVsZTogTW9kdWxlVGl0bGUgfCBudWxsKTogdm9pZFxue1xuICAgIGZvciAobGV0IGkgPSBob29rZWRNZXNzYWdlcy5sZW5ndGggLSAxOyAwIDw9IGk7IGktLSlcbiAgICB7XG4gICAgICAgIGlmIChob29rZWRNZXNzYWdlc1tpXS5tb2R1bGUgPT09IG1vZHVsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgaG9va2VkTWVzc2FnZXMuc3BsaWNlKGksIDEpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gR2V0RW50cnlGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YTogU2VydmVyQ2hhdFJvb21NZXNzYWdlLCBhdHRyaWJ1dGU6IHN0cmluZyk6IENoYXRNZXNzYWdlRGljdGlvbmFyeUVudHJ5IHwgdW5kZWZpbmVkXG57XG4gICAgaWYgKCFkYXRhLkRpY3Rpb25hcnkpXG4gICAge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICB0cnlcbiAgICB7XG4gICAgICAgIHJldHVybiBkYXRhLkRpY3Rpb25hcnkuZmlsdGVyKChlbnRyeSkgPT4gISFlbnRyeVthdHRyaWJ1dGVdKVswXTtcbiAgICB9XG4gICAgY2F0Y2ggKF9lcnJvcilcbiAgICB7XG4gICAgICAgIC8vIGVoaGggdGhpcyBkb2Vzbid0IHdvcmsgY3V6IC5maWx0ZXIgaXMgbm90IGRlZmluZWQgb24gZmlyc3QgbG9hZCBmb3Igc29tZSByZWFzb25cbiAgICAgICAgLy8gTm8gYmlnIGRlYWwgc28gSSBkb24ndCByZWFsbHkgY2FyZSBpZiBpdHMgYW4gaXNzdWUgZm9yIG5vd1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGE6IFNlcnZlckNoYXRSb29tTWVzc2FnZSwgYXR0cmlidXRlOiBzdHJpbmcpOiBhbnkgfCB1bmRlZmluZWRcbntcbiAgICByZXR1cm4gR2V0RW50cnlGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgYXR0cmlidXRlKT8uW2F0dHJpYnV0ZV07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBBcnJheVRvUmVhZGFibGVTdHJpbmcoYXJyOiBzdHJpbmdbXSk6IHN0cmluZ1xue1xuICAgIGNvbnN0IGxlbmd0aCA9IGFyci5sZW5ndGg7XG4gICAgaWYgKGxlbmd0aCA9PT0gMClcbiAgICB7XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbiAgICBlbHNlIGlmIChsZW5ndGggPT09IDEpXG4gICAge1xuICAgICAgICByZXR1cm4gYXJyWzBdO1xuICAgIH1cbiAgICBlbHNlIGlmIChsZW5ndGggPT09IDIpXG4gICAge1xuICAgICAgICByZXR1cm4gYCR7YXJyWzBdfSBhbmQgJHthcnJbMV19YDtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGAke2Fyci5zbGljZSgwLCAtMSkuam9pbihcIiwgXCIpfSwgYW5kICR7YXJyW2xlbmd0aCAtIDFdfWA7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gTWVtYmVyTnVtYmVyVG9OYW1lKG1lbWJlcjogbnVtYmVyLCBub3RGb3VuZDogc3RyaW5nID0gXCJVbmtub3duXCIpOiBzdHJpbmdcbntcbiAgICAvLyBTZWxmP1xuICAgIGlmIChtZW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXIpXG4gICAge1xuICAgICAgICByZXR1cm4gUGxheWVyLk5hbWU7XG4gICAgfVxuXG4gICAgLy8gRnJpZW5kP1xuICAgIGxldCBmcmllbmQgPSBQbGF5ZXIuRnJpZW5kTmFtZXM/LmdldChtZW1iZXIpO1xuICAgIGlmIChmcmllbmQpXG4gICAge1xuICAgICAgICByZXR1cm4gZnJpZW5kO1xuICAgIH1cblxuICAgIC8vIEluIHJvb20/XG4gICAgbGV0IHJvb20gPSBGaW5kQ2hhcmFjdGVySW5Sb29tKG1lbWJlciwgeyBNZW1iZXJOdW1iZXI6IHRydWUsIE5pY2tuYW1lOiBmYWxzZSwgTmFtZTogZmFsc2UgfSk7XG4gICAgaWYgKHJvb20pXG4gICAge1xuICAgICAgICByZXR1cm4gcm9vbS5OYW1lO1xuICAgIH1cblxuICAgIHJldHVybiBMb2NhbGl6ZWRUZXh0KG5vdEZvdW5kKTtcbn1cbiIsImltcG9ydCB7IFJhbmRvbUVsZW1lbnQsIFNodWZmbGVBcnJheSB9IGZyb20gXCIuL2dlbmVyYWxcIjtcblxuY29uc3QgTElOS19SRUdFWCA9IC9eKGh0dHBzPzpcXC9cXC8pPyh3d3dcXC4pP1tcXHctXSsoXFwuW2Etel17Mix9KShcXC5bYS16XXsyLH0pPyhcXC9bXlxcc10qKT8kL2k7XG5cbmV4cG9ydCBmdW5jdGlvbiBBcHBlbmRQZXRTcGVlY2godGV4dDogc3RyaW5nLCBwZXRQaHJhc2VzOiBzdHJpbmdbXSk6IHN0cmluZ1xue1xuICAgIC8vIE5vIHZhbGlkIHBldCBwaHJhc2VzIHRvIGFkZFxuICAgIGNvbnN0IHBldFNvdW5kID0gUmFuZG9tRWxlbWVudChwZXRQaHJhc2VzKTtcbiAgICBpZiAocGV0U291bmQgPT09IG51bGwpXG4gICAge1xuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICB9XG5cbiAgICBpZiAoL1suIT9dJC8udGVzdCh0ZXh0KSlcbiAgICB7XG4gICAgICAgIHJldHVybiBgJHt0ZXh0fSAke3BldFNvdW5kLmNoYXJBdCgwKS50b0xvY2FsZVVwcGVyQ2FzZSgpICsgcGV0U291bmQuc2xpY2UoMSl9LmA7XG4gICAgfVxuICAgIGlmICgvW2EtekEtWl0kLy50ZXN0KHRleHQpICYmICFMSU5LX1JFR0VYLnRlc3QodGV4dCkpXG4gICAge1xuICAgICAgICByZXR1cm4gYCR7dGV4dH0sICR7cGV0U291bmR9LmA7XG4gICAgfVxuICAgIHJldHVybiBgJHt0ZXh0fSAke3BldFNvdW5kfS5gO1xufVxuXG4vKipcbiAqIEFwcGx5IHBldCBoZWFyaW5nIHRvIGEgU3BlZWNoVHJhbnNmb3JtR2FnR2FyYmxlIGlucHV0XG4gKiBAcGFyYW0gYXJncyBBcmdzIG9mIHRoZSBTcGVlY2hUcmFuc2Zvcm1HYWdHYXJibGVcbiAqIEBwYXJhbSBuZXh0IC0gTmV4dCBTcGVlY2hUcmFuc2Zvcm1HYWdHYXJibGUgdG8gY2FsbFxuICogQHBhcmFtIHBocmFzZXNUb0tlZXAgLSBTb3VuZHMgdGhlIHBldCBrbm93c1xuICogQHJldHVybnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEFwcGx5UGV0SGVhcmluZyhbdGV4dCwgaW50ZW5zaXR5LCBpZ25vcmVPT0NdOiBbc3RyaW5nLCBudW1iZXIsIGJvb2xlYW4gfCB1bmRlZmluZWRdLFxuICAgIG5leHQ6IChhcmdzOiBbdGV4dDogc3RyaW5nLCBpbnRlbnNpdHk6IG51bWJlciwgaWdub3JlT09DPzogYm9vbGVhbiB8IHVuZGVmaW5lZF0pID0+IHN0cmluZyxcbiAgICBwaHJhc2VzVG9LZWVwOiBzdHJpbmdbXSk6IHN0cmluZ1xue1xuICAgIC8vIEVycm9yIGNvcnJlY3Rpb24gYmVjYXVzZSB1aGhoaGggd2h5Pz8/IElkayBjdXogc3RyaW5nIGlzIG5vdCBhIHN0cmluZywgaXRzIHVuZGVmaW5lZFxuICAgIGlmICghdGV4dFxuICAgICAgfHwgaXNOYU4oaW50ZW5zaXR5KVxuICAgICAgfHwgISh0eXBlb2YgaWdub3JlT09DID09IFwiYm9vbGVhblwiIHx8IHR5cGVvZiBpZ25vcmVPT0MgPT0gXCJ1bmRlZmluZWRcIilcbiAgICApXG4gICAge1xuICAgICAgICByZXR1cm4gbmV4dChbdGV4dCwgaW50ZW5zaXR5LCBpZ25vcmVPT0NdKTtcbiAgICB9XG5cbiAgICAvLyBTcGxpdCB0aGUgaW5wdXQgdGV4dCBpbnRvIGRpZmZlcmVudCBzdWJzdHJpbmdzIGV4bHVkaW5nIHRoZSB3b3JkcyB5b3Ugd2FudCB0byBrZWVwXG4gICAgLy8gU3RlcCAxOiBHZXQgdGhlIHdvcmRzIHlvdSB3YW50IHRvIGtlZXAgaWYgYW55XG4gICAgLy8gY29uc3QgcGhyYXNlc1RvS2VlcCA9IEdldFBldEhlYXJpbmdQaHJhc2VzKCk7XG4gICAgLy8gQWRkIHRoZSBQbGF5ZXIncyBuYW1lIGFzIGEgd29yZCB0aGV5IGNhbiBoZWFyXG4gICAgcGhyYXNlc1RvS2VlcC5wdXNoKChQbGF5ZXIuTmlja25hbWUgfHwgUGxheWVyLk5hbWUpLnRvTG9jYWxlTG93ZXJDYXNlKCkpO1xuICAgIC8vIEFkZCB0aGUgUGxheWVyJ3MgZ2VuZGVyIGFzIGluIHRoZSBleGFtcGxlLCBcIkdvb2QgZ2lybFwiXG4gICAgaWYgKFBsYXllci5HZXRQcm9ub3VucygpID09PSBcIlNoZUhlclwiKVxuICAgIHtcbiAgICAgICAgcGhyYXNlc1RvS2VlcC5wdXNoKFwiZ2lybFwiKTtcbiAgICAgICAgcGhyYXNlc1RvS2VlcC5wdXNoKFwic2hlXCIpO1xuICAgICAgICBwaHJhc2VzVG9LZWVwLnB1c2goXCJoZXJcIik7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIHBocmFzZXNUb0tlZXAucHVzaChcImJveVwiKTtcbiAgICAgICAgcGhyYXNlc1RvS2VlcC5wdXNoKFwiaGVcIik7XG4gICAgICAgIHBocmFzZXNUb0tlZXAucHVzaChcImhpbVwiKTtcbiAgICB9XG5cbiAgICAvLyBTdGVwIDI6IEZpbmQgdGhlIG1hdGNoZXMgaWYgdGhleSBleGlzdCBpbiB0aGUgb3JnaW5hbCBtZXNzYWdlXG4gICAgLy8gQ2hlY2sgbG93ZXIgY2FzZSBjdXogdGhlIHBocmFzZSB3ZSBsb29raW5nIGZvciBpbiBsb3dlciBjYXNlLCBkb2VzIG5vdCBtYXR0ZXIgZm9yIGZpbmFsIHJlc3VsdCwgb25seSB3YW50IHBvc2l0aW9uXG4gICAgY29uc3QgbWVzc2FnZSA9IHRleHQudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICBpbnRlcmZhY2UgUmFuZ2UgeyBzdGFydDogbnVtYmVyOyBsZW46IG51bWJlciB9XG4gICAgbGV0IGZvdW5kUGhyYXNlczogUmFuZ2VbXSA9IFtdO1xuICAgIHBocmFzZXNUb0tlZXAuZm9yRWFjaCgocGhyYXNlKSA9PlxuICAgIHtcbiAgICAgICAgY29uc3QgcmVnRXhwID0gbmV3IFJlZ0V4cChgXFxcXGIke3BocmFzZX1cXFxcYmAsIFwiZ1wiKTtcbiAgICAgICAgY29uc3QgcmVnZXhNYXRjaGVzID0gWy4uLm1lc3NhZ2UubWF0Y2hBbGwocmVnRXhwKV07XG4gICAgICAgIHJlZ2V4TWF0Y2hlcy5mb3JFYWNoKChtYXRjaCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgZm91bmRQaHJhc2VzLnB1c2goeyBzdGFydDogbWF0Y2guaW5kZXgsIGxlbjogcGhyYXNlLmxlbmd0aCB9KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvLyBSZW1vdmUgZHVwbGljYXRlcyBiZWNhdXNlIEkgYW0gdG9vIGxhenkgdG8gcHJvcGVybHkgZGVidWcgd2h5IGR1cGxpY2F0ZXMgYXJlIGJlaW5nIHBvcHVsYXRlZFxuICAgIGNvbnN0IHVuaXF1ZVJhbmdlcyA9IG5ldyBNYXA8c3RyaW5nLCBSYW5nZT4oKTtcbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgZm91bmRQaHJhc2VzKVxuICAgIHtcbiAgICAgICAgY29uc3Qga2V5ID0gYCR7aXRlbS5zdGFydH0tJHtpdGVtLmxlbn1gO1xuICAgICAgICBpZiAoIXVuaXF1ZVJhbmdlcy5oYXMoa2V5KSlcbiAgICAgICAge1xuICAgICAgICAgICAgdW5pcXVlUmFuZ2VzLnNldChrZXksIGl0ZW0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvdW5kUGhyYXNlcyA9IEFycmF5LmZyb20odW5pcXVlUmFuZ2VzLnZhbHVlcygpKTtcblxuICAgIC8vIE5vIG1hdGNoZXMgZm91bmQgc28gY2FuIHNraXAgYW5kIGVhcmx5IHJldHVyblxuICAgIGlmIChmb3VuZFBocmFzZXMubGVuZ3RoID09PSAwKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG5leHQoW3RleHQsIGludGVuc2l0eSwgaWdub3JlT09DXSk7XG4gICAgfVxuXG4gICAgLy8gU29ydCBzbyB0aGF0IGl0IGlzIGNvbnN0cnVjdGVkIGluIHRoZSBjb3JyZWN0IG9yZGVyIHdoZW4gcHV0IGJhY2sgdG9nZXRoZXI7IGxvd2VyIHN0YXJ0aW5nIGluZGV4ZXMgZmlyc3RcbiAgICBmb3VuZFBocmFzZXMuc29ydCgoYSwgYikgPT4gYS5zdGFydCAtIGIuc3RhcnQpO1xuICAgIC8vIFJlbW92ZSBhbnkgcGhyYXNlcyB0aGF0IGFyZSBmb3VuZCB3aXRoaW4gT09DIHNwZWVjaCByYW5nZTtcbiAgICBjb25zdCBvb2NSYW5nZXMgPSBTcGVlY2hHZXRPT0NSYW5nZXModGV4dCk7XG4gICAgb29jUmFuZ2VzLmZvckVhY2goKHJhbmdlKSA9PlxuICAgIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IGZvdW5kUGhyYXNlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgcGhyYXNlID0gZm91bmRQaHJhc2VzW2ldO1xuICAgICAgICAgICAgLy8gUmVtb3ZlIGlmIHRoZSBwaHJhc2Ugc3RhcnRzIG9yIGVuZHMgd2l0aGluIHRoZSBvb2MgcmFuZ2VcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAocmFuZ2Uuc3RhcnQgPCBwaHJhc2Uuc3RhcnQgJiYgcGhyYXNlLnN0YXJ0IDwgcmFuZ2Uuc3RhcnQgKyByYW5nZS5sZW5ndGgpXG4gICAgICAgICAgICAgICAgfHwgKHJhbmdlLnN0YXJ0IDwgcGhyYXNlLnN0YXJ0ICsgcGhyYXNlLmxlbiAmJiBwaHJhc2Uuc3RhcnQgKyBwaHJhc2UubGVuIDwgcmFuZ2Uuc3RhcnQgKyByYW5nZS5sZW5ndGgpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZm91bmRQaHJhc2VzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gTWF5IG5lZWQgdG8gY2hlY2sgdGhhdCBvbmUgcGhyYXNlIGRvZXMgbm90IHN0YXJ0IGJlZm9yZSBhbm90aGVyIGVuZHMsIGFuZCBpZiBzbyBtZXJnZSBpbnRvIGEgc2luZ2xlIGxvbmdlciBlbnRyeVxuICAgIGxldCBsYXN0SW5kZXggPSAwO1xuICAgIGxldCBmaW5hbFRleHQgPSBcIlwiO1xuICAgIGZvdW5kUGhyYXNlcy5mb3JFYWNoKChmb3VuZCkgPT5cbiAgICB7XG4gICAgICAgIC8vIEJlZm9yZSB0aGUgcGhyYXNlIHRvIG9taXRcbiAgICAgICAgZmluYWxUZXh0ICs9IG5leHQoW3RleHQuc3Vic3RyaW5nKGxhc3RJbmRleCwgZm91bmQuc3RhcnQpLCBpbnRlbnNpdHksIGlnbm9yZU9PQ10pO1xuXG4gICAgICAgIC8vIFBocmFzZSB3ZSB3YW50IHRvIG9taXRcbiAgICAgICAgbGFzdEluZGV4ID0gZm91bmQuc3RhcnQgKyBmb3VuZC5sZW47XG4gICAgICAgIGZpbmFsVGV4dCArPSB0ZXh0LnN1YnN0cmluZyhmb3VuZC5zdGFydCwgZm91bmQuc3RhcnQgKyBmb3VuZC5sZW4pO1xuICAgIH0pO1xuICAgIC8vIExhc3Qgb2YgdGhlIHRleHQgdG8gZ2FyYmxlIHVwXG4gICAgZmluYWxUZXh0ICs9IG5leHQoW3RleHQuc3Vic3RyaW5nKGxhc3RJbmRleCksIGludGVuc2l0eSwgaWdub3JlT09DXSk7XG5cbiAgICByZXR1cm4gZmluYWxUZXh0O1xufTtcblxuY29uc3QgUlVTSEVEX1NQRUFLX1BFUkNFTlRBR0UgPSAwLjU7XG5jb25zdCBQRVRfU1BFQUtfU1RSRU5HVEhfTUFQID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgTG93OiAwLjAxLFxuICAgIE1lZGl1bTogMC4wMjUsXG4gICAgSGlnaDogMC4wNSxcbiAgICBNYXg6IDAuMTI1XG59KTtcbmNvbnN0IFBFVF9TUEVBS19FTkRfUEVSQ0VOVEFHRSA9IE9iamVjdC5mcmVlemUoe1xuICAgIExvdzogMC4wNSxcbiAgICBNZWRpdW06IDAuMSxcbiAgICBIaWdoOiAwLjIsXG4gICAgTWF4OiAwLjI1XG59KTtcblxuLyoqXG4gKiBBZGQgcGV0IHNvdW5kcyB0byB0aGUgaW5wdXQgc3BlZWNoIHdoaWxlIG5vdCBnYXJibGluZyBhbnl0aGluZ1xuICogQHBhcmFtIG1zZyBTcGVlY2ggdG8gY2hhbmdlXG4gKiBAcGFyYW0gYWxsb3dlZFBldFBocmFzZXMgUGV0IHNvdW5kcyB0byBhZGRcbiAqIEBwYXJhbSBzdHJlbmd0aCBob3cgbXVjaCByZXBsYWNpbmcgdG8gZG9cbiAqIEByZXR1cm5zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBOb25EaXNydXB0aXZlUGV0U3BlZWNoKFxuICAgIG1zZzogc3RyaW5nLFxuICAgIGFsbG93ZWRQZXRQaHJhc2VzOiBzdHJpbmdbXSxcbiAgICBzdHJlbmd0aDogXCJPZmZcIiB8IFwiTG93XCIgfCBcIk1lZGl1bVwiIHwgXCJIaWdoXCIgfCBcIk1heFwiXG4pOiBzdHJpbmdcbntcbiAgICAvLyBObyBwaHJhc2VzIHdlIGNhbiB1c2UsIHNraXBcbiAgICBpZiAoYWxsb3dlZFBldFBocmFzZXMubGVuZ3RoID09PSAwIHx8IHN0cmVuZ3RoID09PSBcIk9mZlwiKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG1zZztcbiAgICB9XG5cbiAgICAvLyBVc2UgYnVja2V0IHN5c3RlbSBzbyB3b3JkcyBhcHBlYXIgbGVzcyByYW5kb21cbiAgICAvLyBCdWNrZXQgaXMgMnggYWxsb3dlZCBwZXQgcGhyYXNlcyBiZWZvcmUgcmVmaWxsaW5nXG4gICAgbGV0IHBldFBocmFzZUJ1Y2tldDogc3RyaW5nW10gPSBbXTtcbiAgICBmdW5jdGlvbiBHZXRQZXRQaHJhc2UoKTogc3RyaW5nXG4gICAge1xuICAgICAgICBpZiAocGV0UGhyYXNlQnVja2V0Lmxlbmd0aCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgcGV0UGhyYXNlQnVja2V0ID0gYWxsb3dlZFBldFBocmFzZXMuY29uY2F0KGFsbG93ZWRQZXRQaHJhc2VzKTtcbiAgICAgICAgICAgIHBldFBocmFzZUJ1Y2tldCA9IFNodWZmbGVBcnJheShwZXRQaHJhc2VCdWNrZXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwZXRQaHJhc2VCdWNrZXQucG9wKCkgPz8gXCJcIjtcbiAgICB9XG5cbiAgICAvLyBMb29wIHRocm91Z2ggYWxsIHRoZSBvb2MgcmFuZ2VzIHRvIHNwbGl0IHRleHQgaW50byBvb2MgYW5kIG5vbiBvb2MgY2h1bmtzXG4gICAgLy8gU2tpcCBhZGRpbmcgcGV0IHNvdW5kcyB0byBvb2Mgc2VnbWVudHNcbiAgICBsZXQgbmV4dEluZGV4ID0gMDtcbiAgICBsZXQgc2VnbWVudHM6IHsgdGV4dDogc3RyaW5nOyBvb2M6IGJvb2xlYW4gfVtdID0gW107XG4gICAgY29uc3Qgb29jUmFuZ2VzID0gU3BlZWNoR2V0T09DUmFuZ2VzKG1zZyk7XG4gICAgZm9yIChjb25zdCByYW5nZSBvZiBvb2NSYW5nZXMpXG4gICAge1xuICAgICAgICBpZiAobXNnLnN1YnN0cmluZyhuZXh0SW5kZXgsIHJhbmdlLnN0YXJ0KSAhPT0gXCJcIilcbiAgICAgICAge1xuICAgICAgICAgICAgc2VnbWVudHMucHVzaCh7IHRleHQ6IG1zZy5zdWJzdHJpbmcobmV4dEluZGV4LCByYW5nZS5zdGFydCksIG9vYzogZmFsc2UgfSk7XG4gICAgICAgIH1cbiAgICAgICAgc2VnbWVudHMucHVzaCh7IHRleHQ6IG1zZy5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQsIHJhbmdlLnN0YXJ0ICsgcmFuZ2UubGVuZ3RoKSwgb29jOiB0cnVlIH0pO1xuICAgICAgICBuZXh0SW5kZXggPSByYW5nZS5zdGFydCArIHJhbmdlLmxlbmd0aDtcbiAgICB9XG4gICAgLy8gQWRkIGxhc3Qgc2VnbWVudCBmcm9tIGVuZCBvZiByYW5nZSB0byBlbmQgb2YgdGV4dFxuICAgIGNvbnN0IGxhc3RCaXQgPSBtc2cuc3Vic3RyaW5nKG5leHRJbmRleCk7XG4gICAgaWYgKGxhc3RCaXQgIT09IFwiXCIpXG4gICAge1xuICAgICAgICBzZWdtZW50cy5wdXNoKHsgdGV4dDogbGFzdEJpdCwgb29jOiBmYWxzZSB9KTtcbiAgICB9XG4gICAgLy8gTW92ZSBhbnkgd2hpdGVzcGFjZSBvbiB0aGUgcmlnaHQgc2lkZSBvZiBhbiBlbGVtZW50IHRvIHRoZSBsZWZ0IHNpZGUgb2YgdGhlIG5leHQgZWxlbWVudFxuICAgIC8vIE1ha2VzIGZpbmFsIGZvcm1hdHRpbmcgY2xlYW5lciBhbmQgZWFzaWVyXG4gICAgc2VnbWVudHMgPSBzZWdtZW50cy5tYXAoKG9iaiwgaSkgPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IHRyYWlsaW5nV2hpdGVzcGFjZSA9IC9cXHMrJC8uZXhlYyhvYmoudGV4dCk7XG4gICAgICAgIG9iai50ZXh0ID0gb2JqLnRleHQucmVwbGFjZSgvXFxzKyQvLCBcIlwiKTsgLy8gUmVtb3ZlIHRyYWlsaW5nIHdoaXRlc3BhY2UgZnJvbSBjdXJyZW50IHRleHRcbiAgICAgICAgaWYgKHRyYWlsaW5nV2hpdGVzcGFjZSAmJiBzZWdtZW50c1tpICsgMV0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNlZ21lbnRzW2kgKyAxXS50ZXh0ID0gdHJhaWxpbmdXaGl0ZXNwYWNlWzBdICsgc2VnbWVudHNbaSArIDFdLnRleHQ7IC8vIFByZXBlbmQgd2hpdGVzcGFjZSB0byBuZXh0IHRleHRcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0pO1xuXG4gICAgLy8gcGV0IHNwZWFrIHBlcmNlbnQgdmFsdWVzXG4gICAgY29uc3Qgd29yZFN0ZW5ndGggPSBQRVRfU1BFQUtfU1RSRU5HVEhfTUFQW3N0cmVuZ3RoXTtcbiAgICBjb25zdCBlbmRTdGVuZ3RoID0gUEVUX1NQRUFLX0VORF9QRVJDRU5UQUdFW3N0cmVuZ3RoXTtcbiAgICBjb25zdCBzcGVha1JlcXVpcmVkID0gc3RyZW5ndGggPT09IFwiSGlnaFwiIHx8IHN0cmVuZ3RoID09PSBcIk1heFwiO1xuXG4gICAgLy8gRm9yIGVhY2ggbm9uIG9vYyBzZWdtZW50IHBldGlmeSBzcGVhayBpdFxuICAgIGxldCBzcG9rZVBldCA9IGZhbHNlO1xuICAgIGxldCBuZXdNc2cgPSBcIlwiO1xuICAgIGZvciAoY29uc3Qgc2VnbWVudCBvZiBzZWdtZW50cylcbiAgICB7XG4gICAgICAgIGlmIChzZWdtZW50Lm9vYylcbiAgICAgICAge1xuICAgICAgICAgICAgbmV3TXNnICs9IHNlZ21lbnQudGV4dDtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3BsaXRQaHJhc2UgPSBzZWdtZW50LnRleHQubWF0Y2goLyhcXHMqXFxTKykvZykgfHwgW107XG4gICAgICAgIGxldCBwcmV2aW91c1dvcmQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IHdvcmQgb2Ygc3BsaXRQaHJhc2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChMSU5LX1JFR0VYLnRlc3Qod29yZCkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmV3TXNnICs9IHdvcmQ7XG4gICAgICAgICAgICAgICAgcHJldmlvdXNXb3JkID0gbnVsbDtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUmFuZG9tIGNoYW5jZSBmb3IgYSBwZXQgc291bmQgdG8gYXBwZWFyIGJlZm9yZSB0aGUgY3VycmVudCB3b3JkXG4gICAgICAgICAgICBpZiAoTWF0aC5yYW5kb20oKSA8IHdvcmRTdGVuZ3RoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNwb2tlUGV0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb25zdCBwZXRTb3VuZCA9IEdldFBldFBocmFzZSgpO1xuXG4gICAgICAgICAgICAgICAgY29uc3Qgbm9QcmV2ID0gcHJldmlvdXNXb3JkID09PSBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChub1ByZXYgfHwgL1suIT9dJC8udGVzdChwcmV2aW91c1dvcmQgPz8gXCJcIikpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuZXdNc2cgKz0gYCR7bm9QcmV2ID8gXCJcIiA6IFwiIFwifSR7cGV0U291bmQuY2hhckF0KDApLnRvTG9jYWxlVXBwZXJDYXNlKCl9JHtwZXRTb3VuZC5zbGljZSgxKX1gXG4gICAgICAgICAgICAgICAgICAgICAgKyBgJHsvWy4hP10kLy50ZXN0KHdvcmQpIHx8IG5vUHJldiA/IGAuJHtub1ByZXYgPyBcIiBcIiA6IFwiXCJ9YCA6IFwiLCBcIn1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuZXdNc2cgKz0gYCR7TWF0aC5yYW5kb20oKSA8IFJVU0hFRF9TUEVBS19QRVJDRU5UQUdFICYmICEocHJldmlvdXNXb3JkID8/IFwiXCIpLmVuZHNXaXRoKFwiLFwiKSA/IFwiLFwiIDogXCJcIn0gJHtwZXRTb3VuZH0sYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXdNc2cgKz0gd29yZDtcbiAgICAgICAgICAgIHByZXZpb3VzV29yZCA9IHdvcmQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiBubyBwZXQgd29yZHMgaGF2ZSBiZWVuIHNwb2tlbiBzbyBmYXIsIGVuZCB3aXRoIG9uZSBvciBhIGNoYW5jZSBmb3IgaXQgdG8gZW5kIHdpdGggb25lIGFueXdheVxuICAgICAgICBpZiAoXG4gICAgICAgICAgICBzZWdtZW50cy5zbGljZSgpLnJldmVyc2UoKS5maW5kKChpdGVtKSA9PiAhaXRlbS5vb2MpPy50ZXh0ID09PSBzZWdtZW50LnRleHQgLy8gTGFzdCBub24gb29jIHNlZ21lbnRcbiAgICAgICAgICAgICYmICgoc3BlYWtSZXF1aXJlZCAmJiAhc3Bva2VQZXQpXG4gICAgICAgICAgICAgIHx8IE1hdGgucmFuZG9tKCkgPCBlbmRTdGVuZ3RoKVxuICAgICAgICApXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5ld01zZyA9IEFwcGVuZFBldFNwZWVjaChuZXdNc2csIFtHZXRQZXRQaHJhc2UoKV0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ld01zZztcbn1cblxuLyoqXG4gKiBSZXBsYWNlIGVhY2ggd29yZCBpbiB0aGUgdGV4dCB3aXRoIGEgcGV0IHNvdW5kIGJhc2VkIG9uIHRoZSBzdHJlbmd0aFxuICogQHBhcmFtIG1zZyAtIFRleHQgdG8gcHJvY2Vzc1xuICogQHBhcmFtIGFsbG93ZWRQZXRQaHJhc2VzIC0gUGV0IHNvdW5kcyB0byB1c2VcbiAqIEBwYXJhbSBzdHJlbmd0aCAtIDAgdG8gMSBpbmNsdXNpdmVcbiAqIEByZXR1cm5zIEEgbmV3IGNvcHkgb2YgdGhlIHByb2Nlc3NlZCB0ZXh0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBEaXNydXB0aXZlUGV0U3BlZWNoKFxuICAgIG1zZzogc3RyaW5nLFxuICAgIGFsbG93ZWRQZXRQaHJhc2VzOiBzdHJpbmdbXSxcbiAgICBzdHJlbmd0aDogbnVtYmVyXG4pOiBzdHJpbmdcbntcbiAgICAvLyBObyBwaHJhc2VzIHdlIGNhbiB1c2UsIHNraXBcbiAgICBpZiAoYWxsb3dlZFBldFBocmFzZXMubGVuZ3RoID09PSAwKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG1zZztcbiAgICB9XG4gICAgbXNnID0gbXNnID8/IFwiXCI7XG5cbiAgICAvLyBTdHJlbmd0aCBzaG91bGQgYmUgYmV0d2VlbiAwIGFuZCAxXG4gICAgc3RyZW5ndGggPSAoc3RyZW5ndGggPiAxKSA/IDEgOiAoc3RyZW5ndGggPCAwKSA/IDAgOiBzdHJlbmd0aDtcblxuICAgIC8vIFVzZSBidWNrZXQgc3lzdGVtIHNvIHdvcmRzIGFwcGVhciBsZXNzIHJhbmRvbVxuICAgIC8vIEJ1Y2tldCBpcyAyeCBhbGxvd2VkIHBldCBwaHJhc2VzIGJlZm9yZSByZWZpbGxpbmdcbiAgICBsZXQgcGV0UGhyYXNlQnVja2V0OiBzdHJpbmdbXSA9IFtdO1xuICAgIGZ1bmN0aW9uIEdldFBldFBocmFzZSgpOiBzdHJpbmdcbiAgICB7XG4gICAgICAgIGlmIChwZXRQaHJhc2VCdWNrZXQubGVuZ3RoID09PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBwZXRQaHJhc2VCdWNrZXQgPSBhbGxvd2VkUGV0UGhyYXNlcy5jb25jYXQoYWxsb3dlZFBldFBocmFzZXMpO1xuICAgICAgICAgICAgcGV0UGhyYXNlQnVja2V0ID0gU2h1ZmZsZUFycmF5KHBldFBocmFzZUJ1Y2tldCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBldFBocmFzZUJ1Y2tldC5wb3AoKSA/PyBcIlwiO1xuICAgIH1cblxuICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgdGhlIG9vYyByYW5nZXMgdG8gc3BsaXQgdGV4dCBpbnRvIG9vYyBhbmQgbm9uIG9vYyBjaHVua3NcbiAgICAvLyBTa2lwIGFkZGluZyBwZXQgc291bmRzIHRvIG9vYyBzZWdtZW50c1xuICAgIGxldCBuZXh0SW5kZXggPSAwO1xuICAgIGNvbnN0IHNlZ21lbnRzOiB7IHRleHQ6IHN0cmluZzsgb29jOiBib29sZWFuIH1bXSA9IFtdO1xuICAgIGNvbnN0IG9vY1JhbmdlcyA9IFNwZWVjaEdldE9PQ1Jhbmdlcyhtc2cpO1xuICAgIGZvciAoY29uc3QgcmFuZ2Ugb2Ygb29jUmFuZ2VzKVxuICAgIHtcbiAgICAgICAgaWYgKG1zZy5zdWJzdHJpbmcobmV4dEluZGV4LCByYW5nZS5zdGFydCkgIT09IFwiXCIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNlZ21lbnRzLnB1c2goeyB0ZXh0OiBtc2cuc3Vic3RyaW5nKG5leHRJbmRleCwgcmFuZ2Uuc3RhcnQpLCBvb2M6IGZhbHNlIH0pO1xuICAgICAgICB9XG4gICAgICAgIHNlZ21lbnRzLnB1c2goeyB0ZXh0OiBtc2cuc3Vic3RyaW5nKHJhbmdlLnN0YXJ0LCByYW5nZS5zdGFydCArIHJhbmdlLmxlbmd0aCksIG9vYzogdHJ1ZSB9KTtcbiAgICAgICAgbmV4dEluZGV4ID0gcmFuZ2Uuc3RhcnQgKyByYW5nZS5sZW5ndGg7XG4gICAgfVxuICAgIC8vIEFkZCBsYXN0IHNlZ21lbnQgZnJvbSBlbmQgb2YgcmFuZ2UgdG8gZW5kIG9mIHRleHRcbiAgICBjb25zdCBsYXN0Qml0ID0gbXNnLnN1YnN0cmluZyhuZXh0SW5kZXgpO1xuICAgIGlmIChsYXN0Qml0ICE9PSBcIlwiKVxuICAgIHtcbiAgICAgICAgc2VnbWVudHMucHVzaCh7IHRleHQ6IGxhc3RCaXQsIG9vYzogZmFsc2UgfSk7XG4gICAgfVxuXG4gICAgLy8gRm9yIGVhY2ggbm9uIG9vYyBzZWdtZW50IHBldGlmeSBzcGVhayBpdFxuICAgIGxldCBuZXdNc2cgPSBcIlwiO1xuICAgIGZvciAoY29uc3Qgc2VnbWVudCBvZiBzZWdtZW50cylcbiAgICB7XG4gICAgICAgIGlmIChzZWdtZW50Lm9vYylcbiAgICAgICAge1xuICAgICAgICAgICAgbmV3TXNnICs9IHNlZ21lbnQudGV4dDtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgbmV3TXNnICs9IHNlZ21lbnQudGV4dC5yZXBsYWNlKC9cXGJcXHcrXFxiL2csIChtYXRjaCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKE1hdGgucmFuZG9tKCkgPiBzdHJlbmd0aClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwZXRQaHJhc2UgPSBHZXRQZXRQaHJhc2UoKTtcbiAgICAgICAgICAgIGlmICgvXltBLVpdKyQvLnRlc3QobWF0Y2gpICYmIG1hdGNoLmxlbmd0aCA+IDEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBldFBocmFzZS50b0xvY2FsZVVwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKC9eW0EtWl0uKiQvLnRlc3QobWF0Y2gpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBwZXRQaHJhc2Uuc3Vic3RyaW5nKDAsIDEpLnRvTG9jYWxlVXBwZXJDYXNlKCkgKyBwZXRQaHJhc2Uuc3Vic3RyaW5nKDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHBldFBocmFzZTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ld01zZztcbn1cbiIsImltcG9ydCB7IE1vZHVsZSB9IGZyb20gXCIuLi9tb2R1bGVzL19tb2R1bGVcIjtcbmltcG9ydCB7IExvYWRTdG9yYWdlIH0gZnJvbSBcIi4vc3RvcmFnZVwiO1xuaW1wb3J0IHsgRGF0YVN5bmNNb2R1bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9kYXRhU3luY1wiO1xuaW1wb3J0IHsgU2V0dGluZ3NNb2R1bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9zZXR0aW5nc1wiO1xuaW1wb3J0IHsgQWN0aXZpdGllc01vZHVsZSB9IGZyb20gXCIuLi9tb2R1bGVzL2FjdGl2aXRpZXNcIjtcbmltcG9ydCB7IENsaWNrZXJNb2R1bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9jbGlja2VyXCI7XG5pbXBvcnQgeyBWaXJ0dWFsUGV0TW9kdWxlIH0gZnJvbSBcIi4uL21vZHVsZXMvdmlydHVhbFBldFwiO1xuaW1wb3J0IHsgVmlydHVhbFBldEhVRE1vZHVsZSB9IGZyb20gXCIuLi9tb2R1bGVzL3ZpcnR1YWxQZXRIVURcIjtcbmltcG9ydCB7IFZpcnR1YWxQZXRDb25kaXRpb25zTW9kdWxlIH0gZnJvbSBcIi4uL21vZHVsZXMvdmlydHVhbFBldENvbmRpdGlvbnNcIjtcbmltcG9ydCB7IFByb2ZpbGVNb2R1bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9wcm9maWxlXCI7XG5pbXBvcnQgeyBTZXR0aW5nc090aGVyTW9kdWxlIH0gZnJvbSBcIi4uL21vZHVsZXMvc2V0dGluZ3NPdGhlcnNcIjtcbmltcG9ydCB7IEF1dGhvcml0eU1vZHVsZSB9IGZyb20gXCIuLi9tb2R1bGVzL2F1dGhvcml0eVwiO1xuaW1wb3J0IHsgUHJpdmF0ZU1vZHVsZSB9IGZyb20gXCIuLi9tb2R1bGVzL3ByaXZhdGVcIjtcblxubGV0IG1vZHVsZXNSZWdpc3RlcmVkID0gZmFsc2U7XG5cbmV4cG9ydCBjb25zdCBtb2R1bGVzOiBNb2R1bGVbXSA9IFtcbiAgICBuZXcgRGF0YVN5bmNNb2R1bGUoKSxcbiAgICBuZXcgU2V0dGluZ3NNb2R1bGUoKSxcbiAgICBuZXcgQWN0aXZpdGllc01vZHVsZSgpLFxuICAgIG5ldyBDbGlja2VyTW9kdWxlKCksXG4gICAgbmV3IFZpcnR1YWxQZXRNb2R1bGUoKSxcbiAgICBuZXcgVmlydHVhbFBldEhVRE1vZHVsZSgpLFxuICAgIG5ldyBWaXJ0dWFsUGV0Q29uZGl0aW9uc01vZHVsZSgpLFxuICAgIG5ldyBQcm9maWxlTW9kdWxlKCksXG4gICAgbmV3IFNldHRpbmdzT3RoZXJNb2R1bGUoKSxcbiAgICBuZXcgQXV0aG9yaXR5TW9kdWxlKCksXG4gICAgbmV3IFByaXZhdGVNb2R1bGUoKVxuXTtcblxuZXhwb3J0IGNvbnN0IHNldHRpbmdzOiBQYXJ0aWFsPE1QQVNldHRpbmdzPiA9IHt9O1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUmVnaXN0ZXJNb2R1bGVzKCk6IFByb21pc2U8dm9pZD5cbntcbiAgICAvLyBObyBkdXBsaWNhdGUgbW9kdWxlIHJlZ2lzdGVyaW5nXG4gICAgaWYgKG1vZHVsZXNSZWdpc3RlcmVkKSB7IHJldHVybjsgfVxuXG4gICAgbW9kdWxlcy5mb3JFYWNoKChtb2R1bGUpID0+XG4gICAge1xuICAgICAgICAvLyBHZXQgYWxsIHRoZSBzZXR0aW5nc1xuICAgICAgICBjb25zdCBtb2RTZXQgPSBtb2R1bGUuU2V0dGluZ3M7XG4gICAgICAgIGNvbnN0IG5ld1NldHRpbmdzID0ge307XG4gICAgICAgIG1vZFNldC5mb3JFYWNoKChzZXQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIG5ld1NldHRpbmdzW3NldC5uYW1lXSA9IHNldDtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhuZXdTZXR0aW5ncykubGVuZ3RoICE9PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBzZXR0aW5nc1ttb2R1bGUuVGl0bGVdID0gbmV3U2V0dGluZ3M7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBhd2FpdCBMb2FkU3RvcmFnZSgpO1xuXG4gICAgLy8gTG9hZCB0aGUgbW9kdWxlc1xuICAgIG1vZHVsZXMuZm9yRWFjaCgobW9kdWxlKSA9PlxuICAgIHtcbiAgICAgICAgbW9kdWxlLkxvYWQoKTtcbiAgICB9KTtcbiAgICBtb2R1bGVzUmVnaXN0ZXJlZCA9IHRydWU7XG59XG4iLCJpbXBvcnQgYmNNb2RTZGssIHsgR2V0RG90ZWRQYXRoVHlwZSwgTW9kU0RLTW9kQVBJLCBQYXRjaEhvb2sgfSBmcm9tIFwiYm9uZGFnZS1jbHViLW1vZC1zZGtcIjtcbmltcG9ydCB7IE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4uL21vZHVsZXMvX21vZHVsZVwiO1xuaW1wb3J0IHsgTVBBX05BTUUsIE1QQV9SRVBPLCBNUEFfVkVSU0lPTiB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuXG5pbnRlcmZhY2UgSG9va2VkRnVuY3Rpb25cbntcbiAgICBmdW5jdGlvbk5hbWU6IHN0cmluZztcbiAgICBwcmlvcml0eTogbnVtYmVyO1xuICAgIGhvb2s6IFBhdGNoSG9vaztcbiAgICBtb2R1bGU6IHN0cmluZyB8IG51bGw7XG4gICAgcmVtb3ZlSG9vazogKCkgPT4gdm9pZDtcbn1cbmNvbnN0IGhvb2tzOiBIb29rZWRGdW5jdGlvbltdID0gW107XG5cbmV4cG9ydCBjb25zdCBtb2RBUEk6IE1vZFNES01vZEFQSSA9IGJjTW9kU2RrLnJlZ2lzdGVyTW9kKHtcbiAgICBuYW1lOiBNUEFfTkFNRSxcbiAgICB2ZXJzaW9uOiBNUEFfVkVSU0lPTixcbiAgICBmdWxsTmFtZTogXCJNYXlhJ3MgUGV0cGxheSBBZGRpdGlvbnNcIixcbiAgICByZXBvc2l0b3J5OiBNUEFfUkVQT1xufSwge1xuICAgIGFsbG93UmVwbGFjZTogZmFsc2Vcbn0pO1xuXG4vKipcbiAqIEhvb2sgYSBCQyBmdW5jdGlvblxuICogQHBhcmFtIG1vZHVsZSAtIFRoZSB0aXRsZSBvZiB0aGUgbW9kdWxlIHRoZSBob29rIGlzIGJlaW5nIHVzZWQgaW5cbiAqIEB0ZW1wbGF0ZSBURnVuY3Rpb25OYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGhvb2tlZCBmdW5jdGlvbiwgX2UuZy5fIGBcIlBsYXllci5DYW5DaGFuZ2VcImBcbiAqIEBwYXJhbSBmdW5jdGlvbk5hbWUgLSBOYW1lIG9mIGZ1bmN0aW9uIHRvIGhvb2suIENhbiBjb250YWluIGRvdHMgdG8gY2hhbmdlIG1ldGhvZHMgaW4gb2JqZWN0cyAoZS5nLiBgUGxheWVyLkNhbkNoYW5nZWApXG4gKiBAcGFyYW0gcHJpb3JpdHkgLSBOdW1iZXIgdXNlZCB0byBkZXRlcm1pbmF0ZSBvcmRlciBob29rcyB3aWxsIGJlIGNhbGxlZCBpbi4gSGlnaGVyIG51bWJlciBpcyBjYWxsZWQgZmlyc3RcbiAqIEBwYXJhbSBob29rIC0gVGhlIGhvb2sgaXRzZWxmIHRvIHVzZSwgQHNlZSBQYXRjaEhvb2tcbiAqIEByZXR1cm5zIEZ1bmN0aW9uIHRoYXQgY2FuIGJlIGNhbGxlZCB0byByZW1vdmUgdGhpcyBob29rXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBIb29rRnVuY3Rpb248VEZ1bmN0aW9uTmFtZSBleHRlbmRzIHN0cmluZz4obW9kdWxlOiBNb2R1bGVUaXRsZSB8IG51bGwsIGZ1bmN0aW9uTmFtZTogVEZ1bmN0aW9uTmFtZSwgcHJpb3JpdHk6IG51bWJlciwgaG9vazogUGF0Y2hIb29rPEdldERvdGVkUGF0aFR5cGU8dHlwZW9mIGdsb2JhbFRoaXMsIFRGdW5jdGlvbk5hbWU+Pik6ICgpID0+IHZvaWRcbntcbiAgICBjb25zdCByZW1vdmVIb29rID0gbW9kQVBJLmhvb2tGdW5jdGlvbihmdW5jdGlvbk5hbWUsIHByaW9yaXR5LCBob29rKTtcblxuICAgIGhvb2tzLnB1c2goe1xuICAgICAgICBmdW5jdGlvbk5hbWU6IGZ1bmN0aW9uTmFtZSxcbiAgICAgICAgcHJpb3JpdHk6IHByaW9yaXR5LFxuICAgICAgICBob29rOiBob29rLFxuICAgICAgICBtb2R1bGU6IG1vZHVsZSxcbiAgICAgICAgcmVtb3ZlSG9vazogcmVtb3ZlSG9va1xuICAgIH0gYXMgSG9va2VkRnVuY3Rpb24pO1xuXG4gICAgcmV0dXJuIHJlbW92ZUhvb2s7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZW1vdmVIb29rcyhtb2R1bGU6IE1vZHVsZVRpdGxlIHwgbnVsbCk6IHZvaWRcbntcbiAgICBmb3IgKGxldCBpID0gaG9va3MubGVuZ3RoIC0gMTsgMCA8PSBpOyBpLS0pXG4gICAge1xuICAgICAgICBpZiAoaG9va3NbaV0ubW9kdWxlID09PSBtb2R1bGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhvb2tzW2ldLnJlbW92ZUhvb2soKTtcbiAgICAgICAgICAgIGhvb2tzLnNwbGljZShpLCAxKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBPbmx5IHJlbGVhc2UgdGhlIGF3YWl0IHdoZW4gdGhlIFBsYXllciBpcyBkZXRlY3RlZCBhbmQgbG9hZGVkXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBBd2FpdFBsYXllcigpOiBQcm9taXNlPHZvaWQ+XG57XG4gICAgaWYgKFBsYXllcj8uTWVtYmVyTnVtYmVyICYmIFBsYXllcj8uRXh0ZW5zaW9uU2V0dGluZ3MpXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlKSA9PlxuICAgIHtcbiAgICAgICAgY29uc3QgaG9vayA9IG1vZEFQSS5ob29rRnVuY3Rpb24oXCJMb2dpblJlc3BvbnNlXCIsIDAsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBMZXQgcmVzcG9uc2UgaGFwcGVuIGZpcnN0XG4gICAgICAgICAgICBuZXh0KGFyZ3MpO1xuXG4gICAgICAgICAgICAvLyBSZW1vdmUgdGhpcyBob29rIHdoZW4gZG9uZVxuICAgICAgICAgICAgaG9vaygpO1xuXG4gICAgICAgICAgICAvLyBSZXNvbHZlIHRoZSBwcm9taXNlIHRvIGVuZCB0aGUgYXdhaXQgY29uZGl0aW9uXG4gICAgICAgICAgICBzZXRUaW1lb3V0KHJlc29sdmUsIDEwMDApO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBPbmx5IHJlbGVhc2UgdGhlIGF3YWl0IHdoZW4gdGhlIFBsYXllciBoYXMgZW50ZXJlZCBhIGNoYXQgcm9vbVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gQXdhaXRJbkNoYXRSb29tKClcbntcbiAgICBpZiAoQ2hhdFJvb21DaGFyYWN0ZXIubGVuZ3RoID4gMSlcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4oKHJlc29sdmUpID0+XG4gICAge1xuICAgICAgICBjb25zdCBob29rID0gbW9kQVBJLmhvb2tGdW5jdGlvbihcIkNoYXRSb29tU3luY1wiLCAxMDAsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBMZXQgcmVzcG9uc2UgaGFwcGVuIGZpcnN0XG4gICAgICAgICAgICBuZXh0KGFyZ3MpO1xuXG4gICAgICAgICAgICAvLyBSZW1vdmUgdGhpcyBob29rIHdoZW4gZG9uZVxuICAgICAgICAgICAgaG9vaygpO1xuXG4gICAgICAgICAgICAvLyBSZXNvbHZlIHRoZSBwcm9taXNlIHRvIGVuZCB0aGUgYXdhaXQgY29uZGl0aW9uXG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG4vKipcbiAqIERvIG5vdGhpbmcgYnV0IHdhaXRcbiAqIEBwYXJhbSBtcyBEdXJhdGlvbiB0byB3YWl0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBTbGVlcChtczogbnVtYmVyKVxue1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpO1xufVxuXG4vKipcbiAqIEdldCB0aGUgQkNYIG1vZCBhcGkgZm9yIE1QQVxuICovXG5leHBvcnQgZnVuY3Rpb24gYmN4QVBJKClcbntcbiAgICByZXR1cm4gd2luZG93LmJjeD8uZ2V0TW9kQXBpKE1QQV9OQU1FKTtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiBCQ1ggaWYgZm91bmRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJjeEZvdW5kKCk6IGJvb2xlYW5cbntcbiAgICByZXR1cm4gISF3aW5kb3cuYmN4O1xufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIElzU2V0dGluZyhzZXR0aW5nOiBhbnkpOiBzZXR0aW5nIGlzIFNldHRpbmdcbntcbiAgICByZXR1cm4gKFxuICAgICAgICB0eXBlb2YgKHNldHRpbmcgYXMgU2V0dGluZykubmFtZSA9PT0gXCJzdHJpbmdcIlxuICAgICAgICAmJiBbXCJjaGVja2JveFwiLCBcIm9wdGlvblwiLCBcInRleHRcIiwgXCJudW1iZXJcIiwgXCJyZWNvcmRcIiwgXCJjdXN0b21cIl0uaW5jbHVkZXMoKHNldHRpbmcgYXMgU2V0dGluZykudHlwZSlcbiAgICAgICAgJiYgKHNldHRpbmcgYXMgU2V0dGluZykudmFsdWUgIT09IHVuZGVmaW5lZFxuICAgICk7XG59XG5leHBvcnQgZnVuY3Rpb24gSXNEaXNwbGF5U2V0dGluZyhzZXR0aW5nOiBTZXR0aW5nKTogc2V0dGluZyBpcyBEaXNwbGF5ZWRTZXR0aW5nXG57XG4gICAgcmV0dXJuIChcbiAgICAgICAgSXNTZXR0aW5nKHNldHRpbmcpXG4gICAgICAgICYmIHR5cGVvZiAoc2V0dGluZyBhcyBEaXNwbGF5ZWRTZXR0aW5nKS5hY3RpdmUgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICAmJiB0eXBlb2YgKHNldHRpbmcgYXMgRGlzcGxheWVkU2V0dGluZykubGFiZWwgPT09IFwic3RyaW5nXCJcbiAgICApO1xufVxuZXhwb3J0IGZ1bmN0aW9uIElzQ2hlY2tib3hTZXR0aW5nKHNldHRpbmc6IFNldHRpbmcpOiBzZXR0aW5nIGlzIENoZWNrYm94U2V0dGluZ1xue1xuICAgIHJldHVybiAoXG4gICAgICAgIElzRGlzcGxheVNldHRpbmcoc2V0dGluZylcbiAgICAgICAgJiYgKHNldHRpbmcgYXMgQ2hlY2tib3hTZXR0aW5nKS50eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgJiYgdHlwZW9mIChzZXR0aW5nIGFzIENoZWNrYm94U2V0dGluZykudmFsdWUgPT09IFwiYm9vbGVhblwiXG4gICAgKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBJc09wdGlvblNldHRpbmcoc2V0dGluZzogU2V0dGluZyk6IHNldHRpbmcgaXMgT3B0aW9uU2V0dGluZ1xue1xuICAgIHJldHVybiAoXG4gICAgICAgIElzRGlzcGxheVNldHRpbmcoc2V0dGluZylcbiAgICAgICAgJiYgKHNldHRpbmcgYXMgT3B0aW9uU2V0dGluZykudHlwZSA9PT0gXCJvcHRpb25cIlxuICAgICAgICAmJiB0eXBlb2YgKHNldHRpbmcgYXMgT3B0aW9uU2V0dGluZykudmFsdWUgPT09IFwic3RyaW5nXCJcbiAgICAgICAgJiYgQXJyYXkuaXNBcnJheSgoc2V0dGluZyBhcyBPcHRpb25TZXR0aW5nKS5vcHRpb25zKVxuICAgICAgICAmJiB0eXBlb2YgKHNldHRpbmcgYXMgT3B0aW9uU2V0dGluZykubG9vcCA9PT0gXCJib29sZWFuXCJcbiAgICApO1xufVxuZXhwb3J0IGZ1bmN0aW9uIElzVGV4dFNldHRpbmcoc2V0dGluZzogU2V0dGluZyk6IHNldHRpbmcgaXMgVGV4dFNldHRpbmdcbntcbiAgICByZXR1cm4gKFxuICAgICAgICBJc0Rpc3BsYXlTZXR0aW5nKHNldHRpbmcpXG4gICAgICAgICYmIChzZXR0aW5nIGFzIFRleHRTZXR0aW5nKS50eXBlID09PSBcInRleHRcIlxuICAgICAgICAmJiB0eXBlb2YgKHNldHRpbmcgYXMgVGV4dFNldHRpbmcpLnZhbHVlID09PSBcInN0cmluZ1wiXG4gICAgICAgICYmICh0eXBlb2YgKHNldHRpbmcgYXMgVGV4dFNldHRpbmcpLndpZHRoID09PSBcIm51bWJlclwiXG4gICAgICAgICAgfHwgKHNldHRpbmcgYXMgVGV4dFNldHRpbmcpLndpZHRoID09PSBudWxsKVxuICAgICAgICAmJiAodHlwZW9mIChzZXR0aW5nIGFzIFRleHRTZXR0aW5nKS5tYXhDaGFycyA9PT0gXCJudW1iZXJcIlxuICAgICAgICAgIHx8IChzZXR0aW5nIGFzIFRleHRTZXR0aW5nKS5tYXhDaGFycyA9PT0gbnVsbClcbiAgICApO1xufVxuZXhwb3J0IGZ1bmN0aW9uIElzTnVtYmVyU2V0dGluZyhzZXR0aW5nOiBTZXR0aW5nKTogc2V0dGluZyBpcyBOdW1iZXJTZXR0aW5nXG57XG4gICAgcmV0dXJuIChcbiAgICAgICAgSXNEaXNwbGF5U2V0dGluZyhzZXR0aW5nKVxuICAgICAgICAmJiAoc2V0dGluZyBhcyBOdW1iZXJTZXR0aW5nKS50eXBlID09PSBcIm51bWJlclwiXG4gICAgICAgICYmIHR5cGVvZiAoc2V0dGluZyBhcyBOdW1iZXJTZXR0aW5nKS52YWx1ZSA9PT0gXCJudW1iZXJcIlxuICAgICAgICAmJiAodHlwZW9mIChzZXR0aW5nIGFzIE51bWJlclNldHRpbmcpLndpZHRoID09PSBcIm51bWJlclwiXG4gICAgICAgICAgfHwgKHNldHRpbmcgYXMgTnVtYmVyU2V0dGluZykud2lkdGggPT09IG51bGwpXG4gICAgICAgICYmIHR5cGVvZiAoc2V0dGluZyBhcyBOdW1iZXJTZXR0aW5nKS5taW4gPT09IFwibnVtYmVyXCJcbiAgICAgICAgJiYgdHlwZW9mIChzZXR0aW5nIGFzIE51bWJlclNldHRpbmcpLm1heCA9PT0gXCJudW1iZXJcIlxuICAgICAgICAmJiAodHlwZW9mIChzZXR0aW5nIGFzIE51bWJlclNldHRpbmcpLnN0ZXAgPT09IFwibnVtYmVyXCJcbiAgICAgICAgICB8fCAoc2V0dGluZyBhcyBOdW1iZXJTZXR0aW5nKS5zdGVwID09PSBudWxsKVxuICAgICk7XG59XG5leHBvcnQgZnVuY3Rpb24gSXNDdXN0b21TZXR0aW5nKHNldHRpbmc6IFNldHRpbmcpOiBzZXR0aW5nIGlzIEN1c3RvbVNldHRpbmdcbntcbiAgICByZXR1cm4gKFxuICAgICAgICBJc0Rpc3BsYXlTZXR0aW5nKHNldHRpbmcpXG4gICAgICAgICYmIHNldHRpbmcudHlwZSA9PT0gXCJjdXN0b21cIlxuICAgICAgICAmJiB0eXBlb2YgKHNldHRpbmcgYXMgQ3VzdG9tU2V0dGluZykuT25DbGljayA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICYmIHR5cGVvZiAoc2V0dGluZyBhcyBDdXN0b21TZXR0aW5nKS5PbkV4aXQgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICAmJiB0eXBlb2YgKHNldHRpbmcgYXMgQ3VzdG9tU2V0dGluZykuT25Mb2FkID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgJiYgdHlwZW9mIChzZXR0aW5nIGFzIEN1c3RvbVNldHRpbmcpLk9uUnVuID09PSBcImZ1bmN0aW9uXCJcbiAgICApO1xufVxuIiwiaW1wb3J0IHsgTG9jYWxpemVkVGV4dCB9IGZyb20gXCIuLi9sb2NhbGl6YXRpb24vbG9jYWxpemF0aW9uXCI7XG5pbXBvcnQgeyBzZXR0aW5ncyBhcyBjdXJyZW50U2V0dGluZ3MgfSBmcm9tIFwiLi9yZWdpc3Rlck1vZHVsZXNcIjtcbmltcG9ydCB7IEF3YWl0SW5DaGF0Um9vbSwgQXdhaXRQbGF5ZXIsIFNsZWVwIH0gZnJvbSBcIi4vc2RrXCI7XG5pbXBvcnQgeyBTZXR0aW5nU3luYyB9IGZyb20gXCIuLi9tb2R1bGVzL2RhdGFTeW5jXCI7XG5pbXBvcnQgeyBNb2R1bGVUaXRsZSB9IGZyb20gXCIuLi9tb2R1bGVzL19tb2R1bGVcIjtcbmltcG9ydCB7IE1QQV9WRVJTSU9OIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBMZXZlbFN5bmMgfSBmcm9tIFwiLi4vbW9kdWxlcy92aXJ0dWFsUGV0XCI7XG5pbXBvcnQgeyBOb3RpZnlQbGF5ZXIgfSBmcm9tIFwiLi9tZXNzYWdpbmdcIjtcblxuY29uc3QgQ0hBTkdFTE9HX1JBV19TVEFCTEUgPSBcImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9NYXlhVGhlRm94eS9NUEEvcmVmcy9oZWFkcy9tYWluL0NIQU5HRUxPRy5tZFwiO1xuY29uc3QgQ0hBTkdFTE9HX1JBV19ERVYgPSBcImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9NYXlhVGhlRm94eS9NUEEvcmVmcy9oZWFkcy9kZXYvQ0hBTkdFTE9HLm1kXCI7XG5cbmNvbnN0IENIQU5HRUxPR19TVEFCTEUgPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9NYXlhVGhlRm94eS9NUEEvYmxvYi9tYWluL0NIQU5HRUxPRy5tZFwiO1xuY29uc3QgQ0hBTkdFTE9HX0RFViA9IFwiaHR0cHM6Ly9naXRodWIuY29tL01heWFUaGVGb3h5L01QQS9ibG9iL2Rldi9DSEFOR0VMT0cubWRcIjtcblxuY29uc3QgVkVSU0lPTl9TVEFCTEVfUkVHRVggPSAvXlxcZCtcXC5cXGQrXFwuXFxkKyQvO1xuLy8gY29uc3QgVkVSU0lPTl9ERVZfUkVHRVggPSAvXlxcZCtcXC5cXGQrXFwuXFxkK1xcLlxcZCskLztcblxuLyoqXG4gKiBGZXRjaCB0aGUgY2hhbmdlbG9nIGZyb20gdGhlIHJlcG9cbiAqIEByZXR1cm5zXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIEZldGNoTGF0ZXN0Q2hhbmdlbG9nKCk6IFByb21pc2U8dm9pZD5cbntcbiAgICBjb25zdCBpc1N0YWJsZSA9IFZFUlNJT05fU1RBQkxFX1JFR0VYLnRlc3QoTVBBX1ZFUlNJT04pO1xuICAgIGNvbnN0IHVybCA9IGlzU3RhYmxlID8gQ0hBTkdFTE9HX1JBV19TVEFCTEUgOiBDSEFOR0VMT0dfUkFXX0RFVjtcbiAgICB0cnlcbiAgICB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBNUEE6IEZhaWxlZCB0byBmZXRjaCBDSEFOR0VMT0cubWQ6ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNoYW5nZWxvZyA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgLy8gVXNlIGEgcmVndWxhciBleHByZXNzaW9uIHRvIGV4dHJhY3QgdGhlIGxhdGVzdCByZWxlYXNlIHNlY3Rpb25cbiAgICAgICAgY29uc3QgbWF0Y2hlcyA9IC8jIChcXGQrXFwuXFxkK1xcLlxcZCsoPzpcXC5cXGQrKT8pK1xcbihbXFxzXFxTXSo/KSg/PVxcbiMgfCQpLy5leGVjKGNoYW5nZWxvZyk7XG5cbiAgICAgICAgaWYgKG1hdGNoZXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHZlcnNpb24gPSBtYXRjaGVzWzFdO1xuXG4gICAgICAgICAgICBpZiAodmVyc2lvbiA9PT0gTVBBX1ZFUlNJT04pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hhbmdlcyA9IG1hdGNoZXNbMl0udHJpbSgpO1xuICAgICAgICAgICAgICAgIHdoaWxlICh0cnVlKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgQXdhaXRJbkNoYXRSb29tKCk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IFNsZWVwKDEwMCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChDaGF0Um9vbUNoYXJhY3Rlci5sZW5ndGggPiAwKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBOb3RpZnlQbGF5ZXIoYDxiIHN0eWxlPSd0ZXh0LWFsaWduOmNlbnRlcjt3aWR0aDoxMDAlO2Rpc3BsYXk6YmxvY2snPk1QQSBVcGRhdGVkPC9iPlxuQ3VycmVudCBNUEEgVmVyc2lvbjogJHtNUEFfVkVSU0lPTn1cbkNoYW5nZXMgZnJvbSBwcmV2aW91cyB2ZXJzaW9uOlxuJHtjaGFuZ2VzfVxuPGEgaHJlZj1cIiR7aXNTdGFibGUgPyBDSEFOR0VMT0dfU1RBQkxFIDogQ0hBTkdFTE9HX0RFVn1cIiB0YXJnZXQ9XCJfYmxhbmtcIj5TZWUgRnVsbCBDaGFuZ2Vsb2c8L2E+YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS53YXJuKFwiTVBBOiBDb3VsZCBub3QgZ2V0IHRoZSBsYXRlc3QgTVBBIENoYW5nZWxvZ3NcIik7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcilcbiAgICB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yOiAke2Vycm9yfWApO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gTVBBVXBkYXRlQ2hlY2soc2V0dGluZ3M6IE1QQVJlY29yZHMpOiB2b2lkXG57XG4gICAgaWYgKChzZXR0aW5ncy52ZXJzaW9uIGFzIGFueSkgIT09IE1QQV9WRVJTSU9OKVxuICAgIHtcbiAgICAgICAgY29uc3QgaXNTdGFibGUgPSBWRVJTSU9OX1NUQUJMRV9SRUdFWC50ZXN0KE1QQV9WRVJTSU9OKTtcbiAgICAgICAgU2VydmVyQWNjb3VudEJlZXAoe1xuICAgICAgICAgICAgTWVtYmVyTnVtYmVyOiBQbGF5ZXIuTWVtYmVyTnVtYmVyID8/IC0xLFxuICAgICAgICAgICAgTWVtYmVyTmFtZTogTG9jYWxpemVkVGV4dChcIk1QQVwiKSxcbiAgICAgICAgICAgIENoYXRSb29tU3BhY2U6IFwiWFwiLFxuICAgICAgICAgICAgQ2hhdFJvb21OYW1lOiBMb2NhbGl6ZWRUZXh0KFwiTVBBIFVwZGF0ZWRcIiksXG4gICAgICAgICAgICBQcml2YXRlOiBmYWxzZSxcbiAgICAgICAgICAgIEJlZXBUeXBlOiBcIlwiLFxuICAgICAgICAgICAgTWVzc2FnZTogYE1QQSBoYXMgYmVlbiB1cGRhdGVkLiBTZWUgdGhlIGNoYW5nZWxvZyBoZXJlOlxcbiR7aXNTdGFibGUgPyBDSEFOR0VMT0dfU1RBQkxFIDogQ0hBTkdFTE9HX0RFVn1gXG4gICAgICAgIH0pO1xuICAgICAgICAoc2V0dGluZ3MudmVyc2lvbiBhcyBhbnkpID0gTVBBX1ZFUlNJT047XG4gICAgICAgIFNhdmVTdG9yYWdlKGZhbHNlKTtcbiAgICAgICAgRmV0Y2hMYXRlc3RDaGFuZ2Vsb2coKTtcbiAgICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBMb2FkU3RvcmFnZSgpOiBQcm9taXNlPHZvaWQ+XG57XG4gICAgLy8gRW5zdXJlIHRoZSBwbGF5ZXIgaXMgbG9hZGVkIGJlZm9yZSBhdHRlbXB0aW5nIHRvIHJlYWQgdGhlIGV4dGVudGlvbiBzZXR0aW5nc1xuICAgIGF3YWl0IEF3YWl0UGxheWVyKCk7XG5cbiAgICBjb25zdCBzZXR0aW5nczogTVBBUmVjb3JkcyA9IEpTT04ucGFyc2UoTFpTdHJpbmcuZGVjb21wcmVzc0Zyb21CYXNlNjQoUGxheWVyLkV4dGVuc2lvblNldHRpbmdzPy5NUEEgPz8gXCJcIikgPz8gXCJ7fVwiKSA/PyB7fTtcblxuICAgIE9iamVjdC5lbnRyaWVzKGN1cnJlbnRTZXR0aW5ncykuZm9yRWFjaCgoY2F0ZWdvcnkpID0+XG4gICAge1xuICAgICAgICBjb25zdCBbc2V0dGluZ1RpdGxlLCBjYXRlZ29yeVNldHRpbmdzXSA9IGNhdGVnb3J5IGFzIFtNb2R1bGVUaXRsZSwgTVBBQ2F0ZWdvcnlTZXR0aW5nc107XG4gICAgICAgIGZvciAoY29uc3QgW3NldHRpbmdOYW1lLCBzZXRdIG9mIE9iamVjdC5lbnRyaWVzKGNhdGVnb3J5U2V0dGluZ3MpKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBDcmVhdGUgdGhlIHBsYWNlIGZvciBkYXRhIGlmIGl0IGRvZXMgbm90IGV4aXN0XG4gICAgICAgICAgICBpZiAoIShzZXR0aW5nVGl0bGUgaW4gc2V0dGluZ3MpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNldHRpbmdzW3NldHRpbmdUaXRsZV0gPSB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNldHRpbmcgYWxyZWFkeSBzZXRcbiAgICAgICAgICAgIC8vIFZlcmlmeSBpdCBpcyBnb29kIGRhdGFcbiAgICAgICAgICAgIGlmIChzZXR0aW5nTmFtZSBpbiBzZXR0aW5nc1tzZXR0aW5nVGl0bGVdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIElmIGN1cnJlbnQgdmFsdWUgaXMgbm90IGluIHRoZSBvcHRpb25zXG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAoY3VycmVudFNldHRpbmdzPy5bc2V0dGluZ1RpdGxlXT8uW3NldHRpbmdOYW1lXT8udHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgJiYgdHlwZW9mIHNldHRpbmdzW3NldHRpbmdUaXRsZV1bc2V0dGluZ05hbWVdICE9PSBcImJvb2xlYW5cIilcbiAgICAgICAgICAgICAgICAgICAgfHwgKGN1cnJlbnRTZXR0aW5ncz8uW3NldHRpbmdUaXRsZV0/LltzZXR0aW5nTmFtZV0/LnR5cGUgPT09IFwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAmJiBpc05hTihzZXR0aW5nc1tzZXR0aW5nVGl0bGVdW3NldHRpbmdOYW1lXSkpXG4gICAgICAgICAgICAgICAgICAgIHx8IChcIm9wdGlvbnNcIiBpbiAoY3VycmVudFNldHRpbmdzPy5bc2V0dGluZ1RpdGxlXT8uW3NldHRpbmdOYW1lXSA/PyB7fSlcbiAgICAgICAgICAgICAgICAgICAgICAmJiAhKChjdXJyZW50U2V0dGluZ3M/LltzZXR0aW5nVGl0bGVdPy5bc2V0dGluZ05hbWVdIGFzIE9wdGlvblNldHRpbmcpPy5vcHRpb25zID8/IFtdKS5pbmNsdWRlcyhzZXR0aW5nc1tzZXR0aW5nVGl0bGVdW3NldHRpbmdOYW1lXSkpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3Nbc2V0dGluZ1RpdGxlXVtzZXR0aW5nTmFtZV0gPSBzZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgTVBBOiBJbnZhbGlkIHNldHRpbmcgb2YgXCIke3NldHRpbmdzW3NldHRpbmdUaXRsZV1bc2V0dGluZ05hbWVdfVwiIGF0ICR7c2V0dGluZ1RpdGxlfS0+JHtzZXR0aW5nTmFtZX0sIHJlc2V0dGluZyB0byBkZWZhdWx0YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0dGluZ3Nbc2V0dGluZ1RpdGxlXVtzZXR0aW5nTmFtZV0gPSBzZXQudmFsdWU7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIFBvcnQgb2xkIG9ud2VycyB0byBuZXcgb3duZXJzXG4gICAgaWYgKHNldHRpbmdzW01vZHVsZVRpdGxlLkF1dGhvcml0eV0ubmV3T3duZXJzLm93bmVycy5sZW5ndGggPT09IDAgJiYgc2V0dGluZ3NbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XS5vd25lcnMgIT09IFwiXCIpXG4gICAge1xuICAgICAgICBzZXR0aW5nc1tNb2R1bGVUaXRsZS5BdXRob3JpdHldLm5ld093bmVycy5vd25lcnMgPSAoKHNldHRpbmdzW01vZHVsZVRpdGxlLkF1dGhvcml0eV0ub3duZXJzID8/IFwiXCIpIGFzIHN0cmluZykuc3BsaXQoXCIsXCIpLm1hcCgoeCkgPT4gTnVtYmVyKHgpKTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBhbmQgbm90aWZ5IGlmIHRoZXJlIGlzIGFuIHVwZGF0ZVxuICAgIE1QQVVwZGF0ZUNoZWNrKHNldHRpbmdzKTtcblxuICAgIFBsYXllci5NUEEgPSBzZXR0aW5ncztcbiAgICByZXR1cm47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBTYXZlU3RvcmFnZShzeW5jV2l0aE90aGVyczogYm9vbGVhbiA9IHRydWUpOiB2b2lkXG57XG4gICAgaWYgKCFQbGF5ZXIuTVBBIHx8ICFQbGF5ZXIuRXh0ZW5zaW9uU2V0dGluZ3MpXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIFBydW5lIHNlbGYgZnJvbSBvd25lciBsaXN0IGlmIGFkZGVkXG4gICAgUGxheWVyLk1QQVtNb2R1bGVUaXRsZS5BdXRob3JpdHldLm5ld093bmVycy5vd25lcnMgPSBQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV0ubmV3T3duZXJzLm93bmVycy5maWx0ZXIoKHZhbCkgPT4gTnVtYmVyKHZhbCkgIT09IFBsYXllci5NZW1iZXJOdW1iZXIpO1xuICAgIFBsYXllci5FeHRlbnNpb25TZXR0aW5ncy5NUEEgPSBMWlN0cmluZy5jb21wcmVzc1RvQmFzZTY0KEpTT04uc3RyaW5naWZ5KFBsYXllci5NUEEpKTtcbiAgICBTZXJ2ZXJQbGF5ZXJFeHRlbnNpb25TZXR0aW5nc1N5bmMoXCJNUEFcIik7XG4gICAgaWYgKHN5bmNXaXRoT3RoZXJzKVxuICAgIHtcbiAgICAgICAgU2V0dGluZ1N5bmMoZmFsc2UpO1xuICAgIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFJlc2V0U3RvcmFnZSgpOiBQcm9taXNlPHZvaWQ+XG57XG4gICAgZGVsZXRlIChQbGF5ZXIuRXh0ZW5zaW9uU2V0dGluZ3MgYXMgYW55KS5NUEE7XG4gICAgUGxheWVyLkV4dGVuc2lvblNldHRpbmdzLk1QQSA9IExaU3RyaW5nLmNvbXByZXNzVG9CYXNlNjQoSlNPTi5zdHJpbmdpZnkoeyB2ZXJzaW9uOiBNUEFfVkVSU0lPTiB9KSk7XG4gICAgYXdhaXQgTG9hZFN0b3JhZ2UoKTtcbiAgICBTYXZlU3RvcmFnZSgpO1xuICAgIHJldHVybjtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEV4cG9ydFNldHRpbmdzVG9DbGlwYm9hcmQoKTogUHJvbWlzZTx2b2lkPlxue1xuICAgIHJldHVybiBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChMWlN0cmluZy5jb21wcmVzc1RvQmFzZTY0KEpTT04uc3RyaW5naWZ5KFBsYXllci5NUEEpKSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBJbXBvcnRTZXR0aW5nc0Zyb21DbGlwYm9hcmQoKTogUHJvbWlzZTx2b2lkPlxue1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PlxuICAgIHtcbiAgICAgICAgbmF2aWdhdG9yLmNsaXBib2FyZC5yZWFkVGV4dCgpLnRoZW4oKHRleHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHRyeVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1NldHRpbmdzOiBNUEFSZWNvcmRzID0gSlNPTi5wYXJzZShMWlN0cmluZy5kZWNvbXByZXNzRnJvbUJhc2U2NCh0ZXh0ID8/IFwiXCIpID8/IFwie31cIik7XG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgbG9jYWxseSBjb3B5IHRvIG1vZGlmeSBpbiBjYXNlIGl0IGZhaWxzIGFuZCBuZWVkIHRvIHJldmVydFxuICAgICAgICAgICAgICAgIC8vIFRyYW5zYWN0aW9uIGhhcHBlbnMgb3Igbm90IGF0IGFsbFxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTZXR0aW5nczogTVBBUmVjb3JkcyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoUGxheWVyLk1QQSkpO1xuXG4gICAgICAgICAgICAgICAgLy8gVmlydHVhbCBwZXQgbGV2ZWxzIHdpbGwgYmUgcmVwbGFjZWQgYW55d2F5LCBzZXQgY3VycmVudCB0aW1lIHNvIG5vdyB0byBub3QgaW50ZXJmZXIgd2l0aCBzeW5jaW5nIGxhdGVyXG4gICAgICAgICAgICAgICAgY3VycmVudFNldHRpbmdzW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdLmxldmVscy5sYXN0VXBkYXRlZCA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgY3VycmVudFNldHRpbmdzW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdLmxldmVscy5sYXN0T25saW5lID0gRGF0ZS5ub3coKTtcblxuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG5ld1NldHRpbmdzKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1NldHRpbmdzW2tleV0gIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gT25seSB1cGRhdGUgdGhlIHZhbHVlIGlmIHRoZSBuZXdSZWNvcmQga2V5IGV4aXN0cyBhbmQgaXMgbm90IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFNldHRpbmdzW2tleSBhcyBrZXlvZiBNUEFSZWNvcmRzXSA9IG5ld1NldHRpbmdzW2tleV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBWZXJpZnkgbmV3IHNldHRpbmdzIGFyZSBnb29kXG4gICAgICAgICAgICAgICAgLy8gSWYgYmFkIGRhdGEgIHJldHVybiByZWplY3QoKTtcblxuICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgbGV2ZWxzIHVwZGF0ZSBzbyB0aGF0IHRoZXkgcmV0YWluIHRoZSBzYW1lIHZhbHVlIHdoZW4gc2F2ZWQgYWZ0ZXIgc3luY2luZyBhZ2FpblxuICAgICAgICAgICAgICAgIGN1cnJlbnRTZXR0aW5nc1tNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XS5sZXZlbHMubGFzdFVwZGF0ZWQgPSBEYXRlLm5vdygpIC0gKGN1cnJlbnRTZXR0aW5nc1tNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XS5sZXZlbHMubGFzdE9ubGluZSAtIGN1cnJlbnRTZXR0aW5nc1tNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XS5sZXZlbHMubGFzdFVwZGF0ZWQpO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRTZXR0aW5nc1tNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XS5sZXZlbHMubGFzdE9ubGluZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgUGxheWVyLk1QQSA9IGN1cnJlbnRTZXR0aW5ncztcbiAgICAgICAgICAgICAgICBMZXZlbFN5bmMoZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG5cbiAgICAgICAgICAgICAgICBTYXZlU3RvcmFnZSh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oZXJyb3IpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoKTtcbiAgICAgICAgfSwgKCkgPT4gcmVqZWN0KCkpO1xuICAgIH0pO1xufVxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0ICYmIGRvY3VtZW50LmN1cnJlbnRTY3JpcHQudGFnTmFtZS50b1VwcGVyQ2FzZSgpID09PSAnU0NSSVBUJylcblx0XHRzY3JpcHRVcmwgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyYztcblx0aWYgKCFzY3JpcHRVcmwpIHtcblx0XHR2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuXHRcdGlmKHNjcmlwdHMubGVuZ3RoKSB7XG5cdFx0XHR2YXIgaSA9IHNjcmlwdHMubGVuZ3RoIC0gMTtcblx0XHRcdHdoaWxlIChpID4gLTEgJiYgKCFzY3JpcHRVcmwgfHwgIS9eaHR0cChzPyk6Ly50ZXN0KHNjcmlwdFVybCkpKSBzY3JpcHRVcmwgPSBzY3JpcHRzW2ktLV0uc3JjO1xuXHRcdH1cblx0fVxufVxuLy8gV2hlbiBzdXBwb3J0aW5nIGJyb3dzZXJzIHdoZXJlIGFuIGF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgeW91IG11c3Qgc3BlY2lmeSBhbiBvdXRwdXQucHVibGljUGF0aCBtYW51YWxseSB2aWEgY29uZmlndXJhdGlvblxuLy8gb3IgcGFzcyBhbiBlbXB0eSBzdHJpbmcgKFwiXCIpIGFuZCBzZXQgdGhlIF9fd2VicGFja19wdWJsaWNfcGF0aF9fIHZhcmlhYmxlIGZyb20geW91ciBjb2RlIHRvIHVzZSB5b3VyIG93biBsb2dpYy5cbmlmICghc2NyaXB0VXJsKSB0aHJvdyBuZXcgRXJyb3IoXCJBdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlclwiKTtcbnNjcmlwdFVybCA9IHNjcmlwdFVybC5yZXBsYWNlKC9eYmxvYjovLCBcIlwiKS5yZXBsYWNlKC8jLiokLywgXCJcIikucmVwbGFjZSgvXFw/LiokLywgXCJcIikucmVwbGFjZSgvXFwvW15cXC9dKyQvLCBcIi9cIik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBzY3JpcHRVcmw7IiwiaW1wb3J0IHsgUmVnaXN0ZXJNb2R1bGVzIH0gZnJvbSBcIi4vdXRpbC9yZWdpc3Rlck1vZHVsZXNcIjtcbmltcG9ydCB7IEJ1aWxkQWxsQ29tbWFuZHMgfSBmcm9tIFwiLi9jb21tYW5kcy9idWlsZEFsbENvbW1hbmRzXCI7XG5pbXBvcnQgeyBNUEFfVkVSU0lPTiB9IGZyb20gXCIuL3V0aWwvY29uc3RhbnRzXCI7XG5cbi8vIFRlc3RpbmcgZm9yIExvY2FsaXphdGlvbiwgZW5zdXJpbmcgYWxsIGZpZWxkcyBpbiB0aGUgdGVtcGxhdGVcbi8vIGltcG9ydCB7IFNldHRpbmdUZXN0IH0gZnJvbSBcIi4vX3Rlc3RzL3NldHRpbmdzTGFiZWxzXCI7XG4vLyBTZXR0aW5nVGVzdCgpO1xuLy8gaW1wb3J0IHsgQWN0aXZpdGllc1Rlc3QgfSBmcm9tIFwiLi9fdGVzdHMvYWN0aXZpdGllc1RleHRcIjtcbi8vIEFjdGl2aXRpZXNUZXN0KCk7XG5cbmNvbnNvbGUubG9nKFwiTG9hZGluZyBNYXlhJ3MgUGV0cGxheSBBZGRpdGlvbnNcIik7XG5cbkJ1aWxkQWxsQ29tbWFuZHMoKTtcblJlZ2lzdGVyTW9kdWxlcygpO1xud2luZG93Lk1QQSA9IHtcbiAgICB2ZXJzaW9uOiBNUEFfVkVSU0lPTixcbiAgICBtZW51TG9hZGVkOiBmYWxzZVxufTtcbiJdLCJuYW1lcyI6WyJvIiwiZSIsImFsZXJ0IiwiRXJyb3IiLCJjb25zb2xlIiwiZXJyb3IiLCJ0IiwiVGV4dEVuY29kZXIiLCJuIiwiQXJyYXkiLCJpc0FycmF5IiwiciIsIlNldCIsImZpbHRlciIsImhhcyIsImFkZCIsImkiLCJNYXAiLCJhIiwiYyIsIndhcm4iLCJzIiwiZiIsInZhbHVlcyIsInBhdGNoaW5nIiwiZ2V0IiwibmFtZSIsInB1c2giLCJob29rcyIsInBhdGNoZXMiLCJlbnRyaWVzIiwic2V0Iiwic29ydCIsInByaW9yaXR5Iiwic2l6ZSIsInRvU3RyaW5nIiwicmVwbGFjZUFsbCIsImluY2x1ZGVzIiwiZXZhbCIsIm9yaWdpbmFsIiwibSIsImVycm9yUmVwb3J0ZXJIb29rcyIsImhvb2tDaGFpbkV4aXQiLCJjYWxsIiwiYXBwbHkiLCJ0aGlzIiwibGVuZ3RoIiwiaG9va0VudGVyIiwibW9kIiwiaG9vayIsImFyZ3VtZW50cyIsInBhdGNoZXNTb3VyY2VzIiwiZW50ZXIiLCJmaW5hbCIsImwiLCJwcmVjb21wdXRlZCIsIndpbmRvdyIsInNwbGl0Iiwic2xpY2UiLCJqb2luIiwiZW5jb2RlIiwicGFkU3RhcnQiLCJ0b1VwcGVyQ2FzZSIsImQiLCJvcmlnaW5hbEhhc2giLCJPYmplY3QiLCJhc3NpZ24iLCJyb3V0ZXIiLCJjb250ZXh0IiwiY29udGV4dFByb3BlcnR5IiwicCIsInNka0VudHJ5cG9pbnQiLCJjdXJyZW50RW50cnlwb2ludCIsImhvb2tlZEJ5TW9kcyIsIm1hcCIsInBhdGNoZWRCeU1vZHMiLCJmcm9tIiwidSIsImRlbGV0ZSIsImxvYWRlZCIsImciLCJmdWxsTmFtZSIsInZlcnNpb24iLCJyZXBvc2l0b3J5IiwiYWxsb3dSZXBsYWNlIiwiYXBpRW5kcG9pbnRFbnRlciIsInVubG9hZCIsImhvb2tGdW5jdGlvbiIsImluZGV4T2YiLCJzcGxpY2UiLCJwYXRjaEZ1bmN0aW9uIiwicmVtb3ZlUGF0Y2hlcyIsImNsZWFyIiwiY2FsbE9yaWdpbmFsIiwiZ2xvYmFsVGhpcyIsImdldE9yaWdpbmFsSGFzaCIsImFwaSIsImZyZWV6ZSIsImgiLCJ5IiwiYmNNb2RTZGsiLCJhcGlWZXJzaW9uIiwicmVnaXN0ZXJNb2QiLCJnZXRNb2RzSW5mbyIsImdldFBhdGNoaW5nSW5mbyIsInNlYWwiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIkJFRF9TRUxGX1RFWFQiLCJCRURfT1RIRVJfVEVYVCIsIklzQmVkIiwiYmVkIiwia2V5cyIsIkNyYWZ0aW5nVmFsaWRhdGUiLCJDcmFmdGluZ1N0YXR1c1R5cGUiLCJPSyIsIkFMTF9CRURTIiwiSXRlbSIsIk5hbWUiLCJ0b0xvY2FsZUxvd2VyQ2FzZSIsIkdpdmVCZWRUZXh0IiwiY2hhcmFjdGVyIiwiUGxheWVyIiwiTWVtYmVyTnVtYmVyIiwiU2VuZEFjdGlvbiIsInVuZGVmaW5lZCIsIlNvdXJjZUNoYXJhY3RlciIsIlRhcmdldENoYXJhY3RlciIsIlVzZUJlZCIsIkludmVudG9yeUdldCIsIkludmVudG9yeUdyb3VwSXNCbG9ja2VkRm9yQ2hhcmFjdGVyIiwic2F2ZWRCZWQiLCJKU09OIiwicGFyc2UiLCJMWlN0cmluZyIsImRlY29tcHJlc3NGcm9tQmFzZTY0IiwiTVBBIiwiTW9kdWxlVGl0bGUiLCJQcml2YXRlIiwiSW52ZW50b3J5V2VhciIsIkNvbG9yIiwiaGFpckNvbG9yIiwiQ2hhdFJvb21DaGFyYWN0ZXJVcGRhdGUiLCJHaXZlQmVkIiwidW5hYmxlVG9HaXZlQmVkIiwiQ2FuSW50ZXJhY3QiLCJTZXJ2ZXJDaGF0Um9vbUdldEFsbG93SXRlbSIsIk1QQU5vdGlmeVBsYXllciIsIk5pY2tuYW1lIiwiTm90aWZ5UGxheWVyIiwiQmVkIiwiQ29tbWFuZENvbWJpbmUiLCJUYWciLCJEZXNjcmlwdGlvbiIsIkFjdGlvbiIsIl9hcmdzIiwibXNnIiwiX3BhcnNlZCIsImFyZyIsImV4ZWMiLCJjaGFyIiwiRmluZENoYXJhY3RlckluUm9vbSIsIlNhdmVTdG9yYWdlIiwiQXNzZXQiLCJQcm9wZXJ0eSIsIlR5cGVSZWNvcmQiLCJ0eXBlZCIsIlR5cGVkSXRlbVNldE9wdGlvbkJ5TmFtZSIsIkhvb2tGdW5jdGlvbiIsImFyZ3MiLCJuZXh0IiwiZGF0YSIsIlR5cGUiLCJDb250ZW50IiwiR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5IiwiRGljdGlvbmFyeSIsInNvbWUiLCJjdXJyIiwiVGV4dCIsIkJPV0xfU0VMRl9URVhUIiwiQk9XTF9PVEhFUl9URVhUIiwiQk9XTF9SRUdFWCIsIklzQm93bCIsImJvd2wiLCJHaXZlQm93bFRleHQiLCJVc2VCb3dsIiwic2F2ZWRCb3dsIiwiSXRlbVByb3BlcnR5IiwidGVzdCIsInN1YnN0cmluZyIsIkdpdmVCb3dsIiwidW5hYmxlVG9HaXZlQm93bCIsIkJvd2wiLCJCdWlsZEFsbENvbW1hbmRzIiwidHJhbnNsYXRpb25zIiwiUlUiLCJDTiIsIkxvY2FsaXplZFRleHQiLCJ0ZXh0IiwidHJhbnNsYXRlZFRleHQiLCJUcmFuc2xhdGlvbkxhbmd1YWdlIiwiTW9kdWxlVGl0bGVQdWJsaWNpdHkiLCJVbmtub3duIiwiQXV0aG9yaXR5IiwiQWN0aXZpdGllcyIsIkNsaWNrZXIiLCJTZXR0aW5ncyIsIlZpcnR1YWxQZXQiLCJWaXJ0dWFsUGV0SFVEIiwiVmlydHVhbFBldENvbmRpdGlvbnMiLCJEYXRhU3luYyIsIlByb2ZpbGUiLCJTZXR0aW5nc090aGVyIiwiTW9kdWxlSXNQdWJsaWMiLCJtb2R1bGVUaXRsZSIsIk1vZHVsZSIsIlRpdGxlIiwiU3luY0xpc3RlbmVycyIsIkxvYWQiLCJDcmVhdGVBY3Rpdml0aWVzIiwiQWRkRGF0YVN5bmNMaXN0ZW5lcnMiLCJVbmxvYWQiLCJSZW1vdmVIb29rcyIsIlJlbW92ZUFjdGl2aXRpZXMiLCJSZW1vdmVEYXRhU3luY0xpc3RlbmVycyIsIlJlbG9hZCIsIlJlY2lldmVCZWxsIiwic291cmNlIiwidGFyZ2V0IiwiX2dyb3VwIiwiX2RhdGEiLCJBdWRpb1NldHRpbmdzIiwiUGxheUl0ZW0iLCJQbGF5SXRlbVBsYXllck9ubHkiLCJCRUxMX1NPVU5EIiwicGxheSIsIlBBV19UT09MVElQIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic3JjIiwiSUNPTlMiLCJQQVciLCJzdHlsZSIsInBvc2l0aW9uIiwicmlnaHQiLCJib3R0b20iLCJ3aWR0aCIsImhlaWdodCIsIkFjdGl2aXRpZXNNb2R1bGUiLCJNYXhQcm9ncmVzcyIsIlByZXJlcXVpc2l0ZSIsIkN1c3RvbVByZXJlcXVpc2l0ZSIsIl9hY3RpbmciLCJhY3RlZCIsIlRhcmdldHMiLCJncm91cCIsImxhYmVsIiwiYWN0aW9uU2VsZiIsImFjdGlvbk90aGVycyIsIkltYWdlIiwiT25SZWNlaXZlIiwiY2xpdFBpZXJjaW5nIiwia2V5d29yZCIsImFjdGluZyIsIk5PX1NUVUNLX0JFRFMiLCJPblRyaWdnZXIiLCJDIiwibG9nIiwiU2F2ZUNoYXJhY3Rlckl0ZW0iLCJBcHBseUl0ZW1zVG9DaGFyYWN0ZXIiLCJzdXBlciIsInByZXJlcSIsImFjdGl2aXR5UHJlcmVxdWlzaXRlcyIsImFjdGl2aXR5TmFtZSIsImZpbmQiLCJ4IiwiQWN0aXZpdHlOYW1lIiwic3RhcnRzV2l0aCIsIkFDVElWSVRZX05BTUVfUFJFRklYIiwiQWN0aXZpdHlEaWN0aW9uYXJ5VGV4dCIsImFjdGl2aXR5VHJpZ2dlcnMiLCJ0YXJnZXROdW1iZXIiLCJDaGF0Um9vbUNoYXJhY3RlciIsImFjdGl2aXR5UmVjZWl2ZWQiLCJzb3VyY2VDaGFyIiwidGFyZ2V0Q2hhciIsIkFjdGl2aXR5IiwiaXNNUEFBY3Rpdml0eSIsImFjdGl2aXR5SW1hZ2VzIiwiaW1hZ2UiLCJidXR0b25FbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJjbG9uZU5vZGUiLCJQbGF5ZXJQIiwiSXNIYXJkY29yZU9uIiwiaGFyZGNvcmUiLCJBdXRob3JpdHlNb2R1bGUiLCJPV05FUlNfQ1VTVE9NX1NFVFRJTkdTIiwidHlwZSIsImFjdGl2ZSIsIm9wdGlvbnMiLCJBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUyIsImxvb3AiLCJvdGhlcnNQcm9maWxlIiwib25TZXQiLCJzZWxmUHJvZmlsZSIsIkNMSUNLRVJfVFlQRSIsIkFMTF9DTElDS1MiLCJBdWRpbyIsIlBsYXllckMiLCJDbGlja0NvdW50Iiwic3RyIiwidG90YWxDbGlja3MiLCJ0cmlnZ2VycyIsInRyaW0iLCJmb3JFYWNoIiwidHJpZ2dlciIsIm1hdGNoIiwiUmVnRXhwIiwiUGxheUNsaWNrZXJTb3VuZCIsIm51bWJlck9mQ2xpY2tzIiwiaXNOYU4iLCJlbmFibGVkIiwiTWF0aCIsIm1pbiIsImJjeEhvb2tlZCIsIkhvb2tCQ1hDbGlja2VyIiwiYmN4Rm91bmQiLCJiY3hBUEkiLCJvbiIsIm1lc3NhZ2UiLCJwcmVmaXgiLCJiY3hWb2ljZSIsIkNsaWNrZXJNb2R1bGUiLCJoYXNCZWVuTG9hZGVkIiwiX2FjdGVkIiwibWF4Q2hhcnMiLCJhdXRoZWRHcm91cCIsInNlbGZBdXRoZWQiLCJTZW5kZXIiLCJJc01lbWJlck51bWJlckluQXV0aEdyb3VwIiwiY2xpY2tzIiwiY2xpY2tUeXBlIiwiTk9ORSIsInNlYXJjaFRhZyIsIlJlbW92ZU9PQ0NvbnRlbnRGcm9tTWVzc2FnZSIsIkNIQVQiLCJFTU9URSIsInJlZHVjZSIsImFjYyIsIkFDVElPTiIsIml0ZW0iLCJjaGF0IiwiZW1vdGVzIiwiYWN0aXZpdGllcyIsIk51bWJlciIsImludmVydmFsIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwiU2V0dGluZ1N5bmMiLCJyZXBseSIsInNldHRpbmdzIiwic3RydWN0dXJlZENsb25lIiwiU2VuZE1QQU1lc3NhZ2UiLCJDYXRlZ29yeVN5bmMiLCJjYXRlZ29yeSIsIlJlY29yZFN5bmMiLCJyZWNvcmQiLCJSZWNvcmRzU3luYyIsInJlY29yZHMiLCJEYXRhU3luY01vZHVsZSIsIm1vZHVsZSIsImFjdGlvbiIsInNlbmRlciIsImNvbnRlbnQiLCJHZXRNUEFNZXNzYWdlRnJvbUNoYXQiLCJob29rZWRNZXNzYWdlcyIsImRlYWZlblByb2Nlc3MiLCJQcml2YXRlTW9kdWxlIiwiZWZmZWN0cyIsImlnbm9yZU9PQyIsImhhZERlYWZlbiIsImVmZmVjdCIsIm91dHB1dCIsImludGVuc2l0eSIsIlNwZWVjaFRyYW5zZm9ybURlYWZlbkludGVuc2l0eSIsIlNwZWVjaFRyYW5zZm9ybUdhZ0dhcmJsZSIsIkJFTExTIiwiYXVkaW8iLCJ2b2x1bWUiLCJHZXRSZWNvcmQiLCJ0aXRsZSIsIkdBUkJMRV9QSFJBU0VTIiwiSHVtYW4iLCJDdXN0b20iLCJCdW5ueSIsIkNhdCIsIkNvdyIsIkRvZyIsIkZveCIsIk1vdXNlIiwiUG9ueSIsIldvbGYiLCJHZXRBbGxvd2VkUGV0R2FyYmxlUGhyYXNlcyIsInByb2ZpbGUiLCJiYW5uZWRCQ1hXb3JkcyIsImdldFJ1bGVTdGF0ZSIsImN1c3RvbURhdGEiLCJiYW5uZWRXb3JkcyIsInBldFBocmFzZXMiLCJiY3hTcGVha2luZyIsIm1hbmRhdG9yeVdvcmRzIiwiZ2FyYmxlUGhyYXNlcyIsIkdldFBldEdhcmJsZVBocmFzZXMiLCJGaWx0ZXJBcnJheUZyb21BcnJheSIsInBocmFzZSIsIlBFVF9IRUFSSU5HIiwiQWxsIiwiU2V0UHJvZmlsZVR5cGUiLCJwcmV2VmFsdWUiLCJlbGVJRCIsIkVsZW1lbnROYW1lIiwiY3VzdG9tR2FyYmxlUGhyYXNlcyIsImdldEVsZW1lbnRCeUlkIiwiRWxlbWVudFZhbHVlIiwiU2V0QkNYU3BlYWsiLCJ3b3JkcyIsIkdBR0dJTkdfU1RSRU5HVEhfTUFQIiwiTG93IiwiTWVkaXVtIiwiSGlnaCIsIk1heCIsIk1PVkVNRU5UX1JFR0VYIiwiQkVMTF9KSU5HTEVfQ0hBTkNFIiwiT2ZmIiwiUGxheWVyTW92ZWRCZWxsSmluZ2xlIiwibWFwT3JQb3NlIiwiYmVsbHMiLCJjb3VudCIsImNsaXQiLCJnYWciLCJOdW1iZXJPZkJlbGxzV29ybiIsInJhbmRvbSIsImJlbGxKaW5nbGUiLCJSYW5kb21FbGVtZW50IiwiUHJvZmlsZU1vZHVsZSIsIl9jb250ZW50IiwicGV0U3BlYWtpbmciLCJJc1BsYXllciIsIm5vSGFuZHMiLCJmb29kTk9XIiwidGludCIsInBhc3NvdXQiLCJhZmZlY3Rpb25Ta2lsbEJ1ZmZzIiwiYWZmZWN0aW9uU2tpbGxEZWJ1ZmZzIiwiaGVhcmluZ0xvc3MiLCJzbG93TGVhdmUiLCJvcmdhc21XYXRlciIsIm9yZ2FzbVNsZWVwIiwicGV0R2FnZ2luZyIsIlNwZWVjaFRyYW5zZm9ybUFsbEVmZmVjdHMiLCJJc0dhZ2dlZCIsIklzRGVhZiIsInBldEhlYXJpbmciLCJBcHBseVBldEhlYXJpbmciLCJjb25jYXQiLCJHZXRQZXRIZWFyaW5nUGhyYXNlcyIsIkNvbW1hbmRzS2V5IiwiY2hhckF0Iiwic3BlYWsiLCJOb25EaXNydXB0aXZlUGV0U3BlZWNoIiwicGV0R2FnZ2luZ09wdGlvbiIsInBocmFzZXMiLCJzdHJlbmd0aCIsInBldEdhZ2dpbmdTdHJlbmd0aCIsIkRpc3J1cHRpdmVQZXRTcGVlY2giLCJwb3NlQmVmb3JlIiwiUG9zZSIsInBvc2VNYXBwaW5nQmVmb3JlIiwiUG9zZU1hcHBpbmciLCJwb3NlIiwiQm9keUxvd2VyIiwidHJhbnNmb3JtIiwic2V0dGluZ3NFZGl0ZWQiLCJzZXR0aW5nQ2hhciIsIlNldFNldHRpbmdDaGFyIiwiU2V0U2V0dGluZ3NFZGl0ZWQiLCJDQU5WQVNfV0lEVEgiLCJDQU5WQVNfSEVJR0hUIiwiRVhJVF9QT1NJU1RJT04iLCJCVVRUT05fTUFYX05VTUJFUiIsIkJVVFRPTl9XSURUSCIsIkJVVFRPTl9IRUlHSFQiLCJCVVRUT05fVE9QIiwiQlVUVE9OX0xFRlQiLCJCVVRUT05fR0FQIiwiQlVUVE9OX1RFWFRfUEFERElORyIsIldJS0lfUE9TSVRJT04iLCJXSUtJX0xJTksiLCJESVNDT1JEX0lOVklURSIsIkRJU0NPUkRfUE9TSVRJT04iLCJSRVNFVF9QT1NJVElPTiIsIkFMRVJUX1BPU0lUSU9OIiwic2hvd1NldHRpbmdzQWxlcnQiLCJzZXR0aW5nc0FsZXJ0VGV4dCIsIklNUE9SVF9QT1NJVElPTiIsIkVYUE9SVF9QT1NJVElPTiIsIlJFU0VUX0NPTkZJUk1fUE9TSVRJT04iLCJSRVNFVF9DQU5DRUxfUE9TSVRJT04iLCJWRVJTSU9OX1RFWFQiLCJNRU5VX0NBVEVHT1JJRVMiLCJNRU5VX1RJVExFUyIsImN1cnJlbnRNZW51Iiwic2V0dGluZ3NPcGVuIiwiYWxsb3dSZXNldFRpbWUiLCJjdXN0b21TZXR0aW5nT3BlbiIsIm93bmVyc0FkZGVkIiwib3duZXJzUmVtb3ZlZCIsIk93bmVyQWRkZWQiLCJudW0iLCJPd25lclJlbW92ZWQiLCJHZXRDbGlja2VkTWVudSIsIm1lbnVPcHRpb25zIiwiTW91c2VJbiIsImZsb29yIiwiT1BUSU9OX1BFUl9QQUdFIiwiT1BUSU9OX0hFSUdIVCIsIk9QVElPTl9UT1AiLCJPUFRJT05fTEVGVCIsIk9QVElPTl9HQVAiLCJPUFRJT05fQ0hFQ0tCT1hfU0laRSIsIk9QVElPTl9CQUNLX05FWFRfV0lEVEgiLCJPUFRJT05fVEVYVF9XSURUSCIsIk9QVElPTl9URVhUX01BWF9DSEFSUyIsIk9QVElPTl9DVVNUT01fV0lEVEgiLCJjdXJyZW50UGFnZSIsIm1heFBhZ2VzIiwiTkVYVF9CVVRUT05fUE9TIiwiUFJFVl9CVVRUT05fUE9TIiwiRHJhd1BhZ2VzQnV0dG9ucyIsImN1clBhZ2UiLCJtYXhOdW1PZlBhZ2VzIiwicGFnZSIsIm1heCIsIkRyYXdCdXR0b24iLCJDbGlja2VkUGFnZXNCdXR0b25zIiwiRXhpdEJ1dHRvblByZXNzZWQiLCJtZW51TG9hZGVkIiwiUHJlZmVyZW5jZU1lbnVFeGl0IiwiT25FeGl0IiwiQ3JlYXRlSFRNTEVsZW1lbnRzIiwiVXBkYXRlQW5kRGVsZXRlSFRNTEVsZW1lbnRzIiwiUHJlZmVyZW5jZU1lbnVDbGljayIsIm9wZW4iLCJmb2N1cyIsIkRhdGUiLCJub3ciLCJJbXBvcnRTZXR0aW5nc0Zyb21DbGlwYm9hcmQiLCJ0aGVuIiwiZmluYWxseSIsIkV4cG9ydFNldHRpbmdzVG9DbGlwYm9hcmQiLCJjZWlsIiwia2V5Iiwic2V0dGluZyIsIklzRGlzcGxheVNldHRpbmciLCJub1Blcm1pc3Npb24iLCJib3VuZEFjY2Vzc1NlbGYiLCJib3VuZEFjY2Vzc090aGVycyIsIk9uQ2xpY2siLCJuZXh0UHJldmlvdXNCdXR0b25zIiwic3ViTWVudSIsInNldHRpbmdzVG9EaXNwbGF5IiwidmFsIiwic2V0dGluZ05hbWUiLCJkaXNhYmxlZFNldHRpbmciLCJJc0NoZWNrYm94U2V0dGluZyIsIklzT3B0aW9uU2V0dGluZyIsImluZGV4Iiwib3B0TGVuIiwiQXV0aG9yaXR5SXNDb21wYXJpc29uVG9DaGFyYWN0ZXIiLCJJc0N1c3RvbVNldHRpbmciLCJPbkxvYWQiLCJHZXRDbGlja2VkT3B0aW9uIiwiUmVzZXRTdG9yYWdlIiwiUmVzZXRNZW51Q2xpY2siLCJQcmVmZXJlbmNlTWVudVJ1biIsInByZXZUZXh0QWxpZ24iLCJNYWluQ2FudmFzIiwidGV4dEFsaWduIiwiRHJhd1RleHQiLCJSZXNldE1lbnVSdW4iLCJEcmF3VGV4dEZpdCIsIkRJU0NPUkQiLCJEcmF3TWVudU9wdGlvbnMiLCJPblJ1biIsIkRyYXdDaGVja2JveCIsIkdldFByb25vdW5zIiwicHJvZmlsZU9yRXhjbHVkZXMiLCJwcmV2RGlzYWJsZWQiLCJuZXh0RGlzYWJsZWQiLCJEcmF3QmFja05leHRCdXR0b24iLCJJc1RleHRTZXR0aW5nIiwiSXNOdW1iZXJTZXR0aW5nIiwiaWQiLCJFbGVtZW50UG9zaXRpb25GaXhlZCIsIkVsZW1lbnRTZXRBdHRyaWJ1dGUiLCJFbGVtZW50UmVtb3ZlQXR0cmlidXRlIiwiRHJhd1N1Yk1lbnVPcHRpb25zIiwiTGV2ZWxTeW5jIiwib3duZXIiLCJQcmVmZXJlbmNlU3Vic2NyZWVuRXh0ZW5zaW9uc0NsZWFyIiwiUGxheWVyUHJlZmVyZW5jZU1lbnVMb2FkIiwiRWxlbWVudENyZWF0ZUlucHV0Iiwic3RlcCIsIkVsZW1lbnRSZW1vdmUiLCJTZXR0aW5nc01vZHVsZSIsIkVzY2FwZUhhbmRsZXIiLCJldmVudCIsInN0b3BQcm9wYWdhdGlvbiIsIlByZWZlcmVuY2VSZWdpc3RlckV4dGVuc2lvblNldHRpbmciLCJJZGVudGlmaWVyIiwiQnV0dG9uVGV4dCIsImNsaWNrIiwicnVuIiwiZXhpdCIsImxvYWQiLCJhZGRFdmVudExpc3RlbmVyIiwiTVBBX1JFTU9URSIsIk1QQV9SRU1PVEVfQkNYIiwiVkVSU0lPTl9URVhUX1NFTEYiLCJWRVJTSU9OX1RFWFRfT1RIRVIiLCJBcnJheXNFcXVhbCIsImFycjEiLCJhcnIyIiwiZXZlcnkiLCJPYmplY3REaWZmZXJlbmNlcyIsIm9sZE9iaiIsIm5ld09iaiIsImRpZmZlcmVuY2VzIiwib2xkIiwibmV3Iiwib2xkVmFsdWUiLCJuZXdWYWx1ZSIsImRpZmYiLCJTZXR0aW5nc090aGVyTW9kdWxlIiwib3JnaW5hbFNldHRpbmdzIiwidnBFbmFibGVkIiwiY2hhbmdlZFNldHRpbmdzIiwibGV2ZWxzIiwicHJldmlvdXNBdXRob3JpdHkiLCJzdHJpbmdpZnkiLCJuZXdBdXRob3JpdHkiLCJvd25lck92ZXJyaWRlIiwibmV3T3duZXJzIiwib3duZXJzIiwiZW50cnkiLCJzdWJlbnRyeSIsInByZXZpb3VzT3duZXJzIiwicGVuZGluZ093bmVycyIsIm93bmVyT3V0cHV0Iiwib3RoZXJzQWRkIiwicmVwbGFjZSIsIk1lbWJlck51bWJlclRvTmFtZSIsIm90aGVyc1JlbW92ZSIsImZpbHRlcmVkIiwidHJpbUVuZCIsImIiLCJtb2R1bGVEaWZmIiwibGFzdFVwZGF0ZWQiLCJBcnJheVRvUmVhZGFibGVTdHJpbmciLCJzZXR0aW5nc05vdGlmeSIsImJjeCIsImluQmN4U3Vic2NyZWVuIiwiTFNDR19SRU1PVEVfV0lORE9XX09QRU4iLCJJbmZvcm1hdGlvblNoZWV0U2VsZWN0aW9uIiwiYWNjZXNzIiwiTUFYX1NFVFRJTkdfVElNRV9IT1VSUyIsIlBsYXllclZQIiwiQk9XTF9DT05TVU1FX1JFQ09WRVJZIiwiSVRFTV9DT05VTUVfUkVDT1ZFUlkiLCJBQ1RJVklUSUVTX0ZPT0RfR0FJTiIsIkFDVElWSVRJRVNfV0FURVJfR0FJTiIsIkVNT1RJQ09OU19TTEVFUCIsIkFGRkVDVElPTl9BQ1RJVklUWV9MT1ZFIiwiQUZGRUNUSU9OX0FDVElWSVRZX0xJS0UiLCJBRkZFQ1RJT05fQUNUSVZJVFlfTUFTTyIsIkFGRkVDVElPTl9aT05FX0FGRkVDVElPTiIsIkl0ZW1Bcm1zIiwiSXRlbUJvb3RzIiwiSXRlbUJyZWFzdCIsIkl0ZW1CdXR0IiwiSXRlbUVhcnMiLCJJdGVtRmVldCIsIkl0ZW1IYW5kcyIsIkl0ZW1IZWFkIiwiSXRlbUxlZ3MiLCJJdGVtTW91dGgiLCJJdGVtTmVjayIsIkl0ZW1OaXBwbGVzIiwiSXRlbU5vc2UiLCJJdGVtUGVsdmlzIiwiSXRlbVRvcnNvIiwiSXRlbVZ1bHZhIiwiSXRlbVZ1bHZhUGllcmNpbmdzIiwiTUlOX09GRkxJTkVfRFJBSU5fTEVWRUwiLCJsYXN0T25saW5lSW50ZXJ2YWwiLCJTRVhfUEVUX0FDVElWSVRJRVMiLCJTRVhfUEVUX0FDVElWSVRJRVNfT1RIRVIiLCJTRVhfUEVUX1JFR0lPTlMiLCJTRVhfUEVUX1JFQ09WRVJZIiwicGVyZm9ybWVkT3JhbE9uIiwiU0VYX1BFVF9EUklOSyIsIkZFTUFMRSIsIk1BTEUiLCJJc1NsZWVwaW5nRXhwcmVzc2lvbiIsIkFwcGVhcmFuY2UiLCJHcm91cCIsIkV4cHJlc3Npb24iLCJJc0JlZE11bHRpcGxpZXIiLCJkZXZpY2UiLCJCRURfUEVSRkVDVCIsIkJFRF9OT1JNQUwiLCJCRURfQkFEIiwicGxheWVyU2xlZXBpbmdFeHByZXNzaW9uIiwicGxheWVyQmVkTXVsdGlwbGllciIsIlNsZWVwQ2hhbmdlQ2hlY2siLCJzeW5jIiwic2xlZXBIb3VycyIsIkhvdXJUb01TIiwiaG91cnMiLCJDYWxjdWxhdGVDdXJyZW50VmFsdWUiLCJkdXJhdGlvbiIsImxhc3RPbmxpbmUiLCJmaXJzdFJ1bkNoZWNrIiwiY3VycmVudFZhbHVlIiwiZGlmZjIiLCJuZXdWYWx1ZTIiLCJHZXRDaGFyYWN0ZXJDdXJyZW50U3RhdFZhbHVlIiwic3RhdCIsImNoYXJTdGF0cyIsImx2bCIsInNsZWVwIiwicHVzaFRvU3RvcmFnZSIsInJlY29yZFN5bmMiLCJmaXJzdFN5bmMiLCJ1cGRhdGUiLCJvbmxpbmUiLCJvZmZsaW5lRHJhaW4iLCJmb29kIiwiZm9vZEhvdXJzIiwid2F0ZXIiLCJ3YXRlckhvdXJzIiwiZHVyYXRpb25Ub1VzZSIsIm5ld1NsZWVwIiwiYWZmZWN0aW9uIiwiYWZmZWN0aW9uSG91cnMiLCJDYW5Ob20iLCJzZXhQZXQiLCJzZXhQZXRPbmx5IiwiQ2FuU2V4IiwiTW9kaWZ5U3RhdCIsImFtb3VudCIsImFwcGx5TW9kaWZpZXIiLCJzdG9yYWdlUHVzaCIsIm1vZGlmaWVyIiwiSXNPd25lciIsIklzTG92ZXJPZlBsYXllciIsIklzRmFtaWx5T2ZQbGF5ZXIiLCJDYW5UYWxrIiwiRHluYW1pY0dyb3VwTmFtZSIsIkJvZHlGdWxsIiwibnVtcyIsInN1bSIsIlN0YXRNb2RpZmllciIsImxldmVsIiwiVmVyaWZ5VmFsaWRTdGF0IiwiVmlydHVhbFBldE1vZHVsZSIsIklzTW91dGhCbG9ja2VkIiwiYWN0aXZpdHkiLCJBY3Rpdml0eUZlbWFsZTNEQ0ciLCJPUkdBU01fQUNUSVZJVFlfUkVHRVgiLCJzb3VyY2VDaGFyYWN0ZXIiLCJIYXNQZW5pcyIsImdyb3VwTXVsdCIsIm1hc29jaGlzdCIsIlBsYXllclZQQyIsIkNvbmRpdGlvbklzRW5mb3JjZWQiLCJjb25kaXRpb24iLCJ2cFN0YXROZWVkVG9CZUVuYWJsZWQiLCJBRkZFQ1RJT05fU0tJTExTIiwicHJldmlvdXNTdGF0cyIsIm9uU3RhdExldmVsIiwic3RhdENvdW50IiwiQ29uZGl0aW9uQ2hlY2siLCJjdXJyVmFsdWUiLCJjaGFuZ2VFdmVudCIsImZpcnN0UnVuIiwiY2hhbmdlIiwidGhyZXNoaG9sZCIsIlNMRUVQX1RJTlQiLCJQQVNTRURfT1VUIiwicGFzc2VkT3V0IiwiTk9UIiwiUEFTU09VVF9UQUxLX1JFUExBQ0UiLCJNUEFQYXNzb3V0IiwiTFNDRyIsImdldE1vZHVsZSIsIlNsZWVwU3RhdGUiLCJBY3RpdmUiLCJwYXNzb3V0TFNDRyIsIkFjdGl2YXRlIiwiQ2hhcmFjdGVyU2V0RmFjaWFsRXhwcmVzc2lvbiIsIkNhbktuZWVsIiwiUG9zZVNldEFjdGl2ZSIsIklzUGFzc2VkT3V0IiwiTFNTRyIsImFmZmVjdGlvbkNoZWNrSW50ZXJ2YWwiLCJBZmZlY3Rpb25Ta2lsbENoZWNrIiwic2tpbGwiLCJhZmZlY3Rpb25Nb2RpZmllciIsInJvdW5kIiwicHJldk1vZCIsIlNraWxsR2V0TW9kaWZpZXIiLCJTa2lsbEdldE1vZGlmaWVyRHVyYXRpb24iLCJTa2lsbFNldE1vZGlmaWVyIiwiVmlydHVhbFBldENvbmRpdGlvbnNNb2R1bGUiLCJzY2FsZWRWYWx1ZSIsInNxcnQiLCJJbmplY3Rvck1vZHVsZSIsInNlZGF0aXZlTGV2ZWwiLCJNaXNjTW9kdWxlIiwiY2hsb3JvZm9ybUVuYWJsZWQiLCJSZWNvdmVyIiwiTVBBV2FrZXVwIiwiR2FtZXBsYXlTZXR0aW5ncyIsIlNlbnNEZXBDaGF0TG9nIiwiZGVhZkxldmVsIiwiU2tpbGxNb2RpZmllck1heCIsInNraWxsRHVyYXRpb25NUyIsInByZXZTbG93IiwiQ2hhdFJvb21TbG93dGltZXIiLCJjdXJyRm9vZCIsIkN1cnJlbnRUaW1lIiwiQ2hhdFJvb21TbG93TGVhdmVNaW5UaW1lIiwiUGxheWVyVlBIVUQiLCJWUF9TVEFUX0NPTE9SX0RJQ1QiLCJEcmF3VmlydWFsUGV0SHVkIiwiem9vbSIsInN0YXRzIiwicG9zIiwiY2lyY2xlcyIsImJhc2VYIiwicmV2ZXJzZSIsInN0YXRMZW4iLCJjb2xzIiwiY29sIiwiY29sSW5kZXgiLCJzdGF0SW5kZXgiLCJyYWRpdXMiLCJjb2xvciIsImJlZ2luUGF0aCIsImFyYyIsIlBJIiwibGluZVdpZHRoIiwic3Ryb2tlU3R5bGUiLCJzdHJva2UiLCJsaW5lVG8iLCJmaWxsU3R5bGUiLCJmaWxsIiwiZXhhY3RTdGF0cyIsInByZXZGb250IiwiZm9udCIsIkNvbW1vbkdldEZvbnQiLCJzdHJva2VUZXh0IiwiZmlsbFRleHQiLCJEcmF3U3RhdENpcmNsZSIsInRvb3RpcFRleHQiLCJwYWQiLCJtZWFzdXJlVGV4dCIsImFjdHVhbEJvdW5kaW5nQm94UmlnaHQiLCJhY3R1YWxCb3VuZGluZ0JveExlZnQiLCJhY3R1YWxCb3VuZGluZ0JveERlc2NlbnQiLCJhY3R1YWxCb3VuZGluZ0JveEFzY2VudCIsIlRleHRYIiwiVGV4dFkiLCJEcmF3UmVjdCIsIkRyYXdTdGF0VG9vbHRpcCIsIlNob3VsZERyYXdIdWQiLCJBY3Rpdml0eUFsbG93ZWQiLCJzZWxmIiwib3RoZXJzIiwiY2hhcmFjdGVyVlBTdGF0cyIsIlZpcnR1YWxQZXRIVURNb2R1bGUiLCJDdXJyZW50U2NyZWVuIiwiZm9yY2VEcmF3IiwiUGxheWVyQXV0aCIsIkdldFNldHRpbmdzIiwiQUREX0NIRUNLQk9YIiwiUkVNX0NIRUNLQk9YIiwiQUREX09XTkVSX0JVVFRPTiIsIk9XTkVSX1RFWFRCT1giLCJNQVhfRU5UUklFU19QRVJfQ09MVU1OIiwiaGFzUGVybWlzc2lvbiIsInJlc3VsdCIsImF1dGhTZXR0aW5ncyIsInJlbW92ZURpc2FibGVkIiwic2VsZlJlbW92ZSIsInBhZ2VSZXN1bHRzIiwiQ2xpY2tlZEVudHJpZXMiLCJzZWxmQWRkIiwiYWRkSW5kZXgiLCJvdGhlcnNBdXRob3JpdHkiLCJyZW1JbmRleCIsIl9DIiwiX2hhc1Blcm1pc3Npb24iLCJvcHRpb24iLCJuZXdJbmRleCIsIm90aGVyT3B0aW9uIiwiZGlzYWJsZWQiLCJEcmF3RW50cmllcyIsImNhbkFkZE93bmVyIiwiQ3JlYXRlQWN0aXZpdHkiLCJjdXN0b21BY3Rpdml0eSIsIkFjdGl2aXR5SUQiLCJUYXJnZXQiLCJjdXN0b21QcmVyZXF1aXNpdGVzIiwibmV3UHJlcmVxdWlzaXRlIiwibmFtZUFkZGVkIiwiQWN0aXZpdHlEaWN0aW9uYXJ5IiwiVGFyZ2V0U2VsZiIsIkFjdGl2aXR5RmVtYWxlM0RDR09yZGVyaW5nIiwiY3VzdG9tQWN0aXZpdGllcyIsIlJlbW92ZUFjdGl2aXR5IiwiQVVUSE9SSVRZX0dST1VQX1BSSU9fT1JERVIiLCJBVVRIT1JJVFlfR1JPVVBTIiwiU2VsZiIsIkNsdWJvd25lciIsIk93bmVyc2hpcCIsIk93bmVycyIsIkxvdmVycyIsIkxvdmVyc2hpcCIsImxvdmVyIiwiV2hpdGVMaXN0IiwiRnJpZW5kTGlzdCIsIm1lbWJlck51bWJlciIsImF1dGhHcm91cCIsImFsbG93U2VsZiIsIkJsYWNrTGlzdCIsIkdob3N0TGlzdCIsImF1dGhDaGVjayIsIkhpZ2hlc3RMZXZlbEF1dGhvcml0eUdyb3VwIiwiY29tcGFyaXNvbiIsInJhbmsiLCJncm91cEluZGV4IiwicmFua0luZGV4Iiwic2xvdCIsIkNyYWZ0IiwiV2FyZHJvYmVBc3NldEJ1bmRsZSIsIkNSSVRJQ0FMX0VSUk9SIiwiaXRlbXMiLCJyZWZyZXNoIiwidmFsaWRQYXJhbXMiLCJWYWxpZGF0aW9uQ3JlYXRlRGlmZlBhcmFtcyIsInByZXZJdGVtIiwiVmFsaWRhdGlvbkNhblJlbW92ZUl0ZW0iLCJuZXdJdGVtIiwiSW52ZW50b3J5SXRlbUNyZWF0ZSIsIlZhbGlkYXRpb25DYW5BZGRJdGVtIiwid29ybkl0ZW0iLCJEaWZmaWN1bHR5IiwibmV3UHJvcGVydHkiLCJwcm9wS2V5IiwiQ2hhcmFjdGVyUmVmcmVzaCIsIk1QQV9OQU1FIiwidG9Mb2NhbGVVcHBlckNhc2UiLCJNUEFfVkVSU0lPTiIsIk1QQV9SRVBPIiwidXJsIiwiYXJyYXkiLCJmaWx0ZXJBcnJheSIsIm5ld0FycmF5IiwiZWxlIiwiYmFkRWxlIiwiU2h1ZmZsZUFycmF5IiwiaiIsIkNvbnRlbnRJc01QQU1lc2FnZSIsIlNlcnZlclNlbmQiLCJkaWN0aW9uYXJ5IiwiU2VuZEVtb3RlIiwidGltZW91dCIsImRhcmtUaGVtZSIsIkNoYXRTZXR0aW5ncyIsIkNvbG9yVGhlbWUiLCJDaGF0Um9vbVNlbmRMb2NhbCIsInNlYXJjaCIsIlNwZWVjaEdldE9PQ1JhbmdlcyIsInJhbmdlIiwic3RhcnQiLCJBZGREYXRhU3luY0xpc3RlbmVyIiwibGlzdGVuZXIiLCJsaXN0ZW5lcnMiLCJHZXRFbnRyeUZyb21DaGF0RGljdGlvbmFyeSIsImF0dHJpYnV0ZSIsIl9lcnJvciIsImFyciIsIm1lbWJlciIsIm5vdEZvdW5kIiwiZnJpZW5kIiwiRnJpZW5kTmFtZXMiLCJyb29tIiwiTElOS19SRUdFWCIsIkFwcGVuZFBldFNwZWVjaCIsInBldFNvdW5kIiwicGhyYXNlc1RvS2VlcCIsImZvdW5kUGhyYXNlcyIsInJlZ0V4cCIsIm1hdGNoQWxsIiwibGVuIiwidW5pcXVlUmFuZ2VzIiwibGFzdEluZGV4IiwiZmluYWxUZXh0IiwiZm91bmQiLCJSVVNIRURfU1BFQUtfUEVSQ0VOVEFHRSIsIlBFVF9TUEVBS19TVFJFTkdUSF9NQVAiLCJQRVRfU1BFQUtfRU5EX1BFUkNFTlRBR0UiLCJhbGxvd2VkUGV0UGhyYXNlcyIsInBldFBocmFzZUJ1Y2tldCIsIkdldFBldFBocmFzZSIsInBvcCIsIm5leHRJbmRleCIsInNlZ21lbnRzIiwib29jUmFuZ2VzIiwib29jIiwibGFzdEJpdCIsIm9iaiIsInRyYWlsaW5nV2hpdGVzcGFjZSIsIndvcmRTdGVuZ3RoIiwiZW5kU3Rlbmd0aCIsInNwZWFrUmVxdWlyZWQiLCJzcG9rZVBldCIsIm5ld01zZyIsInNlZ21lbnQiLCJzcGxpdFBocmFzZSIsInByZXZpb3VzV29yZCIsIndvcmQiLCJub1ByZXYiLCJlbmRzV2l0aCIsInBldFBocmFzZSIsIm1vZHVsZXNSZWdpc3RlcmVkIiwibW9kdWxlcyIsImFzeW5jIiwiUmVnaXN0ZXJNb2R1bGVzIiwibW9kU2V0IiwibmV3U2V0dGluZ3MiLCJMb2FkU3RvcmFnZSIsIm1vZEFQSSIsImZ1bmN0aW9uTmFtZSIsInJlbW92ZUhvb2siLCJBd2FpdFBsYXllciIsIkV4dGVuc2lvblNldHRpbmdzIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiQXdhaXRJbkNoYXRSb29tIiwiU2xlZXAiLCJtcyIsImdldE1vZEFwaSIsIklzU2V0dGluZyIsIkNIQU5HRUxPR19SQVdfU1RBQkxFIiwiQ0hBTkdFTE9HX1JBV19ERVYiLCJDSEFOR0VMT0dfU1RBQkxFIiwiQ0hBTkdFTE9HX0RFViIsIlZFUlNJT05fU1RBQkxFX1JFR0VYIiwiTVBBVXBkYXRlQ2hlY2siLCJpc1N0YWJsZSIsIlNlcnZlckFjY291bnRCZWVwIiwiTWVtYmVyTmFtZSIsIkNoYXRSb29tU3BhY2UiLCJDaGF0Um9vbU5hbWUiLCJCZWVwVHlwZSIsIk1lc3NhZ2UiLCJyZXNwb25zZSIsImZldGNoIiwib2siLCJzdGF0dXNUZXh0IiwiY2hhbmdlbG9nIiwibWF0Y2hlcyIsImNoYW5nZXMiLCJGZXRjaExhdGVzdENoYW5nZWxvZyIsInNldHRpbmdUaXRsZSIsImNhdGVnb3J5U2V0dGluZ3MiLCJzeW5jV2l0aE90aGVycyIsImNvbXByZXNzVG9CYXNlNjQiLCJTZXJ2ZXJQbGF5ZXJFeHRlbnNpb25TZXR0aW5nc1N5bmMiLCJuYXZpZ2F0b3IiLCJjbGlwYm9hcmQiLCJ3cml0ZVRleHQiLCJyZWplY3QiLCJyZWFkVGV4dCIsImN1cnJlbnRTZXR0aW5ncyIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZGVmaW5pdGlvbiIsImVudW1lcmFibGUiLCJGdW5jdGlvbiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwic2NyaXB0VXJsIiwiaW1wb3J0U2NyaXB0cyIsImxvY2F0aW9uIiwiY3VycmVudFNjcmlwdCIsInRhZ05hbWUiLCJzY3JpcHRzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiXSwic291cmNlUm9vdCI6IiJ9