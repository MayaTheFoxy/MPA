/*! For license information please see devBundle.js.LICENSE.txt */
(()=>{var e={"./node_modules/bondage-club-mod-sdk/dist/bcmodsdk.js":(e,t)=>{!function(){"use strict";const e="1.2.0";function o(e){alert("Mod ERROR:\n"+e);const t=new Error(e);throw console.error(t),t}const r=new TextEncoder;function n(e){return!!e&&"object"==typeof e&&!Array.isArray(e)}function i(e){const t=new Set;return e.filter((e=>!t.has(e)&&t.add(e)))}const a=new Map,l=new Set;function s(e){l.has(e)||(l.add(e),console.warn(e))}function u(e){const t=[],o=new Map,r=new Set;for(const n of h.values()){const i=n.patching.get(e.name);if(i){t.push(...i.hooks);for(const[t,a]of i.patches.entries())o.has(t)&&o.get(t)!==a&&s(`ModSDK: Mod '${n.name}' is patching function ${e.name} with same pattern that is already applied by different mod, but with different pattern:\nPattern:\n${t}\nPatch1:\n${o.get(t)||""}\nPatch2:\n${a}`),o.set(t,a),r.add(n.name)}}t.sort(((e,t)=>t.priority-e.priority));const n=function(e,t){if(0===t.size)return e;let o=e.toString().replaceAll("\r\n","\n");for(const[r,n]of t.entries())o.includes(r)||s(`ModSDK: Patching ${e.name}: Patch ${r} not applied`),o=o.replaceAll(r,n);return(0,eval)(`(${o})`)}(e.original,o);let i=function(t){var o,i;const a=null===(i=(o=y.errorReporterHooks).hookChainExit)||void 0===i?void 0:i.call(o,e.name,r),l=n.apply(this,t);return null==a||a(),l};for(let o=t.length-1;o>=0;o--){const r=t[o],n=i;i=function(t){var o,i;const a=null===(i=(o=y.errorReporterHooks).hookEnter)||void 0===i?void 0:i.call(o,e.name,r.mod),l=r.hook.apply(this,[t,e=>{if(1!==arguments.length||!Array.isArray(t))throw new Error(`Mod ${r.mod} failed to call next hook: Expected args to be array, got ${typeof e}`);return n.call(this,e)}]);return null==a||a(),l}}return{hooks:t,patches:o,patchesSources:r,enter:i,final:n}}function c(e,t=!1){let o=a.get(e);if(o)t&&(o.precomputed=u(o));else{let t=window;const i=e.split(".");for(let o=0;o<i.length-1;o++)if(t=t[i[o]],!n(t))throw new Error(`ModSDK: Function ${e} to be patched not found; ${i.slice(0,o+1).join(".")} is not object`);const l=t[i[i.length-1]];if("function"!=typeof l)throw new Error(`ModSDK: Function ${e} to be patched not found`);const s=function(e){let t=-1;for(const o of r.encode(e)){let e=255&(t^o);for(let t=0;t<8;t++)e=1&e?-306674912^e>>>1:e>>>1;t=t>>>8^e}return(~t>>>0).toString(16).padStart(8,"0").toUpperCase()}(l.toString().replaceAll("\r\n","\n")),c={name:e,original:l,originalHash:s};o=Object.assign(Object.assign({},c),{precomputed:u(c),router:()=>{},context:t,contextProperty:i[i.length-1]}),o.router=function(e){return function(...t){return e.precomputed.enter.apply(this,[t])}}(o),a.set(e,o),t[o.contextProperty]=o.router}return o}function d(){for(const e of a.values())e.precomputed=u(e)}function m(){const e=new Map;for(const[t,o]of a)e.set(t,{name:t,original:o.original,originalHash:o.originalHash,sdkEntrypoint:o.router,currentEntrypoint:o.context[o.contextProperty],hookedByMods:i(o.precomputed.hooks.map((e=>e.mod))),patchedByMods:Array.from(o.precomputed.patchesSources)});return e}const h=new Map;function v(e){h.get(e.name)!==e&&o(`Failed to unload mod '${e.name}': Not registered`),h.delete(e.name),e.loaded=!1,d()}function f(e,t){e&&"object"==typeof e||o("Failed to register mod: Expected info object, got "+typeof e),"string"==typeof e.name&&e.name||o("Failed to register mod: Expected name to be non-empty string, got "+typeof e.name);let r=`'${e.name}'`;"string"==typeof e.fullName&&e.fullName||o(`Failed to register mod ${r}: Expected fullName to be non-empty string, got ${typeof e.fullName}`),r=`'${e.fullName} (${e.name})'`,"string"!=typeof e.version&&o(`Failed to register mod ${r}: Expected version to be string, got ${typeof e.version}`),e.repository||(e.repository=void 0),void 0!==e.repository&&"string"!=typeof e.repository&&o(`Failed to register mod ${r}: Expected repository to be undefined or string, got ${typeof e.version}`),null==t&&(t={}),t&&"object"==typeof t||o(`Failed to register mod ${r}: Expected options to be undefined or object, got ${typeof t}`);const i=!0===t.allowReplace,a=h.get(e.name);a&&(a.allowReplace&&i||o(`Refusing to load mod ${r}: it is already loaded and doesn't allow being replaced.\nWas the mod loaded multiple times?`),v(a));const l=e=>{let t=m.patching.get(e.name);return t||(t={hooks:[],patches:new Map},m.patching.set(e.name,t)),t},s=(e,t)=>(...n)=>{var i,a;const l=null===(a=(i=y.errorReporterHooks).apiEndpointEnter)||void 0===a?void 0:a.call(i,e,m.name);m.loaded||o(`Mod ${r} attempted to call SDK function after being unloaded`);const s=t(...n);return null==l||l(),s},u={unload:s("unload",(()=>v(m))),hookFunction:s("hookFunction",((e,t,n)=>{"string"==typeof e&&e||o(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof e}`);const i=c(e),a=l(i);"number"!=typeof t&&o(`Mod ${r} failed to hook function '${e}': Expected priority number, got ${typeof t}`),"function"!=typeof n&&o(`Mod ${r} failed to hook function '${e}': Expected hook function, got ${typeof n}`);const s={mod:m.name,priority:t,hook:n};return a.hooks.push(s),d(),()=>{const e=a.hooks.indexOf(s);e>=0&&(a.hooks.splice(e,1),d())}})),patchFunction:s("patchFunction",((e,t)=>{"string"==typeof e&&e||o(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof e}`);const i=c(e),a=l(i);n(t)||o(`Mod ${r} failed to patch function '${e}': Expected patches object, got ${typeof t}`);for(const[n,i]of Object.entries(t))"string"==typeof i?a.patches.set(n,i):null===i?a.patches.delete(n):o(`Mod ${r} failed to patch function '${e}': Invalid format of patch '${n}'`);d()})),removePatches:s("removePatches",(e=>{"string"==typeof e&&e||o(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof e}`);const t=c(e);l(t).patches.clear(),d()})),callOriginal:s("callOriginal",((e,t,n)=>{"string"==typeof e&&e||o(`Mod ${r} failed to call a function: Expected function name string, got ${typeof e}`);const i=c(e);return Array.isArray(t)||o(`Mod ${r} failed to call a function: Expected args array, got ${typeof t}`),i.original.apply(null!=n?n:globalThis,t)})),getOriginalHash:s("getOriginalHash",(e=>("string"==typeof e&&e||o(`Mod ${r} failed to get hash: Expected function name string, got ${typeof e}`),c(e).originalHash)))},m={name:e.name,fullName:e.fullName,version:e.version,repository:e.repository,allowReplace:i,api:u,loaded:!0,patching:new Map};return h.set(e.name,m),Object.freeze(u)}function p(){const e=[];for(const t of h.values())e.push({name:t.name,fullName:t.fullName,version:t.version,repository:t.repository});return e}let y;const g=void 0===window.bcModSdk?window.bcModSdk=function(){const t={version:e,apiVersion:1,registerMod:f,getModsInfo:p,getPatchingInfo:m,errorReporterHooks:Object.seal({apiEndpointEnter:null,hookEnter:null,hookChainExit:null})};return y=t,Object.freeze(t)}():(n(window.bcModSdk)||o("Failed to init Mod SDK: Name already in use"),1!==window.bcModSdk.apiVersion&&o(`Failed to init Mod SDK: Different version already loaded ('1.2.0' vs '${window.bcModSdk.version}')`),window.bcModSdk.version!==e&&alert(`Mod SDK warning: Loading different but compatible versions ('1.2.0' vs '${window.bcModSdk.version}')\nOne of mods you are using is using an old version of SDK. It will work for now but please inform author to update`),window.bcModSdk);Object.defineProperty(t,"__esModule",{value:!0}),t.default=g}()},"./src/commands/bed.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{Bed:()=>n});var r=o("./src/util/messaging.ts");function n(){CommandCombine([{Tag:"bed",Description:"Crawl into bed without needing hands",Action:()=>{var e;if(null!==InventoryGet(Player,"ItemDevices"))return void(0,r.NotifyPlayer)("Unable to crawl into bed",2e4);const t=null===(e=InventoryGet(Player,"HairFront"))||void 0===e?void 0:e.Color;InventoryWear(Player,"PetBed","ItemDevices",[t[0],"Default",t[t.length-1]]),ChatRoomCharacterItemUpdate(Player,"ItemDevices"),(0,r.SendAction)("SourceCharacter crawls into PronounPossessive bed.",void 0,[{SourceCharacter:Player.MemberNumber}])}},{Tag:"blanket",Description:"Pull the blanket over yourself",Action:()=>{var e,t,o,n;const i=InventoryGet(Player,"ItemDevices");"PetBed"===(null==i?void 0:i.Asset.Name)&&(0===(null===(t=null===(e=i.Property)||void 0===e?void 0:e.TypeRecord)||void 0===t?void 0:t.typed)||1===(null===(n=null===(o=i.Property)||void 0===o?void 0:o.TypeRecord)||void 0===n?void 0:n.typed))?(i.Property.TypeRecord.typed=Number(!i.Property.TypeRecord.typed),ChatRoomCharacterUpdate(Player),1===i.Property.TypeRecord.typed?(0,r.SendAction)("SourceCharacter pulls a blanket over PronounObject.",void 0,[{SourceCharacter:Player.MemberNumber}]):(0,r.SendAction)("SourceCharacter removes the blanket from on top of PronounObject.",void 0,[{SourceCharacter:Player.MemberNumber}])):(0,r.NotifyPlayer)("Unable to pull the blanket over yourself.",2e4)}}])}},"./src/commands/buildAllCommands.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{BuildAllCommands:()=>n});var r=o("./src/commands/bed.ts");function n(){(0,r.Bed)()}},"./src/localization/localization.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{LocalizedText:()=>n});const r={template:o("./src/localization/template.json"),RU:o("./src/localization/RU.json")};function n(e){var t;const o=null===(t=null==r?void 0:r[TranslationLanguage])||void 0===t?void 0:t[e];return o&&""!==o?o:e}},"./src/modules/_module.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{Module:()=>l,ModuleTitle:()=>r});var r,n=o("./src/util/sdk.ts"),i=o("./src/util/activities.ts"),a=o("./src/util/messaging.ts");!function(e){e.Unknown="Unknown",e.Authority="Authority",e.Activities="Activities",e.Clicker="Clicker",e.Settings="Settings",e.VirtualPet="VirtualPet",e.VirtualPetHUD="VirtualPetHud",e.VirtualPetConditions="VirtualPetConditions",e.DataSync="DataSync",e.Profile="Profile",e.SettingsOther="SettingsOther"}(r||(r={}));class l{get Title(){return r.Unknown}get Activities(){return[]}get Settings(){return[]}get SyncListeners(){return[]}Load(){(0,i.CreateActivities)(this.Activities),(0,a.AddDataSyncListeners)(this.SyncListeners)}Unload(){(0,n.RemoveHooks)(this.Title),(0,i.RemoveActivities)(this.Activities),(0,a.RemoveDataSyncListeners)(this.Title)}Reload(){this.Unload(),this.Load()}}},"./src/modules/activities.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ActivitiesModule:()=>s});var r=o("./src/modules/_module.ts"),n=o("./src/util/messaging.ts"),i=o("./src/util/activities.ts"),a=o("./src/util/sdk.ts"),l=o("./src/util/constants.ts");class s extends r.Module{get Title(){return r.ModuleTitle.Activities}get Activities(){return[{Name:"FlickBell",MaxProgress:50,Prerequisite:["UseHands"],CustomPrerequisite:{Name:"HasBell",Prerequisite:(e,t,o)=>{var r,n,i,a;return"LeatherCollarBell"===(null===(n=null===(r=InventoryGet(t,"ItemNeck"))||void 0===r?void 0:r.Asset)||void 0===n?void 0:n.Name)||"CollarBell"===(null===(a=null===(i=InventoryGet(t,"ItemNeckAccessories"))||void 0===i?void 0:i.Asset)||void 0===a?void 0:a.Name)}},Targets:[{group:"ItemNeck",label:"Flick Bell",actionSelf:"SourceCharacter flicks the bell on PronounPossessive collar."},{group:"ItemNeck",label:"Flick Bell",actionOthers:"SourceCharacter flicks the bell on TargetCharacter's collar."}],Image:"Assets\\Female3DCG\\ItemNeckAccessories\\Preview\\CollarBell.png",OnTrigger:()=>{var e;(null===(e=null===Player||void 0===Player?void 0:Player.AudioSettings)||void 0===e?void 0:e.PlayItem)&&l.BELL_SOUND.play()},OnReceive:(e,t,o,r)=>{var n;(null==e?void 0:e.MemberNumber)===Player.MemberNumber||!(null===(n=Player.AudioSettings)||void 0===n?void 0:n.PlayItem)||(null==t?void 0:t.MemberNumber)!==Player.MemberNumber&&Player.AudioSettings.PlayItemPlayerOnly||l.BELL_SOUND.play()}}]}Load(){super.Load(),(0,a.HookFunction)(this.Title,"ActivityCheckPrerequisite",1,((e,t)=>{const[o,r,n,a]=e;return Object.keys(i.activityPrerequisites).includes(o)?i.activityPrerequisites[o](r,n,a):t(e)})),(0,a.HookFunction)(this.Title,"ServerSend",1,((e,t)=>{var o,r,n,a,s,u;const c=e[1];if("ChatRoomChat"!==e[0]||"Activity"!==(null==c?void 0:c.Type))return t(e);const d=null===(r=null===(o=null==c?void 0:c.Dictionary)||void 0===o?void 0:o.find((e=>e.ActivityName)))||void 0===r?void 0:r.ActivityName;if((null==d?void 0:d.startsWith(l.ACTIVITY_NAME_PREFIX))&&(null===(n=null==c?void 0:c.Dictionary)||void 0===n||n.push({Tag:"MISSING ACTIVITY DESCRIPTION FOR KEYWORD "+c.Content,Text:ActivityDictionaryText(c.Content)}),Object.keys(i.activityTriggers).includes(d))){const e=null!==(u=null===(s=null===(a=null==c?void 0:c.Dictionary)||void 0===a?void 0:a.find((e=>e.TargetCharacter)))||void 0===s?void 0:s.TargetCharacter)&&void 0!==u?u:-1,t=null===ChatRoomCharacter||void 0===ChatRoomCharacter?void 0:ChatRoomCharacter.find((t=>t.MemberNumber===e));i.activityTriggers[d](t)}return t(e)})),(0,a.HookFunction)(r.ModuleTitle.Clicker,"ChatRoomMessage",0,((e,t)=>{var o,r;t(e);const a=e[0];if("Activity"===a.Type){const e=(0,n.GetAttributeFromChatDictionary)(a,"ActivityName");if(!(null==e?void 0:e.startsWith(l.ACTIVITY_NAME_PREFIX))||!(e in i.activityReceived))return;const t=null!==(o=(0,n.FindCharacterInRoom)((0,n.GetAttributeFromChatDictionary)(a,"SourceCharacter"),{MemberNumber:!0,NickName:!1,Name:!1}))&&void 0!==o?o:void 0,s=null!==(r=(0,n.FindCharacterInRoom)((0,n.GetAttributeFromChatDictionary)(a,"TargetCharacter"),{MemberNumber:!0,NickName:!1,Name:!1}))&&void 0!==r?r:void 0,u=(0,n.GetAttributeFromChatDictionary)(a,"FocusGroupName");i.activityReceived[e](t,s,u,a)}})),(0,a.HookFunction)(this.Title,"ElementButton.CreateForActivity",0,((e,t)=>{const o=e[1].Activity.Name;return Object.keys(i.activityImages).includes(o)&&(e[4]||(e[4]={}),e[4].image=i.activityImages[o]),t(e)}))}Unload(){super.Unload()}}},"./src/modules/authority.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{AuthorityModule:()=>l,IsHardcoreOn:()=>a});var r=o("./src/util/authority.ts"),n=o("./src/modules/_module.ts");const i=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[n.ModuleTitle.Authority])&&void 0!==o?o:{}};function a(e){var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[n.ModuleTitle.Authority].hardcore)&&void 0!==o&&o}class l extends n.Module{get Title(){return n.ModuleTitle.Authority}get Settings(){return[{name:"owners",type:"text",active:()=>!0,value:"",label:"Owner member numbers; Seperated by a ,",maxChars:1024,width:400},{name:"boundAccessSelf",type:"checkbox",active:()=>!0,value:!0,label:"Allow TargetCharacter changing TargetPronounPossessive own settings while bound"},{name:"boundAccessOthers",type:"checkbox",active:()=>!0,value:!1,label:"Allow TargetCharacter changing the settings of others while bound"},{name:"selfAuthority",type:"checkbox",active:()=>!0,value:!0,label:"Allow TargetCharacter to change TargetPronounPossessive Authority settings"},{name:"othersAuthority",type:"option",active:()=>!0,options:r.AUTHORITY_GROUP_OPTIONS,value:"Clubowner",label:"Allow others to change TargetCharacter's Authority settings",loop:!1},{name:"selfProfile",type:"checkbox",active:e=>"Self"!==i(e).othersProfile,value:!0,label:"Allow TargetCharacter to change TargetPronounPossessive Profile settings"},{name:"othersProfile",type:"option",active:()=>!0,options:r.AUTHORITY_GROUP_OPTIONS,value:"Clubowner",label:"Allow others to change TargetCharacter's Profile settings",loop:!1,onSet(e){i(e).selfProfile=!0}},{name:"selfClicker",type:"checkbox",active:()=>!0,value:!0,label:"Allow TargetCharacter to change TargetPronounPossessive Clicker settings"},{name:"othersClicker",type:"option",active:()=>!0,options:r.AUTHORITY_GROUP_OPTIONS,value:"Clubowner",label:"Allow others to change TargetCharacter's Clicker settings",loop:!1},{name:"selfVirtualPet",type:"checkbox",active:()=>!0,value:!0,label:"Allow TargetCharacter to change TargetPronounPossessive Virtual Pet settings"},{name:"othersVirtualPet",type:"option",active:()=>!0,options:r.AUTHORITY_GROUP_OPTIONS,value:"Clubowner",label:"Allow others to change TargetCharacter's Virtual Pet settings",loop:!1},{name:"selfVirtualPetConditions",type:"checkbox",active:()=>!0,value:!0,label:"Allow TargetCharacter to change TargetPronounPossessive Virtual Pet Conditions settings"},{name:"othersVirtualPetConditions",type:"option",active:()=>!0,options:r.AUTHORITY_GROUP_OPTIONS,value:"Clubowner",label:"Allow others to change TargetCharacter's Virtual Pet Conditions settings",loop:!1}]}}},"./src/modules/clicker.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ClickerModule:()=>v});var r=o("./src/util/sdk.ts"),n=o("./src/util/messaging.ts"),i=o("./src/util/authority.ts"),a=o("./src/modules/_module.ts"),l=o("./src/modules/profile.ts");const s=[new Audio("https://media.soundgasm.net/sounds/df33316bec7bc03902860d21fb4b8827466f2bad.m4a"),new Audio("https://media.soundgasm.net/sounds/fa49b10dad3e1202de096859b339dcfc5eab90a5.m4a"),new Audio("https://media.soundgasm.net/sounds/b25177a6a92d5a74d047a9d77a807f2d1ed28c71.m4a")],u=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[a.ModuleTitle.Clicker])&&void 0!==o?o:{}};function c(e=""){let t=0;return u().triggers.split(",").map((e=>e.trim())).filter((e=>""!==e)).forEach((o=>{var r,n;t+=null!==(n=null===(r=e.toLocaleLowerCase().match(new RegExp(o.toLocaleLowerCase(),"g")))||void 0===r?void 0:r.length)&&void 0!==n?n:0})),t}function d(e=0){isNaN(e)||e<=0||!u().enabled||s[Math.min(e-1,s.length-1)].play()}let m=!1;function h(){var e,t;(0,r.bcxFound)()&&!m&&(null===(t=null===(e=(0,r.bcxAPI)())||void 0===e?void 0:e.on)||void 0===t||t.call(e,"bcxLocalMessage",(e=>{const t=null==e?void 0:e.message,o="[Voice] ";u().enabled&&u().bcxVoice&&(null==t?void 0:t.startsWith(o))&&d(c(t.substring(8)))})),m=!0)}class v extends a.Module{constructor(){super(...arguments),this.hasBeenLoaded=!1}get Title(){return a.ModuleTitle.Clicker}get Activities(){return[{Name:"Clicker1",MaxProgress:50,Prerequisite:["UseHands"],CustomPrerequisite:{Name:"HoldingClicker",Prerequisite:(e,t,o)=>{var r,n,i,a,l;return null!==(l=null===(a=null===(i=null===(n=null===(r=InventoryGet(e,"ItemHandheld"))||void 0===r?void 0:r.Asset)||void 0===n?void 0:n.Name)||void 0===i?void 0:i.toLocaleLowerCase())||void 0===a?void 0:a.includes("remote"))&&void 0!==l&&l}},Targets:[{group:"ItemHands",label:"Click Once",actionSelf:"SourceCharacter presses the button on PronounPossessive clicker."}],Image:"Icons/AudioOn.png"},{Name:"Clicker2",MaxProgress:50,Prerequisite:["UseHands"],CustomPrerequisite:{Name:"HoldingClicker"},Targets:[{group:"ItemHands",label:"Click Twice",actionSelf:"SourceCharacter presses the button on PronounPossessive clicker twice."}],Image:"Icons/AudioOn.png"},{Name:"Clicker3",MaxProgress:50,Prerequisite:["UseHands"],CustomPrerequisite:{Name:"HoldingClicker"},Targets:[{group:"ItemHands",label:"Click Thrice",actionSelf:"SourceCharacter presses the button on PronounPossessive clicker three times."}],Image:"Icons/AudioOn.png"}]}get Settings(){return[{name:"enabled",type:"checkbox",active:e=>!(0,l.IsHardcoreOn)(e),value:!1,label:"Enable auditory clicker"},{name:"triggers",type:"text",active:e=>!!u(e).enabled,value:"~click~",label:"Phrases that trigger the click; Separate phrases with a comma",width:384,maxChars:null},{name:"selfAuthed",type:"checkbox",active:e=>!!u(e).enabled&&"Self"!==u(e).authedGroup,value:!0,label:"Allow your own chat, emotes, & actions to trigger the clicker"},{name:"authedGroup",type:"option",active:e=>!!u(e).enabled,value:"Friends",options:["Public","Friends","Whitelist","Lovers","Owners","Clubowner","Self"],label:"Who will be able to trigger the clicker",loop:!1,onSet(e){"Self"===u(e).authedGroup&&(u(e).selfAuthed=!0)}},{name:"bcxVoice",type:"checkbox",active:e=>!!u(e).enabled&&(0,r.bcxFound)()&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Allow BCX Listen to my voice rule to trigger the clicker; Requires BCX"}]}Load(){if(super.Load(),(0,r.HookFunction)(a.ModuleTitle.Clicker,"ChatRoomMessage",0,((e,t)=>{var o,r,a,l,s,m,h,v,f,p;const y=e[0];if(!(u().enabled&&(null===(o=e[0])||void 0===o?void 0:o.Type)&&(null===(r=e[0])||void 0===r?void 0:r.Content)&&(null===(a=e[0])||void 0===a?void 0:a.Sender)&&(0,i.IsMemberNumberInAuthGroup)(y.Sender,u().authedGroup,u().selfAuthed)))return t(e);let g=0;return"Chat"!=y.Type&&"Emote"!=y.Type&&"Whisper"!=y.Type||(g=c((0,n.RemoveOOCContentFromMessage)(y.Content))),"Action"==y.Type&&(g="Beep"==y.Content?c(null!==(m=null===(s=null===(l=null==y?void 0:y.Dictionary)||void 0===l?void 0:l.filter((e=>"Beep"==e.Tag))[0])||void 0===s?void 0:s.Text)&&void 0!==m?m:""):(null===(h=y.Dictionary)||void 0===h?void 0:h.reduce(((e,t)=>e||'MISSING TEXT IN "Interface.csv": '===t.Tag&&"â€Œ"===t.Text),!1))?c(y.Content):c(null!==(p=null===(f=null===(v=null==y?void 0:y.Dictionary)||void 0===v?void 0:v.filter((e=>e.Tag==`MISSING TEXT IN "Interface.csv": ${null==y?void 0:y.Content}`))[0])||void 0===f?void 0:f.Text)&&void 0!==p?p:"")),d(g),t(e)})),(0,r.HookFunction)(a.ModuleTitle.Clicker,"ChatRoomMessage",0,((e,t)=>{t(e);const o=e[0],r=(0,n.GetAttributeFromChatDictionary)(o,"ActivityName");u().enabled&&"Activity"===o.Type&&(null==r?void 0:r.startsWith("MPA_Clicker"))&&(0,i.IsMemberNumberInAuthGroup)(o.Sender,u().authedGroup,u().selfAuthed)&&d(Number(r.slice(-1)))})),!this.hasBeenLoaded){h();const e=setInterval((()=>{m?clearInterval(e):h()}),6e4)}this.hasBeenLoaded=!0}Unload(){super.Unload()}}},"./src/modules/dataSync.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{CategorySync:()=>l,DataSyncModule:()=>c,RecordSync:()=>s,RecordsSync:()=>u,SettingSync:()=>a});var r=o("./src/util/sdk.ts"),n=o("./src/modules/_module.ts"),i=o("./src/util/messaging.ts");function a(e=!1,t){(0,i.SendMPAMessage)({message:"SettingSync",settings:Player.MPA,reply:e},t)}function l(e,t){(0,i.SendMPAMessage)({message:"CategorySync",category:e,value:Player.MPA[e]},t)}function s(e,t,o){(0,i.SendMPAMessage)({message:"RecordSync",category:e,record:t,value:Player.MPA[e][t]},o),u([{category:e,record:t}],o)}function u(e,t){for(const t of e)t.value=Player.MPA[t.category][t.record];(0,i.SendMPAMessage)({message:"RecordsSync",records:e},t)}class c extends n.Module{get Title(){return n.ModuleTitle.DataSync}get SyncListeners(){return[{module:n.ModuleTitle.DataSync,message:"SettingSync",action:function(e,t){e.MPA=t.settings,t.reply&&a(!1,e.MemberNumber)}},{module:n.ModuleTitle.DataSync,message:"CategorySync",action:function(e,t){e.MPA?e.MPA[t.category]=t.value:a(!1,e.MemberNumber)}},{module:n.ModuleTitle.DataSync,message:"RecordSync",action:function(e,t){var o;(null===(o=null==e?void 0:e.MPA)||void 0===o?void 0:o[t.category])?e.MPA[t.category][t.record]=t.value:l(t.category,e.MemberNumber)}},{module:n.ModuleTitle.DataSync,message:"RecordsSync",action:function(e,t){var o;for(const r of t.records)(null===(o=null==e?void 0:e.MPA)||void 0===o?void 0:o[r.category])?e.MPA[r.category][r.record]=r.value:l(t.category,e.MemberNumber)}}]}Load(){super.Load(),0!==ChatRoomCharacter.length&&a(!0),(0,r.HookFunction)(n.ModuleTitle.DataSync,"ChatRoomSync",0,((e,t)=>{t(e),a(!0)})),(0,r.HookFunction)(n.ModuleTitle.DataSync,"ChatRoomMessage",0,((e,t)=>{var o;const r=e[0],n=(0,i.GetMPAMessageFromChat)(r);if(!n)return t(e);const a=(0,i.FindCharacterInRoom)(null!==(o=r.Sender)&&void 0!==o?o:"",{MemberNumber:!0,Name:!1,NickName:!1});if(!a)return t(e);i.hookedMessages.forEach((e=>{n.message===e.message&&e.action(a,n)}))}))}Unload(){super.Unload()}}},"./src/modules/profile.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{GARBLE_PHRASES:()=>v,IsHardcoreOn:()=>m,PET_HEARING:()=>p,ProfileModule:()=>b});var r=o("./src/util/general.ts"),n=o("./src/util/sdk.ts"),i=o("./src/modules/_module.ts"),a=o("./src/modules/settings.ts"),l=o("./src/util/petHearAndSpeak.ts"),s=o("./src/util/messaging.ts"),u=o("./src/modules/dataSync.ts"),c=o("./src/util/authority.ts");const d=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[i.ModuleTitle.Profile])&&void 0!==o?o:{}};function m(e){var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[i.ModuleTitle.Profile].hardcore)&&void 0!==o&&o}function h(e,t=Player){var o,r;return null!==(r=null===(o=t.MPA)||void 0===o?void 0:o[e])&&void 0!==r?r:{}}const v=Object.freeze({Human:["hmmgm","mmmm","mhhmmaa","hmmm"],Custom:[""],Bunny:["pon","eep","huff","tk-tk","nngh-nngh"],Cat:["meow","mew","nyah","nya","purr","mrrow","prrr"],Cow:["moo","mooooo","muuhhh","moooah"],Dog:["arf","woof","bark","ruff","huff","eep"],Fox:["chirp","yip","wow-wow","yoww","eep"],Mouse:["squeak","eeek","tch-tch","wi-i-i","sss"],Pony:["neigh","whinny","wheee","snrt","whooosh","huff","nnhhh-ker"],Wolf:["awoo","aa-ooo","woof","ruff","arf","wiiip","huff"]});function f(e=d(Player).type){var t,o,i,a,l,s,u,c;const m=null!==(a=null===(i=null===(o=null===(t=(0,n.bcxAPI)())||void 0===t?void 0:t.getRuleState("speech_ban_words"))||void 0===o?void 0:o.customData)||void 0===i?void 0:i.bannedWords)&&void 0!==a?a:[],h=(0,n.bcxFound)()&&d(Player).bcxSpeaking?null!==(c=null===(u=null===(s=null===(l=(0,n.bcxAPI)())||void 0===l?void 0:l.getRuleState("speech_mandatory_words"))||void 0===s?void 0:s.customData)||void 0===u?void 0:u.mandatoryWords)&&void 0!==c?c:[]:function(e=d(Player).type){return e in v&&"Custom"!==e?v[e]:d(Player).garblePhrases.split(",").map((e=>e.trim()))}(e);return(0,r.FilterArrayFromArray)(h,m)}const p=Object.freeze({All:["owner","pet","master","mistress","miss","sir","paw","sit","come","down","up","stay","water","food","kibble","eat","treat","drink","toy","play","leash","walk","walkies","bed","sleep","cutie","adorable","toy","play","kibble","good","bad","lap","speak","hush","quiet","hush","all fours","all-fours"],Human:[],Custom:[],Bunny:["bun","bunny","carrot","hop","jump","hump","ear","ears"],Cat:["cat","kitty","kitten","catnip","knead","scratch","yarn","milk"],Cow:["milk","milking","utter","breast","grass","moo"],Dog:["cage","kennel","pup","puppy","dog","doggy","bone","fetch","heel","roll","over","bark"],Fox:["trap","bun","bunny","bone","fox","foxy"],Mouse:["mouse","ear","ears","trap","wire","wheel","cheese","nibble","cat","kitty","kitten"],Pony:["pony","mare","stallion","bridle","hoof","hooves","trot","stall","hay","woah","stomp","calm","easy","slow","cart","bay","run","race"],Wolf:["bone","wolf","dog","pup","puppy","heel"]});function y(e,t,o){const r=(0,a.ElementName)(i.ModuleTitle.Profile,"garblePhrases");if("Custom"===t)return d(e).garblePhrases=d(e).customGarblePhrases.join(", "),void(document.getElementById(r)&&ElementValue(r,d(e).garblePhrases));"Custom"===o&&document.getElementById(r)&&(d(e).customGarblePhrases=ElementValue(r).split(",").map((e=>e.trim()))),d(e).garblePhrases=v[d(e).type].join(", "),document.getElementById(r)&&ElementValue(r,d(e).garblePhrases)}function g(){var e,t,o,r;d().bcxSpeaking=!0;const l=(0,a.ElementName)(i.ModuleTitle.Profile,"garblePhrases");"Custom"===d().type&&document.getElementById(l)&&(d().customGarblePhrases=ElementValue(l).split(",").map((e=>e.trim())));const s=null!==(r=null===(o=null===(t=null===(e=(0,n.bcxAPI)())||void 0===e?void 0:e.getRuleState("speech_mandatory_words"))||void 0===t?void 0:t.customData)||void 0===o?void 0:o.mandatoryWords)&&void 0!==r?r:[];d().garblePhrases=s.join(", "),document.getElementById(l)&&ElementValue(l,d().garblePhrases)}class b extends i.Module{get Title(){return i.ModuleTitle.Profile}get SyncListeners(){return[{module:this.Title,message:"BCXSpeakEnableRequest",action:function(e,t){var o,r;(0,c.IsMemberNumberInAuthGroup)(null!==(o=e.MemberNumber)&&void 0!==o?o:-1,null===(r=Player.MPA)||void 0===r?void 0:r[i.ModuleTitle.Authority][`others${i.ModuleTitle.Profile}`])?(g(),(0,u.RecordsSync)([{category:i.ModuleTitle.Profile,record:"garblePhrases"},{category:i.ModuleTitle.Profile,record:"bcxSpeaking"}],e.MemberNumber),(0,s.SendMPAMessage)({message:"BCXSpeakEnableReply"},e.MemberNumber)):console.warn(`${e.Nickname||e.Name}[${e.MemberNumber}] tried to illegially set your bcx speak to be enabled`)}},{module:this.Title,message:"BCXSpeakEnableReply",action:function(e,t){const o=(0,a.ElementName)(i.ModuleTitle.Profile,"garblePhrases");document.getElementById(o)&&ElementValue(o,d(e).garblePhrases)}}]}get Settings(){return[{name:"type",type:"option",active:()=>!0,options:Object.keys(v),value:"Human",label:"Use a preset profile or make your own",loop:!0,onSet:(e,t,o)=>{d(e).bcxSpeaking||y(e,t,o)}},{name:"petHearing",type:"checkbox",active:()=>!0,value:!1,label:"While deafened certain pet keywords can be picked up"},{name:"garblePhrases",type:"text",active:e=>"Custom"===d(e).type&&!(d(e).petSpeaking&&(0,n.bcxFound)()&&d(e).bcxSpeaking),value:v.Human.join(),label:"Pet sounds you make",maxChars:1024,width:1024},{name:"customGarblePhrases",type:"record",value:[]},{name:"petSpeaking",type:"checkbox",active:()=>!0,value:!1,label:"Automatically make the above pet sounds while talking"},{name:"bcxSpeaking",type:"checkbox",active:e=>d(e).petSpeaking&&(0,n.bcxFound)(),value:!1,label:"Use BCX mandatory words instead of the pet sounds above",onSet:(e,t)=>{if(t)if(e.IsPlayer())g();else{const t=(0,a.ElementName)(i.ModuleTitle.Profile,"garblePhrases");"Custom"===d(e).type&&document.getElementById(t)&&(d(e).customGarblePhrases=ElementValue(t).split(",").map((e=>e.trim()))),(0,s.SendMPAMessage)({message:"BCXSpeakEnableRequest"},e.MemberNumber)}else y(e,d(e).type,"")}},{name:"hardcore",type:"checkbox",active:()=>!0,value:!1,label:"Enable hardcore mode; Will set certain settings and prevent changing them back",onSet(e){h(i.ModuleTitle.Clicker,e).enabled=!0,h(i.ModuleTitle.Clicker,e).bcxVoice=!0,h(i.ModuleTitle.VirtualPet,e).enabled=!0,h(i.ModuleTitle.VirtualPet,e).noHands=!1,h(i.ModuleTitle.VirtualPetConditions,e).enabled=!0,h(i.ModuleTitle.VirtualPetConditions,e).foodNOW=!0,h(i.ModuleTitle.VirtualPetConditions,e).tint=!0,h(i.ModuleTitle.VirtualPetConditions,e).passout=!0,h(i.ModuleTitle.VirtualPetConditions,e).affectionSkillBuffs=!1,h(i.ModuleTitle.VirtualPetConditions,e).affectionSkillDebuffs=!0,h(i.ModuleTitle.VirtualPetConditions,e).hearingLoss=!0,h(i.ModuleTitle.VirtualPetConditions,e).slowLeave=!0}}]}Load(){super.Load(),SpeechTransformAllEffects.push("petSpeak"),(0,n.HookFunction)(this.Title,"SpeechTransformGagGarble",5,(([e,t,o,...r],n)=>{const i=r[0];return(null==i?void 0:i.IsGagged())||!Player.IsDeaf()||!1===d().petHearing?n([e,t,o]):(0,l.ApplyPetHearing)([e,t,o],n,function(e=d(Player).type){return e in p?p.All.concat(p[e]):p.All}())})),(0,n.HookFunction)(this.Title,"CommandParse",8,(([e],t)=>(e=e.trim(),[CommandsKey,"*","@"].includes(e.charAt(0))||!d(Player).petSpeaking?t([e]):(0,l.NonDisruptivePetSpeech)(e,t,f()))))}Unload(){super.Unload(),SpeechTransformAllEffects=SpeechTransformAllEffects.filter((e=>"petSpeak"!==e))}}},"./src/modules/settings.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ElementName:()=>ie,ExitButtonPressed:()=>ee,MENU_TITLES:()=>L,PreferenceMenuClick:()=>te,PreferenceMenuRun:()=>oe,SetSettingChar:()=>v,SettingsModule:()=>se,currentMenu:()=>F});var r=o("./src/localization/localization.ts"),n=o("./src/util/storage.ts"),i=o("./src/util/constants.ts"),a=o("./src/util/settingTypes.ts"),l=o("./src/util/registerModules.ts"),s=o("./src/util/authority.ts"),u=o("./src/util/messaging.ts"),c=o("./src/modules/_module.ts"),d=o("./src/modules/virtualPet.ts");let m=!1,h=null;function v(e){m=!1,h=e}const f=2e3,p=[1815,75,90,90],y=7,g=400,b=90,P=160,M=500,A=20,S=20,C=[100,605,350,75],T="https://github.com/MayaTheFoxy/MPA/wiki",w=[C[0],C[1]+C[3]+A,C[2],C[3]],k=[w[0],w[1]-w[3],w[2]];let N=0,I="";const x=[w[0],w[1]+w[3]+A,(w[2]-A)/2,w[3]],E=[w[0]+(w[2]+A)/2,w[1]+w[3]+A,(w[2]-A)/2,w[3]],O=[300,700,250,90],D=[1450,700,250,90];function R(){return h?h.IsPlayer()?[c.ModuleTitle.Authority,c.ModuleTitle.Profile,c.ModuleTitle.Clicker,c.ModuleTitle.VirtualPet,c.ModuleTitle.VirtualPetHUD,c.ModuleTitle.VirtualPetConditions]:[c.ModuleTitle.Authority,c.ModuleTitle.Profile,c.ModuleTitle.Clicker,c.ModuleTitle.VirtualPet,c.ModuleTitle.VirtualPetConditions]:[]}const L={[c.ModuleTitle.VirtualPet]:"Virtual Pet",[c.ModuleTitle.VirtualPetHUD]:"Virtual Pet Hud",[c.ModuleTitle.VirtualPetConditions]:"Virtual Pet Conditions"};let F=null,H=!1,V=0;function G(e){for(let t=0;t<e.length;t++)if(MouseIn(M+(g+A)*Math.floor(t/y),P+(b+A)*(t%y),g,b))return e[t];return null}DrawButton(1520,720,200,80,"Cancel","White");const U=9,B=64,$=200,W=250,_=10,j=64,z=256,q=256,Y=256;let K=1,X=1;const Z=[1635,75,90,90],J=[Z[0]-Z[2],Z[1],Z[2],Z[2]];function Q(e){var t;if(!h)return;const o=Object.entries(null!==(t=l.settings[e])&&void 0!==t?t:{}).filter((([t,o])=>{var r;return(0,a.IsDisplaySetting)(o)&&t in(null!==(r=null==h?void 0:h.MPA[e])&&void 0!==r?r:{})}));1!==X&&(K>X&&(K=X),K<1&&(K=1),DrawButton(...Z,"",K>=X?"#aaaaaa":"#ffffff","Icons/Next.png","Next Page",K>=X),DrawButton(...J,"",1>=K?"#aaaaaa":"#ffffff","Icons/Prev.png","Previous Page",1>=K)),o.slice((K-1)*U,K*U).forEach(((t,o)=>{var n,i,l,u,d,m,v,p,y;const[g,b]=t,P=!b.active(h)||`others${e}`in h.MPA[c.ModuleTitle.Authority]&&`self${e}`in h.MPA[c.ModuleTitle.Authority]&&!(0,s.IsMemberNumberInAuthGroup)(null!==(n=Player.MemberNumber)&&void 0!==n?n:-1,h.MPA[c.ModuleTitle.Authority][`others${e}`],h.MPA[c.ModuleTitle.Authority][`self${e}`],h)||!Player.CanInteract()&&((null==h?void 0:h.MemberNumber)===Player.MemberNumber&&!Player.MPA[c.ModuleTitle.Authority].boundAccessSelf||(null==h?void 0:h.MemberNumber)!==Player.MemberNumber&&!Player.MPA[c.ModuleTitle.Authority].boundAccessOthers);if((0,a.IsCheckboxSetting)(b))DrawCheckbox(W,$+o*(_+B),j,j,(0,r.LocalizedText)(b.label).replaceAll("TargetCharacter",null!==(i=(null==h?void 0:h.Nickname)||(null==h?void 0:h.Name))&&void 0!==i?i:"").replaceAll("TargetPronounPossessive","SheHer"===(null==h?void 0:h.GetPronouns())?"her":"his"),!!h.MPA[e][g],P,"Black");else if((0,a.IsOptionSetting)(b)){const t=b.options.indexOf(h.MPA[e][g]),n=b.options.length,i=e!==c.ModuleTitle.Authority||!s.AUTHORITY_GROUP_OPTIONS.includes(h.MPA[e][g]),a=!(i||(0,s.AuthorityIsComparisonToCharacter)(h.MPA[e][g],">=",null!==(l=Player.MemberNumber)&&void 0!==l?l:-1,h)),m=!(i||(0,s.AuthorityIsComparisonToCharacter)(h.MPA[e][g],">",null!==(u=Player.MemberNumber)&&void 0!==u?u:-1,h))&&"Self"!==h.MPA[e][g];DrawBackNextButton(W,$+o*(_+B),z,B,(0,r.LocalizedText)(h.MPA[e][g]),P||a&&m?"#aaaaaa":"#ffffff","",(()=>(0,r.LocalizedText)(a?"":b.loop?b.options[(t-1+n)%n]:t>0?b.options[t-1]:"")),(()=>(0,r.LocalizedText)(m?"":b.loop?b.options[(t+1+n)%n]:t+1<n?b.options[t+1]:"")),P||a&&m),DrawTextFit((0,r.LocalizedText)(b.label).replaceAll("TargetCharacter",null!==(d=(null==h?void 0:h.Nickname)||(null==h?void 0:h.Name))&&void 0!==d?d:"").replaceAll("TargetPronounPossessive","SheHer"===(null==h?void 0:h.GetPronouns())?"her":"his"),W+z+2*_,$+(o*(_+B)+Math.ceil(B/2)),f-2*W-z,"Black","Gray")}else if((0,a.IsTextSetting)(b)||(0,a.IsNumberSetting)(b)){const t=ie(e,g);ElementPositionFixed(t,W,$+o*(_+B),null!==(m=b.width)&&void 0!==m?m:q,B),P?ElementSetAttribute(t,"disabled","true"):ElementRemoveAttribute(t,"disabled"),DrawTextFit((0,r.LocalizedText)(b.label).replaceAll("TargetCharacter",null!==(v=(null==h?void 0:h.Nickname)||(null==h?void 0:h.Name))&&void 0!==v?v:"").replaceAll("TargetPronounPossessive","SheHer"===(null==h?void 0:h.GetPronouns())?"her":"his"),W+(null!==(p=b.width)&&void 0!==p?p:q)+2*_,$+o*(_+B)+Math.ceil(B/2),f-2*W-(null!==(y=b.width)&&void 0!==y?y:q),"Black","Gray")}}))}function ee(){null===F?(window.MPA.menuLoaded&&(window.MPA.menuLoaded=!1),re()):("RESET_Settings"===F||(le(F),K=1,X=1),F=null)}function te(){var e,t,o;if(MouseIn(...p))ee();else{if((null==h?void 0:h.MemberNumber)===Player.MemberNumber&&null===F){if(MouseIn(...C))return void(null===(e=window.open(T,"_blank"))||void 0===e||e.focus());if(MouseIn(...w))return F="RESET_Settings",void(V=Date.now()+1e4);if(MouseIn(...x))return void(0,n.ImportSettingsFromClipboard)().then((()=>{I="Settings imported from clipboard"}),(()=>{I="Failed to import settings"})).finally((()=>N=Date.now()+5e3));if(MouseIn(...E))return void(0,n.ExportSettingsToClipboard)().then((()=>{I="Settings copied to clipboard"}),(()=>{I="Failed to export settings"})).finally((()=>N=Date.now()+5e3))}if(null===F&&null!==G(R())&&(F=G(R()),K=1,X=Math.ceil(Object.entries(null!==(t=l.settings[null!=F?F:""])&&void 0!==t?t:{}).filter((([e,t])=>{var o;return(0,a.IsDisplaySetting)(t)&&e in(null!==(o=null==h?void 0:h.MPA[null!=F?F:""])&&void 0!==o?o:{})})).length/U),ae(F)),"RESET_Settings"!==F){if(null!==F){if(Object.entries(null!==(o=l.settings[null!=F?F:""])&&void 0!==o?o:{}).filter((([e,t])=>{var o;return(0,a.IsDisplaySetting)(t)&&e in(null!==(o=null==h?void 0:h.MPA[null!=F?F:""])&&void 0!==o?o:{})})).length>U){if(MouseIn(...Z)&&K<X)return le(F),K++,void ae(F);if(MouseIn(...J)&&K>1)return le(F),K--,void ae(F)}!function(e){var t;if(!h)return;const o=Object.entries(null!==(t=l.settings[e])&&void 0!==t?t:{}).filter((([t,o])=>{var r;return(0,a.IsDisplaySetting)(o)&&t in(null!==(r=null==h?void 0:h.MPA[e])&&void 0!==r?r:{})}));o.slice((K-1)*U,K*U).forEach(((t,o)=>{var r,n,i;const[l,u]=t,d=!u.active(h)||`others${e}`in h.MPA[c.ModuleTitle.Authority]&&`self${e}`in h.MPA[c.ModuleTitle.Authority]&&!(0,s.IsMemberNumberInAuthGroup)(null!==(r=Player.MemberNumber)&&void 0!==r?r:-1,h.MPA[c.ModuleTitle.Authority][`others${e}`],h.MPA[c.ModuleTitle.Authority][`self${e}`],h)||!Player.CanInteract()&&((null==h?void 0:h.MemberNumber)===Player.MemberNumber&&!Player.MPA[c.ModuleTitle.Authority].boundAccessSelf||(null==h?void 0:h.MemberNumber)!==Player.MemberNumber&&!Player.MPA[c.ModuleTitle.Authority].boundAccessOthers);if((0,a.IsCheckboxSetting)(u))MouseIn(W,$+o*(_+B),j,j)&&!d&&(h.MPA[e][l]=!h.MPA[e][l],u.onSet&&u.onSet(h,h.MPA[e][l],!h.MPA[e][l]),m=!0);else if((0,a.IsOptionSetting)(u)){const t=u.options.indexOf(h.MPA[e][l]),r=u.options.length;if(!MouseIn(W,$+o*(_+B),Math.floor(z/2),B)||d||!(u.loop||t>0)||e===c.ModuleTitle.Authority&&s.AUTHORITY_GROUP_OPTIONS.includes(h.MPA[e][l])&&!(0,s.AuthorityIsComparisonToCharacter)(h.MPA[e][l],">=",null!==(n=Player.MemberNumber)&&void 0!==n?n:-1,h)){if(MouseIn(W+Math.floor(z/2),$+o*(_+B),Math.ceil(z/2),B)&&!d&&(u.loop||t+1<u.options.length)&&(e!==c.ModuleTitle.Authority||!s.AUTHORITY_GROUP_OPTIONS.includes(h.MPA[e][l])||(0,s.AuthorityIsComparisonToCharacter)(h.MPA[e][l],">",null!==(i=Player.MemberNumber)&&void 0!==i?i:-1,h))){const o=h.MPA[e][l];h.MPA[e][l]=u.options[(t+1+r)%r],u.onSet&&u.onSet(h,u.options[(t+1+r)%r],o),m=!0}}else{const o=h.MPA[e][l];h.MPA[e][l]=u.options[(t-1+r)%r],u.onSet&&u.onSet(h,u.options[(t-1+r)%r],o),m=!0}}}))}(F)}}else!function(){MouseIn(...O)&&Date.now()>V&&((0,n.ResetStorage)(),F=null,V=0);MouseIn(...D)&&(F=null,V=0)}()}}function oe(){var e;if("RESET_Settings"===F)return void function(){const e=MainCanvas.textAlign;MainCanvas.textAlign="center",DrawText((0,r.LocalizedText)("WARNING: Are you sure you want to reset your MPA settings and data back to default?"),f/2,250,"#000000","#aaaaaa"),DrawText((0,r.LocalizedText)("This action can not be undone!"),f/2,400,"#ff0000","#aaaaaa"),DrawText((0,r.LocalizedText)("Export and save your settings BEFORE confirming if you are unsure."),f/2,550,"#696969","#aaaaaa");const t=Date.now();t<=V?DrawButton(...O,`${(0,r.LocalizedText)("Confirm")} (${Math.floor((V-t)/1e3)})`,"#aaaaaa",void 0,void 0,!0):DrawButton(...O,(0,r.LocalizedText)("Confirm"),"#ff0000"),DrawButton(...D,(0,r.LocalizedText)("Cancel"),"White"),MainCanvas.textAlign=e}();const t=MainCanvas.textAlign;DrawButton(...p,"","White","Icons/Exit.png"),MainCanvas.textAlign="center",DrawText(`${(0,r.LocalizedText)("Maya's Petplay Additions")}${F?` - ${(null==h?void 0:h.Nickname)||(null==h?void 0:h.Name)}'s ${(0,r.LocalizedText)(null!==(e=L[F])&&void 0!==e?e:F)}`:""}`,1e3,125,"Black","Gray"),(null==h?void 0:h.MemberNumber)===Player.MemberNumber&&null===F&&(N>=Date.now()&&(MainCanvas.textAlign="left",DrawTextFit(I,...k,"Black","Gray")),MainCanvas.textAlign="center",DrawButton(...C,(0,r.LocalizedText)("Wiki"),"#ffffff","",(0,r.LocalizedText)("Open the MPA wiki in a new tab")),DrawButton(...w,(0,r.LocalizedText)("RESET"),"#ff2e2eaa","",(0,r.LocalizedText)("Reset all your settings back to default")),DrawButton(...x,(0,r.LocalizedText)("Import"),"#ffffff","",(0,r.LocalizedText)("Import the settings copied to your clipboard")),DrawButton(...E,(0,r.LocalizedText)("Export"),"#ffffff","",(0,r.LocalizedText)("Export your current settings to the clipboard"))),MainCanvas.textAlign="left",null===F?function(e){var t;for(let o=0;o<e.length;o++)DrawButton(M+(g+A)*Math.floor(o/y),P+(b+A)*(o%y),g,b,"","White"),DrawTextFit((0,r.LocalizedText)(null!==(t=L[e[o]])&&void 0!==t?t:e[o]),M+S+(g+A)*Math.floor(o/y),P+Math.floor(b/2)+(b+A)*(o%y),g-2*S,"Black","Gray")}(R()):Q(F),MainCanvas.textAlign=t}function re(){h&&(m&&(h.MemberNumber===Player.MemberNumber?((0,d.LevelSync)(!1,!1,!1),(0,n.SaveStorage)(!0)):(0,u.SendMPAMessage)({message:"SettingPutRequest",settings:h.MPA},h.MemberNumber)),h.MemberNumber===Player.MemberNumber&&PreferenceSubscreenExtensionsClear(),m=!1,h=null,H=!1)}function ne(){m=!1,h=Player,h&&(H=!0)}function ie(e,t){return`MPA_OPTION_${e}${t}`}function ae(e,t=K){var o;e&&h&&Object.entries(null!==(o=l.settings[e])&&void 0!==o?o:{}).slice((t-1)*U,t*U).forEach((t=>{var o;const[r,n]=t,i=ie(e,r);(0,a.IsTextSetting)(n)?ElementCreateInput(i,"text",h.MPA[e][r],null!==(o=n.maxChars)&&void 0!==o?o:Y):(0,a.IsNumberSetting)(n)&&(ElementCreateInput(i,"number",h.MPA[e][r].toString()),ElementSetAttribute(i,"min",n.min.toString()),ElementSetAttribute(i,"max",n.max.toString()),ElementSetAttribute(i,"inputmode","decimal"),n.step&&ElementSetAttribute(i,"step",n.step.toString()))}))}function le(e,t=K){var o;h&&(e===c.ModuleTitle.VirtualPet&&(0,d.LevelSync)(!1,!1,!1),Object.entries(null!==(o=l.settings[e])&&void 0!==o?o:{}).slice((t-1)*U,t*U).forEach((t=>{const[o,r]=t,n=ie(e,o);(0,a.IsTextSetting)(r)&&(h.MPA[e][o]!==ElementValue(n)&&(h.MPA[e][o]=ElementValue(n),m=!0),ElementRemove(n)),(0,a.IsNumberSetting)(r)&&(h.MPA[e][o]!==Number(ElementValue(n))&&(h.MPA[e][o]=Number(ElementValue(n)),m=!0),ElementRemove(n))})))}class se extends c.Module{get Title(){return c.ModuleTitle.Settings}Load(){function e(e){"Escape"!==e.key&&"Esc"!==e.key||!H||(null===F?re():"RESET_Settings"===F?V=0:(le(F),K=1,X=1),F=null,e.stopPropagation())}PreferenceRegisterExtensionSetting({Identifier:"MPA",ButtonText:(0,r.LocalizedText)("MPA Settings"),Image:i.ICONS.PAW,click:te,run:oe,exit:re,load:ne}),document.addEventListener("keypress",e,!0),document.addEventListener("keydown",e,!0)}Unload(){}Reload(){}}},"./src/modules/settingsOthers.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ObjectDifferences:()=>p,SettingsOtherModule:()=>y});var r=o("./src/util/messaging.ts"),n=o("./src/localization/localization.ts"),i=o("./src/util/constants.ts"),a=o("./src/util/sdk.ts"),l=o("./src/modules/_module.ts"),s=o("./src/modules/settings.ts"),u=o("./src/util/storage.ts"),c=o("./src/modules/virtualPet.ts"),d=o("./src/util/authority.ts"),m=o("./src/util/registerModules.ts");const h=[1700,765,90,90],v=[1700,800,90,90];function f(e,t){return e.length===t.length&&e.every(((e,o)=>e===t[o]))}function p(e,t){const o={};for(const r in e){if(!(r in t)){o[r]={old:e[r],new:void 0};continue}const n=e[r],i=t[r];if(Array.isArray(n)&&Array.isArray(i))f(n,i)||(o[r]={old:n,new:i});else if("object"!=typeof n||"object"!=typeof i||Array.isArray(n))n!==i&&(o[r]={old:n,new:i});else{const e=p(n,i);Object.keys(e).length>0&&(o[r]=e)}}for(const r in t)r in e||(o[r]={old:void 0,new:t[r]});return o}class y extends l.Module{get Title(){return l.ModuleTitle.SettingsOther}get SyncListeners(){return[{module:this.Title,message:"SettingPutRequest",action:function(e,t){var o,i,a,h,v,f,y,g,b,P,M,A;const S=Player.MPA[l.ModuleTitle.VirtualPet].enabled,C=p(Player.MPA,t.settings),T=[];(null===(o=null==C?void 0:C[l.ModuleTitle.VirtualPet])||void 0===o?void 0:o.levels)&&(delete C[l.ModuleTitle.VirtualPet].levels,0===Object.keys(C[l.ModuleTitle.VirtualPet]).length&&delete C[l.ModuleTitle.VirtualPet]),(0,c.LevelSync)(!1,!1,!1);const w=JSON.parse(JSON.stringify(null===(i=Player.MPA)||void 0===i?void 0:i[l.ModuleTitle.Authority])),k=C[l.ModuleTitle.Authority];if(k)if(delete C[l.ModuleTitle.Authority],(0,d.IsMemberNumberInAuthGroup)(null!==(a=e.MemberNumber)&&void 0!==a?a:-1,w[`others${l.ModuleTitle.Authority}`])){T.push((0,n.LocalizedText)(l.ModuleTitle.Authority));for(const e in k)void 0!==k[e].new&&void 0!==k[e].old&&(Player.MPA[l.ModuleTitle.Authority][e]=k[e].new)}else console.warn(`MPA: ${e.Nickname||e.Name} (${e.MemberNumber}) tried to illegally modify your ${l.ModuleTitle.Authority} settings!`);for(const t in C){if(!(0,d.IsMemberNumberInAuthGroup)(null!==(h=e.MemberNumber)&&void 0!==h?h:-1,null!==(v=w[`others${t}`])&&void 0!==v?v:"None")&&!(0,d.IsMemberNumberInAuthGroup)(null!==(f=e.MemberNumber)&&void 0!==f?f:-1,null!==(b=null===(g=null===(y=Player.MPA)||void 0===y?void 0:y[l.ModuleTitle.Authority])||void 0===g?void 0:g[`others${t}`])&&void 0!==b?b:"None")){console.warn(`MPA: ${e.Nickname||e.Name} (${e.MemberNumber}) tried to illegally modify your ${t} settings!`);continue}T.push((0,n.LocalizedText)(null!==(P=s.MENU_TITLES[t])&&void 0!==P?P:t));const o=C[t];for(const e in o)void 0!==o[e].new&&void 0!==o[e].old&&(Player.MPA[t][e]=o[e].new)}Player.MPA[l.ModuleTitle.Profile].hardcore&&(null===(A=null===(M=m.settings[l.ModuleTitle.Profile])||void 0===M?void 0:M.hardcore)||void 0===A||A.onSet(Player)),S!==Player.MPA[l.ModuleTitle.VirtualPet].enabled&&(Player.MPA[l.ModuleTitle.VirtualPet].levels.lastUpdated=Date.now()),0!==T.length&&(0,r.MPANotifyPlayer)((0,n.LocalizedText)("SourceCharacter just updated your SettingsArray settings.").replace("SourceCharacter",e.Nickname||e.Name).replace("SettingsArray",(0,r.ArrayToReadableString)(T))),(0,u.SaveStorage)(!0)}},{module:this.Title,message:"EditingSettings",action:function(e,t){(0,r.NotifyPlayer)((0,n.LocalizedText)("SourceCharacter is accessing your MPA settings.").replace("SourceCharacter",e.Nickname||e.Name),3e4)}}]}Load(){super.Load();(0,a.HookFunction)(this.Title,"InformationSheetRun",12,((e,t)=>{var o;if((null===(o=window.bcx)||void 0===o?void 0:o.inBcxSubscreen())||window.LSCG_REMOTE_WINDOW_OPEN)return t(e);if(window.MPA.menuLoaded)return void(0,s.PreferenceMenuRun)();t(e);const r=InformationSheetSelection;if((null==r?void 0:r.MPA)&&!r.IsPlayer()){const e=ServerChatRoomGetAllowItem(Player,r);DrawButton(...(0,a.bcxFound)()?v:h,"",e?"#ffffff":"#aaaaaa",i.ICONS.PAW,(0,n.LocalizedText)(e?"MPA":"MPA: No BC item permission"),!1)}})),(0,a.HookFunction)(this.Title,"InformationSheetClick",12,((e,t)=>{if(window.MPA.menuLoaded)return(0,s.PreferenceMenuClick)();const o=InformationSheetSelection;if(!MouseIn(...v)||!(null==o?void 0:o.MPA)||o.IsPlayer())return t(e);window.MPA.menuLoaded=!0,(0,s.SetSettingChar)(o),(0,r.SendMPAMessage)({message:"EditingSettings"},o.MemberNumber)})),(0,a.HookFunction)(this.Title,"InformationSheetExit",12,((e,t)=>{if(!window.MPA.menuLoaded)return t(e);(0,s.ExitButtonPressed)()}))}Unload(){super.Unload()}}},"./src/modules/virtualPet.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{CalculateCurrentValue:()=>x,GetCharacterCurrentStatValue:()=>E,IsBedMultiplier:()=>T,IsSleepingExpression:()=>C,LevelSync:()=>O,ModifyStat:()=>D,VirtualPetModule:()=>R});var r=o("./src/modules/_module.ts"),n=o("./src/util/sdk.ts"),i=o("./src/util/storage.ts"),a=o("./src/util/messaging.ts"),l=o("./src/modules/dataSync.ts"),s=o("./src/modules/profile.ts");const u=168,c=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[r.ModuleTitle.VirtualPet])&&void 0!==o?o:{}},d=.4,m=["LSCG_Eat","ThrowItem"],h=["LSCG_FunnelPour","LSCG_Quaff"],v=["Sleep","Afk","Fork","Coding","Read"],f=["PetBed","Crib"],p=["LowCage","Kennel","Bed","MedicalBed"],y=["FuturisticCrate","DollBox"],g=["Pet","TakeCare","LSCG_Nuzzle","Caress","LSCG_Hug","Scratch"],b=["Kiss","MassageHands","Lick","Nibble","Cuddle","Grope"],P=["Spank","Slap","Bite","Pinch","Pull","ShockItem","SpankItem"],M={ItemArms:1,ItemBoots:.8,ItemBreast:1.5,ItemButt:1.5,ItemEars:2.5,ItemFeet:.8,ItemHands:1,ItemHead:3,ItemLegs:1,ItemMouth:2,ItemNeck:1.2,ItemNipples:1.5,ItemNose:1.7,ItemPelvis:1.3,ItemTorso:1,ItemVulva:2,ItemVulvaPiercings:2.5},A=.2;let S;const C=e=>{var t,o,r,n,i,a,l;return"Closed"===(null===(o=null===(t=e.Appearance.find((e=>"Eyes"===e.Asset.Group.Name)))||void 0===t?void 0:t.Property)||void 0===o?void 0:o.Expression)&&"Closed"===(null===(n=null===(r=e.Appearance.find((e=>"Eyes2"===e.Asset.Group.Name)))||void 0===r?void 0:r.Property)||void 0===n?void 0:n.Expression)&&v.includes(null!==(l=null===(a=null===(i=e.Appearance.find((e=>"Emoticon"===e.Asset.Group.Name)))||void 0===i?void 0:i.Property)||void 0===a?void 0:a.Expression)&&void 0!==l?l:"")},T=e=>{var t,o;const r=null!==(o=null===(t=InventoryGet(e,"ItemDevices"))||void 0===t?void 0:t.Asset.Name)&&void 0!==o?o:"";return f.includes(r)?10:p.includes(r)?5:y.includes(r)?2:1};let w=!1,k=1;function N(e=!0){!c().enabled||0===c().sleepHours||w===C(Player)&&k===T(Player)||(e&&O(),w=C(Player),k=T(Player))}function I(e){return 60*e*60*1e3}function x(e,t,o,r,n=!1,i=Player){const a=(r||Date.now())-o,l=Math.max(0,Math.min(e-a/I(t),1));if(n&&e>A&&l<A){const r=c(i).levels.lastOnline-o,n=Math.max(0,Math.min(e-r/I(t),1));return Math.min(A,n)}return l}function E(e,t){var o;const n=null===(o=null==e?void 0:e.MPA)||void 0===o?void 0:o[r.ModuleTitle.VirtualPet];if(!n)return-1;if("sleep"===t){const t=C(e)||1!==T(e)?n.levels.sleep+(Date.now()-n.levels.lastUpdated)/(60*n.sleepHours*60*1e3)*T(e)*(C(e)?5:1):x(n.levels.sleep,n.sleepHours,n.levels.lastUpdated);return Math.max(0,Math.min(1,t))}return x(n.levels[t],n[`${t}Hours`],n.levels.lastUpdated)}function O(e=!0,t=!0,o=!1){var n;if(!c().enabled)return c().levels.lastUpdated=Date.now(),void(c().levels.lastOnline=Date.now());const a=null!==(n=c().levels.lastUpdated)&&void 0!==n?n:Date.now(),s=c().offlineDrain?void 0:c().levels.lastOnline,u=c().foodHours;0!==u&&(c().levels.food=x(c().levels.food,u,a,s,o));const d=c().waterHours;0!==d&&(c().levels.water=x(c().levels.water,d,a,s,o));const m=c().sleepHours;if(0!==m)if(o&&!s||w||1!==k){const e=o?Date.now()-c().levels.lastOnline-(c().levels.lastOnline-a):Date.now()-a,t=c().levels.sleep+e/I(m)*k*(w?5:1);c().levels.sleep=Math.max(0,Math.min(1,t))}else c().levels.sleep=x(c().levels.sleep,m,a,s,o);const h=c().affectionHours;0!==h&&(c().levels.affection=x(c().levels.affection,h,a,s,o)),c().levels.lastUpdated=Date.now(),c().levels.lastOnline=Date.now(),e&&(0,i.SaveStorage)(!1),t&&(0,l.RecordSync)(r.ModuleTitle.VirtualPet,"levels")}function D(e,t,o=!0,n=!0,a){t<-1&&t>1||(O(!1,!1,!1),c().levels[e]+=t*(o&&t>0?function(e,t){let o=1;if((null==t?void 0:t.IsOwner())?o+=.5:(null==t?void 0:t.IsLoverOfPlayer())?o+=.35:(null==t?void 0:t.IsFamilyOfPlayer())&&(o+=.25),"food"!==e&&"water"!==e||Player.CanTalk()||(o-=.5),o+=.03*Player.Appearance.filter((e=>e.Asset.DynamicGroupName.startsWith("Item"))).length,"AllFours"===Player.PoseMapping.BodyFull&&(o+=.5),"affection"===e&&Player.MPA[r.ModuleTitle.VirtualPetConditions].enabled&&Player.MPA[r.ModuleTitle.VirtualPetConditions].foodNOW){const e=[];0!==c().foodHours&&e.push(E(Player,"food")),0!==c().waterHours&&e.push(E(Player,"water")),0!==e.length&&(o*=e.reduce(((e,t)=>e+t),0)/e.length/.75)}return Math.max(0,o)}(e,a):1),function(e){const t=c().levels[e];c().levels[e]=Math.min(Math.max(t,0),1)}(e),n&&(0,i.SaveStorage)(!1),(0,l.RecordSync)(r.ModuleTitle.VirtualPet,"levels"))}class R extends r.Module{get Title(){return r.ModuleTitle.VirtualPet}get Activities(){return[{Name:"BowlEat",Targets:[{group:"ItemMouth",label:"Eat From Bowl",actionSelf:"SourceCharacter eats from PronounPossessive bowl."}],Image:"Assets/Female3DCG/ItemDevices/Preview/PetBowl.png",Prerequisite:["UseMouth"],CustomPrerequisite:{Name:"HasBowl",Prerequisite:(e,t,o)=>{var r,n;return"PetBowl"===(null===(n=null===(r=InventoryGet(e,"ItemDevices"))||void 0===r?void 0:r.Asset)||void 0===n?void 0:n.Name)}},OnTrigger:()=>{c().enabled&&0!==c().foodHours&&D("food",d,!0)}},{Name:"BowlDrink",Targets:[{group:"ItemMouth",label:"Drink From Bowl",actionSelf:"SourceCharacter drinks from PronounPossessive bowl."}],Image:"Assets/Female3DCG/ItemDevices/Preview/PetBowl.png",Prerequisite:["UseMouth"],CustomPrerequisite:{Name:"HasBowl"},OnTrigger:()=>{c().enabled&&0!==c().waterHours&&D("water",d,!0)}},{Name:"BowlEat2",Targets:[{group:"ItemMouth",label:"Eat From Bowl",actionSelf:"SourceCharacter puts PronounPossessive head into PronounPossessive bowl in order to eat with the gag, making a mess."}],Image:"Assets/Female3DCG/ItemDevices/Preview/PetBowl.png",Prerequisite:[],CustomPrerequisite:[{Name:"HasBowl"},{Name:"UseTongueNoMouth",Prerequisite:(e,t,o)=>!e.CanTalk()&&!e.IsMouthBlocked()}],OnTrigger:()=>{c().enabled&&0!==c().foodHours&&D("food",d,!0)}},{Name:"BowlDrink2",Targets:[{group:"ItemMouth",label:"Drink From Bowl",actionSelf:"SourceCharacter puts PronounPossessive head into PronounPossessive bowl in order to drink with the gag, making a mess."}],Image:"Assets/Female3DCG/ItemDevices/Preview/PetBowl.png",Prerequisite:[],CustomPrerequisite:[{Name:"HasBowl"},{Name:"UseTongueNoMouth"}],OnTrigger:()=>{c().enabled&&0!==c().waterHours&&D("water",d,!0)}}]}get Settings(){return[{name:"enabled",type:"checkbox",active:e=>!(0,s.IsHardcoreOn)(e),value:!1,label:"Become a virtual pet! Requiring: food, water, sleep, and affection"},{name:"foodHours",type:"number",value:4,active:e=>!!c(e).enabled,label:"How many hours until you are completely out of food; 0 to disable",width:128,min:0,max:u,step:.1},{name:"waterHours",type:"number",value:4,active:e=>!!c(e).enabled,label:"How many hours until you are completely out of water; 0 to disable",width:128,min:0,max:u,step:.1},{name:"sleepHours",type:"number",value:8,active:e=>!!c(e).enabled,label:"How many hours until you are completely out of sleep; 0 to disable",width:128,min:0,max:u,step:.1},{name:"affectionHours",type:"number",value:4,active:e=>!!c(e).enabled,label:"How many hours until you are completely out of affection; 0 to disable",width:128,min:0,max:u,step:.1},{name:"offlineDrain",type:"checkbox",value:!0,active:e=>!!c(e).enabled,label:"Stats drain even when logged out of the club"},{name:"noHands",type:"checkbox",active:e=>!!c(e).enabled&&!(0,s.IsHardcoreOn)(e),value:!0,label:"Allow eating or drinking from items in your OWN hands"},{name:"masochist",type:"checkbox",active:e=>!!c(e).enabled,value:!1,label:"Masochist pet; Abuse raises affection"},{name:"levels",type:"record",value:{food:1,water:1,sleep:1,affection:1,lastUpdated:Date.now(),lastOnline:Date.now()}}]}Load(){super.Load(),N(!1),O(!0,!1,!0),S=setInterval((()=>{Player.MemberNumber&&(Player.MPA[this.Title].levels.lastOnline=Date.now(),(0,i.SaveStorage)(!1))}),1e4),(0,n.HookFunction)(this.Title,"ChatRoomMessage",0,((e,t)=>{var o,r;const n=e[0],i=(0,a.GetAttributeFromChatDictionary)(n,"ActivityName");if(!c().enabled||!c().noHands&&(0,a.GetAttributeFromChatDictionary)(n,"SourceCharacter")===Player.MemberNumber||"Activity"!==n.Type||(0,a.GetAttributeFromChatDictionary)(n,"TargetCharacter")!==Player.MemberNumber||"ItemMouth"!==(0,a.GetAttributeFromChatDictionary)(n,"FocusGroupName")||!i)return t(e);const l=ActivityFemale3DCG.find((e=>e.Name===i));return 0!==c().foodHours&&((null===(o=null==l?void 0:l.Prerequisite)||void 0===o?void 0:o.includes("Needs-EatItem"))||m.some((e=>(null==l?void 0:l.Name)===e)))&&D("food",.2,!0),0!==c().waterHours&&((null===(r=null==l?void 0:l.Prerequisite)||void 0===r?void 0:r.includes("Needs-SipItem"))||h.some((e=>(null==l?void 0:l.Name)===e)))&&D("water",.2,!0),t(e)})),(0,n.HookFunction)(this.Title,"CharacterRefresh",0,((e,t)=>(e[0].MemberNumber===Player.MemberNumber&&N(),t(e)))),(0,n.HookFunction)(this.Title,"ChatRoomMessage",0,((e,t)=>{var o,r;const n=e[0],i=(0,a.GetAttributeFromChatDictionary)(n,"ActivityName");if(!c().enabled||0===c().affectionHours||"Activity"!==n.Type||(0,a.GetAttributeFromChatDictionary)(n,"TargetCharacter")!==Player.MemberNumber||(0,a.GetAttributeFromChatDictionary)(n,"SourceCharacter")===Player.MemberNumber||!i)return t(e);const l=null!==(o=(0,a.GetAttributeFromChatDictionary)(n,"FocusGroupName"))&&void 0!==o?o:"",s=null!==(r=M[l])&&void 0!==r?r:1;return g.includes(i)?D("affection",.05*s):b.includes(i)?D("affection",.03*s):P.includes(i)&&D("affection",-.04*(c().masochist?-1:1)*s),t(e)}))}Unload(){super.Unload(),clearInterval(S)}}},"./src/modules/virtualPetConditions.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ConditionCheck:()=>p,VirtualPetConditionsModule:()=>N});var r=o("./src/util/general.ts"),n=o("./src/util/messaging.ts"),i=o("./src/util/sdk.ts"),a=o("./src/modules/_module.ts"),l=o("./src/modules/profile.ts"),s=o("./src/modules/virtualPet.ts");const u=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[a.ModuleTitle.VirtualPet])&&void 0!==o?o:{}},c=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[a.ModuleTitle.VirtualPetConditions])&&void 0!==o?o:{}};function d(e,t){var o;return!(!c().enabled||!c()[e])&&(!t||u().enabled&&0!==(null===(o=u())||void 0===o?void 0:o[`${t}Hours`]))}const m=[["SelfBondage",!0],["Willpower",!0],["Bondage",!1],["Evasion",!1],["LockPicking",!1]],h={food:-1,water:-1,sleep:-1,affection:-1};let v=[];let f=250;function p(){["food","water","affection","sleep"].forEach((e=>{if(u().enabled&&c().enabled&&0!==u()[`${e}Hours`]){const t=h[e],o=(0,s.GetCharacterCurrentStatValue)(Player,e);v.forEach((r=>{r.stat===e&&-1===t&&r.firstRun&&r.firstRun(),r.stat===e&&-1!==t&&t>o&&"rising"!==r.change&&o<=r.threshhold&&r.threshhold<t&&r.action(),r.stat===e&&-1!==t&&t<o&&"falling"!==r.change&&t<r.threshhold&&r.threshhold<=o&&r.action()})),h[e]=o}else h[e]=-1}))}const y="sleep",g=.25,b=0,P=0,M=1;let A=!1;const S=["SourceCharacter drools out of the corner of PronounPossessive lip as PronounSubject sleeps.","SourceCharacter mumbles quietly in PronounPossessive slumber.","SourceCharacter rests peacefully."];function C(){var e,t,o;CharacterSetFacialExpression(Player,"Emoticon","Sleep"),CharacterSetFacialExpression(Player,"Eyes","Closed"),CharacterSetFacialExpression(Player,"Fluids","DroolMedium"),Player.CanKneel()&&PoseSetActive(Player,"Kneel",!0),A=!0;const r=null===(o=null===(t=null===(e=null===Player||void 0===Player?void 0:Player.LSCG)||void 0===e?void 0:e.StateModule)||void 0===t?void 0:t.states)||void 0===o?void 0:o.find((e=>"asleep"===e.type));c().passoutLSCG&&r&&console.log("Calling LSCG passout"),(0,n.SendAction)("SourceCharacter passes out from exhaustion.",void 0,[{SourceCharacter:Player.MemberNumber}])}function T(){return c().enabled&&0!==u().sleepHours&&c().passout&&!c().passoutLSCG&&A}let w;function k(){u().enabled&&0!==u().affectionHours&&c().enabled&&m.forEach((([e,t])=>{const o=(0,s.GetCharacterCurrentStatValue)(Player,"affection"),r=Math.round((10*o/1-5)*(t?1:-1)*100)/100,n=SkillGetModifier(Player,e),i=0!==SkillGetModifierDuration(Player,e)?SkillGetModifierDuration(Player,e):15e3;r>0&&c().affectionSkillBuffs&&SkillSetModifier(Player,e,n+r,i,!1),r<0&&c().affectionSkillDebuffs&&SkillSetModifier(Player,e,n+r,i,!1)}))}class N extends a.Module{get Title(){return a.ModuleTitle.VirtualPetConditions}get Settings(){return[{name:"enabled",type:"checkbox",active:e=>!!u(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!1,label:"Recive conditions based on current level of your virtual pet stats"},{name:"foodNOW",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Food and water affects affection gain"},{name:"tint",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Vision darkens as you get sleepier"},{name:"passout",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Passout when exhausted"},{name:"affectionSkillBuffs",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Affection will buff skills based on its level"},{name:"affectionSkillDebuffs",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Affection will debuff skills based on its level"},{name:"hearingLoss",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Hearing becomes harder the hungrier you are"},{name:"slowLeave",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Takes longer to leave the room when hungry"}]}Load(){(0,i.HookFunction)(this.Title,"GameRun",0,((e,t)=>(f>=250&&p(),f++,t(e)))),(0,i.HookFunction)(this.Title,"Player.GetTints",0,((e,t)=>{if(!d("tint",y))return t(e);const o=((0,s.GetCharacterCurrentStatValue)(Player,y)-g)/(b-g)*(M-P)+P;return P<=o&&o<=M?t(e).concat({r:0,g:0,b:0,a:Math.sqrt(Math.round(1e3*o)/1e3)}):t(e)})),v=[{stat:"sleep",threshhold:0,change:"falling",action:function(){C()},firstRun:function(){0===(0,s.GetCharacterCurrentStatValue)(Player,"sleep")&&C()}},{stat:"sleep",threshhold:.1,change:"rising",action:function(){A&&(CharacterSetFacialExpression(Player,"Emoticon",null),CharacterSetFacialExpression(Player,"Eyes","Dazed"),CharacterSetFacialExpression(Player,"Eyebrows","Lowered"),A=!1,(0,n.SendAction)("SourceCharacter wakes up from PronounPossessive nap.",void 0,[{SourceCharacter:Player.MemberNumber}]))}}],(0,i.HookFunction)(this.Title,"Player.CanTalk",5,((e,t)=>!T()&&t(e))),(0,i.HookFunction)(this.Title,"Player.CanWalk",5,((e,t)=>!T()&&t(e))),(0,i.HookFunction)(this.Title,"Player.CanChangeOwnClothes",5,((e,t)=>!T()&&t(e))),(0,i.HookFunction)(this.Title,"Player.CanInteract",5,((e,t)=>!T()&&t(e))),(0,i.HookFunction)(this.Title,"ServerSend",5,((e,t)=>{if(!T())return t(e);const[o,i]=e;return"ChatRoomChat"!=o||"Chat"!=(null==i?void 0:i.Type)||(null==i?void 0:i.Content.startsWith("("))?t(e):((0,n.SendAction)((0,r.RandomElement)(S),void 0,[{SourceCharacter:Player.MemberNumber}]),null)})),(0,i.HookFunction)(this.Title,"Player.GetDeafLevel",5,((e,t)=>T()?4:t(e))),(0,i.HookFunction)(this.Title,"Player.GetBlindLevel",5,((e,t)=>{var o,r;return T()?"SensDepExtreme"===(null===(o=Player.GameplaySettings)||void 0===o?void 0:o.SensDepChatLog)||"SensDepTotal"===(null===(r=Player.GameplaySettings)||void 0===r?void 0:r.SensDepChatLog)?3:2:t(e)})),(0,i.HookFunction)(this.Title,"Player.GetDeafLevel",5,((e,t)=>{const o=d("hearingLoss","food")?Math.max(0,Math.floor(-10*((0,s.GetCharacterCurrentStatValue)(Player,"food")-.3001))):0;return Math.max(o,t(e))})),SkillModifierMax<10&&(SkillModifierMax=10),k(),w=setInterval(k,16e3),(0,i.HookFunction)(this.Title,"ChatRoomAttemptLeave",0,((e,t)=>{if(!d("slowLeave","food"))return t(e);const o=ChatRoomSlowtimer,r=(0,s.GetCharacterCurrentStatValue)(Player,"food");if(t(e),0===o&&ChatRoomSlowtimer>0&&r<=.3){ChatRoomSlowtimer=CurrentTime+ChatRoomSlowLeaveMinTime+1e3*(-25/.3*r+25)}})),(0,i.HookFunction)(this.Title,"Player.IsSlow",0,((e,t)=>!!(d("slowLeave","food")&&(0,s.GetCharacterCurrentStatValue)(Player,"food")<=.3)||t(e)))}Unload(){super.Unload(),v=[],clearInterval(w)}}},"./src/modules/virtualPetHUD.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{VirtualPetHUDModule:()=>d});var r=o("./src/util/sdk.ts"),n=o("./src/util/authority.ts"),i=o("./src/modules/_module.ts"),a=o("./src/modules/virtualPet.ts");const l=()=>Player.MPA[i.ModuleTitle.VirtualPet],s=()=>Player.MPA[i.ModuleTitle.VirtualPetHUD],u={food:"#f2bb18",water:"#2a9fc3",sleep:"#8d2aee",affection:"#ff78f2"};function c(e,t,o,r){const n=u[r.stat];MainCanvas.beginPath(),MainCanvas.arc(e,t,o,0,2*Math.PI,!0),MainCanvas.lineWidth=o/8,MainCanvas.strokeStyle=n,MainCanvas.stroke(),MainCanvas.beginPath(),MainCanvas.arc(e,t,o,-Math.PI/2,2*Math.PI*-r.level-Math.PI/2,!0),MainCanvas.lineTo(e,t),MainCanvas.fillStyle=n,MainCanvas.fill(),s().exactStats&&(MainCanvas.fillStyle="#000000",MainCanvas.font=CommonGetFont(1.25*o),MainCanvas.fillText(Math.round(100*r.level).toString(),e,t+.125*o),MainCanvas.font=CommonGetFont(36))}class d extends i.Module{get Title(){return i.ModuleTitle.VirtualPetHUD}get Settings(){return[{name:"self",type:"checkbox",active:()=>!!l().enabled,value:!0,label:"Display your own virtual pet stats on the HUD"},{name:"exactStats",type:"checkbox",active:()=>!!l().enabled||"Off"!==s().others,value:!1,label:"Display the exact number percentage on the HUD"},{name:"position",type:"option",active:()=>!!l().enabled||"Off"!==s().others,options:["Left","Center","Right","Split"],value:"Left",label:"Where to display the HUD",loop:!0},{name:"others",type:"option",active:()=>!0,options:["Off","Public","Friends","Whitelist","Lovers","Owners","D/s Family","Clubowner"],value:"Friends",label:"Display the virtual pet stats of others on the HUD",loop:!1}]}Load(){(0,r.HookFunction)(this.Title,"DrawArousalMeter",1,((e,t)=>{var o;const[r,u,d,m]=e;if(!ActivityAllowed()||r.IsPlayer()&&(!s().self||!l().enabled)||!r.IsPlayer()&&"Off"===s().others||!r.IsPlayer()&&!(0,n.IsMemberNumberInAuthGroup)(r.MemberNumber,s().others))return t(e);const h=null===(o=null==r?void 0:r.MPA)||void 0===o?void 0:o[i.ModuleTitle.VirtualPet];if(!(null==h?void 0:h.enabled))return t(e);const v=[];return["food","water","sleep","affection"].forEach((e=>{0!==h[`${e}Hours`]&&v.push({stat:e,level:(0,a.GetCharacterCurrentStatValue)(r,e)})})),0!==v.length&&function(e,t,o,r){const n=s().position;if("Left"===n||"Right"===n)r.reverse(),r.forEach(((r,i)=>{c(e+("Left"===n?80:420)*o,t+(950-36*i)*o,16*o,r)}));else if("Center"===n){const n=r.length;r.forEach(((r,i)=>{c(e+(250-18*(n-1)+36*i)*o,t+950*o,16*o,r)}))}else if("Split"===n){const n=[];switch(r.length){case 1:n.push([r[0]]),n.push([]);break;case 2:n.push([r[0]]),n.push([r[1]]);break;case 3:n.push([r[1],r[0]]),n.push([r[2]]);break;case 4:n.push([r[1],r[0]]),n.push([r[3],r[2]])}n.forEach(((r,n)=>{r.forEach(((r,i)=>{c(e+(0==n?80:420)*o,t+(950-36*i)*o,16*o,r)}))}))}}(u,d,m,v),t(e)}))}Unload(){super.Unload()}}},"./src/util/activities.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{CreateActivities:()=>c,CreateActivity:()=>u,RemoveActivities:()=>m,RemoveActivity:()=>d,activityImages:()=>i,activityPrerequisites:()=>l,activityReceived:()=>s,activityTriggers:()=>a});var r=o("./src/localization/localization.ts"),n=o("./src/util/constants.ts");const i={},a={},l={},s={};function u(e){var t;const o={Name:`${n.ACTIVITY_NAME_PREFIX}${e.Name}`,ActivityID:Math.max(...ActivityFemale3DCG.map((e=>{var t;return null!==(t=e.ActivityID)&&void 0!==t?t:-1})))+1,MaxProgress:null!==(t=e.MaxProgress)&&void 0!==t?t:50,Prerequisite:e.Prerequisite,Target:[]};if(e.CustomPrerequisite){let t=e.CustomPrerequisite;Array.isArray(t)||(t=[t]),t.forEach((e=>{o.Prerequisite.push(e.Name),!(e.Name in l)&&e.Prerequisite&&(l[e.Name]=e.Prerequisite)}))}e.Targets.forEach((e=>{var t;e.actionSelf&&(o.TargetSelf||(o.TargetSelf=[]),null===(t=o.TargetSelf)||void 0===t||t.push(e.group),null===ActivityDictionary||void 0===ActivityDictionary||ActivityDictionary.push([`Label-ChatSelf-${e.group}-${o.Name}`,(0,r.LocalizedText)(e.label)]),null===ActivityDictionary||void 0===ActivityDictionary||ActivityDictionary.push([`ChatSelf-${e.group}-${o.Name}`,(0,r.LocalizedText)(e.actionSelf)])),e.actionOthers&&(o.Target.push(e.group),null===ActivityDictionary||void 0===ActivityDictionary||ActivityDictionary.push([`Label-ChatOther-${e.group}-${o.Name}`,(0,r.LocalizedText)(e.label)]),null===ActivityDictionary||void 0===ActivityDictionary||ActivityDictionary.push([`ChatOther-${e.group}-${o.Name}`,(0,r.LocalizedText)(e.actionOthers)]))})),i[o.Name]=e.Image,e.OnTrigger&&(a[o.Name]=e.OnTrigger),e.OnReceive&&(s[o.Name]=e.OnReceive),ActivityFemale3DCG.push(o),ActivityFemale3DCGOrdering.push(o.Name)}function c(e){e.forEach((e=>{u(e)}))}function d(e){const t=`${n.ACTIVITY_NAME_PREFIX}${e.Name}`;e.Targets.forEach((e=>{var o,r;e.actionSelf&&(ActivityDictionary=null!==(o=null===ActivityDictionary||void 0===ActivityDictionary?void 0:ActivityDictionary.filter((o=>!(o[0]===`Label-ChatSelf-${e.group}-${t}`||o[0]===`ChatSelf-${e.group}-${t}`))))&&void 0!==o?o:null),e.actionOthers&&(ActivityDictionary=null!==(r=null===ActivityDictionary||void 0===ActivityDictionary?void 0:ActivityDictionary.filter((o=>!(o[0]===`Label-ChatOther-${e.group}-${t}`||o[0]===`ChatOther-${e.group}-${t}`))))&&void 0!==r?r:null)})),delete i[t],delete a[t],ActivityFemale3DCG=ActivityFemale3DCG.filter((e=>e.Name!==t)),ActivityFemale3DCGOrdering=ActivityFemale3DCGOrdering.filter((e=>e!==t))}function m(e){e.forEach((e=>{d(e)}))}},"./src/util/authority.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{AUTHORITY_GROUPS:()=>l,AUTHORITY_GROUP_OPTIONS:()=>i,AuthorityIsComparisonToCharacter:()=>c,HighestLevelAuthorityGroup:()=>u,IsMemberNumberInAuthGroup:()=>s});var r=o("./src/modules/_module.ts"),n=o("./src/util/messaging.ts");const i=["Public","Friends","Whitelist","Lovers","Owners","Clubowner","Self"],a=["None","Public","Friends","Whitelist","Lovers","Owners","D/s Family","Clubowner","Self"],l={Self:e=>{var t;return[null!==(t=e.MemberNumber)&&void 0!==t?t:-1]},Clubowner:e=>{var t,o;return(null===(t=null==e?void 0:e.Ownership)||void 0===t?void 0:t.MemberNumber)?[null===(o=null==e?void 0:e.Ownership)||void 0===o?void 0:o.MemberNumber]:[]},Owners:function(e){var t,o,n;const i=(null!==(n=null===(o=null===(t=e.MPA)||void 0===t?void 0:t[r.ModuleTitle.Authority])||void 0===o?void 0:o.owners)&&void 0!==n?n:"").split(",").map((e=>parseInt(e))).filter((e=>!isNaN(e)));return 0===i.length?[]:i},Lovers:e=>{var t,o;return null!==(o=null===(t=e.Lovership)||void 0===t?void 0:t.filter((e=>e.MemberNumber)).map((e=>e.MemberNumber)))&&void 0!==o?o:[]},WhiteList:e=>{var t;return null!==(t=e.WhiteList)&&void 0!==t?t:[]},FriendList:()=>{var e;return null!==(e=Player.FriendList)&&void 0!==e?e:[]}};function s(e,t,o=!1,r=Player){var i,a,s,u,c;if("None"===t)return!1;if(e===l.Self(r)[0])return"Self"===t||o;if(r.BlackList.includes(e)||null!==(a=null===(i=null==r?void 0:r.GhostList)||void 0===i?void 0:i.includes(e))&&void 0!==a&&a)return!1;if("Public"===t)return!0;if("D/s Family"===t&&r.MemberNumber===Player.MemberNumber)return null!==(u=null===(s=(0,n.FindCharacterInRoom)(e))||void 0===s?void 0:s.IsFamilyOfPlayer())&&void 0!==u&&u;let d=new Set;switch(t){case"Friends":if(r.MemberNumber!==Player.MemberNumber&&Player.MemberNumber===e&&l.FriendList().includes(null!==(c=r.MemberNumber)&&void 0!==c?c:-1))return!0;r.MemberNumber===Player.MemberNumber&&(d=new Set([...d,...l.FriendList()]));case"Whitelist":d=new Set([...d,...l.WhiteList(r)]);case"Lovers":d=new Set([...d,...l.Lovers(r)]);case"Owners":d=new Set([...d,...l.Owners(r)]);case"Clubowner":d=new Set([...d,...l.Clubowner(r)])}return d.has(e)}function u(e,t=Player){var o,r,n,i,a,s;return t.MemberNumber===e?"Self":(null===(o=null==t?void 0:t.Ownership)||void 0===o?void 0:o.MemberNumber)===e?"Clubowner":l.Owners(t).includes(e)?"Owners":l.Lovers(t).includes(e)?"Lovers":l.WhiteList(t).includes(e)?"Whitelist":t.MemberNumber===Player.MemberNumber&&(null===(r=Player.FriendList)||void 0===r?void 0:r.includes(e))||t.MemberNumber!==Player.MemberNumber&&e===Player.MemberNumber&&(null===(n=Player.FriendList)||void 0===n?void 0:n.includes(null!==(i=t.MemberNumber)&&void 0!==i?i:-1))?"Friends":t.BlackList.includes(e)||null!==(s=null===(a=null==t?void 0:t.GhostList)||void 0===a?void 0:a.includes(e))&&void 0!==s&&s?"None":"Public"}function c(e,t=">=",o,r=Player){const n=u(o,r),i=a.indexOf(e),l=a.indexOf(n);if(-1===i||-1===l)return!1;switch(t){case">":return l>i;case"<":return l<i;case">=":return l>=i;case"<=":return l<=i;case"==":return l==i;case"!=":return l!=i;default:throw new Error("Invalid comparison operator")}}},"./src/util/constants.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ACTIVITY_NAME_PREFIX:()=>d,BELL_SOUND:()=>m,ICONS:()=>l,INVOLUNTARY_END_PET_SPEAK_PERCENTAGE:()=>c,INVOLUNTARY_PET_SPEAK_PERCENTAGE:()=>s,INVOLUNTARY_RUSHED_SPEAK_PERCENTAGE:()=>u,MPA_NAME:()=>n,MPA_REPO:()=>a,MPA_VERSION:()=>i});var r=o("./package.json");const n=r.name.toLocaleUpperCase(),i=r.version,a=r.repository.url,l=Object.freeze({PAW:"data:image/png;base64,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"}),s=.05,u=.5,c=.2,d="MPA_",m=new Audio("Audio\\BellMedium.mp3")},"./src/util/general.ts":(e,t,o)=>{"use strict";function r(e){return 0==e.length?null:e[Math.floor(Math.random()*e.length)]}function n(e,t){let o=structuredClone(e);return t.forEach((e=>{o=o.filter((t=>e!==t))})),o}function i(e){for(let t=e.length-1;t>0;t--){const o=Math.floor(Math.random()*(t+1));[e[t],e[o]]=[e[o],e[t]]}return e}o.r(t),o.d(t,{FilterArrayFromArray:()=>n,RandomElement:()=>r,ShuffleArray:()=>i})},"./src/util/messaging.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{AddDataSyncListener:()=>v,AddDataSyncListeners:()=>f,ArrayToReadableString:()=>b,ContentIsMPAMesage:()=>n,FindCharacterInRoom:()=>d,GetAttributeFromChatDictionary:()=>g,GetEntryFromChatDictionary:()=>y,GetMPAMessageFromChat:()=>i,MPANotifyPlayer:()=>c,NotifyPlayer:()=>u,RemoveDataSyncListeners:()=>p,RemoveOOCContentFromMessage:()=>m,SendAction:()=>l,SendEmote:()=>s,SendMPAMessage:()=>a,hookedMessages:()=>h});var r=o("./src/localization/localization.ts");function n(e){var t;return"Hidden"===e.Type&&"MPA"===e.Content&&1===(null===(t=null==e?void 0:e.Dictionary)||void 0===t?void 0:t.length)}function i(e){return n(e)?e.Dictionary[0]:null}function a(e,t){ServerSend("ChatRoomChat",{Type:"Hidden",Content:"MPA",Dictionary:[e],Target:t})}function l(e,t=void 0,o=[]){ServerSend("ChatRoomChat",{Content:"MayaScript",Type:"Activity",Dictionary:[{Tag:"MISSING ACTIVITY DESCRIPTION FOR KEYWORD MayaScript",Text:(0,r.LocalizedText)(e)},...o],Target:null==t?void 0:t.MemberNumber})}function s(e,t=void 0){ServerSend("ChatRoomChat",{Content:`${e}`,Type:"Emote",Target:null==t?void 0:t.MemberNumber})}function u(e,t){var o,r;const n="Dark"===(null===(o=Player.ChatSettings)||void 0===o?void 0:o.ColorTheme)||"Dark2"===(null===(r=Player.ChatSettings)||void 0===r?void 0:r.ColorTheme);ChatRoomSendLocal(`<p style='background-color:#00c2ff;color:${n?"white":"black"};margin-bottom:0.25em;margin-top:0'>${e}</p>`,t)}function c(e,t){u(`${(0,r.LocalizedText)("MPA")}: ${e}`,t)}function d(e,{MemberNumber:t=!0,NickName:o=!0,Name:r=!0}={}){var n;"string"!=typeof e&&(e=e.toString()),e=e.toLocaleLowerCase();for(const i of ChatRoomCharacter)if(t&&(null==i?void 0:i.MemberNumber)===Number(e)||o&&(null===(n=null==i?void 0:i.Nickname)||void 0===n?void 0:n.toLocaleLowerCase())===e||r&&i.Name.toLocaleLowerCase()===e)return i;return null}function m(e){return SpeechGetOOCRanges(e).reverse().forEach((t=>{e=e.substring(0,t.start)+e.substring(t.start+t.length)})),e}const h=[];function v(e){h.push({module:e.module,message:e.message,action:e.action})}function f(e){e.forEach((e=>{h.push({module:e.module,message:e.message,action:e.action})}))}function p(e){for(let t=h.length-1;0<=t;t--)h[t].module===e&&h.splice(t,1)}function y(e,t){if(e.Dictionary)try{return e.Dictionary.filter((e=>!!e[t]))[0]}catch(e){}}function g(e,t){var o;return null===(o=y(e,t))||void 0===o?void 0:o[t]}function b(e){const t=e.length;return 0===t?"":1===t?e[0]:2===t?`${e[0]} and ${e[1]}`:`${e.slice(0,-1).join(", ")}, and ${e[t-1]}`}},"./src/util/petHearAndSpeak.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{AppendPetSpeech:()=>i,ApplyPetHearing:()=>a,NonDisruptivePetSpeech:()=>l});var r=o("./src/util/constants.ts"),n=o("./src/util/general.ts");function i(e,t){const o=(0,n.RandomElement)(t);return null===o?e:/[.!?]$/.test(e)?`${e} ${o.charAt(0).toLocaleUpperCase()+o.slice(1)}.`:/[a-zA-Z]$/.test(e)?`${e}, ${o}.`:`${e} ${o}.`}function a([e,t,o],r,n){n.push((Player.Nickname||Player.Name).toLocaleLowerCase()),"SheHer"===Player.GetPronouns()?(n.push("girl"),n.push("she"),n.push("her")):(n.push("boy"),n.push("he"),n.push("him"));const i=e.toLocaleLowerCase();let a=[];n.forEach((e=>{const t=new RegExp(`\\b${e}\\b`,"g");[...i.matchAll(t)].forEach((t=>{a.push({start:t.index,len:e.length})}))}));const l=new Map;for(const e of a){const t=`${e.start}-${e.len}`;l.has(t)||l.set(t,e)}if(a=Array.from(l.values()),0===a.length)return r([e,t,o]);a.sort(((e,t)=>e.start-t.start));SpeechGetOOCRanges(e).forEach((e=>{for(let t=a.length-1;t>=0;t--){const o=a[t];(e.start<o.start&&o.start<e.start+e.length||e.start<o.start+o.len&&o.start+o.len<e.start+e.length)&&a.splice(t,1)}}));let s=0,u="";return a.forEach((n=>{u+=r([e.substring(s,n.start),t,o]),s=n.start+n.len,u+=e.substring(n.start,n.start+n.len)})),u+=r([e.substring(s),t,o]),u}function l(e,t,o){var a;if(0===o.length)return t([e]);let l=[];function s(){var e;return 0===l.length&&(l=o.concat(o),l=(0,n.ShuffleArray)(l)),null!==(e=l.pop())&&void 0!==e?e:""}let u=0,c=[];const d=SpeechGetOOCRanges(e);for(const t of d)""!==e.substring(u,t.start)&&c.push({text:e.substring(u,t.start),ooc:!1}),c.push({text:e.substring(t.start,t.start+t.length),ooc:!0}),u=t.start+t.length;const m=e.substring(u);""!==m&&c.push({text:m,ooc:!1}),c=c.map(((e,t)=>{const o=/\s+$/.exec(e.text);return e.text=e.text.replace(/\s+$/,""),o&&c[t+1]&&(c[t+1].text=o[0]+c[t+1].text),e}));let h=!1,v="";for(const e of c){if(e.ooc){v+=e.text;continue}const t=e.text.match(/(\s*\S+)/g)||[];let o=null;t.forEach((e=>{if(Math.random()<r.INVOLUNTARY_PET_SPEAK_PERCENTAGE){h=!0;const t=s(),n=null===o;n||/[.!?]$/.test(null!=o?o:"")?v+=`${n?"":" "}${t.charAt(0).toLocaleUpperCase()}${t.slice(1)}`+(/[.!?]$/.test(e)||n?"."+(n?" ":""):", "):v+=`${Math.random()<r.INVOLUNTARY_RUSHED_SPEAK_PERCENTAGE&&!(null!=o?o:"").endsWith(",")?",":""} ${t},`}v+=e,o=e})),(null===(a=c.slice().reverse().find((e=>!e.ooc)))||void 0===a?void 0:a.text)===e.text&&(!h||Math.random()<r.INVOLUNTARY_END_PET_SPEAK_PERCENTAGE)&&(v=i(v,[s()]))}return t([v])}},"./src/util/registerModules.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{RegisterModules:()=>y,modules:()=>f,settings:()=>p});var r=o("./src/util/storage.ts"),n=o("./src/modules/dataSync.ts"),i=o("./src/modules/settings.ts"),a=o("./src/modules/activities.ts"),l=o("./src/modules/clicker.ts"),s=o("./src/modules/virtualPet.ts"),u=o("./src/modules/virtualPetHUD.ts"),c=o("./src/modules/virtualPetConditions.ts"),d=o("./src/modules/profile.ts"),m=o("./src/modules/settingsOthers.ts"),h=o("./src/modules/authority.ts");let v=!1;const f=[new n.DataSyncModule,new i.SettingsModule,new a.ActivitiesModule,new l.ClickerModule,new s.VirtualPetModule,new u.VirtualPetHUDModule,new c.VirtualPetConditionsModule,new d.ProfileModule,new m.SettingsOtherModule,new h.AuthorityModule],p={};async function y(){v||(f.forEach((e=>{const t=e.Settings,o={};t.forEach((e=>{o[e.name]=e})),0!==Object.keys(o).length&&(p[e.Title]=o)})),await(0,r.LoadStorage)(),f.forEach((e=>{e.Load()})),v=!0)}},"./src/util/sdk.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{AwaitPlayer:()=>c,HookFunction:()=>s,RemoveHooks:()=>u,bcxAPI:()=>d,bcxFound:()=>m,modAPI:()=>l});var r=o("./node_modules/bondage-club-mod-sdk/dist/bcmodsdk.js"),n=o.n(r),i=o("./src/util/constants.ts");const a=[],l=n().registerMod({name:i.MPA_NAME,version:i.MPA_VERSION,fullName:"Maya's Petplay Additions",repository:i.MPA_REPO},{allowReplace:!1});function s(e,t,o,r){const n=l.hookFunction(t,o,r);return a.push({functionName:t,priority:o,hook:r,module:e,removeHook:n}),n}function u(e){for(let t=a.length-1;0<=t;t--)a[t].module===e&&(a[t].removeHook(),a.splice(t,1))}async function c(){if(!Player.MemberNumber||!Player.ExtensionSettings)return new Promise((e=>{const t=l.hookFunction("LoginResponse",0,((o,r)=>{r(o),t(),e()}))}))}function d(){var e;return null===(e=window.bcx)||void 0===e?void 0:e.getModApi(i.MPA_NAME)}function m(){return!!window.bcx}},"./src/util/settingTypes.ts":(e,t,o)=>{"use strict";function r(e){return"function"==typeof e.active&&"string"==typeof e.label}function n(e){return r(e)&&"checkbox"===e.type&&"boolean"==typeof e.value}function i(e){return r(e)&&"option"===e.type&&"string"==typeof e.value&&Array.isArray(e.options)&&"boolean"==typeof e.loop}function a(e){return r(e)&&"text"===e.type&&"string"==typeof e.value&&("number"==typeof e.width||null===e.width)&&("number"==typeof e.maxChars||null===e.maxChars)}function l(e){return r(e)&&"number"===e.type&&"number"==typeof e.value&&("number"==typeof e.width||null===e.width)&&"number"==typeof e.min&&"number"==typeof e.max&&("number"==typeof e.step||null===e.step)}o.r(t),o.d(t,{IsCheckboxSetting:()=>n,IsDisplaySetting:()=>r,IsNumberSetting:()=>l,IsOptionSetting:()=>i,IsTextSetting:()=>a})},"./src/util/storage.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ExportSettingsToClipboard:()=>h,ImportSettingsFromClipboard:()=>v,LoadStorage:()=>c,ResetStorage:()=>m,SaveStorage:()=>d});var r=o("./src/localization/localization.ts"),n=o("./src/util/registerModules.ts"),i=o("./src/util/sdk.ts"),a=o("./src/modules/dataSync.ts"),l=o("./src/modules/_module.ts"),s=o("./src/util/constants.ts"),u=o("./src/modules/virtualPet.ts");async function c(){var e,t,o,a;await(0,i.AwaitPlayer)();const l=null!==(a=JSON.parse(null!==(o=LZString.decompressFromBase64(null!==(t=null===(e=Player.ExtensionSettings)||void 0===e?void 0:e.MPA)&&void 0!==t?t:""))&&void 0!==o?o:"{}"))&&void 0!==a?a:{};Object.entries(n.settings).forEach((e=>{const[t,o]=e;for(const[e,r]of Object.entries(o))t in l||(l[t]={}),e in l[t]||(l[t][e]=r.value)})),function(e){var t;e.version!==s.MPA_VERSION&&(ServerAccountBeep({MemberNumber:null!==(t=Player.MemberNumber)&&void 0!==t?t:-1,MemberName:(0,r.LocalizedText)("MPA"),ChatRoomSpace:"X",ChatRoomName:(0,r.LocalizedText)("MPA Updated"),Private:!1,BeepType:"",Message:"MPA has been updated."}),e.version=s.MPA_VERSION,d(!1))}(l),Player.MPA=l}function d(e=!0){Player.MPA&&(Player.MPA[l.ModuleTitle.Authority].owners=Player.MPA[l.ModuleTitle.Authority].owners.split(",").filter((e=>Number(e)!==Player.MemberNumber)).join(","),Player.ExtensionSettings.MPA=LZString.compressToBase64(JSON.stringify(Player.MPA)),ServerPlayerExtensionSettingsSync("MPA"),e&&(0,a.SettingSync)(!1))}async function m(){delete Player.ExtensionSettings.MPA,Player.ExtensionSettings.MPA=LZString.compressToBase64(JSON.stringify({version:s.MPA_VERSION})),await c(),d()}async function h(){return navigator.clipboard.writeText(LZString.compressToBase64(JSON.stringify(Player.MPA)))}async function v(){return new Promise(((e,t)=>{navigator.clipboard.readText().then((o=>{var r;try{const e=JSON.parse(null!==(r=LZString.decompressFromBase64(null!=o?o:""))&&void 0!==r?r:"{}"),t=JSON.parse(JSON.stringify(Player.MPA));t[l.ModuleTitle.VirtualPet].levels.lastUpdated=Date.now(),t[l.ModuleTitle.VirtualPet].levels.lastOnline=Date.now();for(const o in e)void 0!==e[o]&&(t[o]=e[o]);t[l.ModuleTitle.VirtualPet].levels.lastUpdated=Date.now()-(t[l.ModuleTitle.VirtualPet].levels.lastOnline-t[l.ModuleTitle.VirtualPet].levels.lastUpdated),t[l.ModuleTitle.VirtualPet].levels.lastOnline=Date.now(),Player.MPA=t,(0,u.LevelSync)(!1,!1,!1),d(!0)}catch(e){return console.warn(e),t()}return e()}),(()=>t()))}))}},"./package.json":e=>{"use strict";e.exports=JSON.parse('{"name":"mpa","description":"","version":"0.4.4b1","author":"Maya","license":"MIT","repository":{"type":"git","url":"https://github.com/MayaTheFoxy/MPA"},"scripts":{"serve":"npx webpack serve --progress","stable":"npx webpack --env stable=true","dev":"npx webpack --env stable=false","lint":"eslint ./src","lint-fix":"eslint ./src --fix"},"dependencies":{"bondage-club-mod-sdk":"^1.2.0"},"devDependencies":{"@eslint/js":"^9.9.0","@stylistic/eslint-plugin":"^2.6.2","bc-stubs":"^111.0.0","eslint":"^9.9.0","globals":"^15.9.0","lz-string":"^1.5.0","terser-webpack-plugin":"^5.3.10","ts-loader":"^9.5.1","typescript":"^5.5.4","typescript-eslint":"^8.1.0","webpack":"^5.93.0","webpack-cli":"^5.1.4","webpack-dev-server":"^5.0.4"}}')},"./src/localization/RU.json":e=>{"use strict";e.exports=JSON.parse('{"Maya\'s Petplay Additions":"Ð”Ð¾Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ñ Ð´Ð»Ñ Ð¿ÐµÑ‚Ð¿Ð»ÐµÑ Ð¾Ñ‚ Maya","MPA Settings":"","Clicker":"ÐšÐ»Ð¸ÐºÐµÑ€","Enable auditory clicker":"","Phrases that trigger the click; Separate phrases with a comma":"Ð¤Ñ€Ð°Ð·Ñ‹, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ðµ ÑÐ¾Ð²ÐµÑ€ÑˆÐ°ÑŽÑ‚ ÐºÐ»Ð¸Ðº; Ð Ð°Ð·Ð´ÐµÐ»ÑÐ¹Ñ‚Ðµ Ñ„Ñ€Ð°Ð·Ñ‹ Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ Ð·Ð°Ð¿ÑÑ‚Ð¾Ð¹","Allow your own chat, emotes, & actions to trigger the clicker":"Ð Ð°Ð·Ñ€ÐµÑˆÐ¸Ñ‚ÑŒ Ð²Ð°ÑˆÐ¸Ð¼ ÑÐ¾Ð±ÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ð¼ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ Ð² Ñ‡Ð°Ñ‚Ðµ, ÑÐ¼Ð¾Ñ†Ð¸ÑÐ¼ Ð¸Ð»Ð¸ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸ÑÐ¼ ÑÐ¾Ð²ÐµÑ€ÑˆÐ°Ñ‚ÑŒ ÐºÐ»Ð¸Ðº","Who will be able to trigger the clicker":"ÐšÑ‚Ð¾ ÑÐ¼Ð¾Ð¶ÐµÑ‚ Ð²Ñ‹Ð·Ñ‹Ð²Ð°Ñ‚ÑŒ ÑÑ€Ð°Ð±Ð°Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ðµ ÐºÐ»Ð¸ÐºÐµÑ€Ð°","Public":"ÐŸÑƒÐ±Ð»Ð¸Ñ‡Ð½Ð¾","Friends":"Ð”Ñ€ÑƒÐ·ÑŒÑ","Whitelist":"Ð‘ÐµÐ»Ñ‹Ð¹ ÑÐ¿Ð¸ÑÐ¾Ðº","Lovers":"Ð›ÑŽÐ±Ð¾Ð²Ð½Ð¸ÐºÐ¸","Owners":"Ð’Ð»Ð°Ð´ÐµÐ»ÑŒÑ†Ñ‹","Clubowner":"ÐšÐ»ÑƒÐ±Ð½Ñ‹Ð¹ Ð²Ð»Ð°Ð´ÐµÐ»ÐµÑ†","Self":"Ð¡Ð°Ð¼Ð¾ÑÑ‚Ð¾ÑÑ‚ÐµÐ»ÑŒÐ½Ð¾","Virtual Pet":"Ð’Ð¸Ñ€Ñ‚ÑƒÐ°Ð»ÑŒÐ½Ñ‹Ð¹ Ð¿Ð¸Ñ‚Ð¾Ð¼ÐµÑ†","Become a virtual pet! Requiring: food, water, sleep, and affection":"Ð¡Ñ‚Ð°Ð½ÑŒÑ‚Ðµ Ð²Ð¸Ñ€Ñ‚ÑƒÐ°Ð»ÑŒÐ½Ñ‹Ð¼ Ð¿Ð¸Ñ‚Ð¾Ð¼Ñ†ÐµÐ¼! Ð’Ð°ÑˆÐ¸ Ð¿Ð¾Ñ‚Ñ€ÐµÐ±Ð½Ð¾ÑÑ‚Ð¸: ÐµÐ´Ð°, Ð²Ð¾Ð´Ð°, ÑÐ¾Ð½ Ð¸ Ð»Ð°ÑÐºÐ°","How many hours until you are completely out of food; 0 to disable":"Ð§ÐµÑ€ÐµÐ· ÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ñ‡Ð°ÑÐ¾Ð² Ñƒ Ð²Ð°Ñ Ð¿Ð¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ Ð·Ð°ÐºÐ¾Ð½Ñ‡Ð¸Ñ‚ÑÑ ÐµÐ´Ð°; 0 Ð´Ð»Ñ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ","How many hours until you are completely out of water; 0 to disable":"Ð§ÐµÑ€ÐµÐ· ÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ñ‡Ð°ÑÐ¾Ð² Ñƒ Ð²Ð°Ñ Ð¿Ð¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ Ð·Ð°ÐºÐ¾Ð½Ñ‡Ð¸Ñ‚ÑÑ Ð²Ð¾Ð´Ð°; 0 Ð´Ð»Ñ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ","How many hours until you are completely out of sleep; 0 to disable":"Ð§ÐµÑ€ÐµÐ· ÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ñ‡Ð°ÑÐ¾Ð² Ñƒ Ð²Ð°Ñ Ð¿Ð¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ Ð·Ð°ÐºÐ¾Ð½Ñ‡Ð¸Ñ‚ÑÑ ÑÐ¾Ð½; 0 Ð´Ð»Ñ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ","How many hours until you are completely out of affection; 0 to disable":"Ð§ÐµÑ€ÐµÐ· ÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ñ‡Ð°ÑÐ¾Ð² Ñƒ Ð²Ð°Ñ Ð¿Ð¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ Ð·Ð°ÐºÐ¾Ð½Ñ‡Ð¸Ñ‚ÑÑ Ð»Ð°ÑÐºÐ°; 0 Ð´Ð»Ñ Ð¾Ñ‚ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ","Pause stats from draining when logged out of the club":"ÐŸÑ€Ð¸Ð¾ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ ÑÐ½Ð¸Ð¶ÐµÐ½Ð¸Ðµ Ð¿Ð¾ÐºÐ°Ð·Ð°Ñ‚ÐµÐ»ÐµÐ¹ Ð¿Ñ€Ð¸ Ð²Ñ‹Ñ…Ð¾Ð´Ðµ Ð¸Ð· ÐºÐ»ÑƒÐ±Ð°","Allow eating or drinking from items in your OWN hands":"Ð Ð°Ð·Ñ€ÐµÑˆÐ¸Ñ‚ÑŒ ÐµÑÑ‚ÑŒ Ð¸Ð»Ð¸ Ð¿Ð¸Ñ‚ÑŒ Ð¸Ð· Ð¿Ñ€ÐµÐ´Ð¼ÐµÑ‚Ð¾Ð² Ð² Ð²Ð°ÑˆÐ¸Ñ… Ð¡ÐžÐ‘Ð¡Ð¢Ð’Ð•ÐÐÐ«Ð¥ Ñ€ÑƒÐºÐ°Ñ…","Click Once":"Ð©ÐµÐ»ÐºÐ½ÑƒÑ‚ÑŒ Ð¾Ð´Ð¸Ð½ Ñ€Ð°Ð·","SourceCharacter presses the button PronounPossessive clicker.":"SourceCharacter Ð½Ð°Ð¶Ð¸Ð¼Ð°ÐµÑ‚ Ð½Ð° ÐºÐ½Ð¾Ð¿ÐºÑƒ PronounPossessive ÐºÐ»Ð¸ÐºÐµÑ€Ð°.","Click Twice":"Ð©ÐµÐ»ÐºÐ½ÑƒÑ‚ÑŒ Ð´Ð²Ð°Ð¶Ð´Ñ‹","SourceCharacter presses the button PronounPossessive clicker twice.":"SourceCharacter Ð½Ð°Ð¶Ð¸Ð¼Ð°ÐµÑ‚ Ð½Ð° ÐºÐ½Ð¾Ð¿ÐºÑƒ PronounPossessive ÐºÐ»Ð¸ÐºÐµÑ€Ð° Ð´Ð²Ð°Ð¶Ð´Ñ‹.","Click Thrice":"Ð©ÐµÐ»ÐºÐ½ÑƒÑ‚ÑŒ Ñ‚Ñ€Ð¸Ð¶Ð´Ñ‹","SourceCharacter presses the button PronounPossessive clicker three times.":"SourceCharacter Ð½Ð°Ð¶Ð¸Ð¼Ð°ÐµÑ‚ Ð½Ð° ÐºÐ½Ð¾Ð¿ÐºÑƒ PronounPossessive ÐºÐ»Ð¸ÐºÐµÑ€Ð° Ñ‚Ñ€Ð¸Ð¶Ð´Ñ‹."}')},"./src/localization/template.json":e=>{"use strict";e.exports=JSON.parse('{"Maya\'s Petplay Additions":"","MPA":"","MPA Settings":"","MPA: No BC item permission":"","MPA Updated":"","Wiki":"","Open the MPA wiki in a new tab":"","RESET":"","Reset all your settings back to default":"","Import":"","Import the settings copied to your clipboard":"","Export":"","Export your current settings to the clipboard":"","Confirm":"","Cancel":"","WARNING: Are you sure you want to reset your MPA settings and data back to default?":"","This action can not be undone!":"","Export and save your settings BEFORE confirming if you are unsure.":"","SourceCharacter is accessing your MPA settings.":"","Public":"","Friends":"","Whitelist":"","Lovers":"","Owners":"","Clubowner":"","Self":"","None":"","Authority":"","Owner member numbers; Seperated by a ,":"","Allow TargetCharacter changing TargetPronounPossessive own settings while bound":"","Allow TargetCharacter changing the settings of others while bound":"","Allow TargetCharacter to change TargetPronounPossessive Authority settings":"","Allow others to change TargetCharacter\'s Authority settings":"","Allow TargetCharacter to change TargetPronounPossessive Profile settings":"","Allow others to change TargetCharacter\'s Profile settings":"","Allow TargetCharacter to change TargetPronounPossessive Clicker settings":"","Allow others to change TargetCharacter\'s Clicker settings":"","Allow TargetCharacter to change TargetPronounPossessive Virtual Pet settings":"","Allow others to change TargetCharacter\'s Virtual Pet settings":"","Allow TargetCharacter to change TargetPronounPossessive Virtual Pet Conditions settings":"","Allow others to change TargetCharacter\'s Virtual Pet Conditions settings":"","SourceCharacter just updated your SettingsArray settings.":"","Profile":"","Use a preset profile or make your own":"","Pet sounds you make":"","Enable hardcore mode; Will set certain settings and prevent changing them back":"","Automatically make the above pet sounds while talking":"","Clicker":"","Enable auditory clicker":"","Phrases that trigger the click; Separate phrases with a comma":"","Allow your own chat, emotes, & actions to trigger the clicker":"","Who will be able to trigger the clicker":"","Allow BCX Listen to my voice rule to trigger the clicker; Requires BCX":"","Virtual Pet":"","Become a virtual pet! Requiring: food, water, sleep, and affection":"","How many hours until you are completely out of food; 0 to disable":"","How many hours until you are completely out of water; 0 to disable":"","How many hours until you are completely out of sleep; 0 to disable":"","How many hours until you are completely out of affection; 0 to disable":"","Pause stats from draining when logged out of the club":"","Allow eating or drinking from items in your OWN hands":"","Stats drain even when logged out of the club":"","Masochist pet; Abuse raises affection":"","Virtual Pet HUD":"","Display your own virtual pet stats on the HUD":"","Display the exact number percentage on the HUD":"","Where to display the HUD":"","Display the virtual pet stats of others on the HUD":"","Click Once":"","SourceCharacter presses the button on PronounPossessive clicker.":"","Click Twice":"","SourceCharacter presses the button on PronounPossessive clicker twice.":"","Click Thrice":"","SourceCharacter presses the button on PronounPossessive clicker three times.":"","Eat From Bowl":"","Drink From Bowl":"","SourceCharacter eats from PronounPossessive bowl.":"","SourceCharacter drinks from PronounPossessive bowl.":"","SourceCharacter puts PronounPossessive head into PronounPossessive bowl in order to eat with the gag, making a mess.":"","SourceCharacter puts PronounPossessive head into PronounPossessive bowl in order to drink with the gag, making a mess.":"","Virtual Pet Conditions":"","SourceCharacter passes out from exhaustion.":"","SourceCharacter wakes up from PronounPossessive nap.":"","Recive conditions based on current level of your virtual pet stats":"","Food and water affects affection gain":"","Vision darkens as you get sleepier":"","Passout when exhausted":"","Use LSCG passout instead of MPA; Requires LSCG":"","Affection will buff skills based on its level":"","Affection will debuff skills based on its level":"","Hearing becomes harder the hungrier you are":"","Takes longer to leave the room when hungry":"","Flick Bell":"","SourceCharacter flicks the bell on PronounPossessive collar.":"","SourceCharacter flicks the bell on TargetCharacter\'s collar.":""}')}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,o),i.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{"use strict";o.r(r);var e=o("./src/util/registerModules.ts"),t=o("./src/commands/buildAllCommands.ts"),n=o("./src/util/constants.ts");console.log("Loading Maya's Petplay Additions"),(0,t.BuildAllCommands)(),(0,e.RegisterModules)(),window.MPA={version:n.MPA_VERSION,menuLoaded:!1}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVM4aUIsRUFBeUJFLEdBQVksQ0FHakRsdUIsUUFBUyxDQUFDLEdBT1gsT0FIQW91QixFQUFvQkYsR0FBVWhqQixFQUFRQSxFQUFPbEwsUUFBU2l1QixHQUcvQy9pQixFQUFPbEwsT0FDZixDQ3JCQWl1QixFQUFvQnAwQixFQUFLcVIsSUFDeEIsSUFBSW1qQixFQUFTbmpCLEdBQVVBLEVBQU9vakIsV0FDN0IsSUFBT3BqQixFQUFpQixRQUN4QixJQUFNLEVBRVAsT0FEQStpQixFQUFvQjd3QixFQUFFaXhCLEVBQVEsQ0FBRTl6QixFQUFHOHpCLElBQzVCQSxDQUFNLEVDTGRKLEVBQW9CN3dCLEVBQUksQ0FBQzRDLEVBQVN1dUIsS0FDakMsSUFBSSxJQUFJMWIsS0FBTzBiLEVBQ1hOLEVBQW9CNTBCLEVBQUVrMUIsRUFBWTFiLEtBQVNvYixFQUFvQjUwQixFQUFFMkcsRUFBUzZTLElBQzVFdlYsT0FBT3lDLGVBQWVDLEVBQVM2UyxFQUFLLENBQUUyYixZQUFZLEVBQU0xekIsSUFBS3l6QixFQUFXMWIsSUFFMUUsRUNORG9iLEVBQW9CNTBCLEVBQUksQ0FBQzR4QixFQUFLd0QsSUFBVW54QixPQUFPb3hCLFVBQVVDLGVBQWUzeUIsS0FBS2l2QixFQUFLd0QsR0NDbEZSLEVBQW9CajBCLEVBQUtnRyxJQUNILG9CQUFYNHVCLFFBQTBCQSxPQUFPQyxhQUMxQ3Z4QixPQUFPeUMsZUFBZUMsRUFBUzR1QixPQUFPQyxZQUFhLENBQUU1dUIsTUFBTyxXQUU3RDNDLE9BQU95QyxlQUFlQyxFQUFTLGFBQWMsQ0FBRUMsT0FBTyxHQUFPLHVKQ0s5RHhHLFFBQVErbkIsSUFBSSxxQ0FFWixJQUFBOWYscUJBQ0EsSUFBQXFxQixtQkFDQWx2QixPQUFPK0osSUFBTSxDQUNUckksUUFBUyxFQUFBaXBCLFlBQ1Q5UyxZQUFZIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXBhLy4vbm9kZV9tb2R1bGVzL2JvbmRhZ2UtY2x1Yi1tb2Qtc2RrL2Rpc3QvYmNtb2RzZGsuanMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL2NvbW1hbmRzL2JlZC50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvY29tbWFuZHMvYnVpbGRBbGxDb21tYW5kcy50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvbG9jYWxpemF0aW9uL2xvY2FsaXphdGlvbi50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvbW9kdWxlcy9fbW9kdWxlLnRzIiwid2VicGFjazovL21wYS8uL3NyYy9tb2R1bGVzL2FjdGl2aXRpZXMudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL21vZHVsZXMvYXV0aG9yaXR5LnRzIiwid2VicGFjazovL21wYS8uL3NyYy9tb2R1bGVzL2NsaWNrZXIudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL21vZHVsZXMvZGF0YVN5bmMudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL21vZHVsZXMvcHJvZmlsZS50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvbW9kdWxlcy9zZXR0aW5ncy50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvbW9kdWxlcy9zZXR0aW5nc090aGVycy50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvbW9kdWxlcy92aXJ0dWFsUGV0LnRzIiwid2VicGFjazovL21wYS8uL3NyYy9tb2R1bGVzL3ZpcnR1YWxQZXRDb25kaXRpb25zLnRzIiwid2VicGFjazovL21wYS8uL3NyYy9tb2R1bGVzL3ZpcnR1YWxQZXRIVUQudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL3V0aWwvYWN0aXZpdGllcy50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvdXRpbC9hdXRob3JpdHkudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL3V0aWwvY29uc3RhbnRzLnRzIiwid2VicGFjazovL21wYS8uL3NyYy91dGlsL2dlbmVyYWwudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL3V0aWwvbWVzc2FnaW5nLnRzIiwid2VicGFjazovL21wYS8uL3NyYy91dGlsL3BldEhlYXJBbmRTcGVhay50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvdXRpbC9yZWdpc3Rlck1vZHVsZXMudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL3V0aWwvc2RrLnRzIiwid2VicGFjazovL21wYS8uL3NyYy91dGlsL3NldHRpbmdUeXBlcy50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvdXRpbC9zdG9yYWdlLnRzIiwid2VicGFjazovL21wYS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9tcGEvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vbXBhL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9tcGEvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9tcGEvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQm9uZGFnZSBDbHViIE1vZCBEZXZlbG9wbWVudCBLaXQgKDEuMi4wKVxuLy8gRm9yIG1vcmUgaW5mbyBzZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9Kb21zaGlyOTgvYm9uZGFnZS1jbHViLW1vZC1zZGtcbi8qKiBAdHlwZSB7TW9kU0RLR2xvYmFsQVBJfSAqL1xudmFyIGJjTW9kU2RrPWZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7Y29uc3Qgbz1cIjEuMi4wXCI7ZnVuY3Rpb24gZShvKXthbGVydChcIk1vZCBFUlJPUjpcXG5cIitvKTtjb25zdCBlPW5ldyBFcnJvcihvKTt0aHJvdyBjb25zb2xlLmVycm9yKGUpLGV9Y29uc3QgdD1uZXcgVGV4dEVuY29kZXI7ZnVuY3Rpb24gbihvKXtyZXR1cm4hIW8mJlwib2JqZWN0XCI9PXR5cGVvZiBvJiYhQXJyYXkuaXNBcnJheShvKX1mdW5jdGlvbiByKG8pe2NvbnN0IGU9bmV3IFNldDtyZXR1cm4gby5maWx0ZXIoKG89PiFlLmhhcyhvKSYmZS5hZGQobykpKX1jb25zdCBpPW5ldyBNYXAsYT1uZXcgU2V0O2Z1bmN0aW9uIGMobyl7YS5oYXMobyl8fChhLmFkZChvKSxjb25zb2xlLndhcm4obykpfWZ1bmN0aW9uIHMobyl7Y29uc3QgZT1bXSx0PW5ldyBNYXAsbj1uZXcgU2V0O2Zvcihjb25zdCByIG9mIGYudmFsdWVzKCkpe2NvbnN0IGk9ci5wYXRjaGluZy5nZXQoby5uYW1lKTtpZihpKXtlLnB1c2goLi4uaS5ob29rcyk7Zm9yKGNvbnN0W2UsYV1vZiBpLnBhdGNoZXMuZW50cmllcygpKXQuaGFzKGUpJiZ0LmdldChlKSE9PWEmJmMoYE1vZFNESzogTW9kICcke3IubmFtZX0nIGlzIHBhdGNoaW5nIGZ1bmN0aW9uICR7by5uYW1lfSB3aXRoIHNhbWUgcGF0dGVybiB0aGF0IGlzIGFscmVhZHkgYXBwbGllZCBieSBkaWZmZXJlbnQgbW9kLCBidXQgd2l0aCBkaWZmZXJlbnQgcGF0dGVybjpcXG5QYXR0ZXJuOlxcbiR7ZX1cXG5QYXRjaDE6XFxuJHt0LmdldChlKXx8XCJcIn1cXG5QYXRjaDI6XFxuJHthfWApLHQuc2V0KGUsYSksbi5hZGQoci5uYW1lKX19ZS5zb3J0KCgobyxlKT0+ZS5wcmlvcml0eS1vLnByaW9yaXR5KSk7Y29uc3Qgcj1mdW5jdGlvbihvLGUpe2lmKDA9PT1lLnNpemUpcmV0dXJuIG87bGV0IHQ9by50b1N0cmluZygpLnJlcGxhY2VBbGwoXCJcXHJcXG5cIixcIlxcblwiKTtmb3IoY29uc3RbbixyXW9mIGUuZW50cmllcygpKXQuaW5jbHVkZXMobil8fGMoYE1vZFNESzogUGF0Y2hpbmcgJHtvLm5hbWV9OiBQYXRjaCAke259IG5vdCBhcHBsaWVkYCksdD10LnJlcGxhY2VBbGwobixyKTtyZXR1cm4oMCxldmFsKShgKCR7dH0pYCl9KG8ub3JpZ2luYWwsdCk7bGV0IGk9ZnVuY3Rpb24oZSl7dmFyIHQsaTtjb25zdCBhPW51bGw9PT0oaT0odD1tLmVycm9yUmVwb3J0ZXJIb29rcykuaG9va0NoYWluRXhpdCl8fHZvaWQgMD09PWk/dm9pZCAwOmkuY2FsbCh0LG8ubmFtZSxuKSxjPXIuYXBwbHkodGhpcyxlKTtyZXR1cm4gbnVsbD09YXx8YSgpLGN9O2ZvcihsZXQgdD1lLmxlbmd0aC0xO3Q+PTA7dC0tKXtjb25zdCBuPWVbdF0scj1pO2k9ZnVuY3Rpb24oZSl7dmFyIHQsaTtjb25zdCBhPW51bGw9PT0oaT0odD1tLmVycm9yUmVwb3J0ZXJIb29rcykuaG9va0VudGVyKXx8dm9pZCAwPT09aT92b2lkIDA6aS5jYWxsKHQsby5uYW1lLG4ubW9kKSxjPW4uaG9vay5hcHBseSh0aGlzLFtlLG89PntpZigxIT09YXJndW1lbnRzLmxlbmd0aHx8IUFycmF5LmlzQXJyYXkoZSkpdGhyb3cgbmV3IEVycm9yKGBNb2QgJHtuLm1vZH0gZmFpbGVkIHRvIGNhbGwgbmV4dCBob29rOiBFeHBlY3RlZCBhcmdzIHRvIGJlIGFycmF5LCBnb3QgJHt0eXBlb2Ygb31gKTtyZXR1cm4gci5jYWxsKHRoaXMsbyl9XSk7cmV0dXJuIG51bGw9PWF8fGEoKSxjfX1yZXR1cm57aG9va3M6ZSxwYXRjaGVzOnQscGF0Y2hlc1NvdXJjZXM6bixlbnRlcjppLGZpbmFsOnJ9fWZ1bmN0aW9uIGwobyxlPSExKXtsZXQgcj1pLmdldChvKTtpZihyKWUmJihyLnByZWNvbXB1dGVkPXMocikpO2Vsc2V7bGV0IGU9d2luZG93O2NvbnN0IGE9by5zcGxpdChcIi5cIik7Zm9yKGxldCB0PTA7dDxhLmxlbmd0aC0xO3QrKylpZihlPWVbYVt0XV0sIW4oZSkpdGhyb3cgbmV3IEVycm9yKGBNb2RTREs6IEZ1bmN0aW9uICR7b30gdG8gYmUgcGF0Y2hlZCBub3QgZm91bmQ7ICR7YS5zbGljZSgwLHQrMSkuam9pbihcIi5cIil9IGlzIG5vdCBvYmplY3RgKTtjb25zdCBjPWVbYVthLmxlbmd0aC0xXV07aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgYyl0aHJvdyBuZXcgRXJyb3IoYE1vZFNESzogRnVuY3Rpb24gJHtvfSB0byBiZSBwYXRjaGVkIG5vdCBmb3VuZGApO2NvbnN0IGw9ZnVuY3Rpb24obyl7bGV0IGU9LTE7Zm9yKGNvbnN0IG4gb2YgdC5lbmNvZGUobykpe2xldCBvPTI1NSYoZV5uKTtmb3IobGV0IGU9MDtlPDg7ZSsrKW89MSZvPy0zMDY2NzQ5MTJebz4+PjE6bz4+PjE7ZT1lPj4+OF5vfXJldHVybigoLTFeZSk+Pj4wKS50b1N0cmluZygxNikucGFkU3RhcnQoOCxcIjBcIikudG9VcHBlckNhc2UoKX0oYy50b1N0cmluZygpLnJlcGxhY2VBbGwoXCJcXHJcXG5cIixcIlxcblwiKSksZD17bmFtZTpvLG9yaWdpbmFsOmMsb3JpZ2luYWxIYXNoOmx9O3I9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGQpLHtwcmVjb21wdXRlZDpzKGQpLHJvdXRlcjooKT0+e30sY29udGV4dDplLGNvbnRleHRQcm9wZXJ0eTphW2EubGVuZ3RoLTFdfSksci5yb3V0ZXI9ZnVuY3Rpb24obyl7cmV0dXJuIGZ1bmN0aW9uKC4uLmUpe3JldHVybiBvLnByZWNvbXB1dGVkLmVudGVyLmFwcGx5KHRoaXMsW2VdKX19KHIpLGkuc2V0KG8sciksZVtyLmNvbnRleHRQcm9wZXJ0eV09ci5yb3V0ZXJ9cmV0dXJuIHJ9ZnVuY3Rpb24gZCgpe2Zvcihjb25zdCBvIG9mIGkudmFsdWVzKCkpby5wcmVjb21wdXRlZD1zKG8pfWZ1bmN0aW9uIHAoKXtjb25zdCBvPW5ldyBNYXA7Zm9yKGNvbnN0W2UsdF1vZiBpKW8uc2V0KGUse25hbWU6ZSxvcmlnaW5hbDp0Lm9yaWdpbmFsLG9yaWdpbmFsSGFzaDp0Lm9yaWdpbmFsSGFzaCxzZGtFbnRyeXBvaW50OnQucm91dGVyLGN1cnJlbnRFbnRyeXBvaW50OnQuY29udGV4dFt0LmNvbnRleHRQcm9wZXJ0eV0saG9va2VkQnlNb2RzOnIodC5wcmVjb21wdXRlZC5ob29rcy5tYXAoKG89Pm8ubW9kKSkpLHBhdGNoZWRCeU1vZHM6QXJyYXkuZnJvbSh0LnByZWNvbXB1dGVkLnBhdGNoZXNTb3VyY2VzKX0pO3JldHVybiBvfWNvbnN0IGY9bmV3IE1hcDtmdW5jdGlvbiB1KG8pe2YuZ2V0KG8ubmFtZSkhPT1vJiZlKGBGYWlsZWQgdG8gdW5sb2FkIG1vZCAnJHtvLm5hbWV9JzogTm90IHJlZ2lzdGVyZWRgKSxmLmRlbGV0ZShvLm5hbWUpLG8ubG9hZGVkPSExLGQoKX1mdW5jdGlvbiBnKG8sdCl7byYmXCJvYmplY3RcIj09dHlwZW9mIG98fGUoXCJGYWlsZWQgdG8gcmVnaXN0ZXIgbW9kOiBFeHBlY3RlZCBpbmZvIG9iamVjdCwgZ290IFwiK3R5cGVvZiBvKSxcInN0cmluZ1wiPT10eXBlb2Ygby5uYW1lJiZvLm5hbWV8fGUoXCJGYWlsZWQgdG8gcmVnaXN0ZXIgbW9kOiBFeHBlY3RlZCBuYW1lIHRvIGJlIG5vbi1lbXB0eSBzdHJpbmcsIGdvdCBcIit0eXBlb2Ygby5uYW1lKTtsZXQgcj1gJyR7by5uYW1lfSdgO1wic3RyaW5nXCI9PXR5cGVvZiBvLmZ1bGxOYW1lJiZvLmZ1bGxOYW1lfHxlKGBGYWlsZWQgdG8gcmVnaXN0ZXIgbW9kICR7cn06IEV4cGVjdGVkIGZ1bGxOYW1lIHRvIGJlIG5vbi1lbXB0eSBzdHJpbmcsIGdvdCAke3R5cGVvZiBvLmZ1bGxOYW1lfWApLHI9YCcke28uZnVsbE5hbWV9ICgke28ubmFtZX0pJ2AsXCJzdHJpbmdcIiE9dHlwZW9mIG8udmVyc2lvbiYmZShgRmFpbGVkIHRvIHJlZ2lzdGVyIG1vZCAke3J9OiBFeHBlY3RlZCB2ZXJzaW9uIHRvIGJlIHN0cmluZywgZ290ICR7dHlwZW9mIG8udmVyc2lvbn1gKSxvLnJlcG9zaXRvcnl8fChvLnJlcG9zaXRvcnk9dm9pZCAwKSx2b2lkIDAhPT1vLnJlcG9zaXRvcnkmJlwic3RyaW5nXCIhPXR5cGVvZiBvLnJlcG9zaXRvcnkmJmUoYEZhaWxlZCB0byByZWdpc3RlciBtb2QgJHtyfTogRXhwZWN0ZWQgcmVwb3NpdG9yeSB0byBiZSB1bmRlZmluZWQgb3Igc3RyaW5nLCBnb3QgJHt0eXBlb2Ygby52ZXJzaW9ufWApLG51bGw9PXQmJih0PXt9KSx0JiZcIm9iamVjdFwiPT10eXBlb2YgdHx8ZShgRmFpbGVkIHRvIHJlZ2lzdGVyIG1vZCAke3J9OiBFeHBlY3RlZCBvcHRpb25zIHRvIGJlIHVuZGVmaW5lZCBvciBvYmplY3QsIGdvdCAke3R5cGVvZiB0fWApO2NvbnN0IGk9ITA9PT10LmFsbG93UmVwbGFjZSxhPWYuZ2V0KG8ubmFtZSk7YSYmKGEuYWxsb3dSZXBsYWNlJiZpfHxlKGBSZWZ1c2luZyB0byBsb2FkIG1vZCAke3J9OiBpdCBpcyBhbHJlYWR5IGxvYWRlZCBhbmQgZG9lc24ndCBhbGxvdyBiZWluZyByZXBsYWNlZC5cXG5XYXMgdGhlIG1vZCBsb2FkZWQgbXVsdGlwbGUgdGltZXM/YCksdShhKSk7Y29uc3QgYz1vPT57bGV0IGU9Zy5wYXRjaGluZy5nZXQoby5uYW1lKTtyZXR1cm4gZXx8KGU9e2hvb2tzOltdLHBhdGNoZXM6bmV3IE1hcH0sZy5wYXRjaGluZy5zZXQoby5uYW1lLGUpKSxlfSxzPShvLHQpPT4oLi4ubik9Pnt2YXIgaSxhO2NvbnN0IGM9bnVsbD09PShhPShpPW0uZXJyb3JSZXBvcnRlckhvb2tzKS5hcGlFbmRwb2ludEVudGVyKXx8dm9pZCAwPT09YT92b2lkIDA6YS5jYWxsKGksbyxnLm5hbWUpO2cubG9hZGVkfHxlKGBNb2QgJHtyfSBhdHRlbXB0ZWQgdG8gY2FsbCBTREsgZnVuY3Rpb24gYWZ0ZXIgYmVpbmcgdW5sb2FkZWRgKTtjb25zdCBzPXQoLi4ubik7cmV0dXJuIG51bGw9PWN8fGMoKSxzfSxwPXt1bmxvYWQ6cyhcInVubG9hZFwiLCgoKT0+dShnKSkpLGhvb2tGdW5jdGlvbjpzKFwiaG9va0Z1bmN0aW9uXCIsKChvLHQsbik9PntcInN0cmluZ1wiPT10eXBlb2YgbyYmb3x8ZShgTW9kICR7cn0gZmFpbGVkIHRvIHBhdGNoIGEgZnVuY3Rpb246IEV4cGVjdGVkIGZ1bmN0aW9uIG5hbWUgc3RyaW5nLCBnb3QgJHt0eXBlb2Ygb31gKTtjb25zdCBpPWwobyksYT1jKGkpO1wibnVtYmVyXCIhPXR5cGVvZiB0JiZlKGBNb2QgJHtyfSBmYWlsZWQgdG8gaG9vayBmdW5jdGlvbiAnJHtvfSc6IEV4cGVjdGVkIHByaW9yaXR5IG51bWJlciwgZ290ICR7dHlwZW9mIHR9YCksXCJmdW5jdGlvblwiIT10eXBlb2YgbiYmZShgTW9kICR7cn0gZmFpbGVkIHRvIGhvb2sgZnVuY3Rpb24gJyR7b30nOiBFeHBlY3RlZCBob29rIGZ1bmN0aW9uLCBnb3QgJHt0eXBlb2Ygbn1gKTtjb25zdCBzPXttb2Q6Zy5uYW1lLHByaW9yaXR5OnQsaG9vazpufTtyZXR1cm4gYS5ob29rcy5wdXNoKHMpLGQoKSwoKT0+e2NvbnN0IG89YS5ob29rcy5pbmRleE9mKHMpO28+PTAmJihhLmhvb2tzLnNwbGljZShvLDEpLGQoKSl9fSkpLHBhdGNoRnVuY3Rpb246cyhcInBhdGNoRnVuY3Rpb25cIiwoKG8sdCk9PntcInN0cmluZ1wiPT10eXBlb2YgbyYmb3x8ZShgTW9kICR7cn0gZmFpbGVkIHRvIHBhdGNoIGEgZnVuY3Rpb246IEV4cGVjdGVkIGZ1bmN0aW9uIG5hbWUgc3RyaW5nLCBnb3QgJHt0eXBlb2Ygb31gKTtjb25zdCBpPWwobyksYT1jKGkpO24odCl8fGUoYE1vZCAke3J9IGZhaWxlZCB0byBwYXRjaCBmdW5jdGlvbiAnJHtvfSc6IEV4cGVjdGVkIHBhdGNoZXMgb2JqZWN0LCBnb3QgJHt0eXBlb2YgdH1gKTtmb3IoY29uc3RbbixpXW9mIE9iamVjdC5lbnRyaWVzKHQpKVwic3RyaW5nXCI9PXR5cGVvZiBpP2EucGF0Y2hlcy5zZXQobixpKTpudWxsPT09aT9hLnBhdGNoZXMuZGVsZXRlKG4pOmUoYE1vZCAke3J9IGZhaWxlZCB0byBwYXRjaCBmdW5jdGlvbiAnJHtvfSc6IEludmFsaWQgZm9ybWF0IG9mIHBhdGNoICcke259J2ApO2QoKX0pKSxyZW1vdmVQYXRjaGVzOnMoXCJyZW1vdmVQYXRjaGVzXCIsKG89PntcInN0cmluZ1wiPT10eXBlb2YgbyYmb3x8ZShgTW9kICR7cn0gZmFpbGVkIHRvIHBhdGNoIGEgZnVuY3Rpb246IEV4cGVjdGVkIGZ1bmN0aW9uIG5hbWUgc3RyaW5nLCBnb3QgJHt0eXBlb2Ygb31gKTtjb25zdCB0PWwobyk7Yyh0KS5wYXRjaGVzLmNsZWFyKCksZCgpfSkpLGNhbGxPcmlnaW5hbDpzKFwiY2FsbE9yaWdpbmFsXCIsKChvLHQsbik9PntcInN0cmluZ1wiPT10eXBlb2YgbyYmb3x8ZShgTW9kICR7cn0gZmFpbGVkIHRvIGNhbGwgYSBmdW5jdGlvbjogRXhwZWN0ZWQgZnVuY3Rpb24gbmFtZSBzdHJpbmcsIGdvdCAke3R5cGVvZiBvfWApO2NvbnN0IGk9bChvKTtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KXx8ZShgTW9kICR7cn0gZmFpbGVkIHRvIGNhbGwgYSBmdW5jdGlvbjogRXhwZWN0ZWQgYXJncyBhcnJheSwgZ290ICR7dHlwZW9mIHR9YCksaS5vcmlnaW5hbC5hcHBseShudWxsIT1uP246Z2xvYmFsVGhpcyx0KX0pKSxnZXRPcmlnaW5hbEhhc2g6cyhcImdldE9yaWdpbmFsSGFzaFwiLChvPT57XCJzdHJpbmdcIj09dHlwZW9mIG8mJm98fGUoYE1vZCAke3J9IGZhaWxlZCB0byBnZXQgaGFzaDogRXhwZWN0ZWQgZnVuY3Rpb24gbmFtZSBzdHJpbmcsIGdvdCAke3R5cGVvZiBvfWApO3JldHVybiBsKG8pLm9yaWdpbmFsSGFzaH0pKX0sZz17bmFtZTpvLm5hbWUsZnVsbE5hbWU6by5mdWxsTmFtZSx2ZXJzaW9uOm8udmVyc2lvbixyZXBvc2l0b3J5Om8ucmVwb3NpdG9yeSxhbGxvd1JlcGxhY2U6aSxhcGk6cCxsb2FkZWQ6ITAscGF0Y2hpbmc6bmV3IE1hcH07cmV0dXJuIGYuc2V0KG8ubmFtZSxnKSxPYmplY3QuZnJlZXplKHApfWZ1bmN0aW9uIGgoKXtjb25zdCBvPVtdO2Zvcihjb25zdCBlIG9mIGYudmFsdWVzKCkpby5wdXNoKHtuYW1lOmUubmFtZSxmdWxsTmFtZTplLmZ1bGxOYW1lLHZlcnNpb246ZS52ZXJzaW9uLHJlcG9zaXRvcnk6ZS5yZXBvc2l0b3J5fSk7cmV0dXJuIG99bGV0IG07Y29uc3QgeT12b2lkIDA9PT13aW5kb3cuYmNNb2RTZGs/d2luZG93LmJjTW9kU2RrPWZ1bmN0aW9uKCl7Y29uc3QgZT17dmVyc2lvbjpvLGFwaVZlcnNpb246MSxyZWdpc3Rlck1vZDpnLGdldE1vZHNJbmZvOmgsZ2V0UGF0Y2hpbmdJbmZvOnAsZXJyb3JSZXBvcnRlckhvb2tzOk9iamVjdC5zZWFsKHthcGlFbmRwb2ludEVudGVyOm51bGwsaG9va0VudGVyOm51bGwsaG9va0NoYWluRXhpdDpudWxsfSl9O3JldHVybiBtPWUsT2JqZWN0LmZyZWV6ZShlKX0oKToobih3aW5kb3cuYmNNb2RTZGspfHxlKFwiRmFpbGVkIHRvIGluaXQgTW9kIFNESzogTmFtZSBhbHJlYWR5IGluIHVzZVwiKSwxIT09d2luZG93LmJjTW9kU2RrLmFwaVZlcnNpb24mJmUoYEZhaWxlZCB0byBpbml0IE1vZCBTREs6IERpZmZlcmVudCB2ZXJzaW9uIGFscmVhZHkgbG9hZGVkICgnMS4yLjAnIHZzICcke3dpbmRvdy5iY01vZFNkay52ZXJzaW9ufScpYCksd2luZG93LmJjTW9kU2RrLnZlcnNpb24hPT1vJiZhbGVydChgTW9kIFNESyB3YXJuaW5nOiBMb2FkaW5nIGRpZmZlcmVudCBidXQgY29tcGF0aWJsZSB2ZXJzaW9ucyAoJzEuMi4wJyB2cyAnJHt3aW5kb3cuYmNNb2RTZGsudmVyc2lvbn0nKVxcbk9uZSBvZiBtb2RzIHlvdSBhcmUgdXNpbmcgaXMgdXNpbmcgYW4gb2xkIHZlcnNpb24gb2YgU0RLLiBJdCB3aWxsIHdvcmsgZm9yIG5vdyBidXQgcGxlYXNlIGluZm9ybSBhdXRob3IgdG8gdXBkYXRlYCksd2luZG93LmJjTW9kU2RrKTtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgZXhwb3J0cyYmKE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuZGVmYXVsdD15KSx5fSgpO1xuIiwiaW1wb3J0IHsgTm90aWZ5UGxheWVyLCBTZW5kQWN0aW9uIH0gZnJvbSBcIi4uL3V0aWwvbWVzc2FnaW5nXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBCZWQoKTogdm9pZFxue1xuICAgIENvbW1hbmRDb21iaW5lKFt7XG4gICAgICAgIFRhZzogXCJiZWRcIixcbiAgICAgICAgRGVzY3JpcHRpb246IFwiQ3Jhd2wgaW50byBiZWQgd2l0aG91dCBuZWVkaW5nIGhhbmRzXCIsXG4gICAgICAgIEFjdGlvbjogKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKEludmVudG9yeUdldChQbGF5ZXIsIFwiSXRlbURldmljZXNcIikgIT09IG51bGwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgTm90aWZ5UGxheWVyKFwiVW5hYmxlIHRvIGNyYXdsIGludG8gYmVkXCIsIDIwMDAwKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBoYWlyQ29sb3IgPSBJbnZlbnRvcnlHZXQoUGxheWVyLCBcIkhhaXJGcm9udFwiKT8uQ29sb3IgYXMgSXRlbUNvbG9yO1xuICAgICAgICAgICAgSW52ZW50b3J5V2VhcihQbGF5ZXIsIFwiUGV0QmVkXCIsIFwiSXRlbURldmljZXNcIiwgW2hhaXJDb2xvclswXSwgXCJEZWZhdWx0XCIsIGhhaXJDb2xvcltoYWlyQ29sb3IubGVuZ3RoIC0gMV1dKTtcbiAgICAgICAgICAgIENoYXRSb29tQ2hhcmFjdGVySXRlbVVwZGF0ZShQbGF5ZXIsIFwiSXRlbURldmljZXNcIik7XG4gICAgICAgICAgICBTZW5kQWN0aW9uKFxuICAgICAgICAgICAgICAgIFwiU291cmNlQ2hhcmFjdGVyIGNyYXdscyBpbnRvIFByb25vdW5Qb3NzZXNzaXZlIGJlZC5cIixcbiAgICAgICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgW3sgU291cmNlQ2hhcmFjdGVyOiBQbGF5ZXIuTWVtYmVyTnVtYmVyIH0gYXMgU291cmNlQ2hhcmFjdGVyRGljdGlvbmFyeUVudHJ5XVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAgVGFnOiBcImJsYW5rZXRcIixcbiAgICAgICAgRGVzY3JpcHRpb246IFwiUHVsbCB0aGUgYmxhbmtldCBvdmVyIHlvdXJzZWxmXCIsXG4gICAgICAgIEFjdGlvbjogKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgLy8gYmxhbmt5XG4gICAgICAgICAgICBjb25zdCBiZWQgPSBJbnZlbnRvcnlHZXQoUGxheWVyLCBcIkl0ZW1EZXZpY2VzXCIpO1xuICAgICAgICAgICAgaWYgKGJlZD8uQXNzZXQuTmFtZSAhPT0gXCJQZXRCZWRcIilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBOb3RpZnlQbGF5ZXIoXCJVbmFibGUgdG8gcHVsbCB0aGUgYmxhbmtldCBvdmVyIHlvdXJzZWxmLlwiLCAyMDAwMCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIShiZWQuUHJvcGVydHk/LlR5cGVSZWNvcmQ/LnR5cGVkID09PSAwIHx8IGJlZC5Qcm9wZXJ0eT8uVHlwZVJlY29yZD8udHlwZWQgPT09IDEpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIE5vdGlmeVBsYXllcihcIlVuYWJsZSB0byBwdWxsIHRoZSBibGFua2V0IG92ZXIgeW91cnNlbGYuXCIsIDIwMDAwKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBiZWQuUHJvcGVydHkuVHlwZVJlY29yZC50eXBlZCA9IE51bWJlcighYmVkLlByb3BlcnR5LlR5cGVSZWNvcmQudHlwZWQpO1xuICAgICAgICAgICAgQ2hhdFJvb21DaGFyYWN0ZXJVcGRhdGUoUGxheWVyKTtcbiAgICAgICAgICAgIGlmIChiZWQuUHJvcGVydHkuVHlwZVJlY29yZC50eXBlZCA9PT0gMSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBTZW5kQWN0aW9uKFxuICAgICAgICAgICAgICAgICAgICBcIlNvdXJjZUNoYXJhY3RlciBwdWxscyBhIGJsYW5rZXQgb3ZlciBQcm9ub3VuT2JqZWN0LlwiLFxuICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIFt7IFNvdXJjZUNoYXJhY3RlcjogUGxheWVyLk1lbWJlck51bWJlciB9IGFzIFNvdXJjZUNoYXJhY3RlckRpY3Rpb25hcnlFbnRyeV1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFNlbmRBY3Rpb24oXG4gICAgICAgICAgICAgICAgICAgIFwiU291cmNlQ2hhcmFjdGVyIHJlbW92ZXMgdGhlIGJsYW5rZXQgZnJvbSBvbiB0b3Agb2YgUHJvbm91bk9iamVjdC5cIixcbiAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBbeyBTb3VyY2VDaGFyYWN0ZXI6IFBsYXllci5NZW1iZXJOdW1iZXIgfSBhcyBTb3VyY2VDaGFyYWN0ZXJEaWN0aW9uYXJ5RW50cnldXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1dKTtcbn1cbiIsImltcG9ydCB7IEJlZCB9IGZyb20gXCIuL2JlZFwiO1xuLy8gaW1wb3J0IHsgTG9nQ2hhdCB9IGZyb20gXCIuL2xvZ1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gQnVpbGRBbGxDb21tYW5kcygpOiB2b2lkXG57XG4gICAgQmVkKCk7XG4gICAgLy8gTG9nQ2hhdCgpO1xufVxuIiwiLy8gSWYgeW91IHdhbnQgdG8gbG9jYWxpemUgdGhpcyBhZGRvbiB0byB5b3VyIGxhbmd1YWdlIGZvciB5b3Vyc2VsZiBhbmQgb3RoZXJzLCBoZXJlIGlzIGhvd1xuLy8gMS4gQ3JlYXRlIGEgbmV3IGZpbGUgaW4gdGhlIGxvY2FsaXphdGlvbiBkaXJlY3RvcnkgbmFtZWQgW2xhbmd1YWdlXS5qc29uXG4vLyAyLiBDb3B5IGFuZCBwYXN0ZSB0aGUgY29udGVudHMgb2YgdGVtcGxhdGUuanNvbiBpbnRvIHlvdXIgbmV3IFtsYW5ndWFnZV0uanNvbiBmaWxlLlxuLy8gMy4gUmVwbGFjZSB0aGUgcmlnaHQoZW1wdHkpIHNpZGUgb2YgdGhlIHRleHQgd2l0aCB0aGUgdHJhbnNsYXRpb24gZnJvbSB0aGUgRW5nbGlzaCBvbiB0aGUgbGVmdC5cbi8vIDNiLiBEbyBub3QgdHJhbnNsYXRlIHdvcmRzIGxpa2UgU291cmNlQ2hhcmFjdGVyIGFuZCBTZXR0aW5nc0FycmF5LCBsZWF2ZSB0aG9zZSBhcyB0aGV5IHdpbGwgYmUgZmlsbGVkIGluIGJ5IHRoZSBjb2RlXG4vLyA0LiBJbXBvcnQgdGhlIGpzb24gZm9sbG93aW5nIHRoZSBleGFtcGxlIGJlbG93LCBtYWtlIHN1cmUgdGhhdCB0aGUgbmFtZSB5b3UgaW1wb3J0IHRoZSBmaWxlIGlzXG4vLyAgICB0aGUgc2FtZSB0aGF0IGRlZmluZWQgYnkgVHJhbnNsYXRpb25MYW5ndWFnZS4gRXg6IEVuZ2xpc2ggLT4gRU5cbi8vICAgIElmIHlvdSBhcmUgdW5zdXJlIG9mIGhvdyB0byBkbyB0aGlzIGJ1dCBzdGlsbCB3YW50IHRvIGNvbnRyaWJ1dGUsIHJlYWNoIG91dCBhbmQgSSB3aWxsIGF0dGVtcHQgdG8gaGVscC5cblxuaW1wb3J0IHRlbXBsYXRlIGZyb20gXCIuL3RlbXBsYXRlLmpzb25cIjtcbmltcG9ydCBSVSBmcm9tIFwiLi9SVS5qc29uXCI7XG5cbi8vIEV2ZXJ5dGhpbmcgaXMgZGVmYXVsdGVkIHRvIEVuZ2xpc2hcbmNvbnN0IHRyYW5zbGF0aW9ucyA9XG57XG4gICAgdGVtcGxhdGU6IHRlbXBsYXRlLFxuICAgIFJVOiBSVVxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIExvY2FsaXplZFRleHQodGV4dDogc3RyaW5nKTogc3RyaW5nXG57XG4gICAgY29uc3QgdHJhbnNsYXRlZFRleHQgPSB0cmFuc2xhdGlvbnM/LltUcmFuc2xhdGlvbkxhbmd1YWdlXT8uW3RleHRdO1xuICAgIGlmICghIXRyYW5zbGF0ZWRUZXh0ICYmIHRyYW5zbGF0ZWRUZXh0ICE9PSBcIlwiKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRyYW5zbGF0ZWRUZXh0O1xuICAgIH1cbiAgICByZXR1cm4gdGV4dDtcbn1cbiIsImltcG9ydCB7IFJlbW92ZUhvb2tzIH0gZnJvbSBcIi4uL3V0aWwvc2RrXCI7XG5pbXBvcnQgeyBDcmVhdGVBY3Rpdml0aWVzLCBSZW1vdmVBY3Rpdml0aWVzIH0gZnJvbSBcIi4uL3V0aWwvYWN0aXZpdGllc1wiO1xuaW1wb3J0IHsgQWRkRGF0YVN5bmNMaXN0ZW5lcnMsIEhvb2tlZE1lc3NhZ2UsIFJlbW92ZURhdGFTeW5jTGlzdGVuZXJzIH0gZnJvbSBcIi4uL3V0aWwvbWVzc2FnaW5nXCI7XG5cbmV4cG9ydCBlbnVtIE1vZHVsZVRpdGxlXG57XG4gICAgVW5rbm93biA9IFwiVW5rbm93blwiLFxuICAgIEF1dGhvcml0eSA9IFwiQXV0aG9yaXR5XCIsXG4gICAgQWN0aXZpdGllcyA9IFwiQWN0aXZpdGllc1wiLFxuICAgIENsaWNrZXIgPSBcIkNsaWNrZXJcIixcbiAgICBTZXR0aW5ncyA9IFwiU2V0dGluZ3NcIixcbiAgICBWaXJ0dWFsUGV0ID0gXCJWaXJ0dWFsUGV0XCIsXG4gICAgVmlydHVhbFBldEhVRCA9IFwiVmlydHVhbFBldEh1ZFwiLFxuICAgIFZpcnR1YWxQZXRDb25kaXRpb25zID0gXCJWaXJ0dWFsUGV0Q29uZGl0aW9uc1wiLFxuICAgIERhdGFTeW5jID0gXCJEYXRhU3luY1wiLFxuICAgIFByb2ZpbGUgPSBcIlByb2ZpbGVcIixcbiAgICBTZXR0aW5nc090aGVyID0gXCJTZXR0aW5nc090aGVyXCJcbn1cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIE1vZHVsZVxue1xuICAgIGdldCBUaXRsZSgpOiBNb2R1bGVUaXRsZVxuICAgIHtcbiAgICAgICAgcmV0dXJuIE1vZHVsZVRpdGxlLlVua25vd247XG4gICAgfVxuXG4gICAgZ2V0IEFjdGl2aXRpZXMoKTogQ3VzdG9tQWN0aXZpdHlbXVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIGdldCBTZXR0aW5ncygpOiBTZXR0aW5nW11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBnZXQgU3luY0xpc3RlbmVycygpOiBIb29rZWRNZXNzYWdlW11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBMb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIENyZWF0ZUFjdGl2aXRpZXModGhpcy5BY3Rpdml0aWVzKTtcbiAgICAgICAgQWRkRGF0YVN5bmNMaXN0ZW5lcnModGhpcy5TeW5jTGlzdGVuZXJzKTtcbiAgICB9XG5cbiAgICBVbmxvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgUmVtb3ZlSG9va3ModGhpcy5UaXRsZSk7XG4gICAgICAgIFJlbW92ZUFjdGl2aXRpZXModGhpcy5BY3Rpdml0aWVzKTtcbiAgICAgICAgUmVtb3ZlRGF0YVN5bmNMaXN0ZW5lcnModGhpcy5UaXRsZSk7XG4gICAgfVxuXG4gICAgUmVsb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuVW5sb2FkKCk7XG4gICAgICAgIHRoaXMuTG9hZCgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IE1vZHVsZSwgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi9fbW9kdWxlXCI7XG5pbXBvcnQgeyBGaW5kQ2hhcmFjdGVySW5Sb29tLCBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkgfSBmcm9tIFwiLi4vdXRpbC9tZXNzYWdpbmdcIjtcbmltcG9ydCB7IGFjdGl2aXR5SW1hZ2VzLCBhY3Rpdml0eVByZXJlcXVpc2l0ZXMsIGFjdGl2aXR5UmVjZWl2ZWQsIGFjdGl2aXR5VHJpZ2dlcnMgfSBmcm9tIFwiLi4vdXRpbC9hY3Rpdml0aWVzXCI7XG5pbXBvcnQgeyBIb29rRnVuY3Rpb24gfSBmcm9tIFwiLi4vdXRpbC9zZGtcIjtcbmltcG9ydCB7IEFDVElWSVRZX05BTUVfUFJFRklYLCBCRUxMX1NPVU5EIH0gZnJvbSBcIi4uL3V0aWwvY29uc3RhbnRzXCI7XG5cbmV4cG9ydCBjbGFzcyBBY3Rpdml0aWVzTW9kdWxlIGV4dGVuZHMgTW9kdWxlXG57XG4gICAgZ2V0IFRpdGxlKCk6IE1vZHVsZVRpdGxlXG4gICAge1xuICAgICAgICByZXR1cm4gTW9kdWxlVGl0bGUuQWN0aXZpdGllcztcbiAgICB9XG5cbiAgICBnZXQgQWN0aXZpdGllcygpOiBDdXN0b21BY3Rpdml0eVtdXG4gICAge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIE5hbWU6IFwiRmxpY2tCZWxsXCIsXG4gICAgICAgICAgICAgICAgTWF4UHJvZ3Jlc3M6IDUwLFxuICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogW1wiVXNlSGFuZHNcIl0sXG4gICAgICAgICAgICAgICAgQ3VzdG9tUHJlcmVxdWlzaXRlOiB7XG4gICAgICAgICAgICAgICAgICAgIE5hbWU6IFwiSGFzQmVsbFwiLFxuICAgICAgICAgICAgICAgICAgICBQcmVyZXF1aXNpdGU6IChfYWN0aW5nLCBhY3RlZCwgX2dyb3VwKSA9PlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSW52ZW50b3J5R2V0KGFjdGVkLCBcIkl0ZW1OZWNrXCIpPy5Bc3NldD8uTmFtZSA9PT0gXCJMZWF0aGVyQ29sbGFyQmVsbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHx8IEludmVudG9yeUdldChhY3RlZCwgXCJJdGVtTmVja0FjY2Vzc29yaWVzXCIpPy5Bc3NldD8uTmFtZSA9PT0gXCJDb2xsYXJCZWxsXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFRhcmdldHM6IFt7XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwOiBcIkl0ZW1OZWNrXCIsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkZsaWNrIEJlbGxcIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uU2VsZjogXCJTb3VyY2VDaGFyYWN0ZXIgZmxpY2tzIHRoZSBiZWxsIG9uIFByb25vdW5Qb3NzZXNzaXZlIGNvbGxhci5cIlxuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IFwiSXRlbU5lY2tcIixcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiRmxpY2sgQmVsbFwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25PdGhlcnM6IFwiU291cmNlQ2hhcmFjdGVyIGZsaWNrcyB0aGUgYmVsbCBvbiBUYXJnZXRDaGFyYWN0ZXIncyBjb2xsYXIuXCJcbiAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgICAgICBJbWFnZTogXCJBc3NldHNcXFxcRmVtYWxlM0RDR1xcXFxJdGVtTmVja0FjY2Vzc29yaWVzXFxcXFByZXZpZXdcXFxcQ29sbGFyQmVsbC5wbmdcIixcbiAgICAgICAgICAgICAgICBPblRyaWdnZXI6ICgpID0+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoUGxheWVyPy5BdWRpb1NldHRpbmdzPy5QbGF5SXRlbSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgQkVMTF9TT1VORC5wbGF5KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgT25SZWNlaXZlOiAoc291cmNlLCB0YXJnZXQsIF9ncm91cCwgX2RhdGEpID0+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2U/Lk1lbWJlck51bWJlciAhPT0gUGxheWVyLk1lbWJlck51bWJlclxuICAgICAgICAgICAgICAgICAgICAgICAgJiYgUGxheWVyLkF1ZGlvU2V0dGluZ3M/LlBsYXlJdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiAodGFyZ2V0Py5NZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIHx8ICFQbGF5ZXIuQXVkaW9TZXR0aW5ncy5QbGF5SXRlbVBsYXllck9ubHkpXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgQkVMTF9TT1VORC5wbGF5KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgTG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5Mb2FkKCk7XG5cbiAgICAgICAgLy8gUHJlcmVxdWlzaXRlIGhhbmRsaW5nXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIkFjdGl2aXR5Q2hlY2tQcmVyZXF1aXNpdGVcIiwgMSwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IFtwcmVyZXEsIGFjdGluZywgYWN0ZWQsIGdyb3VwXSA9IGFyZ3M7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoYWN0aXZpdHlQcmVyZXF1aXNpdGVzKS5pbmNsdWRlcyhwcmVyZXEpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBhY3Rpdml0eVByZXJlcXVpc2l0ZXNbcHJlcmVxXShhY3RpbmcsIGFjdGVkLCBncm91cCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQWN0aXZpdHkgb250cmlnZ2Vyc1xuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJTZXJ2ZXJTZW5kXCIsIDEsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXJnc1sxXSBhcyBTZXJ2ZXJDaGF0Um9vbU1lc3NhZ2U7XG4gICAgICAgICAgICBpZiAoYXJnc1swXSAhPT0gXCJDaGF0Um9vbUNoYXRcIiB8fCBkYXRhPy5UeXBlICE9PSBcIkFjdGl2aXR5XCIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlIC0gVFMgbm90IGZpbmRpbmcgdHlwZSBhdXRvbWF0aWNhbGx5LCBpdCBleGlzdHNcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2aXR5TmFtZSA9IGRhdGE/LkRpY3Rpb25hcnk/LmZpbmQoKHgpID0+IHguQWN0aXZpdHlOYW1lKT8uQWN0aXZpdHlOYW1lIGFzIHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChhY3Rpdml0eU5hbWU/LnN0YXJ0c1dpdGgoQUNUSVZJVFlfTkFNRV9QUkVGSVgpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRhdGE/LkRpY3Rpb25hcnk/LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBUYWc6IFwiTUlTU0lORyBBQ1RJVklUWSBERVNDUklQVElPTiBGT1IgS0VZV09SRCBcIiArIGRhdGEuQ29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgVGV4dDogQWN0aXZpdHlEaWN0aW9uYXJ5VGV4dChkYXRhLkNvbnRlbnQpXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoYWN0aXZpdHlUcmlnZ2VycykuaW5jbHVkZXMoYWN0aXZpdHlOYW1lKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldE51bWJlciA9IChkYXRhPy5EaWN0aW9uYXJ5Py5maW5kKCh4KSA9PiAoeCBhcyBUYXJnZXRDaGFyYWN0ZXJEaWN0aW9uYXJ5RW50cnkpLlRhcmdldENoYXJhY3RlcikgYXMgVGFyZ2V0Q2hhcmFjdGVyRGljdGlvbmFyeUVudHJ5KT8uVGFyZ2V0Q2hhcmFjdGVyID8/IC0xO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBDaGF0Um9vbUNoYXJhY3Rlcj8uZmluZCgoYykgPT4gYy5NZW1iZXJOdW1iZXIgPT09IHRhcmdldE51bWJlcik7XG4gICAgICAgICAgICAgICAgICAgIGFjdGl2aXR5VHJpZ2dlcnNbYWN0aXZpdHlOYW1lXSh0YXJnZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEFjdGl2aXR5IG9uIHJlY2VpdmVkXG4gICAgICAgIEhvb2tGdW5jdGlvbihNb2R1bGVUaXRsZS5DbGlja2VyLCBcIkNoYXRSb29tTWVzc2FnZVwiLCAwLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgbmV4dChhcmdzKTtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhcmdzWzBdO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGRhdGEuVHlwZSA9PT0gXCJBY3Rpdml0eVwiXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWN0aXZpdHlOYW1lID0gR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiQWN0aXZpdHlOYW1lXCIpIGFzIHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBpZiAoIWFjdGl2aXR5TmFtZT8uc3RhcnRzV2l0aChBQ1RJVklUWV9OQU1FX1BSRUZJWClcbiAgICAgICAgICAgICAgICAgIHx8ICEoYWN0aXZpdHlOYW1lIGluIGFjdGl2aXR5UmVjZWl2ZWQpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2VDaGFyID0gRmluZENoYXJhY3RlckluUm9vbShHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJTb3VyY2VDaGFyYWN0ZXJcIiksXG4gICAgICAgICAgICAgICAgICAgIHsgTWVtYmVyTnVtYmVyOiB0cnVlLCBOaWNrTmFtZTogZmFsc2UsIE5hbWU6IGZhbHNlIH0pID8/IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXRDaGFyID0gRmluZENoYXJhY3RlckluUm9vbShHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJUYXJnZXRDaGFyYWN0ZXJcIiksXG4gICAgICAgICAgICAgICAgICAgIHsgTWVtYmVyTnVtYmVyOiB0cnVlLCBOaWNrTmFtZTogZmFsc2UsIE5hbWU6IGZhbHNlIH0pID8/IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBjb25zdCBncm91cCA9IEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIkZvY3VzR3JvdXBOYW1lXCIpO1xuICAgICAgICAgICAgICAgIGFjdGl2aXR5UmVjZWl2ZWRbYWN0aXZpdHlOYW1lXShzb3VyY2VDaGFyLCB0YXJnZXRDaGFyLCBncm91cCwgZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIERyYXcgY3VzdG9tIGltYWdlcyBmb3IgYWN0aXZpdGllc1xuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJFbGVtZW50QnV0dG9uLkNyZWF0ZUZvckFjdGl2aXR5XCIsIDAsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBhY3Rpdml0eU5hbWUgPSBhcmdzWzFdLkFjdGl2aXR5Lk5hbWU7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoYWN0aXZpdHlJbWFnZXMpLmluY2x1ZGVzKGFjdGl2aXR5TmFtZSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKCFhcmdzWzRdKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYXJnc1s0XSA9IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhcmdzWzRdLmltYWdlID0gYWN0aXZpdHlJbWFnZXNbYWN0aXZpdHlOYW1lXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBVbmxvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3VwZXIuVW5sb2FkKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQVVUSE9SSVRZX0dST1VQX09QVElPTlMgfSBmcm9tIFwiLi4vdXRpbC9hdXRob3JpdHlcIjtcbmltcG9ydCB7IE1vZHVsZSwgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi9fbW9kdWxlXCI7XG5cbmNvbnN0IFBsYXllclA6IChDPzogQ2hhcmFjdGVyKSA9PiBNUEFSZWNvcmQgPSAoQzogQ2hhcmFjdGVyID0gUGxheWVyKSA9Plxue1xuICAgIHJldHVybiBDLk1QQT8uW01vZHVsZVRpdGxlLkF1dGhvcml0eV0gPz8ge307XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gSXNIYXJkY29yZU9uKEM6IENoYXJhY3Rlcik6IGJvb2xlYW5cbntcbiAgICByZXR1cm4gKEMuTVBBPy5bTW9kdWxlVGl0bGUuQXV0aG9yaXR5XS5oYXJkY29yZSBhcyBib29sZWFuIHwgdW5kZWZpbmVkKSA/PyBmYWxzZTtcbn07XG5cbnR5cGUgU2VsZkFjY2VzcyA9IGBzZWxmJHtrZXlvZiB0eXBlb2YgTW9kdWxlVGl0bGV9YDtcbnR5cGUgT3RoZXJzQWNjZXNzID0gYG90aGVycyR7a2V5b2YgdHlwZW9mIE1vZHVsZVRpdGxlfWA7XG5cbmV4cG9ydCBjbGFzcyBBdXRob3JpdHlNb2R1bGUgZXh0ZW5kcyBNb2R1bGVcbntcbiAgICBnZXQgVGl0bGUoKTogTW9kdWxlVGl0bGVcbiAgICB7XG4gICAgICAgIHJldHVybiBNb2R1bGVUaXRsZS5BdXRob3JpdHk7XG4gICAgfVxuXG4gICAgZ2V0IFNldHRpbmdzKCk6IFNldHRpbmdbXVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIm93bmVyc1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJcIixcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJPd25lciBtZW1iZXIgbnVtYmVyczsgU2VwZXJhdGVkIGJ5IGEgLFwiLFxuICAgICAgICAgICAgICAgIG1heENoYXJzOiAxMDI0LFxuICAgICAgICAgICAgICAgIHdpZHRoOiA0MDBcbiAgICAgICAgICAgIH0gYXMgVGV4dFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImJvdW5kQWNjZXNzU2VsZlwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWxsb3cgVGFyZ2V0Q2hhcmFjdGVyIGNoYW5naW5nIFRhcmdldFByb25vdW5Qb3NzZXNzaXZlIG93biBzZXR0aW5ncyB3aGlsZSBib3VuZFwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiYm91bmRBY2Nlc3NPdGhlcnNcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBUYXJnZXRDaGFyYWN0ZXIgY2hhbmdpbmcgdGhlIHNldHRpbmdzIG9mIG90aGVycyB3aGlsZSBib3VuZFwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwic2VsZkF1dGhvcml0eVwiIGFzIFNlbGZBY2Nlc3MsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBUYXJnZXRDaGFyYWN0ZXIgdG8gY2hhbmdlIFRhcmdldFByb25vdW5Qb3NzZXNzaXZlIEF1dGhvcml0eSBzZXR0aW5nc1wiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwib3RoZXJzQXV0aG9yaXR5XCIgYXMgT3RoZXJzQWNjZXNzLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwib3B0aW9uXCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IEFVVEhPUklUWV9HUk9VUF9PUFRJT05TLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIkNsdWJvd25lclwiLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkFsbG93IG90aGVycyB0byBjaGFuZ2UgVGFyZ2V0Q2hhcmFjdGVyJ3MgQXV0aG9yaXR5IHNldHRpbmdzXCIsXG4gICAgICAgICAgICAgICAgbG9vcDogZmFsc2VcbiAgICAgICAgICAgIH0gYXMgT3B0aW9uU2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwic2VsZlByb2ZpbGVcIiBhcyBTZWxmQWNjZXNzLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiBQbGF5ZXJQKEMpLm90aGVyc1Byb2ZpbGUgIT09IFwiU2VsZlwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkFsbG93IFRhcmdldENoYXJhY3RlciB0byBjaGFuZ2UgVGFyZ2V0UHJvbm91blBvc3Nlc3NpdmUgUHJvZmlsZSBzZXR0aW5nc1wiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwib3RoZXJzUHJvZmlsZVwiIGFzIE90aGVyc0FjY2VzcyxcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm9wdGlvblwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJDbHVib3duZXJcIixcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBvdGhlcnMgdG8gY2hhbmdlIFRhcmdldENoYXJhY3RlcidzIFByb2ZpbGUgc2V0dGluZ3NcIixcbiAgICAgICAgICAgICAgICBsb29wOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBvblNldChDKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgUGxheWVyUChDKS5zZWxmUHJvZmlsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBhcyBPcHRpb25TZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJzZWxmQ2xpY2tlclwiIGFzIFNlbGZBY2Nlc3MsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBUYXJnZXRDaGFyYWN0ZXIgdG8gY2hhbmdlIFRhcmdldFByb25vdW5Qb3NzZXNzaXZlIENsaWNrZXIgc2V0dGluZ3NcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIm90aGVyc0NsaWNrZXJcIiBhcyBPdGhlcnNBY2Nlc3MsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJvcHRpb25cIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogQVVUSE9SSVRZX0dST1VQX09QVElPTlMsXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiQ2x1Ym93bmVyXCIsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWxsb3cgb3RoZXJzIHRvIGNoYW5nZSBUYXJnZXRDaGFyYWN0ZXIncyBDbGlja2VyIHNldHRpbmdzXCIsXG4gICAgICAgICAgICAgICAgbG9vcDogZmFsc2VcbiAgICAgICAgICAgIH0gYXMgT3B0aW9uU2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwic2VsZlZpcnR1YWxQZXRcIiBhcyBTZWxmQWNjZXNzLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWxsb3cgVGFyZ2V0Q2hhcmFjdGVyIHRvIGNoYW5nZSBUYXJnZXRQcm9ub3VuUG9zc2Vzc2l2ZSBWaXJ0dWFsIFBldCBzZXR0aW5nc1wiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwib3RoZXJzVmlydHVhbFBldFwiIGFzIE90aGVyc0FjY2VzcyxcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm9wdGlvblwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJDbHVib3duZXJcIixcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBvdGhlcnMgdG8gY2hhbmdlIFRhcmdldENoYXJhY3RlcidzIFZpcnR1YWwgUGV0IHNldHRpbmdzXCIsXG4gICAgICAgICAgICAgICAgbG9vcDogZmFsc2VcbiAgICAgICAgICAgIH0gYXMgT3B0aW9uU2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwic2VsZlZpcnR1YWxQZXRDb25kaXRpb25zXCIgYXMgU2VsZkFjY2VzcyxcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkFsbG93IFRhcmdldENoYXJhY3RlciB0byBjaGFuZ2UgVGFyZ2V0UHJvbm91blBvc3Nlc3NpdmUgVmlydHVhbCBQZXQgQ29uZGl0aW9ucyBzZXR0aW5nc1wiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwib3RoZXJzVmlydHVhbFBldENvbmRpdGlvbnNcIiBhcyBPdGhlcnNBY2Nlc3MsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJvcHRpb25cIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogQVVUSE9SSVRZX0dST1VQX09QVElPTlMsXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiQ2x1Ym93bmVyXCIsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWxsb3cgb3RoZXJzIHRvIGNoYW5nZSBUYXJnZXRDaGFyYWN0ZXIncyBWaXJ0dWFsIFBldCBDb25kaXRpb25zIHNldHRpbmdzXCIsXG4gICAgICAgICAgICAgICAgbG9vcDogZmFsc2VcbiAgICAgICAgICAgIH0gYXMgT3B0aW9uU2V0dGluZ1xuICAgICAgICBdO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IGJjeEFQSSwgYmN4Rm91bmQsIEhvb2tGdW5jdGlvbiB9IGZyb20gXCIuLi91dGlsL3Nka1wiO1xuaW1wb3J0IHsgR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5LCBSZW1vdmVPT0NDb250ZW50RnJvbU1lc3NhZ2UgfSBmcm9tIFwiLi4vdXRpbC9tZXNzYWdpbmdcIjtcbmltcG9ydCB7IEF1dGhvcml0eUdyb3VwLCBJc01lbWJlck51bWJlckluQXV0aEdyb3VwIH0gZnJvbSBcIi4uL3V0aWwvYXV0aG9yaXR5XCI7XG5pbXBvcnQgeyBNb2R1bGUsIE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4vX21vZHVsZVwiO1xuaW1wb3J0IHsgSXNIYXJkY29yZU9uIH0gZnJvbSBcIi4vcHJvZmlsZVwiO1xuXG4vLyBDbGlja2VyIHNvdW5kcyB0byBwbGF5XG4vLyBBbiBhcnJheSBvZiBhdWRpbyBmaWxlcywgMSBjbGljayBpbiBpbmRleCAwLCBuKzEgY2xpY2tzIGluIGluZGV4IG5cbmNvbnN0IEFMTF9DTElDS1M6IEhUTUxBdWRpb0VsZW1lbnRbXSA9XG5bXG4gICAgbmV3IEF1ZGlvKFwiaHR0cHM6Ly9tZWRpYS5zb3VuZGdhc20ubmV0L3NvdW5kcy9kZjMzMzE2YmVjN2JjMDM5MDI4NjBkMjFmYjRiODgyNzQ2NmYyYmFkLm00YVwiKSxcbiAgICBuZXcgQXVkaW8oXCJodHRwczovL21lZGlhLnNvdW5kZ2FzbS5uZXQvc291bmRzL2ZhNDliMTBkYWQzZTEyMDJkZTA5Njg1OWIzMzlkY2ZjNWVhYjkwYTUubTRhXCIpLFxuICAgIG5ldyBBdWRpbyhcImh0dHBzOi8vbWVkaWEuc291bmRnYXNtLm5ldC9zb3VuZHMvYjI1MTc3YTZhOTJkNWE3NGQwNDdhOWQ3N2E4MDdmMmQxZWQyOGM3MS5tNGFcIilcbl07XG5cbi8qKlxuICogR2V0IHRoZSBDbGlja2VyIHNldHRpbmdzIG9mIHRoZSBQbGF5ZXJcbiAqL1xuY29uc3QgUGxheWVyQzogKEM/OiBDaGFyYWN0ZXIpID0+IE1QQVJlY29yZCA9IChDOiBDaGFyYWN0ZXIgPSBQbGF5ZXIpID0+XG57XG4gICAgcmV0dXJuIEMuTVBBPy5bTW9kdWxlVGl0bGUuQ2xpY2tlcl0gPz8ge307XG59O1xuXG4vKipcbiAqIEdldCB0aGUgdG90YWwgbnVtYmVyIG9mIGNsaWNrcyBpbiBhIHN0cmluZ1xuICovXG5mdW5jdGlvbiBDbGlja0NvdW50KHN0cjogc3RyaW5nID0gXCJcIik6IG51bWJlclxue1xuICAgIGxldCB0b3RhbENsaWNrcyA9IDA7XG4gICAgKFBsYXllckMoKS50cmlnZ2VycyBhcyBzdHJpbmcpXG4gICAgICAgIC5zcGxpdChcIixcIilcbiAgICAgICAgLm1hcCgoc3RyOiBzdHJpbmcpID0+IHN0ci50cmltKCkpXG4gICAgICAgIC5maWx0ZXIoKHN0cikgPT4gc3RyICE9PSBcIlwiKVxuICAgICAgICAuZm9yRWFjaCgodHJpZ2dlcikgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgdG90YWxDbGlja3MgKz0gc3RyLnRvTG9jYWxlTG93ZXJDYXNlKCkubWF0Y2gobmV3IFJlZ0V4cCh0cmlnZ2VyLnRvTG9jYWxlTG93ZXJDYXNlKCksIFwiZ1wiKSk/Lmxlbmd0aCA/PyAwO1xuICAgICAgICB9KTtcbiAgICByZXR1cm4gdG90YWxDbGlja3M7XG59XG5cbi8qKlxuICogUGxheSBjbGlja3MgdG8gdGhlIHVzZXJcbiAqL1xuZnVuY3Rpb24gUGxheUNsaWNrZXJTb3VuZChudW1iZXJPZkNsaWNrczogbnVtYmVyID0gMCk6IHZvaWRcbntcbiAgICBpZiAoXG4gICAgICAgIGlzTmFOKG51bWJlck9mQ2xpY2tzKVxuICAgICAgICB8fCBudW1iZXJPZkNsaWNrcyA8PSAwXG4gICAgICAgIHx8ICFQbGF5ZXJDKCkuZW5hYmxlZFxuICAgIClcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBBTExfQ0xJQ0tTW01hdGgubWluKG51bWJlck9mQ2xpY2tzIC0gMSwgQUxMX0NMSUNLUy5sZW5ndGggLSAxKV0ucGxheSgpO1xufVxuXG5sZXQgYmN4SG9va2VkID0gZmFsc2U7XG5mdW5jdGlvbiBIb29rQkNYQ2xpY2tlcigpOiB2b2lkXG57XG4gICAgaWYgKGJjeEZvdW5kKCkgJiYgIWJjeEhvb2tlZClcbiAgICB7XG4gICAgICAgIGJjeEFQSSgpPy5vbj8uKFwiYmN4TG9jYWxNZXNzYWdlXCIsIChkYXRhOiBhbnkpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBkYXRhPy5tZXNzYWdlIGFzIHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNvbnN0IHByZWZpeCA9IFwiW1ZvaWNlXSBcIjtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBQbGF5ZXJDKCkuZW5hYmxlZFxuICAgICAgICAgICAgICAgICYmIFBsYXllckMoKS5iY3hWb2ljZVxuICAgICAgICAgICAgICAgICYmIG1lc3NhZ2U/LnN0YXJ0c1dpdGgocHJlZml4KVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFBsYXlDbGlja2VyU291bmQoQ2xpY2tDb3VudChtZXNzYWdlLnN1YnN0cmluZyhwcmVmaXgubGVuZ3RoKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgYmN4SG9va2VkID0gdHJ1ZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDbGlja2VyTW9kdWxlIGV4dGVuZHMgTW9kdWxlXG57XG4gICAgLy8gQkNYIGhvb2sgb25seSBsb2FkcyBvbmNlLCB1bmtub3duIGlmIGNhbiB1bmhvb2sgZm9yIFVubG9hZCgpXG4gICAgaGFzQmVlbkxvYWRlZCA9IGZhbHNlO1xuXG4gICAgZ2V0IFRpdGxlKCk6IE1vZHVsZVRpdGxlXG4gICAge1xuICAgICAgICByZXR1cm4gTW9kdWxlVGl0bGUuQ2xpY2tlcjtcbiAgICB9XG5cbiAgICBnZXQgQWN0aXZpdGllcygpOiBDdXN0b21BY3Rpdml0eVtdXG4gICAge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIE5hbWU6IFwiQ2xpY2tlcjFcIixcbiAgICAgICAgICAgICAgICBNYXhQcm9ncmVzczogNTAsXG4gICAgICAgICAgICAgICAgUHJlcmVxdWlzaXRlOiBbXCJVc2VIYW5kc1wiXSxcbiAgICAgICAgICAgICAgICBDdXN0b21QcmVyZXF1aXNpdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgTmFtZTogXCJIb2xkaW5nQ2xpY2tlclwiLFxuICAgICAgICAgICAgICAgICAgICBQcmVyZXF1aXNpdGU6IChhY3RpbmcsIF9hY3RlZCwgX2dyb3VwKSA9PlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSW52ZW50b3J5R2V0KGFjdGluZywgXCJJdGVtSGFuZGhlbGRcIik/LkFzc2V0Py5OYW1lPy50b0xvY2FsZUxvd2VyQ2FzZSgpPy5pbmNsdWRlcyhcInJlbW90ZVwiKSA/PyBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgVGFyZ2V0czogW3tcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IFwiSXRlbUhhbmRzXCIsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkNsaWNrIE9uY2VcIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uU2VsZjogXCJTb3VyY2VDaGFyYWN0ZXIgcHJlc3NlcyB0aGUgYnV0dG9uIG9uIFByb25vdW5Qb3NzZXNzaXZlIGNsaWNrZXIuXCJcbiAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgICAgICBJbWFnZTogXCJJY29ucy9BdWRpb09uLnBuZ1wiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgTmFtZTogXCJDbGlja2VyMlwiLFxuICAgICAgICAgICAgICAgIE1heFByb2dyZXNzOiA1MCxcbiAgICAgICAgICAgICAgICBQcmVyZXF1aXNpdGU6IFtcIlVzZUhhbmRzXCJdLFxuICAgICAgICAgICAgICAgIEN1c3RvbVByZXJlcXVpc2l0ZToge1xuICAgICAgICAgICAgICAgICAgICBOYW1lOiBcIkhvbGRpbmdDbGlja2VyXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFRhcmdldHM6IFt7XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwOiBcIkl0ZW1IYW5kc1wiLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJDbGljayBUd2ljZVwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25TZWxmOiBcIlNvdXJjZUNoYXJhY3RlciBwcmVzc2VzIHRoZSBidXR0b24gb24gUHJvbm91blBvc3Nlc3NpdmUgY2xpY2tlciB0d2ljZS5cIlxuICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgICAgIEltYWdlOiBcIkljb25zL0F1ZGlvT24ucG5nXCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBOYW1lOiBcIkNsaWNrZXIzXCIsXG4gICAgICAgICAgICAgICAgTWF4UHJvZ3Jlc3M6IDUwLFxuICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogW1wiVXNlSGFuZHNcIl0sXG4gICAgICAgICAgICAgICAgQ3VzdG9tUHJlcmVxdWlzaXRlOiB7XG4gICAgICAgICAgICAgICAgICAgIE5hbWU6IFwiSG9sZGluZ0NsaWNrZXJcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgVGFyZ2V0czogW3tcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IFwiSXRlbUhhbmRzXCIsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkNsaWNrIFRocmljZVwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25TZWxmOiBcIlNvdXJjZUNoYXJhY3RlciBwcmVzc2VzIHRoZSBidXR0b24gb24gUHJvbm91blBvc3Nlc3NpdmUgY2xpY2tlciB0aHJlZSB0aW1lcy5cIlxuICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgICAgIEltYWdlOiBcIkljb25zL0F1ZGlvT24ucG5nXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBnZXQgU2V0dGluZ3MoKTogU2V0dGluZ1tdXG4gICAge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiZW5hYmxlZFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhSXNIYXJkY29yZU9uKEMpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJFbmFibGUgYXVkaXRvcnkgY2xpY2tlclwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwidHJpZ2dlcnNcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllckMoQykuZW5hYmxlZCxcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJ+Y2xpY2t+XCIsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiUGhyYXNlcyB0aGF0IHRyaWdnZXIgdGhlIGNsaWNrOyBTZXBhcmF0ZSBwaHJhc2VzIHdpdGggYSBjb21tYVwiLFxuICAgICAgICAgICAgICAgIHdpZHRoOiAzODQsXG4gICAgICAgICAgICAgICAgbWF4Q2hhcnM6IG51bGxcbiAgICAgICAgICAgIH0gYXMgVGV4dFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNlbGZBdXRoZWRcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJDKEMpLmVuYWJsZWQgJiYgUGxheWVyQyhDKS5hdXRoZWRHcm91cCAhPT0gXCJTZWxmXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWxsb3cgeW91ciBvd24gY2hhdCwgZW1vdGVzLCAmIGFjdGlvbnMgdG8gdHJpZ2dlciB0aGUgY2xpY2tlclwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiYXV0aGVkR3JvdXBcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm9wdGlvblwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyQyhDKS5lbmFibGVkLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIkZyaWVuZHNcIiBhcyBBdXRob3JpdHlHcm91cCxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBbXCJQdWJsaWNcIiwgXCJGcmllbmRzXCIsIFwiV2hpdGVsaXN0XCIsIFwiTG92ZXJzXCIsIFwiT3duZXJzXCIsIFwiQ2x1Ym93bmVyXCIsIFwiU2VsZlwiXSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJXaG8gd2lsbCBiZSBhYmxlIHRvIHRyaWdnZXIgdGhlIGNsaWNrZXJcIixcbiAgICAgICAgICAgICAgICBsb29wOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBvblNldChDKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFBsYXllckMoQykuYXV0aGVkR3JvdXAgPT09IFwiU2VsZlwiKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBQbGF5ZXJDKEMpLnNlbGZBdXRoZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBhcyBPcHRpb25TZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJiY3hWb2ljZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllckMoQykuZW5hYmxlZCAmJiBiY3hGb3VuZCgpICYmICFJc0hhcmRjb3JlT24oQyksXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWxsb3cgQkNYIExpc3RlbiB0byBteSB2b2ljZSBydWxlIHRvIHRyaWdnZXIgdGhlIGNsaWNrZXI7IFJlcXVpcmVzIEJDWFwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZ1xuICAgICAgICBdO1xuICAgIH1cblxuICAgIExvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3VwZXIuTG9hZCgpO1xuXG4gICAgICAgIC8vIENoYXQsIHdoaXNwZXIsIGVtb3RlLCBhbmQgYWN0aW9uIHRyaWdnZXJzXG4gICAgICAgIEhvb2tGdW5jdGlvbihNb2R1bGVUaXRsZS5DbGlja2VyLCBcIkNoYXRSb29tTWVzc2FnZVwiLCAwLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGFyZ3NbMF07XG4gICAgICAgICAgICAvLyBJZiBjbGlja2VyIGlzIG5vdCBlbmFibGVkIG9yIGludmFsaWQgZGF0YSwgc2tpcFxuICAgICAgICAgICAgLy8gTWVzc2FnZSBzZW5kZXIgbm90IGF1dGhlZCwgc2tpcFxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICFQbGF5ZXJDKCkuZW5hYmxlZFxuICAgICAgICAgICAgICAgIHx8ICFhcmdzWzBdPy5UeXBlXG4gICAgICAgICAgICAgICAgfHwgIWFyZ3NbMF0/LkNvbnRlbnRcbiAgICAgICAgICAgICAgICB8fCAhYXJnc1swXT8uU2VuZGVyXG4gICAgICAgICAgICAgICAgfHwgIUlzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAoZGF0YS5TZW5kZXIhLCBQbGF5ZXJDKCkuYXV0aGVkR3JvdXAgYXMgQXV0aG9yaXR5R3JvdXAsIFBsYXllckMoKS5zZWxmQXV0aGVkIGFzIGJvb2xlYW4pKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgY2xpY2tzOiBudW1iZXIgPSAwO1xuICAgICAgICAgICAgLy8gQ291bnQgdGhlIGNsaWNrcyBpbiBhbiBlbW90ZSBvciBjaGF0XG4gICAgICAgICAgICBpZiAoZGF0YS5UeXBlID09IFwiQ2hhdFwiIHx8IGRhdGEuVHlwZSA9PSBcIkVtb3RlXCIgfHwgZGF0YS5UeXBlID09IFwiV2hpc3BlclwiKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNsaWNrcyA9IENsaWNrQ291bnQoUmVtb3ZlT09DQ29udGVudEZyb21NZXNzYWdlKGRhdGEuQ29udGVudCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQ291bnQgdGhlIGNsaWNrcyBpbiBhbiBhY3Rpb24sIChzdXBwb3J0IGN1c3RvbSBhY3Rpb25zKVxuICAgICAgICAgICAgaWYgKGRhdGEuVHlwZSA9PSBcIkFjdGlvblwiKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIEJlZXBzXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuQ29udGVudCA9PSBcIkJlZXBcIilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrcyA9IENsaWNrQ291bnQoKGRhdGE/LkRpY3Rpb25hcnk/LmZpbHRlcigoeCkgPT4gKHggYXMgVGV4dERpY3Rpb25hcnlFbnRyeSkuVGFnID09IFwiQmVlcFwiKVswXSBhcyBUZXh0RGljdGlvbmFyeUVudHJ5KT8uVGV4dCA/PyBcIlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gTUJDSCBhY3Rpb25zXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZGF0YS5EaWN0aW9uYXJ5Py5yZWR1Y2UoKGFjYywgY3VycikgPT4gYWNjIHx8ICgoY3VyciBhcyBhbnkpLlRhZyA9PT0gXCJNSVNTSU5HIFRFWFQgSU4gXFxcIkludGVyZmFjZS5jc3ZcXFwiOiBcIiAmJiAoY3VyciBhcyBhbnkpLlRleHQgPT09IFwiXFx1MjAwY1wiKSwgZmFsc2UpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tzID0gQ2xpY2tDb3VudChkYXRhLkNvbnRlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBCQ1ggYWN0aW9uc1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrcyA9IENsaWNrQ291bnQoKGRhdGE/LkRpY3Rpb25hcnk/LmZpbHRlcigoeCkgPT4gKHggYXMgVGV4dERpY3Rpb25hcnlFbnRyeSkuVGFnID09IGBNSVNTSU5HIFRFWFQgSU4gXCJJbnRlcmZhY2UuY3N2XCI6ICR7ZGF0YT8uQ29udGVudH1gKVswXSBhcyBUZXh0RGljdGlvbmFyeUVudHJ5KT8uVGV4dCA/PyBcIlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFBsYXkgdGhlIGNsaWNrcyBpZiBuZWVkZWRcbiAgICAgICAgICAgIFBsYXlDbGlja2VyU291bmQoY2xpY2tzKTtcbiAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBIYW5kIGNsaWNrZXIgYWN0aXZpdHkgdHJpZ2dlclxuICAgICAgICBIb29rRnVuY3Rpb24oTW9kdWxlVGl0bGUuQ2xpY2tlciwgXCJDaGF0Um9vbU1lc3NhZ2VcIiwgMCwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIG5leHQoYXJncyk7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXJnc1swXTtcbiAgICAgICAgICAgIC8vIEZvciBzb21lIHJlYXNvbiBfYS5maW5kIGlzIG5vdCBkZWZpbmVkXG4gICAgICAgICAgICAvLyBJIGRvbid0IGtub3cgd2h5LCBvciB3aHkgbm90XG4gICAgICAgICAgICAvLyBCdWcgaXMgU2NocsO2ZGluZ2VyJ3MgYnVnLCBpdCBvbmx5IGV4aXN0cyB3aGVuIEkgZG9uJ3Qgb2JzZXJ2ZSBpdFxuICAgICAgICAgICAgLy8gTG9nZ2luZyB0aGUgZGF0YSBvYmplY3QgYW5kIHRoZSBidWcgdmFuaXNoZXMuLi5cbiAgICAgICAgICAgIC8vIEVkaXQ6IE1hZGUgZnJhbWV3b3JrIHRvIGhhbmRsZSBmaW5kaW5nIGF0dHJpYnV0ZXMgZnJvbSBDaGF0TWVzc2FnZURpY3Rpb25hcnkuIE5vIGlzc3Vlcy4uLi4uIHNvIGZhci4uLlxuICAgICAgICAgICAgY29uc3QgYWN0aXZpdHlOYW1lID0gR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiQWN0aXZpdHlOYW1lXCIpIGFzIHN0cmluZztcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBQbGF5ZXJDKCkuZW5hYmxlZFxuICAgICAgICAgICAgICAgICYmIGRhdGEuVHlwZSA9PT0gXCJBY3Rpdml0eVwiXG4gICAgICAgICAgICAgICAgJiYgYWN0aXZpdHlOYW1lPy5zdGFydHNXaXRoKFwiTVBBX0NsaWNrZXJcIilcbiAgICAgICAgICAgICAgICAmJiBJc01lbWJlck51bWJlckluQXV0aEdyb3VwKGRhdGEuU2VuZGVyISwgUGxheWVyQygpLmF1dGhlZEdyb3VwIGFzIEF1dGhvcml0eUdyb3VwLCBQbGF5ZXJDKCkuc2VsZkF1dGhlZCBhcyBib29sZWFuKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFBsYXlDbGlja2VyU291bmQoTnVtYmVyKGFjdGl2aXR5TmFtZS5zbGljZSgtMSkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gSG9vayBpbnRvIEJDWCBsaXN0ZW4gdG8gdm9pY2UsIG1heSBub3QgYmUgbG9hZGVkIHJpZ2h0IGF3YXksIHdhaXQgMTUgc2Vjb25kc1xuICAgICAgICBpZiAoIXRoaXMuaGFzQmVlbkxvYWRlZClcbiAgICAgICAge1xuICAgICAgICAgICAgSG9va0JDWENsaWNrZXIoKTtcbiAgICAgICAgICAgIGNvbnN0IGludmVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoYmN4SG9va2VkKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnZlcnZhbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIEhvb2tCQ1hDbGlja2VyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgNjAwMDApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaGFzQmVlbkxvYWRlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgVW5sb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLlVubG9hZCgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEhvb2tGdW5jdGlvbiB9IGZyb20gXCIuLi91dGlsL3Nka1wiO1xuaW1wb3J0IHsgTW9kdWxlLCBNb2R1bGVUaXRsZSB9IGZyb20gXCIuL19tb2R1bGVcIjtcbmltcG9ydCB7IEZpbmRDaGFyYWN0ZXJJblJvb20sIEdldE1QQU1lc3NhZ2VGcm9tQ2hhdCwgSG9va2VkTWVzc2FnZSwgaG9va2VkTWVzc2FnZXMsIE1QQU1lc3NhZ2VDb250ZW50LCBTZW5kTVBBTWVzc2FnZSB9IGZyb20gXCIuLi91dGlsL21lc3NhZ2luZ1wiO1xuXG4vKipcbiAqIFN5bmMgYWxsIG9mIHlvdXIgY3VycmVudCBzZXR0aW5ncyB3aXRoIGV2ZXJ5b25lIGVsc2VcbiAqIEBwYXJhbSByZXBseSAtIElmIHdlIHdhbnQgb3RoZXJzIHRvIHNoYXJlIHRoZWlyIHNldHRpbmdzIGJhY2tcbiAqIEBwYXJhbSB0YXJnZXQgLSBTaGFyZSBvbmx5IHRvIHRoaXMgb25lIE1lbWJlck51bWJlclxuICovXG5leHBvcnQgZnVuY3Rpb24gU2V0dGluZ1N5bmMocmVwbHk6IGJvb2xlYW4gPSBmYWxzZSwgdGFyZ2V0PzogbnVtYmVyKTogdm9pZFxue1xuICAgIFNlbmRNUEFNZXNzYWdlKHtcbiAgICAgICAgbWVzc2FnZTogXCJTZXR0aW5nU3luY1wiLFxuICAgICAgICBzZXR0aW5nczogUGxheWVyLk1QQSxcbiAgICAgICAgcmVwbHk6IHJlcGx5XG4gICAgfSwgdGFyZ2V0KTtcbn1cblxuLyoqXG4gKiBTeW5jIGFsbCBvZiB5b3VyIGN1cnJlbnQgc2V0dGluZ3Mgb2YgYSBnaXZlbiBjYXRlZ29yeSB3aXRoIG90aGVyc1xuICogQHBhcmFtIGNhdGVnb3J5IC0gV2hpY2ggTW9kdWxlVGl0bGUgY2F0ZWdvcnkgdG8gc2hhcmVcbiAqIEBwYXJhbSB0YXJnZXQgLSBTaGFyZSBvbmx5IHRvIHRoaXMgb25lIE1lbWJlck51bWJlclxuICovXG5leHBvcnQgZnVuY3Rpb24gQ2F0ZWdvcnlTeW5jKGNhdGVnb3J5OiBNb2R1bGVUaXRsZSwgdGFyZ2V0PzogbnVtYmVyKTogdm9pZFxue1xuICAgIFNlbmRNUEFNZXNzYWdlKHtcbiAgICAgICAgbWVzc2FnZTogXCJDYXRlZ29yeVN5bmNcIixcbiAgICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5LFxuICAgICAgICB2YWx1ZTogUGxheWVyLk1QQVtjYXRlZ29yeV1cbiAgICB9LCB0YXJnZXQpO1xufVxuXG4vKipcbiAqIFN5bmMgb25seSBhIHNpbmdsZSByZWNvcmQgZnJvbSBhIGdpdmVuIGNhdGVnb3J5IHdpdGggb3RoZXJzXG4gKiBAcGFyYW0gY2F0ZWdvcnkgLSBXaGljaCBNb2R1bGVUaXRsZSBjYXRlZ29yeSB0byBzaGFyZVxuICogQHBhcmFtIHJlY29yZCAtIFJlY29yZCB3aXRoaW4gTW9kdWxlVGl0bGUgeW91IHdhbnQgdG8gc2hhcmVcbiAqIEBwYXJhbSB0YXJnZXQgLSBTaGFyZSBvbmx5IHRvIHRoaXMgb25lIE1lbWJlck51bWJlclxuICovXG5leHBvcnQgZnVuY3Rpb24gUmVjb3JkU3luYyhjYXRlZ29yeTogTW9kdWxlVGl0bGUsIHJlY29yZDogc3RyaW5nLCB0YXJnZXQ/OiBudW1iZXIpOiB2b2lkXG57XG4gICAgLy8gREVQUkVDSUFURUQsIERFTEVURSBBRlRFUiBTVEFCTEUgUFVTSCBNQURFIFYwLjQuNFxuICAgIC8vIEN1cnJlbnRseSBoZXJlIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSB3aXRoIGRldiBhbmQgc3RhYmxlXG4gICAgU2VuZE1QQU1lc3NhZ2Uoe1xuICAgICAgICBtZXNzYWdlOiBcIlJlY29yZFN5bmNcIixcbiAgICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5LFxuICAgICAgICByZWNvcmQ6IHJlY29yZCxcbiAgICAgICAgdmFsdWU6IFBsYXllci5NUEFbY2F0ZWdvcnldW3JlY29yZF1cbiAgICB9LCB0YXJnZXQpO1xuXG4gICAgUmVjb3Jkc1N5bmMoW3sgY2F0ZWdvcnk6IGNhdGVnb3J5LCByZWNvcmQ6IHJlY29yZCB9XSwgdGFyZ2V0KTtcbn1cblxudHlwZSBUcmFuc21pdFJlY29yZHMgPSB7IGNhdGVnb3J5OiBNb2R1bGVUaXRsZTsgcmVjb3JkOiBzdHJpbmc7IHZhbHVlPzogYW55IH1bXTtcbi8qKlxuICogU3luYyBtdWx0aXBsZSByZWNvcmRzIGZyb20gYW55IGdpdmVuIGNhdGVnb3J5IHdpdGggb3RoZXJzXG4gKiBAcGFyYW0gcmVjb3Jkcy5jYXRlZ29yeSAtIFdoaWNoIE1vZHVsZVRpdGxlIGNhdGVnb3J5IHRvIHNoYXJlXG4gKiBAcGFyYW0gcmVjb3Jkcy5yZWNvcmQgLSBSZWNvcmQgd2l0aGluIE1vZHVsZVRpdGxlIHlvdSB3YW50IHRvIHNoYXJlXG4gKiBAcGFyYW0gdGFyZ2V0IC0gU2hhcmUgb25seSB0byB0aGlzIG9uZSBNZW1iZXJOdW1iZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFJlY29yZHNTeW5jKHJlY29yZHM6IFRyYW5zbWl0UmVjb3JkcywgdGFyZ2V0PzogbnVtYmVyKTogdm9pZFxue1xuICAgIGZvciAoY29uc3QgcmVjb3JkIG9mIHJlY29yZHMpXG4gICAge1xuICAgICAgICByZWNvcmQudmFsdWUgPSBQbGF5ZXIuTVBBW3JlY29yZC5jYXRlZ29yeV1bcmVjb3JkLnJlY29yZF07XG4gICAgfVxuICAgIFNlbmRNUEFNZXNzYWdlKHtcbiAgICAgICAgbWVzc2FnZTogXCJSZWNvcmRzU3luY1wiLFxuICAgICAgICByZWNvcmRzOiByZWNvcmRzXG4gICAgfSwgdGFyZ2V0KTtcbn1cblxuZXhwb3J0IGNsYXNzIERhdGFTeW5jTW9kdWxlIGV4dGVuZHMgTW9kdWxlXG57XG4gICAgZ2V0IFRpdGxlKCk6IE1vZHVsZVRpdGxlXG4gICAge1xuICAgICAgICByZXR1cm4gTW9kdWxlVGl0bGUuRGF0YVN5bmM7XG4gICAgfVxuXG4gICAgZ2V0IFN5bmNMaXN0ZW5lcnMoKTogSG9va2VkTWVzc2FnZVtdXG4gICAge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG1vZHVsZTogTW9kdWxlVGl0bGUuRGF0YVN5bmMsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJTZXR0aW5nU3luY1wiLFxuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKHNlbmRlcjogQ2hhcmFjdGVyLCBjb250ZW50OiBNUEFNZXNzYWdlQ29udGVudCk6IHZvaWRcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHNlbmRlci5NUEEgPSBjb250ZW50LnNldHRpbmdzO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudC5yZXBseSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgU2V0dGluZ1N5bmMoZmFsc2UsIHNlbmRlci5NZW1iZXJOdW1iZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIG1vZHVsZTogTW9kdWxlVGl0bGUuRGF0YVN5bmMsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJDYXRlZ29yeVN5bmNcIixcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uIChzZW5kZXI6IENoYXJhY3RlciwgY29udGVudDogTVBBTWVzc2FnZUNvbnRlbnQpOiB2b2lkXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXNlbmRlci5NUEEpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFNldHRpbmdTeW5jKGZhbHNlLCBzZW5kZXIuTWVtYmVyTnVtYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRlci5NUEFbY29udGVudC5jYXRlZ29yeV0gPSBjb250ZW50LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIC8vIERFUFJFQ0lBVEVELCBERUxFVEUgQUZURVIgU1RBQkxFIFBVU0ggTUFERSBWMC40LjRcbiAgICAgICAgICAgICAgICBtb2R1bGU6IE1vZHVsZVRpdGxlLkRhdGFTeW5jLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiUmVjb3JkU3luY1wiLFxuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKHNlbmRlcjogQ2hhcmFjdGVyLCBjb250ZW50OiBNUEFNZXNzYWdlQ29udGVudCk6IHZvaWRcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghc2VuZGVyPy5NUEE/Lltjb250ZW50LmNhdGVnb3J5XSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgQ2F0ZWdvcnlTeW5jKGNvbnRlbnQuY2F0ZWdvcnksIHNlbmRlci5NZW1iZXJOdW1iZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VuZGVyLk1QQVtjb250ZW50LmNhdGVnb3J5XVtjb250ZW50LnJlY29yZF0gPSBjb250ZW50LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIG1vZHVsZTogTW9kdWxlVGl0bGUuRGF0YVN5bmMsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJSZWNvcmRzU3luY1wiLFxuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKHNlbmRlcjogQ2hhcmFjdGVyLCBjb250ZW50OiBNUEFNZXNzYWdlQ29udGVudCk6IHZvaWRcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcmVjb3JkIG9mIGNvbnRlbnQucmVjb3JkcyBhcyBUcmFuc21pdFJlY29yZHMpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2VuZGVyPy5NUEE/LltyZWNvcmQuY2F0ZWdvcnldKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIENhdGVnb3J5U3luYyhjb250ZW50LmNhdGVnb3J5LCBzZW5kZXIuTWVtYmVyTnVtYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kZXIuTVBBW3JlY29yZC5jYXRlZ29yeV1bcmVjb3JkLnJlY29yZF0gPSByZWNvcmQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgTG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5Mb2FkKCk7XG5cbiAgICAgICAgLy8gTVBBIGxvYWRlZCBpbiBhIGNoYXRyb29tLCBTeW5jIHdpdGggb3RoZXJzIGluIHRoZSByb29tXG4gICAgICAgIGlmIChDaGF0Um9vbUNoYXJhY3Rlci5sZW5ndGggIT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIFNldHRpbmdTeW5jKHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gV2hlbiBqb2luaW5nIGEgcm9vbSwgc3luYyBNUEEgc2V0dGluZ3Mgd2l0aCBldmVyeW9uZSBlbHNlXG4gICAgICAgIEhvb2tGdW5jdGlvbihNb2R1bGVUaXRsZS5EYXRhU3luYywgXCJDaGF0Um9vbVN5bmNcIiwgMCwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIG5leHQoYXJncyk7XG4gICAgICAgICAgICBTZXR0aW5nU3luYyh0cnVlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gU3luYyByZXF1ZXN0LCBoYW5kbGUgYW5kIHJlcGx5IGlmIG5lZWRlZFxuICAgICAgICBIb29rRnVuY3Rpb24oTW9kdWxlVGl0bGUuRGF0YVN5bmMsIFwiQ2hhdFJvb21NZXNzYWdlXCIsIDAsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXJnc1swXTtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBHZXRNUEFNZXNzYWdlRnJvbUNoYXQoZGF0YSk7XG4gICAgICAgICAgICBpZiAoIWNvbnRlbnQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzZW5kZXIgPSBGaW5kQ2hhcmFjdGVySW5Sb29tKGRhdGEuU2VuZGVyID8/IFwiXCIsIHsgTWVtYmVyTnVtYmVyOiB0cnVlLCBOYW1lOiBmYWxzZSwgTmlja05hbWU6IGZhbHNlIH0pO1xuICAgICAgICAgICAgaWYgKCFzZW5kZXIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEhhbmRsZSB0aGUgZGF0YSBsaXN0ZW5lcnNcbiAgICAgICAgICAgIGhvb2tlZE1lc3NhZ2VzLmZvckVhY2goKGhvb2spID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRlbnQubWVzc2FnZSA9PT0gaG9vay5tZXNzYWdlKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaG9vay5hY3Rpb24oc2VuZGVyLCBjb250ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgVW5sb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLlVubG9hZCgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEZpbHRlckFycmF5RnJvbUFycmF5IH0gZnJvbSBcIi4uL3V0aWwvZ2VuZXJhbFwiO1xuaW1wb3J0IHsgYmN4QVBJLCBiY3hGb3VuZCwgSG9va0Z1bmN0aW9uIH0gZnJvbSBcIi4uL3V0aWwvc2RrXCI7XG5pbXBvcnQgeyBNb2R1bGUsIE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4vX21vZHVsZVwiO1xuaW1wb3J0IHsgRWxlbWVudE5hbWUgfSBmcm9tIFwiLi9zZXR0aW5nc1wiO1xuaW1wb3J0IHsgQXBwbHlQZXRIZWFyaW5nLCBOb25EaXNydXB0aXZlUGV0U3BlZWNoIH0gZnJvbSBcIi4uL3V0aWwvcGV0SGVhckFuZFNwZWFrXCI7XG5pbXBvcnQgeyBIb29rZWRNZXNzYWdlLCBNUEFNZXNzYWdlQ29udGVudCwgU2VuZE1QQU1lc3NhZ2UgfSBmcm9tIFwiLi4vdXRpbC9tZXNzYWdpbmdcIjtcbmltcG9ydCB7IFJlY29yZHNTeW5jIH0gZnJvbSBcIi4vZGF0YVN5bmNcIjtcbmltcG9ydCB7IElzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAgfSBmcm9tIFwiLi4vdXRpbC9hdXRob3JpdHlcIjtcblxuY29uc3QgUGxheWVyUDogKEM/OiBDaGFyYWN0ZXIpID0+IE1QQVJlY29yZCA9IChDOiBDaGFyYWN0ZXIgPSBQbGF5ZXIpID0+XG57XG4gICAgcmV0dXJuIEMuTVBBPy5bTW9kdWxlVGl0bGUuUHJvZmlsZV0gPz8ge307XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gSXNIYXJkY29yZU9uKEM6IENoYXJhY3Rlcik6IGJvb2xlYW5cbntcbiAgICByZXR1cm4gKEMuTVBBPy5bTW9kdWxlVGl0bGUuUHJvZmlsZV0uaGFyZGNvcmUgYXMgYm9vbGVhbiB8IHVuZGVmaW5lZCkgPz8gZmFsc2U7XG59O1xuXG5mdW5jdGlvbiBHZXRSZWNvcmQodGl0bGU6IE1vZHVsZVRpdGxlLCBDOiBDaGFyYWN0ZXIgPSBQbGF5ZXIpOiBNUEFSZWNvcmRcbntcbiAgICByZXR1cm4gQy5NUEE/Llt0aXRsZV0gPz8ge307XG59XG5cbi8vIE1ha2Ugc3VyZSBub3QgaW4gQkNYIGJhbm5lZCB3b3JkcyAvIHBocmFzZXNcbi8vIERvbid0IGJsYW1lIG1lIGZvciB0aGUgc2VsZWN0aW9uLCBob3cgYXJlIHlvdSBzdXBwb3NlZCB0byB0eXBlIG91dCB0aGVzZSBhbmltYWwgc291bmRzXG4vLyBIYWxmIHRoaXMgY2FtZSBmcm9tIGNoYXQgZ3B0IGFueXdheSwgaWYgeW91IGdvdCBzb21ldGhpbmcgYmV0dGVyLCBmZWVsIGZyZWUgdG8gc3VnZ2VzdCBpdFxuZXhwb3J0IGNvbnN0IEdBUkJMRV9QSFJBU0VTID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgSHVtYW46IFtcImhtbWdtXCIsIFwibW1tbVwiLCBcIm1oaG1tYWFcIiwgXCJobW1tXCJdLFxuICAgIEN1c3RvbTogW1wiXCJdLFxuICAgIEJ1bm55OiBbXCJwb25cIiwgXCJlZXBcIiwgXCJodWZmXCIsIFwidGstdGtcIiwgXCJubmdoLW5uZ2hcIl0sXG4gICAgQ2F0OiBbXCJtZW93XCIsIFwibWV3XCIsIFwibnlhaFwiLCBcIm55YVwiLCBcInB1cnJcIiwgXCJtcnJvd1wiLCBcInBycnJcIl0sXG4gICAgQ293OiBbXCJtb29cIiwgXCJtb29vb29cIiwgXCJtdXVoaGhcIiwgXCJtb29vYWhcIl0sXG4gICAgRG9nOiBbXCJhcmZcIiwgXCJ3b29mXCIsIFwiYmFya1wiLCBcInJ1ZmZcIiwgXCJodWZmXCIsIFwiZWVwXCJdLFxuICAgIEZveDogW1wiY2hpcnBcIiwgXCJ5aXBcIiwgXCJ3b3ctd293XCIsIFwieW93d1wiLCBcImVlcFwiXSxcbiAgICBNb3VzZTogW1wic3F1ZWFrXCIsIFwiZWVla1wiLCBcInRjaC10Y2hcIiwgXCJ3aS1pLWlcIiwgXCJzc3NcIl0sXG4gICAgUG9ueTogW1wibmVpZ2hcIiwgXCJ3aGlubnlcIiwgXCJ3aGVlZVwiLCBcInNucnRcIiwgXCJ3aG9vb3NoXCIsIFwiaHVmZlwiLCBcIm5uaGhoLWtlclwiXSxcbiAgICBXb2xmOiBbXCJhd29vXCIsIFwiYWEtb29vXCIsIFwid29vZlwiLCBcInJ1ZmZcIiwgXCJhcmZcIiwgXCJ3aWlpcFwiLCBcImh1ZmZcIl1cbn0pO1xudHlwZSBQZXRTcGVha2luZ0tleXMgPSBrZXlvZiB0eXBlb2YgR0FSQkxFX1BIUkFTRVM7XG5cbi8qKlxuICogR2V0IHRoZSBwZXQgZ2FyYmxlIHBocmFzZXMgZm9yIHRoZSBzZWxlY3RlZCBwcm9maWxlXG4gKiBAcGFyYW0gcHJvZmlsZSAtIERlZmF1bHRzIHRvIFBsYXllcidzIHByb2ZpbGUgaWYgbm9uZSBwcm92aWRlZFxuICovXG5mdW5jdGlvbiBHZXRQZXRHYXJibGVQaHJhc2VzKHByb2ZpbGU6IFBldFNwZWFraW5nS2V5cyA9IFBsYXllclAoUGxheWVyKS50eXBlKTogc3RyaW5nW11cbntcbiAgICBpZiAocHJvZmlsZSBpbiBHQVJCTEVfUEhSQVNFUyAmJiBwcm9maWxlICE9PSBcIkN1c3RvbVwiKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIEdBUkJMRV9QSFJBU0VTW3Byb2ZpbGVdO1xuICAgIH1cbiAgICByZXR1cm4gKFBsYXllclAoUGxheWVyKS5nYXJibGVQaHJhc2VzIGFzIHN0cmluZykuc3BsaXQoXCIsXCIpLm1hcCgoc3RyKSA9PiBzdHIudHJpbSgpKTtcbn1cblxuLyoqXG4gKiBPbmx5IGluY2x1ZGUgcGV0IHNvdW5kcyB0aGF0IGFyZSBwZXJtaXR0ZWQgYnkgQkNYXG4gKiBAcGFyYW0gcHJvZmlsZSAtIERlZmF1bHRzIHRvIFBsYXllcidzIHByb2ZpbGVcbiAqIEByZXR1cm5zIFBocmFzZXMgQkNYIHdvbid0IGdldCBtYWQgYXRcbiAqL1xuZnVuY3Rpb24gR2V0QWxsb3dlZFBldEdhcmJsZVBocmFzZXMocHJvZmlsZTogUGV0U3BlYWtpbmdLZXlzID0gUGxheWVyUChQbGF5ZXIpLnR5cGUpOiBzdHJpbmdbXVxue1xuICAgIGNvbnN0IGJhbm5lZEJDWFdvcmRzID0gYmN4QVBJKCk/LmdldFJ1bGVTdGF0ZShcInNwZWVjaF9iYW5fd29yZHNcIik/LmN1c3RvbURhdGE/LmJhbm5lZFdvcmRzID8/IFtdO1xuICAgIGNvbnN0IHBldFBocmFzZXMgPSBiY3hGb3VuZCgpICYmIFBsYXllclAoUGxheWVyKS5iY3hTcGVha2luZyA/XG4gICAgICAgIGJjeEFQSSgpPy5nZXRSdWxlU3RhdGUoXCJzcGVlY2hfbWFuZGF0b3J5X3dvcmRzXCIpPy5jdXN0b21EYXRhPy5tYW5kYXRvcnlXb3JkcyA/PyBbXSA6XG4gICAgICAgIEdldFBldEdhcmJsZVBocmFzZXMocHJvZmlsZSk7XG4gICAgcmV0dXJuIEZpbHRlckFycmF5RnJvbUFycmF5KHBldFBocmFzZXMsIGJhbm5lZEJDWFdvcmRzKTtcbn1cblxuZXhwb3J0IGNvbnN0IFBFVF9IRUFSSU5HID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgQWxsOiBbXCJvd25lclwiLCBcInBldFwiLCBcIm1hc3RlclwiLCBcIm1pc3RyZXNzXCIsIFwibWlzc1wiLCBcInNpclwiLCBcInBhd1wiLCBcInNpdFwiLCBcImNvbWVcIiwgXCJkb3duXCIsIFwidXBcIixcbiAgICAgICAgXCJzdGF5XCIsIFwid2F0ZXJcIiwgXCJmb29kXCIsIFwia2liYmxlXCIsIFwiZWF0XCIsIFwidHJlYXRcIiwgXCJkcmlua1wiLCBcInRveVwiLCBcInBsYXlcIiwgXCJsZWFzaFwiLCBcIndhbGtcIixcbiAgICAgICAgXCJ3YWxraWVzXCIsIFwiYmVkXCIsIFwic2xlZXBcIiwgXCJjdXRpZVwiLCBcImFkb3JhYmxlXCIsIFwidG95XCIsIFwicGxheVwiLCBcImtpYmJsZVwiLCBcImdvb2RcIiwgXCJiYWRcIixcbiAgICAgICAgXCJsYXBcIiwgXCJzcGVha1wiLCBcImh1c2hcIiwgXCJxdWlldFwiLCBcImh1c2hcIiwgXCJhbGwgZm91cnNcIiwgXCJhbGwtZm91cnNcIl0sXG4gICAgSHVtYW46IFtdLFxuICAgIEN1c3RvbTogW10sXG4gICAgQnVubnk6IFtcImJ1blwiLCBcImJ1bm55XCIsIFwiY2Fycm90XCIsIFwiaG9wXCIsIFwianVtcFwiLCBcImh1bXBcIiwgXCJlYXJcIiwgXCJlYXJzXCJdLFxuICAgIENhdDogW1wiY2F0XCIsIFwia2l0dHlcIiwgXCJraXR0ZW5cIiwgXCJjYXRuaXBcIiwgXCJrbmVhZFwiLCBcInNjcmF0Y2hcIiwgXCJ5YXJuXCIsIFwibWlsa1wiXSxcbiAgICBDb3c6IFtcIm1pbGtcIiwgXCJtaWxraW5nXCIsIFwidXR0ZXJcIiwgXCJicmVhc3RcIiwgXCJncmFzc1wiLCBcIm1vb1wiXSxcbiAgICBEb2c6IFtcImNhZ2VcIiwgXCJrZW5uZWxcIiwgXCJwdXBcIiwgXCJwdXBweVwiLCBcImRvZ1wiLCBcImRvZ2d5XCIsIFwiYm9uZVwiLCBcImZldGNoXCIsIFwiaGVlbFwiLCBcInJvbGxcIiwgXCJvdmVyXCIsIFwiYmFya1wiXSxcbiAgICBGb3g6IFtcInRyYXBcIiwgXCJidW5cIiwgXCJidW5ueVwiLCBcImJvbmVcIiwgXCJmb3hcIiwgXCJmb3h5XCJdLFxuICAgIE1vdXNlOiBbXCJtb3VzZVwiLCBcImVhclwiLCBcImVhcnNcIiwgXCJ0cmFwXCIsIFwid2lyZVwiLCBcIndoZWVsXCIsIFwiY2hlZXNlXCIsIFwibmliYmxlXCIsIFwiY2F0XCIsIFwia2l0dHlcIiwgXCJraXR0ZW5cIl0sXG4gICAgUG9ueTogW1wicG9ueVwiLCBcIm1hcmVcIiwgXCJzdGFsbGlvblwiLCBcImJyaWRsZVwiLCBcImhvb2ZcIiwgXCJob292ZXNcIiwgXCJ0cm90XCIsIFwic3RhbGxcIiwgXCJoYXlcIiwgXCJ3b2FoXCIsXG4gICAgICAgIFwic3RvbXBcIiwgXCJjYWxtXCIsIFwiZWFzeVwiLCBcInNsb3dcIiwgXCJjYXJ0XCIsIFwiYmF5XCIsIFwicnVuXCIsIFwicmFjZVwiXSxcbiAgICBXb2xmOiBbXCJib25lXCIsIFwid29sZlwiLCBcImRvZ1wiLCBcInB1cFwiLCBcInB1cHB5XCIsIFwiaGVlbFwiXVxufSk7XG50eXBlIFBldEhlYXJpbmdLZXlzID0ga2V5b2YgdHlwZW9mIFBFVF9IRUFSSU5HO1xuXG4vKipcbiAqXG4gKiBAcGFyYW0gcHJvZmlsZSAtIERlZmF1bHRzIHRvIFBsYXllcidzIHByb2ZpbGVcbiAqL1xuZnVuY3Rpb24gR2V0UGV0SGVhcmluZ1BocmFzZXMocHJvZmlsZTogUGV0SGVhcmluZ0tleXMgPSBQbGF5ZXJQKFBsYXllcikudHlwZSk6IHN0cmluZ1tdXG57XG4gICAgaWYgKHByb2ZpbGUgaW4gUEVUX0hFQVJJTkcpXG4gICAge1xuICAgICAgICByZXR1cm4gUEVUX0hFQVJJTkcuQWxsLmNvbmNhdChQRVRfSEVBUklOR1twcm9maWxlXSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIFBFVF9IRUFSSU5HLkFsbDtcbn1cblxuLyoqXG4gKiBDYWxsYmFjayB3aGVuIHByb2ZpbGUgdHlwZSBpcyBzZXRcbiAqIEBwYXJhbSBDIC0gQ2hhcmFjdGVyIHdobyB3ZSBhcmUgc2V0dGluZ1xuICogQHBhcmFtIHZhbHVlIC0gV2hhdCB0aGUgbmV3IHR5cGUgaXNcbiAqIEBwYXJhbSBwcmV2VmFsdWUgLSBXaGF0IHRoZSBwcmV2aW91cyB0eXBlIHdhc1xuICovXG5mdW5jdGlvbiBTZXRQcm9maWxlVHlwZShDOiBDaGFyYWN0ZXIsIHZhbHVlOiBzdHJpbmcsIHByZXZWYWx1ZTogc3RyaW5nKVxue1xuICAgIGNvbnN0IGVsZUlEID0gRWxlbWVudE5hbWUoTW9kdWxlVGl0bGUuUHJvZmlsZSwgXCJnYXJibGVQaHJhc2VzXCIpO1xuICAgIGlmICh2YWx1ZSA9PT0gXCJDdXN0b21cIilcbiAgICB7XG4gICAgICAgIFBsYXllclAoQykuZ2FyYmxlUGhyYXNlcyA9IFBsYXllclAoQykuY3VzdG9tR2FyYmxlUGhyYXNlcy5qb2luKFwiLCBcIik7XG4gICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVJRCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIEVsZW1lbnRWYWx1ZShlbGVJRCwgUGxheWVyUChDKS5nYXJibGVQaHJhc2VzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChwcmV2VmFsdWUgPT09IFwiQ3VzdG9tXCIgJiYgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlSUQpKVxuICAgIHtcbiAgICAgICAgUGxheWVyUChDKS5jdXN0b21HYXJibGVQaHJhc2VzID0gRWxlbWVudFZhbHVlKGVsZUlEKS5zcGxpdChcIixcIikubWFwKCh4KSA9PiB4LnRyaW0oKSk7XG4gICAgfVxuICAgIFBsYXllclAoQykuZ2FyYmxlUGhyYXNlcyA9IChHQVJCTEVfUEhSQVNFU1tQbGF5ZXJQKEMpLnR5cGVdIGFzIHN0cmluZ1tdKS5qb2luKFwiLCBcIik7XG5cbiAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlSUQpKVxuICAgIHtcbiAgICAgICAgRWxlbWVudFZhbHVlKGVsZUlELCBQbGF5ZXJQKEMpLmdhcmJsZVBocmFzZXMpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBTZXQgcHJvZmlsZSBiY3ggc3BlYWtpbmcgZm9yIHRoZSBsb2NhbCBwbGF5ZXJcbiAqL1xuZnVuY3Rpb24gU2V0QkNYU3BlYWsoKVxue1xuICAgIFBsYXllclAoKS5iY3hTcGVha2luZyA9IHRydWU7XG4gICAgY29uc3QgZWxlSUQgPSBFbGVtZW50TmFtZShNb2R1bGVUaXRsZS5Qcm9maWxlLCBcImdhcmJsZVBocmFzZXNcIik7XG4gICAgLy8gU2F2ZSBwcmV2aW91cyB3b3JkcyBpZiBuZWVkZWRcbiAgICBpZiAoUGxheWVyUCgpLnR5cGUgPT09IFwiQ3VzdG9tXCIgJiYgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlSUQpKVxuICAgIHtcbiAgICAgICAgUGxheWVyUCgpLmN1c3RvbUdhcmJsZVBocmFzZXMgPSBFbGVtZW50VmFsdWUoZWxlSUQpLnNwbGl0KFwiLFwiKS5tYXAoKHgpID0+IHgudHJpbSgpKTtcbiAgICB9XG4gICAgY29uc3Qgd29yZHMgPSBiY3hBUEkoKT8uZ2V0UnVsZVN0YXRlKFwic3BlZWNoX21hbmRhdG9yeV93b3Jkc1wiKT8uY3VzdG9tRGF0YT8ubWFuZGF0b3J5V29yZHMgPz8gW107XG4gICAgUGxheWVyUCgpLmdhcmJsZVBocmFzZXMgPSB3b3Jkcy5qb2luKFwiLCBcIik7XG4gICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZUlEKSlcbiAgICB7XG4gICAgICAgIEVsZW1lbnRWYWx1ZShlbGVJRCwgUGxheWVyUCgpLmdhcmJsZVBocmFzZXMpO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFByb2ZpbGVNb2R1bGUgZXh0ZW5kcyBNb2R1bGVcbntcbiAgICBnZXQgVGl0bGUoKTogTW9kdWxlVGl0bGVcbiAgICB7XG4gICAgICAgIHJldHVybiBNb2R1bGVUaXRsZS5Qcm9maWxlO1xuICAgIH1cblxuICAgIGdldCBTeW5jTGlzdGVuZXJzKCk6IEhvb2tlZE1lc3NhZ2VbXVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBtb2R1bGU6IHRoaXMuVGl0bGUsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJCQ1hTcGVha0VuYWJsZVJlcXVlc3RcIixcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uIChzZW5kZXI6IENoYXJhY3RlciwgX2NvbnRlbnQ6IE1QQU1lc3NhZ2VDb250ZW50KTogdm9pZFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHNlbmRlciBoYXMgYXV0aG9yaXR5IHRvIHNldCB0aGlzIHNldHRpbmdcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFJc01lbWJlck51bWJlckluQXV0aEdyb3VwKHNlbmRlci5NZW1iZXJOdW1iZXIgPz8gLTEsIFBsYXllci5NUEE/LltNb2R1bGVUaXRsZS5BdXRob3JpdHldW2BvdGhlcnMke01vZHVsZVRpdGxlLlByb2ZpbGV9YF0pKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYCR7c2VuZGVyLk5pY2tuYW1lIHx8IHNlbmRlci5OYW1lfVske3NlbmRlci5NZW1iZXJOdW1iZXJ9XSB0cmllZCB0byBpbGxlZ2lhbGx5IHNldCB5b3VyIGJjeCBzcGVhayB0byBiZSBlbmFibGVkYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBTZXQgdGhlIHJlY29yZCBieSB0aGUgcGVyc29uIHdobyBpcyBoYXZpbmcgdGhlaXIgc2V0dGluZ3MgY2hhbmdlZFxuICAgICAgICAgICAgICAgICAgICAvLyBCQ1ggbWFuZGF0b3J5IHdvcmRzIG9ubHkgdmlld2FibGUgYnkgdGhlIHBsYXllciBsb2NhbGx5XG4gICAgICAgICAgICAgICAgICAgIFNldEJDWFNwZWFrKCk7XG4gICAgICAgICAgICAgICAgICAgIFJlY29yZHNTeW5jKFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY2F0ZWdvcnk6IE1vZHVsZVRpdGxlLlByb2ZpbGUsIHJlY29yZDogXCJnYXJibGVQaHJhc2VzXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY2F0ZWdvcnk6IE1vZHVsZVRpdGxlLlByb2ZpbGUsIHJlY29yZDogXCJiY3hTcGVha2luZ1wiIH1cbiAgICAgICAgICAgICAgICAgICAgXSwgc2VuZGVyLk1lbWJlck51bWJlcik7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQWZ0ZXIgdXBkYXRpbmcgYW5kIHNlbmRpbmcgdGhlIG5ldyByZWNvcmRzLCBub3RpZnkgc2VuZGVyIGZvciBhY2tub3dsZWRnZW1lbnQgdG8gdXBkYXRlIHRoZWlyIGRpc3BsYXlcbiAgICAgICAgICAgICAgICAgICAgU2VuZE1QQU1lc3NhZ2UoeyBtZXNzYWdlOiBcIkJDWFNwZWFrRW5hYmxlUmVwbHlcIiB9LCBzZW5kZXIuTWVtYmVyTnVtYmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgbW9kdWxlOiB0aGlzLlRpdGxlLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQkNYU3BlYWtFbmFibGVSZXBseVwiLFxuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKHNlbmRlcjogQ2hhcmFjdGVyLCBfY29udGVudDogTVBBTWVzc2FnZUNvbnRlbnQpOiB2b2lkXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSBnb3QgYSBwb3N0aXZlIHJlc3BvbnNlIGZyb20gdGhlIHJlcXVlc3QsIGNoYW5nZSBtYWRlLCBidXQgd2UgbmVlZCB0byBzZWUgaXQgb24gb3VyIHNpZGUgbm93XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsZUlEID0gRWxlbWVudE5hbWUoTW9kdWxlVGl0bGUuUHJvZmlsZSwgXCJnYXJibGVQaHJhc2VzXCIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlSUQpKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBFbGVtZW50VmFsdWUoZWxlSUQsIFBsYXllclAoc2VuZGVyKS5nYXJibGVQaHJhc2VzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBnZXQgU2V0dGluZ3MoKTogU2V0dGluZ1tdXG4gICAge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwidHlwZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwib3B0aW9uXCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IE9iamVjdC5rZXlzKEdBUkJMRV9QSFJBU0VTKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJIdW1hblwiLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIlVzZSBhIHByZXNldCBwcm9maWxlIG9yIG1ha2UgeW91ciBvd25cIixcbiAgICAgICAgICAgICAgICBsb29wOiB0cnVlLFxuICAgICAgICAgICAgICAgIG9uU2V0OiAoQywgdmFsdWUsIHByZXZWYWx1ZSkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChQbGF5ZXJQKEMpLmJjeFNwZWFraW5nKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgU2V0UHJvZmlsZVR5cGUoQywgdmFsdWUsIHByZXZWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBhcyBPcHRpb25TZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJwZXRIZWFyaW5nXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiV2hpbGUgZGVhZmVuZWQgY2VydGFpbiBwZXQga2V5d29yZHMgY2FuIGJlIHBpY2tlZCB1cFwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiZ2FyYmxlUGhyYXNlc1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+IFBsYXllclAoQykudHlwZSA9PT0gXCJDdXN0b21cIiAmJiAhKFBsYXllclAoQykucGV0U3BlYWtpbmcgJiYgYmN4Rm91bmQoKSAmJiBQbGF5ZXJQKEMpLmJjeFNwZWFraW5nKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogR0FSQkxFX1BIUkFTRVMuSHVtYW4uam9pbigpLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIlBldCBzb3VuZHMgeW91IG1ha2VcIixcbiAgICAgICAgICAgICAgICBtYXhDaGFyczogMTAyNCxcbiAgICAgICAgICAgICAgICB3aWR0aDogMTAyNFxuICAgICAgICAgICAgfSBhcyBUZXh0U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiY3VzdG9tR2FyYmxlUGhyYXNlc1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwicmVjb3JkXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IFtdXG4gICAgICAgICAgICB9IGFzIFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInBldFNwZWFraW5nXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQXV0b21hdGljYWxseSBtYWtlIHRoZSBhYm92ZSBwZXQgc291bmRzIHdoaWxlIHRhbGtpbmdcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImJjeFNwZWFraW5nXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+IFBsYXllclAoQykucGV0U3BlYWtpbmcgJiYgYmN4Rm91bmQoKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiVXNlIEJDWCBtYW5kYXRvcnkgd29yZHMgaW5zdGVhZCBvZiB0aGUgcGV0IHNvdW5kcyBhYm92ZVwiLFxuICAgICAgICAgICAgICAgIG9uU2V0OiAoQywgdmFsdWUpID0+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXZhbHVlKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBTZXRQcm9maWxlVHlwZShDLCBQbGF5ZXJQKEMpLnR5cGUsIFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChDLklzUGxheWVyKCkpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgbWFuZGF0b3J5IHdvcmRzIGZvciB5b3Vyc2VsZiBzaW5jZSBoYXZlIGxvY2FsIGJjeCBhY2Nlc3NcbiAgICAgICAgICAgICAgICAgICAgICAgIFNldEJDWFNwZWFrKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbGVJRCA9IEVsZW1lbnROYW1lKE1vZHVsZVRpdGxlLlByb2ZpbGUsIFwiZ2FyYmxlUGhyYXNlc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNhdmUgYW55IGN1c3RvbSB3b3JkIGNoYW5nZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChQbGF5ZXJQKEMpLnR5cGUgPT09IFwiQ3VzdG9tXCIgJiYgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlSUQpKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBsYXllclAoQykuY3VzdG9tR2FyYmxlUGhyYXNlcyA9IEVsZW1lbnRWYWx1ZShlbGVJRCkuc3BsaXQoXCIsXCIpLm1hcCgoeCkgPT4geC50cmltKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXF1ZXN0IHRoZSBtYW5kYXRvcnkgd29yZHMgZnJvbSB0aGUgb3RoZXIgcGVyc29uXG4gICAgICAgICAgICAgICAgICAgICAgICBTZW5kTVBBTWVzc2FnZSh7IG1lc3NhZ2U6IFwiQkNYU3BlYWtFbmFibGVSZXF1ZXN0XCIgfSwgQy5NZW1iZXJOdW1iZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImhhcmRjb3JlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiRW5hYmxlIGhhcmRjb3JlIG1vZGU7IFdpbGwgc2V0IGNlcnRhaW4gc2V0dGluZ3MgYW5kIHByZXZlbnQgY2hhbmdpbmcgdGhlbSBiYWNrXCIsXG4gICAgICAgICAgICAgICAgb25TZXQoQylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIEdldFJlY29yZChNb2R1bGVUaXRsZS5DbGlja2VyLCBDKS5lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgR2V0UmVjb3JkKE1vZHVsZVRpdGxlLkNsaWNrZXIsIEMpLmJjeFZvaWNlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgR2V0UmVjb3JkKE1vZHVsZVRpdGxlLlZpcnR1YWxQZXQsIEMpLmVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBHZXRSZWNvcmQoTW9kdWxlVGl0bGUuVmlydHVhbFBldCwgQykubm9IYW5kcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBHZXRSZWNvcmQoTW9kdWxlVGl0bGUuVmlydHVhbFBldENvbmRpdGlvbnMsIEMpLmVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBHZXRSZWNvcmQoTW9kdWxlVGl0bGUuVmlydHVhbFBldENvbmRpdGlvbnMsIEMpLmZvb2ROT1cgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBHZXRSZWNvcmQoTW9kdWxlVGl0bGUuVmlydHVhbFBldENvbmRpdGlvbnMsIEMpLnRpbnQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBHZXRSZWNvcmQoTW9kdWxlVGl0bGUuVmlydHVhbFBldENvbmRpdGlvbnMsIEMpLnBhc3NvdXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBHZXRSZWNvcmQoTW9kdWxlVGl0bGUuVmlydHVhbFBldENvbmRpdGlvbnMsIEMpLmFmZmVjdGlvblNraWxsQnVmZnMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgR2V0UmVjb3JkKE1vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zLCBDKS5hZmZlY3Rpb25Ta2lsbERlYnVmZnMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBHZXRSZWNvcmQoTW9kdWxlVGl0bGUuVmlydHVhbFBldENvbmRpdGlvbnMsIEMpLmhlYXJpbmdMb3NzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgR2V0UmVjb3JkKE1vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zLCBDKS5zbG93TGVhdmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nXG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgTG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5Mb2FkKCk7XG4gICAgICAgIFNwZWVjaFRyYW5zZm9ybUFsbEVmZmVjdHMucHVzaChcInBldFNwZWFrXCIgYXMgU3BlZWNoVHJhbnNmb3JtTmFtZSk7XG5cbiAgICAgICAgLy8gUGV0IGhlYXJpbmdcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiU3BlZWNoVHJhbnNmb3JtR2FnR2FyYmxlXCIsIDUsIChbdGV4dCwgaW50ZW5zaXR5LCBpZ25vcmVPT0MsIC4uLmFyZ3NdLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBNQlMgYWRkcyBDaGFyYWN0ZXIgcGFyYW1ldGVyIHRvIHRoaXMsIGNhbiB1c2UgYXMgYW4gZXh0cmEgY2hlY2sgZm9yIHdoZW4gdG8gYXBwbHlcbiAgICAgICAgICAgIGNvbnN0IEMgPSAoYXJncyBhcyBbQz86IENoYXJhY3RlciwgLi4uYXJnczogdW5rbm93bltdXSlbMF07XG5cbiAgICAgICAgICAgIC8vIEFyZSB3ZSBnYWdnaW5nIG9yIGRlYWZlbmluZz9cbiAgICAgICAgICAgIC8vIE5vdCBkZWFmZW5pbmcgc28gc2tpcFxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIEM/LklzR2FnZ2VkKClcbiAgICAgICAgICAgICAgICB8fCAhUGxheWVyLklzRGVhZigpXG4gICAgICAgICAgICAgICAgfHwgUGxheWVyUCgpLnBldEhlYXJpbmcgPT09IGZhbHNlXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoW3RleHQsIGludGVuc2l0eSwgaWdub3JlT09DXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gQXBwbHlQZXRIZWFyaW5nKFt0ZXh0LCBpbnRlbnNpdHksIGlnbm9yZU9PQ10sIG5leHQsIEdldFBldEhlYXJpbmdQaHJhc2VzKCkpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBJbnNlcnQgcGV0IHNvdW5kcyBvbiBpbnB1dCBmb3IgQkNYIHN1cHBvcnRcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiQ29tbWFuZFBhcnNlXCIsIDgsIChbbXNnXSwgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgLy8gU2tpcCBjb21tYW5kc1xuICAgICAgICAgICAgLy8gU2tpcCBpZiBub3QgYXR0ZW1wdGluZyB0byBhcHBseSBwZXQgc3BlZWNoXG4gICAgICAgICAgICBtc2cgPSBtc2cudHJpbSgpO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIFtDb21tYW5kc0tleSwgXCIqXCIsIFwiQFwiXS5pbmNsdWRlcyhtc2cuY2hhckF0KDApKVxuICAgICAgICAgICAgICAgIHx8ICFQbGF5ZXJQKFBsYXllcikucGV0U3BlYWtpbmdcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChbbXNnXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBOb25EaXNydXB0aXZlUGV0U3BlZWNoKG1zZywgbmV4dCwgR2V0QWxsb3dlZFBldEdhcmJsZVBocmFzZXMoKSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIFVubG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5VbmxvYWQoKTtcblxuICAgICAgICBTcGVlY2hUcmFuc2Zvcm1BbGxFZmZlY3RzID0gU3BlZWNoVHJhbnNmb3JtQWxsRWZmZWN0cy5maWx0ZXIoKHRyYW5zZm9ybSkgPT4gdHJhbnNmb3JtIGFzIFNwZWVjaFRyYW5zZm9ybU5hbWUgfCBcInBldFNwZWFrXCIgIT09IFwicGV0U3BlYWtcIik7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgTG9jYWxpemVkVGV4dCB9IGZyb20gXCIuLi9sb2NhbGl6YXRpb24vbG9jYWxpemF0aW9uXCI7XG5pbXBvcnQgeyBFeHBvcnRTZXR0aW5nc1RvQ2xpcGJvYXJkLCBJbXBvcnRTZXR0aW5nc0Zyb21DbGlwYm9hcmQsIFJlc2V0U3RvcmFnZSwgU2F2ZVN0b3JhZ2UgfSBmcm9tIFwiLi4vdXRpbC9zdG9yYWdlXCI7XG5pbXBvcnQgeyBJQ09OUyB9IGZyb20gXCIuLi91dGlsL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgSXNEaXNwbGF5U2V0dGluZywgSXNPcHRpb25TZXR0aW5nLCBJc0NoZWNrYm94U2V0dGluZywgSXNUZXh0U2V0dGluZywgSXNOdW1iZXJTZXR0aW5nIH0gZnJvbSBcIi4uL3V0aWwvc2V0dGluZ1R5cGVzXCI7XG5pbXBvcnQgeyBzZXR0aW5ncyBhcyBkZWZhdWx0U2V0dGluZ3MgfSBmcm9tIFwiLi4vdXRpbC9yZWdpc3Rlck1vZHVsZXNcIjtcbmltcG9ydCB7IEFVVEhPUklUWV9HUk9VUF9PUFRJT05TLCBBdXRob3JpdHlHcm91cCwgQXV0aG9yaXR5SXNDb21wYXJpc29uVG9DaGFyYWN0ZXIsIElzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAgfSBmcm9tIFwiLi4vdXRpbC9hdXRob3JpdHlcIjtcbmltcG9ydCB7IFNlbmRNUEFNZXNzYWdlIH0gZnJvbSBcIi4uL3V0aWwvbWVzc2FnaW5nXCI7XG5pbXBvcnQgeyBNb2R1bGUsIE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4vX21vZHVsZVwiO1xuaW1wb3J0IHsgTGV2ZWxTeW5jIH0gZnJvbSBcIi4vdmlydHVhbFBldFwiO1xuXG5sZXQgc2V0dGluZ3NFZGl0ZWQgPSBmYWxzZTtcbmxldCBzZXR0aW5nQ2hhcjogUGxheWVyQ2hhcmFjdGVyIHwgbnVsbCA9IG51bGw7XG5leHBvcnQgZnVuY3Rpb24gU2V0U2V0dGluZ0NoYXIoY2hhcmFjdGVyOiBQbGF5ZXJDaGFyYWN0ZXIpOiB2b2lkXG57XG4gICAgc2V0dGluZ3NFZGl0ZWQgPSBmYWxzZTtcbiAgICBzZXR0aW5nQ2hhciA9IGNoYXJhY3Rlcjtcbn1cblxuLy8gU2l6ZSBvZiB0aGUgY2FudmFzIGluIGdhbWVcbmNvbnN0IENBTlZBU19XSURUSCA9IDIwMDA7XG5jb25zdCBfQ0FOVkFTX0hFSUdIVCA9IDEwMDA7XG5cbi8vIEV4aXQgYnV0dG9uIHBvc2lzdGlvbiBvbiBjYW52YXNcbmNvbnN0IEVYSVRfUE9TSVNUSU9OID0gWzE4MTUsIDc1LCA5MCwgOTBdIGFzIGNvbnN0O1xuXG4vLyBNZW51IGxheW91dCB2YWx1ZXNcbmNvbnN0IEJVVFRPTl9NQVhfTlVNQkVSID0gNztcbmNvbnN0IEJVVFRPTl9XSURUSCA9IDQwMDtcbmNvbnN0IEJVVFRPTl9IRUlHSFQgPSA5MDtcbmNvbnN0IEJVVFRPTl9UT1AgPSAxNjA7XG5jb25zdCBCVVRUT05fTEVGVCA9IDUwMDtcbmNvbnN0IEJVVFRPTl9HQVAgPSAyMDtcbmNvbnN0IEJVVFRPTl9URVhUX1BBRERJTkcgPSAyMDtcblxuLy8gUGxheWVyIG9ubHkgYnV0dG9uc1xuY29uc3QgV0lLSV9QT1NJVElPTiA9IFsxMDAsIDYwNSwgMzUwLCA3NV0gYXMgY29uc3Q7XG5jb25zdCBXSUtJX0xJTksgPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9NYXlhVGhlRm94eS9NUEEvd2lraVwiO1xuY29uc3QgUkVTRVRfUE9TSVRJT04gPSBbXG4gICAgV0lLSV9QT1NJVElPTlswXSxcbiAgICBXSUtJX1BPU0lUSU9OWzFdICsgV0lLSV9QT1NJVElPTlszXSArIEJVVFRPTl9HQVAsXG4gICAgV0lLSV9QT1NJVElPTlsyXSxcbiAgICBXSUtJX1BPU0lUSU9OWzNdXG5dIGFzIGNvbnN0O1xuY29uc3QgQUxFUlRfUE9TSVRJT04gPSBbXG4gICAgUkVTRVRfUE9TSVRJT05bMF0sXG4gICAgUkVTRVRfUE9TSVRJT05bMV0gLSBSRVNFVF9QT1NJVElPTlszXSxcbiAgICBSRVNFVF9QT1NJVElPTlsyXVxuXSBhcyBjb25zdDtcbmxldCBzaG93U2V0dGluZ3NBbGVydDogbnVtYmVyID0gMDtcbmxldCBzZXR0aW5nc0FsZXJ0VGV4dDogc3RyaW5nID0gXCJcIjtcbmNvbnN0IElNUE9SVF9QT1NJVElPTiA9IFtcbiAgICBSRVNFVF9QT1NJVElPTlswXSxcbiAgICBSRVNFVF9QT1NJVElPTlsxXSArIFJFU0VUX1BPU0lUSU9OWzNdICsgQlVUVE9OX0dBUCxcbiAgICAoUkVTRVRfUE9TSVRJT05bMl0gLSBCVVRUT05fR0FQKSAvIDIsXG4gICAgUkVTRVRfUE9TSVRJT05bM11cbl0gYXMgY29uc3Q7XG5jb25zdCBFWFBPUlRfUE9TSVRJT04gPSBbXG4gICAgUkVTRVRfUE9TSVRJT05bMF0gKyAoKFJFU0VUX1BPU0lUSU9OWzJdICsgQlVUVE9OX0dBUCkgLyAyKSxcbiAgICBSRVNFVF9QT1NJVElPTlsxXSArIFJFU0VUX1BPU0lUSU9OWzNdICsgQlVUVE9OX0dBUCxcbiAgICAoUkVTRVRfUE9TSVRJT05bMl0gLSBCVVRUT05fR0FQKSAvIDIsXG4gICAgUkVTRVRfUE9TSVRJT05bM11cbl0gYXMgY29uc3Q7XG5jb25zdCBSRVNFVF9DT05GSVJNX1BPU0lUSU9OID0gWzMwMCwgNzAwLCAyNTAsIDkwXSBhcyBjb25zdDtcbmNvbnN0IFJFU0VUX0NBTkNFTF9QT1NJVElPTiA9IFsxNDUwLCA3MDAsIDI1MCwgOTBdIGFzIGNvbnN0O1xuXG4vLyBDYW4gYWRkIG9yIHJlbW92ZSBtb2R1bGVzIGRlcGVuZGluZyBvbiBpZiB3YW50aW5nIHRvIGRpc3BsYXkgdGhlbSBvciBub3Rcbi8vIE9yZGVyIGdpdmVuIGlzIHRoZSBvcmRlciBkaXNwbGF5ZWRcbmZ1bmN0aW9uIE1FTlVfQ0FURUdPUklFUygpOiBNb2R1bGVUaXRsZVtdXG57XG4gICAgaWYgKCFzZXR0aW5nQ2hhcilcbiAgICB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgLy8gRGlzcGxheSBzZXR0aW5ncyBpZiB5b3UgYXJlIHRoZSBQbGF5ZXJcbiAgICBpZiAoc2V0dGluZ0NoYXIuSXNQbGF5ZXIoKSlcbiAgICB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICBNb2R1bGVUaXRsZS5BdXRob3JpdHksXG4gICAgICAgICAgICBNb2R1bGVUaXRsZS5Qcm9maWxlLFxuICAgICAgICAgICAgTW9kdWxlVGl0bGUuQ2xpY2tlcixcbiAgICAgICAgICAgIE1vZHVsZVRpdGxlLlZpcnR1YWxQZXQsXG4gICAgICAgICAgICBNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0SFVELFxuICAgICAgICAgICAgTW9kdWxlVGl0bGUuVmlydHVhbFBldENvbmRpdGlvbnNcbiAgICAgICAgXTtcbiAgICB9XG4gICAgLy8gRGlzcGxheSBzZXR0aW5ncyBpZiB5b3UgYXJlIGFuIGFub3RoZXIgcGxheWVyXG4gICAgcmV0dXJuIFtcbiAgICAgICAgTW9kdWxlVGl0bGUuQXV0aG9yaXR5LFxuICAgICAgICBNb2R1bGVUaXRsZS5Qcm9maWxlLFxuICAgICAgICBNb2R1bGVUaXRsZS5DbGlja2VyLFxuICAgICAgICBNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0LFxuICAgICAgICBNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9uc1xuICAgIF07XG59XG5cbmV4cG9ydCBjb25zdCBNRU5VX1RJVExFUzogUGFydGlhbDxSZWNvcmQ8TW9kdWxlVGl0bGUsIHN0cmluZz4+ID1cbntcbiAgICBbTW9kdWxlVGl0bGUuVmlydHVhbFBldF06IFwiVmlydHVhbCBQZXRcIixcbiAgICBbTW9kdWxlVGl0bGUuVmlydHVhbFBldEhVRF06IFwiVmlydHVhbCBQZXQgSHVkXCIsXG4gICAgW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zXTogXCJWaXJ0dWFsIFBldCBDb25kaXRpb25zXCJcbn07XG5cbmV4cG9ydCBsZXQgY3VycmVudE1lbnU6IE1vZHVsZVRpdGxlIHwgbnVsbCB8IFwiUkVTRVRfU2V0dGluZ3NcIiA9IG51bGw7XG5sZXQgc2V0dGluZ3NPcGVuOiBib29sZWFuID0gZmFsc2U7XG5sZXQgYWxsb3dSZXNldFRpbWU6IG51bWJlciA9IDA7XG5cbkRyYXdCdXR0b24oMTUyMCwgNzIwLCAyMDAsIDgwLCBcIkNhbmNlbFwiLCBcIldoaXRlXCIpO1xuXG5mdW5jdGlvbiBEcmF3TWVudU9wdGlvbnMobWVudU9wdGlvbnM6IHN0cmluZ1tdKTogdm9pZFxue1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWVudU9wdGlvbnMubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgICBEcmF3QnV0dG9uKFxuICAgICAgICAgICAgQlVUVE9OX0xFRlQgKyAoQlVUVE9OX1dJRFRIICsgQlVUVE9OX0dBUCkgKiBNYXRoLmZsb29yKGkgLyBCVVRUT05fTUFYX05VTUJFUiksXG4gICAgICAgICAgICBCVVRUT05fVE9QICsgKEJVVFRPTl9IRUlHSFQgKyBCVVRUT05fR0FQKSAqIChpICUgQlVUVE9OX01BWF9OVU1CRVIpLFxuICAgICAgICAgICAgQlVUVE9OX1dJRFRILFxuICAgICAgICAgICAgQlVUVE9OX0hFSUdIVCxcbiAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICBcIldoaXRlXCJcbiAgICAgICAgKTtcbiAgICAgICAgRHJhd1RleHRGaXQoXG4gICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KE1FTlVfVElUTEVTW21lbnVPcHRpb25zW2ldXSA/PyBtZW51T3B0aW9uc1tpXSksXG4gICAgICAgICAgICAoQlVUVE9OX0xFRlQgKyBCVVRUT05fVEVYVF9QQURESU5HKSArIChCVVRUT05fV0lEVEggKyBCVVRUT05fR0FQKSAqIE1hdGguZmxvb3IoaSAvIEJVVFRPTl9NQVhfTlVNQkVSKSxcbiAgICAgICAgICAgIChCVVRUT05fVE9QICsgTWF0aC5mbG9vcihCVVRUT05fSEVJR0hUIC8gMikpICsgKEJVVFRPTl9IRUlHSFQgKyBCVVRUT05fR0FQKSAqIChpICUgQlVUVE9OX01BWF9OVU1CRVIpLFxuICAgICAgICAgICAgQlVUVE9OX1dJRFRIIC0gQlVUVE9OX1RFWFRfUEFERElORyAqIDIsXG4gICAgICAgICAgICBcIkJsYWNrXCIsXG4gICAgICAgICAgICBcIkdyYXlcIlxuICAgICAgICApO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gR2V0Q2xpY2tlZE1lbnUobWVudU9wdGlvbnM6IE1vZHVsZVRpdGxlW10pOiBNb2R1bGVUaXRsZSB8IG51bGxcbntcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1lbnVPcHRpb25zLmxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgICAgaWYgKE1vdXNlSW4oXG4gICAgICAgICAgICBCVVRUT05fTEVGVCArIChCVVRUT05fV0lEVEggKyBCVVRUT05fR0FQKSAqIE1hdGguZmxvb3IoaSAvIEJVVFRPTl9NQVhfTlVNQkVSKSxcbiAgICAgICAgICAgIEJVVFRPTl9UT1AgKyAoQlVUVE9OX0hFSUdIVCArIEJVVFRPTl9HQVApICogKGkgJSBCVVRUT05fTUFYX05VTUJFUiksXG4gICAgICAgICAgICBCVVRUT05fV0lEVEgsXG4gICAgICAgICAgICBCVVRUT05fSEVJR0hUXG4gICAgICAgICkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBtZW51T3B0aW9uc1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cblxuLy8gT3B0aW9ucyBsYXlvdXRcbi8vIE1heSBub3QgYmUgbmVlZGVkLiBXaWxsIGhhdmUgdG8gdXNlIGlmIHRoZXJlIGFyZSBtb3JlIHRoYW4gMTAgc2V0dGluZ3MgdG8gZGlzcGxheSBwZXIgY2F0ZWdvcnlcbmNvbnN0IE9QVElPTl9QRVJfUEFHRSA9IDk7XG5jb25zdCBPUFRJT05fSEVJR0hUID0gNjQ7XG5jb25zdCBPUFRJT05fVE9QID0gMjAwO1xuY29uc3QgT1BUSU9OX0xFRlQgPSAyNTA7XG5jb25zdCBPUFRJT05fR0FQID0gMTA7XG5jb25zdCBPUFRJT05fQ0hFQ0tCT1hfU0laRSA9IDY0O1xuY29uc3QgT1BUSU9OX0JBQ0tfTkVYVF9XSURUSCA9IDI1NjtcbmNvbnN0IE9QVElPTl9URVhUX1dJRFRIID0gMjU2O1xuY29uc3QgT1BUSU9OX1RFWFRfTUFYX0NIQVJTID0gMjU2O1xubGV0IGN1cnJlbnRQYWdlOiBudW1iZXIgPSAxO1xubGV0IG1heFBhZ2VzOiBudW1iZXIgPSAxO1xuXG5jb25zdCBORVhUX0JVVFRPTl9QT1MgPSBbMTYzNSwgNzUsIDkwLCA5MF0gYXMgY29uc3Q7XG5jb25zdCBQUkVWX0JVVFRPTl9QT1MgPSBbTkVYVF9CVVRUT05fUE9TWzBdIC0gTkVYVF9CVVRUT05fUE9TWzJdLCBORVhUX0JVVFRPTl9QT1NbMV0sIE5FWFRfQlVUVE9OX1BPU1syXSwgTkVYVF9CVVRUT05fUE9TWzJdXSBhcyBjb25zdDtcblxuZnVuY3Rpb24gRHJhd1BhZ2VzQnV0dG9ucygpOiB2b2lkXG57XG4gICAgLy8gQXNzZXQgY3VycmVudCBwYWdlIGlzIGluIGNvcnJlY3QgcmFuZ2VcbiAgICBpZiAoY3VycmVudFBhZ2UgPiBtYXhQYWdlcylcbiAgICB7XG4gICAgICAgIGN1cnJlbnRQYWdlID0gbWF4UGFnZXM7XG4gICAgfVxuICAgIGlmIChjdXJyZW50UGFnZSA8IDEpXG4gICAge1xuICAgICAgICBjdXJyZW50UGFnZSA9IDE7XG4gICAgfVxuXG4gICAgRHJhd0J1dHRvbihcbiAgICAgICAgLi4uTkVYVF9CVVRUT05fUE9TLFxuICAgICAgICBcIlwiLFxuICAgICAgICBjdXJyZW50UGFnZSA+PSBtYXhQYWdlcyA/IFwiI2FhYWFhYVwiIDogXCIjZmZmZmZmXCIsXG4gICAgICAgIFwiSWNvbnMvTmV4dC5wbmdcIixcbiAgICAgICAgXCJOZXh0IFBhZ2VcIixcbiAgICAgICAgY3VycmVudFBhZ2UgPj0gbWF4UGFnZXNcbiAgICApO1xuICAgIERyYXdCdXR0b24oXG4gICAgICAgIC4uLlBSRVZfQlVUVE9OX1BPUyxcbiAgICAgICAgXCJcIixcbiAgICAgICAgMSA+PSBjdXJyZW50UGFnZSA/IFwiI2FhYWFhYVwiIDogXCIjZmZmZmZmXCIsXG4gICAgICAgIFwiSWNvbnMvUHJldi5wbmdcIixcbiAgICAgICAgXCJQcmV2aW91cyBQYWdlXCIsXG4gICAgICAgIDEgPj0gY3VycmVudFBhZ2VcbiAgICApO1xufVxuXG5mdW5jdGlvbiBEcmF3U3ViTWVudU9wdGlvbnMoc3ViTWVudTogTW9kdWxlVGl0bGUpOiB2b2lkXG57XG4gICAgLy8gU2hvdWxkbid0IGJlIG5lZWRlZCBidXQgYWN0cyBhcyBmYWlsc2FmZSBhbmQgbWFrZXMgdHlwZXNjcmlwdCBoYXBweVxuICAgIGlmICghc2V0dGluZ0NoYXIpIHsgcmV0dXJuOyB9XG5cbiAgICAvLyBTZXR0aW5ncyBoYXZlIHRvIGJlIGRpc3BsYXlhYmxlIGFuZCBoYXZlIGEgdmFsdWUgZXhpc3QgaW4gdGhlIHN0b3JlZCBzZXR0aW5nc1xuICAgIGNvbnN0IHNldHRpbmdzVG9EaXNwbGF5ID0gT2JqZWN0LmVudHJpZXMoZGVmYXVsdFNldHRpbmdzW3N1Yk1lbnVdID8/IHt9KVxuICAgICAgICAuZmlsdGVyKChba2V5LCBzZXR0aW5nXSkgPT4gSXNEaXNwbGF5U2V0dGluZyhzZXR0aW5nKSAmJiAoa2V5IGluIChzZXR0aW5nQ2hhcj8uTVBBW3N1Yk1lbnVdID8/IHt9KSkpO1xuXG4gICAgLy8gTmV4dCBhbmQgcHJldmlvdXMgb3B0aW9uIGJ1dHRvbnNcbiAgICBpZiAobWF4UGFnZXMgIT09IDEpXG4gICAge1xuICAgICAgICBEcmF3UGFnZXNCdXR0b25zKCk7XG4gICAgfVxuXG4gICAgc2V0dGluZ3NUb0Rpc3BsYXkuc2xpY2UoKGN1cnJlbnRQYWdlIC0gMSkgKiBPUFRJT05fUEVSX1BBR0UsIGN1cnJlbnRQYWdlICogT1BUSU9OX1BFUl9QQUdFKS5mb3JFYWNoKCh2YWwsIGkpID0+XG4gICAge1xuICAgICAgICBjb25zdCBbc2V0dGluZ05hbWUsIHNldHRpbmddID0gdmFsIGFzIFtzdHJpbmcsIERpc3BsYXllZFNldHRpbmddO1xuXG4gICAgICAgIGNvbnN0IGRpc2FibGVkU2V0dGluZyA9ICFzZXR0aW5nLmFjdGl2ZShzZXR0aW5nQ2hhciEpXG4gICAgICAgICAgfHwgKFxuICAgICAgICAgICAgICBgb3RoZXJzJHtzdWJNZW51fWAgaW4gc2V0dGluZ0NoYXIhLk1QQVtNb2R1bGVUaXRsZS5BdXRob3JpdHldXG4gICAgICAgICAgICAgICYmIGBzZWxmJHtzdWJNZW51fWAgaW4gc2V0dGluZ0NoYXIhLk1QQVtNb2R1bGVUaXRsZS5BdXRob3JpdHldXG4gICAgICAgICAgICAgICYmICFJc01lbWJlck51bWJlckluQXV0aEdyb3VwKFxuICAgICAgICAgICAgICAgICAgUGxheWVyLk1lbWJlck51bWJlciA/PyAtMSxcbiAgICAgICAgICAgICAgICAgIHNldHRpbmdDaGFyIS5NUEFbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XVtgb3RoZXJzJHtzdWJNZW51fWBdIGFzIEF1dGhvcml0eUdyb3VwLFxuICAgICAgICAgICAgICAgICAgc2V0dGluZ0NoYXIhLk1QQVtNb2R1bGVUaXRsZS5BdXRob3JpdHldW2BzZWxmJHtzdWJNZW51fWBdIGFzIGJvb2xlYW4sXG4gICAgICAgICAgICAgICAgICBzZXR0aW5nQ2hhciFcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgIClcbiAgICAgICAgICB8fCAoXG4gICAgICAgICAgICAgICFQbGF5ZXIuQ2FuSW50ZXJhY3QoKSAmJiAoXG4gICAgICAgICAgICAgICAgICAoc2V0dGluZ0NoYXI/Lk1lbWJlck51bWJlciA9PT0gUGxheWVyLk1lbWJlck51bWJlclxuICAgICAgICAgICAgICAgICAgJiYgIVBsYXllci5NUEFbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XS5ib3VuZEFjY2Vzc1NlbGYpXG4gICAgICAgICAgICAgICAgICB8fCAoc2V0dGluZ0NoYXI/Lk1lbWJlck51bWJlciAhPT0gUGxheWVyLk1lbWJlck51bWJlclxuICAgICAgICAgICAgICAgICAgJiYgIVBsYXllci5NUEFbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XS5ib3VuZEFjY2Vzc090aGVycylcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICk7XG5cbiAgICAgICAgaWYgKElzQ2hlY2tib3hTZXR0aW5nKHNldHRpbmcpKVxuICAgICAgICB7XG4gICAgICAgICAgICBEcmF3Q2hlY2tib3goXG4gICAgICAgICAgICAgICAgT1BUSU9OX0xFRlQsXG4gICAgICAgICAgICAgICAgT1BUSU9OX1RPUCArIChpICogKE9QVElPTl9HQVAgKyBPUFRJT05fSEVJR0hUKSksXG4gICAgICAgICAgICAgICAgT1BUSU9OX0NIRUNLQk9YX1NJWkUsXG4gICAgICAgICAgICAgICAgT1BUSU9OX0NIRUNLQk9YX1NJWkUsXG4gICAgICAgICAgICAgICAgTG9jYWxpemVkVGV4dChzZXR0aW5nLmxhYmVsKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZUFsbChcIlRhcmdldENoYXJhY3RlclwiLCAoc2V0dGluZ0NoYXI/Lk5pY2tuYW1lIHx8IHNldHRpbmdDaGFyPy5OYW1lKSA/PyBcIlwiKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZUFsbChcIlRhcmdldFByb25vdW5Qb3NzZXNzaXZlXCIsIHNldHRpbmdDaGFyPy5HZXRQcm9ub3VucygpID09PSBcIlNoZUhlclwiID8gXCJoZXJcIiA6IFwiaGlzXCIpLFxuICAgICAgICAgICAgICAgICEhc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0sXG4gICAgICAgICAgICAgICAgZGlzYWJsZWRTZXR0aW5nLFxuICAgICAgICAgICAgICAgIFwiQmxhY2tcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChJc09wdGlvblNldHRpbmcoc2V0dGluZykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gc2V0dGluZy5vcHRpb25zLmluZGV4T2Yoc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gYXMgc3RyaW5nKTtcbiAgICAgICAgICAgIGNvbnN0IG9wdExlbiA9IHNldHRpbmcub3B0aW9ucy5sZW5ndGg7XG5cbiAgICAgICAgICAgIC8vIENhbid0IGRlY3JlYXNlIGF1dGhvcml0eSBiZXlvbmQgaWYgdGhlIHBsYXllciBpcyBub3Qgb2YgdGhhdCByYW5rXG4gICAgICAgICAgICBjb25zdCBwcm9maWxlT3JFeGNsdWRlcyA9IChzdWJNZW51ICE9PSBNb2R1bGVUaXRsZS5BdXRob3JpdHkpIHx8ICFBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUy5pbmNsdWRlcyhzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSk7XG4gICAgICAgICAgICBjb25zdCBwcmV2RGlzYWJsZWQgPSAhKHByb2ZpbGVPckV4Y2x1ZGVzIHx8IEF1dGhvcml0eUlzQ29tcGFyaXNvblRvQ2hhcmFjdGVyKHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdIGFzIEF1dGhvcml0eUdyb3VwLCBcIj49XCIsIFBsYXllci5NZW1iZXJOdW1iZXIgPz8gLTEsIHNldHRpbmdDaGFyISkpO1xuICAgICAgICAgICAgY29uc3QgbmV4dERpc2FibGVkID0gIShwcm9maWxlT3JFeGNsdWRlcyB8fCBBdXRob3JpdHlJc0NvbXBhcmlzb25Ub0NoYXJhY3RlcihzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSBhcyBBdXRob3JpdHlHcm91cCwgXCI+XCIsIFBsYXllci5NZW1iZXJOdW1iZXIgPz8gLTEsIHNldHRpbmdDaGFyISkpXG4gICAgICAgICAgICAgICYmIHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdICE9PSBcIlNlbGZcIjtcblxuICAgICAgICAgICAgRHJhd0JhY2tOZXh0QnV0dG9uKFxuICAgICAgICAgICAgICAgIE9QVElPTl9MRUZULFxuICAgICAgICAgICAgICAgIE9QVElPTl9UT1AgKyAoaSAqIChPUFRJT05fR0FQICsgT1BUSU9OX0hFSUdIVCkpLFxuICAgICAgICAgICAgICAgIE9QVElPTl9CQUNLX05FWFRfV0lEVEgsXG4gICAgICAgICAgICAgICAgT1BUSU9OX0hFSUdIVCxcbiAgICAgICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdIGFzIHN0cmluZyksXG4gICAgICAgICAgICAgICAgIShkaXNhYmxlZFNldHRpbmcgfHwgKHByZXZEaXNhYmxlZCAmJiBuZXh0RGlzYWJsZWQpKSA/IFwiI2ZmZmZmZlwiIDogXCIjYWFhYWFhXCIsXG4gICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAoKSA9PiBMb2NhbGl6ZWRUZXh0KHByZXZEaXNhYmxlZCA/IFwiXCIgOiAoc2V0dGluZy5sb29wID8gc2V0dGluZy5vcHRpb25zWyhpbmRleCAtIDEgKyBvcHRMZW4pICUgb3B0TGVuXSA6IGluZGV4ID4gMCA/IHNldHRpbmcub3B0aW9uc1tpbmRleCAtIDFdIDogXCJcIikpLFxuICAgICAgICAgICAgICAgICgpID0+IExvY2FsaXplZFRleHQobmV4dERpc2FibGVkID8gXCJcIiA6IChzZXR0aW5nLmxvb3AgPyBzZXR0aW5nLm9wdGlvbnNbKGluZGV4ICsgMSArIG9wdExlbikgJSBvcHRMZW5dIDogaW5kZXggKyAxIDwgb3B0TGVuID8gc2V0dGluZy5vcHRpb25zW2luZGV4ICsgMV0gOiBcIlwiKSksXG4gICAgICAgICAgICAgICAgZGlzYWJsZWRTZXR0aW5nIHx8IChwcmV2RGlzYWJsZWQgJiYgbmV4dERpc2FibGVkKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIERyYXdUZXh0Rml0KFxuICAgICAgICAgICAgICAgIExvY2FsaXplZFRleHQoc2V0dGluZy5sYWJlbClcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2VBbGwoXCJUYXJnZXRDaGFyYWN0ZXJcIiwgKHNldHRpbmdDaGFyPy5OaWNrbmFtZSB8fCBzZXR0aW5nQ2hhcj8uTmFtZSkgPz8gXCJcIilcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2VBbGwoXCJUYXJnZXRQcm9ub3VuUG9zc2Vzc2l2ZVwiLCBzZXR0aW5nQ2hhcj8uR2V0UHJvbm91bnMoKSA9PT0gXCJTaGVIZXJcIiA/IFwiaGVyXCIgOiBcImhpc1wiKSxcbiAgICAgICAgICAgICAgICBPUFRJT05fTEVGVCArIE9QVElPTl9CQUNLX05FWFRfV0lEVEggKyAoT1BUSU9OX0dBUCAqIDIpLFxuICAgICAgICAgICAgICAgIE9QVElPTl9UT1AgKyAoaSAqIChPUFRJT05fR0FQICsgT1BUSU9OX0hFSUdIVCkgKyBNYXRoLmNlaWwoT1BUSU9OX0hFSUdIVCAvIDIpKSxcbiAgICAgICAgICAgICAgICBDQU5WQVNfV0lEVEggLSAoT1BUSU9OX0xFRlQgKiAyKSAtIE9QVElPTl9CQUNLX05FWFRfV0lEVEgsXG4gICAgICAgICAgICAgICAgXCJCbGFja1wiLFxuICAgICAgICAgICAgICAgIFwiR3JheVwiXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKElzVGV4dFNldHRpbmcoc2V0dGluZykgfHwgSXNOdW1iZXJTZXR0aW5nKHNldHRpbmcpKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBpZCA9IEVsZW1lbnROYW1lKHN1Yk1lbnUsIHNldHRpbmdOYW1lKTtcbiAgICAgICAgICAgIEVsZW1lbnRQb3NpdGlvbkZpeGVkKFxuICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgIE9QVElPTl9MRUZULFxuICAgICAgICAgICAgICAgIE9QVElPTl9UT1AgKyAoaSAqIChPUFRJT05fR0FQICsgT1BUSU9OX0hFSUdIVCkpLFxuICAgICAgICAgICAgICAgIHNldHRpbmcud2lkdGggPz8gT1BUSU9OX1RFWFRfV0lEVEgsXG4gICAgICAgICAgICAgICAgT1BUSU9OX0hFSUdIVFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmIChkaXNhYmxlZFNldHRpbmcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgRWxlbWVudFNldEF0dHJpYnV0ZShpZCwgXCJkaXNhYmxlZFwiLCBcInRydWVcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgRWxlbWVudFJlbW92ZUF0dHJpYnV0ZShpZCwgXCJkaXNhYmxlZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIERyYXdUZXh0Rml0KFxuICAgICAgICAgICAgICAgIExvY2FsaXplZFRleHQoc2V0dGluZy5sYWJlbClcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2VBbGwoXCJUYXJnZXRDaGFyYWN0ZXJcIiwgKHNldHRpbmdDaGFyPy5OaWNrbmFtZSB8fCBzZXR0aW5nQ2hhcj8uTmFtZSkgPz8gXCJcIilcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2VBbGwoXCJUYXJnZXRQcm9ub3VuUG9zc2Vzc2l2ZVwiLCBzZXR0aW5nQ2hhcj8uR2V0UHJvbm91bnMoKSA9PT0gXCJTaGVIZXJcIiA/IFwiaGVyXCIgOiBcImhpc1wiKSxcbiAgICAgICAgICAgICAgICBPUFRJT05fTEVGVCArIChzZXR0aW5nLndpZHRoID8/IE9QVElPTl9URVhUX1dJRFRIKSArIChPUFRJT05fR0FQICogMiksXG4gICAgICAgICAgICAgICAgT1BUSU9OX1RPUCArIChpICogKE9QVElPTl9HQVAgKyBPUFRJT05fSEVJR0hUKSkgKyBNYXRoLmNlaWwoT1BUSU9OX0hFSUdIVCAvIDIpLFxuICAgICAgICAgICAgICAgIENBTlZBU19XSURUSCAtIChPUFRJT05fTEVGVCAqIDIpIC0gKHNldHRpbmcud2lkdGggPz8gT1BUSU9OX1RFWFRfV0lEVEgpLFxuICAgICAgICAgICAgICAgIFwiQmxhY2tcIixcbiAgICAgICAgICAgICAgICBcIkdyYXlcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBHZXRDbGlja2VkT3B0aW9uKHN1Yk1lbnU6IE1vZHVsZVRpdGxlKTogdm9pZFxue1xuICAgIC8vIFNob3VsZG4ndCBiZSBuZWVkZWQgYnV0IGFjdHMgYXMgZmFpbHNhZmUgYW5kIG1ha2VzIHR5cGVzY3JpcHQgaGFwcHlcbiAgICBpZiAoIXNldHRpbmdDaGFyKSB7IHJldHVybjsgfVxuXG4gICAgLy8gU2V0dGluZ3MgaGF2ZSB0byBiZSBkaXNwbGF5YWJsZSBhbmQgaGF2ZSBhIHZhbHVlIGV4aXN0IGluIHRoZSBzdG9yZWQgc2V0dGluZ3NcbiAgICBjb25zdCBzZXR0aW5nc1RvRGlzcGxheSA9IE9iamVjdC5lbnRyaWVzKGRlZmF1bHRTZXR0aW5nc1tzdWJNZW51XSA/PyB7fSlcbiAgICAgICAgLmZpbHRlcigoW2tleSwgc2V0dGluZ10pID0+IElzRGlzcGxheVNldHRpbmcoc2V0dGluZykgJiYgKGtleSBpbiAoc2V0dGluZ0NoYXI/Lk1QQVtzdWJNZW51XSA/PyB7fSkpKTtcblxuICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgdGhlIG9wdGlvbnMgYW5kIGNoZWNrIGlmIHRoZSBjbGljayBvY2N1cmVkIGluIHRoZSB0eXBlJ3MgY29ycmVzcG9uZGluZyBjbGljayB6b25lXG4gICAgc2V0dGluZ3NUb0Rpc3BsYXkuc2xpY2UoKGN1cnJlbnRQYWdlIC0gMSkgKiBPUFRJT05fUEVSX1BBR0UsIGN1cnJlbnRQYWdlICogT1BUSU9OX1BFUl9QQUdFKS5mb3JFYWNoKCh2YWwsIGkpID0+XG4gICAge1xuICAgICAgICBjb25zdCBbc2V0dGluZ05hbWUsIHNldHRpbmddID0gdmFsIGFzIFtzdHJpbmcsIERpc3BsYXllZFNldHRpbmddO1xuXG4gICAgICAgIGNvbnN0IGRpc2FibGVkU2V0dGluZyA9ICFzZXR0aW5nLmFjdGl2ZShzZXR0aW5nQ2hhciEpXG4gICAgICAgICAgfHwgKFxuICAgICAgICAgICAgICBgb3RoZXJzJHtzdWJNZW51fWAgaW4gc2V0dGluZ0NoYXIhLk1QQVtNb2R1bGVUaXRsZS5BdXRob3JpdHldXG4gICAgICAgICAgICAgICYmIGBzZWxmJHtzdWJNZW51fWAgaW4gc2V0dGluZ0NoYXIhLk1QQVtNb2R1bGVUaXRsZS5BdXRob3JpdHldXG4gICAgICAgICAgICAgICYmICFJc01lbWJlck51bWJlckluQXV0aEdyb3VwKFxuICAgICAgICAgICAgICAgICAgUGxheWVyLk1lbWJlck51bWJlciA/PyAtMSxcbiAgICAgICAgICAgICAgICAgIHNldHRpbmdDaGFyIS5NUEFbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XVtgb3RoZXJzJHtzdWJNZW51fWBdIGFzIEF1dGhvcml0eUdyb3VwLFxuICAgICAgICAgICAgICAgICAgc2V0dGluZ0NoYXIhLk1QQVtNb2R1bGVUaXRsZS5BdXRob3JpdHldW2BzZWxmJHtzdWJNZW51fWBdIGFzIGJvb2xlYW4sXG4gICAgICAgICAgICAgICAgICBzZXR0aW5nQ2hhciFcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgIClcbiAgICAgICAgICB8fCAoXG4gICAgICAgICAgICAgICFQbGF5ZXIuQ2FuSW50ZXJhY3QoKSAmJiAoXG4gICAgICAgICAgICAgICAgICAoc2V0dGluZ0NoYXI/Lk1lbWJlck51bWJlciA9PT0gUGxheWVyLk1lbWJlck51bWJlclxuICAgICAgICAgICAgICAgICAgJiYgIVBsYXllci5NUEFbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XS5ib3VuZEFjY2Vzc1NlbGYpXG4gICAgICAgICAgICAgICAgICB8fCAoc2V0dGluZ0NoYXI/Lk1lbWJlck51bWJlciAhPT0gUGxheWVyLk1lbWJlck51bWJlclxuICAgICAgICAgICAgICAgICAgJiYgIVBsYXllci5NUEFbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XS5ib3VuZEFjY2Vzc090aGVycylcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICk7XG5cbiAgICAgICAgaWYgKElzQ2hlY2tib3hTZXR0aW5nKHNldHRpbmcpKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgTW91c2VJbihcbiAgICAgICAgICAgICAgICAgICAgT1BUSU9OX0xFRlQsXG4gICAgICAgICAgICAgICAgICAgIE9QVElPTl9UT1AgKyAoaSAqIChPUFRJT05fR0FQICsgT1BUSU9OX0hFSUdIVCkpLFxuICAgICAgICAgICAgICAgICAgICBPUFRJT05fQ0hFQ0tCT1hfU0laRSxcbiAgICAgICAgICAgICAgICAgICAgT1BUSU9OX0NIRUNLQk9YX1NJWkVcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgJiYgIWRpc2FibGVkU2V0dGluZ1xuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdID0gIXNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdO1xuICAgICAgICAgICAgICAgIGlmIChzZXR0aW5nLm9uU2V0KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZy5vblNldChzZXR0aW5nQ2hhciEsIHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdLCAhc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZXR0aW5nc0VkaXRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoSXNPcHRpb25TZXR0aW5nKHNldHRpbmcpKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHNldHRpbmcub3B0aW9ucy5pbmRleE9mKHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdIGFzIHN0cmluZyk7XG4gICAgICAgICAgICBjb25zdCBvcHRMZW4gPSBzZXR0aW5nLm9wdGlvbnMubGVuZ3RoO1xuICAgICAgICAgICAgLy8gQmFjayBhcnJvd1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIE1vdXNlSW4oXG4gICAgICAgICAgICAgICAgICAgIE9QVElPTl9MRUZULFxuICAgICAgICAgICAgICAgICAgICBPUFRJT05fVE9QICsgKGkgKiAoT1BUSU9OX0dBUCArIE9QVElPTl9IRUlHSFQpKSxcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihPUFRJT05fQkFDS19ORVhUX1dJRFRIIC8gMiksXG4gICAgICAgICAgICAgICAgICAgIE9QVElPTl9IRUlHSFRcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgJiYgIWRpc2FibGVkU2V0dGluZ1xuICAgICAgICAgICAgICAgICYmIChzZXR0aW5nLmxvb3BcbiAgICAgICAgICAgICAgICB8fCBpbmRleCA+IDApXG4gICAgICAgICAgICAgICAgLy8gQ2FuJ3QgZGVjcmVhc2UgYXV0aG9yaXR5IGJleW9uZCBpZiB0aGUgcGxheWVyIGlzIG5vdCBvZiB0aGF0IHJhbmtcbiAgICAgICAgICAgICAgICAmJiAoc3ViTWVudSAhPT0gTW9kdWxlVGl0bGUuQXV0aG9yaXR5XG4gICAgICAgICAgICAgICAgfHwgIUFVVEhPUklUWV9HUk9VUF9PUFRJT05TLmluY2x1ZGVzKHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdKVxuICAgICAgICAgICAgICAgIHx8IEF1dGhvcml0eUlzQ29tcGFyaXNvblRvQ2hhcmFjdGVyKHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdIGFzIEF1dGhvcml0eUdyb3VwLCBcIj49XCIsIFBsYXllci5NZW1iZXJOdW1iZXIgPz8gLTEsIHNldHRpbmdDaGFyISkpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJldlZhbHVlID0gc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV07XG4gICAgICAgICAgICAgICAgc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gPSBzZXR0aW5nLm9wdGlvbnNbKGluZGV4IC0gMSArIG9wdExlbikgJSBvcHRMZW5dO1xuICAgICAgICAgICAgICAgIGlmIChzZXR0aW5nLm9uU2V0KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZy5vblNldChzZXR0aW5nQ2hhciEsIHNldHRpbmcub3B0aW9uc1soaW5kZXggLSAxICsgb3B0TGVuKSAlIG9wdExlbl0sIHByZXZWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNldHRpbmdzRWRpdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE5leHQgYXJyb3dcbiAgICAgICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgIE1vdXNlSW4oXG4gICAgICAgICAgICAgICAgICAgIE9QVElPTl9MRUZUICsgTWF0aC5mbG9vcihPUFRJT05fQkFDS19ORVhUX1dJRFRIIC8gMiksXG4gICAgICAgICAgICAgICAgICAgIE9QVElPTl9UT1AgKyAoaSAqIChPUFRJT05fR0FQICsgT1BUSU9OX0hFSUdIVCkpLFxuICAgICAgICAgICAgICAgICAgICBNYXRoLmNlaWwoT1BUSU9OX0JBQ0tfTkVYVF9XSURUSCAvIDIpLFxuICAgICAgICAgICAgICAgICAgICBPUFRJT05fSEVJR0hUXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICYmICFkaXNhYmxlZFNldHRpbmdcbiAgICAgICAgICAgICAgICAmJiAoc2V0dGluZy5sb29wXG4gICAgICAgICAgICAgICAgfHwgaW5kZXggKyAxIDwgc2V0dGluZy5vcHRpb25zLmxlbmd0aClcbiAgICAgICAgICAgICAgICAvLyBDYW4ndCBpbmNyZWFzZSBhdXRob3JpdHkgYmV5b25kIHdoYXQgdGhlIHBsYXllciB3aG8gaXMgc2V0dGluZyBpdCBpc1xuICAgICAgICAgICAgICAgICYmIChzdWJNZW51ICE9PSBNb2R1bGVUaXRsZS5BdXRob3JpdHlcbiAgICAgICAgICAgICAgICB8fCAhQVVUSE9SSVRZX0dST1VQX09QVElPTlMuaW5jbHVkZXMoc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0pXG4gICAgICAgICAgICAgICAgfHwgQXV0aG9yaXR5SXNDb21wYXJpc29uVG9DaGFyYWN0ZXIoc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gYXMgQXV0aG9yaXR5R3JvdXAsIFwiPlwiLCBQbGF5ZXIuTWVtYmVyTnVtYmVyID8/IC0xLCBzZXR0aW5nQ2hhciEpKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZWYWx1ZSA9IHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdO1xuICAgICAgICAgICAgICAgIHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdID0gc2V0dGluZy5vcHRpb25zWyhpbmRleCArIDEgKyBvcHRMZW4pICUgb3B0TGVuXTtcbiAgICAgICAgICAgICAgICBpZiAoc2V0dGluZy5vblNldClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmcub25TZXQoc2V0dGluZ0NoYXIhLCBzZXR0aW5nLm9wdGlvbnNbKGluZGV4ICsgMSArIG9wdExlbikgJSBvcHRMZW5dLCBwcmV2VmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZXR0aW5nc0VkaXRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEV4aXRCdXR0b25QcmVzc2VkKCk6IHZvaWRcbntcbiAgICBpZiAoY3VycmVudE1lbnUgPT09IG51bGwpXG4gICAge1xuICAgICAgICBpZiAod2luZG93Lk1QQS5tZW51TG9hZGVkKVxuICAgICAgICB7XG4gICAgICAgICAgICB3aW5kb3cuTVBBLm1lbnVMb2FkZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBQcmVmZXJlbmNlTWVudUV4aXQoKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoY3VycmVudE1lbnUgPT09IFwiUkVTRVRfU2V0dGluZ3NcIilcbiAgICB7XG4gICAgICAgIGN1cnJlbnRNZW51ID0gbnVsbDtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgLy8gU2F2ZSBhbGwgdGV4dCBmaWVsZHMgdG8gdGhlaXIgcmVzcGVjdGl2ZSBzZXR0aW5nXG4gICAgICAgIFVwZGF0ZUFuZERlbGV0ZUhUTUxFbGVtZW50cyhjdXJyZW50TWVudSk7XG4gICAgICAgIGN1cnJlbnRQYWdlID0gMTtcbiAgICAgICAgbWF4UGFnZXMgPSAxO1xuICAgICAgICBjdXJyZW50TWVudSA9IG51bGw7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUHJlZmVyZW5jZU1lbnVDbGljaygpOiB2b2lkXG57XG4gICAgaWYgKE1vdXNlSW4oLi4uRVhJVF9QT1NJU1RJT04pKVxuICAgIHtcbiAgICAgICAgRXhpdEJ1dHRvblByZXNzZWQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChzZXR0aW5nQ2hhcj8uTWVtYmVyTnVtYmVyID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyICYmIGN1cnJlbnRNZW51ID09PSBudWxsKVxuICAgIHtcbiAgICAgICAgaWYgKE1vdXNlSW4oLi4uV0lLSV9QT1NJVElPTikpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHdpbmRvdy5vcGVuKFdJS0lfTElOSywgXCJfYmxhbmtcIik/LmZvY3VzKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE1vdXNlSW4oLi4uUkVTRVRfUE9TSVRJT04pKVxuICAgICAgICB7XG4gICAgICAgICAgICBjdXJyZW50TWVudSA9IFwiUkVTRVRfU2V0dGluZ3NcIjtcbiAgICAgICAgICAgIGFsbG93UmVzZXRUaW1lID0gRGF0ZS5ub3coKSArIDEwMDAwO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChNb3VzZUluKC4uLklNUE9SVF9QT1NJVElPTikpXG4gICAgICAgIHtcbiAgICAgICAgICAgIEltcG9ydFNldHRpbmdzRnJvbUNsaXBib2FyZCgpLnRoZW4oKCkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzZXR0aW5nc0FsZXJ0VGV4dCA9IFwiU2V0dGluZ3MgaW1wb3J0ZWQgZnJvbSBjbGlwYm9hcmRcIjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNldHRpbmdzQWxlcnRUZXh0ID0gXCJGYWlsZWQgdG8gaW1wb3J0IHNldHRpbmdzXCI7XG4gICAgICAgICAgICB9KS5maW5hbGx5KCgpID0+IHNob3dTZXR0aW5nc0FsZXJ0ID0gRGF0ZS5ub3coKSArIDUwMDApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChNb3VzZUluKC4uLkVYUE9SVF9QT1NJVElPTikpXG4gICAgICAgIHtcbiAgICAgICAgICAgIEV4cG9ydFNldHRpbmdzVG9DbGlwYm9hcmQoKS50aGVuKCgpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2V0dGluZ3NBbGVydFRleHQgPSBcIlNldHRpbmdzIGNvcGllZCB0byBjbGlwYm9hcmRcIjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNldHRpbmdzQWxlcnRUZXh0ID0gXCJGYWlsZWQgdG8gZXhwb3J0IHNldHRpbmdzXCI7XG4gICAgICAgICAgICB9KS5maW5hbGx5KCgpID0+IHNob3dTZXR0aW5nc0FsZXJ0ID0gRGF0ZS5ub3coKSArIDUwMDApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gR2V0IHRoZSBzdWJtZW51IGNsaWNrZWQgb3B0aW9uc1xuICAgIGlmIChjdXJyZW50TWVudSA9PT0gbnVsbCAmJiBHZXRDbGlja2VkTWVudShNRU5VX0NBVEVHT1JJRVMoKSkgIT09IG51bGwpXG4gICAge1xuICAgICAgICBjdXJyZW50TWVudSA9IEdldENsaWNrZWRNZW51KE1FTlVfQ0FURUdPUklFUygpKTtcbiAgICAgICAgY3VycmVudFBhZ2UgPSAxO1xuICAgICAgICBtYXhQYWdlcyA9IE1hdGguY2VpbChPYmplY3QuZW50cmllcyhkZWZhdWx0U2V0dGluZ3NbY3VycmVudE1lbnUgPz8gXCJcIl0gPz8ge30pXG4gICAgICAgICAgICAuZmlsdGVyKChba2V5LCBzZXR0aW5nXSkgPT4gSXNEaXNwbGF5U2V0dGluZyhzZXR0aW5nKSAmJiAoa2V5IGluIChzZXR0aW5nQ2hhcj8uTVBBW2N1cnJlbnRNZW51ID8/IFwiXCJdID8/IHt9KSkpXG4gICAgICAgICAgICAubGVuZ3RoIC8gT1BUSU9OX1BFUl9QQUdFKTtcbiAgICAgICAgQ3JlYXRlSFRNTEVsZW1lbnRzKGN1cnJlbnRNZW51KTtcbiAgICB9XG4gICAgaWYgKGN1cnJlbnRNZW51ID09PSBcIlJFU0VUX1NldHRpbmdzXCIpXG4gICAge1xuICAgICAgICBSZXNldE1lbnVDbGljaygpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIEdldCBvcHRpb24gb2YgdGhlIGN1cnJlbnQgbWVudVxuICAgIGlmIChjdXJyZW50TWVudSAhPT0gbnVsbClcbiAgICB7XG4gICAgICAgIC8vIE5leHQgYW5kIHByZXZpb3VzIGJ1dHRvbnNcbiAgICAgICAgLy8gT25seSBjaGVjayBpZiBzZXR0aW5nIHBhZ2UgbmVlZHMgaXRcbiAgICAgICAgaWYgKE9iamVjdC5lbnRyaWVzKGRlZmF1bHRTZXR0aW5nc1tjdXJyZW50TWVudSA/PyBcIlwiXSA/PyB7fSlcbiAgICAgICAgICAgIC5maWx0ZXIoKFtrZXksIHNldHRpbmddKSA9PiBJc0Rpc3BsYXlTZXR0aW5nKHNldHRpbmcpICYmIChrZXkgaW4gKHNldHRpbmdDaGFyPy5NUEFbY3VycmVudE1lbnUgPz8gXCJcIl0gPz8ge30pKSlcbiAgICAgICAgICAgIC5sZW5ndGggPiBPUFRJT05fUEVSX1BBR0VcbiAgICAgICAgKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoTW91c2VJbiguLi5ORVhUX0JVVFRPTl9QT1MpICYmIGN1cnJlbnRQYWdlIDwgbWF4UGFnZXMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgVXBkYXRlQW5kRGVsZXRlSFRNTEVsZW1lbnRzKGN1cnJlbnRNZW51KTtcbiAgICAgICAgICAgICAgICBjdXJyZW50UGFnZSsrO1xuICAgICAgICAgICAgICAgIENyZWF0ZUhUTUxFbGVtZW50cyhjdXJyZW50TWVudSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKE1vdXNlSW4oLi4uUFJFVl9CVVRUT05fUE9TKSAmJiBjdXJyZW50UGFnZSA+IDEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgVXBkYXRlQW5kRGVsZXRlSFRNTEVsZW1lbnRzKGN1cnJlbnRNZW51KTtcbiAgICAgICAgICAgICAgICBjdXJyZW50UGFnZS0tO1xuICAgICAgICAgICAgICAgIENyZWF0ZUhUTUxFbGVtZW50cyhjdXJyZW50TWVudSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIEdldENsaWNrZWRPcHRpb24oY3VycmVudE1lbnUpO1xuICAgIH1cblxuICAgIHJldHVybjtcbn1cblxuZnVuY3Rpb24gUmVzZXRNZW51Q2xpY2soKTogdm9pZFxue1xuICAgIGlmIChNb3VzZUluKC4uLlJFU0VUX0NPTkZJUk1fUE9TSVRJT04pICYmIERhdGUubm93KCkgPiBhbGxvd1Jlc2V0VGltZSlcbiAgICB7XG4gICAgICAgIFJlc2V0U3RvcmFnZSgpO1xuICAgICAgICBjdXJyZW50TWVudSA9IG51bGw7XG4gICAgICAgIGFsbG93UmVzZXRUaW1lID0gMDtcbiAgICB9XG5cbiAgICBpZiAoTW91c2VJbiguLi5SRVNFVF9DQU5DRUxfUE9TSVRJT04pKVxuICAgIHtcbiAgICAgICAgY3VycmVudE1lbnUgPSBudWxsO1xuICAgICAgICBhbGxvd1Jlc2V0VGltZSA9IDA7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBSZXNldE1lbnVSdW4oKTogdm9pZFxue1xuICAgIGNvbnN0IHByZXZUZXh0QWxpZ24gPSBNYWluQ2FudmFzLnRleHRBbGlnbjtcbiAgICBNYWluQ2FudmFzLnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XG5cbiAgICBEcmF3VGV4dChcbiAgICAgICAgTG9jYWxpemVkVGV4dChcIldBUk5JTkc6IEFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byByZXNldCB5b3VyIE1QQSBzZXR0aW5ncyBhbmQgZGF0YSBiYWNrIHRvIGRlZmF1bHQ/XCIpLFxuICAgICAgICBDQU5WQVNfV0lEVEggLyAyLFxuICAgICAgICAyNTAsXG4gICAgICAgIFwiIzAwMDAwMFwiLFxuICAgICAgICBcIiNhYWFhYWFcIlxuICAgICk7XG4gICAgRHJhd1RleHQoXG4gICAgICAgIC8vIEEgbGl0dGxlIGhvbWFnZSB0byBCQ1ggYW5kIExTQ0cgZm9yIGJlaW5nIGdyZWF0IG9wZW4gc291cmNlIHJlZmVyZW5jZXMgb24gdGhpcyBwcm9qZWN0XG4gICAgICAgIExvY2FsaXplZFRleHQoXCJUaGlzIGFjdGlvbiBjYW4gbm90IGJlIHVuZG9uZSFcIiksXG4gICAgICAgIENBTlZBU19XSURUSCAvIDIsXG4gICAgICAgIDQwMCxcbiAgICAgICAgXCIjZmYwMDAwXCIsXG4gICAgICAgIFwiI2FhYWFhYVwiXG4gICAgKTtcbiAgICBEcmF3VGV4dChcbiAgICAgICAgTG9jYWxpemVkVGV4dChcIkV4cG9ydCBhbmQgc2F2ZSB5b3VyIHNldHRpbmdzIEJFRk9SRSBjb25maXJtaW5nIGlmIHlvdSBhcmUgdW5zdXJlLlwiKSxcbiAgICAgICAgQ0FOVkFTX1dJRFRIIC8gMixcbiAgICAgICAgNTUwLFxuICAgICAgICBcIiM2OTY5NjlcIixcbiAgICAgICAgXCIjYWFhYWFhXCJcbiAgICApO1xuXG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICBpZiAobm93IDw9IGFsbG93UmVzZXRUaW1lKVxuICAgIHtcbiAgICAgICAgRHJhd0J1dHRvbihcbiAgICAgICAgICAgIC4uLlJFU0VUX0NPTkZJUk1fUE9TSVRJT04sXG4gICAgICAgICAgICBgJHtMb2NhbGl6ZWRUZXh0KFwiQ29uZmlybVwiKX0gKCR7TWF0aC5mbG9vcigoYWxsb3dSZXNldFRpbWUgLSBub3cpIC8gMTAwMCl9KWAsXG4gICAgICAgICAgICBcIiNhYWFhYWFcIixcbiAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHRydWVcbiAgICAgICAgKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgRHJhd0J1dHRvbihcbiAgICAgICAgICAgIC4uLlJFU0VUX0NPTkZJUk1fUE9TSVRJT04sXG4gICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KFwiQ29uZmlybVwiKSxcbiAgICAgICAgICAgIFwiI2ZmMDAwMFwiXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgRHJhd0J1dHRvbihcbiAgICAgICAgLi4uUkVTRVRfQ0FOQ0VMX1BPU0lUSU9OLFxuICAgICAgICBMb2NhbGl6ZWRUZXh0KFwiQ2FuY2VsXCIpLFxuICAgICAgICBcIldoaXRlXCJcbiAgICApO1xuXG4gICAgTWFpbkNhbnZhcy50ZXh0QWxpZ24gPSBwcmV2VGV4dEFsaWduO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUHJlZmVyZW5jZU1lbnVSdW4oKTogdm9pZFxue1xuICAgIGlmIChjdXJyZW50TWVudSA9PT0gXCJSRVNFVF9TZXR0aW5nc1wiKVxuICAgIHtcbiAgICAgICAgUmVzZXRNZW51UnVuKCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBwcmV2VGV4dEFsaWduID0gTWFpbkNhbnZhcy50ZXh0QWxpZ247XG4gICAgRHJhd0J1dHRvbiguLi5FWElUX1BPU0lTVElPTiwgXCJcIiwgXCJXaGl0ZVwiLCBcIkljb25zL0V4aXQucG5nXCIpO1xuICAgIE1haW5DYW52YXMudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcbiAgICBEcmF3VGV4dChgJHtMb2NhbGl6ZWRUZXh0KFwiTWF5YSdzIFBldHBsYXkgQWRkaXRpb25zXCIpfSR7Y3VycmVudE1lbnUgPyBgIC0gJHtzZXR0aW5nQ2hhcj8uTmlja25hbWUgfHwgc2V0dGluZ0NoYXI/Lk5hbWV9J3MgJHtMb2NhbGl6ZWRUZXh0KE1FTlVfVElUTEVTW2N1cnJlbnRNZW51XSA/PyBjdXJyZW50TWVudSl9YCA6IFwiXCJ9YCwgMTAwMCwgMTI1LCBcIkJsYWNrXCIsIFwiR3JheVwiKTtcblxuICAgIC8vIFdpa2ksIFJlc2V0LCBpbXBvcnQgYW5kIGV4cG9ydCBidXQgb25seSB3aGlsZSBQbGF5ZXJcbiAgICBpZiAoc2V0dGluZ0NoYXI/Lk1lbWJlck51bWJlciA9PT0gUGxheWVyLk1lbWJlck51bWJlciAmJiBjdXJyZW50TWVudSA9PT0gbnVsbClcbiAgICB7XG4gICAgICAgIGlmIChzaG93U2V0dGluZ3NBbGVydCA+PSBEYXRlLm5vdygpKVxuICAgICAgICB7XG4gICAgICAgICAgICBNYWluQ2FudmFzLnRleHRBbGlnbiA9IFwibGVmdFwiO1xuICAgICAgICAgICAgRHJhd1RleHRGaXQoXG4gICAgICAgICAgICAgICAgc2V0dGluZ3NBbGVydFRleHQsXG4gICAgICAgICAgICAgICAgLi4uQUxFUlRfUE9TSVRJT04sXG4gICAgICAgICAgICAgICAgXCJCbGFja1wiLFxuICAgICAgICAgICAgICAgIFwiR3JheVwiXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIE1haW5DYW52YXMudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcbiAgICAgICAgRHJhd0J1dHRvbihcbiAgICAgICAgICAgIC4uLldJS0lfUE9TSVRJT04sXG4gICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KFwiV2lraVwiKSxcbiAgICAgICAgICAgIFwiI2ZmZmZmZlwiLFxuICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgIExvY2FsaXplZFRleHQoXCJPcGVuIHRoZSBNUEEgd2lraSBpbiBhIG5ldyB0YWJcIilcbiAgICAgICAgKTtcbiAgICAgICAgRHJhd0J1dHRvbihcbiAgICAgICAgICAgIC4uLlJFU0VUX1BPU0lUSU9OLFxuICAgICAgICAgICAgTG9jYWxpemVkVGV4dChcIlJFU0VUXCIpLFxuICAgICAgICAgICAgXCIjZmYyZTJlYWFcIixcbiAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KFwiUmVzZXQgYWxsIHlvdXIgc2V0dGluZ3MgYmFjayB0byBkZWZhdWx0XCIpXG4gICAgICAgICk7XG4gICAgICAgIERyYXdCdXR0b24oXG4gICAgICAgICAgICAuLi5JTVBPUlRfUE9TSVRJT04sXG4gICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KFwiSW1wb3J0XCIpLFxuICAgICAgICAgICAgXCIjZmZmZmZmXCIsXG4gICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgTG9jYWxpemVkVGV4dChcIkltcG9ydCB0aGUgc2V0dGluZ3MgY29waWVkIHRvIHlvdXIgY2xpcGJvYXJkXCIpXG4gICAgICAgICk7XG4gICAgICAgIERyYXdCdXR0b24oXG4gICAgICAgICAgICAuLi5FWFBPUlRfUE9TSVRJT04sXG4gICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KFwiRXhwb3J0XCIpLFxuICAgICAgICAgICAgXCIjZmZmZmZmXCIsXG4gICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgTG9jYWxpemVkVGV4dChcIkV4cG9ydCB5b3VyIGN1cnJlbnQgc2V0dGluZ3MgdG8gdGhlIGNsaXBib2FyZFwiKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIE1haW5DYW52YXMudGV4dEFsaWduID0gXCJsZWZ0XCI7XG4gICAgaWYgKGN1cnJlbnRNZW51ID09PSBudWxsKVxuICAgIHtcbiAgICAgICAgLy8gRHJhdyBhbGwgdGhlIGJ1dHRvbnMgdG8gYWNjZXNzIHRoZSBzdWJtZW51c1xuICAgICAgICBEcmF3TWVudU9wdGlvbnMoTUVOVV9DQVRFR09SSUVTKCkpO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICAvLyBEcmF3IHRoZSBvcHRpb25zIGluIHRoZSBzdWJtZW51XG4gICAgICAgIERyYXdTdWJNZW51T3B0aW9ucyhjdXJyZW50TWVudSk7XG4gICAgfVxuICAgIE1haW5DYW52YXMudGV4dEFsaWduID0gcHJldlRleHRBbGlnbjtcbiAgICByZXR1cm47XG59XG5cbmZ1bmN0aW9uIFByZWZlcmVuY2VNZW51RXhpdCgpOiBib29sZWFuIHwgdm9pZFxue1xuICAgIC8vIFNob3VsZG4ndCBiZSBuZWVkZWQgYnV0IGFjdHMgYXMgZmFpbHNhZmUgYW5kIG1ha2VzIHR5cGVzY3JpcHQgaGFwcHlcbiAgICBpZiAoIXNldHRpbmdDaGFyKSB7IHJldHVybjsgfVxuXG4gICAgaWYgKHNldHRpbmdzRWRpdGVkKVxuICAgIHtcbiAgICAgICAgaWYgKHNldHRpbmdDaGFyLk1lbWJlck51bWJlciA9PT0gUGxheWVyLk1lbWJlck51bWJlcilcbiAgICAgICAge1xuICAgICAgICAgICAgTGV2ZWxTeW5jKGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICAgICAgU2F2ZVN0b3JhZ2UodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBTZW5kTVBBTWVzc2FnZShcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiU2V0dGluZ1B1dFJlcXVlc3RcIixcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3M6IHNldHRpbmdDaGFyLk1QQVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2V0dGluZ0NoYXIuTWVtYmVyTnVtYmVyXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChzZXR0aW5nQ2hhci5NZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXIpXG4gICAge1xuICAgICAgICBQcmVmZXJlbmNlU3Vic2NyZWVuRXh0ZW5zaW9uc0NsZWFyKCk7XG4gICAgfVxuICAgIHNldHRpbmdzRWRpdGVkID0gZmFsc2U7XG4gICAgc2V0dGluZ0NoYXIgPSBudWxsO1xuICAgIHNldHRpbmdzT3BlbiA9IGZhbHNlO1xufVxuXG4vKipcbiAqIENhbGxlZCBvbmNlIHdoZW4gdGhlIFByZWZlcmVuY2UgTWVudSBsb2FkcyB1cCBhZnRlciBvcGVuaW5nXG4gKi9cbmZ1bmN0aW9uIFByZWZlcmVuY2VNZW51TG9hZCgpOiB2b2lkXG57XG4gICAgLy8gU2hvdWxkbid0IGJlIG5lZWRlZCBidXQgYWN0cyBhcyBmYWlsc2FmZSBhbmQgbWFrZXMgdHlwZXNjcmlwdCBoYXBweVxuICAgIGlmICghc2V0dGluZ0NoYXIpIHsgcmV0dXJuOyB9XG4gICAgc2V0dGluZ3NPcGVuID0gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gUGxheWVyUHJlZmVyZW5jZU1lbnVMb2FkKCk6IHZvaWRcbntcbiAgICBzZXR0aW5nc0VkaXRlZCA9IGZhbHNlO1xuICAgIHNldHRpbmdDaGFyID0gUGxheWVyO1xuICAgIFByZWZlcmVuY2VNZW51TG9hZCgpO1xufVxuXG4vKipcbiAqIEdldCB0aGUgc3RyaW5nIHdpdGggYW4gTVBBIGlkZW50aWZpZXIgaW4gZnJvbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEVsZW1lbnROYW1lKHRpdGxlOiBNb2R1bGVUaXRsZSB8IHN0cmluZywgc2V0dGluZzogc3RyaW5nKTogc3RyaW5nXG57XG4gICAgcmV0dXJuIGBNUEFfT1BUSU9OXyR7dGl0bGV9JHtzZXR0aW5nfWA7XG59XG5cbi8qKlxuICogQ3JlYXRlIGFuZCBoaWRlIGFsbCB0aGUgSFRNTCBlbGVtZW50cyB0aGF0IGFyZSBuZWVkZWQgZm9yIHRoZSBQcmVmZXJlbmNlIFNldHRpbmcgcGFnZVxuICovXG5mdW5jdGlvbiBDcmVhdGVIVE1MRWxlbWVudHMoc3ViTWVudTogTW9kdWxlVGl0bGUgfCBudWxsLCBwYWdlOiBudW1iZXIgPSBjdXJyZW50UGFnZSk6IHZvaWRcbntcbiAgICBpZiAoIXN1Yk1lbnUpIHsgcmV0dXJuOyB9XG4gICAgLy8gU2hvdWxkbid0IGJlIG5lZWRlZCBidXQgYWN0cyBhcyBmYWlsc2FmZSBhbmQgbWFrZXMgdHlwZXNjcmlwdCBoYXBweVxuICAgIGlmICghc2V0dGluZ0NoYXIpIHsgcmV0dXJuOyB9XG5cbiAgICBPYmplY3QuZW50cmllcyhkZWZhdWx0U2V0dGluZ3Nbc3ViTWVudV0gPz8ge30pLnNsaWNlKChwYWdlIC0gMSkgKiBPUFRJT05fUEVSX1BBR0UsIHBhZ2UgKiBPUFRJT05fUEVSX1BBR0UpLmZvckVhY2goKHNldCkgPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IFtzZXR0aW5nTmFtZSwgc2V0dGluZ10gPSBzZXQ7XG4gICAgICAgIGNvbnN0IGlkID0gRWxlbWVudE5hbWUoc3ViTWVudSwgc2V0dGluZ05hbWUpO1xuICAgICAgICBpZiAoSXNUZXh0U2V0dGluZyhzZXR0aW5nKSlcbiAgICAgICAge1xuICAgICAgICAgICAgRWxlbWVudENyZWF0ZUlucHV0KGlkLCBcInRleHRcIiwgc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gYXMgc3RyaW5nLCBzZXR0aW5nLm1heENoYXJzID8/IE9QVElPTl9URVhUX01BWF9DSEFSUyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoSXNOdW1iZXJTZXR0aW5nKHNldHRpbmcpKVxuICAgICAgICB7XG4gICAgICAgICAgICBFbGVtZW50Q3JlYXRlSW5wdXQoaWQsIFwibnVtYmVyXCIsIHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgRWxlbWVudFNldEF0dHJpYnV0ZShpZCwgXCJtaW5cIiwgc2V0dGluZy5taW4udG9TdHJpbmcoKSk7XG4gICAgICAgICAgICBFbGVtZW50U2V0QXR0cmlidXRlKGlkLCBcIm1heFwiLCBzZXR0aW5nLm1heC50b1N0cmluZygpKTtcbiAgICAgICAgICAgIEVsZW1lbnRTZXRBdHRyaWJ1dGUoaWQsIFwiaW5wdXRtb2RlXCIsIFwiZGVjaW1hbFwiKTtcbiAgICAgICAgICAgIGlmIChzZXR0aW5nLnN0ZXApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgRWxlbWVudFNldEF0dHJpYnV0ZShpZCwgXCJzdGVwXCIsIHNldHRpbmcuc3RlcC50b1N0cmluZygpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufVxuLyoqXG4gKiBVcGRhdGUgdGhlIHNldHRpbmcgdmFsdWVzIHRvIHJlZmxlY3QgdGhvc2UgaW4gdGhlIGh0bWwgZWxlbWVudHMgYW5kIGRlbGV0ZSB0aGVtIGFmdGVyXG4gKi9cbmZ1bmN0aW9uIFVwZGF0ZUFuZERlbGV0ZUhUTUxFbGVtZW50cyhzdWJNZW51OiBNb2R1bGVUaXRsZSwgcGFnZTogbnVtYmVyID0gY3VycmVudFBhZ2UpOiB2b2lkXG57XG4gICAgLy8gU2hvdWxkbid0IGJlIG5lZWRlZCBidXQgYWN0cyBhcyBmYWlsc2FmZSBhbmQgbWFrZXMgdHlwZXNjcmlwdCBoYXBweVxuICAgIGlmICghc2V0dGluZ0NoYXIpIHsgcmV0dXJuOyB9XG5cbiAgICAvLyBVcGRhdGUgdGhlIHZpcnR1YWwgcGV0IHN0YXRzIGJhc2VkIG9uIGN1cnJlbnQgdmFsdWVzIHNvIHRoZSBsZXZlbCBkb2Vzbid0IGp1bXAgYXJvdW5kXG4gICAgaWYgKHN1Yk1lbnUgPT09IE1vZHVsZVRpdGxlLlZpcnR1YWxQZXQpXG4gICAge1xuICAgICAgICBMZXZlbFN5bmMoZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgT2JqZWN0LmVudHJpZXMoZGVmYXVsdFNldHRpbmdzW3N1Yk1lbnVdID8/IHt9KS5zbGljZSgocGFnZSAtIDEpICogT1BUSU9OX1BFUl9QQUdFLCBwYWdlICogT1BUSU9OX1BFUl9QQUdFKS5mb3JFYWNoKChzZXQpID0+XG4gICAge1xuICAgICAgICBjb25zdCBbc2V0dGluZ05hbWUsIHNldHRpbmddID0gc2V0O1xuICAgICAgICBjb25zdCBpZCA9IEVsZW1lbnROYW1lKHN1Yk1lbnUsIHNldHRpbmdOYW1lKTtcbiAgICAgICAgaWYgKElzVGV4dFNldHRpbmcoc2V0dGluZykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSAhPT0gRWxlbWVudFZhbHVlKGlkKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSA9IEVsZW1lbnRWYWx1ZShpZCk7XG4gICAgICAgICAgICAgICAgc2V0dGluZ3NFZGl0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgRWxlbWVudFJlbW92ZShpZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKElzTnVtYmVyU2V0dGluZyhzZXR0aW5nKSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdICE9PSBOdW1iZXIoRWxlbWVudFZhbHVlKGlkKSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gPSBOdW1iZXIoRWxlbWVudFZhbHVlKGlkKSk7XG4gICAgICAgICAgICAgICAgc2V0dGluZ3NFZGl0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgRWxlbWVudFJlbW92ZShpZCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZXhwb3J0IGNsYXNzIFNldHRpbmdzTW9kdWxlIGV4dGVuZHMgTW9kdWxlXG57XG4gICAgZ2V0IFRpdGxlKCk6IE1vZHVsZVRpdGxlXG4gICAge1xuICAgICAgICByZXR1cm4gTW9kdWxlVGl0bGUuU2V0dGluZ3M7XG4gICAgfVxuXG4gICAgTG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICAvLyBBZGQgc2V0dGluZ3MgdG8gdGhlIGV4dGVuc2lvbiBvcHRpb25zXG4gICAgICAgIFByZWZlcmVuY2VSZWdpc3RlckV4dGVuc2lvblNldHRpbmcoe1xuICAgICAgICAgICAgSWRlbnRpZmllcjogXCJNUEFcIixcbiAgICAgICAgICAgIEJ1dHRvblRleHQ6IExvY2FsaXplZFRleHQoXCJNUEEgU2V0dGluZ3NcIiksXG4gICAgICAgICAgICBJbWFnZTogSUNPTlMuUEFXLFxuICAgICAgICAgICAgY2xpY2s6IFByZWZlcmVuY2VNZW51Q2xpY2ssXG4gICAgICAgICAgICBydW46IFByZWZlcmVuY2VNZW51UnVuLFxuICAgICAgICAgICAgZXhpdDogUHJlZmVyZW5jZU1lbnVFeGl0LFxuICAgICAgICAgICAgbG9hZDogUGxheWVyUHJlZmVyZW5jZU1lbnVMb2FkXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFdoZW4gcHJlc3NpbmcgZXNjYXBlLCBvbmx5IGdvIHRvIG1haW4gbWVudSBpZiBpbiBzdWIgbWVudVxuICAgICAgICBmdW5jdGlvbiBFc2NhcGVIYW5kbGVyKGV2ZW50OiBLZXlib2FyZEV2ZW50KTogdm9pZFxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgKGV2ZW50LmtleSA9PT0gXCJFc2NhcGVcIiB8fCBldmVudC5rZXkgPT09IFwiRXNjXCIpXG4gICAgICAgICAgICAgICAgJiYgc2V0dGluZ3NPcGVuXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRNZW51ID09PSBudWxsKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgUHJlZmVyZW5jZU1lbnVFeGl0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGN1cnJlbnRNZW51ID09PSBcIlJFU0VUX1NldHRpbmdzXCIpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBhbGxvd1Jlc2V0VGltZSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFVwZGF0ZUFuZERlbGV0ZUhUTUxFbGVtZW50cyhjdXJyZW50TWVudSk7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlID0gMTtcbiAgICAgICAgICAgICAgICAgICAgbWF4UGFnZXMgPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjdXJyZW50TWVudSA9IG51bGw7XG4gICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXByZXNzXCIsIEVzY2FwZUhhbmRsZXIsIHRydWUpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBFc2NhcGVIYW5kbGVyLCB0cnVlKTtcbiAgICB9XG5cbiAgICBVbmxvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgLy8gVW5sb2FkIGJlaW5nIGVtcHR5IGlzIHdhbnRlZCwgbmV2ZXIgdW5sb2FkIHNldHRpbmdzXG4gICAgfVxuXG4gICAgUmVsb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIC8vIFJlbG9hZCBiZWluZyBlbXB0eSBpcyB3YW50ZWQsIG5ldmVyIHJlbG9hZCBzZXR0aW5nc1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEFycmF5VG9SZWFkYWJsZVN0cmluZywgSG9va2VkTWVzc2FnZSwgTVBBTWVzc2FnZUNvbnRlbnQsIE1QQU5vdGlmeVBsYXllciwgTm90aWZ5UGxheWVyLCBTZW5kTVBBTWVzc2FnZSB9IGZyb20gXCIuLi91dGlsL21lc3NhZ2luZ1wiO1xuaW1wb3J0IHsgTG9jYWxpemVkVGV4dCB9IGZyb20gXCIuLi9sb2NhbGl6YXRpb24vbG9jYWxpemF0aW9uXCI7XG5pbXBvcnQgeyBJQ09OUyB9IGZyb20gXCIuLi91dGlsL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgYmN4Rm91bmQsIEhvb2tGdW5jdGlvbiB9IGZyb20gXCIuLi91dGlsL3Nka1wiO1xuaW1wb3J0IHsgTW9kdWxlLCBNb2R1bGVUaXRsZSB9IGZyb20gXCIuL19tb2R1bGVcIjtcbmltcG9ydCB7IEV4aXRCdXR0b25QcmVzc2VkLCBNRU5VX1RJVExFUywgUHJlZmVyZW5jZU1lbnVDbGljaywgUHJlZmVyZW5jZU1lbnVSdW4sIFNldFNldHRpbmdDaGFyIH0gZnJvbSBcIi4vc2V0dGluZ3NcIjtcbmltcG9ydCB7IFNhdmVTdG9yYWdlIH0gZnJvbSBcIi4uL3V0aWwvc3RvcmFnZVwiO1xuaW1wb3J0IHsgTGV2ZWxTeW5jIH0gZnJvbSBcIi4vdmlydHVhbFBldFwiO1xuaW1wb3J0IHsgSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cCB9IGZyb20gXCIuLi91dGlsL2F1dGhvcml0eVwiO1xuaW1wb3J0IHsgc2V0dGluZ3MgYXMgZGVmYXVsdFNldHRpbmdzIH0gZnJvbSBcIi4uL3V0aWwvcmVnaXN0ZXJNb2R1bGVzXCI7XG5cbi8vIE90aGVyIHNldHRpbmdzXG5jb25zdCBNUEFfUkVNT1RFID0gWzE3MDAsIDc2NSwgOTAsIDkwXSBhcyBjb25zdDtcbi8vIEJDWCBtb3ZlcyB0aGUgYnV0dG9uIGRvd24gYnkgMzUgZm9yIHNvbWUgcmVhc29uXG5jb25zdCBNUEFfUkVNT1RFX0JDWCA9IFsxNzAwLCA4MDAsIDkwLCA5MF0gYXMgY29uc3Q7XG5cbmZ1bmN0aW9uIEFycmF5c0VxdWFsKGFycjE6IGFueVtdLCBhcnIyOiBhbnlbXSk6IGJvb2xlYW5cbntcbiAgICBpZiAoYXJyMS5sZW5ndGggIT09IGFycjIubGVuZ3RoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgcmV0dXJuIGFycjEuZXZlcnkoKHZhbHVlLCBpbmRleCkgPT4gdmFsdWUgPT09IGFycjJbaW5kZXhdKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIE9iamVjdERpZmZlcmVuY2VzKG9sZE9iajogb2JqZWN0LCBuZXdPYmo6IG9iamVjdCk6IG9iamVjdFxue1xuICAgIGNvbnN0IGRpZmZlcmVuY2VzID0ge307XG5cbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvbGRPYmopXG4gICAge1xuICAgICAgICAvLyBLZXkgaXMgbWlzc2luZyBpbiBuZXdPYmpcbiAgICAgICAgaWYgKCEoa2V5IGluIG5ld09iaikpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRpZmZlcmVuY2VzW2tleV0gPSB7IG9sZDogb2xkT2JqW2tleV0sIG5ldzogdW5kZWZpbmVkIH07XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG9sZFZhbHVlID0gb2xkT2JqW2tleV07XG4gICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gbmV3T2JqW2tleV07XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgQXJyYXkuaXNBcnJheShvbGRWYWx1ZSlcbiAgICAgICAgICAgICYmIEFycmF5LmlzQXJyYXkobmV3VmFsdWUpXG4gICAgICAgIClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gSWYgYm90aCBhcmUgYXJyYXlzLCBjb21wYXJlIHRoZWlyIGNvbnRlbnRzXG4gICAgICAgICAgICBpZiAoIUFycmF5c0VxdWFsKG9sZFZhbHVlLCBuZXdWYWx1ZSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGlmZmVyZW5jZXNba2V5XSA9IHsgb2xkOiBvbGRWYWx1ZSwgbmV3OiBuZXdWYWx1ZSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAgICAgdHlwZW9mIG9sZFZhbHVlID09PSBcIm9iamVjdFwiXG4gICAgICAgICAgICAmJiB0eXBlb2YgbmV3VmFsdWUgPT09IFwib2JqZWN0XCJcbiAgICAgICAgICAgICYmICFBcnJheS5pc0FycmF5KG9sZFZhbHVlKSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gSWYgYm90aCBhcmUgb2JqZWN0cywgcmVjdXJzaXZlbHkgY2hlY2sgZm9yIGRpZmZlcmVuY2VzXG4gICAgICAgICAgICBjb25zdCBkaWZmID0gT2JqZWN0RGlmZmVyZW5jZXMob2xkVmFsdWUsIG5ld1ZhbHVlKTtcbiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhkaWZmKS5sZW5ndGggPiAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRpZmZlcmVuY2VzW2tleV0gPSBkaWZmO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG9sZFZhbHVlICE9PSBuZXdWYWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gSWYgdmFsdWVzIGFyZSBkaWZmZXJlbnQsIHN0b3JlIHRoZSBkaWZmZXJlbmNlXG4gICAgICAgICAgICBkaWZmZXJlbmNlc1trZXldID0geyBvbGQ6IG9sZFZhbHVlLCBuZXc6IG5ld1ZhbHVlIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBOZXcga2V5cyBub3QgZm91bmQgaW4gdGhlIG9sZCBvYmplY3RcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBuZXdPYmopXG4gICAge1xuICAgICAgICBpZiAoIShrZXkgaW4gb2xkT2JqKSlcbiAgICAgICAge1xuICAgICAgICAgICAgZGlmZmVyZW5jZXNba2V5XSA9IHsgb2xkOiB1bmRlZmluZWQsIG5ldzogbmV3T2JqW2tleV0gfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBkaWZmZXJlbmNlcztcbn1cblxuZXhwb3J0IGNsYXNzIFNldHRpbmdzT3RoZXJNb2R1bGUgZXh0ZW5kcyBNb2R1bGVcbntcbiAgICBnZXQgVGl0bGUoKTogTW9kdWxlVGl0bGVcbiAgICB7XG4gICAgICAgIHJldHVybiBNb2R1bGVUaXRsZS5TZXR0aW5nc090aGVyO1xuICAgIH1cblxuICAgIGdldCBTeW5jTGlzdGVuZXJzKCk6IEhvb2tlZE1lc3NhZ2VbXVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBtb2R1bGU6IHRoaXMuVGl0bGUsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJTZXR0aW5nUHV0UmVxdWVzdFwiLFxuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKHNlbmRlcjogQ2hhcmFjdGVyLCBjb250ZW50OiBNUEFNZXNzYWdlQ29udGVudCk6IHZvaWRcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZwRW5hYmxlZCA9IFBsYXllci5NUEFbTW9kdWxlVGl0bGUuVmlydHVhbFBldF0uZW5hYmxlZDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGlmZmVyZW5jZXMgPSBPYmplY3REaWZmZXJlbmNlcyhQbGF5ZXIuTVBBLCBjb250ZW50LnNldHRpbmdzKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhbmdlZFNldHRpbmdzOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIERlbGV0ZSB0aGUgVlAgbGV2ZWxzIGFzIHRoZXkgd2lsbCBiZSBzeW5jZWQgd2l0aCB0aGUgcGxheWVyIGluc3RlYWRcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpZmZlcmVuY2VzPy5bTW9kdWxlVGl0bGUuVmlydHVhbFBldF0/LmxldmVscylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGRpZmZlcmVuY2VzW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdLmxldmVscztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhkaWZmZXJlbmNlc1tNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XSkubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBkaWZmZXJlbmNlc1tNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBMZXZlbFN5bmMoZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gISEhISEhISEhISEhISEhISEhISEhISFcbiAgICAgICAgICAgICAgICAgICAgLy8gRG8gQXV0aG9yaXR5IHF1ZXJ5cyBmaXJzdFxuICAgICAgICAgICAgICAgICAgICAvLyAhISEhISEhISEhISEhISEhISEhISEhIVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2aW91c0F1dGhvcml0eSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoUGxheWVyLk1QQT8uW01vZHVsZVRpdGxlLkF1dGhvcml0eV0pKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3QXV0aG9yaXR5ID0gZGlmZmVyZW5jZXNbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0F1dGhvcml0eSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGRpZmZlcmVuY2VzW01vZHVsZVRpdGxlLkF1dGhvcml0eV07XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBWYWxpZGF0ZSB0aGF0IGF1dGhvcml0eSBjYW4gYmUgY2hhbmdlZCBiYXNlZCBvbiBjdXJyZW50IGF1dGhvcml0eSBmaXJzdFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKElzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAoc2VuZGVyLk1lbWJlck51bWJlciA/PyAtMSwgcHJldmlvdXNBdXRob3JpdHlbYG90aGVycyR7TW9kdWxlVGl0bGUuQXV0aG9yaXR5fWBdKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VkU2V0dGluZ3MucHVzaChMb2NhbGl6ZWRUZXh0KE1vZHVsZVRpdGxlLkF1dGhvcml0eSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZW50cnkgaW4gbmV3QXV0aG9yaXR5KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0F1dGhvcml0eVtlbnRyeV0ubmV3ICE9PSB1bmRlZmluZWQgJiYgbmV3QXV0aG9yaXR5W2VudHJ5XS5vbGQgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGxheWVyLk1QQVtNb2R1bGVUaXRsZS5BdXRob3JpdHldW2VudHJ5XSA9IG5ld0F1dGhvcml0eVtlbnRyeV0ubmV3O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgTVBBOiAke3NlbmRlci5OaWNrbmFtZSB8fCBzZW5kZXIuTmFtZX0gKCR7c2VuZGVyLk1lbWJlck51bWJlcn0pIHRyaWVkIHRvIGlsbGVnYWxseSBtb2RpZnkgeW91ciAke01vZHVsZVRpdGxlLkF1dGhvcml0eX0gc2V0dGluZ3MhYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRpdGxlIGluIGRpZmZlcmVuY2VzKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBWYWxpZGF0ZSB0aGF0IGFueSBzZXR0aW5ncyBjYW4gYmUgY2hhbmdlZCB3aXRoIEVJVEhFUiB0aGUgb2xkIG9yIG5ldyBhdXRob3JpdHlcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNlbmRlciBpcyBub3QgYXV0aG9yaXplZCB0byBjaGFuZ2UgdGhlIHNldHRpbmdzLCBpZ25vcmUgYW5kIHdhcm4gaW4gY29uc29sZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cChzZW5kZXIuTWVtYmVyTnVtYmVyID8/IC0xLCBwcmV2aW91c0F1dGhvcml0eVtgb3RoZXJzJHt0aXRsZX1gXSA/PyBcIk5vbmVcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cChzZW5kZXIuTWVtYmVyTnVtYmVyID8/IC0xLCBQbGF5ZXIuTVBBPy5bTW9kdWxlVGl0bGUuQXV0aG9yaXR5XT8uW2BvdGhlcnMke3RpdGxlfWBdID8/IFwiTm9uZVwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYE1QQTogJHtzZW5kZXIuTmlja25hbWUgfHwgc2VuZGVyLk5hbWV9ICgke3NlbmRlci5NZW1iZXJOdW1iZXJ9KSB0cmllZCB0byBpbGxlZ2FsbHkgbW9kaWZ5IHlvdXIgJHt0aXRsZX0gc2V0dGluZ3MhYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZWRTZXR0aW5ncy5wdXNoKExvY2FsaXplZFRleHQoTUVOVV9USVRMRVNbdGl0bGUgYXMgTW9kdWxlVGl0bGVdID8/IHRpdGxlKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vZHVsZURpZmYgPSBkaWZmZXJlbmNlc1t0aXRsZV07XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IGluIG1vZHVsZURpZmYpXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vZHVsZURpZmZbZW50cnldLm5ldyAhPT0gdW5kZWZpbmVkICYmIG1vZHVsZURpZmZbZW50cnldLm9sZCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGxheWVyLk1QQVt0aXRsZSBhcyBNb2R1bGVUaXRsZV1bZW50cnldID0gbW9kdWxlRGlmZltlbnRyeV0ubmV3O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIGhhcmRjb3JlIGlzIHNldCwgbWFrZSBzdXJlIGl0cyBzZXR0aW5ncyBhcmUgc2V0XG4gICAgICAgICAgICAgICAgICAgIGlmIChQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLlByb2ZpbGVdLmhhcmRjb3JlKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAoZGVmYXVsdFNldHRpbmdzW01vZHVsZVRpdGxlLlByb2ZpbGVdPy5oYXJkY29yZSBhcyBhbnkpPy5vblNldChQbGF5ZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2F0Y2ggVmlydHVhbCBQZXQgbGV2ZWxzIHVwIHRvIGRhdGUgaWYgaXQgd2FzIHR1cm5lZCBvbiAvIG9mZlxuICAgICAgICAgICAgICAgICAgICBpZiAodnBFbmFibGVkICE9PSBQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdLmVuYWJsZWQpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBsYXllci5NUEFbTW9kdWxlVGl0bGUuVmlydHVhbFBldF0ubGV2ZWxzLmxhc3RVcGRhdGVkID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFuZ2VkU2V0dGluZ3MubGVuZ3RoICE9PSAwKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBNUEFOb3RpZnlQbGF5ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9jYWxpemVkVGV4dChcIlNvdXJjZUNoYXJhY3RlciBqdXN0IHVwZGF0ZWQgeW91ciBTZXR0aW5nc0FycmF5IHNldHRpbmdzLlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZShcIlNvdXJjZUNoYXJhY3RlclwiLCBzZW5kZXIuTmlja25hbWUgfHwgc2VuZGVyLk5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKFwiU2V0dGluZ3NBcnJheVwiLCBBcnJheVRvUmVhZGFibGVTdHJpbmcoY2hhbmdlZFNldHRpbmdzKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBMZXZlbFN5bmMoZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIFNhdmVTdG9yYWdlKHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBtb2R1bGU6IHRoaXMuVGl0bGUsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFZGl0aW5nU2V0dGluZ3NcIixcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uIChzZW5kZXI6IENoYXJhY3RlciwgX2NvbnRlbnQ6IE1QQU1lc3NhZ2VDb250ZW50KTogdm9pZFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgTm90aWZ5UGxheWVyKExvY2FsaXplZFRleHQoXCJTb3VyY2VDaGFyYWN0ZXIgaXMgYWNjZXNzaW5nIHlvdXIgTVBBIHNldHRpbmdzLlwiKS5yZXBsYWNlKFwiU291cmNlQ2hhcmFjdGVyXCIsIHNlbmRlci5OaWNrbmFtZSB8fCBzZW5kZXIuTmFtZSksIDMwMDAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgTG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5Mb2FkKCk7XG5cbiAgICAgICAgLy8gUHJpbyBoYXMgdG8gYmUgMSBtb3JlIHRoYW4gTFNDRyBvciBCQ1ggaG9va3NcbiAgICAgICAgY29uc3QgaG9va1ByaW9yaXR5ID0gMTI7XG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIkluZm9ybWF0aW9uU2hlZXRSdW5cIiwgaG9va1ByaW9yaXR5LCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgLy8gTFNDRyBvciBCQ1ggc3Vic2NyZWVucyBvcGVuIGluc3RlYWRcbiAgICAgICAgICAgIGlmICh3aW5kb3cuYmN4Py5pbkJjeFN1YnNjcmVlbigpIHx8IHdpbmRvdy5MU0NHX1JFTU9URV9XSU5ET1dfT1BFTilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTVBBIFNldHRpbmdzIGFyZSBvcGVuXG4gICAgICAgICAgICBpZiAod2luZG93Lk1QQS5tZW51TG9hZGVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFByZWZlcmVuY2VNZW51UnVuKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBuZXh0KGFyZ3MpO1xuICAgICAgICAgICAgLy8gRHJhdyB0aGUgcmVtb3RlIGludG8gc2V0dGluZ3MgYnV0dG9uIGlmIGFwcGxpY2FibGVcbiAgICAgICAgICAgIGNvbnN0IGNoYXIgPSBJbmZvcm1hdGlvblNoZWV0U2VsZWN0aW9uO1xuICAgICAgICAgICAgaWYgKGNoYXI/Lk1QQSAmJiAhY2hhci5Jc1BsYXllcigpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjY2VzcyA9IFNlcnZlckNoYXRSb29tR2V0QWxsb3dJdGVtKFBsYXllciwgY2hhcik7XG4gICAgICAgICAgICAgICAgRHJhd0J1dHRvbihcbiAgICAgICAgICAgICAgICAgICAgLi4uKChiY3hGb3VuZCgpID8gTVBBX1JFTU9URV9CQ1ggOiBNUEFfUkVNT1RFKSBhcyByZWFkb25seSBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXSksXG4gICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgIGFjY2VzcyA/IFwiI2ZmZmZmZlwiIDogXCIjYWFhYWFhXCIsXG4gICAgICAgICAgICAgICAgICAgIElDT05TLlBBVyxcbiAgICAgICAgICAgICAgICAgICAgTG9jYWxpemVkVGV4dChhY2Nlc3MgPyBcIk1QQVwiIDogXCJNUEE6IE5vIEJDIGl0ZW0gcGVybWlzc2lvblwiKSxcbiAgICAgICAgICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJJbmZvcm1hdGlvblNoZWV0Q2xpY2tcIiwgaG9va1ByaW9yaXR5LCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5NUEEubWVudUxvYWRlZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJlZmVyZW5jZU1lbnVDbGljaygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBjaGFyID0gSW5mb3JtYXRpb25TaGVldFNlbGVjdGlvbjtcbiAgICAgICAgICAgIGlmIChNb3VzZUluKC4uLk1QQV9SRU1PVEVfQkNYKSAmJiBjaGFyPy5NUEEgJiYgIWNoYXIuSXNQbGF5ZXIoKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuTVBBLm1lbnVMb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIC8vIE1QQSBpcyBkZWZpbmVkIGZyb20gY2hlY2sgYWJvdmUsIHNvIG90aGVyIGNoYXJhY3RlciBpcyBzYW1lIGFzIHNlbGYgaW4gc3RydWN0dXJlXG4gICAgICAgICAgICAgICAgU2V0U2V0dGluZ0NoYXIoY2hhciBhcyBQbGF5ZXJDaGFyYWN0ZXIpO1xuICAgICAgICAgICAgICAgIFNlbmRNUEFNZXNzYWdlKHsgbWVzc2FnZTogXCJFZGl0aW5nU2V0dGluZ3NcIiB9LCBjaGFyLk1lbWJlck51bWJlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIkluZm9ybWF0aW9uU2hlZXRFeGl0XCIsIGhvb2tQcmlvcml0eSwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh3aW5kb3cuTVBBLm1lbnVMb2FkZWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgRXhpdEJ1dHRvblByZXNzZWQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgVW5sb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLlVubG9hZCgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IE1vZHVsZSwgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi9fbW9kdWxlXCI7XG5pbXBvcnQgeyBIb29rRnVuY3Rpb24gfSBmcm9tIFwiLi4vdXRpbC9zZGtcIjtcbmltcG9ydCB7IFNhdmVTdG9yYWdlIH0gZnJvbSBcIi4uL3V0aWwvc3RvcmFnZVwiO1xuaW1wb3J0IHsgR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5IH0gZnJvbSBcIi4uL3V0aWwvbWVzc2FnaW5nXCI7XG5pbXBvcnQgeyBSZWNvcmRTeW5jIH0gZnJvbSBcIi4vZGF0YVN5bmNcIjtcbmltcG9ydCB7IElzSGFyZGNvcmVPbiB9IGZyb20gXCIuL3Byb2ZpbGVcIjtcblxuY29uc3QgTUFYX1NFVFRJTkdfVElNRV9IT1VSUyA9IDE2ODtcblxuY29uc3QgUGxheWVyVlA6IChDPzogQ2hhcmFjdGVyKSA9PiBNUEFSZWNvcmQgPSAoQzogQ2hhcmFjdGVyID0gUGxheWVyKSA9Plxue1xuICAgIHJldHVybiBDLk1QQT8uW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdID8/IHt9O1xufTtcblxuLy8gY29uc3QgQ0hBUkFDVEVSU19NT1ZJTkcgPSBbXCJTZXJ2ZXJNb3ZlUmlnaHRcIiwgXCJTZXJ2ZXJTd2FwXCIsIFwiU2VydmVyTW92ZUxlZnRcIl07XG5cbmNvbnN0IEJPV0xfQ09OU1VNRV9SRUNPVkVSWSA9IDAuNDtcbmNvbnN0IElURU1fQ09OVU1FX1JFQ09WRVJZID0gMC4yO1xuXG5jb25zdCBBQ1RJVklUSUVTX0ZPT0RfR0FJTiA9IFtcIkxTQ0dfRWF0XCIsIFwiVGhyb3dJdGVtXCJdO1xuY29uc3QgQUNUSVZJVElFU19XQVRFUl9HQUlOID0gW1wiTFNDR19GdW5uZWxQb3VyXCIsIFwiTFNDR19RdWFmZlwiXTtcblxuY29uc3QgRU1PVElDT05TX1NMRUVQID0gW1wiU2xlZXBcIiwgXCJBZmtcIiwgXCJGb3JrXCIsIFwiQ29kaW5nXCIsIFwiUmVhZFwiXTtcbmNvbnN0IEJFRF9QRVJGRUNUID0gW1wiUGV0QmVkXCIsIFwiQ3JpYlwiXTtcbmNvbnN0IEJFRF9OT1JNQUwgPSBbXCJMb3dDYWdlXCIsIFwiS2VubmVsXCIsIFwiQmVkXCIsIFwiTWVkaWNhbEJlZFwiXTtcbmNvbnN0IEJFRF9CQUQgPSBbXCJGdXR1cmlzdGljQ3JhdGVcIiwgXCJEb2xsQm94XCJdO1xuXG5jb25zdCBBRkZFQ1RJT05fQUNUSVZJVFlfTE9WRSA9IFtcIlBldFwiLCBcIlRha2VDYXJlXCIsIFwiTFNDR19OdXp6bGVcIiwgXCJDYXJlc3NcIiwgXCJMU0NHX0h1Z1wiLCBcIlNjcmF0Y2hcIl07XG5jb25zdCBBRkZFQ1RJT05fQUNUSVZJVFlfTElLRSA9IFtcIktpc3NcIiwgXCJNYXNzYWdlSGFuZHNcIiwgXCJMaWNrXCIsIFwiTmliYmxlXCIsIFwiQ3VkZGxlXCIsIFwiR3JvcGVcIl07XG5jb25zdCBBRkZFQ1RJT05fQUNUSVZJVFlfTUFTTyA9IFtcIlNwYW5rXCIsIFwiU2xhcFwiLCBcIkJpdGVcIiwgXCJQaW5jaFwiLCBcIlB1bGxcIiwgXCJTaG9ja0l0ZW1cIiwgXCJTcGFua0l0ZW1cIl07XG5jb25zdCBBRkZFQ1RJT05fTE9WRV9CQVNFID0gMC4wNTtcbmNvbnN0IEFGRkVDVElPTl9MSUtFX0JBU0UgPSAwLjAzO1xuY29uc3QgQUZGRUNUSU9OX01BU09fQkFTRSA9IC0wLjA0O1xuXG5jb25zdCBBRkZFQ1RJT05fWk9ORV9BRkZFQ1RJT046IFBhcnRpYWw8UmVjb3JkPEFzc2V0R3JvdXBJdGVtTmFtZSwgbnVtYmVyPj4gPSB7XG4gICAgSXRlbUFybXM6IDEsXG4gICAgSXRlbUJvb3RzOiAwLjgsXG4gICAgSXRlbUJyZWFzdDogMS41LFxuICAgIEl0ZW1CdXR0OiAxLjUsXG4gICAgSXRlbUVhcnM6IDIuNSxcbiAgICBJdGVtRmVldDogMC44LFxuICAgIEl0ZW1IYW5kczogMSxcbiAgICBJdGVtSGVhZDogMyxcbiAgICBJdGVtTGVnczogMSxcbiAgICBJdGVtTW91dGg6IDIsXG4gICAgSXRlbU5lY2s6IDEuMixcbiAgICBJdGVtTmlwcGxlczogMS41LFxuICAgIEl0ZW1Ob3NlOiAxLjcsXG4gICAgSXRlbVBlbHZpczogMS4zLFxuICAgIEl0ZW1Ub3JzbzogMSxcbiAgICBJdGVtVnVsdmE6IDIsXG4gICAgSXRlbVZ1bHZhUGllcmNpbmdzOiAyLjVcbn07XG5cbmNvbnN0IE1JTl9PRkZMSU5FX0RSQUlOX0xFVkVMID0gMC4yO1xuXG5jb25zdCBMQVNUX09OTElORV9JTlRFUlZBTF9NUyA9IDEwMDAwO1xubGV0IGxhc3RPbmxpbmVJbnRlcnZhbDogbnVtYmVyO1xuXG5leHBvcnQgY29uc3QgSXNTbGVlcGluZ0V4cHJlc3Npb24gPSAoY2hhcjogQ2hhcmFjdGVyKTogYm9vbGVhbiA9Plxue1xuICAgIHJldHVybiAoXG4gICAgICAgIGNoYXIuQXBwZWFyYW5jZS5maW5kKCh4KSA9PiB4LkFzc2V0Lkdyb3VwLk5hbWUgPT09IFwiRXllc1wiKT8uUHJvcGVydHk/LkV4cHJlc3Npb24gPT09IFwiQ2xvc2VkXCJcbiAgICAgICAgJiYgY2hhci5BcHBlYXJhbmNlLmZpbmQoKHgpID0+IHguQXNzZXQuR3JvdXAuTmFtZSA9PT0gXCJFeWVzMlwiKT8uUHJvcGVydHk/LkV4cHJlc3Npb24gPT09IFwiQ2xvc2VkXCJcbiAgICAgICAgJiYgRU1PVElDT05TX1NMRUVQLmluY2x1ZGVzKGNoYXIuQXBwZWFyYW5jZS5maW5kKCh4KSA9PiB4LkFzc2V0Lkdyb3VwLk5hbWUgPT09IFwiRW1vdGljb25cIik/LlByb3BlcnR5Py5FeHByZXNzaW9uID8/IFwiXCIpXG4gICAgKTtcbn07XG5leHBvcnQgY29uc3QgSXNCZWRNdWx0aXBsaWVyID0gKGNoYXI6IENoYXJhY3Rlcik6IG51bWJlciA9Plxue1xuICAgIGNvbnN0IGRldmljZSA9IEludmVudG9yeUdldChjaGFyLCBcIkl0ZW1EZXZpY2VzXCIpPy5Bc3NldC5OYW1lID8/IFwiXCI7XG4gICAgcmV0dXJuIChcbiAgICAgICAgQkVEX1BFUkZFQ1QuaW5jbHVkZXMoZGV2aWNlKSA/IDEwIDogQkVEX05PUk1BTC5pbmNsdWRlcyhkZXZpY2UpID8gNSA6IEJFRF9CQUQuaW5jbHVkZXMoZGV2aWNlKSA/IDIgOiAxXG4gICAgKTtcbn07XG5cbmxldCBwbGF5ZXJTbGVlcGluZ0V4cHJlc3Npb24gPSBmYWxzZTtcbmxldCBwbGF5ZXJCZWRNdWx0aXBsaWVyID0gMTtcblxuZXhwb3J0IHR5cGUgVmlydHVhbFBldFN0YXRDYXRlZ29yeSA9IFwiZm9vZFwiIHwgXCJ3YXRlclwiIHwgXCJzbGVlcFwiIHwgXCJhZmZlY3Rpb25cIjtcbmV4cG9ydCB0eXBlIFZpcnR1YWxQZXRIb3VyQ2F0ZWdvcmllcyA9IGAke1ZpcnR1YWxQZXRTdGF0Q2F0ZWdvcnl9SG91cnNgO1xuZXhwb3J0IGludGVyZmFjZSBWaXJ0dWFsUGV0U3RhdFxue1xuICAgIHN0YXQ6IFZpcnR1YWxQZXRTdGF0Q2F0ZWdvcnk7XG4gICAgbGV2ZWw6IG51bWJlcjtcbn1cblxuZnVuY3Rpb24gU2xlZXBDaGFuZ2VDaGVjayhzeW5jOiBib29sZWFuID0gdHJ1ZSk6IHZvaWRcbntcbiAgICBpZiAoXG4gICAgICAgIFBsYXllclZQKCkuZW5hYmxlZFxuICAgICAgICAmJiBQbGF5ZXJWUCgpLnNsZWVwSG91cnMgIT09IDBcbiAgICAgICAgJiYgKHBsYXllclNsZWVwaW5nRXhwcmVzc2lvbiAhPT0gSXNTbGVlcGluZ0V4cHJlc3Npb24oUGxheWVyKVxuICAgICAgICB8fCBwbGF5ZXJCZWRNdWx0aXBsaWVyICE9PSBJc0JlZE11bHRpcGxpZXIoUGxheWVyKSlcbiAgICApXG4gICAge1xuICAgICAgICAvLyBpZiBhIGNoYW5nZSBpbiBzbGVlcGluZyBleHByZXNzaW9uIG9yIGJlZCBtdWx0aXBsaWVyLCBzeW5jIGxldmVsc1xuICAgICAgICBpZiAoc3luYylcbiAgICAgICAge1xuICAgICAgICAgICAgTGV2ZWxTeW5jKCk7XG4gICAgICAgIH1cbiAgICAgICAgcGxheWVyU2xlZXBpbmdFeHByZXNzaW9uID0gSXNTbGVlcGluZ0V4cHJlc3Npb24oUGxheWVyKTtcbiAgICAgICAgcGxheWVyQmVkTXVsdGlwbGllciA9IElzQmVkTXVsdGlwbGllcihQbGF5ZXIpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gU3RhdE1vZGlmaWVyKHN0YXQ6IFZpcnR1YWxQZXRTdGF0Q2F0ZWdvcnksIHNvdXJjZUNoYXI/OiBDaGFyYWN0ZXIpOiBudW1iZXJcbntcbiAgICBsZXQgbW9kaWZpZXIgPSAxO1xuXG4gICAgLy8gRnJvbSBvd25lcnMsICs1MCVcbiAgICBpZiAoc291cmNlQ2hhcj8uSXNPd25lcigpKVxuICAgIHtcbiAgICAgICAgbW9kaWZpZXIgKz0gMC41O1xuICAgIH1cbiAgICAvLyBsb3ZlcnMgKzM1JVxuICAgIGVsc2UgaWYgKHNvdXJjZUNoYXI/LklzTG92ZXJPZlBsYXllcigpKVxuICAgIHtcbiAgICAgICAgbW9kaWZpZXIgKz0gMC4zNTtcbiAgICB9XG4gICAgLy8gc3VicyArMjUlXG4gICAgZWxzZSBpZiAoc291cmNlQ2hhcj8uSXNGYW1pbHlPZlBsYXllcigpKVxuICAgIHtcbiAgICAgICAgbW9kaWZpZXIgKz0gMC4yNTtcbiAgICB9XG5cbiAgICAvLyBIYXJkIHRvIGVhdCBvciBkcmluayB3aGlsZSByaW5nIGdhZ2dlZFxuICAgIGlmIChzdGF0ID09PSBcImZvb2RcIiB8fCBzdGF0ID09PSBcIndhdGVyXCIpXG4gICAge1xuICAgICAgICBpZiAoIVBsYXllci5DYW5UYWxrKCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIG1vZGlmaWVyIC09IDAuNTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIDMlIGJvbnVzIGZvciBlYWNoIHJlc3RyYWludCB3b3JuXG4gICAgbW9kaWZpZXIgKz0gMC4wMyAqIFBsYXllci5BcHBlYXJhbmNlLmZpbHRlcigoeCkgPT4geC5Bc3NldC5EeW5hbWljR3JvdXBOYW1lLnN0YXJ0c1dpdGgoXCJJdGVtXCIpKS5sZW5ndGg7XG5cbiAgICAvLyA1MCUgYm9udXMgZm9yIGJlaW5nIG9uIGFsbCBmb3Vyc1xuICAgIGlmIChQbGF5ZXIuUG9zZU1hcHBpbmcuQm9keUZ1bGwgPT09IFwiQWxsRm91cnNcIilcbiAgICB7XG4gICAgICAgIG1vZGlmaWVyICs9IDAuNTtcbiAgICB9XG5cbiAgICAvLyBGb29kIGFuZCB3YXRlciBtb2RpZmllcyBhZmZlY3Rpb24gZ2FpblxuICAgIGlmIChcbiAgICAgICAgc3RhdCA9PT0gXCJhZmZlY3Rpb25cIlxuICAgICAgICAmJiBQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zXS5lbmFibGVkXG4gICAgICAgICYmIFBsYXllci5NUEFbTW9kdWxlVGl0bGUuVmlydHVhbFBldENvbmRpdGlvbnNdLmZvb2ROT1dcbiAgICApXG4gICAge1xuICAgICAgICBjb25zdCBudW1zOiBudW1iZXJbXSA9IFtdO1xuICAgICAgICBpZiAoUGxheWVyVlAoKS5mb29kSG91cnMgIT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIG51bXMucHVzaChHZXRDaGFyYWN0ZXJDdXJyZW50U3RhdFZhbHVlKFBsYXllciwgXCJmb29kXCIpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoUGxheWVyVlAoKS53YXRlckhvdXJzICE9PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBudW1zLnB1c2goR2V0Q2hhcmFjdGVyQ3VycmVudFN0YXRWYWx1ZShQbGF5ZXIsIFwid2F0ZXJcIikpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChudW1zLmxlbmd0aCAhPT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgbW9kaWZpZXIgKj0gbnVtcy5yZWR1Y2UoKHN1bSwgbnVtKSA9PiBzdW0gKyBudW0sIDApIC8gbnVtcy5sZW5ndGggLyAwLjc1O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIE1hdGgubWF4KDAsIG1vZGlmaWVyKTtcbn1cblxuZnVuY3Rpb24gVmVyaWZ5VmFsaWRTdGF0KHN0YXQ6IFZpcnR1YWxQZXRTdGF0Q2F0ZWdvcnkpOiBib29sZWFuXG57XG4gICAgY29uc3QgbGV2ZWwgPSBQbGF5ZXJWUCgpLmxldmVsc1tzdGF0XTtcbiAgICBQbGF5ZXJWUCgpLmxldmVsc1tzdGF0XSA9IE1hdGgubWluKE1hdGgubWF4KGxldmVsLCAwKSwgMSk7XG4gICAgcmV0dXJuIDAgPD0gbGV2ZWwgJiYgbGV2ZWwgPD0gMTtcbn1cblxuZnVuY3Rpb24gSG91clRvTVMoaG91cnM6IG51bWJlcilcbntcbiAgICByZXR1cm4gaG91cnMgKiA2MCAqIDYwICogMTAwMDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIENhbGN1bGF0ZUN1cnJlbnRWYWx1ZSh2YWx1ZTogbnVtYmVyLCBkdXJhdGlvbjogbnVtYmVyLCBsYXN0VXBkYXRlZDogbnVtYmVyLCBsYXN0T25saW5lPzogbnVtYmVyLCBmaXJzdFJ1bkNoZWNrOiBib29sZWFuID0gZmFsc2UsIEM6IENoYXJhY3RlciA9IFBsYXllcik6IG51bWJlclxue1xuICAgIC8qKiBIb3cgbG9uZyBpbiBtcyBoYXMgZWxhc3BlZCBzaW5jZSBub3cgb3IgbGFzdCBvbmxpbmUgKi9cbiAgICBjb25zdCBkaWZmOiBudW1iZXIgPSAobGFzdE9ubGluZSA/IGxhc3RPbmxpbmUgOiBEYXRlLm5vdygpKSAtIGxhc3RVcGRhdGVkO1xuICAgIGNvbnN0IGN1cnJlbnRWYWx1ZSA9IE1hdGgubWF4KDAsIE1hdGgubWluKHZhbHVlIC0gKGRpZmYgLyBIb3VyVG9NUyhkdXJhdGlvbikpLCAxKSk7XG4gICAgLy8gTWF4IGRyYWluIGRvd24gdG8gMjAlIHdoaWxlIG9mZmxpbmVcbiAgICBpZiAoZmlyc3RSdW5DaGVjayAmJiB2YWx1ZSA+IE1JTl9PRkZMSU5FX0RSQUlOX0xFVkVMICYmIGN1cnJlbnRWYWx1ZSA8IE1JTl9PRkZMSU5FX0RSQUlOX0xFVkVMKVxuICAgIHtcbiAgICAgICAgY29uc3QgZGlmZjI6IG51bWJlciA9IFBsYXllclZQKEMpLmxldmVscy5sYXN0T25saW5lIC0gbGFzdFVwZGF0ZWQ7XG4gICAgICAgIGNvbnN0IG5ld1ZhbHVlMiA9IE1hdGgubWF4KDAsIE1hdGgubWluKHZhbHVlIC0gKGRpZmYyIC8gSG91clRvTVMoZHVyYXRpb24pKSwgMSkpO1xuICAgICAgICByZXR1cm4gTWF0aC5taW4oTUlOX09GRkxJTkVfRFJBSU5fTEVWRUwsIG5ld1ZhbHVlMik7XG4gICAgfVxuICAgIHJldHVybiBjdXJyZW50VmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBHZXRDaGFyYWN0ZXJDdXJyZW50U3RhdFZhbHVlKGNoYXJhY3RlcjogQ2hhcmFjdGVyLCBzdGF0OiBWaXJ0dWFsUGV0U3RhdENhdGVnb3J5KTogbnVtYmVyXG57XG4gICAgY29uc3QgY2hhclN0YXRzID0gY2hhcmFjdGVyPy5NUEE/LltNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XTtcbiAgICBpZiAoIWNoYXJTdGF0cylcbiAgICB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICBpZiAoc3RhdCA9PT0gXCJzbGVlcFwiKVxuICAgIHtcbiAgICAgICAgY29uc3QgbHZsID0gKElzU2xlZXBpbmdFeHByZXNzaW9uKGNoYXJhY3RlcikgfHwgSXNCZWRNdWx0aXBsaWVyKGNoYXJhY3RlcikgIT09IDEpID9cbiAgICAgICAgICAgIGNoYXJTdGF0cy5sZXZlbHMuc2xlZXAgKyAoRGF0ZS5ub3coKSAtIGNoYXJTdGF0cy5sZXZlbHMubGFzdFVwZGF0ZWQpIC8gKGNoYXJTdGF0cy5zbGVlcEhvdXJzICogNjAgKiA2MCAqIDEwMDApICogSXNCZWRNdWx0aXBsaWVyKGNoYXJhY3RlcikgKiAoSXNTbGVlcGluZ0V4cHJlc3Npb24oY2hhcmFjdGVyKSA/IDUgOiAxKSA6XG4gICAgICAgICAgICBDYWxjdWxhdGVDdXJyZW50VmFsdWUoY2hhclN0YXRzLmxldmVscy5zbGVlcCwgY2hhclN0YXRzLnNsZWVwSG91cnMsIGNoYXJTdGF0cy5sZXZlbHMubGFzdFVwZGF0ZWQpO1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgbHZsKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIENhbGN1bGF0ZUN1cnJlbnRWYWx1ZShjaGFyU3RhdHMubGV2ZWxzW3N0YXRdLCBjaGFyU3RhdHNbYCR7c3RhdH1Ib3Vyc2BdLCBjaGFyU3RhdHMubGV2ZWxzLmxhc3RVcGRhdGVkKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExldmVsU3luYyhwdXNoVG9TdG9yYWdlOiBib29sZWFuID0gdHJ1ZSwgcmVjb3JkU3luYzogYm9vbGVhbiA9IHRydWUsIGZpcnN0U3luYzogYm9vbGVhbiA9IGZhbHNlKTogdm9pZFxue1xuICAgIC8vIFZpcnR1YWwgcGV0IGlzIG5vdCBlbmFibGVkIHNvIGRvIG5vdGhpbmdcbiAgICBpZiAoIVBsYXllclZQKCkuZW5hYmxlZClcbiAgICB7XG4gICAgICAgIFBsYXllclZQKCkubGV2ZWxzLmxhc3RVcGRhdGVkID0gRGF0ZS5ub3coKTtcbiAgICAgICAgUGxheWVyVlAoKS5sZXZlbHMubGFzdE9ubGluZSA9IERhdGUubm93KCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB1cGRhdGU6IG51bWJlciA9IFBsYXllclZQKCkubGV2ZWxzLmxhc3RVcGRhdGVkID8/IERhdGUubm93KCk7XG4gICAgY29uc3Qgb25saW5lOiBudW1iZXIgfCB1bmRlZmluZWQgPSAhUGxheWVyVlAoKS5vZmZsaW5lRHJhaW4gPyBQbGF5ZXJWUCgpLmxldmVscy5sYXN0T25saW5lIDogdW5kZWZpbmVkO1xuXG4gICAgY29uc3QgZm9vZCA9IFBsYXllclZQKCkuZm9vZEhvdXJzO1xuICAgIGlmIChmb29kICE9PSAwKVxuICAgIHtcbiAgICAgICAgUGxheWVyVlAoKS5sZXZlbHMuZm9vZCA9IENhbGN1bGF0ZUN1cnJlbnRWYWx1ZShQbGF5ZXJWUCgpLmxldmVscy5mb29kLCBmb29kLCB1cGRhdGUsIG9ubGluZSwgZmlyc3RTeW5jKTtcbiAgICB9XG4gICAgY29uc3Qgd2F0ZXIgPSBQbGF5ZXJWUCgpLndhdGVySG91cnM7XG4gICAgaWYgKHdhdGVyICE9PSAwKVxuICAgIHtcbiAgICAgICAgUGxheWVyVlAoKS5sZXZlbHMud2F0ZXIgPSBDYWxjdWxhdGVDdXJyZW50VmFsdWUoUGxheWVyVlAoKS5sZXZlbHMud2F0ZXIsIHdhdGVyLCB1cGRhdGUsIG9ubGluZSwgZmlyc3RTeW5jKTtcbiAgICB9XG4gICAgY29uc3Qgc2xlZXAgPSBQbGF5ZXJWUCgpLnNsZWVwSG91cnM7XG4gICAgaWYgKHNsZWVwICE9PSAwKVxuICAgIHtcbiAgICAgICAgaWYgKChmaXJzdFN5bmMgJiYgIW9ubGluZSlcbiAgICAgICAgICB8fCBwbGF5ZXJTbGVlcGluZ0V4cHJlc3Npb25cbiAgICAgICAgICB8fCBwbGF5ZXJCZWRNdWx0aXBsaWVyICE9PSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBkdXJhdGlvblRvVXNlID0gZmlyc3RTeW5jID8gKERhdGUubm93KCkgLSBQbGF5ZXJWUCgpLmxldmVscy5sYXN0T25saW5lKSAtIChQbGF5ZXJWUCgpLmxldmVscy5sYXN0T25saW5lIC0gdXBkYXRlKSA6IERhdGUubm93KCkgLSB1cGRhdGU7XG4gICAgICAgICAgICBjb25zdCBuZXdTbGVlcCA9IFBsYXllclZQKCkubGV2ZWxzLnNsZWVwICsgKGR1cmF0aW9uVG9Vc2UpIC8gSG91clRvTVMoc2xlZXApICogcGxheWVyQmVkTXVsdGlwbGllciAqIChwbGF5ZXJTbGVlcGluZ0V4cHJlc3Npb24gPyA1IDogMSk7XG4gICAgICAgICAgICBQbGF5ZXJWUCgpLmxldmVscy5zbGVlcCA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIG5ld1NsZWVwKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBQbGF5ZXJWUCgpLmxldmVscy5zbGVlcCA9IENhbGN1bGF0ZUN1cnJlbnRWYWx1ZShQbGF5ZXJWUCgpLmxldmVscy5zbGVlcCwgc2xlZXAsIHVwZGF0ZSwgb25saW5lLCBmaXJzdFN5bmMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGFmZmVjdGlvbiA9IFBsYXllclZQKCkuYWZmZWN0aW9uSG91cnM7XG4gICAgaWYgKGFmZmVjdGlvbiAhPT0gMClcbiAgICB7XG4gICAgICAgIFBsYXllclZQKCkubGV2ZWxzLmFmZmVjdGlvbiA9IENhbGN1bGF0ZUN1cnJlbnRWYWx1ZShQbGF5ZXJWUCgpLmxldmVscy5hZmZlY3Rpb24sIGFmZmVjdGlvbiwgdXBkYXRlLCBvbmxpbmUsIGZpcnN0U3luYyk7XG4gICAgfVxuICAgIFBsYXllclZQKCkubGV2ZWxzLmxhc3RVcGRhdGVkID0gRGF0ZS5ub3coKTtcbiAgICBQbGF5ZXJWUCgpLmxldmVscy5sYXN0T25saW5lID0gRGF0ZS5ub3coKTtcbiAgICAvLyBTYXZlIHRvIGxvY2FsIHN0b3JhZ2VcbiAgICBpZiAocHVzaFRvU3RvcmFnZSlcbiAgICB7XG4gICAgICAgIFNhdmVTdG9yYWdlKGZhbHNlKTtcbiAgICB9XG4gICAgLy8gU3luYyBuZXcgc3RhdHMgd2l0aCBvdGhlcnNcbiAgICBpZiAocmVjb3JkU3luYylcbiAgICB7XG4gICAgICAgIFJlY29yZFN5bmMoTW9kdWxlVGl0bGUuVmlydHVhbFBldCwgXCJsZXZlbHNcIik7XG4gICAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSBzdGF0IC0gU3RhdCB0byBtb2RpZnlcbiAqIEBwYXJhbSBhbW91bnQgLSBNdXN0IGJlIGJldHdlZW4gLTEgYW5kIDFcbiAqIEBwYXJhbSBhcHBseU1vZGlmaWVyIC0gSWYgYXBwbHkgdGhlIFwiUGV0IGxpa2VcIiBtb2RpZmllclxuICogQHBhcmFtIHN0b3JhZ2VQdXNoIC0gSWYgc2F2aW5nIHRvIHN0b3JhZ2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIE1vZGlmeVN0YXQoc3RhdDogVmlydHVhbFBldFN0YXRDYXRlZ29yeSwgYW1vdW50OiBudW1iZXIsIGFwcGx5TW9kaWZpZXIgPSB0cnVlLCBzdG9yYWdlUHVzaCA9IHRydWUsIHNvdXJjZUNoYXI/OiBDaGFyYWN0ZXIpOiB2b2lkXG57XG4gICAgaWYgKGFtb3VudCA8IC0xICYmIGFtb3VudCA+IDEpXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ2FsY3VsYXRlIHRoZSBjdXJyZW50IHN0YXRzIGJhc2VkIG9uIGRyYWluIGFuZCB0aGVuIGFwcGx5IG1vZGlmaWNhdGlvbnMgYWZ0ZXIgY2hhbmdpbmcgdGhvc2UgdmFsdWVzIGZpcnN0XG4gICAgTGV2ZWxTeW5jKGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xuXG4gICAgUGxheWVyVlAoKS5sZXZlbHNbc3RhdF0gKz0gYW1vdW50ICogKChhcHBseU1vZGlmaWVyICYmIGFtb3VudCA+IDApID8gU3RhdE1vZGlmaWVyKHN0YXQsIHNvdXJjZUNoYXIpIDogMSk7XG4gICAgVmVyaWZ5VmFsaWRTdGF0KHN0YXQpO1xuXG4gICAgLy8gU2F2ZSB0byBsb2NhbCBzdG9yYWdlXG4gICAgaWYgKHN0b3JhZ2VQdXNoKVxuICAgIHtcbiAgICAgICAgU2F2ZVN0b3JhZ2UoZmFsc2UpO1xuICAgIH1cbiAgICAvLyBTeW5jIG5ldyBzdGF0cyB3aXRoIG90aGVyc1xuICAgIFJlY29yZFN5bmMoTW9kdWxlVGl0bGUuVmlydHVhbFBldCwgXCJsZXZlbHNcIik7XG59XG5cbmV4cG9ydCBjbGFzcyBWaXJ0dWFsUGV0TW9kdWxlIGV4dGVuZHMgTW9kdWxlXG57XG4gICAgZ2V0IFRpdGxlKCk6IE1vZHVsZVRpdGxlXG4gICAge1xuICAgICAgICByZXR1cm4gTW9kdWxlVGl0bGUuVmlydHVhbFBldDtcbiAgICB9XG5cbiAgICBnZXQgQWN0aXZpdGllcygpOiBDdXN0b21BY3Rpdml0eVtdXG4gICAge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIE5hbWU6IFwiQm93bEVhdFwiLFxuICAgICAgICAgICAgICAgIFRhcmdldHM6IFt7XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwOiBcIkl0ZW1Nb3V0aFwiLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJFYXQgRnJvbSBCb3dsXCIsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvblNlbGY6IFwiU291cmNlQ2hhcmFjdGVyIGVhdHMgZnJvbSBQcm9ub3VuUG9zc2Vzc2l2ZSBib3dsLlwiXG4gICAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAgICAgSW1hZ2U6IFwiQXNzZXRzL0ZlbWFsZTNEQ0cvSXRlbURldmljZXMvUHJldmlldy9QZXRCb3dsLnBuZ1wiLFxuICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogW1wiVXNlTW91dGhcIl0sXG4gICAgICAgICAgICAgICAgQ3VzdG9tUHJlcmVxdWlzaXRlOiB7XG4gICAgICAgICAgICAgICAgICAgIE5hbWU6IFwiSGFzQm93bFwiLFxuICAgICAgICAgICAgICAgICAgICBQcmVyZXF1aXNpdGU6IChhY3RpbmcsIF9hY3RlZCwgX2dyb3VwKSA9PlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSW52ZW50b3J5R2V0KGFjdGluZywgXCJJdGVtRGV2aWNlc1wiKT8uQXNzZXQ/Lk5hbWUgPT09IFwiUGV0Qm93bFwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBPblRyaWdnZXI6ICgpID0+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoUGxheWVyVlAoKS5lbmFibGVkICYmIFBsYXllclZQKCkuZm9vZEhvdXJzICE9PSAwKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBNb2RpZnlTdGF0KFwiZm9vZFwiLCBCT1dMX0NPTlNVTUVfUkVDT1ZFUlksIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIE5hbWU6IFwiQm93bERyaW5rXCIsXG4gICAgICAgICAgICAgICAgVGFyZ2V0czogW3tcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IFwiSXRlbU1vdXRoXCIsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkRyaW5rIEZyb20gQm93bFwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25TZWxmOiBcIlNvdXJjZUNoYXJhY3RlciBkcmlua3MgZnJvbSBQcm9ub3VuUG9zc2Vzc2l2ZSBib3dsLlwiXG4gICAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAgICAgSW1hZ2U6IFwiQXNzZXRzL0ZlbWFsZTNEQ0cvSXRlbURldmljZXMvUHJldmlldy9QZXRCb3dsLnBuZ1wiLFxuICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogW1wiVXNlTW91dGhcIl0sXG4gICAgICAgICAgICAgICAgQ3VzdG9tUHJlcmVxdWlzaXRlOiB7XG4gICAgICAgICAgICAgICAgICAgIE5hbWU6IFwiSGFzQm93bFwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBPblRyaWdnZXI6ICgpID0+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoUGxheWVyVlAoKS5lbmFibGVkICYmIFBsYXllclZQKCkud2F0ZXJIb3VycyAhPT0gMClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgTW9kaWZ5U3RhdChcIndhdGVyXCIsIEJPV0xfQ09OU1VNRV9SRUNPVkVSWSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgTmFtZTogXCJCb3dsRWF0MlwiLFxuICAgICAgICAgICAgICAgIFRhcmdldHM6IFt7XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwOiBcIkl0ZW1Nb3V0aFwiLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJFYXQgRnJvbSBCb3dsXCIsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvblNlbGY6IFwiU291cmNlQ2hhcmFjdGVyIHB1dHMgUHJvbm91blBvc3Nlc3NpdmUgaGVhZCBpbnRvIFByb25vdW5Qb3NzZXNzaXZlIGJvd2wgaW4gb3JkZXIgdG8gZWF0IHdpdGggdGhlIGdhZywgbWFraW5nIGEgbWVzcy5cIlxuICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgICAgIEltYWdlOiBcIkFzc2V0cy9GZW1hbGUzRENHL0l0ZW1EZXZpY2VzL1ByZXZpZXcvUGV0Qm93bC5wbmdcIixcbiAgICAgICAgICAgICAgICBQcmVyZXF1aXNpdGU6IFtdLFxuICAgICAgICAgICAgICAgIEN1c3RvbVByZXJlcXVpc2l0ZTogW1xuICAgICAgICAgICAgICAgICAgICB7IE5hbWU6IFwiSGFzQm93bFwiIH0sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE5hbWU6IFwiVXNlVG9uZ3VlTm9Nb3V0aFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgUHJlcmVxdWlzaXRlOiAoYWN0aW5nLCBfYWN0ZWQsIF9ncm91cCkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gIWFjdGluZy5DYW5UYWxrKCkgJiYgIWFjdGluZy5Jc01vdXRoQmxvY2tlZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICBPblRyaWdnZXI6ICgpID0+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoUGxheWVyVlAoKS5lbmFibGVkICYmIFBsYXllclZQKCkuZm9vZEhvdXJzICE9PSAwKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBNb2RpZnlTdGF0KFwiZm9vZFwiLCBCT1dMX0NPTlNVTUVfUkVDT1ZFUlksIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIE5hbWU6IFwiQm93bERyaW5rMlwiLFxuICAgICAgICAgICAgICAgIFRhcmdldHM6IFt7XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwOiBcIkl0ZW1Nb3V0aFwiLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJEcmluayBGcm9tIEJvd2xcIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uU2VsZjogXCJTb3VyY2VDaGFyYWN0ZXIgcHV0cyBQcm9ub3VuUG9zc2Vzc2l2ZSBoZWFkIGludG8gUHJvbm91blBvc3Nlc3NpdmUgYm93bCBpbiBvcmRlciB0byBkcmluayB3aXRoIHRoZSBnYWcsIG1ha2luZyBhIG1lc3MuXCJcbiAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgICAgICBJbWFnZTogXCJBc3NldHMvRmVtYWxlM0RDRy9JdGVtRGV2aWNlcy9QcmV2aWV3L1BldEJvd2wucG5nXCIsXG4gICAgICAgICAgICAgICAgUHJlcmVxdWlzaXRlOiBbXSxcbiAgICAgICAgICAgICAgICBDdXN0b21QcmVyZXF1aXNpdGU6IFtcbiAgICAgICAgICAgICAgICAgICAgeyBOYW1lOiBcIkhhc0Jvd2xcIiB9LFxuICAgICAgICAgICAgICAgICAgICB7IE5hbWU6IFwiVXNlVG9uZ3VlTm9Nb3V0aFwiIH1cbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIE9uVHJpZ2dlcjogKCkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChQbGF5ZXJWUCgpLmVuYWJsZWQgJiYgUGxheWVyVlAoKS53YXRlckhvdXJzICE9PSAwKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBNb2RpZnlTdGF0KFwid2F0ZXJcIiwgQk9XTF9DT05TVU1FX1JFQ09WRVJZLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBnZXQgU2V0dGluZ3MoKTogU2V0dGluZ1tdXG4gICAge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiZW5hYmxlZFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhSXNIYXJkY29yZU9uKEMpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJCZWNvbWUgYSB2aXJ0dWFsIHBldCEgUmVxdWlyaW5nOiBmb29kLCB3YXRlciwgc2xlZXAsIGFuZCBhZmZlY3Rpb25cIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImZvb2RIb3Vyc1wiIGFzIFZpcnR1YWxQZXRIb3VyQ2F0ZWdvcmllcyxcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiA0LFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJIb3cgbWFueSBob3VycyB1bnRpbCB5b3UgYXJlIGNvbXBsZXRlbHkgb3V0IG9mIGZvb2Q7IDAgdG8gZGlzYWJsZVwiLFxuICAgICAgICAgICAgICAgIHdpZHRoOiAxMjgsXG4gICAgICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgICAgIG1heDogTUFYX1NFVFRJTkdfVElNRV9IT1VSUyxcbiAgICAgICAgICAgICAgICBzdGVwOiAwLjFcbiAgICAgICAgICAgIH0gYXMgTnVtYmVyU2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwid2F0ZXJIb3Vyc1wiIGFzIFZpcnR1YWxQZXRIb3VyQ2F0ZWdvcmllcyxcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiA0LFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJIb3cgbWFueSBob3VycyB1bnRpbCB5b3UgYXJlIGNvbXBsZXRlbHkgb3V0IG9mIHdhdGVyOyAwIHRvIGRpc2FibGVcIixcbiAgICAgICAgICAgICAgICB3aWR0aDogMTI4LFxuICAgICAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgICAgICBtYXg6IE1BWF9TRVRUSU5HX1RJTUVfSE9VUlMsXG4gICAgICAgICAgICAgICAgc3RlcDogMC4xXG4gICAgICAgICAgICB9IGFzIE51bWJlclNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNsZWVwSG91cnNcIiBhcyBWaXJ0dWFsUGV0SG91ckNhdGVnb3JpZXMsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJudW1iZXJcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogOCxcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiSG93IG1hbnkgaG91cnMgdW50aWwgeW91IGFyZSBjb21wbGV0ZWx5IG91dCBvZiBzbGVlcDsgMCB0byBkaXNhYmxlXCIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IDEyOCxcbiAgICAgICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICAgICAgbWF4OiBNQVhfU0VUVElOR19USU1FX0hPVVJTLFxuICAgICAgICAgICAgICAgIHN0ZXA6IDAuMVxuICAgICAgICAgICAgfSBhcyBOdW1iZXJTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJhZmZlY3Rpb25Ib3Vyc1wiIGFzIFZpcnR1YWxQZXRIb3VyQ2F0ZWdvcmllcyxcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiA0LFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJIb3cgbWFueSBob3VycyB1bnRpbCB5b3UgYXJlIGNvbXBsZXRlbHkgb3V0IG9mIGFmZmVjdGlvbjsgMCB0byBkaXNhYmxlXCIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IDEyOCxcbiAgICAgICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICAgICAgbWF4OiBNQVhfU0VUVElOR19USU1FX0hPVVJTLFxuICAgICAgICAgICAgICAgIHN0ZXA6IDAuMVxuICAgICAgICAgICAgfSBhcyBOdW1iZXJTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJvZmZsaW5lRHJhaW5cIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIlN0YXRzIGRyYWluIGV2ZW4gd2hlbiBsb2dnZWQgb3V0IG9mIHRoZSBjbHViXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJub0hhbmRzXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCAmJiAhSXNIYXJkY29yZU9uKEMpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkFsbG93IGVhdGluZyBvciBkcmlua2luZyBmcm9tIGl0ZW1zIGluIHlvdXIgT1dOIGhhbmRzXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJtYXNvY2hpc3RcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJNYXNvY2hpc3QgcGV0OyBBYnVzZSByYWlzZXMgYWZmZWN0aW9uXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJsZXZlbHNcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInJlY29yZFwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgIGZvb2Q6IDEsXG4gICAgICAgICAgICAgICAgICAgIHdhdGVyOiAxLFxuICAgICAgICAgICAgICAgICAgICBzbGVlcDogMSxcbiAgICAgICAgICAgICAgICAgICAgYWZmZWN0aW9uOiAxLFxuICAgICAgICAgICAgICAgICAgICBsYXN0VXBkYXRlZDogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgICAgICAgICAgbGFzdE9ubGluZTogRGF0ZS5ub3coKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gYXMgU2V0dGluZ1xuICAgICAgICBdO1xuICAgIH1cblxuICAgIExvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3VwZXIuTG9hZCgpO1xuXG4gICAgICAgIC8vIExvZ2luIGxldmVsIHN5bmNcbiAgICAgICAgU2xlZXBDaGFuZ2VDaGVjayhmYWxzZSk7XG4gICAgICAgIExldmVsU3luYyh0cnVlLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgIGxhc3RPbmxpbmVJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChQbGF5ZXIuTWVtYmVyTnVtYmVyKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFBsYXllci5NUEFbdGhpcy5UaXRsZV0ubGV2ZWxzLmxhc3RPbmxpbmUgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgICAgIFNhdmVTdG9yYWdlKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgTEFTVF9PTkxJTkVfSU5URVJWQUxfTVMpO1xuXG4gICAgICAgIC8vIE5vbXMgYW5kIGRyaW5rc1xuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJDaGF0Um9vbU1lc3NhZ2VcIiwgMCwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhcmdzWzBdO1xuICAgICAgICAgICAgY29uc3QgYWN0aXZpdHlOYW1lID0gR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiQWN0aXZpdHlOYW1lXCIpO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICFQbGF5ZXJWUCgpLmVuYWJsZWRcbiAgICAgICAgICAgICAgICB8fCAoIVBsYXllclZQKCkubm9IYW5kc1xuICAgICAgICAgICAgICAgICYmIEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIlNvdXJjZUNoYXJhY3RlclwiKSA9PT0gUGxheWVyLk1lbWJlck51bWJlcilcbiAgICAgICAgICAgICAgICB8fCBkYXRhLlR5cGUgIT09IFwiQWN0aXZpdHlcIlxuICAgICAgICAgICAgICAgIHx8IEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIlRhcmdldENoYXJhY3RlclwiKSAhPT0gUGxheWVyLk1lbWJlck51bWJlclxuICAgICAgICAgICAgICAgIHx8IEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIkZvY3VzR3JvdXBOYW1lXCIpICE9PSBcIkl0ZW1Nb3V0aFwiXG4gICAgICAgICAgICAgICAgfHwgIWFjdGl2aXR5TmFtZVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBHZXQgYWN0aXZpdHkgYW5kIGNoZWNrIHByZXJlcXVpc2l0ZXNcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2aXR5ID0gQWN0aXZpdHlGZW1hbGUzRENHLmZpbmQoKHgpID0+IHguTmFtZSA9PT0gYWN0aXZpdHlOYW1lKTtcblxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIFBsYXllclZQKCkuZm9vZEhvdXJzICE9PSAwXG4gICAgICAgICAgICAgICAgJiYgKGFjdGl2aXR5Py5QcmVyZXF1aXNpdGU/LmluY2x1ZGVzKFwiTmVlZHMtRWF0SXRlbVwiKVxuICAgICAgICAgICAgICAgIHx8IEFDVElWSVRJRVNfRk9PRF9HQUlOLnNvbWUoKHgpID0+IGFjdGl2aXR5Py5OYW1lID09PSB4KSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBNb2RpZnlTdGF0KFwiZm9vZFwiLCBJVEVNX0NPTlVNRV9SRUNPVkVSWSwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBQbGF5ZXJWUCgpLndhdGVySG91cnMgIT09IDBcbiAgICAgICAgICAgICAgICAmJiAoYWN0aXZpdHk/LlByZXJlcXVpc2l0ZT8uaW5jbHVkZXMoXCJOZWVkcy1TaXBJdGVtXCIpXG4gICAgICAgICAgICAgICAgfHwgQUNUSVZJVElFU19XQVRFUl9HQUlOLnNvbWUoKHgpID0+IGFjdGl2aXR5Py5OYW1lID09PSB4KSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBNb2RpZnlTdGF0KFwid2F0ZXJcIiwgSVRFTV9DT05VTUVfUkVDT1ZFUlksIHRydWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gU2xlZXBcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiQ2hhcmFjdGVyUmVmcmVzaFwiLCAwLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGFyZ3NbMF0uTWVtYmVyTnVtYmVyID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFNsZWVwQ2hhbmdlQ2hlY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBBZmZlY3Rpb25cbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiQ2hhdFJvb21NZXNzYWdlXCIsIDAsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXJnc1swXTtcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2aXR5TmFtZSA9IEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIkFjdGl2aXR5TmFtZVwiKTtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAhUGxheWVyVlAoKS5lbmFibGVkXG4gICAgICAgICAgICAgICAgfHwgUGxheWVyVlAoKS5hZmZlY3Rpb25Ib3VycyA9PT0gMFxuICAgICAgICAgICAgICAgIHx8IGRhdGEuVHlwZSAhPT0gXCJBY3Rpdml0eVwiXG4gICAgICAgICAgICAgICAgfHwgR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiVGFyZ2V0Q2hhcmFjdGVyXCIpICE9PSBQbGF5ZXIuTWVtYmVyTnVtYmVyXG4gICAgICAgICAgICAgICAgfHwgR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiU291cmNlQ2hhcmFjdGVyXCIpID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyXG4gICAgICAgICAgICAgICAgfHwgIWFjdGl2aXR5TmFtZVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBncm91cCA9IEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIkZvY3VzR3JvdXBOYW1lXCIpIGFzIHN0cmluZyA/PyBcIlwiO1xuICAgICAgICAgICAgY29uc3QgZ3JvdXBNdWx0ID0gQUZGRUNUSU9OX1pPTkVfQUZGRUNUSU9OW2dyb3VwXSA/PyAxO1xuICAgICAgICAgICAgaWYgKEFGRkVDVElPTl9BQ1RJVklUWV9MT1ZFLmluY2x1ZGVzKGFjdGl2aXR5TmFtZSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgTW9kaWZ5U3RhdChcImFmZmVjdGlvblwiLCBBRkZFQ1RJT05fTE9WRV9CQVNFICogZ3JvdXBNdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKEFGRkVDVElPTl9BQ1RJVklUWV9MSUtFLmluY2x1ZGVzKGFjdGl2aXR5TmFtZSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgTW9kaWZ5U3RhdChcImFmZmVjdGlvblwiLCBBRkZFQ1RJT05fTElLRV9CQVNFICogZ3JvdXBNdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKEFGRkVDVElPTl9BQ1RJVklUWV9NQVNPLmluY2x1ZGVzKGFjdGl2aXR5TmFtZSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgTW9kaWZ5U3RhdChcImFmZmVjdGlvblwiLCAoUGxheWVyVlAoKS5tYXNvY2hpc3QgPyAtMSA6IDEpICogQUZGRUNUSU9OX01BU09fQkFTRSAqIGdyb3VwTXVsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgVW5sb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLlVubG9hZCgpO1xuICAgICAgICBjbGVhckludGVydmFsKGxhc3RPbmxpbmVJbnRlcnZhbCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgUmFuZG9tRWxlbWVudCB9IGZyb20gXCIuLi91dGlsL2dlbmVyYWxcIjtcbmltcG9ydCB7IFNlbmRBY3Rpb24gfSBmcm9tIFwiLi4vdXRpbC9tZXNzYWdpbmdcIjtcbmltcG9ydCB7IEhvb2tGdW5jdGlvbiB9IGZyb20gXCIuLi91dGlsL3Nka1wiO1xuaW1wb3J0IHsgTW9kdWxlLCBNb2R1bGVUaXRsZSB9IGZyb20gXCIuL19tb2R1bGVcIjtcbmltcG9ydCB7IElzSGFyZGNvcmVPbiB9IGZyb20gXCIuL3Byb2ZpbGVcIjtcbmltcG9ydCB7IEdldENoYXJhY3RlckN1cnJlbnRTdGF0VmFsdWUsIFZpcnR1YWxQZXRTdGF0Q2F0ZWdvcnkgfSBmcm9tIFwiLi92aXJ0dWFsUGV0XCI7XG5cbmNvbnN0IFBsYXllclZQOiAoQz86IENoYXJhY3RlcikgPT4gTVBBUmVjb3JkID0gKEM6IENoYXJhY3RlciA9IFBsYXllcikgPT5cbntcbiAgICByZXR1cm4gQy5NUEE/LltNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XSA/PyB7fTtcbn07XG5cbmNvbnN0IFBsYXllclZQQzogKEM/OiBDaGFyYWN0ZXIpID0+IE1QQVJlY29yZCA9IChDOiBDaGFyYWN0ZXIgPSBQbGF5ZXIpID0+XG57XG4gICAgcmV0dXJuIEMuTVBBPy5bTW9kdWxlVGl0bGUuVmlydHVhbFBldENvbmRpdGlvbnNdID8/IHt9O1xufTtcblxuLyoqXG4gKiBDaGVjayBpZiBhIGNvbmRpdGlvbiBpcyBjdXJyZW50bHkgZW5mb3JjZWQsIGNoZWNraW5nIGlmIGVuYWJsZWQgYW5kIGlmIGl0IHJlbGllcyBvbiBhIFZQIHN0YXQsIHRoYXQgdGhlIHN0YXQgaXMgc2V0XG4gKi9cbmZ1bmN0aW9uIENvbmRpdGlvbklzRW5mb3JjZWQoY29uZGl0aW9uOiBzdHJpbmcsIHZwU3RhdE5lZWRUb0JlRW5hYmxlZD86IFZpcnR1YWxQZXRTdGF0Q2F0ZWdvcnkpOiBib29sZWFuXG57XG4gICAgaWYgKCFQbGF5ZXJWUEMoKS5lbmFibGVkIHx8ICEoUGxheWVyVlBDKClbY29uZGl0aW9uXSkpXG4gICAge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiAoIXZwU3RhdE5lZWRUb0JlRW5hYmxlZCB8fCAoUGxheWVyVlAoKS5lbmFibGVkICYmIFBsYXllclZQKCk/LltgJHt2cFN0YXROZWVkVG9CZUVuYWJsZWR9SG91cnNgXSAhPT0gMCkpO1xufTtcblxuLyoqIFtTa2lsbCwgcG9zdGl2ZSBvciBuZWdhdGl2ZSBjb3JybGF0aW9uXSAqL1xuY29uc3QgQUZGRUNUSU9OX1NLSUxMUzogW1NraWxsVHlwZSwgYm9vbGVhbl1bXSA9XG5bXG4gICAgW1wiU2VsZkJvbmRhZ2VcIiwgdHJ1ZV0sXG4gICAgW1wiV2lsbHBvd2VyXCIsIHRydWVdLFxuICAgIFtcIkJvbmRhZ2VcIiwgZmFsc2VdLFxuICAgIFtcIkV2YXNpb25cIiwgZmFsc2VdLFxuICAgIFtcIkxvY2tQaWNraW5nXCIsIGZhbHNlXVxuXTtcblxuaW50ZXJmYWNlIE9uU3RhdENoYW5nZUV2ZW50XG57XG4gICAgc3RhdDogVmlydHVhbFBldFN0YXRDYXRlZ29yeTtcbiAgICB0aHJlc2hob2xkOiBudW1iZXI7XG4gICAgY2hhbmdlOiBcInJpc2luZ1wiIHwgXCJmYWxsaW5nXCIgfCBcImJvdGhcIjtcbiAgICBhY3Rpb246ICgpID0+IHZvaWQ7XG4gICAgZmlyc3RSdW4/OiAoKSA9PiB2b2lkO1xufVxuY29uc3QgcHJldmlvdXNTdGF0czogUmVjb3JkPFZpcnR1YWxQZXRTdGF0Q2F0ZWdvcnksIG51bWJlcj4gPSB7XG4gICAgZm9vZDogLTEsXG4gICAgd2F0ZXI6IC0xLFxuICAgIHNsZWVwOiAtMSxcbiAgICBhZmZlY3Rpb246IC0xXG59O1xubGV0IG9uU3RhdExldmVsOiBPblN0YXRDaGFuZ2VFdmVudFtdID0gW107XG4vLyBMaXN0ZW5zIGZvciBjaGFuZ2VzIGV2ZXJ5IH4xLjUgc2Vjb25kc1xuY29uc3QgU1RBVF9DT1VOVF9NQVggPSAyNTA7XG5sZXQgc3RhdENvdW50ID0gU1RBVF9DT1VOVF9NQVg7XG5leHBvcnQgZnVuY3Rpb24gQ29uZGl0aW9uQ2hlY2soKTogdm9pZFxue1xuICAgIChbXCJmb29kXCIsIFwid2F0ZXJcIiwgXCJhZmZlY3Rpb25cIiwgXCJzbGVlcFwiXSBhcyBWaXJ0dWFsUGV0U3RhdENhdGVnb3J5W10pLmZvckVhY2goKGNhdGVnb3J5KSA9PlxuICAgIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgUGxheWVyVlAoKS5lbmFibGVkXG4gICAgICAgICAgICAmJiBQbGF5ZXJWUEMoKS5lbmFibGVkXG4gICAgICAgICAgICAmJiBQbGF5ZXJWUCgpW2Ake2NhdGVnb3J5fUhvdXJzYF0gIT09IDBcbiAgICAgICAgKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBwcmV2VmFsdWUgPSBwcmV2aW91c1N0YXRzW2NhdGVnb3J5XTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJWYWx1ZSA9IEdldENoYXJhY3RlckN1cnJlbnRTdGF0VmFsdWUoUGxheWVyLCBjYXRlZ29yeSk7XG4gICAgICAgICAgICBvblN0YXRMZXZlbC5mb3JFYWNoKChjaGFuZ2VFdmVudCkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZUV2ZW50LnN0YXQgPT09IGNhdGVnb3J5XG4gICAgICAgICAgICAgICAgICAgICYmIHByZXZWYWx1ZSA9PT0gLTFcbiAgICAgICAgICAgICAgICAgICAgJiYgISFjaGFuZ2VFdmVudC5maXJzdFJ1blxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZUV2ZW50LmZpcnN0UnVuKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlRXZlbnQuc3RhdCA9PT0gY2F0ZWdvcnlcbiAgICAgICAgICAgICAgICAgICAgJiYgcHJldlZhbHVlICE9PSAtMVxuICAgICAgICAgICAgICAgICAgICAmJiBwcmV2VmFsdWUgPiBjdXJyVmFsdWUgLy8gRmFsbGluZ1xuICAgICAgICAgICAgICAgICAgICAmJiBjaGFuZ2VFdmVudC5jaGFuZ2UgIT09IFwicmlzaW5nXCJcbiAgICAgICAgICAgICAgICAgICAgJiYgY3VyclZhbHVlIDw9IGNoYW5nZUV2ZW50LnRocmVzaGhvbGRcbiAgICAgICAgICAgICAgICAgICAgJiYgY2hhbmdlRXZlbnQudGhyZXNoaG9sZCA8IHByZXZWYWx1ZVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZUV2ZW50LmFjdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZUV2ZW50LnN0YXQgPT09IGNhdGVnb3J5XG4gICAgICAgICAgICAgICAgICAgICYmIHByZXZWYWx1ZSAhPT0gLTFcbiAgICAgICAgICAgICAgICAgICAgJiYgcHJldlZhbHVlIDwgY3VyclZhbHVlIC8vIFJpc2luZ1xuICAgICAgICAgICAgICAgICAgICAmJiBjaGFuZ2VFdmVudC5jaGFuZ2UgIT09IFwiZmFsbGluZ1wiXG4gICAgICAgICAgICAgICAgICAgICYmIHByZXZWYWx1ZSA8IGNoYW5nZUV2ZW50LnRocmVzaGhvbGRcbiAgICAgICAgICAgICAgICAgICAgJiYgY2hhbmdlRXZlbnQudGhyZXNoaG9sZCA8PSBjdXJyVmFsdWVcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VFdmVudC5hY3Rpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHByZXZpb3VzU3RhdHNbY2F0ZWdvcnldID0gY3VyclZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgcHJldmlvdXNTdGF0c1tjYXRlZ29yeV0gPSAtMTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5jb25zdCBTTEVFUF9USU5UID0ge1xuICAgIHN0YXQ6IFwic2xlZXBcIiBhcyBWaXJ0dWFsUGV0U3RhdENhdGVnb3J5LFxuICAgIHN0YXJ0TGV2ZWw6IDAuMjUsXG4gICAgZW5kTGV2ZWw6IDAsXG4gICAgbWluVGludDogMCxcbiAgICBtYXhUaW50OiAxXG59O1xuXG5sZXQgcGFzc2VkT3V0ID0gZmFsc2U7XG5jb25zdCBQQVNTT1VUX1RBTEtfUkVQTEFDRTogc3RyaW5nW10gPSBbXG4gICAgXCJTb3VyY2VDaGFyYWN0ZXIgZHJvb2xzIG91dCBvZiB0aGUgY29ybmVyIG9mIFByb25vdW5Qb3NzZXNzaXZlIGxpcCBhcyBQcm9ub3VuU3ViamVjdCBzbGVlcHMuXCIsXG4gICAgXCJTb3VyY2VDaGFyYWN0ZXIgbXVtYmxlcyBxdWlldGx5IGluIFByb25vdW5Qb3NzZXNzaXZlIHNsdW1iZXIuXCIsXG4gICAgXCJTb3VyY2VDaGFyYWN0ZXIgcmVzdHMgcGVhY2VmdWxseS5cIlxuXTtcbmZ1bmN0aW9uIE1QQVBhc3NvdXQoKTogdm9pZFxue1xuICAgIENoYXJhY3RlclNldEZhY2lhbEV4cHJlc3Npb24oUGxheWVyLCBcIkVtb3RpY29uXCIsIFwiU2xlZXBcIik7XG4gICAgQ2hhcmFjdGVyU2V0RmFjaWFsRXhwcmVzc2lvbihQbGF5ZXIsIFwiRXllc1wiLCBcIkNsb3NlZFwiKTtcbiAgICBDaGFyYWN0ZXJTZXRGYWNpYWxFeHByZXNzaW9uKFBsYXllciwgXCJGbHVpZHNcIiwgXCJEcm9vbE1lZGl1bVwiKTtcbiAgICBpZiAoUGxheWVyLkNhbktuZWVsKCkpXG4gICAge1xuICAgICAgICBQb3NlU2V0QWN0aXZlKFBsYXllciwgXCJLbmVlbFwiLCB0cnVlKTtcbiAgICB9XG4gICAgcGFzc2VkT3V0ID0gdHJ1ZTtcblxuICAgIGNvbnN0IHNsZWVwTW9kdWxlID0gUGxheWVyPy5MU0NHPy5TdGF0ZU1vZHVsZT8uc3RhdGVzPy5maW5kKCh4KSA9PiB4LnR5cGUgPT09IFwiYXNsZWVwXCIpO1xuICAgIGlmIChQbGF5ZXJWUEMoKS5wYXNzb3V0TFNDRyAmJiBzbGVlcE1vZHVsZSlcbiAgICB7XG4gICAgICAgIC8qXG4gICAgICAgIHRoaXMuc3RhdGVNb2R1bGUuU2xlZXBTdGF0ZS5BY3RpdmF0ZSh1bmRlZmluZWQsIHVuZGVmaW5lZCwgZG9FbW90ZSk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3Muc3RhdHMuc2VkYXRlZENvdW50Kys7XG4gICAgICAgIEFjdGl2YXRlKG1lbWJlck51bWJlcj86IG51bWJlciwgZHVyYXRpb24/OiBudW1iZXIsIGVtb3RlPzogYm9vbGVhbik6IEJhc2VTdGF0ZSB8IHVuZGVmaW5lZCB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVtb3RlKVxuICAgICAgICAgICAgICAgICAgICBTZW5kQWN0aW9uKFwiJU5BTUUlIHNsdW1wcyB3ZWFrbHkgYXMgJVBST05PVU4lIHNsaXBzIGludG8gdW5jb25jaW91c25lc3MuXCIpO1xuICAgICAgICAgICAgICAgIHRoaXMuU2V0U2xlZXBFeHByZXNzaW9uKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5GYWxsRG93bklmUG9zc2libGUoKTtcbiAgICAgICAgICAgICAgICBhZGRDdXN0b21FZmZlY3QoUGxheWVyLCBcIkZvcmNlS25lZWxcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN1cGVyLkFjdGl2YXRlKG1lbWJlck51bWJlciwgZHVyYXRpb24sIGVtb3RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBBY3RpdmF0ZShtZW1iZXJOdW1iZXI/OiBudW1iZXIsIGR1cmF0aW9uPzogbnVtYmVyLCBlbW90ZT86IGJvb2xlYW4pOiBCYXNlU3RhdGUgfCB1bmRlZmluZWQge1xuICAgICAgICAgICAgdGhpcy5jb25maWcuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLmFjdGl2YXRlZEF0ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5hY3RpdmF0ZWRCeSA9IG1lbWJlck51bWJlciA/PyAtMTtcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLmFjdGl2YXRpb25Db3VudCsrO1xuICAgICAgICAgICAgdGhpcy5jb25maWcuZHVyYXRpb24gPSBkdXJhdGlvbjtcblxuICAgICAgICAgICAgc2V0dGluZ3NTYXZlKHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgKi9cbiAgICAgICAgY29uc29sZS5sb2coXCJDYWxsaW5nIExTQ0cgcGFzc291dFwiKTtcbiAgICB9XG4gICAgU2VuZEFjdGlvbihcIlNvdXJjZUNoYXJhY3RlciBwYXNzZXMgb3V0IGZyb20gZXhoYXVzdGlvbi5cIiwgdW5kZWZpbmVkLCBbeyBTb3VyY2VDaGFyYWN0ZXI6IFBsYXllci5NZW1iZXJOdW1iZXIgfSBhcyBTb3VyY2VDaGFyYWN0ZXJEaWN0aW9uYXJ5RW50cnldKTtcbn1cbmZ1bmN0aW9uIE1QQVdha2V1cCgpOiB2b2lkXG57XG4gICAgQ2hhcmFjdGVyU2V0RmFjaWFsRXhwcmVzc2lvbihQbGF5ZXIsIFwiRW1vdGljb25cIiwgbnVsbCk7XG4gICAgQ2hhcmFjdGVyU2V0RmFjaWFsRXhwcmVzc2lvbihQbGF5ZXIsIFwiRXllc1wiLCBcIkRhemVkXCIpO1xuICAgIENoYXJhY3RlclNldEZhY2lhbEV4cHJlc3Npb24oUGxheWVyLCBcIkV5ZWJyb3dzXCIsIFwiTG93ZXJlZFwiKTtcblxuICAgIHBhc3NlZE91dCA9IGZhbHNlO1xuICAgIFNlbmRBY3Rpb24oXCJTb3VyY2VDaGFyYWN0ZXIgd2FrZXMgdXAgZnJvbSBQcm9ub3VuUG9zc2Vzc2l2ZSBuYXAuXCIsIHVuZGVmaW5lZCwgW3sgU291cmNlQ2hhcmFjdGVyOiBQbGF5ZXIuTWVtYmVyTnVtYmVyIH0gYXMgU291cmNlQ2hhcmFjdGVyRGljdGlvbmFyeUVudHJ5XSk7XG59XG5mdW5jdGlvbiBQYXNzb3V0Q2hlY2soKTogYm9vbGVhblxue1xuICAgIHJldHVybiAoUGxheWVyVlBDKCkuZW5hYmxlZFxuICAgICAgJiYgUGxheWVyVlAoKS5zbGVlcEhvdXJzICE9PSAwXG4gICAgICAmJiBQbGF5ZXJWUEMoKS5wYXNzb3V0XG4gICAgICAmJiAhUGxheWVyVlBDKCkucGFzc291dExTQ0dcbiAgICAgICYmIHBhc3NlZE91dCk7XG59XG5cbmxldCBhZmZlY3Rpb25DaGVja0ludGVydmFsOiBudW1iZXI7XG5jb25zdCBza2lsbER1cmF0aW9uTVMgPSAxNTAwMDtcbmZ1bmN0aW9uIEFmZmVjdGlvblNraWxsQ2hlY2soKTogdm9pZFxue1xuICAgIGlmIChcbiAgICAgICAgIVBsYXllclZQKCkuZW5hYmxlZFxuICAgICAgICB8fCBQbGF5ZXJWUCgpLmFmZmVjdGlvbkhvdXJzID09PSAwXG4gICAgICAgIHx8ICFQbGF5ZXJWUEMoKS5lbmFibGVkXG4gICAgKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIEFGRkVDVElPTl9TS0lMTFMuZm9yRWFjaCgoW3NraWxsLCB0eXBlXSkgPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IGFmZmVjdGlvbiA9IEdldENoYXJhY3RlckN1cnJlbnRTdGF0VmFsdWUoUGxheWVyLCBcImFmZmVjdGlvblwiKTtcbiAgICAgICAgY29uc3QgYWZmZWN0aW9uTW9kaWZpZXIgPSBNYXRoLnJvdW5kKCgoKGFmZmVjdGlvbikgKiAoNSAtICgtNSkpKSAvICgxKSArICgtNSkpICogKHR5cGUgPyAxIDogLTEpICogMTAwKSAvIDEwMDtcblxuICAgICAgICBjb25zdCBwcmV2TW9kID0gU2tpbGxHZXRNb2RpZmllcihQbGF5ZXIsIHNraWxsKTtcbiAgICAgICAgY29uc3QgZHVyYXRpb24gPSBTa2lsbEdldE1vZGlmaWVyRHVyYXRpb24oUGxheWVyLCBza2lsbCkgIT09IDAgPyBTa2lsbEdldE1vZGlmaWVyRHVyYXRpb24oUGxheWVyLCBza2lsbCkgOiBza2lsbER1cmF0aW9uTVM7XG4gICAgICAgIGlmIChhZmZlY3Rpb25Nb2RpZmllciA+IDAgJiYgUGxheWVyVlBDKCkuYWZmZWN0aW9uU2tpbGxCdWZmcylcbiAgICAgICAge1xuICAgICAgICAgICAgU2tpbGxTZXRNb2RpZmllcihQbGF5ZXIsIHNraWxsLCBwcmV2TW9kICsgYWZmZWN0aW9uTW9kaWZpZXIsIGR1cmF0aW9uLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFmZmVjdGlvbk1vZGlmaWVyIDwgMCAmJiBQbGF5ZXJWUEMoKS5hZmZlY3Rpb25Ta2lsbERlYnVmZnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIFNraWxsU2V0TW9kaWZpZXIoUGxheWVyLCBza2lsbCwgcHJldk1vZCArIGFmZmVjdGlvbk1vZGlmaWVyLCBkdXJhdGlvbiwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmNvbnN0IE1BWF9TTE9XX0xFQVZFX0RVUkFUSU9OX1NFQyA9IDI1O1xuY29uc3QgU0xPV19MRUFWRV9MRVZFTF9TVEFSVCA9IDAuMztcblxuZXhwb3J0IGNsYXNzIFZpcnR1YWxQZXRDb25kaXRpb25zTW9kdWxlIGV4dGVuZHMgTW9kdWxlXG57XG4gICAgZ2V0IFRpdGxlKCk6IE1vZHVsZVRpdGxlXG4gICAge1xuICAgICAgICByZXR1cm4gTW9kdWxlVGl0bGUuVmlydHVhbFBldENvbmRpdGlvbnM7XG4gICAgfVxuXG4gICAgZ2V0IFNldHRpbmdzKCk6IFNldHRpbmdbXVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImVuYWJsZWRcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkICYmICFJc0hhcmRjb3JlT24oQyksXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIlJlY2l2ZSBjb25kaXRpb25zIGJhc2VkIG9uIGN1cnJlbnQgbGV2ZWwgb2YgeW91ciB2aXJ0dWFsIHBldCBzdGF0c1wiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiZm9vZE5PV1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQgJiYgISFQbGF5ZXJWUEMoQykuZW5hYmxlZCAmJiAhSXNIYXJkY29yZU9uKEMpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkZvb2QgYW5kIHdhdGVyIGFmZmVjdHMgYWZmZWN0aW9uIGdhaW5cIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInRpbnRcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkICYmICEhUGxheWVyVlBDKEMpLmVuYWJsZWQgJiYgIUlzSGFyZGNvcmVPbihDKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJWaXNpb24gZGFya2VucyBhcyB5b3UgZ2V0IHNsZWVwaWVyXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJwYXNzb3V0XCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCAmJiAhIVBsYXllclZQQyhDKS5lbmFibGVkICYmICFJc0hhcmRjb3JlT24oQyksXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiUGFzc291dCB3aGVuIGV4aGF1c3RlZFwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywgLyoge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwicGFzc291dExTQ0dcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkICYmICEhUGxheWVyVlBDKEMpLmVuYWJsZWQgJiYgISFQbGF5ZXJWUEMoQykucGFzc291dCAmJiAhIUMuTFNDRyAmJiAhSXNIYXJkY29yZU9uKEMpICYmIGZhbHNlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJVc2UgTFNDRyBwYXNzb3V0IGluc3RlYWQgb2YgTVBBOyBSZXF1aXJlcyBMU0NHXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCAqLyB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJhZmZlY3Rpb25Ta2lsbEJ1ZmZzXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCAmJiAhIVBsYXllclZQQyhDKS5lbmFibGVkICYmICFJc0hhcmRjb3JlT24oQyksXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWZmZWN0aW9uIHdpbGwgYnVmZiBza2lsbHMgYmFzZWQgb24gaXRzIGxldmVsXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJhZmZlY3Rpb25Ta2lsbERlYnVmZnNcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkICYmICEhUGxheWVyVlBDKEMpLmVuYWJsZWQgJiYgIUlzSGFyZGNvcmVPbihDKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBZmZlY3Rpb24gd2lsbCBkZWJ1ZmYgc2tpbGxzIGJhc2VkIG9uIGl0cyBsZXZlbFwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiaGVhcmluZ0xvc3NcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkICYmICEhUGxheWVyVlBDKEMpLmVuYWJsZWQgJiYgIUlzSGFyZGNvcmVPbihDKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJIZWFyaW5nIGJlY29tZXMgaGFyZGVyIHRoZSBodW5ncmllciB5b3UgYXJlXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJzbG93TGVhdmVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkICYmICEhUGxheWVyVlBDKEMpLmVuYWJsZWQgJiYgIUlzSGFyZGNvcmVPbihDKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJUYWtlcyBsb25nZXIgdG8gbGVhdmUgdGhlIHJvb20gd2hlbiBodW5ncnlcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmdcbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBMb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIC8vIENoZWNrIGZvciBjb25kaXRpb24gY2hhbmdlcyBldmVyeSBzbyBvZnRlblxuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJHYW1lUnVuXCIsIDAsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoc3RhdENvdW50ID49IFNUQVRfQ09VTlRfTUFYKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIENvbmRpdGlvbkNoZWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGF0Q291bnQrKztcbiAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBFZXB5IHRpbnRcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiUGxheWVyLkdldFRpbnRzXCIsIDAsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBOb3QgZW5hYmxlZCwgc2tpcFxuICAgICAgICAgICAgaWYgKCFDb25kaXRpb25Jc0VuZm9yY2VkKFwidGludFwiLCBTTEVFUF9USU5ULnN0YXQpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBjdXJyTGV2ZWwgPSBHZXRDaGFyYWN0ZXJDdXJyZW50U3RhdFZhbHVlKFBsYXllciwgU0xFRVBfVElOVC5zdGF0KTtcbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgc2NhbGVkIHZhbHVlXG4gICAgICAgICAgICBjb25zdCBzY2FsZWRWYWx1ZSA9ICgoY3VyckxldmVsIC0gU0xFRVBfVElOVC5zdGFydExldmVsKSAvIChTTEVFUF9USU5ULmVuZExldmVsIC0gU0xFRVBfVElOVC5zdGFydExldmVsKSkgKiAoU0xFRVBfVElOVC5tYXhUaW50IC0gU0xFRVBfVElOVC5taW5UaW50KSArIFNMRUVQX1RJTlQubWluVGludDtcbiAgICAgICAgICAgIGlmIChTTEVFUF9USU5ULm1pblRpbnQgPD0gc2NhbGVkVmFsdWUgJiYgc2NhbGVkVmFsdWUgPD0gU0xFRVBfVElOVC5tYXhUaW50KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpLmNvbmNhdCh7IHI6IDAsIGc6IDAsIGI6IDAsIGE6IE1hdGguc3FydChNYXRoLnJvdW5kKHNjYWxlZFZhbHVlICogMTAwMCkgLyAxMDAwKSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBBZGQgY29uZGl0aW9uIHRyaWdnZXJzXG4gICAgICAgIG9uU3RhdExldmVsID0gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN0YXQ6IFwic2xlZXBcIixcbiAgICAgICAgICAgICAgICB0aHJlc2hob2xkOiAwLFxuICAgICAgICAgICAgICAgIGNoYW5nZTogXCJmYWxsaW5nXCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoKTogdm9pZFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgTVBBUGFzc291dCgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZmlyc3RSdW46IGZ1bmN0aW9uICgpOiB2b2lkXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoR2V0Q2hhcmFjdGVyQ3VycmVudFN0YXRWYWx1ZShQbGF5ZXIsIFwic2xlZXBcIikgPT09IDApXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE1QQVBhc3NvdXQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBzdGF0OiBcInNsZWVwXCIsXG4gICAgICAgICAgICAgICAgdGhyZXNoaG9sZDogMC4xLFxuICAgICAgICAgICAgICAgIGNoYW5nZTogXCJyaXNpbmdcIixcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uICgpOiB2b2lkXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFzc2VkT3V0KVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBNUEFXYWtldXAoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICAgICAgLy8gRWVweVxuXG4gICAgICAgIC8vIFBhc3NvdXQgSG9va3NcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiUGxheWVyLkNhblRhbGtcIiwgNSwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBQYXNzb3V0Q2hlY2soKSA/IGZhbHNlIDogbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIlBsYXllci5DYW5XYWxrXCIsIDUsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gUGFzc291dENoZWNrKCkgPyBmYWxzZSA6IG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJQbGF5ZXIuQ2FuQ2hhbmdlT3duQ2xvdGhlc1wiLCA1LCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIFBhc3NvdXRDaGVjaygpID8gZmFsc2UgOiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiUGxheWVyLkNhbkludGVyYWN0XCIsIDUsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gUGFzc291dENoZWNrKCkgPyBmYWxzZSA6IG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJTZXJ2ZXJTZW5kXCIsIDUsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIVBhc3NvdXRDaGVjaygpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBbdHlwZSwgZGF0YV0gPSBhcmdzIGFzIFtzdHJpbmcsIFNlcnZlckNoYXRSb29tTWVzc2FnZV07XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgdHlwZSA9PSBcIkNoYXRSb29tQ2hhdFwiXG4gICAgICAgICAgICAgICAgJiYgZGF0YT8uVHlwZSA9PSBcIkNoYXRcIlxuICAgICAgICAgICAgICAgICYmICFkYXRhPy5Db250ZW50LnN0YXJ0c1dpdGgoXCIoXCIpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgU2VuZEFjdGlvbihSYW5kb21FbGVtZW50KFBBU1NPVVRfVEFMS19SRVBMQUNFKSBhcyBzdHJpbmcsIHVuZGVmaW5lZCwgW3sgU291cmNlQ2hhcmFjdGVyOiBQbGF5ZXIuTWVtYmVyTnVtYmVyIH0gYXMgU291cmNlQ2hhcmFjdGVyRGljdGlvbmFyeUVudHJ5XSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIlBsYXllci5HZXREZWFmTGV2ZWxcIiwgNSwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBQYXNzb3V0Q2hlY2soKSA/IDQgOiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiUGxheWVyLkdldEJsaW5kTGV2ZWxcIiwgNSwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBQYXNzb3V0Q2hlY2soKSA/IChQbGF5ZXIuR2FtZXBsYXlTZXR0aW5ncz8uU2Vuc0RlcENoYXRMb2cgPT09IFwiU2Vuc0RlcEV4dHJlbWVcIiB8fCBQbGF5ZXIuR2FtZXBsYXlTZXR0aW5ncz8uU2Vuc0RlcENoYXRMb2cgPT09IFwiU2Vuc0RlcFRvdGFsXCIpID8gMyA6IDIgOiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBDYW4ndCBmb2N1cyB3aGlsZSBodW5ncnkgKGRlYWYpXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIlBsYXllci5HZXREZWFmTGV2ZWxcIiwgNSwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGRlYWZMZXZlbCA9IENvbmRpdGlvbklzRW5mb3JjZWQoXCJoZWFyaW5nTG9zc1wiLCBcImZvb2RcIikgPyBNYXRoLm1heCgwLCBNYXRoLmZsb29yKChHZXRDaGFyYWN0ZXJDdXJyZW50U3RhdFZhbHVlKFBsYXllciwgXCJmb29kXCIpIC0gMC4zMDAxKSAqIC0xMCkpIDogMDtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLm1heChkZWFmTGV2ZWwsIG5leHQoYXJncykpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBBZmZlY3Rpb24gYWZmZWN0IHNraWxsc1xuICAgICAgICBpZiAoU2tpbGxNb2RpZmllck1heCA8IDEwKVxuICAgICAgICB7XG4gICAgICAgICAgICBTa2lsbE1vZGlmaWVyTWF4ID0gMTA7XG4gICAgICAgIH1cbiAgICAgICAgQWZmZWN0aW9uU2tpbGxDaGVjaygpO1xuICAgICAgICBhZmZlY3Rpb25DaGVja0ludGVydmFsID0gc2V0SW50ZXJ2YWwoQWZmZWN0aW9uU2tpbGxDaGVjaywgc2tpbGxEdXJhdGlvbk1TICsgMTAwMCk7XG5cbiAgICAgICAgLy8gU2xvdyBsZWF2ZVxuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJDaGF0Um9vbUF0dGVtcHRMZWF2ZVwiLCAwLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCFDb25kaXRpb25Jc0VuZm9yY2VkKFwic2xvd0xlYXZlXCIsIFwiZm9vZFwiKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgcHJldlNsb3cgPSBDaGF0Um9vbVNsb3d0aW1lcjtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJGb29kID0gR2V0Q2hhcmFjdGVyQ3VycmVudFN0YXRWYWx1ZShQbGF5ZXIsIFwiZm9vZFwiKTtcbiAgICAgICAgICAgIG5leHQoYXJncyk7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgcHJldlNsb3cgPT09IDBcbiAgICAgICAgICAgICAgICAmJiBDaGF0Um9vbVNsb3d0aW1lciA+IDBcbiAgICAgICAgICAgICAgICAmJiBjdXJyRm9vZCA8PSBTTE9XX0xFQVZFX0xFVkVMX1NUQVJUXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2xvd2VkU3BlZWQgPSAoKCgtTUFYX1NMT1dfTEVBVkVfRFVSQVRJT05fU0VDIC8gU0xPV19MRUFWRV9MRVZFTF9TVEFSVCkgKiBjdXJyRm9vZCkgKyBNQVhfU0xPV19MRUFWRV9EVVJBVElPTl9TRUMpICogMTAwMDtcbiAgICAgICAgICAgICAgICBDaGF0Um9vbVNsb3d0aW1lciA9IEN1cnJlbnRUaW1lICsgQ2hhdFJvb21TbG93TGVhdmVNaW5UaW1lICsgc2xvd2VkU3BlZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJQbGF5ZXIuSXNTbG93XCIsIDAsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gKENvbmRpdGlvbklzRW5mb3JjZWQoXCJzbG93TGVhdmVcIiwgXCJmb29kXCIpICYmIEdldENoYXJhY3RlckN1cnJlbnRTdGF0VmFsdWUoUGxheWVyLCBcImZvb2RcIikgPD0gU0xPV19MRUFWRV9MRVZFTF9TVEFSVCkgPyB0cnVlIDogbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgVW5sb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLlVubG9hZCgpO1xuICAgICAgICBvblN0YXRMZXZlbCA9IFtdO1xuICAgICAgICBjbGVhckludGVydmFsKGFmZmVjdGlvbkNoZWNrSW50ZXJ2YWwpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEhvb2tGdW5jdGlvbiB9IGZyb20gXCIuLi91dGlsL3Nka1wiO1xuaW1wb3J0IHsgSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cCB9IGZyb20gXCIuLi91dGlsL2F1dGhvcml0eVwiO1xuaW1wb3J0IHsgTW9kdWxlLCBNb2R1bGVUaXRsZSB9IGZyb20gXCIuL19tb2R1bGVcIjtcbmltcG9ydCB7IEdldENoYXJhY3RlckN1cnJlbnRTdGF0VmFsdWUsIFZpcnR1YWxQZXRTdGF0Q2F0ZWdvcnksIHR5cGUgVmlydHVhbFBldFN0YXQgfSBmcm9tIFwiLi92aXJ0dWFsUGV0XCI7XG5cbmNvbnN0IFBsYXllclZQOiAoKSA9PiBNUEFSZWNvcmQgPSAoKSA9Plxue1xuICAgIHJldHVybiBQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdO1xufTtcbmNvbnN0IFBsYXllclZQSFVEOiAoKSA9PiBNUEFSZWNvcmQgPSAoKSA9Plxue1xuICAgIHJldHVybiBQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRIVURdO1xufTtcblxuY29uc3QgVlBfU1RBVF9DT0xPUl9ESUNUID0ge1xuICAgIGZvb2Q6IFwiI2YyYmIxOFwiLFxuICAgIHdhdGVyOiBcIiMyYTlmYzNcIixcbiAgICBzbGVlcDogXCIjOGQyYWVlXCIsXG4gICAgYWZmZWN0aW9uOiBcIiNmZjc4ZjJcIlxufTtcblxuZnVuY3Rpb24gRHJhd1N0YXRDaXJjbGUoeDogbnVtYmVyLCB5OiBudW1iZXIsIHJhZGl1czogbnVtYmVyLCBzdGF0OiBWaXJ0dWFsUGV0U3RhdCk6IHZvaWRcbntcbiAgICBjb25zdCBjb2xvciA9IFZQX1NUQVRfQ09MT1JfRElDVFtzdGF0LnN0YXRdO1xuXG4gICAgLy8gT3V0ZXIgY2lyY2xlXG4gICAgTWFpbkNhbnZhcy5iZWdpblBhdGgoKTtcbiAgICBNYWluQ2FudmFzLmFyYyhcbiAgICAgICAgeCxcbiAgICAgICAgeSxcbiAgICAgICAgcmFkaXVzLFxuICAgICAgICAwLFxuICAgICAgICAyICogTWF0aC5QSSxcbiAgICAgICAgdHJ1ZVxuICAgICk7XG4gICAgTWFpbkNhbnZhcy5saW5lV2lkdGggPSByYWRpdXMgLyA4O1xuICAgIE1haW5DYW52YXMuc3Ryb2tlU3R5bGUgPSBjb2xvcjtcbiAgICBNYWluQ2FudmFzLnN0cm9rZSgpO1xuXG4gICAgLy8gSW5uZXIgYXJjXG4gICAgTWFpbkNhbnZhcy5iZWdpblBhdGgoKTtcbiAgICBNYWluQ2FudmFzLmFyYyhcbiAgICAgICAgeCxcbiAgICAgICAgeSxcbiAgICAgICAgcmFkaXVzLFxuICAgICAgICAtTWF0aC5QSSAvIDIsXG4gICAgICAgICgyICogTWF0aC5QSSAqIC1zdGF0LmxldmVsKSAtIChNYXRoLlBJIC8gMiksXG4gICAgICAgIHRydWVcbiAgICApO1xuICAgIE1haW5DYW52YXMubGluZVRvKHgsIHkpO1xuICAgIE1haW5DYW52YXMuZmlsbFN0eWxlID0gY29sb3I7XG4gICAgTWFpbkNhbnZhcy5maWxsKCk7XG5cbiAgICAvLyBEaXNwbGF5IHRoZSB0ZXh0XG4gICAgaWYgKFBsYXllclZQSFVEKCkuZXhhY3RTdGF0cylcbiAgICB7XG4gICAgICAgIE1haW5DYW52YXMuZmlsbFN0eWxlID0gXCIjMDAwMDAwXCI7XG4gICAgICAgIE1haW5DYW52YXMuZm9udCA9IENvbW1vbkdldEZvbnQocmFkaXVzICogMS4yNSk7XG4gICAgICAgIE1haW5DYW52YXMuZmlsbFRleHQoTWF0aC5yb3VuZChzdGF0LmxldmVsICogMTAwKS50b1N0cmluZygpLCB4LCB5ICsgKHJhZGl1cyAqIDAuMTI1KSk7XG4gICAgICAgIC8vIERlZmF1bHQgc2l6ZSwgaWRrIGlmIG5lZWRlZCBidXQgY2FuJ3QgaHVydFxuICAgICAgICBNYWluQ2FudmFzLmZvbnQgPSBDb21tb25HZXRGb250KDM2KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIERyYXdWaXJ1YWxQZXRIdWQoeDogbnVtYmVyLCB5OiBudW1iZXIsIHpvb206IG51bWJlciwgc3RhdHM6IFZpcnR1YWxQZXRTdGF0W10pOiB2b2lkXG57XG4gICAgY29uc3QgcG9zOiBcIkxlZnRcIiB8IFwiQ2VudGVyXCIgfCBcIlJpZ2h0XCIgfCBcIlNwbGl0XCIgPSBQbGF5ZXJWUEhVRCgpLnBvc2l0aW9uO1xuICAgIGlmIChwb3MgPT09IFwiTGVmdFwiIHx8IHBvcyA9PT0gXCJSaWdodFwiKVxuICAgIHtcbiAgICAgICAgc3RhdHMucmV2ZXJzZSgpO1xuICAgICAgICBzdGF0cy5mb3JFYWNoKChzdGF0LCBpbmRleCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgRHJhd1N0YXRDaXJjbGUoXG4gICAgICAgICAgICAgICAgeCArICgocG9zID09PSBcIkxlZnRcIiA/IDgwIDogNDIwKSAqIHpvb20pLFxuICAgICAgICAgICAgICAgIHkgKyAoOTUwIC0gKGluZGV4ICogMzYpKSAqIHpvb20sXG4gICAgICAgICAgICAgICAgMTYgKiB6b29tLFxuICAgICAgICAgICAgICAgIHN0YXRcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIGlmIChwb3MgPT09IFwiQ2VudGVyXCIpXG4gICAge1xuICAgICAgICBjb25zdCBzdGF0TGVuID0gc3RhdHMubGVuZ3RoO1xuICAgICAgICBzdGF0cy5mb3JFYWNoKChzdGF0LCBpbmRleCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgRHJhd1N0YXRDaXJjbGUoXG4gICAgICAgICAgICAgICAgeCArICgyNTAgLSAoKHN0YXRMZW4gLSAxKSAqIDE4KSArIChpbmRleCAqIDM2KSkgKiB6b29tLFxuICAgICAgICAgICAgICAgIHkgKyAoOTUwICogem9vbSksXG4gICAgICAgICAgICAgICAgMTYgKiB6b29tLFxuICAgICAgICAgICAgICAgIHN0YXRcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBQcm9iYWJseSBhIGJldHRlciB3YXkgdG8gZG8gdGhpcywgYnV0IEkgZG9uJ3QgY2FyZS4gSXQgd29ya3MgdGhhdHMgYWxsIEkgbmVlZC5cbiAgICBlbHNlIGlmIChwb3MgPT09IFwiU3BsaXRcIilcbiAgICB7XG4gICAgICAgIGNvbnN0IGNvbHM6IFZpcnR1YWxQZXRTdGF0W11bXSA9IFtdO1xuICAgICAgICBzd2l0Y2ggKHN0YXRzLmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIGNvbHMucHVzaChbc3RhdHNbMF1dKTtcbiAgICAgICAgICAgICAgICBjb2xzLnB1c2goW10pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIGNvbHMucHVzaChbc3RhdHNbMF1dKTtcbiAgICAgICAgICAgICAgICBjb2xzLnB1c2goW3N0YXRzWzFdXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgY29scy5wdXNoKFtzdGF0c1sxXSwgc3RhdHNbMF1dKTtcbiAgICAgICAgICAgICAgICBjb2xzLnB1c2goW3N0YXRzWzJdXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgY29scy5wdXNoKFtzdGF0c1sxXSwgc3RhdHNbMF1dKTtcbiAgICAgICAgICAgICAgICBjb2xzLnB1c2goW3N0YXRzWzNdLCBzdGF0c1syXV0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgfVxuICAgICAgICBjb2xzLmZvckVhY2goKGNvbCwgaW5kZXgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbC5mb3JFYWNoKChzdGF0LCBzdGF0SW5kZXgpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgRHJhd1N0YXRDaXJjbGUoXG4gICAgICAgICAgICAgICAgICAgIHggKyAoKGluZGV4ID09IDAgPyA4MCA6IDQyMCkgKiB6b29tKSxcbiAgICAgICAgICAgICAgICAgICAgeSArICg5NTAgLSAoc3RhdEluZGV4ICogMzYpKSAqIHpvb20sXG4gICAgICAgICAgICAgICAgICAgIDE2ICogem9vbSxcbiAgICAgICAgICAgICAgICAgICAgc3RhdFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgVmlydHVhbFBldEhVRE1vZHVsZSBleHRlbmRzIE1vZHVsZVxue1xuICAgIGdldCBUaXRsZSgpOiBNb2R1bGVUaXRsZVxuICAgIHtcbiAgICAgICAgcmV0dXJuIE1vZHVsZVRpdGxlLlZpcnR1YWxQZXRIVUQ7XG4gICAgfVxuXG4gICAgZ2V0IFNldHRpbmdzKCk6IFNldHRpbmdbXVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNlbGZcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiAhIVBsYXllclZQKCkuZW5hYmxlZCxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJEaXNwbGF5IHlvdXIgb3duIHZpcnR1YWwgcGV0IHN0YXRzIG9uIHRoZSBIVURcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImV4YWN0U3RhdHNcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiAhIVBsYXllclZQKCkuZW5hYmxlZCB8fCBQbGF5ZXJWUEhVRCgpLm90aGVycyAhPT0gXCJPZmZcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiRGlzcGxheSB0aGUgZXhhY3QgbnVtYmVyIHBlcmNlbnRhZ2Ugb24gdGhlIEhVRFwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwicG9zaXRpb25cIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm9wdGlvblwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gISFQbGF5ZXJWUCgpLmVuYWJsZWQgfHwgUGxheWVyVlBIVUQoKS5vdGhlcnMgIT09IFwiT2ZmXCIsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogW1wiTGVmdFwiLCBcIkNlbnRlclwiLCBcIlJpZ2h0XCIsIFwiU3BsaXRcIl0sXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiTGVmdFwiLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIldoZXJlIHRvIGRpc3BsYXkgdGhlIEhVRFwiLFxuICAgICAgICAgICAgICAgIGxvb3A6IHRydWVcbiAgICAgICAgICAgIH0gYXMgT3B0aW9uU2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwib3RoZXJzXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJvcHRpb25cIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogW1wiT2ZmXCIsIFwiUHVibGljXCIsIFwiRnJpZW5kc1wiLCBcIldoaXRlbGlzdFwiLCBcIkxvdmVyc1wiLCBcIk93bmVyc1wiLCBcIkQvcyBGYW1pbHlcIiwgXCJDbHVib3duZXJcIl0sXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiRnJpZW5kc1wiLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkRpc3BsYXkgdGhlIHZpcnR1YWwgcGV0IHN0YXRzIG9mIG90aGVycyBvbiB0aGUgSFVEXCIsXG4gICAgICAgICAgICAgICAgbG9vcDogZmFsc2VcbiAgICAgICAgICAgIH0gYXMgT3B0aW9uU2V0dGluZ1xuICAgICAgICBdO1xuICAgIH1cblxuICAgIExvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiRHJhd0Fyb3VzYWxNZXRlclwiLCAxLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgW2NoYXJhY3RlciwgeCwgeSwgem9vbV0gPSBhcmdzO1xuICAgICAgICAgICAgLy8gR2V0IGNoYXJhY3RlciBzdGF0cyB3aGVuIHN1cHBvcnQgZm9yIG11bHRwbGF5ZXJcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAhQWN0aXZpdHlBbGxvd2VkKClcbiAgICAgICAgICAgICAgICB8fCAoY2hhcmFjdGVyLklzUGxheWVyKCkgJiYgKCFQbGF5ZXJWUEhVRCgpLnNlbGYgfHwgIVBsYXllclZQKCkuZW5hYmxlZCkpXG4gICAgICAgICAgICAgICAgfHwgKCFjaGFyYWN0ZXIuSXNQbGF5ZXIoKSAmJiBQbGF5ZXJWUEhVRCgpLm90aGVycyA9PT0gXCJPZmZcIilcbiAgICAgICAgICAgICAgICB8fCAoIWNoYXJhY3Rlci5Jc1BsYXllcigpICYmICFJc01lbWJlck51bWJlckluQXV0aEdyb3VwKGNoYXJhY3Rlci5NZW1iZXJOdW1iZXIgYXMgbnVtYmVyLCBQbGF5ZXJWUEhVRCgpLm90aGVycykpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEdldCB0aGUgc3RhdHMgZm9yIHRoZSBjaGFyYWN0ZXIsIG5vdCBqdXN0IHRoZSBwbGF5ZXJcbiAgICAgICAgICAgIGNvbnN0IGNoYXJhY3RlclZQU3RhdHMgPSBjaGFyYWN0ZXI/Lk1QQT8uW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdO1xuICAgICAgICAgICAgaWYgKCFjaGFyYWN0ZXJWUFN0YXRzPy5lbmFibGVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBzdGF0czogVmlydHVhbFBldFN0YXRbXSA9IFtdO1xuICAgICAgICAgICAgKFtcImZvb2RcIiwgXCJ3YXRlclwiLCBcInNsZWVwXCIsIFwiYWZmZWN0aW9uXCJdIGFzIFZpcnR1YWxQZXRTdGF0Q2F0ZWdvcnlbXSkuZm9yRWFjaCgoc3RhdCkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoY2hhcmFjdGVyVlBTdGF0c1tgJHtzdGF0fUhvdXJzYF0gIT09IDApXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzdGF0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXQ6IHN0YXQsXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXZlbDogR2V0Q2hhcmFjdGVyQ3VycmVudFN0YXRWYWx1ZShjaGFyYWN0ZXIsIHN0YXQpXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHN0YXRzLmxlbmd0aCAhPT0gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBEcmF3VmlydWFsUGV0SHVkKHgsIHksIHpvb20sIHN0YXRzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIFVubG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5VbmxvYWQoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBMb2NhbGl6ZWRUZXh0IH0gZnJvbSBcIi4uL2xvY2FsaXphdGlvbi9sb2NhbGl6YXRpb25cIjtcbmltcG9ydCB7IEFDVElWSVRZX05BTUVfUFJFRklYIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5cbi8qKiBTdG9yZXMgdGhlIGFjdGl2aXR5IG5hbWUgYW5kIHRoZSBpbWFnZSBsb2NhdGlvbiBvciBiYXNlIDY0IGltYWdlIGZvciB0aGF0IGFjdGl2aXR5ICovXG5leHBvcnQgY29uc3QgYWN0aXZpdHlJbWFnZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcbi8qKiBXaGVuIGFuIGFjdGl2aXR5IGlzIHVzZWQgYnkgdGhlIFBsYXllciwgcnVuIHRoaXMgY2FsbGJhY2sgZnVuY3Rpb24gKi9cbmV4cG9ydCBjb25zdCBhY3Rpdml0eVRyaWdnZXJzOiBSZWNvcmQ8c3RyaW5nLCBBY2l0aXZpdHlUcmlnZ2VyPiA9IHt9O1xuLyoqIEN1c3RvbSBwcmVyZXF1aXNpdGVzIGZvciBhY3Rpdml0aWVzICovXG5leHBvcnQgY29uc3QgYWN0aXZpdHlQcmVyZXF1aXNpdGVzOiBSZWNvcmQ8c3RyaW5nLCBQcmVyZXF1aXNpdGU+ID0ge307XG4vKiogV2hlbiBhbiBhY3Rpdml0eSBoYXBwZW5zLCBydW4gdGhpcyBjYWxsYmFjayBmdW5jdGlvbiAqL1xuZXhwb3J0IGNvbnN0IGFjdGl2aXR5UmVjZWl2ZWQ6IFJlY29yZDxzdHJpbmcsIEFjdGl2aXR5UmVjZWl2ZWQ+ID0ge307XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IGN1c3RvbSBhY3Rpdml0eSBmb3IgdGhlIFBsYXllciB0byB1c2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIENyZWF0ZUFjdGl2aXR5KGN1c3RvbUFjdGl2aXR5OiBDdXN0b21BY3Rpdml0eSk6IHZvaWRcbntcbiAgICAvLyBDcmVhdGUgdGhlIGFjdGl2aXR5IEJDIHVzZXNcbiAgICBjb25zdCBhY3Rpdml0eTogQWN0aXZpdHkgPSB7XG4gICAgICAgIE5hbWU6IGAke0FDVElWSVRZX05BTUVfUFJFRklYfSR7Y3VzdG9tQWN0aXZpdHkuTmFtZX1gIGFzIEFjdGl2aXR5TmFtZSxcbiAgICAgICAgQWN0aXZpdHlJRDogTWF0aC5tYXgoLi4uQWN0aXZpdHlGZW1hbGUzRENHLm1hcCgoeCkgPT4geC5BY3Rpdml0eUlEID8/IC0xKSkgKyAxLFxuICAgICAgICBNYXhQcm9ncmVzczogY3VzdG9tQWN0aXZpdHkuTWF4UHJvZ3Jlc3MgPz8gNTAsXG4gICAgICAgIC8vIE1heFByb2dyZXNzU2VsZjogY3VzdG9tQWN0aXZpdHkuTWF4UHJvZ3Jlc3NTZWxmID8/IGN1c3RvbUFjdGl2aXR5Lk1heFByb2dyZXNzLFxuICAgICAgICBQcmVyZXF1aXNpdGU6IGN1c3RvbUFjdGl2aXR5LlByZXJlcXVpc2l0ZSxcbiAgICAgICAgVGFyZ2V0OiBbXVxuICAgIH07XG5cbiAgICAvLyBBZGQgY3VzdG9tIGFjdGl2aXRlcyB0byB0aGUgcmVjb3JkIGZvciBjaGVja2luZyB3aGVuIGFuIGFjdGl2aXR5IGlzIGNhbGxlZCBsYXRlclxuICAgIGlmIChjdXN0b21BY3Rpdml0eS5DdXN0b21QcmVyZXF1aXNpdGUpXG4gICAge1xuICAgICAgICBsZXQgY3VzdG9tUHJlcmVxdWlzaXRlcyA9IGN1c3RvbUFjdGl2aXR5LkN1c3RvbVByZXJlcXVpc2l0ZTtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGN1c3RvbVByZXJlcXVpc2l0ZXMpKVxuICAgICAgICB7XG4gICAgICAgICAgICBjdXN0b21QcmVyZXF1aXNpdGVzID0gW2N1c3RvbVByZXJlcXVpc2l0ZXNdO1xuICAgICAgICB9XG4gICAgICAgIGN1c3RvbVByZXJlcXVpc2l0ZXMuZm9yRWFjaCgobmV3UHJlcmVxdWlzaXRlKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBhY3Rpdml0eS5QcmVyZXF1aXNpdGUucHVzaChuZXdQcmVyZXF1aXNpdGUuTmFtZSBhcyBBY3Rpdml0eVByZXJlcXVpc2l0ZSk7XG4gICAgICAgICAgICBpZiAoIShuZXdQcmVyZXF1aXNpdGUuTmFtZSBpbiBhY3Rpdml0eVByZXJlcXVpc2l0ZXMpXG4gICAgICAgICAgICAgICYmIG5ld1ByZXJlcXVpc2l0ZS5QcmVyZXF1aXNpdGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYWN0aXZpdHlQcmVyZXF1aXNpdGVzW25ld1ByZXJlcXVpc2l0ZS5OYW1lXSA9IG5ld1ByZXJlcXVpc2l0ZS5QcmVyZXF1aXNpdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFRoZSBsb29rdXAgdGFibGUgZm9yIHRoZSBhY3Rpdml0eVxuICAgIGN1c3RvbUFjdGl2aXR5LlRhcmdldHMuZm9yRWFjaCgodGFyZ2V0KSA9PlxuICAgIHtcbiAgICAgICAgLy8gQWNpdGl2aXR5IGNhbiBiZSB1c2VkIG9uIHNlbGZcbiAgICAgICAgaWYgKHRhcmdldC5hY3Rpb25TZWxmKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIWFjdGl2aXR5LlRhcmdldFNlbGYpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYWN0aXZpdHkuVGFyZ2V0U2VsZiA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgKGFjdGl2aXR5LlRhcmdldFNlbGYgYXMgQXNzZXRHcm91cEl0ZW1OYW1lW10pPy5wdXNoKHRhcmdldC5ncm91cCk7XG4gICAgICAgICAgICBBY3Rpdml0eURpY3Rpb25hcnk/LnB1c2goW2BMYWJlbC1DaGF0U2VsZi0ke3RhcmdldC5ncm91cH0tJHthY3Rpdml0eS5OYW1lfWAsIExvY2FsaXplZFRleHQodGFyZ2V0LmxhYmVsKV0pO1xuICAgICAgICAgICAgQWN0aXZpdHlEaWN0aW9uYXJ5Py5wdXNoKFtgQ2hhdFNlbGYtJHt0YXJnZXQuZ3JvdXB9LSR7YWN0aXZpdHkuTmFtZX1gLCBMb2NhbGl6ZWRUZXh0KHRhcmdldC5hY3Rpb25TZWxmKV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWN0aXZpdHkgY2FuIGJlIHVzZWQgb24gb3RoZXJzXG4gICAgICAgIGlmICh0YXJnZXQuYWN0aW9uT3RoZXJzKVxuICAgICAgICB7XG4gICAgICAgICAgICBhY3Rpdml0eS5UYXJnZXQucHVzaCh0YXJnZXQuZ3JvdXApO1xuICAgICAgICAgICAgQWN0aXZpdHlEaWN0aW9uYXJ5Py5wdXNoKFtgTGFiZWwtQ2hhdE90aGVyLSR7dGFyZ2V0Lmdyb3VwfS0ke2FjdGl2aXR5Lk5hbWV9YCwgTG9jYWxpemVkVGV4dCh0YXJnZXQubGFiZWwpXSk7XG4gICAgICAgICAgICBBY3Rpdml0eURpY3Rpb25hcnk/LnB1c2goW2BDaGF0T3RoZXItJHt0YXJnZXQuZ3JvdXB9LSR7YWN0aXZpdHkuTmFtZX1gLCBMb2NhbGl6ZWRUZXh0KHRhcmdldC5hY3Rpb25PdGhlcnMpXSk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIEltYWdlIHRoZSBhY3Rpdml0eSB3aWxsIHVzZVxuICAgIGFjdGl2aXR5SW1hZ2VzW2FjdGl2aXR5Lk5hbWVdID0gY3VzdG9tQWN0aXZpdHkuSW1hZ2U7XG5cbiAgICAvLyBPbiBhY3Rpdml0eSB0cmlnZ2VyIHN1cHBvcnRcbiAgICBpZiAoY3VzdG9tQWN0aXZpdHkuT25UcmlnZ2VyKVxuICAgIHtcbiAgICAgICAgYWN0aXZpdHlUcmlnZ2Vyc1thY3Rpdml0eS5OYW1lXSA9IGN1c3RvbUFjdGl2aXR5Lk9uVHJpZ2dlcjtcbiAgICB9XG5cbiAgICAvLyBPbiBhY3Rpdml0eSByZWNpZXZlZCBzdXBwb3J0XG4gICAgaWYgKGN1c3RvbUFjdGl2aXR5Lk9uUmVjZWl2ZSlcbiAgICB7XG4gICAgICAgIGFjdGl2aXR5UmVjZWl2ZWRbYWN0aXZpdHkuTmFtZV0gPSBjdXN0b21BY3Rpdml0eS5PblJlY2VpdmU7XG4gICAgfVxuXG4gICAgQWN0aXZpdHlGZW1hbGUzRENHLnB1c2goYWN0aXZpdHkpO1xuICAgIEFjdGl2aXR5RmVtYWxlM0RDR09yZGVyaW5nLnB1c2goYWN0aXZpdHkuTmFtZSk7XG59XG5cbi8qKlxuICogQ3JlYXRlIG1hbnkgY3VzdG9tIGFjdGl2aXRpZXMgZm9yIHRoZSBQbGF5ZXIgdG8gdXNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBDcmVhdGVBY3Rpdml0aWVzKGN1c3RvbUFjdGl2aXRpZXM6IEN1c3RvbUFjdGl2aXR5W10pOiB2b2lkXG57XG4gICAgY3VzdG9tQWN0aXZpdGllcy5mb3JFYWNoKChhY3Rpdml0eSkgPT5cbiAgICB7XG4gICAgICAgIENyZWF0ZUFjdGl2aXR5KGFjdGl2aXR5KTtcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBSZW1vdmUgYWN0aXZpdHksIGRpc2FsbG93aW5nIHRoZSBQbGF5ZXIgdG8gdXNlIGl0XG4gKiBAcGFyYW0gY3VzdG9tQWN0aXZpdHkgLSBPbmx5IE5hbWUgYW5kIFRhcmdldHMgbWF0dGVyIGZvciB0aGlzIGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBSZW1vdmVBY3Rpdml0eShjdXN0b21BY3Rpdml0eTogQ3VzdG9tQWN0aXZpdHkpOiB2b2lkXG57XG4gICAgY29uc3QgYWN0aXZpdHlOYW1lID0gYCR7QUNUSVZJVFlfTkFNRV9QUkVGSVh9JHtjdXN0b21BY3Rpdml0eS5OYW1lfWA7XG5cbiAgICAvLyBUaGUgbG9va3VwIHRhYmxlIGZvciB0aGUgYWN0aXZpdHlcbiAgICBjdXN0b21BY3Rpdml0eS5UYXJnZXRzLmZvckVhY2goKHRhcmdldCkgPT5cbiAgICB7XG4gICAgICAgIC8vIEFjaXRpdml0eSBjYW4gYmUgdXNlZCBvbiBzZWxmXG4gICAgICAgIGlmICh0YXJnZXQuYWN0aW9uU2VsZilcbiAgICAgICAge1xuICAgICAgICAgICAgQWN0aXZpdHlEaWN0aW9uYXJ5ID0gQWN0aXZpdHlEaWN0aW9uYXJ5Py5maWx0ZXIoKHgpID0+ICEoeFswXSA9PT0gYExhYmVsLUNoYXRTZWxmLSR7dGFyZ2V0Lmdyb3VwfS0ke2FjdGl2aXR5TmFtZX1gIHx8IHhbMF0gPT09IGBDaGF0U2VsZi0ke3RhcmdldC5ncm91cH0tJHthY3Rpdml0eU5hbWV9YCkpID8/IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBY3Rpdml0eSBjYW4gYmUgdXNlZCBvbiBvdGhlcnNcbiAgICAgICAgaWYgKHRhcmdldC5hY3Rpb25PdGhlcnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIEFjdGl2aXR5RGljdGlvbmFyeSA9IEFjdGl2aXR5RGljdGlvbmFyeT8uZmlsdGVyKCh4KSA9PiAhKHhbMF0gPT09IGBMYWJlbC1DaGF0T3RoZXItJHt0YXJnZXQuZ3JvdXB9LSR7YWN0aXZpdHlOYW1lfWAgfHwgeFswXSA9PT0gYENoYXRPdGhlci0ke3RhcmdldC5ncm91cH0tJHthY3Rpdml0eU5hbWV9YCkpID8/IG51bGw7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIEltYWdlIHRoZSBhY3Rpdml0eSB3aWxsIHVzZVxuICAgIGRlbGV0ZSBhY3Rpdml0eUltYWdlc1thY3Rpdml0eU5hbWVdO1xuXG4gICAgLy8gT24gYWN0aXZpdHkgdHJpZ2dlciBzdXBwb3J0XG4gICAgZGVsZXRlIGFjdGl2aXR5VHJpZ2dlcnNbYWN0aXZpdHlOYW1lXTtcblxuICAgIC8vIERvbmVcbiAgICBBY3Rpdml0eUZlbWFsZTNEQ0cgPSBBY3Rpdml0eUZlbWFsZTNEQ0cuZmlsdGVyKCh4KSA9PiB4Lk5hbWUgIT09IGFjdGl2aXR5TmFtZSk7XG4gICAgQWN0aXZpdHlGZW1hbGUzRENHT3JkZXJpbmcgPSBBY3Rpdml0eUZlbWFsZTNEQ0dPcmRlcmluZy5maWx0ZXIoKHgpID0+IHggIT09IGFjdGl2aXR5TmFtZSk7XG59XG5cbi8qKlxuICogUmVtb3ZlIGFjdGl2aXRpZXMsIGRpc2FsbG93aW5nIHRoZSBQbGF5ZXIgdG8gdXNlIHRoZW1cbiAqIEBwYXJhbSBjdXN0b21BY3Rpdml0eSAtIE9ubHkgTmFtZSBhbmQgVGFyZ2V0cyBtYXR0ZXIgZm9yIHRoaXMgZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFJlbW92ZUFjdGl2aXRpZXMoY3VzdG9tQWN0aXZpdGllczogQ3VzdG9tQWN0aXZpdHlbXSk6IHZvaWRcbntcbiAgICBjdXN0b21BY3Rpdml0aWVzLmZvckVhY2goKGFjdGl2aXR5KSA9PlxuICAgIHtcbiAgICAgICAgUmVtb3ZlQWN0aXZpdHkoYWN0aXZpdHkpO1xuICAgIH0pO1xufVxuIiwiaW1wb3J0IHsgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9fbW9kdWxlXCI7XG5pbXBvcnQgeyBGaW5kQ2hhcmFjdGVySW5Sb29tIH0gZnJvbSBcIi4vbWVzc2FnaW5nXCI7XG5cbmV4cG9ydCBjb25zdCBBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUzogQXV0aG9yaXR5R3JvdXBbXSA9IFtcbiAgICBcIlB1YmxpY1wiLFxuICAgIFwiRnJpZW5kc1wiLFxuICAgIFwiV2hpdGVsaXN0XCIsXG4gICAgXCJMb3ZlcnNcIixcbiAgICBcIk93bmVyc1wiLFxuICAgIFwiQ2x1Ym93bmVyXCIsXG4gICAgXCJTZWxmXCJcbl07XG5cbmNvbnN0IEFVVEhPUklUWV9HUk9VUF9QUklPX09SREVSOiBBdXRob3JpdHlHcm91cFtdID0gW1xuICAgIFwiTm9uZVwiLFxuICAgIFwiUHVibGljXCIsXG4gICAgXCJGcmllbmRzXCIsXG4gICAgXCJXaGl0ZWxpc3RcIixcbiAgICBcIkxvdmVyc1wiLFxuICAgIFwiT3duZXJzXCIsXG4gICAgXCJEL3MgRmFtaWx5XCIsXG4gICAgXCJDbHVib3duZXJcIixcbiAgICBcIlNlbGZcIlxuXTtcblxuY29uc3QgTG92ZXJzID0gKEM6IENoYXJhY3RlcikgPT4gKEMuTG92ZXJzaGlwPy5maWx0ZXIoKHgpID0+IHguTWVtYmVyTnVtYmVyKS5tYXAoKGxvdmVyKSA9PiBsb3Zlci5NZW1iZXJOdW1iZXIpID8/IFtdKSBhcyBudW1iZXJbXTtcbmV4cG9ydCBjb25zdCBBVVRIT1JJVFlfR1JPVVBTID1cbntcbiAgICBTZWxmOiAoQzogQ2hhcmFjdGVyKSA9PiBbQy5NZW1iZXJOdW1iZXIgPz8gLTFdLFxuICAgIENsdWJvd25lcjogKEM6IENoYXJhY3RlcikgPT4gQz8uT3duZXJzaGlwPy5NZW1iZXJOdW1iZXIgPyBbQz8uT3duZXJzaGlwPy5NZW1iZXJOdW1iZXJdIDogW10sXG4gICAgT3duZXJzOiBmdW5jdGlvbiAoQzogQ2hhcmFjdGVyKTogbnVtYmVyW11cbiAgICB7XG4gICAgICAgIGNvbnN0IG93bmVycyA9ICgoQy5NUEE/LltNb2R1bGVUaXRsZS5BdXRob3JpdHldPy5vd25lcnMgYXMgc3RyaW5nKSA/PyBcIlwiKS5zcGxpdChcIixcIikubWFwKCh2YWwpID0+IHBhcnNlSW50KHZhbCkpLmZpbHRlcigobnVtKSA9PiAhaXNOYU4obnVtKSk7XG4gICAgICAgIHJldHVybiBvd25lcnMubGVuZ3RoID09PSAwID8gW10gOiBvd25lcnM7XG4gICAgfSxcbiAgICBMb3ZlcnM6IExvdmVycyxcbiAgICBXaGl0ZUxpc3Q6IChDOiBDaGFyYWN0ZXIpID0+IEMuV2hpdGVMaXN0ID8/IFtdLFxuICAgIEZyaWVuZExpc3Q6ICgpID0+IFBsYXllci5GcmllbmRMaXN0ID8/IFtdXG59O1xuXG5leHBvcnQgdHlwZSBBdXRob3JpdHlHcm91cCA9IFwiU2VsZlwiIHwgXCJDbHVib3duZXJcIiB8IFwiRC9zIEZhbWlseVwiIHwgXCJPd25lcnNcIiB8IFwiTG92ZXJzXCIgfCBcIldoaXRlbGlzdFwiIHwgXCJGcmllbmRzXCIgfCBcIlB1YmxpY1wiIHwgXCJOb25lXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBJc01lbWJlck51bWJlckluQXV0aEdyb3VwKG1lbWJlck51bWJlcjogbnVtYmVyLCBhdXRoR3JvdXA6IEF1dGhvcml0eUdyb3VwLCBhbGxvd1NlbGYgPSBmYWxzZSwgc291cmNlQ2hhcjogQ2hhcmFjdGVyID0gUGxheWVyKTogYm9vbGVhblxue1xuICAgIGlmIChhdXRoR3JvdXAgPT09IFwiTm9uZVwiKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIERlbnkgc2VsZiBvciBpbnN0YW50IGFjY2Vzc1xuICAgIGlmIChtZW1iZXJOdW1iZXIgPT09IEFVVEhPUklUWV9HUk9VUFMuU2VsZihzb3VyY2VDaGFyKVswXSlcbiAgICB7XG4gICAgICAgIC8vIElmIFNlbGYgQXV0aG9yaXR5R3JvdXAsIG92ZXJyaWRlIHRoZSBhbGxvd1NlbGYgZmxhZ1xuICAgICAgICByZXR1cm4gYXV0aEdyb3VwID09PSBcIlNlbGZcIiA/IHRydWUgOiBhbGxvd1NlbGY7XG4gICAgfVxuXG4gICAgLy8gTm8gaWYgaW4gYmxhY2tsaXN0IHJlZ2FyZGxlc3Mgb2Ygcm9sZVxuICAgIGlmIChzb3VyY2VDaGFyLkJsYWNrTGlzdC5pbmNsdWRlcyhtZW1iZXJOdW1iZXIpIHx8ICgoc291cmNlQ2hhciBhcyBQbGF5ZXJDaGFyYWN0ZXIpPy5HaG9zdExpc3Q/LmluY2x1ZGVzKG1lbWJlck51bWJlcikgPz8gZmFsc2UpKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8vIEV2ZXJ5b25lIGFsbG93ZWQgZXhjZXB0IGJsb2NrZWQgY2hhcmFjdGVyc1xuICAgIGlmIChhdXRoR3JvdXAgPT09IFwiUHVibGljXCIpXG4gICAge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBGYW1pbHkgb25seSBjYW4gYmUgY2hlY2tlZCBieSBhZ2FpbnN0IHRoZSBQbGF5ZXIgdGhlbXNlbGZcbiAgICBpZiAoYXV0aEdyb3VwID09PSBcIkQvcyBGYW1pbHlcIiAmJiBzb3VyY2VDaGFyLk1lbWJlck51bWJlciA9PT0gUGxheWVyLk1lbWJlck51bWJlcilcbiAgICB7XG4gICAgICAgIHJldHVybiBGaW5kQ2hhcmFjdGVySW5Sb29tKG1lbWJlck51bWJlcik/LklzRmFtaWx5T2ZQbGF5ZXIoKSA/PyBmYWxzZTtcbiAgICB9XG5cbiAgICBsZXQgYXV0aENoZWNrID0gbmV3IFNldDxudW1iZXI+KCk7XG4gICAgLy8gVXNlIHN3aXRjaCBmYWxsdGhyb3VnaCB0byBnZXQgdGhlIHNldCBvZiBhbGwgYXV0aGVkIHVzZXJzIGluIHRoZSBncm91cChzKVxuICAgIHN3aXRjaCAoYXV0aEdyb3VwKVxuICAgIHtcbiAgICAgICAgY2FzZSBcIkZyaWVuZHNcIjpcbiAgICAgICAgICAgIC8vIFNpbmNlIEZyaWVuZHNMaXN0IGlzIG5vdCBvbiBvdGhlciBjaGFyYWN0ZXJzLCBjYW4gb25seSBjaGVjayBpZiB0aGUgUGxheWVyIGFuZCBhbm90aGVyIGNoYXJhY3RlciBhcmUgZnJpZW5kc1xuICAgICAgICAgICAgLy8gVW5hYmxlIHRvIGNoZWNrIGlmIDIgZGlmZmVyZW50IGNoYXJhY3RlcnMgYXJlIGZyaWVuZHNcbiAgICAgICAgICAgIC8vIHRhcmdldENoYXIgaXMgbm9uLXBsYXllciBhbmQgbG9va2luZyBmb3IgUGxheWVyIG1lbWJlciBudW1iZXJcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBzb3VyY2VDaGFyLk1lbWJlck51bWJlciAhPT0gUGxheWVyLk1lbWJlck51bWJlclxuICAgICAgICAgICAgICAgICYmIFBsYXllci5NZW1iZXJOdW1iZXIgPT09IG1lbWJlck51bWJlclxuICAgICAgICAgICAgICAgICYmIEFVVEhPUklUWV9HUk9VUFMuRnJpZW5kTGlzdCgpLmluY2x1ZGVzKHNvdXJjZUNoYXIuTWVtYmVyTnVtYmVyID8/IC0xKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUGxheWVyIGlzIHNlbGYgYW5kIGxvb2tpbmcgdGhyb3VnaCBmcmllbmRzIGxpc3RcbiAgICAgICAgICAgIGlmIChzb3VyY2VDaGFyLk1lbWJlck51bWJlciA9PT0gUGxheWVyLk1lbWJlck51bWJlcilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhdXRoQ2hlY2sgPSBuZXcgU2V0KFsuLi5hdXRoQ2hlY2ssIC4uLkFVVEhPUklUWV9HUk9VUFMuRnJpZW5kTGlzdCgpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlOiBmYWxsdGhyb3VnaCBpcyBpbnRlbnRpb25hbFxuICAgICAgICBjYXNlIFwiV2hpdGVsaXN0XCI6XG4gICAgICAgICAgICBhdXRoQ2hlY2sgPSBuZXcgU2V0KFsuLi5hdXRoQ2hlY2ssIC4uLkFVVEhPUklUWV9HUk9VUFMuV2hpdGVMaXN0KHNvdXJjZUNoYXIpXSk7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlOiBmYWxsdGhyb3VnaCBpcyBpbnRlbnRpb25hbFxuICAgICAgICBjYXNlIFwiTG92ZXJzXCI6XG4gICAgICAgICAgICBhdXRoQ2hlY2sgPSBuZXcgU2V0KFsuLi5hdXRoQ2hlY2ssIC4uLkFVVEhPUklUWV9HUk9VUFMuTG92ZXJzKHNvdXJjZUNoYXIpXSk7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlOiBmYWxsdGhyb3VnaCBpcyBpbnRlbnRpb25hbFxuICAgICAgICBjYXNlIFwiT3duZXJzXCI6XG4gICAgICAgICAgICBhdXRoQ2hlY2sgPSBuZXcgU2V0KFsuLi5hdXRoQ2hlY2ssIC4uLkFVVEhPUklUWV9HUk9VUFMuT3duZXJzKHNvdXJjZUNoYXIpXSk7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlOiBmYWxsdGhyb3VnaCBpcyBpbnRlbnRpb25hbFxuICAgICAgICBjYXNlIFwiQ2x1Ym93bmVyXCI6XG4gICAgICAgICAgICBhdXRoQ2hlY2sgPSBuZXcgU2V0KFsuLi5hdXRoQ2hlY2ssIC4uLkFVVEhPUklUWV9HUk9VUFMuQ2x1Ym93bmVyKHNvdXJjZUNoYXIpXSk7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlOiBmYWxsdGhyb3VnaCBpcyBpbnRlbnRpb25hbFxuICAgICAgICBkZWZhdWx0OlxuICAgIH1cblxuICAgIHJldHVybiBhdXRoQ2hlY2suaGFzKG1lbWJlck51bWJlcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBIaWdoZXN0TGV2ZWxBdXRob3JpdHlHcm91cChtZW1iZXJOdW1iZXI6IG51bWJlciwgdGFyZ2V0Q2hhcjogQ2hhcmFjdGVyID0gUGxheWVyKTogQXV0aG9yaXR5R3JvdXBcbntcbiAgICBpZiAodGFyZ2V0Q2hhci5NZW1iZXJOdW1iZXIgPT09IG1lbWJlck51bWJlcilcbiAgICB7XG4gICAgICAgIHJldHVybiBcIlNlbGZcIjtcbiAgICB9XG4gICAgaWYgKHRhcmdldENoYXI/Lk93bmVyc2hpcD8uTWVtYmVyTnVtYmVyID09PSBtZW1iZXJOdW1iZXIpXG4gICAge1xuICAgICAgICByZXR1cm4gXCJDbHVib3duZXJcIjtcbiAgICB9XG4gICAgaWYgKEFVVEhPUklUWV9HUk9VUFMuT3duZXJzKHRhcmdldENoYXIpLmluY2x1ZGVzKG1lbWJlck51bWJlcikpXG4gICAge1xuICAgICAgICByZXR1cm4gXCJPd25lcnNcIjtcbiAgICB9XG4gICAgaWYgKEFVVEhPUklUWV9HUk9VUFMuTG92ZXJzKHRhcmdldENoYXIpLmluY2x1ZGVzKG1lbWJlck51bWJlcikpXG4gICAge1xuICAgICAgICByZXR1cm4gXCJMb3ZlcnNcIjtcbiAgICB9XG4gICAgaWYgKEFVVEhPUklUWV9HUk9VUFMuV2hpdGVMaXN0KHRhcmdldENoYXIpLmluY2x1ZGVzKG1lbWJlck51bWJlcikpXG4gICAge1xuICAgICAgICByZXR1cm4gXCJXaGl0ZWxpc3RcIjtcbiAgICB9XG4gICAgLy8gRnJpZW5kc1xuICAgIC8vIFRhcmdldGNoYXJhY3RlciBpcyBzZWxmXG4gICAgaWYgKHRhcmdldENoYXIuTWVtYmVyTnVtYmVyID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyICYmIFBsYXllci5GcmllbmRMaXN0Py5pbmNsdWRlcyhtZW1iZXJOdW1iZXIpKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFwiRnJpZW5kc1wiO1xuICAgIH1cbiAgICAvLyBUYXJnZXQgY2hhcmFjdGVyIGlzIG5vdCBzZWxmLCBidXQgbG9va3VwIGNoYXJhY3RlciBpc1xuICAgIGlmICh0YXJnZXRDaGFyLk1lbWJlck51bWJlciAhPT0gUGxheWVyLk1lbWJlck51bWJlclxuICAgICAgJiYgbWVtYmVyTnVtYmVyID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyXG4gICAgICAmJiBQbGF5ZXIuRnJpZW5kTGlzdD8uaW5jbHVkZXModGFyZ2V0Q2hhci5NZW1iZXJOdW1iZXIgPz8gLTEpXG4gICAgKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFwiRnJpZW5kc1wiO1xuICAgIH1cbiAgICAvLyBQdWJsaWNcbiAgICBpZiAoXG4gICAgICAgICEodGFyZ2V0Q2hhci5CbGFja0xpc3QuaW5jbHVkZXMobWVtYmVyTnVtYmVyKVxuICAgICAgICB8fCAoKHRhcmdldENoYXIgYXMgUGxheWVyQ2hhcmFjdGVyKT8uR2hvc3RMaXN0Py5pbmNsdWRlcyhtZW1iZXJOdW1iZXIpID8/IGZhbHNlKSlcbiAgICApXG4gICAge1xuICAgICAgICByZXR1cm4gXCJQdWJsaWNcIjtcbiAgICB9XG4gICAgcmV0dXJuIFwiTm9uZVwiO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gQXV0aG9yaXR5SXNDb21wYXJpc29uVG9DaGFyYWN0ZXIoZ3JvdXA6IEF1dGhvcml0eUdyb3VwLCBjb21wYXJpc29uOiBcIj5cIiB8IFwiPFwiIHwgYCR7XCI9XCIgfCBcIiFcIiB8IFwiPlwiIHwgXCI8XCJ9PWAgPSBcIj49XCIsIG1lbWJlck51bWJlcjogbnVtYmVyLCBjaGFyYWN0ZXI6IENoYXJhY3RlciA9IFBsYXllcik6IGJvb2xlYW5cbntcbiAgICBjb25zdCByYW5rID0gSGlnaGVzdExldmVsQXV0aG9yaXR5R3JvdXAobWVtYmVyTnVtYmVyLCBjaGFyYWN0ZXIpO1xuXG4gICAgY29uc3QgZ3JvdXBJbmRleCA9IEFVVEhPUklUWV9HUk9VUF9QUklPX09SREVSLmluZGV4T2YoZ3JvdXApO1xuICAgIGNvbnN0IHJhbmtJbmRleCA9IEFVVEhPUklUWV9HUk9VUF9QUklPX09SREVSLmluZGV4T2YocmFuayk7XG5cbiAgICBpZiAoZ3JvdXBJbmRleCA9PT0gLTEgfHwgcmFua0luZGV4ID09PSAtMSlcbiAgICB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKGNvbXBhcmlzb24pXG4gICAge1xuICAgICAgICBjYXNlIFwiPlwiOlxuICAgICAgICAgICAgcmV0dXJuIHJhbmtJbmRleCA+IGdyb3VwSW5kZXg7XG5cbiAgICAgICAgY2FzZSBcIjxcIjpcbiAgICAgICAgICAgIHJldHVybiByYW5rSW5kZXggPCBncm91cEluZGV4O1xuXG4gICAgICAgIGNhc2UgXCI+PVwiOlxuICAgICAgICAgICAgcmV0dXJuIHJhbmtJbmRleCA+PSBncm91cEluZGV4O1xuXG4gICAgICAgIGNhc2UgXCI8PVwiOlxuICAgICAgICAgICAgcmV0dXJuIHJhbmtJbmRleCA8PSBncm91cEluZGV4O1xuXG4gICAgICAgIGNhc2UgXCI9PVwiOlxuICAgICAgICAgICAgcmV0dXJuIHJhbmtJbmRleCA9PSBncm91cEluZGV4O1xuXG4gICAgICAgIGNhc2UgXCIhPVwiOlxuICAgICAgICAgICAgcmV0dXJuIHJhbmtJbmRleCAhPSBncm91cEluZGV4O1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGNvbXBhcmlzb24gb3BlcmF0b3JcIik7XG4gICAgfVxufVxuIiwiaW1wb3J0IHBhY2thZ2VJbmZvIGZyb20gXCIuLi8uLi9wYWNrYWdlLmpzb25cIjtcblxuZXhwb3J0IGNvbnN0IE1QQV9OQU1FID0gcGFja2FnZUluZm8ubmFtZS50b0xvY2FsZVVwcGVyQ2FzZSgpO1xuZXhwb3J0IGNvbnN0IE1QQV9WRVJTSU9OID0gcGFja2FnZUluZm8udmVyc2lvbjtcbmV4cG9ydCBjb25zdCBNUEFfUkVQTyA9IHBhY2thZ2VJbmZvLnJlcG9zaXRvcnkudXJsO1xuXG5leHBvcnQgY29uc3QgSUNPTlMgPSBPYmplY3QuZnJlZXplKHtcbiAgICBQQVc6IFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFGWUFBQUJXQ0FZQUFBQlZWbUgzQUFBQUFYTlNSMElBcnM0YzZRQUFBQVJuUVUxQkFBQ3hqd3Y4WVFVQUFBQUpjRWhaY3dBQURzRUFBQTdCQWJpUmErMEFBQUFaZEVWWWRGTnZablIzWVhKbEFIZDNkeTVwYm10elkyRndaUzV2Y21lYjdqd2FBQUFHN0VsRVFWUjRYdTJjVjhnME5SaEdmeFY3QVR1S1lrTkY3SUtpM2xndnhJYUtJaUoydlZDeEZ4UWIyQzRWZThGMm9hSmdBM3RGc0hjRkc0b05zV0R2dlQzbm00MkU0WjNaWkpMWmIrY25CdzQ3N0NZelNYWjJKbm1UMlRtRlFxRlFLQlFLaFVLaFVDZ1V4ckdhUEYrK0xmK1IzOHY3NVFGeU1aa0w5clcvdkU5K0p6a1d4K1RZbEdHdTRtajV1L3kzd1U4a0Rad0srMkJmMWpHUU1od2w1d3BvVkt1U2xwZktycERYMnFmbDRCdDNJOGxQMGFwY2s5ZktXTWhqN2F0SnlyU2hIQ3dQU2F0aTR6eGRobkthdFBZeHpnZmxJRmxQV2hVS2RVczVEdEpZZVVPbGpMMHc3K2kxRC9ZWXZYYmxDdGxXUGo0alRRcTdqMTRIeFNQU09rdGlwTnZVQko5WmVXSjhXQTZLK2VXSDBxcE1qRzlJNjZ6bFBUNno4c1Q0Z2FTc2cyRTUrWU8wS2hQclZySU83MWxwWTZXTXk4cnM5SFdOWFVRdVZHMG1zL2ZvMWNkNnJ3c0xTc3FhbmI0YUZqZ2pjckM5bksvYW5JRnQzc3VCTzNPejAxZkQvaXgvcXphVFdVT3VYbTNPd0RidjVZQXkvbEp0NXFXdmhpWDQ4WFcxbVF4bFhLZmFuSUh0WE9YK1JsTFc3UFRWc0g5SzdyaTVXSFgwQ2pralZKVHhyMm96TDZFTlN6b3U5REc4TkhyTmdYL256bmtYZjNIMEdncHRFTlJtYllsV2tDZEp4dFRFTTkrUmIwcmluR2ZKTFdRYmo0NWVjK0IvcWJGZmNCdVBqVjZiMkZ4U1YrcE0zV21EdCtRRDhrUkpHMFhCcU9aTDZlNmFUYjRnaVlIT0krc3NLcitRVnI1WXo1VU90cTAwc1ZJMnltaEIvWitYVmo1ZjJtZy9HVVNYb1NLRjJGcld1VXhhNldNbHB1czRSbHBwWXJWaXZ3dzhucE5XK2piSEJ1bVhrYjlLSzNPSTUwZ2Y3dUN4OFZqTEhhVmpKMm1saVpFeStUME5PRnRhYVVPa3pXaTdSbktjRFhkSWY5UjFvN1RTaGNwMHlrclN3WGJiTkUrSWxNbEJXVytYVnJvWWFidEducFJXcGxpNUtTd3NnWWI0VVZycFFxUk1kWjZTVnRvUUtZdjdvaWdqWmJYU3hmcUViT1FuYVdYcTRyM1NjWkMwMG9SSTNqb0hTeXR0aUFkS0IyVzAwblNSdG12RXlwRGlCZElSTTlubmZFOWEzU3Qrdm54bTVXbnpFdW1nYkZhYUZCdGhHR3BsU0hFSDZZaWQ5TnRHT2xhV0sxYWJNMndyclR4TitwT1VsTWxLaytKWHNoRTY5VmFtRk4rWDdub0xaOGkvcFpYVzkxQUp1MGhHY2R4NStibHhMWFB6WVlkSks2OHZQWUF6cFlPeU1KUzEwcWJZT2lBNlZWcVpVajFlK213bTc1TFczWjErNUhZU2FOVDY1MGdEc3c4Z3JkWDNaTjhjdzZWem5DRHJhWE5JMi8xUGZjVEVYUHVyMVdaV1BwWnJTaXJyUS9odlU4bFBuUEFkeDM1V3dzNlNybHZUMUFsUktYN1NOQ293L0dRZEE0SHJUeVdqUXE3RFBseWJHWlp5V2NrTngzNnQyclJoVEd4OUk2bHk5b1d5bHlUcVpPM0hsL1ZmMXRSTkU3dEtheitwMG1aallYaG1aVTcxR2hsQ2JOZU1heStqc1JCaWI1NmhCcTA3SStMRlQ5TGFRWXF0UDVNUlJJeXN2T1BrQnRVMlZlNmdERmIrRkdtcjBQRHJ6QVUveHhqZmwwalE0cktKaTZTVkwwYVdHeld4aEF5SjJNVklHOVZ2am1NNVdWbzc2eXBEeWVWbEhVSjNkMG9yVHhldmxsWVlrMk9uREswdGFhTk9YQ2V0SFhhUkRqUm5qYzhxa3J1M2xUNUZBdEZMU2grT1RSbXM5RjJrYlpLNFJWbzdqdlZsNlVQM2lHNllsVGFIcjh1MXBjOHIwa29iSzIyU2hjdWxkWUFZL1ZtQVBTWDlWaXRkVHBrbDhBUHc1MGtyWFl5MFJWYU9rRjBiZzVHU3U3NGVLNjAwZmZtSDNGY0NjMVJkSTNqVS9ValpDK3ZLZTZSMTREYmRjc2tMcGZYNUpIUkRUcGFYV3ArM1NaMTdXMHZydzFDU1dDWm5nMVVRNTBmU1RhdmNLcTAwazlUTmN6RmNIcmNha3JveE8rdEg1NEt4dWlVeE1QNG5DTUpVT09OKytxa3MyeUdpeGZyWW15UUZKRW9mTS9Uc0U2Wmh1TVlUVTloSHNnNk1zaFAzcFR0R2ZPRVpTYlRxWFRtVjBOQ0UvS3d6WWpabHJVVHFTVFZyY0VaMG1VcWVsSGZMUVRZdUlUK3JRdE9rUDFVekNFNlJWa1dtVWRjVm0zcm9sb1RFVXFkRkF1YlJhN0JtZzF6ejlKUDBCam5WNUhyb1l0SXl1Vm1QS3lRUkhLQU41UERSNjlDZ0hRNnBOcWNQd25KOXJFdVlsS3g3elhhaTVUeGpONVpMVlp1RFpDMlo2NkdSckEzTDlPK1FvUzNXcnpiVHlkbXcyYjd0V2NSLzdDbUpuQTI3OU9oMXlMUXVIbzRoWjhNT05xamhrYTBPT1JzMjF3TnpzMG5yaXNFWWNqWXMzWldoTTVWMVlOckc2aC9ta3I5OXlyM2d3cGU1c0Y0ZXNjL0IwOUlxZEE2WnF6cXU5bDVPbVRxYVdwaExzZ3FkcWx2Tng3L0E1WG9vcis0bWNxckp1VnpJNmE4TklINXFwVW54WWpuMU1LenQ4dUJGa3l5dHIzT2x0Tkoya1lYT0M4aEJ3T3d0TTdWV1JXTGthY0VtcnBKV25oaDUrbnRxYjFoTnNQeWR4V2xXaGNiNXJmU2Z4MnFDOWJSZG4xSzhXZFlYNlEwS1ZqdUhMbVJtZGZiMU11YlBIamFRdDhtUUozR1Fuc3R1c2xjbU9Rd2xyTWh6VzZ3eTVBRmgva0tLaW40dVdZbklsQTZMSkQ2VFhlQmZPRmg4d1RGNFNJWDkwOWpzbi8vb29rRWZsMEhQQ3hRS2hVS2hVQ2dVQ29WQ1licVpNK2MvY0ZMVmJndGVURVlBQUFBQVNVVk9SSzVDWUlJPVwiXG59KTtcblxuZXhwb3J0IGNvbnN0IElOVk9MVU5UQVJZX1BFVF9TUEVBS19QRVJDRU5UQUdFID0gMC4wNTtcbmV4cG9ydCBjb25zdCBJTlZPTFVOVEFSWV9SVVNIRURfU1BFQUtfUEVSQ0VOVEFHRSA9IDAuNTtcbmV4cG9ydCBjb25zdCBJTlZPTFVOVEFSWV9FTkRfUEVUX1NQRUFLX1BFUkNFTlRBR0UgPSAwLjI7XG5cbmV4cG9ydCBjb25zdCBBQ1RJVklUWV9OQU1FX1BSRUZJWCA9IFwiTVBBX1wiO1xuZXhwb3J0IGNvbnN0IEJFTExfU09VTkQgPSBuZXcgQXVkaW8oXCJBdWRpb1xcXFxCZWxsTWVkaXVtLm1wM1wiKTtcbiIsIi8qKlxuICogR2V0IGEgcmFuZG9tIGVsZW1lbnQgZnJvbSBhbiBhcnJheSBvZiBvYmplY3RzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBSYW5kb21FbGVtZW50PFQ+KGFycmF5OiBUW10pOiBUIHwgbnVsbFxue1xuICAgIGlmIChhcnJheS5sZW5ndGggPT0gMCkgeyByZXR1cm4gbnVsbDsgfVxuICAgIHJldHVybiBhcnJheVtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBhcnJheS5sZW5ndGgpXTtcbn1cblxuLyoqXG4gKiBNYWtlIGEgbmV3IGFycmF5IHRoYXQgaXMgYSBjb3B5IG9mIHRoZSBvcmdpbmFsIG1pbnVzIGFueSBtYXRjaGluZyBlbGVtZW50cyBpbiB0aGUgZmlsdGVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBGaWx0ZXJBcnJheUZyb21BcnJheTxUPihhcnJheTogVFtdLCBmaWx0ZXJBcnJheTogVFtdKTogVFtdXG57XG4gICAgbGV0IG5ld0FycmF5ID0gc3RydWN0dXJlZENsb25lKGFycmF5KTtcbiAgICBmaWx0ZXJBcnJheS5mb3JFYWNoKChlbGUpID0+XG4gICAge1xuICAgICAgICBuZXdBcnJheSA9IG5ld0FycmF5LmZpbHRlcigoYmFkRWxlKSA9PiBlbGUgIT09IGJhZEVsZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIG5ld0FycmF5O1xufVxuXG4vKipcbiAqIFNodWZmbGUgYW4gYXJyYXkgaW4gcGxhY2UsIHRoYW5rcyB0byBDaGF0IEdQVFxuICovXG5leHBvcnQgZnVuY3Rpb24gU2h1ZmZsZUFycmF5PFQ+KGFycmF5OiBUW10pOiBUW11cbntcbiAgICBmb3IgKGxldCBpID0gYXJyYXkubGVuZ3RoIC0gMTsgaSA+IDA7IGktLSlcbiAgICB7XG4gICAgICAgIGNvbnN0IGogPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoaSArIDEpKTsgLy8gcmFuZG9tIGluZGV4IGZyb20gMCB0byBpXG4gICAgICAgIFthcnJheVtpXSwgYXJyYXlbal1dID0gW2FycmF5W2pdLCBhcnJheVtpXV07IC8vIHN3YXAgZWxlbWVudHNcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xufVxuIiwiaW1wb3J0IHsgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9fbW9kdWxlXCI7XG5pbXBvcnQgeyBMb2NhbGl6ZWRUZXh0IH0gZnJvbSBcIi4uL2xvY2FsaXphdGlvbi9sb2NhbGl6YXRpb25cIjtcblxuZXhwb3J0IGludGVyZmFjZSBNUEFNZXNzYWdlQ29udGVudFxue1xuICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgICBba2V5OiBzdHJpbmddOiBhbnk7IC8vIEFsbG93cyBhbnkgb3RoZXIga2V5cyB3aXRoIHZhbHVlcyBvZiBhbnkgdHlwZVxufVxuaW50ZXJmYWNlIE1QQU1lc3NhZ2UgZXh0ZW5kcyBTZXJ2ZXJDaGF0Um9vbU1lc3NhZ2VcbntcbiAgICBDb250ZW50OiBcIk1QQVwiO1xuICAgIFR5cGU6IFwiSGlkZGVuXCI7XG4gICAgRGljdGlvbmFyeTogW01QQU1lc3NhZ2VDb250ZW50XTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIENvbnRlbnRJc01QQU1lc2FnZShjb250ZW50OiBTZXJ2ZXJDaGF0Um9vbU1lc3NhZ2UpOiBjb250ZW50IGlzIE1QQU1lc3NhZ2VcbntcbiAgICByZXR1cm4gKFxuICAgICAgICBjb250ZW50LlR5cGUgPT09IFwiSGlkZGVuXCJcbiAgICAgICAgJiYgY29udGVudC5Db250ZW50ID09PSBcIk1QQVwiXG4gICAgICAgICYmIGNvbnRlbnQ/LkRpY3Rpb25hcnk/Lmxlbmd0aCA9PT0gMVxuICAgICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBHZXRNUEFNZXNzYWdlRnJvbUNoYXQobWVzc2FnZTogU2VydmVyQ2hhdFJvb21NZXNzYWdlKTogTVBBTWVzc2FnZUNvbnRlbnQgfCBudWxsXG57XG4gICAgcmV0dXJuIENvbnRlbnRJc01QQU1lc2FnZShtZXNzYWdlKSA/IG1lc3NhZ2UuRGljdGlvbmFyeVswXSA6IG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBTZW5kTVBBTWVzc2FnZShtZXNzYWdlOiBNUEFNZXNzYWdlQ29udGVudCwgdGFyZ2V0PzogbnVtYmVyKTogdm9pZFxue1xuICAgIFNlcnZlclNlbmQoXCJDaGF0Um9vbUNoYXRcIiwge1xuICAgICAgICBUeXBlOiBcIkhpZGRlblwiLFxuICAgICAgICBDb250ZW50OiBcIk1QQVwiLFxuICAgICAgICBEaWN0aW9uYXJ5OiBbbWVzc2FnZV0sXG4gICAgICAgIFRhcmdldDogdGFyZ2V0XG4gICAgfSk7XG59XG5cbi8qKlxuICogU2VuZCBhbiBhY3Rpb24gdG8gdGhlIHJvb20gb3IgY2FuIHNwZWNpZnkgYSBjaGFyYWN0ZXIgd2hvIHdpbGwgb25seSBzZWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFNlbmRBY3Rpb24oY29udGVudDogc3RyaW5nLCB0YXJnZXQ6IENoYXJhY3RlciB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCwgZGljdGlvbmFyeTogQ2hhdE1lc3NhZ2VEaWN0aW9uYXJ5ID0gW10pOiB2b2lkXG57XG4gICAgU2VydmVyU2VuZChcIkNoYXRSb29tQ2hhdFwiLCB7XG4gICAgICAgIENvbnRlbnQ6IFwiTWF5YVNjcmlwdFwiLFxuICAgICAgICBUeXBlOiBcIkFjdGl2aXR5XCIsXG4gICAgICAgIERpY3Rpb25hcnk6IFt7IFRhZzogXCJNSVNTSU5HIEFDVElWSVRZIERFU0NSSVBUSU9OIEZPUiBLRVlXT1JEIE1heWFTY3JpcHRcIiwgVGV4dDogTG9jYWxpemVkVGV4dChjb250ZW50KSB9LCAuLi5kaWN0aW9uYXJ5XSxcbiAgICAgICAgVGFyZ2V0OiB0YXJnZXQ/Lk1lbWJlck51bWJlciB9XG4gICAgKTtcblxuICAgIC8vIFNlcnZlclNlbmQoXCJDaGF0Um9vbUNoYXRcIiwge1xuICAgIC8vICAgICBDb250ZW50OiBcIkJlZXBcIixcbiAgICAvLyAgICAgVHlwZTogXCJBY3Rpb25cIixcbiAgICAvLyAgICAgRGljdGlvbmFyeTogW3sgVGFnOiBcIkJlZXBcIiwgVGV4dDogTG9jYWxpemVkVGV4dChjb250ZW50KSB9XSxcbiAgICAvLyAgICAgVGFyZ2V0OiB0YXJnZXQ/Lk1lbWJlck51bWJlclxuICAgIC8vIH0pO1xufVxuXG4vKipcbiAqIFNlbmQgYW4gZW1vdGUgdG8gdGhlIHJvb20gb3IgY2FuIHNwZWNpZnkgYSBjaGFyYWN0ZXIgd2hvIHdpbGwgb25seSBzZWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFNlbmRFbW90ZShjb250ZW50OiBzdHJpbmcsIHRhcmdldDogQ2hhcmFjdGVyIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkKTogdm9pZFxue1xuICAgIFNlcnZlclNlbmQoXCJDaGF0Um9vbUNoYXRcIiwge1xuICAgICAgICBDb250ZW50OiBgJHtjb250ZW50fWAsXG4gICAgICAgIFR5cGU6IFwiRW1vdGVcIixcbiAgICAgICAgVGFyZ2V0OiB0YXJnZXQ/Lk1lbWJlck51bWJlciB9XG4gICAgKTtcbn1cblxuLyoqXG4gKiBEaXNwbGF5IHRleHQgdG8gdGhlIGxvY2FsIHBsYXllciBvbmx5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBOb3RpZnlQbGF5ZXIoY29udGVudDogc3RyaW5nLCB0aW1lb3V0PzogbnVtYmVyKTogdm9pZFxue1xuICAgIGNvbnN0IGRhcmtUaGVtZSA9IFBsYXllci5DaGF0U2V0dGluZ3M/LkNvbG9yVGhlbWUgPT09IFwiRGFya1wiIHx8IFBsYXllci5DaGF0U2V0dGluZ3M/LkNvbG9yVGhlbWUgPT09IFwiRGFyazJcIjtcbiAgICBDaGF0Um9vbVNlbmRMb2NhbChgPHAgc3R5bGU9J2JhY2tncm91bmQtY29sb3I6IzAwYzJmZjtjb2xvcjoke2RhcmtUaGVtZSA/IFwid2hpdGVcIiA6IFwiYmxhY2tcIn07bWFyZ2luLWJvdHRvbTowLjI1ZW07bWFyZ2luLXRvcDowJz4ke2NvbnRlbnR9PC9wPmAsIHRpbWVvdXQpO1xufVxuXG4vKipcbiAqIERpc3BsYXkgdGV4dCB0byB0aGUgbG9jYWwgcGxheWVyLCBtYWtpbmcgaXQgY2xlYXIgaXRzIGZyb20gTVBBXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBNUEFOb3RpZnlQbGF5ZXIoY29udGVudDogc3RyaW5nLCB0aW1lb3V0PzogbnVtYmVyKTogdm9pZFxue1xuICAgIE5vdGlmeVBsYXllcihgJHtMb2NhbGl6ZWRUZXh0KFwiTVBBXCIpfTogJHtjb250ZW50fWAsIHRpbWVvdXQpO1xufVxuXG4vKipcbiAqIEZpbmQgYSBDaGFyYWN0ZXIgaW4gdGhlIGNoYXQgcm9vbSB3aXRoIGJ5IG51bWJlciwgbmFtZSwgb3Igbmljay4gTm90IGNhc2Ugc2Vuc3RpdmUuXG4gKiBJZiBtdWx0aXBsZSBwZW9wbGUgZXhpc3RzIHdpdGggdGhlIHNhbWUgbmlja25hbWUgb3IgbmFtZS4gSXQgd2lsbCByZXR1cm4gdGhlIGZpcnN0IHBlcnNvbiB0aGF0IG1hdGNoZXMuXG4gKiBVc2UgTWVtYmVyTnVtYmVyIGlmIHlvdSB3YW50IHRvIGd1cmFudGVlIHRvIGZpbmQgdGhhdCBzcGVjaWZpYyBjaGFyYWN0ZXIuXG4gKlxuICogQHBhcmFtIHNlYXJjaCAtIFRoZSBNZW1iZXJOdW1iZXIsIE5hbWUsIG9yIE5pY2tuYW1lIG9mIHRoZSBwZXJzb24geW91IHdhbnQgdG8gZmluZFxuICovXG5leHBvcnQgZnVuY3Rpb24gRmluZENoYXJhY3RlckluUm9vbShzZWFyY2g6IHN0cmluZyB8IG51bWJlciwgeyBNZW1iZXJOdW1iZXIgPSB0cnVlLCBOaWNrTmFtZTogTmlja25hbWUgPSB0cnVlLCBOYW1lID0gdHJ1ZSB9ID0ge30pOiBDaGFyYWN0ZXIgfCBudWxsXG57XG4gICAgLy8gTWFrZSBzdXJlIHBsYXllclNlYXJjaCBpcyBhIHN0cmluZyAtIG5vdCBjYXNlIHNlbnN0aXZlXG4gICAgaWYgKHR5cGVvZiBzZWFyY2ggIT09IFwic3RyaW5nXCIpXG4gICAge1xuICAgICAgICBzZWFyY2ggPSBzZWFyY2gudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgc2VhcmNoID0gc2VhcmNoLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG5cbiAgICAvLyBMb29wIHRocm91Z2ggYWxsIHRoZSBDaGFyYWN0ZXJzIGluIHRoZSBjaGF0XG4gICAgZm9yIChjb25zdCBjaGFyYWN0ZXIgb2YgQ2hhdFJvb21DaGFyYWN0ZXIpXG4gICAge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICAoTWVtYmVyTnVtYmVyICYmIGNoYXJhY3Rlcj8uTWVtYmVyTnVtYmVyID09PSBOdW1iZXIoc2VhcmNoKSlcbiAgICAgICAgICAgIHx8IChOaWNrbmFtZSAmJiBjaGFyYWN0ZXI/Lk5pY2tuYW1lPy50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSBzZWFyY2gpXG4gICAgICAgICAgICB8fCAoTmFtZSAmJiBjaGFyYWN0ZXIuTmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSBzZWFyY2gpXG4gICAgICAgIClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIGNoYXJhY3RlcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIE5vIGNoYXJhY3RlciBmb3VuZFxuICAgIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIFJlbW92ZSBhbGwgY29udGVudCB0aGF0IGlzIE9PQyBmcm9tIGEgbWVzc2FnZVxuICogQHJldHVybnMgT25seSB0aGUgSUMgbWVzc2FnZSBjb250ZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBSZW1vdmVPT0NDb250ZW50RnJvbU1lc3NhZ2UobWVzc2FnZTogc3RyaW5nKTogc3RyaW5nXG57XG4gICAgY29uc3QgcmFuZ2VzID0gU3BlZWNoR2V0T09DUmFuZ2VzKG1lc3NhZ2UpLnJldmVyc2UoKTtcbiAgICByYW5nZXMuZm9yRWFjaCgocmFuZ2UpID0+XG4gICAge1xuICAgICAgICBtZXNzYWdlID0gbWVzc2FnZS5zdWJzdHJpbmcoMCwgcmFuZ2Uuc3RhcnQpICsgbWVzc2FnZS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQgKyByYW5nZS5sZW5ndGgpO1xuICAgIH0pO1xuICAgIHJldHVybiBtZXNzYWdlO1xufVxuXG50eXBlIE1lc3NhZ2VBY3Rpb24gPSAoc2VuZGVyOiBDaGFyYWN0ZXIsIGNvbnRlbnQ6IE1QQU1lc3NhZ2VDb250ZW50KSA9PiB2b2lkO1xuZXhwb3J0IGludGVyZmFjZSBIb29rZWRNZXNzYWdlXG57XG4gICAgbW9kdWxlOiBNb2R1bGVUaXRsZSB8IG51bGw7XG4gICAgbWVzc2FnZTogc3RyaW5nO1xuICAgIGFjdGlvbjogTWVzc2FnZUFjdGlvbjtcbn1cbmV4cG9ydCBjb25zdCBob29rZWRNZXNzYWdlczogSG9va2VkTWVzc2FnZVtdID0gW107XG5cbi8qKlxuICogQWRkIGEgbGlzdGVuZXIgZm9yIGFuIGluY29taW5nIE1QQSBtZXNzYWdlXG4gKiBAcGFyYW0gbGlzdGVuZXIudGl0bGUgLSBXaGF0IG1vZHVsZSBkb2VzIHRoZSBsaXN0ZW5lciBiZWxvbmcgdG9cbiAqIEBwYXJhbSBsaXN0ZW5lci5tZXNzYWdlIC0gVGhlIG1lc3NhZ2Ugc3RyaW5nIHRvIG1hdGNoIHdpdGggdGhlIGluY29taW5nIG1lc3NhZ2VcbiAqIEBwYXJhbSBsaXN0ZW5lci5hY3Rpb24gLSBSdW4gdGhpcyBmdW5jdGlvbiB3aGVuIGEgbWF0Y2ggaXMgZm91bmRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEFkZERhdGFTeW5jTGlzdGVuZXIobGlzdGVuZXI6IEhvb2tlZE1lc3NhZ2UpOiB2b2lkXG57XG4gICAgaG9va2VkTWVzc2FnZXMucHVzaCh7XG4gICAgICAgIG1vZHVsZTogbGlzdGVuZXIubW9kdWxlLFxuICAgICAgICBtZXNzYWdlOiBsaXN0ZW5lci5tZXNzYWdlLFxuICAgICAgICBhY3Rpb246IGxpc3RlbmVyLmFjdGlvblxuICAgIH0gYXMgSG9va2VkTWVzc2FnZSk7XG59XG4vKipcbiAqIEFkZCBtYW55IGxpc3RlbmVycyBmb3IgYW4gaW5jb21pbmcgTVBBIG1lc3NhZ2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEFkZERhdGFTeW5jTGlzdGVuZXJzKGxpc3RlbmVyczogSG9va2VkTWVzc2FnZVtdKTogdm9pZFxue1xuICAgIGxpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcikgPT5cbiAgICB7XG4gICAgICAgIGhvb2tlZE1lc3NhZ2VzLnB1c2goe1xuICAgICAgICAgICAgbW9kdWxlOiBsaXN0ZW5lci5tb2R1bGUsXG4gICAgICAgICAgICBtZXNzYWdlOiBsaXN0ZW5lci5tZXNzYWdlLFxuICAgICAgICAgICAgYWN0aW9uOiBsaXN0ZW5lci5hY3Rpb25cbiAgICAgICAgfSBhcyBIb29rZWRNZXNzYWdlKTtcbiAgICB9KTtcbn1cbi8qKlxuICogUmVtb3ZlIGFsbCB0aGUgbGlzdGVuZXJzIGJhc2VkIG9uIHRoZSBNb2R1bGVUaXRsZVxuICogQHBhcmFtIG1vZHVsZSAtIE1vZHVsZSB0aGUgbGlzdGVuZXJzIHlvdSB3YW50IHRvIHJlbW92ZSBiZWxvbmdzIHRvXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBSZW1vdmVEYXRhU3luY0xpc3RlbmVycyhtb2R1bGU6IE1vZHVsZVRpdGxlIHwgbnVsbCk6IHZvaWRcbntcbiAgICBmb3IgKGxldCBpID0gaG9va2VkTWVzc2FnZXMubGVuZ3RoIC0gMTsgMCA8PSBpOyBpLS0pXG4gICAge1xuICAgICAgICBpZiAoaG9va2VkTWVzc2FnZXNbaV0ubW9kdWxlID09PSBtb2R1bGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhvb2tlZE1lc3NhZ2VzLnNwbGljZShpLCAxKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEdldEVudHJ5RnJvbUNoYXREaWN0aW9uYXJ5KGRhdGE6IFNlcnZlckNoYXRSb29tTWVzc2FnZSwgYXR0cmlidXRlOiBzdHJpbmcpOiBDaGF0TWVzc2FnZURpY3Rpb25hcnlFbnRyeSB8IHVuZGVmaW5lZFxue1xuICAgIGlmICghZGF0YS5EaWN0aW9uYXJ5KVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgdHJ5XG4gICAge1xuICAgICAgICByZXR1cm4gZGF0YS5EaWN0aW9uYXJ5LmZpbHRlcigoZW50cnkpID0+ICEhZW50cnlbYXR0cmlidXRlXSlbMF07XG4gICAgfVxuICAgIGNhdGNoIChfZXJyb3IpXG4gICAge1xuICAgICAgICAvLyBlaGhoIHRoaXMgZG9lc24ndCB3b3JrIGN1eiAuZmlsdGVyIGlzIG5vdCBkZWZpbmVkIG9uIGZpcnN0IGxvYWQgZm9yIHNvbWUgcmVhc29uXG4gICAgICAgIC8vIE5vIGJpZyBkZWFsIHNvIEkgZG9uJ3QgcmVhbGx5IGNhcmUgaWYgaXRzIGFuIGlzc3VlIGZvciBub3dcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhOiBTZXJ2ZXJDaGF0Um9vbU1lc3NhZ2UsIGF0dHJpYnV0ZTogc3RyaW5nKTogYW55IHwgdW5kZWZpbmVkXG57XG4gICAgcmV0dXJuIEdldEVudHJ5RnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIGF0dHJpYnV0ZSk/LlthdHRyaWJ1dGVdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gQXJyYXlUb1JlYWRhYmxlU3RyaW5nKGFycjogc3RyaW5nW10pOiBzdHJpbmdcbntcbiAgICBjb25zdCBsZW5ndGggPSBhcnIubGVuZ3RoO1xuICAgIGlmIChsZW5ndGggPT09IDApXG4gICAge1xuICAgICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG4gICAgZWxzZSBpZiAobGVuZ3RoID09PSAxKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGFyclswXTtcbiAgICB9XG4gICAgZWxzZSBpZiAobGVuZ3RoID09PSAyKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGAke2FyclswXX0gYW5kICR7YXJyWzFdfWA7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIHJldHVybiBgJHthcnIuc2xpY2UoMCwgLTEpLmpvaW4oXCIsIFwiKX0sIGFuZCAke2FycltsZW5ndGggLSAxXX1gO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IElOVk9MVU5UQVJZX0VORF9QRVRfU1BFQUtfUEVSQ0VOVEFHRSwgSU5WT0xVTlRBUllfUEVUX1NQRUFLX1BFUkNFTlRBR0UsIElOVk9MVU5UQVJZX1JVU0hFRF9TUEVBS19QRVJDRU5UQUdFIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBSYW5kb21FbGVtZW50LCBTaHVmZmxlQXJyYXkgfSBmcm9tIFwiLi9nZW5lcmFsXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBBcHBlbmRQZXRTcGVlY2godGV4dDogc3RyaW5nLCBwZXRQaHJhc2VzOiBzdHJpbmdbXSk6IHN0cmluZ1xue1xuICAgIC8vIE5vIHZhbGlkIHBldCBwaHJhc2VzIHRvIGFkZFxuICAgIGNvbnN0IHBldFNvdW5kID0gUmFuZG9tRWxlbWVudChwZXRQaHJhc2VzKTtcbiAgICBpZiAocGV0U291bmQgPT09IG51bGwpXG4gICAge1xuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICB9XG5cbiAgICBpZiAoL1suIT9dJC8udGVzdCh0ZXh0KSlcbiAgICB7XG4gICAgICAgIHJldHVybiBgJHt0ZXh0fSAke3BldFNvdW5kLmNoYXJBdCgwKS50b0xvY2FsZVVwcGVyQ2FzZSgpICsgcGV0U291bmQuc2xpY2UoMSl9LmA7XG4gICAgfVxuICAgIGlmICgvW2EtekEtWl0kLy50ZXN0KHRleHQpKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGAke3RleHR9LCAke3BldFNvdW5kfS5gO1xuICAgIH1cbiAgICByZXR1cm4gYCR7dGV4dH0gJHtwZXRTb3VuZH0uYDtcbn1cblxuLyoqXG4gKiBBcHBseSBwZXQgaGVhcmluZyB0byBhIFNwZWVjaFRyYW5zZm9ybUdhZ0dhcmJsZSBpbnB1dFxuICogQHBhcmFtIGFyZ3MgQXJncyBvZiB0aGUgU3BlZWNoVHJhbnNmb3JtR2FnR2FyYmxlXG4gKiBAcGFyYW0gbmV4dCAtIE5leHQgU3BlZWNoVHJhbnNmb3JtR2FnR2FyYmxlIHRvIGNhbGxcbiAqIEBwYXJhbSBwaHJhc2VzVG9LZWVwIC0gU291bmRzIHRoZSBwZXQga25vd3NcbiAqIEByZXR1cm5zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBBcHBseVBldEhlYXJpbmcoW3RleHQsIGludGVuc2l0eSwgaWdub3JlT09DXTogW3N0cmluZywgbnVtYmVyLCBib29sZWFuIHwgdW5kZWZpbmVkXSxcbiAgICBuZXh0OiAoYXJnczogW3RleHQ6IHN0cmluZywgaW50ZW5zaXR5OiBudW1iZXIsIGlnbm9yZU9PQz86IGJvb2xlYW4gfCB1bmRlZmluZWRdKSA9PiBzdHJpbmcsXG4gICAgcGhyYXNlc1RvS2VlcDogc3RyaW5nW10pOiBzdHJpbmdcbntcbiAgICAvLyBTcGxpdCB0aGUgaW5wdXQgdGV4dCBpbnRvIGRpZmZlcmVudCBzdWJzdHJpbmdzIGV4bHVkaW5nIHRoZSB3b3JkcyB5b3Ugd2FudCB0byBrZWVwXG4gICAgLy8gU3RlcCAxOiBHZXQgdGhlIHdvcmRzIHlvdSB3YW50IHRvIGtlZXAgaWYgYW55XG4gICAgLy8gY29uc3QgcGhyYXNlc1RvS2VlcCA9IEdldFBldEhlYXJpbmdQaHJhc2VzKCk7XG4gICAgLy8gQWRkIHRoZSBQbGF5ZXIncyBuYW1lIGFzIGEgd29yZCB0aGV5IGNhbiBoZWFyXG4gICAgcGhyYXNlc1RvS2VlcC5wdXNoKChQbGF5ZXIuTmlja25hbWUgfHwgUGxheWVyLk5hbWUpLnRvTG9jYWxlTG93ZXJDYXNlKCkpO1xuICAgIC8vIEFkZCB0aGUgUGxheWVyJ3MgZ2VuZGVyIGFzIGluIHRoZSBleGFtcGxlLCBcIkdvb2QgZ2lybFwiXG4gICAgaWYgKFBsYXllci5HZXRQcm9ub3VucygpID09PSBcIlNoZUhlclwiKVxuICAgIHtcbiAgICAgICAgcGhyYXNlc1RvS2VlcC5wdXNoKFwiZ2lybFwiKTtcbiAgICAgICAgcGhyYXNlc1RvS2VlcC5wdXNoKFwic2hlXCIpO1xuICAgICAgICBwaHJhc2VzVG9LZWVwLnB1c2goXCJoZXJcIik7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIHBocmFzZXNUb0tlZXAucHVzaChcImJveVwiKTtcbiAgICAgICAgcGhyYXNlc1RvS2VlcC5wdXNoKFwiaGVcIik7XG4gICAgICAgIHBocmFzZXNUb0tlZXAucHVzaChcImhpbVwiKTtcbiAgICB9XG5cbiAgICAvLyBTdGVwIDI6IEZpbmQgdGhlIG1hdGNoZXMgaWYgdGhleSBleGlzdCBpbiB0aGUgb3JnaW5hbCBtZXNzYWdlXG4gICAgLy8gQ2hlY2sgbG93ZXIgY2FzZSBjdXogdGhlIHBocmFzZSB3ZSBsb29raW5nIGZvciBpbiBsb3dlciBjYXNlLCBkb2VzIG5vdCBtYXR0ZXIgZm9yIGZpbmFsIHJlc3VsdCwgb25seSB3YW50IHBvc2l0aW9uXG4gICAgY29uc3QgbWVzc2FnZSA9IHRleHQudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICBpbnRlcmZhY2UgUmFuZ2UgeyBzdGFydDogbnVtYmVyOyBsZW46IG51bWJlciB9XG4gICAgbGV0IGZvdW5kUGhyYXNlczogUmFuZ2VbXSA9IFtdO1xuICAgIHBocmFzZXNUb0tlZXAuZm9yRWFjaCgocGhyYXNlKSA9PlxuICAgIHtcbiAgICAgICAgY29uc3QgcmVnRXhwID0gbmV3IFJlZ0V4cChgXFxcXGIke3BocmFzZX1cXFxcYmAsIFwiZ1wiKTtcbiAgICAgICAgY29uc3QgcmVnZXhNYXRjaGVzID0gWy4uLm1lc3NhZ2UubWF0Y2hBbGwocmVnRXhwKV07XG4gICAgICAgIHJlZ2V4TWF0Y2hlcy5mb3JFYWNoKChtYXRjaCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgZm91bmRQaHJhc2VzLnB1c2goeyBzdGFydDogbWF0Y2guaW5kZXgsIGxlbjogcGhyYXNlLmxlbmd0aCB9KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvLyBSZW1vdmUgZHVwbGljYXRlcyBiZWNhdXNlIEkgYW0gdG9vIGxhenkgdG8gcHJvcGVybHkgZGVidWcgd2h5IGR1cGxpY2F0ZXMgYXJlIGJlaW5nIHBvcHVsYXRlZFxuICAgIGNvbnN0IHVuaXF1ZVJhbmdlcyA9IG5ldyBNYXA8c3RyaW5nLCBSYW5nZT4oKTtcbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgZm91bmRQaHJhc2VzKVxuICAgIHtcbiAgICAgICAgY29uc3Qga2V5ID0gYCR7aXRlbS5zdGFydH0tJHtpdGVtLmxlbn1gO1xuICAgICAgICBpZiAoIXVuaXF1ZVJhbmdlcy5oYXMoa2V5KSlcbiAgICAgICAge1xuICAgICAgICAgICAgdW5pcXVlUmFuZ2VzLnNldChrZXksIGl0ZW0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvdW5kUGhyYXNlcyA9IEFycmF5LmZyb20odW5pcXVlUmFuZ2VzLnZhbHVlcygpKTtcblxuICAgIC8vIE5vIG1hdGNoZXMgZm91bmQgc28gY2FuIHNraXAgYW5kIGVhcmx5IHJldHVyblxuICAgIGlmIChmb3VuZFBocmFzZXMubGVuZ3RoID09PSAwKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG5leHQoW3RleHQsIGludGVuc2l0eSwgaWdub3JlT09DXSk7XG4gICAgfVxuXG4gICAgLy8gU29ydCBzbyB0aGF0IGl0IGlzIGNvbnN0cnVjdGVkIGluIHRoZSBjb3JyZWN0IG9yZGVyIHdoZW4gcHV0IGJhY2sgdG9nZXRoZXI7IGxvd2VyIHN0YXJ0aW5nIGluZGV4ZXMgZmlyc3RcbiAgICBmb3VuZFBocmFzZXMuc29ydCgoYSwgYikgPT4gYS5zdGFydCAtIGIuc3RhcnQpO1xuICAgIC8vIFJlbW92ZSBhbnkgcGhyYXNlcyB0aGF0IGFyZSBmb3VuZCB3aXRoaW4gT09DIHNwZWVjaCByYW5nZTtcbiAgICBjb25zdCBvb2NSYW5nZXMgPSBTcGVlY2hHZXRPT0NSYW5nZXModGV4dCk7XG4gICAgb29jUmFuZ2VzLmZvckVhY2goKHJhbmdlKSA9PlxuICAgIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IGZvdW5kUGhyYXNlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgcGhyYXNlID0gZm91bmRQaHJhc2VzW2ldO1xuICAgICAgICAgICAgLy8gUmVtb3ZlIGlmIHRoZSBwaHJhc2Ugc3RhcnRzIG9yIGVuZHMgd2l0aGluIHRoZSBvb2MgcmFuZ2VcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAocmFuZ2Uuc3RhcnQgPCBwaHJhc2Uuc3RhcnQgJiYgcGhyYXNlLnN0YXJ0IDwgcmFuZ2Uuc3RhcnQgKyByYW5nZS5sZW5ndGgpXG4gICAgICAgICAgICAgICAgfHwgKHJhbmdlLnN0YXJ0IDwgcGhyYXNlLnN0YXJ0ICsgcGhyYXNlLmxlbiAmJiBwaHJhc2Uuc3RhcnQgKyBwaHJhc2UubGVuIDwgcmFuZ2Uuc3RhcnQgKyByYW5nZS5sZW5ndGgpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZm91bmRQaHJhc2VzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gTWF5IG5lZWQgdG8gY2hlY2sgdGhhdCBvbmUgcGhyYXNlIGRvZXMgbm90IHN0YXJ0IGJlZm9yZSBhbm90aGVyIGVuZHMsIGFuZCBpZiBzbyBtZXJnZSBpbnRvIGEgc2luZ2xlIGxvbmdlciBlbnRyeVxuICAgIGxldCBsYXN0SW5kZXggPSAwO1xuICAgIGxldCBmaW5hbFRleHQgPSBcIlwiO1xuICAgIGZvdW5kUGhyYXNlcy5mb3JFYWNoKChmb3VuZCkgPT5cbiAgICB7XG4gICAgICAgIC8vIEJlZm9yZSB0aGUgcGhyYXNlIHRvIG9taXRcbiAgICAgICAgZmluYWxUZXh0ICs9IG5leHQoW3RleHQuc3Vic3RyaW5nKGxhc3RJbmRleCwgZm91bmQuc3RhcnQpLCBpbnRlbnNpdHksIGlnbm9yZU9PQ10pO1xuXG4gICAgICAgIC8vIFBocmFzZSB3ZSB3YW50IHRvIG9taXRcbiAgICAgICAgbGFzdEluZGV4ID0gZm91bmQuc3RhcnQgKyBmb3VuZC5sZW47XG4gICAgICAgIGZpbmFsVGV4dCArPSB0ZXh0LnN1YnN0cmluZyhmb3VuZC5zdGFydCwgZm91bmQuc3RhcnQgKyBmb3VuZC5sZW4pO1xuICAgIH0pO1xuICAgIC8vIExhc3Qgb2YgdGhlIHRleHQgdG8gZ2FyYmxlIHVwXG4gICAgZmluYWxUZXh0ICs9IG5leHQoW3RleHQuc3Vic3RyaW5nKGxhc3RJbmRleCksIGludGVuc2l0eSwgaWdub3JlT09DXSk7XG5cbiAgICByZXR1cm4gZmluYWxUZXh0O1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIE5vbkRpc3J1cHRpdmVQZXRTcGVlY2gobXNnOiBzdHJpbmcsIG5leHQ6IChhcmdzOiBbbXNnOiBzdHJpbmddKSA9PiBzdHJpbmcgfCBib29sZWFuLCBhbGxvd2VkUGV0UGhyYXNlczogc3RyaW5nW10pOiBzdHJpbmcgfCBib29sZWFuXG57XG4gICAgLy8gTm8gcGhyYXNlcyB3ZSBjYW4gdXNlLCBza2lwXG4gICAgaWYgKGFsbG93ZWRQZXRQaHJhc2VzLmxlbmd0aCA9PT0gMClcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXh0KFttc2ddKTtcbiAgICB9XG5cbiAgICAvLyBVc2UgYnVja2V0IHN5c3RlbSBzbyB3b3JkcyBhcHBlYXIgbGVzcyByYW5kb21cbiAgICAvLyBCdWNrZXQgaXMgMnggYWxsb3dlZCBwZXQgcGhyYXNlcyBiZWZvcmUgcmVmaWxsaW5nXG4gICAgbGV0IHBldFBocmFzZUJ1Y2tldDogc3RyaW5nW10gPSBbXTtcbiAgICBmdW5jdGlvbiBHZXRQZXRQaGFzZSgpOiBzdHJpbmdcbiAgICB7XG4gICAgICAgIGlmIChwZXRQaHJhc2VCdWNrZXQubGVuZ3RoID09PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBwZXRQaHJhc2VCdWNrZXQgPSBhbGxvd2VkUGV0UGhyYXNlcy5jb25jYXQoYWxsb3dlZFBldFBocmFzZXMpO1xuICAgICAgICAgICAgcGV0UGhyYXNlQnVja2V0ID0gU2h1ZmZsZUFycmF5KHBldFBocmFzZUJ1Y2tldCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBldFBocmFzZUJ1Y2tldC5wb3AoKSA/PyBcIlwiO1xuICAgIH1cblxuICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgdGhlIG9vYyByYW5nZXMgdG8gc3BsaXQgdGV4dCBpbnRvIG9vYyBhbmQgbm9uIG9vYyBjaHVua3NcbiAgICAvLyBTa2lwIGFkZGluZyBwZXQgc291bmRzIHRvIG9vYyBzZWdtZW50c1xuICAgIGxldCBuZXh0SW5kZXggPSAwO1xuICAgIGxldCBzZWdtZW50czogeyB0ZXh0OiBzdHJpbmc7IG9vYzogYm9vbGVhbiB9W10gPSBbXTtcbiAgICBjb25zdCBvb2NSYW5nZXMgPSBTcGVlY2hHZXRPT0NSYW5nZXMobXNnKTtcbiAgICBmb3IgKGNvbnN0IHJhbmdlIG9mIG9vY1JhbmdlcylcbiAgICB7XG4gICAgICAgIGlmIChtc2cuc3Vic3RyaW5nKG5leHRJbmRleCwgcmFuZ2Uuc3RhcnQpICE9PSBcIlwiKVxuICAgICAgICB7XG4gICAgICAgICAgICBzZWdtZW50cy5wdXNoKHsgdGV4dDogbXNnLnN1YnN0cmluZyhuZXh0SW5kZXgsIHJhbmdlLnN0YXJ0KSwgb29jOiBmYWxzZSB9KTtcbiAgICAgICAgfVxuICAgICAgICBzZWdtZW50cy5wdXNoKHsgdGV4dDogbXNnLnN1YnN0cmluZyhyYW5nZS5zdGFydCwgcmFuZ2Uuc3RhcnQgKyByYW5nZS5sZW5ndGgpLCBvb2M6IHRydWUgfSk7XG4gICAgICAgIG5leHRJbmRleCA9IHJhbmdlLnN0YXJ0ICsgcmFuZ2UubGVuZ3RoO1xuICAgIH1cbiAgICAvLyBBZGQgbGFzdCBzZWdtZW50IGZyb20gZW5kIG9mIHJhbmdlIHRvIGVuZCBvZiB0ZXh0XG4gICAgY29uc3QgbGFzdEJpdCA9IG1zZy5zdWJzdHJpbmcobmV4dEluZGV4KTtcbiAgICBpZiAobGFzdEJpdCAhPT0gXCJcIilcbiAgICB7XG4gICAgICAgIHNlZ21lbnRzLnB1c2goeyB0ZXh0OiBsYXN0Qml0LCBvb2M6IGZhbHNlIH0pO1xuICAgIH1cbiAgICAvLyBNb3ZlIGFueSB3aGl0ZXNwYWNlIG9uIHRoZSByaWdodCBzaWRlIG9mIGFuIGVsZW1lbnQgdG8gdGhlIGxlZnQgc2lkZSBvZiB0aGUgbmV4dCBlbGVtZW50XG4gICAgLy8gTWFrZXMgZmluYWwgZm9ybWF0dGluZyBjbGVhbmVyIGFuZCBlYXNpZXJcbiAgICBzZWdtZW50cyA9IHNlZ21lbnRzLm1hcCgob2JqLCBpKSA9PlxuICAgIHtcbiAgICAgICAgY29uc3QgdHJhaWxpbmdXaGl0ZXNwYWNlID0gL1xccyskLy5leGVjKG9iai50ZXh0KTtcbiAgICAgICAgb2JqLnRleHQgPSBvYmoudGV4dC5yZXBsYWNlKC9cXHMrJC8sIFwiXCIpOyAvLyBSZW1vdmUgdHJhaWxpbmcgd2hpdGVzcGFjZSBmcm9tIGN1cnJlbnQgdGV4dFxuICAgICAgICBpZiAodHJhaWxpbmdXaGl0ZXNwYWNlICYmIHNlZ21lbnRzW2kgKyAxXSlcbiAgICAgICAge1xuICAgICAgICAgICAgc2VnbWVudHNbaSArIDFdLnRleHQgPSB0cmFpbGluZ1doaXRlc3BhY2VbMF0gKyBzZWdtZW50c1tpICsgMV0udGV4dDsgLy8gUHJlcGVuZCB3aGl0ZXNwYWNlIHRvIG5leHQgdGV4dFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfSk7XG5cbiAgICAvLyBGb3IgZWFjaCBub24gb29jIHNlZ21lbnQgcGV0aWZ5IHNwZWFrIGl0XG4gICAgbGV0IHNwb2tlUGV0ID0gZmFsc2U7XG4gICAgbGV0IG5ld01zZyA9IFwiXCI7XG4gICAgZm9yIChjb25zdCBzZWdtZW50IG9mIHNlZ21lbnRzKVxuICAgIHtcbiAgICAgICAgaWYgKHNlZ21lbnQub29jKVxuICAgICAgICB7XG4gICAgICAgICAgICBuZXdNc2cgKz0gc2VnbWVudC50ZXh0O1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzcGxpdFBocmFzZSA9IHNlZ21lbnQudGV4dC5tYXRjaCgvKFxccypcXFMrKS9nKSB8fCBbXTtcbiAgICAgICAgbGV0IHByZXZpb3VzV29yZDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gICAgICAgIHNwbGl0UGhyYXNlLmZvckVhY2goKHdvcmQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFJhbmRvbSBjaGFuY2UgZm9yIGEgcGV0IHNvdW5kIHRvIGFwcGVhciBiZWZvcmUgdGhlIGN1cnJlbnQgd29yZFxuICAgICAgICAgICAgaWYgKE1hdGgucmFuZG9tKCkgPCBJTlZPTFVOVEFSWV9QRVRfU1BFQUtfUEVSQ0VOVEFHRSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzcG9rZVBldCA9IHRydWU7XG4gICAgICAgICAgICAgICAgY29uc3QgcGV0U291bmQgPSBHZXRQZXRQaGFzZSgpO1xuXG4gICAgICAgICAgICAgICAgY29uc3Qgbm9QcmV2ID0gcHJldmlvdXNXb3JkID09PSBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChub1ByZXYgfHwgL1suIT9dJC8udGVzdChwcmV2aW91c1dvcmQgPz8gXCJcIikpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuZXdNc2cgKz0gYCR7bm9QcmV2ID8gXCJcIiA6IFwiIFwifSR7cGV0U291bmQuY2hhckF0KDApLnRvTG9jYWxlVXBwZXJDYXNlKCl9JHtwZXRTb3VuZC5zbGljZSgxKX1gXG4gICAgICAgICAgICAgICAgICAgICsgYCR7L1suIT9dJC8udGVzdCh3b3JkKSB8fCBub1ByZXYgPyBgLiR7bm9QcmV2ID8gXCIgXCIgOiBcIlwifWAgOiBcIiwgXCJ9YDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3TXNnICs9IGAke01hdGgucmFuZG9tKCkgPCBJTlZPTFVOVEFSWV9SVVNIRURfU1BFQUtfUEVSQ0VOVEFHRSAmJiAhKHByZXZpb3VzV29yZCA/PyBcIlwiKS5lbmRzV2l0aChcIixcIikgPyBcIixcIiA6IFwiXCJ9ICR7cGV0U291bmR9LGA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV3TXNnICs9IHdvcmQ7XG4gICAgICAgICAgICBwcmV2aW91c1dvcmQgPSB3b3JkO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBJZiBubyBwZXQgd29yZHMgaGF2ZSBiZWVuIHNwb2tlbiBzbyBmYXIsIGVuZCB3aXRoIG9uZSBvciBhIGNoYW5jZSBmb3IgaXQgdG8gZW5kIHdpdGggb25lIGFueXdheVxuICAgICAgICBpZiAoXG4gICAgICAgICAgICBzZWdtZW50cy5zbGljZSgpLnJldmVyc2UoKS5maW5kKChpdGVtKSA9PiAhaXRlbS5vb2MpPy50ZXh0ID09PSBzZWdtZW50LnRleHQgLy8gTGFzdCBub24gb29jIHNlZ21lbnRcbiAgICAgICAgICAgICYmICghc3Bva2VQZXQgfHwgTWF0aC5yYW5kb20oKSA8IElOVk9MVU5UQVJZX0VORF9QRVRfU1BFQUtfUEVSQ0VOVEFHRSlcbiAgICAgICAgKVxuICAgICAgICB7XG4gICAgICAgICAgICBuZXdNc2cgPSBBcHBlbmRQZXRTcGVlY2gobmV3TXNnLCBbR2V0UGV0UGhhc2UoKV0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5leHQoW25ld01zZ10pO1xufVxuIiwiaW1wb3J0IHsgTW9kdWxlIH0gZnJvbSBcIi4uL21vZHVsZXMvX21vZHVsZVwiO1xuaW1wb3J0IHsgTG9hZFN0b3JhZ2UgfSBmcm9tIFwiLi9zdG9yYWdlXCI7XG5pbXBvcnQgeyBEYXRhU3luY01vZHVsZSB9IGZyb20gXCIuLi9tb2R1bGVzL2RhdGFTeW5jXCI7XG5pbXBvcnQgeyBTZXR0aW5nc01vZHVsZSB9IGZyb20gXCIuLi9tb2R1bGVzL3NldHRpbmdzXCI7XG5pbXBvcnQgeyBBY3Rpdml0aWVzTW9kdWxlIH0gZnJvbSBcIi4uL21vZHVsZXMvYWN0aXZpdGllc1wiO1xuaW1wb3J0IHsgQ2xpY2tlck1vZHVsZSB9IGZyb20gXCIuLi9tb2R1bGVzL2NsaWNrZXJcIjtcbmltcG9ydCB7IFZpcnR1YWxQZXRNb2R1bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy92aXJ0dWFsUGV0XCI7XG5pbXBvcnQgeyBWaXJ0dWFsUGV0SFVETW9kdWxlIH0gZnJvbSBcIi4uL21vZHVsZXMvdmlydHVhbFBldEhVRFwiO1xuaW1wb3J0IHsgVmlydHVhbFBldENvbmRpdGlvbnNNb2R1bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy92aXJ0dWFsUGV0Q29uZGl0aW9uc1wiO1xuaW1wb3J0IHsgUHJvZmlsZU1vZHVsZSB9IGZyb20gXCIuLi9tb2R1bGVzL3Byb2ZpbGVcIjtcbmltcG9ydCB7IFNldHRpbmdzT3RoZXJNb2R1bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9zZXR0aW5nc090aGVyc1wiO1xuaW1wb3J0IHsgQXV0aG9yaXR5TW9kdWxlIH0gZnJvbSBcIi4uL21vZHVsZXMvYXV0aG9yaXR5XCI7XG5cbmxldCBtb2R1bGVzUmVnaXN0ZXJlZCA9IGZhbHNlO1xuXG5leHBvcnQgY29uc3QgbW9kdWxlczogTW9kdWxlW10gPSBbXG4gICAgbmV3IERhdGFTeW5jTW9kdWxlKCksXG4gICAgbmV3IFNldHRpbmdzTW9kdWxlKCksXG4gICAgbmV3IEFjdGl2aXRpZXNNb2R1bGUoKSxcbiAgICBuZXcgQ2xpY2tlck1vZHVsZSgpLFxuICAgIG5ldyBWaXJ0dWFsUGV0TW9kdWxlKCksXG4gICAgbmV3IFZpcnR1YWxQZXRIVURNb2R1bGUoKSxcbiAgICBuZXcgVmlydHVhbFBldENvbmRpdGlvbnNNb2R1bGUoKSxcbiAgICBuZXcgUHJvZmlsZU1vZHVsZSgpLFxuICAgIG5ldyBTZXR0aW5nc090aGVyTW9kdWxlKCksXG4gICAgbmV3IEF1dGhvcml0eU1vZHVsZSgpXG5dO1xuXG5leHBvcnQgY29uc3Qgc2V0dGluZ3M6IFBhcnRpYWw8TVBBU2V0dGluZ3M+ID0ge307XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBSZWdpc3Rlck1vZHVsZXMoKTogUHJvbWlzZTx2b2lkPlxue1xuICAgIC8vIE5vIGR1cGxpY2F0ZSBtb2R1bGUgcmVnaXN0ZXJpbmdcbiAgICBpZiAobW9kdWxlc1JlZ2lzdGVyZWQpIHsgcmV0dXJuOyB9XG5cbiAgICBtb2R1bGVzLmZvckVhY2goKG1vZHVsZSkgPT5cbiAgICB7XG4gICAgICAgIC8vIEdldCBhbGwgdGhlIHNldHRpbmdzXG4gICAgICAgIGNvbnN0IG1vZFNldCA9IG1vZHVsZS5TZXR0aW5ncztcbiAgICAgICAgY29uc3QgbmV3U2V0dGluZ3MgPSB7fTtcbiAgICAgICAgbW9kU2V0LmZvckVhY2goKHNldCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgbmV3U2V0dGluZ3Nbc2V0Lm5hbWVdID0gc2V0O1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKG5ld1NldHRpbmdzKS5sZW5ndGggIT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNldHRpbmdzW21vZHVsZS5UaXRsZV0gPSBuZXdTZXR0aW5ncztcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGF3YWl0IExvYWRTdG9yYWdlKCk7XG5cbiAgICAvLyBMb2FkIHRoZSBtb2R1bGVzXG4gICAgbW9kdWxlcy5mb3JFYWNoKChtb2R1bGUpID0+XG4gICAge1xuICAgICAgICBtb2R1bGUuTG9hZCgpO1xuICAgIH0pO1xuICAgIG1vZHVsZXNSZWdpc3RlcmVkID0gdHJ1ZTtcbn1cbiIsImltcG9ydCBiY01vZFNkaywgeyBHZXREb3RlZFBhdGhUeXBlLCBNb2RTREtNb2RBUEksIFBhdGNoSG9vayB9IGZyb20gXCJib25kYWdlLWNsdWItbW9kLXNka1wiO1xuaW1wb3J0IHsgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9fbW9kdWxlXCI7XG5pbXBvcnQgeyBNUEFfTkFNRSwgTVBBX1JFUE8sIE1QQV9WRVJTSU9OIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5cbmludGVyZmFjZSBIb29rZWRGdW5jdGlvblxue1xuICAgIGZ1bmN0aW9uTmFtZTogc3RyaW5nO1xuICAgIHByaW9yaXR5OiBudW1iZXI7XG4gICAgaG9vazogUGF0Y2hIb29rO1xuICAgIG1vZHVsZTogc3RyaW5nIHwgbnVsbDtcbiAgICByZW1vdmVIb29rOiAoKSA9PiB2b2lkO1xufVxuY29uc3QgaG9va3M6IEhvb2tlZEZ1bmN0aW9uW10gPSBbXTtcblxuZXhwb3J0IGNvbnN0IG1vZEFQSTogTW9kU0RLTW9kQVBJID0gYmNNb2RTZGsucmVnaXN0ZXJNb2Qoe1xuICAgIG5hbWU6IE1QQV9OQU1FLFxuICAgIHZlcnNpb246IE1QQV9WRVJTSU9OLFxuICAgIGZ1bGxOYW1lOiBcIk1heWEncyBQZXRwbGF5IEFkZGl0aW9uc1wiLFxuICAgIHJlcG9zaXRvcnk6IE1QQV9SRVBPXG59LCB7XG4gICAgYWxsb3dSZXBsYWNlOiBmYWxzZVxufSk7XG5cbi8qKlxuICogSG9vayBhIEJDIGZ1bmN0aW9uXG4gKiBAcGFyYW0gbW9kdWxlIC0gVGhlIHRpdGxlIG9mIHRoZSBtb2R1bGUgdGhlIGhvb2sgaXMgYmVpbmcgdXNlZCBpblxuICogQHRlbXBsYXRlIFRGdW5jdGlvbk5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgaG9va2VkIGZ1bmN0aW9uLCBfZS5nLl8gYFwiUGxheWVyLkNhbkNoYW5nZVwiYFxuICogQHBhcmFtIGZ1bmN0aW9uTmFtZSAtIE5hbWUgb2YgZnVuY3Rpb24gdG8gaG9vay4gQ2FuIGNvbnRhaW4gZG90cyB0byBjaGFuZ2UgbWV0aG9kcyBpbiBvYmplY3RzIChlLmcuIGBQbGF5ZXIuQ2FuQ2hhbmdlYClcbiAqIEBwYXJhbSBwcmlvcml0eSAtIE51bWJlciB1c2VkIHRvIGRldGVybWluYXRlIG9yZGVyIGhvb2tzIHdpbGwgYmUgY2FsbGVkIGluLiBIaWdoZXIgbnVtYmVyIGlzIGNhbGxlZCBmaXJzdFxuICogQHBhcmFtIGhvb2sgLSBUaGUgaG9vayBpdHNlbGYgdG8gdXNlLCBAc2VlIFBhdGNoSG9va1xuICogQHJldHVybnMgRnVuY3Rpb24gdGhhdCBjYW4gYmUgY2FsbGVkIHRvIHJlbW92ZSB0aGlzIGhvb2tcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEhvb2tGdW5jdGlvbjxURnVuY3Rpb25OYW1lIGV4dGVuZHMgc3RyaW5nPihtb2R1bGU6IE1vZHVsZVRpdGxlIHwgbnVsbCwgZnVuY3Rpb25OYW1lOiBURnVuY3Rpb25OYW1lLCBwcmlvcml0eTogbnVtYmVyLCBob29rOiBQYXRjaEhvb2s8R2V0RG90ZWRQYXRoVHlwZTx0eXBlb2YgZ2xvYmFsVGhpcywgVEZ1bmN0aW9uTmFtZT4+KTogKCkgPT4gdm9pZFxue1xuICAgIGNvbnN0IHJlbW92ZUhvb2sgPSBtb2RBUEkuaG9va0Z1bmN0aW9uKGZ1bmN0aW9uTmFtZSwgcHJpb3JpdHksIGhvb2spO1xuXG4gICAgaG9va3MucHVzaCh7XG4gICAgICAgIGZ1bmN0aW9uTmFtZTogZnVuY3Rpb25OYW1lLFxuICAgICAgICBwcmlvcml0eTogcHJpb3JpdHksXG4gICAgICAgIGhvb2s6IGhvb2ssXG4gICAgICAgIG1vZHVsZTogbW9kdWxlLFxuICAgICAgICByZW1vdmVIb29rOiByZW1vdmVIb29rXG4gICAgfSBhcyBIb29rZWRGdW5jdGlvbik7XG5cbiAgICByZXR1cm4gcmVtb3ZlSG9vaztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJlbW92ZUhvb2tzKG1vZHVsZTogTW9kdWxlVGl0bGUgfCBudWxsKTogdm9pZFxue1xuICAgIGZvciAobGV0IGkgPSBob29rcy5sZW5ndGggLSAxOyAwIDw9IGk7IGktLSlcbiAgICB7XG4gICAgICAgIGlmIChob29rc1tpXS5tb2R1bGUgPT09IG1vZHVsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgaG9va3NbaV0ucmVtb3ZlSG9vaygpO1xuICAgICAgICAgICAgaG9va3Muc3BsaWNlKGksIDEpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIE9ubHkgcmVsZWFzZSB0aGUgYXdhaXQgd2hlbiB0aGUgUGxheWVyIGlzIGRldGVjdGVkIGFuZCBsb2FkZWRcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEF3YWl0UGxheWVyKCk6IFByb21pc2U8dm9pZD5cbntcbiAgICBpZiAoUGxheWVyLk1lbWJlck51bWJlciAmJiBQbGF5ZXIuRXh0ZW5zaW9uU2V0dGluZ3MpXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlKSA9PlxuICAgIHtcbiAgICAgICAgY29uc3QgaG9vayA9IG1vZEFQSS5ob29rRnVuY3Rpb24oXCJMb2dpblJlc3BvbnNlXCIsIDAsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBMZXQgcmVzcG9uc2UgaGFwcGVuIGZpcnN0XG4gICAgICAgICAgICBuZXh0KGFyZ3MpO1xuXG4gICAgICAgICAgICAvLyBSZW1vdmUgdGhpcyBob29rIHdoZW4gZG9uZVxuICAgICAgICAgICAgaG9vaygpO1xuXG4gICAgICAgICAgICAvLyBSZXNvbHZlIHRoZSBwcm9taXNlIHRvIGVuZCB0aGUgYXdhaXQgY29uZGl0aW9uXG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG4vKipcbiAqIEdldCB0aGUgQkNYIG1vZCBhcGkgZm9yIE1QQVxuICovXG5leHBvcnQgZnVuY3Rpb24gYmN4QVBJKClcbntcbiAgICByZXR1cm4gd2luZG93LmJjeD8uZ2V0TW9kQXBpKE1QQV9OQU1FKTtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiBCQ1ggaWYgZm91bmRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJjeEZvdW5kKCk6IGJvb2xlYW5cbntcbiAgICByZXR1cm4gISF3aW5kb3cuYmN4O1xufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIElzRGlzcGxheVNldHRpbmcoc2V0dGluZzogU2V0dGluZyk6IHNldHRpbmcgaXMgRGlzcGxheWVkU2V0dGluZ1xue1xuICAgIHJldHVybiAoXG4gICAgICAgIHR5cGVvZiAoc2V0dGluZyBhcyBEaXNwbGF5ZWRTZXR0aW5nKS5hY3RpdmUgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICAmJiB0eXBlb2YgKHNldHRpbmcgYXMgRGlzcGxheWVkU2V0dGluZykubGFiZWwgPT09IFwic3RyaW5nXCJcbiAgICApO1xufVxuZXhwb3J0IGZ1bmN0aW9uIElzQ2hlY2tib3hTZXR0aW5nKHNldHRpbmc6IFNldHRpbmcpOiBzZXR0aW5nIGlzIENoZWNrYm94U2V0dGluZ1xue1xuICAgIHJldHVybiAoXG4gICAgICAgIElzRGlzcGxheVNldHRpbmcoc2V0dGluZylcbiAgICAgICAgJiYgKHNldHRpbmcgYXMgQ2hlY2tib3hTZXR0aW5nKS50eXBlID09PSBcImNoZWNrYm94XCJcbiAgICAgICAgJiYgdHlwZW9mIChzZXR0aW5nIGFzIENoZWNrYm94U2V0dGluZykudmFsdWUgPT09IFwiYm9vbGVhblwiXG4gICAgKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBJc09wdGlvblNldHRpbmcoc2V0dGluZzogU2V0dGluZyk6IHNldHRpbmcgaXMgT3B0aW9uU2V0dGluZ1xue1xuICAgIHJldHVybiAoXG4gICAgICAgIElzRGlzcGxheVNldHRpbmcoc2V0dGluZylcbiAgICAgICAgJiYgKHNldHRpbmcgYXMgT3B0aW9uU2V0dGluZykudHlwZSA9PT0gXCJvcHRpb25cIlxuICAgICAgICAmJiB0eXBlb2YgKHNldHRpbmcgYXMgT3B0aW9uU2V0dGluZykudmFsdWUgPT09IFwic3RyaW5nXCJcbiAgICAgICAgJiYgQXJyYXkuaXNBcnJheSgoc2V0dGluZyBhcyBPcHRpb25TZXR0aW5nKS5vcHRpb25zKVxuICAgICAgICAmJiB0eXBlb2YgKHNldHRpbmcgYXMgT3B0aW9uU2V0dGluZykubG9vcCA9PT0gXCJib29sZWFuXCJcbiAgICApO1xufVxuZXhwb3J0IGZ1bmN0aW9uIElzVGV4dFNldHRpbmcoc2V0dGluZzogU2V0dGluZyk6IHNldHRpbmcgaXMgVGV4dFNldHRpbmdcbntcbiAgICByZXR1cm4gKFxuICAgICAgICBJc0Rpc3BsYXlTZXR0aW5nKHNldHRpbmcpXG4gICAgICAgICYmIChzZXR0aW5nIGFzIFRleHRTZXR0aW5nKS50eXBlID09PSBcInRleHRcIlxuICAgICAgICAmJiB0eXBlb2YgKHNldHRpbmcgYXMgVGV4dFNldHRpbmcpLnZhbHVlID09PSBcInN0cmluZ1wiXG4gICAgICAgICYmICh0eXBlb2YgKHNldHRpbmcgYXMgVGV4dFNldHRpbmcpLndpZHRoID09PSBcIm51bWJlclwiXG4gICAgICAgIHx8IChzZXR0aW5nIGFzIFRleHRTZXR0aW5nKS53aWR0aCA9PT0gbnVsbClcbiAgICAgICAgJiYgKHR5cGVvZiAoc2V0dGluZyBhcyBUZXh0U2V0dGluZykubWF4Q2hhcnMgPT09IFwibnVtYmVyXCJcbiAgICAgICAgfHwgKHNldHRpbmcgYXMgVGV4dFNldHRpbmcpLm1heENoYXJzID09PSBudWxsKVxuICAgICk7XG59XG5leHBvcnQgZnVuY3Rpb24gSXNOdW1iZXJTZXR0aW5nKHNldHRpbmc6IFNldHRpbmcpOiBzZXR0aW5nIGlzIE51bWJlclNldHRpbmdcbntcbiAgICByZXR1cm4gKFxuICAgICAgICBJc0Rpc3BsYXlTZXR0aW5nKHNldHRpbmcpXG4gICAgICAgICYmIChzZXR0aW5nIGFzIE51bWJlclNldHRpbmcpLnR5cGUgPT09IFwibnVtYmVyXCJcbiAgICAgICAgJiYgdHlwZW9mIChzZXR0aW5nIGFzIE51bWJlclNldHRpbmcpLnZhbHVlID09PSBcIm51bWJlclwiXG4gICAgICAgICYmICh0eXBlb2YgKHNldHRpbmcgYXMgTnVtYmVyU2V0dGluZykud2lkdGggPT09IFwibnVtYmVyXCJcbiAgICAgICAgfHwgKHNldHRpbmcgYXMgTnVtYmVyU2V0dGluZykud2lkdGggPT09IG51bGwpXG4gICAgICAgICYmIHR5cGVvZiAoc2V0dGluZyBhcyBOdW1iZXJTZXR0aW5nKS5taW4gPT09IFwibnVtYmVyXCJcbiAgICAgICAgJiYgdHlwZW9mIChzZXR0aW5nIGFzIE51bWJlclNldHRpbmcpLm1heCA9PT0gXCJudW1iZXJcIlxuICAgICAgICAmJiAodHlwZW9mIChzZXR0aW5nIGFzIE51bWJlclNldHRpbmcpLnN0ZXAgPT09IFwibnVtYmVyXCJcbiAgICAgICAgfHwgKHNldHRpbmcgYXMgTnVtYmVyU2V0dGluZykuc3RlcCA9PT0gbnVsbClcbiAgICApO1xufVxuIiwiaW1wb3J0IHsgTG9jYWxpemVkVGV4dCB9IGZyb20gXCIuLi9sb2NhbGl6YXRpb24vbG9jYWxpemF0aW9uXCI7XG5pbXBvcnQgeyBzZXR0aW5ncyBhcyBjdXJyZW50U2V0dGluZ3MgfSBmcm9tIFwiLi9yZWdpc3Rlck1vZHVsZXNcIjtcbmltcG9ydCB7IEF3YWl0UGxheWVyIH0gZnJvbSBcIi4vc2RrXCI7XG5pbXBvcnQgeyBTZXR0aW5nU3luYyB9IGZyb20gXCIuLi9tb2R1bGVzL2RhdGFTeW5jXCI7XG5pbXBvcnQgeyBNb2R1bGVUaXRsZSB9IGZyb20gXCIuLi9tb2R1bGVzL19tb2R1bGVcIjtcbmltcG9ydCB7IE1QQV9WRVJTSU9OIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBMZXZlbFN5bmMgfSBmcm9tIFwiLi4vbW9kdWxlcy92aXJ0dWFsUGV0XCI7XG5cbmZ1bmN0aW9uIE1QQVVwZGF0ZUNoZWNrKHNldHRpbmdzOiBNUEFSZWNvcmRzKTogdm9pZFxue1xuICAgIGlmICgoc2V0dGluZ3MudmVyc2lvbiBhcyBhbnkpICE9PSBNUEFfVkVSU0lPTilcbiAgICB7XG4gICAgICAgIFNlcnZlckFjY291bnRCZWVwKHtcbiAgICAgICAgICAgIE1lbWJlck51bWJlcjogUGxheWVyLk1lbWJlck51bWJlciA/PyAtMSxcbiAgICAgICAgICAgIE1lbWJlck5hbWU6IExvY2FsaXplZFRleHQoXCJNUEFcIiksXG4gICAgICAgICAgICBDaGF0Um9vbVNwYWNlOiBcIlhcIixcbiAgICAgICAgICAgIENoYXRSb29tTmFtZTogTG9jYWxpemVkVGV4dChcIk1QQSBVcGRhdGVkXCIpLFxuICAgICAgICAgICAgUHJpdmF0ZTogZmFsc2UsXG4gICAgICAgICAgICBCZWVwVHlwZTogXCJcIixcbiAgICAgICAgICAgIE1lc3NhZ2U6IFwiTVBBIGhhcyBiZWVuIHVwZGF0ZWQuXCJcbiAgICAgICAgfSk7XG4gICAgICAgIChzZXR0aW5ncy52ZXJzaW9uIGFzIGFueSkgPSBNUEFfVkVSU0lPTjtcbiAgICAgICAgU2F2ZVN0b3JhZ2UoZmFsc2UpO1xuICAgIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIExvYWRTdG9yYWdlKCk6IFByb21pc2U8dm9pZD5cbntcbiAgICAvLyBFbnN1cmUgdGhlIHBsYXllciBpcyBsb2FkZWQgYmVmb3JlIGF0dGVtcHRpbmcgdG8gcmVhZCB0aGUgZXh0ZW50aW9uIHNldHRpbmdzXG4gICAgYXdhaXQgQXdhaXRQbGF5ZXIoKTtcblxuICAgIGNvbnN0IHNldHRpbmdzOiBNUEFSZWNvcmRzID0gSlNPTi5wYXJzZShMWlN0cmluZy5kZWNvbXByZXNzRnJvbUJhc2U2NChQbGF5ZXIuRXh0ZW5zaW9uU2V0dGluZ3M/Lk1QQSA/PyBcIlwiKSA/PyBcInt9XCIpID8/IHt9O1xuXG4gICAgT2JqZWN0LmVudHJpZXMoY3VycmVudFNldHRpbmdzKS5mb3JFYWNoKChjYXRlZ29yeSkgPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IFtzZXR0aW5nVGl0bGUsIGNhdGVnb3J5U2V0dGluZ3NdID0gY2F0ZWdvcnkgYXMgW01vZHVsZVRpdGxlLCBNUEFDYXRlZ29yeVNldHRpbmdzXTtcbiAgICAgICAgZm9yIChjb25zdCBbc2V0dGluZ05hbWUsIHNldF0gb2YgT2JqZWN0LmVudHJpZXMoY2F0ZWdvcnlTZXR0aW5ncykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgcGxhY2UgZm9yIGRhdGEgaWYgaXQgZG9lcyBub3QgZXhpc3RcbiAgICAgICAgICAgIGlmICghKHNldHRpbmdUaXRsZSBpbiBzZXR0aW5ncykpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2V0dGluZ3Nbc2V0dGluZ1RpdGxlXSA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2V0dGluZyBhbHJlYWR5IHNldFxuICAgICAgICAgICAgaWYgKHNldHRpbmdOYW1lIGluIHNldHRpbmdzW3NldHRpbmdUaXRsZV0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXR0aW5nc1tzZXR0aW5nVGl0bGVdW3NldHRpbmdOYW1lXSA9IHNldC52YWx1ZTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gQ2hlY2sgYW5kIG5vdGlmeSBpZiB0aGVyZSBpcyBhbiB1cGRhdGVcbiAgICBNUEFVcGRhdGVDaGVjayhzZXR0aW5ncyk7XG5cbiAgICBQbGF5ZXIuTVBBID0gc2V0dGluZ3M7XG4gICAgcmV0dXJuO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gU2F2ZVN0b3JhZ2Uoc3luY1dpdGhPdGhlcnM6IGJvb2xlYW4gPSB0cnVlKTogdm9pZFxue1xuICAgIGlmKCFQbGF5ZXIuTVBBKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBQcnVuZSBzZWxmIGZyb20gb3duZXIgbGlzdCBpZiBhZGRlZFxuICAgIFBsYXllci5NUEFbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XS5vd25lcnMgPVxuICAgICAgICAoUGxheWVyLk1QQVtNb2R1bGVUaXRsZS5BdXRob3JpdHldLm93bmVycyBhcyBzdHJpbmcpLnNwbGl0KFwiLFwiKVxuICAgICAgICAgICAgLmZpbHRlcigodmFsKSA9PiBOdW1iZXIodmFsKSAhPT0gUGxheWVyLk1lbWJlck51bWJlcikuam9pbihcIixcIik7XG4gICAgUGxheWVyLkV4dGVuc2lvblNldHRpbmdzLk1QQSA9IExaU3RyaW5nLmNvbXByZXNzVG9CYXNlNjQoSlNPTi5zdHJpbmdpZnkoUGxheWVyLk1QQSkpO1xuICAgIFNlcnZlclBsYXllckV4dGVuc2lvblNldHRpbmdzU3luYyhcIk1QQVwiKTtcbiAgICBpZiAoc3luY1dpdGhPdGhlcnMpXG4gICAge1xuICAgICAgICBTZXR0aW5nU3luYyhmYWxzZSk7XG4gICAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUmVzZXRTdG9yYWdlKCk6IFByb21pc2U8dm9pZD5cbntcbiAgICBkZWxldGUgKFBsYXllci5FeHRlbnNpb25TZXR0aW5ncyBhcyBhbnkpLk1QQTtcbiAgICBQbGF5ZXIuRXh0ZW5zaW9uU2V0dGluZ3MuTVBBID0gTFpTdHJpbmcuY29tcHJlc3NUb0Jhc2U2NChKU09OLnN0cmluZ2lmeSh7IHZlcnNpb246IE1QQV9WRVJTSU9OIH0pKTtcbiAgICBhd2FpdCBMb2FkU3RvcmFnZSgpO1xuICAgIFNhdmVTdG9yYWdlKCk7XG4gICAgcmV0dXJuO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gRXhwb3J0U2V0dGluZ3NUb0NsaXBib2FyZCgpOiBQcm9taXNlPHZvaWQ+XG57XG4gICAgcmV0dXJuIG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KExaU3RyaW5nLmNvbXByZXNzVG9CYXNlNjQoSlNPTi5zdHJpbmdpZnkoUGxheWVyLk1QQSkpKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEltcG9ydFNldHRpbmdzRnJvbUNsaXBib2FyZCgpOiBQcm9taXNlPHZvaWQ+XG57XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+XG4gICAge1xuICAgICAgICBuYXZpZ2F0b3IuY2xpcGJvYXJkLnJlYWRUZXh0KCkudGhlbigodGV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgdHJ5XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3U2V0dGluZ3M6IE1QQVJlY29yZHMgPSBKU09OLnBhcnNlKExaU3RyaW5nLmRlY29tcHJlc3NGcm9tQmFzZTY0KHRleHQgPz8gXCJcIikgPz8gXCJ7fVwiKTtcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYSBsb2NhbGx5IGNvcHkgdG8gbW9kaWZ5IGluIGNhc2UgaXQgZmFpbHMgYW5kIG5lZWQgdG8gcmV2ZXJ0XG4gICAgICAgICAgICAgICAgLy8gVHJhbnNhY3Rpb24gaGFwcGVucyBvciBub3QgYXQgYWxsXG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFNldHRpbmdzOiBNUEFSZWNvcmRzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShQbGF5ZXIuTVBBKSk7XG5cbiAgICAgICAgICAgICAgICAvLyBWaXJ0dWFsIHBldCBsZXZlbHMgd2lsbCBiZSByZXBsYWNlZCBhbnl3YXksIHNldCBjdXJyZW50IHRpbWUgc28gbm93IHRvIG5vdCBpbnRlcmZlciB3aXRoIHN5bmNpbmcgbGF0ZXJcbiAgICAgICAgICAgICAgICBjdXJyZW50U2V0dGluZ3NbTW9kdWxlVGl0bGUuVmlydHVhbFBldF0ubGV2ZWxzLmxhc3RVcGRhdGVkID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgICAgICBjdXJyZW50U2V0dGluZ3NbTW9kdWxlVGl0bGUuVmlydHVhbFBldF0ubGV2ZWxzLmxhc3RPbmxpbmUgPSBEYXRlLm5vdygpO1xuXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbmV3U2V0dGluZ3MpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV3U2V0dGluZ3Nba2V5XSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IHVwZGF0ZSB0aGUgdmFsdWUgaWYgdGhlIG5ld1JlY29yZCBrZXkgZXhpc3RzIGFuZCBpcyBub3QgdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2V0dGluZ3Nba2V5IGFzIGtleW9mIE1QQVJlY29yZHNdID0gbmV3U2V0dGluZ3Nba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFZlcmlmeSBuZXcgc2V0dGluZ3MgYXJlIGdvb2RcbiAgICAgICAgICAgICAgICAvLyBJZiBiYWQgZGF0YSAgcmV0dXJuIHJlamVjdCgpO1xuXG4gICAgICAgICAgICAgICAgLy8gU2V0IHRoZSBsZXZlbHMgdXBkYXRlIHNvIHRoYXQgdGhleSByZXRhaW4gdGhlIHNhbWUgdmFsdWUgd2hlbiBzYXZlZCBhZnRlciBzeW5jaW5nIGFnYWluXG4gICAgICAgICAgICAgICAgY3VycmVudFNldHRpbmdzW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdLmxldmVscy5sYXN0VXBkYXRlZCA9IERhdGUubm93KCkgLSAoY3VycmVudFNldHRpbmdzW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdLmxldmVscy5sYXN0T25saW5lIC0gY3VycmVudFNldHRpbmdzW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdLmxldmVscy5sYXN0VXBkYXRlZCk7XG4gICAgICAgICAgICAgICAgY3VycmVudFNldHRpbmdzW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdLmxldmVscy5sYXN0T25saW5lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgICAgICBQbGF5ZXIuTVBBID0gY3VycmVudFNldHRpbmdzO1xuICAgICAgICAgICAgICAgIExldmVsU3luYyhmYWxzZSwgZmFsc2UsIGZhbHNlKTtcblxuICAgICAgICAgICAgICAgIFNhdmVTdG9yYWdlKHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihlcnJvcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSgpO1xuICAgICAgICB9LCAoKSA9PiByZWplY3QoKSk7XG4gICAgfSk7XG59XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiaW1wb3J0IHsgUmVnaXN0ZXJNb2R1bGVzIH0gZnJvbSBcIi4vdXRpbC9yZWdpc3Rlck1vZHVsZXNcIjtcbmltcG9ydCB7IEJ1aWxkQWxsQ29tbWFuZHMgfSBmcm9tIFwiLi9jb21tYW5kcy9idWlsZEFsbENvbW1hbmRzXCI7XG5pbXBvcnQgeyBNUEFfVkVSU0lPTiB9IGZyb20gXCIuL3V0aWwvY29uc3RhbnRzXCI7XG5cbi8vIFRlc3RpbmcgZm9yIExvY2FsaXphdGlvbiwgZW5zdXJpbmcgYWxsIGZpZWxkcyBpbiB0aGUgdGVtcGxhdGVcbi8vIGltcG9ydCB7IFNldHRpbmdUZXN0IH0gZnJvbSBcIi4vX3Rlc3RzL3NldHRpbmdzTGFiZWxzXCI7XG4vLyBTZXR0aW5nVGVzdCgpO1xuLy8gaW1wb3J0IHsgQWN0aXZpdGllc1Rlc3QgfSBmcm9tIFwiLi9fdGVzdHMvYWN0aXZpdGllc1RleHRcIjtcbi8vIEFjdGl2aXRpZXNUZXN0KCk7XG5cbmNvbnNvbGUubG9nKFwiTG9hZGluZyBNYXlhJ3MgUGV0cGxheSBBZGRpdGlvbnNcIik7XG5cbkJ1aWxkQWxsQ29tbWFuZHMoKTtcblJlZ2lzdGVyTW9kdWxlcygpO1xud2luZG93Lk1QQSA9IHtcbiAgICB2ZXJzaW9uOiBNUEFfVkVSU0lPTixcbiAgICBtZW51TG9hZGVkOiBmYWxzZVxufTtcbiJdLCJuYW1lcyI6WyJvIiwiZSIsImFsZXJ0IiwiRXJyb3IiLCJjb25zb2xlIiwiZXJyb3IiLCJ0IiwiVGV4dEVuY29kZXIiLCJuIiwiQXJyYXkiLCJpc0FycmF5IiwiciIsIlNldCIsImZpbHRlciIsImhhcyIsImFkZCIsImkiLCJNYXAiLCJhIiwiYyIsIndhcm4iLCJzIiwiZiIsInZhbHVlcyIsInBhdGNoaW5nIiwiZ2V0IiwibmFtZSIsInB1c2giLCJob29rcyIsInBhdGNoZXMiLCJlbnRyaWVzIiwic2V0Iiwic29ydCIsInByaW9yaXR5Iiwic2l6ZSIsInRvU3RyaW5nIiwicmVwbGFjZUFsbCIsImluY2x1ZGVzIiwiZXZhbCIsIm9yaWdpbmFsIiwibSIsImVycm9yUmVwb3J0ZXJIb29rcyIsImhvb2tDaGFpbkV4aXQiLCJjYWxsIiwiYXBwbHkiLCJ0aGlzIiwibGVuZ3RoIiwiaG9va0VudGVyIiwibW9kIiwiaG9vayIsImFyZ3VtZW50cyIsInBhdGNoZXNTb3VyY2VzIiwiZW50ZXIiLCJmaW5hbCIsImwiLCJwcmVjb21wdXRlZCIsIndpbmRvdyIsInNwbGl0Iiwic2xpY2UiLCJqb2luIiwiZW5jb2RlIiwicGFkU3RhcnQiLCJ0b1VwcGVyQ2FzZSIsImQiLCJvcmlnaW5hbEhhc2giLCJPYmplY3QiLCJhc3NpZ24iLCJyb3V0ZXIiLCJjb250ZXh0IiwiY29udGV4dFByb3BlcnR5IiwicCIsInNka0VudHJ5cG9pbnQiLCJjdXJyZW50RW50cnlwb2ludCIsImhvb2tlZEJ5TW9kcyIsIm1hcCIsInBhdGNoZWRCeU1vZHMiLCJmcm9tIiwidSIsImRlbGV0ZSIsImxvYWRlZCIsImciLCJmdWxsTmFtZSIsInZlcnNpb24iLCJyZXBvc2l0b3J5IiwiYWxsb3dSZXBsYWNlIiwiYXBpRW5kcG9pbnRFbnRlciIsInVubG9hZCIsImhvb2tGdW5jdGlvbiIsImluZGV4T2YiLCJzcGxpY2UiLCJwYXRjaEZ1bmN0aW9uIiwicmVtb3ZlUGF0Y2hlcyIsImNsZWFyIiwiY2FsbE9yaWdpbmFsIiwiZ2xvYmFsVGhpcyIsImdldE9yaWdpbmFsSGFzaCIsImFwaSIsImZyZWV6ZSIsImgiLCJ5IiwiYmNNb2RTZGsiLCJhcGlWZXJzaW9uIiwicmVnaXN0ZXJNb2QiLCJnZXRNb2RzSW5mbyIsImdldFBhdGNoaW5nSW5mbyIsInNlYWwiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIkJlZCIsIkNvbW1hbmRDb21iaW5lIiwiVGFnIiwiRGVzY3JpcHRpb24iLCJBY3Rpb24iLCJJbnZlbnRvcnlHZXQiLCJQbGF5ZXIiLCJOb3RpZnlQbGF5ZXIiLCJoYWlyQ29sb3IiLCJDb2xvciIsIkludmVudG9yeVdlYXIiLCJDaGF0Um9vbUNoYXJhY3Rlckl0ZW1VcGRhdGUiLCJTZW5kQWN0aW9uIiwidW5kZWZpbmVkIiwiU291cmNlQ2hhcmFjdGVyIiwiTWVtYmVyTnVtYmVyIiwiYmVkIiwiQXNzZXQiLCJOYW1lIiwiUHJvcGVydHkiLCJUeXBlUmVjb3JkIiwidHlwZWQiLCJOdW1iZXIiLCJDaGF0Um9vbUNoYXJhY3RlclVwZGF0ZSIsIkJ1aWxkQWxsQ29tbWFuZHMiLCJ0cmFuc2xhdGlvbnMiLCJ0ZW1wbGF0ZSIsIlJVIiwiTG9jYWxpemVkVGV4dCIsInRleHQiLCJ0cmFuc2xhdGVkVGV4dCIsIlRyYW5zbGF0aW9uTGFuZ3VhZ2UiLCJNb2R1bGVUaXRsZSIsIk1vZHVsZSIsIlRpdGxlIiwiVW5rbm93biIsIkFjdGl2aXRpZXMiLCJTZXR0aW5ncyIsIlN5bmNMaXN0ZW5lcnMiLCJMb2FkIiwiQ3JlYXRlQWN0aXZpdGllcyIsIkFkZERhdGFTeW5jTGlzdGVuZXJzIiwiVW5sb2FkIiwiUmVtb3ZlSG9va3MiLCJSZW1vdmVBY3Rpdml0aWVzIiwiUmVtb3ZlRGF0YVN5bmNMaXN0ZW5lcnMiLCJSZWxvYWQiLCJBY3Rpdml0aWVzTW9kdWxlIiwiTWF4UHJvZ3Jlc3MiLCJQcmVyZXF1aXNpdGUiLCJDdXN0b21QcmVyZXF1aXNpdGUiLCJfYWN0aW5nIiwiYWN0ZWQiLCJfZ3JvdXAiLCJUYXJnZXRzIiwiZ3JvdXAiLCJsYWJlbCIsImFjdGlvblNlbGYiLCJhY3Rpb25PdGhlcnMiLCJJbWFnZSIsIk9uVHJpZ2dlciIsIkF1ZGlvU2V0dGluZ3MiLCJQbGF5SXRlbSIsIkJFTExfU09VTkQiLCJwbGF5IiwiT25SZWNlaXZlIiwic291cmNlIiwidGFyZ2V0IiwiX2RhdGEiLCJQbGF5SXRlbVBsYXllck9ubHkiLCJzdXBlciIsIkhvb2tGdW5jdGlvbiIsImFyZ3MiLCJuZXh0IiwicHJlcmVxIiwiYWN0aW5nIiwia2V5cyIsImFjdGl2aXR5UHJlcmVxdWlzaXRlcyIsImRhdGEiLCJUeXBlIiwiYWN0aXZpdHlOYW1lIiwiRGljdGlvbmFyeSIsImZpbmQiLCJ4IiwiQWN0aXZpdHlOYW1lIiwic3RhcnRzV2l0aCIsIkFDVElWSVRZX05BTUVfUFJFRklYIiwiQ29udGVudCIsIlRleHQiLCJBY3Rpdml0eURpY3Rpb25hcnlUZXh0IiwiYWN0aXZpdHlUcmlnZ2VycyIsInRhcmdldE51bWJlciIsIlRhcmdldENoYXJhY3RlciIsIkNoYXRSb29tQ2hhcmFjdGVyIiwiQ2xpY2tlciIsIkdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeSIsImFjdGl2aXR5UmVjZWl2ZWQiLCJzb3VyY2VDaGFyIiwiRmluZENoYXJhY3RlckluUm9vbSIsIk5pY2tOYW1lIiwidGFyZ2V0Q2hhciIsIkFjdGl2aXR5IiwiYWN0aXZpdHlJbWFnZXMiLCJpbWFnZSIsIlBsYXllclAiLCJDIiwiTVBBIiwiQXV0aG9yaXR5IiwiSXNIYXJkY29yZU9uIiwiaGFyZGNvcmUiLCJBdXRob3JpdHlNb2R1bGUiLCJ0eXBlIiwiYWN0aXZlIiwibWF4Q2hhcnMiLCJ3aWR0aCIsIm9wdGlvbnMiLCJBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUyIsImxvb3AiLCJvdGhlcnNQcm9maWxlIiwib25TZXQiLCJzZWxmUHJvZmlsZSIsIkFMTF9DTElDS1MiLCJBdWRpbyIsIlBsYXllckMiLCJDbGlja0NvdW50Iiwic3RyIiwidG90YWxDbGlja3MiLCJ0cmlnZ2VycyIsInRyaW0iLCJmb3JFYWNoIiwidHJpZ2dlciIsInRvTG9jYWxlTG93ZXJDYXNlIiwibWF0Y2giLCJSZWdFeHAiLCJQbGF5Q2xpY2tlclNvdW5kIiwibnVtYmVyT2ZDbGlja3MiLCJpc05hTiIsImVuYWJsZWQiLCJNYXRoIiwibWluIiwiYmN4SG9va2VkIiwiSG9va0JDWENsaWNrZXIiLCJiY3hGb3VuZCIsImJjeEFQSSIsIm9uIiwibWVzc2FnZSIsInByZWZpeCIsImJjeFZvaWNlIiwic3Vic3RyaW5nIiwiQ2xpY2tlck1vZHVsZSIsImhhc0JlZW5Mb2FkZWQiLCJfYWN0ZWQiLCJhdXRoZWRHcm91cCIsInNlbGZBdXRoZWQiLCJTZW5kZXIiLCJJc01lbWJlck51bWJlckluQXV0aEdyb3VwIiwiY2xpY2tzIiwiUmVtb3ZlT09DQ29udGVudEZyb21NZXNzYWdlIiwicmVkdWNlIiwiYWNjIiwiY3VyciIsImludmVydmFsIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwiU2V0dGluZ1N5bmMiLCJyZXBseSIsIlNlbmRNUEFNZXNzYWdlIiwic2V0dGluZ3MiLCJDYXRlZ29yeVN5bmMiLCJjYXRlZ29yeSIsIlJlY29yZFN5bmMiLCJyZWNvcmQiLCJSZWNvcmRzU3luYyIsInJlY29yZHMiLCJEYXRhU3luY01vZHVsZSIsIkRhdGFTeW5jIiwibW9kdWxlIiwiYWN0aW9uIiwic2VuZGVyIiwiY29udGVudCIsIkdldE1QQU1lc3NhZ2VGcm9tQ2hhdCIsImhvb2tlZE1lc3NhZ2VzIiwiUHJvZmlsZSIsIkdldFJlY29yZCIsInRpdGxlIiwiR0FSQkxFX1BIUkFTRVMiLCJIdW1hbiIsIkN1c3RvbSIsIkJ1bm55IiwiQ2F0IiwiQ293IiwiRG9nIiwiRm94IiwiTW91c2UiLCJQb255IiwiV29sZiIsIkdldEFsbG93ZWRQZXRHYXJibGVQaHJhc2VzIiwicHJvZmlsZSIsImJhbm5lZEJDWFdvcmRzIiwiZ2V0UnVsZVN0YXRlIiwiY3VzdG9tRGF0YSIsImJhbm5lZFdvcmRzIiwicGV0UGhyYXNlcyIsImJjeFNwZWFraW5nIiwibWFuZGF0b3J5V29yZHMiLCJnYXJibGVQaHJhc2VzIiwiR2V0UGV0R2FyYmxlUGhyYXNlcyIsIkZpbHRlckFycmF5RnJvbUFycmF5IiwiUEVUX0hFQVJJTkciLCJBbGwiLCJTZXRQcm9maWxlVHlwZSIsInByZXZWYWx1ZSIsImVsZUlEIiwiRWxlbWVudE5hbWUiLCJjdXN0b21HYXJibGVQaHJhc2VzIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsIkVsZW1lbnRWYWx1ZSIsIlNldEJDWFNwZWFrIiwid29yZHMiLCJQcm9maWxlTW9kdWxlIiwiX2NvbnRlbnQiLCJOaWNrbmFtZSIsInBldFNwZWFraW5nIiwiSXNQbGF5ZXIiLCJWaXJ0dWFsUGV0Iiwibm9IYW5kcyIsIlZpcnR1YWxQZXRDb25kaXRpb25zIiwiZm9vZE5PVyIsInRpbnQiLCJwYXNzb3V0IiwiYWZmZWN0aW9uU2tpbGxCdWZmcyIsImFmZmVjdGlvblNraWxsRGVidWZmcyIsImhlYXJpbmdMb3NzIiwic2xvd0xlYXZlIiwiU3BlZWNoVHJhbnNmb3JtQWxsRWZmZWN0cyIsImludGVuc2l0eSIsImlnbm9yZU9PQyIsIklzR2FnZ2VkIiwiSXNEZWFmIiwicGV0SGVhcmluZyIsIkFwcGx5UGV0SGVhcmluZyIsImNvbmNhdCIsIkdldFBldEhlYXJpbmdQaHJhc2VzIiwibXNnIiwiQ29tbWFuZHNLZXkiLCJjaGFyQXQiLCJOb25EaXNydXB0aXZlUGV0U3BlZWNoIiwidHJhbnNmb3JtIiwic2V0dGluZ3NFZGl0ZWQiLCJzZXR0aW5nQ2hhciIsIlNldFNldHRpbmdDaGFyIiwiY2hhcmFjdGVyIiwiQ0FOVkFTX1dJRFRIIiwiRVhJVF9QT1NJU1RJT04iLCJCVVRUT05fTUFYX05VTUJFUiIsIkJVVFRPTl9XSURUSCIsIkJVVFRPTl9IRUlHSFQiLCJCVVRUT05fVE9QIiwiQlVUVE9OX0xFRlQiLCJCVVRUT05fR0FQIiwiQlVUVE9OX1RFWFRfUEFERElORyIsIldJS0lfUE9TSVRJT04iLCJXSUtJX0xJTksiLCJSRVNFVF9QT1NJVElPTiIsIkFMRVJUX1BPU0lUSU9OIiwic2hvd1NldHRpbmdzQWxlcnQiLCJzZXR0aW5nc0FsZXJ0VGV4dCIsIklNUE9SVF9QT1NJVElPTiIsIkVYUE9SVF9QT1NJVElPTiIsIlJFU0VUX0NPTkZJUk1fUE9TSVRJT04iLCJSRVNFVF9DQU5DRUxfUE9TSVRJT04iLCJNRU5VX0NBVEVHT1JJRVMiLCJWaXJ0dWFsUGV0SFVEIiwiTUVOVV9USVRMRVMiLCJjdXJyZW50TWVudSIsInNldHRpbmdzT3BlbiIsImFsbG93UmVzZXRUaW1lIiwiR2V0Q2xpY2tlZE1lbnUiLCJtZW51T3B0aW9ucyIsIk1vdXNlSW4iLCJmbG9vciIsIkRyYXdCdXR0b24iLCJPUFRJT05fUEVSX1BBR0UiLCJPUFRJT05fSEVJR0hUIiwiT1BUSU9OX1RPUCIsIk9QVElPTl9MRUZUIiwiT1BUSU9OX0dBUCIsIk9QVElPTl9DSEVDS0JPWF9TSVpFIiwiT1BUSU9OX0JBQ0tfTkVYVF9XSURUSCIsIk9QVElPTl9URVhUX1dJRFRIIiwiT1BUSU9OX1RFWFRfTUFYX0NIQVJTIiwiY3VycmVudFBhZ2UiLCJtYXhQYWdlcyIsIk5FWFRfQlVUVE9OX1BPUyIsIlBSRVZfQlVUVE9OX1BPUyIsIkRyYXdTdWJNZW51T3B0aW9ucyIsInN1Yk1lbnUiLCJzZXR0aW5nc1RvRGlzcGxheSIsImtleSIsInNldHRpbmciLCJJc0Rpc3BsYXlTZXR0aW5nIiwidmFsIiwic2V0dGluZ05hbWUiLCJkaXNhYmxlZFNldHRpbmciLCJDYW5JbnRlcmFjdCIsImJvdW5kQWNjZXNzU2VsZiIsImJvdW5kQWNjZXNzT3RoZXJzIiwiSXNDaGVja2JveFNldHRpbmciLCJEcmF3Q2hlY2tib3giLCJHZXRQcm9ub3VucyIsIklzT3B0aW9uU2V0dGluZyIsImluZGV4Iiwib3B0TGVuIiwicHJvZmlsZU9yRXhjbHVkZXMiLCJwcmV2RGlzYWJsZWQiLCJBdXRob3JpdHlJc0NvbXBhcmlzb25Ub0NoYXJhY3RlciIsIm5leHREaXNhYmxlZCIsIkRyYXdCYWNrTmV4dEJ1dHRvbiIsIkRyYXdUZXh0Rml0IiwiY2VpbCIsIklzVGV4dFNldHRpbmciLCJJc051bWJlclNldHRpbmciLCJpZCIsIkVsZW1lbnRQb3NpdGlvbkZpeGVkIiwiRWxlbWVudFNldEF0dHJpYnV0ZSIsIkVsZW1lbnRSZW1vdmVBdHRyaWJ1dGUiLCJFeGl0QnV0dG9uUHJlc3NlZCIsIm1lbnVMb2FkZWQiLCJQcmVmZXJlbmNlTWVudUV4aXQiLCJVcGRhdGVBbmREZWxldGVIVE1MRWxlbWVudHMiLCJQcmVmZXJlbmNlTWVudUNsaWNrIiwib3BlbiIsImZvY3VzIiwiRGF0ZSIsIm5vdyIsIkltcG9ydFNldHRpbmdzRnJvbUNsaXBib2FyZCIsInRoZW4iLCJmaW5hbGx5IiwiRXhwb3J0U2V0dGluZ3NUb0NsaXBib2FyZCIsIkNyZWF0ZUhUTUxFbGVtZW50cyIsIkdldENsaWNrZWRPcHRpb24iLCJSZXNldFN0b3JhZ2UiLCJSZXNldE1lbnVDbGljayIsIlByZWZlcmVuY2VNZW51UnVuIiwicHJldlRleHRBbGlnbiIsIk1haW5DYW52YXMiLCJ0ZXh0QWxpZ24iLCJEcmF3VGV4dCIsIlJlc2V0TWVudVJ1biIsIkRyYXdNZW51T3B0aW9ucyIsIkxldmVsU3luYyIsIlNhdmVTdG9yYWdlIiwiUHJlZmVyZW5jZVN1YnNjcmVlbkV4dGVuc2lvbnNDbGVhciIsIlBsYXllclByZWZlcmVuY2VNZW51TG9hZCIsInBhZ2UiLCJFbGVtZW50Q3JlYXRlSW5wdXQiLCJtYXgiLCJzdGVwIiwiRWxlbWVudFJlbW92ZSIsIlNldHRpbmdzTW9kdWxlIiwiRXNjYXBlSGFuZGxlciIsImV2ZW50Iiwic3RvcFByb3BhZ2F0aW9uIiwiUHJlZmVyZW5jZVJlZ2lzdGVyRXh0ZW5zaW9uU2V0dGluZyIsIklkZW50aWZpZXIiLCJCdXR0b25UZXh0IiwiSUNPTlMiLCJQQVciLCJjbGljayIsInJ1biIsImV4aXQiLCJsb2FkIiwiYWRkRXZlbnRMaXN0ZW5lciIsIk1QQV9SRU1PVEUiLCJNUEFfUkVNT1RFX0JDWCIsIkFycmF5c0VxdWFsIiwiYXJyMSIsImFycjIiLCJldmVyeSIsIk9iamVjdERpZmZlcmVuY2VzIiwib2xkT2JqIiwibmV3T2JqIiwiZGlmZmVyZW5jZXMiLCJvbGQiLCJuZXciLCJvbGRWYWx1ZSIsIm5ld1ZhbHVlIiwiZGlmZiIsIlNldHRpbmdzT3RoZXJNb2R1bGUiLCJTZXR0aW5nc090aGVyIiwidnBFbmFibGVkIiwiY2hhbmdlZFNldHRpbmdzIiwibGV2ZWxzIiwicHJldmlvdXNBdXRob3JpdHkiLCJKU09OIiwicGFyc2UiLCJzdHJpbmdpZnkiLCJuZXdBdXRob3JpdHkiLCJlbnRyeSIsIm1vZHVsZURpZmYiLCJsYXN0VXBkYXRlZCIsIk1QQU5vdGlmeVBsYXllciIsInJlcGxhY2UiLCJBcnJheVRvUmVhZGFibGVTdHJpbmciLCJiY3giLCJpbkJjeFN1YnNjcmVlbiIsIkxTQ0dfUkVNT1RFX1dJTkRPV19PUEVOIiwiY2hhciIsIkluZm9ybWF0aW9uU2hlZXRTZWxlY3Rpb24iLCJhY2Nlc3MiLCJTZXJ2ZXJDaGF0Um9vbUdldEFsbG93SXRlbSIsIk1BWF9TRVRUSU5HX1RJTUVfSE9VUlMiLCJQbGF5ZXJWUCIsIkJPV0xfQ09OU1VNRV9SRUNPVkVSWSIsIkFDVElWSVRJRVNfRk9PRF9HQUlOIiwiQUNUSVZJVElFU19XQVRFUl9HQUlOIiwiRU1PVElDT05TX1NMRUVQIiwiQkVEX1BFUkZFQ1QiLCJCRURfTk9STUFMIiwiQkVEX0JBRCIsIkFGRkVDVElPTl9BQ1RJVklUWV9MT1ZFIiwiQUZGRUNUSU9OX0FDVElWSVRZX0xJS0UiLCJBRkZFQ1RJT05fQUNUSVZJVFlfTUFTTyIsIkFGRkVDVElPTl9aT05FX0FGRkVDVElPTiIsIkl0ZW1Bcm1zIiwiSXRlbUJvb3RzIiwiSXRlbUJyZWFzdCIsIkl0ZW1CdXR0IiwiSXRlbUVhcnMiLCJJdGVtRmVldCIsIkl0ZW1IYW5kcyIsIkl0ZW1IZWFkIiwiSXRlbUxlZ3MiLCJJdGVtTW91dGgiLCJJdGVtTmVjayIsIkl0ZW1OaXBwbGVzIiwiSXRlbU5vc2UiLCJJdGVtUGVsdmlzIiwiSXRlbVRvcnNvIiwiSXRlbVZ1bHZhIiwiSXRlbVZ1bHZhUGllcmNpbmdzIiwiTUlOX09GRkxJTkVfRFJBSU5fTEVWRUwiLCJsYXN0T25saW5lSW50ZXJ2YWwiLCJJc1NsZWVwaW5nRXhwcmVzc2lvbiIsIkFwcGVhcmFuY2UiLCJHcm91cCIsIkV4cHJlc3Npb24iLCJJc0JlZE11bHRpcGxpZXIiLCJkZXZpY2UiLCJwbGF5ZXJTbGVlcGluZ0V4cHJlc3Npb24iLCJwbGF5ZXJCZWRNdWx0aXBsaWVyIiwiU2xlZXBDaGFuZ2VDaGVjayIsInN5bmMiLCJzbGVlcEhvdXJzIiwiSG91clRvTVMiLCJob3VycyIsIkNhbGN1bGF0ZUN1cnJlbnRWYWx1ZSIsImR1cmF0aW9uIiwibGFzdE9ubGluZSIsImZpcnN0UnVuQ2hlY2siLCJjdXJyZW50VmFsdWUiLCJkaWZmMiIsIm5ld1ZhbHVlMiIsIkdldENoYXJhY3RlckN1cnJlbnRTdGF0VmFsdWUiLCJzdGF0IiwiY2hhclN0YXRzIiwibHZsIiwic2xlZXAiLCJwdXNoVG9TdG9yYWdlIiwicmVjb3JkU3luYyIsImZpcnN0U3luYyIsInVwZGF0ZSIsIm9ubGluZSIsIm9mZmxpbmVEcmFpbiIsImZvb2QiLCJmb29kSG91cnMiLCJ3YXRlciIsIndhdGVySG91cnMiLCJkdXJhdGlvblRvVXNlIiwibmV3U2xlZXAiLCJhZmZlY3Rpb24iLCJhZmZlY3Rpb25Ib3VycyIsIk1vZGlmeVN0YXQiLCJhbW91bnQiLCJhcHBseU1vZGlmaWVyIiwic3RvcmFnZVB1c2giLCJtb2RpZmllciIsIklzT3duZXIiLCJJc0xvdmVyT2ZQbGF5ZXIiLCJJc0ZhbWlseU9mUGxheWVyIiwiQ2FuVGFsayIsIkR5bmFtaWNHcm91cE5hbWUiLCJQb3NlTWFwcGluZyIsIkJvZHlGdWxsIiwibnVtcyIsInN1bSIsIm51bSIsIlN0YXRNb2RpZmllciIsImxldmVsIiwiVmVyaWZ5VmFsaWRTdGF0IiwiVmlydHVhbFBldE1vZHVsZSIsIklzTW91dGhCbG9ja2VkIiwiYWN0aXZpdHkiLCJBY3Rpdml0eUZlbWFsZTNEQ0ciLCJzb21lIiwiZ3JvdXBNdWx0IiwibWFzb2NoaXN0IiwiUGxheWVyVlBDIiwiQ29uZGl0aW9uSXNFbmZvcmNlZCIsImNvbmRpdGlvbiIsInZwU3RhdE5lZWRUb0JlRW5hYmxlZCIsIkFGRkVDVElPTl9TS0lMTFMiLCJwcmV2aW91c1N0YXRzIiwib25TdGF0TGV2ZWwiLCJzdGF0Q291bnQiLCJDb25kaXRpb25DaGVjayIsImN1cnJWYWx1ZSIsImNoYW5nZUV2ZW50IiwiZmlyc3RSdW4iLCJjaGFuZ2UiLCJ0aHJlc2hob2xkIiwiU0xFRVBfVElOVCIsInBhc3NlZE91dCIsIlBBU1NPVVRfVEFMS19SRVBMQUNFIiwiTVBBUGFzc291dCIsIkNoYXJhY3RlclNldEZhY2lhbEV4cHJlc3Npb24iLCJDYW5LbmVlbCIsIlBvc2VTZXRBY3RpdmUiLCJzbGVlcE1vZHVsZSIsIkxTQ0ciLCJTdGF0ZU1vZHVsZSIsInN0YXRlcyIsInBhc3NvdXRMU0NHIiwibG9nIiwiUGFzc291dENoZWNrIiwiYWZmZWN0aW9uQ2hlY2tJbnRlcnZhbCIsIkFmZmVjdGlvblNraWxsQ2hlY2siLCJza2lsbCIsImFmZmVjdGlvbk1vZGlmaWVyIiwicm91bmQiLCJwcmV2TW9kIiwiU2tpbGxHZXRNb2RpZmllciIsIlNraWxsR2V0TW9kaWZpZXJEdXJhdGlvbiIsIlNraWxsU2V0TW9kaWZpZXIiLCJWaXJ0dWFsUGV0Q29uZGl0aW9uc01vZHVsZSIsInNjYWxlZFZhbHVlIiwiYiIsInNxcnQiLCJSYW5kb21FbGVtZW50IiwiR2FtZXBsYXlTZXR0aW5ncyIsIlNlbnNEZXBDaGF0TG9nIiwiZGVhZkxldmVsIiwiU2tpbGxNb2RpZmllck1heCIsInNraWxsRHVyYXRpb25NUyIsInByZXZTbG93IiwiQ2hhdFJvb21TbG93dGltZXIiLCJjdXJyRm9vZCIsIkN1cnJlbnRUaW1lIiwiQ2hhdFJvb21TbG93TGVhdmVNaW5UaW1lIiwiUGxheWVyVlBIVUQiLCJWUF9TVEFUX0NPTE9SX0RJQ1QiLCJEcmF3U3RhdENpcmNsZSIsInJhZGl1cyIsImNvbG9yIiwiYmVnaW5QYXRoIiwiYXJjIiwiUEkiLCJsaW5lV2lkdGgiLCJzdHJva2VTdHlsZSIsInN0cm9rZSIsImxpbmVUbyIsImZpbGxTdHlsZSIsImZpbGwiLCJleGFjdFN0YXRzIiwiZm9udCIsIkNvbW1vbkdldEZvbnQiLCJmaWxsVGV4dCIsIlZpcnR1YWxQZXRIVURNb2R1bGUiLCJvdGhlcnMiLCJ6b29tIiwiQWN0aXZpdHlBbGxvd2VkIiwic2VsZiIsImNoYXJhY3RlclZQU3RhdHMiLCJzdGF0cyIsInBvcyIsInBvc2l0aW9uIiwicmV2ZXJzZSIsInN0YXRMZW4iLCJjb2xzIiwiY29sIiwic3RhdEluZGV4IiwiRHJhd1ZpcnVhbFBldEh1ZCIsIkNyZWF0ZUFjdGl2aXR5IiwiY3VzdG9tQWN0aXZpdHkiLCJBY3Rpdml0eUlEIiwiVGFyZ2V0IiwiY3VzdG9tUHJlcmVxdWlzaXRlcyIsIm5ld1ByZXJlcXVpc2l0ZSIsIlRhcmdldFNlbGYiLCJBY3Rpdml0eURpY3Rpb25hcnkiLCJBY3Rpdml0eUZlbWFsZTNEQ0dPcmRlcmluZyIsImN1c3RvbUFjdGl2aXRpZXMiLCJSZW1vdmVBY3Rpdml0eSIsIkFVVEhPUklUWV9HUk9VUF9QUklPX09SREVSIiwiQVVUSE9SSVRZX0dST1VQUyIsIlNlbGYiLCJDbHVib3duZXIiLCJPd25lcnNoaXAiLCJPd25lcnMiLCJvd25lcnMiLCJwYXJzZUludCIsIkxvdmVycyIsIkxvdmVyc2hpcCIsImxvdmVyIiwiV2hpdGVMaXN0IiwiRnJpZW5kTGlzdCIsIm1lbWJlck51bWJlciIsImF1dGhHcm91cCIsImFsbG93U2VsZiIsIkJsYWNrTGlzdCIsIkdob3N0TGlzdCIsImF1dGhDaGVjayIsIkhpZ2hlc3RMZXZlbEF1dGhvcml0eUdyb3VwIiwiY29tcGFyaXNvbiIsInJhbmsiLCJncm91cEluZGV4IiwicmFua0luZGV4IiwiTVBBX05BTUUiLCJ0b0xvY2FsZVVwcGVyQ2FzZSIsIk1QQV9WRVJTSU9OIiwiTVBBX1JFUE8iLCJJTlZPTFVOVEFSWV9QRVRfU1BFQUtfUEVSQ0VOVEFHRSIsIklOVk9MVU5UQVJZX1JVU0hFRF9TUEVBS19QRVJDRU5UQUdFIiwiSU5WT0xVTlRBUllfRU5EX1BFVF9TUEVBS19QRVJDRU5UQUdFIiwiYXJyYXkiLCJyYW5kb20iLCJmaWx0ZXJBcnJheSIsIm5ld0FycmF5Iiwic3RydWN0dXJlZENsb25lIiwiZWxlIiwiYmFkRWxlIiwiU2h1ZmZsZUFycmF5IiwiaiIsIkNvbnRlbnRJc01QQU1lc2FnZSIsIlNlcnZlclNlbmQiLCJkaWN0aW9uYXJ5IiwiU2VuZEVtb3RlIiwidGltZW91dCIsImRhcmtUaGVtZSIsIkNoYXRTZXR0aW5ncyIsIkNvbG9yVGhlbWUiLCJDaGF0Um9vbVNlbmRMb2NhbCIsInNlYXJjaCIsIlNwZWVjaEdldE9PQ1JhbmdlcyIsInJhbmdlIiwic3RhcnQiLCJBZGREYXRhU3luY0xpc3RlbmVyIiwibGlzdGVuZXIiLCJsaXN0ZW5lcnMiLCJHZXRFbnRyeUZyb21DaGF0RGljdGlvbmFyeSIsImF0dHJpYnV0ZSIsIl9lcnJvciIsImFyciIsIkFwcGVuZFBldFNwZWVjaCIsInBldFNvdW5kIiwidGVzdCIsInBocmFzZXNUb0tlZXAiLCJmb3VuZFBocmFzZXMiLCJwaHJhc2UiLCJyZWdFeHAiLCJtYXRjaEFsbCIsImxlbiIsInVuaXF1ZVJhbmdlcyIsIml0ZW0iLCJsYXN0SW5kZXgiLCJmaW5hbFRleHQiLCJmb3VuZCIsImFsbG93ZWRQZXRQaHJhc2VzIiwicGV0UGhyYXNlQnVja2V0IiwiR2V0UGV0UGhhc2UiLCJwb3AiLCJuZXh0SW5kZXgiLCJzZWdtZW50cyIsIm9vY1JhbmdlcyIsIm9vYyIsImxhc3RCaXQiLCJvYmoiLCJ0cmFpbGluZ1doaXRlc3BhY2UiLCJleGVjIiwic3Bva2VQZXQiLCJuZXdNc2ciLCJzZWdtZW50Iiwic3BsaXRQaHJhc2UiLCJwcmV2aW91c1dvcmQiLCJ3b3JkIiwibm9QcmV2IiwiZW5kc1dpdGgiLCJtb2R1bGVzUmVnaXN0ZXJlZCIsIm1vZHVsZXMiLCJhc3luYyIsIlJlZ2lzdGVyTW9kdWxlcyIsIm1vZFNldCIsIm5ld1NldHRpbmdzIiwiTG9hZFN0b3JhZ2UiLCJtb2RBUEkiLCJmdW5jdGlvbk5hbWUiLCJyZW1vdmVIb29rIiwiQXdhaXRQbGF5ZXIiLCJFeHRlbnNpb25TZXR0aW5ncyIsIlByb21pc2UiLCJyZXNvbHZlIiwiZ2V0TW9kQXBpIiwiTFpTdHJpbmciLCJkZWNvbXByZXNzRnJvbUJhc2U2NCIsInNldHRpbmdUaXRsZSIsImNhdGVnb3J5U2V0dGluZ3MiLCJTZXJ2ZXJBY2NvdW50QmVlcCIsIk1lbWJlck5hbWUiLCJDaGF0Um9vbVNwYWNlIiwiQ2hhdFJvb21OYW1lIiwiUHJpdmF0ZSIsIkJlZXBUeXBlIiwiTWVzc2FnZSIsIk1QQVVwZGF0ZUNoZWNrIiwic3luY1dpdGhPdGhlcnMiLCJjb21wcmVzc1RvQmFzZTY0IiwiU2VydmVyUGxheWVyRXh0ZW5zaW9uU2V0dGluZ3NTeW5jIiwibmF2aWdhdG9yIiwiY2xpcGJvYXJkIiwid3JpdGVUZXh0IiwicmVqZWN0IiwicmVhZFRleHQiLCJjdXJyZW50U2V0dGluZ3MiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImRlZmluaXRpb24iLCJlbnVtZXJhYmxlIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiU3ltYm9sIiwidG9TdHJpbmdUYWciXSwic291cmNlUm9vdCI6IiJ9