/*! For license information please see devBundle.js.LICENSE.txt */
(()=>{var e={"./node_modules/bondage-club-mod-sdk/dist/bcmodsdk.js":(e,t)=>{!function(){"use strict";const e="1.2.0";function o(e){alert("Mod ERROR:\n"+e);const t=new Error(e);throw console.error(t),t}const r=new TextEncoder;function n(e){return!!e&&"object"==typeof e&&!Array.isArray(e)}function i(e){const t=new Set;return e.filter((e=>!t.has(e)&&t.add(e)))}const a=new Map,l=new Set;function s(e){l.has(e)||(l.add(e),console.warn(e))}function u(e){const t=[],o=new Map,r=new Set;for(const n of v.values()){const i=n.patching.get(e.name);if(i){t.push(...i.hooks);for(const[t,a]of i.patches.entries())o.has(t)&&o.get(t)!==a&&s(`ModSDK: Mod '${n.name}' is patching function ${e.name} with same pattern that is already applied by different mod, but with different pattern:\nPattern:\n${t}\nPatch1:\n${o.get(t)||""}\nPatch2:\n${a}`),o.set(t,a),r.add(n.name)}}t.sort(((e,t)=>t.priority-e.priority));const n=function(e,t){if(0===t.size)return e;let o=e.toString().replaceAll("\r\n","\n");for(const[r,n]of t.entries())o.includes(r)||s(`ModSDK: Patching ${e.name}: Patch ${r} not applied`),o=o.replaceAll(r,n);return(0,eval)(`(${o})`)}(e.original,o);let i=function(t){var o,i;const a=null===(i=(o=p.errorReporterHooks).hookChainExit)||void 0===i?void 0:i.call(o,e.name,r),l=n.apply(this,t);return null==a||a(),l};for(let o=t.length-1;o>=0;o--){const r=t[o],n=i;i=function(t){var o,i;const a=null===(i=(o=p.errorReporterHooks).hookEnter)||void 0===i?void 0:i.call(o,e.name,r.mod),l=r.hook.apply(this,[t,e=>{if(1!==arguments.length||!Array.isArray(t))throw new Error(`Mod ${r.mod} failed to call next hook: Expected args to be array, got ${typeof e}`);return n.call(this,e)}]);return null==a||a(),l}}return{hooks:t,patches:o,patchesSources:r,enter:i,final:n}}function c(e,t=!1){let o=a.get(e);if(o)t&&(o.precomputed=u(o));else{let t=window;const i=e.split(".");for(let o=0;o<i.length-1;o++)if(t=t[i[o]],!n(t))throw new Error(`ModSDK: Function ${e} to be patched not found; ${i.slice(0,o+1).join(".")} is not object`);const l=t[i[i.length-1]];if("function"!=typeof l)throw new Error(`ModSDK: Function ${e} to be patched not found`);const s=function(e){let t=-1;for(const o of r.encode(e)){let e=255&(t^o);for(let t=0;t<8;t++)e=1&e?-306674912^e>>>1:e>>>1;t=t>>>8^e}return(~t>>>0).toString(16).padStart(8,"0").toUpperCase()}(l.toString().replaceAll("\r\n","\n")),c={name:e,original:l,originalHash:s};o=Object.assign(Object.assign({},c),{precomputed:u(c),router:()=>{},context:t,contextProperty:i[i.length-1]}),o.router=function(e){return function(...t){return e.precomputed.enter.apply(this,[t])}}(o),a.set(e,o),t[o.contextProperty]=o.router}return o}function d(){for(const e of a.values())e.precomputed=u(e)}function m(){const e=new Map;for(const[t,o]of a)e.set(t,{name:t,original:o.original,originalHash:o.originalHash,sdkEntrypoint:o.router,currentEntrypoint:o.context[o.contextProperty],hookedByMods:i(o.precomputed.hooks.map((e=>e.mod))),patchedByMods:Array.from(o.precomputed.patchesSources)});return e}const v=new Map;function h(e){v.get(e.name)!==e&&o(`Failed to unload mod '${e.name}': Not registered`),v.delete(e.name),e.loaded=!1,d()}function y(e,t){e&&"object"==typeof e||o("Failed to register mod: Expected info object, got "+typeof e),"string"==typeof e.name&&e.name||o("Failed to register mod: Expected name to be non-empty string, got "+typeof e.name);let r=`'${e.name}'`;"string"==typeof e.fullName&&e.fullName||o(`Failed to register mod ${r}: Expected fullName to be non-empty string, got ${typeof e.fullName}`),r=`'${e.fullName} (${e.name})'`,"string"!=typeof e.version&&o(`Failed to register mod ${r}: Expected version to be string, got ${typeof e.version}`),e.repository||(e.repository=void 0),void 0!==e.repository&&"string"!=typeof e.repository&&o(`Failed to register mod ${r}: Expected repository to be undefined or string, got ${typeof e.version}`),null==t&&(t={}),t&&"object"==typeof t||o(`Failed to register mod ${r}: Expected options to be undefined or object, got ${typeof t}`);const i=!0===t.allowReplace,a=v.get(e.name);a&&(a.allowReplace&&i||o(`Refusing to load mod ${r}: it is already loaded and doesn't allow being replaced.\nWas the mod loaded multiple times?`),h(a));const l=e=>{let t=m.patching.get(e.name);return t||(t={hooks:[],patches:new Map},m.patching.set(e.name,t)),t},s=(e,t)=>(...n)=>{var i,a;const l=null===(a=(i=p.errorReporterHooks).apiEndpointEnter)||void 0===a?void 0:a.call(i,e,m.name);m.loaded||o(`Mod ${r} attempted to call SDK function after being unloaded`);const s=t(...n);return null==l||l(),s},u={unload:s("unload",(()=>h(m))),hookFunction:s("hookFunction",((e,t,n)=>{"string"==typeof e&&e||o(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof e}`);const i=c(e),a=l(i);"number"!=typeof t&&o(`Mod ${r} failed to hook function '${e}': Expected priority number, got ${typeof t}`),"function"!=typeof n&&o(`Mod ${r} failed to hook function '${e}': Expected hook function, got ${typeof n}`);const s={mod:m.name,priority:t,hook:n};return a.hooks.push(s),d(),()=>{const e=a.hooks.indexOf(s);e>=0&&(a.hooks.splice(e,1),d())}})),patchFunction:s("patchFunction",((e,t)=>{"string"==typeof e&&e||o(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof e}`);const i=c(e),a=l(i);n(t)||o(`Mod ${r} failed to patch function '${e}': Expected patches object, got ${typeof t}`);for(const[n,i]of Object.entries(t))"string"==typeof i?a.patches.set(n,i):null===i?a.patches.delete(n):o(`Mod ${r} failed to patch function '${e}': Invalid format of patch '${n}'`);d()})),removePatches:s("removePatches",(e=>{"string"==typeof e&&e||o(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof e}`);const t=c(e);l(t).patches.clear(),d()})),callOriginal:s("callOriginal",((e,t,n)=>{"string"==typeof e&&e||o(`Mod ${r} failed to call a function: Expected function name string, got ${typeof e}`);const i=c(e);return Array.isArray(t)||o(`Mod ${r} failed to call a function: Expected args array, got ${typeof t}`),i.original.apply(null!=n?n:globalThis,t)})),getOriginalHash:s("getOriginalHash",(e=>("string"==typeof e&&e||o(`Mod ${r} failed to get hash: Expected function name string, got ${typeof e}`),c(e).originalHash)))},m={name:e.name,fullName:e.fullName,version:e.version,repository:e.repository,allowReplace:i,api:u,loaded:!0,patching:new Map};return v.set(e.name,m),Object.freeze(u)}function f(){const e=[];for(const t of v.values())e.push({name:t.name,fullName:t.fullName,version:t.version,repository:t.repository});return e}let p;const g=void 0===window.bcModSdk?window.bcModSdk=function(){const t={version:e,apiVersion:1,registerMod:y,getModsInfo:f,getPatchingInfo:m,errorReporterHooks:Object.seal({apiEndpointEnter:null,hookEnter:null,hookChainExit:null})};return p=t,Object.freeze(t)}():(n(window.bcModSdk)||o("Failed to init Mod SDK: Name already in use"),1!==window.bcModSdk.apiVersion&&o(`Failed to init Mod SDK: Different version already loaded ('1.2.0' vs '${window.bcModSdk.version}')`),window.bcModSdk.version!==e&&alert(`Mod SDK warning: Loading different but compatible versions ('1.2.0' vs '${window.bcModSdk.version}')\nOne of mods you are using is using an old version of SDK. It will work for now but please inform author to update`),window.bcModSdk);Object.defineProperty(t,"__esModule",{value:!0}),t.default=g}()},"./src/commands/bed.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{Bed:()=>h});var r=o("./src/util/storage.ts"),n=o("./src/modules/_module.ts"),i=o("./src/util/constants.ts"),a=o("./src/util/messaging.ts"),l=o("./src/util/sdk.ts");const s="SourceCharacter crawls into PronounPossessive bed.",u="SourceCharacter tucks TargetCharacter into bed.";function c(e){var t,o;return Object.keys(e).length>0&&CraftingValidate(e)===CraftingStatusType.OK&&(i.ALL_BEDS.includes(e.Item)||(null===(o=null===(t=null==e?void 0:e.Name)||void 0===t?void 0:t.toLocaleLowerCase())||void 0===o?void 0:o.includes("bed")))}function d(e=Player){e.MemberNumber===Player.MemberNumber?(0,a.SendAction)(s,void 0,[{SourceCharacter:Player.MemberNumber}]):(0,a.SendAction)(u,void 0,[{SourceCharacter:Player.MemberNumber},{TargetCharacter:e.MemberNumber}])}function m(){var e;if(InventoryGet(Player,"ItemDevices")||InventoryGroupIsBlockedForCharacter(Player,"ItemDevices"))return;const t=JSON.parse(LZString.decompressFromBase64(Player.MPA[n.ModuleTitle.Private].savedBed||"")||"{}")||{};if(c(t))InventoryWear(Player,t.Item,"ItemDevices",t.Color.split(","),0,Player.MemberNumber,t,!1);else{const t=null===(e=InventoryGet(Player,"HairFront"))||void 0===e?void 0:e.Color;InventoryWear(Player,"PetBed","ItemDevices",[t[0],"Default",t[t.length-1]],0,Player.MemberNumber,void 0,!1)}ChatRoomCharacterItemUpdate(Player,"ItemDevices")}function v(e=Player){var t;const o=InventoryGet(e,"ItemDevices")||InventoryGroupIsBlockedForCharacter(e,"ItemDevices")||e.MemberNumber!==Player.MemberNumber&&!Player.CanInteract();return e.MemberNumber!==Player.MemberNumber?ServerChatRoomGetAllowItem(Player,e)?e.MPA&&(null===(t=e.MPA)||void 0===t?void 0:t.version)===Player.MPA.version?o?((0,a.MPANotifyPlayer)(`Unable to tuck ${e.Nickname||e.Name} into bed`,3e4),!1):(d(e),!0):((0,a.MPANotifyPlayer)(`${e.Nickname||e.Name} does not have MPA, unable to give bed`,3e4),!1):((0,a.NotifyPlayer)("MPA: No BC item permission",3e4),!1):o?((0,a.MPANotifyPlayer)("Unable to crawl into bed",3e4),!1):(m(),d(e),!0)}function h(){CommandCombine([{Tag:"bed",Description:"[(optional) Bed export code OR Other player] Crawl into bed without needing hands",Action:(e,t,o)=>{var i;const l=(null!==(i=/^(\S+)\s*(.*)$/.exec(t))&&void 0!==i?i:["","",""])[2];if(l){const e=(0,a.FindCharacterInRoom)(l);if(e)return void v(e);return c(JSON.parse(LZString.decompressFromBase64(l)||"{}")||{})?(Player.MPA[n.ModuleTitle.Private].savedBed=l,(0,r.SaveStorage)(!1),void(0,a.MPANotifyPlayer)("Bed saved")):void(0,a.MPANotifyPlayer)("Invalid argument given!")}v(Player)}},{Tag:"blanket",Description:"Pull the blanket over yourself (Only works on PetBed)",Action:()=>{var e,t,o,r;const n=InventoryGet(Player,"ItemDevices");"PetBed"===(null==n?void 0:n.Asset.Name)&&(0===(null===(t=null===(e=n.Property)||void 0===e?void 0:e.TypeRecord)||void 0===t?void 0:t.typed)||1===(null===(r=null===(o=n.Property)||void 0===o?void 0:o.TypeRecord)||void 0===r?void 0:r.typed))?(n.Property.TypeRecord.typed=Number(!n.Property.TypeRecord.typed),ChatRoomCharacterUpdate(Player),1===n.Property.TypeRecord.typed?(0,a.SendAction)("SourceCharacter pulls a blanket over PronounObject.",void 0,[{SourceCharacter:Player.MemberNumber}]):(0,a.SendAction)("SourceCharacter removes the blanket from on top of PronounObject.",void 0,[{SourceCharacter:Player.MemberNumber}])):(0,a.MPANotifyPlayer)("Unable to pull the blanket over yourself.",2e4)}}]),(0,l.HookFunction)(null,"ChatRoomMessage",100,((e,t)=>{var o;const r=e[0];return"Activity"===r.Type&&"MayaScript"===r.Content&&(0,a.GetAttributeFromChatDictionary)(r,"TargetCharacter")===Player.MemberNumber&&(null===(o=r.Dictionary)||void 0===o?void 0:o.some((e=>"MISSING ACTIVITY DESCRIPTION FOR KEYWORD MayaScript"===(null==e?void 0:e.Tag)&&(null==e?void 0:e.Text)===u)))&&m(),t(e)}))}},"./src/commands/bowl.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{Bowl:()=>h});var r=o("./src/util/storage.ts"),n=o("./src/modules/_module.ts"),i=o("./src/util/messaging.ts"),a=o("./src/util/sdk.ts");const l="SourceCharacter lays a bowl of food and water on the ground in front of PronounObjectself.",s="SourceCharacter lays a bowl of food and water on the ground in front of TargetCharacter.",u=/^(?:\w|[ ~!$#%*+])*$/;function c(e){return Object.keys(e).length>0&&CraftingValidate(e)===CraftingStatusType.OK&&"PetBowl"==(null==e?void 0:e.Item)}function d(e=Player){e.MemberNumber===Player.MemberNumber?(0,i.SendAction)(l,void 0,[{SourceCharacter:Player.MemberNumber}]):(0,i.SendAction)(s,void 0,[{SourceCharacter:Player.MemberNumber},{TargetCharacter:e.MemberNumber}])}function m(){var e;if(InventoryGet(Player,"ItemDevices")||InventoryGroupIsBlockedForCharacter(Player,"ItemDevices"))return;const t=JSON.parse(LZString.decompressFromBase64(Player.MPA[n.ModuleTitle.Private].savedBowl||"")||"{}")||{};if(c(t))InventoryWear(Player,t.Item,"ItemDevices",t.Color.split(","),0,Player.MemberNumber,t,!1).Property=t.ItemProperty;else{const t=null===(e=InventoryGet(Player,"HairFront"))||void 0===e?void 0:e.Color;InventoryWear(Player,"PetBowl","ItemDevices",[t[0],"#000000"],0,Player.MemberNumber,void 0,!1).Property={Text:(Player.Nickname&&u.test(Player.Nickname)?Player.Nickname:u.test(Player.Name)?Player.Name:"").substring(0,12)}}ChatRoomCharacterUpdate(Player)}function v(e=Player){var t;const o=InventoryGet(e,"ItemDevices")||InventoryGroupIsBlockedForCharacter(e,"ItemDevices")||e.MemberNumber!==Player.MemberNumber&&!Player.CanInteract();return e.MemberNumber!==Player.MemberNumber?ServerChatRoomGetAllowItem(Player,e)?e.MPA&&(null===(t=e.MPA)||void 0===t?void 0:t.version)===Player.MPA.version?o?((0,i.MPANotifyPlayer)(`Unable to give ${e.Nickname||e.Name} a bowl`,3e4),!1):(d(e),!0):((0,i.MPANotifyPlayer)(`${e.Nickname||e.Name} does not have MPA, unable to give bowl`,3e4),!1):((0,i.NotifyPlayer)("MPA: No BC item permission",3e4),!1):o?((0,i.MPANotifyPlayer)("Unable to give bowl",3e4),!1):(m(),d(e),!0)}function h(){CommandCombine([{Tag:"bowl",Description:"Give bowl to pet",Action:(e,t,o)=>{var a;const l=(null!==(a=/^(\S+)\s*(.*)$/.exec(t))&&void 0!==a?a:["","",""])[2];if(l){const e=(0,i.FindCharacterInRoom)(l);if(e)return void v(e);return c(JSON.parse(LZString.decompressFromBase64(l)||"{}")||{})?(Player.MPA[n.ModuleTitle.Private].savedBowl=l,(0,r.SaveStorage)(!1),void(0,i.MPANotifyPlayer)("Bowl saved")):void(0,i.MPANotifyPlayer)("Invalid argument given!")}v(Player)}}]),(0,a.HookFunction)(null,"ChatRoomMessage",100,((e,t)=>{var o;const r=e[0];return"Activity"===r.Type&&"MayaScript"===r.Content&&(0,i.GetAttributeFromChatDictionary)(r,"TargetCharacter")===Player.MemberNumber&&(null===(o=r.Dictionary)||void 0===o?void 0:o.some((e=>"MISSING ACTIVITY DESCRIPTION FOR KEYWORD MayaScript"===(null==e?void 0:e.Tag)&&(null==e?void 0:e.Text)===s)))&&m(),t(e)}))}},"./src/commands/buildAllCommands.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{BuildAllCommands:()=>i});var r=o("./src/commands/bed.ts"),n=o("./src/commands/bowl.ts");function i(){(0,r.Bed)(),(0,n.Bowl)()}},"./src/localization/localization.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{LocalizedText:()=>n});const r={template:o("./src/localization/template.json"),RU:o("./src/localization/RU.json")};function n(e){var t;const o=null===(t=null==r?void 0:r[TranslationLanguage])||void 0===t?void 0:t[e];return o&&""!==o?o:e}},"./src/modules/_module.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{Module:()=>l,ModuleTitle:()=>r});var r,n=o("./src/util/sdk.ts"),i=o("./src/util/activities.ts"),a=o("./src/util/messaging.ts");!function(e){e.Unknown="Unknown",e.Authority="Authority",e.Activities="Activities",e.Clicker="Clicker",e.Settings="Settings",e.VirtualPet="VirtualPet",e.VirtualPetHUD="VirtualPetHud",e.VirtualPetConditions="VirtualPetConditions",e.DataSync="DataSync",e.Profile="Profile",e.SettingsOther="SettingsOther",e.Private="Private"}(r||(r={}));class l{get Title(){return r.Unknown}get Activities(){return[]}get Settings(){return[]}get SyncListeners(){return[]}Load(){(0,i.CreateActivities)(this.Activities),(0,a.AddDataSyncListeners)(this.SyncListeners)}Unload(){(0,n.RemoveHooks)(this.Title),(0,i.RemoveActivities)(this.Activities),(0,a.RemoveDataSyncListeners)(this.Title)}Reload(){this.Unload(),this.Load()}}},"./src/modules/activities.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ActivitiesModule:()=>u});var r=o("./src/modules/_module.ts"),n=o("./src/util/messaging.ts"),i=o("./src/util/activities.ts"),a=o("./src/util/sdk.ts"),l=o("./src/util/constants.ts");const s=(e,t,o,r)=>{var n;!(null===(n=Player.AudioSettings)||void 0===n?void 0:n.PlayItem)||Player.AudioSettings.PlayItemPlayerOnly&&(null==e?void 0:e.MemberNumber)!==Player.MemberNumber&&(null==t?void 0:t.MemberNumber)!==Player.MemberNumber||l.BELL_SOUND.play()};class u extends r.Module{get Title(){return r.ModuleTitle.Activities}get Activities(){return[{Name:"FlickBell",MaxProgress:50,Prerequisite:["UseHands"],CustomPrerequisite:{Name:"HasBellCollar",Prerequisite:(e,t,o)=>{var r,n,i,a,l,s,u,c;return(null===(a=null===(i=null===(n=null===(r=InventoryGet(t,"ItemNeck"))||void 0===r?void 0:r.Asset)||void 0===n?void 0:n.Name)||void 0===i?void 0:i.toLocaleLowerCase())||void 0===a?void 0:a.includes("bell"))||(null===(c=null===(u=null===(s=null===(l=InventoryGet(t,"ItemNeckAccessories"))||void 0===l?void 0:l.Asset)||void 0===s?void 0:s.Name)||void 0===u?void 0:u.toLocaleLowerCase())||void 0===c?void 0:c.includes("bell"))||!1}},Targets:[{group:"ItemNeck",label:"Flick Bell",actionSelf:"SourceCharacter flicks the bell on PronounPossessive collar.",actionOthers:"SourceCharacter flicks the bell on TargetCharacter's collar."}],Image:"Assets\\Female3DCG\\ItemNeckAccessories\\Preview\\CollarBell.png",OnReceive:s},{Name:"FlickBell2",MaxProgress:50,Prerequisite:["UseHands"],CustomPrerequisite:{Name:"HasBellNipples",Prerequisite:(e,t,o)=>{var r,n,i,a,l;return null!==(l=null===(a=null===(i=null===(n=null===(r=InventoryGet(t,"ItemNipples"))||void 0===r?void 0:r.Asset)||void 0===n?void 0:n.Name)||void 0===i?void 0:i.toLocaleLowerCase())||void 0===a?void 0:a.includes("bell"))&&void 0!==l&&l}},Targets:[{group:"ItemNipples",label:"Flick Bell",actionSelf:"SourceCharacter flicks the bells on PronounPossessive nipples.",actionOthers:"SourceCharacter flicks the bells on TargetCharacter's nipples."}],Image:"Assets\\Female3DCG\\ItemNipples\\Preview\\BellClamps.png",OnReceive:s}]}Load(){super.Load(),(0,a.HookFunction)(this.Title,"ActivityCheckPrerequisite",1,((e,t)=>{const[o,r,n,a]=e;return Object.keys(i.activityPrerequisites).includes(o)?i.activityPrerequisites[o](r,n,a):t(e)})),(0,a.HookFunction)(this.Title,"ServerSend",1,((e,t)=>{var o,r,n,a,s,u;const c=e[1];if("ChatRoomChat"!==e[0]||"Activity"!==(null==c?void 0:c.Type))return t(e);const d=null===(r=null===(o=null==c?void 0:c.Dictionary)||void 0===o?void 0:o.find((e=>e.ActivityName)))||void 0===r?void 0:r.ActivityName;if((null==d?void 0:d.startsWith(l.ACTIVITY_NAME_PREFIX))&&(null===(n=null==c?void 0:c.Dictionary)||void 0===n||n.push({Tag:"MISSING ACTIVITY DESCRIPTION FOR KEYWORD "+c.Content,Text:ActivityDictionaryText(c.Content)}),Object.keys(i.activityTriggers).includes(d))){const e=null!==(u=null===(s=null===(a=null==c?void 0:c.Dictionary)||void 0===a?void 0:a.find((e=>e.TargetCharacter)))||void 0===s?void 0:s.TargetCharacter)&&void 0!==u?u:-1,t=null===ChatRoomCharacter||void 0===ChatRoomCharacter?void 0:ChatRoomCharacter.find((t=>t.MemberNumber===e));i.activityTriggers[d](t)}return t(e)})),(0,a.HookFunction)(r.ModuleTitle.Clicker,"ChatRoomMessage",0,((e,t)=>{var o,r;t(e);const a=e[0];if("Activity"===a.Type){const e=(0,n.GetAttributeFromChatDictionary)(a,"ActivityName");if(!(null==e?void 0:e.startsWith(l.ACTIVITY_NAME_PREFIX))||!(e in i.activityReceived))return;const t=null!==(o=(0,n.FindCharacterInRoom)((0,n.GetAttributeFromChatDictionary)(a,"SourceCharacter"),{MemberNumber:!0,NickName:!1,Name:!1}))&&void 0!==o?o:void 0,s=null!==(r=(0,n.FindCharacterInRoom)((0,n.GetAttributeFromChatDictionary)(a,"TargetCharacter"),{MemberNumber:!0,NickName:!1,Name:!1}))&&void 0!==r?r:void 0,u=(0,n.GetAttributeFromChatDictionary)(a,"FocusGroupName");i.activityReceived[e](t,s,u,a)}})),(0,a.HookFunction)(this.Title,"ElementButton.CreateForActivity",0,((e,t)=>{const o=e[1].Activity.Name;return Object.keys(i.activityImages).includes(o)&&(e[4]||(e[4]={}),e[4].image=i.activityImages[o]),t(e)}))}Unload(){super.Unload()}}},"./src/modules/authority.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{AuthorityModule:()=>l,IsHardcoreOn:()=>a});var r=o("./src/util/authority.ts"),n=o("./src/modules/_module.ts");const i=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[n.ModuleTitle.Authority])&&void 0!==o?o:{}};function a(e){var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[n.ModuleTitle.Authority].hardcore)&&void 0!==o&&o}class l extends n.Module{get Title(){return n.ModuleTitle.Authority}get Settings(){return[{name:"owners",type:"text",active:()=>!0,value:"",label:"Owner member numbers; Seperated by a ,",maxChars:1024,width:400},{name:"boundAccessSelf",type:"checkbox",active:()=>!0,value:!0,label:"Allow TargetCharacter changing TargetPronounPossessive own settings while bound"},{name:"boundAccessOthers",type:"checkbox",active:()=>!0,value:!1,label:"Allow TargetCharacter changing the settings of others while bound"},{name:"selfAuthority",type:"checkbox",active:()=>!0,value:!0,label:"Allow TargetCharacter to change TargetPronounPossessive Authority settings"},{name:"othersAuthority",type:"option",active:()=>!0,options:r.AUTHORITY_GROUP_OPTIONS,value:"Clubowner",label:"Allow others to change TargetCharacter's Authority settings",loop:!1},{name:"selfProfile",type:"checkbox",active:e=>"Self"!==i(e).othersProfile,value:!0,label:"Allow TargetCharacter to change TargetPronounPossessive Profile settings"},{name:"othersProfile",type:"option",active:()=>!0,options:r.AUTHORITY_GROUP_OPTIONS,value:"Clubowner",label:"Allow others to change TargetCharacter's Profile settings",loop:!1,onSet(e){i(e).selfProfile=!0}},{name:"selfClicker",type:"checkbox",active:()=>!0,value:!0,label:"Allow TargetCharacter to change TargetPronounPossessive Clicker settings"},{name:"othersClicker",type:"option",active:()=>!0,options:r.AUTHORITY_GROUP_OPTIONS,value:"Clubowner",label:"Allow others to change TargetCharacter's Clicker settings",loop:!1},{name:"selfVirtualPet",type:"checkbox",active:()=>!0,value:!0,label:"Allow TargetCharacter to change TargetPronounPossessive Virtual Pet settings"},{name:"othersVirtualPet",type:"option",active:()=>!0,options:r.AUTHORITY_GROUP_OPTIONS,value:"Clubowner",label:"Allow others to change TargetCharacter's Virtual Pet settings",loop:!1},{name:"selfVirtualPetConditions",type:"checkbox",active:()=>!0,value:!0,label:"Allow TargetCharacter to change TargetPronounPossessive Virtual Pet Conditions settings"},{name:"othersVirtualPetConditions",type:"option",active:()=>!0,options:r.AUTHORITY_GROUP_OPTIONS,value:"Clubowner",label:"Allow others to change TargetCharacter's Virtual Pet Conditions settings",loop:!1}]}}},"./src/modules/clicker.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ClickerModule:()=>h});var r=o("./src/util/sdk.ts"),n=o("./src/util/messaging.ts"),i=o("./src/util/authority.ts"),a=o("./src/modules/_module.ts"),l=o("./src/modules/profile.ts");const s=[new Audio("https://media.soundgasm.net/sounds/df33316bec7bc03902860d21fb4b8827466f2bad.m4a"),new Audio("https://media.soundgasm.net/sounds/fa49b10dad3e1202de096859b339dcfc5eab90a5.m4a"),new Audio("https://media.soundgasm.net/sounds/b25177a6a92d5a74d047a9d77a807f2d1ed28c71.m4a")],u=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[a.ModuleTitle.Clicker])&&void 0!==o?o:{}};function c(e=""){let t=0;return u().triggers.split(",").map((e=>e.trim())).filter((e=>""!==e)).forEach((o=>{var r,n;t+=null!==(n=null===(r=e.toLocaleLowerCase().match(new RegExp(o.toLocaleLowerCase(),"g")))||void 0===r?void 0:r.length)&&void 0!==n?n:0})),t}function d(e=0){isNaN(e)||e<=0||!u().enabled||s[Math.min(e-1,s.length-1)].play()}let m=!1;function v(){var e,t;(0,r.bcxFound)()&&!m&&(null===(t=null===(e=(0,r.bcxAPI)())||void 0===e?void 0:e.on)||void 0===t||t.call(e,"bcxLocalMessage",(e=>{const t=null==e?void 0:e.message,o="[Voice] ";u().enabled&&u().bcxVoice&&(null==t?void 0:t.startsWith(o))&&d(c(t.substring(8)))})),m=!0)}class h extends a.Module{constructor(){super(...arguments),this.hasBeenLoaded=!1}get Title(){return a.ModuleTitle.Clicker}get Activities(){return[{Name:"Clicker1",MaxProgress:50,Prerequisite:["UseHands"],CustomPrerequisite:{Name:"HoldingClicker",Prerequisite:(e,t,o)=>{var r,n,i,a,l;return null!==(l=null===(a=null===(i=null===(n=null===(r=InventoryGet(e,"ItemHandheld"))||void 0===r?void 0:r.Asset)||void 0===n?void 0:n.Name)||void 0===i?void 0:i.toLocaleLowerCase())||void 0===a?void 0:a.includes("remote"))&&void 0!==l&&l}},Targets:[{group:"ItemHands",label:"Click Once",actionSelf:"SourceCharacter presses the button on PronounPossessive clicker."}],Image:"Icons/AudioOn.png"},{Name:"Clicker2",MaxProgress:50,Prerequisite:["UseHands"],CustomPrerequisite:{Name:"HoldingClicker"},Targets:[{group:"ItemHands",label:"Click Twice",actionSelf:"SourceCharacter presses the button on PronounPossessive clicker twice."}],Image:"Icons/AudioOn.png"},{Name:"Clicker3",MaxProgress:50,Prerequisite:["UseHands"],CustomPrerequisite:{Name:"HoldingClicker"},Targets:[{group:"ItemHands",label:"Click Thrice",actionSelf:"SourceCharacter presses the button on PronounPossessive clicker three times."}],Image:"Icons/AudioOn.png"}]}get Settings(){return[{name:"enabled",type:"checkbox",active:e=>!(0,l.IsHardcoreOn)(e),value:!1,label:"Enable auditory clicker"},{name:"triggers",type:"text",active:e=>!!u(e).enabled,value:"~click~",label:"Phrases that trigger the click; Separate phrases with a comma",width:384,maxChars:null},{name:"selfAuthed",type:"checkbox",active:e=>!!u(e).enabled&&"Self"!==u(e).authedGroup,value:!0,label:"Allow your own chat, emotes, & actions to trigger the clicker"},{name:"authedGroup",type:"option",active:e=>!!u(e).enabled,value:"Friends",options:["Public","Friends","Whitelist","Lovers","Owners","Clubowner","Self"],label:"Who will be able to trigger the clicker",loop:!1,onSet(e){"Self"===u(e).authedGroup&&(u(e).selfAuthed=!0)}},{name:"bcxVoice",type:"checkbox",active:e=>!!u(e).enabled&&(0,r.bcxFound)()&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Allow BCX Listen to my voice rule to trigger the clicker; Requires BCX"}]}Load(){if(super.Load(),(0,r.HookFunction)(a.ModuleTitle.Clicker,"ChatRoomMessage",0,((e,t)=>{var o,r,a,l,s,m,v,h,y,f;const p=e[0];if(!(u().enabled&&(null===(o=e[0])||void 0===o?void 0:o.Type)&&(null===(r=e[0])||void 0===r?void 0:r.Content)&&(null===(a=e[0])||void 0===a?void 0:a.Sender)&&(0,i.IsMemberNumberInAuthGroup)(p.Sender,u().authedGroup,u().selfAuthed)))return t(e);let g=0;return"Chat"!=p.Type&&"Emote"!=p.Type&&"Whisper"!=p.Type||(g=c((0,n.RemoveOOCContentFromMessage)(p.Content))),"Action"==p.Type&&(g="Beep"==p.Content?c(null!==(m=null===(s=null===(l=null==p?void 0:p.Dictionary)||void 0===l?void 0:l.filter((e=>"Beep"==e.Tag))[0])||void 0===s?void 0:s.Text)&&void 0!==m?m:""):(null===(v=p.Dictionary)||void 0===v?void 0:v.reduce(((e,t)=>e||'MISSING TEXT IN "Interface.csv": '===t.Tag&&"‌"===t.Text),!1))?c(p.Content):c(null!==(f=null===(y=null===(h=null==p?void 0:p.Dictionary)||void 0===h?void 0:h.filter((e=>e.Tag==`MISSING TEXT IN "Interface.csv": ${null==p?void 0:p.Content}`))[0])||void 0===y?void 0:y.Text)&&void 0!==f?f:"")),d(g),t(e)})),(0,r.HookFunction)(a.ModuleTitle.Clicker,"ChatRoomMessage",0,((e,t)=>{t(e);const o=e[0],r=(0,n.GetAttributeFromChatDictionary)(o,"ActivityName");u().enabled&&"Activity"===o.Type&&(null==r?void 0:r.startsWith("MPA_Clicker"))&&(0,i.IsMemberNumberInAuthGroup)(o.Sender,u().authedGroup,u().selfAuthed)&&d(Number(r.slice(-1)))})),!this.hasBeenLoaded){v();const e=setInterval((()=>{m?clearInterval(e):v()}),6e4)}this.hasBeenLoaded=!0}Unload(){super.Unload()}}},"./src/modules/dataSync.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{CategorySync:()=>l,DataSyncModule:()=>c,RecordSync:()=>s,RecordsSync:()=>u,SettingSync:()=>a});var r=o("./src/util/sdk.ts"),n=o("./src/modules/_module.ts"),i=o("./src/util/messaging.ts");function a(e=!1,t){const o=structuredClone(Player.MPA);delete o[n.ModuleTitle.Private],(0,i.SendMPAMessage)({message:"SettingSync",settings:o,reply:e},t)}function l(e,t){e!==n.ModuleTitle.Private&&(0,i.SendMPAMessage)({message:"CategorySync",category:e,value:Player.MPA[e]},t)}function s(e,t,o){u([{category:e,record:t}],o)}function u(e,t){for(let t=e.length-1;t>=0;t--){const o=e[t];o.category===n.ModuleTitle.Private&&e.splice(t,1),o.value=Player.MPA[o.category][o.record]}0!==e.length&&(0,i.SendMPAMessage)({message:"RecordsSync",records:e},t)}class c extends n.Module{get Title(){return n.ModuleTitle.DataSync}get SyncListeners(){return[{module:n.ModuleTitle.DataSync,message:"SettingSync",action:function(e,t){e.MemberNumber!==Player.MemberNumber&&(e.MPA=t.settings,t.reply&&a(!1,e.MemberNumber))}},{module:n.ModuleTitle.DataSync,message:"CategorySync",action:function(e,t){e.MemberNumber!==Player.MemberNumber&&(e.MPA?e.MPA[t.category]=t.value:a(!1,e.MemberNumber))}},{module:n.ModuleTitle.DataSync,message:"RecordsSync",action:function(e,t){var o;if(e.MemberNumber!==Player.MemberNumber)for(const r of t.records)(null===(o=null==e?void 0:e.MPA)||void 0===o?void 0:o[r.category])?e.MPA[r.category][r.record]=r.value:l(t.category,e.MemberNumber)}}]}Load(){super.Load(),0!==ChatRoomCharacter.length&&a(!0),(0,r.HookFunction)(n.ModuleTitle.DataSync,"ChatRoomSync",0,((e,t)=>{t(e),a(!0)})),(0,r.HookFunction)(n.ModuleTitle.DataSync,"ChatRoomMessage",0,((e,t)=>{var o;const r=e[0],n=(0,i.GetMPAMessageFromChat)(r);if(!n)return t(e);const a=(0,i.FindCharacterInRoom)(null!==(o=r.Sender)&&void 0!==o?o:"",{MemberNumber:!0,Name:!1,NickName:!1});if(!a)return t(e);i.hookedMessages.forEach((e=>{n.message===e.message&&e.action(a,n)}))}))}Unload(){super.Unload()}}},"./src/modules/private.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{PrivateModule:()=>n});var r=o("./src/modules/_module.ts");class n extends r.Module{get Title(){return r.ModuleTitle.Private}get Settings(){return[{name:"savedBed",type:"record",value:""},{name:"savedBowl",type:"record",value:""}]}Load(){super.Load()}Unload(){super.Unload()}}},"./src/modules/profile.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{GARBLE_PHRASES:()=>h,IsHardcoreOn:()=>m,PET_HEARING:()=>f,ProfileModule:()=>P});var r=o("./src/util/general.ts"),n=o("./src/util/sdk.ts"),i=o("./src/modules/_module.ts"),a=o("./src/modules/settings.ts"),l=o("./src/util/petHearAndSpeak.ts"),s=o("./src/util/messaging.ts"),u=o("./src/modules/dataSync.ts"),c=o("./src/util/authority.ts");const d=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[i.ModuleTitle.Profile])&&void 0!==o?o:{}};function m(e){var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[i.ModuleTitle.Profile].hardcore)&&void 0!==o&&o}function v(e,t=Player){var o,r;return null!==(r=null===(o=t.MPA)||void 0===o?void 0:o[e])&&void 0!==r?r:{}}const h=Object.freeze({Human:["hmmgm","mmmm","mhhmmaa","hmmm"],Custom:[""],Bunny:["pon","pyon","eep","huff","tk-tk","nngh-nngh"],Cat:["meow","mew","nyah","nya","purr","mrrow","prrr"],Cow:["moo","mooooo","muuhhh","moooah"],Dog:["arf","woof","bark","ruff","huff","eep"],Fox:["chirp","yip","wow-wow","yoww","eep"],Mouse:["squeak","eeek","tch-tch","wi-i-i","sss"],Pony:["neigh","whinny","wheee","snrt","whooosh","huff","nnhhh-ker"],Wolf:["awoo","aa-ooo","woof","ruff","arf","wiiip","huff"]});function y(e=d(Player).type){var t,o,i,a,l,s,u,c;const m=null!==(a=null===(i=null===(o=null===(t=(0,n.bcxAPI)())||void 0===t?void 0:t.getRuleState("speech_ban_words"))||void 0===o?void 0:o.customData)||void 0===i?void 0:i.bannedWords)&&void 0!==a?a:[],v=(0,n.bcxFound)()&&d(Player).bcxSpeaking?null!==(c=null===(u=null===(s=null===(l=(0,n.bcxAPI)())||void 0===l?void 0:l.getRuleState("speech_mandatory_words"))||void 0===s?void 0:s.customData)||void 0===u?void 0:u.mandatoryWords)&&void 0!==c?c:[]:function(e=d(Player).type){return e in h&&"Custom"!==e?h[e]:d(Player).garblePhrases.split(",").map((e=>e.trim()))}(e);return(0,r.FilterArrayFromArray)(v,m)}const f=Object.freeze({All:["owner","pet","master","mistress","miss","sir","paw","sit","come","down","up","stay","water","food","kibble","eat","treat","drink","toy","play","leash","walk","walkies","bed","sleep","cutie","adorable","toy","play","kibble","good","bad","lap","speak","hush","quiet","hush","all fours","all-fours"],Human:[],Custom:[],Bunny:["bun","bunny","carrot","hop","jump","hump","ear","ears"],Cat:["cat","kitty","kitten","catnip","knead","scratch","yarn","milk"],Cow:["milk","milking","utter","breast","grass","moo"],Dog:["cage","kennel","pup","puppy","dog","doggy","bone","fetch","heel","roll","over","bark"],Fox:["trap","bun","bunny","bone","fox","foxy"],Mouse:["mouse","ear","ears","trap","wire","wheel","cheese","nibble","cat","kitty","kitten"],Pony:["pony","mare","stallion","bridle","hoof","hooves","trot","stall","hay","woah","stomp","calm","easy","slow","cart","bay","run","race"],Wolf:["bone","wolf","dog","pup","puppy","heel"]});function p(e,t,o){const r=(0,a.ElementName)(i.ModuleTitle.Profile,"garblePhrases");if("Custom"===t)return d(e).garblePhrases=d(e).customGarblePhrases.join(", "),void(document.getElementById(r)&&ElementValue(r,d(e).garblePhrases));"Custom"===o&&document.getElementById(r)&&(d(e).customGarblePhrases=ElementValue(r).split(",").map((e=>e.trim()))),d(e).garblePhrases=h[d(e).type].join(", "),document.getElementById(r)&&ElementValue(r,d(e).garblePhrases)}function g(){var e,t,o,r;d().bcxSpeaking=!0;const l=(0,a.ElementName)(i.ModuleTitle.Profile,"garblePhrases");"Custom"===d().type&&document.getElementById(l)&&(d().customGarblePhrases=ElementValue(l).split(",").map((e=>e.trim())));const s=null!==(r=null===(o=null===(t=null===(e=(0,n.bcxAPI)())||void 0===e?void 0:e.getRuleState("speech_mandatory_words"))||void 0===t?void 0:t.customData)||void 0===o?void 0:o.mandatoryWords)&&void 0!==r?r:[];d().garblePhrases=s.join(", "),document.getElementById(l)&&ElementValue(l,d().garblePhrases)}class P extends i.Module{get Title(){return i.ModuleTitle.Profile}get SyncListeners(){return[{module:this.Title,message:"BCXSpeakEnableRequest",action:function(e,t){var o,r;(0,c.IsMemberNumberInAuthGroup)(null!==(o=e.MemberNumber)&&void 0!==o?o:-1,null===(r=Player.MPA)||void 0===r?void 0:r[i.ModuleTitle.Authority][`others${i.ModuleTitle.Profile}`])?(g(),(0,u.RecordsSync)([{category:i.ModuleTitle.Profile,record:"garblePhrases"},{category:i.ModuleTitle.Profile,record:"bcxSpeaking"}],e.MemberNumber),(0,s.SendMPAMessage)({message:"BCXSpeakEnableReply"},e.MemberNumber)):console.warn(`${e.Nickname||e.Name}[${e.MemberNumber}] tried to illegially set your bcx speak to be enabled`)}},{module:this.Title,message:"BCXSpeakEnableReply",action:function(e,t){const o=(0,a.ElementName)(i.ModuleTitle.Profile,"garblePhrases");document.getElementById(o)&&ElementValue(o,d(e).garblePhrases)}}]}get Settings(){return[{name:"type",type:"option",active:()=>!0,options:Object.keys(h),value:"Human",label:"Use a preset profile or make your own",loop:!0,onSet:(e,t,o)=>{d(e).bcxSpeaking||p(e,t,o)}},{name:"petHearing",type:"checkbox",active:()=>!0,value:!1,label:"While deafened certain pet keywords can be picked up"},{name:"garblePhrases",type:"text",active:e=>"Custom"===d(e).type&&!(d(e).petSpeaking&&(0,n.bcxFound)()&&d(e).bcxSpeaking),value:h.Human.join(),label:"Pet sounds you make",maxChars:1024,width:1024},{name:"customGarblePhrases",type:"record",value:[]},{name:"petSpeaking",type:"checkbox",active:()=>!0,value:!1,label:"Automatically make the above pet sounds while talking"},{name:"bcxSpeaking",type:"checkbox",active:e=>d(e).petSpeaking&&(0,n.bcxFound)(),value:!1,label:"Use BCX mandatory words instead of the pet sounds above",onSet:(e,t)=>{if(t)if(e.IsPlayer())g();else{const t=(0,a.ElementName)(i.ModuleTitle.Profile,"garblePhrases");"Custom"===d(e).type&&document.getElementById(t)&&(d(e).customGarblePhrases=ElementValue(t).split(",").map((e=>e.trim()))),(0,s.SendMPAMessage)({message:"BCXSpeakEnableRequest"},e.MemberNumber)}else p(e,d(e).type,"")}},{name:"hardcore",type:"checkbox",active:()=>!0,value:!1,label:"Enable hardcore mode; Will set certain settings and prevent changing them back",onSet(e){v(i.ModuleTitle.Clicker,e).enabled=!0,v(i.ModuleTitle.Clicker,e).bcxVoice=!0,v(i.ModuleTitle.VirtualPet,e).enabled=!0,v(i.ModuleTitle.VirtualPet,e).noHands=!1,v(i.ModuleTitle.VirtualPetConditions,e).enabled=!0,v(i.ModuleTitle.VirtualPetConditions,e).foodNOW=!0,v(i.ModuleTitle.VirtualPetConditions,e).tint=!0,v(i.ModuleTitle.VirtualPetConditions,e).passout=!0,v(i.ModuleTitle.VirtualPetConditions,e).affectionSkillBuffs=!1,v(i.ModuleTitle.VirtualPetConditions,e).affectionSkillDebuffs=!0,v(i.ModuleTitle.VirtualPetConditions,e).hearingLoss=!0,v(i.ModuleTitle.VirtualPetConditions,e).slowLeave=!0}}]}Load(){super.Load(),SpeechTransformAllEffects.push("petSpeak"),(0,n.HookFunction)(this.Title,"SpeechTransformGagGarble",5,(([e,t,o,...r],n)=>{const i=r[0];return(null==i?void 0:i.IsGagged())||!Player.IsDeaf()||!1===d().petHearing?n([e,t,o]):(0,l.ApplyPetHearing)([e,t,o],n,function(e=d(Player).type){return e in f?f.All.concat(f[e]):f.All}())})),(0,n.HookFunction)(this.Title,"CommandParse",8,(([e],t)=>(e=e.trim(),[CommandsKey,"*","@"].includes(e.charAt(0))||!d(Player).petSpeaking?t([e]):(0,l.NonDisruptivePetSpeech)(e,t,y()))))}Unload(){super.Unload(),SpeechTransformAllEffects=SpeechTransformAllEffects.filter((e=>"petSpeak"!==e))}}},"./src/modules/settings.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ElementName:()=>ie,ExitButtonPressed:()=>ee,MENU_TITLES:()=>L,PreferenceMenuClick:()=>te,PreferenceMenuRun:()=>oe,SetSettingChar:()=>h,SettingsModule:()=>se,currentMenu:()=>F});var r=o("./src/localization/localization.ts"),n=o("./src/util/storage.ts"),i=o("./src/util/constants.ts"),a=o("./src/util/settingTypes.ts"),l=o("./src/util/registerModules.ts"),s=o("./src/util/authority.ts"),u=o("./src/util/messaging.ts"),c=o("./src/modules/_module.ts"),d=o("./src/modules/virtualPet.ts");let m=!1,v=null;function h(e){m=!1,v=e}const y=2e3,f=[1815,75,90,90],p=7,g=400,P=90,b=160,M=500,A=20,S=20,C=[100,605,350,75],T="https://github.com/MayaTheFoxy/MPA/wiki",w=[C[0],C[1]+C[3]+A,C[2],C[3]],N=[w[0],w[1]-w[3],w[2]];let k=0,I="";const x=[w[0],w[1]+w[3]+A,(w[2]-A)/2,w[3]],E=[w[0]+(w[2]+A)/2,w[1]+w[3]+A,(w[2]-A)/2,w[3]],O=[300,700,250,90],D=[1450,700,250,90];function R(){return v?v.IsPlayer()?[c.ModuleTitle.Authority,c.ModuleTitle.Profile,c.ModuleTitle.Clicker,c.ModuleTitle.VirtualPet,c.ModuleTitle.VirtualPetHUD,c.ModuleTitle.VirtualPetConditions]:[c.ModuleTitle.Authority,c.ModuleTitle.Profile,c.ModuleTitle.Clicker,c.ModuleTitle.VirtualPet,c.ModuleTitle.VirtualPetConditions]:[]}const L={[c.ModuleTitle.VirtualPet]:"Virtual Pet",[c.ModuleTitle.VirtualPetHUD]:"Virtual Pet Hud",[c.ModuleTitle.VirtualPetConditions]:"Virtual Pet Conditions"};let F=null,H=!1,G=0;function V(e){for(let t=0;t<e.length;t++)if(MouseIn(M+(g+A)*Math.floor(t/p),b+(P+A)*(t%p),g,P))return e[t];return null}DrawButton(1520,720,200,80,"Cancel","White");const B=9,U=64,$=200,W=250,_=10,j=64,z=256,q=256,Y=256;let K=1,X=1;const Z=[1635,75,90,90],J=[Z[0]-Z[2],Z[1],Z[2],Z[2]];function Q(e){var t;if(!v)return;const o=Object.entries(null!==(t=l.settings[e])&&void 0!==t?t:{}).filter((([t,o])=>{var r;return(0,a.IsDisplaySetting)(o)&&t in(null!==(r=null==v?void 0:v.MPA[e])&&void 0!==r?r:{})}));1!==X&&(K>X&&(K=X),K<1&&(K=1),DrawButton(...Z,"",K>=X?"#aaaaaa":"#ffffff","Icons/Next.png","Next Page",K>=X),DrawButton(...J,"",1>=K?"#aaaaaa":"#ffffff","Icons/Prev.png","Previous Page",1>=K)),o.slice((K-1)*B,K*B).forEach(((t,o)=>{var n,i,l,u,d,m,h,f,p;const[g,P]=t,b=!P.active(v)||`others${e}`in v.MPA[c.ModuleTitle.Authority]&&`self${e}`in v.MPA[c.ModuleTitle.Authority]&&!(0,s.IsMemberNumberInAuthGroup)(null!==(n=Player.MemberNumber)&&void 0!==n?n:-1,v.MPA[c.ModuleTitle.Authority][`others${e}`],v.MPA[c.ModuleTitle.Authority][`self${e}`],v)||!Player.CanInteract()&&((null==v?void 0:v.MemberNumber)===Player.MemberNumber&&!Player.MPA[c.ModuleTitle.Authority].boundAccessSelf||(null==v?void 0:v.MemberNumber)!==Player.MemberNumber&&!Player.MPA[c.ModuleTitle.Authority].boundAccessOthers);if((0,a.IsCheckboxSetting)(P))DrawCheckbox(W,$+o*(_+U),j,j,(0,r.LocalizedText)(P.label).replaceAll("TargetCharacter",null!==(i=(null==v?void 0:v.Nickname)||(null==v?void 0:v.Name))&&void 0!==i?i:"").replaceAll("TargetPronounPossessive","SheHer"===(null==v?void 0:v.GetPronouns())?"her":"his"),!!v.MPA[e][g],b,"Black");else if((0,a.IsOptionSetting)(P)){const t=P.options.indexOf(v.MPA[e][g]),n=P.options.length,i=e!==c.ModuleTitle.Authority||!s.AUTHORITY_GROUP_OPTIONS.includes(v.MPA[e][g]),a=!(i||(0,s.AuthorityIsComparisonToCharacter)(v.MPA[e][g],">=",null!==(l=Player.MemberNumber)&&void 0!==l?l:-1,v)),m=!(i||(0,s.AuthorityIsComparisonToCharacter)(v.MPA[e][g],">",null!==(u=Player.MemberNumber)&&void 0!==u?u:-1,v))&&"Self"!==v.MPA[e][g];DrawBackNextButton(W,$+o*(_+U),z,U,(0,r.LocalizedText)(v.MPA[e][g]),b||a&&m?"#aaaaaa":"#ffffff","",(()=>(0,r.LocalizedText)(a?"":P.loop?P.options[(t-1+n)%n]:t>0?P.options[t-1]:"")),(()=>(0,r.LocalizedText)(m?"":P.loop?P.options[(t+1+n)%n]:t+1<n?P.options[t+1]:"")),b||a&&m),DrawTextFit((0,r.LocalizedText)(P.label).replaceAll("TargetCharacter",null!==(d=(null==v?void 0:v.Nickname)||(null==v?void 0:v.Name))&&void 0!==d?d:"").replaceAll("TargetPronounPossessive","SheHer"===(null==v?void 0:v.GetPronouns())?"her":"his"),W+z+2*_,$+(o*(_+U)+Math.ceil(U/2)),y-2*W-z,"Black","Gray")}else if((0,a.IsTextSetting)(P)||(0,a.IsNumberSetting)(P)){const t=ie(e,g);ElementPositionFixed(t,W,$+o*(_+U),null!==(m=P.width)&&void 0!==m?m:q,U),b?ElementSetAttribute(t,"disabled","true"):ElementRemoveAttribute(t,"disabled"),DrawTextFit((0,r.LocalizedText)(P.label).replaceAll("TargetCharacter",null!==(h=(null==v?void 0:v.Nickname)||(null==v?void 0:v.Name))&&void 0!==h?h:"").replaceAll("TargetPronounPossessive","SheHer"===(null==v?void 0:v.GetPronouns())?"her":"his"),W+(null!==(f=P.width)&&void 0!==f?f:q)+2*_,$+o*(_+U)+Math.ceil(U/2),y-2*W-(null!==(p=P.width)&&void 0!==p?p:q),"Black","Gray")}}))}function ee(){null===F?(window.MPA.menuLoaded&&(window.MPA.menuLoaded=!1),re()):("RESET_Settings"===F||(le(F),K=1,X=1),F=null)}function te(){var e,t,o;if(MouseIn(...f))ee();else{if((null==v?void 0:v.MemberNumber)===Player.MemberNumber&&null===F){if(MouseIn(...C))return void(null===(e=window.open(T,"_blank"))||void 0===e||e.focus());if(MouseIn(...w))return F="RESET_Settings",void(G=Date.now()+1e4);if(MouseIn(...x))return void(0,n.ImportSettingsFromClipboard)().then((()=>{I="Settings imported from clipboard"}),(()=>{I="Failed to import settings"})).finally((()=>k=Date.now()+5e3));if(MouseIn(...E))return void(0,n.ExportSettingsToClipboard)().then((()=>{I="Settings copied to clipboard"}),(()=>{I="Failed to export settings"})).finally((()=>k=Date.now()+5e3))}if(null===F&&null!==V(R())&&(F=V(R()),K=1,X=Math.ceil(Object.entries(null!==(t=l.settings[null!=F?F:""])&&void 0!==t?t:{}).filter((([e,t])=>{var o;return(0,a.IsDisplaySetting)(t)&&e in(null!==(o=null==v?void 0:v.MPA[null!=F?F:""])&&void 0!==o?o:{})})).length/B),ae(F)),"RESET_Settings"!==F){if(null!==F){if(Object.entries(null!==(o=l.settings[null!=F?F:""])&&void 0!==o?o:{}).filter((([e,t])=>{var o;return(0,a.IsDisplaySetting)(t)&&e in(null!==(o=null==v?void 0:v.MPA[null!=F?F:""])&&void 0!==o?o:{})})).length>B){if(MouseIn(...Z)&&K<X)return le(F),K++,void ae(F);if(MouseIn(...J)&&K>1)return le(F),K--,void ae(F)}!function(e){var t;if(!v)return;const o=Object.entries(null!==(t=l.settings[e])&&void 0!==t?t:{}).filter((([t,o])=>{var r;return(0,a.IsDisplaySetting)(o)&&t in(null!==(r=null==v?void 0:v.MPA[e])&&void 0!==r?r:{})}));o.slice((K-1)*B,K*B).forEach(((t,o)=>{var r,n,i;const[l,u]=t,d=!u.active(v)||`others${e}`in v.MPA[c.ModuleTitle.Authority]&&`self${e}`in v.MPA[c.ModuleTitle.Authority]&&!(0,s.IsMemberNumberInAuthGroup)(null!==(r=Player.MemberNumber)&&void 0!==r?r:-1,v.MPA[c.ModuleTitle.Authority][`others${e}`],v.MPA[c.ModuleTitle.Authority][`self${e}`],v)||!Player.CanInteract()&&((null==v?void 0:v.MemberNumber)===Player.MemberNumber&&!Player.MPA[c.ModuleTitle.Authority].boundAccessSelf||(null==v?void 0:v.MemberNumber)!==Player.MemberNumber&&!Player.MPA[c.ModuleTitle.Authority].boundAccessOthers);if((0,a.IsCheckboxSetting)(u))MouseIn(W,$+o*(_+U),j,j)&&!d&&(v.MPA[e][l]=!v.MPA[e][l],u.onSet&&u.onSet(v,v.MPA[e][l],!v.MPA[e][l]),m=!0);else if((0,a.IsOptionSetting)(u)){const t=u.options.indexOf(v.MPA[e][l]),r=u.options.length;if(!MouseIn(W,$+o*(_+U),Math.floor(z/2),U)||d||!(u.loop||t>0)||e===c.ModuleTitle.Authority&&s.AUTHORITY_GROUP_OPTIONS.includes(v.MPA[e][l])&&!(0,s.AuthorityIsComparisonToCharacter)(v.MPA[e][l],">=",null!==(n=Player.MemberNumber)&&void 0!==n?n:-1,v)){if(MouseIn(W+Math.floor(z/2),$+o*(_+U),Math.ceil(z/2),U)&&!d&&(u.loop||t+1<u.options.length)&&(e!==c.ModuleTitle.Authority||!s.AUTHORITY_GROUP_OPTIONS.includes(v.MPA[e][l])||(0,s.AuthorityIsComparisonToCharacter)(v.MPA[e][l],">",null!==(i=Player.MemberNumber)&&void 0!==i?i:-1,v))){const o=v.MPA[e][l];v.MPA[e][l]=u.options[(t+1+r)%r],u.onSet&&u.onSet(v,u.options[(t+1+r)%r],o),m=!0}}else{const o=v.MPA[e][l];v.MPA[e][l]=u.options[(t-1+r)%r],u.onSet&&u.onSet(v,u.options[(t-1+r)%r],o),m=!0}}}))}(F)}}else!function(){MouseIn(...O)&&Date.now()>G&&((0,n.ResetStorage)(),F=null,G=0);MouseIn(...D)&&(F=null,G=0)}()}}function oe(){var e;if("RESET_Settings"===F)return void function(){const e=MainCanvas.textAlign;MainCanvas.textAlign="center",DrawText((0,r.LocalizedText)("WARNING: Are you sure you want to reset your MPA settings and data back to default?"),y/2,250,"#000000","#aaaaaa"),DrawText((0,r.LocalizedText)("This action can not be undone!"),y/2,400,"#ff0000","#aaaaaa"),DrawText((0,r.LocalizedText)("Export and save your settings BEFORE confirming if you are unsure."),y/2,550,"#696969","#aaaaaa");const t=Date.now();t<=G?DrawButton(...O,`${(0,r.LocalizedText)("Confirm")} (${Math.floor((G-t)/1e3)})`,"#aaaaaa",void 0,void 0,!0):DrawButton(...O,(0,r.LocalizedText)("Confirm"),"#ff0000"),DrawButton(...D,(0,r.LocalizedText)("Cancel"),"White"),MainCanvas.textAlign=e}();const t=MainCanvas.textAlign;DrawButton(...f,"","White","Icons/Exit.png"),MainCanvas.textAlign="center",DrawText(`${(0,r.LocalizedText)("Maya's Petplay Additions")}${F?` - ${(null==v?void 0:v.Nickname)||(null==v?void 0:v.Name)}'s ${(0,r.LocalizedText)(null!==(e=L[F])&&void 0!==e?e:F)}`:""}`,1e3,125,"Black","Gray"),(null==v?void 0:v.MemberNumber)===Player.MemberNumber&&null===F&&(k>=Date.now()&&(MainCanvas.textAlign="left",DrawTextFit(I,...N,"Black","Gray")),MainCanvas.textAlign="center",DrawButton(...C,(0,r.LocalizedText)("Wiki"),"#ffffff","",(0,r.LocalizedText)("Open the MPA wiki in a new tab")),DrawButton(...w,(0,r.LocalizedText)("RESET"),"#ff2e2eaa","",(0,r.LocalizedText)("Reset all your settings back to default")),DrawButton(...x,(0,r.LocalizedText)("Import"),"#ffffff","",(0,r.LocalizedText)("Import the settings copied to your clipboard")),DrawButton(...E,(0,r.LocalizedText)("Export"),"#ffffff","",(0,r.LocalizedText)("Export your current settings to the clipboard"))),MainCanvas.textAlign="left",null===F?function(e){var t;for(let o=0;o<e.length;o++)DrawButton(M+(g+A)*Math.floor(o/p),b+(P+A)*(o%p),g,P,"","White"),DrawTextFit((0,r.LocalizedText)(null!==(t=L[e[o]])&&void 0!==t?t:e[o]),M+S+(g+A)*Math.floor(o/p),b+Math.floor(P/2)+(P+A)*(o%p),g-2*S,"Black","Gray")}(R()):Q(F),MainCanvas.textAlign=t}function re(){v&&(m&&(v.MemberNumber===Player.MemberNumber?((0,d.LevelSync)(!1,!1,!1),(0,n.SaveStorage)(!0)):(0,u.SendMPAMessage)({message:"SettingPutRequest",settings:v.MPA},v.MemberNumber)),v.MemberNumber===Player.MemberNumber&&PreferenceSubscreenExtensionsClear(),m=!1,v=null,H=!1)}function ne(){m=!1,v=Player,v&&(H=!0)}function ie(e,t){return`MPA_OPTION_${e}${t}`}function ae(e,t=K){var o;e&&v&&Object.entries(null!==(o=l.settings[e])&&void 0!==o?o:{}).slice((t-1)*B,t*B).forEach((t=>{var o;const[r,n]=t,i=ie(e,r);(0,a.IsTextSetting)(n)?ElementCreateInput(i,"text",v.MPA[e][r],null!==(o=n.maxChars)&&void 0!==o?o:Y):(0,a.IsNumberSetting)(n)&&(ElementCreateInput(i,"number",v.MPA[e][r].toString()),ElementSetAttribute(i,"min",n.min.toString()),ElementSetAttribute(i,"max",n.max.toString()),ElementSetAttribute(i,"inputmode","decimal"),n.step&&ElementSetAttribute(i,"step",n.step.toString()))}))}function le(e,t=K){var o;v&&(e===c.ModuleTitle.VirtualPet&&(0,d.LevelSync)(!1,!1,!1),Object.entries(null!==(o=l.settings[e])&&void 0!==o?o:{}).slice((t-1)*B,t*B).forEach((t=>{const[o,r]=t,n=ie(e,o);(0,a.IsTextSetting)(r)&&(v.MPA[e][o]!==ElementValue(n)&&(v.MPA[e][o]=ElementValue(n),m=!0),ElementRemove(n)),(0,a.IsNumberSetting)(r)&&(v.MPA[e][o]!==Number(ElementValue(n))&&(v.MPA[e][o]=Number(ElementValue(n)),m=!0),ElementRemove(n))})))}class se extends c.Module{get Title(){return c.ModuleTitle.Settings}Load(){function e(e){"Escape"!==e.key&&"Esc"!==e.key||!H||(null===F?re():"RESET_Settings"===F?G=0:(le(F),K=1,X=1),F=null,e.stopPropagation())}PreferenceRegisterExtensionSetting({Identifier:"MPA",ButtonText:(0,r.LocalizedText)("MPA Settings"),Image:i.ICONS.PAW,click:te,run:oe,exit:re,load:ne}),document.addEventListener("keypress",e,!0),document.addEventListener("keydown",e,!0)}Unload(){}Reload(){}}},"./src/modules/settingsOthers.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ObjectDifferences:()=>f,SettingsOtherModule:()=>p});var r=o("./src/util/messaging.ts"),n=o("./src/localization/localization.ts"),i=o("./src/util/constants.ts"),a=o("./src/util/sdk.ts"),l=o("./src/modules/_module.ts"),s=o("./src/modules/settings.ts"),u=o("./src/util/storage.ts"),c=o("./src/modules/virtualPet.ts"),d=o("./src/util/authority.ts"),m=o("./src/util/registerModules.ts");const v=[1700,765,90,90],h=[1700,800,90,90];function y(e,t){return e.length===t.length&&e.every(((e,o)=>e===t[o]))}function f(e,t){const o={};for(const r in e){if(!(r in t)){o[r]={old:e[r],new:void 0};continue}const n=e[r],i=t[r];if(Array.isArray(n)&&Array.isArray(i))y(n,i)||(o[r]={old:n,new:i});else if("object"!=typeof n||"object"!=typeof i||Array.isArray(n))n!==i&&(o[r]={old:n,new:i});else{const e=f(n,i);Object.keys(e).length>0&&(o[r]=e)}}for(const r in t)r in e||(o[r]={old:void 0,new:t[r]});return o}class p extends l.Module{get Title(){return l.ModuleTitle.SettingsOther}get SyncListeners(){return[{module:this.Title,message:"SettingPutRequest",action:function(e,t){var o,i,a,v,h,y,p,g,P,b,M,A;const S=Player.MPA[l.ModuleTitle.VirtualPet].enabled,C=f(Player.MPA,t.settings),T=[];(null===(o=null==C?void 0:C[l.ModuleTitle.VirtualPet])||void 0===o?void 0:o.levels)&&(delete C[l.ModuleTitle.VirtualPet].levels,0===Object.keys(C[l.ModuleTitle.VirtualPet]).length&&delete C[l.ModuleTitle.VirtualPet]),(0,c.LevelSync)(!1,!1,!1);const w=JSON.parse(JSON.stringify(null===(i=Player.MPA)||void 0===i?void 0:i[l.ModuleTitle.Authority])),N=C[l.ModuleTitle.Authority];if(N)if(delete C[l.ModuleTitle.Authority],(0,d.IsMemberNumberInAuthGroup)(null!==(a=e.MemberNumber)&&void 0!==a?a:-1,w[`others${l.ModuleTitle.Authority}`])){T.push((0,n.LocalizedText)(l.ModuleTitle.Authority));for(const e in N)void 0!==N[e].new&&void 0!==N[e].old&&(Player.MPA[l.ModuleTitle.Authority][e]=N[e].new)}else console.warn(`MPA: ${e.Nickname||e.Name} (${e.MemberNumber}) tried to illegally modify your ${l.ModuleTitle.Authority} settings!`);for(const t in C){if(!(0,d.IsMemberNumberInAuthGroup)(null!==(v=e.MemberNumber)&&void 0!==v?v:-1,null!==(h=w[`others${t}`])&&void 0!==h?h:"None")&&!(0,d.IsMemberNumberInAuthGroup)(null!==(y=e.MemberNumber)&&void 0!==y?y:-1,null!==(P=null===(g=null===(p=Player.MPA)||void 0===p?void 0:p[l.ModuleTitle.Authority])||void 0===g?void 0:g[`others${t}`])&&void 0!==P?P:"None")){console.warn(`MPA: ${e.Nickname||e.Name} (${e.MemberNumber}) tried to illegally modify your ${t} settings!`);continue}T.push((0,n.LocalizedText)(null!==(b=s.MENU_TITLES[t])&&void 0!==b?b:t));const o=C[t];for(const e in o)void 0!==o[e].new&&void 0!==o[e].old&&(Player.MPA[t][e]=o[e].new)}Player.MPA[l.ModuleTitle.Profile].hardcore&&(null===(A=null===(M=m.settings[l.ModuleTitle.Profile])||void 0===M?void 0:M.hardcore)||void 0===A||A.onSet(Player)),S!==Player.MPA[l.ModuleTitle.VirtualPet].enabled&&(Player.MPA[l.ModuleTitle.VirtualPet].levels.lastUpdated=Date.now()),0!==T.length&&(0,r.MPANotifyPlayer)((0,n.LocalizedText)("SourceCharacter just updated your SettingsArray settings.").replace("SourceCharacter",e.Nickname||e.Name).replace("SettingsArray",(0,r.ArrayToReadableString)(T))),(0,u.SaveStorage)(!0)}},{module:this.Title,message:"EditingSettings",action:function(e,t){(0,r.NotifyPlayer)((0,n.LocalizedText)("SourceCharacter is accessing your MPA settings.").replace("SourceCharacter",e.Nickname||e.Name),3e4)}}]}Load(){super.Load();(0,a.HookFunction)(this.Title,"InformationSheetRun",12,((e,t)=>{var o;if((null===(o=window.bcx)||void 0===o?void 0:o.inBcxSubscreen())||window.LSCG_REMOTE_WINDOW_OPEN)return t(e);if(window.MPA.menuLoaded)return void(0,s.PreferenceMenuRun)();t(e);const r=InformationSheetSelection;if((null==r?void 0:r.MPA)&&!r.IsPlayer()){const e=ServerChatRoomGetAllowItem(Player,r);DrawButton(...(0,a.bcxFound)()?h:v,"",e?"#ffffff":"#aaaaaa",i.ICONS.PAW,(0,n.LocalizedText)(e?"MPA":"MPA: No BC item permission"),!1)}})),(0,a.HookFunction)(this.Title,"InformationSheetClick",12,((e,t)=>{if(window.MPA.menuLoaded)return(0,s.PreferenceMenuClick)();const o=InformationSheetSelection;if(!MouseIn(...h)||!(null==o?void 0:o.MPA)||o.IsPlayer())return t(e);window.MPA.menuLoaded=!0,(0,s.SetSettingChar)(o),(0,r.SendMPAMessage)({message:"EditingSettings"},o.MemberNumber)})),(0,a.HookFunction)(this.Title,"InformationSheetExit",12,((e,t)=>{if(!window.MPA.menuLoaded)return t(e);(0,s.ExitButtonPressed)()}))}Unload(){super.Unload()}}},"./src/modules/virtualPet.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{CalculateCurrentValue:()=>N,GetCharacterCurrentStatValue:()=>k,IsBedMultiplier:()=>A,IsSleepingExpression:()=>M,LevelSync:()=>I,ModifyStat:()=>x,VirtualPetModule:()=>E});var r=o("./src/modules/_module.ts"),n=o("./src/util/constants.ts"),i=o("./src/util/sdk.ts"),a=o("./src/util/storage.ts"),l=o("./src/util/messaging.ts"),s=o("./src/modules/dataSync.ts"),u=o("./src/modules/profile.ts");const c=168,d=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[r.ModuleTitle.VirtualPet])&&void 0!==o?o:{}},m=["LSCG_Eat","ThrowItem"],v=["LSCG_FunnelPour","LSCG_Quaff"],h=["Sleep","Afk","Fork","Coding","Read"],y=["Pet","TakeCare","LSCG_Nuzzle","Caress","LSCG_Hug","Scratch"],f=["Kiss","MassageHands","Lick","Nibble","Cuddle","Grope"],p=["Spank","Slap","Bite","Pinch","Pull","ShockItem","SpankItem"],g={ItemArms:1,ItemBoots:.8,ItemBreast:1.5,ItemButt:1.5,ItemEars:2.5,ItemFeet:.8,ItemHands:1,ItemHead:3,ItemLegs:1,ItemMouth:2,ItemNeck:1.2,ItemNipples:1.5,ItemNose:1.7,ItemPelvis:1.3,ItemTorso:1,ItemVulva:2,ItemVulvaPiercings:2.5},P=.2;let b;const M=e=>{var t,o,r,n,i,a,l;return"Closed"===(null===(o=null===(t=e.Appearance.find((e=>"Eyes"===e.Asset.Group.Name)))||void 0===t?void 0:t.Property)||void 0===o?void 0:o.Expression)&&"Closed"===(null===(n=null===(r=e.Appearance.find((e=>"Eyes2"===e.Asset.Group.Name)))||void 0===r?void 0:r.Property)||void 0===n?void 0:n.Expression)&&h.includes(null!==(l=null===(a=null===(i=e.Appearance.find((e=>"Emoticon"===e.Asset.Group.Name)))||void 0===i?void 0:i.Property)||void 0===a?void 0:a.Expression)&&void 0!==l?l:"")},A=e=>{var t,o;const r=null!==(o=null===(t=InventoryGet(e,"ItemDevices"))||void 0===t?void 0:t.Asset.Name)&&void 0!==o?o:"";return n.BED_PERFECT.includes(r)?10:n.BED_NORMAL.includes(r)?5:n.BED_BAD.includes(r)?2:1};let S=!1,C=1;function T(e=!0){!d().enabled||0===d().sleepHours||S===M(Player)&&C===A(Player)||(e&&I(),S=M(Player),C=A(Player))}function w(e){return 60*e*60*1e3}function N(e,t,o,r,n=!1,i=Player){const a=(r||Date.now())-o,l=Math.max(0,Math.min(e-a/w(t),1));if(n&&e>P&&l<P){const r=d(i).levels.lastOnline-o,n=Math.max(0,Math.min(e-r/w(t),1));return Math.min(P,n)}return l}function k(e,t){var o;const n=null===(o=null==e?void 0:e.MPA)||void 0===o?void 0:o[r.ModuleTitle.VirtualPet];if(!n)return-1;if("sleep"===t){const t=M(e)||1!==A(e)?n.levels.sleep+(Date.now()-n.levels.lastUpdated)/(60*n.sleepHours*60*1e3)*A(e)*(M(e)?5:1):N(n.levels.sleep,n.sleepHours,n.levels.lastUpdated);return Math.max(0,Math.min(1,t))}return N(n.levels[t],n[`${t}Hours`],n.levels.lastUpdated)}function I(e=!0,t=!0,o=!1){var n;if(!d().enabled)return d().levels.lastUpdated=Date.now(),void(d().levels.lastOnline=Date.now());const i=null!==(n=d().levels.lastUpdated)&&void 0!==n?n:Date.now(),l=d().offlineDrain?void 0:d().levels.lastOnline,u=d().foodHours;0!==u&&(d().levels.food=N(d().levels.food,u,i,l,o));const c=d().waterHours;0!==c&&(d().levels.water=N(d().levels.water,c,i,l,o));const m=d().sleepHours;if(0!==m)if(o&&!l||S||1!==C){const e=o?Date.now()-d().levels.lastOnline-(d().levels.lastOnline-i):Date.now()-i,t=d().levels.sleep+e/w(m)*C*(S?5:1);d().levels.sleep=Math.max(0,Math.min(1,t))}else d().levels.sleep=N(d().levels.sleep,m,i,l,o);const v=d().affectionHours;0!==v&&(d().levels.affection=N(d().levels.affection,v,i,l,o)),d().levels.lastUpdated=Date.now(),d().levels.lastOnline=Date.now(),e&&(0,a.SaveStorage)(!1),t&&(0,s.RecordSync)(r.ModuleTitle.VirtualPet,"levels")}function x(e,t,o=!0,n=!0,i){t<-1&&t>1||(I(!1,!1,!1),d().levels[e]+=t*(o&&t>0?function(e,t){let o=1;if((null==t?void 0:t.IsOwner())?o+=.5:(null==t?void 0:t.IsLoverOfPlayer())?o+=.35:(null==t?void 0:t.IsFamilyOfPlayer())&&(o+=.25),"food"!==e&&"water"!==e||Player.CanTalk()||(o-=.5),o+=.03*Player.Appearance.filter((e=>e.Asset.DynamicGroupName.startsWith("Item"))).length,"AllFours"===Player.PoseMapping.BodyFull&&(o+=.5),"affection"===e&&Player.MPA[r.ModuleTitle.VirtualPetConditions].enabled&&Player.MPA[r.ModuleTitle.VirtualPetConditions].foodNOW){const e=[];0!==d().foodHours&&e.push(k(Player,"food")),0!==d().waterHours&&e.push(k(Player,"water")),0!==e.length&&(o*=e.reduce(((e,t)=>e+t),0)/e.length/.75)}return Math.max(0,o)}(e,i):1),function(e){const t=d().levels[e];d().levels[e]=Math.min(Math.max(t,0),1)}(e),n&&(0,a.SaveStorage)(!1),(0,s.RecordSync)(r.ModuleTitle.VirtualPet,"levels"))}class E extends r.Module{get Title(){return r.ModuleTitle.VirtualPet}get Activities(){return[{Name:"BowlEat",Targets:[{group:"ItemMouth",label:"Eat From Bowl",actionSelf:"SourceCharacter eats from PronounPossessive bowl."}],Image:"Assets/Female3DCG/ItemDevices/Preview/PetBowl.png",Prerequisite:["UseMouth"],CustomPrerequisite:{Name:"HasBowl",Prerequisite:(e,t,o)=>{var r,n;return"PetBowl"===(null===(n=null===(r=InventoryGet(e,"ItemDevices"))||void 0===r?void 0:r.Asset)||void 0===n?void 0:n.Name)}},OnTrigger:()=>{d().enabled&&0!==d().foodHours&&x("food",1,!0)}},{Name:"BowlDrink",Targets:[{group:"ItemMouth",label:"Drink From Bowl",actionSelf:"SourceCharacter drinks from PronounPossessive bowl."}],Image:"Assets/Female3DCG/ItemDevices/Preview/PetBowl.png",Prerequisite:["UseMouth"],CustomPrerequisite:{Name:"HasBowl"},OnTrigger:()=>{d().enabled&&0!==d().waterHours&&x("water",1,!0)}},{Name:"BowlEat2",Targets:[{group:"ItemMouth",label:"Eat From Bowl",actionSelf:"SourceCharacter puts PronounPossessive head into PronounPossessive bowl in order to eat with the gag, making a mess."}],Image:"Assets/Female3DCG/ItemDevices/Preview/PetBowl.png",Prerequisite:[],CustomPrerequisite:[{Name:"HasBowl"},{Name:"UseTongueNoMouth",Prerequisite:(e,t,o)=>!e.CanTalk()&&!e.IsMouthBlocked()}],OnTrigger:()=>{d().enabled&&0!==d().foodHours&&x("food",1,!0)}},{Name:"BowlDrink2",Targets:[{group:"ItemMouth",label:"Drink From Bowl",actionSelf:"SourceCharacter puts PronounPossessive head into PronounPossessive bowl in order to drink with the gag, making a mess."}],Image:"Assets/Female3DCG/ItemDevices/Preview/PetBowl.png",Prerequisite:[],CustomPrerequisite:[{Name:"HasBowl"},{Name:"UseTongueNoMouth"}],OnTrigger:()=>{d().enabled&&0!==d().waterHours&&x("water",1,!0)}}]}get Settings(){return[{name:"enabled",type:"checkbox",active:e=>!(0,u.IsHardcoreOn)(e),value:!1,label:"Become a virtual pet! Requiring: food, water, sleep, and affection"},{name:"foodHours",type:"number",value:4,active:e=>!!d(e).enabled,label:"How many hours until you are completely out of food; 0 to disable",width:128,min:0,max:c,step:.1},{name:"waterHours",type:"number",value:4,active:e=>!!d(e).enabled,label:"How many hours until you are completely out of water; 0 to disable",width:128,min:0,max:c,step:.1},{name:"sleepHours",type:"number",value:8,active:e=>!!d(e).enabled,label:"How many hours until you are completely out of sleep; 0 to disable",width:128,min:0,max:c,step:.1},{name:"affectionHours",type:"number",value:4,active:e=>!!d(e).enabled,label:"How many hours until you are completely out of affection; 0 to disable",width:128,min:0,max:c,step:.1},{name:"offlineDrain",type:"checkbox",value:!0,active:e=>!!d(e).enabled,label:"Stats drain even when logged out of the club"},{name:"noHands",type:"checkbox",active:e=>!!d(e).enabled&&!(0,u.IsHardcoreOn)(e),value:!0,label:"Allow eating or drinking from items in your OWN hands"},{name:"masochist",type:"checkbox",active:e=>!!d(e).enabled,value:!1,label:"Masochist pet; Abuse raises affection"},{name:"levels",type:"record",value:{food:1,water:1,sleep:1,affection:1,lastUpdated:Date.now(),lastOnline:Date.now()}}]}Load(){super.Load(),T(!1),I(!0,!1,!0),b=setInterval((()=>{Player.MemberNumber&&(Player.MPA[this.Title].levels.lastOnline=Date.now(),(0,a.SaveStorage)(!1))}),1e4),(0,i.HookFunction)(this.Title,"ChatRoomMessage",0,((e,t)=>{var o,r;const n=e[0],i=(0,l.GetAttributeFromChatDictionary)(n,"ActivityName");if(!d().enabled||!d().noHands&&(0,l.GetAttributeFromChatDictionary)(n,"SourceCharacter")===Player.MemberNumber||"Activity"!==n.Type||(0,l.GetAttributeFromChatDictionary)(n,"TargetCharacter")!==Player.MemberNumber||"ItemMouth"!==(0,l.GetAttributeFromChatDictionary)(n,"FocusGroupName")||!i)return t(e);const a=ActivityFemale3DCG.find((e=>e.Name===i));return 0!==d().foodHours&&((null===(o=null==a?void 0:a.Prerequisite)||void 0===o?void 0:o.includes("Needs-EatItem"))||m.some((e=>(null==a?void 0:a.Name)===e)))&&x("food",.33,!0),0!==d().waterHours&&((null===(r=null==a?void 0:a.Prerequisite)||void 0===r?void 0:r.includes("Needs-SipItem"))||v.some((e=>(null==a?void 0:a.Name)===e)))&&x("water",.33,!0),t(e)})),(0,i.HookFunction)(this.Title,"CharacterRefresh",0,((e,t)=>(e[0].MemberNumber===Player.MemberNumber&&T(),t(e)))),(0,i.HookFunction)(this.Title,"ChatRoomMessage",0,((e,t)=>{var o,r;const n=e[0],i=(0,l.GetAttributeFromChatDictionary)(n,"ActivityName");if(!d().enabled||0===d().affectionHours||"Activity"!==n.Type||(0,l.GetAttributeFromChatDictionary)(n,"TargetCharacter")!==Player.MemberNumber||(0,l.GetAttributeFromChatDictionary)(n,"SourceCharacter")===Player.MemberNumber||!i)return t(e);const a=null!==(o=(0,l.GetAttributeFromChatDictionary)(n,"FocusGroupName"))&&void 0!==o?o:"",s=null!==(r=g[a])&&void 0!==r?r:1;return y.includes(i)?x("affection",.05*s):f.includes(i)?x("affection",.03*s):p.includes(i)&&x("affection",-.04*(d().masochist?-1:1)*s),t(e)}))}Unload(){super.Unload(),clearInterval(b)}}},"./src/modules/virtualPetConditions.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ConditionCheck:()=>f,VirtualPetConditionsModule:()=>k});var r=o("./src/util/general.ts"),n=o("./src/util/messaging.ts"),i=o("./src/util/sdk.ts"),a=o("./src/modules/_module.ts"),l=o("./src/modules/profile.ts"),s=o("./src/modules/virtualPet.ts");const u=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[a.ModuleTitle.VirtualPet])&&void 0!==o?o:{}},c=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[a.ModuleTitle.VirtualPetConditions])&&void 0!==o?o:{}};function d(e,t){var o;return!(!c().enabled||!c()[e])&&(!t||u().enabled&&0!==(null===(o=u())||void 0===o?void 0:o[`${t}Hours`]))}const m=[["SelfBondage",!0],["Willpower",!0],["Bondage",!1],["Evasion",!1],["LockPicking",!1]],v={food:-1,water:-1,sleep:-1,affection:-1};let h=[];let y=250;function f(){["food","water","affection","sleep"].forEach((e=>{if(u().enabled&&c().enabled&&0!==u()[`${e}Hours`]){const t=v[e],o=(0,s.GetCharacterCurrentStatValue)(Player,e);h.forEach((r=>{r.stat===e&&-1===t&&r.firstRun&&r.firstRun(),r.stat===e&&-1!==t&&t>o&&"rising"!==r.change&&o<=r.threshhold&&r.threshhold<t&&r.action(),r.stat===e&&-1!==t&&t<o&&"falling"!==r.change&&t<r.threshhold&&r.threshhold<=o&&r.action()})),v[e]=o}else v[e]=-1}))}const p="sleep",g=.25,P=0,b=0,M=1;let A=!1;const S=["SourceCharacter drools out of the corner of PronounPossessive lip as PronounSubject sleeps.","SourceCharacter mumbles quietly in PronounPossessive slumber.","SourceCharacter rests peacefully."];function C(){var e,t,o;CharacterSetFacialExpression(Player,"Emoticon","Sleep"),CharacterSetFacialExpression(Player,"Eyes","Closed"),CharacterSetFacialExpression(Player,"Fluids","DroolMedium"),Player.CanKneel()&&PoseSetActive(Player,"Kneel",!0),A=!0;const r=null===(o=null===(t=null===(e=null===Player||void 0===Player?void 0:Player.LSCG)||void 0===e?void 0:e.StateModule)||void 0===t?void 0:t.states)||void 0===o?void 0:o.find((e=>"asleep"===e.type));c().passoutLSCG&&r&&console.log("Calling LSCG passout"),(0,n.SendAction)("SourceCharacter passes out from exhaustion.",void 0,[{SourceCharacter:Player.MemberNumber}])}function T(){return c().enabled&&0!==u().sleepHours&&c().passout&&!c().passoutLSCG&&A}let w;function N(){u().enabled&&0!==u().affectionHours&&c().enabled&&m.forEach((([e,t])=>{const o=(0,s.GetCharacterCurrentStatValue)(Player,"affection"),r=Math.round((10*o/1-5)*(t?1:-1)*100)/100,n=SkillGetModifier(Player,e),i=0!==SkillGetModifierDuration(Player,e)?SkillGetModifierDuration(Player,e):15e3;r>0&&c().affectionSkillBuffs&&SkillSetModifier(Player,e,n+r,i,!1),r<0&&c().affectionSkillDebuffs&&SkillSetModifier(Player,e,n+r,i,!1)}))}class k extends a.Module{get Title(){return a.ModuleTitle.VirtualPetConditions}get Settings(){return[{name:"enabled",type:"checkbox",active:e=>!!u(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!1,label:"Recive conditions based on current level of your virtual pet stats"},{name:"foodNOW",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Food and water affects affection gain"},{name:"tint",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Vision darkens as you get sleepier"},{name:"passout",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Passout when exhausted"},{name:"affectionSkillBuffs",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Affection will buff skills based on its level"},{name:"affectionSkillDebuffs",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Affection will debuff skills based on its level"},{name:"hearingLoss",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Hearing becomes harder the hungrier you are"},{name:"slowLeave",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Takes longer to leave the room when hungry"}]}Load(){(0,i.HookFunction)(this.Title,"GameRun",0,((e,t)=>(y>=250&&f(),y++,t(e)))),(0,i.HookFunction)(this.Title,"Player.GetTints",0,((e,t)=>{if(!d("tint",p))return t(e);const o=((0,s.GetCharacterCurrentStatValue)(Player,p)-g)/(P-g)*(M-b)+b;return b<=o&&o<=M?t(e).concat({r:0,g:0,b:0,a:Math.sqrt(Math.round(1e3*o)/1e3)}):t(e)})),h=[{stat:"sleep",threshhold:0,change:"falling",action:function(){C()},firstRun:function(){0===(0,s.GetCharacterCurrentStatValue)(Player,"sleep")&&C()}},{stat:"sleep",threshhold:.1,change:"rising",action:function(){A&&(CharacterSetFacialExpression(Player,"Emoticon",null),CharacterSetFacialExpression(Player,"Eyes","Dazed"),CharacterSetFacialExpression(Player,"Eyebrows","Lowered"),A=!1,(0,n.SendAction)("SourceCharacter wakes up from PronounPossessive nap.",void 0,[{SourceCharacter:Player.MemberNumber}]))}}],(0,i.HookFunction)(this.Title,"Player.CanTalk",5,((e,t)=>!T()&&t(e))),(0,i.HookFunction)(this.Title,"Player.CanWalk",5,((e,t)=>!T()&&t(e))),(0,i.HookFunction)(this.Title,"Player.CanChangeOwnClothes",5,((e,t)=>!T()&&t(e))),(0,i.HookFunction)(this.Title,"Player.CanInteract",5,((e,t)=>!T()&&t(e))),(0,i.HookFunction)(this.Title,"ServerSend",5,((e,t)=>{if(!T())return t(e);const[o,i]=e;return"ChatRoomChat"!=o||"Chat"!=(null==i?void 0:i.Type)||(null==i?void 0:i.Content.startsWith("("))?t(e):((0,n.SendAction)((0,r.RandomElement)(S),void 0,[{SourceCharacter:Player.MemberNumber}]),null)})),(0,i.HookFunction)(this.Title,"Player.GetDeafLevel",5,((e,t)=>T()?4:t(e))),(0,i.HookFunction)(this.Title,"Player.GetBlindLevel",5,((e,t)=>{var o,r;return T()?"SensDepExtreme"===(null===(o=Player.GameplaySettings)||void 0===o?void 0:o.SensDepChatLog)||"SensDepTotal"===(null===(r=Player.GameplaySettings)||void 0===r?void 0:r.SensDepChatLog)?3:2:t(e)})),(0,i.HookFunction)(this.Title,"Player.GetDeafLevel",5,((e,t)=>{const o=d("hearingLoss","food")?Math.max(0,Math.floor(-10*((0,s.GetCharacterCurrentStatValue)(Player,"food")-.3001))):0;return Math.max(o,t(e))})),SkillModifierMax<10&&(SkillModifierMax=10),N(),w=setInterval(N,16e3),(0,i.HookFunction)(this.Title,"ChatRoomAttemptLeave",0,((e,t)=>{if(!d("slowLeave","food"))return t(e);const o=ChatRoomSlowtimer,r=(0,s.GetCharacterCurrentStatValue)(Player,"food");if(t(e),0===o&&ChatRoomSlowtimer>0&&r<=.3){ChatRoomSlowtimer=CurrentTime+ChatRoomSlowLeaveMinTime+1e3*(-25/.3*r+25)}})),(0,i.HookFunction)(this.Title,"Player.IsSlow",0,((e,t)=>!!(d("slowLeave","food")&&(0,s.GetCharacterCurrentStatValue)(Player,"food")<=.3)||t(e)))}Unload(){super.Unload(),h=[],clearInterval(w)}}},"./src/modules/virtualPetHUD.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{VirtualPetHUDModule:()=>d});var r=o("./src/util/sdk.ts"),n=o("./src/util/authority.ts"),i=o("./src/modules/_module.ts"),a=o("./src/modules/virtualPet.ts");const l=()=>Player.MPA[i.ModuleTitle.VirtualPet],s=()=>Player.MPA[i.ModuleTitle.VirtualPetHUD],u={food:"#f2bb18",water:"#2a9fc3",sleep:"#8d2aee",affection:"#ff78f2"};function c(e,t,o,r){const n=u[r.stat];MainCanvas.beginPath(),MainCanvas.arc(e,t,o,0,2*Math.PI,!0),MainCanvas.lineWidth=o/8,MainCanvas.strokeStyle=n,MainCanvas.stroke(),MainCanvas.beginPath(),MainCanvas.arc(e,t,o,-Math.PI/2,2*Math.PI*-r.level-Math.PI/2,!0),MainCanvas.lineTo(e,t),MainCanvas.fillStyle=n,MainCanvas.fill(),s().exactStats&&(MainCanvas.fillStyle="#000000",MainCanvas.font=CommonGetFont(1.25*o),MainCanvas.fillText(Math.round(100*r.level).toString(),e,t+.125*o),MainCanvas.font=CommonGetFont(36))}class d extends i.Module{get Title(){return i.ModuleTitle.VirtualPetHUD}get Settings(){return[{name:"self",type:"checkbox",active:()=>!!l().enabled,value:!0,label:"Display your own virtual pet stats on the HUD"},{name:"exactStats",type:"checkbox",active:()=>!!l().enabled||"Off"!==s().others,value:!1,label:"Display the exact number percentage on the HUD"},{name:"position",type:"option",active:()=>!!l().enabled||"Off"!==s().others,options:["Left","Center","Right","Split"],value:"Left",label:"Where to display the HUD",loop:!0},{name:"others",type:"option",active:()=>!0,options:["Off","Public","Friends","Whitelist","Lovers","Owners","D/s Family","Clubowner"],value:"Friends",label:"Display the virtual pet stats of others on the HUD",loop:!1}]}Load(){(0,r.HookFunction)(this.Title,"DrawArousalMeter",1,((e,t)=>{var o;const[r,u,d,m]=e;if(!ActivityAllowed()||r.IsPlayer()&&(!s().self||!l().enabled)||!r.IsPlayer()&&"Off"===s().others||!r.IsPlayer()&&!(0,n.IsMemberNumberInAuthGroup)(r.MemberNumber,s().others))return t(e);const v=null===(o=null==r?void 0:r.MPA)||void 0===o?void 0:o[i.ModuleTitle.VirtualPet];if(!(null==v?void 0:v.enabled))return t(e);const h=[];return["food","water","sleep","affection"].forEach((e=>{0!==v[`${e}Hours`]&&h.push({stat:e,level:(0,a.GetCharacterCurrentStatValue)(r,e)})})),0!==h.length&&function(e,t,o,r){const n=s().position;if("Left"===n||"Right"===n)r.reverse(),r.forEach(((r,i)=>{c(e+("Left"===n?80:420)*o,t+(950-36*i)*o,16*o,r)}));else if("Center"===n){const n=r.length;r.forEach(((r,i)=>{c(e+(250-18*(n-1)+36*i)*o,t+950*o,16*o,r)}))}else if("Split"===n){const n=[];switch(r.length){case 1:n.push([r[0]]),n.push([]);break;case 2:n.push([r[0]]),n.push([r[1]]);break;case 3:n.push([r[1],r[0]]),n.push([r[2]]);break;case 4:n.push([r[1],r[0]]),n.push([r[3],r[2]])}n.forEach(((r,n)=>{r.forEach(((r,i)=>{c(e+(0==n?80:420)*o,t+(950-36*i)*o,16*o,r)}))}))}}(u,d,m,h),t(e)}))}Unload(){super.Unload()}}},"./src/util/activities.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{CreateActivities:()=>c,CreateActivity:()=>u,RemoveActivities:()=>m,RemoveActivity:()=>d,activityImages:()=>i,activityPrerequisites:()=>l,activityReceived:()=>s,activityTriggers:()=>a});var r=o("./src/localization/localization.ts"),n=o("./src/util/constants.ts");const i={},a={},l={},s={};function u(e){var t;const o={Name:`${n.ACTIVITY_NAME_PREFIX}${e.Name}`,ActivityID:Math.max(...ActivityFemale3DCG.map((e=>{var t;return null!==(t=e.ActivityID)&&void 0!==t?t:-1})))+1,MaxProgress:null!==(t=e.MaxProgress)&&void 0!==t?t:50,Prerequisite:e.Prerequisite,Target:[]};if(e.CustomPrerequisite){let t=e.CustomPrerequisite;Array.isArray(t)||(t=[t]),t.forEach((e=>{o.Prerequisite.push(e.Name),!(e.Name in l)&&e.Prerequisite&&(l[e.Name]=e.Prerequisite)}))}e.Targets.forEach((e=>{var t;e.actionSelf&&(o.TargetSelf||(o.TargetSelf=[]),null===(t=o.TargetSelf)||void 0===t||t.push(e.group),null===ActivityDictionary||void 0===ActivityDictionary||ActivityDictionary.push([`Label-ChatSelf-${e.group}-${o.Name}`,(0,r.LocalizedText)(e.label)]),null===ActivityDictionary||void 0===ActivityDictionary||ActivityDictionary.push([`ChatSelf-${e.group}-${o.Name}`,(0,r.LocalizedText)(e.actionSelf)])),e.actionOthers&&(o.Target.push(e.group),null===ActivityDictionary||void 0===ActivityDictionary||ActivityDictionary.push([`Label-ChatOther-${e.group}-${o.Name}`,(0,r.LocalizedText)(e.label)]),null===ActivityDictionary||void 0===ActivityDictionary||ActivityDictionary.push([`ChatOther-${e.group}-${o.Name}`,(0,r.LocalizedText)(e.actionOthers)]))})),i[o.Name]=e.Image,e.OnTrigger&&(a[o.Name]=e.OnTrigger),e.OnReceive&&(s[o.Name]=e.OnReceive),ActivityFemale3DCG.push(o),ActivityFemale3DCGOrdering.push(o.Name)}function c(e){e.forEach((e=>{u(e)}))}function d(e){const t=`${n.ACTIVITY_NAME_PREFIX}${e.Name}`;e.Targets.forEach((e=>{var o,r;e.actionSelf&&(ActivityDictionary=null!==(o=null===ActivityDictionary||void 0===ActivityDictionary?void 0:ActivityDictionary.filter((o=>!(o[0]===`Label-ChatSelf-${e.group}-${t}`||o[0]===`ChatSelf-${e.group}-${t}`))))&&void 0!==o?o:null),e.actionOthers&&(ActivityDictionary=null!==(r=null===ActivityDictionary||void 0===ActivityDictionary?void 0:ActivityDictionary.filter((o=>!(o[0]===`Label-ChatOther-${e.group}-${t}`||o[0]===`ChatOther-${e.group}-${t}`))))&&void 0!==r?r:null)})),delete i[t],delete a[t],ActivityFemale3DCG=ActivityFemale3DCG.filter((e=>e.Name!==t)),ActivityFemale3DCGOrdering=ActivityFemale3DCGOrdering.filter((e=>e!==t))}function m(e){e.forEach((e=>{d(e)}))}},"./src/util/authority.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{AUTHORITY_GROUPS:()=>l,AUTHORITY_GROUP_OPTIONS:()=>i,AuthorityIsComparisonToCharacter:()=>c,HighestLevelAuthorityGroup:()=>u,IsMemberNumberInAuthGroup:()=>s});var r=o("./src/modules/_module.ts"),n=o("./src/util/messaging.ts");const i=["Public","Friends","Whitelist","Lovers","Owners","Clubowner","Self"],a=["None","Public","Friends","Whitelist","Lovers","Owners","D/s Family","Clubowner","Self"],l={Self:e=>{var t;return[null!==(t=e.MemberNumber)&&void 0!==t?t:-1]},Clubowner:e=>{var t,o;return(null===(t=null==e?void 0:e.Ownership)||void 0===t?void 0:t.MemberNumber)?[null===(o=null==e?void 0:e.Ownership)||void 0===o?void 0:o.MemberNumber]:[]},Owners:function(e){var t,o,n;const i=(null!==(n=null===(o=null===(t=e.MPA)||void 0===t?void 0:t[r.ModuleTitle.Authority])||void 0===o?void 0:o.owners)&&void 0!==n?n:"").split(",").map((e=>parseInt(e))).filter((e=>!isNaN(e)));return 0===i.length?[]:i},Lovers:e=>{var t,o;return null!==(o=null===(t=e.Lovership)||void 0===t?void 0:t.filter((e=>e.MemberNumber)).map((e=>e.MemberNumber)))&&void 0!==o?o:[]},WhiteList:e=>{var t;return null!==(t=e.WhiteList)&&void 0!==t?t:[]},FriendList:()=>{var e;return null!==(e=Player.FriendList)&&void 0!==e?e:[]}};function s(e,t,o=!1,r=Player){var i,a,s,u,c;if("None"===t)return!1;if(e===l.Self(r)[0])return"Self"===t||o;if(r.BlackList.includes(e)||null!==(a=null===(i=null==r?void 0:r.GhostList)||void 0===i?void 0:i.includes(e))&&void 0!==a&&a)return!1;if("Public"===t)return!0;if("D/s Family"===t&&r.MemberNumber===Player.MemberNumber)return null!==(u=null===(s=(0,n.FindCharacterInRoom)(e))||void 0===s?void 0:s.IsFamilyOfPlayer())&&void 0!==u&&u;let d=new Set;switch(t){case"Friends":if(r.MemberNumber!==Player.MemberNumber&&Player.MemberNumber===e&&l.FriendList().includes(null!==(c=r.MemberNumber)&&void 0!==c?c:-1))return!0;r.MemberNumber===Player.MemberNumber&&(d=new Set([...d,...l.FriendList()]));case"Whitelist":d=new Set([...d,...l.WhiteList(r)]);case"Lovers":d=new Set([...d,...l.Lovers(r)]);case"Owners":d=new Set([...d,...l.Owners(r)]);case"Clubowner":d=new Set([...d,...l.Clubowner(r)])}return d.has(e)}function u(e,t=Player){var o,r,n,i,a,s;return t.MemberNumber===e?"Self":(null===(o=null==t?void 0:t.Ownership)||void 0===o?void 0:o.MemberNumber)===e?"Clubowner":l.Owners(t).includes(e)?"Owners":l.Lovers(t).includes(e)?"Lovers":l.WhiteList(t).includes(e)?"Whitelist":t.MemberNumber===Player.MemberNumber&&(null===(r=Player.FriendList)||void 0===r?void 0:r.includes(e))||t.MemberNumber!==Player.MemberNumber&&e===Player.MemberNumber&&(null===(n=Player.FriendList)||void 0===n?void 0:n.includes(null!==(i=t.MemberNumber)&&void 0!==i?i:-1))?"Friends":t.BlackList.includes(e)||null!==(s=null===(a=null==t?void 0:t.GhostList)||void 0===a?void 0:a.includes(e))&&void 0!==s&&s?"None":"Public"}function c(e,t=">=",o,r=Player){const n=u(o,r),i=a.indexOf(e),l=a.indexOf(n);if(-1===i||-1===l)return!1;switch(t){case">":return l>i;case"<":return l<i;case">=":return l>=i;case"<=":return l<=i;case"==":return l==i;case"!=":return l!=i;default:throw new Error("Invalid comparison operator")}}},"./src/util/constants.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ACTIVITY_NAME_PREFIX:()=>d,ALL_BEDS:()=>f,BED_BAD:()=>y,BED_NORMAL:()=>h,BED_PERFECT:()=>v,BELL_SOUND:()=>m,ICONS:()=>l,INVOLUNTARY_END_PET_SPEAK_PERCENTAGE:()=>c,INVOLUNTARY_PET_SPEAK_PERCENTAGE:()=>s,INVOLUNTARY_RUSHED_SPEAK_PERCENTAGE:()=>u,MPA_NAME:()=>n,MPA_REPO:()=>a,MPA_VERSION:()=>i});var r=o("./package.json");const n=r.name.toLocaleUpperCase(),i=r.version,a=r.repository.url,l=Object.freeze({PAW:"data:image/png;base64,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"}),s=.05,u=.5,c=.2,d="MPA_",m=new Audio("Audio\\BellMedium.mp3"),v=["PetBed","Crib"],h=["LowCage","Kennel","Bed","MedicalBed","Cushion"],y=["FuturisticCrate","DollBox","Kennel","LowCage"],f=v.concat(h,y)},"./src/util/general.ts":(e,t,o)=>{"use strict";function r(e){return 0==e.length?null:e[Math.floor(Math.random()*e.length)]}function n(e,t){let o=structuredClone(e);return t.forEach((e=>{o=o.filter((t=>e!==t))})),o}function i(e){for(let t=e.length-1;t>0;t--){const o=Math.floor(Math.random()*(t+1));[e[t],e[o]]=[e[o],e[t]]}return e}o.r(t),o.d(t,{FilterArrayFromArray:()=>n,RandomElement:()=>r,ShuffleArray:()=>i})},"./src/util/messaging.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{AddDataSyncListener:()=>h,AddDataSyncListeners:()=>y,ArrayToReadableString:()=>P,ContentIsMPAMesage:()=>n,FindCharacterInRoom:()=>d,GetAttributeFromChatDictionary:()=>g,GetEntryFromChatDictionary:()=>p,GetMPAMessageFromChat:()=>i,MPANotifyPlayer:()=>c,NotifyPlayer:()=>u,RemoveDataSyncListeners:()=>f,RemoveOOCContentFromMessage:()=>m,SendAction:()=>l,SendEmote:()=>s,SendMPAMessage:()=>a,hookedMessages:()=>v});var r=o("./src/localization/localization.ts");function n(e){var t;return"Hidden"===e.Type&&"MPA"===e.Content&&1===(null===(t=null==e?void 0:e.Dictionary)||void 0===t?void 0:t.length)}function i(e){return n(e)?e.Dictionary[0]:null}function a(e,t){ServerSend("ChatRoomChat",{Type:"Hidden",Content:"MPA",Dictionary:[e],Target:t})}function l(e,t=void 0,o=[]){ServerSend("ChatRoomChat",{Content:"MayaScript",Type:"Activity",Dictionary:[{Tag:"MISSING ACTIVITY DESCRIPTION FOR KEYWORD MayaScript",Text:(0,r.LocalizedText)(e)},...o],Target:null==t?void 0:t.MemberNumber})}function s(e,t=void 0){ServerSend("ChatRoomChat",{Content:`${e}`,Type:"Emote",Target:null==t?void 0:t.MemberNumber})}function u(e,t){var o,r;const n="Dark"===(null===(o=Player.ChatSettings)||void 0===o?void 0:o.ColorTheme)||"Dark2"===(null===(r=Player.ChatSettings)||void 0===r?void 0:r.ColorTheme);ChatRoomSendLocal(`<p style='background-color:#00c2ff;color:${n?"white":"black"};margin-bottom:0.25em;margin-top:0'>${e}</p>`,t)}function c(e,t){u(`${(0,r.LocalizedText)("MPA")}: ${e}`,t)}function d(e,{MemberNumber:t=!0,NickName:o=!0,Name:r=!0}={}){var n;"string"!=typeof e&&(e=e.toString()),e=e.toLocaleLowerCase();for(const i of ChatRoomCharacter)if(t&&(null==i?void 0:i.MemberNumber)===Number(e)||o&&(null===(n=null==i?void 0:i.Nickname)||void 0===n?void 0:n.toLocaleLowerCase())===e||r&&i.Name.toLocaleLowerCase()===e)return i;return null}function m(e){return SpeechGetOOCRanges(e).reverse().forEach((t=>{e=e.substring(0,t.start)+e.substring(t.start+t.length)})),e}const v=[];function h(e){v.push({module:e.module,message:e.message,action:e.action})}function y(e){e.forEach((e=>{v.push({module:e.module,message:e.message,action:e.action})}))}function f(e){for(let t=v.length-1;0<=t;t--)v[t].module===e&&v.splice(t,1)}function p(e,t){if(e.Dictionary)try{return e.Dictionary.filter((e=>!!e[t]))[0]}catch(e){}}function g(e,t){var o;return null===(o=p(e,t))||void 0===o?void 0:o[t]}function P(e){const t=e.length;return 0===t?"":1===t?e[0]:2===t?`${e[0]} and ${e[1]}`:`${e.slice(0,-1).join(", ")}, and ${e[t-1]}`}},"./src/util/petHearAndSpeak.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{AppendPetSpeech:()=>i,ApplyPetHearing:()=>a,NonDisruptivePetSpeech:()=>l});var r=o("./src/util/constants.ts"),n=o("./src/util/general.ts");function i(e,t){const o=(0,n.RandomElement)(t);return null===o?e:/[.!?]$/.test(e)?`${e} ${o.charAt(0).toLocaleUpperCase()+o.slice(1)}.`:/[a-zA-Z]$/.test(e)?`${e}, ${o}.`:`${e} ${o}.`}function a([e,t,o],r,n){n.push((Player.Nickname||Player.Name).toLocaleLowerCase()),"SheHer"===Player.GetPronouns()?(n.push("girl"),n.push("she"),n.push("her")):(n.push("boy"),n.push("he"),n.push("him"));const i=e.toLocaleLowerCase();let a=[];n.forEach((e=>{const t=new RegExp(`\\b${e}\\b`,"g");[...i.matchAll(t)].forEach((t=>{a.push({start:t.index,len:e.length})}))}));const l=new Map;for(const e of a){const t=`${e.start}-${e.len}`;l.has(t)||l.set(t,e)}if(a=Array.from(l.values()),0===a.length)return r([e,t,o]);a.sort(((e,t)=>e.start-t.start));SpeechGetOOCRanges(e).forEach((e=>{for(let t=a.length-1;t>=0;t--){const o=a[t];(e.start<o.start&&o.start<e.start+e.length||e.start<o.start+o.len&&o.start+o.len<e.start+e.length)&&a.splice(t,1)}}));let s=0,u="";return a.forEach((n=>{u+=r([e.substring(s,n.start),t,o]),s=n.start+n.len,u+=e.substring(n.start,n.start+n.len)})),u+=r([e.substring(s),t,o]),u}function l(e,t,o){var a;if(0===o.length)return t([e]);let l=[];function s(){var e;return 0===l.length&&(l=o.concat(o),l=(0,n.ShuffleArray)(l)),null!==(e=l.pop())&&void 0!==e?e:""}let u=0,c=[];const d=SpeechGetOOCRanges(e);for(const t of d)""!==e.substring(u,t.start)&&c.push({text:e.substring(u,t.start),ooc:!1}),c.push({text:e.substring(t.start,t.start+t.length),ooc:!0}),u=t.start+t.length;const m=e.substring(u);""!==m&&c.push({text:m,ooc:!1}),c=c.map(((e,t)=>{const o=/\s+$/.exec(e.text);return e.text=e.text.replace(/\s+$/,""),o&&c[t+1]&&(c[t+1].text=o[0]+c[t+1].text),e}));let v=!1,h="";for(const e of c){if(e.ooc){h+=e.text;continue}const t=e.text.match(/(\s*\S+)/g)||[];let o=null;t.forEach((e=>{if(Math.random()<r.INVOLUNTARY_PET_SPEAK_PERCENTAGE){v=!0;const t=s(),n=null===o;n||/[.!?]$/.test(null!=o?o:"")?h+=`${n?"":" "}${t.charAt(0).toLocaleUpperCase()}${t.slice(1)}`+(/[.!?]$/.test(e)||n?"."+(n?" ":""):", "):h+=`${Math.random()<r.INVOLUNTARY_RUSHED_SPEAK_PERCENTAGE&&!(null!=o?o:"").endsWith(",")?",":""} ${t},`}h+=e,o=e})),(null===(a=c.slice().reverse().find((e=>!e.ooc)))||void 0===a?void 0:a.text)===e.text&&(!v||Math.random()<r.INVOLUNTARY_END_PET_SPEAK_PERCENTAGE)&&(h=i(h,[s()]))}return t([h])}},"./src/util/registerModules.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{RegisterModules:()=>g,modules:()=>f,settings:()=>p});var r=o("./src/util/storage.ts"),n=o("./src/modules/dataSync.ts"),i=o("./src/modules/settings.ts"),a=o("./src/modules/activities.ts"),l=o("./src/modules/clicker.ts"),s=o("./src/modules/virtualPet.ts"),u=o("./src/modules/virtualPetHUD.ts"),c=o("./src/modules/virtualPetConditions.ts"),d=o("./src/modules/profile.ts"),m=o("./src/modules/settingsOthers.ts"),v=o("./src/modules/authority.ts"),h=o("./src/modules/private.ts");let y=!1;const f=[new n.DataSyncModule,new i.SettingsModule,new a.ActivitiesModule,new l.ClickerModule,new s.VirtualPetModule,new u.VirtualPetHUDModule,new c.VirtualPetConditionsModule,new d.ProfileModule,new m.SettingsOtherModule,new v.AuthorityModule,new h.PrivateModule],p={};async function g(){y||(f.forEach((e=>{const t=e.Settings,o={};t.forEach((e=>{o[e.name]=e})),0!==Object.keys(o).length&&(p[e.Title]=o)})),await(0,r.LoadStorage)(),f.forEach((e=>{e.Load()})),y=!0)}},"./src/util/sdk.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{AwaitPlayer:()=>c,HookFunction:()=>s,RemoveHooks:()=>u,bcxAPI:()=>d,bcxFound:()=>m,modAPI:()=>l});var r=o("./node_modules/bondage-club-mod-sdk/dist/bcmodsdk.js"),n=o.n(r),i=o("./src/util/constants.ts");const a=[],l=n().registerMod({name:i.MPA_NAME,version:i.MPA_VERSION,fullName:"Maya's Petplay Additions",repository:i.MPA_REPO},{allowReplace:!1});function s(e,t,o,r){const n=l.hookFunction(t,o,r);return a.push({functionName:t,priority:o,hook:r,module:e,removeHook:n}),n}function u(e){for(let t=a.length-1;0<=t;t--)a[t].module===e&&(a[t].removeHook(),a.splice(t,1))}async function c(){if(!Player.MemberNumber||!Player.ExtensionSettings)return new Promise((e=>{const t=l.hookFunction("LoginResponse",0,((o,r)=>{r(o),t(),e()}))}))}function d(){var e;return null===(e=window.bcx)||void 0===e?void 0:e.getModApi(i.MPA_NAME)}function m(){return!!window.bcx}},"./src/util/settingTypes.ts":(e,t,o)=>{"use strict";function r(e){return"function"==typeof e.active&&"string"==typeof e.label}function n(e){return r(e)&&"checkbox"===e.type&&"boolean"==typeof e.value}function i(e){return r(e)&&"option"===e.type&&"string"==typeof e.value&&Array.isArray(e.options)&&"boolean"==typeof e.loop}function a(e){return r(e)&&"text"===e.type&&"string"==typeof e.value&&("number"==typeof e.width||null===e.width)&&("number"==typeof e.maxChars||null===e.maxChars)}function l(e){return r(e)&&"number"===e.type&&"number"==typeof e.value&&("number"==typeof e.width||null===e.width)&&"number"==typeof e.min&&"number"==typeof e.max&&("number"==typeof e.step||null===e.step)}o.r(t),o.d(t,{IsCheckboxSetting:()=>n,IsDisplaySetting:()=>r,IsNumberSetting:()=>l,IsOptionSetting:()=>i,IsTextSetting:()=>a})},"./src/util/storage.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ExportSettingsToClipboard:()=>v,ImportSettingsFromClipboard:()=>h,LoadStorage:()=>c,ResetStorage:()=>m,SaveStorage:()=>d});var r=o("./src/localization/localization.ts"),n=o("./src/util/registerModules.ts"),i=o("./src/util/sdk.ts"),a=o("./src/modules/dataSync.ts"),l=o("./src/modules/_module.ts"),s=o("./src/util/constants.ts"),u=o("./src/modules/virtualPet.ts");async function c(){var e,t,o,a;await(0,i.AwaitPlayer)();const l=null!==(a=JSON.parse(null!==(o=LZString.decompressFromBase64(null!==(t=null===(e=Player.ExtensionSettings)||void 0===e?void 0:e.MPA)&&void 0!==t?t:""))&&void 0!==o?o:"{}"))&&void 0!==a?a:{};Object.entries(n.settings).forEach((e=>{const[t,o]=e;for(const[e,r]of Object.entries(o))t in l||(l[t]={}),e in l[t]||(l[t][e]=r.value)})),function(e){var t;e.version!==s.MPA_VERSION&&(ServerAccountBeep({MemberNumber:null!==(t=Player.MemberNumber)&&void 0!==t?t:-1,MemberName:(0,r.LocalizedText)("MPA"),ChatRoomSpace:"X",ChatRoomName:(0,r.LocalizedText)("MPA Updated"),Private:!1,BeepType:"",Message:"MPA has been updated."}),e.version=s.MPA_VERSION,d(!1))}(l),Player.MPA=l}function d(e=!0){Player.MPA&&(Player.MPA[l.ModuleTitle.Authority].owners=Player.MPA[l.ModuleTitle.Authority].owners.split(",").filter((e=>Number(e)!==Player.MemberNumber)).join(","),Player.ExtensionSettings.MPA=LZString.compressToBase64(JSON.stringify(Player.MPA)),ServerPlayerExtensionSettingsSync("MPA"),e&&(0,a.SettingSync)(!1))}async function m(){delete Player.ExtensionSettings.MPA,Player.ExtensionSettings.MPA=LZString.compressToBase64(JSON.stringify({version:s.MPA_VERSION})),await c(),d()}async function v(){return navigator.clipboard.writeText(LZString.compressToBase64(JSON.stringify(Player.MPA)))}async function h(){return new Promise(((e,t)=>{navigator.clipboard.readText().then((o=>{var r;try{const e=JSON.parse(null!==(r=LZString.decompressFromBase64(null!=o?o:""))&&void 0!==r?r:"{}"),t=JSON.parse(JSON.stringify(Player.MPA));t[l.ModuleTitle.VirtualPet].levels.lastUpdated=Date.now(),t[l.ModuleTitle.VirtualPet].levels.lastOnline=Date.now();for(const o in e)void 0!==e[o]&&(t[o]=e[o]);t[l.ModuleTitle.VirtualPet].levels.lastUpdated=Date.now()-(t[l.ModuleTitle.VirtualPet].levels.lastOnline-t[l.ModuleTitle.VirtualPet].levels.lastUpdated),t[l.ModuleTitle.VirtualPet].levels.lastOnline=Date.now(),Player.MPA=t,(0,u.LevelSync)(!1,!1,!1),d(!0)}catch(e){return console.warn(e),t()}return e()}),(()=>t()))}))}},"./package.json":e=>{"use strict";e.exports=JSON.parse('{"name":"mpa","description":"","version":"0.4.4b3","author":"Maya","license":"MIT","repository":{"type":"git","url":"https://github.com/MayaTheFoxy/MPA"},"scripts":{"serve":"npx webpack serve --progress","stable":"npx webpack --env stable=true","dev":"npx webpack --env stable=false","lint":"eslint ./src","lint-fix":"eslint ./src --fix"},"dependencies":{"bondage-club-mod-sdk":"^1.2.0"},"devDependencies":{"@eslint/js":"^9.9.0","@stylistic/eslint-plugin":"^2.6.2","bc-stubs":"^111.0.0","eslint":"^9.9.0","globals":"^15.9.0","lz-string":"^1.5.0","terser-webpack-plugin":"^5.3.10","ts-loader":"^9.5.1","typescript":"^5.5.4","typescript-eslint":"^8.1.0","webpack":"^5.93.0","webpack-cli":"^5.1.4","webpack-dev-server":"^5.0.4"}}')},"./src/localization/RU.json":e=>{"use strict";e.exports=JSON.parse('{"Maya\'s Petplay Additions":"Дополнения для петплея от Maya","MPA Settings":"","Clicker":"Кликер","Enable auditory clicker":"","Phrases that trigger the click; Separate phrases with a comma":"Фразы, которые совершают клик; Разделяйте фразы с помощью запятой","Allow your own chat, emotes, & actions to trigger the clicker":"Разрешить вашим собственным сообщения в чате, эмоциям или действиям совершать клик","Who will be able to trigger the clicker":"Кто сможет вызывать срабатывание кликера","Public":"Публично","Friends":"Друзья","Whitelist":"Белый список","Lovers":"Любовники","Owners":"Владельцы","Clubowner":"Клубный владелец","Self":"Самостоятельно","Virtual Pet":"Виртуальный питомец","Become a virtual pet! Requiring: food, water, sleep, and affection":"Станьте виртуальным питомцем! Ваши потребности: еда, вода, сон и ласка","How many hours until you are completely out of food; 0 to disable":"Через сколько часов у вас полностью закончится еда; 0 для отключения","How many hours until you are completely out of water; 0 to disable":"Через сколько часов у вас полностью закончится вода; 0 для отключения","How many hours until you are completely out of sleep; 0 to disable":"Через сколько часов у вас полностью закончится сон; 0 для отключения","How many hours until you are completely out of affection; 0 to disable":"Через сколько часов у вас полностью закончится ласка; 0 для отключения","Pause stats from draining when logged out of the club":"Приостановить снижение показателей при выходе из клуба","Allow eating or drinking from items in your OWN hands":"Разрешить есть или пить из предметов в ваших СОБСТВЕННЫХ руках","Click Once":"Щелкнуть один раз","SourceCharacter presses the button PronounPossessive clicker.":"SourceCharacter нажимает на кнопку PronounPossessive кликера.","Click Twice":"Щелкнуть дважды","SourceCharacter presses the button PronounPossessive clicker twice.":"SourceCharacter нажимает на кнопку PronounPossessive кликера дважды.","Click Thrice":"Щелкнуть трижды","SourceCharacter presses the button PronounPossessive clicker three times.":"SourceCharacter нажимает на кнопку PronounPossessive кликера трижды."}')},"./src/localization/template.json":e=>{"use strict";e.exports=JSON.parse('{"Maya\'s Petplay Additions":"","MPA":"","MPA Settings":"","MPA: No BC item permission":"","MPA Updated":"","Wiki":"","Open the MPA wiki in a new tab":"","RESET":"","Reset all your settings back to default":"","Import":"","Import the settings copied to your clipboard":"","Export":"","Export your current settings to the clipboard":"","Confirm":"","Cancel":"","WARNING: Are you sure you want to reset your MPA settings and data back to default?":"","This action can not be undone!":"","Export and save your settings BEFORE confirming if you are unsure.":"","SourceCharacter is accessing your MPA settings.":"","Public":"","Friends":"","Whitelist":"","Lovers":"","Owners":"","Clubowner":"","Self":"","None":"","Authority":"","Owner member numbers; Seperated by a ,":"","Allow TargetCharacter changing TargetPronounPossessive own settings while bound":"","Allow TargetCharacter changing the settings of others while bound":"","Allow TargetCharacter to change TargetPronounPossessive Authority settings":"","Allow others to change TargetCharacter\'s Authority settings":"","Allow TargetCharacter to change TargetPronounPossessive Profile settings":"","Allow others to change TargetCharacter\'s Profile settings":"","Allow TargetCharacter to change TargetPronounPossessive Clicker settings":"","Allow others to change TargetCharacter\'s Clicker settings":"","Allow TargetCharacter to change TargetPronounPossessive Virtual Pet settings":"","Allow others to change TargetCharacter\'s Virtual Pet settings":"","Allow TargetCharacter to change TargetPronounPossessive Virtual Pet Conditions settings":"","Allow others to change TargetCharacter\'s Virtual Pet Conditions settings":"","SourceCharacter just updated your SettingsArray settings.":"","Profile":"","Use a preset profile or make your own":"","Pet sounds you make":"","Enable hardcore mode; Will set certain settings and prevent changing them back":"","Automatically make the above pet sounds while talking":"","Clicker":"","Enable auditory clicker":"","Phrases that trigger the click; Separate phrases with a comma":"","Allow your own chat, emotes, & actions to trigger the clicker":"","Who will be able to trigger the clicker":"","Allow BCX Listen to my voice rule to trigger the clicker; Requires BCX":"","Virtual Pet":"","Become a virtual pet! Requiring: food, water, sleep, and affection":"","How many hours until you are completely out of food; 0 to disable":"","How many hours until you are completely out of water; 0 to disable":"","How many hours until you are completely out of sleep; 0 to disable":"","How many hours until you are completely out of affection; 0 to disable":"","Pause stats from draining when logged out of the club":"","Allow eating or drinking from items in your OWN hands":"","Stats drain even when logged out of the club":"","Masochist pet; Abuse raises affection":"","Virtual Pet HUD":"","Display your own virtual pet stats on the HUD":"","Display the exact number percentage on the HUD":"","Where to display the HUD":"","Display the virtual pet stats of others on the HUD":"","Click Once":"","SourceCharacter presses the button on PronounPossessive clicker.":"","Click Twice":"","SourceCharacter presses the button on PronounPossessive clicker twice.":"","Click Thrice":"","SourceCharacter presses the button on PronounPossessive clicker three times.":"","Eat From Bowl":"","Drink From Bowl":"","SourceCharacter eats from PronounPossessive bowl.":"","SourceCharacter drinks from PronounPossessive bowl.":"","SourceCharacter puts PronounPossessive head into PronounPossessive bowl in order to eat with the gag, making a mess.":"","SourceCharacter puts PronounPossessive head into PronounPossessive bowl in order to drink with the gag, making a mess.":"","Virtual Pet Conditions":"","SourceCharacter passes out from exhaustion.":"","SourceCharacter wakes up from PronounPossessive nap.":"","Recive conditions based on current level of your virtual pet stats":"","Food and water affects affection gain":"","Vision darkens as you get sleepier":"","Passout when exhausted":"","Use LSCG passout instead of MPA; Requires LSCG":"","Affection will buff skills based on its level":"","Affection will debuff skills based on its level":"","Hearing becomes harder the hungrier you are":"","Takes longer to leave the room when hungry":"","Flick Bell":"","SourceCharacter flicks the bell on PronounPossessive collar.":"","SourceCharacter flicks the bell on TargetCharacter\'s collar.":"","SourceCharacter flicks the bells on PronounPossessive nipples.":"","SourceCharacter flicks the bells on TargetCharacter\'s nipples.":"","SourceCharacter crawls into PronounPossessive bed.":"","SourceCharacter tucks TargetCharacter into bed.":""}')}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,o),i.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{"use strict";o.r(r);var e=o("./src/util/registerModules.ts"),t=o("./src/commands/buildAllCommands.ts"),n=o("./src/util/constants.ts");console.log("Loading Maya's Petplay Additions"),(0,t.BuildAllCommands)(),(0,e.RegisterModules)(),window.MPA={version:n.MPA_VERSION,menuLoaded:!1}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LXNkay9kaXN0L2JjbW9kc2RrLmpzIiwid2VicGFjazovL21wYS8uL3NyYy9jb21tYW5kcy9iZWQudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL2NvbW1hbmRzL2Jvd2wudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL2NvbW1hbmRzL2J1aWxkQWxsQ29tbWFuZHMudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL2xvY2FsaXphdGlvbi9sb2NhbGl6YXRpb24udHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL21vZHVsZXMvX21vZHVsZS50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvbW9kdWxlcy9hY3Rpdml0aWVzLnRzIiwid2VicGFjazovL21wYS8uL3NyYy9tb2R1bGVzL2F1dGhvcml0eS50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvbW9kdWxlcy9jbGlja2VyLnRzIiwid2VicGFjazovL21wYS8uL3NyYy9tb2R1bGVzL2RhdGFTeW5jLnRzIiwid2VicGFjazovL21wYS8uL3NyYy9tb2R1bGVzL3ByaXZhdGUudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL21vZHVsZXMvcHJvZmlsZS50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvbW9kdWxlcy9zZXR0aW5ncy50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvbW9kdWxlcy9zZXR0aW5nc090aGVycy50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvbW9kdWxlcy92aXJ0dWFsUGV0LnRzIiwid2VicGFjazovL21wYS8uL3NyYy9tb2R1bGVzL3ZpcnR1YWxQZXRDb25kaXRpb25zLnRzIiwid2VicGFjazovL21wYS8uL3NyYy9tb2R1bGVzL3ZpcnR1YWxQZXRIVUQudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL3V0aWwvYWN0aXZpdGllcy50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvdXRpbC9hdXRob3JpdHkudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL3V0aWwvY29uc3RhbnRzLnRzIiwid2VicGFjazovL21wYS8uL3NyYy91dGlsL2dlbmVyYWwudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL3V0aWwvbWVzc2FnaW5nLnRzIiwid2VicGFjazovL21wYS8uL3NyYy91dGlsL3BldEhlYXJBbmRTcGVhay50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvdXRpbC9yZWdpc3Rlck1vZHVsZXMudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL3V0aWwvc2RrLnRzIiwid2VicGFjazovL21wYS8uL3NyYy91dGlsL3NldHRpbmdUeXBlcy50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvdXRpbC9zdG9yYWdlLnRzIiwid2VicGFjazovL21wYS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9tcGEvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vbXBhL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9tcGEvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9tcGEvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQm9uZGFnZSBDbHViIE1vZCBEZXZlbG9wbWVudCBLaXQgKDEuMi4wKVxuLy8gRm9yIG1vcmUgaW5mbyBzZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9Kb21zaGlyOTgvYm9uZGFnZS1jbHViLW1vZC1zZGtcbi8qKiBAdHlwZSB7TW9kU0RLR2xvYmFsQVBJfSAqL1xudmFyIGJjTW9kU2RrPWZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7Y29uc3Qgbz1cIjEuMi4wXCI7ZnVuY3Rpb24gZShvKXthbGVydChcIk1vZCBFUlJPUjpcXG5cIitvKTtjb25zdCBlPW5ldyBFcnJvcihvKTt0aHJvdyBjb25zb2xlLmVycm9yKGUpLGV9Y29uc3QgdD1uZXcgVGV4dEVuY29kZXI7ZnVuY3Rpb24gbihvKXtyZXR1cm4hIW8mJlwib2JqZWN0XCI9PXR5cGVvZiBvJiYhQXJyYXkuaXNBcnJheShvKX1mdW5jdGlvbiByKG8pe2NvbnN0IGU9bmV3IFNldDtyZXR1cm4gby5maWx0ZXIoKG89PiFlLmhhcyhvKSYmZS5hZGQobykpKX1jb25zdCBpPW5ldyBNYXAsYT1uZXcgU2V0O2Z1bmN0aW9uIGMobyl7YS5oYXMobyl8fChhLmFkZChvKSxjb25zb2xlLndhcm4obykpfWZ1bmN0aW9uIHMobyl7Y29uc3QgZT1bXSx0PW5ldyBNYXAsbj1uZXcgU2V0O2Zvcihjb25zdCByIG9mIGYudmFsdWVzKCkpe2NvbnN0IGk9ci5wYXRjaGluZy5nZXQoby5uYW1lKTtpZihpKXtlLnB1c2goLi4uaS5ob29rcyk7Zm9yKGNvbnN0W2UsYV1vZiBpLnBhdGNoZXMuZW50cmllcygpKXQuaGFzKGUpJiZ0LmdldChlKSE9PWEmJmMoYE1vZFNESzogTW9kICcke3IubmFtZX0nIGlzIHBhdGNoaW5nIGZ1bmN0aW9uICR7by5uYW1lfSB3aXRoIHNhbWUgcGF0dGVybiB0aGF0IGlzIGFscmVhZHkgYXBwbGllZCBieSBkaWZmZXJlbnQgbW9kLCBidXQgd2l0aCBkaWZmZXJlbnQgcGF0dGVybjpcXG5QYXR0ZXJuOlxcbiR7ZX1cXG5QYXRjaDE6XFxuJHt0LmdldChlKXx8XCJcIn1cXG5QYXRjaDI6XFxuJHthfWApLHQuc2V0KGUsYSksbi5hZGQoci5uYW1lKX19ZS5zb3J0KCgobyxlKT0+ZS5wcmlvcml0eS1vLnByaW9yaXR5KSk7Y29uc3Qgcj1mdW5jdGlvbihvLGUpe2lmKDA9PT1lLnNpemUpcmV0dXJuIG87bGV0IHQ9by50b1N0cmluZygpLnJlcGxhY2VBbGwoXCJcXHJcXG5cIixcIlxcblwiKTtmb3IoY29uc3RbbixyXW9mIGUuZW50cmllcygpKXQuaW5jbHVkZXMobil8fGMoYE1vZFNESzogUGF0Y2hpbmcgJHtvLm5hbWV9OiBQYXRjaCAke259IG5vdCBhcHBsaWVkYCksdD10LnJlcGxhY2VBbGwobixyKTtyZXR1cm4oMCxldmFsKShgKCR7dH0pYCl9KG8ub3JpZ2luYWwsdCk7bGV0IGk9ZnVuY3Rpb24oZSl7dmFyIHQsaTtjb25zdCBhPW51bGw9PT0oaT0odD1tLmVycm9yUmVwb3J0ZXJIb29rcykuaG9va0NoYWluRXhpdCl8fHZvaWQgMD09PWk/dm9pZCAwOmkuY2FsbCh0LG8ubmFtZSxuKSxjPXIuYXBwbHkodGhpcyxlKTtyZXR1cm4gbnVsbD09YXx8YSgpLGN9O2ZvcihsZXQgdD1lLmxlbmd0aC0xO3Q+PTA7dC0tKXtjb25zdCBuPWVbdF0scj1pO2k9ZnVuY3Rpb24oZSl7dmFyIHQsaTtjb25zdCBhPW51bGw9PT0oaT0odD1tLmVycm9yUmVwb3J0ZXJIb29rcykuaG9va0VudGVyKXx8dm9pZCAwPT09aT92b2lkIDA6aS5jYWxsKHQsby5uYW1lLG4ubW9kKSxjPW4uaG9vay5hcHBseSh0aGlzLFtlLG89PntpZigxIT09YXJndW1lbnRzLmxlbmd0aHx8IUFycmF5LmlzQXJyYXkoZSkpdGhyb3cgbmV3IEVycm9yKGBNb2QgJHtuLm1vZH0gZmFpbGVkIHRvIGNhbGwgbmV4dCBob29rOiBFeHBlY3RlZCBhcmdzIHRvIGJlIGFycmF5LCBnb3QgJHt0eXBlb2Ygb31gKTtyZXR1cm4gci5jYWxsKHRoaXMsbyl9XSk7cmV0dXJuIG51bGw9PWF8fGEoKSxjfX1yZXR1cm57aG9va3M6ZSxwYXRjaGVzOnQscGF0Y2hlc1NvdXJjZXM6bixlbnRlcjppLGZpbmFsOnJ9fWZ1bmN0aW9uIGwobyxlPSExKXtsZXQgcj1pLmdldChvKTtpZihyKWUmJihyLnByZWNvbXB1dGVkPXMocikpO2Vsc2V7bGV0IGU9d2luZG93O2NvbnN0IGE9by5zcGxpdChcIi5cIik7Zm9yKGxldCB0PTA7dDxhLmxlbmd0aC0xO3QrKylpZihlPWVbYVt0XV0sIW4oZSkpdGhyb3cgbmV3IEVycm9yKGBNb2RTREs6IEZ1bmN0aW9uICR7b30gdG8gYmUgcGF0Y2hlZCBub3QgZm91bmQ7ICR7YS5zbGljZSgwLHQrMSkuam9pbihcIi5cIil9IGlzIG5vdCBvYmplY3RgKTtjb25zdCBjPWVbYVthLmxlbmd0aC0xXV07aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgYyl0aHJvdyBuZXcgRXJyb3IoYE1vZFNESzogRnVuY3Rpb24gJHtvfSB0byBiZSBwYXRjaGVkIG5vdCBmb3VuZGApO2NvbnN0IGw9ZnVuY3Rpb24obyl7bGV0IGU9LTE7Zm9yKGNvbnN0IG4gb2YgdC5lbmNvZGUobykpe2xldCBvPTI1NSYoZV5uKTtmb3IobGV0IGU9MDtlPDg7ZSsrKW89MSZvPy0zMDY2NzQ5MTJebz4+PjE6bz4+PjE7ZT1lPj4+OF5vfXJldHVybigoLTFeZSk+Pj4wKS50b1N0cmluZygxNikucGFkU3RhcnQoOCxcIjBcIikudG9VcHBlckNhc2UoKX0oYy50b1N0cmluZygpLnJlcGxhY2VBbGwoXCJcXHJcXG5cIixcIlxcblwiKSksZD17bmFtZTpvLG9yaWdpbmFsOmMsb3JpZ2luYWxIYXNoOmx9O3I9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGQpLHtwcmVjb21wdXRlZDpzKGQpLHJvdXRlcjooKT0+e30sY29udGV4dDplLGNvbnRleHRQcm9wZXJ0eTphW2EubGVuZ3RoLTFdfSksci5yb3V0ZXI9ZnVuY3Rpb24obyl7cmV0dXJuIGZ1bmN0aW9uKC4uLmUpe3JldHVybiBvLnByZWNvbXB1dGVkLmVudGVyLmFwcGx5KHRoaXMsW2VdKX19KHIpLGkuc2V0KG8sciksZVtyLmNvbnRleHRQcm9wZXJ0eV09ci5yb3V0ZXJ9cmV0dXJuIHJ9ZnVuY3Rpb24gZCgpe2Zvcihjb25zdCBvIG9mIGkudmFsdWVzKCkpby5wcmVjb21wdXRlZD1zKG8pfWZ1bmN0aW9uIHAoKXtjb25zdCBvPW5ldyBNYXA7Zm9yKGNvbnN0W2UsdF1vZiBpKW8uc2V0KGUse25hbWU6ZSxvcmlnaW5hbDp0Lm9yaWdpbmFsLG9yaWdpbmFsSGFzaDp0Lm9yaWdpbmFsSGFzaCxzZGtFbnRyeXBvaW50OnQucm91dGVyLGN1cnJlbnRFbnRyeXBvaW50OnQuY29udGV4dFt0LmNvbnRleHRQcm9wZXJ0eV0saG9va2VkQnlNb2RzOnIodC5wcmVjb21wdXRlZC5ob29rcy5tYXAoKG89Pm8ubW9kKSkpLHBhdGNoZWRCeU1vZHM6QXJyYXkuZnJvbSh0LnByZWNvbXB1dGVkLnBhdGNoZXNTb3VyY2VzKX0pO3JldHVybiBvfWNvbnN0IGY9bmV3IE1hcDtmdW5jdGlvbiB1KG8pe2YuZ2V0KG8ubmFtZSkhPT1vJiZlKGBGYWlsZWQgdG8gdW5sb2FkIG1vZCAnJHtvLm5hbWV9JzogTm90IHJlZ2lzdGVyZWRgKSxmLmRlbGV0ZShvLm5hbWUpLG8ubG9hZGVkPSExLGQoKX1mdW5jdGlvbiBnKG8sdCl7byYmXCJvYmplY3RcIj09dHlwZW9mIG98fGUoXCJGYWlsZWQgdG8gcmVnaXN0ZXIgbW9kOiBFeHBlY3RlZCBpbmZvIG9iamVjdCwgZ290IFwiK3R5cGVvZiBvKSxcInN0cmluZ1wiPT10eXBlb2Ygby5uYW1lJiZvLm5hbWV8fGUoXCJGYWlsZWQgdG8gcmVnaXN0ZXIgbW9kOiBFeHBlY3RlZCBuYW1lIHRvIGJlIG5vbi1lbXB0eSBzdHJpbmcsIGdvdCBcIit0eXBlb2Ygby5uYW1lKTtsZXQgcj1gJyR7by5uYW1lfSdgO1wic3RyaW5nXCI9PXR5cGVvZiBvLmZ1bGxOYW1lJiZvLmZ1bGxOYW1lfHxlKGBGYWlsZWQgdG8gcmVnaXN0ZXIgbW9kICR7cn06IEV4cGVjdGVkIGZ1bGxOYW1lIHRvIGJlIG5vbi1lbXB0eSBzdHJpbmcsIGdvdCAke3R5cGVvZiBvLmZ1bGxOYW1lfWApLHI9YCcke28uZnVsbE5hbWV9ICgke28ubmFtZX0pJ2AsXCJzdHJpbmdcIiE9dHlwZW9mIG8udmVyc2lvbiYmZShgRmFpbGVkIHRvIHJlZ2lzdGVyIG1vZCAke3J9OiBFeHBlY3RlZCB2ZXJzaW9uIHRvIGJlIHN0cmluZywgZ290ICR7dHlwZW9mIG8udmVyc2lvbn1gKSxvLnJlcG9zaXRvcnl8fChvLnJlcG9zaXRvcnk9dm9pZCAwKSx2b2lkIDAhPT1vLnJlcG9zaXRvcnkmJlwic3RyaW5nXCIhPXR5cGVvZiBvLnJlcG9zaXRvcnkmJmUoYEZhaWxlZCB0byByZWdpc3RlciBtb2QgJHtyfTogRXhwZWN0ZWQgcmVwb3NpdG9yeSB0byBiZSB1bmRlZmluZWQgb3Igc3RyaW5nLCBnb3QgJHt0eXBlb2Ygby52ZXJzaW9ufWApLG51bGw9PXQmJih0PXt9KSx0JiZcIm9iamVjdFwiPT10eXBlb2YgdHx8ZShgRmFpbGVkIHRvIHJlZ2lzdGVyIG1vZCAke3J9OiBFeHBlY3RlZCBvcHRpb25zIHRvIGJlIHVuZGVmaW5lZCBvciBvYmplY3QsIGdvdCAke3R5cGVvZiB0fWApO2NvbnN0IGk9ITA9PT10LmFsbG93UmVwbGFjZSxhPWYuZ2V0KG8ubmFtZSk7YSYmKGEuYWxsb3dSZXBsYWNlJiZpfHxlKGBSZWZ1c2luZyB0byBsb2FkIG1vZCAke3J9OiBpdCBpcyBhbHJlYWR5IGxvYWRlZCBhbmQgZG9lc24ndCBhbGxvdyBiZWluZyByZXBsYWNlZC5cXG5XYXMgdGhlIG1vZCBsb2FkZWQgbXVsdGlwbGUgdGltZXM/YCksdShhKSk7Y29uc3QgYz1vPT57bGV0IGU9Zy5wYXRjaGluZy5nZXQoby5uYW1lKTtyZXR1cm4gZXx8KGU9e2hvb2tzOltdLHBhdGNoZXM6bmV3IE1hcH0sZy5wYXRjaGluZy5zZXQoby5uYW1lLGUpKSxlfSxzPShvLHQpPT4oLi4ubik9Pnt2YXIgaSxhO2NvbnN0IGM9bnVsbD09PShhPShpPW0uZXJyb3JSZXBvcnRlckhvb2tzKS5hcGlFbmRwb2ludEVudGVyKXx8dm9pZCAwPT09YT92b2lkIDA6YS5jYWxsKGksbyxnLm5hbWUpO2cubG9hZGVkfHxlKGBNb2QgJHtyfSBhdHRlbXB0ZWQgdG8gY2FsbCBTREsgZnVuY3Rpb24gYWZ0ZXIgYmVpbmcgdW5sb2FkZWRgKTtjb25zdCBzPXQoLi4ubik7cmV0dXJuIG51bGw9PWN8fGMoKSxzfSxwPXt1bmxvYWQ6cyhcInVubG9hZFwiLCgoKT0+dShnKSkpLGhvb2tGdW5jdGlvbjpzKFwiaG9va0Z1bmN0aW9uXCIsKChvLHQsbik9PntcInN0cmluZ1wiPT10eXBlb2YgbyYmb3x8ZShgTW9kICR7cn0gZmFpbGVkIHRvIHBhdGNoIGEgZnVuY3Rpb246IEV4cGVjdGVkIGZ1bmN0aW9uIG5hbWUgc3RyaW5nLCBnb3QgJHt0eXBlb2Ygb31gKTtjb25zdCBpPWwobyksYT1jKGkpO1wibnVtYmVyXCIhPXR5cGVvZiB0JiZlKGBNb2QgJHtyfSBmYWlsZWQgdG8gaG9vayBmdW5jdGlvbiAnJHtvfSc6IEV4cGVjdGVkIHByaW9yaXR5IG51bWJlciwgZ290ICR7dHlwZW9mIHR9YCksXCJmdW5jdGlvblwiIT10eXBlb2YgbiYmZShgTW9kICR7cn0gZmFpbGVkIHRvIGhvb2sgZnVuY3Rpb24gJyR7b30nOiBFeHBlY3RlZCBob29rIGZ1bmN0aW9uLCBnb3QgJHt0eXBlb2Ygbn1gKTtjb25zdCBzPXttb2Q6Zy5uYW1lLHByaW9yaXR5OnQsaG9vazpufTtyZXR1cm4gYS5ob29rcy5wdXNoKHMpLGQoKSwoKT0+e2NvbnN0IG89YS5ob29rcy5pbmRleE9mKHMpO28+PTAmJihhLmhvb2tzLnNwbGljZShvLDEpLGQoKSl9fSkpLHBhdGNoRnVuY3Rpb246cyhcInBhdGNoRnVuY3Rpb25cIiwoKG8sdCk9PntcInN0cmluZ1wiPT10eXBlb2YgbyYmb3x8ZShgTW9kICR7cn0gZmFpbGVkIHRvIHBhdGNoIGEgZnVuY3Rpb246IEV4cGVjdGVkIGZ1bmN0aW9uIG5hbWUgc3RyaW5nLCBnb3QgJHt0eXBlb2Ygb31gKTtjb25zdCBpPWwobyksYT1jKGkpO24odCl8fGUoYE1vZCAke3J9IGZhaWxlZCB0byBwYXRjaCBmdW5jdGlvbiAnJHtvfSc6IEV4cGVjdGVkIHBhdGNoZXMgb2JqZWN0LCBnb3QgJHt0eXBlb2YgdH1gKTtmb3IoY29uc3RbbixpXW9mIE9iamVjdC5lbnRyaWVzKHQpKVwic3RyaW5nXCI9PXR5cGVvZiBpP2EucGF0Y2hlcy5zZXQobixpKTpudWxsPT09aT9hLnBhdGNoZXMuZGVsZXRlKG4pOmUoYE1vZCAke3J9IGZhaWxlZCB0byBwYXRjaCBmdW5jdGlvbiAnJHtvfSc6IEludmFsaWQgZm9ybWF0IG9mIHBhdGNoICcke259J2ApO2QoKX0pKSxyZW1vdmVQYXRjaGVzOnMoXCJyZW1vdmVQYXRjaGVzXCIsKG89PntcInN0cmluZ1wiPT10eXBlb2YgbyYmb3x8ZShgTW9kICR7cn0gZmFpbGVkIHRvIHBhdGNoIGEgZnVuY3Rpb246IEV4cGVjdGVkIGZ1bmN0aW9uIG5hbWUgc3RyaW5nLCBnb3QgJHt0eXBlb2Ygb31gKTtjb25zdCB0PWwobyk7Yyh0KS5wYXRjaGVzLmNsZWFyKCksZCgpfSkpLGNhbGxPcmlnaW5hbDpzKFwiY2FsbE9yaWdpbmFsXCIsKChvLHQsbik9PntcInN0cmluZ1wiPT10eXBlb2YgbyYmb3x8ZShgTW9kICR7cn0gZmFpbGVkIHRvIGNhbGwgYSBmdW5jdGlvbjogRXhwZWN0ZWQgZnVuY3Rpb24gbmFtZSBzdHJpbmcsIGdvdCAke3R5cGVvZiBvfWApO2NvbnN0IGk9bChvKTtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KXx8ZShgTW9kICR7cn0gZmFpbGVkIHRvIGNhbGwgYSBmdW5jdGlvbjogRXhwZWN0ZWQgYXJncyBhcnJheSwgZ290ICR7dHlwZW9mIHR9YCksaS5vcmlnaW5hbC5hcHBseShudWxsIT1uP246Z2xvYmFsVGhpcyx0KX0pKSxnZXRPcmlnaW5hbEhhc2g6cyhcImdldE9yaWdpbmFsSGFzaFwiLChvPT57XCJzdHJpbmdcIj09dHlwZW9mIG8mJm98fGUoYE1vZCAke3J9IGZhaWxlZCB0byBnZXQgaGFzaDogRXhwZWN0ZWQgZnVuY3Rpb24gbmFtZSBzdHJpbmcsIGdvdCAke3R5cGVvZiBvfWApO3JldHVybiBsKG8pLm9yaWdpbmFsSGFzaH0pKX0sZz17bmFtZTpvLm5hbWUsZnVsbE5hbWU6by5mdWxsTmFtZSx2ZXJzaW9uOm8udmVyc2lvbixyZXBvc2l0b3J5Om8ucmVwb3NpdG9yeSxhbGxvd1JlcGxhY2U6aSxhcGk6cCxsb2FkZWQ6ITAscGF0Y2hpbmc6bmV3IE1hcH07cmV0dXJuIGYuc2V0KG8ubmFtZSxnKSxPYmplY3QuZnJlZXplKHApfWZ1bmN0aW9uIGgoKXtjb25zdCBvPVtdO2Zvcihjb25zdCBlIG9mIGYudmFsdWVzKCkpby5wdXNoKHtuYW1lOmUubmFtZSxmdWxsTmFtZTplLmZ1bGxOYW1lLHZlcnNpb246ZS52ZXJzaW9uLHJlcG9zaXRvcnk6ZS5yZXBvc2l0b3J5fSk7cmV0dXJuIG99bGV0IG07Y29uc3QgeT12b2lkIDA9PT13aW5kb3cuYmNNb2RTZGs/d2luZG93LmJjTW9kU2RrPWZ1bmN0aW9uKCl7Y29uc3QgZT17dmVyc2lvbjpvLGFwaVZlcnNpb246MSxyZWdpc3Rlck1vZDpnLGdldE1vZHNJbmZvOmgsZ2V0UGF0Y2hpbmdJbmZvOnAsZXJyb3JSZXBvcnRlckhvb2tzOk9iamVjdC5zZWFsKHthcGlFbmRwb2ludEVudGVyOm51bGwsaG9va0VudGVyOm51bGwsaG9va0NoYWluRXhpdDpudWxsfSl9O3JldHVybiBtPWUsT2JqZWN0LmZyZWV6ZShlKX0oKToobih3aW5kb3cuYmNNb2RTZGspfHxlKFwiRmFpbGVkIHRvIGluaXQgTW9kIFNESzogTmFtZSBhbHJlYWR5IGluIHVzZVwiKSwxIT09d2luZG93LmJjTW9kU2RrLmFwaVZlcnNpb24mJmUoYEZhaWxlZCB0byBpbml0IE1vZCBTREs6IERpZmZlcmVudCB2ZXJzaW9uIGFscmVhZHkgbG9hZGVkICgnMS4yLjAnIHZzICcke3dpbmRvdy5iY01vZFNkay52ZXJzaW9ufScpYCksd2luZG93LmJjTW9kU2RrLnZlcnNpb24hPT1vJiZhbGVydChgTW9kIFNESyB3YXJuaW5nOiBMb2FkaW5nIGRpZmZlcmVudCBidXQgY29tcGF0aWJsZSB2ZXJzaW9ucyAoJzEuMi4wJyB2cyAnJHt3aW5kb3cuYmNNb2RTZGsudmVyc2lvbn0nKVxcbk9uZSBvZiBtb2RzIHlvdSBhcmUgdXNpbmcgaXMgdXNpbmcgYW4gb2xkIHZlcnNpb24gb2YgU0RLLiBJdCB3aWxsIHdvcmsgZm9yIG5vdyBidXQgcGxlYXNlIGluZm9ybSBhdXRob3IgdG8gdXBkYXRlYCksd2luZG93LmJjTW9kU2RrKTtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgZXhwb3J0cyYmKE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuZGVmYXVsdD15KSx5fSgpO1xuIiwiaW1wb3J0IHsgU2F2ZVN0b3JhZ2UgfSBmcm9tIFwiLi4vdXRpbC9zdG9yYWdlXCI7XG5pbXBvcnQgeyBNb2R1bGVUaXRsZSB9IGZyb20gXCIuLi9tb2R1bGVzL19tb2R1bGVcIjtcbmltcG9ydCB7IEFMTF9CRURTIH0gZnJvbSBcIi4uL3V0aWwvY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBGaW5kQ2hhcmFjdGVySW5Sb29tLCBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnksIE1QQU5vdGlmeVBsYXllciwgTm90aWZ5UGxheWVyLCBTZW5kQWN0aW9uIH0gZnJvbSBcIi4uL3V0aWwvbWVzc2FnaW5nXCI7XG5pbXBvcnQgeyBIb29rRnVuY3Rpb24gfSBmcm9tIFwiLi4vdXRpbC9zZGtcIjtcblxuY29uc3QgQk9XTF9TRUxGX1RFWFQgPSBcIlNvdXJjZUNoYXJhY3RlciBjcmF3bHMgaW50byBQcm9ub3VuUG9zc2Vzc2l2ZSBiZWQuXCI7XG5jb25zdCBCT1dMX09USEVSX1RFWFQgPSBcIlNvdXJjZUNoYXJhY3RlciB0dWNrcyBUYXJnZXRDaGFyYWN0ZXIgaW50byBiZWQuXCI7XG5cbmZ1bmN0aW9uIElzQmVkKGJlZDogYW55KTogYm9vbGVhblxue1xuICAgIC8vIEludmFsaWQgY3JhZnQgPSBza2lwXG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKGJlZCkubGVuZ3RoID4gMFxuICAgICAgJiYgQ3JhZnRpbmdWYWxpZGF0ZShiZWQpID09PSBDcmFmdGluZ1N0YXR1c1R5cGUuT0tcbiAgICAgICYmIChBTExfQkVEUy5pbmNsdWRlcyhiZWQuSXRlbSlcbiAgICAgIHx8IGJlZD8uTmFtZT8udG9Mb2NhbGVMb3dlckNhc2UoKT8uaW5jbHVkZXMoXCJiZWRcIikpO1xufVxuXG4vKipcbiAqIERpc3BsYXkgdGhlIGJlZCB0ZXh0XG4gKi9cbmZ1bmN0aW9uIEdpdmVCZWRUZXh0KGNoYXJhY3RlcjogQ2hhcmFjdGVyID0gUGxheWVyKTogdm9pZFxue1xuICAgIGlmIChjaGFyYWN0ZXIuTWVtYmVyTnVtYmVyID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyKVxuICAgIHtcbiAgICAgICAgU2VuZEFjdGlvbihcbiAgICAgICAgICAgIEJPV0xfU0VMRl9URVhULFxuICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgW3sgU291cmNlQ2hhcmFjdGVyOiBQbGF5ZXIuTWVtYmVyTnVtYmVyIH0gYXMgU291cmNlQ2hhcmFjdGVyRGljdGlvbmFyeUVudHJ5XVxuICAgICAgICApO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICBTZW5kQWN0aW9uKFxuICAgICAgICAgICAgQk9XTF9PVEhFUl9URVhULFxuICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgW3sgU291cmNlQ2hhcmFjdGVyOiBQbGF5ZXIuTWVtYmVyTnVtYmVyIH0gYXMgU291cmNlQ2hhcmFjdGVyRGljdGlvbmFyeUVudHJ5LFxuICAgICAgICAgICAgICAgIHsgVGFyZ2V0Q2hhcmFjdGVyOiBjaGFyYWN0ZXIuTWVtYmVyTnVtYmVyIH0gYXMgVGFyZ2V0Q2hhcmFjdGVyRGljdGlvbmFyeUVudHJ5XVxuICAgICAgICApO1xuICAgIH1cbn1cblxuLyoqXG4gKiBVc2UgYSBiZWQgb24geW91cnNlbGZcbiAqL1xuZnVuY3Rpb24gVXNlQmVkKCk6IHZvaWRcbntcbiAgICBpZiAoSW52ZW50b3J5R2V0KFBsYXllciwgXCJJdGVtRGV2aWNlc1wiKVxuICAgICAgfHwgSW52ZW50b3J5R3JvdXBJc0Jsb2NrZWRGb3JDaGFyYWN0ZXIoUGxheWVyLCBcIkl0ZW1EZXZpY2VzXCIpKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHNhdmVkQmVkID0gSlNPTi5wYXJzZShMWlN0cmluZy5kZWNvbXByZXNzRnJvbUJhc2U2NChQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLlByaXZhdGVdLnNhdmVkQmVkIHx8IFwiXCIpIHx8IFwie31cIikgfHwge307XG4gICAgaWYgKElzQmVkKHNhdmVkQmVkKSlcbiAgICB7XG4gICAgICAgIEludmVudG9yeVdlYXIoXG4gICAgICAgICAgICBQbGF5ZXIsXG4gICAgICAgICAgICBzYXZlZEJlZC5JdGVtLFxuICAgICAgICAgICAgXCJJdGVtRGV2aWNlc1wiLFxuICAgICAgICAgICAgc2F2ZWRCZWQuQ29sb3Iuc3BsaXQoXCIsXCIpLFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIFBsYXllci5NZW1iZXJOdW1iZXIsXG4gICAgICAgICAgICBzYXZlZEJlZCxcbiAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICk7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIGNvbnN0IGhhaXJDb2xvciA9IEludmVudG9yeUdldChQbGF5ZXIsIFwiSGFpckZyb250XCIpPy5Db2xvciBhcyBJdGVtQ29sb3I7XG4gICAgICAgIEludmVudG9yeVdlYXIoXG4gICAgICAgICAgICBQbGF5ZXIsXG4gICAgICAgICAgICBcIlBldEJlZFwiLFxuICAgICAgICAgICAgXCJJdGVtRGV2aWNlc1wiLFxuICAgICAgICAgICAgW2hhaXJDb2xvclswXSwgXCJEZWZhdWx0XCIsIGhhaXJDb2xvcltoYWlyQ29sb3IubGVuZ3RoIC0gMV1dLFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIFBsYXllci5NZW1iZXJOdW1iZXIsXG4gICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICBmYWxzZVxuICAgICAgICApO1xuICAgIH1cbiAgICBDaGF0Um9vbUNoYXJhY3Rlckl0ZW1VcGRhdGUoUGxheWVyLCBcIkl0ZW1EZXZpY2VzXCIpO1xufVxuXG4vKipcbiAqIEdpdmUgYSBiZWQgdG8gc29tZW9uZVxuICpcbiAqIEBwYXJhbSBjaGFyYWN0ZXIgLSBXaG8gdG8gZ2l2ZSB0aGUgYmVkIHRvb1xuICogQHJldHVybnMgSWYgYmVkIHdhcyBnaXZlblxuICovXG5mdW5jdGlvbiBHaXZlQmVkKGNoYXJhY3RlcjogQ2hhcmFjdGVyID0gUGxheWVyKTogYm9vbGVhblxue1xuICAgIGNvbnN0IHVuYWJsZVRvR2l2ZUJlZCA9IEludmVudG9yeUdldChjaGFyYWN0ZXIsIFwiSXRlbURldmljZXNcIilcbiAgICAgIHx8IEludmVudG9yeUdyb3VwSXNCbG9ja2VkRm9yQ2hhcmFjdGVyKGNoYXJhY3RlciwgXCJJdGVtRGV2aWNlc1wiKVxuICAgICAgfHwgKGNoYXJhY3Rlci5NZW1iZXJOdW1iZXIgIT09IFBsYXllci5NZW1iZXJOdW1iZXIgJiYgIVBsYXllci5DYW5JbnRlcmFjdCgpKTtcblxuICAgIGlmIChjaGFyYWN0ZXIuTWVtYmVyTnVtYmVyICE9PSBQbGF5ZXIuTWVtYmVyTnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKCFTZXJ2ZXJDaGF0Um9vbUdldEFsbG93SXRlbShQbGF5ZXIsIGNoYXJhY3RlcikpXG4gICAgICAgIHtcbiAgICAgICAgICAgIE5vdGlmeVBsYXllcihcIk1QQTogTm8gQkMgaXRlbSBwZXJtaXNzaW9uXCIsIDMwMDAwKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNoYXJhY3Rlci5NUEEgfHwgY2hhcmFjdGVyLk1QQT8udmVyc2lvbiAhPT0gUGxheWVyLk1QQS52ZXJzaW9uKVxuICAgICAgICB7XG4gICAgICAgICAgICBNUEFOb3RpZnlQbGF5ZXIoYCR7Y2hhcmFjdGVyLk5pY2tuYW1lIHx8IGNoYXJhY3Rlci5OYW1lfSBkb2VzIG5vdCBoYXZlIE1QQSwgdW5hYmxlIHRvIGdpdmUgYmVkYCwgMzAwMDApO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1bmFibGVUb0dpdmVCZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIE1QQU5vdGlmeVBsYXllcihgVW5hYmxlIHRvIHR1Y2sgJHtjaGFyYWN0ZXIuTmlja25hbWUgfHwgY2hhcmFjdGVyLk5hbWV9IGludG8gYmVkYCwgMzAwMDApO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIEdpdmVCZWRUZXh0KGNoYXJhY3Rlcik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmICh1bmFibGVUb0dpdmVCZWQpXG4gICAge1xuICAgICAgICBNUEFOb3RpZnlQbGF5ZXIoXCJVbmFibGUgdG8gY3Jhd2wgaW50byBiZWRcIiwgMzAwMDApO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgVXNlQmVkKCk7XG4gICAgR2l2ZUJlZFRleHQoY2hhcmFjdGVyKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEJlZCgpOiB2b2lkXG57XG4gICAgQ29tbWFuZENvbWJpbmUoW3tcbiAgICAgICAgVGFnOiBcImJlZFwiLFxuICAgICAgICBEZXNjcmlwdGlvbjogXCJbKG9wdGlvbmFsKSBCZWQgZXhwb3J0IGNvZGUgT1IgT3RoZXIgcGxheWVyXSBDcmF3bCBpbnRvIGJlZCB3aXRob3V0IG5lZWRpbmcgaGFuZHNcIixcbiAgICAgICAgQWN0aW9uOiAoX2FyZ3MsIG1zZywgX3BhcnNlZCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgLy8gQXJndW1lbnQgaXMgcGFzc2VkXG4gICAgICAgICAgICBjb25zdCBhcmcgPSAoKC9eKFxcUyspXFxzKiguKikkLy5leGVjKG1zZykpID8/IFtcIlwiLCBcIlwiLCBcIlwiXSlbMl07XG4gICAgICAgICAgICBpZiAoYXJnKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoYXIgPSBGaW5kQ2hhcmFjdGVySW5Sb29tKGFyZyk7XG4gICAgICAgICAgICAgICAgaWYgKGNoYXIpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBHaXZlQmVkKGNoYXIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIGJlZCBjcmFmdFxuICAgICAgICAgICAgICAgIGNvbnN0IG9iaiA9IEpTT04ucGFyc2UoTFpTdHJpbmcuZGVjb21wcmVzc0Zyb21CYXNlNjQoYXJnKSB8fCBcInt9XCIpIHx8IHt9O1xuICAgICAgICAgICAgICAgIGlmIChJc0JlZChvYmopKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgUGxheWVyLk1QQVtNb2R1bGVUaXRsZS5Qcml2YXRlXS5zYXZlZEJlZCA9IGFyZztcbiAgICAgICAgICAgICAgICAgICAgU2F2ZVN0b3JhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBNUEFOb3RpZnlQbGF5ZXIoXCJCZWQgc2F2ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBNUEFOb3RpZnlQbGF5ZXIoXCJJbnZhbGlkIGFyZ3VtZW50IGdpdmVuIVwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIEdpdmVCZWQoUGxheWVyKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAgVGFnOiBcImJsYW5rZXRcIixcbiAgICAgICAgRGVzY3JpcHRpb246IFwiUHVsbCB0aGUgYmxhbmtldCBvdmVyIHlvdXJzZWxmIChPbmx5IHdvcmtzIG9uIFBldEJlZClcIixcbiAgICAgICAgQWN0aW9uOiAoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBibGFua3lcbiAgICAgICAgICAgIGNvbnN0IGJlZCA9IEludmVudG9yeUdldChQbGF5ZXIsIFwiSXRlbURldmljZXNcIik7XG4gICAgICAgICAgICBpZiAoYmVkPy5Bc3NldC5OYW1lICE9PSBcIlBldEJlZFwiKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIE1QQU5vdGlmeVBsYXllcihcIlVuYWJsZSB0byBwdWxsIHRoZSBibGFua2V0IG92ZXIgeW91cnNlbGYuXCIsIDIwMDAwKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghKGJlZC5Qcm9wZXJ0eT8uVHlwZVJlY29yZD8udHlwZWQgPT09IDAgfHwgYmVkLlByb3BlcnR5Py5UeXBlUmVjb3JkPy50eXBlZCA9PT0gMSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgTVBBTm90aWZ5UGxheWVyKFwiVW5hYmxlIHRvIHB1bGwgdGhlIGJsYW5rZXQgb3ZlciB5b3Vyc2VsZi5cIiwgMjAwMDApO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJlZC5Qcm9wZXJ0eS5UeXBlUmVjb3JkLnR5cGVkID0gTnVtYmVyKCFiZWQuUHJvcGVydHkuVHlwZVJlY29yZC50eXBlZCk7XG4gICAgICAgICAgICBDaGF0Um9vbUNoYXJhY3RlclVwZGF0ZShQbGF5ZXIpO1xuICAgICAgICAgICAgaWYgKGJlZC5Qcm9wZXJ0eS5UeXBlUmVjb3JkLnR5cGVkID09PSAxKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFNlbmRBY3Rpb24oXG4gICAgICAgICAgICAgICAgICAgIFwiU291cmNlQ2hhcmFjdGVyIHB1bGxzIGEgYmxhbmtldCBvdmVyIFByb25vdW5PYmplY3QuXCIsXG4gICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgW3sgU291cmNlQ2hhcmFjdGVyOiBQbGF5ZXIuTWVtYmVyTnVtYmVyIH0gYXMgU291cmNlQ2hhcmFjdGVyRGljdGlvbmFyeUVudHJ5XVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgU2VuZEFjdGlvbihcbiAgICAgICAgICAgICAgICAgICAgXCJTb3VyY2VDaGFyYWN0ZXIgcmVtb3ZlcyB0aGUgYmxhbmtldCBmcm9tIG9uIHRvcCBvZiBQcm9ub3VuT2JqZWN0LlwiLFxuICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIFt7IFNvdXJjZUNoYXJhY3RlcjogUGxheWVyLk1lbWJlck51bWJlciB9IGFzIFNvdXJjZUNoYXJhY3RlckRpY3Rpb25hcnlFbnRyeV1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgSG9va0Z1bmN0aW9uKG51bGwsIFwiQ2hhdFJvb21NZXNzYWdlXCIsIDEwMCwgKGFyZ3MsIG5leHQpID0+XG4gICAge1xuICAgICAgICBjb25zdCBkYXRhID0gYXJnc1swXTtcbiAgICAgICAgaWYgKGRhdGEuVHlwZSA9PT0gXCJBY3Rpdml0eVwiXG4gICAgICAgICAgJiYgZGF0YS5Db250ZW50ID09PSBcIk1heWFTY3JpcHRcIlxuICAgICAgICAgICYmIEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIlRhcmdldENoYXJhY3RlclwiKSA9PT0gUGxheWVyLk1lbWJlck51bWJlclxuICAgICAgICAgICYmIGRhdGEuRGljdGlvbmFyeT8uc29tZShcbiAgICAgICAgICAgICAgKGN1cnIpID0+IChjdXJyIGFzIGFueSk/LlRhZyA9PT0gXCJNSVNTSU5HIEFDVElWSVRZIERFU0NSSVBUSU9OIEZPUiBLRVlXT1JEIE1heWFTY3JpcHRcIlxuICAgICAgICAgICAgICAmJiAoY3VyciBhcyBhbnkpPy5UZXh0ID09PSBCT1dMX09USEVSX1RFWFRcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgICAge1xuICAgICAgICAgICAgVXNlQmVkKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgfSk7XG59XG4iLCJpbXBvcnQgeyBTYXZlU3RvcmFnZSB9IGZyb20gXCIuLi91dGlsL3N0b3JhZ2VcIjtcbmltcG9ydCB7IE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4uL21vZHVsZXMvX21vZHVsZVwiO1xuaW1wb3J0IHsgRmluZENoYXJhY3RlckluUm9vbSwgR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5LCBNUEFOb3RpZnlQbGF5ZXIsIE5vdGlmeVBsYXllciwgU2VuZEFjdGlvbiwgU2VuZE1QQU1lc3NhZ2UgfSBmcm9tIFwiLi4vdXRpbC9tZXNzYWdpbmdcIjtcbmltcG9ydCB7IEhvb2tGdW5jdGlvbiB9IGZyb20gXCIuLi91dGlsL3Nka1wiO1xuXG5jb25zdCBCT1dMX1NFTEZfVEVYVCA9IFwiU291cmNlQ2hhcmFjdGVyIGxheXMgYSBib3dsIG9mIGZvb2QgYW5kIHdhdGVyIG9uIHRoZSBncm91bmQgaW4gZnJvbnQgb2YgUHJvbm91bk9iamVjdHNlbGYuXCI7XG5jb25zdCBCT1dMX09USEVSX1RFWFQgPSBcIlNvdXJjZUNoYXJhY3RlciBsYXlzIGEgYm93bCBvZiBmb29kIGFuZCB3YXRlciBvbiB0aGUgZ3JvdW5kIGluIGZyb250IG9mIFRhcmdldENoYXJhY3Rlci5cIjtcbmNvbnN0IEJPV0xfUkVHRVggPSAvXig/Olxcd3xbIH4hJCMlKitdKSokLztcblxuZnVuY3Rpb24gSXNCb3dsKGJvd2w6IGFueSk6IGJvb2xlYW5cbntcbiAgICAvLyBJbnZhbGlkIGNyYWZ0ID0gc2tpcFxuICAgIHJldHVybiBPYmplY3Qua2V5cyhib3dsKS5sZW5ndGggPiAwXG4gICAgICAmJiBDcmFmdGluZ1ZhbGlkYXRlKGJvd2wpID09PSBDcmFmdGluZ1N0YXR1c1R5cGUuT0tcbiAgICAgICYmIGJvd2w/Lkl0ZW0gPT0gXCJQZXRCb3dsXCI7XG59XG5cbi8qKlxuICogRGlzcGxheSB0aGUgYm93bCB0ZXh0XG4gKi9cbmZ1bmN0aW9uIEdpdmVCb3dsVGV4dChjaGFyYWN0ZXI6IENoYXJhY3RlciA9IFBsYXllcik6IHZvaWRcbntcbiAgICBpZiAoY2hhcmFjdGVyLk1lbWJlck51bWJlciA9PT0gUGxheWVyLk1lbWJlck51bWJlcilcbiAgICB7XG4gICAgICAgIFNlbmRBY3Rpb24oXG4gICAgICAgICAgICBCT1dMX1NFTEZfVEVYVCxcbiAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgIFt7IFNvdXJjZUNoYXJhY3RlcjogUGxheWVyLk1lbWJlck51bWJlciB9IGFzIFNvdXJjZUNoYXJhY3RlckRpY3Rpb25hcnlFbnRyeV1cbiAgICAgICAgKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgU2VuZEFjdGlvbihcbiAgICAgICAgICAgIEJPV0xfT1RIRVJfVEVYVCxcbiAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgIFt7IFNvdXJjZUNoYXJhY3RlcjogUGxheWVyLk1lbWJlck51bWJlciB9IGFzIFNvdXJjZUNoYXJhY3RlckRpY3Rpb25hcnlFbnRyeSxcbiAgICAgICAgICAgICAgICB7IFRhcmdldENoYXJhY3RlcjogY2hhcmFjdGVyLk1lbWJlck51bWJlciB9IGFzIFRhcmdldENoYXJhY3RlckRpY3Rpb25hcnlFbnRyeV1cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbi8qKlxuICogVXNlIGEgYm93bCBvbiB5b3Vyc2VsZlxuICovXG5mdW5jdGlvbiBVc2VCb3dsKCk6IHZvaWRcbntcbiAgICBpZiAoSW52ZW50b3J5R2V0KFBsYXllciwgXCJJdGVtRGV2aWNlc1wiKVxuICAgICAgfHwgSW52ZW50b3J5R3JvdXBJc0Jsb2NrZWRGb3JDaGFyYWN0ZXIoUGxheWVyLCBcIkl0ZW1EZXZpY2VzXCIpKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHNhdmVkQm93bCA9IEpTT04ucGFyc2UoTFpTdHJpbmcuZGVjb21wcmVzc0Zyb21CYXNlNjQoUGxheWVyLk1QQVtNb2R1bGVUaXRsZS5Qcml2YXRlXS5zYXZlZEJvd2wgfHwgXCJcIikgfHwgXCJ7fVwiKSB8fCB7fTtcbiAgICBpZiAoSXNCb3dsKHNhdmVkQm93bCkpXG4gICAge1xuICAgICAgICAoSW52ZW50b3J5V2VhcihcbiAgICAgICAgICAgIFBsYXllcixcbiAgICAgICAgICAgIHNhdmVkQm93bC5JdGVtLFxuICAgICAgICAgICAgXCJJdGVtRGV2aWNlc1wiLFxuICAgICAgICAgICAgc2F2ZWRCb3dsLkNvbG9yLnNwbGl0KFwiLFwiKSxcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICBQbGF5ZXIuTWVtYmVyTnVtYmVyLFxuICAgICAgICAgICAgc2F2ZWRCb3dsLFxuICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgKSBhcyBhbnkpLlByb3BlcnR5ID0gc2F2ZWRCb3dsLkl0ZW1Qcm9wZXJ0eTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgY29uc3QgaGFpckNvbG9yID0gSW52ZW50b3J5R2V0KFBsYXllciwgXCJIYWlyRnJvbnRcIik/LkNvbG9yIGFzIEl0ZW1Db2xvcjtcbiAgICAgICAgKEludmVudG9yeVdlYXIoXG4gICAgICAgICAgICBQbGF5ZXIsXG4gICAgICAgICAgICBcIlBldEJvd2xcIixcbiAgICAgICAgICAgIFwiSXRlbURldmljZXNcIixcbiAgICAgICAgICAgIFtoYWlyQ29sb3JbMF0sIFwiIzAwMDAwMFwiXSxcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICBQbGF5ZXIuTWVtYmVyTnVtYmVyLFxuICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgKSBhcyBhbnkpLlByb3BlcnR5ID0ge1xuICAgICAgICAgICAgVGV4dDogKChQbGF5ZXIuTmlja25hbWUgJiYgQk9XTF9SRUdFWC50ZXN0KFBsYXllci5OaWNrbmFtZSkpID8gUGxheWVyLk5pY2tuYW1lIDogQk9XTF9SRUdFWC50ZXN0KFBsYXllci5OYW1lKSA/IFBsYXllci5OYW1lIDogXCJcIikuc3Vic3RyaW5nKDAsIDEyKVxuICAgICAgICB9O1xuICAgIH1cbiAgICBDaGF0Um9vbUNoYXJhY3RlclVwZGF0ZShQbGF5ZXIpO1xufVxuXG4vKipcbiAqIEdpdmUgYSBib3dsIHRvIHNvbWVvbmVcbiAqXG4gKiBAcGFyYW0gY2hhcmFjdGVyIC0gV2hvIHRvIGdpdmUgdGhlIGJvd2wgdG9vXG4gKiBAcmV0dXJucyBJZiBib3dsIHdhcyBnaXZlblxuICovXG5mdW5jdGlvbiBHaXZlQm93bChjaGFyYWN0ZXI6IENoYXJhY3RlciA9IFBsYXllcik6IGJvb2xlYW5cbntcbiAgICBjb25zdCB1bmFibGVUb0dpdmVCb3dsID0gSW52ZW50b3J5R2V0KGNoYXJhY3RlciwgXCJJdGVtRGV2aWNlc1wiKVxuICAgICAgfHwgSW52ZW50b3J5R3JvdXBJc0Jsb2NrZWRGb3JDaGFyYWN0ZXIoY2hhcmFjdGVyLCBcIkl0ZW1EZXZpY2VzXCIpXG4gICAgICB8fCAoY2hhcmFjdGVyLk1lbWJlck51bWJlciAhPT0gUGxheWVyLk1lbWJlck51bWJlciAmJiAhUGxheWVyLkNhbkludGVyYWN0KCkpO1xuXG4gICAgaWYgKGNoYXJhY3Rlci5NZW1iZXJOdW1iZXIgIT09IFBsYXllci5NZW1iZXJOdW1iZXIpXG4gICAge1xuICAgICAgICBpZiAoIVNlcnZlckNoYXRSb29tR2V0QWxsb3dJdGVtKFBsYXllciwgY2hhcmFjdGVyKSlcbiAgICAgICAge1xuICAgICAgICAgICAgTm90aWZ5UGxheWVyKFwiTVBBOiBObyBCQyBpdGVtIHBlcm1pc3Npb25cIiwgMzAwMDApO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY2hhcmFjdGVyLk1QQSB8fCBjaGFyYWN0ZXIuTVBBPy52ZXJzaW9uICE9PSBQbGF5ZXIuTVBBLnZlcnNpb24pXG4gICAgICAgIHtcbiAgICAgICAgICAgIE1QQU5vdGlmeVBsYXllcihgJHtjaGFyYWN0ZXIuTmlja25hbWUgfHwgY2hhcmFjdGVyLk5hbWV9IGRvZXMgbm90IGhhdmUgTVBBLCB1bmFibGUgdG8gZ2l2ZSBib3dsYCwgMzAwMDApO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1bmFibGVUb0dpdmVCb3dsKVxuICAgICAgICB7XG4gICAgICAgICAgICBNUEFOb3RpZnlQbGF5ZXIoYFVuYWJsZSB0byBnaXZlICR7Y2hhcmFjdGVyLk5pY2tuYW1lIHx8IGNoYXJhY3Rlci5OYW1lfSBhIGJvd2xgLCAzMDAwMCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgR2l2ZUJvd2xUZXh0KGNoYXJhY3Rlcik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmICh1bmFibGVUb0dpdmVCb3dsKVxuICAgIHtcbiAgICAgICAgTVBBTm90aWZ5UGxheWVyKFwiVW5hYmxlIHRvIGdpdmUgYm93bFwiLCAzMDAwMCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBVc2VCb3dsKCk7XG4gICAgR2l2ZUJvd2xUZXh0KGNoYXJhY3Rlcik7XG4gICAgcmV0dXJuIHRydWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBCb3dsKCk6IHZvaWRcbntcbiAgICBDb21tYW5kQ29tYmluZShbe1xuICAgICAgICBUYWc6IFwiYm93bFwiLFxuICAgICAgICBEZXNjcmlwdGlvbjogXCJHaXZlIGJvd2wgdG8gcGV0XCIsXG4gICAgICAgIEFjdGlvbjogKF9hcmdzLCBtc2csIF9wYXJzZWQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIEFyZ3VtZW50IGlzIHBhc3NlZFxuICAgICAgICAgICAgY29uc3QgYXJnID0gKCgvXihcXFMrKVxccyooLiopJC8uZXhlYyhtc2cpKSA/PyBbXCJcIiwgXCJcIiwgXCJcIl0pWzJdO1xuICAgICAgICAgICAgaWYgKGFyZylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGFyID0gRmluZENoYXJhY3RlckluUm9vbShhcmcpO1xuICAgICAgICAgICAgICAgIGlmIChjaGFyKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgR2l2ZUJvd2woY2hhcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgYm93bCBjcmFmdFxuICAgICAgICAgICAgICAgIGNvbnN0IG9iaiA9IEpTT04ucGFyc2UoTFpTdHJpbmcuZGVjb21wcmVzc0Zyb21CYXNlNjQoYXJnKSB8fCBcInt9XCIpIHx8IHt9O1xuICAgICAgICAgICAgICAgIGlmIChJc0Jvd2wob2JqKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFBsYXllci5NUEFbTW9kdWxlVGl0bGUuUHJpdmF0ZV0uc2F2ZWRCb3dsID0gYXJnO1xuICAgICAgICAgICAgICAgICAgICBTYXZlU3RvcmFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIE1QQU5vdGlmeVBsYXllcihcIkJvd2wgc2F2ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBNUEFOb3RpZnlQbGF5ZXIoXCJJbnZhbGlkIGFyZ3VtZW50IGdpdmVuIVwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIEdpdmVCb3dsKFBsYXllcik7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICBIb29rRnVuY3Rpb24obnVsbCwgXCJDaGF0Um9vbU1lc3NhZ2VcIiwgMTAwLCAoYXJncywgbmV4dCkgPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhcmdzWzBdO1xuICAgICAgICBpZiAoZGF0YS5UeXBlID09PSBcIkFjdGl2aXR5XCJcbiAgICAgICAgICAmJiBkYXRhLkNvbnRlbnQgPT09IFwiTWF5YVNjcmlwdFwiXG4gICAgICAgICAgJiYgR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiVGFyZ2V0Q2hhcmFjdGVyXCIpID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyXG4gICAgICAgICAgJiYgZGF0YS5EaWN0aW9uYXJ5Py5zb21lKFxuICAgICAgICAgICAgICAoY3VycikgPT4gKGN1cnIgYXMgYW55KT8uVGFnID09PSBcIk1JU1NJTkcgQUNUSVZJVFkgREVTQ1JJUFRJT04gRk9SIEtFWVdPUkQgTWF5YVNjcmlwdFwiXG4gICAgICAgICAgICAgICYmIChjdXJyIGFzIGFueSk/LlRleHQgPT09IEJPV0xfT1RIRVJfVEVYVFxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgICB7XG4gICAgICAgICAgICBVc2VCb3dsKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgfSk7XG59XG4iLCJpbXBvcnQgeyBCZWQgfSBmcm9tIFwiLi9iZWRcIjtcbmltcG9ydCB7IEJvd2wgfSBmcm9tIFwiLi9ib3dsXCI7XG4vLyBpbXBvcnQgeyBMb2dDaGF0IH0gZnJvbSBcIi4vbG9nXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBCdWlsZEFsbENvbW1hbmRzKCk6IHZvaWRcbntcbiAgICBCZWQoKTtcbiAgICBCb3dsKCk7XG4gICAgLy8gTG9nQ2hhdCgpO1xufVxuIiwiLy8gSWYgeW91IHdhbnQgdG8gbG9jYWxpemUgdGhpcyBhZGRvbiB0byB5b3VyIGxhbmd1YWdlIGZvciB5b3Vyc2VsZiBhbmQgb3RoZXJzLCBoZXJlIGlzIGhvd1xuLy8gMS4gQ3JlYXRlIGEgbmV3IGZpbGUgaW4gdGhlIGxvY2FsaXphdGlvbiBkaXJlY3RvcnkgbmFtZWQgW2xhbmd1YWdlXS5qc29uXG4vLyAyLiBDb3B5IGFuZCBwYXN0ZSB0aGUgY29udGVudHMgb2YgdGVtcGxhdGUuanNvbiBpbnRvIHlvdXIgbmV3IFtsYW5ndWFnZV0uanNvbiBmaWxlLlxuLy8gMy4gUmVwbGFjZSB0aGUgcmlnaHQoZW1wdHkpIHNpZGUgb2YgdGhlIHRleHQgd2l0aCB0aGUgdHJhbnNsYXRpb24gZnJvbSB0aGUgRW5nbGlzaCBvbiB0aGUgbGVmdC5cbi8vIDNiLiBEbyBub3QgdHJhbnNsYXRlIHdvcmRzIGxpa2UgU291cmNlQ2hhcmFjdGVyIGFuZCBTZXR0aW5nc0FycmF5LCBsZWF2ZSB0aG9zZSBhcyB0aGV5IHdpbGwgYmUgZmlsbGVkIGluIGJ5IHRoZSBjb2RlXG4vLyA0LiBJbXBvcnQgdGhlIGpzb24gZm9sbG93aW5nIHRoZSBleGFtcGxlIGJlbG93LCBtYWtlIHN1cmUgdGhhdCB0aGUgbmFtZSB5b3UgaW1wb3J0IHRoZSBmaWxlIGlzXG4vLyAgICB0aGUgc2FtZSB0aGF0IGRlZmluZWQgYnkgVHJhbnNsYXRpb25MYW5ndWFnZS4gRXg6IEVuZ2xpc2ggLT4gRU5cbi8vICAgIElmIHlvdSBhcmUgdW5zdXJlIG9mIGhvdyB0byBkbyB0aGlzIGJ1dCBzdGlsbCB3YW50IHRvIGNvbnRyaWJ1dGUsIHJlYWNoIG91dCBhbmQgSSB3aWxsIGF0dGVtcHQgdG8gaGVscC5cblxuaW1wb3J0IHRlbXBsYXRlIGZyb20gXCIuL3RlbXBsYXRlLmpzb25cIjtcbmltcG9ydCBSVSBmcm9tIFwiLi9SVS5qc29uXCI7XG5cbi8vIEV2ZXJ5dGhpbmcgaXMgZGVmYXVsdGVkIHRvIEVuZ2xpc2hcbmNvbnN0IHRyYW5zbGF0aW9ucyA9XG57XG4gICAgdGVtcGxhdGU6IHRlbXBsYXRlLFxuICAgIFJVOiBSVVxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIExvY2FsaXplZFRleHQodGV4dDogc3RyaW5nKTogc3RyaW5nXG57XG4gICAgY29uc3QgdHJhbnNsYXRlZFRleHQgPSB0cmFuc2xhdGlvbnM/LltUcmFuc2xhdGlvbkxhbmd1YWdlXT8uW3RleHRdO1xuICAgIGlmICghIXRyYW5zbGF0ZWRUZXh0ICYmIHRyYW5zbGF0ZWRUZXh0ICE9PSBcIlwiKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRyYW5zbGF0ZWRUZXh0O1xuICAgIH1cbiAgICByZXR1cm4gdGV4dDtcbn1cbiIsImltcG9ydCB7IFJlbW92ZUhvb2tzIH0gZnJvbSBcIi4uL3V0aWwvc2RrXCI7XG5pbXBvcnQgeyBDcmVhdGVBY3Rpdml0aWVzLCBSZW1vdmVBY3Rpdml0aWVzIH0gZnJvbSBcIi4uL3V0aWwvYWN0aXZpdGllc1wiO1xuaW1wb3J0IHsgQWRkRGF0YVN5bmNMaXN0ZW5lcnMsIEhvb2tlZE1lc3NhZ2UsIFJlbW92ZURhdGFTeW5jTGlzdGVuZXJzIH0gZnJvbSBcIi4uL3V0aWwvbWVzc2FnaW5nXCI7XG5cbmV4cG9ydCBlbnVtIE1vZHVsZVRpdGxlXG57XG4gICAgVW5rbm93biA9IFwiVW5rbm93blwiLFxuICAgIEF1dGhvcml0eSA9IFwiQXV0aG9yaXR5XCIsXG4gICAgQWN0aXZpdGllcyA9IFwiQWN0aXZpdGllc1wiLFxuICAgIENsaWNrZXIgPSBcIkNsaWNrZXJcIixcbiAgICBTZXR0aW5ncyA9IFwiU2V0dGluZ3NcIixcbiAgICBWaXJ0dWFsUGV0ID0gXCJWaXJ0dWFsUGV0XCIsXG4gICAgVmlydHVhbFBldEhVRCA9IFwiVmlydHVhbFBldEh1ZFwiLFxuICAgIFZpcnR1YWxQZXRDb25kaXRpb25zID0gXCJWaXJ0dWFsUGV0Q29uZGl0aW9uc1wiLFxuICAgIERhdGFTeW5jID0gXCJEYXRhU3luY1wiLFxuICAgIFByb2ZpbGUgPSBcIlByb2ZpbGVcIixcbiAgICBTZXR0aW5nc090aGVyID0gXCJTZXR0aW5nc090aGVyXCIsXG4gICAgUHJpdmF0ZSA9IFwiUHJpdmF0ZVwiXG59XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBNb2R1bGVcbntcbiAgICBnZXQgVGl0bGUoKTogTW9kdWxlVGl0bGVcbiAgICB7XG4gICAgICAgIHJldHVybiBNb2R1bGVUaXRsZS5Vbmtub3duO1xuICAgIH1cblxuICAgIGdldCBBY3Rpdml0aWVzKCk6IEN1c3RvbUFjdGl2aXR5W11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBnZXQgU2V0dGluZ3MoKTogU2V0dGluZ1tdXG4gICAge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgZ2V0IFN5bmNMaXN0ZW5lcnMoKTogSG9va2VkTWVzc2FnZVtdXG4gICAge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgTG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBDcmVhdGVBY3Rpdml0aWVzKHRoaXMuQWN0aXZpdGllcyk7XG4gICAgICAgIEFkZERhdGFTeW5jTGlzdGVuZXJzKHRoaXMuU3luY0xpc3RlbmVycyk7XG4gICAgfVxuXG4gICAgVW5sb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIFJlbW92ZUhvb2tzKHRoaXMuVGl0bGUpO1xuICAgICAgICBSZW1vdmVBY3Rpdml0aWVzKHRoaXMuQWN0aXZpdGllcyk7XG4gICAgICAgIFJlbW92ZURhdGFTeW5jTGlzdGVuZXJzKHRoaXMuVGl0bGUpO1xuICAgIH1cblxuICAgIFJlbG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICB0aGlzLlVubG9hZCgpO1xuICAgICAgICB0aGlzLkxvYWQoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBNb2R1bGUsIE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4vX21vZHVsZVwiO1xuaW1wb3J0IHsgRmluZENoYXJhY3RlckluUm9vbSwgR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5IH0gZnJvbSBcIi4uL3V0aWwvbWVzc2FnaW5nXCI7XG5pbXBvcnQgeyBhY3Rpdml0eUltYWdlcywgYWN0aXZpdHlQcmVyZXF1aXNpdGVzLCBhY3Rpdml0eVJlY2VpdmVkLCBhY3Rpdml0eVRyaWdnZXJzIH0gZnJvbSBcIi4uL3V0aWwvYWN0aXZpdGllc1wiO1xuaW1wb3J0IHsgSG9va0Z1bmN0aW9uIH0gZnJvbSBcIi4uL3V0aWwvc2RrXCI7XG5pbXBvcnQgeyBBQ1RJVklUWV9OQU1FX1BSRUZJWCwgQkVMTF9TT1VORCB9IGZyb20gXCIuLi91dGlsL2NvbnN0YW50c1wiO1xuXG5jb25zdCBSZWNpZXZlQmVsbDogQWN0aXZpdHlSZWNlaXZlZCA9IChzb3VyY2UsIHRhcmdldCwgX2dyb3VwLCBfZGF0YSkgPT5cbntcbiAgICBpZiAoXG4gICAgICAgIFBsYXllci5BdWRpb1NldHRpbmdzPy5QbGF5SXRlbVxuICAgICAgICAmJiAoIVBsYXllci5BdWRpb1NldHRpbmdzLlBsYXlJdGVtUGxheWVyT25seVxuICAgICAgICB8fCBzb3VyY2U/Lk1lbWJlck51bWJlciA9PT0gUGxheWVyLk1lbWJlck51bWJlclxuICAgICAgICB8fCB0YXJnZXQ/Lk1lbWJlck51bWJlciA9PT0gUGxheWVyLk1lbWJlck51bWJlcilcbiAgICApXG4gICAge1xuICAgICAgICBCRUxMX1NPVU5ELnBsYXkoKTtcbiAgICB9XG59O1xuXG5leHBvcnQgY2xhc3MgQWN0aXZpdGllc01vZHVsZSBleHRlbmRzIE1vZHVsZVxue1xuICAgIGdldCBUaXRsZSgpOiBNb2R1bGVUaXRsZVxuICAgIHtcbiAgICAgICAgcmV0dXJuIE1vZHVsZVRpdGxlLkFjdGl2aXRpZXM7XG4gICAgfVxuXG4gICAgZ2V0IEFjdGl2aXRpZXMoKTogQ3VzdG9tQWN0aXZpdHlbXVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBOYW1lOiBcIkZsaWNrQmVsbFwiLFxuICAgICAgICAgICAgICAgIE1heFByb2dyZXNzOiA1MCxcbiAgICAgICAgICAgICAgICBQcmVyZXF1aXNpdGU6IFtcIlVzZUhhbmRzXCJdLFxuICAgICAgICAgICAgICAgIEN1c3RvbVByZXJlcXVpc2l0ZToge1xuICAgICAgICAgICAgICAgICAgICBOYW1lOiBcIkhhc0JlbGxDb2xsYXJcIixcbiAgICAgICAgICAgICAgICAgICAgUHJlcmVxdWlzaXRlOiAoX2FjdGluZywgYWN0ZWQsIF9ncm91cCkgPT5cbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEludmVudG9yeUdldChhY3RlZCwgXCJJdGVtTmVja1wiKT8uQXNzZXQ/Lk5hbWU/LnRvTG9jYWxlTG93ZXJDYXNlKCk/LmluY2x1ZGVzKFwiYmVsbFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBJbnZlbnRvcnlHZXQoYWN0ZWQsIFwiSXRlbU5lY2tBY2Nlc3Nvcmllc1wiKT8uQXNzZXQ/Lk5hbWU/LnRvTG9jYWxlTG93ZXJDYXNlKCk/LmluY2x1ZGVzKFwiYmVsbFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgVGFyZ2V0czogW3tcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IFwiSXRlbU5lY2tcIixcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiRmxpY2sgQmVsbFwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25TZWxmOiBcIlNvdXJjZUNoYXJhY3RlciBmbGlja3MgdGhlIGJlbGwgb24gUHJvbm91blBvc3Nlc3NpdmUgY29sbGFyLlwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25PdGhlcnM6IFwiU291cmNlQ2hhcmFjdGVyIGZsaWNrcyB0aGUgYmVsbCBvbiBUYXJnZXRDaGFyYWN0ZXIncyBjb2xsYXIuXCJcbiAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgICAgICBJbWFnZTogXCJBc3NldHNcXFxcRmVtYWxlM0RDR1xcXFxJdGVtTmVja0FjY2Vzc29yaWVzXFxcXFByZXZpZXdcXFxcQ29sbGFyQmVsbC5wbmdcIixcbiAgICAgICAgICAgICAgICBPblJlY2VpdmU6IFJlY2lldmVCZWxsXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgTmFtZTogXCJGbGlja0JlbGwyXCIsXG4gICAgICAgICAgICAgICAgTWF4UHJvZ3Jlc3M6IDUwLFxuICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogW1wiVXNlSGFuZHNcIl0sXG4gICAgICAgICAgICAgICAgQ3VzdG9tUHJlcmVxdWlzaXRlOiB7XG4gICAgICAgICAgICAgICAgICAgIE5hbWU6IFwiSGFzQmVsbE5pcHBsZXNcIixcbiAgICAgICAgICAgICAgICAgICAgUHJlcmVxdWlzaXRlOiAoX2FjdGluZywgYWN0ZWQsIF9ncm91cCkgPT5cbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEludmVudG9yeUdldChhY3RlZCwgXCJJdGVtTmlwcGxlc1wiKT8uQXNzZXQ/Lk5hbWU/LnRvTG9jYWxlTG93ZXJDYXNlKCk/LmluY2x1ZGVzKFwiYmVsbFwiKSA/PyBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgVGFyZ2V0czogW3tcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IFwiSXRlbU5pcHBsZXNcIixcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiRmxpY2sgQmVsbFwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25TZWxmOiBcIlNvdXJjZUNoYXJhY3RlciBmbGlja3MgdGhlIGJlbGxzIG9uIFByb25vdW5Qb3NzZXNzaXZlIG5pcHBsZXMuXCIsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbk90aGVyczogXCJTb3VyY2VDaGFyYWN0ZXIgZmxpY2tzIHRoZSBiZWxscyBvbiBUYXJnZXRDaGFyYWN0ZXIncyBuaXBwbGVzLlwiXG4gICAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAgICAgSW1hZ2U6IFwiQXNzZXRzXFxcXEZlbWFsZTNEQ0dcXFxcSXRlbU5pcHBsZXNcXFxcUHJldmlld1xcXFxCZWxsQ2xhbXBzLnBuZ1wiLFxuICAgICAgICAgICAgICAgIE9uUmVjZWl2ZTogUmVjaWV2ZUJlbGxcbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBMb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLkxvYWQoKTtcblxuICAgICAgICAvLyBQcmVyZXF1aXNpdGUgaGFuZGxpbmdcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiQWN0aXZpdHlDaGVja1ByZXJlcXVpc2l0ZVwiLCAxLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgW3ByZXJlcSwgYWN0aW5nLCBhY3RlZCwgZ3JvdXBdID0gYXJncztcbiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhhY3Rpdml0eVByZXJlcXVpc2l0ZXMpLmluY2x1ZGVzKHByZXJlcSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjdGl2aXR5UHJlcmVxdWlzaXRlc1twcmVyZXFdKGFjdGluZywgYWN0ZWQsIGdyb3VwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBBY3Rpdml0eSBvbnRyaWdnZXJzXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIlNlcnZlclNlbmRcIiwgMSwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhcmdzWzFdIGFzIFNlcnZlckNoYXRSb29tTWVzc2FnZTtcbiAgICAgICAgICAgIGlmIChhcmdzWzBdICE9PSBcIkNoYXRSb29tQ2hhdFwiIHx8IGRhdGE/LlR5cGUgIT09IFwiQWN0aXZpdHlcIilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUgLSBUUyBub3QgZmluZGluZyB0eXBlIGF1dG9tYXRpY2FsbHksIGl0IGV4aXN0c1xuICAgICAgICAgICAgY29uc3QgYWN0aXZpdHlOYW1lID0gZGF0YT8uRGljdGlvbmFyeT8uZmluZCgoeCkgPT4geC5BY3Rpdml0eU5hbWUpPy5BY3Rpdml0eU5hbWUgYXMgc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKGFjdGl2aXR5TmFtZT8uc3RhcnRzV2l0aChBQ1RJVklUWV9OQU1FX1BSRUZJWCkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGF0YT8uRGljdGlvbmFyeT8ucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIFRhZzogXCJNSVNTSU5HIEFDVElWSVRZIERFU0NSSVBUSU9OIEZPUiBLRVlXT1JEIFwiICsgZGF0YS5Db250ZW50LFxuICAgICAgICAgICAgICAgICAgICBUZXh0OiBBY3Rpdml0eURpY3Rpb25hcnlUZXh0KGRhdGEuQ29udGVudClcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhhY3Rpdml0eVRyaWdnZXJzKS5pbmNsdWRlcyhhY3Rpdml0eU5hbWUpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0TnVtYmVyID0gKGRhdGE/LkRpY3Rpb25hcnk/LmZpbmQoKHgpID0+ICh4IGFzIFRhcmdldENoYXJhY3RlckRpY3Rpb25hcnlFbnRyeSkuVGFyZ2V0Q2hhcmFjdGVyKSBhcyBUYXJnZXRDaGFyYWN0ZXJEaWN0aW9uYXJ5RW50cnkpPy5UYXJnZXRDaGFyYWN0ZXIgPz8gLTE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IENoYXRSb29tQ2hhcmFjdGVyPy5maW5kKChjKSA9PiBjLk1lbWJlck51bWJlciA9PT0gdGFyZ2V0TnVtYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZpdHlUcmlnZ2Vyc1thY3Rpdml0eU5hbWVdKHRhcmdldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQWN0aXZpdHkgb24gcmVjZWl2ZWRcbiAgICAgICAgSG9va0Z1bmN0aW9uKE1vZHVsZVRpdGxlLkNsaWNrZXIsIFwiQ2hhdFJvb21NZXNzYWdlXCIsIDAsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBuZXh0KGFyZ3MpO1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGFyZ3NbMF07XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgZGF0YS5UeXBlID09PSBcIkFjdGl2aXR5XCJcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhY3Rpdml0eU5hbWUgPSBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJBY3Rpdml0eU5hbWVcIikgYXMgc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGlmICghYWN0aXZpdHlOYW1lPy5zdGFydHNXaXRoKEFDVElWSVRZX05BTUVfUFJFRklYKVxuICAgICAgICAgICAgICAgICAgfHwgIShhY3Rpdml0eU5hbWUgaW4gYWN0aXZpdHlSZWNlaXZlZCkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZUNoYXIgPSBGaW5kQ2hhcmFjdGVySW5Sb29tKEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIlNvdXJjZUNoYXJhY3RlclwiKSxcbiAgICAgICAgICAgICAgICAgICAgeyBNZW1iZXJOdW1iZXI6IHRydWUsIE5pY2tOYW1lOiBmYWxzZSwgTmFtZTogZmFsc2UgfSkgPz8gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldENoYXIgPSBGaW5kQ2hhcmFjdGVySW5Sb29tKEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIlRhcmdldENoYXJhY3RlclwiKSxcbiAgICAgICAgICAgICAgICAgICAgeyBNZW1iZXJOdW1iZXI6IHRydWUsIE5pY2tOYW1lOiBmYWxzZSwgTmFtZTogZmFsc2UgfSkgPz8gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGNvbnN0IGdyb3VwID0gR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiRm9jdXNHcm91cE5hbWVcIik7XG4gICAgICAgICAgICAgICAgYWN0aXZpdHlSZWNlaXZlZFthY3Rpdml0eU5hbWVdKHNvdXJjZUNoYXIsIHRhcmdldENoYXIsIGdyb3VwLCBkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gRHJhdyBjdXN0b20gaW1hZ2VzIGZvciBhY3Rpdml0aWVzXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIkVsZW1lbnRCdXR0b24uQ3JlYXRlRm9yQWN0aXZpdHlcIiwgMCwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2aXR5TmFtZSA9IGFyZ3NbMV0uQWN0aXZpdHkuTmFtZTtcbiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhhY3Rpdml0eUltYWdlcykuaW5jbHVkZXMoYWN0aXZpdHlOYW1lKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoIWFyZ3NbNF0pXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBhcmdzWzRdID0ge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGFyZ3NbNF0uaW1hZ2UgPSBhY3Rpdml0eUltYWdlc1thY3Rpdml0eU5hbWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIFVubG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5VbmxvYWQoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUyB9IGZyb20gXCIuLi91dGlsL2F1dGhvcml0eVwiO1xuaW1wb3J0IHsgTW9kdWxlLCBNb2R1bGVUaXRsZSB9IGZyb20gXCIuL19tb2R1bGVcIjtcblxuY29uc3QgUGxheWVyUDogKEM/OiBDaGFyYWN0ZXIpID0+IE1QQVJlY29yZCA9IChDOiBDaGFyYWN0ZXIgPSBQbGF5ZXIpID0+XG57XG4gICAgcmV0dXJuIEMuTVBBPy5bTW9kdWxlVGl0bGUuQXV0aG9yaXR5XSA/PyB7fTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBJc0hhcmRjb3JlT24oQzogQ2hhcmFjdGVyKTogYm9vbGVhblxue1xuICAgIHJldHVybiAoQy5NUEE/LltNb2R1bGVUaXRsZS5BdXRob3JpdHldLmhhcmRjb3JlIGFzIGJvb2xlYW4gfCB1bmRlZmluZWQpID8/IGZhbHNlO1xufTtcblxudHlwZSBTZWxmQWNjZXNzID0gYHNlbGYke2tleW9mIHR5cGVvZiBNb2R1bGVUaXRsZX1gO1xudHlwZSBPdGhlcnNBY2Nlc3MgPSBgb3RoZXJzJHtrZXlvZiB0eXBlb2YgTW9kdWxlVGl0bGV9YDtcblxuZXhwb3J0IGNsYXNzIEF1dGhvcml0eU1vZHVsZSBleHRlbmRzIE1vZHVsZVxue1xuICAgIGdldCBUaXRsZSgpOiBNb2R1bGVUaXRsZVxuICAgIHtcbiAgICAgICAgcmV0dXJuIE1vZHVsZVRpdGxlLkF1dGhvcml0eTtcbiAgICB9XG5cbiAgICBnZXQgU2V0dGluZ3MoKTogU2V0dGluZ1tdXG4gICAge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwib3duZXJzXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIlwiLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIk93bmVyIG1lbWJlciBudW1iZXJzOyBTZXBlcmF0ZWQgYnkgYSAsXCIsXG4gICAgICAgICAgICAgICAgbWF4Q2hhcnM6IDEwMjQsXG4gICAgICAgICAgICAgICAgd2lkdGg6IDQwMFxuICAgICAgICAgICAgfSBhcyBUZXh0U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiYm91bmRBY2Nlc3NTZWxmXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBUYXJnZXRDaGFyYWN0ZXIgY2hhbmdpbmcgVGFyZ2V0UHJvbm91blBvc3Nlc3NpdmUgb3duIHNldHRpbmdzIHdoaWxlIGJvdW5kXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJib3VuZEFjY2Vzc090aGVyc1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkFsbG93IFRhcmdldENoYXJhY3RlciBjaGFuZ2luZyB0aGUgc2V0dGluZ3Mgb2Ygb3RoZXJzIHdoaWxlIGJvdW5kXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJzZWxmQXV0aG9yaXR5XCIgYXMgU2VsZkFjY2VzcyxcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkFsbG93IFRhcmdldENoYXJhY3RlciB0byBjaGFuZ2UgVGFyZ2V0UHJvbm91blBvc3Nlc3NpdmUgQXV0aG9yaXR5IHNldHRpbmdzXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJvdGhlcnNBdXRob3JpdHlcIiBhcyBPdGhlcnNBY2Nlc3MsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJvcHRpb25cIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogQVVUSE9SSVRZX0dST1VQX09QVElPTlMsXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiQ2x1Ym93bmVyXCIsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWxsb3cgb3RoZXJzIHRvIGNoYW5nZSBUYXJnZXRDaGFyYWN0ZXIncyBBdXRob3JpdHkgc2V0dGluZ3NcIixcbiAgICAgICAgICAgICAgICBsb29wOiBmYWxzZVxuICAgICAgICAgICAgfSBhcyBPcHRpb25TZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJzZWxmUHJvZmlsZVwiIGFzIFNlbGZBY2Nlc3MsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+IFBsYXllclAoQykub3RoZXJzUHJvZmlsZSAhPT0gXCJTZWxmXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWxsb3cgVGFyZ2V0Q2hhcmFjdGVyIHRvIGNoYW5nZSBUYXJnZXRQcm9ub3VuUG9zc2Vzc2l2ZSBQcm9maWxlIHNldHRpbmdzXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJvdGhlcnNQcm9maWxlXCIgYXMgT3RoZXJzQWNjZXNzLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwib3B0aW9uXCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IEFVVEhPUklUWV9HUk9VUF9PUFRJT05TLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIkNsdWJvd25lclwiLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkFsbG93IG90aGVycyB0byBjaGFuZ2UgVGFyZ2V0Q2hhcmFjdGVyJ3MgUHJvZmlsZSBzZXR0aW5nc1wiLFxuICAgICAgICAgICAgICAgIGxvb3A6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG9uU2V0KEMpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBQbGF5ZXJQKEMpLnNlbGZQcm9maWxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGFzIE9wdGlvblNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNlbGZDbGlja2VyXCIgYXMgU2VsZkFjY2VzcyxcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkFsbG93IFRhcmdldENoYXJhY3RlciB0byBjaGFuZ2UgVGFyZ2V0UHJvbm91blBvc3Nlc3NpdmUgQ2xpY2tlciBzZXR0aW5nc1wiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwib3RoZXJzQ2xpY2tlclwiIGFzIE90aGVyc0FjY2VzcyxcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm9wdGlvblwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJDbHVib3duZXJcIixcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBvdGhlcnMgdG8gY2hhbmdlIFRhcmdldENoYXJhY3RlcidzIENsaWNrZXIgc2V0dGluZ3NcIixcbiAgICAgICAgICAgICAgICBsb29wOiBmYWxzZVxuICAgICAgICAgICAgfSBhcyBPcHRpb25TZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJzZWxmVmlydHVhbFBldFwiIGFzIFNlbGZBY2Nlc3MsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBUYXJnZXRDaGFyYWN0ZXIgdG8gY2hhbmdlIFRhcmdldFByb25vdW5Qb3NzZXNzaXZlIFZpcnR1YWwgUGV0IHNldHRpbmdzXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJvdGhlcnNWaXJ0dWFsUGV0XCIgYXMgT3RoZXJzQWNjZXNzLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwib3B0aW9uXCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IEFVVEhPUklUWV9HUk9VUF9PUFRJT05TLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIkNsdWJvd25lclwiLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkFsbG93IG90aGVycyB0byBjaGFuZ2UgVGFyZ2V0Q2hhcmFjdGVyJ3MgVmlydHVhbCBQZXQgc2V0dGluZ3NcIixcbiAgICAgICAgICAgICAgICBsb29wOiBmYWxzZVxuICAgICAgICAgICAgfSBhcyBPcHRpb25TZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJzZWxmVmlydHVhbFBldENvbmRpdGlvbnNcIiBhcyBTZWxmQWNjZXNzLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWxsb3cgVGFyZ2V0Q2hhcmFjdGVyIHRvIGNoYW5nZSBUYXJnZXRQcm9ub3VuUG9zc2Vzc2l2ZSBWaXJ0dWFsIFBldCBDb25kaXRpb25zIHNldHRpbmdzXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJvdGhlcnNWaXJ0dWFsUGV0Q29uZGl0aW9uc1wiIGFzIE90aGVyc0FjY2VzcyxcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm9wdGlvblwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJDbHVib3duZXJcIixcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBvdGhlcnMgdG8gY2hhbmdlIFRhcmdldENoYXJhY3RlcidzIFZpcnR1YWwgUGV0IENvbmRpdGlvbnMgc2V0dGluZ3NcIixcbiAgICAgICAgICAgICAgICBsb29wOiBmYWxzZVxuICAgICAgICAgICAgfSBhcyBPcHRpb25TZXR0aW5nXG4gICAgICAgIF07XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgYmN4QVBJLCBiY3hGb3VuZCwgSG9va0Z1bmN0aW9uIH0gZnJvbSBcIi4uL3V0aWwvc2RrXCI7XG5pbXBvcnQgeyBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnksIFJlbW92ZU9PQ0NvbnRlbnRGcm9tTWVzc2FnZSB9IGZyb20gXCIuLi91dGlsL21lc3NhZ2luZ1wiO1xuaW1wb3J0IHsgQXV0aG9yaXR5R3JvdXAsIElzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAgfSBmcm9tIFwiLi4vdXRpbC9hdXRob3JpdHlcIjtcbmltcG9ydCB7IE1vZHVsZSwgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi9fbW9kdWxlXCI7XG5pbXBvcnQgeyBJc0hhcmRjb3JlT24gfSBmcm9tIFwiLi9wcm9maWxlXCI7XG5cbi8vIENsaWNrZXIgc291bmRzIHRvIHBsYXlcbi8vIEFuIGFycmF5IG9mIGF1ZGlvIGZpbGVzLCAxIGNsaWNrIGluIGluZGV4IDAsIG4rMSBjbGlja3MgaW4gaW5kZXggblxuY29uc3QgQUxMX0NMSUNLUzogSFRNTEF1ZGlvRWxlbWVudFtdID1cbltcbiAgICBuZXcgQXVkaW8oXCJodHRwczovL21lZGlhLnNvdW5kZ2FzbS5uZXQvc291bmRzL2RmMzMzMTZiZWM3YmMwMzkwMjg2MGQyMWZiNGI4ODI3NDY2ZjJiYWQubTRhXCIpLFxuICAgIG5ldyBBdWRpbyhcImh0dHBzOi8vbWVkaWEuc291bmRnYXNtLm5ldC9zb3VuZHMvZmE0OWIxMGRhZDNlMTIwMmRlMDk2ODU5YjMzOWRjZmM1ZWFiOTBhNS5tNGFcIiksXG4gICAgbmV3IEF1ZGlvKFwiaHR0cHM6Ly9tZWRpYS5zb3VuZGdhc20ubmV0L3NvdW5kcy9iMjUxNzdhNmE5MmQ1YTc0ZDA0N2E5ZDc3YTgwN2YyZDFlZDI4YzcxLm00YVwiKVxuXTtcblxuLyoqXG4gKiBHZXQgdGhlIENsaWNrZXIgc2V0dGluZ3Mgb2YgdGhlIFBsYXllclxuICovXG5jb25zdCBQbGF5ZXJDOiAoQz86IENoYXJhY3RlcikgPT4gTVBBUmVjb3JkID0gKEM6IENoYXJhY3RlciA9IFBsYXllcikgPT5cbntcbiAgICByZXR1cm4gQy5NUEE/LltNb2R1bGVUaXRsZS5DbGlja2VyXSA/PyB7fTtcbn07XG5cbi8qKlxuICogR2V0IHRoZSB0b3RhbCBudW1iZXIgb2YgY2xpY2tzIGluIGEgc3RyaW5nXG4gKi9cbmZ1bmN0aW9uIENsaWNrQ291bnQoc3RyOiBzdHJpbmcgPSBcIlwiKTogbnVtYmVyXG57XG4gICAgbGV0IHRvdGFsQ2xpY2tzID0gMDtcbiAgICAoUGxheWVyQygpLnRyaWdnZXJzIGFzIHN0cmluZylcbiAgICAgICAgLnNwbGl0KFwiLFwiKVxuICAgICAgICAubWFwKChzdHI6IHN0cmluZykgPT4gc3RyLnRyaW0oKSlcbiAgICAgICAgLmZpbHRlcigoc3RyKSA9PiBzdHIgIT09IFwiXCIpXG4gICAgICAgIC5mb3JFYWNoKCh0cmlnZ2VyKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICB0b3RhbENsaWNrcyArPSBzdHIudG9Mb2NhbGVMb3dlckNhc2UoKS5tYXRjaChuZXcgUmVnRXhwKHRyaWdnZXIudG9Mb2NhbGVMb3dlckNhc2UoKSwgXCJnXCIpKT8ubGVuZ3RoID8/IDA7XG4gICAgICAgIH0pO1xuICAgIHJldHVybiB0b3RhbENsaWNrcztcbn1cblxuLyoqXG4gKiBQbGF5IGNsaWNrcyB0byB0aGUgdXNlclxuICovXG5mdW5jdGlvbiBQbGF5Q2xpY2tlclNvdW5kKG51bWJlck9mQ2xpY2tzOiBudW1iZXIgPSAwKTogdm9pZFxue1xuICAgIGlmIChcbiAgICAgICAgaXNOYU4obnVtYmVyT2ZDbGlja3MpXG4gICAgICAgIHx8IG51bWJlck9mQ2xpY2tzIDw9IDBcbiAgICAgICAgfHwgIVBsYXllckMoKS5lbmFibGVkXG4gICAgKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIEFMTF9DTElDS1NbTWF0aC5taW4obnVtYmVyT2ZDbGlja3MgLSAxLCBBTExfQ0xJQ0tTLmxlbmd0aCAtIDEpXS5wbGF5KCk7XG59XG5cbmxldCBiY3hIb29rZWQgPSBmYWxzZTtcbmZ1bmN0aW9uIEhvb2tCQ1hDbGlja2VyKCk6IHZvaWRcbntcbiAgICBpZiAoYmN4Rm91bmQoKSAmJiAhYmN4SG9va2VkKVxuICAgIHtcbiAgICAgICAgYmN4QVBJKCk/Lm9uPy4oXCJiY3hMb2NhbE1lc3NhZ2VcIiwgKGRhdGE6IGFueSkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGRhdGE/Lm1lc3NhZ2UgYXMgc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgICAgICAgICAgY29uc3QgcHJlZml4ID0gXCJbVm9pY2VdIFwiO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIFBsYXllckMoKS5lbmFibGVkXG4gICAgICAgICAgICAgICAgJiYgUGxheWVyQygpLmJjeFZvaWNlXG4gICAgICAgICAgICAgICAgJiYgbWVzc2FnZT8uc3RhcnRzV2l0aChwcmVmaXgpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgUGxheUNsaWNrZXJTb3VuZChDbGlja0NvdW50KG1lc3NhZ2Uuc3Vic3RyaW5nKHByZWZpeC5sZW5ndGgpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBiY3hIb29rZWQgPSB0cnVlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENsaWNrZXJNb2R1bGUgZXh0ZW5kcyBNb2R1bGVcbntcbiAgICAvLyBCQ1ggaG9vayBvbmx5IGxvYWRzIG9uY2UsIHVua25vd24gaWYgY2FuIHVuaG9vayBmb3IgVW5sb2FkKClcbiAgICBoYXNCZWVuTG9hZGVkID0gZmFsc2U7XG5cbiAgICBnZXQgVGl0bGUoKTogTW9kdWxlVGl0bGVcbiAgICB7XG4gICAgICAgIHJldHVybiBNb2R1bGVUaXRsZS5DbGlja2VyO1xuICAgIH1cblxuICAgIGdldCBBY3Rpdml0aWVzKCk6IEN1c3RvbUFjdGl2aXR5W11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgTmFtZTogXCJDbGlja2VyMVwiLFxuICAgICAgICAgICAgICAgIE1heFByb2dyZXNzOiA1MCxcbiAgICAgICAgICAgICAgICBQcmVyZXF1aXNpdGU6IFtcIlVzZUhhbmRzXCJdLFxuICAgICAgICAgICAgICAgIEN1c3RvbVByZXJlcXVpc2l0ZToge1xuICAgICAgICAgICAgICAgICAgICBOYW1lOiBcIkhvbGRpbmdDbGlja2VyXCIsXG4gICAgICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogKGFjdGluZywgX2FjdGVkLCBfZ3JvdXApID0+XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBJbnZlbnRvcnlHZXQoYWN0aW5nLCBcIkl0ZW1IYW5kaGVsZFwiKT8uQXNzZXQ/Lk5hbWU/LnRvTG9jYWxlTG93ZXJDYXNlKCk/LmluY2x1ZGVzKFwicmVtb3RlXCIpID8/IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBUYXJnZXRzOiBbe1xuICAgICAgICAgICAgICAgICAgICBncm91cDogXCJJdGVtSGFuZHNcIixcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiQ2xpY2sgT25jZVwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25TZWxmOiBcIlNvdXJjZUNoYXJhY3RlciBwcmVzc2VzIHRoZSBidXR0b24gb24gUHJvbm91blBvc3Nlc3NpdmUgY2xpY2tlci5cIlxuICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgICAgIEltYWdlOiBcIkljb25zL0F1ZGlvT24ucG5nXCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBOYW1lOiBcIkNsaWNrZXIyXCIsXG4gICAgICAgICAgICAgICAgTWF4UHJvZ3Jlc3M6IDUwLFxuICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogW1wiVXNlSGFuZHNcIl0sXG4gICAgICAgICAgICAgICAgQ3VzdG9tUHJlcmVxdWlzaXRlOiB7XG4gICAgICAgICAgICAgICAgICAgIE5hbWU6IFwiSG9sZGluZ0NsaWNrZXJcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgVGFyZ2V0czogW3tcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IFwiSXRlbUhhbmRzXCIsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkNsaWNrIFR3aWNlXCIsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvblNlbGY6IFwiU291cmNlQ2hhcmFjdGVyIHByZXNzZXMgdGhlIGJ1dHRvbiBvbiBQcm9ub3VuUG9zc2Vzc2l2ZSBjbGlja2VyIHR3aWNlLlwiXG4gICAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAgICAgSW1hZ2U6IFwiSWNvbnMvQXVkaW9Pbi5wbmdcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIE5hbWU6IFwiQ2xpY2tlcjNcIixcbiAgICAgICAgICAgICAgICBNYXhQcm9ncmVzczogNTAsXG4gICAgICAgICAgICAgICAgUHJlcmVxdWlzaXRlOiBbXCJVc2VIYW5kc1wiXSxcbiAgICAgICAgICAgICAgICBDdXN0b21QcmVyZXF1aXNpdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgTmFtZTogXCJIb2xkaW5nQ2xpY2tlclwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBUYXJnZXRzOiBbe1xuICAgICAgICAgICAgICAgICAgICBncm91cDogXCJJdGVtSGFuZHNcIixcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiQ2xpY2sgVGhyaWNlXCIsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvblNlbGY6IFwiU291cmNlQ2hhcmFjdGVyIHByZXNzZXMgdGhlIGJ1dHRvbiBvbiBQcm9ub3VuUG9zc2Vzc2l2ZSBjbGlja2VyIHRocmVlIHRpbWVzLlwiXG4gICAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAgICAgSW1hZ2U6IFwiSWNvbnMvQXVkaW9Pbi5wbmdcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuICAgIH1cblxuICAgIGdldCBTZXR0aW5ncygpOiBTZXR0aW5nW11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJlbmFibGVkXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICFJc0hhcmRjb3JlT24oQyksXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkVuYWJsZSBhdWRpdG9yeSBjbGlja2VyXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJ0cmlnZ2Vyc1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyQyhDKS5lbmFibGVkLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIn5jbGlja35cIixcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJQaHJhc2VzIHRoYXQgdHJpZ2dlciB0aGUgY2xpY2s7IFNlcGFyYXRlIHBocmFzZXMgd2l0aCBhIGNvbW1hXCIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IDM4NCxcbiAgICAgICAgICAgICAgICBtYXhDaGFyczogbnVsbFxuICAgICAgICAgICAgfSBhcyBUZXh0U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwic2VsZkF1dGhlZFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllckMoQykuZW5hYmxlZCAmJiBQbGF5ZXJDKEMpLmF1dGhlZEdyb3VwICE9PSBcIlNlbGZcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyB5b3VyIG93biBjaGF0LCBlbW90ZXMsICYgYWN0aW9ucyB0byB0cmlnZ2VyIHRoZSBjbGlja2VyXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJhdXRoZWRHcm91cFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwib3B0aW9uXCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJDKEMpLmVuYWJsZWQsXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiRnJpZW5kc1wiIGFzIEF1dGhvcml0eUdyb3VwLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IFtcIlB1YmxpY1wiLCBcIkZyaWVuZHNcIiwgXCJXaGl0ZWxpc3RcIiwgXCJMb3ZlcnNcIiwgXCJPd25lcnNcIiwgXCJDbHVib3duZXJcIiwgXCJTZWxmXCJdLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIldobyB3aWxsIGJlIGFibGUgdG8gdHJpZ2dlciB0aGUgY2xpY2tlclwiLFxuICAgICAgICAgICAgICAgIGxvb3A6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG9uU2V0KEMpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoUGxheWVyQyhDKS5hdXRoZWRHcm91cCA9PT0gXCJTZWxmXCIpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBsYXllckMoQykuc2VsZkF1dGhlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGFzIE9wdGlvblNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImJjeFZvaWNlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyQyhDKS5lbmFibGVkICYmIGJjeEZvdW5kKCkgJiYgIUlzSGFyZGNvcmVPbihDKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBCQ1ggTGlzdGVuIHRvIG15IHZvaWNlIHJ1bGUgdG8gdHJpZ2dlciB0aGUgY2xpY2tlcjsgUmVxdWlyZXMgQkNYXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nXG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgTG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5Mb2FkKCk7XG5cbiAgICAgICAgLy8gQ2hhdCwgd2hpc3BlciwgZW1vdGUsIGFuZCBhY3Rpb24gdHJpZ2dlcnNcbiAgICAgICAgSG9va0Z1bmN0aW9uKE1vZHVsZVRpdGxlLkNsaWNrZXIsIFwiQ2hhdFJvb21NZXNzYWdlXCIsIDAsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXJnc1swXTtcbiAgICAgICAgICAgIC8vIElmIGNsaWNrZXIgaXMgbm90IGVuYWJsZWQgb3IgaW52YWxpZCBkYXRhLCBza2lwXG4gICAgICAgICAgICAvLyBNZXNzYWdlIHNlbmRlciBub3QgYXV0aGVkLCBza2lwXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgIVBsYXllckMoKS5lbmFibGVkXG4gICAgICAgICAgICAgICAgfHwgIWFyZ3NbMF0/LlR5cGVcbiAgICAgICAgICAgICAgICB8fCAhYXJnc1swXT8uQ29udGVudFxuICAgICAgICAgICAgICAgIHx8ICFhcmdzWzBdPy5TZW5kZXJcbiAgICAgICAgICAgICAgICB8fCAhSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cChkYXRhLlNlbmRlciEsIFBsYXllckMoKS5hdXRoZWRHcm91cCBhcyBBdXRob3JpdHlHcm91cCwgUGxheWVyQygpLnNlbGZBdXRoZWQgYXMgYm9vbGVhbikpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBjbGlja3M6IG51bWJlciA9IDA7XG4gICAgICAgICAgICAvLyBDb3VudCB0aGUgY2xpY2tzIGluIGFuIGVtb3RlIG9yIGNoYXRcbiAgICAgICAgICAgIGlmIChkYXRhLlR5cGUgPT0gXCJDaGF0XCIgfHwgZGF0YS5UeXBlID09IFwiRW1vdGVcIiB8fCBkYXRhLlR5cGUgPT0gXCJXaGlzcGVyXCIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2xpY2tzID0gQ2xpY2tDb3VudChSZW1vdmVPT0NDb250ZW50RnJvbU1lc3NhZ2UoZGF0YS5Db250ZW50KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBDb3VudCB0aGUgY2xpY2tzIGluIGFuIGFjdGlvbiwgKHN1cHBvcnQgY3VzdG9tIGFjdGlvbnMpXG4gICAgICAgICAgICBpZiAoZGF0YS5UeXBlID09IFwiQWN0aW9uXCIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gQmVlcHNcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5Db250ZW50ID09IFwiQmVlcFwiKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tzID0gQ2xpY2tDb3VudCgoZGF0YT8uRGljdGlvbmFyeT8uZmlsdGVyKCh4KSA9PiAoeCBhcyBUZXh0RGljdGlvbmFyeUVudHJ5KS5UYWcgPT0gXCJCZWVwXCIpWzBdIGFzIFRleHREaWN0aW9uYXJ5RW50cnkpPy5UZXh0ID8/IFwiXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBNQkNIIGFjdGlvbnNcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChkYXRhLkRpY3Rpb25hcnk/LnJlZHVjZSgoYWNjLCBjdXJyKSA9PiBhY2MgfHwgKChjdXJyIGFzIGFueSkuVGFnID09PSBcIk1JU1NJTkcgVEVYVCBJTiBcXFwiSW50ZXJmYWNlLmNzdlxcXCI6IFwiICYmIChjdXJyIGFzIGFueSkuVGV4dCA9PT0gXCJcXHUyMDBjXCIpLCBmYWxzZSkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjbGlja3MgPSBDbGlja0NvdW50KGRhdGEuQ29udGVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEJDWCBhY3Rpb25zXG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tzID0gQ2xpY2tDb3VudCgoZGF0YT8uRGljdGlvbmFyeT8uZmlsdGVyKCh4KSA9PiAoeCBhcyBUZXh0RGljdGlvbmFyeUVudHJ5KS5UYWcgPT0gYE1JU1NJTkcgVEVYVCBJTiBcIkludGVyZmFjZS5jc3ZcIjogJHtkYXRhPy5Db250ZW50fWApWzBdIGFzIFRleHREaWN0aW9uYXJ5RW50cnkpPy5UZXh0ID8/IFwiXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUGxheSB0aGUgY2xpY2tzIGlmIG5lZWRlZFxuICAgICAgICAgICAgUGxheUNsaWNrZXJTb3VuZChjbGlja3MpO1xuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEhhbmQgY2xpY2tlciBhY3Rpdml0eSB0cmlnZ2VyXG4gICAgICAgIEhvb2tGdW5jdGlvbihNb2R1bGVUaXRsZS5DbGlja2VyLCBcIkNoYXRSb29tTWVzc2FnZVwiLCAwLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgbmV4dChhcmdzKTtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhcmdzWzBdO1xuICAgICAgICAgICAgLy8gRm9yIHNvbWUgcmVhc29uIF9hLmZpbmQgaXMgbm90IGRlZmluZWRcbiAgICAgICAgICAgIC8vIEkgZG9uJ3Qga25vdyB3aHksIG9yIHdoeSBub3RcbiAgICAgICAgICAgIC8vIEJ1ZyBpcyBTY2hyw7ZkaW5nZXIncyBidWcsIGl0IG9ubHkgZXhpc3RzIHdoZW4gSSBkb24ndCBvYnNlcnZlIGl0XG4gICAgICAgICAgICAvLyBMb2dnaW5nIHRoZSBkYXRhIG9iamVjdCBhbmQgdGhlIGJ1ZyB2YW5pc2hlcy4uLlxuICAgICAgICAgICAgLy8gRWRpdDogTWFkZSBmcmFtZXdvcmsgdG8gaGFuZGxlIGZpbmRpbmcgYXR0cmlidXRlcyBmcm9tIENoYXRNZXNzYWdlRGljdGlvbmFyeS4gTm8gaXNzdWVzLi4uLi4gc28gZmFyLi4uXG4gICAgICAgICAgICBjb25zdCBhY3Rpdml0eU5hbWUgPSBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJBY3Rpdml0eU5hbWVcIikgYXMgc3RyaW5nO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIFBsYXllckMoKS5lbmFibGVkXG4gICAgICAgICAgICAgICAgJiYgZGF0YS5UeXBlID09PSBcIkFjdGl2aXR5XCJcbiAgICAgICAgICAgICAgICAmJiBhY3Rpdml0eU5hbWU/LnN0YXJ0c1dpdGgoXCJNUEFfQ2xpY2tlclwiKVxuICAgICAgICAgICAgICAgICYmIElzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAoZGF0YS5TZW5kZXIhLCBQbGF5ZXJDKCkuYXV0aGVkR3JvdXAgYXMgQXV0aG9yaXR5R3JvdXAsIFBsYXllckMoKS5zZWxmQXV0aGVkIGFzIGJvb2xlYW4pXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgUGxheUNsaWNrZXJTb3VuZChOdW1iZXIoYWN0aXZpdHlOYW1lLnNsaWNlKC0xKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBIb29rIGludG8gQkNYIGxpc3RlbiB0byB2b2ljZSwgbWF5IG5vdCBiZSBsb2FkZWQgcmlnaHQgYXdheSwgd2FpdCAxNSBzZWNvbmRzXG4gICAgICAgIGlmICghdGhpcy5oYXNCZWVuTG9hZGVkKVxuICAgICAgICB7XG4gICAgICAgICAgICBIb29rQkNYQ2xpY2tlcigpO1xuICAgICAgICAgICAgY29uc3QgaW52ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChiY3hIb29rZWQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludmVydmFsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgSG9va0JDWENsaWNrZXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCA2MDAwMCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5oYXNCZWVuTG9hZGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBVbmxvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3VwZXIuVW5sb2FkKCk7XG4gICAgfVxufVxuIiwiLy8gTmV2ZXIgc2VuZCBQcml2YXRlIE1QQSBkYXRhIGFjcm9zcyB0aGUgc2VydmVyIGFuZCBuZXZlciBhY2NlcHQgUHJpdmF0ZSBNUEEgZGF0YVxuaW1wb3J0IHsgSG9va0Z1bmN0aW9uIH0gZnJvbSBcIi4uL3V0aWwvc2RrXCI7XG5pbXBvcnQgeyBNb2R1bGUsIE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4vX21vZHVsZVwiO1xuaW1wb3J0IHsgRmluZENoYXJhY3RlckluUm9vbSwgR2V0TVBBTWVzc2FnZUZyb21DaGF0LCBIb29rZWRNZXNzYWdlLCBob29rZWRNZXNzYWdlcywgTVBBTWVzc2FnZUNvbnRlbnQsIFNlbmRNUEFNZXNzYWdlIH0gZnJvbSBcIi4uL3V0aWwvbWVzc2FnaW5nXCI7XG5cbi8qKlxuICogU3luYyBhbGwgb2YgeW91ciBjdXJyZW50IHNldHRpbmdzIHdpdGggZXZlcnlvbmUgZWxzZVxuICogQHBhcmFtIHJlcGx5IC0gSWYgd2Ugd2FudCBvdGhlcnMgdG8gc2hhcmUgdGhlaXIgc2V0dGluZ3MgYmFja1xuICogQHBhcmFtIHRhcmdldCAtIFNoYXJlIG9ubHkgdG8gdGhpcyBvbmUgTWVtYmVyTnVtYmVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBTZXR0aW5nU3luYyhyZXBseTogYm9vbGVhbiA9IGZhbHNlLCB0YXJnZXQ/OiBudW1iZXIpOiB2b2lkXG57XG4gICAgY29uc3Qgc2V0dGluZ3MgPSBzdHJ1Y3R1cmVkQ2xvbmUoUGxheWVyLk1QQSk7XG4gICAgZGVsZXRlIHNldHRpbmdzW01vZHVsZVRpdGxlLlByaXZhdGVdO1xuICAgIFNlbmRNUEFNZXNzYWdlKHtcbiAgICAgICAgbWVzc2FnZTogXCJTZXR0aW5nU3luY1wiLFxuICAgICAgICBzZXR0aW5nczogc2V0dGluZ3MsXG4gICAgICAgIHJlcGx5OiByZXBseVxuICAgIH0sIHRhcmdldCk7XG59XG5cbi8qKlxuICogU3luYyBhbGwgb2YgeW91ciBjdXJyZW50IHNldHRpbmdzIG9mIGEgZ2l2ZW4gY2F0ZWdvcnkgd2l0aCBvdGhlcnNcbiAqIEBwYXJhbSBjYXRlZ29yeSAtIFdoaWNoIE1vZHVsZVRpdGxlIGNhdGVnb3J5IHRvIHNoYXJlXG4gKiBAcGFyYW0gdGFyZ2V0IC0gU2hhcmUgb25seSB0byB0aGlzIG9uZSBNZW1iZXJOdW1iZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIENhdGVnb3J5U3luYyhjYXRlZ29yeTogTW9kdWxlVGl0bGUsIHRhcmdldD86IG51bWJlcik6IHZvaWRcbntcbiAgICBpZiAoY2F0ZWdvcnkgPT09IE1vZHVsZVRpdGxlLlByaXZhdGUpXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIFNlbmRNUEFNZXNzYWdlKHtcbiAgICAgICAgbWVzc2FnZTogXCJDYXRlZ29yeVN5bmNcIixcbiAgICAgICAgY2F0ZWdvcnk6IGNhdGVnb3J5LFxuICAgICAgICB2YWx1ZTogUGxheWVyLk1QQVtjYXRlZ29yeV1cbiAgICB9LCB0YXJnZXQpO1xufVxuXG4vKipcbiAqIFN5bmMgb25seSBhIHNpbmdsZSByZWNvcmQgZnJvbSBhIGdpdmVuIGNhdGVnb3J5IHdpdGggb3RoZXJzXG4gKiBAcGFyYW0gY2F0ZWdvcnkgLSBXaGljaCBNb2R1bGVUaXRsZSBjYXRlZ29yeSB0byBzaGFyZVxuICogQHBhcmFtIHJlY29yZCAtIFJlY29yZCB3aXRoaW4gTW9kdWxlVGl0bGUgeW91IHdhbnQgdG8gc2hhcmVcbiAqIEBwYXJhbSB0YXJnZXQgLSBTaGFyZSBvbmx5IHRvIHRoaXMgb25lIE1lbWJlck51bWJlclxuICovXG5leHBvcnQgZnVuY3Rpb24gUmVjb3JkU3luYyhjYXRlZ29yeTogTW9kdWxlVGl0bGUsIHJlY29yZDogc3RyaW5nLCB0YXJnZXQ/OiBudW1iZXIpOiB2b2lkXG57XG4gICAgUmVjb3Jkc1N5bmMoW3sgY2F0ZWdvcnk6IGNhdGVnb3J5LCByZWNvcmQ6IHJlY29yZCB9XSwgdGFyZ2V0KTtcbn1cblxudHlwZSBUcmFuc21pdFJlY29yZHMgPSB7IGNhdGVnb3J5OiBNb2R1bGVUaXRsZTsgcmVjb3JkOiBzdHJpbmc7IHZhbHVlPzogYW55IH1bXTtcbi8qKlxuICogU3luYyBtdWx0aXBsZSByZWNvcmRzIGZyb20gYW55IGdpdmVuIGNhdGVnb3J5IHdpdGggb3RoZXJzXG4gKiBAcGFyYW0gcmVjb3Jkcy5jYXRlZ29yeSAtIFdoaWNoIE1vZHVsZVRpdGxlIGNhdGVnb3J5IHRvIHNoYXJlXG4gKiBAcGFyYW0gcmVjb3Jkcy5yZWNvcmQgLSBSZWNvcmQgd2l0aGluIE1vZHVsZVRpdGxlIHlvdSB3YW50IHRvIHNoYXJlXG4gKiBAcGFyYW0gdGFyZ2V0IC0gU2hhcmUgb25seSB0byB0aGlzIG9uZSBNZW1iZXJOdW1iZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFJlY29yZHNTeW5jKHJlY29yZHM6IFRyYW5zbWl0UmVjb3JkcywgdGFyZ2V0PzogbnVtYmVyKTogdm9pZFxue1xuICAgIGZvciAobGV0IGkgPSByZWNvcmRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuICAgIHtcbiAgICAgICAgY29uc3QgcmVjb3JkID0gcmVjb3Jkc1tpXTtcbiAgICAgICAgaWYgKHJlY29yZC5jYXRlZ29yeSA9PT0gTW9kdWxlVGl0bGUuUHJpdmF0ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmVjb3Jkcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmVjb3JkLnZhbHVlID0gUGxheWVyLk1QQVtyZWNvcmQuY2F0ZWdvcnldW3JlY29yZC5yZWNvcmRdO1xuICAgIH1cbiAgICBpZiAocmVjb3Jkcy5sZW5ndGggPT09IDApXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIFNlbmRNUEFNZXNzYWdlKHtcbiAgICAgICAgbWVzc2FnZTogXCJSZWNvcmRzU3luY1wiLFxuICAgICAgICByZWNvcmRzOiByZWNvcmRzXG4gICAgfSwgdGFyZ2V0KTtcbn1cblxuZXhwb3J0IGNsYXNzIERhdGFTeW5jTW9kdWxlIGV4dGVuZHMgTW9kdWxlXG57XG4gICAgZ2V0IFRpdGxlKCk6IE1vZHVsZVRpdGxlXG4gICAge1xuICAgICAgICByZXR1cm4gTW9kdWxlVGl0bGUuRGF0YVN5bmM7XG4gICAgfVxuXG4gICAgZ2V0IFN5bmNMaXN0ZW5lcnMoKTogSG9va2VkTWVzc2FnZVtdXG4gICAge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG1vZHVsZTogTW9kdWxlVGl0bGUuRGF0YVN5bmMsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJTZXR0aW5nU3luY1wiLFxuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKHNlbmRlcjogQ2hhcmFjdGVyLCBjb250ZW50OiBNUEFNZXNzYWdlQ29udGVudCk6IHZvaWRcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZW5kZXIuTWVtYmVyTnVtYmVyID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc2VuZGVyLk1QQSA9IGNvbnRlbnQuc2V0dGluZ3M7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50LnJlcGx5KVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBTZXR0aW5nU3luYyhmYWxzZSwgc2VuZGVyLk1lbWJlck51bWJlcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgbW9kdWxlOiBNb2R1bGVUaXRsZS5EYXRhU3luYyxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkNhdGVnb3J5U3luY1wiLFxuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKHNlbmRlcjogQ2hhcmFjdGVyLCBjb250ZW50OiBNUEFNZXNzYWdlQ29udGVudCk6IHZvaWRcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZW5kZXIuTWVtYmVyTnVtYmVyID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzZW5kZXIuTVBBKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBTZXR0aW5nU3luYyhmYWxzZSwgc2VuZGVyLk1lbWJlck51bWJlcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZW5kZXIuTVBBW2NvbnRlbnQuY2F0ZWdvcnldID0gY29udGVudC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBtb2R1bGU6IE1vZHVsZVRpdGxlLkRhdGFTeW5jLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiUmVjb3Jkc1N5bmNcIixcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uIChzZW5kZXI6IENoYXJhY3RlciwgY29udGVudDogTVBBTWVzc2FnZUNvbnRlbnQpOiB2b2lkXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VuZGVyLk1lbWJlck51bWJlciA9PT0gUGxheWVyLk1lbWJlck51bWJlcilcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcmVjb3JkIG9mIGNvbnRlbnQucmVjb3JkcyBhcyBUcmFuc21pdFJlY29yZHMpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc2VuZGVyPy5NUEE/LltyZWNvcmQuY2F0ZWdvcnldKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIENhdGVnb3J5U3luYyhjb250ZW50LmNhdGVnb3J5LCBzZW5kZXIuTWVtYmVyTnVtYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5kZXIuTVBBW3JlY29yZC5jYXRlZ29yeV1bcmVjb3JkLnJlY29yZF0gPSByZWNvcmQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgTG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5Mb2FkKCk7XG5cbiAgICAgICAgLy8gTVBBIGxvYWRlZCBpbiBhIGNoYXRyb29tLCBTeW5jIHdpdGggb3RoZXJzIGluIHRoZSByb29tXG4gICAgICAgIGlmIChDaGF0Um9vbUNoYXJhY3Rlci5sZW5ndGggIT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIFNldHRpbmdTeW5jKHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gV2hlbiBqb2luaW5nIGEgcm9vbSwgc3luYyBNUEEgc2V0dGluZ3Mgd2l0aCBldmVyeW9uZSBlbHNlXG4gICAgICAgIEhvb2tGdW5jdGlvbihNb2R1bGVUaXRsZS5EYXRhU3luYywgXCJDaGF0Um9vbVN5bmNcIiwgMCwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIG5leHQoYXJncyk7XG4gICAgICAgICAgICBTZXR0aW5nU3luYyh0cnVlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gU3luYyByZXF1ZXN0LCBoYW5kbGUgYW5kIHJlcGx5IGlmIG5lZWRlZFxuICAgICAgICBIb29rRnVuY3Rpb24oTW9kdWxlVGl0bGUuRGF0YVN5bmMsIFwiQ2hhdFJvb21NZXNzYWdlXCIsIDAsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXJnc1swXTtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBHZXRNUEFNZXNzYWdlRnJvbUNoYXQoZGF0YSk7XG4gICAgICAgICAgICBpZiAoIWNvbnRlbnQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzZW5kZXIgPSBGaW5kQ2hhcmFjdGVySW5Sb29tKGRhdGEuU2VuZGVyID8/IFwiXCIsIHsgTWVtYmVyTnVtYmVyOiB0cnVlLCBOYW1lOiBmYWxzZSwgTmlja05hbWU6IGZhbHNlIH0pO1xuICAgICAgICAgICAgaWYgKCFzZW5kZXIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEhhbmRsZSB0aGUgZGF0YSBsaXN0ZW5lcnNcbiAgICAgICAgICAgIGhvb2tlZE1lc3NhZ2VzLmZvckVhY2goKGhvb2spID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRlbnQubWVzc2FnZSA9PT0gaG9vay5tZXNzYWdlKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaG9vay5hY3Rpb24oc2VuZGVyLCBjb250ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgVW5sb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLlVubG9hZCgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IE1vZHVsZSwgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi9fbW9kdWxlXCI7XG5cbmV4cG9ydCBjbGFzcyBQcml2YXRlTW9kdWxlIGV4dGVuZHMgTW9kdWxlXG57XG4gICAgZ2V0IFRpdGxlKCk6IE1vZHVsZVRpdGxlXG4gICAge1xuICAgICAgICByZXR1cm4gTW9kdWxlVGl0bGUuUHJpdmF0ZTtcbiAgICB9XG5cbiAgICBnZXQgU2V0dGluZ3MoKTogU2V0dGluZ1tdXG4gICAge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwic2F2ZWRCZWRcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInJlY29yZFwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIlwiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJzYXZlZEJvd2xcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInJlY29yZFwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIlwiXG4gICAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgTG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5Mb2FkKCk7XG4gICAgfVxuXG4gICAgVW5sb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLlVubG9hZCgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEZpbHRlckFycmF5RnJvbUFycmF5IH0gZnJvbSBcIi4uL3V0aWwvZ2VuZXJhbFwiO1xuaW1wb3J0IHsgYmN4QVBJLCBiY3hGb3VuZCwgSG9va0Z1bmN0aW9uIH0gZnJvbSBcIi4uL3V0aWwvc2RrXCI7XG5pbXBvcnQgeyBNb2R1bGUsIE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4vX21vZHVsZVwiO1xuaW1wb3J0IHsgRWxlbWVudE5hbWUgfSBmcm9tIFwiLi9zZXR0aW5nc1wiO1xuaW1wb3J0IHsgQXBwbHlQZXRIZWFyaW5nLCBOb25EaXNydXB0aXZlUGV0U3BlZWNoIH0gZnJvbSBcIi4uL3V0aWwvcGV0SGVhckFuZFNwZWFrXCI7XG5pbXBvcnQgeyBIb29rZWRNZXNzYWdlLCBNUEFNZXNzYWdlQ29udGVudCwgU2VuZE1QQU1lc3NhZ2UgfSBmcm9tIFwiLi4vdXRpbC9tZXNzYWdpbmdcIjtcbmltcG9ydCB7IFJlY29yZHNTeW5jIH0gZnJvbSBcIi4vZGF0YVN5bmNcIjtcbmltcG9ydCB7IElzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAgfSBmcm9tIFwiLi4vdXRpbC9hdXRob3JpdHlcIjtcblxuY29uc3QgUGxheWVyUDogKEM/OiBDaGFyYWN0ZXIpID0+IE1QQVJlY29yZCA9IChDOiBDaGFyYWN0ZXIgPSBQbGF5ZXIpID0+XG57XG4gICAgcmV0dXJuIEMuTVBBPy5bTW9kdWxlVGl0bGUuUHJvZmlsZV0gPz8ge307XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gSXNIYXJkY29yZU9uKEM6IENoYXJhY3Rlcik6IGJvb2xlYW5cbntcbiAgICByZXR1cm4gKEMuTVBBPy5bTW9kdWxlVGl0bGUuUHJvZmlsZV0uaGFyZGNvcmUgYXMgYm9vbGVhbiB8IHVuZGVmaW5lZCkgPz8gZmFsc2U7XG59O1xuXG5mdW5jdGlvbiBHZXRSZWNvcmQodGl0bGU6IE1vZHVsZVRpdGxlLCBDOiBDaGFyYWN0ZXIgPSBQbGF5ZXIpOiBNUEFSZWNvcmRcbntcbiAgICByZXR1cm4gQy5NUEE/Llt0aXRsZV0gPz8ge307XG59XG5cbi8vIE1ha2Ugc3VyZSBub3QgaW4gQkNYIGJhbm5lZCB3b3JkcyAvIHBocmFzZXNcbi8vIERvbid0IGJsYW1lIG1lIGZvciB0aGUgc2VsZWN0aW9uLCBob3cgYXJlIHlvdSBzdXBwb3NlZCB0byB0eXBlIG91dCB0aGVzZSBhbmltYWwgc291bmRzXG4vLyBIYWxmIHRoaXMgY2FtZSBmcm9tIGNoYXQgZ3B0IGFueXdheSwgaWYgeW91IGdvdCBzb21ldGhpbmcgYmV0dGVyLCBmZWVsIGZyZWUgdG8gc3VnZ2VzdCBpdFxuZXhwb3J0IGNvbnN0IEdBUkJMRV9QSFJBU0VTID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgSHVtYW46IFtcImhtbWdtXCIsIFwibW1tbVwiLCBcIm1oaG1tYWFcIiwgXCJobW1tXCJdLFxuICAgIEN1c3RvbTogW1wiXCJdLFxuICAgIEJ1bm55OiBbXCJwb25cIiwgXCJweW9uXCIsIFwiZWVwXCIsIFwiaHVmZlwiLCBcInRrLXRrXCIsIFwibm5naC1ubmdoXCJdLFxuICAgIENhdDogW1wibWVvd1wiLCBcIm1ld1wiLCBcIm55YWhcIiwgXCJueWFcIiwgXCJwdXJyXCIsIFwibXJyb3dcIiwgXCJwcnJyXCJdLFxuICAgIENvdzogW1wibW9vXCIsIFwibW9vb29vXCIsIFwibXV1aGhoXCIsIFwibW9vb2FoXCJdLFxuICAgIERvZzogW1wiYXJmXCIsIFwid29vZlwiLCBcImJhcmtcIiwgXCJydWZmXCIsIFwiaHVmZlwiLCBcImVlcFwiXSxcbiAgICBGb3g6IFtcImNoaXJwXCIsIFwieWlwXCIsIFwid293LXdvd1wiLCBcInlvd3dcIiwgXCJlZXBcIl0sXG4gICAgTW91c2U6IFtcInNxdWVha1wiLCBcImVlZWtcIiwgXCJ0Y2gtdGNoXCIsIFwid2ktaS1pXCIsIFwic3NzXCJdLFxuICAgIFBvbnk6IFtcIm5laWdoXCIsIFwid2hpbm55XCIsIFwid2hlZWVcIiwgXCJzbnJ0XCIsIFwid2hvb29zaFwiLCBcImh1ZmZcIiwgXCJubmhoaC1rZXJcIl0sXG4gICAgV29sZjogW1wiYXdvb1wiLCBcImFhLW9vb1wiLCBcIndvb2ZcIiwgXCJydWZmXCIsIFwiYXJmXCIsIFwid2lpaXBcIiwgXCJodWZmXCJdXG59KTtcbnR5cGUgUGV0U3BlYWtpbmdLZXlzID0ga2V5b2YgdHlwZW9mIEdBUkJMRV9QSFJBU0VTO1xuXG4vKipcbiAqIEdldCB0aGUgcGV0IGdhcmJsZSBwaHJhc2VzIGZvciB0aGUgc2VsZWN0ZWQgcHJvZmlsZVxuICogQHBhcmFtIHByb2ZpbGUgLSBEZWZhdWx0cyB0byBQbGF5ZXIncyBwcm9maWxlIGlmIG5vbmUgcHJvdmlkZWRcbiAqL1xuZnVuY3Rpb24gR2V0UGV0R2FyYmxlUGhyYXNlcyhwcm9maWxlOiBQZXRTcGVha2luZ0tleXMgPSBQbGF5ZXJQKFBsYXllcikudHlwZSk6IHN0cmluZ1tdXG57XG4gICAgaWYgKHByb2ZpbGUgaW4gR0FSQkxFX1BIUkFTRVMgJiYgcHJvZmlsZSAhPT0gXCJDdXN0b21cIilcbiAgICB7XG4gICAgICAgIHJldHVybiBHQVJCTEVfUEhSQVNFU1twcm9maWxlXTtcbiAgICB9XG4gICAgcmV0dXJuIChQbGF5ZXJQKFBsYXllcikuZ2FyYmxlUGhyYXNlcyBhcyBzdHJpbmcpLnNwbGl0KFwiLFwiKS5tYXAoKHN0cikgPT4gc3RyLnRyaW0oKSk7XG59XG5cbi8qKlxuICogT25seSBpbmNsdWRlIHBldCBzb3VuZHMgdGhhdCBhcmUgcGVybWl0dGVkIGJ5IEJDWFxuICogQHBhcmFtIHByb2ZpbGUgLSBEZWZhdWx0cyB0byBQbGF5ZXIncyBwcm9maWxlXG4gKiBAcmV0dXJucyBQaHJhc2VzIEJDWCB3b24ndCBnZXQgbWFkIGF0XG4gKi9cbmZ1bmN0aW9uIEdldEFsbG93ZWRQZXRHYXJibGVQaHJhc2VzKHByb2ZpbGU6IFBldFNwZWFraW5nS2V5cyA9IFBsYXllclAoUGxheWVyKS50eXBlKTogc3RyaW5nW11cbntcbiAgICBjb25zdCBiYW5uZWRCQ1hXb3JkcyA9IGJjeEFQSSgpPy5nZXRSdWxlU3RhdGUoXCJzcGVlY2hfYmFuX3dvcmRzXCIpPy5jdXN0b21EYXRhPy5iYW5uZWRXb3JkcyA/PyBbXTtcbiAgICBjb25zdCBwZXRQaHJhc2VzID0gYmN4Rm91bmQoKSAmJiBQbGF5ZXJQKFBsYXllcikuYmN4U3BlYWtpbmcgP1xuICAgICAgICBiY3hBUEkoKT8uZ2V0UnVsZVN0YXRlKFwic3BlZWNoX21hbmRhdG9yeV93b3Jkc1wiKT8uY3VzdG9tRGF0YT8ubWFuZGF0b3J5V29yZHMgPz8gW10gOlxuICAgICAgICBHZXRQZXRHYXJibGVQaHJhc2VzKHByb2ZpbGUpO1xuICAgIHJldHVybiBGaWx0ZXJBcnJheUZyb21BcnJheShwZXRQaHJhc2VzLCBiYW5uZWRCQ1hXb3Jkcyk7XG59XG5cbmV4cG9ydCBjb25zdCBQRVRfSEVBUklORyA9IE9iamVjdC5mcmVlemUoe1xuICAgIEFsbDogW1wib3duZXJcIiwgXCJwZXRcIiwgXCJtYXN0ZXJcIiwgXCJtaXN0cmVzc1wiLCBcIm1pc3NcIiwgXCJzaXJcIiwgXCJwYXdcIiwgXCJzaXRcIiwgXCJjb21lXCIsIFwiZG93blwiLCBcInVwXCIsXG4gICAgICAgIFwic3RheVwiLCBcIndhdGVyXCIsIFwiZm9vZFwiLCBcImtpYmJsZVwiLCBcImVhdFwiLCBcInRyZWF0XCIsIFwiZHJpbmtcIiwgXCJ0b3lcIiwgXCJwbGF5XCIsIFwibGVhc2hcIiwgXCJ3YWxrXCIsXG4gICAgICAgIFwid2Fsa2llc1wiLCBcImJlZFwiLCBcInNsZWVwXCIsIFwiY3V0aWVcIiwgXCJhZG9yYWJsZVwiLCBcInRveVwiLCBcInBsYXlcIiwgXCJraWJibGVcIiwgXCJnb29kXCIsIFwiYmFkXCIsXG4gICAgICAgIFwibGFwXCIsIFwic3BlYWtcIiwgXCJodXNoXCIsIFwicXVpZXRcIiwgXCJodXNoXCIsIFwiYWxsIGZvdXJzXCIsIFwiYWxsLWZvdXJzXCJdLFxuICAgIEh1bWFuOiBbXSxcbiAgICBDdXN0b206IFtdLFxuICAgIEJ1bm55OiBbXCJidW5cIiwgXCJidW5ueVwiLCBcImNhcnJvdFwiLCBcImhvcFwiLCBcImp1bXBcIiwgXCJodW1wXCIsIFwiZWFyXCIsIFwiZWFyc1wiXSxcbiAgICBDYXQ6IFtcImNhdFwiLCBcImtpdHR5XCIsIFwia2l0dGVuXCIsIFwiY2F0bmlwXCIsIFwia25lYWRcIiwgXCJzY3JhdGNoXCIsIFwieWFyblwiLCBcIm1pbGtcIl0sXG4gICAgQ293OiBbXCJtaWxrXCIsIFwibWlsa2luZ1wiLCBcInV0dGVyXCIsIFwiYnJlYXN0XCIsIFwiZ3Jhc3NcIiwgXCJtb29cIl0sXG4gICAgRG9nOiBbXCJjYWdlXCIsIFwia2VubmVsXCIsIFwicHVwXCIsIFwicHVwcHlcIiwgXCJkb2dcIiwgXCJkb2dneVwiLCBcImJvbmVcIiwgXCJmZXRjaFwiLCBcImhlZWxcIiwgXCJyb2xsXCIsIFwib3ZlclwiLCBcImJhcmtcIl0sXG4gICAgRm94OiBbXCJ0cmFwXCIsIFwiYnVuXCIsIFwiYnVubnlcIiwgXCJib25lXCIsIFwiZm94XCIsIFwiZm94eVwiXSxcbiAgICBNb3VzZTogW1wibW91c2VcIiwgXCJlYXJcIiwgXCJlYXJzXCIsIFwidHJhcFwiLCBcIndpcmVcIiwgXCJ3aGVlbFwiLCBcImNoZWVzZVwiLCBcIm5pYmJsZVwiLCBcImNhdFwiLCBcImtpdHR5XCIsIFwia2l0dGVuXCJdLFxuICAgIFBvbnk6IFtcInBvbnlcIiwgXCJtYXJlXCIsIFwic3RhbGxpb25cIiwgXCJicmlkbGVcIiwgXCJob29mXCIsIFwiaG9vdmVzXCIsIFwidHJvdFwiLCBcInN0YWxsXCIsIFwiaGF5XCIsIFwid29haFwiLFxuICAgICAgICBcInN0b21wXCIsIFwiY2FsbVwiLCBcImVhc3lcIiwgXCJzbG93XCIsIFwiY2FydFwiLCBcImJheVwiLCBcInJ1blwiLCBcInJhY2VcIl0sXG4gICAgV29sZjogW1wiYm9uZVwiLCBcIndvbGZcIiwgXCJkb2dcIiwgXCJwdXBcIiwgXCJwdXBweVwiLCBcImhlZWxcIl1cbn0pO1xudHlwZSBQZXRIZWFyaW5nS2V5cyA9IGtleW9mIHR5cGVvZiBQRVRfSEVBUklORztcblxuLyoqXG4gKlxuICogQHBhcmFtIHByb2ZpbGUgLSBEZWZhdWx0cyB0byBQbGF5ZXIncyBwcm9maWxlXG4gKi9cbmZ1bmN0aW9uIEdldFBldEhlYXJpbmdQaHJhc2VzKHByb2ZpbGU6IFBldEhlYXJpbmdLZXlzID0gUGxheWVyUChQbGF5ZXIpLnR5cGUpOiBzdHJpbmdbXVxue1xuICAgIGlmIChwcm9maWxlIGluIFBFVF9IRUFSSU5HKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFBFVF9IRUFSSU5HLkFsbC5jb25jYXQoUEVUX0hFQVJJTkdbcHJvZmlsZV0pO1xuICAgIH1cblxuICAgIHJldHVybiBQRVRfSEVBUklORy5BbGw7XG59XG5cbi8qKlxuICogQ2FsbGJhY2sgd2hlbiBwcm9maWxlIHR5cGUgaXMgc2V0XG4gKiBAcGFyYW0gQyAtIENoYXJhY3RlciB3aG8gd2UgYXJlIHNldHRpbmdcbiAqIEBwYXJhbSB2YWx1ZSAtIFdoYXQgdGhlIG5ldyB0eXBlIGlzXG4gKiBAcGFyYW0gcHJldlZhbHVlIC0gV2hhdCB0aGUgcHJldmlvdXMgdHlwZSB3YXNcbiAqL1xuZnVuY3Rpb24gU2V0UHJvZmlsZVR5cGUoQzogQ2hhcmFjdGVyLCB2YWx1ZTogc3RyaW5nLCBwcmV2VmFsdWU6IHN0cmluZylcbntcbiAgICBjb25zdCBlbGVJRCA9IEVsZW1lbnROYW1lKE1vZHVsZVRpdGxlLlByb2ZpbGUsIFwiZ2FyYmxlUGhyYXNlc1wiKTtcbiAgICBpZiAodmFsdWUgPT09IFwiQ3VzdG9tXCIpXG4gICAge1xuICAgICAgICBQbGF5ZXJQKEMpLmdhcmJsZVBocmFzZXMgPSBQbGF5ZXJQKEMpLmN1c3RvbUdhcmJsZVBocmFzZXMuam9pbihcIiwgXCIpO1xuICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlSUQpKVxuICAgICAgICB7XG4gICAgICAgICAgICBFbGVtZW50VmFsdWUoZWxlSUQsIFBsYXllclAoQykuZ2FyYmxlUGhyYXNlcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAocHJldlZhbHVlID09PSBcIkN1c3RvbVwiICYmIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZUlEKSlcbiAgICB7XG4gICAgICAgIFBsYXllclAoQykuY3VzdG9tR2FyYmxlUGhyYXNlcyA9IEVsZW1lbnRWYWx1ZShlbGVJRCkuc3BsaXQoXCIsXCIpLm1hcCgoeCkgPT4geC50cmltKCkpO1xuICAgIH1cbiAgICBQbGF5ZXJQKEMpLmdhcmJsZVBocmFzZXMgPSAoR0FSQkxFX1BIUkFTRVNbUGxheWVyUChDKS50eXBlXSBhcyBzdHJpbmdbXSkuam9pbihcIiwgXCIpO1xuXG4gICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZUlEKSlcbiAgICB7XG4gICAgICAgIEVsZW1lbnRWYWx1ZShlbGVJRCwgUGxheWVyUChDKS5nYXJibGVQaHJhc2VzKTtcbiAgICB9XG59XG5cbi8qKlxuICogU2V0IHByb2ZpbGUgYmN4IHNwZWFraW5nIGZvciB0aGUgbG9jYWwgcGxheWVyXG4gKi9cbmZ1bmN0aW9uIFNldEJDWFNwZWFrKClcbntcbiAgICBQbGF5ZXJQKCkuYmN4U3BlYWtpbmcgPSB0cnVlO1xuICAgIGNvbnN0IGVsZUlEID0gRWxlbWVudE5hbWUoTW9kdWxlVGl0bGUuUHJvZmlsZSwgXCJnYXJibGVQaHJhc2VzXCIpO1xuICAgIC8vIFNhdmUgcHJldmlvdXMgd29yZHMgaWYgbmVlZGVkXG4gICAgaWYgKFBsYXllclAoKS50eXBlID09PSBcIkN1c3RvbVwiICYmIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZUlEKSlcbiAgICB7XG4gICAgICAgIFBsYXllclAoKS5jdXN0b21HYXJibGVQaHJhc2VzID0gRWxlbWVudFZhbHVlKGVsZUlEKS5zcGxpdChcIixcIikubWFwKCh4KSA9PiB4LnRyaW0oKSk7XG4gICAgfVxuICAgIGNvbnN0IHdvcmRzID0gYmN4QVBJKCk/LmdldFJ1bGVTdGF0ZShcInNwZWVjaF9tYW5kYXRvcnlfd29yZHNcIik/LmN1c3RvbURhdGE/Lm1hbmRhdG9yeVdvcmRzID8/IFtdO1xuICAgIFBsYXllclAoKS5nYXJibGVQaHJhc2VzID0gd29yZHMuam9pbihcIiwgXCIpO1xuICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVJRCkpXG4gICAge1xuICAgICAgICBFbGVtZW50VmFsdWUoZWxlSUQsIFBsYXllclAoKS5nYXJibGVQaHJhc2VzKTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBQcm9maWxlTW9kdWxlIGV4dGVuZHMgTW9kdWxlXG57XG4gICAgZ2V0IFRpdGxlKCk6IE1vZHVsZVRpdGxlXG4gICAge1xuICAgICAgICByZXR1cm4gTW9kdWxlVGl0bGUuUHJvZmlsZTtcbiAgICB9XG5cbiAgICBnZXQgU3luY0xpc3RlbmVycygpOiBIb29rZWRNZXNzYWdlW11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbW9kdWxlOiB0aGlzLlRpdGxlLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQkNYU3BlYWtFbmFibGVSZXF1ZXN0XCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoc2VuZGVyOiBDaGFyYWN0ZXIsIF9jb250ZW50OiBNUEFNZXNzYWdlQ29udGVudCk6IHZvaWRcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBzZW5kZXIgaGFzIGF1dGhvcml0eSB0byBzZXQgdGhpcyBzZXR0aW5nXG4gICAgICAgICAgICAgICAgICAgIGlmICghSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cChzZW5kZXIuTWVtYmVyTnVtYmVyID8/IC0xLCBQbGF5ZXIuTVBBPy5bTW9kdWxlVGl0bGUuQXV0aG9yaXR5XVtgb3RoZXJzJHtNb2R1bGVUaXRsZS5Qcm9maWxlfWBdKSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGAke3NlbmRlci5OaWNrbmFtZSB8fCBzZW5kZXIuTmFtZX1bJHtzZW5kZXIuTWVtYmVyTnVtYmVyfV0gdHJpZWQgdG8gaWxsZWdpYWxseSBzZXQgeW91ciBiY3ggc3BlYWsgdG8gYmUgZW5hYmxlZGApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gU2V0IHRoZSByZWNvcmQgYnkgdGhlIHBlcnNvbiB3aG8gaXMgaGF2aW5nIHRoZWlyIHNldHRpbmdzIGNoYW5nZWRcbiAgICAgICAgICAgICAgICAgICAgLy8gQkNYIG1hbmRhdG9yeSB3b3JkcyBvbmx5IHZpZXdhYmxlIGJ5IHRoZSBwbGF5ZXIgbG9jYWxseVxuICAgICAgICAgICAgICAgICAgICBTZXRCQ1hTcGVhaygpO1xuICAgICAgICAgICAgICAgICAgICBSZWNvcmRzU3luYyhbXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGNhdGVnb3J5OiBNb2R1bGVUaXRsZS5Qcm9maWxlLCByZWNvcmQ6IFwiZ2FyYmxlUGhyYXNlc1wiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGNhdGVnb3J5OiBNb2R1bGVUaXRsZS5Qcm9maWxlLCByZWNvcmQ6IFwiYmN4U3BlYWtpbmdcIiB9XG4gICAgICAgICAgICAgICAgICAgIF0sIHNlbmRlci5NZW1iZXJOdW1iZXIpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEFmdGVyIHVwZGF0aW5nIGFuZCBzZW5kaW5nIHRoZSBuZXcgcmVjb3Jkcywgbm90aWZ5IHNlbmRlciBmb3IgYWNrbm93bGVkZ2VtZW50IHRvIHVwZGF0ZSB0aGVpciBkaXNwbGF5XG4gICAgICAgICAgICAgICAgICAgIFNlbmRNUEFNZXNzYWdlKHsgbWVzc2FnZTogXCJCQ1hTcGVha0VuYWJsZVJlcGx5XCIgfSwgc2VuZGVyLk1lbWJlck51bWJlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIG1vZHVsZTogdGhpcy5UaXRsZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkJDWFNwZWFrRW5hYmxlUmVwbHlcIixcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uIChzZW5kZXI6IENoYXJhY3RlciwgX2NvbnRlbnQ6IE1QQU1lc3NhZ2VDb250ZW50KTogdm9pZFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgZ290IGEgcG9zdGl2ZSByZXNwb25zZSBmcm9tIHRoZSByZXF1ZXN0LCBjaGFuZ2UgbWFkZSwgYnV0IHdlIG5lZWQgdG8gc2VlIGl0IG9uIG91ciBzaWRlIG5vd1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbGVJRCA9IEVsZW1lbnROYW1lKE1vZHVsZVRpdGxlLlByb2ZpbGUsIFwiZ2FyYmxlUGhyYXNlc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZUlEKSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgRWxlbWVudFZhbHVlKGVsZUlELCBQbGF5ZXJQKHNlbmRlcikuZ2FyYmxlUGhyYXNlcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgZ2V0IFNldHRpbmdzKCk6IFNldHRpbmdbXVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInR5cGVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm9wdGlvblwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBPYmplY3Qua2V5cyhHQVJCTEVfUEhSQVNFUyksXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiSHVtYW5cIixcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJVc2UgYSBwcmVzZXQgcHJvZmlsZSBvciBtYWtlIHlvdXIgb3duXCIsXG4gICAgICAgICAgICAgICAgbG9vcDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBvblNldDogKEMsIHZhbHVlLCBwcmV2VmFsdWUpID0+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoUGxheWVyUChDKS5iY3hTcGVha2luZylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIFNldFByb2ZpbGVUeXBlKEMsIHZhbHVlLCBwcmV2VmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gYXMgT3B0aW9uU2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwicGV0SGVhcmluZ1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIldoaWxlIGRlYWZlbmVkIGNlcnRhaW4gcGV0IGtleXdvcmRzIGNhbiBiZSBwaWNrZWQgdXBcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImdhcmJsZVBocmFzZXNcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiBQbGF5ZXJQKEMpLnR5cGUgPT09IFwiQ3VzdG9tXCIgJiYgIShQbGF5ZXJQKEMpLnBldFNwZWFraW5nICYmIGJjeEZvdW5kKCkgJiYgUGxheWVyUChDKS5iY3hTcGVha2luZyksXG4gICAgICAgICAgICAgICAgdmFsdWU6IEdBUkJMRV9QSFJBU0VTLkh1bWFuLmpvaW4oKSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJQZXQgc291bmRzIHlvdSBtYWtlXCIsXG4gICAgICAgICAgICAgICAgbWF4Q2hhcnM6IDEwMjQsXG4gICAgICAgICAgICAgICAgd2lkdGg6IDEwMjRcbiAgICAgICAgICAgIH0gYXMgVGV4dFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImN1c3RvbUdhcmJsZVBocmFzZXNcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInJlY29yZFwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBbXVxuICAgICAgICAgICAgfSBhcyBTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJwZXRTcGVha2luZ1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkF1dG9tYXRpY2FsbHkgbWFrZSB0aGUgYWJvdmUgcGV0IHNvdW5kcyB3aGlsZSB0YWxraW5nXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJiY3hTcGVha2luZ1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiBQbGF5ZXJQKEMpLnBldFNwZWFraW5nICYmIGJjeEZvdW5kKCksXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIlVzZSBCQ1ggbWFuZGF0b3J5IHdvcmRzIGluc3RlYWQgb2YgdGhlIHBldCBzb3VuZHMgYWJvdmVcIixcbiAgICAgICAgICAgICAgICBvblNldDogKEMsIHZhbHVlKSA9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF2YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgU2V0UHJvZmlsZVR5cGUoQywgUGxheWVyUChDKS50eXBlLCBcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoQy5Jc1BsYXllcigpKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdGhlIG1hbmRhdG9yeSB3b3JkcyBmb3IgeW91cnNlbGYgc2luY2UgaGF2ZSBsb2NhbCBiY3ggYWNjZXNzXG4gICAgICAgICAgICAgICAgICAgICAgICBTZXRCQ1hTcGVhaygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZWxlSUQgPSBFbGVtZW50TmFtZShNb2R1bGVUaXRsZS5Qcm9maWxlLCBcImdhcmJsZVBocmFzZXNcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTYXZlIGFueSBjdXN0b20gd29yZCBjaGFuZ2VzXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoUGxheWVyUChDKS50eXBlID09PSBcIkN1c3RvbVwiICYmIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZUlEKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQbGF5ZXJQKEMpLmN1c3RvbUdhcmJsZVBocmFzZXMgPSBFbGVtZW50VmFsdWUoZWxlSUQpLnNwbGl0KFwiLFwiKS5tYXAoKHgpID0+IHgudHJpbSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVxdWVzdCB0aGUgbWFuZGF0b3J5IHdvcmRzIGZyb20gdGhlIG90aGVyIHBlcnNvblxuICAgICAgICAgICAgICAgICAgICAgICAgU2VuZE1QQU1lc3NhZ2UoeyBtZXNzYWdlOiBcIkJDWFNwZWFrRW5hYmxlUmVxdWVzdFwiIH0sIEMuTWVtYmVyTnVtYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJoYXJkY29yZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkVuYWJsZSBoYXJkY29yZSBtb2RlOyBXaWxsIHNldCBjZXJ0YWluIHNldHRpbmdzIGFuZCBwcmV2ZW50IGNoYW5naW5nIHRoZW0gYmFja1wiLFxuICAgICAgICAgICAgICAgIG9uU2V0KEMpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBHZXRSZWNvcmQoTW9kdWxlVGl0bGUuQ2xpY2tlciwgQykuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIEdldFJlY29yZChNb2R1bGVUaXRsZS5DbGlja2VyLCBDKS5iY3hWb2ljZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIEdldFJlY29yZChNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0LCBDKS5lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgR2V0UmVjb3JkKE1vZHVsZVRpdGxlLlZpcnR1YWxQZXQsIEMpLm5vSGFuZHMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgR2V0UmVjb3JkKE1vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zLCBDKS5lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgR2V0UmVjb3JkKE1vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zLCBDKS5mb29kTk9XID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgR2V0UmVjb3JkKE1vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zLCBDKS50aW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgR2V0UmVjb3JkKE1vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zLCBDKS5wYXNzb3V0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgR2V0UmVjb3JkKE1vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zLCBDKS5hZmZlY3Rpb25Ta2lsbEJ1ZmZzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIEdldFJlY29yZChNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9ucywgQykuYWZmZWN0aW9uU2tpbGxEZWJ1ZmZzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgR2V0UmVjb3JkKE1vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zLCBDKS5oZWFyaW5nTG9zcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIEdldFJlY29yZChNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9ucywgQykuc2xvd0xlYXZlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZ1xuICAgICAgICBdO1xuICAgIH1cblxuICAgIExvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3VwZXIuTG9hZCgpO1xuICAgICAgICBTcGVlY2hUcmFuc2Zvcm1BbGxFZmZlY3RzLnB1c2goXCJwZXRTcGVha1wiIGFzIFNwZWVjaFRyYW5zZm9ybU5hbWUpO1xuXG4gICAgICAgIC8vIFBldCBoZWFyaW5nXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIlNwZWVjaFRyYW5zZm9ybUdhZ0dhcmJsZVwiLCA1LCAoW3RleHQsIGludGVuc2l0eSwgaWdub3JlT09DLCAuLi5hcmdzXSwgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgLy8gTUJTIGFkZHMgQ2hhcmFjdGVyIHBhcmFtZXRlciB0byB0aGlzLCBjYW4gdXNlIGFzIGFuIGV4dHJhIGNoZWNrIGZvciB3aGVuIHRvIGFwcGx5XG4gICAgICAgICAgICBjb25zdCBDID0gKGFyZ3MgYXMgW0M/OiBDaGFyYWN0ZXIsIC4uLmFyZ3M6IHVua25vd25bXV0pWzBdO1xuXG4gICAgICAgICAgICAvLyBBcmUgd2UgZ2FnZ2luZyBvciBkZWFmZW5pbmc/XG4gICAgICAgICAgICAvLyBOb3QgZGVhZmVuaW5nIHNvIHNraXBcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBDPy5Jc0dhZ2dlZCgpXG4gICAgICAgICAgICAgICAgfHwgIVBsYXllci5Jc0RlYWYoKVxuICAgICAgICAgICAgICAgIHx8IFBsYXllclAoKS5wZXRIZWFyaW5nID09PSBmYWxzZVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KFt0ZXh0LCBpbnRlbnNpdHksIGlnbm9yZU9PQ10pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIEFwcGx5UGV0SGVhcmluZyhbdGV4dCwgaW50ZW5zaXR5LCBpZ25vcmVPT0NdLCBuZXh0LCBHZXRQZXRIZWFyaW5nUGhyYXNlcygpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gSW5zZXJ0IHBldCBzb3VuZHMgb24gaW5wdXQgZm9yIEJDWCBzdXBwb3J0XG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIkNvbW1hbmRQYXJzZVwiLCA4LCAoW21zZ10sIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFNraXAgY29tbWFuZHNcbiAgICAgICAgICAgIC8vIFNraXAgaWYgbm90IGF0dGVtcHRpbmcgdG8gYXBwbHkgcGV0IHNwZWVjaFxuICAgICAgICAgICAgbXNnID0gbXNnLnRyaW0oKTtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBbQ29tbWFuZHNLZXksIFwiKlwiLCBcIkBcIl0uaW5jbHVkZXMobXNnLmNoYXJBdCgwKSlcbiAgICAgICAgICAgICAgICB8fCAhUGxheWVyUChQbGF5ZXIpLnBldFNwZWFraW5nXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoW21zZ10pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gTm9uRGlzcnVwdGl2ZVBldFNwZWVjaChtc2csIG5leHQsIEdldEFsbG93ZWRQZXRHYXJibGVQaHJhc2VzKCkpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBVbmxvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3VwZXIuVW5sb2FkKCk7XG5cbiAgICAgICAgU3BlZWNoVHJhbnNmb3JtQWxsRWZmZWN0cyA9IFNwZWVjaFRyYW5zZm9ybUFsbEVmZmVjdHMuZmlsdGVyKCh0cmFuc2Zvcm0pID0+IHRyYW5zZm9ybSBhcyBTcGVlY2hUcmFuc2Zvcm1OYW1lIHwgXCJwZXRTcGVha1wiICE9PSBcInBldFNwZWFrXCIpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IExvY2FsaXplZFRleHQgfSBmcm9tIFwiLi4vbG9jYWxpemF0aW9uL2xvY2FsaXphdGlvblwiO1xuaW1wb3J0IHsgRXhwb3J0U2V0dGluZ3NUb0NsaXBib2FyZCwgSW1wb3J0U2V0dGluZ3NGcm9tQ2xpcGJvYXJkLCBSZXNldFN0b3JhZ2UsIFNhdmVTdG9yYWdlIH0gZnJvbSBcIi4uL3V0aWwvc3RvcmFnZVwiO1xuaW1wb3J0IHsgSUNPTlMgfSBmcm9tIFwiLi4vdXRpbC9jb25zdGFudHNcIjtcbmltcG9ydCB7IElzRGlzcGxheVNldHRpbmcsIElzT3B0aW9uU2V0dGluZywgSXNDaGVja2JveFNldHRpbmcsIElzVGV4dFNldHRpbmcsIElzTnVtYmVyU2V0dGluZyB9IGZyb20gXCIuLi91dGlsL3NldHRpbmdUeXBlc1wiO1xuaW1wb3J0IHsgc2V0dGluZ3MgYXMgZGVmYXVsdFNldHRpbmdzIH0gZnJvbSBcIi4uL3V0aWwvcmVnaXN0ZXJNb2R1bGVzXCI7XG5pbXBvcnQgeyBBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUywgQXV0aG9yaXR5R3JvdXAsIEF1dGhvcml0eUlzQ29tcGFyaXNvblRvQ2hhcmFjdGVyLCBJc01lbWJlck51bWJlckluQXV0aEdyb3VwIH0gZnJvbSBcIi4uL3V0aWwvYXV0aG9yaXR5XCI7XG5pbXBvcnQgeyBTZW5kTVBBTWVzc2FnZSB9IGZyb20gXCIuLi91dGlsL21lc3NhZ2luZ1wiO1xuaW1wb3J0IHsgTW9kdWxlLCBNb2R1bGVUaXRsZSB9IGZyb20gXCIuL19tb2R1bGVcIjtcbmltcG9ydCB7IExldmVsU3luYyB9IGZyb20gXCIuL3ZpcnR1YWxQZXRcIjtcblxubGV0IHNldHRpbmdzRWRpdGVkID0gZmFsc2U7XG5sZXQgc2V0dGluZ0NoYXI6IFBsYXllckNoYXJhY3RlciB8IG51bGwgPSBudWxsO1xuZXhwb3J0IGZ1bmN0aW9uIFNldFNldHRpbmdDaGFyKGNoYXJhY3RlcjogUGxheWVyQ2hhcmFjdGVyKTogdm9pZFxue1xuICAgIHNldHRpbmdzRWRpdGVkID0gZmFsc2U7XG4gICAgc2V0dGluZ0NoYXIgPSBjaGFyYWN0ZXI7XG59XG5cbi8vIFNpemUgb2YgdGhlIGNhbnZhcyBpbiBnYW1lXG5jb25zdCBDQU5WQVNfV0lEVEggPSAyMDAwO1xuY29uc3QgX0NBTlZBU19IRUlHSFQgPSAxMDAwO1xuXG4vLyBFeGl0IGJ1dHRvbiBwb3Npc3Rpb24gb24gY2FudmFzXG5jb25zdCBFWElUX1BPU0lTVElPTiA9IFsxODE1LCA3NSwgOTAsIDkwXSBhcyBjb25zdDtcblxuLy8gTWVudSBsYXlvdXQgdmFsdWVzXG5jb25zdCBCVVRUT05fTUFYX05VTUJFUiA9IDc7XG5jb25zdCBCVVRUT05fV0lEVEggPSA0MDA7XG5jb25zdCBCVVRUT05fSEVJR0hUID0gOTA7XG5jb25zdCBCVVRUT05fVE9QID0gMTYwO1xuY29uc3QgQlVUVE9OX0xFRlQgPSA1MDA7XG5jb25zdCBCVVRUT05fR0FQID0gMjA7XG5jb25zdCBCVVRUT05fVEVYVF9QQURESU5HID0gMjA7XG5cbi8vIFBsYXllciBvbmx5IGJ1dHRvbnNcbmNvbnN0IFdJS0lfUE9TSVRJT04gPSBbMTAwLCA2MDUsIDM1MCwgNzVdIGFzIGNvbnN0O1xuY29uc3QgV0lLSV9MSU5LID0gXCJodHRwczovL2dpdGh1Yi5jb20vTWF5YVRoZUZveHkvTVBBL3dpa2lcIjtcbmNvbnN0IFJFU0VUX1BPU0lUSU9OID0gW1xuICAgIFdJS0lfUE9TSVRJT05bMF0sXG4gICAgV0lLSV9QT1NJVElPTlsxXSArIFdJS0lfUE9TSVRJT05bM10gKyBCVVRUT05fR0FQLFxuICAgIFdJS0lfUE9TSVRJT05bMl0sXG4gICAgV0lLSV9QT1NJVElPTlszXVxuXSBhcyBjb25zdDtcbmNvbnN0IEFMRVJUX1BPU0lUSU9OID0gW1xuICAgIFJFU0VUX1BPU0lUSU9OWzBdLFxuICAgIFJFU0VUX1BPU0lUSU9OWzFdIC0gUkVTRVRfUE9TSVRJT05bM10sXG4gICAgUkVTRVRfUE9TSVRJT05bMl1cbl0gYXMgY29uc3Q7XG5sZXQgc2hvd1NldHRpbmdzQWxlcnQ6IG51bWJlciA9IDA7XG5sZXQgc2V0dGluZ3NBbGVydFRleHQ6IHN0cmluZyA9IFwiXCI7XG5jb25zdCBJTVBPUlRfUE9TSVRJT04gPSBbXG4gICAgUkVTRVRfUE9TSVRJT05bMF0sXG4gICAgUkVTRVRfUE9TSVRJT05bMV0gKyBSRVNFVF9QT1NJVElPTlszXSArIEJVVFRPTl9HQVAsXG4gICAgKFJFU0VUX1BPU0lUSU9OWzJdIC0gQlVUVE9OX0dBUCkgLyAyLFxuICAgIFJFU0VUX1BPU0lUSU9OWzNdXG5dIGFzIGNvbnN0O1xuY29uc3QgRVhQT1JUX1BPU0lUSU9OID0gW1xuICAgIFJFU0VUX1BPU0lUSU9OWzBdICsgKChSRVNFVF9QT1NJVElPTlsyXSArIEJVVFRPTl9HQVApIC8gMiksXG4gICAgUkVTRVRfUE9TSVRJT05bMV0gKyBSRVNFVF9QT1NJVElPTlszXSArIEJVVFRPTl9HQVAsXG4gICAgKFJFU0VUX1BPU0lUSU9OWzJdIC0gQlVUVE9OX0dBUCkgLyAyLFxuICAgIFJFU0VUX1BPU0lUSU9OWzNdXG5dIGFzIGNvbnN0O1xuY29uc3QgUkVTRVRfQ09ORklSTV9QT1NJVElPTiA9IFszMDAsIDcwMCwgMjUwLCA5MF0gYXMgY29uc3Q7XG5jb25zdCBSRVNFVF9DQU5DRUxfUE9TSVRJT04gPSBbMTQ1MCwgNzAwLCAyNTAsIDkwXSBhcyBjb25zdDtcblxuLy8gQ2FuIGFkZCBvciByZW1vdmUgbW9kdWxlcyBkZXBlbmRpbmcgb24gaWYgd2FudGluZyB0byBkaXNwbGF5IHRoZW0gb3Igbm90XG4vLyBPcmRlciBnaXZlbiBpcyB0aGUgb3JkZXIgZGlzcGxheWVkXG5mdW5jdGlvbiBNRU5VX0NBVEVHT1JJRVMoKTogTW9kdWxlVGl0bGVbXVxue1xuICAgIGlmICghc2V0dGluZ0NoYXIpXG4gICAge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIC8vIERpc3BsYXkgc2V0dGluZ3MgaWYgeW91IGFyZSB0aGUgUGxheWVyXG4gICAgaWYgKHNldHRpbmdDaGFyLklzUGxheWVyKCkpXG4gICAge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgTW9kdWxlVGl0bGUuQXV0aG9yaXR5LFxuICAgICAgICAgICAgTW9kdWxlVGl0bGUuUHJvZmlsZSxcbiAgICAgICAgICAgIE1vZHVsZVRpdGxlLkNsaWNrZXIsXG4gICAgICAgICAgICBNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0LFxuICAgICAgICAgICAgTW9kdWxlVGl0bGUuVmlydHVhbFBldEhVRCxcbiAgICAgICAgICAgIE1vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zXG4gICAgICAgIF07XG4gICAgfVxuICAgIC8vIERpc3BsYXkgc2V0dGluZ3MgaWYgeW91IGFyZSBhbiBhbm90aGVyIHBsYXllclxuICAgIHJldHVybiBbXG4gICAgICAgIE1vZHVsZVRpdGxlLkF1dGhvcml0eSxcbiAgICAgICAgTW9kdWxlVGl0bGUuUHJvZmlsZSxcbiAgICAgICAgTW9kdWxlVGl0bGUuQ2xpY2tlcixcbiAgICAgICAgTW9kdWxlVGl0bGUuVmlydHVhbFBldCxcbiAgICAgICAgTW9kdWxlVGl0bGUuVmlydHVhbFBldENvbmRpdGlvbnNcbiAgICBdO1xufVxuXG5leHBvcnQgY29uc3QgTUVOVV9USVRMRVM6IFBhcnRpYWw8UmVjb3JkPE1vZHVsZVRpdGxlLCBzdHJpbmc+PiA9XG57XG4gICAgW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdOiBcIlZpcnR1YWwgUGV0XCIsXG4gICAgW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRIVURdOiBcIlZpcnR1YWwgUGV0IEh1ZFwiLFxuICAgIFtNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9uc106IFwiVmlydHVhbCBQZXQgQ29uZGl0aW9uc1wiXG59O1xuXG5leHBvcnQgbGV0IGN1cnJlbnRNZW51OiBNb2R1bGVUaXRsZSB8IG51bGwgfCBcIlJFU0VUX1NldHRpbmdzXCIgPSBudWxsO1xubGV0IHNldHRpbmdzT3BlbjogYm9vbGVhbiA9IGZhbHNlO1xubGV0IGFsbG93UmVzZXRUaW1lOiBudW1iZXIgPSAwO1xuXG5EcmF3QnV0dG9uKDE1MjAsIDcyMCwgMjAwLCA4MCwgXCJDYW5jZWxcIiwgXCJXaGl0ZVwiKTtcblxuZnVuY3Rpb24gRHJhd01lbnVPcHRpb25zKG1lbnVPcHRpb25zOiBzdHJpbmdbXSk6IHZvaWRcbntcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1lbnVPcHRpb25zLmxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgICAgRHJhd0J1dHRvbihcbiAgICAgICAgICAgIEJVVFRPTl9MRUZUICsgKEJVVFRPTl9XSURUSCArIEJVVFRPTl9HQVApICogTWF0aC5mbG9vcihpIC8gQlVUVE9OX01BWF9OVU1CRVIpLFxuICAgICAgICAgICAgQlVUVE9OX1RPUCArIChCVVRUT05fSEVJR0hUICsgQlVUVE9OX0dBUCkgKiAoaSAlIEJVVFRPTl9NQVhfTlVNQkVSKSxcbiAgICAgICAgICAgIEJVVFRPTl9XSURUSCxcbiAgICAgICAgICAgIEJVVFRPTl9IRUlHSFQsXG4gICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgXCJXaGl0ZVwiXG4gICAgICAgICk7XG4gICAgICAgIERyYXdUZXh0Rml0KFxuICAgICAgICAgICAgTG9jYWxpemVkVGV4dChNRU5VX1RJVExFU1ttZW51T3B0aW9uc1tpXV0gPz8gbWVudU9wdGlvbnNbaV0pLFxuICAgICAgICAgICAgKEJVVFRPTl9MRUZUICsgQlVUVE9OX1RFWFRfUEFERElORykgKyAoQlVUVE9OX1dJRFRIICsgQlVUVE9OX0dBUCkgKiBNYXRoLmZsb29yKGkgLyBCVVRUT05fTUFYX05VTUJFUiksXG4gICAgICAgICAgICAoQlVUVE9OX1RPUCArIE1hdGguZmxvb3IoQlVUVE9OX0hFSUdIVCAvIDIpKSArIChCVVRUT05fSEVJR0hUICsgQlVUVE9OX0dBUCkgKiAoaSAlIEJVVFRPTl9NQVhfTlVNQkVSKSxcbiAgICAgICAgICAgIEJVVFRPTl9XSURUSCAtIEJVVFRPTl9URVhUX1BBRERJTkcgKiAyLFxuICAgICAgICAgICAgXCJCbGFja1wiLFxuICAgICAgICAgICAgXCJHcmF5XCJcbiAgICAgICAgKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIEdldENsaWNrZWRNZW51KG1lbnVPcHRpb25zOiBNb2R1bGVUaXRsZVtdKTogTW9kdWxlVGl0bGUgfCBudWxsXG57XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZW51T3B0aW9ucy5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICAgIGlmIChNb3VzZUluKFxuICAgICAgICAgICAgQlVUVE9OX0xFRlQgKyAoQlVUVE9OX1dJRFRIICsgQlVUVE9OX0dBUCkgKiBNYXRoLmZsb29yKGkgLyBCVVRUT05fTUFYX05VTUJFUiksXG4gICAgICAgICAgICBCVVRUT05fVE9QICsgKEJVVFRPTl9IRUlHSFQgKyBCVVRUT05fR0FQKSAqIChpICUgQlVUVE9OX01BWF9OVU1CRVIpLFxuICAgICAgICAgICAgQlVUVE9OX1dJRFRILFxuICAgICAgICAgICAgQlVUVE9OX0hFSUdIVFxuICAgICAgICApKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gbWVudU9wdGlvbnNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5cbi8vIE9wdGlvbnMgbGF5b3V0XG4vLyBNYXkgbm90IGJlIG5lZWRlZC4gV2lsbCBoYXZlIHRvIHVzZSBpZiB0aGVyZSBhcmUgbW9yZSB0aGFuIDEwIHNldHRpbmdzIHRvIGRpc3BsYXkgcGVyIGNhdGVnb3J5XG5jb25zdCBPUFRJT05fUEVSX1BBR0UgPSA5O1xuY29uc3QgT1BUSU9OX0hFSUdIVCA9IDY0O1xuY29uc3QgT1BUSU9OX1RPUCA9IDIwMDtcbmNvbnN0IE9QVElPTl9MRUZUID0gMjUwO1xuY29uc3QgT1BUSU9OX0dBUCA9IDEwO1xuY29uc3QgT1BUSU9OX0NIRUNLQk9YX1NJWkUgPSA2NDtcbmNvbnN0IE9QVElPTl9CQUNLX05FWFRfV0lEVEggPSAyNTY7XG5jb25zdCBPUFRJT05fVEVYVF9XSURUSCA9IDI1NjtcbmNvbnN0IE9QVElPTl9URVhUX01BWF9DSEFSUyA9IDI1NjtcbmxldCBjdXJyZW50UGFnZTogbnVtYmVyID0gMTtcbmxldCBtYXhQYWdlczogbnVtYmVyID0gMTtcblxuY29uc3QgTkVYVF9CVVRUT05fUE9TID0gWzE2MzUsIDc1LCA5MCwgOTBdIGFzIGNvbnN0O1xuY29uc3QgUFJFVl9CVVRUT05fUE9TID0gW05FWFRfQlVUVE9OX1BPU1swXSAtIE5FWFRfQlVUVE9OX1BPU1syXSwgTkVYVF9CVVRUT05fUE9TWzFdLCBORVhUX0JVVFRPTl9QT1NbMl0sIE5FWFRfQlVUVE9OX1BPU1syXV0gYXMgY29uc3Q7XG5cbmZ1bmN0aW9uIERyYXdQYWdlc0J1dHRvbnMoKTogdm9pZFxue1xuICAgIC8vIEFzc2V0IGN1cnJlbnQgcGFnZSBpcyBpbiBjb3JyZWN0IHJhbmdlXG4gICAgaWYgKGN1cnJlbnRQYWdlID4gbWF4UGFnZXMpXG4gICAge1xuICAgICAgICBjdXJyZW50UGFnZSA9IG1heFBhZ2VzO1xuICAgIH1cbiAgICBpZiAoY3VycmVudFBhZ2UgPCAxKVxuICAgIHtcbiAgICAgICAgY3VycmVudFBhZ2UgPSAxO1xuICAgIH1cblxuICAgIERyYXdCdXR0b24oXG4gICAgICAgIC4uLk5FWFRfQlVUVE9OX1BPUyxcbiAgICAgICAgXCJcIixcbiAgICAgICAgY3VycmVudFBhZ2UgPj0gbWF4UGFnZXMgPyBcIiNhYWFhYWFcIiA6IFwiI2ZmZmZmZlwiLFxuICAgICAgICBcIkljb25zL05leHQucG5nXCIsXG4gICAgICAgIFwiTmV4dCBQYWdlXCIsXG4gICAgICAgIGN1cnJlbnRQYWdlID49IG1heFBhZ2VzXG4gICAgKTtcbiAgICBEcmF3QnV0dG9uKFxuICAgICAgICAuLi5QUkVWX0JVVFRPTl9QT1MsXG4gICAgICAgIFwiXCIsXG4gICAgICAgIDEgPj0gY3VycmVudFBhZ2UgPyBcIiNhYWFhYWFcIiA6IFwiI2ZmZmZmZlwiLFxuICAgICAgICBcIkljb25zL1ByZXYucG5nXCIsXG4gICAgICAgIFwiUHJldmlvdXMgUGFnZVwiLFxuICAgICAgICAxID49IGN1cnJlbnRQYWdlXG4gICAgKTtcbn1cblxuZnVuY3Rpb24gRHJhd1N1Yk1lbnVPcHRpb25zKHN1Yk1lbnU6IE1vZHVsZVRpdGxlKTogdm9pZFxue1xuICAgIC8vIFNob3VsZG4ndCBiZSBuZWVkZWQgYnV0IGFjdHMgYXMgZmFpbHNhZmUgYW5kIG1ha2VzIHR5cGVzY3JpcHQgaGFwcHlcbiAgICBpZiAoIXNldHRpbmdDaGFyKSB7IHJldHVybjsgfVxuXG4gICAgLy8gU2V0dGluZ3MgaGF2ZSB0byBiZSBkaXNwbGF5YWJsZSBhbmQgaGF2ZSBhIHZhbHVlIGV4aXN0IGluIHRoZSBzdG9yZWQgc2V0dGluZ3NcbiAgICBjb25zdCBzZXR0aW5nc1RvRGlzcGxheSA9IE9iamVjdC5lbnRyaWVzKGRlZmF1bHRTZXR0aW5nc1tzdWJNZW51XSA/PyB7fSlcbiAgICAgICAgLmZpbHRlcigoW2tleSwgc2V0dGluZ10pID0+IElzRGlzcGxheVNldHRpbmcoc2V0dGluZykgJiYgKGtleSBpbiAoc2V0dGluZ0NoYXI/Lk1QQVtzdWJNZW51XSA/PyB7fSkpKTtcblxuICAgIC8vIE5leHQgYW5kIHByZXZpb3VzIG9wdGlvbiBidXR0b25zXG4gICAgaWYgKG1heFBhZ2VzICE9PSAxKVxuICAgIHtcbiAgICAgICAgRHJhd1BhZ2VzQnV0dG9ucygpO1xuICAgIH1cblxuICAgIHNldHRpbmdzVG9EaXNwbGF5LnNsaWNlKChjdXJyZW50UGFnZSAtIDEpICogT1BUSU9OX1BFUl9QQUdFLCBjdXJyZW50UGFnZSAqIE9QVElPTl9QRVJfUEFHRSkuZm9yRWFjaCgodmFsLCBpKSA9PlxuICAgIHtcbiAgICAgICAgY29uc3QgW3NldHRpbmdOYW1lLCBzZXR0aW5nXSA9IHZhbCBhcyBbc3RyaW5nLCBEaXNwbGF5ZWRTZXR0aW5nXTtcblxuICAgICAgICBjb25zdCBkaXNhYmxlZFNldHRpbmcgPSAhc2V0dGluZy5hY3RpdmUoc2V0dGluZ0NoYXIhKVxuICAgICAgICAgIHx8IChcbiAgICAgICAgICAgICAgYG90aGVycyR7c3ViTWVudX1gIGluIHNldHRpbmdDaGFyIS5NUEFbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XVxuICAgICAgICAgICAgICAmJiBgc2VsZiR7c3ViTWVudX1gIGluIHNldHRpbmdDaGFyIS5NUEFbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XVxuICAgICAgICAgICAgICAmJiAhSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cChcbiAgICAgICAgICAgICAgICAgIFBsYXllci5NZW1iZXJOdW1iZXIgPz8gLTEsXG4gICAgICAgICAgICAgICAgICBzZXR0aW5nQ2hhciEuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV1bYG90aGVycyR7c3ViTWVudX1gXSBhcyBBdXRob3JpdHlHcm91cCxcbiAgICAgICAgICAgICAgICAgIHNldHRpbmdDaGFyIS5NUEFbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XVtgc2VsZiR7c3ViTWVudX1gXSBhcyBib29sZWFuLFxuICAgICAgICAgICAgICAgICAgc2V0dGluZ0NoYXIhXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgICAgICAgfHwgKFxuICAgICAgICAgICAgICAhUGxheWVyLkNhbkludGVyYWN0KCkgJiYgKFxuICAgICAgICAgICAgICAgICAgKHNldHRpbmdDaGFyPy5NZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXJcbiAgICAgICAgICAgICAgICAgICYmICFQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV0uYm91bmRBY2Nlc3NTZWxmKVxuICAgICAgICAgICAgICAgICAgfHwgKHNldHRpbmdDaGFyPy5NZW1iZXJOdW1iZXIgIT09IFBsYXllci5NZW1iZXJOdW1iZXJcbiAgICAgICAgICAgICAgICAgICYmICFQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV0uYm91bmRBY2Nlc3NPdGhlcnMpXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuXG4gICAgICAgIGlmIChJc0NoZWNrYm94U2V0dGluZyhzZXR0aW5nKSlcbiAgICAgICAge1xuICAgICAgICAgICAgRHJhd0NoZWNrYm94KFxuICAgICAgICAgICAgICAgIE9QVElPTl9MRUZULFxuICAgICAgICAgICAgICAgIE9QVElPTl9UT1AgKyAoaSAqIChPUFRJT05fR0FQICsgT1BUSU9OX0hFSUdIVCkpLFxuICAgICAgICAgICAgICAgIE9QVElPTl9DSEVDS0JPWF9TSVpFLFxuICAgICAgICAgICAgICAgIE9QVElPTl9DSEVDS0JPWF9TSVpFLFxuICAgICAgICAgICAgICAgIExvY2FsaXplZFRleHQoc2V0dGluZy5sYWJlbClcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2VBbGwoXCJUYXJnZXRDaGFyYWN0ZXJcIiwgKHNldHRpbmdDaGFyPy5OaWNrbmFtZSB8fCBzZXR0aW5nQ2hhcj8uTmFtZSkgPz8gXCJcIilcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2VBbGwoXCJUYXJnZXRQcm9ub3VuUG9zc2Vzc2l2ZVwiLCBzZXR0aW5nQ2hhcj8uR2V0UHJvbm91bnMoKSA9PT0gXCJTaGVIZXJcIiA/IFwiaGVyXCIgOiBcImhpc1wiKSxcbiAgICAgICAgICAgICAgICAhIXNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdLFxuICAgICAgICAgICAgICAgIGRpc2FibGVkU2V0dGluZyxcbiAgICAgICAgICAgICAgICBcIkJsYWNrXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoSXNPcHRpb25TZXR0aW5nKHNldHRpbmcpKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHNldHRpbmcub3B0aW9ucy5pbmRleE9mKHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdIGFzIHN0cmluZyk7XG4gICAgICAgICAgICBjb25zdCBvcHRMZW4gPSBzZXR0aW5nLm9wdGlvbnMubGVuZ3RoO1xuXG4gICAgICAgICAgICAvLyBDYW4ndCBkZWNyZWFzZSBhdXRob3JpdHkgYmV5b25kIGlmIHRoZSBwbGF5ZXIgaXMgbm90IG9mIHRoYXQgcmFua1xuICAgICAgICAgICAgY29uc3QgcHJvZmlsZU9yRXhjbHVkZXMgPSAoc3ViTWVudSAhPT0gTW9kdWxlVGl0bGUuQXV0aG9yaXR5KSB8fCAhQVVUSE9SSVRZX0dST1VQX09QVElPTlMuaW5jbHVkZXMoc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0pO1xuICAgICAgICAgICAgY29uc3QgcHJldkRpc2FibGVkID0gIShwcm9maWxlT3JFeGNsdWRlcyB8fCBBdXRob3JpdHlJc0NvbXBhcmlzb25Ub0NoYXJhY3RlcihzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSBhcyBBdXRob3JpdHlHcm91cCwgXCI+PVwiLCBQbGF5ZXIuTWVtYmVyTnVtYmVyID8/IC0xLCBzZXR0aW5nQ2hhciEpKTtcbiAgICAgICAgICAgIGNvbnN0IG5leHREaXNhYmxlZCA9ICEocHJvZmlsZU9yRXhjbHVkZXMgfHwgQXV0aG9yaXR5SXNDb21wYXJpc29uVG9DaGFyYWN0ZXIoc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gYXMgQXV0aG9yaXR5R3JvdXAsIFwiPlwiLCBQbGF5ZXIuTWVtYmVyTnVtYmVyID8/IC0xLCBzZXR0aW5nQ2hhciEpKVxuICAgICAgICAgICAgICAmJiBzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSAhPT0gXCJTZWxmXCI7XG5cbiAgICAgICAgICAgIERyYXdCYWNrTmV4dEJ1dHRvbihcbiAgICAgICAgICAgICAgICBPUFRJT05fTEVGVCxcbiAgICAgICAgICAgICAgICBPUFRJT05fVE9QICsgKGkgKiAoT1BUSU9OX0dBUCArIE9QVElPTl9IRUlHSFQpKSxcbiAgICAgICAgICAgICAgICBPUFRJT05fQkFDS19ORVhUX1dJRFRILFxuICAgICAgICAgICAgICAgIE9QVElPTl9IRUlHSFQsXG4gICAgICAgICAgICAgICAgTG9jYWxpemVkVGV4dChzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSBhcyBzdHJpbmcpLFxuICAgICAgICAgICAgICAgICEoZGlzYWJsZWRTZXR0aW5nIHx8IChwcmV2RGlzYWJsZWQgJiYgbmV4dERpc2FibGVkKSkgPyBcIiNmZmZmZmZcIiA6IFwiI2FhYWFhYVwiLFxuICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgKCkgPT4gTG9jYWxpemVkVGV4dChwcmV2RGlzYWJsZWQgPyBcIlwiIDogKHNldHRpbmcubG9vcCA/IHNldHRpbmcub3B0aW9uc1soaW5kZXggLSAxICsgb3B0TGVuKSAlIG9wdExlbl0gOiBpbmRleCA+IDAgPyBzZXR0aW5nLm9wdGlvbnNbaW5kZXggLSAxXSA6IFwiXCIpKSxcbiAgICAgICAgICAgICAgICAoKSA9PiBMb2NhbGl6ZWRUZXh0KG5leHREaXNhYmxlZCA/IFwiXCIgOiAoc2V0dGluZy5sb29wID8gc2V0dGluZy5vcHRpb25zWyhpbmRleCArIDEgKyBvcHRMZW4pICUgb3B0TGVuXSA6IGluZGV4ICsgMSA8IG9wdExlbiA/IHNldHRpbmcub3B0aW9uc1tpbmRleCArIDFdIDogXCJcIikpLFxuICAgICAgICAgICAgICAgIGRpc2FibGVkU2V0dGluZyB8fCAocHJldkRpc2FibGVkICYmIG5leHREaXNhYmxlZClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBEcmF3VGV4dEZpdChcbiAgICAgICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KHNldHRpbmcubGFiZWwpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlQWxsKFwiVGFyZ2V0Q2hhcmFjdGVyXCIsIChzZXR0aW5nQ2hhcj8uTmlja25hbWUgfHwgc2V0dGluZ0NoYXI/Lk5hbWUpID8/IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlQWxsKFwiVGFyZ2V0UHJvbm91blBvc3Nlc3NpdmVcIiwgc2V0dGluZ0NoYXI/LkdldFByb25vdW5zKCkgPT09IFwiU2hlSGVyXCIgPyBcImhlclwiIDogXCJoaXNcIiksXG4gICAgICAgICAgICAgICAgT1BUSU9OX0xFRlQgKyBPUFRJT05fQkFDS19ORVhUX1dJRFRIICsgKE9QVElPTl9HQVAgKiAyKSxcbiAgICAgICAgICAgICAgICBPUFRJT05fVE9QICsgKGkgKiAoT1BUSU9OX0dBUCArIE9QVElPTl9IRUlHSFQpICsgTWF0aC5jZWlsKE9QVElPTl9IRUlHSFQgLyAyKSksXG4gICAgICAgICAgICAgICAgQ0FOVkFTX1dJRFRIIC0gKE9QVElPTl9MRUZUICogMikgLSBPUFRJT05fQkFDS19ORVhUX1dJRFRILFxuICAgICAgICAgICAgICAgIFwiQmxhY2tcIixcbiAgICAgICAgICAgICAgICBcIkdyYXlcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChJc1RleHRTZXR0aW5nKHNldHRpbmcpIHx8IElzTnVtYmVyU2V0dGluZyhzZXR0aW5nKSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgaWQgPSBFbGVtZW50TmFtZShzdWJNZW51LCBzZXR0aW5nTmFtZSk7XG4gICAgICAgICAgICBFbGVtZW50UG9zaXRpb25GaXhlZChcbiAgICAgICAgICAgICAgICBpZCxcbiAgICAgICAgICAgICAgICBPUFRJT05fTEVGVCxcbiAgICAgICAgICAgICAgICBPUFRJT05fVE9QICsgKGkgKiAoT1BUSU9OX0dBUCArIE9QVElPTl9IRUlHSFQpKSxcbiAgICAgICAgICAgICAgICBzZXR0aW5nLndpZHRoID8/IE9QVElPTl9URVhUX1dJRFRILFxuICAgICAgICAgICAgICAgIE9QVElPTl9IRUlHSFRcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAoZGlzYWJsZWRTZXR0aW5nKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIEVsZW1lbnRTZXRBdHRyaWJ1dGUoaWQsIFwiZGlzYWJsZWRcIiwgXCJ0cnVlXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIEVsZW1lbnRSZW1vdmVBdHRyaWJ1dGUoaWQsIFwiZGlzYWJsZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBEcmF3VGV4dEZpdChcbiAgICAgICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KHNldHRpbmcubGFiZWwpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlQWxsKFwiVGFyZ2V0Q2hhcmFjdGVyXCIsIChzZXR0aW5nQ2hhcj8uTmlja25hbWUgfHwgc2V0dGluZ0NoYXI/Lk5hbWUpID8/IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlQWxsKFwiVGFyZ2V0UHJvbm91blBvc3Nlc3NpdmVcIiwgc2V0dGluZ0NoYXI/LkdldFByb25vdW5zKCkgPT09IFwiU2hlSGVyXCIgPyBcImhlclwiIDogXCJoaXNcIiksXG4gICAgICAgICAgICAgICAgT1BUSU9OX0xFRlQgKyAoc2V0dGluZy53aWR0aCA/PyBPUFRJT05fVEVYVF9XSURUSCkgKyAoT1BUSU9OX0dBUCAqIDIpLFxuICAgICAgICAgICAgICAgIE9QVElPTl9UT1AgKyAoaSAqIChPUFRJT05fR0FQICsgT1BUSU9OX0hFSUdIVCkpICsgTWF0aC5jZWlsKE9QVElPTl9IRUlHSFQgLyAyKSxcbiAgICAgICAgICAgICAgICBDQU5WQVNfV0lEVEggLSAoT1BUSU9OX0xFRlQgKiAyKSAtIChzZXR0aW5nLndpZHRoID8/IE9QVElPTl9URVhUX1dJRFRIKSxcbiAgICAgICAgICAgICAgICBcIkJsYWNrXCIsXG4gICAgICAgICAgICAgICAgXCJHcmF5XCJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gR2V0Q2xpY2tlZE9wdGlvbihzdWJNZW51OiBNb2R1bGVUaXRsZSk6IHZvaWRcbntcbiAgICAvLyBTaG91bGRuJ3QgYmUgbmVlZGVkIGJ1dCBhY3RzIGFzIGZhaWxzYWZlIGFuZCBtYWtlcyB0eXBlc2NyaXB0IGhhcHB5XG4gICAgaWYgKCFzZXR0aW5nQ2hhcikgeyByZXR1cm47IH1cblxuICAgIC8vIFNldHRpbmdzIGhhdmUgdG8gYmUgZGlzcGxheWFibGUgYW5kIGhhdmUgYSB2YWx1ZSBleGlzdCBpbiB0aGUgc3RvcmVkIHNldHRpbmdzXG4gICAgY29uc3Qgc2V0dGluZ3NUb0Rpc3BsYXkgPSBPYmplY3QuZW50cmllcyhkZWZhdWx0U2V0dGluZ3Nbc3ViTWVudV0gPz8ge30pXG4gICAgICAgIC5maWx0ZXIoKFtrZXksIHNldHRpbmddKSA9PiBJc0Rpc3BsYXlTZXR0aW5nKHNldHRpbmcpICYmIChrZXkgaW4gKHNldHRpbmdDaGFyPy5NUEFbc3ViTWVudV0gPz8ge30pKSk7XG5cbiAgICAvLyBMb29wIHRocm91Z2ggYWxsIHRoZSBvcHRpb25zIGFuZCBjaGVjayBpZiB0aGUgY2xpY2sgb2NjdXJlZCBpbiB0aGUgdHlwZSdzIGNvcnJlc3BvbmRpbmcgY2xpY2sgem9uZVxuICAgIHNldHRpbmdzVG9EaXNwbGF5LnNsaWNlKChjdXJyZW50UGFnZSAtIDEpICogT1BUSU9OX1BFUl9QQUdFLCBjdXJyZW50UGFnZSAqIE9QVElPTl9QRVJfUEFHRSkuZm9yRWFjaCgodmFsLCBpKSA9PlxuICAgIHtcbiAgICAgICAgY29uc3QgW3NldHRpbmdOYW1lLCBzZXR0aW5nXSA9IHZhbCBhcyBbc3RyaW5nLCBEaXNwbGF5ZWRTZXR0aW5nXTtcblxuICAgICAgICBjb25zdCBkaXNhYmxlZFNldHRpbmcgPSAhc2V0dGluZy5hY3RpdmUoc2V0dGluZ0NoYXIhKVxuICAgICAgICAgIHx8IChcbiAgICAgICAgICAgICAgYG90aGVycyR7c3ViTWVudX1gIGluIHNldHRpbmdDaGFyIS5NUEFbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XVxuICAgICAgICAgICAgICAmJiBgc2VsZiR7c3ViTWVudX1gIGluIHNldHRpbmdDaGFyIS5NUEFbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XVxuICAgICAgICAgICAgICAmJiAhSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cChcbiAgICAgICAgICAgICAgICAgIFBsYXllci5NZW1iZXJOdW1iZXIgPz8gLTEsXG4gICAgICAgICAgICAgICAgICBzZXR0aW5nQ2hhciEuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV1bYG90aGVycyR7c3ViTWVudX1gXSBhcyBBdXRob3JpdHlHcm91cCxcbiAgICAgICAgICAgICAgICAgIHNldHRpbmdDaGFyIS5NUEFbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XVtgc2VsZiR7c3ViTWVudX1gXSBhcyBib29sZWFuLFxuICAgICAgICAgICAgICAgICAgc2V0dGluZ0NoYXIhXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgICAgICAgfHwgKFxuICAgICAgICAgICAgICAhUGxheWVyLkNhbkludGVyYWN0KCkgJiYgKFxuICAgICAgICAgICAgICAgICAgKHNldHRpbmdDaGFyPy5NZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXJcbiAgICAgICAgICAgICAgICAgICYmICFQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV0uYm91bmRBY2Nlc3NTZWxmKVxuICAgICAgICAgICAgICAgICAgfHwgKHNldHRpbmdDaGFyPy5NZW1iZXJOdW1iZXIgIT09IFBsYXllci5NZW1iZXJOdW1iZXJcbiAgICAgICAgICAgICAgICAgICYmICFQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV0uYm91bmRBY2Nlc3NPdGhlcnMpXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuXG4gICAgICAgIGlmIChJc0NoZWNrYm94U2V0dGluZyhzZXR0aW5nKSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIE1vdXNlSW4oXG4gICAgICAgICAgICAgICAgICAgIE9QVElPTl9MRUZULFxuICAgICAgICAgICAgICAgICAgICBPUFRJT05fVE9QICsgKGkgKiAoT1BUSU9OX0dBUCArIE9QVElPTl9IRUlHSFQpKSxcbiAgICAgICAgICAgICAgICAgICAgT1BUSU9OX0NIRUNLQk9YX1NJWkUsXG4gICAgICAgICAgICAgICAgICAgIE9QVElPTl9DSEVDS0JPWF9TSVpFXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICYmICFkaXNhYmxlZFNldHRpbmdcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSA9ICFzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXTtcbiAgICAgICAgICAgICAgICBpZiAoc2V0dGluZy5vblNldClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmcub25TZXQoc2V0dGluZ0NoYXIhLCBzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSwgIXNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2V0dGluZ3NFZGl0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKElzT3B0aW9uU2V0dGluZyhzZXR0aW5nKSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBzZXR0aW5nLm9wdGlvbnMuaW5kZXhPZihzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSBhcyBzdHJpbmcpO1xuICAgICAgICAgICAgY29uc3Qgb3B0TGVuID0gc2V0dGluZy5vcHRpb25zLmxlbmd0aDtcbiAgICAgICAgICAgIC8vIEJhY2sgYXJyb3dcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBNb3VzZUluKFxuICAgICAgICAgICAgICAgICAgICBPUFRJT05fTEVGVCxcbiAgICAgICAgICAgICAgICAgICAgT1BUSU9OX1RPUCArIChpICogKE9QVElPTl9HQVAgKyBPUFRJT05fSEVJR0hUKSksXG4gICAgICAgICAgICAgICAgICAgIE1hdGguZmxvb3IoT1BUSU9OX0JBQ0tfTkVYVF9XSURUSCAvIDIpLFxuICAgICAgICAgICAgICAgICAgICBPUFRJT05fSEVJR0hUXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICYmICFkaXNhYmxlZFNldHRpbmdcbiAgICAgICAgICAgICAgICAmJiAoc2V0dGluZy5sb29wXG4gICAgICAgICAgICAgICAgfHwgaW5kZXggPiAwKVxuICAgICAgICAgICAgICAgIC8vIENhbid0IGRlY3JlYXNlIGF1dGhvcml0eSBiZXlvbmQgaWYgdGhlIHBsYXllciBpcyBub3Qgb2YgdGhhdCByYW5rXG4gICAgICAgICAgICAgICAgJiYgKHN1Yk1lbnUgIT09IE1vZHVsZVRpdGxlLkF1dGhvcml0eVxuICAgICAgICAgICAgICAgIHx8ICFBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUy5pbmNsdWRlcyhzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSlcbiAgICAgICAgICAgICAgICB8fCBBdXRob3JpdHlJc0NvbXBhcmlzb25Ub0NoYXJhY3RlcihzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSBhcyBBdXRob3JpdHlHcm91cCwgXCI+PVwiLCBQbGF5ZXIuTWVtYmVyTnVtYmVyID8/IC0xLCBzZXR0aW5nQ2hhciEpKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZWYWx1ZSA9IHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdO1xuICAgICAgICAgICAgICAgIHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdID0gc2V0dGluZy5vcHRpb25zWyhpbmRleCAtIDEgKyBvcHRMZW4pICUgb3B0TGVuXTtcbiAgICAgICAgICAgICAgICBpZiAoc2V0dGluZy5vblNldClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmcub25TZXQoc2V0dGluZ0NoYXIhLCBzZXR0aW5nLm9wdGlvbnNbKGluZGV4IC0gMSArIG9wdExlbikgJSBvcHRMZW5dLCBwcmV2VmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZXR0aW5nc0VkaXRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBOZXh0IGFycm93XG4gICAgICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICBNb3VzZUluKFxuICAgICAgICAgICAgICAgICAgICBPUFRJT05fTEVGVCArIE1hdGguZmxvb3IoT1BUSU9OX0JBQ0tfTkVYVF9XSURUSCAvIDIpLFxuICAgICAgICAgICAgICAgICAgICBPUFRJT05fVE9QICsgKGkgKiAoT1BUSU9OX0dBUCArIE9QVElPTl9IRUlHSFQpKSxcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5jZWlsKE9QVElPTl9CQUNLX05FWFRfV0lEVEggLyAyKSxcbiAgICAgICAgICAgICAgICAgICAgT1BUSU9OX0hFSUdIVFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAmJiAhZGlzYWJsZWRTZXR0aW5nXG4gICAgICAgICAgICAgICAgJiYgKHNldHRpbmcubG9vcFxuICAgICAgICAgICAgICAgIHx8IGluZGV4ICsgMSA8IHNldHRpbmcub3B0aW9ucy5sZW5ndGgpXG4gICAgICAgICAgICAgICAgLy8gQ2FuJ3QgaW5jcmVhc2UgYXV0aG9yaXR5IGJleW9uZCB3aGF0IHRoZSBwbGF5ZXIgd2hvIGlzIHNldHRpbmcgaXQgaXNcbiAgICAgICAgICAgICAgICAmJiAoc3ViTWVudSAhPT0gTW9kdWxlVGl0bGUuQXV0aG9yaXR5XG4gICAgICAgICAgICAgICAgfHwgIUFVVEhPUklUWV9HUk9VUF9PUFRJT05TLmluY2x1ZGVzKHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdKVxuICAgICAgICAgICAgICAgIHx8IEF1dGhvcml0eUlzQ29tcGFyaXNvblRvQ2hhcmFjdGVyKHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdIGFzIEF1dGhvcml0eUdyb3VwLCBcIj5cIiwgUGxheWVyLk1lbWJlck51bWJlciA/PyAtMSwgc2V0dGluZ0NoYXIhKSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2VmFsdWUgPSBzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXTtcbiAgICAgICAgICAgICAgICBzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSA9IHNldHRpbmcub3B0aW9uc1soaW5kZXggKyAxICsgb3B0TGVuKSAlIG9wdExlbl07XG4gICAgICAgICAgICAgICAgaWYgKHNldHRpbmcub25TZXQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nLm9uU2V0KHNldHRpbmdDaGFyISwgc2V0dGluZy5vcHRpb25zWyhpbmRleCArIDEgKyBvcHRMZW4pICUgb3B0TGVuXSwgcHJldlZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2V0dGluZ3NFZGl0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBFeGl0QnV0dG9uUHJlc3NlZCgpOiB2b2lkXG57XG4gICAgaWYgKGN1cnJlbnRNZW51ID09PSBudWxsKVxuICAgIHtcbiAgICAgICAgaWYgKHdpbmRvdy5NUEEubWVudUxvYWRlZClcbiAgICAgICAge1xuICAgICAgICAgICAgd2luZG93Lk1QQS5tZW51TG9hZGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgUHJlZmVyZW5jZU1lbnVFeGl0KCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGN1cnJlbnRNZW51ID09PSBcIlJFU0VUX1NldHRpbmdzXCIpXG4gICAge1xuICAgICAgICBjdXJyZW50TWVudSA9IG51bGw7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIC8vIFNhdmUgYWxsIHRleHQgZmllbGRzIHRvIHRoZWlyIHJlc3BlY3RpdmUgc2V0dGluZ1xuICAgICAgICBVcGRhdGVBbmREZWxldGVIVE1MRWxlbWVudHMoY3VycmVudE1lbnUpO1xuICAgICAgICBjdXJyZW50UGFnZSA9IDE7XG4gICAgICAgIG1heFBhZ2VzID0gMTtcbiAgICAgICAgY3VycmVudE1lbnUgPSBudWxsO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFByZWZlcmVuY2VNZW51Q2xpY2soKTogdm9pZFxue1xuICAgIGlmIChNb3VzZUluKC4uLkVYSVRfUE9TSVNUSU9OKSlcbiAgICB7XG4gICAgICAgIEV4aXRCdXR0b25QcmVzc2VkKCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoc2V0dGluZ0NoYXI/Lk1lbWJlck51bWJlciA9PT0gUGxheWVyLk1lbWJlck51bWJlciAmJiBjdXJyZW50TWVudSA9PT0gbnVsbClcbiAgICB7XG4gICAgICAgIGlmIChNb3VzZUluKC4uLldJS0lfUE9TSVRJT04pKVxuICAgICAgICB7XG4gICAgICAgICAgICB3aW5kb3cub3BlbihXSUtJX0xJTkssIFwiX2JsYW5rXCIpPy5mb2N1cygpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChNb3VzZUluKC4uLlJFU0VUX1BPU0lUSU9OKSlcbiAgICAgICAge1xuICAgICAgICAgICAgY3VycmVudE1lbnUgPSBcIlJFU0VUX1NldHRpbmdzXCI7XG4gICAgICAgICAgICBhbGxvd1Jlc2V0VGltZSA9IERhdGUubm93KCkgKyAxMDAwMDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoTW91c2VJbiguLi5JTVBPUlRfUE9TSVRJT04pKVxuICAgICAgICB7XG4gICAgICAgICAgICBJbXBvcnRTZXR0aW5nc0Zyb21DbGlwYm9hcmQoKS50aGVuKCgpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2V0dGluZ3NBbGVydFRleHQgPSBcIlNldHRpbmdzIGltcG9ydGVkIGZyb20gY2xpcGJvYXJkXCI7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKCkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzZXR0aW5nc0FsZXJ0VGV4dCA9IFwiRmFpbGVkIHRvIGltcG9ydCBzZXR0aW5nc1wiO1xuICAgICAgICAgICAgfSkuZmluYWxseSgoKSA9PiBzaG93U2V0dGluZ3NBbGVydCA9IERhdGUubm93KCkgKyA1MDAwKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoTW91c2VJbiguLi5FWFBPUlRfUE9TSVRJT04pKVxuICAgICAgICB7XG4gICAgICAgICAgICBFeHBvcnRTZXR0aW5nc1RvQ2xpcGJvYXJkKCkudGhlbigoKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNldHRpbmdzQWxlcnRUZXh0ID0gXCJTZXR0aW5ncyBjb3BpZWQgdG8gY2xpcGJvYXJkXCI7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKCkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzZXR0aW5nc0FsZXJ0VGV4dCA9IFwiRmFpbGVkIHRvIGV4cG9ydCBzZXR0aW5nc1wiO1xuICAgICAgICAgICAgfSkuZmluYWxseSgoKSA9PiBzaG93U2V0dGluZ3NBbGVydCA9IERhdGUubm93KCkgKyA1MDAwKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEdldCB0aGUgc3VibWVudSBjbGlja2VkIG9wdGlvbnNcbiAgICBpZiAoY3VycmVudE1lbnUgPT09IG51bGwgJiYgR2V0Q2xpY2tlZE1lbnUoTUVOVV9DQVRFR09SSUVTKCkpICE9PSBudWxsKVxuICAgIHtcbiAgICAgICAgY3VycmVudE1lbnUgPSBHZXRDbGlja2VkTWVudShNRU5VX0NBVEVHT1JJRVMoKSk7XG4gICAgICAgIGN1cnJlbnRQYWdlID0gMTtcbiAgICAgICAgbWF4UGFnZXMgPSBNYXRoLmNlaWwoT2JqZWN0LmVudHJpZXMoZGVmYXVsdFNldHRpbmdzW2N1cnJlbnRNZW51ID8/IFwiXCJdID8/IHt9KVxuICAgICAgICAgICAgLmZpbHRlcigoW2tleSwgc2V0dGluZ10pID0+IElzRGlzcGxheVNldHRpbmcoc2V0dGluZykgJiYgKGtleSBpbiAoc2V0dGluZ0NoYXI/Lk1QQVtjdXJyZW50TWVudSA/PyBcIlwiXSA/PyB7fSkpKVxuICAgICAgICAgICAgLmxlbmd0aCAvIE9QVElPTl9QRVJfUEFHRSk7XG4gICAgICAgIENyZWF0ZUhUTUxFbGVtZW50cyhjdXJyZW50TWVudSk7XG4gICAgfVxuICAgIGlmIChjdXJyZW50TWVudSA9PT0gXCJSRVNFVF9TZXR0aW5nc1wiKVxuICAgIHtcbiAgICAgICAgUmVzZXRNZW51Q2xpY2soKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBHZXQgb3B0aW9uIG9mIHRoZSBjdXJyZW50IG1lbnVcbiAgICBpZiAoY3VycmVudE1lbnUgIT09IG51bGwpXG4gICAge1xuICAgICAgICAvLyBOZXh0IGFuZCBwcmV2aW91cyBidXR0b25zXG4gICAgICAgIC8vIE9ubHkgY2hlY2sgaWYgc2V0dGluZyBwYWdlIG5lZWRzIGl0XG4gICAgICAgIGlmIChPYmplY3QuZW50cmllcyhkZWZhdWx0U2V0dGluZ3NbY3VycmVudE1lbnUgPz8gXCJcIl0gPz8ge30pXG4gICAgICAgICAgICAuZmlsdGVyKChba2V5LCBzZXR0aW5nXSkgPT4gSXNEaXNwbGF5U2V0dGluZyhzZXR0aW5nKSAmJiAoa2V5IGluIChzZXR0aW5nQ2hhcj8uTVBBW2N1cnJlbnRNZW51ID8/IFwiXCJdID8/IHt9KSkpXG4gICAgICAgICAgICAubGVuZ3RoID4gT1BUSU9OX1BFUl9QQUdFXG4gICAgICAgIClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKE1vdXNlSW4oLi4uTkVYVF9CVVRUT05fUE9TKSAmJiBjdXJyZW50UGFnZSA8IG1heFBhZ2VzKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFVwZGF0ZUFuZERlbGV0ZUhUTUxFbGVtZW50cyhjdXJyZW50TWVudSk7XG4gICAgICAgICAgICAgICAgY3VycmVudFBhZ2UrKztcbiAgICAgICAgICAgICAgICBDcmVhdGVIVE1MRWxlbWVudHMoY3VycmVudE1lbnUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChNb3VzZUluKC4uLlBSRVZfQlVUVE9OX1BPUykgJiYgY3VycmVudFBhZ2UgPiAxKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFVwZGF0ZUFuZERlbGV0ZUhUTUxFbGVtZW50cyhjdXJyZW50TWVudSk7XG4gICAgICAgICAgICAgICAgY3VycmVudFBhZ2UtLTtcbiAgICAgICAgICAgICAgICBDcmVhdGVIVE1MRWxlbWVudHMoY3VycmVudE1lbnUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBHZXRDbGlja2VkT3B0aW9uKGN1cnJlbnRNZW51KTtcbiAgICB9XG5cbiAgICByZXR1cm47XG59XG5cbmZ1bmN0aW9uIFJlc2V0TWVudUNsaWNrKCk6IHZvaWRcbntcbiAgICBpZiAoTW91c2VJbiguLi5SRVNFVF9DT05GSVJNX1BPU0lUSU9OKSAmJiBEYXRlLm5vdygpID4gYWxsb3dSZXNldFRpbWUpXG4gICAge1xuICAgICAgICBSZXNldFN0b3JhZ2UoKTtcbiAgICAgICAgY3VycmVudE1lbnUgPSBudWxsO1xuICAgICAgICBhbGxvd1Jlc2V0VGltZSA9IDA7XG4gICAgfVxuXG4gICAgaWYgKE1vdXNlSW4oLi4uUkVTRVRfQ0FOQ0VMX1BPU0lUSU9OKSlcbiAgICB7XG4gICAgICAgIGN1cnJlbnRNZW51ID0gbnVsbDtcbiAgICAgICAgYWxsb3dSZXNldFRpbWUgPSAwO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gUmVzZXRNZW51UnVuKCk6IHZvaWRcbntcbiAgICBjb25zdCBwcmV2VGV4dEFsaWduID0gTWFpbkNhbnZhcy50ZXh0QWxpZ247XG4gICAgTWFpbkNhbnZhcy50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xuXG4gICAgRHJhd1RleHQoXG4gICAgICAgIExvY2FsaXplZFRleHQoXCJXQVJOSU5HOiBBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcmVzZXQgeW91ciBNUEEgc2V0dGluZ3MgYW5kIGRhdGEgYmFjayB0byBkZWZhdWx0P1wiKSxcbiAgICAgICAgQ0FOVkFTX1dJRFRIIC8gMixcbiAgICAgICAgMjUwLFxuICAgICAgICBcIiMwMDAwMDBcIixcbiAgICAgICAgXCIjYWFhYWFhXCJcbiAgICApO1xuICAgIERyYXdUZXh0KFxuICAgICAgICAvLyBBIGxpdHRsZSBob21hZ2UgdG8gQkNYIGFuZCBMU0NHIGZvciBiZWluZyBncmVhdCBvcGVuIHNvdXJjZSByZWZlcmVuY2VzIG9uIHRoaXMgcHJvamVjdFxuICAgICAgICBMb2NhbGl6ZWRUZXh0KFwiVGhpcyBhY3Rpb24gY2FuIG5vdCBiZSB1bmRvbmUhXCIpLFxuICAgICAgICBDQU5WQVNfV0lEVEggLyAyLFxuICAgICAgICA0MDAsXG4gICAgICAgIFwiI2ZmMDAwMFwiLFxuICAgICAgICBcIiNhYWFhYWFcIlxuICAgICk7XG4gICAgRHJhd1RleHQoXG4gICAgICAgIExvY2FsaXplZFRleHQoXCJFeHBvcnQgYW5kIHNhdmUgeW91ciBzZXR0aW5ncyBCRUZPUkUgY29uZmlybWluZyBpZiB5b3UgYXJlIHVuc3VyZS5cIiksXG4gICAgICAgIENBTlZBU19XSURUSCAvIDIsXG4gICAgICAgIDU1MCxcbiAgICAgICAgXCIjNjk2OTY5XCIsXG4gICAgICAgIFwiI2FhYWFhYVwiXG4gICAgKTtcblxuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgaWYgKG5vdyA8PSBhbGxvd1Jlc2V0VGltZSlcbiAgICB7XG4gICAgICAgIERyYXdCdXR0b24oXG4gICAgICAgICAgICAuLi5SRVNFVF9DT05GSVJNX1BPU0lUSU9OLFxuICAgICAgICAgICAgYCR7TG9jYWxpemVkVGV4dChcIkNvbmZpcm1cIil9ICgke01hdGguZmxvb3IoKGFsbG93UmVzZXRUaW1lIC0gbm93KSAvIDEwMDApfSlgLFxuICAgICAgICAgICAgXCIjYWFhYWFhXCIsXG4gICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICB0cnVlXG4gICAgICAgICk7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIERyYXdCdXR0b24oXG4gICAgICAgICAgICAuLi5SRVNFVF9DT05GSVJNX1BPU0lUSU9OLFxuICAgICAgICAgICAgTG9jYWxpemVkVGV4dChcIkNvbmZpcm1cIiksXG4gICAgICAgICAgICBcIiNmZjAwMDBcIlxuICAgICAgICApO1xuICAgIH1cblxuICAgIERyYXdCdXR0b24oXG4gICAgICAgIC4uLlJFU0VUX0NBTkNFTF9QT1NJVElPTixcbiAgICAgICAgTG9jYWxpemVkVGV4dChcIkNhbmNlbFwiKSxcbiAgICAgICAgXCJXaGl0ZVwiXG4gICAgKTtcblxuICAgIE1haW5DYW52YXMudGV4dEFsaWduID0gcHJldlRleHRBbGlnbjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFByZWZlcmVuY2VNZW51UnVuKCk6IHZvaWRcbntcbiAgICBpZiAoY3VycmVudE1lbnUgPT09IFwiUkVTRVRfU2V0dGluZ3NcIilcbiAgICB7XG4gICAgICAgIFJlc2V0TWVudVJ1bigpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcHJldlRleHRBbGlnbiA9IE1haW5DYW52YXMudGV4dEFsaWduO1xuICAgIERyYXdCdXR0b24oLi4uRVhJVF9QT1NJU1RJT04sIFwiXCIsIFwiV2hpdGVcIiwgXCJJY29ucy9FeGl0LnBuZ1wiKTtcbiAgICBNYWluQ2FudmFzLnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XG4gICAgRHJhd1RleHQoYCR7TG9jYWxpemVkVGV4dChcIk1heWEncyBQZXRwbGF5IEFkZGl0aW9uc1wiKX0ke2N1cnJlbnRNZW51ID8gYCAtICR7c2V0dGluZ0NoYXI/Lk5pY2tuYW1lIHx8IHNldHRpbmdDaGFyPy5OYW1lfSdzICR7TG9jYWxpemVkVGV4dChNRU5VX1RJVExFU1tjdXJyZW50TWVudV0gPz8gY3VycmVudE1lbnUpfWAgOiBcIlwifWAsIDEwMDAsIDEyNSwgXCJCbGFja1wiLCBcIkdyYXlcIik7XG5cbiAgICAvLyBXaWtpLCBSZXNldCwgaW1wb3J0IGFuZCBleHBvcnQgYnV0IG9ubHkgd2hpbGUgUGxheWVyXG4gICAgaWYgKHNldHRpbmdDaGFyPy5NZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXIgJiYgY3VycmVudE1lbnUgPT09IG51bGwpXG4gICAge1xuICAgICAgICBpZiAoc2hvd1NldHRpbmdzQWxlcnQgPj0gRGF0ZS5ub3coKSlcbiAgICAgICAge1xuICAgICAgICAgICAgTWFpbkNhbnZhcy50ZXh0QWxpZ24gPSBcImxlZnRcIjtcbiAgICAgICAgICAgIERyYXdUZXh0Rml0KFxuICAgICAgICAgICAgICAgIHNldHRpbmdzQWxlcnRUZXh0LFxuICAgICAgICAgICAgICAgIC4uLkFMRVJUX1BPU0lUSU9OLFxuICAgICAgICAgICAgICAgIFwiQmxhY2tcIixcbiAgICAgICAgICAgICAgICBcIkdyYXlcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBNYWluQ2FudmFzLnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XG4gICAgICAgIERyYXdCdXR0b24oXG4gICAgICAgICAgICAuLi5XSUtJX1BPU0lUSU9OLFxuICAgICAgICAgICAgTG9jYWxpemVkVGV4dChcIldpa2lcIiksXG4gICAgICAgICAgICBcIiNmZmZmZmZcIixcbiAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KFwiT3BlbiB0aGUgTVBBIHdpa2kgaW4gYSBuZXcgdGFiXCIpXG4gICAgICAgICk7XG4gICAgICAgIERyYXdCdXR0b24oXG4gICAgICAgICAgICAuLi5SRVNFVF9QT1NJVElPTixcbiAgICAgICAgICAgIExvY2FsaXplZFRleHQoXCJSRVNFVFwiKSxcbiAgICAgICAgICAgIFwiI2ZmMmUyZWFhXCIsXG4gICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgTG9jYWxpemVkVGV4dChcIlJlc2V0IGFsbCB5b3VyIHNldHRpbmdzIGJhY2sgdG8gZGVmYXVsdFwiKVxuICAgICAgICApO1xuICAgICAgICBEcmF3QnV0dG9uKFxuICAgICAgICAgICAgLi4uSU1QT1JUX1BPU0lUSU9OLFxuICAgICAgICAgICAgTG9jYWxpemVkVGV4dChcIkltcG9ydFwiKSxcbiAgICAgICAgICAgIFwiI2ZmZmZmZlwiLFxuICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgIExvY2FsaXplZFRleHQoXCJJbXBvcnQgdGhlIHNldHRpbmdzIGNvcGllZCB0byB5b3VyIGNsaXBib2FyZFwiKVxuICAgICAgICApO1xuICAgICAgICBEcmF3QnV0dG9uKFxuICAgICAgICAgICAgLi4uRVhQT1JUX1BPU0lUSU9OLFxuICAgICAgICAgICAgTG9jYWxpemVkVGV4dChcIkV4cG9ydFwiKSxcbiAgICAgICAgICAgIFwiI2ZmZmZmZlwiLFxuICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgIExvY2FsaXplZFRleHQoXCJFeHBvcnQgeW91ciBjdXJyZW50IHNldHRpbmdzIHRvIHRoZSBjbGlwYm9hcmRcIilcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBNYWluQ2FudmFzLnRleHRBbGlnbiA9IFwibGVmdFwiO1xuICAgIGlmIChjdXJyZW50TWVudSA9PT0gbnVsbClcbiAgICB7XG4gICAgICAgIC8vIERyYXcgYWxsIHRoZSBidXR0b25zIHRvIGFjY2VzcyB0aGUgc3VibWVudXNcbiAgICAgICAgRHJhd01lbnVPcHRpb25zKE1FTlVfQ0FURUdPUklFUygpKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgLy8gRHJhdyB0aGUgb3B0aW9ucyBpbiB0aGUgc3VibWVudVxuICAgICAgICBEcmF3U3ViTWVudU9wdGlvbnMoY3VycmVudE1lbnUpO1xuICAgIH1cbiAgICBNYWluQ2FudmFzLnRleHRBbGlnbiA9IHByZXZUZXh0QWxpZ247XG4gICAgcmV0dXJuO1xufVxuXG5mdW5jdGlvbiBQcmVmZXJlbmNlTWVudUV4aXQoKTogYm9vbGVhbiB8IHZvaWRcbntcbiAgICAvLyBTaG91bGRuJ3QgYmUgbmVlZGVkIGJ1dCBhY3RzIGFzIGZhaWxzYWZlIGFuZCBtYWtlcyB0eXBlc2NyaXB0IGhhcHB5XG4gICAgaWYgKCFzZXR0aW5nQ2hhcikgeyByZXR1cm47IH1cblxuICAgIGlmIChzZXR0aW5nc0VkaXRlZClcbiAgICB7XG4gICAgICAgIGlmIChzZXR0aW5nQ2hhci5NZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIExldmVsU3luYyhmYWxzZSwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgICAgIFNhdmVTdG9yYWdlKHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgU2VuZE1QQU1lc3NhZ2UoXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlNldHRpbmdQdXRSZXF1ZXN0XCIsXG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzOiBzZXR0aW5nQ2hhci5NUEFcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldHRpbmdDaGFyLk1lbWJlck51bWJlclxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoc2V0dGluZ0NoYXIuTWVtYmVyTnVtYmVyID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyKVxuICAgIHtcbiAgICAgICAgUHJlZmVyZW5jZVN1YnNjcmVlbkV4dGVuc2lvbnNDbGVhcigpO1xuICAgIH1cbiAgICBzZXR0aW5nc0VkaXRlZCA9IGZhbHNlO1xuICAgIHNldHRpbmdDaGFyID0gbnVsbDtcbiAgICBzZXR0aW5nc09wZW4gPSBmYWxzZTtcbn1cblxuLyoqXG4gKiBDYWxsZWQgb25jZSB3aGVuIHRoZSBQcmVmZXJlbmNlIE1lbnUgbG9hZHMgdXAgYWZ0ZXIgb3BlbmluZ1xuICovXG5mdW5jdGlvbiBQcmVmZXJlbmNlTWVudUxvYWQoKTogdm9pZFxue1xuICAgIC8vIFNob3VsZG4ndCBiZSBuZWVkZWQgYnV0IGFjdHMgYXMgZmFpbHNhZmUgYW5kIG1ha2VzIHR5cGVzY3JpcHQgaGFwcHlcbiAgICBpZiAoIXNldHRpbmdDaGFyKSB7IHJldHVybjsgfVxuICAgIHNldHRpbmdzT3BlbiA9IHRydWU7XG59XG5cbmZ1bmN0aW9uIFBsYXllclByZWZlcmVuY2VNZW51TG9hZCgpOiB2b2lkXG57XG4gICAgc2V0dGluZ3NFZGl0ZWQgPSBmYWxzZTtcbiAgICBzZXR0aW5nQ2hhciA9IFBsYXllcjtcbiAgICBQcmVmZXJlbmNlTWVudUxvYWQoKTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIHN0cmluZyB3aXRoIGFuIE1QQSBpZGVudGlmaWVyIGluIGZyb250XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBFbGVtZW50TmFtZSh0aXRsZTogTW9kdWxlVGl0bGUgfCBzdHJpbmcsIHNldHRpbmc6IHN0cmluZyk6IHN0cmluZ1xue1xuICAgIHJldHVybiBgTVBBX09QVElPTl8ke3RpdGxlfSR7c2V0dGluZ31gO1xufVxuXG4vKipcbiAqIENyZWF0ZSBhbmQgaGlkZSBhbGwgdGhlIEhUTUwgZWxlbWVudHMgdGhhdCBhcmUgbmVlZGVkIGZvciB0aGUgUHJlZmVyZW5jZSBTZXR0aW5nIHBhZ2VcbiAqL1xuZnVuY3Rpb24gQ3JlYXRlSFRNTEVsZW1lbnRzKHN1Yk1lbnU6IE1vZHVsZVRpdGxlIHwgbnVsbCwgcGFnZTogbnVtYmVyID0gY3VycmVudFBhZ2UpOiB2b2lkXG57XG4gICAgaWYgKCFzdWJNZW51KSB7IHJldHVybjsgfVxuICAgIC8vIFNob3VsZG4ndCBiZSBuZWVkZWQgYnV0IGFjdHMgYXMgZmFpbHNhZmUgYW5kIG1ha2VzIHR5cGVzY3JpcHQgaGFwcHlcbiAgICBpZiAoIXNldHRpbmdDaGFyKSB7IHJldHVybjsgfVxuXG4gICAgT2JqZWN0LmVudHJpZXMoZGVmYXVsdFNldHRpbmdzW3N1Yk1lbnVdID8/IHt9KS5zbGljZSgocGFnZSAtIDEpICogT1BUSU9OX1BFUl9QQUdFLCBwYWdlICogT1BUSU9OX1BFUl9QQUdFKS5mb3JFYWNoKChzZXQpID0+XG4gICAge1xuICAgICAgICBjb25zdCBbc2V0dGluZ05hbWUsIHNldHRpbmddID0gc2V0O1xuICAgICAgICBjb25zdCBpZCA9IEVsZW1lbnROYW1lKHN1Yk1lbnUsIHNldHRpbmdOYW1lKTtcbiAgICAgICAgaWYgKElzVGV4dFNldHRpbmcoc2V0dGluZykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIEVsZW1lbnRDcmVhdGVJbnB1dChpZCwgXCJ0ZXh0XCIsIHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdIGFzIHN0cmluZywgc2V0dGluZy5tYXhDaGFycyA/PyBPUFRJT05fVEVYVF9NQVhfQ0hBUlMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKElzTnVtYmVyU2V0dGluZyhzZXR0aW5nKSlcbiAgICAgICAge1xuICAgICAgICAgICAgRWxlbWVudENyZWF0ZUlucHV0KGlkLCBcIm51bWJlclwiLCBzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXS50b1N0cmluZygpKTtcbiAgICAgICAgICAgIEVsZW1lbnRTZXRBdHRyaWJ1dGUoaWQsIFwibWluXCIsIHNldHRpbmcubWluLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgRWxlbWVudFNldEF0dHJpYnV0ZShpZCwgXCJtYXhcIiwgc2V0dGluZy5tYXgudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICBFbGVtZW50U2V0QXR0cmlidXRlKGlkLCBcImlucHV0bW9kZVwiLCBcImRlY2ltYWxcIik7XG4gICAgICAgICAgICBpZiAoc2V0dGluZy5zdGVwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIEVsZW1lbnRTZXRBdHRyaWJ1dGUoaWQsIFwic3RlcFwiLCBzZXR0aW5nLnN0ZXAudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbi8qKlxuICogVXBkYXRlIHRoZSBzZXR0aW5nIHZhbHVlcyB0byByZWZsZWN0IHRob3NlIGluIHRoZSBodG1sIGVsZW1lbnRzIGFuZCBkZWxldGUgdGhlbSBhZnRlclxuICovXG5mdW5jdGlvbiBVcGRhdGVBbmREZWxldGVIVE1MRWxlbWVudHMoc3ViTWVudTogTW9kdWxlVGl0bGUsIHBhZ2U6IG51bWJlciA9IGN1cnJlbnRQYWdlKTogdm9pZFxue1xuICAgIC8vIFNob3VsZG4ndCBiZSBuZWVkZWQgYnV0IGFjdHMgYXMgZmFpbHNhZmUgYW5kIG1ha2VzIHR5cGVzY3JpcHQgaGFwcHlcbiAgICBpZiAoIXNldHRpbmdDaGFyKSB7IHJldHVybjsgfVxuXG4gICAgLy8gVXBkYXRlIHRoZSB2aXJ0dWFsIHBldCBzdGF0cyBiYXNlZCBvbiBjdXJyZW50IHZhbHVlcyBzbyB0aGUgbGV2ZWwgZG9lc24ndCBqdW1wIGFyb3VuZFxuICAgIGlmIChzdWJNZW51ID09PSBNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0KVxuICAgIHtcbiAgICAgICAgTGV2ZWxTeW5jKGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xuICAgIH1cblxuICAgIE9iamVjdC5lbnRyaWVzKGRlZmF1bHRTZXR0aW5nc1tzdWJNZW51XSA/PyB7fSkuc2xpY2UoKHBhZ2UgLSAxKSAqIE9QVElPTl9QRVJfUEFHRSwgcGFnZSAqIE9QVElPTl9QRVJfUEFHRSkuZm9yRWFjaCgoc2V0KSA9PlxuICAgIHtcbiAgICAgICAgY29uc3QgW3NldHRpbmdOYW1lLCBzZXR0aW5nXSA9IHNldDtcbiAgICAgICAgY29uc3QgaWQgPSBFbGVtZW50TmFtZShzdWJNZW51LCBzZXR0aW5nTmFtZSk7XG4gICAgICAgIGlmIChJc1RleHRTZXR0aW5nKHNldHRpbmcpKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gIT09IEVsZW1lbnRWYWx1ZShpZCkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gPSBFbGVtZW50VmFsdWUoaWQpO1xuICAgICAgICAgICAgICAgIHNldHRpbmdzRWRpdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIEVsZW1lbnRSZW1vdmUoaWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChJc051bWJlclNldHRpbmcoc2V0dGluZykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSAhPT0gTnVtYmVyKEVsZW1lbnRWYWx1ZShpZCkpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdID0gTnVtYmVyKEVsZW1lbnRWYWx1ZShpZCkpO1xuICAgICAgICAgICAgICAgIHNldHRpbmdzRWRpdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIEVsZW1lbnRSZW1vdmUoaWQpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmV4cG9ydCBjbGFzcyBTZXR0aW5nc01vZHVsZSBleHRlbmRzIE1vZHVsZVxue1xuICAgIGdldCBUaXRsZSgpOiBNb2R1bGVUaXRsZVxuICAgIHtcbiAgICAgICAgcmV0dXJuIE1vZHVsZVRpdGxlLlNldHRpbmdzO1xuICAgIH1cblxuICAgIExvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgLy8gQWRkIHNldHRpbmdzIHRvIHRoZSBleHRlbnNpb24gb3B0aW9uc1xuICAgICAgICBQcmVmZXJlbmNlUmVnaXN0ZXJFeHRlbnNpb25TZXR0aW5nKHtcbiAgICAgICAgICAgIElkZW50aWZpZXI6IFwiTVBBXCIsXG4gICAgICAgICAgICBCdXR0b25UZXh0OiBMb2NhbGl6ZWRUZXh0KFwiTVBBIFNldHRpbmdzXCIpLFxuICAgICAgICAgICAgSW1hZ2U6IElDT05TLlBBVyxcbiAgICAgICAgICAgIGNsaWNrOiBQcmVmZXJlbmNlTWVudUNsaWNrLFxuICAgICAgICAgICAgcnVuOiBQcmVmZXJlbmNlTWVudVJ1bixcbiAgICAgICAgICAgIGV4aXQ6IFByZWZlcmVuY2VNZW51RXhpdCxcbiAgICAgICAgICAgIGxvYWQ6IFBsYXllclByZWZlcmVuY2VNZW51TG9hZFxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBXaGVuIHByZXNzaW5nIGVzY2FwZSwgb25seSBnbyB0byBtYWluIG1lbnUgaWYgaW4gc3ViIG1lbnVcbiAgICAgICAgZnVuY3Rpb24gRXNjYXBlSGFuZGxlcihldmVudDogS2V5Ym9hcmRFdmVudCk6IHZvaWRcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIChldmVudC5rZXkgPT09IFwiRXNjYXBlXCIgfHwgZXZlbnQua2V5ID09PSBcIkVzY1wiKVxuICAgICAgICAgICAgICAgICYmIHNldHRpbmdzT3BlblxuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50TWVudSA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFByZWZlcmVuY2VNZW51RXhpdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjdXJyZW50TWVudSA9PT0gXCJSRVNFVF9TZXR0aW5nc1wiKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYWxsb3dSZXNldFRpbWUgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBVcGRhdGVBbmREZWxldGVIVE1MRWxlbWVudHMoY3VycmVudE1lbnUpO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGFnZSA9IDE7XG4gICAgICAgICAgICAgICAgICAgIG1heFBhZ2VzID0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3VycmVudE1lbnUgPSBudWxsO1xuICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlwcmVzc1wiLCBFc2NhcGVIYW5kbGVyLCB0cnVlKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgRXNjYXBlSGFuZGxlciwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgVW5sb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIC8vIFVubG9hZCBiZWluZyBlbXB0eSBpcyB3YW50ZWQsIG5ldmVyIHVubG9hZCBzZXR0aW5nc1xuICAgIH1cblxuICAgIFJlbG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICAvLyBSZWxvYWQgYmVpbmcgZW1wdHkgaXMgd2FudGVkLCBuZXZlciByZWxvYWQgc2V0dGluZ3NcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBBcnJheVRvUmVhZGFibGVTdHJpbmcsIEhvb2tlZE1lc3NhZ2UsIE1QQU1lc3NhZ2VDb250ZW50LCBNUEFOb3RpZnlQbGF5ZXIsIE5vdGlmeVBsYXllciwgU2VuZE1QQU1lc3NhZ2UgfSBmcm9tIFwiLi4vdXRpbC9tZXNzYWdpbmdcIjtcbmltcG9ydCB7IExvY2FsaXplZFRleHQgfSBmcm9tIFwiLi4vbG9jYWxpemF0aW9uL2xvY2FsaXphdGlvblwiO1xuaW1wb3J0IHsgSUNPTlMgfSBmcm9tIFwiLi4vdXRpbC9jb25zdGFudHNcIjtcbmltcG9ydCB7IGJjeEZvdW5kLCBIb29rRnVuY3Rpb24gfSBmcm9tIFwiLi4vdXRpbC9zZGtcIjtcbmltcG9ydCB7IE1vZHVsZSwgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi9fbW9kdWxlXCI7XG5pbXBvcnQgeyBFeGl0QnV0dG9uUHJlc3NlZCwgTUVOVV9USVRMRVMsIFByZWZlcmVuY2VNZW51Q2xpY2ssIFByZWZlcmVuY2VNZW51UnVuLCBTZXRTZXR0aW5nQ2hhciB9IGZyb20gXCIuL3NldHRpbmdzXCI7XG5pbXBvcnQgeyBTYXZlU3RvcmFnZSB9IGZyb20gXCIuLi91dGlsL3N0b3JhZ2VcIjtcbmltcG9ydCB7IExldmVsU3luYyB9IGZyb20gXCIuL3ZpcnR1YWxQZXRcIjtcbmltcG9ydCB7IElzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAgfSBmcm9tIFwiLi4vdXRpbC9hdXRob3JpdHlcIjtcbmltcG9ydCB7IHNldHRpbmdzIGFzIGRlZmF1bHRTZXR0aW5ncyB9IGZyb20gXCIuLi91dGlsL3JlZ2lzdGVyTW9kdWxlc1wiO1xuXG4vLyBPdGhlciBzZXR0aW5nc1xuY29uc3QgTVBBX1JFTU9URSA9IFsxNzAwLCA3NjUsIDkwLCA5MF0gYXMgY29uc3Q7XG4vLyBCQ1ggbW92ZXMgdGhlIGJ1dHRvbiBkb3duIGJ5IDM1IGZvciBzb21lIHJlYXNvblxuY29uc3QgTVBBX1JFTU9URV9CQ1ggPSBbMTcwMCwgODAwLCA5MCwgOTBdIGFzIGNvbnN0O1xuXG5mdW5jdGlvbiBBcnJheXNFcXVhbChhcnIxOiBhbnlbXSwgYXJyMjogYW55W10pOiBib29sZWFuXG57XG4gICAgaWYgKGFycjEubGVuZ3RoICE9PSBhcnIyLmxlbmd0aClcbiAgICB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIHJldHVybiBhcnIxLmV2ZXJ5KCh2YWx1ZSwgaW5kZXgpID0+IHZhbHVlID09PSBhcnIyW2luZGV4XSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBPYmplY3REaWZmZXJlbmNlcyhvbGRPYmo6IG9iamVjdCwgbmV3T2JqOiBvYmplY3QpOiBvYmplY3RcbntcbiAgICBjb25zdCBkaWZmZXJlbmNlcyA9IHt9O1xuXG4gICAgZm9yIChjb25zdCBrZXkgaW4gb2xkT2JqKVxuICAgIHtcbiAgICAgICAgLy8gS2V5IGlzIG1pc3NpbmcgaW4gbmV3T2JqXG4gICAgICAgIGlmICghKGtleSBpbiBuZXdPYmopKVxuICAgICAgICB7XG4gICAgICAgICAgICBkaWZmZXJlbmNlc1trZXldID0geyBvbGQ6IG9sZE9ialtrZXldLCBuZXc6IHVuZGVmaW5lZCB9O1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IG9sZE9ialtrZXldO1xuICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IG5ld09ialtrZXldO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIEFycmF5LmlzQXJyYXkob2xkVmFsdWUpXG4gICAgICAgICAgICAmJiBBcnJheS5pc0FycmF5KG5ld1ZhbHVlKVxuICAgICAgICApXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIElmIGJvdGggYXJlIGFycmF5cywgY29tcGFyZSB0aGVpciBjb250ZW50c1xuICAgICAgICAgICAgaWYgKCFBcnJheXNFcXVhbChvbGRWYWx1ZSwgbmV3VmFsdWUpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRpZmZlcmVuY2VzW2tleV0gPSB7IG9sZDogb2xkVmFsdWUsIG5ldzogbmV3VmFsdWUgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgICAgIHR5cGVvZiBvbGRWYWx1ZSA9PT0gXCJvYmplY3RcIlxuICAgICAgICAgICAgJiYgdHlwZW9mIG5ld1ZhbHVlID09PSBcIm9iamVjdFwiXG4gICAgICAgICAgICAmJiAhQXJyYXkuaXNBcnJheShvbGRWYWx1ZSkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIElmIGJvdGggYXJlIG9iamVjdHMsIHJlY3Vyc2l2ZWx5IGNoZWNrIGZvciBkaWZmZXJlbmNlc1xuICAgICAgICAgICAgY29uc3QgZGlmZiA9IE9iamVjdERpZmZlcmVuY2VzKG9sZFZhbHVlLCBuZXdWYWx1ZSk7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoZGlmZikubGVuZ3RoID4gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkaWZmZXJlbmNlc1trZXldID0gZGlmZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvbGRWYWx1ZSAhPT0gbmV3VmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIElmIHZhbHVlcyBhcmUgZGlmZmVyZW50LCBzdG9yZSB0aGUgZGlmZmVyZW5jZVxuICAgICAgICAgICAgZGlmZmVyZW5jZXNba2V5XSA9IHsgb2xkOiBvbGRWYWx1ZSwgbmV3OiBuZXdWYWx1ZSB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gTmV3IGtleXMgbm90IGZvdW5kIGluIHRoZSBvbGQgb2JqZWN0XG4gICAgZm9yIChjb25zdCBrZXkgaW4gbmV3T2JqKVxuICAgIHtcbiAgICAgICAgaWYgKCEoa2V5IGluIG9sZE9iaikpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRpZmZlcmVuY2VzW2tleV0gPSB7IG9sZDogdW5kZWZpbmVkLCBuZXc6IG5ld09ialtrZXldIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZGlmZmVyZW5jZXM7XG59XG5cbmV4cG9ydCBjbGFzcyBTZXR0aW5nc090aGVyTW9kdWxlIGV4dGVuZHMgTW9kdWxlXG57XG4gICAgZ2V0IFRpdGxlKCk6IE1vZHVsZVRpdGxlXG4gICAge1xuICAgICAgICByZXR1cm4gTW9kdWxlVGl0bGUuU2V0dGluZ3NPdGhlcjtcbiAgICB9XG5cbiAgICBnZXQgU3luY0xpc3RlbmVycygpOiBIb29rZWRNZXNzYWdlW11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbW9kdWxlOiB0aGlzLlRpdGxlLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiU2V0dGluZ1B1dFJlcXVlc3RcIixcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uIChzZW5kZXI6IENoYXJhY3RlciwgY29udGVudDogTVBBTWVzc2FnZUNvbnRlbnQpOiB2b2lkXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2cEVuYWJsZWQgPSBQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdLmVuYWJsZWQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpZmZlcmVuY2VzID0gT2JqZWN0RGlmZmVyZW5jZXMoUGxheWVyLk1QQSwgY29udGVudC5zZXR0aW5ncyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNoYW5nZWRTZXR0aW5nczogc3RyaW5nW10gPSBbXTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBEZWxldGUgdGhlIFZQIGxldmVscyBhcyB0aGV5IHdpbGwgYmUgc3luY2VkIHdpdGggdGhlIHBsYXllciBpbnN0ZWFkXG4gICAgICAgICAgICAgICAgICAgIGlmIChkaWZmZXJlbmNlcz8uW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdPy5sZXZlbHMpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBkaWZmZXJlbmNlc1tNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XS5sZXZlbHM7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoZGlmZmVyZW5jZXNbTW9kdWxlVGl0bGUuVmlydHVhbFBldF0pLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZGlmZmVyZW5jZXNbTW9kdWxlVGl0bGUuVmlydHVhbFBldF07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgTGV2ZWxTeW5jKGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vICEhISEhISEhISEhISEhISEhISEhISEhXG4gICAgICAgICAgICAgICAgICAgIC8vIERvIEF1dGhvcml0eSBxdWVyeXMgZmlyc3RcbiAgICAgICAgICAgICAgICAgICAgLy8gISEhISEhISEhISEhISEhISEhISEhISFcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJldmlvdXNBdXRob3JpdHkgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KFBsYXllci5NUEE/LltNb2R1bGVUaXRsZS5BdXRob3JpdHldKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0F1dGhvcml0eSA9IGRpZmZlcmVuY2VzW01vZHVsZVRpdGxlLkF1dGhvcml0eV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdBdXRob3JpdHkpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBkaWZmZXJlbmNlc1tNb2R1bGVUaXRsZS5BdXRob3JpdHldO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVmFsaWRhdGUgdGhhdCBhdXRob3JpdHkgY2FuIGJlIGNoYW5nZWQgYmFzZWQgb24gY3VycmVudCBhdXRob3JpdHkgZmlyc3RcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChJc01lbWJlck51bWJlckluQXV0aEdyb3VwKHNlbmRlci5NZW1iZXJOdW1iZXIgPz8gLTEsIHByZXZpb3VzQXV0aG9yaXR5W2BvdGhlcnMke01vZHVsZVRpdGxlLkF1dGhvcml0eX1gXSkpXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlZFNldHRpbmdzLnB1c2goTG9jYWxpemVkVGV4dChNb2R1bGVUaXRsZS5BdXRob3JpdHkpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IGluIG5ld0F1dGhvcml0eSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdBdXRob3JpdHlbZW50cnldLm5ldyAhPT0gdW5kZWZpbmVkICYmIG5ld0F1dGhvcml0eVtlbnRyeV0ub2xkICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBsYXllci5NUEFbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XVtlbnRyeV0gPSBuZXdBdXRob3JpdHlbZW50cnldLm5ldztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYE1QQTogJHtzZW5kZXIuTmlja25hbWUgfHwgc2VuZGVyLk5hbWV9ICgke3NlbmRlci5NZW1iZXJOdW1iZXJ9KSB0cmllZCB0byBpbGxlZ2FsbHkgbW9kaWZ5IHlvdXIgJHtNb2R1bGVUaXRsZS5BdXRob3JpdHl9IHNldHRpbmdzIWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB0aXRsZSBpbiBkaWZmZXJlbmNlcylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVmFsaWRhdGUgdGhhdCBhbnkgc2V0dGluZ3MgY2FuIGJlIGNoYW5nZWQgd2l0aCBFSVRIRVIgdGhlIG9sZCBvciBuZXcgYXV0aG9yaXR5XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTZW5kZXIgaXMgbm90IGF1dGhvcml6ZWQgdG8gY2hhbmdlIHRoZSBzZXR0aW5ncywgaWdub3JlIGFuZCB3YXJuIGluIGNvbnNvbGVcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKElzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAoc2VuZGVyLk1lbWJlck51bWJlciA/PyAtMSwgcHJldmlvdXNBdXRob3JpdHlbYG90aGVycyR7dGl0bGV9YF0gPz8gXCJOb25lXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHx8IElzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAoc2VuZGVyLk1lbWJlck51bWJlciA/PyAtMSwgUGxheWVyLk1QQT8uW01vZHVsZVRpdGxlLkF1dGhvcml0eV0/Lltgb3RoZXJzJHt0aXRsZX1gXSA/PyBcIk5vbmVcIikpXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBNUEE6ICR7c2VuZGVyLk5pY2tuYW1lIHx8IHNlbmRlci5OYW1lfSAoJHtzZW5kZXIuTWVtYmVyTnVtYmVyfSkgdHJpZWQgdG8gaWxsZWdhbGx5IG1vZGlmeSB5b3VyICR7dGl0bGV9IHNldHRpbmdzIWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VkU2V0dGluZ3MucHVzaChMb2NhbGl6ZWRUZXh0KE1FTlVfVElUTEVTW3RpdGxlIGFzIE1vZHVsZVRpdGxlXSA/PyB0aXRsZSkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtb2R1bGVEaWZmID0gZGlmZmVyZW5jZXNbdGl0bGVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBlbnRyeSBpbiBtb2R1bGVEaWZmKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb2R1bGVEaWZmW2VudHJ5XS5uZXcgIT09IHVuZGVmaW5lZCAmJiBtb2R1bGVEaWZmW2VudHJ5XS5vbGQgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBsYXllci5NUEFbdGl0bGUgYXMgTW9kdWxlVGl0bGVdW2VudHJ5XSA9IG1vZHVsZURpZmZbZW50cnldLm5ldztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBJZiBoYXJkY29yZSBpcyBzZXQsIG1ha2Ugc3VyZSBpdHMgc2V0dGluZ3MgYXJlIHNldFxuICAgICAgICAgICAgICAgICAgICBpZiAoUGxheWVyLk1QQVtNb2R1bGVUaXRsZS5Qcm9maWxlXS5oYXJkY29yZSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgKGRlZmF1bHRTZXR0aW5nc1tNb2R1bGVUaXRsZS5Qcm9maWxlXT8uaGFyZGNvcmUgYXMgYW55KT8ub25TZXQoUGxheWVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIENhdGNoIFZpcnR1YWwgUGV0IGxldmVscyB1cCB0byBkYXRlIGlmIGl0IHdhcyB0dXJuZWQgb24gLyBvZmZcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZwRW5hYmxlZCAhPT0gUGxheWVyLk1QQVtNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XS5lbmFibGVkKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdLmxldmVscy5sYXN0VXBkYXRlZCA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hhbmdlZFNldHRpbmdzLmxlbmd0aCAhPT0gMClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgTVBBTm90aWZ5UGxheWVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIExvY2FsaXplZFRleHQoXCJTb3VyY2VDaGFyYWN0ZXIganVzdCB1cGRhdGVkIHlvdXIgU2V0dGluZ3NBcnJheSBzZXR0aW5ncy5cIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoXCJTb3VyY2VDaGFyYWN0ZXJcIiwgc2VuZGVyLk5pY2tuYW1lIHx8IHNlbmRlci5OYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZShcIlNldHRpbmdzQXJyYXlcIiwgQXJyYXlUb1JlYWRhYmxlU3RyaW5nKGNoYW5nZWRTZXR0aW5ncykpXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gTGV2ZWxTeW5jKGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBTYXZlU3RvcmFnZSh0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgbW9kdWxlOiB0aGlzLlRpdGxlLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiRWRpdGluZ1NldHRpbmdzXCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoc2VuZGVyOiBDaGFyYWN0ZXIsIF9jb250ZW50OiBNUEFNZXNzYWdlQ29udGVudCk6IHZvaWRcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIE5vdGlmeVBsYXllcihMb2NhbGl6ZWRUZXh0KFwiU291cmNlQ2hhcmFjdGVyIGlzIGFjY2Vzc2luZyB5b3VyIE1QQSBzZXR0aW5ncy5cIikucmVwbGFjZShcIlNvdXJjZUNoYXJhY3RlclwiLCBzZW5kZXIuTmlja25hbWUgfHwgc2VuZGVyLk5hbWUpLCAzMDAwMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuICAgIH1cblxuICAgIExvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3VwZXIuTG9hZCgpO1xuXG4gICAgICAgIC8vIFByaW8gaGFzIHRvIGJlIDEgbW9yZSB0aGFuIExTQ0cgb3IgQkNYIGhvb2tzXG4gICAgICAgIGNvbnN0IGhvb2tQcmlvcml0eSA9IDEyO1xuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJJbmZvcm1hdGlvblNoZWV0UnVuXCIsIGhvb2tQcmlvcml0eSwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIExTQ0cgb3IgQkNYIHN1YnNjcmVlbnMgb3BlbiBpbnN0ZWFkXG4gICAgICAgICAgICBpZiAod2luZG93LmJjeD8uaW5CY3hTdWJzY3JlZW4oKSB8fCB3aW5kb3cuTFNDR19SRU1PVEVfV0lORE9XX09QRU4pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE1QQSBTZXR0aW5ncyBhcmUgb3BlblxuICAgICAgICAgICAgaWYgKHdpbmRvdy5NUEEubWVudUxvYWRlZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBQcmVmZXJlbmNlTWVudVJ1bigpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbmV4dChhcmdzKTtcbiAgICAgICAgICAgIC8vIERyYXcgdGhlIHJlbW90ZSBpbnRvIHNldHRpbmdzIGJ1dHRvbiBpZiBhcHBsaWNhYmxlXG4gICAgICAgICAgICBjb25zdCBjaGFyID0gSW5mb3JtYXRpb25TaGVldFNlbGVjdGlvbjtcbiAgICAgICAgICAgIGlmIChjaGFyPy5NUEEgJiYgIWNoYXIuSXNQbGF5ZXIoKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhY2Nlc3MgPSBTZXJ2ZXJDaGF0Um9vbUdldEFsbG93SXRlbShQbGF5ZXIsIGNoYXIpO1xuICAgICAgICAgICAgICAgIERyYXdCdXR0b24oXG4gICAgICAgICAgICAgICAgICAgIC4uLigoYmN4Rm91bmQoKSA/IE1QQV9SRU1PVEVfQkNYIDogTVBBX1JFTU9URSkgYXMgcmVhZG9ubHkgW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl0pLFxuICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICBhY2Nlc3MgPyBcIiNmZmZmZmZcIiA6IFwiI2FhYWFhYVwiLFxuICAgICAgICAgICAgICAgICAgICBJQ09OUy5QQVcsXG4gICAgICAgICAgICAgICAgICAgIExvY2FsaXplZFRleHQoYWNjZXNzID8gXCJNUEFcIiA6IFwiTVBBOiBObyBCQyBpdGVtIHBlcm1pc3Npb25cIiksXG4gICAgICAgICAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiSW5mb3JtYXRpb25TaGVldENsaWNrXCIsIGhvb2tQcmlvcml0eSwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh3aW5kb3cuTVBBLm1lbnVMb2FkZWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByZWZlcmVuY2VNZW51Q2xpY2soKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgY2hhciA9IEluZm9ybWF0aW9uU2hlZXRTZWxlY3Rpb247XG4gICAgICAgICAgICBpZiAoTW91c2VJbiguLi5NUEFfUkVNT1RFX0JDWCkgJiYgY2hhcj8uTVBBICYmICFjaGFyLklzUGxheWVyKCkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgd2luZG93Lk1QQS5tZW51TG9hZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAvLyBNUEEgaXMgZGVmaW5lZCBmcm9tIGNoZWNrIGFib3ZlLCBzbyBvdGhlciBjaGFyYWN0ZXIgaXMgc2FtZSBhcyBzZWxmIGluIHN0cnVjdHVyZVxuICAgICAgICAgICAgICAgIFNldFNldHRpbmdDaGFyKGNoYXIgYXMgUGxheWVyQ2hhcmFjdGVyKTtcbiAgICAgICAgICAgICAgICBTZW5kTVBBTWVzc2FnZSh7IG1lc3NhZ2U6IFwiRWRpdGluZ1NldHRpbmdzXCIgfSwgY2hhci5NZW1iZXJOdW1iZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJJbmZvcm1hdGlvblNoZWV0RXhpdFwiLCBob29rUHJpb3JpdHksIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAod2luZG93Lk1QQS5tZW51TG9hZGVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIEV4aXRCdXR0b25QcmVzc2VkKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIFVubG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5VbmxvYWQoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBNb2R1bGUsIE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4vX21vZHVsZVwiO1xuaW1wb3J0IHsgQkVEX0JBRCwgQkVEX05PUk1BTCwgQkVEX1BFUkZFQ1QgfSBmcm9tIFwiLi4vdXRpbC9jb25zdGFudHNcIjtcbmltcG9ydCB7IEhvb2tGdW5jdGlvbiB9IGZyb20gXCIuLi91dGlsL3Nka1wiO1xuaW1wb3J0IHsgU2F2ZVN0b3JhZ2UgfSBmcm9tIFwiLi4vdXRpbC9zdG9yYWdlXCI7XG5pbXBvcnQgeyBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkgfSBmcm9tIFwiLi4vdXRpbC9tZXNzYWdpbmdcIjtcbmltcG9ydCB7IFJlY29yZFN5bmMgfSBmcm9tIFwiLi9kYXRhU3luY1wiO1xuaW1wb3J0IHsgSXNIYXJkY29yZU9uIH0gZnJvbSBcIi4vcHJvZmlsZVwiO1xuXG5jb25zdCBNQVhfU0VUVElOR19USU1FX0hPVVJTID0gMTY4O1xuXG5jb25zdCBQbGF5ZXJWUDogKEM/OiBDaGFyYWN0ZXIpID0+IE1QQVJlY29yZCA9IChDOiBDaGFyYWN0ZXIgPSBQbGF5ZXIpID0+XG57XG4gICAgcmV0dXJuIEMuTVBBPy5bTW9kdWxlVGl0bGUuVmlydHVhbFBldF0gPz8ge307XG59O1xuXG4vLyBjb25zdCBDSEFSQUNURVJTX01PVklORyA9IFtcIlNlcnZlck1vdmVSaWdodFwiLCBcIlNlcnZlclN3YXBcIiwgXCJTZXJ2ZXJNb3ZlTGVmdFwiXTtcblxuY29uc3QgQk9XTF9DT05TVU1FX1JFQ09WRVJZID0gMTtcbmNvbnN0IElURU1fQ09OVU1FX1JFQ09WRVJZID0gMC4zMztcblxuY29uc3QgQUNUSVZJVElFU19GT09EX0dBSU4gPSBbXCJMU0NHX0VhdFwiLCBcIlRocm93SXRlbVwiXTtcbmNvbnN0IEFDVElWSVRJRVNfV0FURVJfR0FJTiA9IFtcIkxTQ0dfRnVubmVsUG91clwiLCBcIkxTQ0dfUXVhZmZcIl07XG5cbmNvbnN0IEVNT1RJQ09OU19TTEVFUCA9IFtcIlNsZWVwXCIsIFwiQWZrXCIsIFwiRm9ya1wiLCBcIkNvZGluZ1wiLCBcIlJlYWRcIl07XG5cbmNvbnN0IEFGRkVDVElPTl9BQ1RJVklUWV9MT1ZFID0gW1wiUGV0XCIsIFwiVGFrZUNhcmVcIiwgXCJMU0NHX051enpsZVwiLCBcIkNhcmVzc1wiLCBcIkxTQ0dfSHVnXCIsIFwiU2NyYXRjaFwiXTtcbmNvbnN0IEFGRkVDVElPTl9BQ1RJVklUWV9MSUtFID0gW1wiS2lzc1wiLCBcIk1hc3NhZ2VIYW5kc1wiLCBcIkxpY2tcIiwgXCJOaWJibGVcIiwgXCJDdWRkbGVcIiwgXCJHcm9wZVwiXTtcbmNvbnN0IEFGRkVDVElPTl9BQ1RJVklUWV9NQVNPID0gW1wiU3BhbmtcIiwgXCJTbGFwXCIsIFwiQml0ZVwiLCBcIlBpbmNoXCIsIFwiUHVsbFwiLCBcIlNob2NrSXRlbVwiLCBcIlNwYW5rSXRlbVwiXTtcbmNvbnN0IEFGRkVDVElPTl9MT1ZFX0JBU0UgPSAwLjA1O1xuY29uc3QgQUZGRUNUSU9OX0xJS0VfQkFTRSA9IDAuMDM7XG5jb25zdCBBRkZFQ1RJT05fTUFTT19CQVNFID0gLTAuMDQ7XG5cbmNvbnN0IEFGRkVDVElPTl9aT05FX0FGRkVDVElPTjogUGFydGlhbDxSZWNvcmQ8QXNzZXRHcm91cEl0ZW1OYW1lLCBudW1iZXI+PiA9IHtcbiAgICBJdGVtQXJtczogMSxcbiAgICBJdGVtQm9vdHM6IDAuOCxcbiAgICBJdGVtQnJlYXN0OiAxLjUsXG4gICAgSXRlbUJ1dHQ6IDEuNSxcbiAgICBJdGVtRWFyczogMi41LFxuICAgIEl0ZW1GZWV0OiAwLjgsXG4gICAgSXRlbUhhbmRzOiAxLFxuICAgIEl0ZW1IZWFkOiAzLFxuICAgIEl0ZW1MZWdzOiAxLFxuICAgIEl0ZW1Nb3V0aDogMixcbiAgICBJdGVtTmVjazogMS4yLFxuICAgIEl0ZW1OaXBwbGVzOiAxLjUsXG4gICAgSXRlbU5vc2U6IDEuNyxcbiAgICBJdGVtUGVsdmlzOiAxLjMsXG4gICAgSXRlbVRvcnNvOiAxLFxuICAgIEl0ZW1WdWx2YTogMixcbiAgICBJdGVtVnVsdmFQaWVyY2luZ3M6IDIuNVxufTtcblxuY29uc3QgTUlOX09GRkxJTkVfRFJBSU5fTEVWRUwgPSAwLjI7XG5cbmNvbnN0IExBU1RfT05MSU5FX0lOVEVSVkFMX01TID0gMTAwMDA7XG5sZXQgbGFzdE9ubGluZUludGVydmFsOiBudW1iZXI7XG5cbmV4cG9ydCBjb25zdCBJc1NsZWVwaW5nRXhwcmVzc2lvbiA9IChjaGFyOiBDaGFyYWN0ZXIpOiBib29sZWFuID0+XG57XG4gICAgcmV0dXJuIChcbiAgICAgICAgY2hhci5BcHBlYXJhbmNlLmZpbmQoKHgpID0+IHguQXNzZXQuR3JvdXAuTmFtZSA9PT0gXCJFeWVzXCIpPy5Qcm9wZXJ0eT8uRXhwcmVzc2lvbiA9PT0gXCJDbG9zZWRcIlxuICAgICAgICAmJiBjaGFyLkFwcGVhcmFuY2UuZmluZCgoeCkgPT4geC5Bc3NldC5Hcm91cC5OYW1lID09PSBcIkV5ZXMyXCIpPy5Qcm9wZXJ0eT8uRXhwcmVzc2lvbiA9PT0gXCJDbG9zZWRcIlxuICAgICAgICAmJiBFTU9USUNPTlNfU0xFRVAuaW5jbHVkZXMoY2hhci5BcHBlYXJhbmNlLmZpbmQoKHgpID0+IHguQXNzZXQuR3JvdXAuTmFtZSA9PT0gXCJFbW90aWNvblwiKT8uUHJvcGVydHk/LkV4cHJlc3Npb24gPz8gXCJcIilcbiAgICApO1xufTtcbmV4cG9ydCBjb25zdCBJc0JlZE11bHRpcGxpZXIgPSAoY2hhcjogQ2hhcmFjdGVyKTogbnVtYmVyID0+XG57XG4gICAgY29uc3QgZGV2aWNlID0gSW52ZW50b3J5R2V0KGNoYXIsIFwiSXRlbURldmljZXNcIik/LkFzc2V0Lk5hbWUgPz8gXCJcIjtcbiAgICByZXR1cm4gKFxuICAgICAgICBCRURfUEVSRkVDVC5pbmNsdWRlcyhkZXZpY2UpID8gMTAgOiBCRURfTk9STUFMLmluY2x1ZGVzKGRldmljZSkgPyA1IDogQkVEX0JBRC5pbmNsdWRlcyhkZXZpY2UpID8gMiA6IDFcbiAgICApO1xufTtcblxubGV0IHBsYXllclNsZWVwaW5nRXhwcmVzc2lvbiA9IGZhbHNlO1xubGV0IHBsYXllckJlZE11bHRpcGxpZXIgPSAxO1xuXG5leHBvcnQgdHlwZSBWaXJ0dWFsUGV0U3RhdENhdGVnb3J5ID0gXCJmb29kXCIgfCBcIndhdGVyXCIgfCBcInNsZWVwXCIgfCBcImFmZmVjdGlvblwiO1xuZXhwb3J0IHR5cGUgVmlydHVhbFBldEhvdXJDYXRlZ29yaWVzID0gYCR7VmlydHVhbFBldFN0YXRDYXRlZ29yeX1Ib3Vyc2A7XG5leHBvcnQgaW50ZXJmYWNlIFZpcnR1YWxQZXRTdGF0XG57XG4gICAgc3RhdDogVmlydHVhbFBldFN0YXRDYXRlZ29yeTtcbiAgICBsZXZlbDogbnVtYmVyO1xufVxuXG5mdW5jdGlvbiBTbGVlcENoYW5nZUNoZWNrKHN5bmM6IGJvb2xlYW4gPSB0cnVlKTogdm9pZFxue1xuICAgIGlmIChcbiAgICAgICAgUGxheWVyVlAoKS5lbmFibGVkXG4gICAgICAgICYmIFBsYXllclZQKCkuc2xlZXBIb3VycyAhPT0gMFxuICAgICAgICAmJiAocGxheWVyU2xlZXBpbmdFeHByZXNzaW9uICE9PSBJc1NsZWVwaW5nRXhwcmVzc2lvbihQbGF5ZXIpXG4gICAgICAgIHx8IHBsYXllckJlZE11bHRpcGxpZXIgIT09IElzQmVkTXVsdGlwbGllcihQbGF5ZXIpKVxuICAgIClcbiAgICB7XG4gICAgICAgIC8vIGlmIGEgY2hhbmdlIGluIHNsZWVwaW5nIGV4cHJlc3Npb24gb3IgYmVkIG11bHRpcGxpZXIsIHN5bmMgbGV2ZWxzXG4gICAgICAgIGlmIChzeW5jKVxuICAgICAgICB7XG4gICAgICAgICAgICBMZXZlbFN5bmMoKTtcbiAgICAgICAgfVxuICAgICAgICBwbGF5ZXJTbGVlcGluZ0V4cHJlc3Npb24gPSBJc1NsZWVwaW5nRXhwcmVzc2lvbihQbGF5ZXIpO1xuICAgICAgICBwbGF5ZXJCZWRNdWx0aXBsaWVyID0gSXNCZWRNdWx0aXBsaWVyKFBsYXllcik7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBTdGF0TW9kaWZpZXIoc3RhdDogVmlydHVhbFBldFN0YXRDYXRlZ29yeSwgc291cmNlQ2hhcj86IENoYXJhY3Rlcik6IG51bWJlclxue1xuICAgIGxldCBtb2RpZmllciA9IDE7XG5cbiAgICAvLyBGcm9tIG93bmVycywgKzUwJVxuICAgIGlmIChzb3VyY2VDaGFyPy5Jc093bmVyKCkpXG4gICAge1xuICAgICAgICBtb2RpZmllciArPSAwLjU7XG4gICAgfVxuICAgIC8vIGxvdmVycyArMzUlXG4gICAgZWxzZSBpZiAoc291cmNlQ2hhcj8uSXNMb3Zlck9mUGxheWVyKCkpXG4gICAge1xuICAgICAgICBtb2RpZmllciArPSAwLjM1O1xuICAgIH1cbiAgICAvLyBzdWJzICsyNSVcbiAgICBlbHNlIGlmIChzb3VyY2VDaGFyPy5Jc0ZhbWlseU9mUGxheWVyKCkpXG4gICAge1xuICAgICAgICBtb2RpZmllciArPSAwLjI1O1xuICAgIH1cblxuICAgIC8vIEhhcmQgdG8gZWF0IG9yIGRyaW5rIHdoaWxlIHJpbmcgZ2FnZ2VkXG4gICAgaWYgKHN0YXQgPT09IFwiZm9vZFwiIHx8IHN0YXQgPT09IFwid2F0ZXJcIilcbiAgICB7XG4gICAgICAgIGlmICghUGxheWVyLkNhblRhbGsoKSlcbiAgICAgICAge1xuICAgICAgICAgICAgbW9kaWZpZXIgLT0gMC41O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gMyUgYm9udXMgZm9yIGVhY2ggcmVzdHJhaW50IHdvcm5cbiAgICBtb2RpZmllciArPSAwLjAzICogUGxheWVyLkFwcGVhcmFuY2UuZmlsdGVyKCh4KSA9PiB4LkFzc2V0LkR5bmFtaWNHcm91cE5hbWUuc3RhcnRzV2l0aChcIkl0ZW1cIikpLmxlbmd0aDtcblxuICAgIC8vIDUwJSBib251cyBmb3IgYmVpbmcgb24gYWxsIGZvdXJzXG4gICAgaWYgKFBsYXllci5Qb3NlTWFwcGluZy5Cb2R5RnVsbCA9PT0gXCJBbGxGb3Vyc1wiKVxuICAgIHtcbiAgICAgICAgbW9kaWZpZXIgKz0gMC41O1xuICAgIH1cblxuICAgIC8vIEZvb2QgYW5kIHdhdGVyIG1vZGlmaWVzIGFmZmVjdGlvbiBnYWluXG4gICAgaWYgKFxuICAgICAgICBzdGF0ID09PSBcImFmZmVjdGlvblwiXG4gICAgICAgICYmIFBsYXllci5NUEFbTW9kdWxlVGl0bGUuVmlydHVhbFBldENvbmRpdGlvbnNdLmVuYWJsZWRcbiAgICAgICAgJiYgUGxheWVyLk1QQVtNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9uc10uZm9vZE5PV1xuICAgIClcbiAgICB7XG4gICAgICAgIGNvbnN0IG51bXM6IG51bWJlcltdID0gW107XG4gICAgICAgIGlmIChQbGF5ZXJWUCgpLmZvb2RIb3VycyAhPT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgbnVtcy5wdXNoKEdldENoYXJhY3RlckN1cnJlbnRTdGF0VmFsdWUoUGxheWVyLCBcImZvb2RcIikpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChQbGF5ZXJWUCgpLndhdGVySG91cnMgIT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIG51bXMucHVzaChHZXRDaGFyYWN0ZXJDdXJyZW50U3RhdFZhbHVlKFBsYXllciwgXCJ3YXRlclwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG51bXMubGVuZ3RoICE9PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBtb2RpZmllciAqPSBudW1zLnJlZHVjZSgoc3VtLCBudW0pID0+IHN1bSArIG51bSwgMCkgLyBudW1zLmxlbmd0aCAvIDAuNzU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gTWF0aC5tYXgoMCwgbW9kaWZpZXIpO1xufVxuXG5mdW5jdGlvbiBWZXJpZnlWYWxpZFN0YXQoc3RhdDogVmlydHVhbFBldFN0YXRDYXRlZ29yeSk6IGJvb2xlYW5cbntcbiAgICBjb25zdCBsZXZlbCA9IFBsYXllclZQKCkubGV2ZWxzW3N0YXRdO1xuICAgIFBsYXllclZQKCkubGV2ZWxzW3N0YXRdID0gTWF0aC5taW4oTWF0aC5tYXgobGV2ZWwsIDApLCAxKTtcbiAgICByZXR1cm4gMCA8PSBsZXZlbCAmJiBsZXZlbCA8PSAxO1xufVxuXG5mdW5jdGlvbiBIb3VyVG9NUyhob3VyczogbnVtYmVyKVxue1xuICAgIHJldHVybiBob3VycyAqIDYwICogNjAgKiAxMDAwO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gQ2FsY3VsYXRlQ3VycmVudFZhbHVlKHZhbHVlOiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIsIGxhc3RVcGRhdGVkOiBudW1iZXIsIGxhc3RPbmxpbmU/OiBudW1iZXIsIGZpcnN0UnVuQ2hlY2s6IGJvb2xlYW4gPSBmYWxzZSwgQzogQ2hhcmFjdGVyID0gUGxheWVyKTogbnVtYmVyXG57XG4gICAgLyoqIEhvdyBsb25nIGluIG1zIGhhcyBlbGFzcGVkIHNpbmNlIG5vdyBvciBsYXN0IG9ubGluZSAqL1xuICAgIGNvbnN0IGRpZmY6IG51bWJlciA9IChsYXN0T25saW5lID8gbGFzdE9ubGluZSA6IERhdGUubm93KCkpIC0gbGFzdFVwZGF0ZWQ7XG4gICAgY29uc3QgY3VycmVudFZhbHVlID0gTWF0aC5tYXgoMCwgTWF0aC5taW4odmFsdWUgLSAoZGlmZiAvIEhvdXJUb01TKGR1cmF0aW9uKSksIDEpKTtcbiAgICAvLyBNYXggZHJhaW4gZG93biB0byAyMCUgd2hpbGUgb2ZmbGluZVxuICAgIGlmIChmaXJzdFJ1bkNoZWNrICYmIHZhbHVlID4gTUlOX09GRkxJTkVfRFJBSU5fTEVWRUwgJiYgY3VycmVudFZhbHVlIDwgTUlOX09GRkxJTkVfRFJBSU5fTEVWRUwpXG4gICAge1xuICAgICAgICBjb25zdCBkaWZmMjogbnVtYmVyID0gUGxheWVyVlAoQykubGV2ZWxzLmxhc3RPbmxpbmUgLSBsYXN0VXBkYXRlZDtcbiAgICAgICAgY29uc3QgbmV3VmFsdWUyID0gTWF0aC5tYXgoMCwgTWF0aC5taW4odmFsdWUgLSAoZGlmZjIgLyBIb3VyVG9NUyhkdXJhdGlvbikpLCAxKSk7XG4gICAgICAgIHJldHVybiBNYXRoLm1pbihNSU5fT0ZGTElORV9EUkFJTl9MRVZFTCwgbmV3VmFsdWUyKTtcbiAgICB9XG4gICAgcmV0dXJuIGN1cnJlbnRWYWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEdldENoYXJhY3RlckN1cnJlbnRTdGF0VmFsdWUoY2hhcmFjdGVyOiBDaGFyYWN0ZXIsIHN0YXQ6IFZpcnR1YWxQZXRTdGF0Q2F0ZWdvcnkpOiBudW1iZXJcbntcbiAgICBjb25zdCBjaGFyU3RhdHMgPSBjaGFyYWN0ZXI/Lk1QQT8uW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdO1xuICAgIGlmICghY2hhclN0YXRzKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIGlmIChzdGF0ID09PSBcInNsZWVwXCIpXG4gICAge1xuICAgICAgICBjb25zdCBsdmwgPSAoSXNTbGVlcGluZ0V4cHJlc3Npb24oY2hhcmFjdGVyKSB8fCBJc0JlZE11bHRpcGxpZXIoY2hhcmFjdGVyKSAhPT0gMSkgP1xuICAgICAgICAgICAgY2hhclN0YXRzLmxldmVscy5zbGVlcCArIChEYXRlLm5vdygpIC0gY2hhclN0YXRzLmxldmVscy5sYXN0VXBkYXRlZCkgLyAoY2hhclN0YXRzLnNsZWVwSG91cnMgKiA2MCAqIDYwICogMTAwMCkgKiBJc0JlZE11bHRpcGxpZXIoY2hhcmFjdGVyKSAqIChJc1NsZWVwaW5nRXhwcmVzc2lvbihjaGFyYWN0ZXIpID8gNSA6IDEpIDpcbiAgICAgICAgICAgIENhbGN1bGF0ZUN1cnJlbnRWYWx1ZShjaGFyU3RhdHMubGV2ZWxzLnNsZWVwLCBjaGFyU3RhdHMuc2xlZXBIb3VycywgY2hhclN0YXRzLmxldmVscy5sYXN0VXBkYXRlZCk7XG4gICAgICAgIHJldHVybiBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCBsdmwpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gQ2FsY3VsYXRlQ3VycmVudFZhbHVlKGNoYXJTdGF0cy5sZXZlbHNbc3RhdF0sIGNoYXJTdGF0c1tgJHtzdGF0fUhvdXJzYF0sIGNoYXJTdGF0cy5sZXZlbHMubGFzdFVwZGF0ZWQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gTGV2ZWxTeW5jKHB1c2hUb1N0b3JhZ2U6IGJvb2xlYW4gPSB0cnVlLCByZWNvcmRTeW5jOiBib29sZWFuID0gdHJ1ZSwgZmlyc3RTeW5jOiBib29sZWFuID0gZmFsc2UpOiB2b2lkXG57XG4gICAgLy8gVmlydHVhbCBwZXQgaXMgbm90IGVuYWJsZWQgc28gZG8gbm90aGluZ1xuICAgIGlmICghUGxheWVyVlAoKS5lbmFibGVkKVxuICAgIHtcbiAgICAgICAgUGxheWVyVlAoKS5sZXZlbHMubGFzdFVwZGF0ZWQgPSBEYXRlLm5vdygpO1xuICAgICAgICBQbGF5ZXJWUCgpLmxldmVscy5sYXN0T25saW5lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHVwZGF0ZTogbnVtYmVyID0gUGxheWVyVlAoKS5sZXZlbHMubGFzdFVwZGF0ZWQgPz8gRGF0ZS5ub3coKTtcbiAgICBjb25zdCBvbmxpbmU6IG51bWJlciB8IHVuZGVmaW5lZCA9ICFQbGF5ZXJWUCgpLm9mZmxpbmVEcmFpbiA/IFBsYXllclZQKCkubGV2ZWxzLmxhc3RPbmxpbmUgOiB1bmRlZmluZWQ7XG5cbiAgICBjb25zdCBmb29kID0gUGxheWVyVlAoKS5mb29kSG91cnM7XG4gICAgaWYgKGZvb2QgIT09IDApXG4gICAge1xuICAgICAgICBQbGF5ZXJWUCgpLmxldmVscy5mb29kID0gQ2FsY3VsYXRlQ3VycmVudFZhbHVlKFBsYXllclZQKCkubGV2ZWxzLmZvb2QsIGZvb2QsIHVwZGF0ZSwgb25saW5lLCBmaXJzdFN5bmMpO1xuICAgIH1cbiAgICBjb25zdCB3YXRlciA9IFBsYXllclZQKCkud2F0ZXJIb3VycztcbiAgICBpZiAod2F0ZXIgIT09IDApXG4gICAge1xuICAgICAgICBQbGF5ZXJWUCgpLmxldmVscy53YXRlciA9IENhbGN1bGF0ZUN1cnJlbnRWYWx1ZShQbGF5ZXJWUCgpLmxldmVscy53YXRlciwgd2F0ZXIsIHVwZGF0ZSwgb25saW5lLCBmaXJzdFN5bmMpO1xuICAgIH1cbiAgICBjb25zdCBzbGVlcCA9IFBsYXllclZQKCkuc2xlZXBIb3VycztcbiAgICBpZiAoc2xlZXAgIT09IDApXG4gICAge1xuICAgICAgICBpZiAoKGZpcnN0U3luYyAmJiAhb25saW5lKVxuICAgICAgICAgIHx8IHBsYXllclNsZWVwaW5nRXhwcmVzc2lvblxuICAgICAgICAgIHx8IHBsYXllckJlZE11bHRpcGxpZXIgIT09IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGR1cmF0aW9uVG9Vc2UgPSBmaXJzdFN5bmMgPyAoRGF0ZS5ub3coKSAtIFBsYXllclZQKCkubGV2ZWxzLmxhc3RPbmxpbmUpIC0gKFBsYXllclZQKCkubGV2ZWxzLmxhc3RPbmxpbmUgLSB1cGRhdGUpIDogRGF0ZS5ub3coKSAtIHVwZGF0ZTtcbiAgICAgICAgICAgIGNvbnN0IG5ld1NsZWVwID0gUGxheWVyVlAoKS5sZXZlbHMuc2xlZXAgKyAoZHVyYXRpb25Ub1VzZSkgLyBIb3VyVG9NUyhzbGVlcCkgKiBwbGF5ZXJCZWRNdWx0aXBsaWVyICogKHBsYXllclNsZWVwaW5nRXhwcmVzc2lvbiA/IDUgOiAxKTtcbiAgICAgICAgICAgIFBsYXllclZQKCkubGV2ZWxzLnNsZWVwID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgbmV3U2xlZXApKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIFBsYXllclZQKCkubGV2ZWxzLnNsZWVwID0gQ2FsY3VsYXRlQ3VycmVudFZhbHVlKFBsYXllclZQKCkubGV2ZWxzLnNsZWVwLCBzbGVlcCwgdXBkYXRlLCBvbmxpbmUsIGZpcnN0U3luYyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgYWZmZWN0aW9uID0gUGxheWVyVlAoKS5hZmZlY3Rpb25Ib3VycztcbiAgICBpZiAoYWZmZWN0aW9uICE9PSAwKVxuICAgIHtcbiAgICAgICAgUGxheWVyVlAoKS5sZXZlbHMuYWZmZWN0aW9uID0gQ2FsY3VsYXRlQ3VycmVudFZhbHVlKFBsYXllclZQKCkubGV2ZWxzLmFmZmVjdGlvbiwgYWZmZWN0aW9uLCB1cGRhdGUsIG9ubGluZSwgZmlyc3RTeW5jKTtcbiAgICB9XG4gICAgUGxheWVyVlAoKS5sZXZlbHMubGFzdFVwZGF0ZWQgPSBEYXRlLm5vdygpO1xuICAgIFBsYXllclZQKCkubGV2ZWxzLmxhc3RPbmxpbmUgPSBEYXRlLm5vdygpO1xuICAgIC8vIFNhdmUgdG8gbG9jYWwgc3RvcmFnZVxuICAgIGlmIChwdXNoVG9TdG9yYWdlKVxuICAgIHtcbiAgICAgICAgU2F2ZVN0b3JhZ2UoZmFsc2UpO1xuICAgIH1cbiAgICAvLyBTeW5jIG5ldyBzdGF0cyB3aXRoIG90aGVyc1xuICAgIGlmIChyZWNvcmRTeW5jKVxuICAgIHtcbiAgICAgICAgUmVjb3JkU3luYyhNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0LCBcImxldmVsc1wiKTtcbiAgICB9XG59XG5cbi8qKlxuICogQHBhcmFtIHN0YXQgLSBTdGF0IHRvIG1vZGlmeVxuICogQHBhcmFtIGFtb3VudCAtIE11c3QgYmUgYmV0d2VlbiAtMSBhbmQgMVxuICogQHBhcmFtIGFwcGx5TW9kaWZpZXIgLSBJZiBhcHBseSB0aGUgXCJQZXQgbGlrZVwiIG1vZGlmaWVyXG4gKiBAcGFyYW0gc3RvcmFnZVB1c2ggLSBJZiBzYXZpbmcgdG8gc3RvcmFnZVxuICovXG5leHBvcnQgZnVuY3Rpb24gTW9kaWZ5U3RhdChzdGF0OiBWaXJ0dWFsUGV0U3RhdENhdGVnb3J5LCBhbW91bnQ6IG51bWJlciwgYXBwbHlNb2RpZmllciA9IHRydWUsIHN0b3JhZ2VQdXNoID0gdHJ1ZSwgc291cmNlQ2hhcj86IENoYXJhY3Rlcik6IHZvaWRcbntcbiAgICBpZiAoYW1vdW50IDwgLTEgJiYgYW1vdW50ID4gMSlcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDYWxjdWxhdGUgdGhlIGN1cnJlbnQgc3RhdHMgYmFzZWQgb24gZHJhaW4gYW5kIHRoZW4gYXBwbHkgbW9kaWZpY2F0aW9ucyBhZnRlciBjaGFuZ2luZyB0aG9zZSB2YWx1ZXMgZmlyc3RcbiAgICBMZXZlbFN5bmMoZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG5cbiAgICBQbGF5ZXJWUCgpLmxldmVsc1tzdGF0XSArPSBhbW91bnQgKiAoKGFwcGx5TW9kaWZpZXIgJiYgYW1vdW50ID4gMCkgPyBTdGF0TW9kaWZpZXIoc3RhdCwgc291cmNlQ2hhcikgOiAxKTtcbiAgICBWZXJpZnlWYWxpZFN0YXQoc3RhdCk7XG5cbiAgICAvLyBTYXZlIHRvIGxvY2FsIHN0b3JhZ2VcbiAgICBpZiAoc3RvcmFnZVB1c2gpXG4gICAge1xuICAgICAgICBTYXZlU3RvcmFnZShmYWxzZSk7XG4gICAgfVxuICAgIC8vIFN5bmMgbmV3IHN0YXRzIHdpdGggb3RoZXJzXG4gICAgUmVjb3JkU3luYyhNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0LCBcImxldmVsc1wiKTtcbn1cblxuZXhwb3J0IGNsYXNzIFZpcnR1YWxQZXRNb2R1bGUgZXh0ZW5kcyBNb2R1bGVcbntcbiAgICBnZXQgVGl0bGUoKTogTW9kdWxlVGl0bGVcbiAgICB7XG4gICAgICAgIHJldHVybiBNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0O1xuICAgIH1cblxuICAgIGdldCBBY3Rpdml0aWVzKCk6IEN1c3RvbUFjdGl2aXR5W11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgTmFtZTogXCJCb3dsRWF0XCIsXG4gICAgICAgICAgICAgICAgVGFyZ2V0czogW3tcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IFwiSXRlbU1vdXRoXCIsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkVhdCBGcm9tIEJvd2xcIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uU2VsZjogXCJTb3VyY2VDaGFyYWN0ZXIgZWF0cyBmcm9tIFByb25vdW5Qb3NzZXNzaXZlIGJvd2wuXCJcbiAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgICAgICBJbWFnZTogXCJBc3NldHMvRmVtYWxlM0RDRy9JdGVtRGV2aWNlcy9QcmV2aWV3L1BldEJvd2wucG5nXCIsXG4gICAgICAgICAgICAgICAgUHJlcmVxdWlzaXRlOiBbXCJVc2VNb3V0aFwiXSxcbiAgICAgICAgICAgICAgICBDdXN0b21QcmVyZXF1aXNpdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgTmFtZTogXCJIYXNCb3dsXCIsXG4gICAgICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogKGFjdGluZywgX2FjdGVkLCBfZ3JvdXApID0+XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBJbnZlbnRvcnlHZXQoYWN0aW5nLCBcIkl0ZW1EZXZpY2VzXCIpPy5Bc3NldD8uTmFtZSA9PT0gXCJQZXRCb3dsXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIE9uVHJpZ2dlcjogKCkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChQbGF5ZXJWUCgpLmVuYWJsZWQgJiYgUGxheWVyVlAoKS5mb29kSG91cnMgIT09IDApXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE1vZGlmeVN0YXQoXCJmb29kXCIsIEJPV0xfQ09OU1VNRV9SRUNPVkVSWSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgTmFtZTogXCJCb3dsRHJpbmtcIixcbiAgICAgICAgICAgICAgICBUYXJnZXRzOiBbe1xuICAgICAgICAgICAgICAgICAgICBncm91cDogXCJJdGVtTW91dGhcIixcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiRHJpbmsgRnJvbSBCb3dsXCIsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvblNlbGY6IFwiU291cmNlQ2hhcmFjdGVyIGRyaW5rcyBmcm9tIFByb25vdW5Qb3NzZXNzaXZlIGJvd2wuXCJcbiAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgICAgICBJbWFnZTogXCJBc3NldHMvRmVtYWxlM0RDRy9JdGVtRGV2aWNlcy9QcmV2aWV3L1BldEJvd2wucG5nXCIsXG4gICAgICAgICAgICAgICAgUHJlcmVxdWlzaXRlOiBbXCJVc2VNb3V0aFwiXSxcbiAgICAgICAgICAgICAgICBDdXN0b21QcmVyZXF1aXNpdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgTmFtZTogXCJIYXNCb3dsXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIE9uVHJpZ2dlcjogKCkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChQbGF5ZXJWUCgpLmVuYWJsZWQgJiYgUGxheWVyVlAoKS53YXRlckhvdXJzICE9PSAwKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBNb2RpZnlTdGF0KFwid2F0ZXJcIiwgQk9XTF9DT05TVU1FX1JFQ09WRVJZLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBOYW1lOiBcIkJvd2xFYXQyXCIsXG4gICAgICAgICAgICAgICAgVGFyZ2V0czogW3tcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IFwiSXRlbU1vdXRoXCIsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkVhdCBGcm9tIEJvd2xcIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uU2VsZjogXCJTb3VyY2VDaGFyYWN0ZXIgcHV0cyBQcm9ub3VuUG9zc2Vzc2l2ZSBoZWFkIGludG8gUHJvbm91blBvc3Nlc3NpdmUgYm93bCBpbiBvcmRlciB0byBlYXQgd2l0aCB0aGUgZ2FnLCBtYWtpbmcgYSBtZXNzLlwiXG4gICAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAgICAgSW1hZ2U6IFwiQXNzZXRzL0ZlbWFsZTNEQ0cvSXRlbURldmljZXMvUHJldmlldy9QZXRCb3dsLnBuZ1wiLFxuICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogW10sXG4gICAgICAgICAgICAgICAgQ3VzdG9tUHJlcmVxdWlzaXRlOiBbXG4gICAgICAgICAgICAgICAgICAgIHsgTmFtZTogXCJIYXNCb3dsXCIgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgTmFtZTogXCJVc2VUb25ndWVOb01vdXRoXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBQcmVyZXF1aXNpdGU6IChhY3RpbmcsIF9hY3RlZCwgX2dyb3VwKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhYWN0aW5nLkNhblRhbGsoKSAmJiAhYWN0aW5nLklzTW91dGhCbG9ja2VkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIE9uVHJpZ2dlcjogKCkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChQbGF5ZXJWUCgpLmVuYWJsZWQgJiYgUGxheWVyVlAoKS5mb29kSG91cnMgIT09IDApXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE1vZGlmeVN0YXQoXCJmb29kXCIsIEJPV0xfQ09OU1VNRV9SRUNPVkVSWSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgTmFtZTogXCJCb3dsRHJpbmsyXCIsXG4gICAgICAgICAgICAgICAgVGFyZ2V0czogW3tcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IFwiSXRlbU1vdXRoXCIsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkRyaW5rIEZyb20gQm93bFwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25TZWxmOiBcIlNvdXJjZUNoYXJhY3RlciBwdXRzIFByb25vdW5Qb3NzZXNzaXZlIGhlYWQgaW50byBQcm9ub3VuUG9zc2Vzc2l2ZSBib3dsIGluIG9yZGVyIHRvIGRyaW5rIHdpdGggdGhlIGdhZywgbWFraW5nIGEgbWVzcy5cIlxuICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgICAgIEltYWdlOiBcIkFzc2V0cy9GZW1hbGUzRENHL0l0ZW1EZXZpY2VzL1ByZXZpZXcvUGV0Qm93bC5wbmdcIixcbiAgICAgICAgICAgICAgICBQcmVyZXF1aXNpdGU6IFtdLFxuICAgICAgICAgICAgICAgIEN1c3RvbVByZXJlcXVpc2l0ZTogW1xuICAgICAgICAgICAgICAgICAgICB7IE5hbWU6IFwiSGFzQm93bFwiIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgTmFtZTogXCJVc2VUb25ndWVOb01vdXRoXCIgfVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgT25UcmlnZ2VyOiAoKSA9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFBsYXllclZQKCkuZW5hYmxlZCAmJiBQbGF5ZXJWUCgpLndhdGVySG91cnMgIT09IDApXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE1vZGlmeVN0YXQoXCJ3YXRlclwiLCBCT1dMX0NPTlNVTUVfUkVDT1ZFUlksIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuICAgIH1cblxuICAgIGdldCBTZXR0aW5ncygpOiBTZXR0aW5nW11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJlbmFibGVkXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICFJc0hhcmRjb3JlT24oQyksXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkJlY29tZSBhIHZpcnR1YWwgcGV0ISBSZXF1aXJpbmc6IGZvb2QsIHdhdGVyLCBzbGVlcCwgYW5kIGFmZmVjdGlvblwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiZm9vZEhvdXJzXCIgYXMgVmlydHVhbFBldEhvdXJDYXRlZ29yaWVzLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IDQsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkhvdyBtYW55IGhvdXJzIHVudGlsIHlvdSBhcmUgY29tcGxldGVseSBvdXQgb2YgZm9vZDsgMCB0byBkaXNhYmxlXCIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IDEyOCxcbiAgICAgICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICAgICAgbWF4OiBNQVhfU0VUVElOR19USU1FX0hPVVJTLFxuICAgICAgICAgICAgICAgIHN0ZXA6IDAuMVxuICAgICAgICAgICAgfSBhcyBOdW1iZXJTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJ3YXRlckhvdXJzXCIgYXMgVmlydHVhbFBldEhvdXJDYXRlZ29yaWVzLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IDQsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkhvdyBtYW55IGhvdXJzIHVudGlsIHlvdSBhcmUgY29tcGxldGVseSBvdXQgb2Ygd2F0ZXI7IDAgdG8gZGlzYWJsZVwiLFxuICAgICAgICAgICAgICAgIHdpZHRoOiAxMjgsXG4gICAgICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgICAgIG1heDogTUFYX1NFVFRJTkdfVElNRV9IT1VSUyxcbiAgICAgICAgICAgICAgICBzdGVwOiAwLjFcbiAgICAgICAgICAgIH0gYXMgTnVtYmVyU2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwic2xlZXBIb3Vyc1wiIGFzIFZpcnR1YWxQZXRIb3VyQ2F0ZWdvcmllcyxcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiA4LFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJIb3cgbWFueSBob3VycyB1bnRpbCB5b3UgYXJlIGNvbXBsZXRlbHkgb3V0IG9mIHNsZWVwOyAwIHRvIGRpc2FibGVcIixcbiAgICAgICAgICAgICAgICB3aWR0aDogMTI4LFxuICAgICAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgICAgICBtYXg6IE1BWF9TRVRUSU5HX1RJTUVfSE9VUlMsXG4gICAgICAgICAgICAgICAgc3RlcDogMC4xXG4gICAgICAgICAgICB9IGFzIE51bWJlclNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImFmZmVjdGlvbkhvdXJzXCIgYXMgVmlydHVhbFBldEhvdXJDYXRlZ29yaWVzLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IDQsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkhvdyBtYW55IGhvdXJzIHVudGlsIHlvdSBhcmUgY29tcGxldGVseSBvdXQgb2YgYWZmZWN0aW9uOyAwIHRvIGRpc2FibGVcIixcbiAgICAgICAgICAgICAgICB3aWR0aDogMTI4LFxuICAgICAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgICAgICBtYXg6IE1BWF9TRVRUSU5HX1RJTUVfSE9VUlMsXG4gICAgICAgICAgICAgICAgc3RlcDogMC4xXG4gICAgICAgICAgICB9IGFzIE51bWJlclNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIm9mZmxpbmVEcmFpblwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiU3RhdHMgZHJhaW4gZXZlbiB3aGVuIGxvZ2dlZCBvdXQgb2YgdGhlIGNsdWJcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIm5vSGFuZHNcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkICYmICFJc0hhcmRjb3JlT24oQyksXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWxsb3cgZWF0aW5nIG9yIGRyaW5raW5nIGZyb20gaXRlbXMgaW4geW91ciBPV04gaGFuZHNcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIm1hc29jaGlzdFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIk1hc29jaGlzdCBwZXQ7IEFidXNlIHJhaXNlcyBhZmZlY3Rpb25cIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImxldmVsc1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwicmVjb3JkXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgZm9vZDogMSxcbiAgICAgICAgICAgICAgICAgICAgd2F0ZXI6IDEsXG4gICAgICAgICAgICAgICAgICAgIHNsZWVwOiAxLFxuICAgICAgICAgICAgICAgICAgICBhZmZlY3Rpb246IDEsXG4gICAgICAgICAgICAgICAgICAgIGxhc3RVcGRhdGVkOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgICAgICAgICBsYXN0T25saW5lOiBEYXRlLm5vdygpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBhcyBTZXR0aW5nXG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgTG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5Mb2FkKCk7XG5cbiAgICAgICAgLy8gTG9naW4gbGV2ZWwgc3luY1xuICAgICAgICBTbGVlcENoYW5nZUNoZWNrKGZhbHNlKTtcbiAgICAgICAgTGV2ZWxTeW5jKHRydWUsIGZhbHNlLCB0cnVlKTtcbiAgICAgICAgbGFzdE9ubGluZUludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKFBsYXllci5NZW1iZXJOdW1iZXIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgUGxheWVyLk1QQVt0aGlzLlRpdGxlXS5sZXZlbHMubGFzdE9ubGluZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgU2F2ZVN0b3JhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBMQVNUX09OTElORV9JTlRFUlZBTF9NUyk7XG5cbiAgICAgICAgLy8gTm9tcyBhbmQgZHJpbmtzXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIkNoYXRSb29tTWVzc2FnZVwiLCAwLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGFyZ3NbMF07XG4gICAgICAgICAgICBjb25zdCBhY3Rpdml0eU5hbWUgPSBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJBY3Rpdml0eU5hbWVcIik7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgIVBsYXllclZQKCkuZW5hYmxlZFxuICAgICAgICAgICAgICAgIHx8ICghUGxheWVyVlAoKS5ub0hhbmRzXG4gICAgICAgICAgICAgICAgJiYgR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiU291cmNlQ2hhcmFjdGVyXCIpID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyKVxuICAgICAgICAgICAgICAgIHx8IGRhdGEuVHlwZSAhPT0gXCJBY3Rpdml0eVwiXG4gICAgICAgICAgICAgICAgfHwgR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiVGFyZ2V0Q2hhcmFjdGVyXCIpICE9PSBQbGF5ZXIuTWVtYmVyTnVtYmVyXG4gICAgICAgICAgICAgICAgfHwgR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiRm9jdXNHcm91cE5hbWVcIikgIT09IFwiSXRlbU1vdXRoXCJcbiAgICAgICAgICAgICAgICB8fCAhYWN0aXZpdHlOYW1lXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEdldCBhY3Rpdml0eSBhbmQgY2hlY2sgcHJlcmVxdWlzaXRlc1xuICAgICAgICAgICAgY29uc3QgYWN0aXZpdHkgPSBBY3Rpdml0eUZlbWFsZTNEQ0cuZmluZCgoeCkgPT4geC5OYW1lID09PSBhY3Rpdml0eU5hbWUpO1xuXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgUGxheWVyVlAoKS5mb29kSG91cnMgIT09IDBcbiAgICAgICAgICAgICAgICAmJiAoYWN0aXZpdHk/LlByZXJlcXVpc2l0ZT8uaW5jbHVkZXMoXCJOZWVkcy1FYXRJdGVtXCIpXG4gICAgICAgICAgICAgICAgfHwgQUNUSVZJVElFU19GT09EX0dBSU4uc29tZSgoeCkgPT4gYWN0aXZpdHk/Lk5hbWUgPT09IHgpKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIE1vZGlmeVN0YXQoXCJmb29kXCIsIElURU1fQ09OVU1FX1JFQ09WRVJZLCB0cnVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIFBsYXllclZQKCkud2F0ZXJIb3VycyAhPT0gMFxuICAgICAgICAgICAgICAgICYmIChhY3Rpdml0eT8uUHJlcmVxdWlzaXRlPy5pbmNsdWRlcyhcIk5lZWRzLVNpcEl0ZW1cIilcbiAgICAgICAgICAgICAgICB8fCBBQ1RJVklUSUVTX1dBVEVSX0dBSU4uc29tZSgoeCkgPT4gYWN0aXZpdHk/Lk5hbWUgPT09IHgpKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIE1vZGlmeVN0YXQoXCJ3YXRlclwiLCBJVEVNX0NPTlVNRV9SRUNPVkVSWSwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBTbGVlcFxuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJDaGFyYWN0ZXJSZWZyZXNoXCIsIDAsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoYXJnc1swXS5NZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgU2xlZXBDaGFuZ2VDaGVjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEFmZmVjdGlvblxuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJDaGF0Um9vbU1lc3NhZ2VcIiwgMCwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhcmdzWzBdO1xuICAgICAgICAgICAgY29uc3QgYWN0aXZpdHlOYW1lID0gR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiQWN0aXZpdHlOYW1lXCIpO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICFQbGF5ZXJWUCgpLmVuYWJsZWRcbiAgICAgICAgICAgICAgICB8fCBQbGF5ZXJWUCgpLmFmZmVjdGlvbkhvdXJzID09PSAwXG4gICAgICAgICAgICAgICAgfHwgZGF0YS5UeXBlICE9PSBcIkFjdGl2aXR5XCJcbiAgICAgICAgICAgICAgICB8fCBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJUYXJnZXRDaGFyYWN0ZXJcIikgIT09IFBsYXllci5NZW1iZXJOdW1iZXJcbiAgICAgICAgICAgICAgICB8fCBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJTb3VyY2VDaGFyYWN0ZXJcIikgPT09IFBsYXllci5NZW1iZXJOdW1iZXJcbiAgICAgICAgICAgICAgICB8fCAhYWN0aXZpdHlOYW1lXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGdyb3VwID0gR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiRm9jdXNHcm91cE5hbWVcIikgYXMgc3RyaW5nID8/IFwiXCI7XG4gICAgICAgICAgICBjb25zdCBncm91cE11bHQgPSBBRkZFQ1RJT05fWk9ORV9BRkZFQ1RJT05bZ3JvdXBdID8/IDE7XG4gICAgICAgICAgICBpZiAoQUZGRUNUSU9OX0FDVElWSVRZX0xPVkUuaW5jbHVkZXMoYWN0aXZpdHlOYW1lKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBNb2RpZnlTdGF0KFwiYWZmZWN0aW9uXCIsIEFGRkVDVElPTl9MT1ZFX0JBU0UgKiBncm91cE11bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoQUZGRUNUSU9OX0FDVElWSVRZX0xJS0UuaW5jbHVkZXMoYWN0aXZpdHlOYW1lKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBNb2RpZnlTdGF0KFwiYWZmZWN0aW9uXCIsIEFGRkVDVElPTl9MSUtFX0JBU0UgKiBncm91cE11bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoQUZGRUNUSU9OX0FDVElWSVRZX01BU08uaW5jbHVkZXMoYWN0aXZpdHlOYW1lKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBNb2RpZnlTdGF0KFwiYWZmZWN0aW9uXCIsIChQbGF5ZXJWUCgpLm1hc29jaGlzdCA/IC0xIDogMSkgKiBBRkZFQ1RJT05fTUFTT19CQVNFICogZ3JvdXBNdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBVbmxvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3VwZXIuVW5sb2FkKCk7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwobGFzdE9ubGluZUludGVydmFsKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBSYW5kb21FbGVtZW50IH0gZnJvbSBcIi4uL3V0aWwvZ2VuZXJhbFwiO1xuaW1wb3J0IHsgU2VuZEFjdGlvbiB9IGZyb20gXCIuLi91dGlsL21lc3NhZ2luZ1wiO1xuaW1wb3J0IHsgSG9va0Z1bmN0aW9uIH0gZnJvbSBcIi4uL3V0aWwvc2RrXCI7XG5pbXBvcnQgeyBNb2R1bGUsIE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4vX21vZHVsZVwiO1xuaW1wb3J0IHsgSXNIYXJkY29yZU9uIH0gZnJvbSBcIi4vcHJvZmlsZVwiO1xuaW1wb3J0IHsgR2V0Q2hhcmFjdGVyQ3VycmVudFN0YXRWYWx1ZSwgVmlydHVhbFBldFN0YXRDYXRlZ29yeSB9IGZyb20gXCIuL3ZpcnR1YWxQZXRcIjtcblxuY29uc3QgUGxheWVyVlA6IChDPzogQ2hhcmFjdGVyKSA9PiBNUEFSZWNvcmQgPSAoQzogQ2hhcmFjdGVyID0gUGxheWVyKSA9Plxue1xuICAgIHJldHVybiBDLk1QQT8uW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdID8/IHt9O1xufTtcblxuY29uc3QgUGxheWVyVlBDOiAoQz86IENoYXJhY3RlcikgPT4gTVBBUmVjb3JkID0gKEM6IENoYXJhY3RlciA9IFBsYXllcikgPT5cbntcbiAgICByZXR1cm4gQy5NUEE/LltNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9uc10gPz8ge307XG59O1xuXG4vKipcbiAqIENoZWNrIGlmIGEgY29uZGl0aW9uIGlzIGN1cnJlbnRseSBlbmZvcmNlZCwgY2hlY2tpbmcgaWYgZW5hYmxlZCBhbmQgaWYgaXQgcmVsaWVzIG9uIGEgVlAgc3RhdCwgdGhhdCB0aGUgc3RhdCBpcyBzZXRcbiAqL1xuZnVuY3Rpb24gQ29uZGl0aW9uSXNFbmZvcmNlZChjb25kaXRpb246IHN0cmluZywgdnBTdGF0TmVlZFRvQmVFbmFibGVkPzogVmlydHVhbFBldFN0YXRDYXRlZ29yeSk6IGJvb2xlYW5cbntcbiAgICBpZiAoIVBsYXllclZQQygpLmVuYWJsZWQgfHwgIShQbGF5ZXJWUEMoKVtjb25kaXRpb25dKSlcbiAgICB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuICghdnBTdGF0TmVlZFRvQmVFbmFibGVkIHx8IChQbGF5ZXJWUCgpLmVuYWJsZWQgJiYgUGxheWVyVlAoKT8uW2Ake3ZwU3RhdE5lZWRUb0JlRW5hYmxlZH1Ib3Vyc2BdICE9PSAwKSk7XG59O1xuXG4vKiogW1NraWxsLCBwb3N0aXZlIG9yIG5lZ2F0aXZlIGNvcnJsYXRpb25dICovXG5jb25zdCBBRkZFQ1RJT05fU0tJTExTOiBbU2tpbGxUeXBlLCBib29sZWFuXVtdID1cbltcbiAgICBbXCJTZWxmQm9uZGFnZVwiLCB0cnVlXSxcbiAgICBbXCJXaWxscG93ZXJcIiwgdHJ1ZV0sXG4gICAgW1wiQm9uZGFnZVwiLCBmYWxzZV0sXG4gICAgW1wiRXZhc2lvblwiLCBmYWxzZV0sXG4gICAgW1wiTG9ja1BpY2tpbmdcIiwgZmFsc2VdXG5dO1xuXG5pbnRlcmZhY2UgT25TdGF0Q2hhbmdlRXZlbnRcbntcbiAgICBzdGF0OiBWaXJ0dWFsUGV0U3RhdENhdGVnb3J5O1xuICAgIHRocmVzaGhvbGQ6IG51bWJlcjtcbiAgICBjaGFuZ2U6IFwicmlzaW5nXCIgfCBcImZhbGxpbmdcIiB8IFwiYm90aFwiO1xuICAgIGFjdGlvbjogKCkgPT4gdm9pZDtcbiAgICBmaXJzdFJ1bj86ICgpID0+IHZvaWQ7XG59XG5jb25zdCBwcmV2aW91c1N0YXRzOiBSZWNvcmQ8VmlydHVhbFBldFN0YXRDYXRlZ29yeSwgbnVtYmVyPiA9IHtcbiAgICBmb29kOiAtMSxcbiAgICB3YXRlcjogLTEsXG4gICAgc2xlZXA6IC0xLFxuICAgIGFmZmVjdGlvbjogLTFcbn07XG5sZXQgb25TdGF0TGV2ZWw6IE9uU3RhdENoYW5nZUV2ZW50W10gPSBbXTtcbi8vIExpc3RlbnMgZm9yIGNoYW5nZXMgZXZlcnkgfjEuNSBzZWNvbmRzXG5jb25zdCBTVEFUX0NPVU5UX01BWCA9IDI1MDtcbmxldCBzdGF0Q291bnQgPSBTVEFUX0NPVU5UX01BWDtcbmV4cG9ydCBmdW5jdGlvbiBDb25kaXRpb25DaGVjaygpOiB2b2lkXG57XG4gICAgKFtcImZvb2RcIiwgXCJ3YXRlclwiLCBcImFmZmVjdGlvblwiLCBcInNsZWVwXCJdIGFzIFZpcnR1YWxQZXRTdGF0Q2F0ZWdvcnlbXSkuZm9yRWFjaCgoY2F0ZWdvcnkpID0+XG4gICAge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICBQbGF5ZXJWUCgpLmVuYWJsZWRcbiAgICAgICAgICAgICYmIFBsYXllclZQQygpLmVuYWJsZWRcbiAgICAgICAgICAgICYmIFBsYXllclZQKClbYCR7Y2F0ZWdvcnl9SG91cnNgXSAhPT0gMFxuICAgICAgICApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHByZXZWYWx1ZSA9IHByZXZpb3VzU3RhdHNbY2F0ZWdvcnldO1xuICAgICAgICAgICAgY29uc3QgY3VyclZhbHVlID0gR2V0Q2hhcmFjdGVyQ3VycmVudFN0YXRWYWx1ZShQbGF5ZXIsIGNhdGVnb3J5KTtcbiAgICAgICAgICAgIG9uU3RhdExldmVsLmZvckVhY2goKGNoYW5nZUV2ZW50KSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlRXZlbnQuc3RhdCA9PT0gY2F0ZWdvcnlcbiAgICAgICAgICAgICAgICAgICAgJiYgcHJldlZhbHVlID09PSAtMVxuICAgICAgICAgICAgICAgICAgICAmJiAhIWNoYW5nZUV2ZW50LmZpcnN0UnVuXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlRXZlbnQuZmlyc3RSdW4oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VFdmVudC5zdGF0ID09PSBjYXRlZ29yeVxuICAgICAgICAgICAgICAgICAgICAmJiBwcmV2VmFsdWUgIT09IC0xXG4gICAgICAgICAgICAgICAgICAgICYmIHByZXZWYWx1ZSA+IGN1cnJWYWx1ZSAvLyBGYWxsaW5nXG4gICAgICAgICAgICAgICAgICAgICYmIGNoYW5nZUV2ZW50LmNoYW5nZSAhPT0gXCJyaXNpbmdcIlxuICAgICAgICAgICAgICAgICAgICAmJiBjdXJyVmFsdWUgPD0gY2hhbmdlRXZlbnQudGhyZXNoaG9sZFxuICAgICAgICAgICAgICAgICAgICAmJiBjaGFuZ2VFdmVudC50aHJlc2hob2xkIDwgcHJldlZhbHVlXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlRXZlbnQuYWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlRXZlbnQuc3RhdCA9PT0gY2F0ZWdvcnlcbiAgICAgICAgICAgICAgICAgICAgJiYgcHJldlZhbHVlICE9PSAtMVxuICAgICAgICAgICAgICAgICAgICAmJiBwcmV2VmFsdWUgPCBjdXJyVmFsdWUgLy8gUmlzaW5nXG4gICAgICAgICAgICAgICAgICAgICYmIGNoYW5nZUV2ZW50LmNoYW5nZSAhPT0gXCJmYWxsaW5nXCJcbiAgICAgICAgICAgICAgICAgICAgJiYgcHJldlZhbHVlIDwgY2hhbmdlRXZlbnQudGhyZXNoaG9sZFxuICAgICAgICAgICAgICAgICAgICAmJiBjaGFuZ2VFdmVudC50aHJlc2hob2xkIDw9IGN1cnJWYWx1ZVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZUV2ZW50LmFjdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcHJldmlvdXNTdGF0c1tjYXRlZ29yeV0gPSBjdXJyVmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBwcmV2aW91c1N0YXRzW2NhdGVnb3J5XSA9IC0xO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmNvbnN0IFNMRUVQX1RJTlQgPSB7XG4gICAgc3RhdDogXCJzbGVlcFwiIGFzIFZpcnR1YWxQZXRTdGF0Q2F0ZWdvcnksXG4gICAgc3RhcnRMZXZlbDogMC4yNSxcbiAgICBlbmRMZXZlbDogMCxcbiAgICBtaW5UaW50OiAwLFxuICAgIG1heFRpbnQ6IDFcbn07XG5cbmxldCBwYXNzZWRPdXQgPSBmYWxzZTtcbmNvbnN0IFBBU1NPVVRfVEFMS19SRVBMQUNFOiBzdHJpbmdbXSA9IFtcbiAgICBcIlNvdXJjZUNoYXJhY3RlciBkcm9vbHMgb3V0IG9mIHRoZSBjb3JuZXIgb2YgUHJvbm91blBvc3Nlc3NpdmUgbGlwIGFzIFByb25vdW5TdWJqZWN0IHNsZWVwcy5cIixcbiAgICBcIlNvdXJjZUNoYXJhY3RlciBtdW1ibGVzIHF1aWV0bHkgaW4gUHJvbm91blBvc3Nlc3NpdmUgc2x1bWJlci5cIixcbiAgICBcIlNvdXJjZUNoYXJhY3RlciByZXN0cyBwZWFjZWZ1bGx5LlwiXG5dO1xuZnVuY3Rpb24gTVBBUGFzc291dCgpOiB2b2lkXG57XG4gICAgQ2hhcmFjdGVyU2V0RmFjaWFsRXhwcmVzc2lvbihQbGF5ZXIsIFwiRW1vdGljb25cIiwgXCJTbGVlcFwiKTtcbiAgICBDaGFyYWN0ZXJTZXRGYWNpYWxFeHByZXNzaW9uKFBsYXllciwgXCJFeWVzXCIsIFwiQ2xvc2VkXCIpO1xuICAgIENoYXJhY3RlclNldEZhY2lhbEV4cHJlc3Npb24oUGxheWVyLCBcIkZsdWlkc1wiLCBcIkRyb29sTWVkaXVtXCIpO1xuICAgIGlmIChQbGF5ZXIuQ2FuS25lZWwoKSlcbiAgICB7XG4gICAgICAgIFBvc2VTZXRBY3RpdmUoUGxheWVyLCBcIktuZWVsXCIsIHRydWUpO1xuICAgIH1cbiAgICBwYXNzZWRPdXQgPSB0cnVlO1xuXG4gICAgY29uc3Qgc2xlZXBNb2R1bGUgPSBQbGF5ZXI/LkxTQ0c/LlN0YXRlTW9kdWxlPy5zdGF0ZXM/LmZpbmQoKHgpID0+IHgudHlwZSA9PT0gXCJhc2xlZXBcIik7XG4gICAgaWYgKFBsYXllclZQQygpLnBhc3NvdXRMU0NHICYmIHNsZWVwTW9kdWxlKVxuICAgIHtcbiAgICAgICAgLypcbiAgICAgICAgdGhpcy5zdGF0ZU1vZHVsZS5TbGVlcFN0YXRlLkFjdGl2YXRlKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBkb0Vtb3RlKTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5zdGF0cy5zZWRhdGVkQ291bnQrKztcbiAgICAgICAgQWN0aXZhdGUobWVtYmVyTnVtYmVyPzogbnVtYmVyLCBkdXJhdGlvbj86IG51bWJlciwgZW1vdGU/OiBib29sZWFuKTogQmFzZVN0YXRlIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5BY3RpdmUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZW1vdGUpXG4gICAgICAgICAgICAgICAgICAgIFNlbmRBY3Rpb24oXCIlTkFNRSUgc2x1bXBzIHdlYWtseSBhcyAlUFJPTk9VTiUgc2xpcHMgaW50byB1bmNvbmNpb3VzbmVzcy5cIik7XG4gICAgICAgICAgICAgICAgdGhpcy5TZXRTbGVlcEV4cHJlc3Npb24oKTtcbiAgICAgICAgICAgICAgICB0aGlzLkZhbGxEb3duSWZQb3NzaWJsZSgpO1xuICAgICAgICAgICAgICAgIGFkZEN1c3RvbUVmZmVjdChQbGF5ZXIsIFwiRm9yY2VLbmVlbFwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3VwZXIuQWN0aXZhdGUobWVtYmVyTnVtYmVyLCBkdXJhdGlvbiwgZW1vdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIEFjdGl2YXRlKG1lbWJlck51bWJlcj86IG51bWJlciwgZHVyYXRpb24/OiBudW1iZXIsIGVtb3RlPzogYm9vbGVhbik6IEJhc2VTdGF0ZSB8IHVuZGVmaW5lZCB7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5hY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5jb25maWcuYWN0aXZhdGVkQXQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLmFjdGl2YXRlZEJ5ID0gbWVtYmVyTnVtYmVyID8/IC0xO1xuICAgICAgICAgICAgdGhpcy5jb25maWcuYWN0aXZhdGlvbkNvdW50Kys7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5kdXJhdGlvbiA9IGR1cmF0aW9uO1xuXG4gICAgICAgICAgICBzZXR0aW5nc1NhdmUodHJ1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICAqL1xuICAgICAgICBjb25zb2xlLmxvZyhcIkNhbGxpbmcgTFNDRyBwYXNzb3V0XCIpO1xuICAgIH1cbiAgICBTZW5kQWN0aW9uKFwiU291cmNlQ2hhcmFjdGVyIHBhc3NlcyBvdXQgZnJvbSBleGhhdXN0aW9uLlwiLCB1bmRlZmluZWQsIFt7IFNvdXJjZUNoYXJhY3RlcjogUGxheWVyLk1lbWJlck51bWJlciB9IGFzIFNvdXJjZUNoYXJhY3RlckRpY3Rpb25hcnlFbnRyeV0pO1xufVxuZnVuY3Rpb24gTVBBV2FrZXVwKCk6IHZvaWRcbntcbiAgICBDaGFyYWN0ZXJTZXRGYWNpYWxFeHByZXNzaW9uKFBsYXllciwgXCJFbW90aWNvblwiLCBudWxsKTtcbiAgICBDaGFyYWN0ZXJTZXRGYWNpYWxFeHByZXNzaW9uKFBsYXllciwgXCJFeWVzXCIsIFwiRGF6ZWRcIik7XG4gICAgQ2hhcmFjdGVyU2V0RmFjaWFsRXhwcmVzc2lvbihQbGF5ZXIsIFwiRXllYnJvd3NcIiwgXCJMb3dlcmVkXCIpO1xuXG4gICAgcGFzc2VkT3V0ID0gZmFsc2U7XG4gICAgU2VuZEFjdGlvbihcIlNvdXJjZUNoYXJhY3RlciB3YWtlcyB1cCBmcm9tIFByb25vdW5Qb3NzZXNzaXZlIG5hcC5cIiwgdW5kZWZpbmVkLCBbeyBTb3VyY2VDaGFyYWN0ZXI6IFBsYXllci5NZW1iZXJOdW1iZXIgfSBhcyBTb3VyY2VDaGFyYWN0ZXJEaWN0aW9uYXJ5RW50cnldKTtcbn1cbmZ1bmN0aW9uIFBhc3NvdXRDaGVjaygpOiBib29sZWFuXG57XG4gICAgcmV0dXJuIChQbGF5ZXJWUEMoKS5lbmFibGVkXG4gICAgICAmJiBQbGF5ZXJWUCgpLnNsZWVwSG91cnMgIT09IDBcbiAgICAgICYmIFBsYXllclZQQygpLnBhc3NvdXRcbiAgICAgICYmICFQbGF5ZXJWUEMoKS5wYXNzb3V0TFNDR1xuICAgICAgJiYgcGFzc2VkT3V0KTtcbn1cblxubGV0IGFmZmVjdGlvbkNoZWNrSW50ZXJ2YWw6IG51bWJlcjtcbmNvbnN0IHNraWxsRHVyYXRpb25NUyA9IDE1MDAwO1xuZnVuY3Rpb24gQWZmZWN0aW9uU2tpbGxDaGVjaygpOiB2b2lkXG57XG4gICAgaWYgKFxuICAgICAgICAhUGxheWVyVlAoKS5lbmFibGVkXG4gICAgICAgIHx8IFBsYXllclZQKCkuYWZmZWN0aW9uSG91cnMgPT09IDBcbiAgICAgICAgfHwgIVBsYXllclZQQygpLmVuYWJsZWRcbiAgICApXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgQUZGRUNUSU9OX1NLSUxMUy5mb3JFYWNoKChbc2tpbGwsIHR5cGVdKSA9PlxuICAgIHtcbiAgICAgICAgY29uc3QgYWZmZWN0aW9uID0gR2V0Q2hhcmFjdGVyQ3VycmVudFN0YXRWYWx1ZShQbGF5ZXIsIFwiYWZmZWN0aW9uXCIpO1xuICAgICAgICBjb25zdCBhZmZlY3Rpb25Nb2RpZmllciA9IE1hdGgucm91bmQoKCgoYWZmZWN0aW9uKSAqICg1IC0gKC01KSkpIC8gKDEpICsgKC01KSkgKiAodHlwZSA/IDEgOiAtMSkgKiAxMDApIC8gMTAwO1xuXG4gICAgICAgIGNvbnN0IHByZXZNb2QgPSBTa2lsbEdldE1vZGlmaWVyKFBsYXllciwgc2tpbGwpO1xuICAgICAgICBjb25zdCBkdXJhdGlvbiA9IFNraWxsR2V0TW9kaWZpZXJEdXJhdGlvbihQbGF5ZXIsIHNraWxsKSAhPT0gMCA/IFNraWxsR2V0TW9kaWZpZXJEdXJhdGlvbihQbGF5ZXIsIHNraWxsKSA6IHNraWxsRHVyYXRpb25NUztcbiAgICAgICAgaWYgKGFmZmVjdGlvbk1vZGlmaWVyID4gMCAmJiBQbGF5ZXJWUEMoKS5hZmZlY3Rpb25Ta2lsbEJ1ZmZzKVxuICAgICAgICB7XG4gICAgICAgICAgICBTa2lsbFNldE1vZGlmaWVyKFBsYXllciwgc2tpbGwsIHByZXZNb2QgKyBhZmZlY3Rpb25Nb2RpZmllciwgZHVyYXRpb24sIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWZmZWN0aW9uTW9kaWZpZXIgPCAwICYmIFBsYXllclZQQygpLmFmZmVjdGlvblNraWxsRGVidWZmcylcbiAgICAgICAge1xuICAgICAgICAgICAgU2tpbGxTZXRNb2RpZmllcihQbGF5ZXIsIHNraWxsLCBwcmV2TW9kICsgYWZmZWN0aW9uTW9kaWZpZXIsIGR1cmF0aW9uLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuY29uc3QgTUFYX1NMT1dfTEVBVkVfRFVSQVRJT05fU0VDID0gMjU7XG5jb25zdCBTTE9XX0xFQVZFX0xFVkVMX1NUQVJUID0gMC4zO1xuXG5leHBvcnQgY2xhc3MgVmlydHVhbFBldENvbmRpdGlvbnNNb2R1bGUgZXh0ZW5kcyBNb2R1bGVcbntcbiAgICBnZXQgVGl0bGUoKTogTW9kdWxlVGl0bGVcbiAgICB7XG4gICAgICAgIHJldHVybiBNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9ucztcbiAgICB9XG5cbiAgICBnZXQgU2V0dGluZ3MoKTogU2V0dGluZ1tdXG4gICAge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiZW5hYmxlZFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQgJiYgIUlzSGFyZGNvcmVPbihDKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiUmVjaXZlIGNvbmRpdGlvbnMgYmFzZWQgb24gY3VycmVudCBsZXZlbCBvZiB5b3VyIHZpcnR1YWwgcGV0IHN0YXRzXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJmb29kTk9XXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCAmJiAhIVBsYXllclZQQyhDKS5lbmFibGVkICYmICFJc0hhcmRjb3JlT24oQyksXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiRm9vZCBhbmQgd2F0ZXIgYWZmZWN0cyBhZmZlY3Rpb24gZ2FpblwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwidGludFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQgJiYgISFQbGF5ZXJWUEMoQykuZW5hYmxlZCAmJiAhSXNIYXJkY29yZU9uKEMpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIlZpc2lvbiBkYXJrZW5zIGFzIHlvdSBnZXQgc2xlZXBpZXJcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInBhc3NvdXRcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkICYmICEhUGxheWVyVlBDKEMpLmVuYWJsZWQgJiYgIUlzSGFyZGNvcmVPbihDKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJQYXNzb3V0IHdoZW4gZXhoYXVzdGVkXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCAvKiB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJwYXNzb3V0TFNDR1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQgJiYgISFQbGF5ZXJWUEMoQykuZW5hYmxlZCAmJiAhIVBsYXllclZQQyhDKS5wYXNzb3V0ICYmICEhQy5MU0NHICYmICFJc0hhcmRjb3JlT24oQykgJiYgZmFsc2UsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIlVzZSBMU0NHIHBhc3NvdXQgaW5zdGVhZCBvZiBNUEE7IFJlcXVpcmVzIExTQ0dcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsICovIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImFmZmVjdGlvblNraWxsQnVmZnNcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkICYmICEhUGxheWVyVlBDKEMpLmVuYWJsZWQgJiYgIUlzSGFyZGNvcmVPbihDKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBZmZlY3Rpb24gd2lsbCBidWZmIHNraWxscyBiYXNlZCBvbiBpdHMgbGV2ZWxcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImFmZmVjdGlvblNraWxsRGVidWZmc1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQgJiYgISFQbGF5ZXJWUEMoQykuZW5hYmxlZCAmJiAhSXNIYXJkY29yZU9uKEMpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkFmZmVjdGlvbiB3aWxsIGRlYnVmZiBza2lsbHMgYmFzZWQgb24gaXRzIGxldmVsXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJoZWFyaW5nTG9zc1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQgJiYgISFQbGF5ZXJWUEMoQykuZW5hYmxlZCAmJiAhSXNIYXJkY29yZU9uKEMpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkhlYXJpbmcgYmVjb21lcyBoYXJkZXIgdGhlIGh1bmdyaWVyIHlvdSBhcmVcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNsb3dMZWF2ZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQgJiYgISFQbGF5ZXJWUEMoQykuZW5hYmxlZCAmJiAhSXNIYXJkY29yZU9uKEMpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIlRha2VzIGxvbmdlciB0byBsZWF2ZSB0aGUgcm9vbSB3aGVuIGh1bmdyeVwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZ1xuICAgICAgICBdO1xuICAgIH1cblxuICAgIExvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgLy8gQ2hlY2sgZm9yIGNvbmRpdGlvbiBjaGFuZ2VzIGV2ZXJ5IHNvIG9mdGVuXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIkdhbWVSdW5cIiwgMCwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChzdGF0Q291bnQgPj0gU1RBVF9DT1VOVF9NQVgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgQ29uZGl0aW9uQ2hlY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0YXRDb3VudCsrO1xuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEVlcHkgdGludFxuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJQbGF5ZXIuR2V0VGludHNcIiwgMCwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIE5vdCBlbmFibGVkLCBza2lwXG4gICAgICAgICAgICBpZiAoIUNvbmRpdGlvbklzRW5mb3JjZWQoXCJ0aW50XCIsIFNMRUVQX1RJTlQuc3RhdCkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGN1cnJMZXZlbCA9IEdldENoYXJhY3RlckN1cnJlbnRTdGF0VmFsdWUoUGxheWVyLCBTTEVFUF9USU5ULnN0YXQpO1xuICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBzY2FsZWQgdmFsdWVcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlZFZhbHVlID0gKChjdXJyTGV2ZWwgLSBTTEVFUF9USU5ULnN0YXJ0TGV2ZWwpIC8gKFNMRUVQX1RJTlQuZW5kTGV2ZWwgLSBTTEVFUF9USU5ULnN0YXJ0TGV2ZWwpKSAqIChTTEVFUF9USU5ULm1heFRpbnQgLSBTTEVFUF9USU5ULm1pblRpbnQpICsgU0xFRVBfVElOVC5taW5UaW50O1xuICAgICAgICAgICAgaWYgKFNMRUVQX1RJTlQubWluVGludCA8PSBzY2FsZWRWYWx1ZSAmJiBzY2FsZWRWYWx1ZSA8PSBTTEVFUF9USU5ULm1heFRpbnQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncykuY29uY2F0KHsgcjogMCwgZzogMCwgYjogMCwgYTogTWF0aC5zcXJ0KE1hdGgucm91bmQoc2NhbGVkVmFsdWUgKiAxMDAwKSAvIDEwMDApIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEFkZCBjb25kaXRpb24gdHJpZ2dlcnNcbiAgICAgICAgb25TdGF0TGV2ZWwgPSBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3RhdDogXCJzbGVlcFwiLFxuICAgICAgICAgICAgICAgIHRocmVzaGhvbGQ6IDAsXG4gICAgICAgICAgICAgICAgY2hhbmdlOiBcImZhbGxpbmdcIixcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uICgpOiB2b2lkXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBNUEFQYXNzb3V0KCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmaXJzdFJ1bjogZnVuY3Rpb24gKCk6IHZvaWRcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChHZXRDaGFyYWN0ZXJDdXJyZW50U3RhdFZhbHVlKFBsYXllciwgXCJzbGVlcFwiKSA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgTVBBUGFzc291dCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHN0YXQ6IFwic2xlZXBcIixcbiAgICAgICAgICAgICAgICB0aHJlc2hob2xkOiAwLjEsXG4gICAgICAgICAgICAgICAgY2hhbmdlOiBcInJpc2luZ1wiLFxuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKCk6IHZvaWRcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXNzZWRPdXQpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE1QQVdha2V1cCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuICAgICAgICAvLyBFZXB5XG5cbiAgICAgICAgLy8gUGFzc291dCBIb29rc1xuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJQbGF5ZXIuQ2FuVGFsa1wiLCA1LCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIFBhc3NvdXRDaGVjaygpID8gZmFsc2UgOiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiUGxheWVyLkNhbldhbGtcIiwgNSwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBQYXNzb3V0Q2hlY2soKSA/IGZhbHNlIDogbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIlBsYXllci5DYW5DaGFuZ2VPd25DbG90aGVzXCIsIDUsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gUGFzc291dENoZWNrKCkgPyBmYWxzZSA6IG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJQbGF5ZXIuQ2FuSW50ZXJhY3RcIiwgNSwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBQYXNzb3V0Q2hlY2soKSA/IGZhbHNlIDogbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIlNlcnZlclNlbmRcIiwgNSwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghUGFzc291dENoZWNrKCkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IFt0eXBlLCBkYXRhXSA9IGFyZ3MgYXMgW3N0cmluZywgU2VydmVyQ2hhdFJvb21NZXNzYWdlXTtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICB0eXBlID09IFwiQ2hhdFJvb21DaGF0XCJcbiAgICAgICAgICAgICAgICAmJiBkYXRhPy5UeXBlID09IFwiQ2hhdFwiXG4gICAgICAgICAgICAgICAgJiYgIWRhdGE/LkNvbnRlbnQuc3RhcnRzV2l0aChcIihcIilcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBTZW5kQWN0aW9uKFJhbmRvbUVsZW1lbnQoUEFTU09VVF9UQUxLX1JFUExBQ0UpIGFzIHN0cmluZywgdW5kZWZpbmVkLCBbeyBTb3VyY2VDaGFyYWN0ZXI6IFBsYXllci5NZW1iZXJOdW1iZXIgfSBhcyBTb3VyY2VDaGFyYWN0ZXJEaWN0aW9uYXJ5RW50cnldKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiUGxheWVyLkdldERlYWZMZXZlbFwiLCA1LCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIFBhc3NvdXRDaGVjaygpID8gNCA6IG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJQbGF5ZXIuR2V0QmxpbmRMZXZlbFwiLCA1LCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIFBhc3NvdXRDaGVjaygpID8gKFBsYXllci5HYW1lcGxheVNldHRpbmdzPy5TZW5zRGVwQ2hhdExvZyA9PT0gXCJTZW5zRGVwRXh0cmVtZVwiIHx8IFBsYXllci5HYW1lcGxheVNldHRpbmdzPy5TZW5zRGVwQ2hhdExvZyA9PT0gXCJTZW5zRGVwVG90YWxcIikgPyAzIDogMiA6IG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIENhbid0IGZvY3VzIHdoaWxlIGh1bmdyeSAoZGVhZilcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiUGxheWVyLkdldERlYWZMZXZlbFwiLCA1LCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgZGVhZkxldmVsID0gQ29uZGl0aW9uSXNFbmZvcmNlZChcImhlYXJpbmdMb3NzXCIsIFwiZm9vZFwiKSA/IE1hdGgubWF4KDAsIE1hdGguZmxvb3IoKEdldENoYXJhY3RlckN1cnJlbnRTdGF0VmFsdWUoUGxheWVyLCBcImZvb2RcIikgLSAwLjMwMDEpICogLTEwKSkgOiAwO1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgubWF4KGRlYWZMZXZlbCwgbmV4dChhcmdzKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEFmZmVjdGlvbiBhZmZlY3Qgc2tpbGxzXG4gICAgICAgIGlmIChTa2lsbE1vZGlmaWVyTWF4IDwgMTApXG4gICAgICAgIHtcbiAgICAgICAgICAgIFNraWxsTW9kaWZpZXJNYXggPSAxMDtcbiAgICAgICAgfVxuICAgICAgICBBZmZlY3Rpb25Ta2lsbENoZWNrKCk7XG4gICAgICAgIGFmZmVjdGlvbkNoZWNrSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChBZmZlY3Rpb25Ta2lsbENoZWNrLCBza2lsbER1cmF0aW9uTVMgKyAxMDAwKTtcblxuICAgICAgICAvLyBTbG93IGxlYXZlXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIkNoYXRSb29tQXR0ZW1wdExlYXZlXCIsIDAsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIUNvbmRpdGlvbklzRW5mb3JjZWQoXCJzbG93TGVhdmVcIiwgXCJmb29kXCIpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBwcmV2U2xvdyA9IENoYXRSb29tU2xvd3RpbWVyO1xuICAgICAgICAgICAgY29uc3QgY3VyckZvb2QgPSBHZXRDaGFyYWN0ZXJDdXJyZW50U3RhdFZhbHVlKFBsYXllciwgXCJmb29kXCIpO1xuICAgICAgICAgICAgbmV4dChhcmdzKTtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBwcmV2U2xvdyA9PT0gMFxuICAgICAgICAgICAgICAgICYmIENoYXRSb29tU2xvd3RpbWVyID4gMFxuICAgICAgICAgICAgICAgICYmIGN1cnJGb29kIDw9IFNMT1dfTEVBVkVfTEVWRUxfU1RBUlRcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzbG93ZWRTcGVlZCA9ICgoKC1NQVhfU0xPV19MRUFWRV9EVVJBVElPTl9TRUMgLyBTTE9XX0xFQVZFX0xFVkVMX1NUQVJUKSAqIGN1cnJGb29kKSArIE1BWF9TTE9XX0xFQVZFX0RVUkFUSU9OX1NFQykgKiAxMDAwO1xuICAgICAgICAgICAgICAgIENoYXRSb29tU2xvd3RpbWVyID0gQ3VycmVudFRpbWUgKyBDaGF0Um9vbVNsb3dMZWF2ZU1pblRpbWUgKyBzbG93ZWRTcGVlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIlBsYXllci5Jc1Nsb3dcIiwgMCwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiAoQ29uZGl0aW9uSXNFbmZvcmNlZChcInNsb3dMZWF2ZVwiLCBcImZvb2RcIikgJiYgR2V0Q2hhcmFjdGVyQ3VycmVudFN0YXRWYWx1ZShQbGF5ZXIsIFwiZm9vZFwiKSA8PSBTTE9XX0xFQVZFX0xFVkVMX1NUQVJUKSA/IHRydWUgOiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBVbmxvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3VwZXIuVW5sb2FkKCk7XG4gICAgICAgIG9uU3RhdExldmVsID0gW107XG4gICAgICAgIGNsZWFySW50ZXJ2YWwoYWZmZWN0aW9uQ2hlY2tJbnRlcnZhbCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgSG9va0Z1bmN0aW9uIH0gZnJvbSBcIi4uL3V0aWwvc2RrXCI7XG5pbXBvcnQgeyBJc01lbWJlck51bWJlckluQXV0aEdyb3VwIH0gZnJvbSBcIi4uL3V0aWwvYXV0aG9yaXR5XCI7XG5pbXBvcnQgeyBNb2R1bGUsIE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4vX21vZHVsZVwiO1xuaW1wb3J0IHsgR2V0Q2hhcmFjdGVyQ3VycmVudFN0YXRWYWx1ZSwgVmlydHVhbFBldFN0YXRDYXRlZ29yeSwgdHlwZSBWaXJ0dWFsUGV0U3RhdCB9IGZyb20gXCIuL3ZpcnR1YWxQZXRcIjtcblxuY29uc3QgUGxheWVyVlA6ICgpID0+IE1QQVJlY29yZCA9ICgpID0+XG57XG4gICAgcmV0dXJuIFBsYXllci5NUEFbTW9kdWxlVGl0bGUuVmlydHVhbFBldF07XG59O1xuY29uc3QgUGxheWVyVlBIVUQ6ICgpID0+IE1QQVJlY29yZCA9ICgpID0+XG57XG4gICAgcmV0dXJuIFBsYXllci5NUEFbTW9kdWxlVGl0bGUuVmlydHVhbFBldEhVRF07XG59O1xuXG5jb25zdCBWUF9TVEFUX0NPTE9SX0RJQ1QgPSB7XG4gICAgZm9vZDogXCIjZjJiYjE4XCIsXG4gICAgd2F0ZXI6IFwiIzJhOWZjM1wiLFxuICAgIHNsZWVwOiBcIiM4ZDJhZWVcIixcbiAgICBhZmZlY3Rpb246IFwiI2ZmNzhmMlwiXG59O1xuXG5mdW5jdGlvbiBEcmF3U3RhdENpcmNsZSh4OiBudW1iZXIsIHk6IG51bWJlciwgcmFkaXVzOiBudW1iZXIsIHN0YXQ6IFZpcnR1YWxQZXRTdGF0KTogdm9pZFxue1xuICAgIGNvbnN0IGNvbG9yID0gVlBfU1RBVF9DT0xPUl9ESUNUW3N0YXQuc3RhdF07XG5cbiAgICAvLyBPdXRlciBjaXJjbGVcbiAgICBNYWluQ2FudmFzLmJlZ2luUGF0aCgpO1xuICAgIE1haW5DYW52YXMuYXJjKFxuICAgICAgICB4LFxuICAgICAgICB5LFxuICAgICAgICByYWRpdXMsXG4gICAgICAgIDAsXG4gICAgICAgIDIgKiBNYXRoLlBJLFxuICAgICAgICB0cnVlXG4gICAgKTtcbiAgICBNYWluQ2FudmFzLmxpbmVXaWR0aCA9IHJhZGl1cyAvIDg7XG4gICAgTWFpbkNhbnZhcy5zdHJva2VTdHlsZSA9IGNvbG9yO1xuICAgIE1haW5DYW52YXMuc3Ryb2tlKCk7XG5cbiAgICAvLyBJbm5lciBhcmNcbiAgICBNYWluQ2FudmFzLmJlZ2luUGF0aCgpO1xuICAgIE1haW5DYW52YXMuYXJjKFxuICAgICAgICB4LFxuICAgICAgICB5LFxuICAgICAgICByYWRpdXMsXG4gICAgICAgIC1NYXRoLlBJIC8gMixcbiAgICAgICAgKDIgKiBNYXRoLlBJICogLXN0YXQubGV2ZWwpIC0gKE1hdGguUEkgLyAyKSxcbiAgICAgICAgdHJ1ZVxuICAgICk7XG4gICAgTWFpbkNhbnZhcy5saW5lVG8oeCwgeSk7XG4gICAgTWFpbkNhbnZhcy5maWxsU3R5bGUgPSBjb2xvcjtcbiAgICBNYWluQ2FudmFzLmZpbGwoKTtcblxuICAgIC8vIERpc3BsYXkgdGhlIHRleHRcbiAgICBpZiAoUGxheWVyVlBIVUQoKS5leGFjdFN0YXRzKVxuICAgIHtcbiAgICAgICAgTWFpbkNhbnZhcy5maWxsU3R5bGUgPSBcIiMwMDAwMDBcIjtcbiAgICAgICAgTWFpbkNhbnZhcy5mb250ID0gQ29tbW9uR2V0Rm9udChyYWRpdXMgKiAxLjI1KTtcbiAgICAgICAgTWFpbkNhbnZhcy5maWxsVGV4dChNYXRoLnJvdW5kKHN0YXQubGV2ZWwgKiAxMDApLnRvU3RyaW5nKCksIHgsIHkgKyAocmFkaXVzICogMC4xMjUpKTtcbiAgICAgICAgLy8gRGVmYXVsdCBzaXplLCBpZGsgaWYgbmVlZGVkIGJ1dCBjYW4ndCBodXJ0XG4gICAgICAgIE1haW5DYW52YXMuZm9udCA9IENvbW1vbkdldEZvbnQoMzYpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gRHJhd1ZpcnVhbFBldEh1ZCh4OiBudW1iZXIsIHk6IG51bWJlciwgem9vbTogbnVtYmVyLCBzdGF0czogVmlydHVhbFBldFN0YXRbXSk6IHZvaWRcbntcbiAgICBjb25zdCBwb3M6IFwiTGVmdFwiIHwgXCJDZW50ZXJcIiB8IFwiUmlnaHRcIiB8IFwiU3BsaXRcIiA9IFBsYXllclZQSFVEKCkucG9zaXRpb247XG4gICAgaWYgKHBvcyA9PT0gXCJMZWZ0XCIgfHwgcG9zID09PSBcIlJpZ2h0XCIpXG4gICAge1xuICAgICAgICBzdGF0cy5yZXZlcnNlKCk7XG4gICAgICAgIHN0YXRzLmZvckVhY2goKHN0YXQsIGluZGV4KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBEcmF3U3RhdENpcmNsZShcbiAgICAgICAgICAgICAgICB4ICsgKChwb3MgPT09IFwiTGVmdFwiID8gODAgOiA0MjApICogem9vbSksXG4gICAgICAgICAgICAgICAgeSArICg5NTAgLSAoaW5kZXggKiAzNikpICogem9vbSxcbiAgICAgICAgICAgICAgICAxNiAqIHpvb20sXG4gICAgICAgICAgICAgICAgc3RhdFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHBvcyA9PT0gXCJDZW50ZXJcIilcbiAgICB7XG4gICAgICAgIGNvbnN0IHN0YXRMZW4gPSBzdGF0cy5sZW5ndGg7XG4gICAgICAgIHN0YXRzLmZvckVhY2goKHN0YXQsIGluZGV4KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBEcmF3U3RhdENpcmNsZShcbiAgICAgICAgICAgICAgICB4ICsgKDI1MCAtICgoc3RhdExlbiAtIDEpICogMTgpICsgKGluZGV4ICogMzYpKSAqIHpvb20sXG4gICAgICAgICAgICAgICAgeSArICg5NTAgKiB6b29tKSxcbiAgICAgICAgICAgICAgICAxNiAqIHpvb20sXG4gICAgICAgICAgICAgICAgc3RhdFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIFByb2JhYmx5IGEgYmV0dGVyIHdheSB0byBkbyB0aGlzLCBidXQgSSBkb24ndCBjYXJlLiBJdCB3b3JrcyB0aGF0cyBhbGwgSSBuZWVkLlxuICAgIGVsc2UgaWYgKHBvcyA9PT0gXCJTcGxpdFwiKVxuICAgIHtcbiAgICAgICAgY29uc3QgY29sczogVmlydHVhbFBldFN0YXRbXVtdID0gW107XG4gICAgICAgIHN3aXRjaCAoc3RhdHMubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgY29scy5wdXNoKFtzdGF0c1swXV0pO1xuICAgICAgICAgICAgICAgIGNvbHMucHVzaChbXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgY29scy5wdXNoKFtzdGF0c1swXV0pO1xuICAgICAgICAgICAgICAgIGNvbHMucHVzaChbc3RhdHNbMV1dKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBjb2xzLnB1c2goW3N0YXRzWzFdLCBzdGF0c1swXV0pO1xuICAgICAgICAgICAgICAgIGNvbHMucHVzaChbc3RhdHNbMl1dKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICBjb2xzLnB1c2goW3N0YXRzWzFdLCBzdGF0c1swXV0pO1xuICAgICAgICAgICAgICAgIGNvbHMucHVzaChbc3RhdHNbM10sIHN0YXRzWzJdXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICB9XG4gICAgICAgIGNvbHMuZm9yRWFjaCgoY29sLCBpbmRleCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29sLmZvckVhY2goKHN0YXQsIHN0YXRJbmRleCkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBEcmF3U3RhdENpcmNsZShcbiAgICAgICAgICAgICAgICAgICAgeCArICgoaW5kZXggPT0gMCA/IDgwIDogNDIwKSAqIHpvb20pLFxuICAgICAgICAgICAgICAgICAgICB5ICsgKDk1MCAtIChzdGF0SW5kZXggKiAzNikpICogem9vbSxcbiAgICAgICAgICAgICAgICAgICAgMTYgKiB6b29tLFxuICAgICAgICAgICAgICAgICAgICBzdGF0XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBWaXJ0dWFsUGV0SFVETW9kdWxlIGV4dGVuZHMgTW9kdWxlXG57XG4gICAgZ2V0IFRpdGxlKCk6IE1vZHVsZVRpdGxlXG4gICAge1xuICAgICAgICByZXR1cm4gTW9kdWxlVGl0bGUuVmlydHVhbFBldEhVRDtcbiAgICB9XG5cbiAgICBnZXQgU2V0dGluZ3MoKTogU2V0dGluZ1tdXG4gICAge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwic2VsZlwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+ICEhUGxheWVyVlAoKS5lbmFibGVkLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkRpc3BsYXkgeW91ciBvd24gdmlydHVhbCBwZXQgc3RhdHMgb24gdGhlIEhVRFwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiZXhhY3RTdGF0c1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+ICEhUGxheWVyVlAoKS5lbmFibGVkIHx8IFBsYXllclZQSFVEKCkub3RoZXJzICE9PSBcIk9mZlwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJEaXNwbGF5IHRoZSBleGFjdCBudW1iZXIgcGVyY2VudGFnZSBvbiB0aGUgSFVEXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJwb3NpdGlvblwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwib3B0aW9uXCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiAhIVBsYXllclZQKCkuZW5hYmxlZCB8fCBQbGF5ZXJWUEhVRCgpLm90aGVycyAhPT0gXCJPZmZcIixcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBbXCJMZWZ0XCIsIFwiQ2VudGVyXCIsIFwiUmlnaHRcIiwgXCJTcGxpdFwiXSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJMZWZ0XCIsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiV2hlcmUgdG8gZGlzcGxheSB0aGUgSFVEXCIsXG4gICAgICAgICAgICAgICAgbG9vcDogdHJ1ZVxuICAgICAgICAgICAgfSBhcyBPcHRpb25TZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJvdGhlcnNcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm9wdGlvblwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBbXCJPZmZcIiwgXCJQdWJsaWNcIiwgXCJGcmllbmRzXCIsIFwiV2hpdGVsaXN0XCIsIFwiTG92ZXJzXCIsIFwiT3duZXJzXCIsIFwiRC9zIEZhbWlseVwiLCBcIkNsdWJvd25lclwiXSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJGcmllbmRzXCIsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiRGlzcGxheSB0aGUgdmlydHVhbCBwZXQgc3RhdHMgb2Ygb3RoZXJzIG9uIHRoZSBIVURcIixcbiAgICAgICAgICAgICAgICBsb29wOiBmYWxzZVxuICAgICAgICAgICAgfSBhcyBPcHRpb25TZXR0aW5nXG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgTG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJEcmF3QXJvdXNhbE1ldGVyXCIsIDEsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBbY2hhcmFjdGVyLCB4LCB5LCB6b29tXSA9IGFyZ3M7XG4gICAgICAgICAgICAvLyBHZXQgY2hhcmFjdGVyIHN0YXRzIHdoZW4gc3VwcG9ydCBmb3IgbXVsdHBsYXllclxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICFBY3Rpdml0eUFsbG93ZWQoKVxuICAgICAgICAgICAgICAgIHx8IChjaGFyYWN0ZXIuSXNQbGF5ZXIoKSAmJiAoIVBsYXllclZQSFVEKCkuc2VsZiB8fCAhUGxheWVyVlAoKS5lbmFibGVkKSlcbiAgICAgICAgICAgICAgICB8fCAoIWNoYXJhY3Rlci5Jc1BsYXllcigpICYmIFBsYXllclZQSFVEKCkub3RoZXJzID09PSBcIk9mZlwiKVxuICAgICAgICAgICAgICAgIHx8ICghY2hhcmFjdGVyLklzUGxheWVyKCkgJiYgIUlzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAoY2hhcmFjdGVyLk1lbWJlck51bWJlciBhcyBudW1iZXIsIFBsYXllclZQSFVEKCkub3RoZXJzKSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gR2V0IHRoZSBzdGF0cyBmb3IgdGhlIGNoYXJhY3Rlciwgbm90IGp1c3QgdGhlIHBsYXllclxuICAgICAgICAgICAgY29uc3QgY2hhcmFjdGVyVlBTdGF0cyA9IGNoYXJhY3Rlcj8uTVBBPy5bTW9kdWxlVGl0bGUuVmlydHVhbFBldF07XG4gICAgICAgICAgICBpZiAoIWNoYXJhY3RlclZQU3RhdHM/LmVuYWJsZWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHN0YXRzOiBWaXJ0dWFsUGV0U3RhdFtdID0gW107XG4gICAgICAgICAgICAoW1wiZm9vZFwiLCBcIndhdGVyXCIsIFwic2xlZXBcIiwgXCJhZmZlY3Rpb25cIl0gYXMgVmlydHVhbFBldFN0YXRDYXRlZ29yeVtdKS5mb3JFYWNoKChzdGF0KSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChjaGFyYWN0ZXJWUFN0YXRzW2Ake3N0YXR9SG91cnNgXSAhPT0gMClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdDogc3RhdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldmVsOiBHZXRDaGFyYWN0ZXJDdXJyZW50U3RhdFZhbHVlKGNoYXJhY3Rlciwgc3RhdClcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoc3RhdHMubGVuZ3RoICE9PSAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIERyYXdWaXJ1YWxQZXRIdWQoeCwgeSwgem9vbSwgc3RhdHMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgVW5sb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLlVubG9hZCgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IExvY2FsaXplZFRleHQgfSBmcm9tIFwiLi4vbG9jYWxpemF0aW9uL2xvY2FsaXphdGlvblwiO1xuaW1wb3J0IHsgQUNUSVZJVFlfTkFNRV9QUkVGSVggfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcblxuLyoqIFN0b3JlcyB0aGUgYWN0aXZpdHkgbmFtZSBhbmQgdGhlIGltYWdlIGxvY2F0aW9uIG9yIGJhc2UgNjQgaW1hZ2UgZm9yIHRoYXQgYWN0aXZpdHkgKi9cbmV4cG9ydCBjb25zdCBhY3Rpdml0eUltYWdlczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuLyoqIFdoZW4gYW4gYWN0aXZpdHkgaXMgdXNlZCBieSB0aGUgUGxheWVyLCBydW4gdGhpcyBjYWxsYmFjayBmdW5jdGlvbiAqL1xuZXhwb3J0IGNvbnN0IGFjdGl2aXR5VHJpZ2dlcnM6IFJlY29yZDxzdHJpbmcsIEFjaXRpdml0eVRyaWdnZXI+ID0ge307XG4vKiogQ3VzdG9tIHByZXJlcXVpc2l0ZXMgZm9yIGFjdGl2aXRpZXMgKi9cbmV4cG9ydCBjb25zdCBhY3Rpdml0eVByZXJlcXVpc2l0ZXM6IFJlY29yZDxzdHJpbmcsIFByZXJlcXVpc2l0ZT4gPSB7fTtcbi8qKiBXaGVuIGFuIGFjdGl2aXR5IGhhcHBlbnMsIHJ1biB0aGlzIGNhbGxiYWNrIGZ1bmN0aW9uICovXG5leHBvcnQgY29uc3QgYWN0aXZpdHlSZWNlaXZlZDogUmVjb3JkPHN0cmluZywgQWN0aXZpdHlSZWNlaXZlZD4gPSB7fTtcblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgY3VzdG9tIGFjdGl2aXR5IGZvciB0aGUgUGxheWVyIHRvIHVzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gQ3JlYXRlQWN0aXZpdHkoY3VzdG9tQWN0aXZpdHk6IEN1c3RvbUFjdGl2aXR5KTogdm9pZFxue1xuICAgIC8vIENyZWF0ZSB0aGUgYWN0aXZpdHkgQkMgdXNlc1xuICAgIGNvbnN0IGFjdGl2aXR5OiBBY3Rpdml0eSA9IHtcbiAgICAgICAgTmFtZTogYCR7QUNUSVZJVFlfTkFNRV9QUkVGSVh9JHtjdXN0b21BY3Rpdml0eS5OYW1lfWAgYXMgQWN0aXZpdHlOYW1lLFxuICAgICAgICBBY3Rpdml0eUlEOiBNYXRoLm1heCguLi5BY3Rpdml0eUZlbWFsZTNEQ0cubWFwKCh4KSA9PiB4LkFjdGl2aXR5SUQgPz8gLTEpKSArIDEsXG4gICAgICAgIE1heFByb2dyZXNzOiBjdXN0b21BY3Rpdml0eS5NYXhQcm9ncmVzcyA/PyA1MCxcbiAgICAgICAgLy8gTWF4UHJvZ3Jlc3NTZWxmOiBjdXN0b21BY3Rpdml0eS5NYXhQcm9ncmVzc1NlbGYgPz8gY3VzdG9tQWN0aXZpdHkuTWF4UHJvZ3Jlc3MsXG4gICAgICAgIFByZXJlcXVpc2l0ZTogY3VzdG9tQWN0aXZpdHkuUHJlcmVxdWlzaXRlLFxuICAgICAgICBUYXJnZXQ6IFtdXG4gICAgfTtcblxuICAgIC8vIEFkZCBjdXN0b20gYWN0aXZpdGVzIHRvIHRoZSByZWNvcmQgZm9yIGNoZWNraW5nIHdoZW4gYW4gYWN0aXZpdHkgaXMgY2FsbGVkIGxhdGVyXG4gICAgaWYgKGN1c3RvbUFjdGl2aXR5LkN1c3RvbVByZXJlcXVpc2l0ZSlcbiAgICB7XG4gICAgICAgIGxldCBjdXN0b21QcmVyZXF1aXNpdGVzID0gY3VzdG9tQWN0aXZpdHkuQ3VzdG9tUHJlcmVxdWlzaXRlO1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoY3VzdG9tUHJlcmVxdWlzaXRlcykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGN1c3RvbVByZXJlcXVpc2l0ZXMgPSBbY3VzdG9tUHJlcmVxdWlzaXRlc107XG4gICAgICAgIH1cbiAgICAgICAgY3VzdG9tUHJlcmVxdWlzaXRlcy5mb3JFYWNoKChuZXdQcmVyZXF1aXNpdGUpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGFjdGl2aXR5LlByZXJlcXVpc2l0ZS5wdXNoKG5ld1ByZXJlcXVpc2l0ZS5OYW1lIGFzIEFjdGl2aXR5UHJlcmVxdWlzaXRlKTtcbiAgICAgICAgICAgIGlmICghKG5ld1ByZXJlcXVpc2l0ZS5OYW1lIGluIGFjdGl2aXR5UHJlcmVxdWlzaXRlcylcbiAgICAgICAgICAgICAgJiYgbmV3UHJlcmVxdWlzaXRlLlByZXJlcXVpc2l0ZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhY3Rpdml0eVByZXJlcXVpc2l0ZXNbbmV3UHJlcmVxdWlzaXRlLk5hbWVdID0gbmV3UHJlcmVxdWlzaXRlLlByZXJlcXVpc2l0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gVGhlIGxvb2t1cCB0YWJsZSBmb3IgdGhlIGFjdGl2aXR5XG4gICAgY3VzdG9tQWN0aXZpdHkuVGFyZ2V0cy5mb3JFYWNoKCh0YXJnZXQpID0+XG4gICAge1xuICAgICAgICAvLyBBY2l0aXZpdHkgY2FuIGJlIHVzZWQgb24gc2VsZlxuICAgICAgICBpZiAodGFyZ2V0LmFjdGlvblNlbGYpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghYWN0aXZpdHkuVGFyZ2V0U2VsZilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhY3Rpdml0eS5UYXJnZXRTZWxmID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAoYWN0aXZpdHkuVGFyZ2V0U2VsZiBhcyBBc3NldEdyb3VwSXRlbU5hbWVbXSk/LnB1c2godGFyZ2V0Lmdyb3VwKTtcbiAgICAgICAgICAgIEFjdGl2aXR5RGljdGlvbmFyeT8ucHVzaChbYExhYmVsLUNoYXRTZWxmLSR7dGFyZ2V0Lmdyb3VwfS0ke2FjdGl2aXR5Lk5hbWV9YCwgTG9jYWxpemVkVGV4dCh0YXJnZXQubGFiZWwpXSk7XG4gICAgICAgICAgICBBY3Rpdml0eURpY3Rpb25hcnk/LnB1c2goW2BDaGF0U2VsZi0ke3RhcmdldC5ncm91cH0tJHthY3Rpdml0eS5OYW1lfWAsIExvY2FsaXplZFRleHQodGFyZ2V0LmFjdGlvblNlbGYpXSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBY3Rpdml0eSBjYW4gYmUgdXNlZCBvbiBvdGhlcnNcbiAgICAgICAgaWYgKHRhcmdldC5hY3Rpb25PdGhlcnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGFjdGl2aXR5LlRhcmdldC5wdXNoKHRhcmdldC5ncm91cCk7XG4gICAgICAgICAgICBBY3Rpdml0eURpY3Rpb25hcnk/LnB1c2goW2BMYWJlbC1DaGF0T3RoZXItJHt0YXJnZXQuZ3JvdXB9LSR7YWN0aXZpdHkuTmFtZX1gLCBMb2NhbGl6ZWRUZXh0KHRhcmdldC5sYWJlbCldKTtcbiAgICAgICAgICAgIEFjdGl2aXR5RGljdGlvbmFyeT8ucHVzaChbYENoYXRPdGhlci0ke3RhcmdldC5ncm91cH0tJHthY3Rpdml0eS5OYW1lfWAsIExvY2FsaXplZFRleHQodGFyZ2V0LmFjdGlvbk90aGVycyldKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gSW1hZ2UgdGhlIGFjdGl2aXR5IHdpbGwgdXNlXG4gICAgYWN0aXZpdHlJbWFnZXNbYWN0aXZpdHkuTmFtZV0gPSBjdXN0b21BY3Rpdml0eS5JbWFnZTtcblxuICAgIC8vIE9uIGFjdGl2aXR5IHRyaWdnZXIgc3VwcG9ydFxuICAgIGlmIChjdXN0b21BY3Rpdml0eS5PblRyaWdnZXIpXG4gICAge1xuICAgICAgICBhY3Rpdml0eVRyaWdnZXJzW2FjdGl2aXR5Lk5hbWVdID0gY3VzdG9tQWN0aXZpdHkuT25UcmlnZ2VyO1xuICAgIH1cblxuICAgIC8vIE9uIGFjdGl2aXR5IHJlY2lldmVkIHN1cHBvcnRcbiAgICBpZiAoY3VzdG9tQWN0aXZpdHkuT25SZWNlaXZlKVxuICAgIHtcbiAgICAgICAgYWN0aXZpdHlSZWNlaXZlZFthY3Rpdml0eS5OYW1lXSA9IGN1c3RvbUFjdGl2aXR5Lk9uUmVjZWl2ZTtcbiAgICB9XG5cbiAgICBBY3Rpdml0eUZlbWFsZTNEQ0cucHVzaChhY3Rpdml0eSk7XG4gICAgQWN0aXZpdHlGZW1hbGUzRENHT3JkZXJpbmcucHVzaChhY3Rpdml0eS5OYW1lKTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgbWFueSBjdXN0b20gYWN0aXZpdGllcyBmb3IgdGhlIFBsYXllciB0byB1c2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIENyZWF0ZUFjdGl2aXRpZXMoY3VzdG9tQWN0aXZpdGllczogQ3VzdG9tQWN0aXZpdHlbXSk6IHZvaWRcbntcbiAgICBjdXN0b21BY3Rpdml0aWVzLmZvckVhY2goKGFjdGl2aXR5KSA9PlxuICAgIHtcbiAgICAgICAgQ3JlYXRlQWN0aXZpdHkoYWN0aXZpdHkpO1xuICAgIH0pO1xufVxuXG4vKipcbiAqIFJlbW92ZSBhY3Rpdml0eSwgZGlzYWxsb3dpbmcgdGhlIFBsYXllciB0byB1c2UgaXRcbiAqIEBwYXJhbSBjdXN0b21BY3Rpdml0eSAtIE9ubHkgTmFtZSBhbmQgVGFyZ2V0cyBtYXR0ZXIgZm9yIHRoaXMgZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFJlbW92ZUFjdGl2aXR5KGN1c3RvbUFjdGl2aXR5OiBDdXN0b21BY3Rpdml0eSk6IHZvaWRcbntcbiAgICBjb25zdCBhY3Rpdml0eU5hbWUgPSBgJHtBQ1RJVklUWV9OQU1FX1BSRUZJWH0ke2N1c3RvbUFjdGl2aXR5Lk5hbWV9YDtcblxuICAgIC8vIFRoZSBsb29rdXAgdGFibGUgZm9yIHRoZSBhY3Rpdml0eVxuICAgIGN1c3RvbUFjdGl2aXR5LlRhcmdldHMuZm9yRWFjaCgodGFyZ2V0KSA9PlxuICAgIHtcbiAgICAgICAgLy8gQWNpdGl2aXR5IGNhbiBiZSB1c2VkIG9uIHNlbGZcbiAgICAgICAgaWYgKHRhcmdldC5hY3Rpb25TZWxmKVxuICAgICAgICB7XG4gICAgICAgICAgICBBY3Rpdml0eURpY3Rpb25hcnkgPSBBY3Rpdml0eURpY3Rpb25hcnk/LmZpbHRlcigoeCkgPT4gISh4WzBdID09PSBgTGFiZWwtQ2hhdFNlbGYtJHt0YXJnZXQuZ3JvdXB9LSR7YWN0aXZpdHlOYW1lfWAgfHwgeFswXSA9PT0gYENoYXRTZWxmLSR7dGFyZ2V0Lmdyb3VwfS0ke2FjdGl2aXR5TmFtZX1gKSkgPz8gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFjdGl2aXR5IGNhbiBiZSB1c2VkIG9uIG90aGVyc1xuICAgICAgICBpZiAodGFyZ2V0LmFjdGlvbk90aGVycylcbiAgICAgICAge1xuICAgICAgICAgICAgQWN0aXZpdHlEaWN0aW9uYXJ5ID0gQWN0aXZpdHlEaWN0aW9uYXJ5Py5maWx0ZXIoKHgpID0+ICEoeFswXSA9PT0gYExhYmVsLUNoYXRPdGhlci0ke3RhcmdldC5ncm91cH0tJHthY3Rpdml0eU5hbWV9YCB8fCB4WzBdID09PSBgQ2hhdE90aGVyLSR7dGFyZ2V0Lmdyb3VwfS0ke2FjdGl2aXR5TmFtZX1gKSkgPz8gbnVsbDtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gSW1hZ2UgdGhlIGFjdGl2aXR5IHdpbGwgdXNlXG4gICAgZGVsZXRlIGFjdGl2aXR5SW1hZ2VzW2FjdGl2aXR5TmFtZV07XG5cbiAgICAvLyBPbiBhY3Rpdml0eSB0cmlnZ2VyIHN1cHBvcnRcbiAgICBkZWxldGUgYWN0aXZpdHlUcmlnZ2Vyc1thY3Rpdml0eU5hbWVdO1xuXG4gICAgLy8gRG9uZVxuICAgIEFjdGl2aXR5RmVtYWxlM0RDRyA9IEFjdGl2aXR5RmVtYWxlM0RDRy5maWx0ZXIoKHgpID0+IHguTmFtZSAhPT0gYWN0aXZpdHlOYW1lKTtcbiAgICBBY3Rpdml0eUZlbWFsZTNEQ0dPcmRlcmluZyA9IEFjdGl2aXR5RmVtYWxlM0RDR09yZGVyaW5nLmZpbHRlcigoeCkgPT4geCAhPT0gYWN0aXZpdHlOYW1lKTtcbn1cblxuLyoqXG4gKiBSZW1vdmUgYWN0aXZpdGllcywgZGlzYWxsb3dpbmcgdGhlIFBsYXllciB0byB1c2UgdGhlbVxuICogQHBhcmFtIGN1c3RvbUFjdGl2aXR5IC0gT25seSBOYW1lIGFuZCBUYXJnZXRzIG1hdHRlciBmb3IgdGhpcyBmdW5jdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gUmVtb3ZlQWN0aXZpdGllcyhjdXN0b21BY3Rpdml0aWVzOiBDdXN0b21BY3Rpdml0eVtdKTogdm9pZFxue1xuICAgIGN1c3RvbUFjdGl2aXRpZXMuZm9yRWFjaCgoYWN0aXZpdHkpID0+XG4gICAge1xuICAgICAgICBSZW1vdmVBY3Rpdml0eShhY3Rpdml0eSk7XG4gICAgfSk7XG59XG4iLCJpbXBvcnQgeyBNb2R1bGVUaXRsZSB9IGZyb20gXCIuLi9tb2R1bGVzL19tb2R1bGVcIjtcbmltcG9ydCB7IEZpbmRDaGFyYWN0ZXJJblJvb20gfSBmcm9tIFwiLi9tZXNzYWdpbmdcIjtcblxuZXhwb3J0IGNvbnN0IEFVVEhPUklUWV9HUk9VUF9PUFRJT05TOiBBdXRob3JpdHlHcm91cFtdID0gW1xuICAgIFwiUHVibGljXCIsXG4gICAgXCJGcmllbmRzXCIsXG4gICAgXCJXaGl0ZWxpc3RcIixcbiAgICBcIkxvdmVyc1wiLFxuICAgIFwiT3duZXJzXCIsXG4gICAgXCJDbHVib3duZXJcIixcbiAgICBcIlNlbGZcIlxuXTtcblxuY29uc3QgQVVUSE9SSVRZX0dST1VQX1BSSU9fT1JERVI6IEF1dGhvcml0eUdyb3VwW10gPSBbXG4gICAgXCJOb25lXCIsXG4gICAgXCJQdWJsaWNcIixcbiAgICBcIkZyaWVuZHNcIixcbiAgICBcIldoaXRlbGlzdFwiLFxuICAgIFwiTG92ZXJzXCIsXG4gICAgXCJPd25lcnNcIixcbiAgICBcIkQvcyBGYW1pbHlcIixcbiAgICBcIkNsdWJvd25lclwiLFxuICAgIFwiU2VsZlwiXG5dO1xuXG5jb25zdCBMb3ZlcnMgPSAoQzogQ2hhcmFjdGVyKSA9PiAoQy5Mb3ZlcnNoaXA/LmZpbHRlcigoeCkgPT4geC5NZW1iZXJOdW1iZXIpLm1hcCgobG92ZXIpID0+IGxvdmVyLk1lbWJlck51bWJlcikgPz8gW10pIGFzIG51bWJlcltdO1xuZXhwb3J0IGNvbnN0IEFVVEhPUklUWV9HUk9VUFMgPVxue1xuICAgIFNlbGY6IChDOiBDaGFyYWN0ZXIpID0+IFtDLk1lbWJlck51bWJlciA/PyAtMV0sXG4gICAgQ2x1Ym93bmVyOiAoQzogQ2hhcmFjdGVyKSA9PiBDPy5Pd25lcnNoaXA/Lk1lbWJlck51bWJlciA/IFtDPy5Pd25lcnNoaXA/Lk1lbWJlck51bWJlcl0gOiBbXSxcbiAgICBPd25lcnM6IGZ1bmN0aW9uIChDOiBDaGFyYWN0ZXIpOiBudW1iZXJbXVxuICAgIHtcbiAgICAgICAgY29uc3Qgb3duZXJzID0gKChDLk1QQT8uW01vZHVsZVRpdGxlLkF1dGhvcml0eV0/Lm93bmVycyBhcyBzdHJpbmcpID8/IFwiXCIpLnNwbGl0KFwiLFwiKS5tYXAoKHZhbCkgPT4gcGFyc2VJbnQodmFsKSkuZmlsdGVyKChudW0pID0+ICFpc05hTihudW0pKTtcbiAgICAgICAgcmV0dXJuIG93bmVycy5sZW5ndGggPT09IDAgPyBbXSA6IG93bmVycztcbiAgICB9LFxuICAgIExvdmVyczogTG92ZXJzLFxuICAgIFdoaXRlTGlzdDogKEM6IENoYXJhY3RlcikgPT4gQy5XaGl0ZUxpc3QgPz8gW10sXG4gICAgRnJpZW5kTGlzdDogKCkgPT4gUGxheWVyLkZyaWVuZExpc3QgPz8gW11cbn07XG5cbmV4cG9ydCB0eXBlIEF1dGhvcml0eUdyb3VwID0gXCJTZWxmXCIgfCBcIkNsdWJvd25lclwiIHwgXCJEL3MgRmFtaWx5XCIgfCBcIk93bmVyc1wiIHwgXCJMb3ZlcnNcIiB8IFwiV2hpdGVsaXN0XCIgfCBcIkZyaWVuZHNcIiB8IFwiUHVibGljXCIgfCBcIk5vbmVcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIElzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAobWVtYmVyTnVtYmVyOiBudW1iZXIsIGF1dGhHcm91cDogQXV0aG9yaXR5R3JvdXAsIGFsbG93U2VsZiA9IGZhbHNlLCBzb3VyY2VDaGFyOiBDaGFyYWN0ZXIgPSBQbGF5ZXIpOiBib29sZWFuXG57XG4gICAgaWYgKGF1dGhHcm91cCA9PT0gXCJOb25lXCIpXG4gICAge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gRGVueSBzZWxmIG9yIGluc3RhbnQgYWNjZXNzXG4gICAgaWYgKG1lbWJlck51bWJlciA9PT0gQVVUSE9SSVRZX0dST1VQUy5TZWxmKHNvdXJjZUNoYXIpWzBdKVxuICAgIHtcbiAgICAgICAgLy8gSWYgU2VsZiBBdXRob3JpdHlHcm91cCwgb3ZlcnJpZGUgdGhlIGFsbG93U2VsZiBmbGFnXG4gICAgICAgIHJldHVybiBhdXRoR3JvdXAgPT09IFwiU2VsZlwiID8gdHJ1ZSA6IGFsbG93U2VsZjtcbiAgICB9XG5cbiAgICAvLyBObyBpZiBpbiBibGFja2xpc3QgcmVnYXJkbGVzcyBvZiByb2xlXG4gICAgaWYgKHNvdXJjZUNoYXIuQmxhY2tMaXN0LmluY2x1ZGVzKG1lbWJlck51bWJlcikgfHwgKChzb3VyY2VDaGFyIGFzIFBsYXllckNoYXJhY3Rlcik/Lkdob3N0TGlzdD8uaW5jbHVkZXMobWVtYmVyTnVtYmVyKSA/PyBmYWxzZSkpXG4gICAge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gRXZlcnlvbmUgYWxsb3dlZCBleGNlcHQgYmxvY2tlZCBjaGFyYWN0ZXJzXG4gICAgaWYgKGF1dGhHcm91cCA9PT0gXCJQdWJsaWNcIilcbiAgICB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIEZhbWlseSBvbmx5IGNhbiBiZSBjaGVja2VkIGJ5IGFnYWluc3QgdGhlIFBsYXllciB0aGVtc2VsZlxuICAgIGlmIChhdXRoR3JvdXAgPT09IFwiRC9zIEZhbWlseVwiICYmIHNvdXJjZUNoYXIuTWVtYmVyTnVtYmVyID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIEZpbmRDaGFyYWN0ZXJJblJvb20obWVtYmVyTnVtYmVyKT8uSXNGYW1pbHlPZlBsYXllcigpID8/IGZhbHNlO1xuICAgIH1cblxuICAgIGxldCBhdXRoQ2hlY2sgPSBuZXcgU2V0PG51bWJlcj4oKTtcbiAgICAvLyBVc2Ugc3dpdGNoIGZhbGx0aHJvdWdoIHRvIGdldCB0aGUgc2V0IG9mIGFsbCBhdXRoZWQgdXNlcnMgaW4gdGhlIGdyb3VwKHMpXG4gICAgc3dpdGNoIChhdXRoR3JvdXApXG4gICAge1xuICAgICAgICBjYXNlIFwiRnJpZW5kc1wiOlxuICAgICAgICAgICAgLy8gU2luY2UgRnJpZW5kc0xpc3QgaXMgbm90IG9uIG90aGVyIGNoYXJhY3RlcnMsIGNhbiBvbmx5IGNoZWNrIGlmIHRoZSBQbGF5ZXIgYW5kIGFub3RoZXIgY2hhcmFjdGVyIGFyZSBmcmllbmRzXG4gICAgICAgICAgICAvLyBVbmFibGUgdG8gY2hlY2sgaWYgMiBkaWZmZXJlbnQgY2hhcmFjdGVycyBhcmUgZnJpZW5kc1xuICAgICAgICAgICAgLy8gdGFyZ2V0Q2hhciBpcyBub24tcGxheWVyIGFuZCBsb29raW5nIGZvciBQbGF5ZXIgbWVtYmVyIG51bWJlclxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHNvdXJjZUNoYXIuTWVtYmVyTnVtYmVyICE9PSBQbGF5ZXIuTWVtYmVyTnVtYmVyXG4gICAgICAgICAgICAgICAgJiYgUGxheWVyLk1lbWJlck51bWJlciA9PT0gbWVtYmVyTnVtYmVyXG4gICAgICAgICAgICAgICAgJiYgQVVUSE9SSVRZX0dST1VQUy5GcmllbmRMaXN0KCkuaW5jbHVkZXMoc291cmNlQ2hhci5NZW1iZXJOdW1iZXIgPz8gLTEpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBQbGF5ZXIgaXMgc2VsZiBhbmQgbG9va2luZyB0aHJvdWdoIGZyaWVuZHMgbGlzdFxuICAgICAgICAgICAgaWYgKHNvdXJjZUNoYXIuTWVtYmVyTnVtYmVyID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF1dGhDaGVjayA9IG5ldyBTZXQoWy4uLmF1dGhDaGVjaywgLi4uQVVUSE9SSVRZX0dST1VQUy5GcmllbmRMaXN0KCldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmU6IGZhbGx0aHJvdWdoIGlzIGludGVudGlvbmFsXG4gICAgICAgIGNhc2UgXCJXaGl0ZWxpc3RcIjpcbiAgICAgICAgICAgIGF1dGhDaGVjayA9IG5ldyBTZXQoWy4uLmF1dGhDaGVjaywgLi4uQVVUSE9SSVRZX0dST1VQUy5XaGl0ZUxpc3Qoc291cmNlQ2hhcildKTtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmU6IGZhbGx0aHJvdWdoIGlzIGludGVudGlvbmFsXG4gICAgICAgIGNhc2UgXCJMb3ZlcnNcIjpcbiAgICAgICAgICAgIGF1dGhDaGVjayA9IG5ldyBTZXQoWy4uLmF1dGhDaGVjaywgLi4uQVVUSE9SSVRZX0dST1VQUy5Mb3ZlcnMoc291cmNlQ2hhcildKTtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmU6IGZhbGx0aHJvdWdoIGlzIGludGVudGlvbmFsXG4gICAgICAgIGNhc2UgXCJPd25lcnNcIjpcbiAgICAgICAgICAgIGF1dGhDaGVjayA9IG5ldyBTZXQoWy4uLmF1dGhDaGVjaywgLi4uQVVUSE9SSVRZX0dST1VQUy5Pd25lcnMoc291cmNlQ2hhcildKTtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmU6IGZhbGx0aHJvdWdoIGlzIGludGVudGlvbmFsXG4gICAgICAgIGNhc2UgXCJDbHVib3duZXJcIjpcbiAgICAgICAgICAgIGF1dGhDaGVjayA9IG5ldyBTZXQoWy4uLmF1dGhDaGVjaywgLi4uQVVUSE9SSVRZX0dST1VQUy5DbHVib3duZXIoc291cmNlQ2hhcildKTtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmU6IGZhbGx0aHJvdWdoIGlzIGludGVudGlvbmFsXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgfVxuXG4gICAgcmV0dXJuIGF1dGhDaGVjay5oYXMobWVtYmVyTnVtYmVyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEhpZ2hlc3RMZXZlbEF1dGhvcml0eUdyb3VwKG1lbWJlck51bWJlcjogbnVtYmVyLCB0YXJnZXRDaGFyOiBDaGFyYWN0ZXIgPSBQbGF5ZXIpOiBBdXRob3JpdHlHcm91cFxue1xuICAgIGlmICh0YXJnZXRDaGFyLk1lbWJlck51bWJlciA9PT0gbWVtYmVyTnVtYmVyKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFwiU2VsZlwiO1xuICAgIH1cbiAgICBpZiAodGFyZ2V0Q2hhcj8uT3duZXJzaGlwPy5NZW1iZXJOdW1iZXIgPT09IG1lbWJlck51bWJlcilcbiAgICB7XG4gICAgICAgIHJldHVybiBcIkNsdWJvd25lclwiO1xuICAgIH1cbiAgICBpZiAoQVVUSE9SSVRZX0dST1VQUy5Pd25lcnModGFyZ2V0Q2hhcikuaW5jbHVkZXMobWVtYmVyTnVtYmVyKSlcbiAgICB7XG4gICAgICAgIHJldHVybiBcIk93bmVyc1wiO1xuICAgIH1cbiAgICBpZiAoQVVUSE9SSVRZX0dST1VQUy5Mb3ZlcnModGFyZ2V0Q2hhcikuaW5jbHVkZXMobWVtYmVyTnVtYmVyKSlcbiAgICB7XG4gICAgICAgIHJldHVybiBcIkxvdmVyc1wiO1xuICAgIH1cbiAgICBpZiAoQVVUSE9SSVRZX0dST1VQUy5XaGl0ZUxpc3QodGFyZ2V0Q2hhcikuaW5jbHVkZXMobWVtYmVyTnVtYmVyKSlcbiAgICB7XG4gICAgICAgIHJldHVybiBcIldoaXRlbGlzdFwiO1xuICAgIH1cbiAgICAvLyBGcmllbmRzXG4gICAgLy8gVGFyZ2V0Y2hhcmFjdGVyIGlzIHNlbGZcbiAgICBpZiAodGFyZ2V0Q2hhci5NZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXIgJiYgUGxheWVyLkZyaWVuZExpc3Q/LmluY2x1ZGVzKG1lbWJlck51bWJlcikpXG4gICAge1xuICAgICAgICByZXR1cm4gXCJGcmllbmRzXCI7XG4gICAgfVxuICAgIC8vIFRhcmdldCBjaGFyYWN0ZXIgaXMgbm90IHNlbGYsIGJ1dCBsb29rdXAgY2hhcmFjdGVyIGlzXG4gICAgaWYgKHRhcmdldENoYXIuTWVtYmVyTnVtYmVyICE9PSBQbGF5ZXIuTWVtYmVyTnVtYmVyXG4gICAgICAmJiBtZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXJcbiAgICAgICYmIFBsYXllci5GcmllbmRMaXN0Py5pbmNsdWRlcyh0YXJnZXRDaGFyLk1lbWJlck51bWJlciA/PyAtMSlcbiAgICApXG4gICAge1xuICAgICAgICByZXR1cm4gXCJGcmllbmRzXCI7XG4gICAgfVxuICAgIC8vIFB1YmxpY1xuICAgIGlmIChcbiAgICAgICAgISh0YXJnZXRDaGFyLkJsYWNrTGlzdC5pbmNsdWRlcyhtZW1iZXJOdW1iZXIpXG4gICAgICAgIHx8ICgodGFyZ2V0Q2hhciBhcyBQbGF5ZXJDaGFyYWN0ZXIpPy5HaG9zdExpc3Q/LmluY2x1ZGVzKG1lbWJlck51bWJlcikgPz8gZmFsc2UpKVxuICAgIClcbiAgICB7XG4gICAgICAgIHJldHVybiBcIlB1YmxpY1wiO1xuICAgIH1cbiAgICByZXR1cm4gXCJOb25lXCI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBBdXRob3JpdHlJc0NvbXBhcmlzb25Ub0NoYXJhY3Rlcihncm91cDogQXV0aG9yaXR5R3JvdXAsIGNvbXBhcmlzb246IFwiPlwiIHwgXCI8XCIgfCBgJHtcIj1cIiB8IFwiIVwiIHwgXCI+XCIgfCBcIjxcIn09YCA9IFwiPj1cIiwgbWVtYmVyTnVtYmVyOiBudW1iZXIsIGNoYXJhY3RlcjogQ2hhcmFjdGVyID0gUGxheWVyKTogYm9vbGVhblxue1xuICAgIGNvbnN0IHJhbmsgPSBIaWdoZXN0TGV2ZWxBdXRob3JpdHlHcm91cChtZW1iZXJOdW1iZXIsIGNoYXJhY3Rlcik7XG5cbiAgICBjb25zdCBncm91cEluZGV4ID0gQVVUSE9SSVRZX0dST1VQX1BSSU9fT1JERVIuaW5kZXhPZihncm91cCk7XG4gICAgY29uc3QgcmFua0luZGV4ID0gQVVUSE9SSVRZX0dST1VQX1BSSU9fT1JERVIuaW5kZXhPZihyYW5rKTtcblxuICAgIGlmIChncm91cEluZGV4ID09PSAtMSB8fCByYW5rSW5kZXggPT09IC0xKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHN3aXRjaCAoY29tcGFyaXNvbilcbiAgICB7XG4gICAgICAgIGNhc2UgXCI+XCI6XG4gICAgICAgICAgICByZXR1cm4gcmFua0luZGV4ID4gZ3JvdXBJbmRleDtcblxuICAgICAgICBjYXNlIFwiPFwiOlxuICAgICAgICAgICAgcmV0dXJuIHJhbmtJbmRleCA8IGdyb3VwSW5kZXg7XG5cbiAgICAgICAgY2FzZSBcIj49XCI6XG4gICAgICAgICAgICByZXR1cm4gcmFua0luZGV4ID49IGdyb3VwSW5kZXg7XG5cbiAgICAgICAgY2FzZSBcIjw9XCI6XG4gICAgICAgICAgICByZXR1cm4gcmFua0luZGV4IDw9IGdyb3VwSW5kZXg7XG5cbiAgICAgICAgY2FzZSBcIj09XCI6XG4gICAgICAgICAgICByZXR1cm4gcmFua0luZGV4ID09IGdyb3VwSW5kZXg7XG5cbiAgICAgICAgY2FzZSBcIiE9XCI6XG4gICAgICAgICAgICByZXR1cm4gcmFua0luZGV4ICE9IGdyb3VwSW5kZXg7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgY29tcGFyaXNvbiBvcGVyYXRvclwiKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgcGFja2FnZUluZm8gZnJvbSBcIi4uLy4uL3BhY2thZ2UuanNvblwiO1xuXG5leHBvcnQgY29uc3QgTVBBX05BTUUgPSBwYWNrYWdlSW5mby5uYW1lLnRvTG9jYWxlVXBwZXJDYXNlKCk7XG5leHBvcnQgY29uc3QgTVBBX1ZFUlNJT04gPSBwYWNrYWdlSW5mby52ZXJzaW9uO1xuZXhwb3J0IGNvbnN0IE1QQV9SRVBPID0gcGFja2FnZUluZm8ucmVwb3NpdG9yeS51cmw7XG5cbmV4cG9ydCBjb25zdCBJQ09OUyA9IE9iamVjdC5mcmVlemUoe1xuICAgIFBBVzogXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUZZQUFBQldDQVlBQUFCVlZtSDNBQUFBQVhOU1IwSUFyczRjNlFBQUFBUm5RVTFCQUFDeGp3djhZUVVBQUFBSmNFaFpjd0FBRHNFQUFBN0JBYmlSYSswQUFBQVpkRVZZZEZOdlpuUjNZWEpsQUhkM2R5NXBibXR6WTJGd1pTNXZjbWViN2p3YUFBQUc3RWxFUVZSNFh1MmNWOGcwTlJoR2Z4VjdBVHVLWWtORjdJS2kzbGd2eElhS0lpSjJ2VkN4RnhRYjJDNFZlOEYyb2FKZ0EzdEZzSGNGRzRvTnNXRHZ2VDNubTQyRTRaM1paSkxaYitjbkJ3NDc3Q1l6U1haMkpubVQyVG1GUXFGUUtCUUtoVUtoVUNnVXhyR2FQRisrTGYrUjM4djc1UUZ5TVprTDlyVy92RTkrSnprV3grVFlsR0d1NG1qNXUveTN3VThrRFp3SysyQmYxakdRTWh3bDV3cG9WS3VTbHBmS3JwRFgycWZsNEJ0M0k4bFAwYXBjazlmS1dNaGo3YXRKeXJTaEhDd1BTYXRpNHp4ZGhuS2F0UFl4emdmbElGbFBXaFVLZFVzNUR0SlllVU9sakwwdzcraTFEL1lZdlhibEN0bFdQajRqVFFxN2oxNEh4U1BTT2t0aXBOdlVCSjlaZVdKOFdBNksrZVdIMHFwTWpHOUk2NnpsUFQ2ejhzVDRnYVNzZzJFNStZTzBLaFByVnJJTzcxbHBZNldNeThyczlIV05YVVF1VkcwbXMvZm8xY2Q2cndzTFNzcWFuYjRhRmpnamNyQzluSy9hbklGdDNzdUJPM096MDFmRC9peC9xemFUV1VPdVhtM093RGJ2NVlBeS9sSnQ1cVd2aGlYNDhYVzFtUXhsWEtmYW5JSHRYT1grUmxMVzdQVFZzSDlLN3JpNVdIWDBDamtqVkpUeHIyb3pMNkVOU3pvdTlERzhOSHJOZ1gvbnpua1hmM0gwR2dwdEVOUm1iWWxXa0NkSnh0VEVNOStSYjByaW5HZkpMV1FiajQ1ZWMrQi9xYkZmY0J1UGpWNmIyRnhTVitwTTNXbUR0K1FEOGtSSkcwWEJxT1pMNmU2YVRiNGdpWUhPSStzc0tyK1FWcjVZejVVT3RxMDBzVkkyeW1oQi9aK1hWajVmMm1nL0dVU1hvU0tGMkZyV3VVeGE2V01scHVzNFJscHBZclZpdnd3OG5wTlcramJIQnVtWGtiOUtLM09JNTBnZjd1Q3g4VmpMSGFWakoybWxpWkV5K1QwTk9GdGFhVU9reldpN1JuS2NEWGRJZjlSMW83VFNoY3AweWtyU3dYYmJORStJbE1sQldXK1hWcm9ZYWJ0R25wUldwbGk1S1N3c2dZYjRVVnJwUXFSTWRaNlNWdG9RS1l2N29pZ2paYlhTeGZxRWJPUW5hV1hxNHIzU2NaQzAwb1JJM2pvSFN5dHRpQWRLQjJXMDBuU1J0bXZFeXBEaUJkSVJNOW5uZkU5YTNTdCt2bnhtNVduekV1bWdiRmFhRkJ0aEdHcGxTSEVINllpZDlOdEdPbGFXSzFhYk0yd3JyVHhOK3BPVWxNbEtrK0pYc2hFNjlWYW1GTitYN25vTFo4aS9wWlhXOTFBSnUwaEdjZHg1K2JseExYUHpZWWRKSzY4dlBZQXpwWU95TUpTMTBxYllPaUE2VlZxWlVqMWUrbXdtNzVMVzNaMSs1SFlTYU5UNjUwZ0RzdzhncmRYM1pOOGN3NlZ6bkNEcmFYTkkyLzFQZmNURVhQdXIxV1pXUHBaclNpcnJRL2h2VThsUG5QQWR4MzVXd3M2U3JsdlQxQWxSS1g3U05Db3cvR1FkQTRIclR5V2pRcTdEUGx5YkdaWnlXY2tOeDM2dDJyUmhUR3g5STZseTlvV3lseVRxWk8zSGwvVmYxdFJORTd0S2F6K3AwbVpqWVhobVpVNzFHaGxDYk5lTWF5K2pzUkJpYjU2aEJxMDdJK0xGVDlMYVFZcXRQNU1SUkl5c3ZPUGtCdFUyVmU2Z0RGYitGR21yMFBEcnpBVS94eGpmbDBqUTRyS0ppNlNWTDBhV0d6V3hoQXlKMk1WSUc5VnZqbU01V1ZvNzZ5cER5ZVZsSFVKM2Qwb3JUeGV2bGxZWWsyT25ESzB0YWFOT1hDZXRIWGFSRGpSbmpjOHFrcnUzbFQ1RkF0RkxTaCtPVFJtczlGMmtiWks0UlZvN2p2Vmw2VVAzaUc2WWxUYUhyOHUxcGM4cjBrb2JLMjJTaGN1bGRZQVkvVm1BUFNYOVZpdGRUcGtsOEFQdzUwa3JYWXkwUlZhT2tGMGJnNUdTdTc0ZUs2MDBmZm1IM0ZjQ2MxUmRJM2pVL1VqWkMrdktlNlIxNERiZGNza0xwZlg1SkhSRFRwYVhXcCszU1oxN1cwdnJ3MUNTV0NabmcxVVE1MGZTVGF2Y0txMDBrOVROY3pGY0hyY2Frcm94Tyt0SDU0S3h1aVV4TVA0bkNNSlVPT04rK3FrczJ5R2l4ZnJZbXlRRkpFb2ZNL1RzRTZaaHVNWVRVOWhIc2c2TXNoUDNwVHRHZk9FWlNiVHFYVG1WME5DRS9Ld3pZalpsclVUcVNUVnJjRVowbVVxZWxIZkxRVFl1SVQrclF0T2tQMVV6Q0U2UlZrV21VZGNWbTNyb2xvVEVVcWRGQXViUmE3Qm1nMXp6OUpQMEJqblY1SHJvWXRJeXVWbVBLeVFSSEtBTjVQRFI2OUNnSFE2cE5xY1B3bko5ckV1WWxLeDd6WGFpNVR4ak41WkxWWnVEWkMyWjY2R1JyQTNMOU8rUW9TM1dyemJUeWRtdzJiN3RXY1IvN0NtSm5BMjc5T2gxeUxRdUhvNGhaOE1PTnFqaGthME9PUnMyMXdOenMwbnJpc0VZY2pZczNaV2hNNVYxWU5yRzZoL21rcjk5eXIzZ3dwZTVzRjRlc2MvQjA5SXFkQTZacXpxdTlsNU9tVHFhV3BoTHNncWRxbHZOeDcvQTVYb29yKzRtY3FySnVWekk2YThOSUg1cXBVbnhZam4xTUt6dDh1QkZreXl0cjNPbHROSjJrWVhPQzhoQndPd3RNN1ZXUldMa2FjRW1ycEpXbmhoNStudHFiMWhOc1B5ZHhXbFdoY2I1cmZTZngycUM5YlJkbjFLOFdkWVg2UTBLVmp1SExtUm1kZmIxTXViUEhqYVF0OG1RSjNHUW5zdHVzbGNtT1F3bHJNaHpXNnd5NUFGaC9rS0tpbjR1V1luSWxBNkxKRDZUWGVCZk9GaDh3VEY0U0lYOTA5anNuLy9vb2tFZmwwSFBDeFFLaFVLaFVDZ1VDb1ZDWWJxWk0rYy9jRkxWYmd0ZVRFWUFBQUFBU1VWT1JLNUNZSUk9XCJcbn0pO1xuXG5leHBvcnQgY29uc3QgSU5WT0xVTlRBUllfUEVUX1NQRUFLX1BFUkNFTlRBR0UgPSAwLjA1O1xuZXhwb3J0IGNvbnN0IElOVk9MVU5UQVJZX1JVU0hFRF9TUEVBS19QRVJDRU5UQUdFID0gMC41O1xuZXhwb3J0IGNvbnN0IElOVk9MVU5UQVJZX0VORF9QRVRfU1BFQUtfUEVSQ0VOVEFHRSA9IDAuMjtcblxuZXhwb3J0IGNvbnN0IEFDVElWSVRZX05BTUVfUFJFRklYID0gXCJNUEFfXCI7XG5leHBvcnQgY29uc3QgQkVMTF9TT1VORCA9IG5ldyBBdWRpbyhcIkF1ZGlvXFxcXEJlbGxNZWRpdW0ubXAzXCIpO1xuXG5leHBvcnQgY29uc3QgQkVEX1BFUkZFQ1QgPSBbXCJQZXRCZWRcIiwgXCJDcmliXCJdO1xuZXhwb3J0IGNvbnN0IEJFRF9OT1JNQUwgPSBbXCJMb3dDYWdlXCIsIFwiS2VubmVsXCIsIFwiQmVkXCIsIFwiTWVkaWNhbEJlZFwiLCBcIkN1c2hpb25cIl07XG5leHBvcnQgY29uc3QgQkVEX0JBRCA9IFtcIkZ1dHVyaXN0aWNDcmF0ZVwiLCBcIkRvbGxCb3hcIiwgXCJLZW5uZWxcIiwgXCJMb3dDYWdlXCJdO1xuZXhwb3J0IGNvbnN0IEFMTF9CRURTID0gQkVEX1BFUkZFQ1QuY29uY2F0KEJFRF9OT1JNQUwsIEJFRF9CQUQpO1xuIiwiLyoqXG4gKiBHZXQgYSByYW5kb20gZWxlbWVudCBmcm9tIGFuIGFycmF5IG9mIG9iamVjdHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFJhbmRvbUVsZW1lbnQ8VD4oYXJyYXk6IFRbXSk6IFQgfCBudWxsXG57XG4gICAgaWYgKGFycmF5Lmxlbmd0aCA9PSAwKSB7IHJldHVybiBudWxsOyB9XG4gICAgcmV0dXJuIGFycmF5W01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGFycmF5Lmxlbmd0aCldO1xufVxuXG4vKipcbiAqIE1ha2UgYSBuZXcgYXJyYXkgdGhhdCBpcyBhIGNvcHkgb2YgdGhlIG9yZ2luYWwgbWludXMgYW55IG1hdGNoaW5nIGVsZW1lbnRzIGluIHRoZSBmaWx0ZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEZpbHRlckFycmF5RnJvbUFycmF5PFQ+KGFycmF5OiBUW10sIGZpbHRlckFycmF5OiBUW10pOiBUW11cbntcbiAgICBsZXQgbmV3QXJyYXkgPSBzdHJ1Y3R1cmVkQ2xvbmUoYXJyYXkpO1xuICAgIGZpbHRlckFycmF5LmZvckVhY2goKGVsZSkgPT5cbiAgICB7XG4gICAgICAgIG5ld0FycmF5ID0gbmV3QXJyYXkuZmlsdGVyKChiYWRFbGUpID0+IGVsZSAhPT0gYmFkRWxlKTtcbiAgICB9KTtcbiAgICByZXR1cm4gbmV3QXJyYXk7XG59XG5cbi8qKlxuICogU2h1ZmZsZSBhbiBhcnJheSBpbiBwbGFjZSwgdGhhbmtzIHRvIENoYXQgR1BUXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBTaHVmZmxlQXJyYXk8VD4oYXJyYXk6IFRbXSk6IFRbXVxue1xuICAgIGZvciAobGV0IGkgPSBhcnJheS5sZW5ndGggLSAxOyBpID4gMDsgaS0tKVxuICAgIHtcbiAgICAgICAgY29uc3QgaiA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChpICsgMSkpOyAvLyByYW5kb20gaW5kZXggZnJvbSAwIHRvIGlcbiAgICAgICAgW2FycmF5W2ldLCBhcnJheVtqXV0gPSBbYXJyYXlbal0sIGFycmF5W2ldXTsgLy8gc3dhcCBlbGVtZW50c1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG59XG4iLCJpbXBvcnQgeyBNb2R1bGVUaXRsZSB9IGZyb20gXCIuLi9tb2R1bGVzL19tb2R1bGVcIjtcbmltcG9ydCB7IExvY2FsaXplZFRleHQgfSBmcm9tIFwiLi4vbG9jYWxpemF0aW9uL2xvY2FsaXphdGlvblwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIE1QQU1lc3NhZ2VDb250ZW50XG57XG4gICAgbWVzc2FnZTogc3RyaW5nO1xuICAgIFtrZXk6IHN0cmluZ106IGFueTsgLy8gQWxsb3dzIGFueSBvdGhlciBrZXlzIHdpdGggdmFsdWVzIG9mIGFueSB0eXBlXG59XG5pbnRlcmZhY2UgTVBBTWVzc2FnZSBleHRlbmRzIFNlcnZlckNoYXRSb29tTWVzc2FnZVxue1xuICAgIENvbnRlbnQ6IFwiTVBBXCI7XG4gICAgVHlwZTogXCJIaWRkZW5cIjtcbiAgICBEaWN0aW9uYXJ5OiBbTVBBTWVzc2FnZUNvbnRlbnRdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gQ29udGVudElzTVBBTWVzYWdlKGNvbnRlbnQ6IFNlcnZlckNoYXRSb29tTWVzc2FnZSk6IGNvbnRlbnQgaXMgTVBBTWVzc2FnZVxue1xuICAgIHJldHVybiAoXG4gICAgICAgIGNvbnRlbnQuVHlwZSA9PT0gXCJIaWRkZW5cIlxuICAgICAgICAmJiBjb250ZW50LkNvbnRlbnQgPT09IFwiTVBBXCJcbiAgICAgICAgJiYgY29udGVudD8uRGljdGlvbmFyeT8ubGVuZ3RoID09PSAxXG4gICAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEdldE1QQU1lc3NhZ2VGcm9tQ2hhdChtZXNzYWdlOiBTZXJ2ZXJDaGF0Um9vbU1lc3NhZ2UpOiBNUEFNZXNzYWdlQ29udGVudCB8IG51bGxcbntcbiAgICByZXR1cm4gQ29udGVudElzTVBBTWVzYWdlKG1lc3NhZ2UpID8gbWVzc2FnZS5EaWN0aW9uYXJ5WzBdIDogbnVsbDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFNlbmRNUEFNZXNzYWdlKG1lc3NhZ2U6IE1QQU1lc3NhZ2VDb250ZW50LCB0YXJnZXQ/OiBudW1iZXIpOiB2b2lkXG57XG4gICAgU2VydmVyU2VuZChcIkNoYXRSb29tQ2hhdFwiLCB7XG4gICAgICAgIFR5cGU6IFwiSGlkZGVuXCIsXG4gICAgICAgIENvbnRlbnQ6IFwiTVBBXCIsXG4gICAgICAgIERpY3Rpb25hcnk6IFttZXNzYWdlXSxcbiAgICAgICAgVGFyZ2V0OiB0YXJnZXRcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBTZW5kIGFuIGFjdGlvbiB0byB0aGUgcm9vbSBvciBjYW4gc3BlY2lmeSBhIGNoYXJhY3RlciB3aG8gd2lsbCBvbmx5IHNlZVxuICovXG5leHBvcnQgZnVuY3Rpb24gU2VuZEFjdGlvbihjb250ZW50OiBzdHJpbmcsIHRhcmdldDogQ2hhcmFjdGVyIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkLCBkaWN0aW9uYXJ5OiBDaGF0TWVzc2FnZURpY3Rpb25hcnkgPSBbXSk6IHZvaWRcbntcbiAgICBTZXJ2ZXJTZW5kKFwiQ2hhdFJvb21DaGF0XCIsIHtcbiAgICAgICAgQ29udGVudDogXCJNYXlhU2NyaXB0XCIsXG4gICAgICAgIFR5cGU6IFwiQWN0aXZpdHlcIixcbiAgICAgICAgRGljdGlvbmFyeTogW3sgVGFnOiBcIk1JU1NJTkcgQUNUSVZJVFkgREVTQ1JJUFRJT04gRk9SIEtFWVdPUkQgTWF5YVNjcmlwdFwiLCBUZXh0OiBMb2NhbGl6ZWRUZXh0KGNvbnRlbnQpIH0sIC4uLmRpY3Rpb25hcnldLFxuICAgICAgICBUYXJnZXQ6IHRhcmdldD8uTWVtYmVyTnVtYmVyIH1cbiAgICApO1xuXG4gICAgLy8gU2VydmVyU2VuZChcIkNoYXRSb29tQ2hhdFwiLCB7XG4gICAgLy8gICAgIENvbnRlbnQ6IFwiQmVlcFwiLFxuICAgIC8vICAgICBUeXBlOiBcIkFjdGlvblwiLFxuICAgIC8vICAgICBEaWN0aW9uYXJ5OiBbeyBUYWc6IFwiQmVlcFwiLCBUZXh0OiBMb2NhbGl6ZWRUZXh0KGNvbnRlbnQpIH1dLFxuICAgIC8vICAgICBUYXJnZXQ6IHRhcmdldD8uTWVtYmVyTnVtYmVyXG4gICAgLy8gfSk7XG59XG5cbi8qKlxuICogU2VuZCBhbiBlbW90ZSB0byB0aGUgcm9vbSBvciBjYW4gc3BlY2lmeSBhIGNoYXJhY3RlciB3aG8gd2lsbCBvbmx5IHNlZVxuICovXG5leHBvcnQgZnVuY3Rpb24gU2VuZEVtb3RlKGNvbnRlbnQ6IHN0cmluZywgdGFyZ2V0OiBDaGFyYWN0ZXIgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQpOiB2b2lkXG57XG4gICAgU2VydmVyU2VuZChcIkNoYXRSb29tQ2hhdFwiLCB7XG4gICAgICAgIENvbnRlbnQ6IGAke2NvbnRlbnR9YCxcbiAgICAgICAgVHlwZTogXCJFbW90ZVwiLFxuICAgICAgICBUYXJnZXQ6IHRhcmdldD8uTWVtYmVyTnVtYmVyIH1cbiAgICApO1xufVxuXG4vKipcbiAqIERpc3BsYXkgdGV4dCB0byB0aGUgbG9jYWwgcGxheWVyIG9ubHlcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIE5vdGlmeVBsYXllcihjb250ZW50OiBzdHJpbmcsIHRpbWVvdXQ/OiBudW1iZXIpOiB2b2lkXG57XG4gICAgY29uc3QgZGFya1RoZW1lID0gUGxheWVyLkNoYXRTZXR0aW5ncz8uQ29sb3JUaGVtZSA9PT0gXCJEYXJrXCIgfHwgUGxheWVyLkNoYXRTZXR0aW5ncz8uQ29sb3JUaGVtZSA9PT0gXCJEYXJrMlwiO1xuICAgIENoYXRSb29tU2VuZExvY2FsKGA8cCBzdHlsZT0nYmFja2dyb3VuZC1jb2xvcjojMDBjMmZmO2NvbG9yOiR7ZGFya1RoZW1lID8gXCJ3aGl0ZVwiIDogXCJibGFja1wifTttYXJnaW4tYm90dG9tOjAuMjVlbTttYXJnaW4tdG9wOjAnPiR7Y29udGVudH08L3A+YCwgdGltZW91dCk7XG59XG5cbi8qKlxuICogRGlzcGxheSB0ZXh0IHRvIHRoZSBsb2NhbCBwbGF5ZXIsIG1ha2luZyBpdCBjbGVhciBpdHMgZnJvbSBNUEFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIE1QQU5vdGlmeVBsYXllcihjb250ZW50OiBzdHJpbmcsIHRpbWVvdXQ/OiBudW1iZXIpOiB2b2lkXG57XG4gICAgTm90aWZ5UGxheWVyKGAke0xvY2FsaXplZFRleHQoXCJNUEFcIil9OiAke2NvbnRlbnR9YCwgdGltZW91dCk7XG59XG5cbi8qKlxuICogRmluZCBhIENoYXJhY3RlciBpbiB0aGUgY2hhdCByb29tIHdpdGggYnkgbnVtYmVyLCBuYW1lLCBvciBuaWNrLiBOb3QgY2FzZSBzZW5zdGl2ZS5cbiAqIElmIG11bHRpcGxlIHBlb3BsZSBleGlzdHMgd2l0aCB0aGUgc2FtZSBuaWNrbmFtZSBvciBuYW1lLiBJdCB3aWxsIHJldHVybiB0aGUgZmlyc3QgcGVyc29uIHRoYXQgbWF0Y2hlcy5cbiAqIFVzZSBNZW1iZXJOdW1iZXIgaWYgeW91IHdhbnQgdG8gZ3VyYW50ZWUgdG8gZmluZCB0aGF0IHNwZWNpZmljIGNoYXJhY3Rlci5cbiAqXG4gKiBAcGFyYW0gc2VhcmNoIC0gVGhlIE1lbWJlck51bWJlciwgTmFtZSwgb3IgTmlja25hbWUgb2YgdGhlIHBlcnNvbiB5b3Ugd2FudCB0byBmaW5kXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBGaW5kQ2hhcmFjdGVySW5Sb29tKHNlYXJjaDogc3RyaW5nIHwgbnVtYmVyLCB7IE1lbWJlck51bWJlciA9IHRydWUsIE5pY2tOYW1lOiBOaWNrbmFtZSA9IHRydWUsIE5hbWUgPSB0cnVlIH0gPSB7fSk6IENoYXJhY3RlciB8IG51bGxcbntcbiAgICAvLyBNYWtlIHN1cmUgcGxheWVyU2VhcmNoIGlzIGEgc3RyaW5nIC0gbm90IGNhc2Ugc2Vuc3RpdmVcbiAgICBpZiAodHlwZW9mIHNlYXJjaCAhPT0gXCJzdHJpbmdcIilcbiAgICB7XG4gICAgICAgIHNlYXJjaCA9IHNlYXJjaC50b1N0cmluZygpO1xuICAgIH1cbiAgICBzZWFyY2ggPSBzZWFyY2gudG9Mb2NhbGVMb3dlckNhc2UoKTtcblxuICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgdGhlIENoYXJhY3RlcnMgaW4gdGhlIGNoYXRcbiAgICBmb3IgKGNvbnN0IGNoYXJhY3RlciBvZiBDaGF0Um9vbUNoYXJhY3RlcilcbiAgICB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIChNZW1iZXJOdW1iZXIgJiYgY2hhcmFjdGVyPy5NZW1iZXJOdW1iZXIgPT09IE51bWJlcihzZWFyY2gpKVxuICAgICAgICAgICAgfHwgKE5pY2tuYW1lICYmIGNoYXJhY3Rlcj8uTmlja25hbWU/LnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09IHNlYXJjaClcbiAgICAgICAgICAgIHx8IChOYW1lICYmIGNoYXJhY3Rlci5OYW1lLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09IHNlYXJjaClcbiAgICAgICAgKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gY2hhcmFjdGVyO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gTm8gY2hhcmFjdGVyIGZvdW5kXG4gICAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogUmVtb3ZlIGFsbCBjb250ZW50IHRoYXQgaXMgT09DIGZyb20gYSBtZXNzYWdlXG4gKiBAcmV0dXJucyBPbmx5IHRoZSBJQyBtZXNzYWdlIGNvbnRlbnRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFJlbW92ZU9PQ0NvbnRlbnRGcm9tTWVzc2FnZShtZXNzYWdlOiBzdHJpbmcpOiBzdHJpbmdcbntcbiAgICBjb25zdCByYW5nZXMgPSBTcGVlY2hHZXRPT0NSYW5nZXMobWVzc2FnZSkucmV2ZXJzZSgpO1xuICAgIHJhbmdlcy5mb3JFYWNoKChyYW5nZSkgPT5cbiAgICB7XG4gICAgICAgIG1lc3NhZ2UgPSBtZXNzYWdlLnN1YnN0cmluZygwLCByYW5nZS5zdGFydCkgKyBtZXNzYWdlLnN1YnN0cmluZyhyYW5nZS5zdGFydCArIHJhbmdlLmxlbmd0aCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG59XG5cbnR5cGUgTWVzc2FnZUFjdGlvbiA9IChzZW5kZXI6IENoYXJhY3RlciwgY29udGVudDogTVBBTWVzc2FnZUNvbnRlbnQpID0+IHZvaWQ7XG5leHBvcnQgaW50ZXJmYWNlIEhvb2tlZE1lc3NhZ2VcbntcbiAgICBtb2R1bGU6IE1vZHVsZVRpdGxlIHwgbnVsbDtcbiAgICBtZXNzYWdlOiBzdHJpbmc7XG4gICAgYWN0aW9uOiBNZXNzYWdlQWN0aW9uO1xufVxuZXhwb3J0IGNvbnN0IGhvb2tlZE1lc3NhZ2VzOiBIb29rZWRNZXNzYWdlW10gPSBbXTtcblxuLyoqXG4gKiBBZGQgYSBsaXN0ZW5lciBmb3IgYW4gaW5jb21pbmcgTVBBIG1lc3NhZ2VcbiAqIEBwYXJhbSBsaXN0ZW5lci50aXRsZSAtIFdoYXQgbW9kdWxlIGRvZXMgdGhlIGxpc3RlbmVyIGJlbG9uZyB0b1xuICogQHBhcmFtIGxpc3RlbmVyLm1lc3NhZ2UgLSBUaGUgbWVzc2FnZSBzdHJpbmcgdG8gbWF0Y2ggd2l0aCB0aGUgaW5jb21pbmcgbWVzc2FnZVxuICogQHBhcmFtIGxpc3RlbmVyLmFjdGlvbiAtIFJ1biB0aGlzIGZ1bmN0aW9uIHdoZW4gYSBtYXRjaCBpcyBmb3VuZFxuICovXG5leHBvcnQgZnVuY3Rpb24gQWRkRGF0YVN5bmNMaXN0ZW5lcihsaXN0ZW5lcjogSG9va2VkTWVzc2FnZSk6IHZvaWRcbntcbiAgICBob29rZWRNZXNzYWdlcy5wdXNoKHtcbiAgICAgICAgbW9kdWxlOiBsaXN0ZW5lci5tb2R1bGUsXG4gICAgICAgIG1lc3NhZ2U6IGxpc3RlbmVyLm1lc3NhZ2UsXG4gICAgICAgIGFjdGlvbjogbGlzdGVuZXIuYWN0aW9uXG4gICAgfSBhcyBIb29rZWRNZXNzYWdlKTtcbn1cbi8qKlxuICogQWRkIG1hbnkgbGlzdGVuZXJzIGZvciBhbiBpbmNvbWluZyBNUEEgbWVzc2FnZVxuICovXG5leHBvcnQgZnVuY3Rpb24gQWRkRGF0YVN5bmNMaXN0ZW5lcnMobGlzdGVuZXJzOiBIb29rZWRNZXNzYWdlW10pOiB2b2lkXG57XG4gICAgbGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyKSA9PlxuICAgIHtcbiAgICAgICAgaG9va2VkTWVzc2FnZXMucHVzaCh7XG4gICAgICAgICAgICBtb2R1bGU6IGxpc3RlbmVyLm1vZHVsZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGxpc3RlbmVyLm1lc3NhZ2UsXG4gICAgICAgICAgICBhY3Rpb246IGxpc3RlbmVyLmFjdGlvblxuICAgICAgICB9IGFzIEhvb2tlZE1lc3NhZ2UpO1xuICAgIH0pO1xufVxuLyoqXG4gKiBSZW1vdmUgYWxsIHRoZSBsaXN0ZW5lcnMgYmFzZWQgb24gdGhlIE1vZHVsZVRpdGxlXG4gKiBAcGFyYW0gbW9kdWxlIC0gTW9kdWxlIHRoZSBsaXN0ZW5lcnMgeW91IHdhbnQgdG8gcmVtb3ZlIGJlbG9uZ3MgdG9cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFJlbW92ZURhdGFTeW5jTGlzdGVuZXJzKG1vZHVsZTogTW9kdWxlVGl0bGUgfCBudWxsKTogdm9pZFxue1xuICAgIGZvciAobGV0IGkgPSBob29rZWRNZXNzYWdlcy5sZW5ndGggLSAxOyAwIDw9IGk7IGktLSlcbiAgICB7XG4gICAgICAgIGlmIChob29rZWRNZXNzYWdlc1tpXS5tb2R1bGUgPT09IG1vZHVsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgaG9va2VkTWVzc2FnZXMuc3BsaWNlKGksIDEpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gR2V0RW50cnlGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YTogU2VydmVyQ2hhdFJvb21NZXNzYWdlLCBhdHRyaWJ1dGU6IHN0cmluZyk6IENoYXRNZXNzYWdlRGljdGlvbmFyeUVudHJ5IHwgdW5kZWZpbmVkXG57XG4gICAgaWYgKCFkYXRhLkRpY3Rpb25hcnkpXG4gICAge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICB0cnlcbiAgICB7XG4gICAgICAgIHJldHVybiBkYXRhLkRpY3Rpb25hcnkuZmlsdGVyKChlbnRyeSkgPT4gISFlbnRyeVthdHRyaWJ1dGVdKVswXTtcbiAgICB9XG4gICAgY2F0Y2ggKF9lcnJvcilcbiAgICB7XG4gICAgICAgIC8vIGVoaGggdGhpcyBkb2Vzbid0IHdvcmsgY3V6IC5maWx0ZXIgaXMgbm90IGRlZmluZWQgb24gZmlyc3QgbG9hZCBmb3Igc29tZSByZWFzb25cbiAgICAgICAgLy8gTm8gYmlnIGRlYWwgc28gSSBkb24ndCByZWFsbHkgY2FyZSBpZiBpdHMgYW4gaXNzdWUgZm9yIG5vd1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGE6IFNlcnZlckNoYXRSb29tTWVzc2FnZSwgYXR0cmlidXRlOiBzdHJpbmcpOiBhbnkgfCB1bmRlZmluZWRcbntcbiAgICByZXR1cm4gR2V0RW50cnlGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgYXR0cmlidXRlKT8uW2F0dHJpYnV0ZV07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBBcnJheVRvUmVhZGFibGVTdHJpbmcoYXJyOiBzdHJpbmdbXSk6IHN0cmluZ1xue1xuICAgIGNvbnN0IGxlbmd0aCA9IGFyci5sZW5ndGg7XG4gICAgaWYgKGxlbmd0aCA9PT0gMClcbiAgICB7XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbiAgICBlbHNlIGlmIChsZW5ndGggPT09IDEpXG4gICAge1xuICAgICAgICByZXR1cm4gYXJyWzBdO1xuICAgIH1cbiAgICBlbHNlIGlmIChsZW5ndGggPT09IDIpXG4gICAge1xuICAgICAgICByZXR1cm4gYCR7YXJyWzBdfSBhbmQgJHthcnJbMV19YDtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGAke2Fyci5zbGljZSgwLCAtMSkuam9pbihcIiwgXCIpfSwgYW5kICR7YXJyW2xlbmd0aCAtIDFdfWA7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgSU5WT0xVTlRBUllfRU5EX1BFVF9TUEVBS19QRVJDRU5UQUdFLCBJTlZPTFVOVEFSWV9QRVRfU1BFQUtfUEVSQ0VOVEFHRSwgSU5WT0xVTlRBUllfUlVTSEVEX1NQRUFLX1BFUkNFTlRBR0UgfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmltcG9ydCB7IFJhbmRvbUVsZW1lbnQsIFNodWZmbGVBcnJheSB9IGZyb20gXCIuL2dlbmVyYWxcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIEFwcGVuZFBldFNwZWVjaCh0ZXh0OiBzdHJpbmcsIHBldFBocmFzZXM6IHN0cmluZ1tdKTogc3RyaW5nXG57XG4gICAgLy8gTm8gdmFsaWQgcGV0IHBocmFzZXMgdG8gYWRkXG4gICAgY29uc3QgcGV0U291bmQgPSBSYW5kb21FbGVtZW50KHBldFBocmFzZXMpO1xuICAgIGlmIChwZXRTb3VuZCA9PT0gbnVsbClcbiAgICB7XG4gICAgICAgIHJldHVybiB0ZXh0O1xuICAgIH1cblxuICAgIGlmICgvWy4hP10kLy50ZXN0KHRleHQpKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGAke3RleHR9ICR7cGV0U291bmQuY2hhckF0KDApLnRvTG9jYWxlVXBwZXJDYXNlKCkgKyBwZXRTb3VuZC5zbGljZSgxKX0uYDtcbiAgICB9XG4gICAgaWYgKC9bYS16QS1aXSQvLnRlc3QodGV4dCkpXG4gICAge1xuICAgICAgICByZXR1cm4gYCR7dGV4dH0sICR7cGV0U291bmR9LmA7XG4gICAgfVxuICAgIHJldHVybiBgJHt0ZXh0fSAke3BldFNvdW5kfS5gO1xufVxuXG4vKipcbiAqIEFwcGx5IHBldCBoZWFyaW5nIHRvIGEgU3BlZWNoVHJhbnNmb3JtR2FnR2FyYmxlIGlucHV0XG4gKiBAcGFyYW0gYXJncyBBcmdzIG9mIHRoZSBTcGVlY2hUcmFuc2Zvcm1HYWdHYXJibGVcbiAqIEBwYXJhbSBuZXh0IC0gTmV4dCBTcGVlY2hUcmFuc2Zvcm1HYWdHYXJibGUgdG8gY2FsbFxuICogQHBhcmFtIHBocmFzZXNUb0tlZXAgLSBTb3VuZHMgdGhlIHBldCBrbm93c1xuICogQHJldHVybnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEFwcGx5UGV0SGVhcmluZyhbdGV4dCwgaW50ZW5zaXR5LCBpZ25vcmVPT0NdOiBbc3RyaW5nLCBudW1iZXIsIGJvb2xlYW4gfCB1bmRlZmluZWRdLFxuICAgIG5leHQ6IChhcmdzOiBbdGV4dDogc3RyaW5nLCBpbnRlbnNpdHk6IG51bWJlciwgaWdub3JlT09DPzogYm9vbGVhbiB8IHVuZGVmaW5lZF0pID0+IHN0cmluZyxcbiAgICBwaHJhc2VzVG9LZWVwOiBzdHJpbmdbXSk6IHN0cmluZ1xue1xuICAgIC8vIFNwbGl0IHRoZSBpbnB1dCB0ZXh0IGludG8gZGlmZmVyZW50IHN1YnN0cmluZ3MgZXhsdWRpbmcgdGhlIHdvcmRzIHlvdSB3YW50IHRvIGtlZXBcbiAgICAvLyBTdGVwIDE6IEdldCB0aGUgd29yZHMgeW91IHdhbnQgdG8ga2VlcCBpZiBhbnlcbiAgICAvLyBjb25zdCBwaHJhc2VzVG9LZWVwID0gR2V0UGV0SGVhcmluZ1BocmFzZXMoKTtcbiAgICAvLyBBZGQgdGhlIFBsYXllcidzIG5hbWUgYXMgYSB3b3JkIHRoZXkgY2FuIGhlYXJcbiAgICBwaHJhc2VzVG9LZWVwLnB1c2goKFBsYXllci5OaWNrbmFtZSB8fCBQbGF5ZXIuTmFtZSkudG9Mb2NhbGVMb3dlckNhc2UoKSk7XG4gICAgLy8gQWRkIHRoZSBQbGF5ZXIncyBnZW5kZXIgYXMgaW4gdGhlIGV4YW1wbGUsIFwiR29vZCBnaXJsXCJcbiAgICBpZiAoUGxheWVyLkdldFByb25vdW5zKCkgPT09IFwiU2hlSGVyXCIpXG4gICAge1xuICAgICAgICBwaHJhc2VzVG9LZWVwLnB1c2goXCJnaXJsXCIpO1xuICAgICAgICBwaHJhc2VzVG9LZWVwLnB1c2goXCJzaGVcIik7XG4gICAgICAgIHBocmFzZXNUb0tlZXAucHVzaChcImhlclwiKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgcGhyYXNlc1RvS2VlcC5wdXNoKFwiYm95XCIpO1xuICAgICAgICBwaHJhc2VzVG9LZWVwLnB1c2goXCJoZVwiKTtcbiAgICAgICAgcGhyYXNlc1RvS2VlcC5wdXNoKFwiaGltXCIpO1xuICAgIH1cblxuICAgIC8vIFN0ZXAgMjogRmluZCB0aGUgbWF0Y2hlcyBpZiB0aGV5IGV4aXN0IGluIHRoZSBvcmdpbmFsIG1lc3NhZ2VcbiAgICAvLyBDaGVjayBsb3dlciBjYXNlIGN1eiB0aGUgcGhyYXNlIHdlIGxvb2tpbmcgZm9yIGluIGxvd2VyIGNhc2UsIGRvZXMgbm90IG1hdHRlciBmb3IgZmluYWwgcmVzdWx0LCBvbmx5IHdhbnQgcG9zaXRpb25cbiAgICBjb25zdCBtZXNzYWdlID0gdGV4dC50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgIGludGVyZmFjZSBSYW5nZSB7IHN0YXJ0OiBudW1iZXI7IGxlbjogbnVtYmVyIH1cbiAgICBsZXQgZm91bmRQaHJhc2VzOiBSYW5nZVtdID0gW107XG4gICAgcGhyYXNlc1RvS2VlcC5mb3JFYWNoKChwaHJhc2UpID0+XG4gICAge1xuICAgICAgICBjb25zdCByZWdFeHAgPSBuZXcgUmVnRXhwKGBcXFxcYiR7cGhyYXNlfVxcXFxiYCwgXCJnXCIpO1xuICAgICAgICBjb25zdCByZWdleE1hdGNoZXMgPSBbLi4ubWVzc2FnZS5tYXRjaEFsbChyZWdFeHApXTtcbiAgICAgICAgcmVnZXhNYXRjaGVzLmZvckVhY2goKG1hdGNoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBmb3VuZFBocmFzZXMucHVzaCh7IHN0YXJ0OiBtYXRjaC5pbmRleCwgbGVuOiBwaHJhc2UubGVuZ3RoIH0pO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8vIFJlbW92ZSBkdXBsaWNhdGVzIGJlY2F1c2UgSSBhbSB0b28gbGF6eSB0byBwcm9wZXJseSBkZWJ1ZyB3aHkgZHVwbGljYXRlcyBhcmUgYmVpbmcgcG9wdWxhdGVkXG4gICAgY29uc3QgdW5pcXVlUmFuZ2VzID0gbmV3IE1hcDxzdHJpbmcsIFJhbmdlPigpO1xuICAgIGZvciAoY29uc3QgaXRlbSBvZiBmb3VuZFBocmFzZXMpXG4gICAge1xuICAgICAgICBjb25zdCBrZXkgPSBgJHtpdGVtLnN0YXJ0fS0ke2l0ZW0ubGVufWA7XG4gICAgICAgIGlmICghdW5pcXVlUmFuZ2VzLmhhcyhrZXkpKVxuICAgICAgICB7XG4gICAgICAgICAgICB1bmlxdWVSYW5nZXMuc2V0KGtleSwgaXRlbSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm91bmRQaHJhc2VzID0gQXJyYXkuZnJvbSh1bmlxdWVSYW5nZXMudmFsdWVzKCkpO1xuXG4gICAgLy8gTm8gbWF0Y2hlcyBmb3VuZCBzbyBjYW4gc2tpcCBhbmQgZWFybHkgcmV0dXJuXG4gICAgaWYgKGZvdW5kUGhyYXNlcy5sZW5ndGggPT09IDApXG4gICAge1xuICAgICAgICByZXR1cm4gbmV4dChbdGV4dCwgaW50ZW5zaXR5LCBpZ25vcmVPT0NdKTtcbiAgICB9XG5cbiAgICAvLyBTb3J0IHNvIHRoYXQgaXQgaXMgY29uc3RydWN0ZWQgaW4gdGhlIGNvcnJlY3Qgb3JkZXIgd2hlbiBwdXQgYmFjayB0b2dldGhlcjsgbG93ZXIgc3RhcnRpbmcgaW5kZXhlcyBmaXJzdFxuICAgIGZvdW5kUGhyYXNlcy5zb3J0KChhLCBiKSA9PiBhLnN0YXJ0IC0gYi5zdGFydCk7XG4gICAgLy8gUmVtb3ZlIGFueSBwaHJhc2VzIHRoYXQgYXJlIGZvdW5kIHdpdGhpbiBPT0Mgc3BlZWNoIHJhbmdlO1xuICAgIGNvbnN0IG9vY1JhbmdlcyA9IFNwZWVjaEdldE9PQ1Jhbmdlcyh0ZXh0KTtcbiAgICBvb2NSYW5nZXMuZm9yRWFjaCgocmFuZ2UpID0+XG4gICAge1xuICAgICAgICBmb3IgKGxldCBpID0gZm91bmRQaHJhc2VzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBwaHJhc2UgPSBmb3VuZFBocmFzZXNbaV07XG4gICAgICAgICAgICAvLyBSZW1vdmUgaWYgdGhlIHBocmFzZSBzdGFydHMgb3IgZW5kcyB3aXRoaW4gdGhlIG9vYyByYW5nZVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIChyYW5nZS5zdGFydCA8IHBocmFzZS5zdGFydCAmJiBwaHJhc2Uuc3RhcnQgPCByYW5nZS5zdGFydCArIHJhbmdlLmxlbmd0aClcbiAgICAgICAgICAgICAgICB8fCAocmFuZ2Uuc3RhcnQgPCBwaHJhc2Uuc3RhcnQgKyBwaHJhc2UubGVuICYmIHBocmFzZS5zdGFydCArIHBocmFzZS5sZW4gPCByYW5nZS5zdGFydCArIHJhbmdlLmxlbmd0aClcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmb3VuZFBocmFzZXMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBNYXkgbmVlZCB0byBjaGVjayB0aGF0IG9uZSBwaHJhc2UgZG9lcyBub3Qgc3RhcnQgYmVmb3JlIGFub3RoZXIgZW5kcywgYW5kIGlmIHNvIG1lcmdlIGludG8gYSBzaW5nbGUgbG9uZ2VyIGVudHJ5XG4gICAgbGV0IGxhc3RJbmRleCA9IDA7XG4gICAgbGV0IGZpbmFsVGV4dCA9IFwiXCI7XG4gICAgZm91bmRQaHJhc2VzLmZvckVhY2goKGZvdW5kKSA9PlxuICAgIHtcbiAgICAgICAgLy8gQmVmb3JlIHRoZSBwaHJhc2UgdG8gb21pdFxuICAgICAgICBmaW5hbFRleHQgKz0gbmV4dChbdGV4dC5zdWJzdHJpbmcobGFzdEluZGV4LCBmb3VuZC5zdGFydCksIGludGVuc2l0eSwgaWdub3JlT09DXSk7XG5cbiAgICAgICAgLy8gUGhyYXNlIHdlIHdhbnQgdG8gb21pdFxuICAgICAgICBsYXN0SW5kZXggPSBmb3VuZC5zdGFydCArIGZvdW5kLmxlbjtcbiAgICAgICAgZmluYWxUZXh0ICs9IHRleHQuc3Vic3RyaW5nKGZvdW5kLnN0YXJ0LCBmb3VuZC5zdGFydCArIGZvdW5kLmxlbik7XG4gICAgfSk7XG4gICAgLy8gTGFzdCBvZiB0aGUgdGV4dCB0byBnYXJibGUgdXBcbiAgICBmaW5hbFRleHQgKz0gbmV4dChbdGV4dC5zdWJzdHJpbmcobGFzdEluZGV4KSwgaW50ZW5zaXR5LCBpZ25vcmVPT0NdKTtcblxuICAgIHJldHVybiBmaW5hbFRleHQ7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gTm9uRGlzcnVwdGl2ZVBldFNwZWVjaChtc2c6IHN0cmluZywgbmV4dDogKGFyZ3M6IFttc2c6IHN0cmluZ10pID0+IHN0cmluZyB8IGJvb2xlYW4sIGFsbG93ZWRQZXRQaHJhc2VzOiBzdHJpbmdbXSk6IHN0cmluZyB8IGJvb2xlYW5cbntcbiAgICAvLyBObyBwaHJhc2VzIHdlIGNhbiB1c2UsIHNraXBcbiAgICBpZiAoYWxsb3dlZFBldFBocmFzZXMubGVuZ3RoID09PSAwKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG5leHQoW21zZ10pO1xuICAgIH1cblxuICAgIC8vIFVzZSBidWNrZXQgc3lzdGVtIHNvIHdvcmRzIGFwcGVhciBsZXNzIHJhbmRvbVxuICAgIC8vIEJ1Y2tldCBpcyAyeCBhbGxvd2VkIHBldCBwaHJhc2VzIGJlZm9yZSByZWZpbGxpbmdcbiAgICBsZXQgcGV0UGhyYXNlQnVja2V0OiBzdHJpbmdbXSA9IFtdO1xuICAgIGZ1bmN0aW9uIEdldFBldFBoYXNlKCk6IHN0cmluZ1xuICAgIHtcbiAgICAgICAgaWYgKHBldFBocmFzZUJ1Y2tldC5sZW5ndGggPT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHBldFBocmFzZUJ1Y2tldCA9IGFsbG93ZWRQZXRQaHJhc2VzLmNvbmNhdChhbGxvd2VkUGV0UGhyYXNlcyk7XG4gICAgICAgICAgICBwZXRQaHJhc2VCdWNrZXQgPSBTaHVmZmxlQXJyYXkocGV0UGhyYXNlQnVja2V0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGV0UGhyYXNlQnVja2V0LnBvcCgpID8/IFwiXCI7XG4gICAgfVxuXG4gICAgLy8gTG9vcCB0aHJvdWdoIGFsbCB0aGUgb29jIHJhbmdlcyB0byBzcGxpdCB0ZXh0IGludG8gb29jIGFuZCBub24gb29jIGNodW5rc1xuICAgIC8vIFNraXAgYWRkaW5nIHBldCBzb3VuZHMgdG8gb29jIHNlZ21lbnRzXG4gICAgbGV0IG5leHRJbmRleCA9IDA7XG4gICAgbGV0IHNlZ21lbnRzOiB7IHRleHQ6IHN0cmluZzsgb29jOiBib29sZWFuIH1bXSA9IFtdO1xuICAgIGNvbnN0IG9vY1JhbmdlcyA9IFNwZWVjaEdldE9PQ1Jhbmdlcyhtc2cpO1xuICAgIGZvciAoY29uc3QgcmFuZ2Ugb2Ygb29jUmFuZ2VzKVxuICAgIHtcbiAgICAgICAgaWYgKG1zZy5zdWJzdHJpbmcobmV4dEluZGV4LCByYW5nZS5zdGFydCkgIT09IFwiXCIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNlZ21lbnRzLnB1c2goeyB0ZXh0OiBtc2cuc3Vic3RyaW5nKG5leHRJbmRleCwgcmFuZ2Uuc3RhcnQpLCBvb2M6IGZhbHNlIH0pO1xuICAgICAgICB9XG4gICAgICAgIHNlZ21lbnRzLnB1c2goeyB0ZXh0OiBtc2cuc3Vic3RyaW5nKHJhbmdlLnN0YXJ0LCByYW5nZS5zdGFydCArIHJhbmdlLmxlbmd0aCksIG9vYzogdHJ1ZSB9KTtcbiAgICAgICAgbmV4dEluZGV4ID0gcmFuZ2Uuc3RhcnQgKyByYW5nZS5sZW5ndGg7XG4gICAgfVxuICAgIC8vIEFkZCBsYXN0IHNlZ21lbnQgZnJvbSBlbmQgb2YgcmFuZ2UgdG8gZW5kIG9mIHRleHRcbiAgICBjb25zdCBsYXN0Qml0ID0gbXNnLnN1YnN0cmluZyhuZXh0SW5kZXgpO1xuICAgIGlmIChsYXN0Qml0ICE9PSBcIlwiKVxuICAgIHtcbiAgICAgICAgc2VnbWVudHMucHVzaCh7IHRleHQ6IGxhc3RCaXQsIG9vYzogZmFsc2UgfSk7XG4gICAgfVxuICAgIC8vIE1vdmUgYW55IHdoaXRlc3BhY2Ugb24gdGhlIHJpZ2h0IHNpZGUgb2YgYW4gZWxlbWVudCB0byB0aGUgbGVmdCBzaWRlIG9mIHRoZSBuZXh0IGVsZW1lbnRcbiAgICAvLyBNYWtlcyBmaW5hbCBmb3JtYXR0aW5nIGNsZWFuZXIgYW5kIGVhc2llclxuICAgIHNlZ21lbnRzID0gc2VnbWVudHMubWFwKChvYmosIGkpID0+XG4gICAge1xuICAgICAgICBjb25zdCB0cmFpbGluZ1doaXRlc3BhY2UgPSAvXFxzKyQvLmV4ZWMob2JqLnRleHQpO1xuICAgICAgICBvYmoudGV4dCA9IG9iai50ZXh0LnJlcGxhY2UoL1xccyskLywgXCJcIik7IC8vIFJlbW92ZSB0cmFpbGluZyB3aGl0ZXNwYWNlIGZyb20gY3VycmVudCB0ZXh0XG4gICAgICAgIGlmICh0cmFpbGluZ1doaXRlc3BhY2UgJiYgc2VnbWVudHNbaSArIDFdKVxuICAgICAgICB7XG4gICAgICAgICAgICBzZWdtZW50c1tpICsgMV0udGV4dCA9IHRyYWlsaW5nV2hpdGVzcGFjZVswXSArIHNlZ21lbnRzW2kgKyAxXS50ZXh0OyAvLyBQcmVwZW5kIHdoaXRlc3BhY2UgdG8gbmV4dCB0ZXh0XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9KTtcblxuICAgIC8vIEZvciBlYWNoIG5vbiBvb2Mgc2VnbWVudCBwZXRpZnkgc3BlYWsgaXRcbiAgICBsZXQgc3Bva2VQZXQgPSBmYWxzZTtcbiAgICBsZXQgbmV3TXNnID0gXCJcIjtcbiAgICBmb3IgKGNvbnN0IHNlZ21lbnQgb2Ygc2VnbWVudHMpXG4gICAge1xuICAgICAgICBpZiAoc2VnbWVudC5vb2MpXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5ld01zZyArPSBzZWdtZW50LnRleHQ7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHNwbGl0UGhyYXNlID0gc2VnbWVudC50ZXh0Lm1hdGNoKC8oXFxzKlxcUyspL2cpIHx8IFtdO1xuICAgICAgICBsZXQgcHJldmlvdXNXb3JkOiBzdHJpbmcgfCBudWxsID0gbnVsbDtcbiAgICAgICAgc3BsaXRQaHJhc2UuZm9yRWFjaCgod29yZCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgLy8gUmFuZG9tIGNoYW5jZSBmb3IgYSBwZXQgc291bmQgdG8gYXBwZWFyIGJlZm9yZSB0aGUgY3VycmVudCB3b3JkXG4gICAgICAgICAgICBpZiAoTWF0aC5yYW5kb20oKSA8IElOVk9MVU5UQVJZX1BFVF9TUEVBS19QRVJDRU5UQUdFKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNwb2tlUGV0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb25zdCBwZXRTb3VuZCA9IEdldFBldFBoYXNlKCk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBub1ByZXYgPSBwcmV2aW91c1dvcmQgPT09IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKG5vUHJldiB8fCAvWy4hP10kLy50ZXN0KHByZXZpb3VzV29yZCA/PyBcIlwiKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5ld01zZyArPSBgJHtub1ByZXYgPyBcIlwiIDogXCIgXCJ9JHtwZXRTb3VuZC5jaGFyQXQoMCkudG9Mb2NhbGVVcHBlckNhc2UoKX0ke3BldFNvdW5kLnNsaWNlKDEpfWBcbiAgICAgICAgICAgICAgICAgICAgKyBgJHsvWy4hP10kLy50ZXN0KHdvcmQpIHx8IG5vUHJldiA/IGAuJHtub1ByZXYgPyBcIiBcIiA6IFwiXCJ9YCA6IFwiLCBcIn1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuZXdNc2cgKz0gYCR7TWF0aC5yYW5kb20oKSA8IElOVk9MVU5UQVJZX1JVU0hFRF9TUEVBS19QRVJDRU5UQUdFICYmICEocHJldmlvdXNXb3JkID8/IFwiXCIpLmVuZHNXaXRoKFwiLFwiKSA/IFwiLFwiIDogXCJcIn0gJHtwZXRTb3VuZH0sYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXdNc2cgKz0gd29yZDtcbiAgICAgICAgICAgIHByZXZpb3VzV29yZCA9IHdvcmQ7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIElmIG5vIHBldCB3b3JkcyBoYXZlIGJlZW4gc3Bva2VuIHNvIGZhciwgZW5kIHdpdGggb25lIG9yIGEgY2hhbmNlIGZvciBpdCB0byBlbmQgd2l0aCBvbmUgYW55d2F5XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIHNlZ21lbnRzLnNsaWNlKCkucmV2ZXJzZSgpLmZpbmQoKGl0ZW0pID0+ICFpdGVtLm9vYyk/LnRleHQgPT09IHNlZ21lbnQudGV4dCAvLyBMYXN0IG5vbiBvb2Mgc2VnbWVudFxuICAgICAgICAgICAgJiYgKCFzcG9rZVBldCB8fCBNYXRoLnJhbmRvbSgpIDwgSU5WT0xVTlRBUllfRU5EX1BFVF9TUEVBS19QRVJDRU5UQUdFKVxuICAgICAgICApXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5ld01zZyA9IEFwcGVuZFBldFNwZWVjaChuZXdNc2csIFtHZXRQZXRQaGFzZSgpXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbmV4dChbbmV3TXNnXSk7XG59XG4iLCJpbXBvcnQgeyBNb2R1bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9fbW9kdWxlXCI7XG5pbXBvcnQgeyBMb2FkU3RvcmFnZSB9IGZyb20gXCIuL3N0b3JhZ2VcIjtcbmltcG9ydCB7IERhdGFTeW5jTW9kdWxlIH0gZnJvbSBcIi4uL21vZHVsZXMvZGF0YVN5bmNcIjtcbmltcG9ydCB7IFNldHRpbmdzTW9kdWxlIH0gZnJvbSBcIi4uL21vZHVsZXMvc2V0dGluZ3NcIjtcbmltcG9ydCB7IEFjdGl2aXRpZXNNb2R1bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9hY3Rpdml0aWVzXCI7XG5pbXBvcnQgeyBDbGlja2VyTW9kdWxlIH0gZnJvbSBcIi4uL21vZHVsZXMvY2xpY2tlclwiO1xuaW1wb3J0IHsgVmlydHVhbFBldE1vZHVsZSB9IGZyb20gXCIuLi9tb2R1bGVzL3ZpcnR1YWxQZXRcIjtcbmltcG9ydCB7IFZpcnR1YWxQZXRIVURNb2R1bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy92aXJ0dWFsUGV0SFVEXCI7XG5pbXBvcnQgeyBWaXJ0dWFsUGV0Q29uZGl0aW9uc01vZHVsZSB9IGZyb20gXCIuLi9tb2R1bGVzL3ZpcnR1YWxQZXRDb25kaXRpb25zXCI7XG5pbXBvcnQgeyBQcm9maWxlTW9kdWxlIH0gZnJvbSBcIi4uL21vZHVsZXMvcHJvZmlsZVwiO1xuaW1wb3J0IHsgU2V0dGluZ3NPdGhlck1vZHVsZSB9IGZyb20gXCIuLi9tb2R1bGVzL3NldHRpbmdzT3RoZXJzXCI7XG5pbXBvcnQgeyBBdXRob3JpdHlNb2R1bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9hdXRob3JpdHlcIjtcbmltcG9ydCB7IFByaXZhdGVNb2R1bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9wcml2YXRlXCI7XG5cbmxldCBtb2R1bGVzUmVnaXN0ZXJlZCA9IGZhbHNlO1xuXG5leHBvcnQgY29uc3QgbW9kdWxlczogTW9kdWxlW10gPSBbXG4gICAgbmV3IERhdGFTeW5jTW9kdWxlKCksXG4gICAgbmV3IFNldHRpbmdzTW9kdWxlKCksXG4gICAgbmV3IEFjdGl2aXRpZXNNb2R1bGUoKSxcbiAgICBuZXcgQ2xpY2tlck1vZHVsZSgpLFxuICAgIG5ldyBWaXJ0dWFsUGV0TW9kdWxlKCksXG4gICAgbmV3IFZpcnR1YWxQZXRIVURNb2R1bGUoKSxcbiAgICBuZXcgVmlydHVhbFBldENvbmRpdGlvbnNNb2R1bGUoKSxcbiAgICBuZXcgUHJvZmlsZU1vZHVsZSgpLFxuICAgIG5ldyBTZXR0aW5nc090aGVyTW9kdWxlKCksXG4gICAgbmV3IEF1dGhvcml0eU1vZHVsZSgpLFxuICAgIG5ldyBQcml2YXRlTW9kdWxlKClcbl07XG5cbmV4cG9ydCBjb25zdCBzZXR0aW5nczogUGFydGlhbDxNUEFTZXR0aW5ncz4gPSB7fTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFJlZ2lzdGVyTW9kdWxlcygpOiBQcm9taXNlPHZvaWQ+XG57XG4gICAgLy8gTm8gZHVwbGljYXRlIG1vZHVsZSByZWdpc3RlcmluZ1xuICAgIGlmIChtb2R1bGVzUmVnaXN0ZXJlZCkgeyByZXR1cm47IH1cblxuICAgIG1vZHVsZXMuZm9yRWFjaCgobW9kdWxlKSA9PlxuICAgIHtcbiAgICAgICAgLy8gR2V0IGFsbCB0aGUgc2V0dGluZ3NcbiAgICAgICAgY29uc3QgbW9kU2V0ID0gbW9kdWxlLlNldHRpbmdzO1xuICAgICAgICBjb25zdCBuZXdTZXR0aW5ncyA9IHt9O1xuICAgICAgICBtb2RTZXQuZm9yRWFjaCgoc2V0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBuZXdTZXR0aW5nc1tzZXQubmFtZV0gPSBzZXQ7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoT2JqZWN0LmtleXMobmV3U2V0dGluZ3MpLmxlbmd0aCAhPT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgc2V0dGluZ3NbbW9kdWxlLlRpdGxlXSA9IG5ld1NldHRpbmdzO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgYXdhaXQgTG9hZFN0b3JhZ2UoKTtcblxuICAgIC8vIExvYWQgdGhlIG1vZHVsZXNcbiAgICBtb2R1bGVzLmZvckVhY2goKG1vZHVsZSkgPT5cbiAgICB7XG4gICAgICAgIG1vZHVsZS5Mb2FkKCk7XG4gICAgfSk7XG4gICAgbW9kdWxlc1JlZ2lzdGVyZWQgPSB0cnVlO1xufVxuIiwiaW1wb3J0IGJjTW9kU2RrLCB7IEdldERvdGVkUGF0aFR5cGUsIE1vZFNES01vZEFQSSwgUGF0Y2hIb29rIH0gZnJvbSBcImJvbmRhZ2UtY2x1Yi1tb2Qtc2RrXCI7XG5pbXBvcnQgeyBNb2R1bGVUaXRsZSB9IGZyb20gXCIuLi9tb2R1bGVzL19tb2R1bGVcIjtcbmltcG9ydCB7IE1QQV9OQU1FLCBNUEFfUkVQTywgTVBBX1ZFUlNJT04gfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcblxuaW50ZXJmYWNlIEhvb2tlZEZ1bmN0aW9uXG57XG4gICAgZnVuY3Rpb25OYW1lOiBzdHJpbmc7XG4gICAgcHJpb3JpdHk6IG51bWJlcjtcbiAgICBob29rOiBQYXRjaEhvb2s7XG4gICAgbW9kdWxlOiBzdHJpbmcgfCBudWxsO1xuICAgIHJlbW92ZUhvb2s6ICgpID0+IHZvaWQ7XG59XG5jb25zdCBob29rczogSG9va2VkRnVuY3Rpb25bXSA9IFtdO1xuXG5leHBvcnQgY29uc3QgbW9kQVBJOiBNb2RTREtNb2RBUEkgPSBiY01vZFNkay5yZWdpc3Rlck1vZCh7XG4gICAgbmFtZTogTVBBX05BTUUsXG4gICAgdmVyc2lvbjogTVBBX1ZFUlNJT04sXG4gICAgZnVsbE5hbWU6IFwiTWF5YSdzIFBldHBsYXkgQWRkaXRpb25zXCIsXG4gICAgcmVwb3NpdG9yeTogTVBBX1JFUE9cbn0sIHtcbiAgICBhbGxvd1JlcGxhY2U6IGZhbHNlXG59KTtcblxuLyoqXG4gKiBIb29rIGEgQkMgZnVuY3Rpb25cbiAqIEBwYXJhbSBtb2R1bGUgLSBUaGUgdGl0bGUgb2YgdGhlIG1vZHVsZSB0aGUgaG9vayBpcyBiZWluZyB1c2VkIGluXG4gKiBAdGVtcGxhdGUgVEZ1bmN0aW9uTmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBob29rZWQgZnVuY3Rpb24sIF9lLmcuXyBgXCJQbGF5ZXIuQ2FuQ2hhbmdlXCJgXG4gKiBAcGFyYW0gZnVuY3Rpb25OYW1lIC0gTmFtZSBvZiBmdW5jdGlvbiB0byBob29rLiBDYW4gY29udGFpbiBkb3RzIHRvIGNoYW5nZSBtZXRob2RzIGluIG9iamVjdHMgKGUuZy4gYFBsYXllci5DYW5DaGFuZ2VgKVxuICogQHBhcmFtIHByaW9yaXR5IC0gTnVtYmVyIHVzZWQgdG8gZGV0ZXJtaW5hdGUgb3JkZXIgaG9va3Mgd2lsbCBiZSBjYWxsZWQgaW4uIEhpZ2hlciBudW1iZXIgaXMgY2FsbGVkIGZpcnN0XG4gKiBAcGFyYW0gaG9vayAtIFRoZSBob29rIGl0c2VsZiB0byB1c2UsIEBzZWUgUGF0Y2hIb29rXG4gKiBAcmV0dXJucyBGdW5jdGlvbiB0aGF0IGNhbiBiZSBjYWxsZWQgdG8gcmVtb3ZlIHRoaXMgaG9va1xuICovXG5leHBvcnQgZnVuY3Rpb24gSG9va0Z1bmN0aW9uPFRGdW5jdGlvbk5hbWUgZXh0ZW5kcyBzdHJpbmc+KG1vZHVsZTogTW9kdWxlVGl0bGUgfCBudWxsLCBmdW5jdGlvbk5hbWU6IFRGdW5jdGlvbk5hbWUsIHByaW9yaXR5OiBudW1iZXIsIGhvb2s6IFBhdGNoSG9vazxHZXREb3RlZFBhdGhUeXBlPHR5cGVvZiBnbG9iYWxUaGlzLCBURnVuY3Rpb25OYW1lPj4pOiAoKSA9PiB2b2lkXG57XG4gICAgY29uc3QgcmVtb3ZlSG9vayA9IG1vZEFQSS5ob29rRnVuY3Rpb24oZnVuY3Rpb25OYW1lLCBwcmlvcml0eSwgaG9vayk7XG5cbiAgICBob29rcy5wdXNoKHtcbiAgICAgICAgZnVuY3Rpb25OYW1lOiBmdW5jdGlvbk5hbWUsXG4gICAgICAgIHByaW9yaXR5OiBwcmlvcml0eSxcbiAgICAgICAgaG9vazogaG9vayxcbiAgICAgICAgbW9kdWxlOiBtb2R1bGUsXG4gICAgICAgIHJlbW92ZUhvb2s6IHJlbW92ZUhvb2tcbiAgICB9IGFzIEhvb2tlZEZ1bmN0aW9uKTtcblxuICAgIHJldHVybiByZW1vdmVIb29rO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVtb3ZlSG9va3MobW9kdWxlOiBNb2R1bGVUaXRsZSB8IG51bGwpOiB2b2lkXG57XG4gICAgZm9yIChsZXQgaSA9IGhvb2tzLmxlbmd0aCAtIDE7IDAgPD0gaTsgaS0tKVxuICAgIHtcbiAgICAgICAgaWYgKGhvb2tzW2ldLm1vZHVsZSA9PT0gbW9kdWxlKVxuICAgICAgICB7XG4gICAgICAgICAgICBob29rc1tpXS5yZW1vdmVIb29rKCk7XG4gICAgICAgICAgICBob29rcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogT25seSByZWxlYXNlIHRoZSBhd2FpdCB3aGVuIHRoZSBQbGF5ZXIgaXMgZGV0ZWN0ZWQgYW5kIGxvYWRlZFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gQXdhaXRQbGF5ZXIoKTogUHJvbWlzZTx2b2lkPlxue1xuICAgIGlmIChQbGF5ZXIuTWVtYmVyTnVtYmVyICYmIFBsYXllci5FeHRlbnNpb25TZXR0aW5ncylcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4oKHJlc29sdmUpID0+XG4gICAge1xuICAgICAgICBjb25zdCBob29rID0gbW9kQVBJLmhvb2tGdW5jdGlvbihcIkxvZ2luUmVzcG9uc2VcIiwgMCwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIExldCByZXNwb25zZSBoYXBwZW4gZmlyc3RcbiAgICAgICAgICAgIG5leHQoYXJncyk7XG5cbiAgICAgICAgICAgIC8vIFJlbW92ZSB0aGlzIGhvb2sgd2hlbiBkb25lXG4gICAgICAgICAgICBob29rKCk7XG5cbiAgICAgICAgICAgIC8vIFJlc29sdmUgdGhlIHByb21pc2UgdG8gZW5kIHRoZSBhd2FpdCBjb25kaXRpb25cbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5cbi8qKlxuICogR2V0IHRoZSBCQ1ggbW9kIGFwaSBmb3IgTVBBXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiY3hBUEkoKVxue1xuICAgIHJldHVybiB3aW5kb3cuYmN4Py5nZXRNb2RBcGkoTVBBX05BTUUpO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIEJDWCBpZiBmb3VuZFxuICovXG5leHBvcnQgZnVuY3Rpb24gYmN4Rm91bmQoKTogYm9vbGVhblxue1xuICAgIHJldHVybiAhIXdpbmRvdy5iY3g7XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gSXNEaXNwbGF5U2V0dGluZyhzZXR0aW5nOiBTZXR0aW5nKTogc2V0dGluZyBpcyBEaXNwbGF5ZWRTZXR0aW5nXG57XG4gICAgcmV0dXJuIChcbiAgICAgICAgdHlwZW9mIChzZXR0aW5nIGFzIERpc3BsYXllZFNldHRpbmcpLmFjdGl2ZSA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICYmIHR5cGVvZiAoc2V0dGluZyBhcyBEaXNwbGF5ZWRTZXR0aW5nKS5sYWJlbCA9PT0gXCJzdHJpbmdcIlxuICAgICk7XG59XG5leHBvcnQgZnVuY3Rpb24gSXNDaGVja2JveFNldHRpbmcoc2V0dGluZzogU2V0dGluZyk6IHNldHRpbmcgaXMgQ2hlY2tib3hTZXR0aW5nXG57XG4gICAgcmV0dXJuIChcbiAgICAgICAgSXNEaXNwbGF5U2V0dGluZyhzZXR0aW5nKVxuICAgICAgICAmJiAoc2V0dGluZyBhcyBDaGVja2JveFNldHRpbmcpLnR5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAmJiB0eXBlb2YgKHNldHRpbmcgYXMgQ2hlY2tib3hTZXR0aW5nKS52YWx1ZSA9PT0gXCJib29sZWFuXCJcbiAgICApO1xufVxuZXhwb3J0IGZ1bmN0aW9uIElzT3B0aW9uU2V0dGluZyhzZXR0aW5nOiBTZXR0aW5nKTogc2V0dGluZyBpcyBPcHRpb25TZXR0aW5nXG57XG4gICAgcmV0dXJuIChcbiAgICAgICAgSXNEaXNwbGF5U2V0dGluZyhzZXR0aW5nKVxuICAgICAgICAmJiAoc2V0dGluZyBhcyBPcHRpb25TZXR0aW5nKS50eXBlID09PSBcIm9wdGlvblwiXG4gICAgICAgICYmIHR5cGVvZiAoc2V0dGluZyBhcyBPcHRpb25TZXR0aW5nKS52YWx1ZSA9PT0gXCJzdHJpbmdcIlxuICAgICAgICAmJiBBcnJheS5pc0FycmF5KChzZXR0aW5nIGFzIE9wdGlvblNldHRpbmcpLm9wdGlvbnMpXG4gICAgICAgICYmIHR5cGVvZiAoc2V0dGluZyBhcyBPcHRpb25TZXR0aW5nKS5sb29wID09PSBcImJvb2xlYW5cIlxuICAgICk7XG59XG5leHBvcnQgZnVuY3Rpb24gSXNUZXh0U2V0dGluZyhzZXR0aW5nOiBTZXR0aW5nKTogc2V0dGluZyBpcyBUZXh0U2V0dGluZ1xue1xuICAgIHJldHVybiAoXG4gICAgICAgIElzRGlzcGxheVNldHRpbmcoc2V0dGluZylcbiAgICAgICAgJiYgKHNldHRpbmcgYXMgVGV4dFNldHRpbmcpLnR5cGUgPT09IFwidGV4dFwiXG4gICAgICAgICYmIHR5cGVvZiAoc2V0dGluZyBhcyBUZXh0U2V0dGluZykudmFsdWUgPT09IFwic3RyaW5nXCJcbiAgICAgICAgJiYgKHR5cGVvZiAoc2V0dGluZyBhcyBUZXh0U2V0dGluZykud2lkdGggPT09IFwibnVtYmVyXCJcbiAgICAgICAgfHwgKHNldHRpbmcgYXMgVGV4dFNldHRpbmcpLndpZHRoID09PSBudWxsKVxuICAgICAgICAmJiAodHlwZW9mIChzZXR0aW5nIGFzIFRleHRTZXR0aW5nKS5tYXhDaGFycyA9PT0gXCJudW1iZXJcIlxuICAgICAgICB8fCAoc2V0dGluZyBhcyBUZXh0U2V0dGluZykubWF4Q2hhcnMgPT09IG51bGwpXG4gICAgKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBJc051bWJlclNldHRpbmcoc2V0dGluZzogU2V0dGluZyk6IHNldHRpbmcgaXMgTnVtYmVyU2V0dGluZ1xue1xuICAgIHJldHVybiAoXG4gICAgICAgIElzRGlzcGxheVNldHRpbmcoc2V0dGluZylcbiAgICAgICAgJiYgKHNldHRpbmcgYXMgTnVtYmVyU2V0dGluZykudHlwZSA9PT0gXCJudW1iZXJcIlxuICAgICAgICAmJiB0eXBlb2YgKHNldHRpbmcgYXMgTnVtYmVyU2V0dGluZykudmFsdWUgPT09IFwibnVtYmVyXCJcbiAgICAgICAgJiYgKHR5cGVvZiAoc2V0dGluZyBhcyBOdW1iZXJTZXR0aW5nKS53aWR0aCA9PT0gXCJudW1iZXJcIlxuICAgICAgICB8fCAoc2V0dGluZyBhcyBOdW1iZXJTZXR0aW5nKS53aWR0aCA9PT0gbnVsbClcbiAgICAgICAgJiYgdHlwZW9mIChzZXR0aW5nIGFzIE51bWJlclNldHRpbmcpLm1pbiA9PT0gXCJudW1iZXJcIlxuICAgICAgICAmJiB0eXBlb2YgKHNldHRpbmcgYXMgTnVtYmVyU2V0dGluZykubWF4ID09PSBcIm51bWJlclwiXG4gICAgICAgICYmICh0eXBlb2YgKHNldHRpbmcgYXMgTnVtYmVyU2V0dGluZykuc3RlcCA9PT0gXCJudW1iZXJcIlxuICAgICAgICB8fCAoc2V0dGluZyBhcyBOdW1iZXJTZXR0aW5nKS5zdGVwID09PSBudWxsKVxuICAgICk7XG59XG4iLCJpbXBvcnQgeyBMb2NhbGl6ZWRUZXh0IH0gZnJvbSBcIi4uL2xvY2FsaXphdGlvbi9sb2NhbGl6YXRpb25cIjtcbmltcG9ydCB7IHNldHRpbmdzIGFzIGN1cnJlbnRTZXR0aW5ncyB9IGZyb20gXCIuL3JlZ2lzdGVyTW9kdWxlc1wiO1xuaW1wb3J0IHsgQXdhaXRQbGF5ZXIgfSBmcm9tIFwiLi9zZGtcIjtcbmltcG9ydCB7IFNldHRpbmdTeW5jIH0gZnJvbSBcIi4uL21vZHVsZXMvZGF0YVN5bmNcIjtcbmltcG9ydCB7IE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4uL21vZHVsZXMvX21vZHVsZVwiO1xuaW1wb3J0IHsgTVBBX1ZFUlNJT04gfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcbmltcG9ydCB7IExldmVsU3luYyB9IGZyb20gXCIuLi9tb2R1bGVzL3ZpcnR1YWxQZXRcIjtcblxuZnVuY3Rpb24gTVBBVXBkYXRlQ2hlY2soc2V0dGluZ3M6IE1QQVJlY29yZHMpOiB2b2lkXG57XG4gICAgaWYgKChzZXR0aW5ncy52ZXJzaW9uIGFzIGFueSkgIT09IE1QQV9WRVJTSU9OKVxuICAgIHtcbiAgICAgICAgU2VydmVyQWNjb3VudEJlZXAoe1xuICAgICAgICAgICAgTWVtYmVyTnVtYmVyOiBQbGF5ZXIuTWVtYmVyTnVtYmVyID8/IC0xLFxuICAgICAgICAgICAgTWVtYmVyTmFtZTogTG9jYWxpemVkVGV4dChcIk1QQVwiKSxcbiAgICAgICAgICAgIENoYXRSb29tU3BhY2U6IFwiWFwiLFxuICAgICAgICAgICAgQ2hhdFJvb21OYW1lOiBMb2NhbGl6ZWRUZXh0KFwiTVBBIFVwZGF0ZWRcIiksXG4gICAgICAgICAgICBQcml2YXRlOiBmYWxzZSxcbiAgICAgICAgICAgIEJlZXBUeXBlOiBcIlwiLFxuICAgICAgICAgICAgTWVzc2FnZTogXCJNUEEgaGFzIGJlZW4gdXBkYXRlZC5cIlxuICAgICAgICB9KTtcbiAgICAgICAgKHNldHRpbmdzLnZlcnNpb24gYXMgYW55KSA9IE1QQV9WRVJTSU9OO1xuICAgICAgICBTYXZlU3RvcmFnZShmYWxzZSk7XG4gICAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gTG9hZFN0b3JhZ2UoKTogUHJvbWlzZTx2b2lkPlxue1xuICAgIC8vIEVuc3VyZSB0aGUgcGxheWVyIGlzIGxvYWRlZCBiZWZvcmUgYXR0ZW1wdGluZyB0byByZWFkIHRoZSBleHRlbnRpb24gc2V0dGluZ3NcbiAgICBhd2FpdCBBd2FpdFBsYXllcigpO1xuXG4gICAgY29uc3Qgc2V0dGluZ3M6IE1QQVJlY29yZHMgPSBKU09OLnBhcnNlKExaU3RyaW5nLmRlY29tcHJlc3NGcm9tQmFzZTY0KFBsYXllci5FeHRlbnNpb25TZXR0aW5ncz8uTVBBID8/IFwiXCIpID8/IFwie31cIikgPz8ge307XG5cbiAgICBPYmplY3QuZW50cmllcyhjdXJyZW50U2V0dGluZ3MpLmZvckVhY2goKGNhdGVnb3J5KSA9PlxuICAgIHtcbiAgICAgICAgY29uc3QgW3NldHRpbmdUaXRsZSwgY2F0ZWdvcnlTZXR0aW5nc10gPSBjYXRlZ29yeSBhcyBbTW9kdWxlVGl0bGUsIE1QQUNhdGVnb3J5U2V0dGluZ3NdO1xuICAgICAgICBmb3IgKGNvbnN0IFtzZXR0aW5nTmFtZSwgc2V0XSBvZiBPYmplY3QuZW50cmllcyhjYXRlZ29yeVNldHRpbmdzKSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBwbGFjZSBmb3IgZGF0YSBpZiBpdCBkb2VzIG5vdCBleGlzdFxuICAgICAgICAgICAgaWYgKCEoc2V0dGluZ1RpdGxlIGluIHNldHRpbmdzKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzZXR0aW5nc1tzZXR0aW5nVGl0bGVdID0ge307XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTZXR0aW5nIGFscmVhZHkgc2V0XG4gICAgICAgICAgICBpZiAoc2V0dGluZ05hbWUgaW4gc2V0dGluZ3Nbc2V0dGluZ1RpdGxlXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldHRpbmdzW3NldHRpbmdUaXRsZV1bc2V0dGluZ05hbWVdID0gc2V0LnZhbHVlO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBDaGVjayBhbmQgbm90aWZ5IGlmIHRoZXJlIGlzIGFuIHVwZGF0ZVxuICAgIE1QQVVwZGF0ZUNoZWNrKHNldHRpbmdzKTtcblxuICAgIFBsYXllci5NUEEgPSBzZXR0aW5ncztcbiAgICByZXR1cm47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBTYXZlU3RvcmFnZShzeW5jV2l0aE90aGVyczogYm9vbGVhbiA9IHRydWUpOiB2b2lkXG57XG4gICAgaWYgKCFQbGF5ZXIuTVBBKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBQcnVuZSBzZWxmIGZyb20gb3duZXIgbGlzdCBpZiBhZGRlZFxuICAgIFBsYXllci5NUEFbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XS5vd25lcnMgPVxuICAgICAgICAoUGxheWVyLk1QQVtNb2R1bGVUaXRsZS5BdXRob3JpdHldLm93bmVycyBhcyBzdHJpbmcpLnNwbGl0KFwiLFwiKVxuICAgICAgICAgICAgLmZpbHRlcigodmFsKSA9PiBOdW1iZXIodmFsKSAhPT0gUGxheWVyLk1lbWJlck51bWJlcikuam9pbihcIixcIik7XG4gICAgUGxheWVyLkV4dGVuc2lvblNldHRpbmdzLk1QQSA9IExaU3RyaW5nLmNvbXByZXNzVG9CYXNlNjQoSlNPTi5zdHJpbmdpZnkoUGxheWVyLk1QQSkpO1xuICAgIFNlcnZlclBsYXllckV4dGVuc2lvblNldHRpbmdzU3luYyhcIk1QQVwiKTtcbiAgICBpZiAoc3luY1dpdGhPdGhlcnMpXG4gICAge1xuICAgICAgICBTZXR0aW5nU3luYyhmYWxzZSk7XG4gICAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUmVzZXRTdG9yYWdlKCk6IFByb21pc2U8dm9pZD5cbntcbiAgICBkZWxldGUgKFBsYXllci5FeHRlbnNpb25TZXR0aW5ncyBhcyBhbnkpLk1QQTtcbiAgICBQbGF5ZXIuRXh0ZW5zaW9uU2V0dGluZ3MuTVBBID0gTFpTdHJpbmcuY29tcHJlc3NUb0Jhc2U2NChKU09OLnN0cmluZ2lmeSh7IHZlcnNpb246IE1QQV9WRVJTSU9OIH0pKTtcbiAgICBhd2FpdCBMb2FkU3RvcmFnZSgpO1xuICAgIFNhdmVTdG9yYWdlKCk7XG4gICAgcmV0dXJuO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gRXhwb3J0U2V0dGluZ3NUb0NsaXBib2FyZCgpOiBQcm9taXNlPHZvaWQ+XG57XG4gICAgcmV0dXJuIG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KExaU3RyaW5nLmNvbXByZXNzVG9CYXNlNjQoSlNPTi5zdHJpbmdpZnkoUGxheWVyLk1QQSkpKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEltcG9ydFNldHRpbmdzRnJvbUNsaXBib2FyZCgpOiBQcm9taXNlPHZvaWQ+XG57XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+XG4gICAge1xuICAgICAgICBuYXZpZ2F0b3IuY2xpcGJvYXJkLnJlYWRUZXh0KCkudGhlbigodGV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgdHJ5XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3U2V0dGluZ3M6IE1QQVJlY29yZHMgPSBKU09OLnBhcnNlKExaU3RyaW5nLmRlY29tcHJlc3NGcm9tQmFzZTY0KHRleHQgPz8gXCJcIikgPz8gXCJ7fVwiKTtcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYSBsb2NhbGx5IGNvcHkgdG8gbW9kaWZ5IGluIGNhc2UgaXQgZmFpbHMgYW5kIG5lZWQgdG8gcmV2ZXJ0XG4gICAgICAgICAgICAgICAgLy8gVHJhbnNhY3Rpb24gaGFwcGVucyBvciBub3QgYXQgYWxsXG4gICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFNldHRpbmdzOiBNUEFSZWNvcmRzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShQbGF5ZXIuTVBBKSk7XG5cbiAgICAgICAgICAgICAgICAvLyBWaXJ0dWFsIHBldCBsZXZlbHMgd2lsbCBiZSByZXBsYWNlZCBhbnl3YXksIHNldCBjdXJyZW50IHRpbWUgc28gbm93IHRvIG5vdCBpbnRlcmZlciB3aXRoIHN5bmNpbmcgbGF0ZXJcbiAgICAgICAgICAgICAgICBjdXJyZW50U2V0dGluZ3NbTW9kdWxlVGl0bGUuVmlydHVhbFBldF0ubGV2ZWxzLmxhc3RVcGRhdGVkID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgICAgICBjdXJyZW50U2V0dGluZ3NbTW9kdWxlVGl0bGUuVmlydHVhbFBldF0ubGV2ZWxzLmxhc3RPbmxpbmUgPSBEYXRlLm5vdygpO1xuXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbmV3U2V0dGluZ3MpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV3U2V0dGluZ3Nba2V5XSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IHVwZGF0ZSB0aGUgdmFsdWUgaWYgdGhlIG5ld1JlY29yZCBrZXkgZXhpc3RzIGFuZCBpcyBub3QgdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U2V0dGluZ3Nba2V5IGFzIGtleW9mIE1QQVJlY29yZHNdID0gbmV3U2V0dGluZ3Nba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFZlcmlmeSBuZXcgc2V0dGluZ3MgYXJlIGdvb2RcbiAgICAgICAgICAgICAgICAvLyBJZiBiYWQgZGF0YSAgcmV0dXJuIHJlamVjdCgpO1xuXG4gICAgICAgICAgICAgICAgLy8gU2V0IHRoZSBsZXZlbHMgdXBkYXRlIHNvIHRoYXQgdGhleSByZXRhaW4gdGhlIHNhbWUgdmFsdWUgd2hlbiBzYXZlZCBhZnRlciBzeW5jaW5nIGFnYWluXG4gICAgICAgICAgICAgICAgY3VycmVudFNldHRpbmdzW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdLmxldmVscy5sYXN0VXBkYXRlZCA9IERhdGUubm93KCkgLSAoY3VycmVudFNldHRpbmdzW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdLmxldmVscy5sYXN0T25saW5lIC0gY3VycmVudFNldHRpbmdzW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdLmxldmVscy5sYXN0VXBkYXRlZCk7XG4gICAgICAgICAgICAgICAgY3VycmVudFNldHRpbmdzW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdLmxldmVscy5sYXN0T25saW5lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgICAgICBQbGF5ZXIuTVBBID0gY3VycmVudFNldHRpbmdzO1xuICAgICAgICAgICAgICAgIExldmVsU3luYyhmYWxzZSwgZmFsc2UsIGZhbHNlKTtcblxuICAgICAgICAgICAgICAgIFNhdmVTdG9yYWdlKHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihlcnJvcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSgpO1xuICAgICAgICB9LCAoKSA9PiByZWplY3QoKSk7XG4gICAgfSk7XG59XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiaW1wb3J0IHsgUmVnaXN0ZXJNb2R1bGVzIH0gZnJvbSBcIi4vdXRpbC9yZWdpc3Rlck1vZHVsZXNcIjtcbmltcG9ydCB7IEJ1aWxkQWxsQ29tbWFuZHMgfSBmcm9tIFwiLi9jb21tYW5kcy9idWlsZEFsbENvbW1hbmRzXCI7XG5pbXBvcnQgeyBNUEFfVkVSU0lPTiB9IGZyb20gXCIuL3V0aWwvY29uc3RhbnRzXCI7XG5cbi8vIFRlc3RpbmcgZm9yIExvY2FsaXphdGlvbiwgZW5zdXJpbmcgYWxsIGZpZWxkcyBpbiB0aGUgdGVtcGxhdGVcbi8vIGltcG9ydCB7IFNldHRpbmdUZXN0IH0gZnJvbSBcIi4vX3Rlc3RzL3NldHRpbmdzTGFiZWxzXCI7XG4vLyBTZXR0aW5nVGVzdCgpO1xuLy8gaW1wb3J0IHsgQWN0aXZpdGllc1Rlc3QgfSBmcm9tIFwiLi9fdGVzdHMvYWN0aXZpdGllc1RleHRcIjtcbi8vIEFjdGl2aXRpZXNUZXN0KCk7XG5cbmNvbnNvbGUubG9nKFwiTG9hZGluZyBNYXlhJ3MgUGV0cGxheSBBZGRpdGlvbnNcIik7XG5cbkJ1aWxkQWxsQ29tbWFuZHMoKTtcblJlZ2lzdGVyTW9kdWxlcygpO1xud2luZG93Lk1QQSA9IHtcbiAgICB2ZXJzaW9uOiBNUEFfVkVSU0lPTixcbiAgICBtZW51TG9hZGVkOiBmYWxzZVxufTtcbiJdLCJuYW1lcyI6WyJvIiwiZSIsImFsZXJ0IiwiRXJyb3IiLCJjb25zb2xlIiwiZXJyb3IiLCJ0IiwiVGV4dEVuY29kZXIiLCJuIiwiQXJyYXkiLCJpc0FycmF5IiwiciIsIlNldCIsImZpbHRlciIsImhhcyIsImFkZCIsImkiLCJNYXAiLCJhIiwiYyIsIndhcm4iLCJzIiwiZiIsInZhbHVlcyIsInBhdGNoaW5nIiwiZ2V0IiwibmFtZSIsInB1c2giLCJob29rcyIsInBhdGNoZXMiLCJlbnRyaWVzIiwic2V0Iiwic29ydCIsInByaW9yaXR5Iiwic2l6ZSIsInRvU3RyaW5nIiwicmVwbGFjZUFsbCIsImluY2x1ZGVzIiwiZXZhbCIsIm9yaWdpbmFsIiwibSIsImVycm9yUmVwb3J0ZXJIb29rcyIsImhvb2tDaGFpbkV4aXQiLCJjYWxsIiwiYXBwbHkiLCJ0aGlzIiwibGVuZ3RoIiwiaG9va0VudGVyIiwibW9kIiwiaG9vayIsImFyZ3VtZW50cyIsInBhdGNoZXNTb3VyY2VzIiwiZW50ZXIiLCJmaW5hbCIsImwiLCJwcmVjb21wdXRlZCIsIndpbmRvdyIsInNwbGl0Iiwic2xpY2UiLCJqb2luIiwiZW5jb2RlIiwicGFkU3RhcnQiLCJ0b1VwcGVyQ2FzZSIsImQiLCJvcmlnaW5hbEhhc2giLCJPYmplY3QiLCJhc3NpZ24iLCJyb3V0ZXIiLCJjb250ZXh0IiwiY29udGV4dFByb3BlcnR5IiwicCIsInNka0VudHJ5cG9pbnQiLCJjdXJyZW50RW50cnlwb2ludCIsImhvb2tlZEJ5TW9kcyIsIm1hcCIsInBhdGNoZWRCeU1vZHMiLCJmcm9tIiwidSIsImRlbGV0ZSIsImxvYWRlZCIsImciLCJmdWxsTmFtZSIsInZlcnNpb24iLCJyZXBvc2l0b3J5IiwiYWxsb3dSZXBsYWNlIiwiYXBpRW5kcG9pbnRFbnRlciIsInVubG9hZCIsImhvb2tGdW5jdGlvbiIsImluZGV4T2YiLCJzcGxpY2UiLCJwYXRjaEZ1bmN0aW9uIiwicmVtb3ZlUGF0Y2hlcyIsImNsZWFyIiwiY2FsbE9yaWdpbmFsIiwiZ2xvYmFsVGhpcyIsImdldE9yaWdpbmFsSGFzaCIsImFwaSIsImZyZWV6ZSIsImgiLCJ5IiwiYmNNb2RTZGsiLCJhcGlWZXJzaW9uIiwicmVnaXN0ZXJNb2QiLCJnZXRNb2RzSW5mbyIsImdldFBhdGNoaW5nSW5mbyIsInNlYWwiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIkJPV0xfU0VMRl9URVhUIiwiQk9XTF9PVEhFUl9URVhUIiwiSXNCZWQiLCJiZWQiLCJrZXlzIiwiQ3JhZnRpbmdWYWxpZGF0ZSIsIkNyYWZ0aW5nU3RhdHVzVHlwZSIsIk9LIiwiQUxMX0JFRFMiLCJJdGVtIiwiTmFtZSIsInRvTG9jYWxlTG93ZXJDYXNlIiwiR2l2ZUJlZFRleHQiLCJjaGFyYWN0ZXIiLCJQbGF5ZXIiLCJNZW1iZXJOdW1iZXIiLCJTZW5kQWN0aW9uIiwidW5kZWZpbmVkIiwiU291cmNlQ2hhcmFjdGVyIiwiVGFyZ2V0Q2hhcmFjdGVyIiwiVXNlQmVkIiwiSW52ZW50b3J5R2V0IiwiSW52ZW50b3J5R3JvdXBJc0Jsb2NrZWRGb3JDaGFyYWN0ZXIiLCJzYXZlZEJlZCIsIkpTT04iLCJwYXJzZSIsIkxaU3RyaW5nIiwiZGVjb21wcmVzc0Zyb21CYXNlNjQiLCJNUEEiLCJNb2R1bGVUaXRsZSIsIlByaXZhdGUiLCJJbnZlbnRvcnlXZWFyIiwiQ29sb3IiLCJoYWlyQ29sb3IiLCJDaGF0Um9vbUNoYXJhY3Rlckl0ZW1VcGRhdGUiLCJHaXZlQmVkIiwidW5hYmxlVG9HaXZlQmVkIiwiQ2FuSW50ZXJhY3QiLCJTZXJ2ZXJDaGF0Um9vbUdldEFsbG93SXRlbSIsIk1QQU5vdGlmeVBsYXllciIsIk5pY2tuYW1lIiwiTm90aWZ5UGxheWVyIiwiQmVkIiwiQ29tbWFuZENvbWJpbmUiLCJUYWciLCJEZXNjcmlwdGlvbiIsIkFjdGlvbiIsIl9hcmdzIiwibXNnIiwiX3BhcnNlZCIsImFyZyIsImV4ZWMiLCJjaGFyIiwiRmluZENoYXJhY3RlckluUm9vbSIsIlNhdmVTdG9yYWdlIiwiQXNzZXQiLCJQcm9wZXJ0eSIsIlR5cGVSZWNvcmQiLCJ0eXBlZCIsIk51bWJlciIsIkNoYXRSb29tQ2hhcmFjdGVyVXBkYXRlIiwiSG9va0Z1bmN0aW9uIiwiYXJncyIsIm5leHQiLCJkYXRhIiwiVHlwZSIsIkNvbnRlbnQiLCJHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkiLCJEaWN0aW9uYXJ5Iiwic29tZSIsImN1cnIiLCJUZXh0IiwiQk9XTF9SRUdFWCIsIklzQm93bCIsImJvd2wiLCJHaXZlQm93bFRleHQiLCJVc2VCb3dsIiwic2F2ZWRCb3dsIiwiSXRlbVByb3BlcnR5IiwidGVzdCIsInN1YnN0cmluZyIsIkdpdmVCb3dsIiwidW5hYmxlVG9HaXZlQm93bCIsIkJvd2wiLCJCdWlsZEFsbENvbW1hbmRzIiwidHJhbnNsYXRpb25zIiwidGVtcGxhdGUiLCJSVSIsIkxvY2FsaXplZFRleHQiLCJ0ZXh0IiwidHJhbnNsYXRlZFRleHQiLCJUcmFuc2xhdGlvbkxhbmd1YWdlIiwiTW9kdWxlIiwiVGl0bGUiLCJVbmtub3duIiwiQWN0aXZpdGllcyIsIlNldHRpbmdzIiwiU3luY0xpc3RlbmVycyIsIkxvYWQiLCJDcmVhdGVBY3Rpdml0aWVzIiwiQWRkRGF0YVN5bmNMaXN0ZW5lcnMiLCJVbmxvYWQiLCJSZW1vdmVIb29rcyIsIlJlbW92ZUFjdGl2aXRpZXMiLCJSZW1vdmVEYXRhU3luY0xpc3RlbmVycyIsIlJlbG9hZCIsIlJlY2lldmVCZWxsIiwic291cmNlIiwidGFyZ2V0IiwiX2dyb3VwIiwiX2RhdGEiLCJBdWRpb1NldHRpbmdzIiwiUGxheUl0ZW0iLCJQbGF5SXRlbVBsYXllck9ubHkiLCJCRUxMX1NPVU5EIiwicGxheSIsIkFjdGl2aXRpZXNNb2R1bGUiLCJNYXhQcm9ncmVzcyIsIlByZXJlcXVpc2l0ZSIsIkN1c3RvbVByZXJlcXVpc2l0ZSIsIl9hY3RpbmciLCJhY3RlZCIsIlRhcmdldHMiLCJncm91cCIsImxhYmVsIiwiYWN0aW9uU2VsZiIsImFjdGlvbk90aGVycyIsIkltYWdlIiwiT25SZWNlaXZlIiwic3VwZXIiLCJwcmVyZXEiLCJhY3RpbmciLCJhY3Rpdml0eVByZXJlcXVpc2l0ZXMiLCJhY3Rpdml0eU5hbWUiLCJmaW5kIiwieCIsIkFjdGl2aXR5TmFtZSIsInN0YXJ0c1dpdGgiLCJBQ1RJVklUWV9OQU1FX1BSRUZJWCIsIkFjdGl2aXR5RGljdGlvbmFyeVRleHQiLCJhY3Rpdml0eVRyaWdnZXJzIiwidGFyZ2V0TnVtYmVyIiwiQ2hhdFJvb21DaGFyYWN0ZXIiLCJDbGlja2VyIiwiYWN0aXZpdHlSZWNlaXZlZCIsInNvdXJjZUNoYXIiLCJOaWNrTmFtZSIsInRhcmdldENoYXIiLCJBY3Rpdml0eSIsImFjdGl2aXR5SW1hZ2VzIiwiaW1hZ2UiLCJQbGF5ZXJQIiwiQyIsIkF1dGhvcml0eSIsIklzSGFyZGNvcmVPbiIsImhhcmRjb3JlIiwiQXV0aG9yaXR5TW9kdWxlIiwidHlwZSIsImFjdGl2ZSIsIm1heENoYXJzIiwid2lkdGgiLCJvcHRpb25zIiwiQVVUSE9SSVRZX0dST1VQX09QVElPTlMiLCJsb29wIiwib3RoZXJzUHJvZmlsZSIsIm9uU2V0Iiwic2VsZlByb2ZpbGUiLCJBTExfQ0xJQ0tTIiwiQXVkaW8iLCJQbGF5ZXJDIiwiQ2xpY2tDb3VudCIsInN0ciIsInRvdGFsQ2xpY2tzIiwidHJpZ2dlcnMiLCJ0cmltIiwiZm9yRWFjaCIsInRyaWdnZXIiLCJtYXRjaCIsIlJlZ0V4cCIsIlBsYXlDbGlja2VyU291bmQiLCJudW1iZXJPZkNsaWNrcyIsImlzTmFOIiwiZW5hYmxlZCIsIk1hdGgiLCJtaW4iLCJiY3hIb29rZWQiLCJIb29rQkNYQ2xpY2tlciIsImJjeEZvdW5kIiwiYmN4QVBJIiwib24iLCJtZXNzYWdlIiwicHJlZml4IiwiYmN4Vm9pY2UiLCJDbGlja2VyTW9kdWxlIiwiaGFzQmVlbkxvYWRlZCIsIl9hY3RlZCIsImF1dGhlZEdyb3VwIiwic2VsZkF1dGhlZCIsIlNlbmRlciIsIklzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAiLCJjbGlja3MiLCJSZW1vdmVPT0NDb250ZW50RnJvbU1lc3NhZ2UiLCJyZWR1Y2UiLCJhY2MiLCJpbnZlcnZhbCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsIlNldHRpbmdTeW5jIiwicmVwbHkiLCJzZXR0aW5ncyIsInN0cnVjdHVyZWRDbG9uZSIsIlNlbmRNUEFNZXNzYWdlIiwiQ2F0ZWdvcnlTeW5jIiwiY2F0ZWdvcnkiLCJSZWNvcmRTeW5jIiwicmVjb3JkIiwiUmVjb3Jkc1N5bmMiLCJyZWNvcmRzIiwiRGF0YVN5bmNNb2R1bGUiLCJEYXRhU3luYyIsIm1vZHVsZSIsImFjdGlvbiIsInNlbmRlciIsImNvbnRlbnQiLCJHZXRNUEFNZXNzYWdlRnJvbUNoYXQiLCJob29rZWRNZXNzYWdlcyIsIlByaXZhdGVNb2R1bGUiLCJQcm9maWxlIiwiR2V0UmVjb3JkIiwidGl0bGUiLCJHQVJCTEVfUEhSQVNFUyIsIkh1bWFuIiwiQ3VzdG9tIiwiQnVubnkiLCJDYXQiLCJDb3ciLCJEb2ciLCJGb3giLCJNb3VzZSIsIlBvbnkiLCJXb2xmIiwiR2V0QWxsb3dlZFBldEdhcmJsZVBocmFzZXMiLCJwcm9maWxlIiwiYmFubmVkQkNYV29yZHMiLCJnZXRSdWxlU3RhdGUiLCJjdXN0b21EYXRhIiwiYmFubmVkV29yZHMiLCJwZXRQaHJhc2VzIiwiYmN4U3BlYWtpbmciLCJtYW5kYXRvcnlXb3JkcyIsImdhcmJsZVBocmFzZXMiLCJHZXRQZXRHYXJibGVQaHJhc2VzIiwiRmlsdGVyQXJyYXlGcm9tQXJyYXkiLCJQRVRfSEVBUklORyIsIkFsbCIsIlNldFByb2ZpbGVUeXBlIiwicHJldlZhbHVlIiwiZWxlSUQiLCJFbGVtZW50TmFtZSIsImN1c3RvbUdhcmJsZVBocmFzZXMiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiRWxlbWVudFZhbHVlIiwiU2V0QkNYU3BlYWsiLCJ3b3JkcyIsIlByb2ZpbGVNb2R1bGUiLCJfY29udGVudCIsInBldFNwZWFraW5nIiwiSXNQbGF5ZXIiLCJWaXJ0dWFsUGV0Iiwibm9IYW5kcyIsIlZpcnR1YWxQZXRDb25kaXRpb25zIiwiZm9vZE5PVyIsInRpbnQiLCJwYXNzb3V0IiwiYWZmZWN0aW9uU2tpbGxCdWZmcyIsImFmZmVjdGlvblNraWxsRGVidWZmcyIsImhlYXJpbmdMb3NzIiwic2xvd0xlYXZlIiwiU3BlZWNoVHJhbnNmb3JtQWxsRWZmZWN0cyIsImludGVuc2l0eSIsImlnbm9yZU9PQyIsIklzR2FnZ2VkIiwiSXNEZWFmIiwicGV0SGVhcmluZyIsIkFwcGx5UGV0SGVhcmluZyIsImNvbmNhdCIsIkdldFBldEhlYXJpbmdQaHJhc2VzIiwiQ29tbWFuZHNLZXkiLCJjaGFyQXQiLCJOb25EaXNydXB0aXZlUGV0U3BlZWNoIiwidHJhbnNmb3JtIiwic2V0dGluZ3NFZGl0ZWQiLCJzZXR0aW5nQ2hhciIsIlNldFNldHRpbmdDaGFyIiwiQ0FOVkFTX1dJRFRIIiwiRVhJVF9QT1NJU1RJT04iLCJCVVRUT05fTUFYX05VTUJFUiIsIkJVVFRPTl9XSURUSCIsIkJVVFRPTl9IRUlHSFQiLCJCVVRUT05fVE9QIiwiQlVUVE9OX0xFRlQiLCJCVVRUT05fR0FQIiwiQlVUVE9OX1RFWFRfUEFERElORyIsIldJS0lfUE9TSVRJT04iLCJXSUtJX0xJTksiLCJSRVNFVF9QT1NJVElPTiIsIkFMRVJUX1BPU0lUSU9OIiwic2hvd1NldHRpbmdzQWxlcnQiLCJzZXR0aW5nc0FsZXJ0VGV4dCIsIklNUE9SVF9QT1NJVElPTiIsIkVYUE9SVF9QT1NJVElPTiIsIlJFU0VUX0NPTkZJUk1fUE9TSVRJT04iLCJSRVNFVF9DQU5DRUxfUE9TSVRJT04iLCJNRU5VX0NBVEVHT1JJRVMiLCJWaXJ0dWFsUGV0SFVEIiwiTUVOVV9USVRMRVMiLCJjdXJyZW50TWVudSIsInNldHRpbmdzT3BlbiIsImFsbG93UmVzZXRUaW1lIiwiR2V0Q2xpY2tlZE1lbnUiLCJtZW51T3B0aW9ucyIsIk1vdXNlSW4iLCJmbG9vciIsIkRyYXdCdXR0b24iLCJPUFRJT05fUEVSX1BBR0UiLCJPUFRJT05fSEVJR0hUIiwiT1BUSU9OX1RPUCIsIk9QVElPTl9MRUZUIiwiT1BUSU9OX0dBUCIsIk9QVElPTl9DSEVDS0JPWF9TSVpFIiwiT1BUSU9OX0JBQ0tfTkVYVF9XSURUSCIsIk9QVElPTl9URVhUX1dJRFRIIiwiT1BUSU9OX1RFWFRfTUFYX0NIQVJTIiwiY3VycmVudFBhZ2UiLCJtYXhQYWdlcyIsIk5FWFRfQlVUVE9OX1BPUyIsIlBSRVZfQlVUVE9OX1BPUyIsIkRyYXdTdWJNZW51T3B0aW9ucyIsInN1Yk1lbnUiLCJzZXR0aW5nc1RvRGlzcGxheSIsImtleSIsInNldHRpbmciLCJJc0Rpc3BsYXlTZXR0aW5nIiwidmFsIiwic2V0dGluZ05hbWUiLCJkaXNhYmxlZFNldHRpbmciLCJib3VuZEFjY2Vzc1NlbGYiLCJib3VuZEFjY2Vzc090aGVycyIsIklzQ2hlY2tib3hTZXR0aW5nIiwiRHJhd0NoZWNrYm94IiwiR2V0UHJvbm91bnMiLCJJc09wdGlvblNldHRpbmciLCJpbmRleCIsIm9wdExlbiIsInByb2ZpbGVPckV4Y2x1ZGVzIiwicHJldkRpc2FibGVkIiwiQXV0aG9yaXR5SXNDb21wYXJpc29uVG9DaGFyYWN0ZXIiLCJuZXh0RGlzYWJsZWQiLCJEcmF3QmFja05leHRCdXR0b24iLCJEcmF3VGV4dEZpdCIsImNlaWwiLCJJc1RleHRTZXR0aW5nIiwiSXNOdW1iZXJTZXR0aW5nIiwiaWQiLCJFbGVtZW50UG9zaXRpb25GaXhlZCIsIkVsZW1lbnRTZXRBdHRyaWJ1dGUiLCJFbGVtZW50UmVtb3ZlQXR0cmlidXRlIiwiRXhpdEJ1dHRvblByZXNzZWQiLCJtZW51TG9hZGVkIiwiUHJlZmVyZW5jZU1lbnVFeGl0IiwiVXBkYXRlQW5kRGVsZXRlSFRNTEVsZW1lbnRzIiwiUHJlZmVyZW5jZU1lbnVDbGljayIsIm9wZW4iLCJmb2N1cyIsIkRhdGUiLCJub3ciLCJJbXBvcnRTZXR0aW5nc0Zyb21DbGlwYm9hcmQiLCJ0aGVuIiwiZmluYWxseSIsIkV4cG9ydFNldHRpbmdzVG9DbGlwYm9hcmQiLCJDcmVhdGVIVE1MRWxlbWVudHMiLCJHZXRDbGlja2VkT3B0aW9uIiwiUmVzZXRTdG9yYWdlIiwiUmVzZXRNZW51Q2xpY2siLCJQcmVmZXJlbmNlTWVudVJ1biIsInByZXZUZXh0QWxpZ24iLCJNYWluQ2FudmFzIiwidGV4dEFsaWduIiwiRHJhd1RleHQiLCJSZXNldE1lbnVSdW4iLCJEcmF3TWVudU9wdGlvbnMiLCJMZXZlbFN5bmMiLCJQcmVmZXJlbmNlU3Vic2NyZWVuRXh0ZW5zaW9uc0NsZWFyIiwiUGxheWVyUHJlZmVyZW5jZU1lbnVMb2FkIiwicGFnZSIsIkVsZW1lbnRDcmVhdGVJbnB1dCIsIm1heCIsInN0ZXAiLCJFbGVtZW50UmVtb3ZlIiwiU2V0dGluZ3NNb2R1bGUiLCJFc2NhcGVIYW5kbGVyIiwiZXZlbnQiLCJzdG9wUHJvcGFnYXRpb24iLCJQcmVmZXJlbmNlUmVnaXN0ZXJFeHRlbnNpb25TZXR0aW5nIiwiSWRlbnRpZmllciIsIkJ1dHRvblRleHQiLCJJQ09OUyIsIlBBVyIsImNsaWNrIiwicnVuIiwiZXhpdCIsImxvYWQiLCJhZGRFdmVudExpc3RlbmVyIiwiTVBBX1JFTU9URSIsIk1QQV9SRU1PVEVfQkNYIiwiQXJyYXlzRXF1YWwiLCJhcnIxIiwiYXJyMiIsImV2ZXJ5IiwiT2JqZWN0RGlmZmVyZW5jZXMiLCJvbGRPYmoiLCJuZXdPYmoiLCJkaWZmZXJlbmNlcyIsIm9sZCIsIm5ldyIsIm9sZFZhbHVlIiwibmV3VmFsdWUiLCJkaWZmIiwiU2V0dGluZ3NPdGhlck1vZHVsZSIsIlNldHRpbmdzT3RoZXIiLCJ2cEVuYWJsZWQiLCJjaGFuZ2VkU2V0dGluZ3MiLCJsZXZlbHMiLCJwcmV2aW91c0F1dGhvcml0eSIsInN0cmluZ2lmeSIsIm5ld0F1dGhvcml0eSIsImVudHJ5IiwibW9kdWxlRGlmZiIsImxhc3RVcGRhdGVkIiwicmVwbGFjZSIsIkFycmF5VG9SZWFkYWJsZVN0cmluZyIsImJjeCIsImluQmN4U3Vic2NyZWVuIiwiTFNDR19SRU1PVEVfV0lORE9XX09QRU4iLCJJbmZvcm1hdGlvblNoZWV0U2VsZWN0aW9uIiwiYWNjZXNzIiwiTUFYX1NFVFRJTkdfVElNRV9IT1VSUyIsIlBsYXllclZQIiwiQUNUSVZJVElFU19GT09EX0dBSU4iLCJBQ1RJVklUSUVTX1dBVEVSX0dBSU4iLCJFTU9USUNPTlNfU0xFRVAiLCJBRkZFQ1RJT05fQUNUSVZJVFlfTE9WRSIsIkFGRkVDVElPTl9BQ1RJVklUWV9MSUtFIiwiQUZGRUNUSU9OX0FDVElWSVRZX01BU08iLCJBRkZFQ1RJT05fWk9ORV9BRkZFQ1RJT04iLCJJdGVtQXJtcyIsIkl0ZW1Cb290cyIsIkl0ZW1CcmVhc3QiLCJJdGVtQnV0dCIsIkl0ZW1FYXJzIiwiSXRlbUZlZXQiLCJJdGVtSGFuZHMiLCJJdGVtSGVhZCIsIkl0ZW1MZWdzIiwiSXRlbU1vdXRoIiwiSXRlbU5lY2siLCJJdGVtTmlwcGxlcyIsIkl0ZW1Ob3NlIiwiSXRlbVBlbHZpcyIsIkl0ZW1Ub3JzbyIsIkl0ZW1WdWx2YSIsIkl0ZW1WdWx2YVBpZXJjaW5ncyIsIk1JTl9PRkZMSU5FX0RSQUlOX0xFVkVMIiwibGFzdE9ubGluZUludGVydmFsIiwiSXNTbGVlcGluZ0V4cHJlc3Npb24iLCJBcHBlYXJhbmNlIiwiR3JvdXAiLCJFeHByZXNzaW9uIiwiSXNCZWRNdWx0aXBsaWVyIiwiZGV2aWNlIiwiQkVEX1BFUkZFQ1QiLCJCRURfTk9STUFMIiwiQkVEX0JBRCIsInBsYXllclNsZWVwaW5nRXhwcmVzc2lvbiIsInBsYXllckJlZE11bHRpcGxpZXIiLCJTbGVlcENoYW5nZUNoZWNrIiwic3luYyIsInNsZWVwSG91cnMiLCJIb3VyVG9NUyIsImhvdXJzIiwiQ2FsY3VsYXRlQ3VycmVudFZhbHVlIiwiZHVyYXRpb24iLCJsYXN0T25saW5lIiwiZmlyc3RSdW5DaGVjayIsImN1cnJlbnRWYWx1ZSIsImRpZmYyIiwibmV3VmFsdWUyIiwiR2V0Q2hhcmFjdGVyQ3VycmVudFN0YXRWYWx1ZSIsInN0YXQiLCJjaGFyU3RhdHMiLCJsdmwiLCJzbGVlcCIsInB1c2hUb1N0b3JhZ2UiLCJyZWNvcmRTeW5jIiwiZmlyc3RTeW5jIiwidXBkYXRlIiwib25saW5lIiwib2ZmbGluZURyYWluIiwiZm9vZCIsImZvb2RIb3VycyIsIndhdGVyIiwid2F0ZXJIb3VycyIsImR1cmF0aW9uVG9Vc2UiLCJuZXdTbGVlcCIsImFmZmVjdGlvbiIsImFmZmVjdGlvbkhvdXJzIiwiTW9kaWZ5U3RhdCIsImFtb3VudCIsImFwcGx5TW9kaWZpZXIiLCJzdG9yYWdlUHVzaCIsIm1vZGlmaWVyIiwiSXNPd25lciIsIklzTG92ZXJPZlBsYXllciIsIklzRmFtaWx5T2ZQbGF5ZXIiLCJDYW5UYWxrIiwiRHluYW1pY0dyb3VwTmFtZSIsIlBvc2VNYXBwaW5nIiwiQm9keUZ1bGwiLCJudW1zIiwic3VtIiwibnVtIiwiU3RhdE1vZGlmaWVyIiwibGV2ZWwiLCJWZXJpZnlWYWxpZFN0YXQiLCJWaXJ0dWFsUGV0TW9kdWxlIiwiT25UcmlnZ2VyIiwiSXNNb3V0aEJsb2NrZWQiLCJhY3Rpdml0eSIsIkFjdGl2aXR5RmVtYWxlM0RDRyIsImdyb3VwTXVsdCIsIm1hc29jaGlzdCIsIlBsYXllclZQQyIsIkNvbmRpdGlvbklzRW5mb3JjZWQiLCJjb25kaXRpb24iLCJ2cFN0YXROZWVkVG9CZUVuYWJsZWQiLCJBRkZFQ1RJT05fU0tJTExTIiwicHJldmlvdXNTdGF0cyIsIm9uU3RhdExldmVsIiwic3RhdENvdW50IiwiQ29uZGl0aW9uQ2hlY2siLCJjdXJyVmFsdWUiLCJjaGFuZ2VFdmVudCIsImZpcnN0UnVuIiwiY2hhbmdlIiwidGhyZXNoaG9sZCIsIlNMRUVQX1RJTlQiLCJwYXNzZWRPdXQiLCJQQVNTT1VUX1RBTEtfUkVQTEFDRSIsIk1QQVBhc3NvdXQiLCJDaGFyYWN0ZXJTZXRGYWNpYWxFeHByZXNzaW9uIiwiQ2FuS25lZWwiLCJQb3NlU2V0QWN0aXZlIiwic2xlZXBNb2R1bGUiLCJMU0NHIiwiU3RhdGVNb2R1bGUiLCJzdGF0ZXMiLCJwYXNzb3V0TFNDRyIsImxvZyIsIlBhc3NvdXRDaGVjayIsImFmZmVjdGlvbkNoZWNrSW50ZXJ2YWwiLCJBZmZlY3Rpb25Ta2lsbENoZWNrIiwic2tpbGwiLCJhZmZlY3Rpb25Nb2RpZmllciIsInJvdW5kIiwicHJldk1vZCIsIlNraWxsR2V0TW9kaWZpZXIiLCJTa2lsbEdldE1vZGlmaWVyRHVyYXRpb24iLCJTa2lsbFNldE1vZGlmaWVyIiwiVmlydHVhbFBldENvbmRpdGlvbnNNb2R1bGUiLCJzY2FsZWRWYWx1ZSIsImIiLCJzcXJ0IiwiUmFuZG9tRWxlbWVudCIsIkdhbWVwbGF5U2V0dGluZ3MiLCJTZW5zRGVwQ2hhdExvZyIsImRlYWZMZXZlbCIsIlNraWxsTW9kaWZpZXJNYXgiLCJza2lsbER1cmF0aW9uTVMiLCJwcmV2U2xvdyIsIkNoYXRSb29tU2xvd3RpbWVyIiwiY3VyckZvb2QiLCJDdXJyZW50VGltZSIsIkNoYXRSb29tU2xvd0xlYXZlTWluVGltZSIsIlBsYXllclZQSFVEIiwiVlBfU1RBVF9DT0xPUl9ESUNUIiwiRHJhd1N0YXRDaXJjbGUiLCJyYWRpdXMiLCJjb2xvciIsImJlZ2luUGF0aCIsImFyYyIsIlBJIiwibGluZVdpZHRoIiwic3Ryb2tlU3R5bGUiLCJzdHJva2UiLCJsaW5lVG8iLCJmaWxsU3R5bGUiLCJmaWxsIiwiZXhhY3RTdGF0cyIsImZvbnQiLCJDb21tb25HZXRGb250IiwiZmlsbFRleHQiLCJWaXJ0dWFsUGV0SFVETW9kdWxlIiwib3RoZXJzIiwiem9vbSIsIkFjdGl2aXR5QWxsb3dlZCIsInNlbGYiLCJjaGFyYWN0ZXJWUFN0YXRzIiwic3RhdHMiLCJwb3MiLCJwb3NpdGlvbiIsInJldmVyc2UiLCJzdGF0TGVuIiwiY29scyIsImNvbCIsInN0YXRJbmRleCIsIkRyYXdWaXJ1YWxQZXRIdWQiLCJDcmVhdGVBY3Rpdml0eSIsImN1c3RvbUFjdGl2aXR5IiwiQWN0aXZpdHlJRCIsIlRhcmdldCIsImN1c3RvbVByZXJlcXVpc2l0ZXMiLCJuZXdQcmVyZXF1aXNpdGUiLCJUYXJnZXRTZWxmIiwiQWN0aXZpdHlEaWN0aW9uYXJ5IiwiQWN0aXZpdHlGZW1hbGUzRENHT3JkZXJpbmciLCJjdXN0b21BY3Rpdml0aWVzIiwiUmVtb3ZlQWN0aXZpdHkiLCJBVVRIT1JJVFlfR1JPVVBfUFJJT19PUkRFUiIsIkFVVEhPUklUWV9HUk9VUFMiLCJTZWxmIiwiQ2x1Ym93bmVyIiwiT3duZXJzaGlwIiwiT3duZXJzIiwib3duZXJzIiwicGFyc2VJbnQiLCJMb3ZlcnMiLCJMb3ZlcnNoaXAiLCJsb3ZlciIsIldoaXRlTGlzdCIsIkZyaWVuZExpc3QiLCJtZW1iZXJOdW1iZXIiLCJhdXRoR3JvdXAiLCJhbGxvd1NlbGYiLCJCbGFja0xpc3QiLCJHaG9zdExpc3QiLCJhdXRoQ2hlY2siLCJIaWdoZXN0TGV2ZWxBdXRob3JpdHlHcm91cCIsImNvbXBhcmlzb24iLCJyYW5rIiwiZ3JvdXBJbmRleCIsInJhbmtJbmRleCIsIk1QQV9OQU1FIiwidG9Mb2NhbGVVcHBlckNhc2UiLCJNUEFfVkVSU0lPTiIsIk1QQV9SRVBPIiwiSU5WT0xVTlRBUllfUEVUX1NQRUFLX1BFUkNFTlRBR0UiLCJJTlZPTFVOVEFSWV9SVVNIRURfU1BFQUtfUEVSQ0VOVEFHRSIsIklOVk9MVU5UQVJZX0VORF9QRVRfU1BFQUtfUEVSQ0VOVEFHRSIsImFycmF5IiwicmFuZG9tIiwiZmlsdGVyQXJyYXkiLCJuZXdBcnJheSIsImVsZSIsImJhZEVsZSIsIlNodWZmbGVBcnJheSIsImoiLCJDb250ZW50SXNNUEFNZXNhZ2UiLCJTZXJ2ZXJTZW5kIiwiZGljdGlvbmFyeSIsIlNlbmRFbW90ZSIsInRpbWVvdXQiLCJkYXJrVGhlbWUiLCJDaGF0U2V0dGluZ3MiLCJDb2xvclRoZW1lIiwiQ2hhdFJvb21TZW5kTG9jYWwiLCJzZWFyY2giLCJTcGVlY2hHZXRPT0NSYW5nZXMiLCJyYW5nZSIsInN0YXJ0IiwiQWRkRGF0YVN5bmNMaXN0ZW5lciIsImxpc3RlbmVyIiwibGlzdGVuZXJzIiwiR2V0RW50cnlGcm9tQ2hhdERpY3Rpb25hcnkiLCJhdHRyaWJ1dGUiLCJfZXJyb3IiLCJhcnIiLCJBcHBlbmRQZXRTcGVlY2giLCJwZXRTb3VuZCIsInBocmFzZXNUb0tlZXAiLCJmb3VuZFBocmFzZXMiLCJwaHJhc2UiLCJyZWdFeHAiLCJtYXRjaEFsbCIsImxlbiIsInVuaXF1ZVJhbmdlcyIsIml0ZW0iLCJsYXN0SW5kZXgiLCJmaW5hbFRleHQiLCJmb3VuZCIsImFsbG93ZWRQZXRQaHJhc2VzIiwicGV0UGhyYXNlQnVja2V0IiwiR2V0UGV0UGhhc2UiLCJwb3AiLCJuZXh0SW5kZXgiLCJzZWdtZW50cyIsIm9vY1JhbmdlcyIsIm9vYyIsImxhc3RCaXQiLCJvYmoiLCJ0cmFpbGluZ1doaXRlc3BhY2UiLCJzcG9rZVBldCIsIm5ld01zZyIsInNlZ21lbnQiLCJzcGxpdFBocmFzZSIsInByZXZpb3VzV29yZCIsIndvcmQiLCJub1ByZXYiLCJlbmRzV2l0aCIsIm1vZHVsZXNSZWdpc3RlcmVkIiwibW9kdWxlcyIsImFzeW5jIiwiUmVnaXN0ZXJNb2R1bGVzIiwibW9kU2V0IiwibmV3U2V0dGluZ3MiLCJMb2FkU3RvcmFnZSIsIm1vZEFQSSIsImZ1bmN0aW9uTmFtZSIsInJlbW92ZUhvb2siLCJBd2FpdFBsYXllciIsIkV4dGVuc2lvblNldHRpbmdzIiwiUHJvbWlzZSIsInJlc29sdmUiLCJnZXRNb2RBcGkiLCJzZXR0aW5nVGl0bGUiLCJjYXRlZ29yeVNldHRpbmdzIiwiU2VydmVyQWNjb3VudEJlZXAiLCJNZW1iZXJOYW1lIiwiQ2hhdFJvb21TcGFjZSIsIkNoYXRSb29tTmFtZSIsIkJlZXBUeXBlIiwiTWVzc2FnZSIsIk1QQVVwZGF0ZUNoZWNrIiwic3luY1dpdGhPdGhlcnMiLCJjb21wcmVzc1RvQmFzZTY0IiwiU2VydmVyUGxheWVyRXh0ZW5zaW9uU2V0dGluZ3NTeW5jIiwibmF2aWdhdG9yIiwiY2xpcGJvYXJkIiwid3JpdGVUZXh0IiwicmVqZWN0IiwicmVhZFRleHQiLCJjdXJyZW50U2V0dGluZ3MiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImRlZmluaXRpb24iLCJlbnVtZXJhYmxlIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiU3ltYm9sIiwidG9TdHJpbmdUYWciXSwic291cmNlUm9vdCI6IiJ9