/*! For license information please see devBundle.js.LICENSE.txt */
(()=>{var e={"./assets/bell1.mp3":(e,t,o)=>{"use strict";e.exports=o.p+"assets/bell1.640014462cfbb6131003.mp3"},"./assets/bell2.mp3":(e,t,o)=>{"use strict";e.exports=o.p+"assets/bell2.bc4bb7b1248c43fd88af.mp3"},"./assets/bell3.mp3":(e,t,o)=>{"use strict";e.exports=o.p+"assets/bell3.951950cd16996e057072.mp3"},"./assets/bell4.mp3":(e,t,o)=>{"use strict";e.exports=o.p+"assets/bell4.bcdd5953f7e56325d47e.mp3"},"./assets/bell5.mp3":(e,t,o)=>{"use strict";e.exports=o.p+"assets/bell5.687a83b89d1458794c56.mp3"},"./assets/clicker1.mp3":(e,t,o)=>{"use strict";e.exports=o.p+"assets/clicker1.b486407f429484048bc4.mp3"},"./assets/clicker2.mp3":(e,t,o)=>{"use strict";e.exports=o.p+"assets/clicker2.ab2f967e63ce5649ac52.mp3"},"./assets/clicker3.mp3":(e,t,o)=>{"use strict";e.exports=o.p+"assets/clicker3.bf205c47b282e7ea4158.mp3"},"./assets/jingle1.mp3":(e,t,o)=>{"use strict";e.exports=o.p+"assets/jingle1.962ac69ab66b7da9c06d.mp3"},"./assets/jingle2.mp3":(e,t,o)=>{"use strict";e.exports=o.p+"assets/jingle2.962ac69ab66b7da9c06d.mp3"},"./assets/jingle3.mp3":(e,t,o)=>{"use strict";e.exports=o.p+"assets/jingle3.962ac69ab66b7da9c06d.mp3"},"./assets/jingle4.mp3":(e,t,o)=>{"use strict";e.exports=o.p+"assets/jingle4.962ac69ab66b7da9c06d.mp3"},"./assets/jingle5.mp3":(e,t,o)=>{"use strict";e.exports=o.p+"assets/jingle5.962ac69ab66b7da9c06d.mp3"},"./assets/ring1.mp3":(e,t,o)=>{"use strict";e.exports=o.p+"assets/ring1.2b883e0764e5e9b6c623.mp3"},"./assets/ring2.mp3":(e,t,o)=>{"use strict";e.exports=o.p+"assets/ring2.817a313f9c6494bb8cfb.mp3"},"./assets/ring3.mp3":(e,t,o)=>{"use strict";e.exports=o.p+"assets/ring3.4dba92cea2dabe66b2b7.mp3"},"./assets/ring4.mp3":(e,t,o)=>{"use strict";e.exports=o.p+"assets/ring4.633edacb3d3ffd4a1d88.mp3"},"./assets/ring5.mp3":(e,t,o)=>{"use strict";e.exports=o.p+"assets/ring5.9f0aed6ace380583aa9c.mp3"},"./node_modules/bondage-club-mod-sdk/dist/bcmodsdk.js":(e,t)=>{!function(){"use strict";const e="1.2.0";function o(e){alert("Mod ERROR:\n"+e);const t=new Error(e);throw console.error(t),t}const r=new TextEncoder;function a(e){return!!e&&"object"==typeof e&&!Array.isArray(e)}function i(e){const t=new Set;return e.filter((e=>!t.has(e)&&t.add(e)))}const n=new Map,s=new Set;function l(e){s.has(e)||(s.add(e),console.warn(e))}function u(e){const t=[],o=new Map,r=new Set;for(const a of h.values()){const i=a.patching.get(e.name);if(i){t.push(...i.hooks);for(const[t,n]of i.patches.entries())o.has(t)&&o.get(t)!==n&&l(`ModSDK: Mod '${a.name}' is patching function ${e.name} with same pattern that is already applied by different mod, but with different pattern:\nPattern:\n${t}\nPatch1:\n${o.get(t)||""}\nPatch2:\n${n}`),o.set(t,n),r.add(a.name)}}t.sort(((e,t)=>t.priority-e.priority));const a=function(e,t){if(0===t.size)return e;let o=e.toString().replaceAll("\r\n","\n");for(const[r,a]of t.entries())o.includes(r)||l(`ModSDK: Patching ${e.name}: Patch ${r} not applied`),o=o.replaceAll(r,a);return(0,eval)(`(${o})`)}(e.original,o);let i=function(t){var o,i;const n=null===(i=(o=f.errorReporterHooks).hookChainExit)||void 0===i?void 0:i.call(o,e.name,r),s=a.apply(this,t);return null==n||n(),s};for(let o=t.length-1;o>=0;o--){const r=t[o],a=i;i=function(t){var o,i;const n=null===(i=(o=f.errorReporterHooks).hookEnter)||void 0===i?void 0:i.call(o,e.name,r.mod),s=r.hook.apply(this,[t,e=>{if(1!==arguments.length||!Array.isArray(t))throw new Error(`Mod ${r.mod} failed to call next hook: Expected args to be array, got ${typeof e}`);return a.call(this,e)}]);return null==n||n(),s}}return{hooks:t,patches:o,patchesSources:r,enter:i,final:a}}function c(e,t=!1){let o=n.get(e);if(o)t&&(o.precomputed=u(o));else{let t=window;const i=e.split(".");for(let o=0;o<i.length-1;o++)if(t=t[i[o]],!a(t))throw new Error(`ModSDK: Function ${e} to be patched not found; ${i.slice(0,o+1).join(".")} is not object`);const s=t[i[i.length-1]];if("function"!=typeof s)throw new Error(`ModSDK: Function ${e} to be patched not found`);const l=function(e){let t=-1;for(const o of r.encode(e)){let e=255&(t^o);for(let t=0;t<8;t++)e=1&e?-306674912^e>>>1:e>>>1;t=t>>>8^e}return(~t>>>0).toString(16).padStart(8,"0").toUpperCase()}(s.toString().replaceAll("\r\n","\n")),c={name:e,original:s,originalHash:l};o=Object.assign(Object.assign({},c),{precomputed:u(c),router:()=>{},context:t,contextProperty:i[i.length-1]}),o.router=function(e){return function(...t){return e.precomputed.enter.apply(this,[t])}}(o),n.set(e,o),t[o.contextProperty]=o.router}return o}function d(){for(const e of n.values())e.precomputed=u(e)}function m(){const e=new Map;for(const[t,o]of n)e.set(t,{name:t,original:o.original,originalHash:o.originalHash,sdkEntrypoint:o.router,currentEntrypoint:o.context[o.contextProperty],hookedByMods:i(o.precomputed.hooks.map((e=>e.mod))),patchedByMods:Array.from(o.precomputed.patchesSources)});return e}const h=new Map;function v(e){h.get(e.name)!==e&&o(`Failed to unload mod '${e.name}': Not registered`),h.delete(e.name),e.loaded=!1,d()}function g(e,t){e&&"object"==typeof e||o("Failed to register mod: Expected info object, got "+typeof e),"string"==typeof e.name&&e.name||o("Failed to register mod: Expected name to be non-empty string, got "+typeof e.name);let r=`'${e.name}'`;"string"==typeof e.fullName&&e.fullName||o(`Failed to register mod ${r}: Expected fullName to be non-empty string, got ${typeof e.fullName}`),r=`'${e.fullName} (${e.name})'`,"string"!=typeof e.version&&o(`Failed to register mod ${r}: Expected version to be string, got ${typeof e.version}`),e.repository||(e.repository=void 0),void 0!==e.repository&&"string"!=typeof e.repository&&o(`Failed to register mod ${r}: Expected repository to be undefined or string, got ${typeof e.version}`),null==t&&(t={}),t&&"object"==typeof t||o(`Failed to register mod ${r}: Expected options to be undefined or object, got ${typeof t}`);const i=!0===t.allowReplace,n=h.get(e.name);n&&(n.allowReplace&&i||o(`Refusing to load mod ${r}: it is already loaded and doesn't allow being replaced.\nWas the mod loaded multiple times?`),v(n));const s=e=>{let t=m.patching.get(e.name);return t||(t={hooks:[],patches:new Map},m.patching.set(e.name,t)),t},l=(e,t)=>(...a)=>{var i,n;const s=null===(n=(i=f.errorReporterHooks).apiEndpointEnter)||void 0===n?void 0:n.call(i,e,m.name);m.loaded||o(`Mod ${r} attempted to call SDK function after being unloaded`);const l=t(...a);return null==s||s(),l},u={unload:l("unload",(()=>v(m))),hookFunction:l("hookFunction",((e,t,a)=>{"string"==typeof e&&e||o(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof e}`);const i=c(e),n=s(i);"number"!=typeof t&&o(`Mod ${r} failed to hook function '${e}': Expected priority number, got ${typeof t}`),"function"!=typeof a&&o(`Mod ${r} failed to hook function '${e}': Expected hook function, got ${typeof a}`);const l={mod:m.name,priority:t,hook:a};return n.hooks.push(l),d(),()=>{const e=n.hooks.indexOf(l);e>=0&&(n.hooks.splice(e,1),d())}})),patchFunction:l("patchFunction",((e,t)=>{"string"==typeof e&&e||o(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof e}`);const i=c(e),n=s(i);a(t)||o(`Mod ${r} failed to patch function '${e}': Expected patches object, got ${typeof t}`);for(const[a,i]of Object.entries(t))"string"==typeof i?n.patches.set(a,i):null===i?n.patches.delete(a):o(`Mod ${r} failed to patch function '${e}': Invalid format of patch '${a}'`);d()})),removePatches:l("removePatches",(e=>{"string"==typeof e&&e||o(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof e}`);const t=c(e);s(t).patches.clear(),d()})),callOriginal:l("callOriginal",((e,t,a)=>{"string"==typeof e&&e||o(`Mod ${r} failed to call a function: Expected function name string, got ${typeof e}`);const i=c(e);return Array.isArray(t)||o(`Mod ${r} failed to call a function: Expected args array, got ${typeof t}`),i.original.apply(null!=a?a:globalThis,t)})),getOriginalHash:l("getOriginalHash",(e=>("string"==typeof e&&e||o(`Mod ${r} failed to get hash: Expected function name string, got ${typeof e}`),c(e).originalHash)))},m={name:e.name,fullName:e.fullName,version:e.version,repository:e.repository,allowReplace:i,api:u,loaded:!0,patching:new Map};return h.set(e.name,m),Object.freeze(u)}function p(){const e=[];for(const t of h.values())e.push({name:t.name,fullName:t.fullName,version:t.version,repository:t.repository});return e}let f;const P=void 0===window.bcModSdk?window.bcModSdk=function(){const t={version:e,apiVersion:1,registerMod:g,getModsInfo:p,getPatchingInfo:m,errorReporterHooks:Object.seal({apiEndpointEnter:null,hookEnter:null,hookChainExit:null})};return f=t,Object.freeze(t)}():(a(window.bcModSdk)||o("Failed to init Mod SDK: Name already in use"),1!==window.bcModSdk.apiVersion&&o(`Failed to init Mod SDK: Different version already loaded ('1.2.0' vs '${window.bcModSdk.version}')`),window.bcModSdk.version!==e&&alert(`Mod SDK warning: Loading different but compatible versions ('1.2.0' vs '${window.bcModSdk.version}')\nOne of mods you are using is using an old version of SDK. It will work for now but please inform author to update`),window.bcModSdk);Object.defineProperty(t,"__esModule",{value:!0}),t.default=P}()},"./package.json":e=>{"use strict";e.exports=JSON.parse('{"name":"mpa","description":"","version":"0.4.7.3","author":"Maya","license":"MIT","repository":{"type":"git","url":"https://github.com/MayaTheFoxy/MPA"},"scripts":{"serve":"npx webpack serve --progress","stable":"npx webpack --env stable=true","dev":"npx webpack --env stable=false","lint":"eslint ./src","lint-fix":"eslint ./src --fix","lang":"node ./src/localization/updateTemplate.js"},"dependencies":{"bondage-club-mod-sdk":"^1.2.0"},"devDependencies":{"@eslint/js":"^9.9.0","@stylistic/eslint-plugin":"^2.6.2","bc-stubs":"^111.0.0","eslint":"^9.9.0","globals":"^15.9.0","lz-string":"^1.5.0","terser-webpack-plugin":"^5.3.10","ts-loader":"^9.5.1","typescript":"^5.5.4","typescript-eslint":"^8.1.0","webpack":"^5.93.0","webpack-cli":"^5.1.4","webpack-dev-server":"^5.0.4"}}')},"./src/commands/bed.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{Bed:()=>v});var r=o("./src/util/storage.ts"),a=o("./src/modules/_module.ts"),i=o("./src/util/constants.ts"),n=o("./src/util/messaging.ts"),s=o("./src/util/sdk.ts");const l="SourceCharacter crawls into PronounPossessive bed.",u="SourceCharacter tucks TargetCharacter into bed.";function c(e){var t,o;return Object.keys(e).length>0&&CraftingValidate(e)===CraftingStatusType.OK&&(i.ALL_BEDS.includes(e.Item)||(null===(o=null===(t=null==e?void 0:e.Name)||void 0===t?void 0:t.toLocaleLowerCase())||void 0===o?void 0:o.includes("bed")))}function d(e=Player){e.MemberNumber===Player.MemberNumber?(0,n.SendAction)(l,void 0,[{SourceCharacter:Player.MemberNumber}]):(0,n.SendAction)(u,void 0,[{SourceCharacter:Player.MemberNumber},{TargetCharacter:e.MemberNumber}])}function m(){var e;if(InventoryGet(Player,"ItemDevices")||InventoryGroupIsBlockedForCharacter(Player,"ItemDevices"))return;const t=JSON.parse(LZString.decompressFromBase64(Player.MPA[a.ModuleTitle.Private].savedBed||"")||"{}")||{};if(c(t))InventoryWear(Player,t.Item,"ItemDevices",t.Color.split(","),0,Player.MemberNumber,t,!1);else{const t=null===(e=InventoryGet(Player,"HairFront"))||void 0===e?void 0:e.Color;InventoryWear(Player,"PetBed","ItemDevices",[t[0],"Default",t[t.length-1]],0,Player.MemberNumber,void 0,!1)}ChatRoomCharacterItemUpdate(Player,"ItemDevices")}function h(e=Player){const t=InventoryGet(e,"ItemDevices")||InventoryGroupIsBlockedForCharacter(e,"ItemDevices")||e.MemberNumber!==Player.MemberNumber&&!Player.CanInteract();return e.MemberNumber!==Player.MemberNumber?ServerChatRoomGetAllowItem(Player,e)?e.MPA?t?((0,n.MPANotifyPlayer)(`Unable to tuck ${e.Nickname||e.Name} into bed`,3e4),!1):(d(e),!0):((0,n.MPANotifyPlayer)(`${e.Nickname||e.Name} does not have MPA, unable to give bed`,3e4),!1):((0,n.NotifyPlayer)("MPA: No BC item permission",3e4),!1):t?((0,n.MPANotifyPlayer)("Unable to crawl into bed",3e4),!1):(m(),d(e),!0)}function v(){CommandCombine([{Tag:"bed",Description:"[(optional) Bed export code OR Other player] Crawl into bed without needing hands",Action:(e,t,o)=>{var i;const s=(null!==(i=/^(\S+)\s*(.*)$/.exec(t))&&void 0!==i?i:["","",""])[2];if(s){const e=(0,n.FindCharacterInRoom)(s);if(e)return void h(e);return c(JSON.parse(LZString.decompressFromBase64(s)||"{}")||{})?(Player.MPA[a.ModuleTitle.Private].savedBed=s,(0,r.SaveStorage)(!1),void(0,n.MPANotifyPlayer)("Bed saved")):void(0,n.MPANotifyPlayer)("Invalid argument given!")}h(Player)}},{Tag:"blanket",Description:"Pull the blanket over yourself (Only works on PetBed)",Action:()=>{var e,t,o,r;const a=InventoryGet(Player,"ItemDevices");"PetBed"===(null==a?void 0:a.Asset.Name)&&(0===(null===(t=null===(e=a.Property)||void 0===e?void 0:e.TypeRecord)||void 0===t?void 0:t.typed)||1===(null===(r=null===(o=a.Property)||void 0===o?void 0:o.TypeRecord)||void 0===r?void 0:r.typed))?(a.Property.TypeRecord.typed=Number(!a.Property.TypeRecord.typed),ChatRoomCharacterUpdate(Player),1===a.Property.TypeRecord.typed?(0,n.SendAction)("SourceCharacter pulls a blanket over PronounObject.",void 0,[{SourceCharacter:Player.MemberNumber}]):(0,n.SendAction)("SourceCharacter removes the blanket from on top of PronounObject.",void 0,[{SourceCharacter:Player.MemberNumber}])):(0,n.MPANotifyPlayer)("Unable to pull the blanket over yourself.",2e4)}}]),(0,s.HookFunction)(null,"ChatRoomMessage",100,((e,t)=>{var o;const r=e[0];return"Activity"===r.Type&&"MayaScript"===r.Content&&(0,n.GetAttributeFromChatDictionary)(r,"TargetCharacter")===Player.MemberNumber&&(null===(o=r.Dictionary)||void 0===o?void 0:o.some((e=>"MISSING ACTIVITY DESCRIPTION FOR KEYWORD MayaScript"===(null==e?void 0:e.Tag)&&(null==e?void 0:e.Text)===u)))&&m(),t(e)}))}},"./src/commands/bowl.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{Bowl:()=>v});var r=o("./src/util/storage.ts"),a=o("./src/modules/_module.ts"),i=o("./src/util/messaging.ts"),n=o("./src/util/sdk.ts");const s="SourceCharacter lays a bowl of food and water on the ground in front of PronounObjectself.",l="SourceCharacter lays a bowl of food and water on the ground in front of TargetCharacter.",u=/^(?:\w|[ ~!$#%*+])*$/;function c(e){return Object.keys(e).length>0&&CraftingValidate(e)===CraftingStatusType.OK&&"PetBowl"==(null==e?void 0:e.Item)}function d(e=Player){e.MemberNumber===Player.MemberNumber?(0,i.SendAction)(s,void 0,[{SourceCharacter:Player.MemberNumber}]):(0,i.SendAction)(l,void 0,[{SourceCharacter:Player.MemberNumber},{TargetCharacter:e.MemberNumber}])}function m(){var e;if(InventoryGet(Player,"ItemDevices")||InventoryGroupIsBlockedForCharacter(Player,"ItemDevices"))return;const t=JSON.parse(LZString.decompressFromBase64(Player.MPA[a.ModuleTitle.Private].savedBowl||"")||"{}")||{};if(c(t))InventoryWear(Player,t.Item,"ItemDevices",t.Color.split(","),0,Player.MemberNumber,t,!1).Property=t.ItemProperty;else{const t=null===(e=InventoryGet(Player,"HairFront"))||void 0===e?void 0:e.Color;InventoryWear(Player,"PetBowl","ItemDevices",[t[0],"#000000"],0,Player.MemberNumber,void 0,!1).Property={Text:(Player.Nickname&&u.test(Player.Nickname)?Player.Nickname:u.test(Player.Name)?Player.Name:"").substring(0,12)}}ChatRoomCharacterUpdate(Player)}function h(e=Player){const t=InventoryGet(e,"ItemDevices")||InventoryGroupIsBlockedForCharacter(e,"ItemDevices")||!Player.CanInteract();return e.MemberNumber!==Player.MemberNumber?ServerChatRoomGetAllowItem(Player,e)?e.MPA?t?((0,i.MPANotifyPlayer)(`Unable to give ${e.Nickname||e.Name} a bowl`,3e4),!1):(d(e),!0):((0,i.MPANotifyPlayer)(`${e.Nickname||e.Name} does not have MPA, unable to give bowl`,3e4),!1):((0,i.NotifyPlayer)("MPA: No BC item permission",3e4),!1):t?((0,i.MPANotifyPlayer)("Unable to give bowl",3e4),!1):(m(),d(e),!0)}function v(){CommandCombine([{Tag:"bowl",Description:"Give bowl to pet",Action:(e,t,o)=>{var n;const s=(null!==(n=/^(\S+)\s*(.*)$/.exec(t))&&void 0!==n?n:["","",""])[2];if(s){const e=(0,i.FindCharacterInRoom)(s);if(e)return void h(e);return c(JSON.parse(LZString.decompressFromBase64(s)||"{}")||{})?(Player.MPA[a.ModuleTitle.Private].savedBowl=s,(0,r.SaveStorage)(!1),void(0,i.MPANotifyPlayer)("Bowl saved")):void(0,i.MPANotifyPlayer)("Invalid argument given!")}h(Player)}}]),(0,n.HookFunction)(null,"ChatRoomMessage",100,((e,t)=>{var o;const r=e[0];return"Activity"===r.Type&&"MayaScript"===r.Content&&(0,i.GetAttributeFromChatDictionary)(r,"TargetCharacter")===Player.MemberNumber&&(null===(o=r.Dictionary)||void 0===o?void 0:o.some((e=>"MISSING ACTIVITY DESCRIPTION FOR KEYWORD MayaScript"===(null==e?void 0:e.Tag)&&(null==e?void 0:e.Text)===l)))&&m(),t(e)}))}},"./src/commands/buildAllCommands.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{BuildAllCommands:()=>i});var r=o("./src/commands/bed.ts"),a=o("./src/commands/bowl.ts");function i(){(0,r.Bed)(),(0,a.Bowl)()}},"./src/localization/CN.json":e=>{"use strict";e.exports=JSON.parse('{"Maya\'s Petplay Additions":"Maya的宠物游戏扩展","MPA":"MPA","MPA Settings":"MPA设置","MPA: No BC item permission":"MPA: 没有BC物品权限","MPA Updated":"MPA已更新","Wiki":"Wiki","Open the MPA wiki in a new tab":"在新标签页中打开MPA Wiki","RESET":"重置","Reset all your settings back to default":"将所有设置重置为默认值","Import":"导入","Import the settings copied to your clipboard":"从剪贴板导入设置","Export":"导出","Export your current settings to the clipboard":"将当前设置导出到剪贴板","Confirm":"确认","Cancel":"取消","WARNING: Are you sure you want to reset your MPA settings and data back to default?":"警告：你确定要将MPA设置和数据重置为默认值吗？","This action can not be undone!":"此操作无法撤消！","Export and save your settings BEFORE confirming if you are unsure.":"如果不确定，请在确认之前导出并保存设置。","SourceCharacter is accessing your MPA settings.":"SourceCharacter正在访问你的MPA设置。","Version":"版本","Your Version":"你的版本","TargetCharacter\'s Version":"TargetCharacter的版本","Public":"公开","Friends":"好友","Whitelist":"白名单","Lovers":"恋人","Owners":"主人","Clubowner":"俱乐部主人","Self":"自己","None":"无","Low":"低","Medium":"中","High":"高","Max":"最大","Off":"关闭","First":"前","Last":"后","Replace":"替换","Authority":"权限","Owner member numbers; Seperated by a ,":"主人成员编号；用,分隔","Allow TargetCharacter changing TargetPronounPossessive own settings while bound":"允许TargetCharacter在被束缚时更改TargetPronoun自己的设置","Allow TargetCharacter changing the settings of others while bound":"允许TargetCharacter在被束缚时更改其他人的设置","Allow TargetCharacter to change TargetPronounPossessive Authority settings":"允许TargetCharacter更改TargetPronounPossessive权限设置","Allow others to change TargetCharacter\'s Authority settings":"允许其他人更改TargetCharacter的权限设置","Allow TargetCharacter to change TargetPronounPossessive Profile settings":"允许TargetCharacter更改TargetPronounPossessive个人资料设置","Allow others to change TargetCharacter\'s Profile settings":"允许其他人更改TargetCharacter的个人资料设置","Allow TargetCharacter to change TargetPronounPossessive Clicker settings":"允许TargetCharacter更改TargetPronounPossessive点击器设置","Allow others to change TargetCharacter\'s Clicker settings":"允许其他人更改TargetCharacter的点击器设置","Allow TargetCharacter to change TargetPronounPossessive Virtual Pet settings":"允许TargetCharacter更改TargetPronounPossessive虚拟宠物设置","Allow others to change TargetCharacter\'s Virtual Pet settings":"允许其他人更改TargetCharacter的虚拟宠物设置","Allow TargetCharacter to change TargetPronounPossessive Virtual Pet Conditions settings":"允许TargetCharacter更改TargetPronounPossessive虚拟宠物状态设置","Allow others to change TargetCharacter\'s Virtual Pet Conditions settings":"允许其他人更改TargetCharacter的虚拟宠物状态设置","SourceCharacter just updated your SettingsArray settings.":"SourceCharacter刚刚更新了你的SettingsArray设置","Profile":"个人资料","Use a preset profile or make your own":"使用预设的个人资料或创建自己的","Pet sounds you make":"你发出的宠物声音","Enable hardcore mode; Will set certain settings and prevent changing them back":"启用硬核模式；将设置某些选项并防止更改回去","Automatically make the above pet sounds while talking":"在说话时自动发出上述宠物声音","Pet gagging mode":"宠物堵嘴模式","Pet gagging strength":"宠物堵嘴强度","While deafened certain pet keywords can be picked up":"在失聪时可以识别某些宠物关键词","Use BCX mandatory words instead of the pet sounds above":"使用BCX强制词代替上述宠物声音","Notify when others are accessing TargetCharacter\'s settings":"当其他人访问TargetCharacter的设置时通知","Clicker":"响片训练器","Enable auditory clicker":"启用听觉响片训练器","Phrases that trigger the click; Separate phrases with a comma":"触发点击的短语；用逗号分隔短语","Allow your own chat, emotes, & actions to trigger the clicker":"允许你的聊天、表情和动作触发响片训练器","Who will be able to trigger the clicker":"谁可以触发响片训练器","Allow BCX Listen to my voice rule to trigger the clicker; Requires BCX":"允许BCX的“听我的声音”规则触发响片训练器；需要BCX","Virtual Pet":"虚拟宠物","Become a virtual pet! Requiring: food, water, sleep, and affection":"成为虚拟宠物！需要：食物、水、睡眠和关爱","How many hours until you are completely out of food; 0 to disable":"耗尽食物需要多少小时；0表示禁用","How many hours until you are completely out of water; 0 to disable":"耗尽水需要多少小时；0表示禁用","How many hours until you are completely out of sleep; 0 to disable":"耗尽睡眠需要多少小时；0表示禁用","How many hours until you are completely out of affection; 0 to disable":"耗尽关爱需要多少小时；0表示禁用","Pause stats from draining when logged out of the club":"退出俱乐部时暂停状态消耗","Allow eating or drinking from items in your OWN hands":"允许从自己手中的物品中吃喝","Stats drain even when logged out of the club":"即使退出俱乐部状态也会消耗","Masochist pet; Abuse raises affection":"受虐宠物；虐待会提高关爱","How much hunger and thirst gained from performing oral sex":"通过口交获得的饥饿和口渴值","ONLY Able to gain hunger and thirst from performing oral sex":"只能通过口交获得饥饿和口渴值","Virtual Pet HUD":"虚拟宠物HUD","Display your own virtual pet stats on the HUD":"在HUD上显示你自己的虚拟宠物状态","Display the exact number percentage on the HUD":"在HUD上显示精确的百分比数值","Where to display the HUD":"在何处显示HUD","Display the virtual pet stats of others on the HUD":"在HUD上显示其他人的虚拟宠物状态","Click Once":"按响片一次","SourceCharacter presses the button on PronounPossessive clicker.":"SourceCharacter按下了PronounPossessive响片训练器按钮。","Click Twice":"按响片两次","SourceCharacter presses the button on PronounPossessive clicker twice.":"SourceCharacter按下了PronounPossessive响片训练器按钮两次。","Click Thrice":"按响片三次","SourceCharacter presses the button on PronounPossessive clicker three times.":"SourceCharacter按下了PronounPossessive响片训练器按钮三次。","Eat From Bowl":"从碗中吃","Drink From Bowl":"从碗中喝","SourceCharacter eats from PronounPossessive bowl.":"SourceCharacter从PronounPossessive碗中吃东西。","SourceCharacter drinks from PronounPossessive bowl.":"SourceCharacter从PronounPossessive碗中喝水。","SourceCharacter puts PronounPossessive head into PronounPossessive bowl in order to eat with the gag, making a mess.":"SourceCharacter将头伸入PronounPossessive碗中想要隔着口塞进食，弄得一团糟。","SourceCharacter puts PronounPossessive head into PronounPossessive bowl in order to drink with the gag, making a mess.":"SourceCharacter将头伸入PronounPossessive碗中想要隔着口塞喝水，弄得一团糟。","Virtual Pet Conditions":"虚拟宠物状态","SourceCharacter passes out from exhaustion.":"SourceCharacter因疲惫而晕倒。","SourceCharacter wakes up from PronounPossessive nap.":"SourceCharacter从PronounPossessive小睡中醒来。","Recive conditions based on current level of your virtual pet stats":"根据你虚拟宠物状态的当前等级获得状态","Food and water affects affection gain":"食物和水会影响关爱值的增长","Vision darkens as you get sleepier":"随着你变得更困，视野会变暗","Passout when exhausted":"疲惫时晕倒","Use LSCG passout instead of MPA; Requires LSCG":"使用LSCG的晕倒代替MPA；需要LSCG","Affection will buff skills based on its level":"关爱值会根据其等级增强技能","Affection will debuff skills based on its level":"关爱值会根据其等级削弱技能","Hearing becomes harder the hungrier you are":"你越饿，听力越差","Takes longer to leave the room when hungry":"饥饿时离开房间需要更长时间","Orgasms make you lose some hydration":"高潮会让你失去一些水分","Orgasms make you lose some energy":"高潮会让你失去一些能量","Flick Bell":"拨动铃铛","SourceCharacter flicks the bell on PronounPossessive collar.":"SourceCharacter拨动了PronounPossessive项圈上的铃铛。","SourceCharacter flicks the bell on TargetCharacter\'s collar.":"SourceCharacter拨动了TargetCharacter的项圈上的铃铛。","SourceCharacter flicks the bells on PronounPossessive nipple clamps.":"SourceCharacter拨动了PronounPossessive乳头夹上的铃铛。","SourceCharacter flicks the bells on TargetCharacter\'s nipple clamps.":"SourceCharacter拨动了TargetCharacter的乳头夹上的铃铛。","SourceCharacter flicks the bell on PronounPossessive clit piercing.":"SourceCharacter拨动了PronounPossessive阴蒂穿环上的铃铛。","SourceCharacter flicks the bell on TargetCharacter\'s clit piercing.":"SourceCharacter拨动了TargetCharacter的阴蒂穿环上的铃铛。","SourceCharacter flicks the bells on PronounPossessive nipple piercings.":"SourceCharacter拨动了PronounPossessive乳头穿环上的铃铛。","SourceCharacter flicks the bells on TargetCharacter\'s nipple piercings.":"SourceCharacter拨动了TargetCharacter乳头穿环上的铃铛。","SourceCharacter crawls into PronounPossessive bed.":"SourceCharacter爬进了PronounPossessive床。","SourceCharacter tucks TargetCharacter into bed.":"SourceCharacter将TargetCharacter塞进了床里。","Always display the HUD; Overrides BCX rule \\"Force-hide UI elements\\"":"","Stomp Once":"","Stomp Twice":"","SourceCharacter stomps PronounPossessive hoof on the ground once.":"","SourceCharacter stomps PronounPossessive hoof on the ground twice.":""}')},"./src/localization/RU.json":e=>{"use strict";e.exports=JSON.parse('{"Maya\'s Petplay Additions":"Дополнения для петплея от Maya","MPA":"MPA","MPA Settings":"Настройки дополнения (аддона) MPA","MPA Updated":"Обновлено","Wiki":"Wiki","Open the MPA wiki in a new tab":"Открыть Wiki по MPA в новой вкладке","RESET":"СБРОСИТЬ","Reset all your settings back to default":"Сбросить все настройки по умолчанию","Import":"Импорт","Import the settings copied to your clipboard":"Импортировать настройки скопированные из буфера обмена","Export":"Экспорт","Export your current settings to the clipboard":"Экспортировать настройки в буфера обмена","Confirm":"Подтвердить","Cancel":"Отменить","WARNING: Are you sure you want to reset your MPA settings and data back to default?":"ВНИМАЕИЕ: Вы уверены что хотите сбросить данные MPA и настройки до значения по умолчанию?","This action can not be undone!":"Это действие нельзя будет отменить!","Export and save your settings BEFORE confirming if you are unsure.":"Экспортируйте и сохраните настройки, прежде чем подтвердить, если вы НЕ УВЕРЕНЫ в своем решении.","SourceCharacter is accessing your MPA settings.":"SourceCharacter получил доступ к вашим настройкам  MPA","Version":"Версия","Your Version":"Ваша версия","TargetCharacter\'s Version":"TargetCharacter\'s версия","Public":"Публично","Friends":"Друзья","Whitelist":"Белый список","Lovers":"Любовники","Owners":"Владельцы","Clubowner":"Клубный владелец","Self":"Самостоятельно","None":"Отсуствует","Low":"Низкий","Medium":"Средний","High":"Высокий","Max":"Максимальный","Off":"Выключено","First":"Первый","Last":"Последний","Replace":"Заменить","Authority":"Полномочия","Owner member numbers; Seperated by a ,":"Номер владельца;","Allow TargetCharacter changing TargetPronounPossessive own settings while bound":"Разрешить TargetCharacter изменять TargetPronounPossessive собственные настройки, когда связан","Allow TargetCharacter changing the settings of others while bound":"Разрешить TargetCharacter изменять настройки других персонажей когда связан","Allow TargetCharacter to change TargetPronounPossessive Authority settings":"Разрешить TargetCharacter изменять TargetPronounPossessive настройки полномочий","Allow others to change TargetCharacter\'s Authority settings":"Разрешить  другим изменятьTargetCharacter настройки полномочий","Allow TargetCharacter to change TargetPronounPossessive Profile settings":"Разрешить TargetCharacter изменять TargetPronounPossessive настройки профиля","Allow others to change TargetCharacter\'s Profile settings":"Разрешить другим изменять TargetCharacter\'s настрйоки профиля","Allow TargetCharacter to change TargetPronounPossessive Clicker settings":"Разрешить TargetCharacter изменять TargetPronounPossessive настройки Кликера","Allow others to change TargetCharacter\'s Clicker settings":"Разрешить другим изменять TargetCharacter\'s настройки кликера","Allow TargetCharacter to change TargetPronounPossessive Virtual Pet settings":"Разрешить TargetCharacter изменять TargetPronounPossessive Настройки виртуального питомца","Allow others to change TargetCharacter\'s Virtual Pet settings":" Разрешить другим изменять TargetCharacter\'s настройки виртуального питомца","Allow TargetCharacter to change TargetPronounPossessive Virtual Pet Conditions settings":"Разрешить TargetCharacter изменять TargetPronounPossessive настройки условий виртуального питомца","Allow others to change TargetCharacter\'s Virtual Pet Conditions settings":"Разрешить другим изменять TargetCharacter\'s настройки условий виртуального питомца","SourceCharacter just updated your SettingsArray settings.":"SourceCharacter только что обновил ваши SettingsArray настройки","Profile":"Профиль","Use a preset profile or make your own":"Используйте готовый профиль или создайте свой собственный","Pet sounds you make":"Звуки домашнего животного, которые вы издаете","Enable hardcore mode; Will set certain settings and prevent changing them back":"Включить режим Хардкора; Устанавливает определенные настройки и не позволит изменить их обратно","Automatically make the above pet sounds while talking":"Автоматически издавать выше указанные звуки во время разговора","While deafened certain pet keywords can be picked up":"При глухоте, можно слышать некоторые звуки домашних животных","Use BCX mandatory words instead of the pet sounds above":"Использовать обязательные слова BCX вместо вышеуказанных звуков питомца","Notify when others are accessing TargetCharacter\'s settings":"Уведомлять, когда другие получают доступ к TargetCharacter настройкам","Clicker":"Кликер","Enable auditory clicker":"Включить слышимость кликера","Phrases that trigger the click; Separate phrases with a comma":"Фразы, которые совершают клик; Разделяйте фразы с помощью запятой","Allow your own chat, emotes, & actions to trigger the clicker":"Разрешить своими сообщениями, эмоциями и действиями активировать кликер","Who will be able to trigger the clicker":"Кто сможет вызывать срабатывание кликера","Allow BCX Listen to my voice rule to trigger the clicker; Requires BCX":"Разрешить BCX слушать правила своего голоса для активации кликера; Нужен BCX","Virtual Pet":"Виртуальный питомец","Become a virtual pet! Requiring: food, water, sleep, and affection":"Станьте виртуальным питомцем! Ваши потребности: еда, вода, сон и ласка","How many hours until you are completely out of food; 0 to disable":"Через сколько часов у вас полностью закончится еда; 0 для отключения","How many hours until you are completely out of water; 0 to disable":"Через сколько часов у вас полностью закончится вода; 0 для отключения","How many hours until you are completely out of sleep; 0 to disable":"Через сколько часов у вас полностью закончится сон; 0 для отключения","How many hours until you are completely out of affection; 0 to disable":"Через сколько часов у вас полностью закончится ласка; 0 для отключения","Pause stats from draining when logged out of the club":"Приостановить снижение показателей при выходе из клуба","Allow eating or drinking from items in your OWN hands":"Разрешить есть или пить из предметов в ваших СОБСТВЕННЫХ руках","Stats drain even when logged out of the club":"Статистика снижается даже при выходе из клуба","Masochist pet; Abuse raises affection":"Питомец мазохист; Насилие усиливает привязанность","How much hunger and thirst gained from performing oral sex":"Насколько усилились чувство голода и жажды от орального секса","ONLY Able to gain hunger and thirst from performing oral sex":"Способен утолять голод и жажду ТОЛЬКО при оральном сексе","Virtual Pet HUD":"Виртуальный питомец HUD","Display your own virtual pet stats on the HUD":"Отображение статистики своего виртуального питомца на HUD","Display the exact number percentage on the HUD":"Отображать точное число в процентах на HUD","Where to display the HUD":"Где отображать HUD","Display the virtual pet stats of others on the HUD":"Отображать статистику виртуальных питомцев других на HUD","Click Once":"Щелкнуть один раз","SourceCharacter presses the button PronounPossessive clicker.":"SourceCharacter нажимает на кнопку PronounPossessive кликера.","Click Twice":"Щелкнуть дважды","SourceCharacter presses the button PronounPossessive clicker twice.":"SourceCharacter нажимает на кнопку PronounPossessive кликера дважды.","Click Thrice":"Щелкнуть трижды","SourceCharacter presses the button PronounPossessive clicker three times.":"SourceCharacter нажимает на кнопку PronounPossessive кликера трижды.","Eat From Bowl":"Есть из миски","Drink From Bowl":"Пить из миски","SourceCharacter eats from PronounPossessive bowl.":"SourceCharacter ест из PronounPossessive миски","SourceCharacter drinks from PronounPossessive bowl.":"SourceCharacter пьет из PronounPossessive миски","SourceCharacter puts PronounPossessive head into PronounPossessive bowl in order to eat with the gag, making a mess.":"SourceCharacter опускает PronounPossessive голову в PronounPossessive миску для того, чтобы поесть с кляпом во рту, создавая беспорядок","SourceCharacter puts PronounPossessive head into PronounPossessive bowl in order to drink with the gag, making a mess.":"SourceCharacter опускает PronounPossessive голову в PronounPossessive миску для того, чтобы попить с кляпом во рту, создавая беспорядок","Virtual Pet Conditions":"Состояние виртуального питомца","SourceCharacter passes out from exhaustion.":"SourceCharacter теряет сознание от истощения","SourceCharacter wakes up from PronounPossessive nap.":"SourceCharacter просыпается ото сна","Food and water affects affection gain":"Еда и вода влияют на усиление привязанности","Vision darkens as you get sleepier":"Зрение ухудшатся по мере того, как хотите спать","Passout when exhausted":"Вырубиться при истощении","Use LSCG passout instead of MPA; Requires LSCG":"Использовать LSCG passout вместо MPA; Требуется LSCG ","Affection will buff skills based on its level":"Привязанность будет усиливать навыки в зависимости от их уровня","Affection will debuff skills based on its level":"Привязанность будет ослаблять действие навыков в зависимости от их уровня","Hearing becomes harder the hungrier you are":"Чем сильнее вы голодны, тем хуже вы слышите","Takes longer to leave the room when hungry":"Когда голоден, требуется больше времени чтобы выйти из комнаты","Orgasms make you lose some hydration":"Оргазмы заставляют вас терять часть влаги (влияет на жажду)","Orgasms make you lose some energy":"Оргазмы заставляют вас терять часть энергии (жизненных сил)","Flick Bell":"Щечок колокольчика","SourceCharacter flicks the bell on PronounPossessive collar.":"SourceCharacter ударяет по колокольчику на PronounPossessive ошейник","SourceCharacter flicks the bell on TargetCharacter\'s collar.":"SourceCharacter ударяет по колокольчку на TargetCharacter\'s ошейник","SourceCharacter flicks the bells on PronounPossessive nipple clamps.":"SourceCharacter ударяет по колокольчку на PronounPossessive зажимы для сосоков","SourceCharacter flicks the bells on TargetCharacter\'s nipple clamps.":"SourceCharacter ударяет по колокольчику на TargetCharacter\'s зажимы для сосков","SourceCharacter flicks the bell on PronounPossessive clit piercing.":"SourceCharacter ударяет по колокольчику на TargetCharacter\'s пирсинг клитора ","SourceCharacter flicks the bell on TargetCharacter\'s clit piercing.":"SourceCharacter ударяет по колокольчику на TargetCharacter\'s пирсинг клитора","SourceCharacter flicks the bells on PronounPossessive nipple piercings.":"SourceCharacter ударяет по колокольчику на PronounPossessive пирсинг для сосков","SourceCharacter flicks the bells on TargetCharacter\'s nipple piercings.":"SourceCharacter ударяет по колокольчику на TargetCharacter\'s пирсинг для сосков","SourceCharacter crawls into PronounPossessive bed.":"SourceCharacter заползает в PronounPossessive лежанку","SourceCharacter tucks TargetCharacter into bed.":"SourceCharacter укладывает TargetCharacter\'s в лежанку","MPA: No BC item permission":"","Pet gagging mode":"","Pet gagging strength":"","Recive conditions based on current level of your virtual pet stats":"","Always display the HUD; Overrides BCX rule \\"Force-hide UI elements\\"":"","SourceCharacter presses the button on PronounPossessive clicker.":"","SourceCharacter presses the button on PronounPossessive clicker twice.":"","SourceCharacter presses the button on PronounPossessive clicker three times.":"","Stomp Once":"","Stomp Twice":"","SourceCharacter stomps PronounPossessive hoof on the ground once.":"","SourceCharacter stomps PronounPossessive hoof on the ground twice.":""}')},"./src/localization/localization.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{LocalizedText:()=>a});const r={RU:o("./src/localization/RU.json"),CN:o("./src/localization/CN.json")};function a(e){var t;const o=null===(t=null==r?void 0:r[TranslationLanguage])||void 0===t?void 0:t[e];return o&&""!==o?o:e}},"./src/modules/_module.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{Module:()=>u,ModuleIsPublic:()=>l,ModuleTitle:()=>r,ModuleTitlePublicity:()=>s});var r,a=o("./src/util/sdk.ts"),i=o("./src/util/activities.ts"),n=o("./src/util/messaging.ts");!function(e){e.Unknown="Unknown",e.Authority="Authority",e.Activities="Activities",e.Clicker="Clicker",e.Settings="Settings",e.VirtualPet="VirtualPet",e.VirtualPetHUD="VirtualPetHud",e.VirtualPetConditions="VirtualPetConditions",e.DataSync="DataSync",e.Profile="Profile",e.SettingsOther="SettingsOther",e.Private="Private"}(r||(r={}));const s={[r.Unknown]:!1,[r.Authority]:!0,[r.Activities]:!0,[r.Clicker]:!0,[r.Settings]:!0,[r.VirtualPet]:!0,[r.VirtualPetHUD]:!1,[r.VirtualPetConditions]:!0,[r.DataSync]:!0,[r.Profile]:!0,[r.SettingsOther]:!0,[r.Private]:!1};function l(e){var t;return null===(t=s[e])||void 0===t||t}class u{get Title(){return r.Unknown}get Activities(){return[]}get Settings(){return[]}get SyncListeners(){return[]}Load(){(0,i.CreateActivities)(this.Activities),(0,n.AddDataSyncListeners)(this.SyncListeners)}Unload(){(0,a.RemoveHooks)(this.Title),(0,i.RemoveActivities)(this.Activities),(0,n.RemoveDataSyncListeners)(this.Title)}Reload(){this.Unload(),this.Load()}}},"./src/modules/activities.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ActivitiesModule:()=>c});var r=o("./src/modules/_module.ts"),a=o("./src/util/messaging.ts"),i=o("./src/util/activities.ts"),n=o("./src/util/sdk.ts"),s=o("./src/util/constants.ts");const l=(e,t,o,r)=>{var a;!(null===(a=Player.AudioSettings)||void 0===a?void 0:a.PlayItem)||Player.AudioSettings.PlayItemPlayerOnly&&(null==e?void 0:e.MemberNumber)!==Player.MemberNumber&&(null==t?void 0:t.MemberNumber)!==Player.MemberNumber||s.BELL_SOUND.play()},u=document.createElement("img");u.src=s.ICONS.PAW,u.style.position="absolute",u.style.right="1%",u.style.bottom="23%",u.style.width="1.4em",u.style.height="1.4em";class c extends r.Module{get Title(){return r.ModuleTitle.Activities}get Activities(){return[{Name:"FlickBell",MaxProgress:50,Prerequisite:["UseHands"],CustomPrerequisite:{Name:"HasBellCollar",Prerequisite:(e,t,o)=>{var r,a,i,n,s,l,u,c;return(null===(n=null===(i=null===(a=null===(r=InventoryGet(t,"ItemNeck"))||void 0===r?void 0:r.Asset)||void 0===a?void 0:a.Name)||void 0===i?void 0:i.toLocaleLowerCase())||void 0===n?void 0:n.includes("bell"))||(null===(c=null===(u=null===(l=null===(s=InventoryGet(t,"ItemNeckAccessories"))||void 0===s?void 0:s.Asset)||void 0===l?void 0:l.Name)||void 0===u?void 0:u.toLocaleLowerCase())||void 0===c?void 0:c.includes("bell"))||!1}},Targets:[{group:"ItemNeck",label:"Flick Bell",actionSelf:"SourceCharacter flicks the bell on PronounPossessive collar.",actionOthers:"SourceCharacter flicks the bell on TargetCharacter's collar."}],Image:"Assets\\Female3DCG\\ItemNeckAccessories\\Preview\\CollarBell.png",OnReceive:l},{Name:"FlickBell2",MaxProgress:50,Prerequisite:["UseHands"],CustomPrerequisite:{Name:"HasBellNipples",Prerequisite:(e,t,o)=>{var r,a,i,n,s;return null!==(s=null===(n=null===(i=null===(a=null===(r=InventoryGet(t,"ItemNipples"))||void 0===r?void 0:r.Asset)||void 0===a?void 0:a.Name)||void 0===i?void 0:i.toLocaleLowerCase())||void 0===n?void 0:n.includes("bell"))&&void 0!==s&&s}},Targets:[{group:"ItemNipples",label:"Flick Bell",actionSelf:"SourceCharacter flicks the bells on PronounPossessive nipple clamps.",actionOthers:"SourceCharacter flicks the bells on TargetCharacter's nipple clamps."}],Image:"Assets\\Female3DCG\\ItemNipples\\Preview\\BellClamps.png",OnReceive:l},{Name:"FlickBell3",MaxProgress:50,Prerequisite:["UseHands"],CustomPrerequisite:{Name:"HasBellClit",Prerequisite:(e,t,o)=>{var r,a,i;const n=InventoryGet(t,"ItemVulvaPiercings");return"RoundClitPiercing"==(null===(r=null==n?void 0:n.Asset)||void 0===r?void 0:r.Name)&&2==(null===(i=null===(a=null==n?void 0:n.Property)||void 0===a?void 0:a.TypeRecord)||void 0===i?void 0:i.typed)}},Targets:[{group:"ItemVulvaPiercings",label:"Flick Bell",actionSelf:"SourceCharacter flicks the bell on PronounPossessive clit piercing.",actionOthers:"SourceCharacter flicks the bell on TargetCharacter's clit piercing."}],Image:"Assets\\Female3DCG\\ItemVulvaPiercings\\Preview\\RoundClitPiercing.png",OnReceive:l},{Name:"FlickBell4",MaxProgress:50,Prerequisite:["UseHands"],CustomPrerequisite:{Name:"HasBellNipplesPiercings",Prerequisite:(e,t,o)=>{var r,a,i,n,s;return null!==(s=null===(n=null===(i=null===(a=null===(r=InventoryGet(t,"ItemNipplesPiercings"))||void 0===r?void 0:r.Asset)||void 0===a?void 0:a.Name)||void 0===i?void 0:i.toLocaleLowerCase())||void 0===n?void 0:n.includes("bell"))&&void 0!==s&&s}},Targets:[{group:"ItemNipples",label:"Flick Bell",actionSelf:"SourceCharacter flicks the bells on PronounPossessive nipple piercings.",actionOthers:"SourceCharacter flicks the bells on TargetCharacter's nipple piercings."}],Image:"Assets\\Female3DCG\\ItemNipplesPiercings\\Preview\\BellPiercing.png",OnReceive:l},{Name:"StompOnce",MaxProgress:50,Prerequisite:["UseFeet"],CustomPrerequisite:{Name:"HasHooves",Prerequisite:(e,t,o)=>{var r,a,i,n;return(null===(n=null===(i=null===(a=null===(r=InventoryGet(t,"ItemBoots"))||void 0===r?void 0:r.Asset)||void 0===a?void 0:a.Name)||void 0===i?void 0:i.toLocaleLowerCase())||void 0===n?void 0:n.includes("pony"))||["pony","兽蹄鞋_luzi"].some((e=>{var o,r,a,i;return null===(i=null===(a=null===(r=null===(o=InventoryGet(t,"Shoes"))||void 0===o?void 0:o.Asset)||void 0===r?void 0:r.Name)||void 0===a?void 0:a.toLocaleLowerCase())||void 0===i?void 0:i.includes(e)}))}},Targets:[{group:"ItemBoots",label:"Stomp Once",actionSelf:"SourceCharacter stomps PronounPossessive hoof on the ground once."}],Image:"Assets\\Female3DCG\\Shoes\\Preview\\PonyBoots.png"},{Name:"StompTwice",MaxProgress:50,Prerequisite:["UseFeet"],CustomPrerequisite:{Name:"HasHooves"},Targets:[{group:"ItemBoots",label:"Stomp Twice",actionSelf:"SourceCharacter stomps PronounPossessive hoof on the ground twice."}],Image:"Assets\\Female3DCG\\Shoes\\Preview\\PonyBoots.png"}]}Load(){super.Load(),(0,n.HookFunction)(this.Title,"ActivityCheckPrerequisite",1,((e,t)=>{const[o,r,a,n]=e;return Object.keys(i.activityPrerequisites).includes(o)?i.activityPrerequisites[o](r,a,n):t(e)})),(0,n.HookFunction)(this.Title,"ServerSend",1,((e,t)=>{var o,r,a,n,l,u;const c=e[1];if("ChatRoomChat"!==e[0]||"Activity"!==(null==c?void 0:c.Type))return t(e);const d=null===(r=null===(o=null==c?void 0:c.Dictionary)||void 0===o?void 0:o.find((e=>e.ActivityName)))||void 0===r?void 0:r.ActivityName;if((null==d?void 0:d.startsWith(s.ACTIVITY_NAME_PREFIX))&&(null===(a=null==c?void 0:c.Dictionary)||void 0===a||a.push({Tag:"MISSING ACTIVITY DESCRIPTION FOR KEYWORD "+c.Content,Text:ActivityDictionaryText(c.Content)}),Object.keys(i.activityTriggers).includes(d))){const e=null!==(u=null===(l=null===(n=null==c?void 0:c.Dictionary)||void 0===n?void 0:n.find((e=>e.TargetCharacter)))||void 0===l?void 0:l.TargetCharacter)&&void 0!==u?u:-1,t=null===ChatRoomCharacter||void 0===ChatRoomCharacter?void 0:ChatRoomCharacter.find((t=>t.MemberNumber===e));i.activityTriggers[d](t)}return t(e)})),(0,n.HookFunction)(r.ModuleTitle.Clicker,"ChatRoomMessage",0,((e,t)=>{var o,r;t(e);const n=e[0];if("Activity"===n.Type){const e=(0,a.GetAttributeFromChatDictionary)(n,"ActivityName");if(!(null==e?void 0:e.startsWith(s.ACTIVITY_NAME_PREFIX))||!(e in i.activityReceived))return;const t=null!==(o=(0,a.FindCharacterInRoom)((0,a.GetAttributeFromChatDictionary)(n,"SourceCharacter"),{MemberNumber:!0,NickName:!1,Name:!1}))&&void 0!==o?o:void 0,l=null!==(r=(0,a.FindCharacterInRoom)((0,a.GetAttributeFromChatDictionary)(n,"TargetCharacter"),{MemberNumber:!0,NickName:!1,Name:!1}))&&void 0!==r?r:void 0,u=(0,a.GetAttributeFromChatDictionary)(n,"FocusGroupName");i.activityReceived[e](t,l,u,n)}})),(0,n.HookFunction)(this.Title,"ElementButton.CreateForActivity",0,((e,t)=>{const o=e[1].Activity.Name,r=Object.keys(i.activityImages).includes(o);r&&(e[4]||(e[4]={}),e[4].image=i.activityImages[o]);const a=t(e);return r&&a.appendChild(u.cloneNode()),a}))}Unload(){super.Unload()}}},"./src/modules/authority.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{AuthorityModule:()=>s,IsHardcoreOn:()=>n});var r=o("./src/util/authority.ts"),a=o("./src/modules/_module.ts");const i=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[a.ModuleTitle.Authority])&&void 0!==o?o:{}};function n(e){var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[a.ModuleTitle.Authority].hardcore)&&void 0!==o&&o}class s extends a.Module{get Title(){return a.ModuleTitle.Authority}get Settings(){return[{name:"settingsNotify",type:"checkbox",active:()=>!0,value:!0,label:"Notify when others are accessing TargetCharacter's settings"},{name:"owners",type:"text",active:()=>!0,value:"",label:"Owner member numbers; Seperated by a ,",maxChars:1024,width:400},{name:"boundAccessSelf",type:"checkbox",active:()=>!0,value:!0,label:"Allow TargetCharacter changing TargetPronounPossessive own settings while bound"},{name:"boundAccessOthers",type:"checkbox",active:()=>!0,value:!1,label:"Allow TargetCharacter changing the settings of others while bound"},{name:"selfAuthority",type:"checkbox",active:()=>!0,value:!0,label:"Allow TargetCharacter to change TargetPronounPossessive Authority settings"},{name:"othersAuthority",type:"option",active:()=>!0,options:r.AUTHORITY_GROUP_OPTIONS,value:"Clubowner",label:"Allow others to change TargetCharacter's Authority settings",loop:!1},{name:"selfProfile",type:"checkbox",active:e=>"Self"!==i(e).othersProfile,value:!0,label:"Allow TargetCharacter to change TargetPronounPossessive Profile settings"},{name:"othersProfile",type:"option",active:()=>!0,options:r.AUTHORITY_GROUP_OPTIONS,value:"Clubowner",label:"Allow others to change TargetCharacter's Profile settings",loop:!1,onSet(e){i(e).selfProfile=!0}},{name:"selfClicker",type:"checkbox",active:()=>!0,value:!0,label:"Allow TargetCharacter to change TargetPronounPossessive Clicker settings"},{name:"othersClicker",type:"option",active:()=>!0,options:r.AUTHORITY_GROUP_OPTIONS,value:"Clubowner",label:"Allow others to change TargetCharacter's Clicker settings",loop:!1},{name:"selfVirtualPet",type:"checkbox",active:()=>!0,value:!0,label:"Allow TargetCharacter to change TargetPronounPossessive Virtual Pet settings"},{name:"othersVirtualPet",type:"option",active:()=>!0,options:r.AUTHORITY_GROUP_OPTIONS,value:"Clubowner",label:"Allow others to change TargetCharacter's Virtual Pet settings",loop:!1},{name:"selfVirtualPetConditions",type:"checkbox",active:()=>!0,value:!0,label:"Allow TargetCharacter to change TargetPronounPossessive Virtual Pet Conditions settings"},{name:"othersVirtualPetConditions",type:"option",active:()=>!0,options:r.AUTHORITY_GROUP_OPTIONS,value:"Clubowner",label:"Allow others to change TargetCharacter's Virtual Pet Conditions settings",loop:!1}]}}},"./src/modules/clicker.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ClickerModule:()=>f});var r=o("./src/util/sdk.ts"),a=o("./src/util/messaging.ts"),i=o("./src/util/authority.ts"),n=o("./src/modules/_module.ts"),s=o("./src/modules/profile.ts"),l=o("./assets/clicker1.mp3"),u=o("./assets/clicker2.mp3"),c=o("./assets/clicker3.mp3");const d=[new Audio(l),new Audio(u),new Audio(c)],m=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[n.ModuleTitle.Clicker])&&void 0!==o?o:{}};function h(e=""){let t=0;return m().triggers.split(",").map((e=>e.trim())).filter((e=>""!==e)).forEach((o=>{var r,a;t+=null!==(a=null===(r=e.toLocaleLowerCase().match(new RegExp(o.toLocaleLowerCase(),"g")))||void 0===r?void 0:r.length)&&void 0!==a?a:0})),t}function v(e=0){isNaN(e)||e<=0||!m().enabled||d[Math.min(e-1,d.length-1)].play()}let g=!1;function p(){var e,t;(0,r.bcxFound)()&&!g&&(null===(t=null===(e=(0,r.bcxAPI)())||void 0===e?void 0:e.on)||void 0===t||t.call(e,"bcxLocalMessage",(e=>{const t=null==e?void 0:e.message,o="[Voice] ";m().enabled&&m().bcxVoice&&(null==t?void 0:t.startsWith(o))&&v(h(t.substring(8)))})),g=!0)}class f extends n.Module{constructor(){super(...arguments),this.hasBeenLoaded=!1}get Title(){return n.ModuleTitle.Clicker}get Activities(){return[{Name:"Clicker1",MaxProgress:50,Prerequisite:["UseHands"],CustomPrerequisite:{Name:"HoldingClicker",Prerequisite:(e,t,o)=>{var r,a,i,n,s;return null!==(s=null===(n=null===(i=null===(a=null===(r=InventoryGet(e,"ItemHandheld"))||void 0===r?void 0:r.Asset)||void 0===a?void 0:a.Name)||void 0===i?void 0:i.toLocaleLowerCase())||void 0===n?void 0:n.includes("remote"))&&void 0!==s&&s}},Targets:[{group:"ItemHands",label:"Click Once",actionSelf:"SourceCharacter presses the button on PronounPossessive clicker."}],Image:"Icons/AudioOn.png"},{Name:"Clicker2",MaxProgress:50,Prerequisite:["UseHands"],CustomPrerequisite:{Name:"HoldingClicker"},Targets:[{group:"ItemHands",label:"Click Twice",actionSelf:"SourceCharacter presses the button on PronounPossessive clicker twice."}],Image:"Icons/AudioOn.png"},{Name:"Clicker3",MaxProgress:50,Prerequisite:["UseHands"],CustomPrerequisite:{Name:"HoldingClicker"},Targets:[{group:"ItemHands",label:"Click Thrice",actionSelf:"SourceCharacter presses the button on PronounPossessive clicker three times."}],Image:"Icons/AudioOn.png"}]}get Settings(){return[{name:"enabled",type:"checkbox",active:e=>!(0,s.IsHardcoreOn)(e),value:!1,label:"Enable auditory clicker"},{name:"triggers",type:"text",active:e=>!!m(e).enabled,value:"~click~",label:"Phrases that trigger the click; Separate phrases with a comma",width:384,maxChars:null},{name:"selfAuthed",type:"checkbox",active:e=>!!m(e).enabled&&"Self"!==m(e).authedGroup,value:!0,label:"Allow your own chat, emotes, & actions to trigger the clicker"},{name:"authedGroup",type:"option",active:e=>!!m(e).enabled,value:"Friends",options:["Public","Friends","Whitelist","Lovers","Owners","Clubowner","Self"],label:"Who will be able to trigger the clicker",loop:!1,onSet(e){"Self"===m(e).authedGroup&&(m(e).selfAuthed=!0)}},{name:"bcxVoice",type:"checkbox",active:e=>!!m(e).enabled&&(0,r.bcxFound)()&&!(0,s.IsHardcoreOn)(e),value:!0,label:"Allow BCX Listen to my voice rule to trigger the clicker; Requires BCX"}]}Load(){if(super.Load(),(0,r.HookFunction)(n.ModuleTitle.Clicker,"ChatRoomMessage",0,((e,t)=>{var o,r,n,s,l,u,c,d,g,p,f,P,y,b;const C=e[0];if(!(m().enabled&&(null===(o=e[0])||void 0===o?void 0:o.Type)&&(null===(r=e[0])||void 0===r?void 0:r.Content)&&(null===(n=e[0])||void 0===n?void 0:n.Sender)&&(0,i.IsMemberNumberInAuthGroup)(C.Sender,m().authedGroup,m().selfAuthed)))return t(e);let M=0;const A=`MISSING ACTIVITY DESCRIPTION FOR KEYWORD ${C.Content}`;switch(C.Type){case"Chat":case"Emote":case"Whisper":M=h((0,a.RemoveOOCContentFromMessage)(C.Content));break;case"Action":M="Beep"==C.Content?h(null!==(u=null===(l=null===(s=null==C?void 0:C.Dictionary)||void 0===s?void 0:s.filter((e=>"Beep"==e.Tag))[0])||void 0===l?void 0:l.Text)&&void 0!==u?u:""):(null===(c=C.Dictionary)||void 0===c?void 0:c.reduce(((e,t)=>e||'MISSING TEXT IN "Interface.csv": '===t.Tag&&"‌"===t.Text),!1))?h(C.Content):h(null!==(p=null===(g=null===(d=null==C?void 0:C.Dictionary)||void 0===d?void 0:d.filter((e=>e.Tag==`MISSING TEXT IN "Interface.csv": ${null==C?void 0:C.Content}`))[0])||void 0===g?void 0:g.Text)&&void 0!==p?p:"");break;case"Activity":(null===(f=null==C?void 0:C.Dictionary)||void 0===f?void 0:f.some((e=>(null==e?void 0:e.Tag)===A)))&&(M=h(null!==(b=null===(y=null===(P=null==C?void 0:C.Dictionary)||void 0===P?void 0:P.filter((e=>e.Tag===A))[0])||void 0===y?void 0:y.Text)&&void 0!==b?b:""))}return v(M),t(e)})),(0,r.HookFunction)(n.ModuleTitle.Clicker,"ChatRoomMessage",0,((e,t)=>{t(e);const o=e[0],r=(0,a.GetAttributeFromChatDictionary)(o,"ActivityName");m().enabled&&"Activity"===o.Type&&(null==r?void 0:r.startsWith("MPA_Clicker"))&&(0,i.IsMemberNumberInAuthGroup)(o.Sender,m().authedGroup,m().selfAuthed)&&v(Number(r.slice(-1)))})),!this.hasBeenLoaded){p();const e=setInterval((()=>{g?clearInterval(e):p()}),6e4)}this.hasBeenLoaded=!0}Unload(){super.Unload()}}},"./src/modules/dataSync.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{CategorySync:()=>s,DataSyncModule:()=>c,RecordSync:()=>l,RecordsSync:()=>u,SettingSync:()=>n});var r=o("./src/util/sdk.ts"),a=o("./src/modules/_module.ts"),i=o("./src/util/messaging.ts");function n(e=!1,t){const o=structuredClone(Player.MPA);Object.keys(o).forEach((e=>{(0,a.ModuleIsPublic)(e)||delete o[e]})),(0,i.SendMPAMessage)({message:"SettingSync",settings:o,reply:e},t)}function s(e,t){(0,a.ModuleIsPublic)(e)&&(0,i.SendMPAMessage)({message:"CategorySync",category:e,value:Player.MPA[e]},t)}function l(e,t,o){u([{category:e,record:t}],o)}function u(e,t){for(let t=e.length-1;t>=0;t--){const o=e[t];(0,a.ModuleIsPublic)(o.category)?o.value=Player.MPA[o.category][o.record]:e.splice(t,1)}0!==e.length&&(0,i.SendMPAMessage)({message:"RecordsSync",records:e},t)}class c extends a.Module{get Title(){return a.ModuleTitle.DataSync}get SyncListeners(){return[{module:a.ModuleTitle.DataSync,message:"SettingSync",action:function(e,t){e.MemberNumber!==Player.MemberNumber&&(e.MPA=t.settings,t.reply&&n(!1,e.MemberNumber))}},{module:a.ModuleTitle.DataSync,message:"CategorySync",action:function(e,t){e.MemberNumber!==Player.MemberNumber&&(e.MPA?e.MPA[t.category]=t.value:n(!1,e.MemberNumber))}},{module:a.ModuleTitle.DataSync,message:"RecordsSync",action:function(e,t){var o;if(e.MemberNumber!==Player.MemberNumber)for(const r of t.records)(null===(o=null==e?void 0:e.MPA)||void 0===o?void 0:o[r.category])?e.MPA[r.category][r.record]=r.value:s(t.category,e.MemberNumber)}}]}Load(){super.Load(),0!==ChatRoomCharacter.length&&n(!0),(0,r.HookFunction)(a.ModuleTitle.DataSync,"ChatRoomSync",0,((e,t)=>{t(e),n(!0)})),(0,r.HookFunction)(a.ModuleTitle.DataSync,"ChatRoomMessage",0,((e,t)=>{var o;const r=e[0],a=(0,i.GetMPAMessageFromChat)(r);if(!a)return t(e);const n=(0,i.FindCharacterInRoom)(null!==(o=r.Sender)&&void 0!==o?o:"",{MemberNumber:!0,Name:!1,NickName:!1});if(!n)return t(e);i.hookedMessages.forEach((e=>{a.message===e.message&&e.action(n,a)}))}))}Unload(){super.Unload()}}},"./src/modules/private.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{PrivateModule:()=>n,deafenProcess:()=>i});var r=o("./src/util/sdk.ts"),a=o("./src/modules/_module.ts");let i=!1;class n extends a.Module{get Title(){return a.ModuleTitle.Private}get Settings(){return[{name:"savedBed",type:"record",value:""},{name:"savedBowl",type:"record",value:""}]}Load(){(0,r.HookFunction)(this.Title,"SpeechTransformProcess",10,(([e,t,o,r],a)=>{let n=!1;o.includes("deafen")&&(n=!0,o=o.filter((e=>"deafen"!==e)));const s=a([e,t,o,r]);if(n){const o=SpeechTransformDeafenIntensity(e);o>0&&(i=!0,s.effects.push("deafen"),s.text=SpeechTransformGagGarble(t,o,r,e),i=!1)}return s})),super.Load()}Unload(){super.Unload()}}},"./src/modules/profile.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{GARBLE_PHRASES:()=>O,IsHardcoreOn:()=>I,PET_HEARING:()=>E,ProfileModule:()=>V});var r=o("./src/util/general.ts"),a=o("./src/util/sdk.ts"),i=o("./src/modules/_module.ts"),n=o("./src/modules/settings.ts"),s=o("./src/util/petHearAndSpeak.ts"),l=o("./src/util/messaging.ts"),u=o("./src/modules/dataSync.ts"),c=o("./src/util/authority.ts"),d=o("./src/modules/private.ts"),m=o("./assets/bell1.mp3"),h=o("./assets/bell2.mp3"),v=o("./assets/bell3.mp3"),g=o("./assets/bell4.mp3"),p=o("./assets/bell5.mp3"),f=o("./assets/jingle1.mp3"),P=o("./assets/jingle2.mp3"),y=o("./assets/jingle3.mp3"),b=o("./assets/jingle4.mp3"),C=o("./assets/jingle5.mp3"),M=o("./assets/ring1.mp3"),A=o("./assets/ring2.mp3"),S=o("./assets/ring3.mp3"),T=o("./assets/ring4.mp3"),w=o("./assets/ring5.mp3");const k=[new Audio(m),new Audio(h),new Audio(v),new Audio(g),new Audio(p),new Audio(f),new Audio(P),new Audio(y),new Audio(b),new Audio(C),new Audio(M),new Audio(A),new Audio(S),new Audio(T),new Audio(w)];k.forEach((e=>{e.volume=.2}));const N=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[i.ModuleTitle.Profile])&&void 0!==o?o:{}};function I(e){var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[i.ModuleTitle.Profile].hardcore)&&void 0!==o&&o}function x(e,t=Player){var o,r;return null!==(r=null===(o=t.MPA)||void 0===o?void 0:o[e])&&void 0!==r?r:{}}const O=Object.freeze({Human:["hmmgm","mmmm","mhhmmaa","hmmm"],Custom:[""],Bunny:["pon","pyon","eep","huff","tk-tk","nngh-nngh"],Cat:["meow","mew","nyah","nya","purr","mrrow","prrr"],Cow:["moo","mooooo","muuhhh","moooah"],Dog:["arf","woof","bark","ruff","huff","eep"],Fox:["chirp","yip","wow-wow","yoww","eep"],Mouse:["squeak","eeek","tch-tch","wi-i-i","sss"],Pony:["neigh","whinny","wheee","snrt","whooosh","huff","nnhhh-ker"],Wolf:["awoo","aa-ooo","woof","ruff","arf","wiiip","huff"]});function D(e=N(Player).type){var t,o,i,n,s,l,u,c;const d=null!==(n=null===(i=null===(o=null===(t=(0,a.bcxAPI)())||void 0===t?void 0:t.getRuleState("speech_ban_words"))||void 0===o?void 0:o.customData)||void 0===i?void 0:i.bannedWords)&&void 0!==n?n:[],m=(0,a.bcxFound)()&&N(Player).bcxSpeaking?null!==(c=null===(u=null===(l=null===(s=(0,a.bcxAPI)())||void 0===s?void 0:s.getRuleState("speech_mandatory_words"))||void 0===l?void 0:l.customData)||void 0===u?void 0:u.mandatoryWords)&&void 0!==c?c:[]:function(e=N(Player).type){return e in O&&"Custom"!==e?O[e]:N(Player).garblePhrases.split(",").map((e=>e.trim()))}(e);return(0,r.FilterArrayFromArray)(m,d).map((e=>e.toLocaleLowerCase().trim())).filter((e=>0!=e.length))}const E=Object.freeze({All:["owner","pet","master","mistress","miss","sir","paw","sit","come","down","up","stay","water","food","kibble","eat","treat","drink","toy","play","leash","walk","walkies","bed","sleep","cutie","adorable","toy","play","kibble","good","bad","lap","speak","hush","quiet","hush","all fours","all-fours"],Human:[],Custom:[],Bunny:["bun","bunny","carrot","hop","jump","hump","ear","ears"],Cat:["cat","kitty","kitten","catnip","knead","scratch","yarn","milk"],Cow:["milk","milking","utter","breast","grass","moo"],Dog:["cage","kennel","pup","puppy","dog","doggy","bone","fetch","heel","roll","over","bark"],Fox:["trap","bun","bunny","bone","fox","foxy"],Mouse:["mouse","ear","ears","trap","wire","wheel","cheese","nibble","cat","kitty","kitten"],Pony:["pony","mare","stallion","bridle","hoof","hooves","trot","stall","hay","woah","stomp","calm","easy","slow","cart","bay","run","race","show","canter","gallop"],Wolf:["bone","wolf","dog","pup","puppy","heel"]});function F(e,t,o){const r=(0,n.ElementName)(i.ModuleTitle.Profile,"garblePhrases");if("Custom"===t)return N(e).garblePhrases=N(e).customGarblePhrases.join(", "),void(document.getElementById(r)&&ElementValue(r,N(e).garblePhrases));"Custom"===o&&document.getElementById(r)&&(N(e).customGarblePhrases=ElementValue(r).split(",").map((e=>e.trim()))),N(e).garblePhrases=O[N(e).type].join(", "),document.getElementById(r)&&ElementValue(r,N(e).garblePhrases)}function R(){var e,t,o,r;N().bcxSpeaking=!0;const s=(0,n.ElementName)(i.ModuleTitle.Profile,"garblePhrases");"Custom"===N().type&&document.getElementById(s)&&(N().customGarblePhrases=ElementValue(s).split(",").map((e=>e.trim())));const l=null!==(r=null===(o=null===(t=null===(e=(0,a.bcxAPI)())||void 0===e?void 0:e.getRuleState("speech_mandatory_words"))||void 0===t?void 0:t.customData)||void 0===o?void 0:o.mandatoryWords)&&void 0!==r?r:[];N().garblePhrases=l.join(", "),document.getElementById(s)&&ElementValue(s,N().garblePhrases)}const L=Object.freeze({Low:.015,Medium:.05,High:.1,Max:1}),G=new RegExp(`\\b(${["bounce","bounces","crawl","crawls","dash","dashes","fly","flies","gallop","gallops","hop","hops","jog","jogs","run","runs","scamper","scamper","spring","springs","step","steps","trot","trots","walk","walks","wiggle","wiggles","wobble","wobbles"].join("|")})\\b`,"i"),H=Object.freeze({options:["Off","Low","Medium","High","Max"],Off:0,Low:.05,Medium:.15,High:.33,Max:1});function B(e){var t,o;const a=function(){var e,t,o;let r=0;["ItemNeck","ItemNeckAccessories","ItemNipples","ItemNipplesPiercings"].forEach((e=>{var t,o,a;(null!==(a=null===(o=null===(t=InventoryGet(Player,e))||void 0===t?void 0:t.Asset)||void 0===o?void 0:o.Name)&&void 0!==a?a:"").toLocaleLowerCase().includes("bell")&&r++}));const a=InventoryGet(Player,"ItemVulvaPiercings");return"RoundClitPiercing"===(null===(e=null==a?void 0:a.Asset)||void 0===e?void 0:e.Name)&&2===(null===(o=null===(t=null==a?void 0:a.Property)||void 0===t?void 0:t.TypeRecord)||void 0===o?void 0:o.typed)&&r++,["ItemMouth","ItemMouth2","ItemMouth3"].forEach((e=>{var t,o,a;const i=InventoryGet(Player,e);"TonguePiercingGag"===(null===(t=null==i?void 0:i.Asset)||void 0===t?void 0:t.Name)&&2===(null===(a=null===(o=null==i?void 0:i.Property)||void 0===o?void 0:o.TypeRecord)||void 0===a?void 0:a.typed)&&r++})),r}();0!==a&&(Math.random()>H[null!==(t=N().bellJingle)&&void 0!==t?t:"Off"]*a*(e?1:3)||null===(o=(0,r.RandomElement)(k))||void 0===o||o.play())}class V extends i.Module{get Title(){return i.ModuleTitle.Profile}get SyncListeners(){return[{module:this.Title,message:"BCXSpeakEnableRequest",action:function(e,t){var o,r;(0,c.IsMemberNumberInAuthGroup)(null!==(o=e.MemberNumber)&&void 0!==o?o:-1,null===(r=Player.MPA)||void 0===r?void 0:r[i.ModuleTitle.Authority][`others${i.ModuleTitle.Profile}`])?(R(),(0,u.RecordsSync)([{category:i.ModuleTitle.Profile,record:"garblePhrases"},{category:i.ModuleTitle.Profile,record:"bcxSpeaking"}],e.MemberNumber),(0,l.SendMPAMessage)({message:"BCXSpeakEnableReply"},e.MemberNumber)):console.warn(`${e.Nickname||e.Name}[${e.MemberNumber}] tried to illegially set your bcx speak to be enabled`)}},{module:this.Title,message:"BCXSpeakEnableReply",action:function(e,t){const o=(0,n.ElementName)(i.ModuleTitle.Profile,"garblePhrases");document.getElementById(o)&&ElementValue(o,N(e).garblePhrases)}}]}get Settings(){return[{name:"type",type:"option",active:()=>!0,options:Object.keys(O),value:"Human",label:"Use a preset profile or make your own",loop:!0,onSet:(e,t,o)=>{N(e).bcxSpeaking||F(e,t,o)}},{name:"petHearing",type:"checkbox",active:()=>!0,value:!1,label:"While deafened certain pet keywords can be picked up"},{name:"garblePhrases",type:"text",active:e=>"Custom"===N(e).type&&!(N(e).petSpeaking&&(0,a.bcxFound)()&&N(e).bcxSpeaking),value:O.Human.join(),label:"Pet sounds you make",maxChars:1024,width:1024},{name:"customGarblePhrases",type:"record",value:[]},{name:"petSpeaking",type:"option",active:()=>!0,options:["Off","Low","Medium","High","Max"],loop:!1,value:"Off",label:"Automatically make the above pet sounds while talking"},{name:"bcxSpeaking",type:"checkbox",active:e=>N(e).petSpeaking&&(0,a.bcxFound)(),value:!1,label:"Use BCX mandatory words instead of the pet sounds above",onSet:(e,t)=>{if(t)if(e.IsPlayer())R();else{const t=(0,n.ElementName)(i.ModuleTitle.Profile,"garblePhrases");"Custom"===N(e).type&&document.getElementById(t)&&(N(e).customGarblePhrases=ElementValue(t).split(",").map((e=>e.trim()))),(0,l.SendMPAMessage)({message:"BCXSpeakEnableRequest"},e.MemberNumber)}else F(e,N(e).type,"")}},{name:"hardcore",type:"checkbox",active:()=>!0,value:!1,label:"Enable hardcore mode; Will set certain settings and prevent changing them back",onSet(e,t){0!=t&&(x(i.ModuleTitle.Clicker,e).enabled=!0,x(i.ModuleTitle.Clicker,e).bcxVoice=!0,x(i.ModuleTitle.VirtualPet,e).enabled=!0,x(i.ModuleTitle.VirtualPet,e).noHands=!1,x(i.ModuleTitle.VirtualPetConditions,e).enabled=!0,x(i.ModuleTitle.VirtualPetConditions,e).foodNOW=!0,x(i.ModuleTitle.VirtualPetConditions,e).tint=!0,x(i.ModuleTitle.VirtualPetConditions,e).passout=!0,x(i.ModuleTitle.VirtualPetConditions,e).affectionSkillBuffs=!1,x(i.ModuleTitle.VirtualPetConditions,e).affectionSkillDebuffs=!0,x(i.ModuleTitle.VirtualPetConditions,e).hearingLoss=!0,x(i.ModuleTitle.VirtualPetConditions,e).slowLeave=!0,x(i.ModuleTitle.VirtualPetConditions,e).orgasmWater=!0,x(i.ModuleTitle.VirtualPetConditions,e).orgasmSleep=!0)}},{name:"petGagging",type:"option",active:()=>!0,value:"Off",options:["Off","First","Last","Replace"],loop:!0,label:"Pet gagging mode"},{name:"petGaggingStrength",type:"option",value:"Medium",options:["Low","Medium","High","Max"],loop:!1,label:"Pet gagging strength",active:e=>"Off"!==N(e).petGagging},{name:"bellJingle",type:"option",value:"Off",options:["Off","Low","Medium","High","Max"],loop:!1,label:"Bell jingle on movement",active:()=>!0}]}Load(){super.Load(),SpeechTransformAllEffects.push("petSpeak"),(0,a.HookFunction)(this.Title,"SpeechTransformGagGarble",5,(([e,t,o,...r],a)=>{const i=r[0];return!(null==i?void 0:i.IsGagged())&&Player.IsDeaf()&&!1!==N().petHearing&&e?(0,s.ApplyPetHearing)([e,t,o],a,function(e=N(Player).type){return e in E?E.All.concat(E[e]):E.All}()):a([e,t,o])})),(0,a.HookFunction)(this.Title,"CommandParse",8,(([e],t)=>{if(e=e.trim(),[CommandsKey,"*","@","!"].includes(e.charAt(0)))return t([e]);const o=N(Player).petSpeaking;return t([(0,s.NonDisruptivePetSpeech)(e,D(),o)])})),(0,a.HookFunction)(this.Title,"SpeechTransformGagGarble",5,((e,t)=>{var o;const r=N(Player).petGagging;if(!d.deafenProcess&&"Off"!==r&&0!==ChatRoomCharacter.length){const r=D();if(0===r.length)return t(e);const a=(null!==(o=L[N(Player).petGaggingStrength])&&void 0!==o?o:.05)*e[1];switch(N(Player).petGagging){case"First":return e[0]=(0,s.DisruptivePetSpeech)(e[0],r,a),t(e);case"Last":return(0,s.DisruptivePetSpeech)(t(e),r,a);case"Replace":return(0,s.DisruptivePetSpeech)(e[0],r,a)}}return t(e)})),(0,a.HookFunction)(this.Title,"ChatRoomMapViewUpdatePlayerFlag",0,((e,t)=>{t(e),"Off"!==N().bellJingle&&B(!0)})),(0,a.HookFunction)(this.Title,"ChatRoomMessage",0,((e,t)=>{const o=e[0];return(null==o?void 0:o.Sender)!==Player.MemberNumber||"Off"===N().bellJingle||"Action"!==o.Type&&"Emote"!==o.Type||!G.test(o.Content)||B(!1),t(e)})),(0,a.HookFunction)(this.Title,"PoseRefresh",0,((e,t)=>{var o,r;const a=structuredClone(Player.Pose),i=structuredClone(Player.PoseMapping);t(e);(["AllFours","Hogtied","Suspension"].some((e=>a.includes(e)!==Player.Pose.includes(e)))||("Kneel"===(null==i?void 0:i.BodyLower)||"KneelingSpread"===(null==i?void 0:i.BodyLower))!=("Kneel"===(null===(o=Player.PoseMapping)||void 0===o?void 0:o.BodyLower)||"KneelingSpread"===(null===(r=Player.PoseMapping)||void 0===r?void 0:r.BodyLower)))&&B(!0)}))}Unload(){super.Unload(),SpeechTransformAllEffects=SpeechTransformAllEffects.filter((e=>"petSpeak"!==e))}}},"./src/modules/settings.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ElementName:()=>le,ExitButtonPressed:()=>re,MENU_TITLES:()=>H,PreferenceMenuClick:()=>ae,PreferenceMenuRun:()=>ie,SetSettingChar:()=>v,SettingsModule:()=>de,currentMenu:()=>B});var r=o("./src/localization/localization.ts"),a=o("./src/util/storage.ts"),i=o("./src/util/constants.ts"),n=o("./src/util/settingTypes.ts"),s=o("./src/util/registerModules.ts"),l=o("./src/util/authority.ts"),u=o("./src/util/messaging.ts"),c=o("./src/modules/_module.ts"),d=o("./src/modules/virtualPet.ts");let m=!1,h=null;function v(e){m=!1,h=e}const g=2e3,p=[1815,75,90,90],f=7,P=400,y=90,b=160,C=500,M=20,A=20,S=[100,510,350,75],T="https://github.com/MayaTheFoxy/MPA/wiki",w="https://discord.gg/9GHwmHEMAS",k=[S[0],S[1]+S[3]+M,S[2],S[3]],N=[k[0],k[1]+k[3]+M,k[2],k[3]],I=[N[0],N[1]-N[3],N[2]];let x=0,O="";const D=[N[0],N[1]+N[3]+M,(N[2]-M)/2,N[3]],E=[N[0]+(N[2]+M)/2,N[1]+N[3]+M,(N[2]-M)/2,N[3]],F=[300,700,250,90],R=[1450,700,250,90],L=[S[2]/2+S[0],S[1]-2*M,S[2]];function G(){return h?h.IsPlayer()?[c.ModuleTitle.Authority,c.ModuleTitle.Profile,c.ModuleTitle.Clicker,c.ModuleTitle.VirtualPet,c.ModuleTitle.VirtualPetHUD,c.ModuleTitle.VirtualPetConditions]:[c.ModuleTitle.Authority,c.ModuleTitle.Profile,c.ModuleTitle.Clicker,c.ModuleTitle.VirtualPet,c.ModuleTitle.VirtualPetConditions]:[]}const H={[c.ModuleTitle.VirtualPet]:"Virtual Pet",[c.ModuleTitle.VirtualPetHUD]:"Virtual Pet Hud",[c.ModuleTitle.VirtualPetConditions]:"Virtual Pet Conditions"};let B=null,V=!1,U=0;function W(e){for(let t=0;t<e.length;t++)if(MouseIn(C+(P+M)*Math.floor(t/f),b+(y+M)*(t%f),P,y))return e[t];return null}DrawButton(1520,720,200,80,"Cancel","White");const j=9,q=64,Y=200,z=250,$=10,K=64,X=256,Z=256,J=256;let Q=1,_=1;const ee=[1635,75,90,90],te=[ee[0]-ee[2],ee[1],ee[2],ee[2]];function oe(e){var t;if(!h)return;const o=Object.entries(null!==(t=s.settings[e])&&void 0!==t?t:{}).filter((([t,o])=>{var r;return(0,n.IsDisplaySetting)(o)&&t in(null!==(r=null==h?void 0:h.MPA[e])&&void 0!==r?r:{})}));1!==_&&(Q>_&&(Q=_),Q<1&&(Q=1),DrawButton(...ee,"",Q>=_?"#aaaaaa":"#ffffff","Icons/Next.png","Next Page",Q>=_),DrawButton(...te,"",1>=Q?"#aaaaaa":"#ffffff","Icons/Prev.png","Previous Page",1>=Q)),o.slice((Q-1)*j,Q*j).forEach(((t,o)=>{var a,i,s,u,d,m,v,p,f;const[P,y]=t,b=!y.active(h)||`others${e}`in h.MPA[c.ModuleTitle.Authority]&&`self${e}`in h.MPA[c.ModuleTitle.Authority]&&!(0,l.IsMemberNumberInAuthGroup)(null!==(a=Player.MemberNumber)&&void 0!==a?a:-1,h.MPA[c.ModuleTitle.Authority][`others${e}`],h.MPA[c.ModuleTitle.Authority][`self${e}`],h)||!Player.CanInteract()&&((null==h?void 0:h.MemberNumber)===Player.MemberNumber&&!Player.MPA[c.ModuleTitle.Authority].boundAccessSelf||(null==h?void 0:h.MemberNumber)!==Player.MemberNumber&&!Player.MPA[c.ModuleTitle.Authority].boundAccessOthers);if((0,n.IsCheckboxSetting)(y))DrawCheckbox(z,Y+o*($+q),K,K,(0,r.LocalizedText)(y.label).replaceAll("TargetCharacter",null!==(i=(null==h?void 0:h.Nickname)||(null==h?void 0:h.Name))&&void 0!==i?i:"").replaceAll("TargetPronounPossessive","SheHer"===(null==h?void 0:h.GetPronouns())?"her":"his"),!!h.MPA[e][P],b,"Black");else if((0,n.IsOptionSetting)(y)){const t=y.options.indexOf(h.MPA[e][P]),a=y.options.length,i=e!==c.ModuleTitle.Authority||!l.AUTHORITY_GROUP_OPTIONS.includes(h.MPA[e][P]),n=!(i||(0,l.AuthorityIsComparisonToCharacter)(h.MPA[e][P],">=",null!==(s=Player.MemberNumber)&&void 0!==s?s:-1,h)),m=!(i||(0,l.AuthorityIsComparisonToCharacter)(h.MPA[e][P],">",null!==(u=Player.MemberNumber)&&void 0!==u?u:-1,h))&&"Self"!==h.MPA[e][P];DrawBackNextButton(z,Y+o*($+q),X,q,(0,r.LocalizedText)(h.MPA[e][P]),b||n&&m?"#aaaaaa":"#ffffff","",(()=>(0,r.LocalizedText)(n?"":y.loop?y.options[(t-1+a)%a]:t>0?y.options[t-1]:"")),(()=>(0,r.LocalizedText)(m?"":y.loop?y.options[(t+1+a)%a]:t+1<a?y.options[t+1]:"")),b||n&&m),DrawTextFit((0,r.LocalizedText)(y.label).replaceAll("TargetCharacter",null!==(d=(null==h?void 0:h.Nickname)||(null==h?void 0:h.Name))&&void 0!==d?d:"").replaceAll("TargetPronounPossessive","SheHer"===(null==h?void 0:h.GetPronouns())?"her":"his"),z+X+2*$,Y+(o*($+q)+Math.ceil(q/2)),g-2*z-X,"Black","Gray")}else if((0,n.IsTextSetting)(y)||(0,n.IsNumberSetting)(y)){const t=le(e,P);ElementPositionFixed(t,z,Y+o*($+q),null!==(m=y.width)&&void 0!==m?m:Z,q),b?ElementSetAttribute(t,"disabled","true"):ElementRemoveAttribute(t,"disabled"),DrawTextFit((0,r.LocalizedText)(y.label).replaceAll("TargetCharacter",null!==(v=(null==h?void 0:h.Nickname)||(null==h?void 0:h.Name))&&void 0!==v?v:"").replaceAll("TargetPronounPossessive","SheHer"===(null==h?void 0:h.GetPronouns())?"her":"his"),z+(null!==(p=y.width)&&void 0!==p?p:Z)+2*$,Y+o*($+q)+Math.ceil(q/2),g-2*z-(null!==(f=y.width)&&void 0!==f?f:Z),"Black","Gray")}}))}function re(){null===B?(window.MPA.menuLoaded&&(window.MPA.menuLoaded=!1),ne()):("RESET_Settings"===B||(ce(B),Q=1,_=1),B=null)}function ae(){var e,t,o,r;if(MouseIn(...p))re();else{if((null==h?void 0:h.MemberNumber)===Player.MemberNumber&&null===B){if(MouseIn(...S))return void(null===(e=window.open(T,"_blank"))||void 0===e||e.focus());if(MouseIn(...k))return void(null===(t=window.open(w,"_blank"))||void 0===t||t.focus());if(MouseIn(...N))return B="RESET_Settings",void(U=Date.now()+1e4);if(MouseIn(...D))return void(0,a.ImportSettingsFromClipboard)().then((()=>{O="Settings imported from clipboard"}),(()=>{O="Failed to import settings"})).finally((()=>x=Date.now()+5e3));if(MouseIn(...E))return void(0,a.ExportSettingsToClipboard)().then((()=>{O="Settings copied to clipboard"}),(()=>{O="Failed to export settings"})).finally((()=>x=Date.now()+5e3))}if(null===B&&null!==W(G())&&(B=W(G()),Q=1,_=Math.ceil(Object.entries(null!==(o=s.settings[null!=B?B:""])&&void 0!==o?o:{}).filter((([e,t])=>{var o;return(0,n.IsDisplaySetting)(t)&&e in(null!==(o=null==h?void 0:h.MPA[null!=B?B:""])&&void 0!==o?o:{})})).length/j),ue(B)),"RESET_Settings"!==B){if(null!==B){if(Object.entries(null!==(r=s.settings[null!=B?B:""])&&void 0!==r?r:{}).filter((([e,t])=>{var o;return(0,n.IsDisplaySetting)(t)&&e in(null!==(o=null==h?void 0:h.MPA[null!=B?B:""])&&void 0!==o?o:{})})).length>j){if(MouseIn(...ee)&&Q<_)return ce(B),Q++,void ue(B);if(MouseIn(...te)&&Q>1)return ce(B),Q--,void ue(B)}!function(e){var t;if(!h)return;const o=Object.entries(null!==(t=s.settings[e])&&void 0!==t?t:{}).filter((([t,o])=>{var r;return(0,n.IsDisplaySetting)(o)&&t in(null!==(r=null==h?void 0:h.MPA[e])&&void 0!==r?r:{})}));o.slice((Q-1)*j,Q*j).forEach(((t,o)=>{var r,a,i;const[s,u]=t,d=!u.active(h)||`others${e}`in h.MPA[c.ModuleTitle.Authority]&&`self${e}`in h.MPA[c.ModuleTitle.Authority]&&!(0,l.IsMemberNumberInAuthGroup)(null!==(r=Player.MemberNumber)&&void 0!==r?r:-1,h.MPA[c.ModuleTitle.Authority][`others${e}`],h.MPA[c.ModuleTitle.Authority][`self${e}`],h)||!Player.CanInteract()&&((null==h?void 0:h.MemberNumber)===Player.MemberNumber&&!Player.MPA[c.ModuleTitle.Authority].boundAccessSelf||(null==h?void 0:h.MemberNumber)!==Player.MemberNumber&&!Player.MPA[c.ModuleTitle.Authority].boundAccessOthers);if((0,n.IsCheckboxSetting)(u))MouseIn(z,Y+o*($+q),K,K)&&!d&&(h.MPA[e][s]=!h.MPA[e][s],u.onSet&&u.onSet(h,h.MPA[e][s],!h.MPA[e][s]),m=!0);else if((0,n.IsOptionSetting)(u)){const t=u.options.indexOf(h.MPA[e][s]),r=u.options.length;if(!MouseIn(z,Y+o*($+q),Math.floor(X/2),q)||d||!(u.loop||t>0)||e===c.ModuleTitle.Authority&&l.AUTHORITY_GROUP_OPTIONS.includes(h.MPA[e][s])&&!(0,l.AuthorityIsComparisonToCharacter)(h.MPA[e][s],">=",null!==(a=Player.MemberNumber)&&void 0!==a?a:-1,h)){if(MouseIn(z+Math.floor(X/2),Y+o*($+q),Math.ceil(X/2),q)&&!d&&(u.loop||t+1<u.options.length)&&(e!==c.ModuleTitle.Authority||!l.AUTHORITY_GROUP_OPTIONS.includes(h.MPA[e][s])||(0,l.AuthorityIsComparisonToCharacter)(h.MPA[e][s],">",null!==(i=Player.MemberNumber)&&void 0!==i?i:-1,h))){const o=h.MPA[e][s];h.MPA[e][s]=u.options[(t+1+r)%r],u.onSet&&u.onSet(h,u.options[(t+1+r)%r],o),m=!0}}else{const o=h.MPA[e][s];h.MPA[e][s]=u.options[(t-1+r)%r],u.onSet&&u.onSet(h,u.options[(t-1+r)%r],o),m=!0}}}))}(B)}}else!function(){MouseIn(...F)&&Date.now()>U&&((0,a.ResetStorage)(),B=null,U=0);MouseIn(...R)&&(B=null,U=0)}()}}function ie(){var e;if("RESET_Settings"===B)return void function(){const e=MainCanvas.textAlign;MainCanvas.textAlign="center",DrawText((0,r.LocalizedText)("WARNING: Are you sure you want to reset your MPA settings and data back to default?"),g/2,250,"#000000","#aaaaaa"),DrawText((0,r.LocalizedText)("This action can not be undone!"),g/2,400,"#ff0000","#aaaaaa"),DrawText((0,r.LocalizedText)("Export and save your settings BEFORE confirming if you are unsure."),g/2,550,"#696969","#aaaaaa");const t=Date.now();t<=U?DrawButton(...F,`${(0,r.LocalizedText)("Confirm")} (${Math.floor((U-t)/1e3)})`,"#aaaaaa",void 0,void 0,!0):DrawButton(...F,(0,r.LocalizedText)("Confirm"),"#ff0000"),DrawButton(...R,(0,r.LocalizedText)("Cancel"),"White"),MainCanvas.textAlign=e}();const t=MainCanvas.textAlign;DrawButton(...p,"","White","Icons/Exit.png"),MainCanvas.textAlign="center",DrawText(`${(0,r.LocalizedText)("Maya's Petplay Additions")}${B?` - ${(null==h?void 0:h.Nickname)||(null==h?void 0:h.Name)}'s ${(0,r.LocalizedText)(null!==(e=H[B])&&void 0!==e?e:B)}`:""}`,1e3,125,"Black","Gray"),(null==h?void 0:h.MemberNumber)===Player.MemberNumber&&null===B&&(x>=Date.now()&&(MainCanvas.textAlign="left",DrawTextFit(O,...I,"Black","Gray")),MainCanvas.textAlign="center",DrawButton(...S,(0,r.LocalizedText)("Wiki"),"#ffffff","",(0,r.LocalizedText)("Open the MPA wiki in a new tab")),DrawButton(...k,"Discord","#ffffff",i.ICONS.DISCORD,"Join the MPA discord!"),DrawButton(...N,(0,r.LocalizedText)("RESET"),"#ff2e2eaa","",(0,r.LocalizedText)("Reset all your settings back to default")),DrawButton(...D,(0,r.LocalizedText)("Import"),"#ffffff","",(0,r.LocalizedText)("Import the settings copied to your clipboard")),DrawButton(...E,(0,r.LocalizedText)("Export"),"#ffffff","",(0,r.LocalizedText)("Export your current settings to the clipboard")),DrawTextFit(`${(0,r.LocalizedText)("Version")}: ${Player.MPA.version}`,...L,"Black","Gray")),MainCanvas.textAlign="left",null===B?function(e){var t;for(let o=0;o<e.length;o++)DrawButton(C+(P+M)*Math.floor(o/f),b+(y+M)*(o%f),P,y,"","White"),DrawTextFit((0,r.LocalizedText)(null!==(t=H[e[o]])&&void 0!==t?t:e[o]),C+A+(P+M)*Math.floor(o/f),b+Math.floor(y/2)+(y+M)*(o%f),P-2*A,"Black","Gray")}(G()):oe(B),MainCanvas.textAlign=t}function ne(){h&&(m&&(h.MemberNumber===Player.MemberNumber?((0,d.LevelSync)(!1,!1,!1),(0,a.SaveStorage)(!0)):(0,u.SendMPAMessage)({message:"SettingPutRequest",settings:h.MPA},h.MemberNumber)),h.MemberNumber===Player.MemberNumber&&PreferenceSubscreenExtensionsClear(),m=!1,h=null,V=!1)}function se(){m=!1,h=Player,h&&(V=!0)}function le(e,t){return`MPA_OPTION_${e}${t}`}function ue(e,t=Q){var o;e&&h&&Object.entries(null!==(o=s.settings[e])&&void 0!==o?o:{}).slice((t-1)*j,t*j).forEach((t=>{var o;const[r,a]=t,i=le(e,r);(0,n.IsTextSetting)(a)?ElementCreateInput(i,"text",h.MPA[e][r],null!==(o=a.maxChars)&&void 0!==o?o:J):(0,n.IsNumberSetting)(a)&&(ElementCreateInput(i,"number",h.MPA[e][r].toString()),ElementSetAttribute(i,"min",a.min.toString()),ElementSetAttribute(i,"max",a.max.toString()),ElementSetAttribute(i,"inputmode","decimal"),a.step&&ElementSetAttribute(i,"step",a.step.toString()))}))}function ce(e,t=Q){var o;h&&(e===c.ModuleTitle.VirtualPet&&(0,d.LevelSync)(!1,!1,!1),Object.entries(null!==(o=s.settings[e])&&void 0!==o?o:{}).slice((t-1)*j,t*j).forEach((t=>{const[o,r]=t,a=le(e,o);(0,n.IsTextSetting)(r)&&(h.MPA[e][o]!==ElementValue(a)&&(h.MPA[e][o]=ElementValue(a),m=!0),ElementRemove(a)),(0,n.IsNumberSetting)(r)&&(h.MPA[e][o]!==Number(ElementValue(a))&&(h.MPA[e][o]=Number(ElementValue(a)),m=!0),ElementRemove(a))})))}class de extends c.Module{get Title(){return c.ModuleTitle.Settings}Load(){function e(e){"Escape"!==e.key&&"Esc"!==e.key||!V||(null===B?ne():"RESET_Settings"===B?U=0:(ce(B),Q=1,_=1),B=null,e.stopPropagation())}PreferenceRegisterExtensionSetting({Identifier:"MPA",ButtonText:(0,r.LocalizedText)("MPA Settings"),Image:i.ICONS.PAW,click:ae,run:ie,exit:ne,load:se}),document.addEventListener("keypress",e,!0),document.addEventListener("keydown",e,!0)}Unload(){}Reload(){}}},"./src/modules/settingsOthers.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ObjectDifferences:()=>P,SettingsOtherModule:()=>y});var r=o("./src/util/messaging.ts"),a=o("./src/localization/localization.ts"),i=o("./src/util/constants.ts"),n=o("./src/util/sdk.ts"),s=o("./src/modules/_module.ts"),l=o("./src/modules/settings.ts"),u=o("./src/util/storage.ts"),c=o("./src/modules/virtualPet.ts"),d=o("./src/util/authority.ts"),m=o("./src/util/registerModules.ts");const h=[1700,765,90,90],v=[1700,800,90,90],g=[275,900,350],p=[g[0],g[1]-50,g[2]];function f(e,t){return e.length===t.length&&e.every(((e,o)=>e===t[o]))}function P(e,t){const o={};for(const r in e){if(!(r in t)){o[r]={old:e[r],new:void 0};continue}const a=e[r],i=t[r];if(Array.isArray(a)&&Array.isArray(i))f(a,i)||(o[r]={old:a,new:i});else if("object"!=typeof a||"object"!=typeof i||Array.isArray(a))a!==i&&(o[r]={old:a,new:i});else{const e=P(a,i);Object.keys(e).length>0&&(o[r]=e)}}for(const r in t)r in e||(o[r]={old:void 0,new:t[r]});return o}class y extends s.Module{get Title(){return s.ModuleTitle.SettingsOther}get SyncListeners(){return[{module:this.Title,message:"SettingPutRequest",action:function(e,t){var o,i,n,h,v,g,p,f,y,b,C,M;const A=Player.MPA[s.ModuleTitle.VirtualPet].enabled,S=P(Player.MPA,t.settings);Object.keys(S).forEach((e=>{(0,s.ModuleIsPublic)(e)||delete S[e]}));const T=[];(null===(o=null==S?void 0:S[s.ModuleTitle.VirtualPet])||void 0===o?void 0:o.levels)&&(delete S[s.ModuleTitle.VirtualPet].levels,0===Object.keys(S[s.ModuleTitle.VirtualPet]).length&&delete S[s.ModuleTitle.VirtualPet]),(0,c.LevelSync)(!1,!1,!1);const w=JSON.parse(JSON.stringify(null===(i=Player.MPA)||void 0===i?void 0:i[s.ModuleTitle.Authority])),k=S[s.ModuleTitle.Authority];if(k)if(delete S[s.ModuleTitle.Authority],(0,d.IsMemberNumberInAuthGroup)(null!==(n=e.MemberNumber)&&void 0!==n?n:-1,w[`others${s.ModuleTitle.Authority}`])){T.push((0,a.LocalizedText)(s.ModuleTitle.Authority));for(const e in k)void 0!==k[e].new&&void 0!==k[e].old&&(Player.MPA[s.ModuleTitle.Authority][e]=k[e].new)}else console.warn(`MPA: ${e.Nickname||e.Name} (${e.MemberNumber}) tried to illegally modify your ${s.ModuleTitle.Authority} settings!`);for(const t in S){if(!(0,d.IsMemberNumberInAuthGroup)(null!==(h=e.MemberNumber)&&void 0!==h?h:-1,null!==(v=w[`others${t}`])&&void 0!==v?v:"None")&&!(0,d.IsMemberNumberInAuthGroup)(null!==(g=e.MemberNumber)&&void 0!==g?g:-1,null!==(y=null===(f=null===(p=Player.MPA)||void 0===p?void 0:p[s.ModuleTitle.Authority])||void 0===f?void 0:f[`others${t}`])&&void 0!==y?y:"None")){console.warn(`MPA: ${e.Nickname||e.Name} (${e.MemberNumber}) tried to illegally modify your ${t} settings!`);continue}T.push((0,a.LocalizedText)(null!==(b=l.MENU_TITLES[t])&&void 0!==b?b:t));const o=S[t];for(const e in o)void 0!==o[e].new&&void 0!==o[e].old&&(Player.MPA[t][e]=o[e].new)}Player.MPA[s.ModuleTitle.Profile].hardcore&&(null===(M=null===(C=m.settings[s.ModuleTitle.Profile])||void 0===C?void 0:C.hardcore)||void 0===M||M.onSet(Player)),A!==Player.MPA[s.ModuleTitle.VirtualPet].enabled&&(Player.MPA[s.ModuleTitle.VirtualPet].levels.lastUpdated=Date.now()),0!==T.length&&(0,r.MPANotifyPlayer)((0,a.LocalizedText)("SourceCharacter just updated your SettingsArray settings.").replace("SourceCharacter",e.Nickname||e.Name).replace("SettingsArray",(0,r.ArrayToReadableString)(T))),(0,u.SaveStorage)(!0)}},{module:this.Title,message:"EditingSettings",action:function(e,t){Player.MPA[s.ModuleTitle.Authority].settingsNotify&&(0,r.NotifyPlayer)((0,a.LocalizedText)("SourceCharacter is accessing your MPA settings.").replace("SourceCharacter",e.Nickname||e.Name),3e4)}}]}Load(){super.Load();(0,n.HookFunction)(this.Title,"InformationSheetRun",12,((e,t)=>{var o;if((null===(o=window.bcx)||void 0===o?void 0:o.inBcxSubscreen())||window.LSCG_REMOTE_WINDOW_OPEN)return t(e);if(window.MPA.menuLoaded){const e=InformationSheetSelection;return(null==e?void 0:e.MPA)&&!e.IsPlayer()&&null==l.currentMenu&&(DrawTextFit(`${(0,a.LocalizedText)("Your Version")}: ${Player.MPA.version}`,...g,"Black","Gray"),DrawTextFit(`${(0,a.LocalizedText)("TargetCharacter's Version")}: ${null==e?void 0:e.MPA.version}`.replace("TargetCharacter",(null==e?void 0:e.Nickname)||(null==e?void 0:e.Name)),...p,"Black","Gray")),void(0,l.PreferenceMenuRun)()}t(e);const r=InformationSheetSelection;if((null==r?void 0:r.MPA)&&!r.IsPlayer()){const e=ServerChatRoomGetAllowItem(Player,r);DrawButton(...(0,n.bcxFound)()?v:h,"",e?"#ffffff":"#aaaaaa",i.ICONS.PAW,(0,a.LocalizedText)(e?"MPA":"MPA: No BC item permission"),!1)}})),(0,n.HookFunction)(this.Title,"InformationSheetClick",12,((e,t)=>{var o;if((null===(o=window.bcx)||void 0===o?void 0:o.inBcxSubscreen())||window.LSCG_REMOTE_WINDOW_OPEN)return t(e);if(window.MPA.menuLoaded)return(0,l.PreferenceMenuClick)();const a=InformationSheetSelection;if(!MouseIn(...(0,n.bcxFound)()?v:h)||!(null==a?void 0:a.MPA)||a.IsPlayer()||!ServerChatRoomGetAllowItem(Player,a))return t(e);window.MPA.menuLoaded=!0,(0,l.SetSettingChar)(a),(0,r.SendMPAMessage)({message:"EditingSettings"},a.MemberNumber)})),(0,n.HookFunction)(this.Title,"InformationSheetExit",12,((e,t)=>{if(!window.MPA.menuLoaded)return t(e);(0,l.ExitButtonPressed)()}))}Unload(){super.Unload()}}},"./src/modules/virtualPet.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{CalculateCurrentValue:()=>L,GetCharacterCurrentStatValue:()=>G,IsBedMultiplier:()=>O,IsSleepingExpression:()=>x,LevelSync:()=>H,ModifyStat:()=>U,VirtualPetModule:()=>W});var r=o("./src/modules/_module.ts"),a=o("./src/util/constants.ts"),i=o("./src/util/sdk.ts"),n=o("./src/util/storage.ts"),s=o("./src/util/messaging.ts"),l=o("./src/modules/dataSync.ts"),u=o("./src/modules/profile.ts"),c=o("./src/util/general.ts");const d=168,m=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[r.ModuleTitle.VirtualPet])&&void 0!==o?o:{}},h=.67,v=.33,g=["LSCG_Eat","ThrowItem"],p=["LSCG_FunnelPour","LSCG_Quaff"],f=["Sleep","Afk","Fork","Coding","Read"],P=["Pet","TakeCare","LSCG_Nuzzle","Caress","LSCG_Hug","Scratch"],y=["Kiss","MassageHands","Lick","Nibble","Cuddle","Grope"],b=["Spank","Slap","Bite","Pinch","Pull","ShockItem","SpankItem"],C={ItemArms:1,ItemBoots:.8,ItemBreast:1.5,ItemButt:1.5,ItemEars:2.5,ItemFeet:.8,ItemHands:1,ItemHead:3,ItemLegs:1,ItemMouth:2,ItemNeck:1.2,ItemNipples:1.5,ItemNose:1.7,ItemPelvis:1.3,ItemTorso:1,ItemVulva:2,ItemVulvaPiercings:2.5},M=.2;let A;const S=["Lick","MasturbateTongue","Kiss","Nibble","LSCG_Throat","LSCG_Suck"],T=["PenetrateSlow","PenetrateFast","RubItem","LSCG_SlapPenis"],w=["ItemVulva","ItemVulvaPiercings","ItemButt"],k=Object.freeze({Off:0,Low:.05,Medium:.1,High:.2}),N={},I=Object.freeze({FEMALE:["SourceCharacter gasps and sputters as PronounSubject slurps up all of DestinationCharacter climax.","SourceCharacter smiles as PronounSubject eagerly gulps down DestinationCharacter ejaculate, with some dripping down PronounPossessive chin.","SourceCharacter opens PronounPossessive mouth wide trying to catch and swallow as much of DestinationCharacter squirt."],MALE:["SourceCharacter opens PronounPossessive mouth as TargetCharacter shoots TargetPronounPossessive load, hitting the back of PronounPossessive throat.","SourceCharacter wraps PronounPossessive lips around DestinationCharacter shaft to swallow and not waste a drop of TargetPronounPossessive cum.","TargetCharacter pumps TargetPronounPossessive load into SourceCharacter's awaiting mouth, looking up at TargetCharacter with pride as SourceCharacter swallows it all."]}),x=e=>{var t,o,r,a,i,n,s;return"Closed"===(null===(o=null===(t=e.Appearance.find((e=>"Eyes"===e.Asset.Group.Name)))||void 0===t?void 0:t.Property)||void 0===o?void 0:o.Expression)&&"Closed"===(null===(a=null===(r=e.Appearance.find((e=>"Eyes2"===e.Asset.Group.Name)))||void 0===r?void 0:r.Property)||void 0===a?void 0:a.Expression)&&f.includes(null!==(s=null===(n=null===(i=e.Appearance.find((e=>"Emoticon"===e.Asset.Group.Name)))||void 0===i?void 0:i.Property)||void 0===n?void 0:n.Expression)&&void 0!==s?s:"")},O=e=>{var t,o;const r=null!==(o=null===(t=InventoryGet(e,"ItemDevices"))||void 0===t?void 0:t.Asset.Name)&&void 0!==o?o:"";return a.BED_PERFECT.includes(r)?10:a.BED_NORMAL.includes(r)?5:a.BED_BAD.includes(r)?2:1};let D=!1,E=1;function F(e=!0){!m().enabled||0===m().sleepHours||D===x(Player)&&E===O(Player)||(e&&H(),D=x(Player),E=O(Player))}function R(e){return 60*e*60*1e3}function L(e,t,o,r,a=!1,i=Player){const n=(r||Date.now())-o,s=Math.max(0,Math.min(e-n/R(t),1));if(a&&e>M&&s<M){const r=m(i).levels.lastOnline-o,a=Math.max(0,Math.min(e-r/R(t),1));return Math.min(M,a)}return s}function G(e,t){var o;const a=null===(o=null==e?void 0:e.MPA)||void 0===o?void 0:o[r.ModuleTitle.VirtualPet];if(!a)return-1;if("sleep"===t){const t=x(e)||1!==O(e)?a.levels.sleep+(Date.now()-a.levels.lastUpdated)/(60*a.sleepHours*60*1e3)*O(e)*(x(e)?5:1):L(a.levels.sleep,a.sleepHours,a.levels.lastUpdated);return Math.max(0,Math.min(1,t))}return L(a.levels[t],a[`${t}Hours`],a.levels.lastUpdated)}function H(e=!0,t=!0,o=!1){var a;if(!m().enabled)return m().levels.lastUpdated=Date.now(),void(m().levels.lastOnline=Date.now());const i=null!==(a=m().levels.lastUpdated)&&void 0!==a?a:Date.now(),s=m().offlineDrain?void 0:m().levels.lastOnline,u=m().foodHours;0!==u&&(m().levels.food=L(m().levels.food,u,i,s,o));const c=m().waterHours;0!==c&&(m().levels.water=L(m().levels.water,c,i,s,o));const d=m().sleepHours;if(0!==d)if(o&&!s||D||1!==E){const e=o?Date.now()-m().levels.lastOnline-(m().levels.lastOnline-i):Date.now()-i,t=m().levels.sleep+e/R(d)*E*(D?5:1);m().levels.sleep=Math.max(0,Math.min(1,t))}else m().levels.sleep=L(m().levels.sleep,d,i,s,o);const h=m().affectionHours;0!==h&&(m().levels.affection=L(m().levels.affection,h,i,s,o)),m().levels.lastUpdated=Date.now(),m().levels.lastOnline=Date.now(),e&&(0,n.SaveStorage)(!1),t&&(0,l.RecordSync)(r.ModuleTitle.VirtualPet,"levels")}function B(){return m().enabled&&("Off"===m().sexPet||!m().sexPetOnly)}function V(){return m().enabled&&"Off"!==m().sexPet}function U(e,t,o=!0,a=!0,i){t<-1&&t>1||(H(!1,!1,!1),m().levels[e]+=t*(o&&t>0?function(e,t){let o=1;if((null==t?void 0:t.IsOwner())?o+=.5:(null==t?void 0:t.IsLoverOfPlayer())?o+=.35:(null==t?void 0:t.IsFamilyOfPlayer())&&(o+=.25),"food"!==e&&"water"!==e||Player.CanTalk()||(o-=.5),o+=.03*Player.Appearance.filter((e=>e.Asset.DynamicGroupName.startsWith("Item"))).length,"AllFours"===Player.PoseMapping.BodyFull&&(o+=.5),"affection"===e&&Player.MPA[r.ModuleTitle.VirtualPetConditions].enabled&&Player.MPA[r.ModuleTitle.VirtualPetConditions].foodNOW){const e=[];0!==m().foodHours&&e.push(G(Player,"food")),0!==m().waterHours&&e.push(G(Player,"water")),0!==e.length&&(o*=e.reduce(((e,t)=>e+t),0)/e.length/.75)}return Math.max(0,o)}(e,i):1),function(e){const t=m().levels[e];m().levels[e]=Math.min(Math.max(t,0),1)}(e),a&&(0,n.SaveStorage)(!1),(0,l.RecordSync)(r.ModuleTitle.VirtualPet,"levels"))}class W extends r.Module{get Title(){return r.ModuleTitle.VirtualPet}get Activities(){return[{Name:"BowlEat",Targets:[{group:"ItemMouth",label:"Eat From Bowl",actionSelf:"SourceCharacter eats from PronounPossessive bowl."}],Image:"Assets/Female3DCG/ItemDevices/Preview/PetBowl.png",Prerequisite:["UseMouth"],CustomPrerequisite:{Name:"HasBowl",Prerequisite:(e,t,o)=>{var r,a;return"PetBowl"===(null===(a=null===(r=InventoryGet(e,"ItemDevices"))||void 0===r?void 0:r.Asset)||void 0===a?void 0:a.Name)}},OnTrigger:()=>{m().enabled&&0!==m().foodHours&&B()&&U("food",h,!0)}},{Name:"BowlDrink",Targets:[{group:"ItemMouth",label:"Drink From Bowl",actionSelf:"SourceCharacter drinks from PronounPossessive bowl."}],Image:"Assets/Female3DCG/ItemDevices/Preview/PetBowl.png",Prerequisite:["UseMouth"],CustomPrerequisite:{Name:"HasBowl"},OnTrigger:()=>{m().enabled&&0!==m().waterHours&&B()&&U("water",h,!0)}},{Name:"BowlEat2",Targets:[{group:"ItemMouth",label:"Eat From Bowl",actionSelf:"SourceCharacter puts PronounPossessive head into PronounPossessive bowl in order to eat with the gag, making a mess."}],Image:"Assets/Female3DCG/ItemDevices/Preview/PetBowl.png",Prerequisite:[],CustomPrerequisite:[{Name:"HasBowl"},{Name:"UseTongueNoMouth",Prerequisite:(e,t,o)=>!e.CanTalk()&&!e.IsMouthBlocked()}],OnTrigger:()=>{m().enabled&&0!==m().foodHours&&B()&&U("food",h,!0)}},{Name:"BowlDrink2",Targets:[{group:"ItemMouth",label:"Drink From Bowl",actionSelf:"SourceCharacter puts PronounPossessive head into PronounPossessive bowl in order to drink with the gag, making a mess."}],Image:"Assets/Female3DCG/ItemDevices/Preview/PetBowl.png",Prerequisite:[],CustomPrerequisite:[{Name:"HasBowl"},{Name:"UseTongueNoMouth"}],OnTrigger:()=>{m().enabled&&0!==m().waterHours&&B()&&U("water",h,!0)}}]}get Settings(){return[{name:"enabled",type:"checkbox",active:e=>!(0,u.IsHardcoreOn)(e),value:!1,label:"Become a virtual pet! Requiring: food, water, sleep, and affection"},{name:"foodHours",type:"number",value:4,active:e=>!!m(e).enabled,label:"How many hours until you are completely out of food; 0 to disable",width:128,min:0,max:d,step:.1},{name:"waterHours",type:"number",value:4,active:e=>!!m(e).enabled,label:"How many hours until you are completely out of water; 0 to disable",width:128,min:0,max:d,step:.1},{name:"sleepHours",type:"number",value:8,active:e=>!!m(e).enabled,label:"How many hours until you are completely out of sleep; 0 to disable",width:128,min:0,max:d,step:.1},{name:"affectionHours",type:"number",value:4,active:e=>!!m(e).enabled,label:"How many hours until you are completely out of affection; 0 to disable",width:128,min:0,max:d,step:.1},{name:"offlineDrain",type:"checkbox",value:!0,active:e=>!!m(e).enabled,label:"Stats drain even when logged out of the club"},{name:"noHands",type:"checkbox",active:e=>!!m(e).enabled&&!(0,u.IsHardcoreOn)(e),value:!0,label:"Allow eating or drinking from items in your OWN hands"},{name:"masochist",type:"checkbox",active:e=>!!m(e).enabled,value:!1,label:"Masochist pet; Abuse raises affection"},{name:"levels",type:"record",value:{food:1,water:1,sleep:1,affection:1,lastUpdated:Date.now(),lastOnline:Date.now()}},{name:"sexPet",type:"option",active:e=>!!m(e).enabled,value:"Off",options:["Off","Low","Medium","High"],label:"How much hunger and thirst gained from performing oral sex",loop:!1},{name:"sexPetOnly",type:"checkbox",active:e=>"Off"!=m(e).sexPet,value:!1,label:"ONLY Able to gain hunger and thirst from performing oral sex"}]}Load(){super.Load(),F(!1),H(!0,!1,!0),A=setInterval((()=>{Player.MemberNumber&&(Player.MPA[this.Title].levels.lastOnline=Date.now(),(0,n.SaveStorage)(!1))}),1e4),(0,i.HookFunction)(this.Title,"ChatRoomMessage",0,((e,t)=>{var o,r,a;const i=e[0],n=(0,s.GetAttributeFromChatDictionary)(i,"ActivityName");if(!m().enabled||!m().noHands&&(0,s.GetAttributeFromChatDictionary)(i,"SourceCharacter")===Player.MemberNumber||"Activity"!==i.Type||(0,s.GetAttributeFromChatDictionary)(i,"TargetCharacter")!==Player.MemberNumber||"ItemMouth"!==(0,s.GetAttributeFromChatDictionary)(i,"FocusGroupName")||!n||!B())return t(e);const l=ActivityFemale3DCG.find((e=>e.Name===n)),u=null!==(o=(0,s.FindCharacterInRoom)((0,s.GetAttributeFromChatDictionary)(i,"TargetCharacter")))&&void 0!==o?o:void 0;return 0!==m().foodHours&&((null===(r=null==l?void 0:l.Prerequisite)||void 0===r?void 0:r.includes("Needs-EatItem"))||g.some((e=>(null==l?void 0:l.Name)===e)))&&U("food",v,!0,void 0,u),0!==m().waterHours&&((null===(a=null==l?void 0:l.Prerequisite)||void 0===a?void 0:a.includes("Needs-SipItem"))||p.some((e=>(null==l?void 0:l.Name)===e)))&&U("water",v,!0,void 0,u),t(e)})),(0,i.HookFunction)(this.Title,"ChatRoomMessage",0,((e,t)=>{var o,r;const a=e[0],i=(0,s.GetAttributeFromChatDictionary)(a,"ActivityName"),n=ActivityFemale3DCG.find((e=>e.Name===i));return m().enabled&&(0,s.GetAttributeFromChatDictionary)(a,"SourceCharacter")===Player.MemberNumber&&"Activity"===a.Type&&"ItemHands"===(0,s.GetAttributeFromChatDictionary)(a,"FocusGroupName")&&i&&B()&&0!==m().foodHours&&((null===(o=null==n?void 0:n.Prerequisite)||void 0===o?void 0:o.includes("Needs-EatItem"))||g.some((e=>(null==n?void 0:n.Name)===e)))?(U("food",v,!0,void 0,null!==(r=(0,s.FindCharacterInRoom)((0,s.GetAttributeFromChatDictionary)(a,"TargetCharacter")))&&void 0!==r?r:void 0),t(e)):t(e)})),(0,i.HookFunction)(this.Title,"ChatRoomMessage",0,((e,t)=>{var o,r;const a=e[0],i=(0,s.GetAttributeFromChatDictionary)(a,"ActivityName"),n=(0,s.GetAttributeFromChatDictionary)(a,"SourceCharacter"),l=(0,s.GetAttributeFromChatDictionary)(a,"TargetCharacter");return m().enabled&&"Activity"===a.Type&&V()&&n===Player.MemberNumber&&l!==Player.MemberNumber&&w.includes((0,s.GetAttributeFromChatDictionary)(a,"FocusGroupName"))&&S.includes(i)?(U("food",k[null!==(o=m().sexPet)&&void 0!==o?o:"Low"],!0,!0,null!==(r=(0,s.FindCharacterInRoom)(l))&&void 0!==r?r:void 0),N[l]=Date.now(),t(e)):t(e)})),(0,i.HookFunction)(this.Title,"ChatRoomMessage",0,((e,t)=>{var o,r;const a=e[0],i=(0,s.GetAttributeFromChatDictionary)(a,"ActivityName"),n=(0,s.GetAttributeFromChatDictionary)(a,"SourceCharacter"),l=(0,s.GetAttributeFromChatDictionary)(a,"TargetCharacter");return m().enabled&&"Activity"===a.Type&&V()&&n!==Player.MemberNumber&&l===Player.MemberNumber&&("ItemMouth"===(0,s.GetAttributeFromChatDictionary)(a,"FocusGroupName")&&T.includes(i)&&"Penis"===(0,s.GetAttributeFromChatDictionary)(a,"AssetName")&&"Pussy"===(0,s.GetAttributeFromChatDictionary)(a,"GroupName")||"ItemHead"===(0,s.GetAttributeFromChatDictionary)(a,"FocusGroupName")&&"LSCG_FuckWithPussy"===i)?(U("food",k[null!==(o=m().sexPet)&&void 0!==o?o:"Low"],!0,!0,null!==(r=(0,s.FindCharacterInRoom)(n))&&void 0!==r?r:void 0),N[n]=Date.now(),t(e)):t(e)})),(0,i.HookFunction)(this.Title,"ChatRoomMessage",10,((e,t)=>{var o,r;const i=e[0],n=(0,s.GetAttributeFromChatDictionary)(i,"SourceCharacter");if("Activity"!==i.Type||!a.ORGASM_ACTIVITY_REGEX.test(i.Content)||n===Player.MemberNumber)return t(e);if((null!==(o=N[n])&&void 0!==o?o:0)>=Date.now()-9e4){const e=(0,s.FindCharacterInRoom)(n);U("water",7*k[null!==(r=m().sexPet)&&void 0!==r?r:"Low"],!0,!0,null!=e?e:void 0),e&&(0,s.SendAction)((0,c.RandomElement)(I[e.HasPenis()?"MALE":"FEMALE"]),void 0,[{SourceCharacter:Player.MemberNumber},{TargetCharacter:n}])}return t(e)})),(0,i.HookFunction)(this.Title,"CharacterRefresh",0,((e,t)=>(e[0].MemberNumber===Player.MemberNumber&&F(),t(e)))),(0,i.HookFunction)(this.Title,"ChatRoomMessage",0,((e,t)=>{var o,r;const a=e[0],i=(0,s.GetAttributeFromChatDictionary)(a,"ActivityName");if(!m().enabled||0===m().affectionHours||"Activity"!==a.Type||(0,s.GetAttributeFromChatDictionary)(a,"TargetCharacter")!==Player.MemberNumber||(0,s.GetAttributeFromChatDictionary)(a,"SourceCharacter")===Player.MemberNumber||!i)return t(e);const n=null!==(o=(0,s.GetAttributeFromChatDictionary)(a,"FocusGroupName"))&&void 0!==o?o:"",l=null!==(r=C[n])&&void 0!==r?r:1;return P.includes(i)?U("affection",.05*l):y.includes(i)?U("affection",.03*l):b.includes(i)&&U("affection",-.04*(m().masochist?-1:1)*l),t(e)}))}Unload(){super.Unload(),clearInterval(A)}}},"./src/modules/virtualPetConditions.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ConditionCheck:()=>f,VirtualPetConditionsModule:()=>x});var r=o("./src/util/constants.ts"),a=o("./src/util/general.ts"),i=o("./src/util/messaging.ts"),n=o("./src/util/sdk.ts"),s=o("./src/modules/_module.ts"),l=o("./src/modules/profile.ts"),u=o("./src/modules/virtualPet.ts");const c=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[s.ModuleTitle.VirtualPet])&&void 0!==o?o:{}},d=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[s.ModuleTitle.VirtualPetConditions])&&void 0!==o?o:{}};function m(e,t){var o;return!(!d().enabled||!d()[e])&&(!t||c().enabled&&0!==(null===(o=c())||void 0===o?void 0:o[`${t}Hours`]))}const h=[["SelfBondage",!0],["Willpower",!0],["Bondage",!1],["Evasion",!1],["LockPicking",!1]],v={food:-1,water:-1,sleep:-1,affection:-1};let g=[];let p=250;function f(){["food","water","affection","sleep"].forEach((e=>{if(c().enabled&&d().enabled&&0!==c()[`${e}Hours`]){const t=v[e],o=(0,u.GetCharacterCurrentStatValue)(Player,e);g.forEach((r=>{r.stat===e&&-1===t&&r.firstRun&&r.firstRun(),r.stat===e&&-1!==t&&t>o&&"rising"!==r.change&&o<=r.threshhold&&r.threshhold<t&&r.action(),r.stat===e&&-1!==t&&t<o&&"falling"!==r.change&&t<r.threshhold&&r.threshhold<=o&&r.action()})),v[e]=o}else v[e]=-1}))}const P="sleep",y=.25,b=0,C=0,M=1;var A;!function(e){e[e.NOT=0]="NOT",e[e.MPA=1]="MPA",e[e.LSCG=2]="LSCG"}(A||(A={}));let S=A.NOT;const T=["SourceCharacter drools out of the corner of PronounPossessive mouth as PronounSubject sleeps.","SourceCharacter mumbles quietly in PronounPossessive slumber.","SourceCharacter rests peacefully."];function w(){var e,t,o,r,a,n,s,l,u;(null===(o=null===(t=null===(e=globalThis.LSCG)||void 0===e?void 0:e.getModule("StateModule"))||void 0===t?void 0:t.SleepState)||void 0===o?void 0:o.Active)||((0,i.SendAction)("SourceCharacter passes out from exhaustion.",void 0,[{SourceCharacter:Player.MemberNumber}]),d().passoutLSCG&&(null===globalThis||void 0===globalThis?void 0:globalThis.LSCG)&&(null===(n=null===(a=null===(r=null===globalThis||void 0===globalThis?void 0:globalThis.LSCG)||void 0===r?void 0:r.getModule("StateModule"))||void 0===a?void 0:a.SleepState)||void 0===n||n.Activate(Player.MemberNumber),null===(u=null===(l=null===(s=globalThis.LSCG)||void 0===s?void 0:s.getModule("StateModule"))||void 0===l?void 0:l.SleepState)||void 0===u?void 0:u.Active)?S=A.LSCG:(CharacterSetFacialExpression(Player,"Emoticon","Sleep"),CharacterSetFacialExpression(Player,"Eyes","Closed"),CharacterSetFacialExpression(Player,"Fluids","DroolMedium"),Player.CanKneel()&&PoseSetActive(Player,"Kneel",!0),S=A.MPA))}function k(){return d().enabled&&0!==c().sleepHours&&d().passout&&(!(null===globalThis||void 0===globalThis?void 0:globalThis.LSSG)||!d().passoutLSCG)&&S===A.MPA}let N;function I(){c().enabled&&0!==c().affectionHours&&d().enabled&&h.forEach((([e,t])=>{const o=(0,u.GetCharacterCurrentStatValue)(Player,"affection"),r=Math.round((10*o/1-5)*(t?1:-1)*100)/100,a=SkillGetModifier(Player,e),i=0!==SkillGetModifierDuration(Player,e)?SkillGetModifierDuration(Player,e):15e3;r>0&&d().affectionSkillBuffs&&SkillSetModifier(Player,e,a+r,i,!1),r<0&&d().affectionSkillDebuffs&&SkillSetModifier(Player,e,a+r,i,!1)}))}class x extends s.Module{get Title(){return s.ModuleTitle.VirtualPetConditions}get Settings(){return[{name:"enabled",type:"checkbox",active:e=>!!c(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!1,label:"Recive conditions based on current level of your virtual pet stats"},{name:"foodNOW",type:"checkbox",active:e=>!!c(e).enabled&&!!d(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Food and water affects affection gain"},{name:"tint",type:"checkbox",active:e=>!!c(e).enabled&&!!d(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Vision darkens as you get sleepier"},{name:"passout",type:"checkbox",active:e=>!!c(e).enabled&&!!d(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Passout when exhausted"},{name:"passoutLSCG",type:"checkbox",active:e=>!!(c(e).enabled&&d(e).enabled&&d(e).passout&&e.LSCG),value:!1,label:"Use LSCG passout instead of MPA; Requires LSCG"},{name:"affectionSkillBuffs",type:"checkbox",active:e=>!!c(e).enabled&&!!d(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Affection will buff skills based on its level"},{name:"affectionSkillDebuffs",type:"checkbox",active:e=>!!c(e).enabled&&!!d(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Affection will debuff skills based on its level"},{name:"hearingLoss",type:"checkbox",active:e=>!!c(e).enabled&&!!d(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Hearing becomes harder the hungrier you are"},{name:"slowLeave",type:"checkbox",active:e=>!!c(e).enabled&&!!d(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Takes longer to leave the room when hungry"},{name:"orgasmWater",type:"checkbox",active:e=>!!c(e).enabled&&!!d(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Orgasms make you lose some hydration"},{name:"orgasmSleep",type:"checkbox",active:e=>!!c(e).enabled&&!!d(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Orgasms make you lose some energy"}]}Load(){(0,n.HookFunction)(this.Title,"GameRun",0,((e,t)=>(p>=250&&f(),p++,t(e)))),(0,n.HookFunction)(this.Title,"Player.GetTints",0,((e,t)=>{if(!m("tint",P))return t(e);const o=((0,u.GetCharacterCurrentStatValue)(Player,P)-y)/(b-y)*(M-C)+C;return C<=o&&o<=M?t(e).concat({r:0,g:0,b:0,a:Math.sqrt(Math.round(1e3*o)/1e3)}):t(e)})),g=[{stat:"sleep",threshhold:0,change:"falling",action:function(){w()},firstRun:function(){0===(0,u.GetCharacterCurrentStatValue)(Player,"sleep")&&w()}},{stat:"sleep",threshhold:.1,change:"rising",action:function(){S!==A.NOT&&function(){var e,t,o,r,a,n,s,l,u,c,d,m;if(S!==A.LSCG)CharacterSetFacialExpression(Player,"Emoticon",null),CharacterSetFacialExpression(Player,"Eyes","Dazed"),CharacterSetFacialExpression(Player,"Eyebrows","Lowered"),S=A.NOT,(0,i.SendAction)("SourceCharacter wakes up from PronounPossessive nap.",void 0,[{SourceCharacter:Player.MemberNumber}]);else{if(!(null===(o=null===(t=null===(e=null===globalThis||void 0===globalThis?void 0:globalThis.LSCG)||void 0===e?void 0:e.getModule("StateModule"))||void 0===t?void 0:t.SleepState)||void 0===o?void 0:o.Active)||(null!==(n=null===(a=null===(r=null===Player||void 0===Player?void 0:Player.LSCG)||void 0===r?void 0:r.InjectorModule)||void 0===a?void 0:a.sedativeLevel)&&void 0!==n?n:0)>0||(null===(l=null===(s=null===Player||void 0===Player?void 0:Player.LSCG)||void 0===s?void 0:s.MiscModule)||void 0===l?void 0:l.chloroformEnabled)&&["ItemMouth","ItemMouth2","ItemMouth3"].some((e=>{var t,o;return"ChloroformCloth"===(null===(o=null===(t=InventoryGet(Player,e))||void 0===t?void 0:t.Asset)||void 0===o?void 0:o.Name)})))return;!1===(null===(m=null===(d=null===(c=null===(u=null===globalThis||void 0===globalThis?void 0:globalThis.LSCG)||void 0===u?void 0:u.getModule("StateModule"))||void 0===c?void 0:c.SleepState)||void 0===d?void 0:d.Recover())||void 0===m?void 0:m.Active)&&(0,i.SendAction)("SourceCharacter wakes up from PronounPossessive nap.",void 0,[{SourceCharacter:Player.MemberNumber}])}}()}}],(0,n.HookFunction)(this.Title,"Player.CanTalk",5,((e,t)=>!k()&&t(e))),(0,n.HookFunction)(this.Title,"Player.CanWalk",5,((e,t)=>!k()&&t(e))),(0,n.HookFunction)(this.Title,"Player.CanChangeOwnClothes",5,((e,t)=>!k()&&t(e))),(0,n.HookFunction)(this.Title,"Player.CanInteract",5,((e,t)=>!k()&&t(e))),(0,n.HookFunction)(this.Title,"ServerSend",5,((e,t)=>{if(!k())return t(e);const[o,r]=e;return"ChatRoomChat"!=o||"Chat"!=(null==r?void 0:r.Type)||(null==r?void 0:r.Content.startsWith("("))?t(e):((0,i.SendAction)((0,a.RandomElement)(T),void 0,[{SourceCharacter:Player.MemberNumber}]),null)})),(0,n.HookFunction)(this.Title,"Player.GetDeafLevel",5,((e,t)=>k()?4:t(e))),(0,n.HookFunction)(this.Title,"Player.GetBlindLevel",5,((e,t)=>{var o,r;return k()?"SensDepExtreme"===(null===(o=Player.GameplaySettings)||void 0===o?void 0:o.SensDepChatLog)||"SensDepTotal"===(null===(r=Player.GameplaySettings)||void 0===r?void 0:r.SensDepChatLog)?3:2:t(e)})),(0,n.HookFunction)(this.Title,"ChatRoomCharacterUpdate",5,((e,t)=>{var o,r,a;return e[0].IsPlayer()&&S===A.LSCG&&!1===(null===(a=null===(r=null===(o=globalThis.LSCG)||void 0===o?void 0:o.getModule("StateModule"))||void 0===r?void 0:r.SleepState)||void 0===a?void 0:a.Active)&&(S=A.NOT),t(e)})),(0,n.HookFunction)(this.Title,"Player.GetDeafLevel",5,((e,t)=>{const o=m("hearingLoss","food")?Math.max(0,Math.floor(-10*((0,u.GetCharacterCurrentStatValue)(Player,"food")-.3001))):0;return Math.max(o,t(e))})),SkillModifierMax<10&&(SkillModifierMax=10),I(),N=setInterval(I,16e3),(0,n.HookFunction)(this.Title,"ChatRoomAttemptLeave",0,((e,t)=>{if(!m("slowLeave","food"))return t(e);const o=ChatRoomSlowtimer,r=(0,u.GetCharacterCurrentStatValue)(Player,"food");if(t(e),0===o&&ChatRoomSlowtimer>0&&r<=.3){ChatRoomSlowtimer=CurrentTime+ChatRoomSlowLeaveMinTime+1e3*(-25/.3*r+25)}})),(0,n.HookFunction)(this.Title,"Player.IsSlow",0,((e,t)=>!!(m("slowLeave","food")&&(0,u.GetCharacterCurrentStatValue)(Player,"food")<=.3)||t(e))),(0,n.HookFunction)(this.Title,"ChatRoomMessage",10,((e,t)=>{const o=e[0];return"Activity"===o.Type&&r.ORGASM_ACTIVITY_REGEX.test(o.Content)&&(0,i.GetAttributeFromChatDictionary)(o,"SourceCharacter")===Player.MemberNumber?(d().orgasmWater&&(0,u.ModifyStat)("water",-.05,!1,!0),d().orgasmSleep&&(0,u.ModifyStat)("sleep",-.05,!1,!0),t(e)):t(e)}))}Unload(){super.Unload(),g=[],clearInterval(N)}}},"./src/modules/virtualPetHUD.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{VirtualPetHUDModule:()=>m});var r=o("./src/util/sdk.ts"),a=o("./src/util/authority.ts"),i=o("./src/modules/_module.ts"),n=o("./src/modules/virtualPet.ts");const s=()=>Player.MPA[i.ModuleTitle.VirtualPet],l=()=>Player.MPA[i.ModuleTitle.VirtualPetHUD],u={food:"#f2bb18",water:"#2a9fc3",sleep:"#8d2aee",affection:"#ff78f2"};function c(e,t,o,r){const a=u[r.stat];MainCanvas.beginPath(),MainCanvas.arc(e,t,o,0,2*Math.PI,!0),MainCanvas.lineWidth=o/8,MainCanvas.strokeStyle=a,MainCanvas.stroke(),MainCanvas.beginPath(),MainCanvas.arc(e,t,o,-Math.PI/2,2*Math.PI*-r.level-Math.PI/2,!0),MainCanvas.lineTo(e,t),MainCanvas.fillStyle=a,MainCanvas.fill(),l().exactStats&&(MainCanvas.fillStyle="#000000",MainCanvas.font=CommonGetFont(1.25*o),MainCanvas.fillText(Math.round(100*r.level).toString(),e,t+.125*o),MainCanvas.font=CommonGetFont(36))}function d(e,t){var o;const r=t(e),[u,d,m,h]=e;if(!ActivityAllowed()||u.IsPlayer()&&(!l().self||!s().enabled)||!u.IsPlayer()&&"Off"===l().others||!u.IsPlayer()&&!(0,a.IsMemberNumberInAuthGroup)(u.MemberNumber,l().others))return r;const v=null===(o=null==u?void 0:u.MPA)||void 0===o?void 0:o[i.ModuleTitle.VirtualPet];if(!(null==v?void 0:v.enabled))return r;const g=[];return["food","water","sleep","affection"].forEach((e=>{0!==v[`${e}Hours`]&&g.push({stat:e,level:(0,n.GetCharacterCurrentStatValue)(u,e)})})),0!==g.length&&function(e,t,o,r){const a=l().position;if("Left"===a||"Right"===a)r.reverse(),r.forEach(((r,i)=>{c(e+("Left"===a?80:420)*o,t+(950-36*i)*o,16*o,r)}));else if("Center"===a){const a=r.length;r.forEach(((r,i)=>{c(e+(250-18*(a-1)+36*i)*o,t+950*o,16*o,r)}))}else if("Split"===a){const a=[];switch(r.length){case 1:a.push([r[0]]),a.push([]);break;case 2:a.push([r[0]]),a.push([r[1]]);break;case 3:a.push([r[1],r[0]]),a.push([r[2]]);break;case 4:a.push([r[1],r[0]]),a.push([r[3],r[2]])}a.forEach(((r,a)=>{r.forEach(((r,i)=>{c(e+(0==a?80:420)*o,t+(950-36*i)*o,16*o,r)}))}))}}(d,m,h,g),r}class m extends i.Module{get Title(){return i.ModuleTitle.VirtualPetHUD}get Settings(){return[{name:"self",type:"checkbox",active:()=>!!s().enabled,value:!0,label:"Display your own virtual pet stats on the HUD"},{name:"exactStats",type:"checkbox",active:()=>!!s().enabled||"Off"!==l().others,value:!1,label:"Display the exact number percentage on the HUD"},{name:"position",type:"option",active:()=>!!s().enabled||"Off"!==l().others,options:["Left","Center","Right","Split"],value:"Left",label:"Where to display the HUD",loop:!0},{name:"others",type:"option",active:()=>!0,options:["Off","Public","Friends","Whitelist","Lovers","Owners","D/s Family","Clubowner"],value:"Friends",label:"Display the virtual pet stats of others on the HUD",loop:!1},{name:"forceDraw",type:"checkbox",active:()=>!!s().enabled||"Off"!==l().others,value:!1,label:'Always display the HUD; Overrides BCX rule "Force-hide UI elements"'}]}Load(){(0,r.HookFunction)(this.Title,"DrawArousalMeter",1,((e,t)=>{var o;return(null===(o=l())||void 0===o?void 0:o.forceDraw)?t(e):d(e,t)})),(0,r.HookFunction)(this.Title,"DrawCharacter",1,((e,t)=>{var o;return(null===(o=l())||void 0===o?void 0:o.forceDraw)?d(e,t):t(e)}))}Unload(){super.Unload()}}},"./src/util/activities.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{CreateActivities:()=>c,CreateActivity:()=>u,RemoveActivities:()=>m,RemoveActivity:()=>d,activityImages:()=>i,activityPrerequisites:()=>s,activityReceived:()=>l,activityTriggers:()=>n});var r=o("./src/localization/localization.ts"),a=o("./src/util/constants.ts");const i={},n={},s={},l={};function u(e){var t;const o={Name:`${a.ACTIVITY_NAME_PREFIX}${e.Name}`,ActivityID:Math.max(...ActivityFemale3DCG.map((e=>{var t;return null!==(t=e.ActivityID)&&void 0!==t?t:-1})))+1,MaxProgress:null!==(t=e.MaxProgress)&&void 0!==t?t:50,Prerequisite:e.Prerequisite,Target:[]};if(e.CustomPrerequisite){let t=e.CustomPrerequisite;Array.isArray(t)||(t=[t]),t.forEach((e=>{o.Prerequisite.push(e.Name),!(e.Name in s)&&e.Prerequisite&&(s[e.Name]=e.Prerequisite)}))}e.Targets.forEach((e=>{var t;e.actionSelf&&(o.TargetSelf||(o.TargetSelf=[]),null===(t=o.TargetSelf)||void 0===t||t.push(e.group),null===ActivityDictionary||void 0===ActivityDictionary||ActivityDictionary.push([`Label-ChatSelf-${e.group}-${o.Name}`,(0,r.LocalizedText)(e.label)]),null===ActivityDictionary||void 0===ActivityDictionary||ActivityDictionary.push([`ChatSelf-${e.group}-${o.Name}`,(0,r.LocalizedText)(e.actionSelf)])),e.actionOthers&&(o.Target.push(e.group),null===ActivityDictionary||void 0===ActivityDictionary||ActivityDictionary.push([`Label-ChatOther-${e.group}-${o.Name}`,(0,r.LocalizedText)(e.label)]),null===ActivityDictionary||void 0===ActivityDictionary||ActivityDictionary.push([`ChatOther-${e.group}-${o.Name}`,(0,r.LocalizedText)(e.actionOthers)]))})),i[o.Name]=e.Image,e.OnTrigger&&(n[o.Name]=e.OnTrigger),e.OnReceive&&(l[o.Name]=e.OnReceive),ActivityFemale3DCG.push(o),ActivityFemale3DCGOrdering.push(o.Name)}function c(e){e.forEach((e=>{u(e)}))}function d(e){const t=`${a.ACTIVITY_NAME_PREFIX}${e.Name}`;e.Targets.forEach((e=>{var o,r;e.actionSelf&&(ActivityDictionary=null!==(o=null===ActivityDictionary||void 0===ActivityDictionary?void 0:ActivityDictionary.filter((o=>!(o[0]===`Label-ChatSelf-${e.group}-${t}`||o[0]===`ChatSelf-${e.group}-${t}`))))&&void 0!==o?o:null),e.actionOthers&&(ActivityDictionary=null!==(r=null===ActivityDictionary||void 0===ActivityDictionary?void 0:ActivityDictionary.filter((o=>!(o[0]===`Label-ChatOther-${e.group}-${t}`||o[0]===`ChatOther-${e.group}-${t}`))))&&void 0!==r?r:null)})),delete i[t],delete n[t],ActivityFemale3DCG=ActivityFemale3DCG.filter((e=>e.Name!==t)),ActivityFemale3DCGOrdering=ActivityFemale3DCGOrdering.filter((e=>e!==t))}function m(e){e.forEach((e=>{d(e)}))}},"./src/util/authority.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{AUTHORITY_GROUPS:()=>s,AUTHORITY_GROUP_OPTIONS:()=>i,AuthorityIsComparisonToCharacter:()=>c,HighestLevelAuthorityGroup:()=>u,IsMemberNumberInAuthGroup:()=>l});var r=o("./src/modules/_module.ts"),a=o("./src/util/messaging.ts");const i=["Public","Friends","Whitelist","Lovers","Owners","Clubowner","Self"],n=["None","Public","Friends","Whitelist","Lovers","Owners","D/s Family","Clubowner","Self"],s={Self:e=>{var t;return[null!==(t=e.MemberNumber)&&void 0!==t?t:-1]},Clubowner:e=>{var t,o;return(null===(t=null==e?void 0:e.Ownership)||void 0===t?void 0:t.MemberNumber)?[null===(o=null==e?void 0:e.Ownership)||void 0===o?void 0:o.MemberNumber]:[]},Owners:function(e){var t,o,a;const i=(null!==(a=null===(o=null===(t=e.MPA)||void 0===t?void 0:t[r.ModuleTitle.Authority])||void 0===o?void 0:o.owners)&&void 0!==a?a:"").split(",").map((e=>parseInt(e))).filter((e=>!isNaN(e)));return 0===i.length?[]:i},Lovers:e=>{var t,o;return null!==(o=null===(t=e.Lovership)||void 0===t?void 0:t.filter((e=>e.MemberNumber)).map((e=>e.MemberNumber)))&&void 0!==o?o:[]},WhiteList:e=>{var t;return null!==(t=e.WhiteList)&&void 0!==t?t:[]},FriendList:()=>{var e;return null!==(e=Player.FriendList)&&void 0!==e?e:[]}};function l(e,t,o=!1,r=Player){var i,n,l,u,c;if("None"===t)return!1;if(e===s.Self(r)[0])return"Self"===t||o;if(r.BlackList.includes(e)||null!==(n=null===(i=null==r?void 0:r.GhostList)||void 0===i?void 0:i.includes(e))&&void 0!==n&&n)return!1;if("Public"===t)return!0;if("D/s Family"===t&&r.MemberNumber===Player.MemberNumber)return null!==(u=null===(l=(0,a.FindCharacterInRoom)(e))||void 0===l?void 0:l.IsFamilyOfPlayer())&&void 0!==u&&u;let d=new Set;switch(t){case"Friends":if(r.MemberNumber!==Player.MemberNumber&&Player.MemberNumber===e&&s.FriendList().includes(null!==(c=r.MemberNumber)&&void 0!==c?c:-1))return!0;r.MemberNumber===Player.MemberNumber&&(d=new Set([...d,...s.FriendList()]));case"Whitelist":d=new Set([...d,...s.WhiteList(r)]);case"Lovers":d=new Set([...d,...s.Lovers(r)]);case"Owners":d=new Set([...d,...s.Owners(r)]);case"Clubowner":d=new Set([...d,...s.Clubowner(r)])}return d.has(e)}function u(e,t=Player){var o,r,a,i,n,l;return t.MemberNumber===e?"Self":(null===(o=null==t?void 0:t.Ownership)||void 0===o?void 0:o.MemberNumber)===e?"Clubowner":s.Owners(t).includes(e)?"Owners":s.Lovers(t).includes(e)?"Lovers":s.WhiteList(t).includes(e)?"Whitelist":t.MemberNumber===Player.MemberNumber&&(null===(r=Player.FriendList)||void 0===r?void 0:r.includes(e))||t.MemberNumber!==Player.MemberNumber&&e===Player.MemberNumber&&(null===(a=Player.FriendList)||void 0===a?void 0:a.includes(null!==(i=t.MemberNumber)&&void 0!==i?i:-1))?"Friends":t.BlackList.includes(e)||null!==(l=null===(n=null==t?void 0:t.GhostList)||void 0===n?void 0:n.includes(e))&&void 0!==l&&l?"None":"Public"}function c(e,t=">=",o,r=Player){const a=u(o,r),i=n.indexOf(e),s=n.indexOf(a);if(-1===i||-1===s)return!1;switch(t){case">":return s>i;case"<":return s<i;case">=":return s>=i;case"<=":return s<=i;case"==":return s==i;case"!=":return s!=i;default:throw new Error("Invalid comparison operator")}}},"./src/util/constants.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ACTIVITY_NAME_PREFIX:()=>l,ALL_BEDS:()=>h,BED_BAD:()=>m,BED_NORMAL:()=>d,BED_PERFECT:()=>c,BELL_SOUND:()=>u,ICONS:()=>s,MPA_NAME:()=>a,MPA_REPO:()=>n,MPA_VERSION:()=>i,ORGASM_ACTIVITY_REGEX:()=>v});var r=o("./package.json");const a=r.name.toLocaleUpperCase(),i=r.version,n=r.repository.url,s=Object.freeze({PAW:"data:image/png;base64,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",DISCORD:"data:image/png;base64,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"}),l="MPA_",u=new Audio("Audio\\BellMedium.mp3"),c=["PetBed","Crib"],d=["LowCage","Kennel","Bed","MedicalBed","Cushion"],m=["FuturisticCrate","DollBox"],h=c.concat(d,m),v=/Orgasm[0-9]/},"./src/util/general.ts":(e,t,o)=>{"use strict";function r(e){return 0==e.length?null:e[Math.floor(Math.random()*e.length)]}function a(e,t){let o=structuredClone(e);return t.forEach((e=>{o=o.filter((t=>e!==t))})),o}function i(e){for(let t=e.length-1;t>0;t--){const o=Math.floor(Math.random()*(t+1));[e[t],e[o]]=[e[o],e[t]]}return e}o.r(t),o.d(t,{FilterArrayFromArray:()=>a,RandomElement:()=>r,ShuffleArray:()=>i})},"./src/util/messaging.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{AddDataSyncListener:()=>v,AddDataSyncListeners:()=>g,ArrayToReadableString:()=>y,ContentIsMPAMesage:()=>a,FindCharacterInRoom:()=>d,GetAttributeFromChatDictionary:()=>P,GetEntryFromChatDictionary:()=>f,GetMPAMessageFromChat:()=>i,MPANotifyPlayer:()=>c,NotifyPlayer:()=>u,RemoveDataSyncListeners:()=>p,RemoveOOCContentFromMessage:()=>m,SendAction:()=>s,SendEmote:()=>l,SendMPAMessage:()=>n,hookedMessages:()=>h});var r=o("./src/localization/localization.ts");function a(e){var t;return"Hidden"===e.Type&&"MPA"===e.Content&&1===(null===(t=null==e?void 0:e.Dictionary)||void 0===t?void 0:t.length)}function i(e){return a(e)?e.Dictionary[0]:null}function n(e,t){ServerSend("ChatRoomChat",{Type:"Hidden",Content:"MPA",Dictionary:[e],Target:t})}function s(e,t=void 0,o=[]){ServerSend("ChatRoomChat",{Content:"MayaScript",Type:"Activity",Dictionary:[{Tag:"MISSING ACTIVITY DESCRIPTION FOR KEYWORD MayaScript",Text:(0,r.LocalizedText)(e)},...o],Target:null==t?void 0:t.MemberNumber})}function l(e,t=void 0){ServerSend("ChatRoomChat",{Content:`${e}`,Type:"Emote",Target:null==t?void 0:t.MemberNumber})}function u(e,t){var o,r;const a="Dark"===(null===(o=Player.ChatSettings)||void 0===o?void 0:o.ColorTheme)||"Dark2"===(null===(r=Player.ChatSettings)||void 0===r?void 0:r.ColorTheme);ChatRoomSendLocal(`<p style='background-color:#00c2ff;color:${a?"white":"black"};margin-bottom:0.25em;margin-top:0'>${e}</p>`,t)}function c(e,t){u(`${(0,r.LocalizedText)("MPA")}: ${e}`,t)}function d(e,{MemberNumber:t=!0,NickName:o=!0,Name:r=!0}={}){var a;"string"!=typeof e&&(e=e.toString()),e=e.toLocaleLowerCase();for(const i of ChatRoomCharacter)if(t&&(null==i?void 0:i.MemberNumber)===Number(e)||o&&(null===(a=null==i?void 0:i.Nickname)||void 0===a?void 0:a.toLocaleLowerCase())===e||r&&i.Name.toLocaleLowerCase()===e)return i;return null}function m(e){return SpeechGetOOCRanges(e).reverse().forEach((t=>{e=e.substring(0,t.start)+e.substring(t.start+t.length)})),e}const h=[];function v(e){h.push({module:e.module,message:e.message,action:e.action})}function g(e){e.forEach((e=>{h.push({module:e.module,message:e.message,action:e.action})}))}function p(e){for(let t=h.length-1;0<=t;t--)h[t].module===e&&h.splice(t,1)}function f(e,t){if(e.Dictionary)try{return e.Dictionary.filter((e=>!!e[t]))[0]}catch(e){}}function P(e,t){var o;return null===(o=f(e,t))||void 0===o?void 0:o[t]}function y(e){const t=e.length;return 0===t?"":1===t?e[0]:2===t?`${e[0]} and ${e[1]}`:`${e.slice(0,-1).join(", ")}, and ${e[t-1]}`}},"./src/util/petHearAndSpeak.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{AppendPetSpeech:()=>i,ApplyPetHearing:()=>n,DisruptivePetSpeech:()=>d,NonDisruptivePetSpeech:()=>c});var r=o("./src/util/general.ts");const a=/^(https?:\/\/)?(www\.)?[\w-]+(\.[a-z]{2,})(\.[a-z]{2,})?(\/[^\s]*)?$/i;function i(e,t){const o=(0,r.RandomElement)(t);return null===o?e:/[.!?]$/.test(e)?`${e} ${o.charAt(0).toLocaleUpperCase()+o.slice(1)}.`:/[a-zA-Z]$/.test(e)&&!a.test(e)?`${e}, ${o}.`:`${e} ${o}.`}function n([e,t,o],r,a){if(!e||isNaN(t)||"boolean"!=typeof o&&void 0!==o)return r([e,t,o]);a.push((Player.Nickname||Player.Name).toLocaleLowerCase()),"SheHer"===Player.GetPronouns()?(a.push("girl"),a.push("she"),a.push("her")):(a.push("boy"),a.push("he"),a.push("him"));const i=e.toLocaleLowerCase();let n=[];a.forEach((e=>{const t=new RegExp(`\\b${e}\\b`,"g");[...i.matchAll(t)].forEach((t=>{n.push({start:t.index,len:e.length})}))}));const s=new Map;for(const e of n){const t=`${e.start}-${e.len}`;s.has(t)||s.set(t,e)}if(n=Array.from(s.values()),0===n.length)return r([e,t,o]);n.sort(((e,t)=>e.start-t.start));SpeechGetOOCRanges(e).forEach((e=>{for(let t=n.length-1;t>=0;t--){const o=n[t];(e.start<o.start&&o.start<e.start+e.length||e.start<o.start+o.len&&o.start+o.len<e.start+e.length)&&n.splice(t,1)}}));let l=0,u="";return n.forEach((a=>{u+=r([e.substring(l,a.start),t,o]),l=a.start+a.len,u+=e.substring(a.start,a.start+a.len)})),u+=r([e.substring(l),t,o]),u}const s=.5,l=Object.freeze({Low:.01,Medium:.025,High:.05,Max:.125}),u=Object.freeze({Low:.05,Medium:.1,High:.2,Max:.25});function c(e,t,o){var n;if(0===t.length||"Off"===o)return e;let c=[];function d(){var e;return 0===c.length&&(c=t.concat(t),c=(0,r.ShuffleArray)(c)),null!==(e=c.pop())&&void 0!==e?e:""}let m=0,h=[];const v=SpeechGetOOCRanges(e);for(const t of v)""!==e.substring(m,t.start)&&h.push({text:e.substring(m,t.start),ooc:!1}),h.push({text:e.substring(t.start,t.start+t.length),ooc:!0}),m=t.start+t.length;const g=e.substring(m);""!==g&&h.push({text:g,ooc:!1}),h=h.map(((e,t)=>{const o=/\s+$/.exec(e.text);return e.text=e.text.replace(/\s+$/,""),o&&h[t+1]&&(h[t+1].text=o[0]+h[t+1].text),e}));const p=l[o],f=u[o],P="High"===o||"Max"===o;let y=!1,b="";for(const e of h){if(e.ooc){b+=e.text;continue}const t=e.text.match(/(\s*\S+)/g)||[];let o=null;for(const e of t)if(a.test(e))b+=e,o=null;else{if(Math.random()<p){y=!0;const t=d(),r=null===o;r||/[.!?]$/.test(null!=o?o:"")?b+=`${r?"":" "}${t.charAt(0).toLocaleUpperCase()}${t.slice(1)}`+(/[.!?]$/.test(e)||r?"."+(r?" ":""):", "):b+=`${Math.random()<s&&!(null!=o?o:"").endsWith(",")?",":""} ${t},`}b+=e,o=e}(null===(n=h.slice().reverse().find((e=>!e.ooc)))||void 0===n?void 0:n.text)===e.text&&(P&&!y||Math.random()<f)&&(b=i(b,[d()]))}return b}function d(e,t,o){if(0===t.length)return e;e=null!=e?e:"",o=o>1?1:o<0?0:o;let a=[];let i=0;const n=[],s=SpeechGetOOCRanges(e);for(const t of s)""!==e.substring(i,t.start)&&n.push({text:e.substring(i,t.start),ooc:!1}),n.push({text:e.substring(t.start,t.start+t.length),ooc:!0}),i=t.start+t.length;const l=e.substring(i);""!==l&&n.push({text:l,ooc:!1});let u="";for(const e of n)e.ooc?u+=e.text:u+=e.text.replace(/\b\w+\b/g,(e=>{if(Math.random()>o)return e;const i=(0===a.length&&(a=t.concat(t),a=(0,r.ShuffleArray)(a)),null!==(n=a.pop())&&void 0!==n?n:"");var n;return/^[A-Z]+$/.test(e)&&e.length>1?i.toLocaleUpperCase():/^[A-Z].*$/.test(e)?i.substring(0,1).toLocaleUpperCase()+i.substring(1):i}));return u}},"./src/util/registerModules.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{RegisterModules:()=>P,modules:()=>p,settings:()=>f});var r=o("./src/util/storage.ts"),a=o("./src/modules/dataSync.ts"),i=o("./src/modules/settings.ts"),n=o("./src/modules/activities.ts"),s=o("./src/modules/clicker.ts"),l=o("./src/modules/virtualPet.ts"),u=o("./src/modules/virtualPetHUD.ts"),c=o("./src/modules/virtualPetConditions.ts"),d=o("./src/modules/profile.ts"),m=o("./src/modules/settingsOthers.ts"),h=o("./src/modules/authority.ts"),v=o("./src/modules/private.ts");let g=!1;const p=[new a.DataSyncModule,new i.SettingsModule,new n.ActivitiesModule,new s.ClickerModule,new l.VirtualPetModule,new u.VirtualPetHUDModule,new c.VirtualPetConditionsModule,new d.ProfileModule,new m.SettingsOtherModule,new h.AuthorityModule,new v.PrivateModule],f={};async function P(){g||(p.forEach((e=>{const t=e.Settings,o={};t.forEach((e=>{o[e.name]=e})),0!==Object.keys(o).length&&(f[e.Title]=o)})),await(0,r.LoadStorage)(),p.forEach((e=>{e.Load()})),g=!0)}},"./src/util/sdk.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{AwaitInChatRoom:()=>d,AwaitPlayer:()=>c,HookFunction:()=>l,RemoveHooks:()=>u,Sleep:()=>m,bcxAPI:()=>h,bcxFound:()=>v,modAPI:()=>s});var r=o("./node_modules/bondage-club-mod-sdk/dist/bcmodsdk.js"),a=o.n(r),i=o("./src/util/constants.ts");const n=[],s=a().registerMod({name:i.MPA_NAME,version:i.MPA_VERSION,fullName:"Maya's Petplay Additions",repository:i.MPA_REPO},{allowReplace:!1});function l(e,t,o,r){const a=s.hookFunction(t,o,r);return n.push({functionName:t,priority:o,hook:r,module:e,removeHook:a}),a}function u(e){for(let t=n.length-1;0<=t;t--)n[t].module===e&&(n[t].removeHook(),n.splice(t,1))}async function c(){if(!Player.MemberNumber||!Player.ExtensionSettings)return new Promise((e=>{const t=s.hookFunction("LoginResponse",0,((o,r)=>{r(o),t(),setTimeout(e,1e3)}))}))}async function d(){if(!(ChatRoomCharacter.length>1))return new Promise((e=>{const t=s.hookFunction("ChatRoomSync",100,((o,r)=>{r(o),t(),e()}))}))}function m(e){return new Promise((t=>setTimeout(t,e)))}function h(){var e;return null===(e=window.bcx)||void 0===e?void 0:e.getModApi(i.MPA_NAME)}function v(){return!!window.bcx}},"./src/util/settingTypes.ts":(e,t,o)=>{"use strict";function r(e){return"function"==typeof e.active&&"string"==typeof e.label}function a(e){return r(e)&&"checkbox"===e.type&&"boolean"==typeof e.value}function i(e){return r(e)&&"option"===e.type&&"string"==typeof e.value&&Array.isArray(e.options)&&"boolean"==typeof e.loop}function n(e){return r(e)&&"text"===e.type&&"string"==typeof e.value&&("number"==typeof e.width||null===e.width)&&("number"==typeof e.maxChars||null===e.maxChars)}function s(e){return r(e)&&"number"===e.type&&"number"==typeof e.value&&("number"==typeof e.width||null===e.width)&&"number"==typeof e.min&&"number"==typeof e.max&&("number"==typeof e.step||null===e.step)}o.r(t),o.d(t,{IsCheckboxSetting:()=>a,IsDisplaySetting:()=>r,IsNumberSetting:()=>s,IsOptionSetting:()=>i,IsTextSetting:()=>n})},"./src/util/storage.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ExportSettingsToClipboard:()=>b,ImportSettingsFromClipboard:()=>C,LoadStorage:()=>f,ResetStorage:()=>y,SaveStorage:()=>P});var r=o("./src/localization/localization.ts"),a=o("./src/util/registerModules.ts"),i=o("./src/util/sdk.ts"),n=o("./src/modules/dataSync.ts"),s=o("./src/modules/_module.ts"),l=o("./src/util/constants.ts"),u=o("./src/modules/virtualPet.ts"),c=o("./src/util/messaging.ts");const d="https://raw.githubusercontent.com/MayaTheFoxy/MPA/refs/heads/main/CHANGELOG.md",m="https://raw.githubusercontent.com/MayaTheFoxy/MPA/refs/heads/dev/CHANGELOG.md",h="https://github.com/MayaTheFoxy/MPA/blob/main/CHANGELOG.md",v="https://github.com/MayaTheFoxy/MPA/blob/dev/CHANGELOG.md",g=/^\d+\.\d+\.\d+$/;function p(e){var t;if(e.version!==l.MPA_VERSION){const o=g.test(l.MPA_VERSION);ServerAccountBeep({MemberNumber:null!==(t=Player.MemberNumber)&&void 0!==t?t:-1,MemberName:(0,r.LocalizedText)("MPA"),ChatRoomSpace:"X",ChatRoomName:(0,r.LocalizedText)("MPA Updated"),Private:!1,BeepType:"",Message:`MPA has been updated. See the changelog here:\n${o?h:v}`}),e.version=l.MPA_VERSION,P(!1),async function(){const e=g.test(l.MPA_VERSION),t=e?d:m;try{const o=await fetch(t);o.ok||console.warn(`MPA: Failed to fetch CHANGELOG.md: ${o.statusText}`);const r=await o.text(),a=/# (\d+\.\d+\.\d+(?:\.\d+)?)+\n([\s\S]*?)(?=\n# |$)/.exec(r);if(a&&a[1]===l.MPA_VERSION){const t=a[2].trim();for(;;)if(await(0,i.AwaitInChatRoom)(),await(0,i.Sleep)(100),ChatRoomCharacter.length>0){(0,c.NotifyPlayer)(`<b style='text-align:center;width:100%;display:block'>MPA Updated</b>\nCurrent MPA Version: ${l.MPA_VERSION}\nChanges from previous version:\n${t}\n<a href="${e?h:v}" target="_blank">See Full Changelog</a>`);break}return}console.warn("MPA: Could not get the latest MPA Changelogs")}catch(e){console.error(`Error: ${e}`)}}()}}async function f(){var e,t,o,r;await(0,i.AwaitPlayer)();const n=null!==(r=JSON.parse(null!==(o=LZString.decompressFromBase64(null!==(t=null===(e=Player.ExtensionSettings)||void 0===e?void 0:e.MPA)&&void 0!==t?t:""))&&void 0!==o?o:"{}"))&&void 0!==r?r:{};Object.entries(a.settings).forEach((e=>{var t,o,r,i,s,l,u,c,d;const[m,h]=e;for(const[e,v]of Object.entries(h))m in n||(n[m]={}),e in n[m]?("checkbox"===(null===(o=null===(t=null===a.settings||void 0===a.settings?void 0:a.settings[m])||void 0===t?void 0:t[e])||void 0===o?void 0:o.type)&&"boolean"!=typeof n[m][e]||"number"===(null===(i=null===(r=null===a.settings||void 0===a.settings?void 0:a.settings[m])||void 0===r?void 0:r[e])||void 0===i?void 0:i.type)&&isNaN(n[m][e])||"options"in(null!==(l=null===(s=null===a.settings||void 0===a.settings?void 0:a.settings[m])||void 0===s?void 0:s[e])&&void 0!==l?l:{})&&!(null!==(d=null===(c=null===(u=null===a.settings||void 0===a.settings?void 0:a.settings[m])||void 0===u?void 0:u[e])||void 0===c?void 0:c.options)&&void 0!==d?d:[]).includes(n[m][e]))&&(n[m][e]=v.value,console.warn(`MPA: Invalid setting of "${n[m][e]}" at ${m}->${e}, resetting to default`)):n[m][e]=v.value})),p(n),Player.MPA=n}function P(e=!0){Player.MPA&&Player.ExtensionSettings&&(Player.MPA[s.ModuleTitle.Authority].owners=Player.MPA[s.ModuleTitle.Authority].owners.split(",").filter((e=>Number(e)!==Player.MemberNumber)).join(","),Player.ExtensionSettings.MPA=LZString.compressToBase64(JSON.stringify(Player.MPA)),ServerPlayerExtensionSettingsSync("MPA"),e&&(0,n.SettingSync)(!1))}async function y(){delete Player.ExtensionSettings.MPA,Player.ExtensionSettings.MPA=LZString.compressToBase64(JSON.stringify({version:l.MPA_VERSION})),await f(),P()}async function b(){return navigator.clipboard.writeText(LZString.compressToBase64(JSON.stringify(Player.MPA)))}async function C(){return new Promise(((e,t)=>{navigator.clipboard.readText().then((o=>{var r;try{const e=JSON.parse(null!==(r=LZString.decompressFromBase64(null!=o?o:""))&&void 0!==r?r:"{}"),t=JSON.parse(JSON.stringify(Player.MPA));t[s.ModuleTitle.VirtualPet].levels.lastUpdated=Date.now(),t[s.ModuleTitle.VirtualPet].levels.lastOnline=Date.now();for(const o in e)void 0!==e[o]&&(t[o]=e[o]);t[s.ModuleTitle.VirtualPet].levels.lastUpdated=Date.now()-(t[s.ModuleTitle.VirtualPet].levels.lastOnline-t[s.ModuleTitle.VirtualPet].levels.lastUpdated),t[s.ModuleTitle.VirtualPet].levels.lastOnline=Date.now(),Player.MPA=t,(0,u.LevelSync)(!1,!1,!1),P(!0)}catch(e){return console.warn(e),t()}return e()}),(()=>t()))}))}}},t={};function o(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,o),i.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var a=r.length-1;a>-1&&(!e||!/^http(s?):/.test(e));)e=r[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})();var r={};(()=>{"use strict";o.r(r);var e=o("./src/util/registerModules.ts"),t=o("./src/commands/buildAllCommands.ts"),a=o("./src/util/constants.ts");console.log("Loading Maya's Petplay Additions"),(0,t.BuildAllCommands)(),(0,e.RegisterModules)(),window.MPA={version:a.MPA_VERSION,menuLoaded:!1}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QzFHa1gsRUFBb0J0NUIsRUFBSW82QiwySkNSeEJ0K0IsUUFBUTYrQixJQUFJLHFDQUVaLElBQUFoekIscUJBQ0EsSUFBQTB1QixtQkFDQW4zQixPQUFPaUYsSUFBTSxDQUNUdkQsUUFBUyxFQUFBa3hCLFlBQ1RqVSxZQUFZIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXBhLy4vbm9kZV9tb2R1bGVzL2JvbmRhZ2UtY2x1Yi1tb2Qtc2RrL2Rpc3QvYmNtb2RzZGsuanMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL2NvbW1hbmRzL2JlZC50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvY29tbWFuZHMvYm93bC50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvY29tbWFuZHMvYnVpbGRBbGxDb21tYW5kcy50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvbG9jYWxpemF0aW9uL2xvY2FsaXphdGlvbi50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvbW9kdWxlcy9fbW9kdWxlLnRzIiwid2VicGFjazovL21wYS8uL3NyYy9tb2R1bGVzL2FjdGl2aXRpZXMudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL21vZHVsZXMvYXV0aG9yaXR5LnRzIiwid2VicGFjazovL21wYS8uL3NyYy9tb2R1bGVzL2NsaWNrZXIudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL21vZHVsZXMvZGF0YVN5bmMudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL21vZHVsZXMvcHJpdmF0ZS50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvbW9kdWxlcy9wcm9maWxlLnRzIiwid2VicGFjazovL21wYS8uL3NyYy9tb2R1bGVzL3NldHRpbmdzLnRzIiwid2VicGFjazovL21wYS8uL3NyYy9tb2R1bGVzL3NldHRpbmdzT3RoZXJzLnRzIiwid2VicGFjazovL21wYS8uL3NyYy9tb2R1bGVzL3ZpcnR1YWxQZXQudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL21vZHVsZXMvdmlydHVhbFBldENvbmRpdGlvbnMudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL21vZHVsZXMvdmlydHVhbFBldEhVRC50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvdXRpbC9hY3Rpdml0aWVzLnRzIiwid2VicGFjazovL21wYS8uL3NyYy91dGlsL2F1dGhvcml0eS50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvdXRpbC9jb25zdGFudHMudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL3V0aWwvZ2VuZXJhbC50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvdXRpbC9tZXNzYWdpbmcudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL3V0aWwvcGV0SGVhckFuZFNwZWFrLnRzIiwid2VicGFjazovL21wYS8uL3NyYy91dGlsL3JlZ2lzdGVyTW9kdWxlcy50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvdXRpbC9zZGsudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL3V0aWwvc2V0dGluZ1R5cGVzLnRzIiwid2VicGFjazovL21wYS8uL3NyYy91dGlsL3N0b3JhZ2UudHMiLCJ3ZWJwYWNrOi8vbXBhL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL21wYS93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9tcGEvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL21wYS93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL21wYS93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL21wYS93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL21wYS93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvaW5kZXgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQm9uZGFnZSBDbHViIE1vZCBEZXZlbG9wbWVudCBLaXQgKDEuMi4wKVxuLy8gRm9yIG1vcmUgaW5mbyBzZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9Kb21zaGlyOTgvYm9uZGFnZS1jbHViLW1vZC1zZGtcbi8qKiBAdHlwZSB7TW9kU0RLR2xvYmFsQVBJfSAqL1xudmFyIGJjTW9kU2RrPWZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7Y29uc3Qgbz1cIjEuMi4wXCI7ZnVuY3Rpb24gZShvKXthbGVydChcIk1vZCBFUlJPUjpcXG5cIitvKTtjb25zdCBlPW5ldyBFcnJvcihvKTt0aHJvdyBjb25zb2xlLmVycm9yKGUpLGV9Y29uc3QgdD1uZXcgVGV4dEVuY29kZXI7ZnVuY3Rpb24gbihvKXtyZXR1cm4hIW8mJlwib2JqZWN0XCI9PXR5cGVvZiBvJiYhQXJyYXkuaXNBcnJheShvKX1mdW5jdGlvbiByKG8pe2NvbnN0IGU9bmV3IFNldDtyZXR1cm4gby5maWx0ZXIoKG89PiFlLmhhcyhvKSYmZS5hZGQobykpKX1jb25zdCBpPW5ldyBNYXAsYT1uZXcgU2V0O2Z1bmN0aW9uIGMobyl7YS5oYXMobyl8fChhLmFkZChvKSxjb25zb2xlLndhcm4obykpfWZ1bmN0aW9uIHMobyl7Y29uc3QgZT1bXSx0PW5ldyBNYXAsbj1uZXcgU2V0O2Zvcihjb25zdCByIG9mIGYudmFsdWVzKCkpe2NvbnN0IGk9ci5wYXRjaGluZy5nZXQoby5uYW1lKTtpZihpKXtlLnB1c2goLi4uaS5ob29rcyk7Zm9yKGNvbnN0W2UsYV1vZiBpLnBhdGNoZXMuZW50cmllcygpKXQuaGFzKGUpJiZ0LmdldChlKSE9PWEmJmMoYE1vZFNESzogTW9kICcke3IubmFtZX0nIGlzIHBhdGNoaW5nIGZ1bmN0aW9uICR7by5uYW1lfSB3aXRoIHNhbWUgcGF0dGVybiB0aGF0IGlzIGFscmVhZHkgYXBwbGllZCBieSBkaWZmZXJlbnQgbW9kLCBidXQgd2l0aCBkaWZmZXJlbnQgcGF0dGVybjpcXG5QYXR0ZXJuOlxcbiR7ZX1cXG5QYXRjaDE6XFxuJHt0LmdldChlKXx8XCJcIn1cXG5QYXRjaDI6XFxuJHthfWApLHQuc2V0KGUsYSksbi5hZGQoci5uYW1lKX19ZS5zb3J0KCgobyxlKT0+ZS5wcmlvcml0eS1vLnByaW9yaXR5KSk7Y29uc3Qgcj1mdW5jdGlvbihvLGUpe2lmKDA9PT1lLnNpemUpcmV0dXJuIG87bGV0IHQ9by50b1N0cmluZygpLnJlcGxhY2VBbGwoXCJcXHJcXG5cIixcIlxcblwiKTtmb3IoY29uc3RbbixyXW9mIGUuZW50cmllcygpKXQuaW5jbHVkZXMobil8fGMoYE1vZFNESzogUGF0Y2hpbmcgJHtvLm5hbWV9OiBQYXRjaCAke259IG5vdCBhcHBsaWVkYCksdD10LnJlcGxhY2VBbGwobixyKTtyZXR1cm4oMCxldmFsKShgKCR7dH0pYCl9KG8ub3JpZ2luYWwsdCk7bGV0IGk9ZnVuY3Rpb24oZSl7dmFyIHQsaTtjb25zdCBhPW51bGw9PT0oaT0odD1tLmVycm9yUmVwb3J0ZXJIb29rcykuaG9va0NoYWluRXhpdCl8fHZvaWQgMD09PWk/dm9pZCAwOmkuY2FsbCh0LG8ubmFtZSxuKSxjPXIuYXBwbHkodGhpcyxlKTtyZXR1cm4gbnVsbD09YXx8YSgpLGN9O2ZvcihsZXQgdD1lLmxlbmd0aC0xO3Q+PTA7dC0tKXtjb25zdCBuPWVbdF0scj1pO2k9ZnVuY3Rpb24oZSl7dmFyIHQsaTtjb25zdCBhPW51bGw9PT0oaT0odD1tLmVycm9yUmVwb3J0ZXJIb29rcykuaG9va0VudGVyKXx8dm9pZCAwPT09aT92b2lkIDA6aS5jYWxsKHQsby5uYW1lLG4ubW9kKSxjPW4uaG9vay5hcHBseSh0aGlzLFtlLG89PntpZigxIT09YXJndW1lbnRzLmxlbmd0aHx8IUFycmF5LmlzQXJyYXkoZSkpdGhyb3cgbmV3IEVycm9yKGBNb2QgJHtuLm1vZH0gZmFpbGVkIHRvIGNhbGwgbmV4dCBob29rOiBFeHBlY3RlZCBhcmdzIHRvIGJlIGFycmF5LCBnb3QgJHt0eXBlb2Ygb31gKTtyZXR1cm4gci5jYWxsKHRoaXMsbyl9XSk7cmV0dXJuIG51bGw9PWF8fGEoKSxjfX1yZXR1cm57aG9va3M6ZSxwYXRjaGVzOnQscGF0Y2hlc1NvdXJjZXM6bixlbnRlcjppLGZpbmFsOnJ9fWZ1bmN0aW9uIGwobyxlPSExKXtsZXQgcj1pLmdldChvKTtpZihyKWUmJihyLnByZWNvbXB1dGVkPXMocikpO2Vsc2V7bGV0IGU9d2luZG93O2NvbnN0IGE9by5zcGxpdChcIi5cIik7Zm9yKGxldCB0PTA7dDxhLmxlbmd0aC0xO3QrKylpZihlPWVbYVt0XV0sIW4oZSkpdGhyb3cgbmV3IEVycm9yKGBNb2RTREs6IEZ1bmN0aW9uICR7b30gdG8gYmUgcGF0Y2hlZCBub3QgZm91bmQ7ICR7YS5zbGljZSgwLHQrMSkuam9pbihcIi5cIil9IGlzIG5vdCBvYmplY3RgKTtjb25zdCBjPWVbYVthLmxlbmd0aC0xXV07aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgYyl0aHJvdyBuZXcgRXJyb3IoYE1vZFNESzogRnVuY3Rpb24gJHtvfSB0byBiZSBwYXRjaGVkIG5vdCBmb3VuZGApO2NvbnN0IGw9ZnVuY3Rpb24obyl7bGV0IGU9LTE7Zm9yKGNvbnN0IG4gb2YgdC5lbmNvZGUobykpe2xldCBvPTI1NSYoZV5uKTtmb3IobGV0IGU9MDtlPDg7ZSsrKW89MSZvPy0zMDY2NzQ5MTJebz4+PjE6bz4+PjE7ZT1lPj4+OF5vfXJldHVybigoLTFeZSk+Pj4wKS50b1N0cmluZygxNikucGFkU3RhcnQoOCxcIjBcIikudG9VcHBlckNhc2UoKX0oYy50b1N0cmluZygpLnJlcGxhY2VBbGwoXCJcXHJcXG5cIixcIlxcblwiKSksZD17bmFtZTpvLG9yaWdpbmFsOmMsb3JpZ2luYWxIYXNoOmx9O3I9T2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LGQpLHtwcmVjb21wdXRlZDpzKGQpLHJvdXRlcjooKT0+e30sY29udGV4dDplLGNvbnRleHRQcm9wZXJ0eTphW2EubGVuZ3RoLTFdfSksci5yb3V0ZXI9ZnVuY3Rpb24obyl7cmV0dXJuIGZ1bmN0aW9uKC4uLmUpe3JldHVybiBvLnByZWNvbXB1dGVkLmVudGVyLmFwcGx5KHRoaXMsW2VdKX19KHIpLGkuc2V0KG8sciksZVtyLmNvbnRleHRQcm9wZXJ0eV09ci5yb3V0ZXJ9cmV0dXJuIHJ9ZnVuY3Rpb24gZCgpe2Zvcihjb25zdCBvIG9mIGkudmFsdWVzKCkpby5wcmVjb21wdXRlZD1zKG8pfWZ1bmN0aW9uIHAoKXtjb25zdCBvPW5ldyBNYXA7Zm9yKGNvbnN0W2UsdF1vZiBpKW8uc2V0KGUse25hbWU6ZSxvcmlnaW5hbDp0Lm9yaWdpbmFsLG9yaWdpbmFsSGFzaDp0Lm9yaWdpbmFsSGFzaCxzZGtFbnRyeXBvaW50OnQucm91dGVyLGN1cnJlbnRFbnRyeXBvaW50OnQuY29udGV4dFt0LmNvbnRleHRQcm9wZXJ0eV0saG9va2VkQnlNb2RzOnIodC5wcmVjb21wdXRlZC5ob29rcy5tYXAoKG89Pm8ubW9kKSkpLHBhdGNoZWRCeU1vZHM6QXJyYXkuZnJvbSh0LnByZWNvbXB1dGVkLnBhdGNoZXNTb3VyY2VzKX0pO3JldHVybiBvfWNvbnN0IGY9bmV3IE1hcDtmdW5jdGlvbiB1KG8pe2YuZ2V0KG8ubmFtZSkhPT1vJiZlKGBGYWlsZWQgdG8gdW5sb2FkIG1vZCAnJHtvLm5hbWV9JzogTm90IHJlZ2lzdGVyZWRgKSxmLmRlbGV0ZShvLm5hbWUpLG8ubG9hZGVkPSExLGQoKX1mdW5jdGlvbiBnKG8sdCl7byYmXCJvYmplY3RcIj09dHlwZW9mIG98fGUoXCJGYWlsZWQgdG8gcmVnaXN0ZXIgbW9kOiBFeHBlY3RlZCBpbmZvIG9iamVjdCwgZ290IFwiK3R5cGVvZiBvKSxcInN0cmluZ1wiPT10eXBlb2Ygby5uYW1lJiZvLm5hbWV8fGUoXCJGYWlsZWQgdG8gcmVnaXN0ZXIgbW9kOiBFeHBlY3RlZCBuYW1lIHRvIGJlIG5vbi1lbXB0eSBzdHJpbmcsIGdvdCBcIit0eXBlb2Ygby5uYW1lKTtsZXQgcj1gJyR7by5uYW1lfSdgO1wic3RyaW5nXCI9PXR5cGVvZiBvLmZ1bGxOYW1lJiZvLmZ1bGxOYW1lfHxlKGBGYWlsZWQgdG8gcmVnaXN0ZXIgbW9kICR7cn06IEV4cGVjdGVkIGZ1bGxOYW1lIHRvIGJlIG5vbi1lbXB0eSBzdHJpbmcsIGdvdCAke3R5cGVvZiBvLmZ1bGxOYW1lfWApLHI9YCcke28uZnVsbE5hbWV9ICgke28ubmFtZX0pJ2AsXCJzdHJpbmdcIiE9dHlwZW9mIG8udmVyc2lvbiYmZShgRmFpbGVkIHRvIHJlZ2lzdGVyIG1vZCAke3J9OiBFeHBlY3RlZCB2ZXJzaW9uIHRvIGJlIHN0cmluZywgZ290ICR7dHlwZW9mIG8udmVyc2lvbn1gKSxvLnJlcG9zaXRvcnl8fChvLnJlcG9zaXRvcnk9dm9pZCAwKSx2b2lkIDAhPT1vLnJlcG9zaXRvcnkmJlwic3RyaW5nXCIhPXR5cGVvZiBvLnJlcG9zaXRvcnkmJmUoYEZhaWxlZCB0byByZWdpc3RlciBtb2QgJHtyfTogRXhwZWN0ZWQgcmVwb3NpdG9yeSB0byBiZSB1bmRlZmluZWQgb3Igc3RyaW5nLCBnb3QgJHt0eXBlb2Ygby52ZXJzaW9ufWApLG51bGw9PXQmJih0PXt9KSx0JiZcIm9iamVjdFwiPT10eXBlb2YgdHx8ZShgRmFpbGVkIHRvIHJlZ2lzdGVyIG1vZCAke3J9OiBFeHBlY3RlZCBvcHRpb25zIHRvIGJlIHVuZGVmaW5lZCBvciBvYmplY3QsIGdvdCAke3R5cGVvZiB0fWApO2NvbnN0IGk9ITA9PT10LmFsbG93UmVwbGFjZSxhPWYuZ2V0KG8ubmFtZSk7YSYmKGEuYWxsb3dSZXBsYWNlJiZpfHxlKGBSZWZ1c2luZyB0byBsb2FkIG1vZCAke3J9OiBpdCBpcyBhbHJlYWR5IGxvYWRlZCBhbmQgZG9lc24ndCBhbGxvdyBiZWluZyByZXBsYWNlZC5cXG5XYXMgdGhlIG1vZCBsb2FkZWQgbXVsdGlwbGUgdGltZXM/YCksdShhKSk7Y29uc3QgYz1vPT57bGV0IGU9Zy5wYXRjaGluZy5nZXQoby5uYW1lKTtyZXR1cm4gZXx8KGU9e2hvb2tzOltdLHBhdGNoZXM6bmV3IE1hcH0sZy5wYXRjaGluZy5zZXQoby5uYW1lLGUpKSxlfSxzPShvLHQpPT4oLi4ubik9Pnt2YXIgaSxhO2NvbnN0IGM9bnVsbD09PShhPShpPW0uZXJyb3JSZXBvcnRlckhvb2tzKS5hcGlFbmRwb2ludEVudGVyKXx8dm9pZCAwPT09YT92b2lkIDA6YS5jYWxsKGksbyxnLm5hbWUpO2cubG9hZGVkfHxlKGBNb2QgJHtyfSBhdHRlbXB0ZWQgdG8gY2FsbCBTREsgZnVuY3Rpb24gYWZ0ZXIgYmVpbmcgdW5sb2FkZWRgKTtjb25zdCBzPXQoLi4ubik7cmV0dXJuIG51bGw9PWN8fGMoKSxzfSxwPXt1bmxvYWQ6cyhcInVubG9hZFwiLCgoKT0+dShnKSkpLGhvb2tGdW5jdGlvbjpzKFwiaG9va0Z1bmN0aW9uXCIsKChvLHQsbik9PntcInN0cmluZ1wiPT10eXBlb2YgbyYmb3x8ZShgTW9kICR7cn0gZmFpbGVkIHRvIHBhdGNoIGEgZnVuY3Rpb246IEV4cGVjdGVkIGZ1bmN0aW9uIG5hbWUgc3RyaW5nLCBnb3QgJHt0eXBlb2Ygb31gKTtjb25zdCBpPWwobyksYT1jKGkpO1wibnVtYmVyXCIhPXR5cGVvZiB0JiZlKGBNb2QgJHtyfSBmYWlsZWQgdG8gaG9vayBmdW5jdGlvbiAnJHtvfSc6IEV4cGVjdGVkIHByaW9yaXR5IG51bWJlciwgZ290ICR7dHlwZW9mIHR9YCksXCJmdW5jdGlvblwiIT10eXBlb2YgbiYmZShgTW9kICR7cn0gZmFpbGVkIHRvIGhvb2sgZnVuY3Rpb24gJyR7b30nOiBFeHBlY3RlZCBob29rIGZ1bmN0aW9uLCBnb3QgJHt0eXBlb2Ygbn1gKTtjb25zdCBzPXttb2Q6Zy5uYW1lLHByaW9yaXR5OnQsaG9vazpufTtyZXR1cm4gYS5ob29rcy5wdXNoKHMpLGQoKSwoKT0+e2NvbnN0IG89YS5ob29rcy5pbmRleE9mKHMpO28+PTAmJihhLmhvb2tzLnNwbGljZShvLDEpLGQoKSl9fSkpLHBhdGNoRnVuY3Rpb246cyhcInBhdGNoRnVuY3Rpb25cIiwoKG8sdCk9PntcInN0cmluZ1wiPT10eXBlb2YgbyYmb3x8ZShgTW9kICR7cn0gZmFpbGVkIHRvIHBhdGNoIGEgZnVuY3Rpb246IEV4cGVjdGVkIGZ1bmN0aW9uIG5hbWUgc3RyaW5nLCBnb3QgJHt0eXBlb2Ygb31gKTtjb25zdCBpPWwobyksYT1jKGkpO24odCl8fGUoYE1vZCAke3J9IGZhaWxlZCB0byBwYXRjaCBmdW5jdGlvbiAnJHtvfSc6IEV4cGVjdGVkIHBhdGNoZXMgb2JqZWN0LCBnb3QgJHt0eXBlb2YgdH1gKTtmb3IoY29uc3RbbixpXW9mIE9iamVjdC5lbnRyaWVzKHQpKVwic3RyaW5nXCI9PXR5cGVvZiBpP2EucGF0Y2hlcy5zZXQobixpKTpudWxsPT09aT9hLnBhdGNoZXMuZGVsZXRlKG4pOmUoYE1vZCAke3J9IGZhaWxlZCB0byBwYXRjaCBmdW5jdGlvbiAnJHtvfSc6IEludmFsaWQgZm9ybWF0IG9mIHBhdGNoICcke259J2ApO2QoKX0pKSxyZW1vdmVQYXRjaGVzOnMoXCJyZW1vdmVQYXRjaGVzXCIsKG89PntcInN0cmluZ1wiPT10eXBlb2YgbyYmb3x8ZShgTW9kICR7cn0gZmFpbGVkIHRvIHBhdGNoIGEgZnVuY3Rpb246IEV4cGVjdGVkIGZ1bmN0aW9uIG5hbWUgc3RyaW5nLCBnb3QgJHt0eXBlb2Ygb31gKTtjb25zdCB0PWwobyk7Yyh0KS5wYXRjaGVzLmNsZWFyKCksZCgpfSkpLGNhbGxPcmlnaW5hbDpzKFwiY2FsbE9yaWdpbmFsXCIsKChvLHQsbik9PntcInN0cmluZ1wiPT10eXBlb2YgbyYmb3x8ZShgTW9kICR7cn0gZmFpbGVkIHRvIGNhbGwgYSBmdW5jdGlvbjogRXhwZWN0ZWQgZnVuY3Rpb24gbmFtZSBzdHJpbmcsIGdvdCAke3R5cGVvZiBvfWApO2NvbnN0IGk9bChvKTtyZXR1cm4gQXJyYXkuaXNBcnJheSh0KXx8ZShgTW9kICR7cn0gZmFpbGVkIHRvIGNhbGwgYSBmdW5jdGlvbjogRXhwZWN0ZWQgYXJncyBhcnJheSwgZ290ICR7dHlwZW9mIHR9YCksaS5vcmlnaW5hbC5hcHBseShudWxsIT1uP246Z2xvYmFsVGhpcyx0KX0pKSxnZXRPcmlnaW5hbEhhc2g6cyhcImdldE9yaWdpbmFsSGFzaFwiLChvPT57XCJzdHJpbmdcIj09dHlwZW9mIG8mJm98fGUoYE1vZCAke3J9IGZhaWxlZCB0byBnZXQgaGFzaDogRXhwZWN0ZWQgZnVuY3Rpb24gbmFtZSBzdHJpbmcsIGdvdCAke3R5cGVvZiBvfWApO3JldHVybiBsKG8pLm9yaWdpbmFsSGFzaH0pKX0sZz17bmFtZTpvLm5hbWUsZnVsbE5hbWU6by5mdWxsTmFtZSx2ZXJzaW9uOm8udmVyc2lvbixyZXBvc2l0b3J5Om8ucmVwb3NpdG9yeSxhbGxvd1JlcGxhY2U6aSxhcGk6cCxsb2FkZWQ6ITAscGF0Y2hpbmc6bmV3IE1hcH07cmV0dXJuIGYuc2V0KG8ubmFtZSxnKSxPYmplY3QuZnJlZXplKHApfWZ1bmN0aW9uIGgoKXtjb25zdCBvPVtdO2Zvcihjb25zdCBlIG9mIGYudmFsdWVzKCkpby5wdXNoKHtuYW1lOmUubmFtZSxmdWxsTmFtZTplLmZ1bGxOYW1lLHZlcnNpb246ZS52ZXJzaW9uLHJlcG9zaXRvcnk6ZS5yZXBvc2l0b3J5fSk7cmV0dXJuIG99bGV0IG07Y29uc3QgeT12b2lkIDA9PT13aW5kb3cuYmNNb2RTZGs/d2luZG93LmJjTW9kU2RrPWZ1bmN0aW9uKCl7Y29uc3QgZT17dmVyc2lvbjpvLGFwaVZlcnNpb246MSxyZWdpc3Rlck1vZDpnLGdldE1vZHNJbmZvOmgsZ2V0UGF0Y2hpbmdJbmZvOnAsZXJyb3JSZXBvcnRlckhvb2tzOk9iamVjdC5zZWFsKHthcGlFbmRwb2ludEVudGVyOm51bGwsaG9va0VudGVyOm51bGwsaG9va0NoYWluRXhpdDpudWxsfSl9O3JldHVybiBtPWUsT2JqZWN0LmZyZWV6ZShlKX0oKToobih3aW5kb3cuYmNNb2RTZGspfHxlKFwiRmFpbGVkIHRvIGluaXQgTW9kIFNESzogTmFtZSBhbHJlYWR5IGluIHVzZVwiKSwxIT09d2luZG93LmJjTW9kU2RrLmFwaVZlcnNpb24mJmUoYEZhaWxlZCB0byBpbml0IE1vZCBTREs6IERpZmZlcmVudCB2ZXJzaW9uIGFscmVhZHkgbG9hZGVkICgnMS4yLjAnIHZzICcke3dpbmRvdy5iY01vZFNkay52ZXJzaW9ufScpYCksd2luZG93LmJjTW9kU2RrLnZlcnNpb24hPT1vJiZhbGVydChgTW9kIFNESyB3YXJuaW5nOiBMb2FkaW5nIGRpZmZlcmVudCBidXQgY29tcGF0aWJsZSB2ZXJzaW9ucyAoJzEuMi4wJyB2cyAnJHt3aW5kb3cuYmNNb2RTZGsudmVyc2lvbn0nKVxcbk9uZSBvZiBtb2RzIHlvdSBhcmUgdXNpbmcgaXMgdXNpbmcgYW4gb2xkIHZlcnNpb24gb2YgU0RLLiBJdCB3aWxsIHdvcmsgZm9yIG5vdyBidXQgcGxlYXNlIGluZm9ybSBhdXRob3IgdG8gdXBkYXRlYCksd2luZG93LmJjTW9kU2RrKTtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgZXhwb3J0cyYmKE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuZGVmYXVsdD15KSx5fSgpO1xuIiwiaW1wb3J0IHsgU2F2ZVN0b3JhZ2UgfSBmcm9tIFwiLi4vdXRpbC9zdG9yYWdlXCI7XG5pbXBvcnQgeyBNb2R1bGVUaXRsZSB9IGZyb20gXCIuLi9tb2R1bGVzL19tb2R1bGVcIjtcbmltcG9ydCB7IEFMTF9CRURTIH0gZnJvbSBcIi4uL3V0aWwvY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBGaW5kQ2hhcmFjdGVySW5Sb29tLCBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnksIE1QQU5vdGlmeVBsYXllciwgTm90aWZ5UGxheWVyLCBTZW5kQWN0aW9uIH0gZnJvbSBcIi4uL3V0aWwvbWVzc2FnaW5nXCI7XG5pbXBvcnQgeyBIb29rRnVuY3Rpb24gfSBmcm9tIFwiLi4vdXRpbC9zZGtcIjtcblxuY29uc3QgQk9XTF9TRUxGX1RFWFQgPSBcIlNvdXJjZUNoYXJhY3RlciBjcmF3bHMgaW50byBQcm9ub3VuUG9zc2Vzc2l2ZSBiZWQuXCI7XG5jb25zdCBCT1dMX09USEVSX1RFWFQgPSBcIlNvdXJjZUNoYXJhY3RlciB0dWNrcyBUYXJnZXRDaGFyYWN0ZXIgaW50byBiZWQuXCI7XG5cbmZ1bmN0aW9uIElzQmVkKGJlZDogYW55KTogYm9vbGVhblxue1xuICAgIC8vIEludmFsaWQgY3JhZnQgPSBza2lwXG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKGJlZCkubGVuZ3RoID4gMFxuICAgICAgJiYgQ3JhZnRpbmdWYWxpZGF0ZShiZWQpID09PSBDcmFmdGluZ1N0YXR1c1R5cGUuT0tcbiAgICAgICYmIChBTExfQkVEUy5pbmNsdWRlcyhiZWQuSXRlbSlcbiAgICAgICAgfHwgYmVkPy5OYW1lPy50b0xvY2FsZUxvd2VyQ2FzZSgpPy5pbmNsdWRlcyhcImJlZFwiKSk7XG59XG5cbi8qKlxuICogRGlzcGxheSB0aGUgYmVkIHRleHRcbiAqL1xuZnVuY3Rpb24gR2l2ZUJlZFRleHQoY2hhcmFjdGVyOiBDaGFyYWN0ZXIgPSBQbGF5ZXIpOiB2b2lkXG57XG4gICAgaWYgKGNoYXJhY3Rlci5NZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXIpXG4gICAge1xuICAgICAgICBTZW5kQWN0aW9uKFxuICAgICAgICAgICAgQk9XTF9TRUxGX1RFWFQsXG4gICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICBbeyBTb3VyY2VDaGFyYWN0ZXI6IFBsYXllci5NZW1iZXJOdW1iZXIgfSBhcyBTb3VyY2VDaGFyYWN0ZXJEaWN0aW9uYXJ5RW50cnldXG4gICAgICAgICk7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIFNlbmRBY3Rpb24oXG4gICAgICAgICAgICBCT1dMX09USEVSX1RFWFQsXG4gICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICBbeyBTb3VyY2VDaGFyYWN0ZXI6IFBsYXllci5NZW1iZXJOdW1iZXIgfSBhcyBTb3VyY2VDaGFyYWN0ZXJEaWN0aW9uYXJ5RW50cnksXG4gICAgICAgICAgICAgICAgeyBUYXJnZXRDaGFyYWN0ZXI6IGNoYXJhY3Rlci5NZW1iZXJOdW1iZXIgfSBhcyBUYXJnZXRDaGFyYWN0ZXJEaWN0aW9uYXJ5RW50cnldXG4gICAgICAgICk7XG4gICAgfVxufVxuXG4vKipcbiAqIFVzZSBhIGJlZCBvbiB5b3Vyc2VsZlxuICovXG5mdW5jdGlvbiBVc2VCZWQoKTogdm9pZFxue1xuICAgIGlmIChJbnZlbnRvcnlHZXQoUGxheWVyLCBcIkl0ZW1EZXZpY2VzXCIpXG4gICAgICB8fCBJbnZlbnRvcnlHcm91cElzQmxvY2tlZEZvckNoYXJhY3RlcihQbGF5ZXIsIFwiSXRlbURldmljZXNcIikpXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgc2F2ZWRCZWQgPSBKU09OLnBhcnNlKExaU3RyaW5nLmRlY29tcHJlc3NGcm9tQmFzZTY0KFBsYXllci5NUEFbTW9kdWxlVGl0bGUuUHJpdmF0ZV0uc2F2ZWRCZWQgfHwgXCJcIikgfHwgXCJ7fVwiKSB8fCB7fTtcbiAgICBpZiAoSXNCZWQoc2F2ZWRCZWQpKVxuICAgIHtcbiAgICAgICAgSW52ZW50b3J5V2VhcihcbiAgICAgICAgICAgIFBsYXllcixcbiAgICAgICAgICAgIHNhdmVkQmVkLkl0ZW0sXG4gICAgICAgICAgICBcIkl0ZW1EZXZpY2VzXCIsXG4gICAgICAgICAgICBzYXZlZEJlZC5Db2xvci5zcGxpdChcIixcIiksXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgUGxheWVyLk1lbWJlck51bWJlcixcbiAgICAgICAgICAgIHNhdmVkQmVkLFxuICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgY29uc3QgaGFpckNvbG9yID0gSW52ZW50b3J5R2V0KFBsYXllciwgXCJIYWlyRnJvbnRcIik/LkNvbG9yIGFzIEl0ZW1Db2xvcjtcbiAgICAgICAgSW52ZW50b3J5V2VhcihcbiAgICAgICAgICAgIFBsYXllcixcbiAgICAgICAgICAgIFwiUGV0QmVkXCIsXG4gICAgICAgICAgICBcIkl0ZW1EZXZpY2VzXCIsXG4gICAgICAgICAgICBbaGFpckNvbG9yWzBdLCBcIkRlZmF1bHRcIiwgaGFpckNvbG9yW2hhaXJDb2xvci5sZW5ndGggLSAxXV0sXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgUGxheWVyLk1lbWJlck51bWJlcixcbiAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICk7XG4gICAgfVxuICAgIENoYXRSb29tQ2hhcmFjdGVySXRlbVVwZGF0ZShQbGF5ZXIsIFwiSXRlbURldmljZXNcIik7XG59XG5cbi8qKlxuICogR2l2ZSBhIGJlZCB0byBzb21lb25lXG4gKlxuICogQHBhcmFtIGNoYXJhY3RlciAtIFdobyB0byBnaXZlIHRoZSBiZWQgdG9vXG4gKiBAcmV0dXJucyBJZiBiZWQgd2FzIGdpdmVuXG4gKi9cbmZ1bmN0aW9uIEdpdmVCZWQoY2hhcmFjdGVyOiBDaGFyYWN0ZXIgPSBQbGF5ZXIpOiBib29sZWFuXG57XG4gICAgY29uc3QgdW5hYmxlVG9HaXZlQmVkID0gSW52ZW50b3J5R2V0KGNoYXJhY3RlciwgXCJJdGVtRGV2aWNlc1wiKVxuICAgICAgfHwgSW52ZW50b3J5R3JvdXBJc0Jsb2NrZWRGb3JDaGFyYWN0ZXIoY2hhcmFjdGVyLCBcIkl0ZW1EZXZpY2VzXCIpXG4gICAgICB8fCAoY2hhcmFjdGVyLk1lbWJlck51bWJlciAhPT0gUGxheWVyLk1lbWJlck51bWJlciAmJiAhUGxheWVyLkNhbkludGVyYWN0KCkpO1xuXG4gICAgaWYgKGNoYXJhY3Rlci5NZW1iZXJOdW1iZXIgIT09IFBsYXllci5NZW1iZXJOdW1iZXIpXG4gICAge1xuICAgICAgICBpZiAoIVNlcnZlckNoYXRSb29tR2V0QWxsb3dJdGVtKFBsYXllciwgY2hhcmFjdGVyKSlcbiAgICAgICAge1xuICAgICAgICAgICAgTm90aWZ5UGxheWVyKFwiTVBBOiBObyBCQyBpdGVtIHBlcm1pc3Npb25cIiwgMzAwMDApO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY2hhcmFjdGVyLk1QQSlcbiAgICAgICAge1xuICAgICAgICAgICAgTVBBTm90aWZ5UGxheWVyKGAke2NoYXJhY3Rlci5OaWNrbmFtZSB8fCBjaGFyYWN0ZXIuTmFtZX0gZG9lcyBub3QgaGF2ZSBNUEEsIHVuYWJsZSB0byBnaXZlIGJlZGAsIDMwMDAwKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodW5hYmxlVG9HaXZlQmVkKVxuICAgICAgICB7XG4gICAgICAgICAgICBNUEFOb3RpZnlQbGF5ZXIoYFVuYWJsZSB0byB0dWNrICR7Y2hhcmFjdGVyLk5pY2tuYW1lIHx8IGNoYXJhY3Rlci5OYW1lfSBpbnRvIGJlZGAsIDMwMDAwKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBHaXZlQmVkVGV4dChjaGFyYWN0ZXIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAodW5hYmxlVG9HaXZlQmVkKVxuICAgIHtcbiAgICAgICAgTVBBTm90aWZ5UGxheWVyKFwiVW5hYmxlIHRvIGNyYXdsIGludG8gYmVkXCIsIDMwMDAwKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIFVzZUJlZCgpO1xuICAgIEdpdmVCZWRUZXh0KGNoYXJhY3Rlcik7XG4gICAgcmV0dXJuIHRydWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBCZWQoKTogdm9pZFxue1xuICAgIENvbW1hbmRDb21iaW5lKFt7XG4gICAgICAgIFRhZzogXCJiZWRcIixcbiAgICAgICAgRGVzY3JpcHRpb246IFwiWyhvcHRpb25hbCkgQmVkIGV4cG9ydCBjb2RlIE9SIE90aGVyIHBsYXllcl0gQ3Jhd2wgaW50byBiZWQgd2l0aG91dCBuZWVkaW5nIGhhbmRzXCIsXG4gICAgICAgIEFjdGlvbjogKF9hcmdzLCBtc2csIF9wYXJzZWQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIEFyZ3VtZW50IGlzIHBhc3NlZFxuICAgICAgICAgICAgY29uc3QgYXJnID0gKCgvXihcXFMrKVxccyooLiopJC8uZXhlYyhtc2cpKSA/PyBbXCJcIiwgXCJcIiwgXCJcIl0pWzJdO1xuICAgICAgICAgICAgaWYgKGFyZylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGFyID0gRmluZENoYXJhY3RlckluUm9vbShhcmcpO1xuICAgICAgICAgICAgICAgIGlmIChjaGFyKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgR2l2ZUJlZChjaGFyKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciBiZWQgY3JhZnRcbiAgICAgICAgICAgICAgICBjb25zdCBvYmogPSBKU09OLnBhcnNlKExaU3RyaW5nLmRlY29tcHJlc3NGcm9tQmFzZTY0KGFyZykgfHwgXCJ7fVwiKSB8fCB7fTtcbiAgICAgICAgICAgICAgICBpZiAoSXNCZWQob2JqKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFBsYXllci5NUEFbTW9kdWxlVGl0bGUuUHJpdmF0ZV0uc2F2ZWRCZWQgPSBhcmc7XG4gICAgICAgICAgICAgICAgICAgIFNhdmVTdG9yYWdlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgTVBBTm90aWZ5UGxheWVyKFwiQmVkIHNhdmVkXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgTVBBTm90aWZ5UGxheWVyKFwiSW52YWxpZCBhcmd1bWVudCBnaXZlbiFcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBHaXZlQmVkKFBsYXllcik7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIFRhZzogXCJibGFua2V0XCIsXG4gICAgICAgIERlc2NyaXB0aW9uOiBcIlB1bGwgdGhlIGJsYW5rZXQgb3ZlciB5b3Vyc2VsZiAoT25seSB3b3JrcyBvbiBQZXRCZWQpXCIsXG4gICAgICAgIEFjdGlvbjogKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgLy8gYmxhbmt5XG4gICAgICAgICAgICBjb25zdCBiZWQgPSBJbnZlbnRvcnlHZXQoUGxheWVyLCBcIkl0ZW1EZXZpY2VzXCIpO1xuICAgICAgICAgICAgaWYgKGJlZD8uQXNzZXQuTmFtZSAhPT0gXCJQZXRCZWRcIilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBNUEFOb3RpZnlQbGF5ZXIoXCJVbmFibGUgdG8gcHVsbCB0aGUgYmxhbmtldCBvdmVyIHlvdXJzZWxmLlwiLCAyMDAwMCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIShiZWQuUHJvcGVydHk/LlR5cGVSZWNvcmQ/LnR5cGVkID09PSAwIHx8IGJlZC5Qcm9wZXJ0eT8uVHlwZVJlY29yZD8udHlwZWQgPT09IDEpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIE1QQU5vdGlmeVBsYXllcihcIlVuYWJsZSB0byBwdWxsIHRoZSBibGFua2V0IG92ZXIgeW91cnNlbGYuXCIsIDIwMDAwKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBiZWQuUHJvcGVydHkuVHlwZVJlY29yZC50eXBlZCA9IE51bWJlcighYmVkLlByb3BlcnR5LlR5cGVSZWNvcmQudHlwZWQpO1xuICAgICAgICAgICAgQ2hhdFJvb21DaGFyYWN0ZXJVcGRhdGUoUGxheWVyKTtcbiAgICAgICAgICAgIGlmIChiZWQuUHJvcGVydHkuVHlwZVJlY29yZC50eXBlZCA9PT0gMSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBTZW5kQWN0aW9uKFxuICAgICAgICAgICAgICAgICAgICBcIlNvdXJjZUNoYXJhY3RlciBwdWxscyBhIGJsYW5rZXQgb3ZlciBQcm9ub3VuT2JqZWN0LlwiLFxuICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIFt7IFNvdXJjZUNoYXJhY3RlcjogUGxheWVyLk1lbWJlck51bWJlciB9IGFzIFNvdXJjZUNoYXJhY3RlckRpY3Rpb25hcnlFbnRyeV1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFNlbmRBY3Rpb24oXG4gICAgICAgICAgICAgICAgICAgIFwiU291cmNlQ2hhcmFjdGVyIHJlbW92ZXMgdGhlIGJsYW5rZXQgZnJvbSBvbiB0b3Agb2YgUHJvbm91bk9iamVjdC5cIixcbiAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBbeyBTb3VyY2VDaGFyYWN0ZXI6IFBsYXllci5NZW1iZXJOdW1iZXIgfSBhcyBTb3VyY2VDaGFyYWN0ZXJEaWN0aW9uYXJ5RW50cnldXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIEhvb2tGdW5jdGlvbihudWxsLCBcIkNoYXRSb29tTWVzc2FnZVwiLCAxMDAsIChhcmdzLCBuZXh0KSA9PlxuICAgIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGFyZ3NbMF07XG4gICAgICAgIGlmIChkYXRhLlR5cGUgPT09IFwiQWN0aXZpdHlcIlxuICAgICAgICAgICYmIGRhdGEuQ29udGVudCA9PT0gXCJNYXlhU2NyaXB0XCJcbiAgICAgICAgICAmJiBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJUYXJnZXRDaGFyYWN0ZXJcIikgPT09IFBsYXllci5NZW1iZXJOdW1iZXJcbiAgICAgICAgICAmJiBkYXRhLkRpY3Rpb25hcnk/LnNvbWUoXG4gICAgICAgICAgICAgIChjdXJyKSA9PiAoY3VyciBhcyBhbnkpPy5UYWcgPT09IFwiTUlTU0lORyBBQ1RJVklUWSBERVNDUklQVElPTiBGT1IgS0VZV09SRCBNYXlhU2NyaXB0XCJcbiAgICAgICAgICAgICAgICAmJiAoY3VyciBhcyBhbnkpPy5UZXh0ID09PSBCT1dMX09USEVSX1RFWFRcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgICAge1xuICAgICAgICAgICAgVXNlQmVkKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgfSk7XG59XG4iLCJpbXBvcnQgeyBTYXZlU3RvcmFnZSB9IGZyb20gXCIuLi91dGlsL3N0b3JhZ2VcIjtcbmltcG9ydCB7IE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4uL21vZHVsZXMvX21vZHVsZVwiO1xuaW1wb3J0IHsgRmluZENoYXJhY3RlckluUm9vbSwgR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5LCBNUEFOb3RpZnlQbGF5ZXIsIE5vdGlmeVBsYXllciwgU2VuZEFjdGlvbiB9IGZyb20gXCIuLi91dGlsL21lc3NhZ2luZ1wiO1xuaW1wb3J0IHsgSG9va0Z1bmN0aW9uIH0gZnJvbSBcIi4uL3V0aWwvc2RrXCI7XG5cbmNvbnN0IEJPV0xfU0VMRl9URVhUID0gXCJTb3VyY2VDaGFyYWN0ZXIgbGF5cyBhIGJvd2wgb2YgZm9vZCBhbmQgd2F0ZXIgb24gdGhlIGdyb3VuZCBpbiBmcm9udCBvZiBQcm9ub3VuT2JqZWN0c2VsZi5cIjtcbmNvbnN0IEJPV0xfT1RIRVJfVEVYVCA9IFwiU291cmNlQ2hhcmFjdGVyIGxheXMgYSBib3dsIG9mIGZvb2QgYW5kIHdhdGVyIG9uIHRoZSBncm91bmQgaW4gZnJvbnQgb2YgVGFyZ2V0Q2hhcmFjdGVyLlwiO1xuY29uc3QgQk9XTF9SRUdFWCA9IC9eKD86XFx3fFsgfiEkIyUqK10pKiQvO1xuXG5mdW5jdGlvbiBJc0Jvd2woYm93bDogYW55KTogYm9vbGVhblxue1xuICAgIC8vIEludmFsaWQgY3JhZnQgPSBza2lwXG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKGJvd2wpLmxlbmd0aCA+IDBcbiAgICAgICYmIENyYWZ0aW5nVmFsaWRhdGUoYm93bCkgPT09IENyYWZ0aW5nU3RhdHVzVHlwZS5PS1xuICAgICAgJiYgYm93bD8uSXRlbSA9PSBcIlBldEJvd2xcIjtcbn1cblxuLyoqXG4gKiBEaXNwbGF5IHRoZSBib3dsIHRleHRcbiAqL1xuZnVuY3Rpb24gR2l2ZUJvd2xUZXh0KGNoYXJhY3RlcjogQ2hhcmFjdGVyID0gUGxheWVyKTogdm9pZFxue1xuICAgIGlmIChjaGFyYWN0ZXIuTWVtYmVyTnVtYmVyID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyKVxuICAgIHtcbiAgICAgICAgU2VuZEFjdGlvbihcbiAgICAgICAgICAgIEJPV0xfU0VMRl9URVhULFxuICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgW3sgU291cmNlQ2hhcmFjdGVyOiBQbGF5ZXIuTWVtYmVyTnVtYmVyIH0gYXMgU291cmNlQ2hhcmFjdGVyRGljdGlvbmFyeUVudHJ5XVxuICAgICAgICApO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICBTZW5kQWN0aW9uKFxuICAgICAgICAgICAgQk9XTF9PVEhFUl9URVhULFxuICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgW3sgU291cmNlQ2hhcmFjdGVyOiBQbGF5ZXIuTWVtYmVyTnVtYmVyIH0gYXMgU291cmNlQ2hhcmFjdGVyRGljdGlvbmFyeUVudHJ5LFxuICAgICAgICAgICAgICAgIHsgVGFyZ2V0Q2hhcmFjdGVyOiBjaGFyYWN0ZXIuTWVtYmVyTnVtYmVyIH0gYXMgVGFyZ2V0Q2hhcmFjdGVyRGljdGlvbmFyeUVudHJ5XVxuICAgICAgICApO1xuICAgIH1cbn1cblxuLyoqXG4gKiBVc2UgYSBib3dsIG9uIHlvdXJzZWxmXG4gKi9cbmZ1bmN0aW9uIFVzZUJvd2woKTogdm9pZFxue1xuICAgIGlmIChJbnZlbnRvcnlHZXQoUGxheWVyLCBcIkl0ZW1EZXZpY2VzXCIpXG4gICAgICB8fCBJbnZlbnRvcnlHcm91cElzQmxvY2tlZEZvckNoYXJhY3RlcihQbGF5ZXIsIFwiSXRlbURldmljZXNcIikpXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgc2F2ZWRCb3dsID0gSlNPTi5wYXJzZShMWlN0cmluZy5kZWNvbXByZXNzRnJvbUJhc2U2NChQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLlByaXZhdGVdLnNhdmVkQm93bCB8fCBcIlwiKSB8fCBcInt9XCIpIHx8IHt9O1xuICAgIGlmIChJc0Jvd2woc2F2ZWRCb3dsKSlcbiAgICB7XG4gICAgICAgIChJbnZlbnRvcnlXZWFyKFxuICAgICAgICAgICAgUGxheWVyLFxuICAgICAgICAgICAgc2F2ZWRCb3dsLkl0ZW0sXG4gICAgICAgICAgICBcIkl0ZW1EZXZpY2VzXCIsXG4gICAgICAgICAgICBzYXZlZEJvd2wuQ29sb3Iuc3BsaXQoXCIsXCIpLFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIFBsYXllci5NZW1iZXJOdW1iZXIsXG4gICAgICAgICAgICBzYXZlZEJvd2wsXG4gICAgICAgICAgICBmYWxzZVxuICAgICAgICApIGFzIGFueSkuUHJvcGVydHkgPSBzYXZlZEJvd2wuSXRlbVByb3BlcnR5O1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICBjb25zdCBoYWlyQ29sb3IgPSBJbnZlbnRvcnlHZXQoUGxheWVyLCBcIkhhaXJGcm9udFwiKT8uQ29sb3IgYXMgSXRlbUNvbG9yO1xuICAgICAgICAoSW52ZW50b3J5V2VhcihcbiAgICAgICAgICAgIFBsYXllcixcbiAgICAgICAgICAgIFwiUGV0Qm93bFwiLFxuICAgICAgICAgICAgXCJJdGVtRGV2aWNlc1wiLFxuICAgICAgICAgICAgW2hhaXJDb2xvclswXSwgXCIjMDAwMDAwXCJdLFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIFBsYXllci5NZW1iZXJOdW1iZXIsXG4gICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICBmYWxzZVxuICAgICAgICApIGFzIGFueSkuUHJvcGVydHkgPSB7XG4gICAgICAgICAgICBUZXh0OiAoKFBsYXllci5OaWNrbmFtZSAmJiBCT1dMX1JFR0VYLnRlc3QoUGxheWVyLk5pY2tuYW1lKSkgPyBQbGF5ZXIuTmlja25hbWUgOiBCT1dMX1JFR0VYLnRlc3QoUGxheWVyLk5hbWUpID8gUGxheWVyLk5hbWUgOiBcIlwiKS5zdWJzdHJpbmcoMCwgMTIpXG4gICAgICAgIH07XG4gICAgfVxuICAgIENoYXRSb29tQ2hhcmFjdGVyVXBkYXRlKFBsYXllcik7XG59XG5cbi8qKlxuICogR2l2ZSBhIGJvd2wgdG8gc29tZW9uZVxuICpcbiAqIEBwYXJhbSBjaGFyYWN0ZXIgLSBXaG8gdG8gZ2l2ZSB0aGUgYm93bCB0b29cbiAqIEByZXR1cm5zIElmIGJvd2wgd2FzIGdpdmVuXG4gKi9cbmZ1bmN0aW9uIEdpdmVCb3dsKGNoYXJhY3RlcjogQ2hhcmFjdGVyID0gUGxheWVyKTogYm9vbGVhblxue1xuICAgIGNvbnN0IHVuYWJsZVRvR2l2ZUJvd2wgPSBJbnZlbnRvcnlHZXQoY2hhcmFjdGVyLCBcIkl0ZW1EZXZpY2VzXCIpXG4gICAgICB8fCBJbnZlbnRvcnlHcm91cElzQmxvY2tlZEZvckNoYXJhY3RlcihjaGFyYWN0ZXIsIFwiSXRlbURldmljZXNcIilcbiAgICAgIHx8ICFQbGF5ZXIuQ2FuSW50ZXJhY3QoKTtcblxuICAgIGlmIChjaGFyYWN0ZXIuTWVtYmVyTnVtYmVyICE9PSBQbGF5ZXIuTWVtYmVyTnVtYmVyKVxuICAgIHtcbiAgICAgICAgaWYgKCFTZXJ2ZXJDaGF0Um9vbUdldEFsbG93SXRlbShQbGF5ZXIsIGNoYXJhY3RlcikpXG4gICAgICAgIHtcbiAgICAgICAgICAgIE5vdGlmeVBsYXllcihcIk1QQTogTm8gQkMgaXRlbSBwZXJtaXNzaW9uXCIsIDMwMDAwKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNoYXJhY3Rlci5NUEEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIE1QQU5vdGlmeVBsYXllcihgJHtjaGFyYWN0ZXIuTmlja25hbWUgfHwgY2hhcmFjdGVyLk5hbWV9IGRvZXMgbm90IGhhdmUgTVBBLCB1bmFibGUgdG8gZ2l2ZSBib3dsYCwgMzAwMDApO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1bmFibGVUb0dpdmVCb3dsKVxuICAgICAgICB7XG4gICAgICAgICAgICBNUEFOb3RpZnlQbGF5ZXIoYFVuYWJsZSB0byBnaXZlICR7Y2hhcmFjdGVyLk5pY2tuYW1lIHx8IGNoYXJhY3Rlci5OYW1lfSBhIGJvd2xgLCAzMDAwMCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgR2l2ZUJvd2xUZXh0KGNoYXJhY3Rlcik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmICh1bmFibGVUb0dpdmVCb3dsKVxuICAgIHtcbiAgICAgICAgTVBBTm90aWZ5UGxheWVyKFwiVW5hYmxlIHRvIGdpdmUgYm93bFwiLCAzMDAwMCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBVc2VCb3dsKCk7XG4gICAgR2l2ZUJvd2xUZXh0KGNoYXJhY3Rlcik7XG4gICAgcmV0dXJuIHRydWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBCb3dsKCk6IHZvaWRcbntcbiAgICBDb21tYW5kQ29tYmluZShbe1xuICAgICAgICBUYWc6IFwiYm93bFwiLFxuICAgICAgICBEZXNjcmlwdGlvbjogXCJHaXZlIGJvd2wgdG8gcGV0XCIsXG4gICAgICAgIEFjdGlvbjogKF9hcmdzLCBtc2csIF9wYXJzZWQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIEFyZ3VtZW50IGlzIHBhc3NlZFxuICAgICAgICAgICAgY29uc3QgYXJnID0gKCgvXihcXFMrKVxccyooLiopJC8uZXhlYyhtc2cpKSA/PyBbXCJcIiwgXCJcIiwgXCJcIl0pWzJdO1xuICAgICAgICAgICAgaWYgKGFyZylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGFyID0gRmluZENoYXJhY3RlckluUm9vbShhcmcpO1xuICAgICAgICAgICAgICAgIGlmIChjaGFyKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgR2l2ZUJvd2woY2hhcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgYm93bCBjcmFmdFxuICAgICAgICAgICAgICAgIGNvbnN0IG9iaiA9IEpTT04ucGFyc2UoTFpTdHJpbmcuZGVjb21wcmVzc0Zyb21CYXNlNjQoYXJnKSB8fCBcInt9XCIpIHx8IHt9O1xuICAgICAgICAgICAgICAgIGlmIChJc0Jvd2wob2JqKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFBsYXllci5NUEFbTW9kdWxlVGl0bGUuUHJpdmF0ZV0uc2F2ZWRCb3dsID0gYXJnO1xuICAgICAgICAgICAgICAgICAgICBTYXZlU3RvcmFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIE1QQU5vdGlmeVBsYXllcihcIkJvd2wgc2F2ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBNUEFOb3RpZnlQbGF5ZXIoXCJJbnZhbGlkIGFyZ3VtZW50IGdpdmVuIVwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIEdpdmVCb3dsKFBsYXllcik7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICBIb29rRnVuY3Rpb24obnVsbCwgXCJDaGF0Um9vbU1lc3NhZ2VcIiwgMTAwLCAoYXJncywgbmV4dCkgPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhcmdzWzBdO1xuICAgICAgICBpZiAoZGF0YS5UeXBlID09PSBcIkFjdGl2aXR5XCJcbiAgICAgICAgICAmJiBkYXRhLkNvbnRlbnQgPT09IFwiTWF5YVNjcmlwdFwiXG4gICAgICAgICAgJiYgR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiVGFyZ2V0Q2hhcmFjdGVyXCIpID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyXG4gICAgICAgICAgJiYgZGF0YS5EaWN0aW9uYXJ5Py5zb21lKFxuICAgICAgICAgICAgICAoY3VycikgPT4gKGN1cnIgYXMgYW55KT8uVGFnID09PSBcIk1JU1NJTkcgQUNUSVZJVFkgREVTQ1JJUFRJT04gRk9SIEtFWVdPUkQgTWF5YVNjcmlwdFwiXG4gICAgICAgICAgICAgICAgJiYgKGN1cnIgYXMgYW55KT8uVGV4dCA9PT0gQk9XTF9PVEhFUl9URVhUXG4gICAgICAgICAgKVxuICAgICAgICApXG4gICAgICAgIHtcbiAgICAgICAgICAgIFVzZUJvd2woKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICB9KTtcbn1cbiIsImltcG9ydCB7IEJlZCB9IGZyb20gXCIuL2JlZFwiO1xuaW1wb3J0IHsgQm93bCB9IGZyb20gXCIuL2Jvd2xcIjtcbi8vIGltcG9ydCB7IExvZ0NoYXQgfSBmcm9tIFwiLi9sb2dcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIEJ1aWxkQWxsQ29tbWFuZHMoKTogdm9pZFxue1xuICAgIEJlZCgpO1xuICAgIEJvd2woKTtcbiAgICAvLyBMb2dDaGF0KCk7XG59XG4iLCIvLyBJZiB5b3Ugd2FudCB0byBsb2NhbGl6ZSB0aGlzIGFkZG9uIHRvIHlvdXIgbGFuZ3VhZ2UgZm9yIHlvdXJzZWxmIGFuZCBvdGhlcnMsIGhlcmUgaXMgaG93XG4vLyAxLiBDcmVhdGUgYSBuZXcgZmlsZSBpbiB0aGUgbG9jYWxpemF0aW9uIGRpcmVjdG9yeSBuYW1lZCBbbGFuZ3VhZ2VdLmpzb25cbi8vIDIuIENvcHkgYW5kIHBhc3RlIHRoZSBjb250ZW50cyBvZiB0ZW1wbGF0ZS5qc29uIGludG8geW91ciBuZXcgW2xhbmd1YWdlXS5qc29uIGZpbGUuXG4vLyAyKGFsdCkuIFJ1biB0aGUgY29tbWFuZCBcIm5wbSBydW4gbGFuZ1wiLCB3aWxsIHJlcXVpcmUgbm9kZSB0byBiZSBpbnN0YWxsZWQgYnV0IHdpbGwgcG9wdWxhdGUgdGhlIG5ldyBqc29uIGZpbGUgZm9yIHlvdVxuLy8gMy4gUmVwbGFjZSB0aGUgcmlnaHQoZW1wdHkpIHNpZGUgb2YgdGhlIHRleHQgd2l0aCB0aGUgdHJhbnNsYXRpb24gZnJvbSB0aGUgRW5nbGlzaCBvbiB0aGUgbGVmdC5cbi8vIDNiLiBEbyBub3QgdHJhbnNsYXRlIHdvcmRzIGxpa2UgU291cmNlQ2hhcmFjdGVyIGFuZCBTZXR0aW5nc0FycmF5LCBsZWF2ZSB0aG9zZSBhcyB0aGV5IHdpbGwgYmUgZmlsbGVkIGluIGJ5IHRoZSBjb2RlXG4vLyA0LiBJbXBvcnQgdGhlIGpzb24gZm9sbG93aW5nIHRoZSBleGFtcGxlIGJlbG93LCBtYWtlIHN1cmUgdGhhdCB0aGUgbmFtZSB5b3UgaW1wb3J0IHRoZSBmaWxlIGlzXG4vLyAgICB0aGUgc2FtZSB0aGF0IGRlZmluZWQgYnkgVHJhbnNsYXRpb25MYW5ndWFnZS4gRXg6IEVuZ2xpc2ggLT4gRU5cbi8vICAgIElmIHlvdSBhcmUgdW5zdXJlIG9mIGhvdyB0byBkbyB0aGlzIGJ1dCBzdGlsbCB3YW50IHRvIGNvbnRyaWJ1dGUsIHJlYWNoIG91dCBhbmQgSSB3aWxsIGF0dGVtcHQgdG8gaGVscC5cblxuaW1wb3J0IFJVIGZyb20gXCIuL1JVLmpzb25cIjtcbmltcG9ydCBDTiBmcm9tIFwiLi9DTi5qc29uXCI7XG5cbi8vIEV2ZXJ5dGhpbmcgaXMgZGVmYXVsdGVkIHRvIEVuZ2xpc2hcbmNvbnN0IHRyYW5zbGF0aW9ucyA9XG57XG4gICAgUlUsXG4gICAgQ05cbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBMb2NhbGl6ZWRUZXh0KHRleHQ6IHN0cmluZyk6IHN0cmluZ1xue1xuICAgIGNvbnN0IHRyYW5zbGF0ZWRUZXh0ID0gdHJhbnNsYXRpb25zPy5bVHJhbnNsYXRpb25MYW5ndWFnZV0/Llt0ZXh0XTtcbiAgICBpZiAoISF0cmFuc2xhdGVkVGV4dCAmJiB0cmFuc2xhdGVkVGV4dCAhPT0gXCJcIilcbiAgICB7XG4gICAgICAgIHJldHVybiB0cmFuc2xhdGVkVGV4dDtcbiAgICB9XG4gICAgcmV0dXJuIHRleHQ7XG59XG4iLCJpbXBvcnQgeyBSZW1vdmVIb29rcyB9IGZyb20gXCIuLi91dGlsL3Nka1wiO1xuaW1wb3J0IHsgQ3JlYXRlQWN0aXZpdGllcywgUmVtb3ZlQWN0aXZpdGllcyB9IGZyb20gXCIuLi91dGlsL2FjdGl2aXRpZXNcIjtcbmltcG9ydCB7IEFkZERhdGFTeW5jTGlzdGVuZXJzLCBIb29rZWRNZXNzYWdlLCBSZW1vdmVEYXRhU3luY0xpc3RlbmVycyB9IGZyb20gXCIuLi91dGlsL21lc3NhZ2luZ1wiO1xuXG5leHBvcnQgZW51bSBNb2R1bGVUaXRsZVxue1xuICAgIFVua25vd24gPSBcIlVua25vd25cIixcbiAgICBBdXRob3JpdHkgPSBcIkF1dGhvcml0eVwiLFxuICAgIEFjdGl2aXRpZXMgPSBcIkFjdGl2aXRpZXNcIixcbiAgICBDbGlja2VyID0gXCJDbGlja2VyXCIsXG4gICAgU2V0dGluZ3MgPSBcIlNldHRpbmdzXCIsXG4gICAgVmlydHVhbFBldCA9IFwiVmlydHVhbFBldFwiLFxuICAgIFZpcnR1YWxQZXRIVUQgPSBcIlZpcnR1YWxQZXRIdWRcIixcbiAgICBWaXJ0dWFsUGV0Q29uZGl0aW9ucyA9IFwiVmlydHVhbFBldENvbmRpdGlvbnNcIixcbiAgICBEYXRhU3luYyA9IFwiRGF0YVN5bmNcIixcbiAgICBQcm9maWxlID0gXCJQcm9maWxlXCIsXG4gICAgU2V0dGluZ3NPdGhlciA9IFwiU2V0dGluZ3NPdGhlclwiLFxuICAgIFByaXZhdGUgPSBcIlByaXZhdGVcIlxufVxuXG5leHBvcnQgY29uc3QgTW9kdWxlVGl0bGVQdWJsaWNpdHk6IFBhcnRpYWw8UmVjb3JkPE1vZHVsZVRpdGxlLCBib29sZWFuPj4gPSB7XG4gICAgW01vZHVsZVRpdGxlLlVua25vd25dOiBmYWxzZSxcbiAgICBbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XTogdHJ1ZSxcbiAgICBbTW9kdWxlVGl0bGUuQWN0aXZpdGllc106IHRydWUsXG4gICAgW01vZHVsZVRpdGxlLkNsaWNrZXJdOiB0cnVlLFxuICAgIFtNb2R1bGVUaXRsZS5TZXR0aW5nc106IHRydWUsXG4gICAgW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdOiB0cnVlLFxuICAgIFtNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0SFVEXTogZmFsc2UsXG4gICAgW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zXTogdHJ1ZSxcbiAgICBbTW9kdWxlVGl0bGUuRGF0YVN5bmNdOiB0cnVlLFxuICAgIFtNb2R1bGVUaXRsZS5Qcm9maWxlXTogdHJ1ZSxcbiAgICBbTW9kdWxlVGl0bGUuU2V0dGluZ3NPdGhlcl06IHRydWUsXG4gICAgW01vZHVsZVRpdGxlLlByaXZhdGVdOiBmYWxzZVxufTtcblxuLyoqXG4gKiBDaGVjayBpZiBhIG1vZHVsZSBpcyBwdWJsaWMsIGFsbG93aW5nIHRoZSBkYXRhIHRvIGJlIHNoYXJlZCB3aXRoIG90aGVyc1xuICpcbiAqIEBwYXJhbSBtb2R1bGVUaXRsZSBUaGUgbW9kdWxlIHRvIGNoZWNrXG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gTW9kdWxlSXNQdWJsaWMobW9kdWxlVGl0bGU6IE1vZHVsZVRpdGxlKTogYm9vbGVhblxue1xuICAgIHJldHVybiBNb2R1bGVUaXRsZVB1YmxpY2l0eVttb2R1bGVUaXRsZV0gPz8gdHJ1ZTtcbn1cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIE1vZHVsZVxue1xuICAgIGdldCBUaXRsZSgpOiBNb2R1bGVUaXRsZVxuICAgIHtcbiAgICAgICAgcmV0dXJuIE1vZHVsZVRpdGxlLlVua25vd247XG4gICAgfVxuXG4gICAgZ2V0IEFjdGl2aXRpZXMoKTogQ3VzdG9tQWN0aXZpdHlbXVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIGdldCBTZXR0aW5ncygpOiBTZXR0aW5nW11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBnZXQgU3luY0xpc3RlbmVycygpOiBIb29rZWRNZXNzYWdlW11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBMb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIENyZWF0ZUFjdGl2aXRpZXModGhpcy5BY3Rpdml0aWVzKTtcbiAgICAgICAgQWRkRGF0YVN5bmNMaXN0ZW5lcnModGhpcy5TeW5jTGlzdGVuZXJzKTtcbiAgICB9XG5cbiAgICBVbmxvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgUmVtb3ZlSG9va3ModGhpcy5UaXRsZSk7XG4gICAgICAgIFJlbW92ZUFjdGl2aXRpZXModGhpcy5BY3Rpdml0aWVzKTtcbiAgICAgICAgUmVtb3ZlRGF0YVN5bmNMaXN0ZW5lcnModGhpcy5UaXRsZSk7XG4gICAgfVxuXG4gICAgUmVsb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuVW5sb2FkKCk7XG4gICAgICAgIHRoaXMuTG9hZCgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IE1vZHVsZSwgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi9fbW9kdWxlXCI7XG5pbXBvcnQgeyBGaW5kQ2hhcmFjdGVySW5Sb29tLCBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkgfSBmcm9tIFwiLi4vdXRpbC9tZXNzYWdpbmdcIjtcbmltcG9ydCB7IGFjdGl2aXR5SW1hZ2VzLCBhY3Rpdml0eVByZXJlcXVpc2l0ZXMsIGFjdGl2aXR5UmVjZWl2ZWQsIGFjdGl2aXR5VHJpZ2dlcnMgfSBmcm9tIFwiLi4vdXRpbC9hY3Rpdml0aWVzXCI7XG5pbXBvcnQgeyBIb29rRnVuY3Rpb24gfSBmcm9tIFwiLi4vdXRpbC9zZGtcIjtcbmltcG9ydCB7IEFDVElWSVRZX05BTUVfUFJFRklYLCBCRUxMX1NPVU5ELCBJQ09OUyB9IGZyb20gXCIuLi91dGlsL2NvbnN0YW50c1wiO1xuXG5jb25zdCBSZWNpZXZlQmVsbDogQWN0aXZpdHlSZWNlaXZlZCA9IChzb3VyY2UsIHRhcmdldCwgX2dyb3VwLCBfZGF0YSkgPT5cbntcbiAgICBpZiAoXG4gICAgICAgIFBsYXllci5BdWRpb1NldHRpbmdzPy5QbGF5SXRlbVxuICAgICAgICAmJiAoIVBsYXllci5BdWRpb1NldHRpbmdzLlBsYXlJdGVtUGxheWVyT25seVxuICAgICAgICAgIHx8IHNvdXJjZT8uTWVtYmVyTnVtYmVyID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyXG4gICAgICAgICAgfHwgdGFyZ2V0Py5NZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXIpXG4gICAgKVxuICAgIHtcbiAgICAgICAgQkVMTF9TT1VORC5wbGF5KCk7XG4gICAgfVxufTtcblxuY29uc3QgUEFXX1RPT0xUSVAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuUEFXX1RPT0xUSVAuc3JjID0gSUNPTlMuUEFXO1xuUEFXX1RPT0xUSVAuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG5QQVdfVE9PTFRJUC5zdHlsZS5yaWdodCA9IFwiMSVcIjtcblBBV19UT09MVElQLnN0eWxlLmJvdHRvbSA9IFwiMjMlXCI7XG5QQVdfVE9PTFRJUC5zdHlsZS53aWR0aCA9IFwiMS40ZW1cIjtcblBBV19UT09MVElQLnN0eWxlLmhlaWdodCA9IFwiMS40ZW1cIjtcblxuZXhwb3J0IGNsYXNzIEFjdGl2aXRpZXNNb2R1bGUgZXh0ZW5kcyBNb2R1bGVcbntcbiAgICBnZXQgVGl0bGUoKTogTW9kdWxlVGl0bGVcbiAgICB7XG4gICAgICAgIHJldHVybiBNb2R1bGVUaXRsZS5BY3Rpdml0aWVzO1xuICAgIH1cblxuICAgIGdldCBBY3Rpdml0aWVzKCk6IEN1c3RvbUFjdGl2aXR5W11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgTmFtZTogXCJGbGlja0JlbGxcIixcbiAgICAgICAgICAgICAgICBNYXhQcm9ncmVzczogNTAsXG4gICAgICAgICAgICAgICAgUHJlcmVxdWlzaXRlOiBbXCJVc2VIYW5kc1wiXSxcbiAgICAgICAgICAgICAgICBDdXN0b21QcmVyZXF1aXNpdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgTmFtZTogXCJIYXNCZWxsQ29sbGFyXCIsXG4gICAgICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogKF9hY3RpbmcsIGFjdGVkLCBfZ3JvdXApID0+XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBJbnZlbnRvcnlHZXQoYWN0ZWQsIFwiSXRlbU5lY2tcIik/LkFzc2V0Py5OYW1lPy50b0xvY2FsZUxvd2VyQ2FzZSgpPy5pbmNsdWRlcyhcImJlbGxcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgSW52ZW50b3J5R2V0KGFjdGVkLCBcIkl0ZW1OZWNrQWNjZXNzb3JpZXNcIik/LkFzc2V0Py5OYW1lPy50b0xvY2FsZUxvd2VyQ2FzZSgpPy5pbmNsdWRlcyhcImJlbGxcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFRhcmdldHM6IFt7XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwOiBcIkl0ZW1OZWNrXCIsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkZsaWNrIEJlbGxcIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uU2VsZjogXCJTb3VyY2VDaGFyYWN0ZXIgZmxpY2tzIHRoZSBiZWxsIG9uIFByb25vdW5Qb3NzZXNzaXZlIGNvbGxhci5cIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uT3RoZXJzOiBcIlNvdXJjZUNoYXJhY3RlciBmbGlja3MgdGhlIGJlbGwgb24gVGFyZ2V0Q2hhcmFjdGVyJ3MgY29sbGFyLlwiXG4gICAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAgICAgSW1hZ2U6IFwiQXNzZXRzXFxcXEZlbWFsZTNEQ0dcXFxcSXRlbU5lY2tBY2Nlc3Nvcmllc1xcXFxQcmV2aWV3XFxcXENvbGxhckJlbGwucG5nXCIsXG4gICAgICAgICAgICAgICAgT25SZWNlaXZlOiBSZWNpZXZlQmVsbFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIE5hbWU6IFwiRmxpY2tCZWxsMlwiLFxuICAgICAgICAgICAgICAgIE1heFByb2dyZXNzOiA1MCxcbiAgICAgICAgICAgICAgICBQcmVyZXF1aXNpdGU6IFtcIlVzZUhhbmRzXCJdLFxuICAgICAgICAgICAgICAgIEN1c3RvbVByZXJlcXVpc2l0ZToge1xuICAgICAgICAgICAgICAgICAgICBOYW1lOiBcIkhhc0JlbGxOaXBwbGVzXCIsXG4gICAgICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogKF9hY3RpbmcsIGFjdGVkLCBfZ3JvdXApID0+XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBJbnZlbnRvcnlHZXQoYWN0ZWQsIFwiSXRlbU5pcHBsZXNcIik/LkFzc2V0Py5OYW1lPy50b0xvY2FsZUxvd2VyQ2FzZSgpPy5pbmNsdWRlcyhcImJlbGxcIikgPz8gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFRhcmdldHM6IFt7XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwOiBcIkl0ZW1OaXBwbGVzXCIsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkZsaWNrIEJlbGxcIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uU2VsZjogXCJTb3VyY2VDaGFyYWN0ZXIgZmxpY2tzIHRoZSBiZWxscyBvbiBQcm9ub3VuUG9zc2Vzc2l2ZSBuaXBwbGUgY2xhbXBzLlwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25PdGhlcnM6IFwiU291cmNlQ2hhcmFjdGVyIGZsaWNrcyB0aGUgYmVsbHMgb24gVGFyZ2V0Q2hhcmFjdGVyJ3MgbmlwcGxlIGNsYW1wcy5cIlxuICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgICAgIEltYWdlOiBcIkFzc2V0c1xcXFxGZW1hbGUzRENHXFxcXEl0ZW1OaXBwbGVzXFxcXFByZXZpZXdcXFxcQmVsbENsYW1wcy5wbmdcIixcbiAgICAgICAgICAgICAgICBPblJlY2VpdmU6IFJlY2lldmVCZWxsXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgTmFtZTogXCJGbGlja0JlbGwzXCIsXG4gICAgICAgICAgICAgICAgTWF4UHJvZ3Jlc3M6IDUwLFxuICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogW1wiVXNlSGFuZHNcIl0sXG4gICAgICAgICAgICAgICAgQ3VzdG9tUHJlcmVxdWlzaXRlOiB7XG4gICAgICAgICAgICAgICAgICAgIE5hbWU6IFwiSGFzQmVsbENsaXRcIixcbiAgICAgICAgICAgICAgICAgICAgUHJlcmVxdWlzaXRlOiAoX2FjdGluZywgYWN0ZWQsIF9ncm91cCkgPT5cbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xpdFBpZXJjaW5nID0gSW52ZW50b3J5R2V0KGFjdGVkLCBcIkl0ZW1WdWx2YVBpZXJjaW5nc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjbGl0UGllcmNpbmc/LkFzc2V0Py5OYW1lID09IFwiUm91bmRDbGl0UGllcmNpbmdcIiAmJiBjbGl0UGllcmNpbmc/LlByb3BlcnR5Py5UeXBlUmVjb3JkPy50eXBlZCA9PSAyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBUYXJnZXRzOiBbe1xuICAgICAgICAgICAgICAgICAgICBncm91cDogXCJJdGVtVnVsdmFQaWVyY2luZ3NcIixcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiRmxpY2sgQmVsbFwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25TZWxmOiBcIlNvdXJjZUNoYXJhY3RlciBmbGlja3MgdGhlIGJlbGwgb24gUHJvbm91blBvc3Nlc3NpdmUgY2xpdCBwaWVyY2luZy5cIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uT3RoZXJzOiBcIlNvdXJjZUNoYXJhY3RlciBmbGlja3MgdGhlIGJlbGwgb24gVGFyZ2V0Q2hhcmFjdGVyJ3MgY2xpdCBwaWVyY2luZy5cIlxuICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgICAgIEltYWdlOiBcIkFzc2V0c1xcXFxGZW1hbGUzRENHXFxcXEl0ZW1WdWx2YVBpZXJjaW5nc1xcXFxQcmV2aWV3XFxcXFJvdW5kQ2xpdFBpZXJjaW5nLnBuZ1wiLFxuICAgICAgICAgICAgICAgIE9uUmVjZWl2ZTogUmVjaWV2ZUJlbGxcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBOYW1lOiBcIkZsaWNrQmVsbDRcIixcbiAgICAgICAgICAgICAgICBNYXhQcm9ncmVzczogNTAsXG4gICAgICAgICAgICAgICAgUHJlcmVxdWlzaXRlOiBbXCJVc2VIYW5kc1wiXSxcbiAgICAgICAgICAgICAgICBDdXN0b21QcmVyZXF1aXNpdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgTmFtZTogXCJIYXNCZWxsTmlwcGxlc1BpZXJjaW5nc1wiLFxuICAgICAgICAgICAgICAgICAgICBQcmVyZXF1aXNpdGU6IChfYWN0aW5nLCBhY3RlZCwgX2dyb3VwKSA9PlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSW52ZW50b3J5R2V0KGFjdGVkLCBcIkl0ZW1OaXBwbGVzUGllcmNpbmdzXCIpPy5Bc3NldD8uTmFtZT8udG9Mb2NhbGVMb3dlckNhc2UoKT8uaW5jbHVkZXMoXCJiZWxsXCIpID8/IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBUYXJnZXRzOiBbe1xuICAgICAgICAgICAgICAgICAgICBncm91cDogXCJJdGVtTmlwcGxlc1wiLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJGbGljayBCZWxsXCIsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvblNlbGY6IFwiU291cmNlQ2hhcmFjdGVyIGZsaWNrcyB0aGUgYmVsbHMgb24gUHJvbm91blBvc3Nlc3NpdmUgbmlwcGxlIHBpZXJjaW5ncy5cIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uT3RoZXJzOiBcIlNvdXJjZUNoYXJhY3RlciBmbGlja3MgdGhlIGJlbGxzIG9uIFRhcmdldENoYXJhY3RlcidzIG5pcHBsZSBwaWVyY2luZ3MuXCJcbiAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgICAgICBJbWFnZTogXCJBc3NldHNcXFxcRmVtYWxlM0RDR1xcXFxJdGVtTmlwcGxlc1BpZXJjaW5nc1xcXFxQcmV2aWV3XFxcXEJlbGxQaWVyY2luZy5wbmdcIixcbiAgICAgICAgICAgICAgICBPblJlY2VpdmU6IFJlY2lldmVCZWxsXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgTmFtZTogXCJTdG9tcE9uY2VcIixcbiAgICAgICAgICAgICAgICBNYXhQcm9ncmVzczogNTAsXG4gICAgICAgICAgICAgICAgUHJlcmVxdWlzaXRlOiBbXCJVc2VGZWV0XCJdLFxuICAgICAgICAgICAgICAgIEN1c3RvbVByZXJlcXVpc2l0ZToge1xuICAgICAgICAgICAgICAgICAgICBOYW1lOiBcIkhhc0hvb3Zlc1wiLFxuICAgICAgICAgICAgICAgICAgICBQcmVyZXF1aXNpdGU6IChfYWN0aW5nLCBhY3RlZCwgX2dyb3VwKSA9PlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSW52ZW50b3J5R2V0KGFjdGVkLCBcIkl0ZW1Cb290c1wiKT8uQXNzZXQ/Lk5hbWU/LnRvTG9jYWxlTG93ZXJDYXNlKCk/LmluY2x1ZGVzKFwicG9ueVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBbXCJwb255XCIsIFwi5YW96LmE6Z6LX2x1emlcIl0uc29tZSgoa2V5d29yZCkgPT4gSW52ZW50b3J5R2V0KGFjdGVkLCBcIlNob2VzXCIpPy5Bc3NldD8uTmFtZT8udG9Mb2NhbGVMb3dlckNhc2UoKT8uaW5jbHVkZXMoa2V5d29yZCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBUYXJnZXRzOiBbe1xuICAgICAgICAgICAgICAgICAgICBncm91cDogXCJJdGVtQm9vdHNcIixcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiU3RvbXAgT25jZVwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25TZWxmOiBcIlNvdXJjZUNoYXJhY3RlciBzdG9tcHMgUHJvbm91blBvc3Nlc3NpdmUgaG9vZiBvbiB0aGUgZ3JvdW5kIG9uY2UuXCJcbiAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgICAgICBJbWFnZTogXCJBc3NldHNcXFxcRmVtYWxlM0RDR1xcXFxTaG9lc1xcXFxQcmV2aWV3XFxcXFBvbnlCb290cy5wbmdcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIE5hbWU6IFwiU3RvbXBUd2ljZVwiLFxuICAgICAgICAgICAgICAgIE1heFByb2dyZXNzOiA1MCxcbiAgICAgICAgICAgICAgICBQcmVyZXF1aXNpdGU6IFtcIlVzZUZlZXRcIl0sXG4gICAgICAgICAgICAgICAgQ3VzdG9tUHJlcmVxdWlzaXRlOiB7XG4gICAgICAgICAgICAgICAgICAgIE5hbWU6IFwiSGFzSG9vdmVzXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFRhcmdldHM6IFt7XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwOiBcIkl0ZW1Cb290c1wiLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJTdG9tcCBUd2ljZVwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25TZWxmOiBcIlNvdXJjZUNoYXJhY3RlciBzdG9tcHMgUHJvbm91blBvc3Nlc3NpdmUgaG9vZiBvbiB0aGUgZ3JvdW5kIHR3aWNlLlwiXG4gICAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAgICAgSW1hZ2U6IFwiQXNzZXRzXFxcXEZlbWFsZTNEQ0dcXFxcU2hvZXNcXFxcUHJldmlld1xcXFxQb255Qm9vdHMucG5nXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBMb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLkxvYWQoKTtcblxuICAgICAgICAvLyBQcmVyZXF1aXNpdGUgaGFuZGxpbmdcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiQWN0aXZpdHlDaGVja1ByZXJlcXVpc2l0ZVwiLCAxLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgW3ByZXJlcSwgYWN0aW5nLCBhY3RlZCwgZ3JvdXBdID0gYXJncztcbiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhhY3Rpdml0eVByZXJlcXVpc2l0ZXMpLmluY2x1ZGVzKHByZXJlcSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjdGl2aXR5UHJlcmVxdWlzaXRlc1twcmVyZXFdKGFjdGluZywgYWN0ZWQsIGdyb3VwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBBY3Rpdml0eSBvbnRyaWdnZXJzXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIlNlcnZlclNlbmRcIiwgMSwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhcmdzWzFdIGFzIFNlcnZlckNoYXRSb29tTWVzc2FnZTtcbiAgICAgICAgICAgIGlmIChhcmdzWzBdICE9PSBcIkNoYXRSb29tQ2hhdFwiIHx8IGRhdGE/LlR5cGUgIT09IFwiQWN0aXZpdHlcIilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUgLSBUUyBub3QgZmluZGluZyB0eXBlIGF1dG9tYXRpY2FsbHksIGl0IGV4aXN0c1xuICAgICAgICAgICAgY29uc3QgYWN0aXZpdHlOYW1lID0gZGF0YT8uRGljdGlvbmFyeT8uZmluZCgoeCkgPT4geC5BY3Rpdml0eU5hbWUpPy5BY3Rpdml0eU5hbWUgYXMgc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKGFjdGl2aXR5TmFtZT8uc3RhcnRzV2l0aChBQ1RJVklUWV9OQU1FX1BSRUZJWCkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGF0YT8uRGljdGlvbmFyeT8ucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIFRhZzogXCJNSVNTSU5HIEFDVElWSVRZIERFU0NSSVBUSU9OIEZPUiBLRVlXT1JEIFwiICsgZGF0YS5Db250ZW50LFxuICAgICAgICAgICAgICAgICAgICBUZXh0OiBBY3Rpdml0eURpY3Rpb25hcnlUZXh0KGRhdGEuQ29udGVudClcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhhY3Rpdml0eVRyaWdnZXJzKS5pbmNsdWRlcyhhY3Rpdml0eU5hbWUpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0TnVtYmVyID0gKGRhdGE/LkRpY3Rpb25hcnk/LmZpbmQoKHgpID0+ICh4IGFzIFRhcmdldENoYXJhY3RlckRpY3Rpb25hcnlFbnRyeSkuVGFyZ2V0Q2hhcmFjdGVyKSBhcyBUYXJnZXRDaGFyYWN0ZXJEaWN0aW9uYXJ5RW50cnkpPy5UYXJnZXRDaGFyYWN0ZXIgPz8gLTE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IENoYXRSb29tQ2hhcmFjdGVyPy5maW5kKChjKSA9PiBjLk1lbWJlck51bWJlciA9PT0gdGFyZ2V0TnVtYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZpdHlUcmlnZ2Vyc1thY3Rpdml0eU5hbWVdKHRhcmdldCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQWN0aXZpdHkgb24gcmVjZWl2ZWRcbiAgICAgICAgSG9va0Z1bmN0aW9uKE1vZHVsZVRpdGxlLkNsaWNrZXIsIFwiQ2hhdFJvb21NZXNzYWdlXCIsIDAsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBuZXh0KGFyZ3MpO1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGFyZ3NbMF07XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgZGF0YS5UeXBlID09PSBcIkFjdGl2aXR5XCJcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhY3Rpdml0eU5hbWUgPSBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJBY3Rpdml0eU5hbWVcIikgYXMgc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGlmICghYWN0aXZpdHlOYW1lPy5zdGFydHNXaXRoKEFDVElWSVRZX05BTUVfUFJFRklYKVxuICAgICAgICAgICAgICAgICAgfHwgIShhY3Rpdml0eU5hbWUgaW4gYWN0aXZpdHlSZWNlaXZlZCkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZUNoYXIgPSBGaW5kQ2hhcmFjdGVySW5Sb29tKEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIlNvdXJjZUNoYXJhY3RlclwiKSxcbiAgICAgICAgICAgICAgICAgICAgeyBNZW1iZXJOdW1iZXI6IHRydWUsIE5pY2tOYW1lOiBmYWxzZSwgTmFtZTogZmFsc2UgfSkgPz8gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldENoYXIgPSBGaW5kQ2hhcmFjdGVySW5Sb29tKEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIlRhcmdldENoYXJhY3RlclwiKSxcbiAgICAgICAgICAgICAgICAgICAgeyBNZW1iZXJOdW1iZXI6IHRydWUsIE5pY2tOYW1lOiBmYWxzZSwgTmFtZTogZmFsc2UgfSkgPz8gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGNvbnN0IGdyb3VwID0gR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiRm9jdXNHcm91cE5hbWVcIik7XG4gICAgICAgICAgICAgICAgYWN0aXZpdHlSZWNlaXZlZFthY3Rpdml0eU5hbWVdKHNvdXJjZUNoYXIsIHRhcmdldENoYXIsIGdyb3VwLCBkYXRhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gRHJhdyBjdXN0b20gaW1hZ2VzIGZvciBhY3Rpdml0aWVzXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIkVsZW1lbnRCdXR0b24uQ3JlYXRlRm9yQWN0aXZpdHlcIiwgMCwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2aXR5TmFtZSA9IGFyZ3NbMV0uQWN0aXZpdHkuTmFtZTtcbiAgICAgICAgICAgIGNvbnN0IGlzTVBBQWN0aXZpdHkgPSBPYmplY3Qua2V5cyhhY3Rpdml0eUltYWdlcykuaW5jbHVkZXMoYWN0aXZpdHlOYW1lKTtcbiAgICAgICAgICAgIGlmIChpc01QQUFjdGl2aXR5KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICghYXJnc1s0XSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGFyZ3NbNF0gPSB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYXJnc1s0XS5pbWFnZSA9IGFjdGl2aXR5SW1hZ2VzW2FjdGl2aXR5TmFtZV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGJ1dHRvbkVsZW1lbnQgPSBuZXh0KGFyZ3MpO1xuXG4gICAgICAgICAgICBpZiAoaXNNUEFBY3Rpdml0eSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBidXR0b25FbGVtZW50LmFwcGVuZENoaWxkKFBBV19UT09MVElQLmNsb25lTm9kZSgpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGJ1dHRvbkVsZW1lbnQ7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIFVubG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5VbmxvYWQoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUyB9IGZyb20gXCIuLi91dGlsL2F1dGhvcml0eVwiO1xuaW1wb3J0IHsgTW9kdWxlLCBNb2R1bGVUaXRsZSB9IGZyb20gXCIuL19tb2R1bGVcIjtcblxuY29uc3QgUGxheWVyUDogKEM/OiBDaGFyYWN0ZXIpID0+IE1QQVJlY29yZCA9IChDOiBDaGFyYWN0ZXIgPSBQbGF5ZXIpID0+XG57XG4gICAgcmV0dXJuIEMuTVBBPy5bTW9kdWxlVGl0bGUuQXV0aG9yaXR5XSA/PyB7fTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBJc0hhcmRjb3JlT24oQzogQ2hhcmFjdGVyKTogYm9vbGVhblxue1xuICAgIHJldHVybiAoQy5NUEE/LltNb2R1bGVUaXRsZS5BdXRob3JpdHldLmhhcmRjb3JlIGFzIGJvb2xlYW4gfCB1bmRlZmluZWQpID8/IGZhbHNlO1xufTtcblxudHlwZSBTZWxmQWNjZXNzID0gYHNlbGYke2tleW9mIHR5cGVvZiBNb2R1bGVUaXRsZX1gO1xudHlwZSBPdGhlcnNBY2Nlc3MgPSBgb3RoZXJzJHtrZXlvZiB0eXBlb2YgTW9kdWxlVGl0bGV9YDtcblxuZXhwb3J0IGNsYXNzIEF1dGhvcml0eU1vZHVsZSBleHRlbmRzIE1vZHVsZVxue1xuICAgIGdldCBUaXRsZSgpOiBNb2R1bGVUaXRsZVxuICAgIHtcbiAgICAgICAgcmV0dXJuIE1vZHVsZVRpdGxlLkF1dGhvcml0eTtcbiAgICB9XG5cbiAgICBnZXQgU2V0dGluZ3MoKTogU2V0dGluZ1tdXG4gICAge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwic2V0dGluZ3NOb3RpZnlcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIk5vdGlmeSB3aGVuIG90aGVycyBhcmUgYWNjZXNzaW5nIFRhcmdldENoYXJhY3RlcidzIHNldHRpbmdzXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJvd25lcnNcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiXCIsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiT3duZXIgbWVtYmVyIG51bWJlcnM7IFNlcGVyYXRlZCBieSBhICxcIixcbiAgICAgICAgICAgICAgICBtYXhDaGFyczogMTAyNCxcbiAgICAgICAgICAgICAgICB3aWR0aDogNDAwXG4gICAgICAgICAgICB9IGFzIFRleHRTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJib3VuZEFjY2Vzc1NlbGZcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkFsbG93IFRhcmdldENoYXJhY3RlciBjaGFuZ2luZyBUYXJnZXRQcm9ub3VuUG9zc2Vzc2l2ZSBvd24gc2V0dGluZ3Mgd2hpbGUgYm91bmRcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImJvdW5kQWNjZXNzT3RoZXJzXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWxsb3cgVGFyZ2V0Q2hhcmFjdGVyIGNoYW5naW5nIHRoZSBzZXR0aW5ncyBvZiBvdGhlcnMgd2hpbGUgYm91bmRcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNlbGZBdXRob3JpdHlcIiBhcyBTZWxmQWNjZXNzLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWxsb3cgVGFyZ2V0Q2hhcmFjdGVyIHRvIGNoYW5nZSBUYXJnZXRQcm9ub3VuUG9zc2Vzc2l2ZSBBdXRob3JpdHkgc2V0dGluZ3NcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIm90aGVyc0F1dGhvcml0eVwiIGFzIE90aGVyc0FjY2VzcyxcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm9wdGlvblwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJDbHVib3duZXJcIixcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBvdGhlcnMgdG8gY2hhbmdlIFRhcmdldENoYXJhY3RlcidzIEF1dGhvcml0eSBzZXR0aW5nc1wiLFxuICAgICAgICAgICAgICAgIGxvb3A6IGZhbHNlXG4gICAgICAgICAgICB9IGFzIE9wdGlvblNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNlbGZQcm9maWxlXCIgYXMgU2VsZkFjY2VzcyxcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gUGxheWVyUChDKS5vdGhlcnNQcm9maWxlICE9PSBcIlNlbGZcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBUYXJnZXRDaGFyYWN0ZXIgdG8gY2hhbmdlIFRhcmdldFByb25vdW5Qb3NzZXNzaXZlIFByb2ZpbGUgc2V0dGluZ3NcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIm90aGVyc1Byb2ZpbGVcIiBhcyBPdGhlcnNBY2Nlc3MsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJvcHRpb25cIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogQVVUSE9SSVRZX0dST1VQX09QVElPTlMsXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiQ2x1Ym93bmVyXCIsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWxsb3cgb3RoZXJzIHRvIGNoYW5nZSBUYXJnZXRDaGFyYWN0ZXIncyBQcm9maWxlIHNldHRpbmdzXCIsXG4gICAgICAgICAgICAgICAgbG9vcDogZmFsc2UsXG4gICAgICAgICAgICAgICAgb25TZXQoQylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFBsYXllclAoQykuc2VsZlByb2ZpbGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gYXMgT3B0aW9uU2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwic2VsZkNsaWNrZXJcIiBhcyBTZWxmQWNjZXNzLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWxsb3cgVGFyZ2V0Q2hhcmFjdGVyIHRvIGNoYW5nZSBUYXJnZXRQcm9ub3VuUG9zc2Vzc2l2ZSBDbGlja2VyIHNldHRpbmdzXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJvdGhlcnNDbGlja2VyXCIgYXMgT3RoZXJzQWNjZXNzLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwib3B0aW9uXCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IEFVVEhPUklUWV9HUk9VUF9PUFRJT05TLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIkNsdWJvd25lclwiLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkFsbG93IG90aGVycyB0byBjaGFuZ2UgVGFyZ2V0Q2hhcmFjdGVyJ3MgQ2xpY2tlciBzZXR0aW5nc1wiLFxuICAgICAgICAgICAgICAgIGxvb3A6IGZhbHNlXG4gICAgICAgICAgICB9IGFzIE9wdGlvblNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNlbGZWaXJ0dWFsUGV0XCIgYXMgU2VsZkFjY2VzcyxcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkFsbG93IFRhcmdldENoYXJhY3RlciB0byBjaGFuZ2UgVGFyZ2V0UHJvbm91blBvc3Nlc3NpdmUgVmlydHVhbCBQZXQgc2V0dGluZ3NcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIm90aGVyc1ZpcnR1YWxQZXRcIiBhcyBPdGhlcnNBY2Nlc3MsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJvcHRpb25cIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogQVVUSE9SSVRZX0dST1VQX09QVElPTlMsXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiQ2x1Ym93bmVyXCIsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWxsb3cgb3RoZXJzIHRvIGNoYW5nZSBUYXJnZXRDaGFyYWN0ZXIncyBWaXJ0dWFsIFBldCBzZXR0aW5nc1wiLFxuICAgICAgICAgICAgICAgIGxvb3A6IGZhbHNlXG4gICAgICAgICAgICB9IGFzIE9wdGlvblNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNlbGZWaXJ0dWFsUGV0Q29uZGl0aW9uc1wiIGFzIFNlbGZBY2Nlc3MsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBUYXJnZXRDaGFyYWN0ZXIgdG8gY2hhbmdlIFRhcmdldFByb25vdW5Qb3NzZXNzaXZlIFZpcnR1YWwgUGV0IENvbmRpdGlvbnMgc2V0dGluZ3NcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIm90aGVyc1ZpcnR1YWxQZXRDb25kaXRpb25zXCIgYXMgT3RoZXJzQWNjZXNzLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwib3B0aW9uXCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IEFVVEhPUklUWV9HUk9VUF9PUFRJT05TLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIkNsdWJvd25lclwiLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkFsbG93IG90aGVycyB0byBjaGFuZ2UgVGFyZ2V0Q2hhcmFjdGVyJ3MgVmlydHVhbCBQZXQgQ29uZGl0aW9ucyBzZXR0aW5nc1wiLFxuICAgICAgICAgICAgICAgIGxvb3A6IGZhbHNlXG4gICAgICAgICAgICB9IGFzIE9wdGlvblNldHRpbmdcbiAgICAgICAgXTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBiY3hBUEksIGJjeEZvdW5kLCBIb29rRnVuY3Rpb24gfSBmcm9tIFwiLi4vdXRpbC9zZGtcIjtcbmltcG9ydCB7IEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeSwgUmVtb3ZlT09DQ29udGVudEZyb21NZXNzYWdlIH0gZnJvbSBcIi4uL3V0aWwvbWVzc2FnaW5nXCI7XG5pbXBvcnQgeyBBdXRob3JpdHlHcm91cCwgSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cCB9IGZyb20gXCIuLi91dGlsL2F1dGhvcml0eVwiO1xuaW1wb3J0IHsgTW9kdWxlLCBNb2R1bGVUaXRsZSB9IGZyb20gXCIuL19tb2R1bGVcIjtcbmltcG9ydCB7IElzSGFyZGNvcmVPbiB9IGZyb20gXCIuL3Byb2ZpbGVcIjtcblxuaW1wb3J0IGNsaWNrZXIxIGZyb20gXCIuLi8uLi9hc3NldHMvY2xpY2tlcjEubXAzXCI7XG5pbXBvcnQgY2xpY2tlcjIgZnJvbSBcIi4uLy4uL2Fzc2V0cy9jbGlja2VyMi5tcDNcIjtcbmltcG9ydCBjbGlja2VyMyBmcm9tIFwiLi4vLi4vYXNzZXRzL2NsaWNrZXIzLm1wM1wiO1xuXG4vLyBDbGlja2VyIHNvdW5kcyB0byBwbGF5XG4vLyBBbiBhcnJheSBvZiBhdWRpbyBmaWxlcywgMSBjbGljayBpbiBpbmRleCAwLCBuKzEgY2xpY2tzIGluIGluZGV4IG5cbmNvbnN0IEFMTF9DTElDS1M6IEhUTUxBdWRpb0VsZW1lbnRbXSA9XG5bXG4gICAgbmV3IEF1ZGlvKGNsaWNrZXIxKSxcbiAgICBuZXcgQXVkaW8oY2xpY2tlcjIpLFxuICAgIG5ldyBBdWRpbyhjbGlja2VyMylcbl07XG5cbi8qKlxuICogR2V0IHRoZSBDbGlja2VyIHNldHRpbmdzIG9mIHRoZSBQbGF5ZXJcbiAqL1xuY29uc3QgUGxheWVyQzogKEM/OiBDaGFyYWN0ZXIpID0+IE1QQVJlY29yZCA9IChDOiBDaGFyYWN0ZXIgPSBQbGF5ZXIpID0+XG57XG4gICAgcmV0dXJuIEMuTVBBPy5bTW9kdWxlVGl0bGUuQ2xpY2tlcl0gPz8ge307XG59O1xuXG4vKipcbiAqIEdldCB0aGUgdG90YWwgbnVtYmVyIG9mIGNsaWNrcyBpbiBhIHN0cmluZ1xuICovXG5mdW5jdGlvbiBDbGlja0NvdW50KHN0cjogc3RyaW5nID0gXCJcIik6IG51bWJlclxue1xuICAgIGxldCB0b3RhbENsaWNrcyA9IDA7XG4gICAgKFBsYXllckMoKS50cmlnZ2VycyBhcyBzdHJpbmcpXG4gICAgICAgIC5zcGxpdChcIixcIilcbiAgICAgICAgLm1hcCgoc3RyOiBzdHJpbmcpID0+IHN0ci50cmltKCkpXG4gICAgICAgIC5maWx0ZXIoKHN0cikgPT4gc3RyICE9PSBcIlwiKVxuICAgICAgICAuZm9yRWFjaCgodHJpZ2dlcikgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgdG90YWxDbGlja3MgKz0gc3RyLnRvTG9jYWxlTG93ZXJDYXNlKCkubWF0Y2gobmV3IFJlZ0V4cCh0cmlnZ2VyLnRvTG9jYWxlTG93ZXJDYXNlKCksIFwiZ1wiKSk/Lmxlbmd0aCA/PyAwO1xuICAgICAgICB9KTtcbiAgICByZXR1cm4gdG90YWxDbGlja3M7XG59XG5cbi8qKlxuICogUGxheSBjbGlja3MgdG8gdGhlIHVzZXJcbiAqL1xuZnVuY3Rpb24gUGxheUNsaWNrZXJTb3VuZChudW1iZXJPZkNsaWNrczogbnVtYmVyID0gMCk6IHZvaWRcbntcbiAgICBpZiAoXG4gICAgICAgIGlzTmFOKG51bWJlck9mQ2xpY2tzKVxuICAgICAgICB8fCBudW1iZXJPZkNsaWNrcyA8PSAwXG4gICAgICAgIHx8ICFQbGF5ZXJDKCkuZW5hYmxlZFxuICAgIClcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBBTExfQ0xJQ0tTW01hdGgubWluKG51bWJlck9mQ2xpY2tzIC0gMSwgQUxMX0NMSUNLUy5sZW5ndGggLSAxKV0ucGxheSgpO1xufVxuXG5sZXQgYmN4SG9va2VkID0gZmFsc2U7XG5mdW5jdGlvbiBIb29rQkNYQ2xpY2tlcigpOiB2b2lkXG57XG4gICAgaWYgKGJjeEZvdW5kKCkgJiYgIWJjeEhvb2tlZClcbiAgICB7XG4gICAgICAgIGJjeEFQSSgpPy5vbj8uKFwiYmN4TG9jYWxNZXNzYWdlXCIsIChkYXRhOiBhbnkpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBkYXRhPy5tZXNzYWdlIGFzIHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNvbnN0IHByZWZpeCA9IFwiW1ZvaWNlXSBcIjtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBQbGF5ZXJDKCkuZW5hYmxlZFxuICAgICAgICAgICAgICAgICYmIFBsYXllckMoKS5iY3hWb2ljZVxuICAgICAgICAgICAgICAgICYmIG1lc3NhZ2U/LnN0YXJ0c1dpdGgocHJlZml4KVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFBsYXlDbGlja2VyU291bmQoQ2xpY2tDb3VudChtZXNzYWdlLnN1YnN0cmluZyhwcmVmaXgubGVuZ3RoKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgYmN4SG9va2VkID0gdHJ1ZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDbGlja2VyTW9kdWxlIGV4dGVuZHMgTW9kdWxlXG57XG4gICAgLy8gQkNYIGhvb2sgb25seSBsb2FkcyBvbmNlLCB1bmtub3duIGlmIGNhbiB1bmhvb2sgZm9yIFVubG9hZCgpXG4gICAgaGFzQmVlbkxvYWRlZCA9IGZhbHNlO1xuXG4gICAgZ2V0IFRpdGxlKCk6IE1vZHVsZVRpdGxlXG4gICAge1xuICAgICAgICByZXR1cm4gTW9kdWxlVGl0bGUuQ2xpY2tlcjtcbiAgICB9XG5cbiAgICBnZXQgQWN0aXZpdGllcygpOiBDdXN0b21BY3Rpdml0eVtdXG4gICAge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIE5hbWU6IFwiQ2xpY2tlcjFcIixcbiAgICAgICAgICAgICAgICBNYXhQcm9ncmVzczogNTAsXG4gICAgICAgICAgICAgICAgUHJlcmVxdWlzaXRlOiBbXCJVc2VIYW5kc1wiXSxcbiAgICAgICAgICAgICAgICBDdXN0b21QcmVyZXF1aXNpdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgTmFtZTogXCJIb2xkaW5nQ2xpY2tlclwiLFxuICAgICAgICAgICAgICAgICAgICBQcmVyZXF1aXNpdGU6IChhY3RpbmcsIF9hY3RlZCwgX2dyb3VwKSA9PlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSW52ZW50b3J5R2V0KGFjdGluZywgXCJJdGVtSGFuZGhlbGRcIik/LkFzc2V0Py5OYW1lPy50b0xvY2FsZUxvd2VyQ2FzZSgpPy5pbmNsdWRlcyhcInJlbW90ZVwiKSA/PyBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgVGFyZ2V0czogW3tcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IFwiSXRlbUhhbmRzXCIsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkNsaWNrIE9uY2VcIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uU2VsZjogXCJTb3VyY2VDaGFyYWN0ZXIgcHJlc3NlcyB0aGUgYnV0dG9uIG9uIFByb25vdW5Qb3NzZXNzaXZlIGNsaWNrZXIuXCJcbiAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgICAgICBJbWFnZTogXCJJY29ucy9BdWRpb09uLnBuZ1wiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgTmFtZTogXCJDbGlja2VyMlwiLFxuICAgICAgICAgICAgICAgIE1heFByb2dyZXNzOiA1MCxcbiAgICAgICAgICAgICAgICBQcmVyZXF1aXNpdGU6IFtcIlVzZUhhbmRzXCJdLFxuICAgICAgICAgICAgICAgIEN1c3RvbVByZXJlcXVpc2l0ZToge1xuICAgICAgICAgICAgICAgICAgICBOYW1lOiBcIkhvbGRpbmdDbGlja2VyXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFRhcmdldHM6IFt7XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwOiBcIkl0ZW1IYW5kc1wiLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJDbGljayBUd2ljZVwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25TZWxmOiBcIlNvdXJjZUNoYXJhY3RlciBwcmVzc2VzIHRoZSBidXR0b24gb24gUHJvbm91blBvc3Nlc3NpdmUgY2xpY2tlciB0d2ljZS5cIlxuICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgICAgIEltYWdlOiBcIkljb25zL0F1ZGlvT24ucG5nXCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBOYW1lOiBcIkNsaWNrZXIzXCIsXG4gICAgICAgICAgICAgICAgTWF4UHJvZ3Jlc3M6IDUwLFxuICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogW1wiVXNlSGFuZHNcIl0sXG4gICAgICAgICAgICAgICAgQ3VzdG9tUHJlcmVxdWlzaXRlOiB7XG4gICAgICAgICAgICAgICAgICAgIE5hbWU6IFwiSG9sZGluZ0NsaWNrZXJcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgVGFyZ2V0czogW3tcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IFwiSXRlbUhhbmRzXCIsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkNsaWNrIFRocmljZVwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25TZWxmOiBcIlNvdXJjZUNoYXJhY3RlciBwcmVzc2VzIHRoZSBidXR0b24gb24gUHJvbm91blBvc3Nlc3NpdmUgY2xpY2tlciB0aHJlZSB0aW1lcy5cIlxuICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgICAgIEltYWdlOiBcIkljb25zL0F1ZGlvT24ucG5nXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBnZXQgU2V0dGluZ3MoKTogU2V0dGluZ1tdXG4gICAge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiZW5hYmxlZFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhSXNIYXJkY29yZU9uKEMpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJFbmFibGUgYXVkaXRvcnkgY2xpY2tlclwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwidHJpZ2dlcnNcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllckMoQykuZW5hYmxlZCxcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJ+Y2xpY2t+XCIsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiUGhyYXNlcyB0aGF0IHRyaWdnZXIgdGhlIGNsaWNrOyBTZXBhcmF0ZSBwaHJhc2VzIHdpdGggYSBjb21tYVwiLFxuICAgICAgICAgICAgICAgIHdpZHRoOiAzODQsXG4gICAgICAgICAgICAgICAgbWF4Q2hhcnM6IG51bGxcbiAgICAgICAgICAgIH0gYXMgVGV4dFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNlbGZBdXRoZWRcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJDKEMpLmVuYWJsZWQgJiYgUGxheWVyQyhDKS5hdXRoZWRHcm91cCAhPT0gXCJTZWxmXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWxsb3cgeW91ciBvd24gY2hhdCwgZW1vdGVzLCAmIGFjdGlvbnMgdG8gdHJpZ2dlciB0aGUgY2xpY2tlclwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiYXV0aGVkR3JvdXBcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm9wdGlvblwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyQyhDKS5lbmFibGVkLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIkZyaWVuZHNcIiBhcyBBdXRob3JpdHlHcm91cCxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBbXCJQdWJsaWNcIiwgXCJGcmllbmRzXCIsIFwiV2hpdGVsaXN0XCIsIFwiTG92ZXJzXCIsIFwiT3duZXJzXCIsIFwiQ2x1Ym93bmVyXCIsIFwiU2VsZlwiXSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJXaG8gd2lsbCBiZSBhYmxlIHRvIHRyaWdnZXIgdGhlIGNsaWNrZXJcIixcbiAgICAgICAgICAgICAgICBsb29wOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBvblNldChDKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFBsYXllckMoQykuYXV0aGVkR3JvdXAgPT09IFwiU2VsZlwiKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBQbGF5ZXJDKEMpLnNlbGZBdXRoZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBhcyBPcHRpb25TZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJiY3hWb2ljZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllckMoQykuZW5hYmxlZCAmJiBiY3hGb3VuZCgpICYmICFJc0hhcmRjb3JlT24oQyksXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWxsb3cgQkNYIExpc3RlbiB0byBteSB2b2ljZSBydWxlIHRvIHRyaWdnZXIgdGhlIGNsaWNrZXI7IFJlcXVpcmVzIEJDWFwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZ1xuICAgICAgICBdO1xuICAgIH1cblxuICAgIExvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3VwZXIuTG9hZCgpO1xuXG4gICAgICAgIC8vIENoYXQsIHdoaXNwZXIsIGVtb3RlLCBhbmQgYWN0aW9uIHRyaWdnZXJzXG4gICAgICAgIEhvb2tGdW5jdGlvbihNb2R1bGVUaXRsZS5DbGlja2VyLCBcIkNoYXRSb29tTWVzc2FnZVwiLCAwLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGFyZ3NbMF07XG4gICAgICAgICAgICAvLyBJZiBjbGlja2VyIGlzIG5vdCBlbmFibGVkIG9yIGludmFsaWQgZGF0YSwgc2tpcFxuICAgICAgICAgICAgLy8gTWVzc2FnZSBzZW5kZXIgbm90IGF1dGhlZCwgc2tpcFxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICFQbGF5ZXJDKCkuZW5hYmxlZFxuICAgICAgICAgICAgICAgIHx8ICFhcmdzWzBdPy5UeXBlXG4gICAgICAgICAgICAgICAgfHwgIWFyZ3NbMF0/LkNvbnRlbnRcbiAgICAgICAgICAgICAgICB8fCAhYXJnc1swXT8uU2VuZGVyXG4gICAgICAgICAgICAgICAgfHwgIUlzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAoZGF0YS5TZW5kZXIhLCBQbGF5ZXJDKCkuYXV0aGVkR3JvdXAgYXMgQXV0aG9yaXR5R3JvdXAsIFBsYXllckMoKS5zZWxmQXV0aGVkIGFzIGJvb2xlYW4pKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgY2xpY2tzOiBudW1iZXIgPSAwO1xuICAgICAgICAgICAgY29uc3Qgc2VhcmNoVGFnID0gYE1JU1NJTkcgQUNUSVZJVFkgREVTQ1JJUFRJT04gRk9SIEtFWVdPUkQgJHtkYXRhLkNvbnRlbnR9YDtcbiAgICAgICAgICAgIHN3aXRjaCAoZGF0YS5UeXBlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIENvdW50IHRoZSBjbGlja3MgaW4gYW4gZW1vdGUgb3IgY2hhdFxuICAgICAgICAgICAgICAgIGNhc2UgXCJDaGF0XCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIkVtb3RlXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIldoaXNwZXJcIjpcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tzID0gQ2xpY2tDb3VudChSZW1vdmVPT0NDb250ZW50RnJvbU1lc3NhZ2UoZGF0YS5Db250ZW50KSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgLy8gQ291bnQgdGhlIGNsaWNrcyBpbiBhbiBhY3Rpb24sIChzdXBwb3J0IGN1c3RvbSBhY3Rpb25zKVxuICAgICAgICAgICAgICAgIGNhc2UgXCJBY3Rpb25cIjpcbiAgICAgICAgICAgICAgICAgICAgLy8gQmVlcHNcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuQ29udGVudCA9PSBcIkJlZXBcIilcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2tzID0gQ2xpY2tDb3VudCgoZGF0YT8uRGljdGlvbmFyeT8uZmlsdGVyKCh4KSA9PiAoeCBhcyBUZXh0RGljdGlvbmFyeUVudHJ5KS5UYWcgPT0gXCJCZWVwXCIpWzBdIGFzIFRleHREaWN0aW9uYXJ5RW50cnkpPy5UZXh0ID8/IFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIE1CQ0ggYWN0aW9uc1xuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChkYXRhLkRpY3Rpb25hcnk/LnJlZHVjZSgoYWNjLCBjdXJyKSA9PiBhY2MgfHwgKChjdXJyIGFzIGFueSkuVGFnID09PSBcIk1JU1NJTkcgVEVYVCBJTiBcXFwiSW50ZXJmYWNlLmNzdlxcXCI6IFwiICYmIChjdXJyIGFzIGFueSkuVGV4dCA9PT0gXCJcXHUyMDBjXCIpLCBmYWxzZSkpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrcyA9IENsaWNrQ291bnQoZGF0YS5Db250ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBCQ1ggYWN0aW9uc1xuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaWNrcyA9IENsaWNrQ291bnQoKGRhdGE/LkRpY3Rpb25hcnk/LmZpbHRlcigoeCkgPT4gKHggYXMgVGV4dERpY3Rpb25hcnlFbnRyeSkuVGFnID09IGBNSVNTSU5HIFRFWFQgSU4gXCJJbnRlcmZhY2UuY3N2XCI6ICR7ZGF0YT8uQ29udGVudH1gKVswXSBhcyBUZXh0RGljdGlvbmFyeUVudHJ5KT8uVGV4dCA/PyBcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIC8vIENvdW50IHRoZSBjbGlja3MgaW4gYW4gYWN0aXZpdHlcbiAgICAgICAgICAgICAgICBjYXNlIFwiQWN0aXZpdHlcIjpcbiAgICAgICAgICAgICAgICAgICAgLy8gRWNobyBjdXN0b20gYWN0aW9uc1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YT8uRGljdGlvbmFyeT8uc29tZSgoaXRlbSkgPT4gKGl0ZW0gYXMgVGV4dERpY3Rpb25hcnlFbnRyeSk/LlRhZyA9PT0gc2VhcmNoVGFnKSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2tzID0gQ2xpY2tDb3VudCgoZGF0YT8uRGljdGlvbmFyeT8uZmlsdGVyKCh4KSA9PiAoeCBhcyBUZXh0RGljdGlvbmFyeUVudHJ5KS5UYWcgPT09IHNlYXJjaFRhZylbMF0gYXMgVGV4dERpY3Rpb25hcnlFbnRyeSk/LlRleHQgPz8gXCJcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUGxheSB0aGUgY2xpY2tzIGlmIG5lZWRlZFxuICAgICAgICAgICAgUGxheUNsaWNrZXJTb3VuZChjbGlja3MpO1xuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEhhbmQgY2xpY2tlciBhY3Rpdml0eSB0cmlnZ2VyXG4gICAgICAgIEhvb2tGdW5jdGlvbihNb2R1bGVUaXRsZS5DbGlja2VyLCBcIkNoYXRSb29tTWVzc2FnZVwiLCAwLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgbmV4dChhcmdzKTtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhcmdzWzBdO1xuICAgICAgICAgICAgLy8gRm9yIHNvbWUgcmVhc29uIF9hLmZpbmQgaXMgbm90IGRlZmluZWRcbiAgICAgICAgICAgIC8vIEkgZG9uJ3Qga25vdyB3aHksIG9yIHdoeSBub3RcbiAgICAgICAgICAgIC8vIEJ1ZyBpcyBTY2hyw7ZkaW5nZXIncyBidWcsIGl0IG9ubHkgZXhpc3RzIHdoZW4gSSBkb24ndCBvYnNlcnZlIGl0XG4gICAgICAgICAgICAvLyBMb2dnaW5nIHRoZSBkYXRhIG9iamVjdCBhbmQgdGhlIGJ1ZyB2YW5pc2hlcy4uLlxuICAgICAgICAgICAgLy8gRWRpdDogTWFkZSBmcmFtZXdvcmsgdG8gaGFuZGxlIGZpbmRpbmcgYXR0cmlidXRlcyBmcm9tIENoYXRNZXNzYWdlRGljdGlvbmFyeS4gTm8gaXNzdWVzLi4uLi4gc28gZmFyLi4uXG4gICAgICAgICAgICBjb25zdCBhY3Rpdml0eU5hbWUgPSBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJBY3Rpdml0eU5hbWVcIikgYXMgc3RyaW5nO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIFBsYXllckMoKS5lbmFibGVkXG4gICAgICAgICAgICAgICAgJiYgZGF0YS5UeXBlID09PSBcIkFjdGl2aXR5XCJcbiAgICAgICAgICAgICAgICAmJiBhY3Rpdml0eU5hbWU/LnN0YXJ0c1dpdGgoXCJNUEFfQ2xpY2tlclwiKVxuICAgICAgICAgICAgICAgICYmIElzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAoZGF0YS5TZW5kZXIhLCBQbGF5ZXJDKCkuYXV0aGVkR3JvdXAgYXMgQXV0aG9yaXR5R3JvdXAsIFBsYXllckMoKS5zZWxmQXV0aGVkIGFzIGJvb2xlYW4pXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgUGxheUNsaWNrZXJTb3VuZChOdW1iZXIoYWN0aXZpdHlOYW1lLnNsaWNlKC0xKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBIb29rIGludG8gQkNYIGxpc3RlbiB0byB2b2ljZSwgbWF5IG5vdCBiZSBsb2FkZWQgcmlnaHQgYXdheSwgd2FpdCAxNSBzZWNvbmRzXG4gICAgICAgIGlmICghdGhpcy5oYXNCZWVuTG9hZGVkKVxuICAgICAgICB7XG4gICAgICAgICAgICBIb29rQkNYQ2xpY2tlcigpO1xuICAgICAgICAgICAgY29uc3QgaW52ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChiY3hIb29rZWQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludmVydmFsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgSG9va0JDWENsaWNrZXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCA2MDAwMCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5oYXNCZWVuTG9hZGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBVbmxvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3VwZXIuVW5sb2FkKCk7XG4gICAgfVxufVxuIiwiLy8gTmV2ZXIgc2VuZCBQcml2YXRlIE1QQSBkYXRhIGFjcm9zcyB0aGUgc2VydmVyIGFuZCBuZXZlciBhY2NlcHQgUHJpdmF0ZSBNUEEgZGF0YVxuaW1wb3J0IHsgSG9va0Z1bmN0aW9uIH0gZnJvbSBcIi4uL3V0aWwvc2RrXCI7XG5pbXBvcnQgeyBNb2R1bGUsIE1vZHVsZUlzUHVibGljLCBNb2R1bGVUaXRsZSB9IGZyb20gXCIuL19tb2R1bGVcIjtcbmltcG9ydCB7IEZpbmRDaGFyYWN0ZXJJblJvb20sIEdldE1QQU1lc3NhZ2VGcm9tQ2hhdCwgSG9va2VkTWVzc2FnZSwgaG9va2VkTWVzc2FnZXMsIE1QQU1lc3NhZ2VDb250ZW50LCBTZW5kTVBBTWVzc2FnZSB9IGZyb20gXCIuLi91dGlsL21lc3NhZ2luZ1wiO1xuXG4vKipcbiAqIFN5bmMgYWxsIG9mIHlvdXIgY3VycmVudCBzZXR0aW5ncyB3aXRoIGV2ZXJ5b25lIGVsc2VcbiAqIEBwYXJhbSByZXBseSAtIElmIHdlIHdhbnQgb3RoZXJzIHRvIHNoYXJlIHRoZWlyIHNldHRpbmdzIGJhY2tcbiAqIEBwYXJhbSB0YXJnZXQgLSBTaGFyZSBvbmx5IHRvIHRoaXMgb25lIE1lbWJlck51bWJlclxuICovXG5leHBvcnQgZnVuY3Rpb24gU2V0dGluZ1N5bmMocmVwbHk6IGJvb2xlYW4gPSBmYWxzZSwgdGFyZ2V0PzogbnVtYmVyKTogdm9pZFxue1xuICAgIGNvbnN0IHNldHRpbmdzID0gc3RydWN0dXJlZENsb25lKFBsYXllci5NUEEpO1xuICAgIE9iamVjdC5rZXlzKHNldHRpbmdzKS5mb3JFYWNoKChtb2R1bGVUaXRsZSkgPT5cbiAgICB7XG4gICAgICAgIGlmICghTW9kdWxlSXNQdWJsaWMobW9kdWxlVGl0bGUgYXMgTW9kdWxlVGl0bGUpKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZWxldGUgc2V0dGluZ3NbbW9kdWxlVGl0bGVdO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgU2VuZE1QQU1lc3NhZ2Uoe1xuICAgICAgICBtZXNzYWdlOiBcIlNldHRpbmdTeW5jXCIsXG4gICAgICAgIHNldHRpbmdzOiBzZXR0aW5ncyxcbiAgICAgICAgcmVwbHk6IHJlcGx5XG4gICAgfSwgdGFyZ2V0KTtcbn1cblxuLyoqXG4gKiBTeW5jIGFsbCBvZiB5b3VyIGN1cnJlbnQgc2V0dGluZ3Mgb2YgYSBnaXZlbiBjYXRlZ29yeSB3aXRoIG90aGVyc1xuICogQHBhcmFtIGNhdGVnb3J5IC0gV2hpY2ggTW9kdWxlVGl0bGUgY2F0ZWdvcnkgdG8gc2hhcmVcbiAqIEBwYXJhbSB0YXJnZXQgLSBTaGFyZSBvbmx5IHRvIHRoaXMgb25lIE1lbWJlck51bWJlclxuICovXG5leHBvcnQgZnVuY3Rpb24gQ2F0ZWdvcnlTeW5jKGNhdGVnb3J5OiBNb2R1bGVUaXRsZSwgdGFyZ2V0PzogbnVtYmVyKTogdm9pZFxue1xuICAgIGlmICghTW9kdWxlSXNQdWJsaWMoY2F0ZWdvcnkpKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBTZW5kTVBBTWVzc2FnZSh7XG4gICAgICAgIG1lc3NhZ2U6IFwiQ2F0ZWdvcnlTeW5jXCIsXG4gICAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeSxcbiAgICAgICAgdmFsdWU6IFBsYXllci5NUEFbY2F0ZWdvcnldXG4gICAgfSwgdGFyZ2V0KTtcbn1cblxuLyoqXG4gKiBTeW5jIG9ubHkgYSBzaW5nbGUgcmVjb3JkIGZyb20gYSBnaXZlbiBjYXRlZ29yeSB3aXRoIG90aGVyc1xuICogQHBhcmFtIGNhdGVnb3J5IC0gV2hpY2ggTW9kdWxlVGl0bGUgY2F0ZWdvcnkgdG8gc2hhcmVcbiAqIEBwYXJhbSByZWNvcmQgLSBSZWNvcmQgd2l0aGluIE1vZHVsZVRpdGxlIHlvdSB3YW50IHRvIHNoYXJlXG4gKiBAcGFyYW0gdGFyZ2V0IC0gU2hhcmUgb25seSB0byB0aGlzIG9uZSBNZW1iZXJOdW1iZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFJlY29yZFN5bmMoY2F0ZWdvcnk6IE1vZHVsZVRpdGxlLCByZWNvcmQ6IHN0cmluZywgdGFyZ2V0PzogbnVtYmVyKTogdm9pZFxue1xuICAgIFJlY29yZHNTeW5jKFt7IGNhdGVnb3J5OiBjYXRlZ29yeSwgcmVjb3JkOiByZWNvcmQgfV0sIHRhcmdldCk7XG59XG5cbnR5cGUgVHJhbnNtaXRSZWNvcmRzID0geyBjYXRlZ29yeTogTW9kdWxlVGl0bGU7IHJlY29yZDogc3RyaW5nOyB2YWx1ZT86IGFueSB9W107XG4vKipcbiAqIFN5bmMgbXVsdGlwbGUgcmVjb3JkcyBmcm9tIGFueSBnaXZlbiBjYXRlZ29yeSB3aXRoIG90aGVyc1xuICogQHBhcmFtIHJlY29yZHMuY2F0ZWdvcnkgLSBXaGljaCBNb2R1bGVUaXRsZSBjYXRlZ29yeSB0byBzaGFyZVxuICogQHBhcmFtIHJlY29yZHMucmVjb3JkIC0gUmVjb3JkIHdpdGhpbiBNb2R1bGVUaXRsZSB5b3Ugd2FudCB0byBzaGFyZVxuICogQHBhcmFtIHRhcmdldCAtIFNoYXJlIG9ubHkgdG8gdGhpcyBvbmUgTWVtYmVyTnVtYmVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBSZWNvcmRzU3luYyhyZWNvcmRzOiBUcmFuc21pdFJlY29yZHMsIHRhcmdldD86IG51bWJlcik6IHZvaWRcbntcbiAgICBmb3IgKGxldCBpID0gcmVjb3Jkcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICB7XG4gICAgICAgIGNvbnN0IHJlY29yZCA9IHJlY29yZHNbaV07XG4gICAgICAgIGlmICghTW9kdWxlSXNQdWJsaWMocmVjb3JkLmNhdGVnb3J5KSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmVjb3Jkcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICByZWNvcmQudmFsdWUgPSBQbGF5ZXIuTVBBW3JlY29yZC5jYXRlZ29yeV1bcmVjb3JkLnJlY29yZF07XG4gICAgfVxuICAgIGlmIChyZWNvcmRzLmxlbmd0aCA9PT0gMClcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgU2VuZE1QQU1lc3NhZ2Uoe1xuICAgICAgICBtZXNzYWdlOiBcIlJlY29yZHNTeW5jXCIsXG4gICAgICAgIHJlY29yZHM6IHJlY29yZHNcbiAgICB9LCB0YXJnZXQpO1xufVxuXG5leHBvcnQgY2xhc3MgRGF0YVN5bmNNb2R1bGUgZXh0ZW5kcyBNb2R1bGVcbntcbiAgICBnZXQgVGl0bGUoKTogTW9kdWxlVGl0bGVcbiAgICB7XG4gICAgICAgIHJldHVybiBNb2R1bGVUaXRsZS5EYXRhU3luYztcbiAgICB9XG5cbiAgICBnZXQgU3luY0xpc3RlbmVycygpOiBIb29rZWRNZXNzYWdlW11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbW9kdWxlOiBNb2R1bGVUaXRsZS5EYXRhU3luYyxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlNldHRpbmdTeW5jXCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoc2VuZGVyOiBDaGFyYWN0ZXIsIGNvbnRlbnQ6IE1QQU1lc3NhZ2VDb250ZW50KTogdm9pZFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbmRlci5NZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXIpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzZW5kZXIuTVBBID0gY29udGVudC5zZXR0aW5ncztcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnQucmVwbHkpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFNldHRpbmdTeW5jKGZhbHNlLCBzZW5kZXIuTWVtYmVyTnVtYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBtb2R1bGU6IE1vZHVsZVRpdGxlLkRhdGFTeW5jLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQ2F0ZWdvcnlTeW5jXCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoc2VuZGVyOiBDaGFyYWN0ZXIsIGNvbnRlbnQ6IE1QQU1lc3NhZ2VDb250ZW50KTogdm9pZFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbmRlci5NZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXIpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIXNlbmRlci5NUEEpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFNldHRpbmdTeW5jKGZhbHNlLCBzZW5kZXIuTWVtYmVyTnVtYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRlci5NUEFbY29udGVudC5jYXRlZ29yeV0gPSBjb250ZW50LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIG1vZHVsZTogTW9kdWxlVGl0bGUuRGF0YVN5bmMsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJSZWNvcmRzU3luY1wiLFxuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKHNlbmRlcjogQ2hhcmFjdGVyLCBjb250ZW50OiBNUEFNZXNzYWdlQ29udGVudCk6IHZvaWRcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZW5kZXIuTWVtYmVyTnVtYmVyID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCByZWNvcmQgb2YgY29udGVudC5yZWNvcmRzIGFzIFRyYW5zbWl0UmVjb3JkcylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzZW5kZXI/Lk1QQT8uW3JlY29yZC5jYXRlZ29yeV0pXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2F0ZWdvcnlTeW5jKGNvbnRlbnQuY2F0ZWdvcnksIHNlbmRlci5NZW1iZXJOdW1iZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRlci5NUEFbcmVjb3JkLmNhdGVnb3J5XVtyZWNvcmQucmVjb3JkXSA9IHJlY29yZC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBMb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLkxvYWQoKTtcblxuICAgICAgICAvLyBNUEEgbG9hZGVkIGluIGEgY2hhdHJvb20sIFN5bmMgd2l0aCBvdGhlcnMgaW4gdGhlIHJvb21cbiAgICAgICAgaWYgKENoYXRSb29tQ2hhcmFjdGVyLmxlbmd0aCAhPT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgU2V0dGluZ1N5bmModHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBXaGVuIGpvaW5pbmcgYSByb29tLCBzeW5jIE1QQSBzZXR0aW5ncyB3aXRoIGV2ZXJ5b25lIGVsc2VcbiAgICAgICAgSG9va0Z1bmN0aW9uKE1vZHVsZVRpdGxlLkRhdGFTeW5jLCBcIkNoYXRSb29tU3luY1wiLCAwLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgbmV4dChhcmdzKTtcbiAgICAgICAgICAgIFNldHRpbmdTeW5jKHRydWUpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBTeW5jIHJlcXVlc3QsIGhhbmRsZSBhbmQgcmVwbHkgaWYgbmVlZGVkXG4gICAgICAgIEhvb2tGdW5jdGlvbihNb2R1bGVUaXRsZS5EYXRhU3luYywgXCJDaGF0Um9vbU1lc3NhZ2VcIiwgMCwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhcmdzWzBdO1xuICAgICAgICAgICAgY29uc3QgY29udGVudCA9IEdldE1QQU1lc3NhZ2VGcm9tQ2hhdChkYXRhKTtcbiAgICAgICAgICAgIGlmICghY29udGVudClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHNlbmRlciA9IEZpbmRDaGFyYWN0ZXJJblJvb20oZGF0YS5TZW5kZXIgPz8gXCJcIiwgeyBNZW1iZXJOdW1iZXI6IHRydWUsIE5hbWU6IGZhbHNlLCBOaWNrTmFtZTogZmFsc2UgfSk7XG4gICAgICAgICAgICBpZiAoIXNlbmRlcilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSGFuZGxlIHRoZSBkYXRhIGxpc3RlbmVyc1xuICAgICAgICAgICAgaG9va2VkTWVzc2FnZXMuZm9yRWFjaCgoaG9vaykgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoY29udGVudC5tZXNzYWdlID09PSBob29rLm1lc3NhZ2UpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBob29rLmFjdGlvbihzZW5kZXIsIGNvbnRlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBVbmxvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3VwZXIuVW5sb2FkKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgSG9va0Z1bmN0aW9uIH0gZnJvbSBcIi4uL3V0aWwvc2RrXCI7XG5pbXBvcnQgeyBNb2R1bGUsIE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4vX21vZHVsZVwiO1xuXG5leHBvcnQgbGV0IGRlYWZlblByb2Nlc3MgPSBmYWxzZTtcblxuZXhwb3J0IGNsYXNzIFByaXZhdGVNb2R1bGUgZXh0ZW5kcyBNb2R1bGVcbntcbiAgICBnZXQgVGl0bGUoKTogTW9kdWxlVGl0bGVcbiAgICB7XG4gICAgICAgIHJldHVybiBNb2R1bGVUaXRsZS5Qcml2YXRlO1xuICAgIH1cblxuICAgIGdldCBTZXR0aW5ncygpOiBTZXR0aW5nW11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJzYXZlZEJlZFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwicmVjb3JkXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiXCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNhdmVkQm93bFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwicmVjb3JkXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBMb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIC8vIEkgaGF0ZSB0aGF0IHRoaXMgaXMgdGhlIGJlc3Qgd2F5IEkgY291bGQgdGhpbmsgb2YgY2hlY2tpbmcgaWYgc3BlZWNoIGdhcmJsZSBpcyBnYWdnaW5nIG9yIGRlYWZlbmluZ1xuICAgICAgICAvLyBCRUNBVVNFIE9GIENPVVJTRSBUSEVZIEFSRSBUSEUgRVhBQ1QgU0FNRSBDQUxMXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIlNwZWVjaFRyYW5zZm9ybVByb2Nlc3NcIiwgMTAsIChbQywgdGV4dCwgZWZmZWN0cywgaWdub3JlT09DXSwgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgLy8gUmVtb3ZlIGRlYWZlbiBiZWZvcmUgaXQgaGFwcGVucyBidXQgcmVtZW1lYmVyIGlmIGl0IHdhcyB0aGVyZVxuICAgICAgICAgICAgbGV0IGhhZERlYWZlbiA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKGVmZmVjdHMuaW5jbHVkZXMoXCJkZWFmZW5cIikpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaGFkRGVhZmVuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBlZmZlY3RzID0gZWZmZWN0cy5maWx0ZXIoKGVmZmVjdCkgPT4gZWZmZWN0ICE9PSBcImRlYWZlblwiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTGV0IGFsbCBvdGhlciBzcGVlY2ggcHJvY2Vzc2luZyBoYXBwZW4sIGRlYWZlbiB3aWxsIG5vdFxuICAgICAgICAgICAgY29uc3Qgb3V0cHV0ID0gbmV4dChbQywgdGV4dCwgZWZmZWN0cywgaWdub3JlT09DXSk7XG5cbiAgICAgICAgICAgIC8vIE5vdyBkbyB0aGUgZGVhZmVuIGNoZWNrIHRoYXQgd2FzIG5vdCBkb25lIGJlZm9yZSB0byBhZGQgcGFyYW1ldGVyIHRvIHRyYWNrXG4gICAgICAgICAgICBpZiAoaGFkRGVhZmVuKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGludGVuc2l0eSA9IFNwZWVjaFRyYW5zZm9ybURlYWZlbkludGVuc2l0eShDKTtcbiAgICAgICAgICAgICAgICBpZiAoaW50ZW5zaXR5ID4gMClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRlYWZlblByb2Nlc3MgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBvdXRwdXQuZWZmZWN0cy5wdXNoKFwiZGVhZmVuXCIpO1xuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlIFBhdGNoaW5nIHRoaXMgZnVuY3Rpb24gdG8gYWRkIEMgZm9yIE1CU1xuICAgICAgICAgICAgICAgICAgICBvdXRwdXQudGV4dCA9IFNwZWVjaFRyYW5zZm9ybUdhZ0dhcmJsZSh0ZXh0LCBpbnRlbnNpdHksIGlnbm9yZU9PQywgQyk7XG4gICAgICAgICAgICAgICAgICAgIGRlYWZlblByb2Nlc3MgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgICAgICB9KTtcbiAgICAgICAgc3VwZXIuTG9hZCgpO1xuICAgIH1cblxuICAgIFVubG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5VbmxvYWQoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBGaWx0ZXJBcnJheUZyb21BcnJheSwgUmFuZG9tRWxlbWVudCB9IGZyb20gXCIuLi91dGlsL2dlbmVyYWxcIjtcbmltcG9ydCB7IGJjeEFQSSwgYmN4Rm91bmQsIEhvb2tGdW5jdGlvbiB9IGZyb20gXCIuLi91dGlsL3Nka1wiO1xuaW1wb3J0IHsgTW9kdWxlLCBNb2R1bGVUaXRsZSB9IGZyb20gXCIuL19tb2R1bGVcIjtcbmltcG9ydCB7IEVsZW1lbnROYW1lIH0gZnJvbSBcIi4vc2V0dGluZ3NcIjtcbmltcG9ydCB7IEFwcGx5UGV0SGVhcmluZywgRGlzcnVwdGl2ZVBldFNwZWVjaCwgTm9uRGlzcnVwdGl2ZVBldFNwZWVjaCB9IGZyb20gXCIuLi91dGlsL3BldEhlYXJBbmRTcGVha1wiO1xuaW1wb3J0IHsgSG9va2VkTWVzc2FnZSwgTVBBTWVzc2FnZUNvbnRlbnQsIFNlbmRNUEFNZXNzYWdlIH0gZnJvbSBcIi4uL3V0aWwvbWVzc2FnaW5nXCI7XG5pbXBvcnQgeyBSZWNvcmRzU3luYyB9IGZyb20gXCIuL2RhdGFTeW5jXCI7XG5pbXBvcnQgeyBJc01lbWJlck51bWJlckluQXV0aEdyb3VwIH0gZnJvbSBcIi4uL3V0aWwvYXV0aG9yaXR5XCI7XG5pbXBvcnQgeyBkZWFmZW5Qcm9jZXNzIH0gZnJvbSBcIi4vcHJpdmF0ZVwiO1xuXG5pbXBvcnQgYmVsbDEgZnJvbSBcIi4uLy4uL2Fzc2V0cy9iZWxsMS5tcDNcIjtcbmltcG9ydCBiZWxsMiBmcm9tIFwiLi4vLi4vYXNzZXRzL2JlbGwyLm1wM1wiO1xuaW1wb3J0IGJlbGwzIGZyb20gXCIuLi8uLi9hc3NldHMvYmVsbDMubXAzXCI7XG5pbXBvcnQgYmVsbDQgZnJvbSBcIi4uLy4uL2Fzc2V0cy9iZWxsNC5tcDNcIjtcbmltcG9ydCBiZWxsNSBmcm9tIFwiLi4vLi4vYXNzZXRzL2JlbGw1Lm1wM1wiO1xuaW1wb3J0IGppbmdsZTEgZnJvbSBcIi4uLy4uL2Fzc2V0cy9qaW5nbGUxLm1wM1wiO1xuaW1wb3J0IGppbmdsZTIgZnJvbSBcIi4uLy4uL2Fzc2V0cy9qaW5nbGUyLm1wM1wiO1xuaW1wb3J0IGppbmdsZTMgZnJvbSBcIi4uLy4uL2Fzc2V0cy9qaW5nbGUzLm1wM1wiO1xuaW1wb3J0IGppbmdsZTQgZnJvbSBcIi4uLy4uL2Fzc2V0cy9qaW5nbGU0Lm1wM1wiO1xuaW1wb3J0IGppbmdsZTUgZnJvbSBcIi4uLy4uL2Fzc2V0cy9qaW5nbGU1Lm1wM1wiO1xuaW1wb3J0IHJpbmcxIGZyb20gXCIuLi8uLi9hc3NldHMvcmluZzEubXAzXCI7XG5pbXBvcnQgcmluZzIgZnJvbSBcIi4uLy4uL2Fzc2V0cy9yaW5nMi5tcDNcIjtcbmltcG9ydCByaW5nMyBmcm9tIFwiLi4vLi4vYXNzZXRzL3JpbmczLm1wM1wiO1xuaW1wb3J0IHJpbmc0IGZyb20gXCIuLi8uLi9hc3NldHMvcmluZzQubXAzXCI7XG5pbXBvcnQgcmluZzUgZnJvbSBcIi4uLy4uL2Fzc2V0cy9yaW5nNS5tcDNcIjtcblxuY29uc3QgQkVMTFMgPSBbXG4gICAgbmV3IEF1ZGlvKGJlbGwxKSxcbiAgICBuZXcgQXVkaW8oYmVsbDIpLFxuICAgIG5ldyBBdWRpbyhiZWxsMyksXG4gICAgbmV3IEF1ZGlvKGJlbGw0KSxcbiAgICBuZXcgQXVkaW8oYmVsbDUpLFxuICAgIG5ldyBBdWRpbyhqaW5nbGUxKSxcbiAgICBuZXcgQXVkaW8oamluZ2xlMiksXG4gICAgbmV3IEF1ZGlvKGppbmdsZTMpLFxuICAgIG5ldyBBdWRpbyhqaW5nbGU0KSxcbiAgICBuZXcgQXVkaW8oamluZ2xlNSksXG4gICAgbmV3IEF1ZGlvKHJpbmcxKSxcbiAgICBuZXcgQXVkaW8ocmluZzIpLFxuICAgIG5ldyBBdWRpbyhyaW5nMyksXG4gICAgbmV3IEF1ZGlvKHJpbmc0KSxcbiAgICBuZXcgQXVkaW8ocmluZzUpXG5dO1xuQkVMTFMuZm9yRWFjaCgoYXVkaW8pID0+XG57XG4gICAgYXVkaW8udm9sdW1lID0gMC4yMDtcbn0pO1xuXG5jb25zdCBQbGF5ZXJQOiAoQz86IENoYXJhY3RlcikgPT4gTVBBUmVjb3JkID0gKEM6IENoYXJhY3RlciA9IFBsYXllcikgPT5cbntcbiAgICByZXR1cm4gQy5NUEE/LltNb2R1bGVUaXRsZS5Qcm9maWxlXSA/PyB7fTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBJc0hhcmRjb3JlT24oQzogQ2hhcmFjdGVyKTogYm9vbGVhblxue1xuICAgIHJldHVybiAoQy5NUEE/LltNb2R1bGVUaXRsZS5Qcm9maWxlXS5oYXJkY29yZSBhcyBib29sZWFuIHwgdW5kZWZpbmVkKSA/PyBmYWxzZTtcbn07XG5cbmZ1bmN0aW9uIEdldFJlY29yZCh0aXRsZTogTW9kdWxlVGl0bGUsIEM6IENoYXJhY3RlciA9IFBsYXllcik6IE1QQVJlY29yZFxue1xuICAgIHJldHVybiBDLk1QQT8uW3RpdGxlXSA/PyB7fTtcbn1cblxuLy8gTWFrZSBzdXJlIG5vdCBpbiBCQ1ggYmFubmVkIHdvcmRzIC8gcGhyYXNlc1xuLy8gRG9uJ3QgYmxhbWUgbWUgZm9yIHRoZSBzZWxlY3Rpb24sIGhvdyBhcmUgeW91IHN1cHBvc2VkIHRvIHR5cGUgb3V0IHRoZXNlIGFuaW1hbCBzb3VuZHNcbi8vIEhhbGYgdGhpcyBjYW1lIGZyb20gY2hhdCBncHQgYW55d2F5LCBpZiB5b3UgZ290IHNvbWV0aGluZyBiZXR0ZXIsIGZlZWwgZnJlZSB0byBzdWdnZXN0IGl0XG5leHBvcnQgY29uc3QgR0FSQkxFX1BIUkFTRVMgPSBPYmplY3QuZnJlZXplKHtcbiAgICBIdW1hbjogW1wiaG1tZ21cIiwgXCJtbW1tXCIsIFwibWhobW1hYVwiLCBcImhtbW1cIl0sXG4gICAgQ3VzdG9tOiBbXCJcIl0sXG4gICAgQnVubnk6IFtcInBvblwiLCBcInB5b25cIiwgXCJlZXBcIiwgXCJodWZmXCIsIFwidGstdGtcIiwgXCJubmdoLW5uZ2hcIl0sXG4gICAgQ2F0OiBbXCJtZW93XCIsIFwibWV3XCIsIFwibnlhaFwiLCBcIm55YVwiLCBcInB1cnJcIiwgXCJtcnJvd1wiLCBcInBycnJcIl0sXG4gICAgQ293OiBbXCJtb29cIiwgXCJtb29vb29cIiwgXCJtdXVoaGhcIiwgXCJtb29vYWhcIl0sXG4gICAgRG9nOiBbXCJhcmZcIiwgXCJ3b29mXCIsIFwiYmFya1wiLCBcInJ1ZmZcIiwgXCJodWZmXCIsIFwiZWVwXCJdLFxuICAgIEZveDogW1wiY2hpcnBcIiwgXCJ5aXBcIiwgXCJ3b3ctd293XCIsIFwieW93d1wiLCBcImVlcFwiXSxcbiAgICBNb3VzZTogW1wic3F1ZWFrXCIsIFwiZWVla1wiLCBcInRjaC10Y2hcIiwgXCJ3aS1pLWlcIiwgXCJzc3NcIl0sXG4gICAgUG9ueTogW1wibmVpZ2hcIiwgXCJ3aGlubnlcIiwgXCJ3aGVlZVwiLCBcInNucnRcIiwgXCJ3aG9vb3NoXCIsIFwiaHVmZlwiLCBcIm5uaGhoLWtlclwiXSxcbiAgICBXb2xmOiBbXCJhd29vXCIsIFwiYWEtb29vXCIsIFwid29vZlwiLCBcInJ1ZmZcIiwgXCJhcmZcIiwgXCJ3aWlpcFwiLCBcImh1ZmZcIl1cbn0pO1xudHlwZSBQZXRTcGVha2luZ0tleXMgPSBrZXlvZiB0eXBlb2YgR0FSQkxFX1BIUkFTRVM7XG5cbi8qKlxuICogR2V0IHRoZSBwZXQgZ2FyYmxlIHBocmFzZXMgZm9yIHRoZSBzZWxlY3RlZCBwcm9maWxlXG4gKiBAcGFyYW0gcHJvZmlsZSAtIERlZmF1bHRzIHRvIFBsYXllcidzIHByb2ZpbGUgaWYgbm9uZSBwcm92aWRlZFxuICovXG5mdW5jdGlvbiBHZXRQZXRHYXJibGVQaHJhc2VzKHByb2ZpbGU6IFBldFNwZWFraW5nS2V5cyA9IFBsYXllclAoUGxheWVyKS50eXBlKTogc3RyaW5nW11cbntcbiAgICBpZiAocHJvZmlsZSBpbiBHQVJCTEVfUEhSQVNFUyAmJiBwcm9maWxlICE9PSBcIkN1c3RvbVwiKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIEdBUkJMRV9QSFJBU0VTW3Byb2ZpbGVdO1xuICAgIH1cbiAgICByZXR1cm4gKFBsYXllclAoUGxheWVyKS5nYXJibGVQaHJhc2VzIGFzIHN0cmluZykuc3BsaXQoXCIsXCIpLm1hcCgoc3RyKSA9PiBzdHIudHJpbSgpKTtcbn1cblxuLyoqXG4gKiBPbmx5IGluY2x1ZGUgcGV0IHNvdW5kcyB0aGF0IGFyZSBwZXJtaXR0ZWQgYnkgQkNYXG4gKiBAcGFyYW0gcHJvZmlsZSAtIERlZmF1bHRzIHRvIFBsYXllcidzIHByb2ZpbGVcbiAqIEByZXR1cm5zIFBocmFzZXMgQkNYIHdvbid0IGdldCBtYWQgYXRcbiAqL1xuZnVuY3Rpb24gR2V0QWxsb3dlZFBldEdhcmJsZVBocmFzZXMocHJvZmlsZTogUGV0U3BlYWtpbmdLZXlzID0gUGxheWVyUChQbGF5ZXIpLnR5cGUpOiBzdHJpbmdbXVxue1xuICAgIGNvbnN0IGJhbm5lZEJDWFdvcmRzID0gYmN4QVBJKCk/LmdldFJ1bGVTdGF0ZShcInNwZWVjaF9iYW5fd29yZHNcIik/LmN1c3RvbURhdGE/LmJhbm5lZFdvcmRzID8/IFtdO1xuICAgIGNvbnN0IHBldFBocmFzZXMgPSBiY3hGb3VuZCgpICYmIFBsYXllclAoUGxheWVyKS5iY3hTcGVha2luZyA/XG4gICAgICAgIGJjeEFQSSgpPy5nZXRSdWxlU3RhdGUoXCJzcGVlY2hfbWFuZGF0b3J5X3dvcmRzXCIpPy5jdXN0b21EYXRhPy5tYW5kYXRvcnlXb3JkcyA/PyBbXSA6XG4gICAgICAgIEdldFBldEdhcmJsZVBocmFzZXMocHJvZmlsZSk7XG4gICAgcmV0dXJuIChGaWx0ZXJBcnJheUZyb21BcnJheShwZXRQaHJhc2VzLCBiYW5uZWRCQ1hXb3JkcykgYXMgc3RyaW5nW10pXG4gICAgICAgIC5tYXAoKHBocmFzZSkgPT4gcGhyYXNlLnRvTG9jYWxlTG93ZXJDYXNlKCkudHJpbSgpKVxuICAgICAgICAuZmlsdGVyKChzdHIpID0+IHN0ci5sZW5ndGggIT0gMCk7XG59XG5cbmV4cG9ydCBjb25zdCBQRVRfSEVBUklORyA9IE9iamVjdC5mcmVlemUoe1xuICAgIEFsbDogW1wib3duZXJcIiwgXCJwZXRcIiwgXCJtYXN0ZXJcIiwgXCJtaXN0cmVzc1wiLCBcIm1pc3NcIiwgXCJzaXJcIiwgXCJwYXdcIiwgXCJzaXRcIiwgXCJjb21lXCIsIFwiZG93blwiLCBcInVwXCIsXG4gICAgICAgIFwic3RheVwiLCBcIndhdGVyXCIsIFwiZm9vZFwiLCBcImtpYmJsZVwiLCBcImVhdFwiLCBcInRyZWF0XCIsIFwiZHJpbmtcIiwgXCJ0b3lcIiwgXCJwbGF5XCIsIFwibGVhc2hcIiwgXCJ3YWxrXCIsXG4gICAgICAgIFwid2Fsa2llc1wiLCBcImJlZFwiLCBcInNsZWVwXCIsIFwiY3V0aWVcIiwgXCJhZG9yYWJsZVwiLCBcInRveVwiLCBcInBsYXlcIiwgXCJraWJibGVcIiwgXCJnb29kXCIsIFwiYmFkXCIsXG4gICAgICAgIFwibGFwXCIsIFwic3BlYWtcIiwgXCJodXNoXCIsIFwicXVpZXRcIiwgXCJodXNoXCIsIFwiYWxsIGZvdXJzXCIsIFwiYWxsLWZvdXJzXCJdLFxuICAgIEh1bWFuOiBbXSxcbiAgICBDdXN0b206IFtdLFxuICAgIEJ1bm55OiBbXCJidW5cIiwgXCJidW5ueVwiLCBcImNhcnJvdFwiLCBcImhvcFwiLCBcImp1bXBcIiwgXCJodW1wXCIsIFwiZWFyXCIsIFwiZWFyc1wiXSxcbiAgICBDYXQ6IFtcImNhdFwiLCBcImtpdHR5XCIsIFwia2l0dGVuXCIsIFwiY2F0bmlwXCIsIFwia25lYWRcIiwgXCJzY3JhdGNoXCIsIFwieWFyblwiLCBcIm1pbGtcIl0sXG4gICAgQ293OiBbXCJtaWxrXCIsIFwibWlsa2luZ1wiLCBcInV0dGVyXCIsIFwiYnJlYXN0XCIsIFwiZ3Jhc3NcIiwgXCJtb29cIl0sXG4gICAgRG9nOiBbXCJjYWdlXCIsIFwia2VubmVsXCIsIFwicHVwXCIsIFwicHVwcHlcIiwgXCJkb2dcIiwgXCJkb2dneVwiLCBcImJvbmVcIiwgXCJmZXRjaFwiLCBcImhlZWxcIiwgXCJyb2xsXCIsIFwib3ZlclwiLCBcImJhcmtcIl0sXG4gICAgRm94OiBbXCJ0cmFwXCIsIFwiYnVuXCIsIFwiYnVubnlcIiwgXCJib25lXCIsIFwiZm94XCIsIFwiZm94eVwiXSxcbiAgICBNb3VzZTogW1wibW91c2VcIiwgXCJlYXJcIiwgXCJlYXJzXCIsIFwidHJhcFwiLCBcIndpcmVcIiwgXCJ3aGVlbFwiLCBcImNoZWVzZVwiLCBcIm5pYmJsZVwiLCBcImNhdFwiLCBcImtpdHR5XCIsIFwia2l0dGVuXCJdLFxuICAgIFBvbnk6IFtcInBvbnlcIiwgXCJtYXJlXCIsIFwic3RhbGxpb25cIiwgXCJicmlkbGVcIiwgXCJob29mXCIsIFwiaG9vdmVzXCIsIFwidHJvdFwiLCBcInN0YWxsXCIsIFwiaGF5XCIsIFwid29haFwiLFxuICAgICAgICBcInN0b21wXCIsIFwiY2FsbVwiLCBcImVhc3lcIiwgXCJzbG93XCIsIFwiY2FydFwiLCBcImJheVwiLCBcInJ1blwiLCBcInJhY2VcIiwgXCJzaG93XCIsIFwiY2FudGVyXCIsIFwiZ2FsbG9wXCJdLFxuICAgIFdvbGY6IFtcImJvbmVcIiwgXCJ3b2xmXCIsIFwiZG9nXCIsIFwicHVwXCIsIFwicHVwcHlcIiwgXCJoZWVsXCJdXG59KTtcbnR5cGUgUGV0SGVhcmluZ0tleXMgPSBrZXlvZiB0eXBlb2YgUEVUX0hFQVJJTkc7XG5cbi8qKlxuICogR2V0dGhlIHBldCBoZWFyaW5nIHBocmFzZXMgYmFzZWQgb24gdGhlIHNlbGVjdGVkIHByb2ZpbGVcbiAqIEBwYXJhbSBwcm9maWxlIC0gRGVmYXVsdHMgdG8gUGxheWVyJ3MgcHJvZmlsZVxuICovXG5mdW5jdGlvbiBHZXRQZXRIZWFyaW5nUGhyYXNlcyhwcm9maWxlOiBQZXRIZWFyaW5nS2V5cyA9IFBsYXllclAoUGxheWVyKS50eXBlKTogc3RyaW5nW11cbntcbiAgICBpZiAocHJvZmlsZSBpbiBQRVRfSEVBUklORylcbiAgICB7XG4gICAgICAgIHJldHVybiBQRVRfSEVBUklORy5BbGwuY29uY2F0KFBFVF9IRUFSSU5HW3Byb2ZpbGVdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gUEVUX0hFQVJJTkcuQWxsO1xufVxuXG4vKipcbiAqIENhbGxiYWNrIHdoZW4gcHJvZmlsZSB0eXBlIGlzIHNldFxuICogQHBhcmFtIEMgLSBDaGFyYWN0ZXIgd2hvIHdlIGFyZSBzZXR0aW5nXG4gKiBAcGFyYW0gdmFsdWUgLSBXaGF0IHRoZSBuZXcgdHlwZSBpc1xuICogQHBhcmFtIHByZXZWYWx1ZSAtIFdoYXQgdGhlIHByZXZpb3VzIHR5cGUgd2FzXG4gKi9cbmZ1bmN0aW9uIFNldFByb2ZpbGVUeXBlKEM6IENoYXJhY3RlciwgdmFsdWU6IHN0cmluZywgcHJldlZhbHVlOiBzdHJpbmcpOiB2b2lkXG57XG4gICAgY29uc3QgZWxlSUQgPSBFbGVtZW50TmFtZShNb2R1bGVUaXRsZS5Qcm9maWxlLCBcImdhcmJsZVBocmFzZXNcIik7XG4gICAgaWYgKHZhbHVlID09PSBcIkN1c3RvbVwiKVxuICAgIHtcbiAgICAgICAgUGxheWVyUChDKS5nYXJibGVQaHJhc2VzID0gUGxheWVyUChDKS5jdXN0b21HYXJibGVQaHJhc2VzLmpvaW4oXCIsIFwiKTtcbiAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZUlEKSlcbiAgICAgICAge1xuICAgICAgICAgICAgRWxlbWVudFZhbHVlKGVsZUlELCBQbGF5ZXJQKEMpLmdhcmJsZVBocmFzZXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHByZXZWYWx1ZSA9PT0gXCJDdXN0b21cIiAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVJRCkpXG4gICAge1xuICAgICAgICBQbGF5ZXJQKEMpLmN1c3RvbUdhcmJsZVBocmFzZXMgPSBFbGVtZW50VmFsdWUoZWxlSUQpLnNwbGl0KFwiLFwiKS5tYXAoKHgpID0+IHgudHJpbSgpKTtcbiAgICB9XG4gICAgUGxheWVyUChDKS5nYXJibGVQaHJhc2VzID0gKEdBUkJMRV9QSFJBU0VTW1BsYXllclAoQykudHlwZV0gYXMgc3RyaW5nW10pLmpvaW4oXCIsIFwiKTtcblxuICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVJRCkpXG4gICAge1xuICAgICAgICBFbGVtZW50VmFsdWUoZWxlSUQsIFBsYXllclAoQykuZ2FyYmxlUGhyYXNlcyk7XG4gICAgfVxufVxuXG4vKipcbiAqIFNldCBwcm9maWxlIGJjeCBzcGVha2luZyBmb3IgdGhlIGxvY2FsIHBsYXllclxuICovXG5mdW5jdGlvbiBTZXRCQ1hTcGVhaygpOiB2b2lkXG57XG4gICAgUGxheWVyUCgpLmJjeFNwZWFraW5nID0gdHJ1ZTtcbiAgICBjb25zdCBlbGVJRCA9IEVsZW1lbnROYW1lKE1vZHVsZVRpdGxlLlByb2ZpbGUsIFwiZ2FyYmxlUGhyYXNlc1wiKTtcbiAgICAvLyBTYXZlIHByZXZpb3VzIHdvcmRzIGlmIG5lZWRlZFxuICAgIGlmIChQbGF5ZXJQKCkudHlwZSA9PT0gXCJDdXN0b21cIiAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVJRCkpXG4gICAge1xuICAgICAgICBQbGF5ZXJQKCkuY3VzdG9tR2FyYmxlUGhyYXNlcyA9IEVsZW1lbnRWYWx1ZShlbGVJRCkuc3BsaXQoXCIsXCIpLm1hcCgoeCkgPT4geC50cmltKCkpO1xuICAgIH1cbiAgICBjb25zdCB3b3JkcyA9IGJjeEFQSSgpPy5nZXRSdWxlU3RhdGUoXCJzcGVlY2hfbWFuZGF0b3J5X3dvcmRzXCIpPy5jdXN0b21EYXRhPy5tYW5kYXRvcnlXb3JkcyA/PyBbXTtcbiAgICBQbGF5ZXJQKCkuZ2FyYmxlUGhyYXNlcyA9IHdvcmRzLmpvaW4oXCIsIFwiKTtcbiAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlSUQpKVxuICAgIHtcbiAgICAgICAgRWxlbWVudFZhbHVlKGVsZUlELCBQbGF5ZXJQKCkuZ2FyYmxlUGhyYXNlcyk7XG4gICAgfVxufVxuXG5jb25zdCBHQUdHSU5HX1NUUkVOR1RIX01BUCA9IE9iamVjdC5mcmVlemUoe1xuICAgIExvdzogMC4wMTUsXG4gICAgTWVkaXVtOiAwLjA1LFxuICAgIEhpZ2g6IDAuMSxcbiAgICBNYXg6IDFcbn0pO1xuXG5jb25zdCBNT1ZFTUVOVF9WRVJCUzogc3RyaW5nW10gPSBbXG4gICAgXCJib3VuY2VcIiwgXCJib3VuY2VzXCIsIFwiY3Jhd2xcIiwgXCJjcmF3bHNcIiwgXCJkYXNoXCIsIFwiZGFzaGVzXCIsXG4gICAgXCJmbHlcIiwgXCJmbGllc1wiLCBcImdhbGxvcFwiLCBcImdhbGxvcHNcIiwgXCJob3BcIiwgXCJob3BzXCIsXG4gICAgXCJqb2dcIiwgXCJqb2dzXCIsIFwicnVuXCIsIFwicnVuc1wiLCBcInNjYW1wZXJcIiwgXCJzY2FtcGVyXCIsXG4gICAgXCJzcHJpbmdcIiwgXCJzcHJpbmdzXCIsIFwic3RlcFwiLCBcInN0ZXBzXCIsIFwidHJvdFwiLCBcInRyb3RzXCIsXG4gICAgXCJ3YWxrXCIsIFwid2Fsa3NcIiwgXCJ3aWdnbGVcIiwgXCJ3aWdnbGVzXCIsIFwid29iYmxlXCIsIFwid29iYmxlc1wiXG5dO1xuY29uc3QgTU9WRU1FTlRfUkVHRVggPSBuZXcgUmVnRXhwKGBcXFxcYigke01PVkVNRU5UX1ZFUkJTLmpvaW4oXCJ8XCIpfSlcXFxcYmAsIFwiaVwiKTtcbmNvbnN0IEJFTExfSklOR0xFX0NIQU5DRSA9IE9iamVjdC5mcmVlemUoe1xuICAgIG9wdGlvbnM6IFtcIk9mZlwiLCBcIkxvd1wiLCBcIk1lZGl1bVwiLCBcIkhpZ2hcIiwgXCJNYXhcIl0sXG4gICAgT2ZmOiAwLFxuICAgIExvdzogMC4wNSxcbiAgICBNZWRpdW06IDAuMTUsXG4gICAgSGlnaDogMC4zMyxcbiAgICBNYXg6IDFcbn0pO1xuLyoqXG4gKiBAcmV0dXJucyBUaGUgbnVtYmVyIG9mIGJlbGxzIGJlaW5nIHdvcm4gYnkgdGhlIHBsYXllclxuICovXG5mdW5jdGlvbiBOdW1iZXJPZkJlbGxzV29ybigpOiBudW1iZXJcbntcbiAgICAvLyBDb3VudCB0aGUgbnVtYmVyIG9mIGJlbGxzIGJlaW5nIHdvcm4gd2l0aCBcImJlbGxcIiBpbiB0aGUgbmFtZVxuICAgIGxldCBjb3VudCA9IDA7XG4gICAgY29uc3QgYmVsbEdyb3VwczogQXNzZXRHcm91cE5hbWVbXSA9IFtcIkl0ZW1OZWNrXCIsIFwiSXRlbU5lY2tBY2Nlc3Nvcmllc1wiLCBcIkl0ZW1OaXBwbGVzXCIsIFwiSXRlbU5pcHBsZXNQaWVyY2luZ3NcIl07XG4gICAgYmVsbEdyb3Vwcy5mb3JFYWNoKChncm91cCkgPT5cbiAgICB7XG4gICAgICAgIGlmICgoSW52ZW50b3J5R2V0KFBsYXllciwgZ3JvdXApPy5Bc3NldD8uTmFtZSA/PyBcIlwiKS50b0xvY2FsZUxvd2VyQ2FzZSgpLmluY2x1ZGVzKFwiYmVsbFwiKSlcbiAgICAgICAge1xuICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIC8vIEJlbGwgYWNjZXNzb3J5IG9uIGNsaXQgcGllcmNpbmdcbiAgICBjb25zdCBjbGl0ID0gSW52ZW50b3J5R2V0KFBsYXllciwgXCJJdGVtVnVsdmFQaWVyY2luZ3NcIik7XG4gICAgaWYgKGNsaXQ/LkFzc2V0Py5OYW1lID09PSBcIlJvdW5kQ2xpdFBpZXJjaW5nXCIgJiYgY2xpdD8uUHJvcGVydHk/LlR5cGVSZWNvcmQ/LnR5cGVkID09PSAyKVxuICAgIHtcbiAgICAgICAgY291bnQrKztcbiAgICB9XG4gICAgLy8gQmVsbCBhY2Nlc3Nvcnkgb24gcGllcmNpbmcgZ2FnXG4gICAgY29uc3QgbW91dGhHcm91cHM6IEFzc2V0R3JvdXBOYW1lW10gPSBbXCJJdGVtTW91dGhcIiwgXCJJdGVtTW91dGgyXCIsIFwiSXRlbU1vdXRoM1wiXTtcbiAgICBtb3V0aEdyb3Vwcy5mb3JFYWNoKChncm91cCkgPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IGdhZyA9IEludmVudG9yeUdldChQbGF5ZXIsIGdyb3VwKTtcbiAgICAgICAgaWYgKGdhZz8uQXNzZXQ/Lk5hbWUgPT09IFwiVG9uZ3VlUGllcmNpbmdHYWdcIiAmJiBnYWc/LlByb3BlcnR5Py5UeXBlUmVjb3JkPy50eXBlZCA9PT0gMilcbiAgICAgICAge1xuICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBjb3VudDtcbn1cblxuLyoqXG4gKiBQbGF5ZXIgaGFzIG1vdmVkLCBqaW5nbGUgYmVsbCBtYXliZVxuICogQHBhcmFtIG1hcE9yUG9zZSBJZiBtb3ZlZCBvbiBtYXAgb3IgcG9zZSwgZWxzZSBlbW90ZXNcbiAqL1xuZnVuY3Rpb24gUGxheWVyTW92ZWRCZWxsSmluZ2xlKG1hcE9yUG9zZTogYm9vbGVhbik6IHZvaWRcbntcbiAgICAvLyBObyBiZWxscywgbm8gcmluZ1xuICAgIGNvbnN0IGJlbGxzID0gTnVtYmVyT2ZCZWxsc1dvcm4oKTtcbiAgICBpZiAoYmVsbHMgPT09IDApXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIFJhbmRvbSBjaGFuY2UgYmFzZWQgb24gc2V0dGluZ3MgYW5kIG51bWJlciBvZiBiZWxsc1xuICAgIGlmIChNYXRoLnJhbmRvbSgpID4gQkVMTF9KSU5HTEVfQ0hBTkNFW1BsYXllclAoKS5iZWxsSmluZ2xlID8/IFwiT2ZmXCJdICogYmVsbHMgKiAobWFwT3JQb3NlID8gMSA6IDMpKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBQbGF5IGEgcmFuZG9tIHNvdW5kXG4gICAgUmFuZG9tRWxlbWVudChCRUxMUyk/LnBsYXkoKTtcbn1cblxuZXhwb3J0IGNsYXNzIFByb2ZpbGVNb2R1bGUgZXh0ZW5kcyBNb2R1bGVcbntcbiAgICBnZXQgVGl0bGUoKTogTW9kdWxlVGl0bGVcbiAgICB7XG4gICAgICAgIHJldHVybiBNb2R1bGVUaXRsZS5Qcm9maWxlO1xuICAgIH1cblxuICAgIGdldCBTeW5jTGlzdGVuZXJzKCk6IEhvb2tlZE1lc3NhZ2VbXVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBtb2R1bGU6IHRoaXMuVGl0bGUsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJCQ1hTcGVha0VuYWJsZVJlcXVlc3RcIixcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uIChzZW5kZXI6IENoYXJhY3RlciwgX2NvbnRlbnQ6IE1QQU1lc3NhZ2VDb250ZW50KTogdm9pZFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHNlbmRlciBoYXMgYXV0aG9yaXR5IHRvIHNldCB0aGlzIHNldHRpbmdcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFJc01lbWJlck51bWJlckluQXV0aEdyb3VwKHNlbmRlci5NZW1iZXJOdW1iZXIgPz8gLTEsIFBsYXllci5NUEE/LltNb2R1bGVUaXRsZS5BdXRob3JpdHldW2BvdGhlcnMke01vZHVsZVRpdGxlLlByb2ZpbGV9YF0pKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYCR7c2VuZGVyLk5pY2tuYW1lIHx8IHNlbmRlci5OYW1lfVske3NlbmRlci5NZW1iZXJOdW1iZXJ9XSB0cmllZCB0byBpbGxlZ2lhbGx5IHNldCB5b3VyIGJjeCBzcGVhayB0byBiZSBlbmFibGVkYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBTZXQgdGhlIHJlY29yZCBieSB0aGUgcGVyc29uIHdobyBpcyBoYXZpbmcgdGhlaXIgc2V0dGluZ3MgY2hhbmdlZFxuICAgICAgICAgICAgICAgICAgICAvLyBCQ1ggbWFuZGF0b3J5IHdvcmRzIG9ubHkgdmlld2FibGUgYnkgdGhlIHBsYXllciBsb2NhbGx5XG4gICAgICAgICAgICAgICAgICAgIFNldEJDWFNwZWFrKCk7XG4gICAgICAgICAgICAgICAgICAgIFJlY29yZHNTeW5jKFtcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY2F0ZWdvcnk6IE1vZHVsZVRpdGxlLlByb2ZpbGUsIHJlY29yZDogXCJnYXJibGVQaHJhc2VzXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY2F0ZWdvcnk6IE1vZHVsZVRpdGxlLlByb2ZpbGUsIHJlY29yZDogXCJiY3hTcGVha2luZ1wiIH1cbiAgICAgICAgICAgICAgICAgICAgXSwgc2VuZGVyLk1lbWJlck51bWJlcik7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQWZ0ZXIgdXBkYXRpbmcgYW5kIHNlbmRpbmcgdGhlIG5ldyByZWNvcmRzLCBub3RpZnkgc2VuZGVyIGZvciBhY2tub3dsZWRnZW1lbnQgdG8gdXBkYXRlIHRoZWlyIGRpc3BsYXlcbiAgICAgICAgICAgICAgICAgICAgU2VuZE1QQU1lc3NhZ2UoeyBtZXNzYWdlOiBcIkJDWFNwZWFrRW5hYmxlUmVwbHlcIiB9LCBzZW5kZXIuTWVtYmVyTnVtYmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgbW9kdWxlOiB0aGlzLlRpdGxlLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQkNYU3BlYWtFbmFibGVSZXBseVwiLFxuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKHNlbmRlcjogQ2hhcmFjdGVyLCBfY29udGVudDogTVBBTWVzc2FnZUNvbnRlbnQpOiB2b2lkXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSBnb3QgYSBwb3N0aXZlIHJlc3BvbnNlIGZyb20gdGhlIHJlcXVlc3QsIGNoYW5nZSBtYWRlLCBidXQgd2UgbmVlZCB0byBzZWUgaXQgb24gb3VyIHNpZGUgbm93XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsZUlEID0gRWxlbWVudE5hbWUoTW9kdWxlVGl0bGUuUHJvZmlsZSwgXCJnYXJibGVQaHJhc2VzXCIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlSUQpKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBFbGVtZW50VmFsdWUoZWxlSUQsIFBsYXllclAoc2VuZGVyKS5nYXJibGVQaHJhc2VzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBnZXQgU2V0dGluZ3MoKTogU2V0dGluZ1tdXG4gICAge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwidHlwZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwib3B0aW9uXCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IE9iamVjdC5rZXlzKEdBUkJMRV9QSFJBU0VTKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJIdW1hblwiLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIlVzZSBhIHByZXNldCBwcm9maWxlIG9yIG1ha2UgeW91ciBvd25cIixcbiAgICAgICAgICAgICAgICBsb29wOiB0cnVlLFxuICAgICAgICAgICAgICAgIG9uU2V0OiAoQywgdmFsdWUsIHByZXZWYWx1ZSkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChQbGF5ZXJQKEMpLmJjeFNwZWFraW5nKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgU2V0UHJvZmlsZVR5cGUoQywgdmFsdWUsIHByZXZWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBhcyBPcHRpb25TZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJwZXRIZWFyaW5nXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiV2hpbGUgZGVhZmVuZWQgY2VydGFpbiBwZXQga2V5d29yZHMgY2FuIGJlIHBpY2tlZCB1cFwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiZ2FyYmxlUGhyYXNlc1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+IFBsYXllclAoQykudHlwZSA9PT0gXCJDdXN0b21cIiAmJiAhKFBsYXllclAoQykucGV0U3BlYWtpbmcgJiYgYmN4Rm91bmQoKSAmJiBQbGF5ZXJQKEMpLmJjeFNwZWFraW5nKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogR0FSQkxFX1BIUkFTRVMuSHVtYW4uam9pbigpLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIlBldCBzb3VuZHMgeW91IG1ha2VcIixcbiAgICAgICAgICAgICAgICBtYXhDaGFyczogMTAyNCxcbiAgICAgICAgICAgICAgICB3aWR0aDogMTAyNFxuICAgICAgICAgICAgfSBhcyBUZXh0U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiY3VzdG9tR2FyYmxlUGhyYXNlc1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwicmVjb3JkXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IFtdXG4gICAgICAgICAgICB9IGFzIFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInBldFNwZWFraW5nXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJvcHRpb25cIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogW1wiT2ZmXCIsIFwiTG93XCIsIFwiTWVkaXVtXCIsIFwiSGlnaFwiLCBcIk1heFwiXSxcbiAgICAgICAgICAgICAgICBsb29wOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJPZmZcIixcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBdXRvbWF0aWNhbGx5IG1ha2UgdGhlIGFib3ZlIHBldCBzb3VuZHMgd2hpbGUgdGFsa2luZ1wiXG4gICAgICAgICAgICB9IGFzIE9wdGlvblNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImJjeFNwZWFraW5nXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+IFBsYXllclAoQykucGV0U3BlYWtpbmcgJiYgYmN4Rm91bmQoKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiVXNlIEJDWCBtYW5kYXRvcnkgd29yZHMgaW5zdGVhZCBvZiB0aGUgcGV0IHNvdW5kcyBhYm92ZVwiLFxuICAgICAgICAgICAgICAgIG9uU2V0OiAoQywgdmFsdWUpID0+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXZhbHVlKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBTZXRQcm9maWxlVHlwZShDLCBQbGF5ZXJQKEMpLnR5cGUsIFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChDLklzUGxheWVyKCkpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgbWFuZGF0b3J5IHdvcmRzIGZvciB5b3Vyc2VsZiBzaW5jZSBoYXZlIGxvY2FsIGJjeCBhY2Nlc3NcbiAgICAgICAgICAgICAgICAgICAgICAgIFNldEJDWFNwZWFrKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbGVJRCA9IEVsZW1lbnROYW1lKE1vZHVsZVRpdGxlLlByb2ZpbGUsIFwiZ2FyYmxlUGhyYXNlc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNhdmUgYW55IGN1c3RvbSB3b3JkIGNoYW5nZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChQbGF5ZXJQKEMpLnR5cGUgPT09IFwiQ3VzdG9tXCIgJiYgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlSUQpKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBsYXllclAoQykuY3VzdG9tR2FyYmxlUGhyYXNlcyA9IEVsZW1lbnRWYWx1ZShlbGVJRCkuc3BsaXQoXCIsXCIpLm1hcCgoeCkgPT4geC50cmltKCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXF1ZXN0IHRoZSBtYW5kYXRvcnkgd29yZHMgZnJvbSB0aGUgb3RoZXIgcGVyc29uXG4gICAgICAgICAgICAgICAgICAgICAgICBTZW5kTVBBTWVzc2FnZSh7IG1lc3NhZ2U6IFwiQkNYU3BlYWtFbmFibGVSZXF1ZXN0XCIgfSwgQy5NZW1iZXJOdW1iZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImhhcmRjb3JlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiRW5hYmxlIGhhcmRjb3JlIG1vZGU7IFdpbGwgc2V0IGNlcnRhaW4gc2V0dGluZ3MgYW5kIHByZXZlbnQgY2hhbmdpbmcgdGhlbSBiYWNrXCIsXG4gICAgICAgICAgICAgICAgb25TZXQoQywgdmFsdWUpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT0gZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBHZXRSZWNvcmQoTW9kdWxlVGl0bGUuQ2xpY2tlciwgQykuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIEdldFJlY29yZChNb2R1bGVUaXRsZS5DbGlja2VyLCBDKS5iY3hWb2ljZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIEdldFJlY29yZChNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0LCBDKS5lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgR2V0UmVjb3JkKE1vZHVsZVRpdGxlLlZpcnR1YWxQZXQsIEMpLm5vSGFuZHMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgR2V0UmVjb3JkKE1vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zLCBDKS5lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgR2V0UmVjb3JkKE1vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zLCBDKS5mb29kTk9XID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgR2V0UmVjb3JkKE1vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zLCBDKS50aW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgR2V0UmVjb3JkKE1vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zLCBDKS5wYXNzb3V0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgR2V0UmVjb3JkKE1vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zLCBDKS5hZmZlY3Rpb25Ta2lsbEJ1ZmZzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIEdldFJlY29yZChNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9ucywgQykuYWZmZWN0aW9uU2tpbGxEZWJ1ZmZzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgR2V0UmVjb3JkKE1vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zLCBDKS5oZWFyaW5nTG9zcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIEdldFJlY29yZChNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9ucywgQykuc2xvd0xlYXZlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgR2V0UmVjb3JkKE1vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zLCBDKS5vcmdhc21XYXRlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIEdldFJlY29yZChNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9ucywgQykub3JnYXNtU2xlZXAgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJwZXRHYWdnaW5nXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJvcHRpb25cIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiT2ZmXCIsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogW1wiT2ZmXCIsIFwiRmlyc3RcIiwgXCJMYXN0XCIsIFwiUmVwbGFjZVwiXSxcbiAgICAgICAgICAgICAgICBsb29wOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIlBldCBnYWdnaW5nIG1vZGVcIlxuICAgICAgICAgICAgfSBhcyBPcHRpb25TZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJwZXRHYWdnaW5nU3RyZW5ndGhcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm9wdGlvblwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIk1lZGl1bVwiLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IFtcIkxvd1wiLCBcIk1lZGl1bVwiLCBcIkhpZ2hcIiwgXCJNYXhcIl0sXG4gICAgICAgICAgICAgICAgbG9vcDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiUGV0IGdhZ2dpbmcgc3RyZW5ndGhcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiBQbGF5ZXJQKEMpLnBldEdhZ2dpbmcgIT09IFwiT2ZmXCJcbiAgICAgICAgICAgIH0gYXMgT3B0aW9uU2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiYmVsbEppbmdsZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwib3B0aW9uXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiT2ZmXCIsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogW1wiT2ZmXCIsIFwiTG93XCIsIFwiTWVkaXVtXCIsIFwiSGlnaFwiLCBcIk1heFwiXSxcbiAgICAgICAgICAgICAgICBsb29wOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJCZWxsIGppbmdsZSBvbiBtb3ZlbWVudFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZVxuICAgICAgICAgICAgfSBhcyBPcHRpb25TZXR0aW5nXG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgTG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5Mb2FkKCk7XG4gICAgICAgIFNwZWVjaFRyYW5zZm9ybUFsbEVmZmVjdHMucHVzaChcInBldFNwZWFrXCIgYXMgU3BlZWNoVHJhbnNmb3JtTmFtZSk7XG5cbiAgICAgICAgLy8gUGV0IGhlYXJpbmdcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiU3BlZWNoVHJhbnNmb3JtR2FnR2FyYmxlXCIsIDUsIChbdGV4dCwgaW50ZW5zaXR5LCBpZ25vcmVPT0MsIC4uLmFyZ3NdLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBNQlMgYWRkcyBDaGFyYWN0ZXIgcGFyYW1ldGVyIHRvIHRoaXMsIGNhbiB1c2UgYXMgYW4gZXh0cmEgY2hlY2sgZm9yIHdoZW4gdG8gYXBwbHlcbiAgICAgICAgICAgIGNvbnN0IEMgPSAoYXJncyBhcyBbQz86IENoYXJhY3RlciwgLi4uYXJnczogdW5rbm93bltdXSlbMF07XG5cbiAgICAgICAgICAgIC8vIEFyZSB3ZSBnYWdnaW5nIG9yIGRlYWZlbmluZz9cbiAgICAgICAgICAgIC8vIE5vdCBkZWFmZW5pbmcgc28gc2tpcFxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIEM/LklzR2FnZ2VkKClcbiAgICAgICAgICAgICAgICB8fCAhUGxheWVyLklzRGVhZigpXG4gICAgICAgICAgICAgICAgfHwgUGxheWVyUCgpLnBldEhlYXJpbmcgPT09IGZhbHNlXG4gICAgICAgICAgICAgICAgfHwgIXRleHRcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChbdGV4dCwgaW50ZW5zaXR5LCBpZ25vcmVPT0NdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBBcHBseVBldEhlYXJpbmcoW3RleHQsIGludGVuc2l0eSwgaWdub3JlT09DXSwgbmV4dCwgR2V0UGV0SGVhcmluZ1BocmFzZXMoKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEluc2VydCBwZXQgc291bmRzIG9uIGlucHV0IGZvciBCQ1ggc3VwcG9ydFxuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJDb21tYW5kUGFyc2VcIiwgOCwgKFttc2ddLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBTa2lwIGNvbW1hbmRzXG4gICAgICAgICAgICAvLyBTa2lwIGlmIG5vdCBhdHRlbXB0aW5nIHRvIGFwcGx5IHBldCBzcGVlY2hcbiAgICAgICAgICAgIG1zZyA9IG1zZy50cmltKCk7XG4gICAgICAgICAgICBpZiAoW0NvbW1hbmRzS2V5LCBcIipcIiwgXCJAXCIsIFwiIVwiXS5pbmNsdWRlcyhtc2cuY2hhckF0KDApKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChbbXNnXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHNwZWFrOiBcIk9mZlwiIHwgXCJMb3dcIiB8IFwiTWVkaXVtXCIgfCBcIkhpZ2hcIiB8IFwiTWF4XCIgPSBQbGF5ZXJQKFBsYXllcikucGV0U3BlYWtpbmc7XG4gICAgICAgICAgICByZXR1cm4gbmV4dChbTm9uRGlzcnVwdGl2ZVBldFNwZWVjaChtc2csIEdldEFsbG93ZWRQZXRHYXJibGVQaHJhc2VzKCksIHNwZWFrKV0pO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBQZXQgZ2FnZ2luZ1xuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJTcGVlY2hUcmFuc2Zvcm1HYWdHYXJibGVcIiwgNSwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHBldEdhZ2dpbmdPcHRpb24gPSBQbGF5ZXJQKFBsYXllcikucGV0R2FnZ2luZztcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAhZGVhZmVuUHJvY2Vzc1xuICAgICAgICAgICAgICAgICYmIHBldEdhZ2dpbmdPcHRpb24gIT09IFwiT2ZmXCJcbiAgICAgICAgICAgICAgICAmJiBDaGF0Um9vbUNoYXJhY3Rlci5sZW5ndGggIT09IDBcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwaHJhc2VzID0gR2V0QWxsb3dlZFBldEdhcmJsZVBocmFzZXMoKTtcbiAgICAgICAgICAgICAgICBpZiAocGhyYXNlcy5sZW5ndGggPT09IDApXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBzdHJlbmd0aCA9IChHQUdHSU5HX1NUUkVOR1RIX01BUFtQbGF5ZXJQKFBsYXllcikucGV0R2FnZ2luZ1N0cmVuZ3RoXSA/PyAwLjA1KSAqIGFyZ3NbMV07XG5cbiAgICAgICAgICAgICAgICBzd2l0Y2ggKFBsYXllclAoUGxheWVyKS5wZXRHYWdnaW5nKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkZpcnN0XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzWzBdID0gRGlzcnVwdGl2ZVBldFNwZWVjaChhcmdzWzBdLCBwaHJhc2VzLCBzdHJlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcblxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiTGFzdFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERpc3J1cHRpdmVQZXRTcGVlY2gobmV4dChhcmdzKSwgcGhyYXNlcywgc3RyZW5ndGgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJSZXBsYWNlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRGlzcnVwdGl2ZVBldFNwZWVjaChhcmdzWzBdLCBwaHJhc2VzLCBzdHJlbmd0aCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQmVsbCBqaW5nbGUgb24gbW92ZW1lbnRcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiQ2hhdFJvb21NYXBWaWV3VXBkYXRlUGxheWVyRmxhZ1wiLCAwLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgbmV4dChhcmdzKTtcbiAgICAgICAgICAgIGlmIChQbGF5ZXJQKCkuYmVsbEppbmdsZSAhPT0gXCJPZmZcIilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBQbGF5ZXJNb3ZlZEJlbGxKaW5nbGUodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJDaGF0Um9vbU1lc3NhZ2VcIiwgMCwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhcmdzWzBdO1xuICAgICAgICAgICAgaWYgKGRhdGE/LlNlbmRlciA9PT0gUGxheWVyLk1lbWJlck51bWJlclxuICAgICAgICAgICAgICAmJiBQbGF5ZXJQKCkuYmVsbEppbmdsZSAhPT0gXCJPZmZcIlxuICAgICAgICAgICAgICAmJiAoZGF0YS5UeXBlID09PSBcIkFjdGlvblwiIHx8IGRhdGEuVHlwZSA9PT0gXCJFbW90ZVwiKVxuICAgICAgICAgICAgICAmJiBNT1ZFTUVOVF9SRUdFWC50ZXN0KGRhdGEuQ29udGVudCkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgUGxheWVyTW92ZWRCZWxsSmluZ2xlKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiUG9zZVJlZnJlc2hcIiwgMCwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHBvc2VCZWZvcmUgPSBzdHJ1Y3R1cmVkQ2xvbmUoUGxheWVyLlBvc2UpO1xuICAgICAgICAgICAgY29uc3QgcG9zZU1hcHBpbmdCZWZvcmUgPSBzdHJ1Y3R1cmVkQ2xvbmUoUGxheWVyLlBvc2VNYXBwaW5nKTtcblxuICAgICAgICAgICAgbmV4dChhcmdzKTtcblxuICAgICAgICAgICAgY29uc3QgZnVsbEJvZHk6IEFzc2V0UG9zZU5hbWVbXSA9IFtcIkFsbEZvdXJzXCIsIFwiSG9ndGllZFwiLCBcIlN1c3BlbnNpb25cIl07XG4gICAgICAgICAgICBpZiAoZnVsbEJvZHkuc29tZSgocG9zZSkgPT4gcG9zZUJlZm9yZS5pbmNsdWRlcyhwb3NlKSAhPT0gUGxheWVyLlBvc2UuaW5jbHVkZXMocG9zZSkpXG4gICAgICAgICAgICAgIHx8IChwb3NlTWFwcGluZ0JlZm9yZT8uQm9keUxvd2VyID09PSBcIktuZWVsXCIgfHwgcG9zZU1hcHBpbmdCZWZvcmU/LkJvZHlMb3dlciA9PT0gXCJLbmVlbGluZ1NwcmVhZFwiKVxuICAgICAgICAgICAgICAhPT0gKFBsYXllci5Qb3NlTWFwcGluZz8uQm9keUxvd2VyID09PSBcIktuZWVsXCIgfHwgUGxheWVyLlBvc2VNYXBwaW5nPy5Cb2R5TG93ZXIgPT09IFwiS25lZWxpbmdTcHJlYWRcIikpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgUGxheWVyTW92ZWRCZWxsSmluZ2xlKHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBVbmxvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3VwZXIuVW5sb2FkKCk7XG5cbiAgICAgICAgU3BlZWNoVHJhbnNmb3JtQWxsRWZmZWN0cyA9IFNwZWVjaFRyYW5zZm9ybUFsbEVmZmVjdHMuZmlsdGVyKCh0cmFuc2Zvcm0pID0+IHRyYW5zZm9ybSBhcyBTcGVlY2hUcmFuc2Zvcm1OYW1lIHwgXCJwZXRTcGVha1wiICE9PSBcInBldFNwZWFrXCIpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IExvY2FsaXplZFRleHQgfSBmcm9tIFwiLi4vbG9jYWxpemF0aW9uL2xvY2FsaXphdGlvblwiO1xuaW1wb3J0IHsgRXhwb3J0U2V0dGluZ3NUb0NsaXBib2FyZCwgSW1wb3J0U2V0dGluZ3NGcm9tQ2xpcGJvYXJkLCBSZXNldFN0b3JhZ2UsIFNhdmVTdG9yYWdlIH0gZnJvbSBcIi4uL3V0aWwvc3RvcmFnZVwiO1xuaW1wb3J0IHsgSUNPTlMgfSBmcm9tIFwiLi4vdXRpbC9jb25zdGFudHNcIjtcbmltcG9ydCB7IElzRGlzcGxheVNldHRpbmcsIElzT3B0aW9uU2V0dGluZywgSXNDaGVja2JveFNldHRpbmcsIElzVGV4dFNldHRpbmcsIElzTnVtYmVyU2V0dGluZyB9IGZyb20gXCIuLi91dGlsL3NldHRpbmdUeXBlc1wiO1xuaW1wb3J0IHsgc2V0dGluZ3MgYXMgZGVmYXVsdFNldHRpbmdzIH0gZnJvbSBcIi4uL3V0aWwvcmVnaXN0ZXJNb2R1bGVzXCI7XG5pbXBvcnQgeyBBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUywgQXV0aG9yaXR5R3JvdXAsIEF1dGhvcml0eUlzQ29tcGFyaXNvblRvQ2hhcmFjdGVyLCBJc01lbWJlck51bWJlckluQXV0aEdyb3VwIH0gZnJvbSBcIi4uL3V0aWwvYXV0aG9yaXR5XCI7XG5pbXBvcnQgeyBTZW5kTVBBTWVzc2FnZSB9IGZyb20gXCIuLi91dGlsL21lc3NhZ2luZ1wiO1xuaW1wb3J0IHsgTW9kdWxlLCBNb2R1bGVUaXRsZSB9IGZyb20gXCIuL19tb2R1bGVcIjtcbmltcG9ydCB7IExldmVsU3luYyB9IGZyb20gXCIuL3ZpcnR1YWxQZXRcIjtcblxubGV0IHNldHRpbmdzRWRpdGVkID0gZmFsc2U7XG5sZXQgc2V0dGluZ0NoYXI6IFBsYXllckNoYXJhY3RlciB8IG51bGwgPSBudWxsO1xuZXhwb3J0IGZ1bmN0aW9uIFNldFNldHRpbmdDaGFyKGNoYXJhY3RlcjogUGxheWVyQ2hhcmFjdGVyKTogdm9pZFxue1xuICAgIHNldHRpbmdzRWRpdGVkID0gZmFsc2U7XG4gICAgc2V0dGluZ0NoYXIgPSBjaGFyYWN0ZXI7XG59XG5cbi8vIFNpemUgb2YgdGhlIGNhbnZhcyBpbiBnYW1lXG5jb25zdCBDQU5WQVNfV0lEVEggPSAyMDAwO1xuY29uc3QgX0NBTlZBU19IRUlHSFQgPSAxMDAwO1xuXG4vLyBFeGl0IGJ1dHRvbiBwb3Npc3Rpb24gb24gY2FudmFzXG5jb25zdCBFWElUX1BPU0lTVElPTiA9IFsxODE1LCA3NSwgOTAsIDkwXSBhcyBjb25zdDtcblxuLy8gTWVudSBsYXlvdXQgdmFsdWVzXG5jb25zdCBCVVRUT05fTUFYX05VTUJFUiA9IDc7XG5jb25zdCBCVVRUT05fV0lEVEggPSA0MDA7XG5jb25zdCBCVVRUT05fSEVJR0hUID0gOTA7XG5jb25zdCBCVVRUT05fVE9QID0gMTYwO1xuY29uc3QgQlVUVE9OX0xFRlQgPSA1MDA7XG5jb25zdCBCVVRUT05fR0FQID0gMjA7XG5jb25zdCBCVVRUT05fVEVYVF9QQURESU5HID0gMjA7XG5cbi8vIFBsYXllciBvbmx5IGJ1dHRvbnNcbmNvbnN0IFdJS0lfUE9TSVRJT04gPSBbMTAwLCA1MTAsIDM1MCwgNzVdIGFzIGNvbnN0O1xuY29uc3QgV0lLSV9MSU5LID0gXCJodHRwczovL2dpdGh1Yi5jb20vTWF5YVRoZUZveHkvTVBBL3dpa2lcIjtcbmNvbnN0IERJU0NPUkRfSU5WSVRFID0gXCJodHRwczovL2Rpc2NvcmQuZ2cvOUdId21IRU1BU1wiO1xuY29uc3QgRElTQ09SRF9QT1NJVElPTiA9IFtcbiAgICBXSUtJX1BPU0lUSU9OWzBdLFxuICAgIFdJS0lfUE9TSVRJT05bMV0gKyBXSUtJX1BPU0lUSU9OWzNdICsgQlVUVE9OX0dBUCxcbiAgICBXSUtJX1BPU0lUSU9OWzJdLFxuICAgIFdJS0lfUE9TSVRJT05bM11cbl0gYXMgY29uc3Q7XG5jb25zdCBSRVNFVF9QT1NJVElPTiA9IFtcbiAgICBESVNDT1JEX1BPU0lUSU9OWzBdLFxuICAgIERJU0NPUkRfUE9TSVRJT05bMV0gKyBESVNDT1JEX1BPU0lUSU9OWzNdICsgQlVUVE9OX0dBUCxcbiAgICBESVNDT1JEX1BPU0lUSU9OWzJdLFxuICAgIERJU0NPUkRfUE9TSVRJT05bM11cbl0gYXMgY29uc3Q7XG5jb25zdCBBTEVSVF9QT1NJVElPTiA9IFtcbiAgICBSRVNFVF9QT1NJVElPTlswXSxcbiAgICBSRVNFVF9QT1NJVElPTlsxXSAtIFJFU0VUX1BPU0lUSU9OWzNdLFxuICAgIFJFU0VUX1BPU0lUSU9OWzJdXG5dIGFzIGNvbnN0O1xubGV0IHNob3dTZXR0aW5nc0FsZXJ0OiBudW1iZXIgPSAwO1xubGV0IHNldHRpbmdzQWxlcnRUZXh0OiBzdHJpbmcgPSBcIlwiO1xuY29uc3QgSU1QT1JUX1BPU0lUSU9OID0gW1xuICAgIFJFU0VUX1BPU0lUSU9OWzBdLFxuICAgIFJFU0VUX1BPU0lUSU9OWzFdICsgUkVTRVRfUE9TSVRJT05bM10gKyBCVVRUT05fR0FQLFxuICAgIChSRVNFVF9QT1NJVElPTlsyXSAtIEJVVFRPTl9HQVApIC8gMixcbiAgICBSRVNFVF9QT1NJVElPTlszXVxuXSBhcyBjb25zdDtcbmNvbnN0IEVYUE9SVF9QT1NJVElPTiA9IFtcbiAgICBSRVNFVF9QT1NJVElPTlswXSArICgoUkVTRVRfUE9TSVRJT05bMl0gKyBCVVRUT05fR0FQKSAvIDIpLFxuICAgIFJFU0VUX1BPU0lUSU9OWzFdICsgUkVTRVRfUE9TSVRJT05bM10gKyBCVVRUT05fR0FQLFxuICAgIChSRVNFVF9QT1NJVElPTlsyXSAtIEJVVFRPTl9HQVApIC8gMixcbiAgICBSRVNFVF9QT1NJVElPTlszXVxuXSBhcyBjb25zdDtcbmNvbnN0IFJFU0VUX0NPTkZJUk1fUE9TSVRJT04gPSBbMzAwLCA3MDAsIDI1MCwgOTBdIGFzIGNvbnN0O1xuY29uc3QgUkVTRVRfQ0FOQ0VMX1BPU0lUSU9OID0gWzE0NTAsIDcwMCwgMjUwLCA5MF0gYXMgY29uc3Q7XG5jb25zdCBWRVJTSU9OX1RFWFQgPSBbXG4gICAgV0lLSV9QT1NJVElPTlsyXSAvIDIgKyBXSUtJX1BPU0lUSU9OWzBdLFxuICAgIFdJS0lfUE9TSVRJT05bMV0gLSAoQlVUVE9OX0dBUCAqIDIpLFxuICAgIFdJS0lfUE9TSVRJT05bMl1cbl0gYXMgY29uc3Q7XG5cbi8vIENhbiBhZGQgb3IgcmVtb3ZlIG1vZHVsZXMgZGVwZW5kaW5nIG9uIGlmIHdhbnRpbmcgdG8gZGlzcGxheSB0aGVtIG9yIG5vdFxuLy8gT3JkZXIgZ2l2ZW4gaXMgdGhlIG9yZGVyIGRpc3BsYXllZFxuZnVuY3Rpb24gTUVOVV9DQVRFR09SSUVTKCk6IE1vZHVsZVRpdGxlW11cbntcbiAgICBpZiAoIXNldHRpbmdDaGFyKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICAvLyBEaXNwbGF5IHNldHRpbmdzIGlmIHlvdSBhcmUgdGhlIFBsYXllclxuICAgIGlmIChzZXR0aW5nQ2hhci5Jc1BsYXllcigpKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIE1vZHVsZVRpdGxlLkF1dGhvcml0eSxcbiAgICAgICAgICAgIE1vZHVsZVRpdGxlLlByb2ZpbGUsXG4gICAgICAgICAgICBNb2R1bGVUaXRsZS5DbGlja2VyLFxuICAgICAgICAgICAgTW9kdWxlVGl0bGUuVmlydHVhbFBldCxcbiAgICAgICAgICAgIE1vZHVsZVRpdGxlLlZpcnR1YWxQZXRIVUQsXG4gICAgICAgICAgICBNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9uc1xuICAgICAgICBdO1xuICAgIH1cbiAgICAvLyBEaXNwbGF5IHNldHRpbmdzIGlmIHlvdSBhcmUgYW4gYW5vdGhlciBwbGF5ZXJcbiAgICByZXR1cm4gW1xuICAgICAgICBNb2R1bGVUaXRsZS5BdXRob3JpdHksXG4gICAgICAgIE1vZHVsZVRpdGxlLlByb2ZpbGUsXG4gICAgICAgIE1vZHVsZVRpdGxlLkNsaWNrZXIsXG4gICAgICAgIE1vZHVsZVRpdGxlLlZpcnR1YWxQZXQsXG4gICAgICAgIE1vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zXG4gICAgXTtcbn1cblxuZXhwb3J0IGNvbnN0IE1FTlVfVElUTEVTOiBQYXJ0aWFsPFJlY29yZDxNb2R1bGVUaXRsZSwgc3RyaW5nPj4gPVxue1xuICAgIFtNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XTogXCJWaXJ0dWFsIFBldFwiLFxuICAgIFtNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0SFVEXTogXCJWaXJ0dWFsIFBldCBIdWRcIixcbiAgICBbTW9kdWxlVGl0bGUuVmlydHVhbFBldENvbmRpdGlvbnNdOiBcIlZpcnR1YWwgUGV0IENvbmRpdGlvbnNcIlxufTtcblxuZXhwb3J0IGxldCBjdXJyZW50TWVudTogTW9kdWxlVGl0bGUgfCBudWxsIHwgXCJSRVNFVF9TZXR0aW5nc1wiID0gbnVsbDtcbmxldCBzZXR0aW5nc09wZW46IGJvb2xlYW4gPSBmYWxzZTtcbmxldCBhbGxvd1Jlc2V0VGltZTogbnVtYmVyID0gMDtcblxuRHJhd0J1dHRvbigxNTIwLCA3MjAsIDIwMCwgODAsIFwiQ2FuY2VsXCIsIFwiV2hpdGVcIik7XG5cbmZ1bmN0aW9uIERyYXdNZW51T3B0aW9ucyhtZW51T3B0aW9uczogc3RyaW5nW10pOiB2b2lkXG57XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZW51T3B0aW9ucy5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICAgIERyYXdCdXR0b24oXG4gICAgICAgICAgICBCVVRUT05fTEVGVCArIChCVVRUT05fV0lEVEggKyBCVVRUT05fR0FQKSAqIE1hdGguZmxvb3IoaSAvIEJVVFRPTl9NQVhfTlVNQkVSKSxcbiAgICAgICAgICAgIEJVVFRPTl9UT1AgKyAoQlVUVE9OX0hFSUdIVCArIEJVVFRPTl9HQVApICogKGkgJSBCVVRUT05fTUFYX05VTUJFUiksXG4gICAgICAgICAgICBCVVRUT05fV0lEVEgsXG4gICAgICAgICAgICBCVVRUT05fSEVJR0hULFxuICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgIFwiV2hpdGVcIlxuICAgICAgICApO1xuICAgICAgICBEcmF3VGV4dEZpdChcbiAgICAgICAgICAgIExvY2FsaXplZFRleHQoTUVOVV9USVRMRVNbbWVudU9wdGlvbnNbaV1dID8/IG1lbnVPcHRpb25zW2ldKSxcbiAgICAgICAgICAgIChCVVRUT05fTEVGVCArIEJVVFRPTl9URVhUX1BBRERJTkcpICsgKEJVVFRPTl9XSURUSCArIEJVVFRPTl9HQVApICogTWF0aC5mbG9vcihpIC8gQlVUVE9OX01BWF9OVU1CRVIpLFxuICAgICAgICAgICAgKEJVVFRPTl9UT1AgKyBNYXRoLmZsb29yKEJVVFRPTl9IRUlHSFQgLyAyKSkgKyAoQlVUVE9OX0hFSUdIVCArIEJVVFRPTl9HQVApICogKGkgJSBCVVRUT05fTUFYX05VTUJFUiksXG4gICAgICAgICAgICBCVVRUT05fV0lEVEggLSBCVVRUT05fVEVYVF9QQURESU5HICogMixcbiAgICAgICAgICAgIFwiQmxhY2tcIixcbiAgICAgICAgICAgIFwiR3JheVwiXG4gICAgICAgICk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBHZXRDbGlja2VkTWVudShtZW51T3B0aW9uczogTW9kdWxlVGl0bGVbXSk6IE1vZHVsZVRpdGxlIHwgbnVsbFxue1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWVudU9wdGlvbnMubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgICBpZiAoTW91c2VJbihcbiAgICAgICAgICAgIEJVVFRPTl9MRUZUICsgKEJVVFRPTl9XSURUSCArIEJVVFRPTl9HQVApICogTWF0aC5mbG9vcihpIC8gQlVUVE9OX01BWF9OVU1CRVIpLFxuICAgICAgICAgICAgQlVUVE9OX1RPUCArIChCVVRUT05fSEVJR0hUICsgQlVUVE9OX0dBUCkgKiAoaSAlIEJVVFRPTl9NQVhfTlVNQkVSKSxcbiAgICAgICAgICAgIEJVVFRPTl9XSURUSCxcbiAgICAgICAgICAgIEJVVFRPTl9IRUlHSFRcbiAgICAgICAgKSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIG1lbnVPcHRpb25zW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuXG4vLyBPcHRpb25zIGxheW91dFxuLy8gTWF5IG5vdCBiZSBuZWVkZWQuIFdpbGwgaGF2ZSB0byB1c2UgaWYgdGhlcmUgYXJlIG1vcmUgdGhhbiAxMCBzZXR0aW5ncyB0byBkaXNwbGF5IHBlciBjYXRlZ29yeVxuY29uc3QgT1BUSU9OX1BFUl9QQUdFID0gOTtcbmNvbnN0IE9QVElPTl9IRUlHSFQgPSA2NDtcbmNvbnN0IE9QVElPTl9UT1AgPSAyMDA7XG5jb25zdCBPUFRJT05fTEVGVCA9IDI1MDtcbmNvbnN0IE9QVElPTl9HQVAgPSAxMDtcbmNvbnN0IE9QVElPTl9DSEVDS0JPWF9TSVpFID0gNjQ7XG5jb25zdCBPUFRJT05fQkFDS19ORVhUX1dJRFRIID0gMjU2O1xuY29uc3QgT1BUSU9OX1RFWFRfV0lEVEggPSAyNTY7XG5jb25zdCBPUFRJT05fVEVYVF9NQVhfQ0hBUlMgPSAyNTY7XG5sZXQgY3VycmVudFBhZ2U6IG51bWJlciA9IDE7XG5sZXQgbWF4UGFnZXM6IG51bWJlciA9IDE7XG5cbmNvbnN0IE5FWFRfQlVUVE9OX1BPUyA9IFsxNjM1LCA3NSwgOTAsIDkwXSBhcyBjb25zdDtcbmNvbnN0IFBSRVZfQlVUVE9OX1BPUyA9IFtORVhUX0JVVFRPTl9QT1NbMF0gLSBORVhUX0JVVFRPTl9QT1NbMl0sIE5FWFRfQlVUVE9OX1BPU1sxXSwgTkVYVF9CVVRUT05fUE9TWzJdLCBORVhUX0JVVFRPTl9QT1NbMl1dIGFzIGNvbnN0O1xuXG5mdW5jdGlvbiBEcmF3UGFnZXNCdXR0b25zKCk6IHZvaWRcbntcbiAgICAvLyBBc3NldCBjdXJyZW50IHBhZ2UgaXMgaW4gY29ycmVjdCByYW5nZVxuICAgIGlmIChjdXJyZW50UGFnZSA+IG1heFBhZ2VzKVxuICAgIHtcbiAgICAgICAgY3VycmVudFBhZ2UgPSBtYXhQYWdlcztcbiAgICB9XG4gICAgaWYgKGN1cnJlbnRQYWdlIDwgMSlcbiAgICB7XG4gICAgICAgIGN1cnJlbnRQYWdlID0gMTtcbiAgICB9XG5cbiAgICBEcmF3QnV0dG9uKFxuICAgICAgICAuLi5ORVhUX0JVVFRPTl9QT1MsXG4gICAgICAgIFwiXCIsXG4gICAgICAgIGN1cnJlbnRQYWdlID49IG1heFBhZ2VzID8gXCIjYWFhYWFhXCIgOiBcIiNmZmZmZmZcIixcbiAgICAgICAgXCJJY29ucy9OZXh0LnBuZ1wiLFxuICAgICAgICBcIk5leHQgUGFnZVwiLFxuICAgICAgICBjdXJyZW50UGFnZSA+PSBtYXhQYWdlc1xuICAgICk7XG4gICAgRHJhd0J1dHRvbihcbiAgICAgICAgLi4uUFJFVl9CVVRUT05fUE9TLFxuICAgICAgICBcIlwiLFxuICAgICAgICAxID49IGN1cnJlbnRQYWdlID8gXCIjYWFhYWFhXCIgOiBcIiNmZmZmZmZcIixcbiAgICAgICAgXCJJY29ucy9QcmV2LnBuZ1wiLFxuICAgICAgICBcIlByZXZpb3VzIFBhZ2VcIixcbiAgICAgICAgMSA+PSBjdXJyZW50UGFnZVxuICAgICk7XG59XG5cbmZ1bmN0aW9uIERyYXdTdWJNZW51T3B0aW9ucyhzdWJNZW51OiBNb2R1bGVUaXRsZSk6IHZvaWRcbntcbiAgICAvLyBTaG91bGRuJ3QgYmUgbmVlZGVkIGJ1dCBhY3RzIGFzIGZhaWxzYWZlIGFuZCBtYWtlcyB0eXBlc2NyaXB0IGhhcHB5XG4gICAgaWYgKCFzZXR0aW5nQ2hhcikgeyByZXR1cm47IH1cblxuICAgIC8vIFNldHRpbmdzIGhhdmUgdG8gYmUgZGlzcGxheWFibGUgYW5kIGhhdmUgYSB2YWx1ZSBleGlzdCBpbiB0aGUgc3RvcmVkIHNldHRpbmdzXG4gICAgY29uc3Qgc2V0dGluZ3NUb0Rpc3BsYXkgPSBPYmplY3QuZW50cmllcyhkZWZhdWx0U2V0dGluZ3Nbc3ViTWVudV0gPz8ge30pXG4gICAgICAgIC5maWx0ZXIoKFtrZXksIHNldHRpbmddKSA9PiBJc0Rpc3BsYXlTZXR0aW5nKHNldHRpbmcpICYmIChrZXkgaW4gKHNldHRpbmdDaGFyPy5NUEFbc3ViTWVudV0gPz8ge30pKSk7XG5cbiAgICAvLyBOZXh0IGFuZCBwcmV2aW91cyBvcHRpb24gYnV0dG9uc1xuICAgIGlmIChtYXhQYWdlcyAhPT0gMSlcbiAgICB7XG4gICAgICAgIERyYXdQYWdlc0J1dHRvbnMoKTtcbiAgICB9XG5cbiAgICBzZXR0aW5nc1RvRGlzcGxheS5zbGljZSgoY3VycmVudFBhZ2UgLSAxKSAqIE9QVElPTl9QRVJfUEFHRSwgY3VycmVudFBhZ2UgKiBPUFRJT05fUEVSX1BBR0UpLmZvckVhY2goKHZhbCwgaSkgPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IFtzZXR0aW5nTmFtZSwgc2V0dGluZ10gPSB2YWwgYXMgW3N0cmluZywgRGlzcGxheWVkU2V0dGluZ107XG5cbiAgICAgICAgY29uc3QgZGlzYWJsZWRTZXR0aW5nID0gIXNldHRpbmcuYWN0aXZlKHNldHRpbmdDaGFyISlcbiAgICAgICAgICB8fCAoXG4gICAgICAgICAgICAgIGBvdGhlcnMke3N1Yk1lbnV9YCBpbiBzZXR0aW5nQ2hhciEuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV1cbiAgICAgICAgICAgICAgJiYgYHNlbGYke3N1Yk1lbnV9YCBpbiBzZXR0aW5nQ2hhciEuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV1cbiAgICAgICAgICAgICAgJiYgIUlzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAoXG4gICAgICAgICAgICAgICAgICBQbGF5ZXIuTWVtYmVyTnVtYmVyID8/IC0xLFxuICAgICAgICAgICAgICAgICAgc2V0dGluZ0NoYXIhLk1QQVtNb2R1bGVUaXRsZS5BdXRob3JpdHldW2BvdGhlcnMke3N1Yk1lbnV9YF0gYXMgQXV0aG9yaXR5R3JvdXAsXG4gICAgICAgICAgICAgICAgICBzZXR0aW5nQ2hhciEuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV1bYHNlbGYke3N1Yk1lbnV9YF0gYXMgYm9vbGVhbixcbiAgICAgICAgICAgICAgICAgIHNldHRpbmdDaGFyIVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgKVxuICAgICAgICAgIHx8IChcbiAgICAgICAgICAgICAgIVBsYXllci5DYW5JbnRlcmFjdCgpICYmIChcbiAgICAgICAgICAgICAgICAgIChzZXR0aW5nQ2hhcj8uTWVtYmVyTnVtYmVyID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICYmICFQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV0uYm91bmRBY2Nlc3NTZWxmKVxuICAgICAgICAgICAgICAgICAgfHwgKHNldHRpbmdDaGFyPy5NZW1iZXJOdW1iZXIgIT09IFBsYXllci5NZW1iZXJOdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgJiYgIVBsYXllci5NUEFbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XS5ib3VuZEFjY2Vzc090aGVycylcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICk7XG5cbiAgICAgICAgaWYgKElzQ2hlY2tib3hTZXR0aW5nKHNldHRpbmcpKVxuICAgICAgICB7XG4gICAgICAgICAgICBEcmF3Q2hlY2tib3goXG4gICAgICAgICAgICAgICAgT1BUSU9OX0xFRlQsXG4gICAgICAgICAgICAgICAgT1BUSU9OX1RPUCArIChpICogKE9QVElPTl9HQVAgKyBPUFRJT05fSEVJR0hUKSksXG4gICAgICAgICAgICAgICAgT1BUSU9OX0NIRUNLQk9YX1NJWkUsXG4gICAgICAgICAgICAgICAgT1BUSU9OX0NIRUNLQk9YX1NJWkUsXG4gICAgICAgICAgICAgICAgTG9jYWxpemVkVGV4dChzZXR0aW5nLmxhYmVsKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZUFsbChcIlRhcmdldENoYXJhY3RlclwiLCAoc2V0dGluZ0NoYXI/Lk5pY2tuYW1lIHx8IHNldHRpbmdDaGFyPy5OYW1lKSA/PyBcIlwiKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZUFsbChcIlRhcmdldFByb25vdW5Qb3NzZXNzaXZlXCIsIHNldHRpbmdDaGFyPy5HZXRQcm9ub3VucygpID09PSBcIlNoZUhlclwiID8gXCJoZXJcIiA6IFwiaGlzXCIpLFxuICAgICAgICAgICAgICAgICEhc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0sXG4gICAgICAgICAgICAgICAgZGlzYWJsZWRTZXR0aW5nLFxuICAgICAgICAgICAgICAgIFwiQmxhY2tcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChJc09wdGlvblNldHRpbmcoc2V0dGluZykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gc2V0dGluZy5vcHRpb25zLmluZGV4T2Yoc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gYXMgc3RyaW5nKTtcbiAgICAgICAgICAgIGNvbnN0IG9wdExlbiA9IHNldHRpbmcub3B0aW9ucy5sZW5ndGg7XG5cbiAgICAgICAgICAgIC8vIENhbid0IGRlY3JlYXNlIGF1dGhvcml0eSBiZXlvbmQgaWYgdGhlIHBsYXllciBpcyBub3Qgb2YgdGhhdCByYW5rXG4gICAgICAgICAgICBjb25zdCBwcm9maWxlT3JFeGNsdWRlcyA9IChzdWJNZW51ICE9PSBNb2R1bGVUaXRsZS5BdXRob3JpdHkpIHx8ICFBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUy5pbmNsdWRlcyhzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSk7XG4gICAgICAgICAgICBjb25zdCBwcmV2RGlzYWJsZWQgPSAhKHByb2ZpbGVPckV4Y2x1ZGVzIHx8IEF1dGhvcml0eUlzQ29tcGFyaXNvblRvQ2hhcmFjdGVyKHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdIGFzIEF1dGhvcml0eUdyb3VwLCBcIj49XCIsIFBsYXllci5NZW1iZXJOdW1iZXIgPz8gLTEsIHNldHRpbmdDaGFyISkpO1xuICAgICAgICAgICAgY29uc3QgbmV4dERpc2FibGVkID0gIShwcm9maWxlT3JFeGNsdWRlcyB8fCBBdXRob3JpdHlJc0NvbXBhcmlzb25Ub0NoYXJhY3RlcihzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSBhcyBBdXRob3JpdHlHcm91cCwgXCI+XCIsIFBsYXllci5NZW1iZXJOdW1iZXIgPz8gLTEsIHNldHRpbmdDaGFyISkpXG4gICAgICAgICAgICAgICYmIHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdICE9PSBcIlNlbGZcIjtcblxuICAgICAgICAgICAgRHJhd0JhY2tOZXh0QnV0dG9uKFxuICAgICAgICAgICAgICAgIE9QVElPTl9MRUZULFxuICAgICAgICAgICAgICAgIE9QVElPTl9UT1AgKyAoaSAqIChPUFRJT05fR0FQICsgT1BUSU9OX0hFSUdIVCkpLFxuICAgICAgICAgICAgICAgIE9QVElPTl9CQUNLX05FWFRfV0lEVEgsXG4gICAgICAgICAgICAgICAgT1BUSU9OX0hFSUdIVCxcbiAgICAgICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdIGFzIHN0cmluZyksXG4gICAgICAgICAgICAgICAgIShkaXNhYmxlZFNldHRpbmcgfHwgKHByZXZEaXNhYmxlZCAmJiBuZXh0RGlzYWJsZWQpKSA/IFwiI2ZmZmZmZlwiIDogXCIjYWFhYWFhXCIsXG4gICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAoKSA9PiBMb2NhbGl6ZWRUZXh0KHByZXZEaXNhYmxlZCA/IFwiXCIgOiAoc2V0dGluZy5sb29wID8gc2V0dGluZy5vcHRpb25zWyhpbmRleCAtIDEgKyBvcHRMZW4pICUgb3B0TGVuXSA6IGluZGV4ID4gMCA/IHNldHRpbmcub3B0aW9uc1tpbmRleCAtIDFdIDogXCJcIikpLFxuICAgICAgICAgICAgICAgICgpID0+IExvY2FsaXplZFRleHQobmV4dERpc2FibGVkID8gXCJcIiA6IChzZXR0aW5nLmxvb3AgPyBzZXR0aW5nLm9wdGlvbnNbKGluZGV4ICsgMSArIG9wdExlbikgJSBvcHRMZW5dIDogaW5kZXggKyAxIDwgb3B0TGVuID8gc2V0dGluZy5vcHRpb25zW2luZGV4ICsgMV0gOiBcIlwiKSksXG4gICAgICAgICAgICAgICAgZGlzYWJsZWRTZXR0aW5nIHx8IChwcmV2RGlzYWJsZWQgJiYgbmV4dERpc2FibGVkKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIERyYXdUZXh0Rml0KFxuICAgICAgICAgICAgICAgIExvY2FsaXplZFRleHQoc2V0dGluZy5sYWJlbClcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2VBbGwoXCJUYXJnZXRDaGFyYWN0ZXJcIiwgKHNldHRpbmdDaGFyPy5OaWNrbmFtZSB8fCBzZXR0aW5nQ2hhcj8uTmFtZSkgPz8gXCJcIilcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2VBbGwoXCJUYXJnZXRQcm9ub3VuUG9zc2Vzc2l2ZVwiLCBzZXR0aW5nQ2hhcj8uR2V0UHJvbm91bnMoKSA9PT0gXCJTaGVIZXJcIiA/IFwiaGVyXCIgOiBcImhpc1wiKSxcbiAgICAgICAgICAgICAgICBPUFRJT05fTEVGVCArIE9QVElPTl9CQUNLX05FWFRfV0lEVEggKyAoT1BUSU9OX0dBUCAqIDIpLFxuICAgICAgICAgICAgICAgIE9QVElPTl9UT1AgKyAoaSAqIChPUFRJT05fR0FQICsgT1BUSU9OX0hFSUdIVCkgKyBNYXRoLmNlaWwoT1BUSU9OX0hFSUdIVCAvIDIpKSxcbiAgICAgICAgICAgICAgICBDQU5WQVNfV0lEVEggLSAoT1BUSU9OX0xFRlQgKiAyKSAtIE9QVElPTl9CQUNLX05FWFRfV0lEVEgsXG4gICAgICAgICAgICAgICAgXCJCbGFja1wiLFxuICAgICAgICAgICAgICAgIFwiR3JheVwiXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKElzVGV4dFNldHRpbmcoc2V0dGluZykgfHwgSXNOdW1iZXJTZXR0aW5nKHNldHRpbmcpKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBpZCA9IEVsZW1lbnROYW1lKHN1Yk1lbnUsIHNldHRpbmdOYW1lKTtcbiAgICAgICAgICAgIEVsZW1lbnRQb3NpdGlvbkZpeGVkKFxuICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgIE9QVElPTl9MRUZULFxuICAgICAgICAgICAgICAgIE9QVElPTl9UT1AgKyAoaSAqIChPUFRJT05fR0FQICsgT1BUSU9OX0hFSUdIVCkpLFxuICAgICAgICAgICAgICAgIHNldHRpbmcud2lkdGggPz8gT1BUSU9OX1RFWFRfV0lEVEgsXG4gICAgICAgICAgICAgICAgT1BUSU9OX0hFSUdIVFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmIChkaXNhYmxlZFNldHRpbmcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgRWxlbWVudFNldEF0dHJpYnV0ZShpZCwgXCJkaXNhYmxlZFwiLCBcInRydWVcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgRWxlbWVudFJlbW92ZUF0dHJpYnV0ZShpZCwgXCJkaXNhYmxlZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIERyYXdUZXh0Rml0KFxuICAgICAgICAgICAgICAgIExvY2FsaXplZFRleHQoc2V0dGluZy5sYWJlbClcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2VBbGwoXCJUYXJnZXRDaGFyYWN0ZXJcIiwgKHNldHRpbmdDaGFyPy5OaWNrbmFtZSB8fCBzZXR0aW5nQ2hhcj8uTmFtZSkgPz8gXCJcIilcbiAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2VBbGwoXCJUYXJnZXRQcm9ub3VuUG9zc2Vzc2l2ZVwiLCBzZXR0aW5nQ2hhcj8uR2V0UHJvbm91bnMoKSA9PT0gXCJTaGVIZXJcIiA/IFwiaGVyXCIgOiBcImhpc1wiKSxcbiAgICAgICAgICAgICAgICBPUFRJT05fTEVGVCArIChzZXR0aW5nLndpZHRoID8/IE9QVElPTl9URVhUX1dJRFRIKSArIChPUFRJT05fR0FQICogMiksXG4gICAgICAgICAgICAgICAgT1BUSU9OX1RPUCArIChpICogKE9QVElPTl9HQVAgKyBPUFRJT05fSEVJR0hUKSkgKyBNYXRoLmNlaWwoT1BUSU9OX0hFSUdIVCAvIDIpLFxuICAgICAgICAgICAgICAgIENBTlZBU19XSURUSCAtIChPUFRJT05fTEVGVCAqIDIpIC0gKHNldHRpbmcud2lkdGggPz8gT1BUSU9OX1RFWFRfV0lEVEgpLFxuICAgICAgICAgICAgICAgIFwiQmxhY2tcIixcbiAgICAgICAgICAgICAgICBcIkdyYXlcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBHZXRDbGlja2VkT3B0aW9uKHN1Yk1lbnU6IE1vZHVsZVRpdGxlKTogdm9pZFxue1xuICAgIC8vIFNob3VsZG4ndCBiZSBuZWVkZWQgYnV0IGFjdHMgYXMgZmFpbHNhZmUgYW5kIG1ha2VzIHR5cGVzY3JpcHQgaGFwcHlcbiAgICBpZiAoIXNldHRpbmdDaGFyKSB7IHJldHVybjsgfVxuXG4gICAgLy8gU2V0dGluZ3MgaGF2ZSB0byBiZSBkaXNwbGF5YWJsZSBhbmQgaGF2ZSBhIHZhbHVlIGV4aXN0IGluIHRoZSBzdG9yZWQgc2V0dGluZ3NcbiAgICBjb25zdCBzZXR0aW5nc1RvRGlzcGxheSA9IE9iamVjdC5lbnRyaWVzKGRlZmF1bHRTZXR0aW5nc1tzdWJNZW51XSA/PyB7fSlcbiAgICAgICAgLmZpbHRlcigoW2tleSwgc2V0dGluZ10pID0+IElzRGlzcGxheVNldHRpbmcoc2V0dGluZykgJiYgKGtleSBpbiAoc2V0dGluZ0NoYXI/Lk1QQVtzdWJNZW51XSA/PyB7fSkpKTtcblxuICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgdGhlIG9wdGlvbnMgYW5kIGNoZWNrIGlmIHRoZSBjbGljayBvY2N1cmVkIGluIHRoZSB0eXBlJ3MgY29ycmVzcG9uZGluZyBjbGljayB6b25lXG4gICAgc2V0dGluZ3NUb0Rpc3BsYXkuc2xpY2UoKGN1cnJlbnRQYWdlIC0gMSkgKiBPUFRJT05fUEVSX1BBR0UsIGN1cnJlbnRQYWdlICogT1BUSU9OX1BFUl9QQUdFKS5mb3JFYWNoKCh2YWwsIGkpID0+XG4gICAge1xuICAgICAgICBjb25zdCBbc2V0dGluZ05hbWUsIHNldHRpbmddID0gdmFsIGFzIFtzdHJpbmcsIERpc3BsYXllZFNldHRpbmddO1xuXG4gICAgICAgIGNvbnN0IGRpc2FibGVkU2V0dGluZyA9ICFzZXR0aW5nLmFjdGl2ZShzZXR0aW5nQ2hhciEpXG4gICAgICAgICAgfHwgKFxuICAgICAgICAgICAgICBgb3RoZXJzJHtzdWJNZW51fWAgaW4gc2V0dGluZ0NoYXIhLk1QQVtNb2R1bGVUaXRsZS5BdXRob3JpdHldXG4gICAgICAgICAgICAgICYmIGBzZWxmJHtzdWJNZW51fWAgaW4gc2V0dGluZ0NoYXIhLk1QQVtNb2R1bGVUaXRsZS5BdXRob3JpdHldXG4gICAgICAgICAgICAgICYmICFJc01lbWJlck51bWJlckluQXV0aEdyb3VwKFxuICAgICAgICAgICAgICAgICAgUGxheWVyLk1lbWJlck51bWJlciA/PyAtMSxcbiAgICAgICAgICAgICAgICAgIHNldHRpbmdDaGFyIS5NUEFbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XVtgb3RoZXJzJHtzdWJNZW51fWBdIGFzIEF1dGhvcml0eUdyb3VwLFxuICAgICAgICAgICAgICAgICAgc2V0dGluZ0NoYXIhLk1QQVtNb2R1bGVUaXRsZS5BdXRob3JpdHldW2BzZWxmJHtzdWJNZW51fWBdIGFzIGJvb2xlYW4sXG4gICAgICAgICAgICAgICAgICBzZXR0aW5nQ2hhciFcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgIClcbiAgICAgICAgICB8fCAoXG4gICAgICAgICAgICAgICFQbGF5ZXIuQ2FuSW50ZXJhY3QoKSAmJiAoXG4gICAgICAgICAgICAgICAgICAoc2V0dGluZ0NoYXI/Lk1lbWJlck51bWJlciA9PT0gUGxheWVyLk1lbWJlck51bWJlclxuICAgICAgICAgICAgICAgICAgICAmJiAhUGxheWVyLk1QQVtNb2R1bGVUaXRsZS5BdXRob3JpdHldLmJvdW5kQWNjZXNzU2VsZilcbiAgICAgICAgICAgICAgICAgIHx8IChzZXR0aW5nQ2hhcj8uTWVtYmVyTnVtYmVyICE9PSBQbGF5ZXIuTWVtYmVyTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICYmICFQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV0uYm91bmRBY2Nlc3NPdGhlcnMpXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuXG4gICAgICAgIGlmIChJc0NoZWNrYm94U2V0dGluZyhzZXR0aW5nKSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIE1vdXNlSW4oXG4gICAgICAgICAgICAgICAgICAgIE9QVElPTl9MRUZULFxuICAgICAgICAgICAgICAgICAgICBPUFRJT05fVE9QICsgKGkgKiAoT1BUSU9OX0dBUCArIE9QVElPTl9IRUlHSFQpKSxcbiAgICAgICAgICAgICAgICAgICAgT1BUSU9OX0NIRUNLQk9YX1NJWkUsXG4gICAgICAgICAgICAgICAgICAgIE9QVElPTl9DSEVDS0JPWF9TSVpFXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICYmICFkaXNhYmxlZFNldHRpbmdcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSA9ICFzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXTtcbiAgICAgICAgICAgICAgICBpZiAoc2V0dGluZy5vblNldClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmcub25TZXQoc2V0dGluZ0NoYXIhLCBzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSwgIXNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2V0dGluZ3NFZGl0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKElzT3B0aW9uU2V0dGluZyhzZXR0aW5nKSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBzZXR0aW5nLm9wdGlvbnMuaW5kZXhPZihzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSBhcyBzdHJpbmcpO1xuICAgICAgICAgICAgY29uc3Qgb3B0TGVuID0gc2V0dGluZy5vcHRpb25zLmxlbmd0aDtcbiAgICAgICAgICAgIC8vIEJhY2sgYXJyb3dcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBNb3VzZUluKFxuICAgICAgICAgICAgICAgICAgICBPUFRJT05fTEVGVCxcbiAgICAgICAgICAgICAgICAgICAgT1BUSU9OX1RPUCArIChpICogKE9QVElPTl9HQVAgKyBPUFRJT05fSEVJR0hUKSksXG4gICAgICAgICAgICAgICAgICAgIE1hdGguZmxvb3IoT1BUSU9OX0JBQ0tfTkVYVF9XSURUSCAvIDIpLFxuICAgICAgICAgICAgICAgICAgICBPUFRJT05fSEVJR0hUXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICYmICFkaXNhYmxlZFNldHRpbmdcbiAgICAgICAgICAgICAgICAmJiAoc2V0dGluZy5sb29wXG4gICAgICAgICAgICAgICAgICB8fCBpbmRleCA+IDApXG4gICAgICAgICAgICAgICAgLy8gQ2FuJ3QgZGVjcmVhc2UgYXV0aG9yaXR5IGJleW9uZCBpZiB0aGUgcGxheWVyIGlzIG5vdCBvZiB0aGF0IHJhbmtcbiAgICAgICAgICAgICAgICAmJiAoc3ViTWVudSAhPT0gTW9kdWxlVGl0bGUuQXV0aG9yaXR5XG4gICAgICAgICAgICAgICAgICB8fCAhQVVUSE9SSVRZX0dST1VQX09QVElPTlMuaW5jbHVkZXMoc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0pXG4gICAgICAgICAgICAgICAgICB8fCBBdXRob3JpdHlJc0NvbXBhcmlzb25Ub0NoYXJhY3RlcihzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSBhcyBBdXRob3JpdHlHcm91cCwgXCI+PVwiLCBQbGF5ZXIuTWVtYmVyTnVtYmVyID8/IC0xLCBzZXR0aW5nQ2hhciEpKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZWYWx1ZSA9IHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdO1xuICAgICAgICAgICAgICAgIHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdID0gc2V0dGluZy5vcHRpb25zWyhpbmRleCAtIDEgKyBvcHRMZW4pICUgb3B0TGVuXTtcbiAgICAgICAgICAgICAgICBpZiAoc2V0dGluZy5vblNldClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmcub25TZXQoc2V0dGluZ0NoYXIhLCBzZXR0aW5nLm9wdGlvbnNbKGluZGV4IC0gMSArIG9wdExlbikgJSBvcHRMZW5dLCBwcmV2VmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZXR0aW5nc0VkaXRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBOZXh0IGFycm93XG4gICAgICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgICAgICAgICBNb3VzZUluKFxuICAgICAgICAgICAgICAgICAgICBPUFRJT05fTEVGVCArIE1hdGguZmxvb3IoT1BUSU9OX0JBQ0tfTkVYVF9XSURUSCAvIDIpLFxuICAgICAgICAgICAgICAgICAgICBPUFRJT05fVE9QICsgKGkgKiAoT1BUSU9OX0dBUCArIE9QVElPTl9IRUlHSFQpKSxcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5jZWlsKE9QVElPTl9CQUNLX05FWFRfV0lEVEggLyAyKSxcbiAgICAgICAgICAgICAgICAgICAgT1BUSU9OX0hFSUdIVFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAmJiAhZGlzYWJsZWRTZXR0aW5nXG4gICAgICAgICAgICAgICAgJiYgKHNldHRpbmcubG9vcFxuICAgICAgICAgICAgICAgICAgfHwgaW5kZXggKyAxIDwgc2V0dGluZy5vcHRpb25zLmxlbmd0aClcbiAgICAgICAgICAgICAgICAvLyBDYW4ndCBpbmNyZWFzZSBhdXRob3JpdHkgYmV5b25kIHdoYXQgdGhlIHBsYXllciB3aG8gaXMgc2V0dGluZyBpdCBpc1xuICAgICAgICAgICAgICAgICYmIChzdWJNZW51ICE9PSBNb2R1bGVUaXRsZS5BdXRob3JpdHlcbiAgICAgICAgICAgICAgICAgIHx8ICFBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUy5pbmNsdWRlcyhzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSlcbiAgICAgICAgICAgICAgICAgIHx8IEF1dGhvcml0eUlzQ29tcGFyaXNvblRvQ2hhcmFjdGVyKHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdIGFzIEF1dGhvcml0eUdyb3VwLCBcIj5cIiwgUGxheWVyLk1lbWJlck51bWJlciA/PyAtMSwgc2V0dGluZ0NoYXIhKSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2VmFsdWUgPSBzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXTtcbiAgICAgICAgICAgICAgICBzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSA9IHNldHRpbmcub3B0aW9uc1soaW5kZXggKyAxICsgb3B0TGVuKSAlIG9wdExlbl07XG4gICAgICAgICAgICAgICAgaWYgKHNldHRpbmcub25TZXQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nLm9uU2V0KHNldHRpbmdDaGFyISwgc2V0dGluZy5vcHRpb25zWyhpbmRleCArIDEgKyBvcHRMZW4pICUgb3B0TGVuXSwgcHJldlZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2V0dGluZ3NFZGl0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBFeGl0QnV0dG9uUHJlc3NlZCgpOiB2b2lkXG57XG4gICAgaWYgKGN1cnJlbnRNZW51ID09PSBudWxsKVxuICAgIHtcbiAgICAgICAgaWYgKHdpbmRvdy5NUEEubWVudUxvYWRlZClcbiAgICAgICAge1xuICAgICAgICAgICAgd2luZG93Lk1QQS5tZW51TG9hZGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgUHJlZmVyZW5jZU1lbnVFeGl0KCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGN1cnJlbnRNZW51ID09PSBcIlJFU0VUX1NldHRpbmdzXCIpXG4gICAge1xuICAgICAgICBjdXJyZW50TWVudSA9IG51bGw7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIC8vIFNhdmUgYWxsIHRleHQgZmllbGRzIHRvIHRoZWlyIHJlc3BlY3RpdmUgc2V0dGluZ1xuICAgICAgICBVcGRhdGVBbmREZWxldGVIVE1MRWxlbWVudHMoY3VycmVudE1lbnUpO1xuICAgICAgICBjdXJyZW50UGFnZSA9IDE7XG4gICAgICAgIG1heFBhZ2VzID0gMTtcbiAgICAgICAgY3VycmVudE1lbnUgPSBudWxsO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFByZWZlcmVuY2VNZW51Q2xpY2soKTogdm9pZFxue1xuICAgIGlmIChNb3VzZUluKC4uLkVYSVRfUE9TSVNUSU9OKSlcbiAgICB7XG4gICAgICAgIEV4aXRCdXR0b25QcmVzc2VkKCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoc2V0dGluZ0NoYXI/Lk1lbWJlck51bWJlciA9PT0gUGxheWVyLk1lbWJlck51bWJlciAmJiBjdXJyZW50TWVudSA9PT0gbnVsbClcbiAgICB7XG4gICAgICAgIGlmIChNb3VzZUluKC4uLldJS0lfUE9TSVRJT04pKVxuICAgICAgICB7XG4gICAgICAgICAgICB3aW5kb3cub3BlbihXSUtJX0xJTkssIFwiX2JsYW5rXCIpPy5mb2N1cygpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChNb3VzZUluKC4uLkRJU0NPUkRfUE9TSVRJT04pKVxuICAgICAgICB7XG4gICAgICAgICAgICB3aW5kb3cub3BlbihESVNDT1JEX0lOVklURSwgXCJfYmxhbmtcIik/LmZvY3VzKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE1vdXNlSW4oLi4uUkVTRVRfUE9TSVRJT04pKVxuICAgICAgICB7XG4gICAgICAgICAgICBjdXJyZW50TWVudSA9IFwiUkVTRVRfU2V0dGluZ3NcIjtcbiAgICAgICAgICAgIGFsbG93UmVzZXRUaW1lID0gRGF0ZS5ub3coKSArIDEwMDAwO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChNb3VzZUluKC4uLklNUE9SVF9QT1NJVElPTikpXG4gICAgICAgIHtcbiAgICAgICAgICAgIEltcG9ydFNldHRpbmdzRnJvbUNsaXBib2FyZCgpLnRoZW4oKCkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzZXR0aW5nc0FsZXJ0VGV4dCA9IFwiU2V0dGluZ3MgaW1wb3J0ZWQgZnJvbSBjbGlwYm9hcmRcIjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNldHRpbmdzQWxlcnRUZXh0ID0gXCJGYWlsZWQgdG8gaW1wb3J0IHNldHRpbmdzXCI7XG4gICAgICAgICAgICB9KS5maW5hbGx5KCgpID0+IHNob3dTZXR0aW5nc0FsZXJ0ID0gRGF0ZS5ub3coKSArIDUwMDApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChNb3VzZUluKC4uLkVYUE9SVF9QT1NJVElPTikpXG4gICAgICAgIHtcbiAgICAgICAgICAgIEV4cG9ydFNldHRpbmdzVG9DbGlwYm9hcmQoKS50aGVuKCgpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2V0dGluZ3NBbGVydFRleHQgPSBcIlNldHRpbmdzIGNvcGllZCB0byBjbGlwYm9hcmRcIjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNldHRpbmdzQWxlcnRUZXh0ID0gXCJGYWlsZWQgdG8gZXhwb3J0IHNldHRpbmdzXCI7XG4gICAgICAgICAgICB9KS5maW5hbGx5KCgpID0+IHNob3dTZXR0aW5nc0FsZXJ0ID0gRGF0ZS5ub3coKSArIDUwMDApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gR2V0IHRoZSBzdWJtZW51IGNsaWNrZWQgb3B0aW9uc1xuICAgIGlmIChjdXJyZW50TWVudSA9PT0gbnVsbCAmJiBHZXRDbGlja2VkTWVudShNRU5VX0NBVEVHT1JJRVMoKSkgIT09IG51bGwpXG4gICAge1xuICAgICAgICBjdXJyZW50TWVudSA9IEdldENsaWNrZWRNZW51KE1FTlVfQ0FURUdPUklFUygpKTtcbiAgICAgICAgY3VycmVudFBhZ2UgPSAxO1xuICAgICAgICBtYXhQYWdlcyA9IE1hdGguY2VpbChPYmplY3QuZW50cmllcyhkZWZhdWx0U2V0dGluZ3NbY3VycmVudE1lbnUgPz8gXCJcIl0gPz8ge30pXG4gICAgICAgICAgICAuZmlsdGVyKChba2V5LCBzZXR0aW5nXSkgPT4gSXNEaXNwbGF5U2V0dGluZyhzZXR0aW5nKSAmJiAoa2V5IGluIChzZXR0aW5nQ2hhcj8uTVBBW2N1cnJlbnRNZW51ID8/IFwiXCJdID8/IHt9KSkpXG4gICAgICAgICAgICAubGVuZ3RoIC8gT1BUSU9OX1BFUl9QQUdFKTtcbiAgICAgICAgQ3JlYXRlSFRNTEVsZW1lbnRzKGN1cnJlbnRNZW51KTtcbiAgICB9XG4gICAgaWYgKGN1cnJlbnRNZW51ID09PSBcIlJFU0VUX1NldHRpbmdzXCIpXG4gICAge1xuICAgICAgICBSZXNldE1lbnVDbGljaygpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIEdldCBvcHRpb24gb2YgdGhlIGN1cnJlbnQgbWVudVxuICAgIGlmIChjdXJyZW50TWVudSAhPT0gbnVsbClcbiAgICB7XG4gICAgICAgIC8vIE5leHQgYW5kIHByZXZpb3VzIGJ1dHRvbnNcbiAgICAgICAgLy8gT25seSBjaGVjayBpZiBzZXR0aW5nIHBhZ2UgbmVlZHMgaXRcbiAgICAgICAgaWYgKE9iamVjdC5lbnRyaWVzKGRlZmF1bHRTZXR0aW5nc1tjdXJyZW50TWVudSA/PyBcIlwiXSA/PyB7fSlcbiAgICAgICAgICAgIC5maWx0ZXIoKFtrZXksIHNldHRpbmddKSA9PiBJc0Rpc3BsYXlTZXR0aW5nKHNldHRpbmcpICYmIChrZXkgaW4gKHNldHRpbmdDaGFyPy5NUEFbY3VycmVudE1lbnUgPz8gXCJcIl0gPz8ge30pKSlcbiAgICAgICAgICAgIC5sZW5ndGggPiBPUFRJT05fUEVSX1BBR0VcbiAgICAgICAgKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoTW91c2VJbiguLi5ORVhUX0JVVFRPTl9QT1MpICYmIGN1cnJlbnRQYWdlIDwgbWF4UGFnZXMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgVXBkYXRlQW5kRGVsZXRlSFRNTEVsZW1lbnRzKGN1cnJlbnRNZW51KTtcbiAgICAgICAgICAgICAgICBjdXJyZW50UGFnZSsrO1xuICAgICAgICAgICAgICAgIENyZWF0ZUhUTUxFbGVtZW50cyhjdXJyZW50TWVudSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKE1vdXNlSW4oLi4uUFJFVl9CVVRUT05fUE9TKSAmJiBjdXJyZW50UGFnZSA+IDEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgVXBkYXRlQW5kRGVsZXRlSFRNTEVsZW1lbnRzKGN1cnJlbnRNZW51KTtcbiAgICAgICAgICAgICAgICBjdXJyZW50UGFnZS0tO1xuICAgICAgICAgICAgICAgIENyZWF0ZUhUTUxFbGVtZW50cyhjdXJyZW50TWVudSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIEdldENsaWNrZWRPcHRpb24oY3VycmVudE1lbnUpO1xuICAgIH1cblxuICAgIHJldHVybjtcbn1cblxuZnVuY3Rpb24gUmVzZXRNZW51Q2xpY2soKTogdm9pZFxue1xuICAgIGlmIChNb3VzZUluKC4uLlJFU0VUX0NPTkZJUk1fUE9TSVRJT04pICYmIERhdGUubm93KCkgPiBhbGxvd1Jlc2V0VGltZSlcbiAgICB7XG4gICAgICAgIFJlc2V0U3RvcmFnZSgpO1xuICAgICAgICBjdXJyZW50TWVudSA9IG51bGw7XG4gICAgICAgIGFsbG93UmVzZXRUaW1lID0gMDtcbiAgICB9XG5cbiAgICBpZiAoTW91c2VJbiguLi5SRVNFVF9DQU5DRUxfUE9TSVRJT04pKVxuICAgIHtcbiAgICAgICAgY3VycmVudE1lbnUgPSBudWxsO1xuICAgICAgICBhbGxvd1Jlc2V0VGltZSA9IDA7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBSZXNldE1lbnVSdW4oKTogdm9pZFxue1xuICAgIGNvbnN0IHByZXZUZXh0QWxpZ24gPSBNYWluQ2FudmFzLnRleHRBbGlnbjtcbiAgICBNYWluQ2FudmFzLnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XG5cbiAgICBEcmF3VGV4dChcbiAgICAgICAgTG9jYWxpemVkVGV4dChcIldBUk5JTkc6IEFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byByZXNldCB5b3VyIE1QQSBzZXR0aW5ncyBhbmQgZGF0YSBiYWNrIHRvIGRlZmF1bHQ/XCIpLFxuICAgICAgICBDQU5WQVNfV0lEVEggLyAyLFxuICAgICAgICAyNTAsXG4gICAgICAgIFwiIzAwMDAwMFwiLFxuICAgICAgICBcIiNhYWFhYWFcIlxuICAgICk7XG4gICAgRHJhd1RleHQoXG4gICAgICAgIC8vIEEgbGl0dGxlIGhvbWFnZSB0byBCQ1ggYW5kIExTQ0cgZm9yIGJlaW5nIGdyZWF0IG9wZW4gc291cmNlIHJlZmVyZW5jZXMgb24gdGhpcyBwcm9qZWN0XG4gICAgICAgIExvY2FsaXplZFRleHQoXCJUaGlzIGFjdGlvbiBjYW4gbm90IGJlIHVuZG9uZSFcIiksXG4gICAgICAgIENBTlZBU19XSURUSCAvIDIsXG4gICAgICAgIDQwMCxcbiAgICAgICAgXCIjZmYwMDAwXCIsXG4gICAgICAgIFwiI2FhYWFhYVwiXG4gICAgKTtcbiAgICBEcmF3VGV4dChcbiAgICAgICAgTG9jYWxpemVkVGV4dChcIkV4cG9ydCBhbmQgc2F2ZSB5b3VyIHNldHRpbmdzIEJFRk9SRSBjb25maXJtaW5nIGlmIHlvdSBhcmUgdW5zdXJlLlwiKSxcbiAgICAgICAgQ0FOVkFTX1dJRFRIIC8gMixcbiAgICAgICAgNTUwLFxuICAgICAgICBcIiM2OTY5NjlcIixcbiAgICAgICAgXCIjYWFhYWFhXCJcbiAgICApO1xuXG4gICAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcbiAgICBpZiAobm93IDw9IGFsbG93UmVzZXRUaW1lKVxuICAgIHtcbiAgICAgICAgRHJhd0J1dHRvbihcbiAgICAgICAgICAgIC4uLlJFU0VUX0NPTkZJUk1fUE9TSVRJT04sXG4gICAgICAgICAgICBgJHtMb2NhbGl6ZWRUZXh0KFwiQ29uZmlybVwiKX0gKCR7TWF0aC5mbG9vcigoYWxsb3dSZXNldFRpbWUgLSBub3cpIC8gMTAwMCl9KWAsXG4gICAgICAgICAgICBcIiNhYWFhYWFcIixcbiAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHRydWVcbiAgICAgICAgKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgRHJhd0J1dHRvbihcbiAgICAgICAgICAgIC4uLlJFU0VUX0NPTkZJUk1fUE9TSVRJT04sXG4gICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KFwiQ29uZmlybVwiKSxcbiAgICAgICAgICAgIFwiI2ZmMDAwMFwiXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgRHJhd0J1dHRvbihcbiAgICAgICAgLi4uUkVTRVRfQ0FOQ0VMX1BPU0lUSU9OLFxuICAgICAgICBMb2NhbGl6ZWRUZXh0KFwiQ2FuY2VsXCIpLFxuICAgICAgICBcIldoaXRlXCJcbiAgICApO1xuXG4gICAgTWFpbkNhbnZhcy50ZXh0QWxpZ24gPSBwcmV2VGV4dEFsaWduO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUHJlZmVyZW5jZU1lbnVSdW4oKTogdm9pZFxue1xuICAgIGlmIChjdXJyZW50TWVudSA9PT0gXCJSRVNFVF9TZXR0aW5nc1wiKVxuICAgIHtcbiAgICAgICAgUmVzZXRNZW51UnVuKCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBwcmV2VGV4dEFsaWduID0gTWFpbkNhbnZhcy50ZXh0QWxpZ247XG4gICAgRHJhd0J1dHRvbiguLi5FWElUX1BPU0lTVElPTiwgXCJcIiwgXCJXaGl0ZVwiLCBcIkljb25zL0V4aXQucG5nXCIpO1xuICAgIE1haW5DYW52YXMudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcbiAgICBEcmF3VGV4dChgJHtMb2NhbGl6ZWRUZXh0KFwiTWF5YSdzIFBldHBsYXkgQWRkaXRpb25zXCIpfSR7Y3VycmVudE1lbnUgPyBgIC0gJHtzZXR0aW5nQ2hhcj8uTmlja25hbWUgfHwgc2V0dGluZ0NoYXI/Lk5hbWV9J3MgJHtMb2NhbGl6ZWRUZXh0KE1FTlVfVElUTEVTW2N1cnJlbnRNZW51XSA/PyBjdXJyZW50TWVudSl9YCA6IFwiXCJ9YCwgMTAwMCwgMTI1LCBcIkJsYWNrXCIsIFwiR3JheVwiKTtcblxuICAgIC8vIFdpa2ksIFJlc2V0LCBpbXBvcnQgYW5kIGV4cG9ydCBidXQgb25seSB3aGlsZSBQbGF5ZXJcbiAgICBpZiAoc2V0dGluZ0NoYXI/Lk1lbWJlck51bWJlciA9PT0gUGxheWVyLk1lbWJlck51bWJlciAmJiBjdXJyZW50TWVudSA9PT0gbnVsbClcbiAgICB7XG4gICAgICAgIGlmIChzaG93U2V0dGluZ3NBbGVydCA+PSBEYXRlLm5vdygpKVxuICAgICAgICB7XG4gICAgICAgICAgICBNYWluQ2FudmFzLnRleHRBbGlnbiA9IFwibGVmdFwiO1xuICAgICAgICAgICAgRHJhd1RleHRGaXQoXG4gICAgICAgICAgICAgICAgc2V0dGluZ3NBbGVydFRleHQsXG4gICAgICAgICAgICAgICAgLi4uQUxFUlRfUE9TSVRJT04sXG4gICAgICAgICAgICAgICAgXCJCbGFja1wiLFxuICAgICAgICAgICAgICAgIFwiR3JheVwiXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIE1haW5DYW52YXMudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcbiAgICAgICAgRHJhd0J1dHRvbihcbiAgICAgICAgICAgIC4uLldJS0lfUE9TSVRJT04sXG4gICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KFwiV2lraVwiKSxcbiAgICAgICAgICAgIFwiI2ZmZmZmZlwiLFxuICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgIExvY2FsaXplZFRleHQoXCJPcGVuIHRoZSBNUEEgd2lraSBpbiBhIG5ldyB0YWJcIilcbiAgICAgICAgKTtcbiAgICAgICAgRHJhd0J1dHRvbihcbiAgICAgICAgICAgIC4uLkRJU0NPUkRfUE9TSVRJT04sXG4gICAgICAgICAgICBcIkRpc2NvcmRcIixcbiAgICAgICAgICAgIFwiI2ZmZmZmZlwiLFxuICAgICAgICAgICAgSUNPTlMuRElTQ09SRCxcbiAgICAgICAgICAgIFwiSm9pbiB0aGUgTVBBIGRpc2NvcmQhXCJcbiAgICAgICAgKTtcbiAgICAgICAgRHJhd0J1dHRvbihcbiAgICAgICAgICAgIC4uLlJFU0VUX1BPU0lUSU9OLFxuICAgICAgICAgICAgTG9jYWxpemVkVGV4dChcIlJFU0VUXCIpLFxuICAgICAgICAgICAgXCIjZmYyZTJlYWFcIixcbiAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KFwiUmVzZXQgYWxsIHlvdXIgc2V0dGluZ3MgYmFjayB0byBkZWZhdWx0XCIpXG4gICAgICAgICk7XG4gICAgICAgIERyYXdCdXR0b24oXG4gICAgICAgICAgICAuLi5JTVBPUlRfUE9TSVRJT04sXG4gICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KFwiSW1wb3J0XCIpLFxuICAgICAgICAgICAgXCIjZmZmZmZmXCIsXG4gICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgTG9jYWxpemVkVGV4dChcIkltcG9ydCB0aGUgc2V0dGluZ3MgY29waWVkIHRvIHlvdXIgY2xpcGJvYXJkXCIpXG4gICAgICAgICk7XG4gICAgICAgIERyYXdCdXR0b24oXG4gICAgICAgICAgICAuLi5FWFBPUlRfUE9TSVRJT04sXG4gICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KFwiRXhwb3J0XCIpLFxuICAgICAgICAgICAgXCIjZmZmZmZmXCIsXG4gICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgTG9jYWxpemVkVGV4dChcIkV4cG9ydCB5b3VyIGN1cnJlbnQgc2V0dGluZ3MgdG8gdGhlIGNsaXBib2FyZFwiKVxuICAgICAgICApO1xuICAgICAgICBEcmF3VGV4dEZpdChcbiAgICAgICAgICAgIGAke0xvY2FsaXplZFRleHQoXCJWZXJzaW9uXCIpfTogJHtQbGF5ZXIuTVBBLnZlcnNpb259YCxcbiAgICAgICAgICAgIC4uLlZFUlNJT05fVEVYVCxcbiAgICAgICAgICAgIFwiQmxhY2tcIixcbiAgICAgICAgICAgIFwiR3JheVwiXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgTWFpbkNhbnZhcy50ZXh0QWxpZ24gPSBcImxlZnRcIjtcbiAgICBpZiAoY3VycmVudE1lbnUgPT09IG51bGwpXG4gICAge1xuICAgICAgICAvLyBEcmF3IGFsbCB0aGUgYnV0dG9ucyB0byBhY2Nlc3MgdGhlIHN1Ym1lbnVzXG4gICAgICAgIERyYXdNZW51T3B0aW9ucyhNRU5VX0NBVEVHT1JJRVMoKSk7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIC8vIERyYXcgdGhlIG9wdGlvbnMgaW4gdGhlIHN1Ym1lbnVcbiAgICAgICAgRHJhd1N1Yk1lbnVPcHRpb25zKGN1cnJlbnRNZW51KTtcbiAgICB9XG4gICAgTWFpbkNhbnZhcy50ZXh0QWxpZ24gPSBwcmV2VGV4dEFsaWduO1xuICAgIHJldHVybjtcbn1cblxuZnVuY3Rpb24gUHJlZmVyZW5jZU1lbnVFeGl0KCk6IGJvb2xlYW4gfCB2b2lkXG57XG4gICAgLy8gU2hvdWxkbid0IGJlIG5lZWRlZCBidXQgYWN0cyBhcyBmYWlsc2FmZSBhbmQgbWFrZXMgdHlwZXNjcmlwdCBoYXBweVxuICAgIGlmICghc2V0dGluZ0NoYXIpIHsgcmV0dXJuOyB9XG5cbiAgICBpZiAoc2V0dGluZ3NFZGl0ZWQpXG4gICAge1xuICAgICAgICBpZiAoc2V0dGluZ0NoYXIuTWVtYmVyTnVtYmVyID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICBMZXZlbFN5bmMoZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgICAgICBTYXZlU3RvcmFnZSh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIFNlbmRNUEFNZXNzYWdlKFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJTZXR0aW5nUHV0UmVxdWVzdFwiLFxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nczogc2V0dGluZ0NoYXIuTVBBXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXR0aW5nQ2hhci5NZW1iZXJOdW1iZXJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHNldHRpbmdDaGFyLk1lbWJlck51bWJlciA9PT0gUGxheWVyLk1lbWJlck51bWJlcilcbiAgICB7XG4gICAgICAgIFByZWZlcmVuY2VTdWJzY3JlZW5FeHRlbnNpb25zQ2xlYXIoKTtcbiAgICB9XG4gICAgc2V0dGluZ3NFZGl0ZWQgPSBmYWxzZTtcbiAgICBzZXR0aW5nQ2hhciA9IG51bGw7XG4gICAgc2V0dGluZ3NPcGVuID0gZmFsc2U7XG59XG5cbi8qKlxuICogQ2FsbGVkIG9uY2Ugd2hlbiB0aGUgUHJlZmVyZW5jZSBNZW51IGxvYWRzIHVwIGFmdGVyIG9wZW5pbmdcbiAqL1xuZnVuY3Rpb24gUHJlZmVyZW5jZU1lbnVMb2FkKCk6IHZvaWRcbntcbiAgICAvLyBTaG91bGRuJ3QgYmUgbmVlZGVkIGJ1dCBhY3RzIGFzIGZhaWxzYWZlIGFuZCBtYWtlcyB0eXBlc2NyaXB0IGhhcHB5XG4gICAgaWYgKCFzZXR0aW5nQ2hhcikgeyByZXR1cm47IH1cbiAgICBzZXR0aW5nc09wZW4gPSB0cnVlO1xufVxuXG5mdW5jdGlvbiBQbGF5ZXJQcmVmZXJlbmNlTWVudUxvYWQoKTogdm9pZFxue1xuICAgIHNldHRpbmdzRWRpdGVkID0gZmFsc2U7XG4gICAgc2V0dGluZ0NoYXIgPSBQbGF5ZXI7XG4gICAgUHJlZmVyZW5jZU1lbnVMb2FkKCk7XG59XG5cbi8qKlxuICogR2V0IHRoZSBzdHJpbmcgd2l0aCBhbiBNUEEgaWRlbnRpZmllciBpbiBmcm9udFxuICovXG5leHBvcnQgZnVuY3Rpb24gRWxlbWVudE5hbWUodGl0bGU6IE1vZHVsZVRpdGxlIHwgc3RyaW5nLCBzZXR0aW5nOiBzdHJpbmcpOiBzdHJpbmdcbntcbiAgICByZXR1cm4gYE1QQV9PUFRJT05fJHt0aXRsZX0ke3NldHRpbmd9YDtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYW5kIGhpZGUgYWxsIHRoZSBIVE1MIGVsZW1lbnRzIHRoYXQgYXJlIG5lZWRlZCBmb3IgdGhlIFByZWZlcmVuY2UgU2V0dGluZyBwYWdlXG4gKi9cbmZ1bmN0aW9uIENyZWF0ZUhUTUxFbGVtZW50cyhzdWJNZW51OiBNb2R1bGVUaXRsZSB8IG51bGwsIHBhZ2U6IG51bWJlciA9IGN1cnJlbnRQYWdlKTogdm9pZFxue1xuICAgIGlmICghc3ViTWVudSkgeyByZXR1cm47IH1cbiAgICAvLyBTaG91bGRuJ3QgYmUgbmVlZGVkIGJ1dCBhY3RzIGFzIGZhaWxzYWZlIGFuZCBtYWtlcyB0eXBlc2NyaXB0IGhhcHB5XG4gICAgaWYgKCFzZXR0aW5nQ2hhcikgeyByZXR1cm47IH1cblxuICAgIE9iamVjdC5lbnRyaWVzKGRlZmF1bHRTZXR0aW5nc1tzdWJNZW51XSA/PyB7fSkuc2xpY2UoKHBhZ2UgLSAxKSAqIE9QVElPTl9QRVJfUEFHRSwgcGFnZSAqIE9QVElPTl9QRVJfUEFHRSkuZm9yRWFjaCgoc2V0KSA9PlxuICAgIHtcbiAgICAgICAgY29uc3QgW3NldHRpbmdOYW1lLCBzZXR0aW5nXSA9IHNldDtcbiAgICAgICAgY29uc3QgaWQgPSBFbGVtZW50TmFtZShzdWJNZW51LCBzZXR0aW5nTmFtZSk7XG4gICAgICAgIGlmIChJc1RleHRTZXR0aW5nKHNldHRpbmcpKVxuICAgICAgICB7XG4gICAgICAgICAgICBFbGVtZW50Q3JlYXRlSW5wdXQoaWQsIFwidGV4dFwiLCBzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSBhcyBzdHJpbmcsIHNldHRpbmcubWF4Q2hhcnMgPz8gT1BUSU9OX1RFWFRfTUFYX0NIQVJTKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChJc051bWJlclNldHRpbmcoc2V0dGluZykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIEVsZW1lbnRDcmVhdGVJbnB1dChpZCwgXCJudW1iZXJcIiwgc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0udG9TdHJpbmcoKSk7XG4gICAgICAgICAgICBFbGVtZW50U2V0QXR0cmlidXRlKGlkLCBcIm1pblwiLCBzZXR0aW5nLm1pbi50b1N0cmluZygpKTtcbiAgICAgICAgICAgIEVsZW1lbnRTZXRBdHRyaWJ1dGUoaWQsIFwibWF4XCIsIHNldHRpbmcubWF4LnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgRWxlbWVudFNldEF0dHJpYnV0ZShpZCwgXCJpbnB1dG1vZGVcIiwgXCJkZWNpbWFsXCIpO1xuICAgICAgICAgICAgaWYgKHNldHRpbmcuc3RlcClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBFbGVtZW50U2V0QXR0cmlidXRlKGlkLCBcInN0ZXBcIiwgc2V0dGluZy5zdGVwLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59XG4vKipcbiAqIFVwZGF0ZSB0aGUgc2V0dGluZyB2YWx1ZXMgdG8gcmVmbGVjdCB0aG9zZSBpbiB0aGUgaHRtbCBlbGVtZW50cyBhbmQgZGVsZXRlIHRoZW0gYWZ0ZXJcbiAqL1xuZnVuY3Rpb24gVXBkYXRlQW5kRGVsZXRlSFRNTEVsZW1lbnRzKHN1Yk1lbnU6IE1vZHVsZVRpdGxlLCBwYWdlOiBudW1iZXIgPSBjdXJyZW50UGFnZSk6IHZvaWRcbntcbiAgICAvLyBTaG91bGRuJ3QgYmUgbmVlZGVkIGJ1dCBhY3RzIGFzIGZhaWxzYWZlIGFuZCBtYWtlcyB0eXBlc2NyaXB0IGhhcHB5XG4gICAgaWYgKCFzZXR0aW5nQ2hhcikgeyByZXR1cm47IH1cblxuICAgIC8vIFVwZGF0ZSB0aGUgdmlydHVhbCBwZXQgc3RhdHMgYmFzZWQgb24gY3VycmVudCB2YWx1ZXMgc28gdGhlIGxldmVsIGRvZXNuJ3QganVtcCBhcm91bmRcbiAgICBpZiAoc3ViTWVudSA9PT0gTW9kdWxlVGl0bGUuVmlydHVhbFBldClcbiAgICB7XG4gICAgICAgIExldmVsU3luYyhmYWxzZSwgZmFsc2UsIGZhbHNlKTtcbiAgICB9XG5cbiAgICBPYmplY3QuZW50cmllcyhkZWZhdWx0U2V0dGluZ3Nbc3ViTWVudV0gPz8ge30pLnNsaWNlKChwYWdlIC0gMSkgKiBPUFRJT05fUEVSX1BBR0UsIHBhZ2UgKiBPUFRJT05fUEVSX1BBR0UpLmZvckVhY2goKHNldCkgPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IFtzZXR0aW5nTmFtZSwgc2V0dGluZ10gPSBzZXQ7XG4gICAgICAgIGNvbnN0IGlkID0gRWxlbWVudE5hbWUoc3ViTWVudSwgc2V0dGluZ05hbWUpO1xuICAgICAgICBpZiAoSXNUZXh0U2V0dGluZyhzZXR0aW5nKSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdICE9PSBFbGVtZW50VmFsdWUoaWQpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdID0gRWxlbWVudFZhbHVlKGlkKTtcbiAgICAgICAgICAgICAgICBzZXR0aW5nc0VkaXRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBFbGVtZW50UmVtb3ZlKGlkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoSXNOdW1iZXJTZXR0aW5nKHNldHRpbmcpKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gIT09IE51bWJlcihFbGVtZW50VmFsdWUoaWQpKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSA9IE51bWJlcihFbGVtZW50VmFsdWUoaWQpKTtcbiAgICAgICAgICAgICAgICBzZXR0aW5nc0VkaXRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBFbGVtZW50UmVtb3ZlKGlkKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5leHBvcnQgY2xhc3MgU2V0dGluZ3NNb2R1bGUgZXh0ZW5kcyBNb2R1bGVcbntcbiAgICBnZXQgVGl0bGUoKTogTW9kdWxlVGl0bGVcbiAgICB7XG4gICAgICAgIHJldHVybiBNb2R1bGVUaXRsZS5TZXR0aW5ncztcbiAgICB9XG5cbiAgICBMb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIC8vIEFkZCBzZXR0aW5ncyB0byB0aGUgZXh0ZW5zaW9uIG9wdGlvbnNcbiAgICAgICAgUHJlZmVyZW5jZVJlZ2lzdGVyRXh0ZW5zaW9uU2V0dGluZyh7XG4gICAgICAgICAgICBJZGVudGlmaWVyOiBcIk1QQVwiLFxuICAgICAgICAgICAgQnV0dG9uVGV4dDogTG9jYWxpemVkVGV4dChcIk1QQSBTZXR0aW5nc1wiKSxcbiAgICAgICAgICAgIEltYWdlOiBJQ09OUy5QQVcsXG4gICAgICAgICAgICBjbGljazogUHJlZmVyZW5jZU1lbnVDbGljayxcbiAgICAgICAgICAgIHJ1bjogUHJlZmVyZW5jZU1lbnVSdW4sXG4gICAgICAgICAgICBleGl0OiBQcmVmZXJlbmNlTWVudUV4aXQsXG4gICAgICAgICAgICBsb2FkOiBQbGF5ZXJQcmVmZXJlbmNlTWVudUxvYWRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gV2hlbiBwcmVzc2luZyBlc2NhcGUsIG9ubHkgZ28gdG8gbWFpbiBtZW51IGlmIGluIHN1YiBtZW51XG4gICAgICAgIGZ1bmN0aW9uIEVzY2FwZUhhbmRsZXIoZXZlbnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAoZXZlbnQua2V5ID09PSBcIkVzY2FwZVwiIHx8IGV2ZW50LmtleSA9PT0gXCJFc2NcIilcbiAgICAgICAgICAgICAgICAmJiBzZXR0aW5nc09wZW5cbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudE1lbnUgPT09IG51bGwpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBQcmVmZXJlbmNlTWVudUV4aXQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY3VycmVudE1lbnUgPT09IFwiUkVTRVRfU2V0dGluZ3NcIilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGFsbG93UmVzZXRUaW1lID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgVXBkYXRlQW5kRGVsZXRlSFRNTEVsZW1lbnRzKGN1cnJlbnRNZW51KTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhZ2UgPSAxO1xuICAgICAgICAgICAgICAgICAgICBtYXhQYWdlcyA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGN1cnJlbnRNZW51ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5cHJlc3NcIiwgRXNjYXBlSGFuZGxlciwgdHJ1ZSk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIEVzY2FwZUhhbmRsZXIsIHRydWUpO1xuICAgIH1cblxuICAgIFVubG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICAvLyBVbmxvYWQgYmVpbmcgZW1wdHkgaXMgd2FudGVkLCBuZXZlciB1bmxvYWQgc2V0dGluZ3NcbiAgICB9XG5cbiAgICBSZWxvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgLy8gUmVsb2FkIGJlaW5nIGVtcHR5IGlzIHdhbnRlZCwgbmV2ZXIgcmVsb2FkIHNldHRpbmdzXG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQXJyYXlUb1JlYWRhYmxlU3RyaW5nLCBIb29rZWRNZXNzYWdlLCBNUEFNZXNzYWdlQ29udGVudCwgTVBBTm90aWZ5UGxheWVyLCBOb3RpZnlQbGF5ZXIsIFNlbmRNUEFNZXNzYWdlIH0gZnJvbSBcIi4uL3V0aWwvbWVzc2FnaW5nXCI7XG5pbXBvcnQgeyBMb2NhbGl6ZWRUZXh0IH0gZnJvbSBcIi4uL2xvY2FsaXphdGlvbi9sb2NhbGl6YXRpb25cIjtcbmltcG9ydCB7IElDT05TIH0gZnJvbSBcIi4uL3V0aWwvY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBiY3hGb3VuZCwgSG9va0Z1bmN0aW9uIH0gZnJvbSBcIi4uL3V0aWwvc2RrXCI7XG5pbXBvcnQgeyBNb2R1bGUsIE1vZHVsZUlzUHVibGljLCBNb2R1bGVUaXRsZSB9IGZyb20gXCIuL19tb2R1bGVcIjtcbmltcG9ydCB7IGN1cnJlbnRNZW51LCBFeGl0QnV0dG9uUHJlc3NlZCwgTUVOVV9USVRMRVMsIFByZWZlcmVuY2VNZW51Q2xpY2ssIFByZWZlcmVuY2VNZW51UnVuLCBTZXRTZXR0aW5nQ2hhciB9IGZyb20gXCIuL3NldHRpbmdzXCI7XG5pbXBvcnQgeyBTYXZlU3RvcmFnZSB9IGZyb20gXCIuLi91dGlsL3N0b3JhZ2VcIjtcbmltcG9ydCB7IExldmVsU3luYyB9IGZyb20gXCIuL3ZpcnR1YWxQZXRcIjtcbmltcG9ydCB7IElzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAgfSBmcm9tIFwiLi4vdXRpbC9hdXRob3JpdHlcIjtcbmltcG9ydCB7IHNldHRpbmdzIGFzIGRlZmF1bHRTZXR0aW5ncyB9IGZyb20gXCIuLi91dGlsL3JlZ2lzdGVyTW9kdWxlc1wiO1xuXG4vLyBPdGhlciBzZXR0aW5nc1xuY29uc3QgTVBBX1JFTU9URSA9IFsxNzAwLCA3NjUsIDkwLCA5MF0gYXMgY29uc3Q7XG4vLyBCQ1ggbW92ZXMgdGhlIGJ1dHRvbiBkb3duIGJ5IDM1IGZvciBzb21lIHJlYXNvblxuY29uc3QgTVBBX1JFTU9URV9CQ1ggPSBbMTcwMCwgODAwLCA5MCwgOTBdIGFzIGNvbnN0O1xuLy8gUG9zaXRpb25pbmcgZm9yIHZlcnNpb24gdGV4dFxuY29uc3QgVkVSU0lPTl9URVhUX1NFTEYgPSBbXG4gICAgMjc1LFxuICAgIDkwMCxcbiAgICAzNTBcbl0gYXMgY29uc3Q7XG5jb25zdCBWRVJTSU9OX1RFWFRfT1RIRVIgPSBbXG4gICAgVkVSU0lPTl9URVhUX1NFTEZbMF0sXG4gICAgVkVSU0lPTl9URVhUX1NFTEZbMV0gLSA1MCxcbiAgICBWRVJTSU9OX1RFWFRfU0VMRlsyXVxuXSBhcyBjb25zdDtcblxuZnVuY3Rpb24gQXJyYXlzRXF1YWwoYXJyMTogYW55W10sIGFycjI6IGFueVtdKTogYm9vbGVhblxue1xuICAgIGlmIChhcnIxLmxlbmd0aCAhPT0gYXJyMi5sZW5ndGgpXG4gICAge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICByZXR1cm4gYXJyMS5ldmVyeSgodmFsdWUsIGluZGV4KSA9PiB2YWx1ZSA9PT0gYXJyMltpbmRleF0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gT2JqZWN0RGlmZmVyZW5jZXMob2xkT2JqOiBvYmplY3QsIG5ld09iajogb2JqZWN0KTogb2JqZWN0XG57XG4gICAgY29uc3QgZGlmZmVyZW5jZXMgPSB7fTtcblxuICAgIGZvciAoY29uc3Qga2V5IGluIG9sZE9iailcbiAgICB7XG4gICAgICAgIC8vIEtleSBpcyBtaXNzaW5nIGluIG5ld09ialxuICAgICAgICBpZiAoIShrZXkgaW4gbmV3T2JqKSlcbiAgICAgICAge1xuICAgICAgICAgICAgZGlmZmVyZW5jZXNba2V5XSA9IHsgb2xkOiBvbGRPYmpba2V5XSwgbmV3OiB1bmRlZmluZWQgfTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgb2xkVmFsdWUgPSBvbGRPYmpba2V5XTtcbiAgICAgICAgY29uc3QgbmV3VmFsdWUgPSBuZXdPYmpba2V5XTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgICBBcnJheS5pc0FycmF5KG9sZFZhbHVlKVxuICAgICAgICAgICAgJiYgQXJyYXkuaXNBcnJheShuZXdWYWx1ZSlcbiAgICAgICAgKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBJZiBib3RoIGFyZSBhcnJheXMsIGNvbXBhcmUgdGhlaXIgY29udGVudHNcbiAgICAgICAgICAgIGlmICghQXJyYXlzRXF1YWwob2xkVmFsdWUsIG5ld1ZhbHVlKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkaWZmZXJlbmNlc1trZXldID0geyBvbGQ6IG9sZFZhbHVlLCBuZXc6IG5ld1ZhbHVlIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoXG4gICAgICAgICAgICB0eXBlb2Ygb2xkVmFsdWUgPT09IFwib2JqZWN0XCJcbiAgICAgICAgICAgICYmIHR5cGVvZiBuZXdWYWx1ZSA9PT0gXCJvYmplY3RcIlxuICAgICAgICAgICAgJiYgIUFycmF5LmlzQXJyYXkob2xkVmFsdWUpKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBJZiBib3RoIGFyZSBvYmplY3RzLCByZWN1cnNpdmVseSBjaGVjayBmb3IgZGlmZmVyZW5jZXNcbiAgICAgICAgICAgIGNvbnN0IGRpZmYgPSBPYmplY3REaWZmZXJlbmNlcyhvbGRWYWx1ZSwgbmV3VmFsdWUpO1xuICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKGRpZmYpLmxlbmd0aCA+IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGlmZmVyZW5jZXNba2V5XSA9IGRpZmY7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob2xkVmFsdWUgIT09IG5ld1ZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBJZiB2YWx1ZXMgYXJlIGRpZmZlcmVudCwgc3RvcmUgdGhlIGRpZmZlcmVuY2VcbiAgICAgICAgICAgIGRpZmZlcmVuY2VzW2tleV0gPSB7IG9sZDogb2xkVmFsdWUsIG5ldzogbmV3VmFsdWUgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIE5ldyBrZXlzIG5vdCBmb3VuZCBpbiB0aGUgb2xkIG9iamVjdFxuICAgIGZvciAoY29uc3Qga2V5IGluIG5ld09iailcbiAgICB7XG4gICAgICAgIGlmICghKGtleSBpbiBvbGRPYmopKVxuICAgICAgICB7XG4gICAgICAgICAgICBkaWZmZXJlbmNlc1trZXldID0geyBvbGQ6IHVuZGVmaW5lZCwgbmV3OiBuZXdPYmpba2V5XSB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGRpZmZlcmVuY2VzO1xufVxuXG5leHBvcnQgY2xhc3MgU2V0dGluZ3NPdGhlck1vZHVsZSBleHRlbmRzIE1vZHVsZVxue1xuICAgIGdldCBUaXRsZSgpOiBNb2R1bGVUaXRsZVxuICAgIHtcbiAgICAgICAgcmV0dXJuIE1vZHVsZVRpdGxlLlNldHRpbmdzT3RoZXI7XG4gICAgfVxuXG4gICAgZ2V0IFN5bmNMaXN0ZW5lcnMoKTogSG9va2VkTWVzc2FnZVtdXG4gICAge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG1vZHVsZTogdGhpcy5UaXRsZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlNldHRpbmdQdXRSZXF1ZXN0XCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoc2VuZGVyOiBDaGFyYWN0ZXIsIGNvbnRlbnQ6IE1QQU1lc3NhZ2VDb250ZW50KTogdm9pZFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdnBFbmFibGVkID0gUGxheWVyLk1QQVtNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XS5lbmFibGVkO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkaWZmZXJlbmNlcyA9IE9iamVjdERpZmZlcmVuY2VzKFBsYXllci5NUEEsIGNvbnRlbnQuc2V0dGluZ3MpO1xuICAgICAgICAgICAgICAgICAgICAvLyBEb24ndCBjaGFuZ2UgYW55IHByaXZhdGUgcmVjb3JkcyBmcm9tIGluY29taW5nIHNvdXJjZXNcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoZGlmZmVyZW5jZXMpLmZvckVhY2goKG1vZHVsZVRpdGxlKSA9PlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIU1vZHVsZUlzUHVibGljKG1vZHVsZVRpdGxlIGFzIE1vZHVsZVRpdGxlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZGlmZmVyZW5jZXNbbW9kdWxlVGl0bGVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2hhbmdlZFNldHRpbmdzOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIERlbGV0ZSB0aGUgVlAgbGV2ZWxzIGFzIHRoZXkgd2lsbCBiZSBzeW5jZWQgd2l0aCB0aGUgcGxheWVyIGluc3RlYWRcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpZmZlcmVuY2VzPy5bTW9kdWxlVGl0bGUuVmlydHVhbFBldF0/LmxldmVscylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGRpZmZlcmVuY2VzW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdLmxldmVscztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhkaWZmZXJlbmNlc1tNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XSkubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBkaWZmZXJlbmNlc1tNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBMZXZlbFN5bmMoZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gISEhISEhISEhISEhISEhISEhISEhISFcbiAgICAgICAgICAgICAgICAgICAgLy8gRG8gQXV0aG9yaXR5IHF1ZXJ5cyBmaXJzdFxuICAgICAgICAgICAgICAgICAgICAvLyAhISEhISEhISEhISEhISEhISEhISEhIVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcmV2aW91c0F1dGhvcml0eSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoUGxheWVyLk1QQT8uW01vZHVsZVRpdGxlLkF1dGhvcml0eV0pKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV3QXV0aG9yaXR5ID0gZGlmZmVyZW5jZXNbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0F1dGhvcml0eSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGRpZmZlcmVuY2VzW01vZHVsZVRpdGxlLkF1dGhvcml0eV07XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBWYWxpZGF0ZSB0aGF0IGF1dGhvcml0eSBjYW4gYmUgY2hhbmdlZCBiYXNlZCBvbiBjdXJyZW50IGF1dGhvcml0eSBmaXJzdFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKElzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAoc2VuZGVyLk1lbWJlck51bWJlciA/PyAtMSwgcHJldmlvdXNBdXRob3JpdHlbYG90aGVycyR7TW9kdWxlVGl0bGUuQXV0aG9yaXR5fWBdKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VkU2V0dGluZ3MucHVzaChMb2NhbGl6ZWRUZXh0KE1vZHVsZVRpdGxlLkF1dGhvcml0eSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZW50cnkgaW4gbmV3QXV0aG9yaXR5KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0F1dGhvcml0eVtlbnRyeV0ubmV3ICE9PSB1bmRlZmluZWQgJiYgbmV3QXV0aG9yaXR5W2VudHJ5XS5vbGQgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGxheWVyLk1QQVtNb2R1bGVUaXRsZS5BdXRob3JpdHldW2VudHJ5XSA9IG5ld0F1dGhvcml0eVtlbnRyeV0ubmV3O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgTVBBOiAke3NlbmRlci5OaWNrbmFtZSB8fCBzZW5kZXIuTmFtZX0gKCR7c2VuZGVyLk1lbWJlck51bWJlcn0pIHRyaWVkIHRvIGlsbGVnYWxseSBtb2RpZnkgeW91ciAke01vZHVsZVRpdGxlLkF1dGhvcml0eX0gc2V0dGluZ3MhYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHRpdGxlIGluIGRpZmZlcmVuY2VzKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBWYWxpZGF0ZSB0aGF0IGFueSBzZXR0aW5ncyBjYW4gYmUgY2hhbmdlZCB3aXRoIEVJVEhFUiB0aGUgb2xkIG9yIG5ldyBhdXRob3JpdHlcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNlbmRlciBpcyBub3QgYXV0aG9yaXplZCB0byBjaGFuZ2UgdGhlIHNldHRpbmdzLCBpZ25vcmUgYW5kIHdhcm4gaW4gY29uc29sZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cChzZW5kZXIuTWVtYmVyTnVtYmVyID8/IC0xLCBwcmV2aW91c0F1dGhvcml0eVtgb3RoZXJzJHt0aXRsZX1gXSA/PyBcIk5vbmVcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cChzZW5kZXIuTWVtYmVyTnVtYmVyID8/IC0xLCBQbGF5ZXIuTVBBPy5bTW9kdWxlVGl0bGUuQXV0aG9yaXR5XT8uW2BvdGhlcnMke3RpdGxlfWBdID8/IFwiTm9uZVwiKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYE1QQTogJHtzZW5kZXIuTmlja25hbWUgfHwgc2VuZGVyLk5hbWV9ICgke3NlbmRlci5NZW1iZXJOdW1iZXJ9KSB0cmllZCB0byBpbGxlZ2FsbHkgbW9kaWZ5IHlvdXIgJHt0aXRsZX0gc2V0dGluZ3MhYCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZWRTZXR0aW5ncy5wdXNoKExvY2FsaXplZFRleHQoTUVOVV9USVRMRVNbdGl0bGUgYXMgTW9kdWxlVGl0bGVdID8/IHRpdGxlKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1vZHVsZURpZmYgPSBkaWZmZXJlbmNlc1t0aXRsZV07XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IGluIG1vZHVsZURpZmYpXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vZHVsZURpZmZbZW50cnldLm5ldyAhPT0gdW5kZWZpbmVkICYmIG1vZHVsZURpZmZbZW50cnldLm9sZCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUGxheWVyLk1QQVt0aXRsZSBhcyBNb2R1bGVUaXRsZV1bZW50cnldID0gbW9kdWxlRGlmZltlbnRyeV0ubmV3O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIGhhcmRjb3JlIGlzIHNldCwgbWFrZSBzdXJlIGl0cyBzZXR0aW5ncyBhcmUgc2V0XG4gICAgICAgICAgICAgICAgICAgIGlmIChQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLlByb2ZpbGVdLmhhcmRjb3JlKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAoZGVmYXVsdFNldHRpbmdzW01vZHVsZVRpdGxlLlByb2ZpbGVdPy5oYXJkY29yZSBhcyBhbnkpPy5vblNldChQbGF5ZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2F0Y2ggVmlydHVhbCBQZXQgbGV2ZWxzIHVwIHRvIGRhdGUgaWYgaXQgd2FzIHR1cm5lZCBvbiAvIG9mZlxuICAgICAgICAgICAgICAgICAgICBpZiAodnBFbmFibGVkICE9PSBQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdLmVuYWJsZWQpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBsYXllci5NUEFbTW9kdWxlVGl0bGUuVmlydHVhbFBldF0ubGV2ZWxzLmxhc3RVcGRhdGVkID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFuZ2VkU2V0dGluZ3MubGVuZ3RoICE9PSAwKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBNUEFOb3RpZnlQbGF5ZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTG9jYWxpemVkVGV4dChcIlNvdXJjZUNoYXJhY3RlciBqdXN0IHVwZGF0ZWQgeW91ciBTZXR0aW5nc0FycmF5IHNldHRpbmdzLlwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZShcIlNvdXJjZUNoYXJhY3RlclwiLCBzZW5kZXIuTmlja25hbWUgfHwgc2VuZGVyLk5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKFwiU2V0dGluZ3NBcnJheVwiLCBBcnJheVRvUmVhZGFibGVTdHJpbmcoY2hhbmdlZFNldHRpbmdzKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBMZXZlbFN5bmMoZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIFNhdmVTdG9yYWdlKHRydWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBtb2R1bGU6IHRoaXMuVGl0bGUsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJFZGl0aW5nU2V0dGluZ3NcIixcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uIChzZW5kZXI6IENoYXJhY3RlciwgX2NvbnRlbnQ6IE1QQU1lc3NhZ2VDb250ZW50KTogdm9pZFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFBsYXllci5NUEFbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XS5zZXR0aW5nc05vdGlmeSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgTm90aWZ5UGxheWVyKExvY2FsaXplZFRleHQoXCJTb3VyY2VDaGFyYWN0ZXIgaXMgYWNjZXNzaW5nIHlvdXIgTVBBIHNldHRpbmdzLlwiKS5yZXBsYWNlKFwiU291cmNlQ2hhcmFjdGVyXCIsIHNlbmRlci5OaWNrbmFtZSB8fCBzZW5kZXIuTmFtZSksIDMwMDAwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBMb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLkxvYWQoKTtcblxuICAgICAgICAvLyBQcmlvIGhhcyB0byBiZSAxIG1vcmUgdGhhbiBMU0NHIG9yIEJDWCBob29rc1xuICAgICAgICBjb25zdCBob29rUHJpb3JpdHkgPSAxMjtcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiSW5mb3JtYXRpb25TaGVldFJ1blwiLCBob29rUHJpb3JpdHksIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBMU0NHIG9yIEJDWCBzdWJzY3JlZW5zIG9wZW4gaW5zdGVhZFxuICAgICAgICAgICAgaWYgKHdpbmRvdy5iY3g/LmluQmN4U3Vic2NyZWVuKCkgfHwgd2luZG93LkxTQ0dfUkVNT1RFX1dJTkRPV19PUEVOKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBNUEEgU2V0dGluZ3MgYXJlIG9wZW5cbiAgICAgICAgICAgIGlmICh3aW5kb3cuTVBBLm1lbnVMb2FkZWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hhciA9IEluZm9ybWF0aW9uU2hlZXRTZWxlY3Rpb247XG4gICAgICAgICAgICAgICAgaWYgKGNoYXI/Lk1QQSAmJiAhY2hhci5Jc1BsYXllcigpICYmIGN1cnJlbnRNZW51ID09IG51bGwpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBEcmF3VGV4dEZpdChcbiAgICAgICAgICAgICAgICAgICAgICAgIGAke0xvY2FsaXplZFRleHQoXCJZb3VyIFZlcnNpb25cIil9OiAke1BsYXllci5NUEEudmVyc2lvbn1gLFxuICAgICAgICAgICAgICAgICAgICAgICAgLi4uVkVSU0lPTl9URVhUX1NFTEYsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkJsYWNrXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkdyYXlcIlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICBEcmF3VGV4dEZpdChcbiAgICAgICAgICAgICAgICAgICAgICAgIGAke0xvY2FsaXplZFRleHQoXCJUYXJnZXRDaGFyYWN0ZXIncyBWZXJzaW9uXCIpfTogJHtjaGFyPy5NUEEudmVyc2lvbn1gLnJlcGxhY2UoXCJUYXJnZXRDaGFyYWN0ZXJcIiwgY2hhcj8uTmlja25hbWUgfHwgY2hhcj8uTmFtZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5WRVJTSU9OX1RFWFRfT1RIRVIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkJsYWNrXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkdyYXlcIlxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBQcmVmZXJlbmNlTWVudVJ1bigpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbmV4dChhcmdzKTtcbiAgICAgICAgICAgIC8vIERyYXcgdGhlIHJlbW90ZSBpbnRvIHNldHRpbmdzIGJ1dHRvbiBpZiBhcHBsaWNhYmxlXG4gICAgICAgICAgICBjb25zdCBjaGFyID0gSW5mb3JtYXRpb25TaGVldFNlbGVjdGlvbjtcbiAgICAgICAgICAgIGlmIChjaGFyPy5NUEEgJiYgIWNoYXIuSXNQbGF5ZXIoKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhY2Nlc3MgPSBTZXJ2ZXJDaGF0Um9vbUdldEFsbG93SXRlbShQbGF5ZXIsIGNoYXIpO1xuICAgICAgICAgICAgICAgIERyYXdCdXR0b24oXG4gICAgICAgICAgICAgICAgICAgIC4uLigoYmN4Rm91bmQoKSA/IE1QQV9SRU1PVEVfQkNYIDogTVBBX1JFTU9URSkgYXMgcmVhZG9ubHkgW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl0pLFxuICAgICAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICAgICBhY2Nlc3MgPyBcIiNmZmZmZmZcIiA6IFwiI2FhYWFhYVwiLFxuICAgICAgICAgICAgICAgICAgICBJQ09OUy5QQVcsXG4gICAgICAgICAgICAgICAgICAgIExvY2FsaXplZFRleHQoYWNjZXNzID8gXCJNUEFcIiA6IFwiTVBBOiBObyBCQyBpdGVtIHBlcm1pc3Npb25cIiksXG4gICAgICAgICAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiSW5mb3JtYXRpb25TaGVldENsaWNrXCIsIGhvb2tQcmlvcml0eSwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIExTQ0cgb3IgQkNYIHN1YnNjcmVlbnMgb3BlbiBpbnN0ZWFkXG4gICAgICAgICAgICBpZiAod2luZG93LmJjeD8uaW5CY3hTdWJzY3JlZW4oKSB8fCB3aW5kb3cuTFNDR19SRU1PVEVfV0lORE9XX09QRU4pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh3aW5kb3cuTVBBLm1lbnVMb2FkZWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFByZWZlcmVuY2VNZW51Q2xpY2soKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgY2hhciA9IEluZm9ybWF0aW9uU2hlZXRTZWxlY3Rpb247XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgTW91c2VJbiguLi4oKGJjeEZvdW5kKCkgPyBNUEFfUkVNT1RFX0JDWCA6IE1QQV9SRU1PVEUpIGFzIHJlYWRvbmx5IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdKSlcbiAgICAgICAgICAgICAgICAmJiBjaGFyPy5NUEFcbiAgICAgICAgICAgICAgICAmJiAhY2hhci5Jc1BsYXllcigpXG4gICAgICAgICAgICAgICAgJiYgU2VydmVyQ2hhdFJvb21HZXRBbGxvd0l0ZW0oUGxheWVyLCBjaGFyKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5NUEEubWVudUxvYWRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgLy8gTVBBIGlzIGRlZmluZWQgZnJvbSBjaGVjayBhYm92ZSwgc28gb3RoZXIgY2hhcmFjdGVyIGlzIHNhbWUgYXMgc2VsZiBpbiBzdHJ1Y3R1cmVcbiAgICAgICAgICAgICAgICBTZXRTZXR0aW5nQ2hhcihjaGFyIGFzIFBsYXllckNoYXJhY3Rlcik7XG4gICAgICAgICAgICAgICAgU2VuZE1QQU1lc3NhZ2UoeyBtZXNzYWdlOiBcIkVkaXRpbmdTZXR0aW5nc1wiIH0sIGNoYXIuTWVtYmVyTnVtYmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiSW5mb3JtYXRpb25TaGVldEV4aXRcIiwgaG9va1ByaW9yaXR5LCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5NUEEubWVudUxvYWRlZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBFeGl0QnV0dG9uUHJlc3NlZCgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBVbmxvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3VwZXIuVW5sb2FkKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgTW9kdWxlLCBNb2R1bGVUaXRsZSB9IGZyb20gXCIuL19tb2R1bGVcIjtcbmltcG9ydCB7IEJFRF9CQUQsIEJFRF9OT1JNQUwsIEJFRF9QRVJGRUNULCBPUkdBU01fQUNUSVZJVFlfUkVHRVggfSBmcm9tIFwiLi4vdXRpbC9jb25zdGFudHNcIjtcbmltcG9ydCB7IEhvb2tGdW5jdGlvbiB9IGZyb20gXCIuLi91dGlsL3Nka1wiO1xuaW1wb3J0IHsgU2F2ZVN0b3JhZ2UgfSBmcm9tIFwiLi4vdXRpbC9zdG9yYWdlXCI7XG5pbXBvcnQgeyBGaW5kQ2hhcmFjdGVySW5Sb29tLCBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnksIFNlbmRBY3Rpb24gfSBmcm9tIFwiLi4vdXRpbC9tZXNzYWdpbmdcIjtcbmltcG9ydCB7IFJlY29yZFN5bmMgfSBmcm9tIFwiLi9kYXRhU3luY1wiO1xuaW1wb3J0IHsgSXNIYXJkY29yZU9uIH0gZnJvbSBcIi4vcHJvZmlsZVwiO1xuaW1wb3J0IHsgUmFuZG9tRWxlbWVudCB9IGZyb20gXCIuLi91dGlsL2dlbmVyYWxcIjtcblxuY29uc3QgTUFYX1NFVFRJTkdfVElNRV9IT1VSUyA9IDE2ODtcblxuY29uc3QgUGxheWVyVlA6IChDPzogQ2hhcmFjdGVyKSA9PiBNUEFSZWNvcmQgPSAoQzogQ2hhcmFjdGVyID0gUGxheWVyKSA9Plxue1xuICAgIHJldHVybiBDLk1QQT8uW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdID8/IHt9O1xufTtcblxuLy8gY29uc3QgQ0hBUkFDVEVSU19NT1ZJTkcgPSBbXCJTZXJ2ZXJNb3ZlUmlnaHRcIiwgXCJTZXJ2ZXJTd2FwXCIsIFwiU2VydmVyTW92ZUxlZnRcIl07XG5cbmNvbnN0IEJPV0xfQ09OU1VNRV9SRUNPVkVSWSA9IDAuNjc7XG5jb25zdCBJVEVNX0NPTlVNRV9SRUNPVkVSWSA9IDAuMzM7XG5cbmNvbnN0IEFDVElWSVRJRVNfRk9PRF9HQUlOID0gW1wiTFNDR19FYXRcIiwgXCJUaHJvd0l0ZW1cIl07XG5jb25zdCBBQ1RJVklUSUVTX1dBVEVSX0dBSU4gPSBbXCJMU0NHX0Z1bm5lbFBvdXJcIiwgXCJMU0NHX1F1YWZmXCJdO1xuXG5jb25zdCBFTU9USUNPTlNfU0xFRVAgPSBbXCJTbGVlcFwiLCBcIkFma1wiLCBcIkZvcmtcIiwgXCJDb2RpbmdcIiwgXCJSZWFkXCJdO1xuXG5jb25zdCBBRkZFQ1RJT05fQUNUSVZJVFlfTE9WRSA9IFtcIlBldFwiLCBcIlRha2VDYXJlXCIsIFwiTFNDR19OdXp6bGVcIiwgXCJDYXJlc3NcIiwgXCJMU0NHX0h1Z1wiLCBcIlNjcmF0Y2hcIl07XG5jb25zdCBBRkZFQ1RJT05fQUNUSVZJVFlfTElLRSA9IFtcIktpc3NcIiwgXCJNYXNzYWdlSGFuZHNcIiwgXCJMaWNrXCIsIFwiTmliYmxlXCIsIFwiQ3VkZGxlXCIsIFwiR3JvcGVcIl07XG5jb25zdCBBRkZFQ1RJT05fQUNUSVZJVFlfTUFTTyA9IFtcIlNwYW5rXCIsIFwiU2xhcFwiLCBcIkJpdGVcIiwgXCJQaW5jaFwiLCBcIlB1bGxcIiwgXCJTaG9ja0l0ZW1cIiwgXCJTcGFua0l0ZW1cIl07XG5jb25zdCBBRkZFQ1RJT05fTE9WRV9CQVNFID0gMC4wNTtcbmNvbnN0IEFGRkVDVElPTl9MSUtFX0JBU0UgPSAwLjAzO1xuY29uc3QgQUZGRUNUSU9OX01BU09fQkFTRSA9IC0wLjA0O1xuXG5jb25zdCBBRkZFQ1RJT05fWk9ORV9BRkZFQ1RJT046IFBhcnRpYWw8UmVjb3JkPEFzc2V0R3JvdXBJdGVtTmFtZSwgbnVtYmVyPj4gPSB7XG4gICAgSXRlbUFybXM6IDEsXG4gICAgSXRlbUJvb3RzOiAwLjgsXG4gICAgSXRlbUJyZWFzdDogMS41LFxuICAgIEl0ZW1CdXR0OiAxLjUsXG4gICAgSXRlbUVhcnM6IDIuNSxcbiAgICBJdGVtRmVldDogMC44LFxuICAgIEl0ZW1IYW5kczogMSxcbiAgICBJdGVtSGVhZDogMyxcbiAgICBJdGVtTGVnczogMSxcbiAgICBJdGVtTW91dGg6IDIsXG4gICAgSXRlbU5lY2s6IDEuMixcbiAgICBJdGVtTmlwcGxlczogMS41LFxuICAgIEl0ZW1Ob3NlOiAxLjcsXG4gICAgSXRlbVBlbHZpczogMS4zLFxuICAgIEl0ZW1Ub3JzbzogMSxcbiAgICBJdGVtVnVsdmE6IDIsXG4gICAgSXRlbVZ1bHZhUGllcmNpbmdzOiAyLjVcbn07XG5cbmNvbnN0IE1JTl9PRkZMSU5FX0RSQUlOX0xFVkVMID0gMC4yO1xuXG5jb25zdCBMQVNUX09OTElORV9JTlRFUlZBTF9NUyA9IDEwMDAwO1xubGV0IGxhc3RPbmxpbmVJbnRlcnZhbDogbnVtYmVyO1xuXG4vLyBTZXggUGV0XG5jb25zdCBTRVhfUEVUX0FDVElWSVRJRVMgPSBbXCJMaWNrXCIsIFwiTWFzdHVyYmF0ZVRvbmd1ZVwiLCBcIktpc3NcIiwgXCJOaWJibGVcIiwgXCJMU0NHX1Rocm9hdFwiLCBcIkxTQ0dfU3Vja1wiXTtcbmNvbnN0IFNFWF9QRVRfQUNUSVZJVElFU19PVEhFUiA9IFtcIlBlbmV0cmF0ZVNsb3dcIiwgXCJQZW5ldHJhdGVGYXN0XCIsIFwiUnViSXRlbVwiLCBcIkxTQ0dfU2xhcFBlbmlzXCJdO1xuY29uc3QgU0VYX1BFVF9SRUdJT05TID0gW1wiSXRlbVZ1bHZhXCIsIFwiSXRlbVZ1bHZhUGllcmNpbmdzXCIsIFwiSXRlbUJ1dHRcIl07XG5jb25zdCBTRVhfUEVUX1JFQ09WRVJZID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgT2ZmOiAwLFxuICAgIExvdzogMC4wNSxcbiAgICBNZWRpdW06IDAuMSxcbiAgICBIaWdoOiAwLjJcbn0pO1xuY29uc3QgU0VYX1BFVF9USElSU1RfTU9EID0gNztcbmNvbnN0IFNFWF9QRVRfT1JHQVNNX1RJTUVfTVMgPSAxLjUgKiA2MCAqIDEwMDA7XG5jb25zdCBwZXJmb3JtZWRPcmFsT246IFJlY29yZDxudW1iZXIsIG51bWJlcj4gPSB7fTtcblxuY29uc3QgU0VYX1BFVF9EUklOSyA9IE9iamVjdC5mcmVlemUoe1xuICAgIEZFTUFMRTogW1xuICAgICAgICBcIlNvdXJjZUNoYXJhY3RlciBnYXNwcyBhbmQgc3B1dHRlcnMgYXMgUHJvbm91blN1YmplY3Qgc2x1cnBzIHVwIGFsbCBvZiBEZXN0aW5hdGlvbkNoYXJhY3RlciBjbGltYXguXCIsXG4gICAgICAgIFwiU291cmNlQ2hhcmFjdGVyIHNtaWxlcyBhcyBQcm9ub3VuU3ViamVjdCBlYWdlcmx5IGd1bHBzIGRvd24gRGVzdGluYXRpb25DaGFyYWN0ZXIgZWphY3VsYXRlLCB3aXRoIHNvbWUgZHJpcHBpbmcgZG93biBQcm9ub3VuUG9zc2Vzc2l2ZSBjaGluLlwiLFxuICAgICAgICBcIlNvdXJjZUNoYXJhY3RlciBvcGVucyBQcm9ub3VuUG9zc2Vzc2l2ZSBtb3V0aCB3aWRlIHRyeWluZyB0byBjYXRjaCBhbmQgc3dhbGxvdyBhcyBtdWNoIG9mIERlc3RpbmF0aW9uQ2hhcmFjdGVyIHNxdWlydC5cIlxuICAgIF0sXG4gICAgTUFMRTogW1xuICAgICAgICBcIlNvdXJjZUNoYXJhY3RlciBvcGVucyBQcm9ub3VuUG9zc2Vzc2l2ZSBtb3V0aCBhcyBUYXJnZXRDaGFyYWN0ZXIgc2hvb3RzIFRhcmdldFByb25vdW5Qb3NzZXNzaXZlIGxvYWQsIGhpdHRpbmcgdGhlIGJhY2sgb2YgUHJvbm91blBvc3Nlc3NpdmUgdGhyb2F0LlwiLFxuICAgICAgICBcIlNvdXJjZUNoYXJhY3RlciB3cmFwcyBQcm9ub3VuUG9zc2Vzc2l2ZSBsaXBzIGFyb3VuZCBEZXN0aW5hdGlvbkNoYXJhY3RlciBzaGFmdCB0byBzd2FsbG93IGFuZCBub3Qgd2FzdGUgYSBkcm9wIG9mIFRhcmdldFByb25vdW5Qb3NzZXNzaXZlIGN1bS5cIixcbiAgICAgICAgXCJUYXJnZXRDaGFyYWN0ZXIgcHVtcHMgVGFyZ2V0UHJvbm91blBvc3Nlc3NpdmUgbG9hZCBpbnRvIFNvdXJjZUNoYXJhY3RlcidzIGF3YWl0aW5nIG1vdXRoLCBsb29raW5nIHVwIGF0IFRhcmdldENoYXJhY3RlciB3aXRoIHByaWRlIGFzIFNvdXJjZUNoYXJhY3RlciBzd2FsbG93cyBpdCBhbGwuXCJcbiAgICBdXG59KTtcblxuZXhwb3J0IGNvbnN0IElzU2xlZXBpbmdFeHByZXNzaW9uID0gKGNoYXI6IENoYXJhY3Rlcik6IGJvb2xlYW4gPT5cbntcbiAgICByZXR1cm4gKFxuICAgICAgICBjaGFyLkFwcGVhcmFuY2UuZmluZCgoeCkgPT4geC5Bc3NldC5Hcm91cC5OYW1lID09PSBcIkV5ZXNcIik/LlByb3BlcnR5Py5FeHByZXNzaW9uID09PSBcIkNsb3NlZFwiXG4gICAgICAgICYmIGNoYXIuQXBwZWFyYW5jZS5maW5kKCh4KSA9PiB4LkFzc2V0Lkdyb3VwLk5hbWUgPT09IFwiRXllczJcIik/LlByb3BlcnR5Py5FeHByZXNzaW9uID09PSBcIkNsb3NlZFwiXG4gICAgICAgICYmIEVNT1RJQ09OU19TTEVFUC5pbmNsdWRlcyhjaGFyLkFwcGVhcmFuY2UuZmluZCgoeCkgPT4geC5Bc3NldC5Hcm91cC5OYW1lID09PSBcIkVtb3RpY29uXCIpPy5Qcm9wZXJ0eT8uRXhwcmVzc2lvbiA/PyBcIlwiKVxuICAgICk7XG59O1xuZXhwb3J0IGNvbnN0IElzQmVkTXVsdGlwbGllciA9IChjaGFyOiBDaGFyYWN0ZXIpOiBudW1iZXIgPT5cbntcbiAgICBjb25zdCBkZXZpY2UgPSBJbnZlbnRvcnlHZXQoY2hhciwgXCJJdGVtRGV2aWNlc1wiKT8uQXNzZXQuTmFtZSA/PyBcIlwiO1xuICAgIHJldHVybiAoXG4gICAgICAgIEJFRF9QRVJGRUNULmluY2x1ZGVzKGRldmljZSkgPyAxMCA6IEJFRF9OT1JNQUwuaW5jbHVkZXMoZGV2aWNlKSA/IDUgOiBCRURfQkFELmluY2x1ZGVzKGRldmljZSkgPyAyIDogMVxuICAgICk7XG59O1xuXG5sZXQgcGxheWVyU2xlZXBpbmdFeHByZXNzaW9uID0gZmFsc2U7XG5sZXQgcGxheWVyQmVkTXVsdGlwbGllciA9IDE7XG5cbmV4cG9ydCB0eXBlIFZpcnR1YWxQZXRTdGF0Q2F0ZWdvcnkgPSBcImZvb2RcIiB8IFwid2F0ZXJcIiB8IFwic2xlZXBcIiB8IFwiYWZmZWN0aW9uXCI7XG5leHBvcnQgdHlwZSBWaXJ0dWFsUGV0SG91ckNhdGVnb3JpZXMgPSBgJHtWaXJ0dWFsUGV0U3RhdENhdGVnb3J5fUhvdXJzYDtcbmV4cG9ydCBpbnRlcmZhY2UgVmlydHVhbFBldFN0YXRcbntcbiAgICBzdGF0OiBWaXJ0dWFsUGV0U3RhdENhdGVnb3J5O1xuICAgIGxldmVsOiBudW1iZXI7XG59XG5cbmZ1bmN0aW9uIFNsZWVwQ2hhbmdlQ2hlY2soc3luYzogYm9vbGVhbiA9IHRydWUpOiB2b2lkXG57XG4gICAgaWYgKFxuICAgICAgICBQbGF5ZXJWUCgpLmVuYWJsZWRcbiAgICAgICAgJiYgUGxheWVyVlAoKS5zbGVlcEhvdXJzICE9PSAwXG4gICAgICAgICYmIChwbGF5ZXJTbGVlcGluZ0V4cHJlc3Npb24gIT09IElzU2xlZXBpbmdFeHByZXNzaW9uKFBsYXllcilcbiAgICAgICAgICB8fCBwbGF5ZXJCZWRNdWx0aXBsaWVyICE9PSBJc0JlZE11bHRpcGxpZXIoUGxheWVyKSlcbiAgICApXG4gICAge1xuICAgICAgICAvLyBpZiBhIGNoYW5nZSBpbiBzbGVlcGluZyBleHByZXNzaW9uIG9yIGJlZCBtdWx0aXBsaWVyLCBzeW5jIGxldmVsc1xuICAgICAgICBpZiAoc3luYylcbiAgICAgICAge1xuICAgICAgICAgICAgTGV2ZWxTeW5jKCk7XG4gICAgICAgIH1cbiAgICAgICAgcGxheWVyU2xlZXBpbmdFeHByZXNzaW9uID0gSXNTbGVlcGluZ0V4cHJlc3Npb24oUGxheWVyKTtcbiAgICAgICAgcGxheWVyQmVkTXVsdGlwbGllciA9IElzQmVkTXVsdGlwbGllcihQbGF5ZXIpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gU3RhdE1vZGlmaWVyKHN0YXQ6IFZpcnR1YWxQZXRTdGF0Q2F0ZWdvcnksIHNvdXJjZUNoYXI/OiBDaGFyYWN0ZXIpOiBudW1iZXJcbntcbiAgICBsZXQgbW9kaWZpZXIgPSAxO1xuXG4gICAgLy8gRnJvbSBvd25lcnMsICs1MCVcbiAgICBpZiAoc291cmNlQ2hhcj8uSXNPd25lcigpKVxuICAgIHtcbiAgICAgICAgbW9kaWZpZXIgKz0gMC41O1xuICAgIH1cbiAgICAvLyBsb3ZlcnMgKzM1JVxuICAgIGVsc2UgaWYgKHNvdXJjZUNoYXI/LklzTG92ZXJPZlBsYXllcigpKVxuICAgIHtcbiAgICAgICAgbW9kaWZpZXIgKz0gMC4zNTtcbiAgICB9XG4gICAgLy8gc3VicyArMjUlXG4gICAgZWxzZSBpZiAoc291cmNlQ2hhcj8uSXNGYW1pbHlPZlBsYXllcigpKVxuICAgIHtcbiAgICAgICAgbW9kaWZpZXIgKz0gMC4yNTtcbiAgICB9XG5cbiAgICAvLyBIYXJkIHRvIGVhdCBvciBkcmluayB3aGlsZSByaW5nIGdhZ2dlZFxuICAgIGlmIChzdGF0ID09PSBcImZvb2RcIiB8fCBzdGF0ID09PSBcIndhdGVyXCIpXG4gICAge1xuICAgICAgICBpZiAoIVBsYXllci5DYW5UYWxrKCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIG1vZGlmaWVyIC09IDAuNTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIDMlIGJvbnVzIGZvciBlYWNoIHJlc3RyYWludCB3b3JuXG4gICAgbW9kaWZpZXIgKz0gMC4wMyAqIFBsYXllci5BcHBlYXJhbmNlLmZpbHRlcigoeCkgPT4geC5Bc3NldC5EeW5hbWljR3JvdXBOYW1lLnN0YXJ0c1dpdGgoXCJJdGVtXCIpKS5sZW5ndGg7XG5cbiAgICAvLyA1MCUgYm9udXMgZm9yIGJlaW5nIG9uIGFsbCBmb3Vyc1xuICAgIGlmIChQbGF5ZXIuUG9zZU1hcHBpbmcuQm9keUZ1bGwgPT09IFwiQWxsRm91cnNcIilcbiAgICB7XG4gICAgICAgIG1vZGlmaWVyICs9IDAuNTtcbiAgICB9XG5cbiAgICAvLyBGb29kIGFuZCB3YXRlciBtb2RpZmllcyBhZmZlY3Rpb24gZ2FpblxuICAgIGlmIChcbiAgICAgICAgc3RhdCA9PT0gXCJhZmZlY3Rpb25cIlxuICAgICAgICAmJiBQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zXS5lbmFibGVkXG4gICAgICAgICYmIFBsYXllci5NUEFbTW9kdWxlVGl0bGUuVmlydHVhbFBldENvbmRpdGlvbnNdLmZvb2ROT1dcbiAgICApXG4gICAge1xuICAgICAgICBjb25zdCBudW1zOiBudW1iZXJbXSA9IFtdO1xuICAgICAgICBpZiAoUGxheWVyVlAoKS5mb29kSG91cnMgIT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIG51bXMucHVzaChHZXRDaGFyYWN0ZXJDdXJyZW50U3RhdFZhbHVlKFBsYXllciwgXCJmb29kXCIpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoUGxheWVyVlAoKS53YXRlckhvdXJzICE9PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBudW1zLnB1c2goR2V0Q2hhcmFjdGVyQ3VycmVudFN0YXRWYWx1ZShQbGF5ZXIsIFwid2F0ZXJcIikpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChudW1zLmxlbmd0aCAhPT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgbW9kaWZpZXIgKj0gbnVtcy5yZWR1Y2UoKHN1bSwgbnVtKSA9PiBzdW0gKyBudW0sIDApIC8gbnVtcy5sZW5ndGggLyAwLjc1O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIE1hdGgubWF4KDAsIG1vZGlmaWVyKTtcbn1cblxuZnVuY3Rpb24gVmVyaWZ5VmFsaWRTdGF0KHN0YXQ6IFZpcnR1YWxQZXRTdGF0Q2F0ZWdvcnkpOiBib29sZWFuXG57XG4gICAgY29uc3QgbGV2ZWwgPSBQbGF5ZXJWUCgpLmxldmVsc1tzdGF0XTtcbiAgICBQbGF5ZXJWUCgpLmxldmVsc1tzdGF0XSA9IE1hdGgubWluKE1hdGgubWF4KGxldmVsLCAwKSwgMSk7XG4gICAgcmV0dXJuIDAgPD0gbGV2ZWwgJiYgbGV2ZWwgPD0gMTtcbn1cblxuZnVuY3Rpb24gSG91clRvTVMoaG91cnM6IG51bWJlcilcbntcbiAgICByZXR1cm4gaG91cnMgKiA2MCAqIDYwICogMTAwMDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIENhbGN1bGF0ZUN1cnJlbnRWYWx1ZSh2YWx1ZTogbnVtYmVyLCBkdXJhdGlvbjogbnVtYmVyLCBsYXN0VXBkYXRlZDogbnVtYmVyLCBsYXN0T25saW5lPzogbnVtYmVyLCBmaXJzdFJ1bkNoZWNrOiBib29sZWFuID0gZmFsc2UsIEM6IENoYXJhY3RlciA9IFBsYXllcik6IG51bWJlclxue1xuICAgIC8qKiBIb3cgbG9uZyBpbiBtcyBoYXMgZWxhc3BlZCBzaW5jZSBub3cgb3IgbGFzdCBvbmxpbmUgKi9cbiAgICBjb25zdCBkaWZmOiBudW1iZXIgPSAobGFzdE9ubGluZSA/IGxhc3RPbmxpbmUgOiBEYXRlLm5vdygpKSAtIGxhc3RVcGRhdGVkO1xuICAgIGNvbnN0IGN1cnJlbnRWYWx1ZSA9IE1hdGgubWF4KDAsIE1hdGgubWluKHZhbHVlIC0gKGRpZmYgLyBIb3VyVG9NUyhkdXJhdGlvbikpLCAxKSk7XG4gICAgLy8gTWF4IGRyYWluIGRvd24gdG8gMjAlIHdoaWxlIG9mZmxpbmVcbiAgICBpZiAoZmlyc3RSdW5DaGVjayAmJiB2YWx1ZSA+IE1JTl9PRkZMSU5FX0RSQUlOX0xFVkVMICYmIGN1cnJlbnRWYWx1ZSA8IE1JTl9PRkZMSU5FX0RSQUlOX0xFVkVMKVxuICAgIHtcbiAgICAgICAgY29uc3QgZGlmZjI6IG51bWJlciA9IFBsYXllclZQKEMpLmxldmVscy5sYXN0T25saW5lIC0gbGFzdFVwZGF0ZWQ7XG4gICAgICAgIGNvbnN0IG5ld1ZhbHVlMiA9IE1hdGgubWF4KDAsIE1hdGgubWluKHZhbHVlIC0gKGRpZmYyIC8gSG91clRvTVMoZHVyYXRpb24pKSwgMSkpO1xuICAgICAgICByZXR1cm4gTWF0aC5taW4oTUlOX09GRkxJTkVfRFJBSU5fTEVWRUwsIG5ld1ZhbHVlMik7XG4gICAgfVxuICAgIHJldHVybiBjdXJyZW50VmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBHZXRDaGFyYWN0ZXJDdXJyZW50U3RhdFZhbHVlKGNoYXJhY3RlcjogQ2hhcmFjdGVyLCBzdGF0OiBWaXJ0dWFsUGV0U3RhdENhdGVnb3J5KTogbnVtYmVyXG57XG4gICAgY29uc3QgY2hhclN0YXRzID0gY2hhcmFjdGVyPy5NUEE/LltNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XTtcbiAgICBpZiAoIWNoYXJTdGF0cylcbiAgICB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICBpZiAoc3RhdCA9PT0gXCJzbGVlcFwiKVxuICAgIHtcbiAgICAgICAgY29uc3QgbHZsID0gKElzU2xlZXBpbmdFeHByZXNzaW9uKGNoYXJhY3RlcikgfHwgSXNCZWRNdWx0aXBsaWVyKGNoYXJhY3RlcikgIT09IDEpID9cbiAgICAgICAgICAgIGNoYXJTdGF0cy5sZXZlbHMuc2xlZXAgKyAoRGF0ZS5ub3coKSAtIGNoYXJTdGF0cy5sZXZlbHMubGFzdFVwZGF0ZWQpIC8gKGNoYXJTdGF0cy5zbGVlcEhvdXJzICogNjAgKiA2MCAqIDEwMDApICogSXNCZWRNdWx0aXBsaWVyKGNoYXJhY3RlcikgKiAoSXNTbGVlcGluZ0V4cHJlc3Npb24oY2hhcmFjdGVyKSA/IDUgOiAxKSA6XG4gICAgICAgICAgICBDYWxjdWxhdGVDdXJyZW50VmFsdWUoY2hhclN0YXRzLmxldmVscy5zbGVlcCwgY2hhclN0YXRzLnNsZWVwSG91cnMsIGNoYXJTdGF0cy5sZXZlbHMubGFzdFVwZGF0ZWQpO1xuICAgICAgICByZXR1cm4gTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgbHZsKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIENhbGN1bGF0ZUN1cnJlbnRWYWx1ZShjaGFyU3RhdHMubGV2ZWxzW3N0YXRdLCBjaGFyU3RhdHNbYCR7c3RhdH1Ib3Vyc2BdLCBjaGFyU3RhdHMubGV2ZWxzLmxhc3RVcGRhdGVkKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIExldmVsU3luYyhwdXNoVG9TdG9yYWdlOiBib29sZWFuID0gdHJ1ZSwgcmVjb3JkU3luYzogYm9vbGVhbiA9IHRydWUsIGZpcnN0U3luYzogYm9vbGVhbiA9IGZhbHNlKTogdm9pZFxue1xuICAgIC8vIFZpcnR1YWwgcGV0IGlzIG5vdCBlbmFibGVkIHNvIGRvIG5vdGhpbmdcbiAgICBpZiAoIVBsYXllclZQKCkuZW5hYmxlZClcbiAgICB7XG4gICAgICAgIFBsYXllclZQKCkubGV2ZWxzLmxhc3RVcGRhdGVkID0gRGF0ZS5ub3coKTtcbiAgICAgICAgUGxheWVyVlAoKS5sZXZlbHMubGFzdE9ubGluZSA9IERhdGUubm93KCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB1cGRhdGU6IG51bWJlciA9IFBsYXllclZQKCkubGV2ZWxzLmxhc3RVcGRhdGVkID8/IERhdGUubm93KCk7XG4gICAgY29uc3Qgb25saW5lOiBudW1iZXIgfCB1bmRlZmluZWQgPSAhUGxheWVyVlAoKS5vZmZsaW5lRHJhaW4gPyBQbGF5ZXJWUCgpLmxldmVscy5sYXN0T25saW5lIDogdW5kZWZpbmVkO1xuXG4gICAgY29uc3QgZm9vZCA9IFBsYXllclZQKCkuZm9vZEhvdXJzO1xuICAgIGlmIChmb29kICE9PSAwKVxuICAgIHtcbiAgICAgICAgUGxheWVyVlAoKS5sZXZlbHMuZm9vZCA9IENhbGN1bGF0ZUN1cnJlbnRWYWx1ZShQbGF5ZXJWUCgpLmxldmVscy5mb29kLCBmb29kLCB1cGRhdGUsIG9ubGluZSwgZmlyc3RTeW5jKTtcbiAgICB9XG4gICAgY29uc3Qgd2F0ZXIgPSBQbGF5ZXJWUCgpLndhdGVySG91cnM7XG4gICAgaWYgKHdhdGVyICE9PSAwKVxuICAgIHtcbiAgICAgICAgUGxheWVyVlAoKS5sZXZlbHMud2F0ZXIgPSBDYWxjdWxhdGVDdXJyZW50VmFsdWUoUGxheWVyVlAoKS5sZXZlbHMud2F0ZXIsIHdhdGVyLCB1cGRhdGUsIG9ubGluZSwgZmlyc3RTeW5jKTtcbiAgICB9XG4gICAgY29uc3Qgc2xlZXAgPSBQbGF5ZXJWUCgpLnNsZWVwSG91cnM7XG4gICAgaWYgKHNsZWVwICE9PSAwKVxuICAgIHtcbiAgICAgICAgaWYgKChmaXJzdFN5bmMgJiYgIW9ubGluZSlcbiAgICAgICAgICB8fCBwbGF5ZXJTbGVlcGluZ0V4cHJlc3Npb25cbiAgICAgICAgICB8fCBwbGF5ZXJCZWRNdWx0aXBsaWVyICE9PSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBkdXJhdGlvblRvVXNlID0gZmlyc3RTeW5jID8gKERhdGUubm93KCkgLSBQbGF5ZXJWUCgpLmxldmVscy5sYXN0T25saW5lKSAtIChQbGF5ZXJWUCgpLmxldmVscy5sYXN0T25saW5lIC0gdXBkYXRlKSA6IERhdGUubm93KCkgLSB1cGRhdGU7XG4gICAgICAgICAgICBjb25zdCBuZXdTbGVlcCA9IFBsYXllclZQKCkubGV2ZWxzLnNsZWVwICsgKGR1cmF0aW9uVG9Vc2UpIC8gSG91clRvTVMoc2xlZXApICogcGxheWVyQmVkTXVsdGlwbGllciAqIChwbGF5ZXJTbGVlcGluZ0V4cHJlc3Npb24gPyA1IDogMSk7XG4gICAgICAgICAgICBQbGF5ZXJWUCgpLmxldmVscy5zbGVlcCA9IE1hdGgubWF4KDAsIE1hdGgubWluKDEsIG5ld1NsZWVwKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBQbGF5ZXJWUCgpLmxldmVscy5zbGVlcCA9IENhbGN1bGF0ZUN1cnJlbnRWYWx1ZShQbGF5ZXJWUCgpLmxldmVscy5zbGVlcCwgc2xlZXAsIHVwZGF0ZSwgb25saW5lLCBmaXJzdFN5bmMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGFmZmVjdGlvbiA9IFBsYXllclZQKCkuYWZmZWN0aW9uSG91cnM7XG4gICAgaWYgKGFmZmVjdGlvbiAhPT0gMClcbiAgICB7XG4gICAgICAgIFBsYXllclZQKCkubGV2ZWxzLmFmZmVjdGlvbiA9IENhbGN1bGF0ZUN1cnJlbnRWYWx1ZShQbGF5ZXJWUCgpLmxldmVscy5hZmZlY3Rpb24sIGFmZmVjdGlvbiwgdXBkYXRlLCBvbmxpbmUsIGZpcnN0U3luYyk7XG4gICAgfVxuICAgIFBsYXllclZQKCkubGV2ZWxzLmxhc3RVcGRhdGVkID0gRGF0ZS5ub3coKTtcbiAgICBQbGF5ZXJWUCgpLmxldmVscy5sYXN0T25saW5lID0gRGF0ZS5ub3coKTtcbiAgICAvLyBTYXZlIHRvIGxvY2FsIHN0b3JhZ2VcbiAgICBpZiAocHVzaFRvU3RvcmFnZSlcbiAgICB7XG4gICAgICAgIFNhdmVTdG9yYWdlKGZhbHNlKTtcbiAgICB9XG4gICAgLy8gU3luYyBuZXcgc3RhdHMgd2l0aCBvdGhlcnNcbiAgICBpZiAocmVjb3JkU3luYylcbiAgICB7XG4gICAgICAgIFJlY29yZFN5bmMoTW9kdWxlVGl0bGUuVmlydHVhbFBldCwgXCJsZXZlbHNcIik7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBDYW5Ob20oKTogYm9vbGVhblxue1xuICAgIHJldHVybiBQbGF5ZXJWUCgpLmVuYWJsZWQgJiYgKFBsYXllclZQKCkuc2V4UGV0ID09PSBcIk9mZlwiIHx8ICFQbGF5ZXJWUCgpLnNleFBldE9ubHkpO1xufVxuXG5mdW5jdGlvbiBDYW5TZXgoKTogYm9vbGVhblxue1xuICAgIHJldHVybiBQbGF5ZXJWUCgpLmVuYWJsZWQgJiYgKFBsYXllclZQKCkuc2V4UGV0ICE9PSBcIk9mZlwiKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0gc3RhdCAtIFN0YXQgdG8gbW9kaWZ5XG4gKiBAcGFyYW0gYW1vdW50IC0gTXVzdCBiZSBiZXR3ZWVuIC0xIGFuZCAxXG4gKiBAcGFyYW0gYXBwbHlNb2RpZmllciAtIElmIGFwcGx5IHRoZSBcIlBldCBsaWtlXCIgbW9kaWZpZXJcbiAqIEBwYXJhbSBzdG9yYWdlUHVzaCAtIElmIHNhdmluZyB0byBzdG9yYWdlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBNb2RpZnlTdGF0KHN0YXQ6IFZpcnR1YWxQZXRTdGF0Q2F0ZWdvcnksIGFtb3VudDogbnVtYmVyLCBhcHBseU1vZGlmaWVyID0gdHJ1ZSwgc3RvcmFnZVB1c2ggPSB0cnVlLCBzb3VyY2VDaGFyPzogQ2hhcmFjdGVyKTogdm9pZFxue1xuICAgIGlmIChhbW91bnQgPCAtMSAmJiBhbW91bnQgPiAxKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIENhbGN1bGF0ZSB0aGUgY3VycmVudCBzdGF0cyBiYXNlZCBvbiBkcmFpbiBhbmQgdGhlbiBhcHBseSBtb2RpZmljYXRpb25zIGFmdGVyIGNoYW5naW5nIHRob3NlIHZhbHVlcyBmaXJzdFxuICAgIExldmVsU3luYyhmYWxzZSwgZmFsc2UsIGZhbHNlKTtcblxuICAgIFBsYXllclZQKCkubGV2ZWxzW3N0YXRdICs9IGFtb3VudCAqICgoYXBwbHlNb2RpZmllciAmJiBhbW91bnQgPiAwKSA/IFN0YXRNb2RpZmllcihzdGF0LCBzb3VyY2VDaGFyKSA6IDEpO1xuICAgIFZlcmlmeVZhbGlkU3RhdChzdGF0KTtcblxuICAgIC8vIFNhdmUgdG8gbG9jYWwgc3RvcmFnZVxuICAgIGlmIChzdG9yYWdlUHVzaClcbiAgICB7XG4gICAgICAgIFNhdmVTdG9yYWdlKGZhbHNlKTtcbiAgICB9XG4gICAgLy8gU3luYyBuZXcgc3RhdHMgd2l0aCBvdGhlcnNcbiAgICBSZWNvcmRTeW5jKE1vZHVsZVRpdGxlLlZpcnR1YWxQZXQsIFwibGV2ZWxzXCIpO1xufVxuXG5leHBvcnQgY2xhc3MgVmlydHVhbFBldE1vZHVsZSBleHRlbmRzIE1vZHVsZVxue1xuICAgIGdldCBUaXRsZSgpOiBNb2R1bGVUaXRsZVxuICAgIHtcbiAgICAgICAgcmV0dXJuIE1vZHVsZVRpdGxlLlZpcnR1YWxQZXQ7XG4gICAgfVxuXG4gICAgZ2V0IEFjdGl2aXRpZXMoKTogQ3VzdG9tQWN0aXZpdHlbXVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBOYW1lOiBcIkJvd2xFYXRcIixcbiAgICAgICAgICAgICAgICBUYXJnZXRzOiBbe1xuICAgICAgICAgICAgICAgICAgICBncm91cDogXCJJdGVtTW91dGhcIixcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiRWF0IEZyb20gQm93bFwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25TZWxmOiBcIlNvdXJjZUNoYXJhY3RlciBlYXRzIGZyb20gUHJvbm91blBvc3Nlc3NpdmUgYm93bC5cIlxuICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgICAgIEltYWdlOiBcIkFzc2V0cy9GZW1hbGUzRENHL0l0ZW1EZXZpY2VzL1ByZXZpZXcvUGV0Qm93bC5wbmdcIixcbiAgICAgICAgICAgICAgICBQcmVyZXF1aXNpdGU6IFtcIlVzZU1vdXRoXCJdLFxuICAgICAgICAgICAgICAgIEN1c3RvbVByZXJlcXVpc2l0ZToge1xuICAgICAgICAgICAgICAgICAgICBOYW1lOiBcIkhhc0Jvd2xcIixcbiAgICAgICAgICAgICAgICAgICAgUHJlcmVxdWlzaXRlOiAoYWN0aW5nLCBfYWN0ZWQsIF9ncm91cCkgPT5cbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEludmVudG9yeUdldChhY3RpbmcsIFwiSXRlbURldmljZXNcIik/LkFzc2V0Py5OYW1lID09PSBcIlBldEJvd2xcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgT25UcmlnZ2VyOiAoKSA9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFBsYXllclZQKCkuZW5hYmxlZCAmJiBQbGF5ZXJWUCgpLmZvb2RIb3VycyAhPT0gMCAmJiBDYW5Ob20oKSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgTW9kaWZ5U3RhdChcImZvb2RcIiwgQk9XTF9DT05TVU1FX1JFQ09WRVJZLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBOYW1lOiBcIkJvd2xEcmlua1wiLFxuICAgICAgICAgICAgICAgIFRhcmdldHM6IFt7XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwOiBcIkl0ZW1Nb3V0aFwiLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJEcmluayBGcm9tIEJvd2xcIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uU2VsZjogXCJTb3VyY2VDaGFyYWN0ZXIgZHJpbmtzIGZyb20gUHJvbm91blBvc3Nlc3NpdmUgYm93bC5cIlxuICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgICAgIEltYWdlOiBcIkFzc2V0cy9GZW1hbGUzRENHL0l0ZW1EZXZpY2VzL1ByZXZpZXcvUGV0Qm93bC5wbmdcIixcbiAgICAgICAgICAgICAgICBQcmVyZXF1aXNpdGU6IFtcIlVzZU1vdXRoXCJdLFxuICAgICAgICAgICAgICAgIEN1c3RvbVByZXJlcXVpc2l0ZToge1xuICAgICAgICAgICAgICAgICAgICBOYW1lOiBcIkhhc0Jvd2xcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgT25UcmlnZ2VyOiAoKSA9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFBsYXllclZQKCkuZW5hYmxlZCAmJiBQbGF5ZXJWUCgpLndhdGVySG91cnMgIT09IDAgJiYgQ2FuTm9tKCkpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE1vZGlmeVN0YXQoXCJ3YXRlclwiLCBCT1dMX0NPTlNVTUVfUkVDT1ZFUlksIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIE5hbWU6IFwiQm93bEVhdDJcIixcbiAgICAgICAgICAgICAgICBUYXJnZXRzOiBbe1xuICAgICAgICAgICAgICAgICAgICBncm91cDogXCJJdGVtTW91dGhcIixcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiRWF0IEZyb20gQm93bFwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25TZWxmOiBcIlNvdXJjZUNoYXJhY3RlciBwdXRzIFByb25vdW5Qb3NzZXNzaXZlIGhlYWQgaW50byBQcm9ub3VuUG9zc2Vzc2l2ZSBib3dsIGluIG9yZGVyIHRvIGVhdCB3aXRoIHRoZSBnYWcsIG1ha2luZyBhIG1lc3MuXCJcbiAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgICAgICBJbWFnZTogXCJBc3NldHMvRmVtYWxlM0RDRy9JdGVtRGV2aWNlcy9QcmV2aWV3L1BldEJvd2wucG5nXCIsXG4gICAgICAgICAgICAgICAgUHJlcmVxdWlzaXRlOiBbXSxcbiAgICAgICAgICAgICAgICBDdXN0b21QcmVyZXF1aXNpdGU6IFtcbiAgICAgICAgICAgICAgICAgICAgeyBOYW1lOiBcIkhhc0Jvd2xcIiB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBOYW1lOiBcIlVzZVRvbmd1ZU5vTW91dGhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogKGFjdGluZywgX2FjdGVkLCBfZ3JvdXApID0+XG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFhY3RpbmcuQ2FuVGFsaygpICYmICFhY3RpbmcuSXNNb3V0aEJsb2NrZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgT25UcmlnZ2VyOiAoKSA9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFBsYXllclZQKCkuZW5hYmxlZCAmJiBQbGF5ZXJWUCgpLmZvb2RIb3VycyAhPT0gMCAmJiBDYW5Ob20oKSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgTW9kaWZ5U3RhdChcImZvb2RcIiwgQk9XTF9DT05TVU1FX1JFQ09WRVJZLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBOYW1lOiBcIkJvd2xEcmluazJcIixcbiAgICAgICAgICAgICAgICBUYXJnZXRzOiBbe1xuICAgICAgICAgICAgICAgICAgICBncm91cDogXCJJdGVtTW91dGhcIixcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiRHJpbmsgRnJvbSBCb3dsXCIsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvblNlbGY6IFwiU291cmNlQ2hhcmFjdGVyIHB1dHMgUHJvbm91blBvc3Nlc3NpdmUgaGVhZCBpbnRvIFByb25vdW5Qb3NzZXNzaXZlIGJvd2wgaW4gb3JkZXIgdG8gZHJpbmsgd2l0aCB0aGUgZ2FnLCBtYWtpbmcgYSBtZXNzLlwiXG4gICAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAgICAgSW1hZ2U6IFwiQXNzZXRzL0ZlbWFsZTNEQ0cvSXRlbURldmljZXMvUHJldmlldy9QZXRCb3dsLnBuZ1wiLFxuICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogW10sXG4gICAgICAgICAgICAgICAgQ3VzdG9tUHJlcmVxdWlzaXRlOiBbXG4gICAgICAgICAgICAgICAgICAgIHsgTmFtZTogXCJIYXNCb3dsXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgeyBOYW1lOiBcIlVzZVRvbmd1ZU5vTW91dGhcIiB9XG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICBPblRyaWdnZXI6ICgpID0+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoUGxheWVyVlAoKS5lbmFibGVkICYmIFBsYXllclZQKCkud2F0ZXJIb3VycyAhPT0gMCAmJiBDYW5Ob20oKSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgTW9kaWZ5U3RhdChcIndhdGVyXCIsIEJPV0xfQ09OU1VNRV9SRUNPVkVSWSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgZ2V0IFNldHRpbmdzKCk6IFNldHRpbmdbXVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImVuYWJsZWRcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gIUlzSGFyZGNvcmVPbihDKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQmVjb21lIGEgdmlydHVhbCBwZXQhIFJlcXVpcmluZzogZm9vZCwgd2F0ZXIsIHNsZWVwLCBhbmQgYWZmZWN0aW9uXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJmb29kSG91cnNcIiBhcyBWaXJ0dWFsUGV0SG91ckNhdGVnb3JpZXMsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJudW1iZXJcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogNCxcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiSG93IG1hbnkgaG91cnMgdW50aWwgeW91IGFyZSBjb21wbGV0ZWx5IG91dCBvZiBmb29kOyAwIHRvIGRpc2FibGVcIixcbiAgICAgICAgICAgICAgICB3aWR0aDogMTI4LFxuICAgICAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgICAgICBtYXg6IE1BWF9TRVRUSU5HX1RJTUVfSE9VUlMsXG4gICAgICAgICAgICAgICAgc3RlcDogMC4xXG4gICAgICAgICAgICB9IGFzIE51bWJlclNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIndhdGVySG91cnNcIiBhcyBWaXJ0dWFsUGV0SG91ckNhdGVnb3JpZXMsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJudW1iZXJcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogNCxcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiSG93IG1hbnkgaG91cnMgdW50aWwgeW91IGFyZSBjb21wbGV0ZWx5IG91dCBvZiB3YXRlcjsgMCB0byBkaXNhYmxlXCIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IDEyOCxcbiAgICAgICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICAgICAgbWF4OiBNQVhfU0VUVElOR19USU1FX0hPVVJTLFxuICAgICAgICAgICAgICAgIHN0ZXA6IDAuMVxuICAgICAgICAgICAgfSBhcyBOdW1iZXJTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJzbGVlcEhvdXJzXCIgYXMgVmlydHVhbFBldEhvdXJDYXRlZ29yaWVzLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IDgsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkhvdyBtYW55IGhvdXJzIHVudGlsIHlvdSBhcmUgY29tcGxldGVseSBvdXQgb2Ygc2xlZXA7IDAgdG8gZGlzYWJsZVwiLFxuICAgICAgICAgICAgICAgIHdpZHRoOiAxMjgsXG4gICAgICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgICAgIG1heDogTUFYX1NFVFRJTkdfVElNRV9IT1VSUyxcbiAgICAgICAgICAgICAgICBzdGVwOiAwLjFcbiAgICAgICAgICAgIH0gYXMgTnVtYmVyU2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiYWZmZWN0aW9uSG91cnNcIiBhcyBWaXJ0dWFsUGV0SG91ckNhdGVnb3JpZXMsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJudW1iZXJcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogNCxcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiSG93IG1hbnkgaG91cnMgdW50aWwgeW91IGFyZSBjb21wbGV0ZWx5IG91dCBvZiBhZmZlY3Rpb247IDAgdG8gZGlzYWJsZVwiLFxuICAgICAgICAgICAgICAgIHdpZHRoOiAxMjgsXG4gICAgICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgICAgIG1heDogTUFYX1NFVFRJTkdfVElNRV9IT1VSUyxcbiAgICAgICAgICAgICAgICBzdGVwOiAwLjFcbiAgICAgICAgICAgIH0gYXMgTnVtYmVyU2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwib2ZmbGluZURyYWluXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJTdGF0cyBkcmFpbiBldmVuIHdoZW4gbG9nZ2VkIG91dCBvZiB0aGUgY2x1YlwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwibm9IYW5kc1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQgJiYgIUlzSGFyZGNvcmVPbihDKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBlYXRpbmcgb3IgZHJpbmtpbmcgZnJvbSBpdGVtcyBpbiB5b3VyIE9XTiBoYW5kc1wiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwibWFzb2NoaXN0XCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiTWFzb2NoaXN0IHBldDsgQWJ1c2UgcmFpc2VzIGFmZmVjdGlvblwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwibGV2ZWxzXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJyZWNvcmRcIixcbiAgICAgICAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgICAgICAgICBmb29kOiAxLFxuICAgICAgICAgICAgICAgICAgICB3YXRlcjogMSxcbiAgICAgICAgICAgICAgICAgICAgc2xlZXA6IDEsXG4gICAgICAgICAgICAgICAgICAgIGFmZmVjdGlvbjogMSxcbiAgICAgICAgICAgICAgICAgICAgbGFzdFVwZGF0ZWQ6IERhdGUubm93KCksXG4gICAgICAgICAgICAgICAgICAgIGxhc3RPbmxpbmU6IERhdGUubm93KClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGFzIFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNleFBldFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwib3B0aW9uXCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIk9mZlwiLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IFtcIk9mZlwiLCBcIkxvd1wiLCBcIk1lZGl1bVwiLCBcIkhpZ2hcIl0sXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiSG93IG11Y2ggaHVuZ2VyIGFuZCB0aGlyc3QgZ2FpbmVkIGZyb20gcGVyZm9ybWluZyBvcmFsIHNleFwiLFxuICAgICAgICAgICAgICAgIGxvb3A6IGZhbHNlXG4gICAgICAgICAgICB9IGFzIE9wdGlvblNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNleFBldE9ubHlcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gUGxheWVyVlAoQykuc2V4UGV0ICE9IFwiT2ZmXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIk9OTFkgQWJsZSB0byBnYWluIGh1bmdlciBhbmQgdGhpcnN0IGZyb20gcGVyZm9ybWluZyBvcmFsIHNleFwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZ1xuICAgICAgICBdO1xuICAgIH1cblxuICAgIExvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3VwZXIuTG9hZCgpO1xuXG4gICAgICAgIC8vIExvZ2luIGxldmVsIHN5bmNcbiAgICAgICAgU2xlZXBDaGFuZ2VDaGVjayhmYWxzZSk7XG4gICAgICAgIExldmVsU3luYyh0cnVlLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgIGxhc3RPbmxpbmVJbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChQbGF5ZXIuTWVtYmVyTnVtYmVyKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFBsYXllci5NUEFbdGhpcy5UaXRsZV0ubGV2ZWxzLmxhc3RPbmxpbmUgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgICAgIFNhdmVTdG9yYWdlKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgTEFTVF9PTkxJTkVfSU5URVJWQUxfTVMpO1xuXG4gICAgICAgIC8vIE5vbXMgYW5kIGRyaW5rc1xuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJDaGF0Um9vbU1lc3NhZ2VcIiwgMCwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhcmdzWzBdO1xuICAgICAgICAgICAgY29uc3QgYWN0aXZpdHlOYW1lID0gR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiQWN0aXZpdHlOYW1lXCIpO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICFQbGF5ZXJWUCgpLmVuYWJsZWRcbiAgICAgICAgICAgICAgICB8fCAoIVBsYXllclZQKCkubm9IYW5kc1xuICAgICAgICAgICAgICAgICAgJiYgR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiU291cmNlQ2hhcmFjdGVyXCIpID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyKVxuICAgICAgICAgICAgICAgIHx8IGRhdGEuVHlwZSAhPT0gXCJBY3Rpdml0eVwiXG4gICAgICAgICAgICAgICAgfHwgR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiVGFyZ2V0Q2hhcmFjdGVyXCIpICE9PSBQbGF5ZXIuTWVtYmVyTnVtYmVyXG4gICAgICAgICAgICAgICAgfHwgR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiRm9jdXNHcm91cE5hbWVcIikgIT09IFwiSXRlbU1vdXRoXCJcbiAgICAgICAgICAgICAgICB8fCAhYWN0aXZpdHlOYW1lXG4gICAgICAgICAgICAgICAgfHwgIUNhbk5vbSgpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEdldCBhY3Rpdml0eSBhbmQgY2hlY2sgcHJlcmVxdWlzaXRlc1xuICAgICAgICAgICAgY29uc3QgYWN0aXZpdHkgPSBBY3Rpdml0eUZlbWFsZTNEQ0cuZmluZCgoeCkgPT4geC5OYW1lID09PSBhY3Rpdml0eU5hbWUpO1xuICAgICAgICAgICAgY29uc3Qgc291cmNlID0gRmluZENoYXJhY3RlckluUm9vbShHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJUYXJnZXRDaGFyYWN0ZXJcIikpID8/IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBQbGF5ZXJWUCgpLmZvb2RIb3VycyAhPT0gMFxuICAgICAgICAgICAgICAgICYmIChhY3Rpdml0eT8uUHJlcmVxdWlzaXRlPy5pbmNsdWRlcyhcIk5lZWRzLUVhdEl0ZW1cIilcbiAgICAgICAgICAgICAgICAgIHx8IEFDVElWSVRJRVNfRk9PRF9HQUlOLnNvbWUoKHgpID0+IGFjdGl2aXR5Py5OYW1lID09PSB4KSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBNb2RpZnlTdGF0KFwiZm9vZFwiLCBJVEVNX0NPTlVNRV9SRUNPVkVSWSwgdHJ1ZSwgdW5kZWZpbmVkLCBzb3VyY2UpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgUGxheWVyVlAoKS53YXRlckhvdXJzICE9PSAwXG4gICAgICAgICAgICAgICAgJiYgKGFjdGl2aXR5Py5QcmVyZXF1aXNpdGU/LmluY2x1ZGVzKFwiTmVlZHMtU2lwSXRlbVwiKVxuICAgICAgICAgICAgICAgICAgfHwgQUNUSVZJVElFU19XQVRFUl9HQUlOLnNvbWUoKHgpID0+IGFjdGl2aXR5Py5OYW1lID09PSB4KSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBNb2RpZnlTdGF0KFwid2F0ZXJcIiwgSVRFTV9DT05VTUVfUkVDT1ZFUlksIHRydWUsIHVuZGVmaW5lZCwgc291cmNlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBFYXQgb3V0IG9mIGhhbmRzIChMU0NHKVxuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJDaGF0Um9vbU1lc3NhZ2VcIiwgMCwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhcmdzWzBdO1xuICAgICAgICAgICAgY29uc3QgYWN0aXZpdHlOYW1lID0gR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiQWN0aXZpdHlOYW1lXCIpO1xuICAgICAgICAgICAgY29uc3QgYWN0aXZpdHkgPSBBY3Rpdml0eUZlbWFsZTNEQ0cuZmluZCgoeCkgPT4geC5OYW1lID09PSBhY3Rpdml0eU5hbWUpO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICFQbGF5ZXJWUCgpLmVuYWJsZWRcbiAgICAgICAgICAgICAgICB8fCAoR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiU291cmNlQ2hhcmFjdGVyXCIpICE9PSBQbGF5ZXIuTWVtYmVyTnVtYmVyKVxuICAgICAgICAgICAgICAgIHx8IGRhdGEuVHlwZSAhPT0gXCJBY3Rpdml0eVwiXG4gICAgICAgICAgICAgICAgfHwgR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiRm9jdXNHcm91cE5hbWVcIikgIT09IFwiSXRlbUhhbmRzXCJcbiAgICAgICAgICAgICAgICB8fCAhYWN0aXZpdHlOYW1lXG4gICAgICAgICAgICAgICAgfHwgIUNhbk5vbSgpXG4gICAgICAgICAgICAgICAgfHwgUGxheWVyVlAoKS5mb29kSG91cnMgPT09IDBcbiAgICAgICAgICAgICAgICB8fCAhKGFjdGl2aXR5Py5QcmVyZXF1aXNpdGU/LmluY2x1ZGVzKFwiTmVlZHMtRWF0SXRlbVwiKVxuICAgICAgICAgICAgICAgICAgfHwgQUNUSVZJVElFU19GT09EX0dBSU4uc29tZSgoeCkgPT4gYWN0aXZpdHk/Lk5hbWUgPT09IHgpKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBNb2RpZnlTdGF0KFwiZm9vZFwiLCBJVEVNX0NPTlVNRV9SRUNPVkVSWSwgdHJ1ZSwgdW5kZWZpbmVkLCBGaW5kQ2hhcmFjdGVySW5Sb29tKEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIlRhcmdldENoYXJhY3RlclwiKSkgPz8gdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBTZXhzXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIkNoYXRSb29tTWVzc2FnZVwiLCAwLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGFyZ3NbMF07XG4gICAgICAgICAgICBjb25zdCBhY3Rpdml0eU5hbWUgPSBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJBY3Rpdml0eU5hbWVcIik7XG4gICAgICAgICAgICBjb25zdCBzb3VyY2VDaGFyID0gR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiU291cmNlQ2hhcmFjdGVyXCIpO1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0Q2hhciA9IEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIlRhcmdldENoYXJhY3RlclwiKSBhcyBudW1iZXI7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgIVBsYXllclZQKCkuZW5hYmxlZFxuICAgICAgICAgICAgICAgIHx8IGRhdGEuVHlwZSAhPT0gXCJBY3Rpdml0eVwiXG4gICAgICAgICAgICAgICAgfHwgIUNhblNleCgpXG4gICAgICAgICAgICAgICAgfHwgc291cmNlQ2hhciAhPT0gUGxheWVyLk1lbWJlck51bWJlclxuICAgICAgICAgICAgICAgIHx8IHRhcmdldENoYXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXJcbiAgICAgICAgICAgICAgICB8fCAhU0VYX1BFVF9SRUdJT05TLmluY2x1ZGVzKEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIkZvY3VzR3JvdXBOYW1lXCIpKVxuICAgICAgICAgICAgICAgIHx8ICFTRVhfUEVUX0FDVElWSVRJRVMuaW5jbHVkZXMoYWN0aXZpdHlOYW1lKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBNb2RpZnlTdGF0KFwiZm9vZFwiLCBTRVhfUEVUX1JFQ09WRVJZW1BsYXllclZQKCkuc2V4UGV0ID8/IFwiTG93XCJdLCB0cnVlLCB0cnVlLCBGaW5kQ2hhcmFjdGVySW5Sb29tKHRhcmdldENoYXIpID8/IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICBwZXJmb3JtZWRPcmFsT25bdGFyZ2V0Q2hhcl0gPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFNleHMgZnJvbSBvdGhlclxuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJDaGF0Um9vbU1lc3NhZ2VcIiwgMCwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhcmdzWzBdO1xuICAgICAgICAgICAgY29uc3QgYWN0aXZpdHlOYW1lID0gR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiQWN0aXZpdHlOYW1lXCIpO1xuICAgICAgICAgICAgY29uc3Qgc291cmNlQ2hhciA9IEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIlNvdXJjZUNoYXJhY3RlclwiKTtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldENoYXIgPSBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJUYXJnZXRDaGFyYWN0ZXJcIikgYXMgbnVtYmVyO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICFQbGF5ZXJWUCgpLmVuYWJsZWRcbiAgICAgICAgICAgICAgICB8fCBkYXRhLlR5cGUgIT09IFwiQWN0aXZpdHlcIlxuICAgICAgICAgICAgICAgIHx8ICFDYW5TZXgoKVxuICAgICAgICAgICAgICAgIHx8IHNvdXJjZUNoYXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXJcbiAgICAgICAgICAgICAgICB8fCB0YXJnZXRDaGFyICE9PSBQbGF5ZXIuTWVtYmVyTnVtYmVyXG4gICAgICAgICAgICAgICAgfHwgISghKEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIkZvY3VzR3JvdXBOYW1lXCIpICE9PSBcIkl0ZW1Nb3V0aFwiXG4gICAgICAgICAgICAgICAgICB8fCAhU0VYX1BFVF9BQ1RJVklUSUVTX09USEVSLmluY2x1ZGVzKGFjdGl2aXR5TmFtZSlcbiAgICAgICAgICAgICAgICAgIHx8IEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIkFzc2V0TmFtZVwiKSAhPT0gXCJQZW5pc1wiXG4gICAgICAgICAgICAgICAgICB8fCBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJHcm91cE5hbWVcIikgIT09IFwiUHVzc3lcIilcbiAgICAgICAgICAgICAgICB8fCAhKEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIkZvY3VzR3JvdXBOYW1lXCIpICE9PSBcIkl0ZW1IZWFkXCJcbiAgICAgICAgICAgICAgICAgIHx8IGFjdGl2aXR5TmFtZSAhPT0gXCJMU0NHX0Z1Y2tXaXRoUHVzc3lcIilcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIE1vZGlmeVN0YXQoXCJmb29kXCIsIFNFWF9QRVRfUkVDT1ZFUllbUGxheWVyVlAoKS5zZXhQZXQgPz8gXCJMb3dcIl0sIHRydWUsIHRydWUsIEZpbmRDaGFyYWN0ZXJJblJvb20oc291cmNlQ2hhcikgPz8gdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIHBlcmZvcm1lZE9yYWxPbltzb3VyY2VDaGFyXSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gT24gb3JnYXNtXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIkNoYXRSb29tTWVzc2FnZVwiLCAxMCwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhcmdzWzBdO1xuICAgICAgICAgICAgY29uc3Qgc291cmNlQ2hhciA9IEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIlNvdXJjZUNoYXJhY3RlclwiKSBhcyBudW1iZXI7XG4gICAgICAgICAgICBpZiAoZGF0YS5UeXBlICE9PSBcIkFjdGl2aXR5XCJcbiAgICAgICAgICAgICAgfHwgIU9SR0FTTV9BQ1RJVklUWV9SRUdFWC50ZXN0KGRhdGEuQ29udGVudClcbiAgICAgICAgICAgICAgfHwgc291cmNlQ2hhciA9PT0gUGxheWVyLk1lbWJlck51bWJlcilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKChwZXJmb3JtZWRPcmFsT25bc291cmNlQ2hhcl0gPz8gMCkgPj0gKERhdGUubm93KCkgLSBTRVhfUEVUX09SR0FTTV9USU1FX01TKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2VDaGFyYWN0ZXIgPSBGaW5kQ2hhcmFjdGVySW5Sb29tKHNvdXJjZUNoYXIpO1xuICAgICAgICAgICAgICAgIE1vZGlmeVN0YXQoXCJ3YXRlclwiLFxuICAgICAgICAgICAgICAgICAgICBTRVhfUEVUX1JFQ09WRVJZW1BsYXllclZQKCkuc2V4UGV0ID8/IFwiTG93XCJdICogU0VYX1BFVF9USElSU1RfTU9ELFxuICAgICAgICAgICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBzb3VyY2VDaGFyYWN0ZXIgPz8gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBpZiAoc291cmNlQ2hhcmFjdGVyKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgU2VuZEFjdGlvbihSYW5kb21FbGVtZW50KFNFWF9QRVRfRFJJTktbc291cmNlQ2hhcmFjdGVyLkhhc1BlbmlzKCkgPyBcIk1BTEVcIiA6IFwiRkVNQUxFXCJdKSBhcyBzdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBbeyBTb3VyY2VDaGFyYWN0ZXI6IFBsYXllci5NZW1iZXJOdW1iZXIgfSBhcyBTb3VyY2VDaGFyYWN0ZXJEaWN0aW9uYXJ5RW50cnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBUYXJnZXRDaGFyYWN0ZXI6IHNvdXJjZUNoYXIgfSBhcyBUYXJnZXRDaGFyYWN0ZXJEaWN0aW9uYXJ5RW50cnldXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gU2xlZXBcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiQ2hhcmFjdGVyUmVmcmVzaFwiLCAwLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGFyZ3NbMF0uTWVtYmVyTnVtYmVyID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFNsZWVwQ2hhbmdlQ2hlY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBBZmZlY3Rpb25cbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiQ2hhdFJvb21NZXNzYWdlXCIsIDAsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXJnc1swXTtcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2aXR5TmFtZSA9IEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIkFjdGl2aXR5TmFtZVwiKTtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAhUGxheWVyVlAoKS5lbmFibGVkXG4gICAgICAgICAgICAgICAgfHwgUGxheWVyVlAoKS5hZmZlY3Rpb25Ib3VycyA9PT0gMFxuICAgICAgICAgICAgICAgIHx8IGRhdGEuVHlwZSAhPT0gXCJBY3Rpdml0eVwiXG4gICAgICAgICAgICAgICAgfHwgR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiVGFyZ2V0Q2hhcmFjdGVyXCIpICE9PSBQbGF5ZXIuTWVtYmVyTnVtYmVyXG4gICAgICAgICAgICAgICAgfHwgR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiU291cmNlQ2hhcmFjdGVyXCIpID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyXG4gICAgICAgICAgICAgICAgfHwgIWFjdGl2aXR5TmFtZVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBncm91cCA9IEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIkZvY3VzR3JvdXBOYW1lXCIpIGFzIHN0cmluZyA/PyBcIlwiO1xuICAgICAgICAgICAgY29uc3QgZ3JvdXBNdWx0ID0gQUZGRUNUSU9OX1pPTkVfQUZGRUNUSU9OW2dyb3VwXSA/PyAxO1xuICAgICAgICAgICAgaWYgKEFGRkVDVElPTl9BQ1RJVklUWV9MT1ZFLmluY2x1ZGVzKGFjdGl2aXR5TmFtZSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgTW9kaWZ5U3RhdChcImFmZmVjdGlvblwiLCBBRkZFQ1RJT05fTE9WRV9CQVNFICogZ3JvdXBNdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKEFGRkVDVElPTl9BQ1RJVklUWV9MSUtFLmluY2x1ZGVzKGFjdGl2aXR5TmFtZSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgTW9kaWZ5U3RhdChcImFmZmVjdGlvblwiLCBBRkZFQ1RJT05fTElLRV9CQVNFICogZ3JvdXBNdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKEFGRkVDVElPTl9BQ1RJVklUWV9NQVNPLmluY2x1ZGVzKGFjdGl2aXR5TmFtZSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgTW9kaWZ5U3RhdChcImFmZmVjdGlvblwiLCAoUGxheWVyVlAoKS5tYXNvY2hpc3QgPyAtMSA6IDEpICogQUZGRUNUSU9OX01BU09fQkFTRSAqIGdyb3VwTXVsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgVW5sb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLlVubG9hZCgpO1xuICAgICAgICBjbGVhckludGVydmFsKGxhc3RPbmxpbmVJbnRlcnZhbCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgT1JHQVNNX0FDVElWSVRZX1JFR0VYIH0gZnJvbSBcIi4uL3V0aWwvY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBSYW5kb21FbGVtZW50IH0gZnJvbSBcIi4uL3V0aWwvZ2VuZXJhbFwiO1xuaW1wb3J0IHsgR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5LCBTZW5kQWN0aW9uIH0gZnJvbSBcIi4uL3V0aWwvbWVzc2FnaW5nXCI7XG5pbXBvcnQgeyBIb29rRnVuY3Rpb24gfSBmcm9tIFwiLi4vdXRpbC9zZGtcIjtcbmltcG9ydCB7IE1vZHVsZSwgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi9fbW9kdWxlXCI7XG5pbXBvcnQgeyBJc0hhcmRjb3JlT24gfSBmcm9tIFwiLi9wcm9maWxlXCI7XG5pbXBvcnQgeyBHZXRDaGFyYWN0ZXJDdXJyZW50U3RhdFZhbHVlLCBNb2RpZnlTdGF0LCBWaXJ0dWFsUGV0U3RhdENhdGVnb3J5IH0gZnJvbSBcIi4vdmlydHVhbFBldFwiO1xuXG5jb25zdCBQbGF5ZXJWUDogKEM/OiBDaGFyYWN0ZXIpID0+IE1QQVJlY29yZCA9IChDOiBDaGFyYWN0ZXIgPSBQbGF5ZXIpID0+XG57XG4gICAgcmV0dXJuIEMuTVBBPy5bTW9kdWxlVGl0bGUuVmlydHVhbFBldF0gPz8ge307XG59O1xuXG5jb25zdCBQbGF5ZXJWUEM6IChDPzogQ2hhcmFjdGVyKSA9PiBNUEFSZWNvcmQgPSAoQzogQ2hhcmFjdGVyID0gUGxheWVyKSA9Plxue1xuICAgIHJldHVybiBDLk1QQT8uW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zXSA/PyB7fTtcbn07XG5cbi8qKlxuICogQ2hlY2sgaWYgYSBjb25kaXRpb24gaXMgY3VycmVudGx5IGVuZm9yY2VkLCBjaGVja2luZyBpZiBlbmFibGVkIGFuZCBpZiBpdCByZWxpZXMgb24gYSBWUCBzdGF0LCB0aGF0IHRoZSBzdGF0IGlzIHNldFxuICovXG5mdW5jdGlvbiBDb25kaXRpb25Jc0VuZm9yY2VkKGNvbmRpdGlvbjogc3RyaW5nLCB2cFN0YXROZWVkVG9CZUVuYWJsZWQ/OiBWaXJ0dWFsUGV0U3RhdENhdGVnb3J5KTogYm9vbGVhblxue1xuICAgIGlmICghUGxheWVyVlBDKCkuZW5hYmxlZCB8fCAhKFBsYXllclZQQygpW2NvbmRpdGlvbl0pKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gKCF2cFN0YXROZWVkVG9CZUVuYWJsZWQgfHwgKFBsYXllclZQKCkuZW5hYmxlZCAmJiBQbGF5ZXJWUCgpPy5bYCR7dnBTdGF0TmVlZFRvQmVFbmFibGVkfUhvdXJzYF0gIT09IDApKTtcbn07XG5cbi8qKiBbU2tpbGwsIHBvc3RpdmUgb3IgbmVnYXRpdmUgY29ycmxhdGlvbl0gKi9cbmNvbnN0IEFGRkVDVElPTl9TS0lMTFM6IFtTa2lsbFR5cGUsIGJvb2xlYW5dW10gPVxuW1xuICAgIFtcIlNlbGZCb25kYWdlXCIsIHRydWVdLFxuICAgIFtcIldpbGxwb3dlclwiLCB0cnVlXSxcbiAgICBbXCJCb25kYWdlXCIsIGZhbHNlXSxcbiAgICBbXCJFdmFzaW9uXCIsIGZhbHNlXSxcbiAgICBbXCJMb2NrUGlja2luZ1wiLCBmYWxzZV1cbl07XG5cbmludGVyZmFjZSBPblN0YXRDaGFuZ2VFdmVudFxue1xuICAgIHN0YXQ6IFZpcnR1YWxQZXRTdGF0Q2F0ZWdvcnk7XG4gICAgdGhyZXNoaG9sZDogbnVtYmVyO1xuICAgIGNoYW5nZTogXCJyaXNpbmdcIiB8IFwiZmFsbGluZ1wiIHwgXCJib3RoXCI7XG4gICAgYWN0aW9uOiAoKSA9PiB2b2lkO1xuICAgIGZpcnN0UnVuPzogKCkgPT4gdm9pZDtcbn1cbmNvbnN0IHByZXZpb3VzU3RhdHM6IFJlY29yZDxWaXJ0dWFsUGV0U3RhdENhdGVnb3J5LCBudW1iZXI+ID0ge1xuICAgIGZvb2Q6IC0xLFxuICAgIHdhdGVyOiAtMSxcbiAgICBzbGVlcDogLTEsXG4gICAgYWZmZWN0aW9uOiAtMVxufTtcbmxldCBvblN0YXRMZXZlbDogT25TdGF0Q2hhbmdlRXZlbnRbXSA9IFtdO1xuLy8gTGlzdGVucyBmb3IgY2hhbmdlcyBldmVyeSB+MS41IHNlY29uZHNcbmNvbnN0IFNUQVRfQ09VTlRfTUFYID0gMjUwO1xubGV0IHN0YXRDb3VudCA9IFNUQVRfQ09VTlRfTUFYO1xuZXhwb3J0IGZ1bmN0aW9uIENvbmRpdGlvbkNoZWNrKCk6IHZvaWRcbntcbiAgICAoW1wiZm9vZFwiLCBcIndhdGVyXCIsIFwiYWZmZWN0aW9uXCIsIFwic2xlZXBcIl0gYXMgVmlydHVhbFBldFN0YXRDYXRlZ29yeVtdKS5mb3JFYWNoKChjYXRlZ29yeSkgPT5cbiAgICB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIFBsYXllclZQKCkuZW5hYmxlZFxuICAgICAgICAgICAgJiYgUGxheWVyVlBDKCkuZW5hYmxlZFxuICAgICAgICAgICAgJiYgUGxheWVyVlAoKVtgJHtjYXRlZ29yeX1Ib3Vyc2BdICE9PSAwXG4gICAgICAgIClcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgcHJldlZhbHVlID0gcHJldmlvdXNTdGF0c1tjYXRlZ29yeV07XG4gICAgICAgICAgICBjb25zdCBjdXJyVmFsdWUgPSBHZXRDaGFyYWN0ZXJDdXJyZW50U3RhdFZhbHVlKFBsYXllciwgY2F0ZWdvcnkpO1xuICAgICAgICAgICAgb25TdGF0TGV2ZWwuZm9yRWFjaCgoY2hhbmdlRXZlbnQpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VFdmVudC5zdGF0ID09PSBjYXRlZ29yeVxuICAgICAgICAgICAgICAgICAgICAmJiBwcmV2VmFsdWUgPT09IC0xXG4gICAgICAgICAgICAgICAgICAgICYmICEhY2hhbmdlRXZlbnQuZmlyc3RSdW5cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VFdmVudC5maXJzdFJ1bigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZUV2ZW50LnN0YXQgPT09IGNhdGVnb3J5XG4gICAgICAgICAgICAgICAgICAgICYmIHByZXZWYWx1ZSAhPT0gLTFcbiAgICAgICAgICAgICAgICAgICAgJiYgcHJldlZhbHVlID4gY3VyclZhbHVlIC8vIEZhbGxpbmdcbiAgICAgICAgICAgICAgICAgICAgJiYgY2hhbmdlRXZlbnQuY2hhbmdlICE9PSBcInJpc2luZ1wiXG4gICAgICAgICAgICAgICAgICAgICYmIGN1cnJWYWx1ZSA8PSBjaGFuZ2VFdmVudC50aHJlc2hob2xkXG4gICAgICAgICAgICAgICAgICAgICYmIGNoYW5nZUV2ZW50LnRocmVzaGhvbGQgPCBwcmV2VmFsdWVcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VFdmVudC5hY3Rpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VFdmVudC5zdGF0ID09PSBjYXRlZ29yeVxuICAgICAgICAgICAgICAgICAgICAmJiBwcmV2VmFsdWUgIT09IC0xXG4gICAgICAgICAgICAgICAgICAgICYmIHByZXZWYWx1ZSA8IGN1cnJWYWx1ZSAvLyBSaXNpbmdcbiAgICAgICAgICAgICAgICAgICAgJiYgY2hhbmdlRXZlbnQuY2hhbmdlICE9PSBcImZhbGxpbmdcIlxuICAgICAgICAgICAgICAgICAgICAmJiBwcmV2VmFsdWUgPCBjaGFuZ2VFdmVudC50aHJlc2hob2xkXG4gICAgICAgICAgICAgICAgICAgICYmIGNoYW5nZUV2ZW50LnRocmVzaGhvbGQgPD0gY3VyclZhbHVlXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlRXZlbnQuYWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwcmV2aW91c1N0YXRzW2NhdGVnb3J5XSA9IGN1cnJWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHByZXZpb3VzU3RhdHNbY2F0ZWdvcnldID0gLTE7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuY29uc3QgU0xFRVBfVElOVCA9IHtcbiAgICBzdGF0OiBcInNsZWVwXCIgYXMgVmlydHVhbFBldFN0YXRDYXRlZ29yeSxcbiAgICBzdGFydExldmVsOiAwLjI1LFxuICAgIGVuZExldmVsOiAwLFxuICAgIG1pblRpbnQ6IDAsXG4gICAgbWF4VGludDogMVxufTtcblxuZW51bSBQQVNTRURfT1VUXG57XG4gICAgTk9UID0gMCxcbiAgICBNUEEgPSAxLFxuICAgIExTQ0cgPSAyXG59XG5cbmxldCBwYXNzZWRPdXQgPSBQQVNTRURfT1VULk5PVDtcbmNvbnN0IFBBU1NPVVRfVEFMS19SRVBMQUNFOiBzdHJpbmdbXSA9IFtcbiAgICBcIlNvdXJjZUNoYXJhY3RlciBkcm9vbHMgb3V0IG9mIHRoZSBjb3JuZXIgb2YgUHJvbm91blBvc3Nlc3NpdmUgbW91dGggYXMgUHJvbm91blN1YmplY3Qgc2xlZXBzLlwiLFxuICAgIFwiU291cmNlQ2hhcmFjdGVyIG11bWJsZXMgcXVpZXRseSBpbiBQcm9ub3VuUG9zc2Vzc2l2ZSBzbHVtYmVyLlwiLFxuICAgIFwiU291cmNlQ2hhcmFjdGVyIHJlc3RzIHBlYWNlZnVsbHkuXCJcbl07XG5mdW5jdGlvbiBNUEFQYXNzb3V0KCk6IHZvaWRcbntcbiAgICAvLyBEb24ndCBwYXNzIG91dCBpZiB1bmFibGUgdG8gb3IgYWxyZWFkeSBwYXNzZWQgb3V0XG4gICAgaWYgKGdsb2JhbFRoaXMuTFNDRz8uZ2V0TW9kdWxlKFwiU3RhdGVNb2R1bGVcIik/LlNsZWVwU3RhdGU/LkFjdGl2ZSlcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBTZW5kQWN0aW9uKFwiU291cmNlQ2hhcmFjdGVyIHBhc3NlcyBvdXQgZnJvbSBleGhhdXN0aW9uLlwiLCB1bmRlZmluZWQsIFt7IFNvdXJjZUNoYXJhY3RlcjogUGxheWVyLk1lbWJlck51bWJlciB9IGFzIFNvdXJjZUNoYXJhY3RlckRpY3Rpb25hcnlFbnRyeV0pO1xuXG4gICAgaWYgKFBsYXllclZQQygpLnBhc3NvdXRMU0NHICYmIGdsb2JhbFRoaXM/LkxTQ0cpXG4gICAge1xuICAgICAgICBnbG9iYWxUaGlzPy5MU0NHPy5nZXRNb2R1bGUoXCJTdGF0ZU1vZHVsZVwiKT8uU2xlZXBTdGF0ZT8uQWN0aXZhdGUoUGxheWVyLk1lbWJlck51bWJlcik7XG4gICAgICAgIGlmIChnbG9iYWxUaGlzLkxTQ0c/LmdldE1vZHVsZShcIlN0YXRlTW9kdWxlXCIpPy5TbGVlcFN0YXRlPy5BY3RpdmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIHN1Y2Nlc3MsIGRvbid0IGZhbGwgYmFjayBvbiBNUEEgcGFzc291dFxuICAgICAgICAgICAgcGFzc2VkT3V0ID0gUEFTU0VEX09VVC5MU0NHO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQ2hhcmFjdGVyU2V0RmFjaWFsRXhwcmVzc2lvbihQbGF5ZXIsIFwiRW1vdGljb25cIiwgXCJTbGVlcFwiKTtcbiAgICBDaGFyYWN0ZXJTZXRGYWNpYWxFeHByZXNzaW9uKFBsYXllciwgXCJFeWVzXCIsIFwiQ2xvc2VkXCIpO1xuICAgIENoYXJhY3RlclNldEZhY2lhbEV4cHJlc3Npb24oUGxheWVyLCBcIkZsdWlkc1wiLCBcIkRyb29sTWVkaXVtXCIpO1xuICAgIGlmIChQbGF5ZXIuQ2FuS25lZWwoKSlcbiAgICB7XG4gICAgICAgIFBvc2VTZXRBY3RpdmUoUGxheWVyLCBcIktuZWVsXCIsIHRydWUpO1xuICAgIH1cbiAgICBwYXNzZWRPdXQgPSBQQVNTRURfT1VULk1QQTtcbn1cbmZ1bmN0aW9uIE1QQVdha2V1cCgpOiB2b2lkXG57XG4gICAgLy8gTFNDRyBwYXNzb3V0XG4gICAgaWYgKHBhc3NlZE91dCA9PT0gUEFTU0VEX09VVC5MU0NHKVxuICAgIHtcbiAgICAgICAgLy8gU29tZXRoaW5nIGtlZXBpbmcgcGxheWVyIGFzbGVlcDsgZ2FzIG9yIGNobG9yb1xuICAgICAgICBpZiAoIWdsb2JhbFRoaXM/LkxTQ0c/LmdldE1vZHVsZShcIlN0YXRlTW9kdWxlXCIpPy5TbGVlcFN0YXRlPy5BY3RpdmVcbiAgICAgICAgICB8fCAoUGxheWVyPy5MU0NHPy5JbmplY3Rvck1vZHVsZT8uc2VkYXRpdmVMZXZlbCA/PyAwKSA+IDBcbiAgICAgICAgICB8fCAoUGxheWVyPy5MU0NHPy5NaXNjTW9kdWxlPy5jaGxvcm9mb3JtRW5hYmxlZFxuICAgICAgICAgICAgJiYgKFtcIkl0ZW1Nb3V0aFwiLCBcIkl0ZW1Nb3V0aDJcIiwgXCJJdGVtTW91dGgzXCJdIGFzIEFzc2V0R3JvdXBOYW1lW10pLnNvbWUoKGdyb3VwKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBJbnZlbnRvcnlHZXQoUGxheWVyLCBncm91cCk/LkFzc2V0Py5OYW1lID09PSBcIkNobG9yb2Zvcm1DbG90aFwiO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICApKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGdsb2JhbFRoaXM/LkxTQ0c/LmdldE1vZHVsZShcIlN0YXRlTW9kdWxlXCIpPy5TbGVlcFN0YXRlPy5SZWNvdmVyKCk/LkFjdGl2ZSA9PT0gZmFsc2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIFNlbmRBY3Rpb24oXCJTb3VyY2VDaGFyYWN0ZXIgd2FrZXMgdXAgZnJvbSBQcm9ub3VuUG9zc2Vzc2l2ZSBuYXAuXCIsIHVuZGVmaW5lZCwgW3sgU291cmNlQ2hhcmFjdGVyOiBQbGF5ZXIuTWVtYmVyTnVtYmVyIH0gYXMgU291cmNlQ2hhcmFjdGVyRGljdGlvbmFyeUVudHJ5XSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIE1QQSBwYXNzb3V0XG4gICAgQ2hhcmFjdGVyU2V0RmFjaWFsRXhwcmVzc2lvbihQbGF5ZXIsIFwiRW1vdGljb25cIiwgbnVsbCk7XG4gICAgQ2hhcmFjdGVyU2V0RmFjaWFsRXhwcmVzc2lvbihQbGF5ZXIsIFwiRXllc1wiLCBcIkRhemVkXCIpO1xuICAgIENoYXJhY3RlclNldEZhY2lhbEV4cHJlc3Npb24oUGxheWVyLCBcIkV5ZWJyb3dzXCIsIFwiTG93ZXJlZFwiKTtcblxuICAgIHBhc3NlZE91dCA9IFBBU1NFRF9PVVQuTk9UO1xuICAgIFNlbmRBY3Rpb24oXCJTb3VyY2VDaGFyYWN0ZXIgd2FrZXMgdXAgZnJvbSBQcm9ub3VuUG9zc2Vzc2l2ZSBuYXAuXCIsIHVuZGVmaW5lZCwgW3sgU291cmNlQ2hhcmFjdGVyOiBQbGF5ZXIuTWVtYmVyTnVtYmVyIH0gYXMgU291cmNlQ2hhcmFjdGVyRGljdGlvbmFyeUVudHJ5XSk7XG59XG5mdW5jdGlvbiBQYXNzb3V0RW5hYmxlZCgpOiBib29sZWFuXG57XG4gICAgcmV0dXJuIChQbGF5ZXJWUEMoKS5lbmFibGVkXG4gICAgICAmJiBQbGF5ZXJWUCgpLnNsZWVwSG91cnMgIT09IDBcbiAgICAgICYmIFBsYXllclZQQygpLnBhc3NvdXQpO1xufVxuZnVuY3Rpb24gSXNQYXNzZWRPdXQoKTogYm9vbGVhblxue1xuICAgIHJldHVybiAoUGFzc291dEVuYWJsZWQoKVxuICAgICAgJiYgKCFnbG9iYWxUaGlzPy5MU1NHIHx8ICFQbGF5ZXJWUEMoKS5wYXNzb3V0TFNDRylcbiAgICAgICYmIHBhc3NlZE91dCA9PT0gUEFTU0VEX09VVC5NUEEpO1xufVxuXG5sZXQgYWZmZWN0aW9uQ2hlY2tJbnRlcnZhbDogbnVtYmVyO1xuY29uc3Qgc2tpbGxEdXJhdGlvbk1TID0gMTUwMDA7XG5mdW5jdGlvbiBBZmZlY3Rpb25Ta2lsbENoZWNrKCk6IHZvaWRcbntcbiAgICBpZiAoXG4gICAgICAgICFQbGF5ZXJWUCgpLmVuYWJsZWRcbiAgICAgICAgfHwgUGxheWVyVlAoKS5hZmZlY3Rpb25Ib3VycyA9PT0gMFxuICAgICAgICB8fCAhUGxheWVyVlBDKCkuZW5hYmxlZFxuICAgIClcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBBRkZFQ1RJT05fU0tJTExTLmZvckVhY2goKFtza2lsbCwgdHlwZV0pID0+XG4gICAge1xuICAgICAgICBjb25zdCBhZmZlY3Rpb24gPSBHZXRDaGFyYWN0ZXJDdXJyZW50U3RhdFZhbHVlKFBsYXllciwgXCJhZmZlY3Rpb25cIik7XG4gICAgICAgIGNvbnN0IGFmZmVjdGlvbk1vZGlmaWVyID0gTWF0aC5yb3VuZCgoKChhZmZlY3Rpb24pICogKDUgLSAoLTUpKSkgLyAoMSkgKyAoLTUpKSAqICh0eXBlID8gMSA6IC0xKSAqIDEwMCkgLyAxMDA7XG5cbiAgICAgICAgY29uc3QgcHJldk1vZCA9IFNraWxsR2V0TW9kaWZpZXIoUGxheWVyLCBza2lsbCk7XG4gICAgICAgIGNvbnN0IGR1cmF0aW9uID0gU2tpbGxHZXRNb2RpZmllckR1cmF0aW9uKFBsYXllciwgc2tpbGwpICE9PSAwID8gU2tpbGxHZXRNb2RpZmllckR1cmF0aW9uKFBsYXllciwgc2tpbGwpIDogc2tpbGxEdXJhdGlvbk1TO1xuICAgICAgICBpZiAoYWZmZWN0aW9uTW9kaWZpZXIgPiAwICYmIFBsYXllclZQQygpLmFmZmVjdGlvblNraWxsQnVmZnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIFNraWxsU2V0TW9kaWZpZXIoUGxheWVyLCBza2lsbCwgcHJldk1vZCArIGFmZmVjdGlvbk1vZGlmaWVyLCBkdXJhdGlvbiwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhZmZlY3Rpb25Nb2RpZmllciA8IDAgJiYgUGxheWVyVlBDKCkuYWZmZWN0aW9uU2tpbGxEZWJ1ZmZzKVxuICAgICAgICB7XG4gICAgICAgICAgICBTa2lsbFNldE1vZGlmaWVyKFBsYXllciwgc2tpbGwsIHByZXZNb2QgKyBhZmZlY3Rpb25Nb2RpZmllciwgZHVyYXRpb24sIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5jb25zdCBNQVhfU0xPV19MRUFWRV9EVVJBVElPTl9TRUMgPSAyNTtcbmNvbnN0IFNMT1dfTEVBVkVfTEVWRUxfU1RBUlQgPSAwLjM7XG5cbmNvbnN0IE9SR0FTTV9XQVRFUl9EUkFJTiA9IC0wLjA1O1xuY29uc3QgT1JHQVNNX1NMRUVQX0RSQUlOID0gLTAuMDU7XG5cbmV4cG9ydCBjbGFzcyBWaXJ0dWFsUGV0Q29uZGl0aW9uc01vZHVsZSBleHRlbmRzIE1vZHVsZVxue1xuICAgIGdldCBUaXRsZSgpOiBNb2R1bGVUaXRsZVxuICAgIHtcbiAgICAgICAgcmV0dXJuIE1vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zO1xuICAgIH1cblxuICAgIGdldCBTZXR0aW5ncygpOiBTZXR0aW5nW11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJlbmFibGVkXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCAmJiAhSXNIYXJkY29yZU9uKEMpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJSZWNpdmUgY29uZGl0aW9ucyBiYXNlZCBvbiBjdXJyZW50IGxldmVsIG9mIHlvdXIgdmlydHVhbCBwZXQgc3RhdHNcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImZvb2ROT1dcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkICYmICEhUGxheWVyVlBDKEMpLmVuYWJsZWQgJiYgIUlzSGFyZGNvcmVPbihDKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJGb29kIGFuZCB3YXRlciBhZmZlY3RzIGFmZmVjdGlvbiBnYWluXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJ0aW50XCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCAmJiAhIVBsYXllclZQQyhDKS5lbmFibGVkICYmICFJc0hhcmRjb3JlT24oQyksXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiVmlzaW9uIGRhcmtlbnMgYXMgeW91IGdldCBzbGVlcGllclwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwicGFzc291dFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQgJiYgISFQbGF5ZXJWUEMoQykuZW5hYmxlZCAmJiAhSXNIYXJkY29yZU9uKEMpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIlBhc3NvdXQgd2hlbiBleGhhdXN0ZWRcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInBhc3NvdXRMU0NHXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCAmJiAhIVBsYXllclZQQyhDKS5lbmFibGVkICYmICEhUGxheWVyVlBDKEMpLnBhc3NvdXQgJiYgISFDLkxTQ0csXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIlVzZSBMU0NHIHBhc3NvdXQgaW5zdGVhZCBvZiBNUEE7IFJlcXVpcmVzIExTQ0dcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImFmZmVjdGlvblNraWxsQnVmZnNcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkICYmICEhUGxheWVyVlBDKEMpLmVuYWJsZWQgJiYgIUlzSGFyZGNvcmVPbihDKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBZmZlY3Rpb24gd2lsbCBidWZmIHNraWxscyBiYXNlZCBvbiBpdHMgbGV2ZWxcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImFmZmVjdGlvblNraWxsRGVidWZmc1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQgJiYgISFQbGF5ZXJWUEMoQykuZW5hYmxlZCAmJiAhSXNIYXJkY29yZU9uKEMpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkFmZmVjdGlvbiB3aWxsIGRlYnVmZiBza2lsbHMgYmFzZWQgb24gaXRzIGxldmVsXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJoZWFyaW5nTG9zc1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQgJiYgISFQbGF5ZXJWUEMoQykuZW5hYmxlZCAmJiAhSXNIYXJkY29yZU9uKEMpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkhlYXJpbmcgYmVjb21lcyBoYXJkZXIgdGhlIGh1bmdyaWVyIHlvdSBhcmVcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNsb3dMZWF2ZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQgJiYgISFQbGF5ZXJWUEMoQykuZW5hYmxlZCAmJiAhSXNIYXJkY29yZU9uKEMpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIlRha2VzIGxvbmdlciB0byBsZWF2ZSB0aGUgcm9vbSB3aGVuIGh1bmdyeVwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwib3JnYXNtV2F0ZXJcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkICYmICEhUGxheWVyVlBDKEMpLmVuYWJsZWQgJiYgIUlzSGFyZGNvcmVPbihDKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJPcmdhc21zIG1ha2UgeW91IGxvc2Ugc29tZSBoeWRyYXRpb25cIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIm9yZ2FzbVNsZWVwXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCAmJiAhIVBsYXllclZQQyhDKS5lbmFibGVkICYmICFJc0hhcmRjb3JlT24oQyksXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiT3JnYXNtcyBtYWtlIHlvdSBsb3NlIHNvbWUgZW5lcmd5XCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nXG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgTG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICAvLyBDaGVjayBmb3IgY29uZGl0aW9uIGNoYW5nZXMgZXZlcnkgc28gb2Z0ZW5cbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiR2FtZVJ1blwiLCAwLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHN0YXRDb3VudCA+PSBTVEFUX0NPVU5UX01BWClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBDb25kaXRpb25DaGVjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhdENvdW50Kys7XG4gICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gRWVweSB0aW50XG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIlBsYXllci5HZXRUaW50c1wiLCAwLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgLy8gTm90IGVuYWJsZWQsIHNraXBcbiAgICAgICAgICAgIGlmICghQ29uZGl0aW9uSXNFbmZvcmNlZChcInRpbnRcIiwgU0xFRVBfVElOVC5zdGF0KSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgY3VyckxldmVsID0gR2V0Q2hhcmFjdGVyQ3VycmVudFN0YXRWYWx1ZShQbGF5ZXIsIFNMRUVQX1RJTlQuc3RhdCk7XG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIHNjYWxlZCB2YWx1ZVxuICAgICAgICAgICAgY29uc3Qgc2NhbGVkVmFsdWUgPSAoKGN1cnJMZXZlbCAtIFNMRUVQX1RJTlQuc3RhcnRMZXZlbCkgLyAoU0xFRVBfVElOVC5lbmRMZXZlbCAtIFNMRUVQX1RJTlQuc3RhcnRMZXZlbCkpICogKFNMRUVQX1RJTlQubWF4VGludCAtIFNMRUVQX1RJTlQubWluVGludCkgKyBTTEVFUF9USU5ULm1pblRpbnQ7XG4gICAgICAgICAgICBpZiAoU0xFRVBfVElOVC5taW5UaW50IDw9IHNjYWxlZFZhbHVlICYmIHNjYWxlZFZhbHVlIDw9IFNMRUVQX1RJTlQubWF4VGludClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKS5jb25jYXQoeyByOiAwLCBnOiAwLCBiOiAwLCBhOiBNYXRoLnNxcnQoTWF0aC5yb3VuZChzY2FsZWRWYWx1ZSAqIDEwMDApIC8gMTAwMCkgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQWRkIGNvbmRpdGlvbiB0cmlnZ2Vyc1xuICAgICAgICBvblN0YXRMZXZlbCA9IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0OiBcInNsZWVwXCIsXG4gICAgICAgICAgICAgICAgdGhyZXNoaG9sZDogMCxcbiAgICAgICAgICAgICAgICBjaGFuZ2U6IFwiZmFsbGluZ1wiLFxuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKCk6IHZvaWRcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIE1QQVBhc3NvdXQoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZpcnN0UnVuOiBmdW5jdGlvbiAoKTogdm9pZFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEdldENoYXJhY3RlckN1cnJlbnRTdGF0VmFsdWUoUGxheWVyLCBcInNsZWVwXCIpID09PSAwKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBNUEFQYXNzb3V0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgc3RhdDogXCJzbGVlcFwiLFxuICAgICAgICAgICAgICAgIHRocmVzaGhvbGQ6IDAuMSxcbiAgICAgICAgICAgICAgICBjaGFuZ2U6IFwicmlzaW5nXCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoKTogdm9pZFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhc3NlZE91dCAhPT0gUEFTU0VEX09VVC5OT1QpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE1QQVdha2V1cCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuICAgICAgICAvLyBFZXB5XG5cbiAgICAgICAgLy8gUGFzc291dCBIb29rc1xuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJQbGF5ZXIuQ2FuVGFsa1wiLCA1LCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIElzUGFzc2VkT3V0KCkgPyBmYWxzZSA6IG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJQbGF5ZXIuQ2FuV2Fsa1wiLCA1LCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIElzUGFzc2VkT3V0KCkgPyBmYWxzZSA6IG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJQbGF5ZXIuQ2FuQ2hhbmdlT3duQ2xvdGhlc1wiLCA1LCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIElzUGFzc2VkT3V0KCkgPyBmYWxzZSA6IG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJQbGF5ZXIuQ2FuSW50ZXJhY3RcIiwgNSwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBJc1Bhc3NlZE91dCgpID8gZmFsc2UgOiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiU2VydmVyU2VuZFwiLCA1LCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCFJc1Bhc3NlZE91dCgpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBbdHlwZSwgZGF0YV0gPSBhcmdzIGFzIFtzdHJpbmcsIFNlcnZlckNoYXRSb29tTWVzc2FnZV07XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgdHlwZSA9PSBcIkNoYXRSb29tQ2hhdFwiXG4gICAgICAgICAgICAgICAgJiYgZGF0YT8uVHlwZSA9PSBcIkNoYXRcIlxuICAgICAgICAgICAgICAgICYmICFkYXRhPy5Db250ZW50LnN0YXJ0c1dpdGgoXCIoXCIpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgU2VuZEFjdGlvbihSYW5kb21FbGVtZW50KFBBU1NPVVRfVEFMS19SRVBMQUNFKSBhcyBzdHJpbmcsIHVuZGVmaW5lZCwgW3sgU291cmNlQ2hhcmFjdGVyOiBQbGF5ZXIuTWVtYmVyTnVtYmVyIH0gYXMgU291cmNlQ2hhcmFjdGVyRGljdGlvbmFyeUVudHJ5XSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIlBsYXllci5HZXREZWFmTGV2ZWxcIiwgNSwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBJc1Bhc3NlZE91dCgpID8gNCA6IG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJQbGF5ZXIuR2V0QmxpbmRMZXZlbFwiLCA1LCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIElzUGFzc2VkT3V0KCkgPyAoUGxheWVyLkdhbWVwbGF5U2V0dGluZ3M/LlNlbnNEZXBDaGF0TG9nID09PSBcIlNlbnNEZXBFeHRyZW1lXCIgfHwgUGxheWVyLkdhbWVwbGF5U2V0dGluZ3M/LlNlbnNEZXBDaGF0TG9nID09PSBcIlNlbnNEZXBUb3RhbFwiKSA/IDMgOiAyIDogbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIkNoYXRSb29tQ2hhcmFjdGVyVXBkYXRlXCIsIDUsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBjaGFyID0gYXJnc1swXTtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBjaGFyLklzUGxheWVyKClcbiAgICAgICAgICAgICAgICAmJiBwYXNzZWRPdXQgPT09IFBBU1NFRF9PVVQuTFNDR1xuICAgICAgICAgICAgICAgICYmIGdsb2JhbFRoaXMuTFNDRz8uZ2V0TW9kdWxlKFwiU3RhdGVNb2R1bGVcIik/LlNsZWVwU3RhdGU/LkFjdGl2ZSA9PT0gZmFsc2UpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcGFzc2VkT3V0ID0gUEFTU0VEX09VVC5OT1Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQ2FuJ3QgZm9jdXMgd2hpbGUgaHVuZ3J5IChkZWFmKVxuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJQbGF5ZXIuR2V0RGVhZkxldmVsXCIsIDUsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBkZWFmTGV2ZWwgPSBDb25kaXRpb25Jc0VuZm9yY2VkKFwiaGVhcmluZ0xvc3NcIiwgXCJmb29kXCIpID8gTWF0aC5tYXgoMCwgTWF0aC5mbG9vcigoR2V0Q2hhcmFjdGVyQ3VycmVudFN0YXRWYWx1ZShQbGF5ZXIsIFwiZm9vZFwiKSAtIDAuMzAwMSkgKiAtMTApKSA6IDA7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5tYXgoZGVhZkxldmVsLCBuZXh0KGFyZ3MpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQWZmZWN0aW9uIGFmZmVjdCBza2lsbHNcbiAgICAgICAgaWYgKFNraWxsTW9kaWZpZXJNYXggPCAxMClcbiAgICAgICAge1xuICAgICAgICAgICAgU2tpbGxNb2RpZmllck1heCA9IDEwO1xuICAgICAgICB9XG4gICAgICAgIEFmZmVjdGlvblNraWxsQ2hlY2soKTtcbiAgICAgICAgYWZmZWN0aW9uQ2hlY2tJbnRlcnZhbCA9IHNldEludGVydmFsKEFmZmVjdGlvblNraWxsQ2hlY2ssIHNraWxsRHVyYXRpb25NUyArIDEwMDApO1xuXG4gICAgICAgIC8vIFNsb3cgbGVhdmVcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiQ2hhdFJvb21BdHRlbXB0TGVhdmVcIiwgMCwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghQ29uZGl0aW9uSXNFbmZvcmNlZChcInNsb3dMZWF2ZVwiLCBcImZvb2RcIikpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHByZXZTbG93ID0gQ2hhdFJvb21TbG93dGltZXI7XG4gICAgICAgICAgICBjb25zdCBjdXJyRm9vZCA9IEdldENoYXJhY3RlckN1cnJlbnRTdGF0VmFsdWUoUGxheWVyLCBcImZvb2RcIik7XG4gICAgICAgICAgICBuZXh0KGFyZ3MpO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHByZXZTbG93ID09PSAwXG4gICAgICAgICAgICAgICAgJiYgQ2hhdFJvb21TbG93dGltZXIgPiAwXG4gICAgICAgICAgICAgICAgJiYgY3VyckZvb2QgPD0gU0xPV19MRUFWRV9MRVZFTF9TVEFSVFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNsb3dlZFNwZWVkID0gKCgoLU1BWF9TTE9XX0xFQVZFX0RVUkFUSU9OX1NFQyAvIFNMT1dfTEVBVkVfTEVWRUxfU1RBUlQpICogY3VyckZvb2QpICsgTUFYX1NMT1dfTEVBVkVfRFVSQVRJT05fU0VDKSAqIDEwMDA7XG4gICAgICAgICAgICAgICAgQ2hhdFJvb21TbG93dGltZXIgPSBDdXJyZW50VGltZSArIENoYXRSb29tU2xvd0xlYXZlTWluVGltZSArIHNsb3dlZFNwZWVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiUGxheWVyLklzU2xvd1wiLCAwLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIChDb25kaXRpb25Jc0VuZm9yY2VkKFwic2xvd0xlYXZlXCIsIFwiZm9vZFwiKSAmJiBHZXRDaGFyYWN0ZXJDdXJyZW50U3RhdFZhbHVlKFBsYXllciwgXCJmb29kXCIpIDw9IFNMT1dfTEVBVkVfTEVWRUxfU1RBUlQpID8gdHJ1ZSA6IG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIE9uIG9yZ2FzbVxuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJDaGF0Um9vbU1lc3NhZ2VcIiwgMTAsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXJnc1swXTtcbiAgICAgICAgICAgIGlmIChkYXRhLlR5cGUgIT09IFwiQWN0aXZpdHlcIlxuICAgICAgICAgICAgICB8fCAhT1JHQVNNX0FDVElWSVRZX1JFR0VYLnRlc3QoZGF0YS5Db250ZW50KVxuICAgICAgICAgICAgICB8fCBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJTb3VyY2VDaGFyYWN0ZXJcIikgIT09IFBsYXllci5NZW1iZXJOdW1iZXIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChQbGF5ZXJWUEMoKS5vcmdhc21XYXRlcilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBNb2RpZnlTdGF0KFwid2F0ZXJcIiwgT1JHQVNNX1dBVEVSX0RSQUlOLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChQbGF5ZXJWUEMoKS5vcmdhc21TbGVlcClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBNb2RpZnlTdGF0KFwic2xlZXBcIiwgT1JHQVNNX1NMRUVQX0RSQUlOLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBVbmxvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3VwZXIuVW5sb2FkKCk7XG4gICAgICAgIG9uU3RhdExldmVsID0gW107XG4gICAgICAgIGNsZWFySW50ZXJ2YWwoYWZmZWN0aW9uQ2hlY2tJbnRlcnZhbCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgSG9va0Z1bmN0aW9uIH0gZnJvbSBcIi4uL3V0aWwvc2RrXCI7XG5pbXBvcnQgeyBJc01lbWJlck51bWJlckluQXV0aEdyb3VwIH0gZnJvbSBcIi4uL3V0aWwvYXV0aG9yaXR5XCI7XG5pbXBvcnQgeyBNb2R1bGUsIE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4vX21vZHVsZVwiO1xuaW1wb3J0IHsgR2V0Q2hhcmFjdGVyQ3VycmVudFN0YXRWYWx1ZSwgVmlydHVhbFBldFN0YXRDYXRlZ29yeSwgdHlwZSBWaXJ0dWFsUGV0U3RhdCB9IGZyb20gXCIuL3ZpcnR1YWxQZXRcIjtcblxuY29uc3QgUGxheWVyVlA6ICgpID0+IE1QQVJlY29yZCA9ICgpID0+XG57XG4gICAgcmV0dXJuIFBsYXllci5NUEFbTW9kdWxlVGl0bGUuVmlydHVhbFBldF07XG59O1xuY29uc3QgUGxheWVyVlBIVUQ6ICgpID0+IE1QQVJlY29yZCA9ICgpID0+XG57XG4gICAgcmV0dXJuIFBsYXllci5NUEFbTW9kdWxlVGl0bGUuVmlydHVhbFBldEhVRF07XG59O1xuXG5jb25zdCBWUF9TVEFUX0NPTE9SX0RJQ1QgPSB7XG4gICAgZm9vZDogXCIjZjJiYjE4XCIsXG4gICAgd2F0ZXI6IFwiIzJhOWZjM1wiLFxuICAgIHNsZWVwOiBcIiM4ZDJhZWVcIixcbiAgICBhZmZlY3Rpb246IFwiI2ZmNzhmMlwiXG59O1xuXG5mdW5jdGlvbiBEcmF3U3RhdENpcmNsZSh4OiBudW1iZXIsIHk6IG51bWJlciwgcmFkaXVzOiBudW1iZXIsIHN0YXQ6IFZpcnR1YWxQZXRTdGF0KTogdm9pZFxue1xuICAgIGNvbnN0IGNvbG9yID0gVlBfU1RBVF9DT0xPUl9ESUNUW3N0YXQuc3RhdF07XG5cbiAgICAvLyBPdXRlciBjaXJjbGVcbiAgICBNYWluQ2FudmFzLmJlZ2luUGF0aCgpO1xuICAgIE1haW5DYW52YXMuYXJjKFxuICAgICAgICB4LFxuICAgICAgICB5LFxuICAgICAgICByYWRpdXMsXG4gICAgICAgIDAsXG4gICAgICAgIDIgKiBNYXRoLlBJLFxuICAgICAgICB0cnVlXG4gICAgKTtcbiAgICBNYWluQ2FudmFzLmxpbmVXaWR0aCA9IHJhZGl1cyAvIDg7XG4gICAgTWFpbkNhbnZhcy5zdHJva2VTdHlsZSA9IGNvbG9yO1xuICAgIE1haW5DYW52YXMuc3Ryb2tlKCk7XG5cbiAgICAvLyBJbm5lciBhcmNcbiAgICBNYWluQ2FudmFzLmJlZ2luUGF0aCgpO1xuICAgIE1haW5DYW52YXMuYXJjKFxuICAgICAgICB4LFxuICAgICAgICB5LFxuICAgICAgICByYWRpdXMsXG4gICAgICAgIC1NYXRoLlBJIC8gMixcbiAgICAgICAgKDIgKiBNYXRoLlBJICogLXN0YXQubGV2ZWwpIC0gKE1hdGguUEkgLyAyKSxcbiAgICAgICAgdHJ1ZVxuICAgICk7XG4gICAgTWFpbkNhbnZhcy5saW5lVG8oeCwgeSk7XG4gICAgTWFpbkNhbnZhcy5maWxsU3R5bGUgPSBjb2xvcjtcbiAgICBNYWluQ2FudmFzLmZpbGwoKTtcblxuICAgIC8vIERpc3BsYXkgdGhlIHRleHRcbiAgICBpZiAoUGxheWVyVlBIVUQoKS5leGFjdFN0YXRzKVxuICAgIHtcbiAgICAgICAgTWFpbkNhbnZhcy5maWxsU3R5bGUgPSBcIiMwMDAwMDBcIjtcbiAgICAgICAgTWFpbkNhbnZhcy5mb250ID0gQ29tbW9uR2V0Rm9udChyYWRpdXMgKiAxLjI1KTtcbiAgICAgICAgTWFpbkNhbnZhcy5maWxsVGV4dChNYXRoLnJvdW5kKHN0YXQubGV2ZWwgKiAxMDApLnRvU3RyaW5nKCksIHgsIHkgKyAocmFkaXVzICogMC4xMjUpKTtcbiAgICAgICAgLy8gRGVmYXVsdCBzaXplLCBpZGsgaWYgbmVlZGVkIGJ1dCBjYW4ndCBodXJ0XG4gICAgICAgIE1haW5DYW52YXMuZm9udCA9IENvbW1vbkdldEZvbnQoMzYpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gRHJhd1ZpcnVhbFBldEh1ZCh4OiBudW1iZXIsIHk6IG51bWJlciwgem9vbTogbnVtYmVyLCBzdGF0czogVmlydHVhbFBldFN0YXRbXSk6IHZvaWRcbntcbiAgICBjb25zdCBwb3M6IFwiTGVmdFwiIHwgXCJDZW50ZXJcIiB8IFwiUmlnaHRcIiB8IFwiU3BsaXRcIiA9IFBsYXllclZQSFVEKCkucG9zaXRpb247XG4gICAgaWYgKHBvcyA9PT0gXCJMZWZ0XCIgfHwgcG9zID09PSBcIlJpZ2h0XCIpXG4gICAge1xuICAgICAgICBzdGF0cy5yZXZlcnNlKCk7XG4gICAgICAgIHN0YXRzLmZvckVhY2goKHN0YXQsIGluZGV4KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBEcmF3U3RhdENpcmNsZShcbiAgICAgICAgICAgICAgICB4ICsgKChwb3MgPT09IFwiTGVmdFwiID8gODAgOiA0MjApICogem9vbSksXG4gICAgICAgICAgICAgICAgeSArICg5NTAgLSAoaW5kZXggKiAzNikpICogem9vbSxcbiAgICAgICAgICAgICAgICAxNiAqIHpvb20sXG4gICAgICAgICAgICAgICAgc3RhdFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHBvcyA9PT0gXCJDZW50ZXJcIilcbiAgICB7XG4gICAgICAgIGNvbnN0IHN0YXRMZW4gPSBzdGF0cy5sZW5ndGg7XG4gICAgICAgIHN0YXRzLmZvckVhY2goKHN0YXQsIGluZGV4KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBEcmF3U3RhdENpcmNsZShcbiAgICAgICAgICAgICAgICB4ICsgKDI1MCAtICgoc3RhdExlbiAtIDEpICogMTgpICsgKGluZGV4ICogMzYpKSAqIHpvb20sXG4gICAgICAgICAgICAgICAgeSArICg5NTAgKiB6b29tKSxcbiAgICAgICAgICAgICAgICAxNiAqIHpvb20sXG4gICAgICAgICAgICAgICAgc3RhdFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIFByb2JhYmx5IGEgYmV0dGVyIHdheSB0byBkbyB0aGlzLCBidXQgSSBkb24ndCBjYXJlLiBJdCB3b3JrcyB0aGF0cyBhbGwgSSBuZWVkLlxuICAgIGVsc2UgaWYgKHBvcyA9PT0gXCJTcGxpdFwiKVxuICAgIHtcbiAgICAgICAgY29uc3QgY29sczogVmlydHVhbFBldFN0YXRbXVtdID0gW107XG4gICAgICAgIHN3aXRjaCAoc3RhdHMubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgY29scy5wdXNoKFtzdGF0c1swXV0pO1xuICAgICAgICAgICAgICAgIGNvbHMucHVzaChbXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgY29scy5wdXNoKFtzdGF0c1swXV0pO1xuICAgICAgICAgICAgICAgIGNvbHMucHVzaChbc3RhdHNbMV1dKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBjb2xzLnB1c2goW3N0YXRzWzFdLCBzdGF0c1swXV0pO1xuICAgICAgICAgICAgICAgIGNvbHMucHVzaChbc3RhdHNbMl1dKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICBjb2xzLnB1c2goW3N0YXRzWzFdLCBzdGF0c1swXV0pO1xuICAgICAgICAgICAgICAgIGNvbHMucHVzaChbc3RhdHNbM10sIHN0YXRzWzJdXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICB9XG4gICAgICAgIGNvbHMuZm9yRWFjaCgoY29sLCBpbmRleCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29sLmZvckVhY2goKHN0YXQsIHN0YXRJbmRleCkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBEcmF3U3RhdENpcmNsZShcbiAgICAgICAgICAgICAgICAgICAgeCArICgoaW5kZXggPT0gMCA/IDgwIDogNDIwKSAqIHpvb20pLFxuICAgICAgICAgICAgICAgICAgICB5ICsgKDk1MCAtIChzdGF0SW5kZXggKiAzNikpICogem9vbSxcbiAgICAgICAgICAgICAgICAgICAgMTYgKiB6b29tLFxuICAgICAgICAgICAgICAgICAgICBzdGF0XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIFNob3VsZERyYXdIdWQ8VCBleHRlbmRzIHR5cGVvZiBEcmF3QXJvdXNhbE1ldGVyIHwgdHlwZW9mIERyYXdDaGFyYWN0ZXI+KFxuICAgIGFyZ3M6IFBhcmFtZXRlcnM8VD4sXG4gICAgbmV4dDogYW55XG4pXG57XG4gICAgY29uc3Qgb3V0cHV0ID0gbmV4dChhcmdzKTtcbiAgICBjb25zdCBbY2hhcmFjdGVyLCB4LCB5LCB6b29tXSA9IGFyZ3M7XG4gICAgLy8gR2V0IGNoYXJhY3RlciBzdGF0cyB3aGVuIHN1cHBvcnQgZm9yIG11bHRwbGF5ZXJcbiAgICBpZiAoXG4gICAgICAgICFBY3Rpdml0eUFsbG93ZWQoKVxuICAgICAgICB8fCAoY2hhcmFjdGVyLklzUGxheWVyKCkgJiYgKCFQbGF5ZXJWUEhVRCgpLnNlbGYgfHwgIVBsYXllclZQKCkuZW5hYmxlZCkpXG4gICAgICAgIHx8ICghY2hhcmFjdGVyLklzUGxheWVyKCkgJiYgUGxheWVyVlBIVUQoKS5vdGhlcnMgPT09IFwiT2ZmXCIpXG4gICAgICAgIHx8ICghY2hhcmFjdGVyLklzUGxheWVyKCkgJiYgIUlzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAoY2hhcmFjdGVyLk1lbWJlck51bWJlciBhcyBudW1iZXIsIFBsYXllclZQSFVEKCkub3RoZXJzKSlcbiAgICApXG4gICAge1xuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH1cblxuICAgIC8vIEdldCB0aGUgc3RhdHMgZm9yIHRoZSBjaGFyYWN0ZXIsIG5vdCBqdXN0IHRoZSBwbGF5ZXJcbiAgICBjb25zdCBjaGFyYWN0ZXJWUFN0YXRzID0gY2hhcmFjdGVyPy5NUEE/LltNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XTtcbiAgICBpZiAoIWNoYXJhY3RlclZQU3RhdHM/LmVuYWJsZWQpXG4gICAge1xuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH1cblxuICAgIGNvbnN0IHN0YXRzOiBWaXJ0dWFsUGV0U3RhdFtdID0gW107XG4gICAgKFtcImZvb2RcIiwgXCJ3YXRlclwiLCBcInNsZWVwXCIsIFwiYWZmZWN0aW9uXCJdIGFzIFZpcnR1YWxQZXRTdGF0Q2F0ZWdvcnlbXSkuZm9yRWFjaCgoc3RhdCkgPT5cbiAgICB7XG4gICAgICAgIGlmIChjaGFyYWN0ZXJWUFN0YXRzW2Ake3N0YXR9SG91cnNgXSAhPT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgc3RhdHMucHVzaCh7XG4gICAgICAgICAgICAgICAgc3RhdDogc3RhdCxcbiAgICAgICAgICAgICAgICBsZXZlbDogR2V0Q2hhcmFjdGVyQ3VycmVudFN0YXRWYWx1ZShjaGFyYWN0ZXIsIHN0YXQpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChzdGF0cy5sZW5ndGggIT09IDApXG4gICAge1xuICAgICAgICBEcmF3VmlydWFsUGV0SHVkKHgsIHksIHpvb20sIHN0YXRzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3V0cHV0O1xufVxuXG5leHBvcnQgY2xhc3MgVmlydHVhbFBldEhVRE1vZHVsZSBleHRlbmRzIE1vZHVsZVxue1xuICAgIGdldCBUaXRsZSgpOiBNb2R1bGVUaXRsZVxuICAgIHtcbiAgICAgICAgcmV0dXJuIE1vZHVsZVRpdGxlLlZpcnR1YWxQZXRIVUQ7XG4gICAgfVxuXG4gICAgZ2V0IFNldHRpbmdzKCk6IFNldHRpbmdbXVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNlbGZcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiAhIVBsYXllclZQKCkuZW5hYmxlZCxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJEaXNwbGF5IHlvdXIgb3duIHZpcnR1YWwgcGV0IHN0YXRzIG9uIHRoZSBIVURcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImV4YWN0U3RhdHNcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiAhIVBsYXllclZQKCkuZW5hYmxlZCB8fCBQbGF5ZXJWUEhVRCgpLm90aGVycyAhPT0gXCJPZmZcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiRGlzcGxheSB0aGUgZXhhY3QgbnVtYmVyIHBlcmNlbnRhZ2Ugb24gdGhlIEhVRFwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwicG9zaXRpb25cIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm9wdGlvblwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gISFQbGF5ZXJWUCgpLmVuYWJsZWQgfHwgUGxheWVyVlBIVUQoKS5vdGhlcnMgIT09IFwiT2ZmXCIsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogW1wiTGVmdFwiLCBcIkNlbnRlclwiLCBcIlJpZ2h0XCIsIFwiU3BsaXRcIl0sXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiTGVmdFwiLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIldoZXJlIHRvIGRpc3BsYXkgdGhlIEhVRFwiLFxuICAgICAgICAgICAgICAgIGxvb3A6IHRydWVcbiAgICAgICAgICAgIH0gYXMgT3B0aW9uU2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwib3RoZXJzXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJvcHRpb25cIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogW1wiT2ZmXCIsIFwiUHVibGljXCIsIFwiRnJpZW5kc1wiLCBcIldoaXRlbGlzdFwiLCBcIkxvdmVyc1wiLCBcIk93bmVyc1wiLCBcIkQvcyBGYW1pbHlcIiwgXCJDbHVib3duZXJcIl0sXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiRnJpZW5kc1wiLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkRpc3BsYXkgdGhlIHZpcnR1YWwgcGV0IHN0YXRzIG9mIG90aGVycyBvbiB0aGUgSFVEXCIsXG4gICAgICAgICAgICAgICAgbG9vcDogZmFsc2VcbiAgICAgICAgICAgIH0gYXMgT3B0aW9uU2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiZm9yY2VEcmF3XCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gISFQbGF5ZXJWUCgpLmVuYWJsZWQgfHwgUGxheWVyVlBIVUQoKS5vdGhlcnMgIT09IFwiT2ZmXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkFsd2F5cyBkaXNwbGF5IHRoZSBIVUQ7IE92ZXJyaWRlcyBCQ1ggcnVsZSBcXFwiRm9yY2UtaGlkZSBVSSBlbGVtZW50c1xcXCJcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmdcbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBMb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIkRyYXdBcm91c2FsTWV0ZXJcIiwgMSwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghUGxheWVyVlBIVUQoKT8uZm9yY2VEcmF3KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBTaG91bGREcmF3SHVkKGFyZ3MsIG5leHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIkRyYXdDaGFyYWN0ZXJcIiwgMSwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChQbGF5ZXJWUEhVRCgpPy5mb3JjZURyYXcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFNob3VsZERyYXdIdWQoYXJncywgbmV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgVW5sb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLlVubG9hZCgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IExvY2FsaXplZFRleHQgfSBmcm9tIFwiLi4vbG9jYWxpemF0aW9uL2xvY2FsaXphdGlvblwiO1xuaW1wb3J0IHsgQUNUSVZJVFlfTkFNRV9QUkVGSVggfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcblxuLyoqIFN0b3JlcyB0aGUgYWN0aXZpdHkgbmFtZSBhbmQgdGhlIGltYWdlIGxvY2F0aW9uIG9yIGJhc2UgNjQgaW1hZ2UgZm9yIHRoYXQgYWN0aXZpdHkgKi9cbmV4cG9ydCBjb25zdCBhY3Rpdml0eUltYWdlczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuLyoqIFdoZW4gYW4gYWN0aXZpdHkgaXMgdXNlZCBieSB0aGUgUGxheWVyLCBydW4gdGhpcyBjYWxsYmFjayBmdW5jdGlvbiAqL1xuZXhwb3J0IGNvbnN0IGFjdGl2aXR5VHJpZ2dlcnM6IFJlY29yZDxzdHJpbmcsIEFjaXRpdml0eVRyaWdnZXI+ID0ge307XG4vKiogQ3VzdG9tIHByZXJlcXVpc2l0ZXMgZm9yIGFjdGl2aXRpZXMgKi9cbmV4cG9ydCBjb25zdCBhY3Rpdml0eVByZXJlcXVpc2l0ZXM6IFJlY29yZDxzdHJpbmcsIFByZXJlcXVpc2l0ZT4gPSB7fTtcbi8qKiBXaGVuIGFuIGFjdGl2aXR5IGhhcHBlbnMsIHJ1biB0aGlzIGNhbGxiYWNrIGZ1bmN0aW9uICovXG5leHBvcnQgY29uc3QgYWN0aXZpdHlSZWNlaXZlZDogUmVjb3JkPHN0cmluZywgQWN0aXZpdHlSZWNlaXZlZD4gPSB7fTtcblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgY3VzdG9tIGFjdGl2aXR5IGZvciB0aGUgUGxheWVyIHRvIHVzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gQ3JlYXRlQWN0aXZpdHkoY3VzdG9tQWN0aXZpdHk6IEN1c3RvbUFjdGl2aXR5KTogdm9pZFxue1xuICAgIC8vIENyZWF0ZSB0aGUgYWN0aXZpdHkgQkMgdXNlc1xuICAgIGNvbnN0IGFjdGl2aXR5OiBBY3Rpdml0eSA9IHtcbiAgICAgICAgTmFtZTogYCR7QUNUSVZJVFlfTkFNRV9QUkVGSVh9JHtjdXN0b21BY3Rpdml0eS5OYW1lfWAgYXMgQWN0aXZpdHlOYW1lLFxuICAgICAgICBBY3Rpdml0eUlEOiBNYXRoLm1heCguLi5BY3Rpdml0eUZlbWFsZTNEQ0cubWFwKCh4KSA9PiB4LkFjdGl2aXR5SUQgPz8gLTEpKSArIDEsXG4gICAgICAgIE1heFByb2dyZXNzOiBjdXN0b21BY3Rpdml0eS5NYXhQcm9ncmVzcyA/PyA1MCxcbiAgICAgICAgLy8gTWF4UHJvZ3Jlc3NTZWxmOiBjdXN0b21BY3Rpdml0eS5NYXhQcm9ncmVzc1NlbGYgPz8gY3VzdG9tQWN0aXZpdHkuTWF4UHJvZ3Jlc3MsXG4gICAgICAgIFByZXJlcXVpc2l0ZTogY3VzdG9tQWN0aXZpdHkuUHJlcmVxdWlzaXRlLFxuICAgICAgICBUYXJnZXQ6IFtdXG4gICAgfTtcblxuICAgIC8vIEFkZCBjdXN0b20gYWN0aXZpdGVzIHRvIHRoZSByZWNvcmQgZm9yIGNoZWNraW5nIHdoZW4gYW4gYWN0aXZpdHkgaXMgY2FsbGVkIGxhdGVyXG4gICAgaWYgKGN1c3RvbUFjdGl2aXR5LkN1c3RvbVByZXJlcXVpc2l0ZSlcbiAgICB7XG4gICAgICAgIGxldCBjdXN0b21QcmVyZXF1aXNpdGVzID0gY3VzdG9tQWN0aXZpdHkuQ3VzdG9tUHJlcmVxdWlzaXRlO1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoY3VzdG9tUHJlcmVxdWlzaXRlcykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGN1c3RvbVByZXJlcXVpc2l0ZXMgPSBbY3VzdG9tUHJlcmVxdWlzaXRlc107XG4gICAgICAgIH1cbiAgICAgICAgY3VzdG9tUHJlcmVxdWlzaXRlcy5mb3JFYWNoKChuZXdQcmVyZXF1aXNpdGUpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGFjdGl2aXR5LlByZXJlcXVpc2l0ZS5wdXNoKG5ld1ByZXJlcXVpc2l0ZS5OYW1lIGFzIEFjdGl2aXR5UHJlcmVxdWlzaXRlKTtcbiAgICAgICAgICAgIGlmICghKG5ld1ByZXJlcXVpc2l0ZS5OYW1lIGluIGFjdGl2aXR5UHJlcmVxdWlzaXRlcylcbiAgICAgICAgICAgICAgJiYgbmV3UHJlcmVxdWlzaXRlLlByZXJlcXVpc2l0ZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhY3Rpdml0eVByZXJlcXVpc2l0ZXNbbmV3UHJlcmVxdWlzaXRlLk5hbWVdID0gbmV3UHJlcmVxdWlzaXRlLlByZXJlcXVpc2l0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gVGhlIGxvb2t1cCB0YWJsZSBmb3IgdGhlIGFjdGl2aXR5XG4gICAgY3VzdG9tQWN0aXZpdHkuVGFyZ2V0cy5mb3JFYWNoKCh0YXJnZXQpID0+XG4gICAge1xuICAgICAgICAvLyBBY2l0aXZpdHkgY2FuIGJlIHVzZWQgb24gc2VsZlxuICAgICAgICBpZiAodGFyZ2V0LmFjdGlvblNlbGYpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghYWN0aXZpdHkuVGFyZ2V0U2VsZilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhY3Rpdml0eS5UYXJnZXRTZWxmID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAoYWN0aXZpdHkuVGFyZ2V0U2VsZiBhcyBBc3NldEdyb3VwSXRlbU5hbWVbXSk/LnB1c2godGFyZ2V0Lmdyb3VwKTtcbiAgICAgICAgICAgIEFjdGl2aXR5RGljdGlvbmFyeT8ucHVzaChbYExhYmVsLUNoYXRTZWxmLSR7dGFyZ2V0Lmdyb3VwfS0ke2FjdGl2aXR5Lk5hbWV9YCwgTG9jYWxpemVkVGV4dCh0YXJnZXQubGFiZWwpXSk7XG4gICAgICAgICAgICBBY3Rpdml0eURpY3Rpb25hcnk/LnB1c2goW2BDaGF0U2VsZi0ke3RhcmdldC5ncm91cH0tJHthY3Rpdml0eS5OYW1lfWAsIExvY2FsaXplZFRleHQodGFyZ2V0LmFjdGlvblNlbGYpXSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBY3Rpdml0eSBjYW4gYmUgdXNlZCBvbiBvdGhlcnNcbiAgICAgICAgaWYgKHRhcmdldC5hY3Rpb25PdGhlcnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGFjdGl2aXR5LlRhcmdldC5wdXNoKHRhcmdldC5ncm91cCk7XG4gICAgICAgICAgICBBY3Rpdml0eURpY3Rpb25hcnk/LnB1c2goW2BMYWJlbC1DaGF0T3RoZXItJHt0YXJnZXQuZ3JvdXB9LSR7YWN0aXZpdHkuTmFtZX1gLCBMb2NhbGl6ZWRUZXh0KHRhcmdldC5sYWJlbCldKTtcbiAgICAgICAgICAgIEFjdGl2aXR5RGljdGlvbmFyeT8ucHVzaChbYENoYXRPdGhlci0ke3RhcmdldC5ncm91cH0tJHthY3Rpdml0eS5OYW1lfWAsIExvY2FsaXplZFRleHQodGFyZ2V0LmFjdGlvbk90aGVycyldKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gSW1hZ2UgdGhlIGFjdGl2aXR5IHdpbGwgdXNlXG4gICAgYWN0aXZpdHlJbWFnZXNbYWN0aXZpdHkuTmFtZV0gPSBjdXN0b21BY3Rpdml0eS5JbWFnZTtcblxuICAgIC8vIE9uIGFjdGl2aXR5IHRyaWdnZXIgc3VwcG9ydFxuICAgIGlmIChjdXN0b21BY3Rpdml0eS5PblRyaWdnZXIpXG4gICAge1xuICAgICAgICBhY3Rpdml0eVRyaWdnZXJzW2FjdGl2aXR5Lk5hbWVdID0gY3VzdG9tQWN0aXZpdHkuT25UcmlnZ2VyO1xuICAgIH1cblxuICAgIC8vIE9uIGFjdGl2aXR5IHJlY2lldmVkIHN1cHBvcnRcbiAgICBpZiAoY3VzdG9tQWN0aXZpdHkuT25SZWNlaXZlKVxuICAgIHtcbiAgICAgICAgYWN0aXZpdHlSZWNlaXZlZFthY3Rpdml0eS5OYW1lXSA9IGN1c3RvbUFjdGl2aXR5Lk9uUmVjZWl2ZTtcbiAgICB9XG5cbiAgICBBY3Rpdml0eUZlbWFsZTNEQ0cucHVzaChhY3Rpdml0eSk7XG4gICAgQWN0aXZpdHlGZW1hbGUzRENHT3JkZXJpbmcucHVzaChhY3Rpdml0eS5OYW1lKTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgbWFueSBjdXN0b20gYWN0aXZpdGllcyBmb3IgdGhlIFBsYXllciB0byB1c2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIENyZWF0ZUFjdGl2aXRpZXMoY3VzdG9tQWN0aXZpdGllczogQ3VzdG9tQWN0aXZpdHlbXSk6IHZvaWRcbntcbiAgICBjdXN0b21BY3Rpdml0aWVzLmZvckVhY2goKGFjdGl2aXR5KSA9PlxuICAgIHtcbiAgICAgICAgQ3JlYXRlQWN0aXZpdHkoYWN0aXZpdHkpO1xuICAgIH0pO1xufVxuXG4vKipcbiAqIFJlbW92ZSBhY3Rpdml0eSwgZGlzYWxsb3dpbmcgdGhlIFBsYXllciB0byB1c2UgaXRcbiAqIEBwYXJhbSBjdXN0b21BY3Rpdml0eSAtIE9ubHkgTmFtZSBhbmQgVGFyZ2V0cyBtYXR0ZXIgZm9yIHRoaXMgZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFJlbW92ZUFjdGl2aXR5KGN1c3RvbUFjdGl2aXR5OiBDdXN0b21BY3Rpdml0eSk6IHZvaWRcbntcbiAgICBjb25zdCBhY3Rpdml0eU5hbWUgPSBgJHtBQ1RJVklUWV9OQU1FX1BSRUZJWH0ke2N1c3RvbUFjdGl2aXR5Lk5hbWV9YDtcblxuICAgIC8vIFRoZSBsb29rdXAgdGFibGUgZm9yIHRoZSBhY3Rpdml0eVxuICAgIGN1c3RvbUFjdGl2aXR5LlRhcmdldHMuZm9yRWFjaCgodGFyZ2V0KSA9PlxuICAgIHtcbiAgICAgICAgLy8gQWNpdGl2aXR5IGNhbiBiZSB1c2VkIG9uIHNlbGZcbiAgICAgICAgaWYgKHRhcmdldC5hY3Rpb25TZWxmKVxuICAgICAgICB7XG4gICAgICAgICAgICBBY3Rpdml0eURpY3Rpb25hcnkgPSBBY3Rpdml0eURpY3Rpb25hcnk/LmZpbHRlcigoeCkgPT4gISh4WzBdID09PSBgTGFiZWwtQ2hhdFNlbGYtJHt0YXJnZXQuZ3JvdXB9LSR7YWN0aXZpdHlOYW1lfWAgfHwgeFswXSA9PT0gYENoYXRTZWxmLSR7dGFyZ2V0Lmdyb3VwfS0ke2FjdGl2aXR5TmFtZX1gKSkgPz8gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFjdGl2aXR5IGNhbiBiZSB1c2VkIG9uIG90aGVyc1xuICAgICAgICBpZiAodGFyZ2V0LmFjdGlvbk90aGVycylcbiAgICAgICAge1xuICAgICAgICAgICAgQWN0aXZpdHlEaWN0aW9uYXJ5ID0gQWN0aXZpdHlEaWN0aW9uYXJ5Py5maWx0ZXIoKHgpID0+ICEoeFswXSA9PT0gYExhYmVsLUNoYXRPdGhlci0ke3RhcmdldC5ncm91cH0tJHthY3Rpdml0eU5hbWV9YCB8fCB4WzBdID09PSBgQ2hhdE90aGVyLSR7dGFyZ2V0Lmdyb3VwfS0ke2FjdGl2aXR5TmFtZX1gKSkgPz8gbnVsbDtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gSW1hZ2UgdGhlIGFjdGl2aXR5IHdpbGwgdXNlXG4gICAgZGVsZXRlIGFjdGl2aXR5SW1hZ2VzW2FjdGl2aXR5TmFtZV07XG5cbiAgICAvLyBPbiBhY3Rpdml0eSB0cmlnZ2VyIHN1cHBvcnRcbiAgICBkZWxldGUgYWN0aXZpdHlUcmlnZ2Vyc1thY3Rpdml0eU5hbWVdO1xuXG4gICAgLy8gRG9uZVxuICAgIEFjdGl2aXR5RmVtYWxlM0RDRyA9IEFjdGl2aXR5RmVtYWxlM0RDRy5maWx0ZXIoKHgpID0+IHguTmFtZSAhPT0gYWN0aXZpdHlOYW1lKTtcbiAgICBBY3Rpdml0eUZlbWFsZTNEQ0dPcmRlcmluZyA9IEFjdGl2aXR5RmVtYWxlM0RDR09yZGVyaW5nLmZpbHRlcigoeCkgPT4geCAhPT0gYWN0aXZpdHlOYW1lKTtcbn1cblxuLyoqXG4gKiBSZW1vdmUgYWN0aXZpdGllcywgZGlzYWxsb3dpbmcgdGhlIFBsYXllciB0byB1c2UgdGhlbVxuICogQHBhcmFtIGN1c3RvbUFjdGl2aXR5IC0gT25seSBOYW1lIGFuZCBUYXJnZXRzIG1hdHRlciBmb3IgdGhpcyBmdW5jdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gUmVtb3ZlQWN0aXZpdGllcyhjdXN0b21BY3Rpdml0aWVzOiBDdXN0b21BY3Rpdml0eVtdKTogdm9pZFxue1xuICAgIGN1c3RvbUFjdGl2aXRpZXMuZm9yRWFjaCgoYWN0aXZpdHkpID0+XG4gICAge1xuICAgICAgICBSZW1vdmVBY3Rpdml0eShhY3Rpdml0eSk7XG4gICAgfSk7XG59XG4iLCJpbXBvcnQgeyBNb2R1bGVUaXRsZSB9IGZyb20gXCIuLi9tb2R1bGVzL19tb2R1bGVcIjtcbmltcG9ydCB7IEZpbmRDaGFyYWN0ZXJJblJvb20gfSBmcm9tIFwiLi9tZXNzYWdpbmdcIjtcblxuZXhwb3J0IGNvbnN0IEFVVEhPUklUWV9HUk9VUF9PUFRJT05TOiBBdXRob3JpdHlHcm91cFtdID0gW1xuICAgIFwiUHVibGljXCIsXG4gICAgXCJGcmllbmRzXCIsXG4gICAgXCJXaGl0ZWxpc3RcIixcbiAgICBcIkxvdmVyc1wiLFxuICAgIFwiT3duZXJzXCIsXG4gICAgXCJDbHVib3duZXJcIixcbiAgICBcIlNlbGZcIlxuXTtcblxuY29uc3QgQVVUSE9SSVRZX0dST1VQX1BSSU9fT1JERVI6IEF1dGhvcml0eUdyb3VwW10gPSBbXG4gICAgXCJOb25lXCIsXG4gICAgXCJQdWJsaWNcIixcbiAgICBcIkZyaWVuZHNcIixcbiAgICBcIldoaXRlbGlzdFwiLFxuICAgIFwiTG92ZXJzXCIsXG4gICAgXCJPd25lcnNcIixcbiAgICBcIkQvcyBGYW1pbHlcIixcbiAgICBcIkNsdWJvd25lclwiLFxuICAgIFwiU2VsZlwiXG5dO1xuXG5jb25zdCBMb3ZlcnMgPSAoQzogQ2hhcmFjdGVyKSA9PiAoQy5Mb3ZlcnNoaXA/LmZpbHRlcigoeCkgPT4geC5NZW1iZXJOdW1iZXIpLm1hcCgobG92ZXIpID0+IGxvdmVyLk1lbWJlck51bWJlcikgPz8gW10pIGFzIG51bWJlcltdO1xuZXhwb3J0IGNvbnN0IEFVVEhPUklUWV9HUk9VUFMgPVxue1xuICAgIFNlbGY6IChDOiBDaGFyYWN0ZXIpID0+IFtDLk1lbWJlck51bWJlciA/PyAtMV0sXG4gICAgQ2x1Ym93bmVyOiAoQzogQ2hhcmFjdGVyKSA9PiBDPy5Pd25lcnNoaXA/Lk1lbWJlck51bWJlciA/IFtDPy5Pd25lcnNoaXA/Lk1lbWJlck51bWJlcl0gOiBbXSxcbiAgICBPd25lcnM6IGZ1bmN0aW9uIChDOiBDaGFyYWN0ZXIpOiBudW1iZXJbXVxuICAgIHtcbiAgICAgICAgY29uc3Qgb3duZXJzID0gKChDLk1QQT8uW01vZHVsZVRpdGxlLkF1dGhvcml0eV0/Lm93bmVycyBhcyBzdHJpbmcpID8/IFwiXCIpLnNwbGl0KFwiLFwiKS5tYXAoKHZhbCkgPT4gcGFyc2VJbnQodmFsKSkuZmlsdGVyKChudW0pID0+ICFpc05hTihudW0pKTtcbiAgICAgICAgcmV0dXJuIG93bmVycy5sZW5ndGggPT09IDAgPyBbXSA6IG93bmVycztcbiAgICB9LFxuICAgIExvdmVyczogTG92ZXJzLFxuICAgIFdoaXRlTGlzdDogKEM6IENoYXJhY3RlcikgPT4gQy5XaGl0ZUxpc3QgPz8gW10sXG4gICAgRnJpZW5kTGlzdDogKCkgPT4gUGxheWVyLkZyaWVuZExpc3QgPz8gW11cbn07XG5cbmV4cG9ydCB0eXBlIEF1dGhvcml0eUdyb3VwID0gXCJTZWxmXCIgfCBcIkNsdWJvd25lclwiIHwgXCJEL3MgRmFtaWx5XCIgfCBcIk93bmVyc1wiIHwgXCJMb3ZlcnNcIiB8IFwiV2hpdGVsaXN0XCIgfCBcIkZyaWVuZHNcIiB8IFwiUHVibGljXCIgfCBcIk5vbmVcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIElzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAobWVtYmVyTnVtYmVyOiBudW1iZXIsIGF1dGhHcm91cDogQXV0aG9yaXR5R3JvdXAsIGFsbG93U2VsZiA9IGZhbHNlLCBzb3VyY2VDaGFyOiBDaGFyYWN0ZXIgPSBQbGF5ZXIpOiBib29sZWFuXG57XG4gICAgaWYgKGF1dGhHcm91cCA9PT0gXCJOb25lXCIpXG4gICAge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gRGVueSBzZWxmIG9yIGluc3RhbnQgYWNjZXNzXG4gICAgaWYgKG1lbWJlck51bWJlciA9PT0gQVVUSE9SSVRZX0dST1VQUy5TZWxmKHNvdXJjZUNoYXIpWzBdKVxuICAgIHtcbiAgICAgICAgLy8gSWYgU2VsZiBBdXRob3JpdHlHcm91cCwgb3ZlcnJpZGUgdGhlIGFsbG93U2VsZiBmbGFnXG4gICAgICAgIHJldHVybiBhdXRoR3JvdXAgPT09IFwiU2VsZlwiID8gdHJ1ZSA6IGFsbG93U2VsZjtcbiAgICB9XG5cbiAgICAvLyBObyBpZiBpbiBibGFja2xpc3QgcmVnYXJkbGVzcyBvZiByb2xlXG4gICAgaWYgKHNvdXJjZUNoYXIuQmxhY2tMaXN0LmluY2x1ZGVzKG1lbWJlck51bWJlcikgfHwgKChzb3VyY2VDaGFyIGFzIFBsYXllckNoYXJhY3Rlcik/Lkdob3N0TGlzdD8uaW5jbHVkZXMobWVtYmVyTnVtYmVyKSA/PyBmYWxzZSkpXG4gICAge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gRXZlcnlvbmUgYWxsb3dlZCBleGNlcHQgYmxvY2tlZCBjaGFyYWN0ZXJzXG4gICAgaWYgKGF1dGhHcm91cCA9PT0gXCJQdWJsaWNcIilcbiAgICB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIEZhbWlseSBvbmx5IGNhbiBiZSBjaGVja2VkIGJ5IGFnYWluc3QgdGhlIFBsYXllciB0aGVtc2VsZlxuICAgIGlmIChhdXRoR3JvdXAgPT09IFwiRC9zIEZhbWlseVwiICYmIHNvdXJjZUNoYXIuTWVtYmVyTnVtYmVyID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIEZpbmRDaGFyYWN0ZXJJblJvb20obWVtYmVyTnVtYmVyKT8uSXNGYW1pbHlPZlBsYXllcigpID8/IGZhbHNlO1xuICAgIH1cblxuICAgIGxldCBhdXRoQ2hlY2sgPSBuZXcgU2V0PG51bWJlcj4oKTtcbiAgICAvLyBVc2Ugc3dpdGNoIGZhbGx0aHJvdWdoIHRvIGdldCB0aGUgc2V0IG9mIGFsbCBhdXRoZWQgdXNlcnMgaW4gdGhlIGdyb3VwKHMpXG4gICAgc3dpdGNoIChhdXRoR3JvdXApXG4gICAge1xuICAgICAgICBjYXNlIFwiRnJpZW5kc1wiOlxuICAgICAgICAgICAgLy8gU2luY2UgRnJpZW5kc0xpc3QgaXMgbm90IG9uIG90aGVyIGNoYXJhY3RlcnMsIGNhbiBvbmx5IGNoZWNrIGlmIHRoZSBQbGF5ZXIgYW5kIGFub3RoZXIgY2hhcmFjdGVyIGFyZSBmcmllbmRzXG4gICAgICAgICAgICAvLyBVbmFibGUgdG8gY2hlY2sgaWYgMiBkaWZmZXJlbnQgY2hhcmFjdGVycyBhcmUgZnJpZW5kc1xuICAgICAgICAgICAgLy8gdGFyZ2V0Q2hhciBpcyBub24tcGxheWVyIGFuZCBsb29raW5nIGZvciBQbGF5ZXIgbWVtYmVyIG51bWJlclxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHNvdXJjZUNoYXIuTWVtYmVyTnVtYmVyICE9PSBQbGF5ZXIuTWVtYmVyTnVtYmVyXG4gICAgICAgICAgICAgICAgJiYgUGxheWVyLk1lbWJlck51bWJlciA9PT0gbWVtYmVyTnVtYmVyXG4gICAgICAgICAgICAgICAgJiYgQVVUSE9SSVRZX0dST1VQUy5GcmllbmRMaXN0KCkuaW5jbHVkZXMoc291cmNlQ2hhci5NZW1iZXJOdW1iZXIgPz8gLTEpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBQbGF5ZXIgaXMgc2VsZiBhbmQgbG9va2luZyB0aHJvdWdoIGZyaWVuZHMgbGlzdFxuICAgICAgICAgICAgaWYgKHNvdXJjZUNoYXIuTWVtYmVyTnVtYmVyID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF1dGhDaGVjayA9IG5ldyBTZXQoWy4uLmF1dGhDaGVjaywgLi4uQVVUSE9SSVRZX0dST1VQUy5GcmllbmRMaXN0KCldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmU6IGZhbGx0aHJvdWdoIGlzIGludGVudGlvbmFsXG4gICAgICAgIGNhc2UgXCJXaGl0ZWxpc3RcIjpcbiAgICAgICAgICAgIGF1dGhDaGVjayA9IG5ldyBTZXQoWy4uLmF1dGhDaGVjaywgLi4uQVVUSE9SSVRZX0dST1VQUy5XaGl0ZUxpc3Qoc291cmNlQ2hhcildKTtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmU6IGZhbGx0aHJvdWdoIGlzIGludGVudGlvbmFsXG4gICAgICAgIGNhc2UgXCJMb3ZlcnNcIjpcbiAgICAgICAgICAgIGF1dGhDaGVjayA9IG5ldyBTZXQoWy4uLmF1dGhDaGVjaywgLi4uQVVUSE9SSVRZX0dST1VQUy5Mb3ZlcnMoc291cmNlQ2hhcildKTtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmU6IGZhbGx0aHJvdWdoIGlzIGludGVudGlvbmFsXG4gICAgICAgIGNhc2UgXCJPd25lcnNcIjpcbiAgICAgICAgICAgIGF1dGhDaGVjayA9IG5ldyBTZXQoWy4uLmF1dGhDaGVjaywgLi4uQVVUSE9SSVRZX0dST1VQUy5Pd25lcnMoc291cmNlQ2hhcildKTtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmU6IGZhbGx0aHJvdWdoIGlzIGludGVudGlvbmFsXG4gICAgICAgIGNhc2UgXCJDbHVib3duZXJcIjpcbiAgICAgICAgICAgIGF1dGhDaGVjayA9IG5ldyBTZXQoWy4uLmF1dGhDaGVjaywgLi4uQVVUSE9SSVRZX0dST1VQUy5DbHVib3duZXIoc291cmNlQ2hhcildKTtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmU6IGZhbGx0aHJvdWdoIGlzIGludGVudGlvbmFsXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgfVxuXG4gICAgcmV0dXJuIGF1dGhDaGVjay5oYXMobWVtYmVyTnVtYmVyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEhpZ2hlc3RMZXZlbEF1dGhvcml0eUdyb3VwKG1lbWJlck51bWJlcjogbnVtYmVyLCB0YXJnZXRDaGFyOiBDaGFyYWN0ZXIgPSBQbGF5ZXIpOiBBdXRob3JpdHlHcm91cFxue1xuICAgIGlmICh0YXJnZXRDaGFyLk1lbWJlck51bWJlciA9PT0gbWVtYmVyTnVtYmVyKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFwiU2VsZlwiO1xuICAgIH1cbiAgICBpZiAodGFyZ2V0Q2hhcj8uT3duZXJzaGlwPy5NZW1iZXJOdW1iZXIgPT09IG1lbWJlck51bWJlcilcbiAgICB7XG4gICAgICAgIHJldHVybiBcIkNsdWJvd25lclwiO1xuICAgIH1cbiAgICBpZiAoQVVUSE9SSVRZX0dST1VQUy5Pd25lcnModGFyZ2V0Q2hhcikuaW5jbHVkZXMobWVtYmVyTnVtYmVyKSlcbiAgICB7XG4gICAgICAgIHJldHVybiBcIk93bmVyc1wiO1xuICAgIH1cbiAgICBpZiAoQVVUSE9SSVRZX0dST1VQUy5Mb3ZlcnModGFyZ2V0Q2hhcikuaW5jbHVkZXMobWVtYmVyTnVtYmVyKSlcbiAgICB7XG4gICAgICAgIHJldHVybiBcIkxvdmVyc1wiO1xuICAgIH1cbiAgICBpZiAoQVVUSE9SSVRZX0dST1VQUy5XaGl0ZUxpc3QodGFyZ2V0Q2hhcikuaW5jbHVkZXMobWVtYmVyTnVtYmVyKSlcbiAgICB7XG4gICAgICAgIHJldHVybiBcIldoaXRlbGlzdFwiO1xuICAgIH1cbiAgICAvLyBGcmllbmRzXG4gICAgLy8gVGFyZ2V0Y2hhcmFjdGVyIGlzIHNlbGZcbiAgICBpZiAodGFyZ2V0Q2hhci5NZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXIgJiYgUGxheWVyLkZyaWVuZExpc3Q/LmluY2x1ZGVzKG1lbWJlck51bWJlcikpXG4gICAge1xuICAgICAgICByZXR1cm4gXCJGcmllbmRzXCI7XG4gICAgfVxuICAgIC8vIFRhcmdldCBjaGFyYWN0ZXIgaXMgbm90IHNlbGYsIGJ1dCBsb29rdXAgY2hhcmFjdGVyIGlzXG4gICAgaWYgKHRhcmdldENoYXIuTWVtYmVyTnVtYmVyICE9PSBQbGF5ZXIuTWVtYmVyTnVtYmVyXG4gICAgICAmJiBtZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXJcbiAgICAgICYmIFBsYXllci5GcmllbmRMaXN0Py5pbmNsdWRlcyh0YXJnZXRDaGFyLk1lbWJlck51bWJlciA/PyAtMSlcbiAgICApXG4gICAge1xuICAgICAgICByZXR1cm4gXCJGcmllbmRzXCI7XG4gICAgfVxuICAgIC8vIFB1YmxpY1xuICAgIGlmIChcbiAgICAgICAgISh0YXJnZXRDaGFyLkJsYWNrTGlzdC5pbmNsdWRlcyhtZW1iZXJOdW1iZXIpXG4gICAgICAgICAgfHwgKCh0YXJnZXRDaGFyIGFzIFBsYXllckNoYXJhY3Rlcik/Lkdob3N0TGlzdD8uaW5jbHVkZXMobWVtYmVyTnVtYmVyKSA/PyBmYWxzZSkpXG4gICAgKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFwiUHVibGljXCI7XG4gICAgfVxuICAgIHJldHVybiBcIk5vbmVcIjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEF1dGhvcml0eUlzQ29tcGFyaXNvblRvQ2hhcmFjdGVyKGdyb3VwOiBBdXRob3JpdHlHcm91cCwgY29tcGFyaXNvbjogXCI+XCIgfCBcIjxcIiB8IGAke1wiPVwiIHwgXCIhXCIgfCBcIj5cIiB8IFwiPFwifT1gID0gXCI+PVwiLCBtZW1iZXJOdW1iZXI6IG51bWJlciwgY2hhcmFjdGVyOiBDaGFyYWN0ZXIgPSBQbGF5ZXIpOiBib29sZWFuXG57XG4gICAgY29uc3QgcmFuayA9IEhpZ2hlc3RMZXZlbEF1dGhvcml0eUdyb3VwKG1lbWJlck51bWJlciwgY2hhcmFjdGVyKTtcblxuICAgIGNvbnN0IGdyb3VwSW5kZXggPSBBVVRIT1JJVFlfR1JPVVBfUFJJT19PUkRFUi5pbmRleE9mKGdyb3VwKTtcbiAgICBjb25zdCByYW5rSW5kZXggPSBBVVRIT1JJVFlfR1JPVVBfUFJJT19PUkRFUi5pbmRleE9mKHJhbmspO1xuXG4gICAgaWYgKGdyb3VwSW5kZXggPT09IC0xIHx8IHJhbmtJbmRleCA9PT0gLTEpXG4gICAge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgc3dpdGNoIChjb21wYXJpc29uKVxuICAgIHtcbiAgICAgICAgY2FzZSBcIj5cIjpcbiAgICAgICAgICAgIHJldHVybiByYW5rSW5kZXggPiBncm91cEluZGV4O1xuXG4gICAgICAgIGNhc2UgXCI8XCI6XG4gICAgICAgICAgICByZXR1cm4gcmFua0luZGV4IDwgZ3JvdXBJbmRleDtcblxuICAgICAgICBjYXNlIFwiPj1cIjpcbiAgICAgICAgICAgIHJldHVybiByYW5rSW5kZXggPj0gZ3JvdXBJbmRleDtcblxuICAgICAgICBjYXNlIFwiPD1cIjpcbiAgICAgICAgICAgIHJldHVybiByYW5rSW5kZXggPD0gZ3JvdXBJbmRleDtcblxuICAgICAgICBjYXNlIFwiPT1cIjpcbiAgICAgICAgICAgIHJldHVybiByYW5rSW5kZXggPT0gZ3JvdXBJbmRleDtcblxuICAgICAgICBjYXNlIFwiIT1cIjpcbiAgICAgICAgICAgIHJldHVybiByYW5rSW5kZXggIT0gZ3JvdXBJbmRleDtcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBjb21wYXJpc29uIG9wZXJhdG9yXCIpO1xuICAgIH1cbn1cbiIsImltcG9ydCBwYWNrYWdlSW5mbyBmcm9tIFwiLi4vLi4vcGFja2FnZS5qc29uXCI7XG5cbmV4cG9ydCBjb25zdCBNUEFfTkFNRSA9IHBhY2thZ2VJbmZvLm5hbWUudG9Mb2NhbGVVcHBlckNhc2UoKTtcbmV4cG9ydCBjb25zdCBNUEFfVkVSU0lPTiA9IHBhY2thZ2VJbmZvLnZlcnNpb247XG5leHBvcnQgY29uc3QgTVBBX1JFUE8gPSBwYWNrYWdlSW5mby5yZXBvc2l0b3J5LnVybDtcblxuZXhwb3J0IGNvbnN0IElDT05TID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgUEFXOiBcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRllBQUFCV0NBWUFBQUJWVm1IM0FBQUFBWE5TUjBJQXJzNGM2UUFBQUFSblFVMUJBQUN4and2OFlRVUFBQUFKY0VoWmN3QUFEc0VBQUE3QkFiaVJhKzBBQUFBWmRFVllkRk52Wm5SM1lYSmxBSGQzZHk1cGJtdHpZMkZ3WlM1dmNtZWI3andhQUFBRzdFbEVRVlI0WHUyY1Y4ZzBOUmhHZnhWN0FUdUtZa05GN0lLaTNsZ3Z4SWFLSWlKMnZWQ3hGeFFiMkM0VmU4RjJvYUpnQTN0RnNIY0ZHNG9Oc1dEdnZUM25tNDJFNFozWlpKTFpiK2NuQnc0NzdDWXpTWFoySm5tVDJUbUZRcUZRS0JRS2hVS2hVQ2dVeHJHYVBGKytMZitSMzh2NzVRRnlNWmtMOXJXL3ZFOStKemtXeCtUWWxHR3U0bWo1dS95M3dVOGtEWndLKzJCZjFqR1FNaHdsNXdwb1ZLdVNscGZLcnBEWDJxZmw0QnQzSThsUDBhcGNrOWZLV01oajdhdEp5clNoSEN3UFNhdGk0enhkaG5LYXRQWXh6Z2ZsSUZsUFdoVUtkVXM1RHRKWWVVT2xqTDB3NytpMUQvWVl2WGJsQ3RsV1BqNGpUUXE3ajE0SHhTUFNPa3RpcE52VUJKOVplV0o4V0E2SytlV0gwcXBNakc5STY2emxQVDZ6OHNUNGdhU3NnMkU1K1lPMEtoUHJWcklPNzFscFk2V015OHJzOUhXTlhVUXVWRzBtcy9mbzFjZDZyd3NMU3NxYW5iNGFGamdqY3JDOW5LL2FuSUZ0M3N1Qk8zT3owMWZEL2l4L3F6YVRXVU91WG0zT3dEYnY1WUF5L2xKdDVxV3ZoaVg0OFhXMW1ReGxYS2ZhbklIdFhPWCtSbExXN1BUVnNIOUs3cmk1V0hYMENqa2pWSlR4cjJvekw2RU5Tem91OURHOE5Ick5nWC9uem5rWGYzSDBHZ3B0RU5SbWJZbFdrQ2RKeHRURU05K1JiMHJpbkdmSkxXUWJqNDVlYytCL3FiRmZjQnVQalY2YjJGeFNWK3BNM1dtRHQrUUQ4a1JKRzBYQnFPWkw2ZTZhVGI0Z2lZSE9JK3NzS3IrUVZyNVl6NVVPdHEwMHNWSTJ5bWhCL1orWFZqNWYybWcvR1VTWG9TS0YyRnJXdVV4YTZXTWxwdXM0UmxwcFlyVml2d3c4bnBOVytqYkhCdW1Ya2I5S0szT0k1MGdmN3VDeDhWakxIYVZqSjJtbGlaRXkrVDBOT0Z0YWFVT2t6V2k3Um5LY0RYZElmOVIxbzdUU2hjcDB5a3JTd1hiYk5FK0lsTWxCV1crWFZyb1lhYnRHbnBSV3BsaTVLU3dzZ1liNFVWcnBRcVJNZFo2U1Z0b1FLWXY3b2lnalpiWFN4ZnFFYk9RbmFXWHE0cjNTY1pDMDBvUkkzam9IU3l0dGlBZEtCMlcwMG5TUnRtdkV5cERpQmRJUk05bm5mRTlhM1N0K3ZueG01V256RXVtZ2JGYWFGQnRoR0dwbFNIRUg2WWlkOU50R09sYVdLMWFiTTJ3cnJUeE4rcE9VbE1sS2srSlhzaEU2OVZhbUZOK1g3bm9MWjhpL3BaWFc5MUFKdTBoR2NkeDUrYmx4TFhQellZZEpLNjh2UFlBenBZT3lNSlMxMHFiWU9pQTZWVnFaVWoxZSttd203NUxXM1oxKzVIWVNhTlQ2NTBnRHN3OGdyZFgzWk44Y3c2VnpuQ0RyYVhOSTIvMVBmY1RFWFB1cjFXWldQcFpyU2lyclEvaHZVOGxQblBBZHgzNVd3czZTcmx2VDFBbFJLWDdTTkNvdy9HUWRBNEhyVHlXalFxN0RQbHliR1paeVdja054MzZ0MnJSaFRHeDlJNmx5OW9XeWx5VHFaTzNIbC9WZjF0Uk5FN3RLYXorcDBtWmpZWGhtWlU3MUdobENiTmVNYXkranNSQmliNTZoQnEwN0krTEZUOUxhUVlxdFA1TVJSSXlzdk9Qa0J0VTJWZTZnREZiK0ZHbXIwUERyekFVL3h4amZsMGpRNHJLSmk2U1ZMMGFXR3pXeGhBeUoyTVZJRzlWdmptTTVXVm83NnlwRHllVmxIVUozZDBvclR4ZXZsbFlZazJPbkRLMHRhYU5PWENldEhYYVJEalJuamM4cWtydTNsVDVGQXRGTFNoK09UUm1zOUYya2JaSzRSVm83anZWbDZVUDNpRzZZbFRhSHI4dTFwYzhyMGtvYksyMlNoY3VsZFlBWS9WbUFQU1g5Vml0ZFRwa2w4QVB3NTBrclhZeTBSVmFPa0YwYmc1R1N1NzRlSzYwMGZmbUgzRmNDYzFSZEkzalUvVWpaQyt2S2U2UjE0RGJkY3NrTHBmWDVKSFJEVHBhWFdwKzNTWjE3VzB2cncxQ1NXQ1puZzFVUTUwZlNUYXZjS3EwMGs5VE5jekZjSHJjYWtyb3hPK3RINTRLeHVpVXhNUDRuQ01KVU9PTisrcWtzMnlHaXhmcllteVFGSkVvZk0vVHNFNlpodU1ZVFU5aEhzZzZNc2hQM3BUdEdmT0VaU2JUcVhUbVYwTkNFL0t3ellqWmxyVVRxU1RWcmNFWjBtVXFlbEhmTFFUWXVJVCtyUXRPa1AxVXpDRTZSVmtXbVVkY1ZtM3JvbG9URVVxZEZBdWJSYTdCbWcxeno5SlAwQmpuVjVIcm9ZdEl5dVZtUEt5UVJIS0FONVBEUjY5Q2dIUTZwTnFjUHduSjlyRXVZbEt4N3pYYWk1VHhqTjVaTFZadURaQzJaNjZHUnJBM0w5TytRb1MzV3J6YlR5ZG13MmI3dFdjUi83Q21KbkEyNzlPaDF5TFF1SG80aFo4TU9OcWpoa2EwT09SczIxd056czBucmlzRVljallzM1pXaE01VjFZTnJHNmgvbWtyOTl5cjNnd3BlNXNGNGVzYy9CMDlJcWRBNlpxenF1OWw1T21UcWFXcGhMc2dxZHFsdk54Ny9BNVhvb3IrNG1jcXJKdVZ6STZhOE5JSDVxcFVueFlqbjFNS3p0OHVCRmt5eXRyM09sdE5KMmtZWE9DOGhCd093dE03VldSV0xrYWNFbXJwSlduaGg1K250cWIxaE5zUHlkeFdsV2hjYjVyZlNmeDJxQzliUmRuMUs4V2RZWDZRMEtWanVITG1SbWRmYjFNdWJQSGphUXQ4bVFKM0dRbnN0dXNsY21PUXdsck1oelc2d3k1QUZoL2tLS2luNHVXWW5JbEE2TEpENlRYZUJmT0ZoOHdURjRTSVg5MDlqc24vL29va0VmbDBIUEN4UUtoVUtoVUNnVUNvVkNZYnFaTStjL2NGTFZiZ3RlVEVZQUFBQUFTVVZPUks1Q1lJST1cIixcbiAgICBESVNDT1JEOiBcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRllBQUFCQkNBWUFBQUJMaFZQVUFBQUFBWE5TUjBJQXJzNGM2UUFBQUFSblFVMUJBQUN4and2OFlRVUFBQUFKY0VoWmN3QUFOZEVBQURYUkFYUGZnUDRBQUE5ZVNVUkJWSGhlN1Z3TGNGeFZHVDZ2KzlwWEFuM1JGbHVSVjFVR0VDdVZRU2tPNEF1Zm1KQzBCVnVhTkpVaUtqaUtJekJSa1JsRUdCL0ZvVFJ0c1VyYUpoUkZ4d2MraWlNNnZoQ2RBaXBxS3dwU3JDVnRkcFBzN24yZDQvL2ZQU2tOeVc3MmNRdVY1cHR1Yy9lL2QrKzk1enYvK2MvLy8rZS9sNUlYQ2N1dWxwblE5MDlrU3A2aGlGcklLSDlkNEx1ZGZSc3pmOUdIeElvbHE3TW5NMnB0bGlyWXFTUjVtQW02TXhVbWRxMWZUN1A2a01PS3cwWnM2eHFWTWxUeERVU1N0eWdpRnl1bFRoZkNhZWFjRWFVSUVZS1FrZUdoNy9adHlMeFgveVJXdEhWbSs1UHBUR3ZnUXlPaGxXR29TQmdVc29xcXh4amhEMUV1SGlTY1A5eTdsdVgwVDJKRnJNUmVmbFYybWd6c0N5UUoza3NVWGN5RlBaZHpTcVNFaGdVdS9JVldFbUFWUUNtSGRobEVCZjdadlQzSmh5TmhUR2p2R0RxZEdRSTBWVUluaGxwS0NXT0N3RDNCWDBJa0VCMkV4V2ZoZmg1aVJIekhOZDJmYmwrYjJhY1BiaGdORTd0NDhjL0UzRlBPdVVneHRZUVM5WFpoT0ROUVF3TGZCeTF4NFlnU2tlT2hpR1ZuU0xFd3NkWjJkeXUyZS9kL0hKbDJUSzhJQTFrV09NcFZ4Z21UdWJSdldjU2JQWnNVUC90WkN0MDJGdTJkMmEyV2sybDNpNmlNNVpwSW9XTk5JTnFNTk5wekN3T3c4U05LNlZaL3dQcnh2ZmRTVHg5WUYrb210clVyUDA4d2NobFY1REl1bkZlakZ2aStCNXFBWkZZSDFGclFLRkFwOVFrbFZZb3lmZ0tZalRtd1p4b2xOQU8yT0FVM2FJTVpFZERnNkY1aFc4Rm1BUHVLY013d2RCdXdwd1pBSC9lQTdKL3cyLzFVeWRzb055d2xnK2c2MVlBQnlZWmhFYkRIb0JTRnZ4TkdlbGxBdjNIUEJ1ZEpmVWhOcUoxWTBLVDJaM0ozTUc1ZGJscFdLZ2hnNFB0NTJGRk9NeXRCUmVRYVpqTFNta2dDRFFQdTRJUERHRDVncEV1bkhqMC9IQmo5WS9BYi9QRG90N0FaQWUyMzc0M0FYelFCdFRjUGZ3TnpBUkVHSjU3bjVsWG85d2FEcVN0QmcwZHRTbFdvK2NwdG5ZT2ZUbVdhYmk3a3dXYUdEWTJXSXg2TW1jUkpXbVFvbC90Yy80YW1iaTJ1Q2pVUjI5YVJlelUzakoyZ1BFWnBJbnI1QXljOEdCbWhyNExYOTkrVjJxbkZrMElQb0NwQjVUb2hiQ0QxNWEycGh3SVZpQXVMMHpCY3IwVlZvV3BpMjFkbGw5dUpwdk04ZHhpKzFXTzcvbDlCd1dNWUlrNGljL2FscXdiWGFPR2txSXFoMXE3OVRZS1lmNFVKYXhZNDJWcDZkSUZ6bTRUU1B4RDQ0YW5iNzU3YzM2MUtZNmxrTjFoMkVrakYyZi9vUkJnV2lHMG5qdUZjM2FSRkZUR3B4bDdXV1RoQmN2VUVIR29lTFJOV09WQ2N5RUROd0wwOG8zL1R0TWUxZUVKTXFyRSs5VzR5TEFkSVBYb21ySEpRb0ZpR2FUTUlaRzdXb3JLb3FMR1hyaHc0VFpqT28rQ25VNldxajJKZXpzQ2doSE9MQkVIK2pkdDZtbjZyeGVOUVVXTXBGVGNhaGdPa0h0MG00RkJnTk1pNXdJMktBVU5aalkyQ0FTRWVoeENSVFducldJeG01b0xRZjhPMjljbmZhL0VZbE5WWXhlVEhUY3NCVXFlMDlZWEFQQVFYQnRyY1QyclJPRXlvc2N0V0RjK1dqTzZpaENXT2RrK2dITkJEQUlZRHFmd0ZmVDNOdTdYNElDYlUyRkRKRHN0S1RKRmFBZWdoV0haQ2dQS3QxcUl4R0Vkc1Y1Y3k0RTlINEUvWjFjcWd4UGQ5b29qNklIQ1cwTUtER0Vkc1R1WGVhdHJwVndaQlVVdW1VQTRoY0dUYm1WbURLdnNlTFRxSWNjUXFwYTdRdWZybyt4UXFBeFByRUkydDBGOFBZc3prMVhKRmJnWVg5RW5Pak9SVXBGVWRHRVB2SVBTa1lDZjEzWmw0V292SGFpem43R0xiVGsyUldnTndnamVkcE1tQ2NNeUM2QmhpS1pVZlFOVStmSUJCRTYxVGpiTkFodzNQWDY5aTlONFFjSjFPS25tSi9ocmg0TlZhT2dhUDVaUTl5WVdaaVhzdEMzT1p3akIwZlVFUkdncVJDempZYU1aOUh4ZitZRWVNUUNLRmtZenFCM0FaUG5MbzRSNFloKzlCZ0lVYitzaDRnT1lnbEg1UkVQYXEzcDdVczVFczJnTUFVdDlzMmVsWVNjVUd3am5Sajk3akZmTzNlMjd1M1NSMEZ3Wmg0Vnl2T05MbGUva0hHTGNpRXVLWkxCVVJJZ0dkNXVESzhVOWROMytsN3hmZjVPTTEzWkdMWFMvL0JSbDRUK0U5eFRscTBCellkdG9PWlBBV0xYcGVZOXM2czErem5jd2F0emlrSlkyaHRLeWRBSTBzckN2ay9SdnUvMmJUZ040MUJrdXZMRnlvcExyTE1KeFhBZkVncVhmSUtyaGVCaXR1OWhBYXJONnlMdlU5dldNTWxsMzlYRVo1VGpjWGlXdFJjMlVOdFFlVmdKMEYzSDE5VzAvbUN2eXVXNkZvZTJmdVVXR21UZ3RnYURZT1Npd3JoV3RGTjJ6dHlVeWF1MnhmdVc4T00xSTd1TEFXK0I1MmJLM2tncVlhS1Z5T2Z4b3VldjZXdTV2L29YZVVSZHVxb1E5YlptcHRYS1lJUndxY2E1Zk1aaFpnRFVJMEh0cVdEODZINFBmVVVrbFFvOERTb1JRcHVybitha2hGYk5zMFkwK3hPUHgrdUg0ZTEvSnJCWTFjbmlEd0FyZWxHbElSZlQzcE8xd3Z0ODYwMEF3MUR1U09NWDZpT2MwOUNiK1hESTNnWjVsV3lxaWxKS2Nja0JqZnpROTd4UDJZRmxXRmIyMmU4UVRZdjlzTjA5YVM2bUdhWUZPOS9NYnRHNXQvcDBWVlFkaitkWjQ3c2c4VDE0MENKMGpEVEZJLzhCZmk5NGhZeXRUWm95VStqUUtKZ1JueXZtLzN6SXhteDVvZ3hUcG9hQUUxc0ZxZ0xmZTlRa2dvLzRvV1ZZM2V0ZE56WUdPL0lZemFSOGxFaUVxZHFGeUUyeEd4TUIrZkdZLy9TcUhuVUd1Tis3V2dKbXpibE53RFBmOTdJYXJYV2l6TERFUHZ6M1VYTUN2K3ZSRHI4dXFlTko4SHVwTkE1dW00emJCY0V0ejJVMG9uYnd6b3duamVNRVI0NFYrMXFBNnd4OUgvckJaWXlBd1hycmhpV2hFbTMrMTdJeDdZUnkyb0h6S00wcXduTCs1V2d2M3BxYUZwUVBOY0ZVTVlpOFFDcTBWcXUzV1hvMHRGOXV2TkdrRHJMaGdPUFEvZG9Md2V2QTBCL1ZsUTB1Tm1QNTJmQ1hOTk1FZUlwQ2tQVmo3WEQ0VkdCY3lzQ2tUZFJndU15YmpjNXVSUWp0Nm9HU0h6WU9aU2NMK04yMEowMnd3enhRTHFIODlJd09jeURzTWdCaU1iell4R1VqREZqOWVpZW5CaUxiY1MyVFg0VGZSL0hUQ0lNUnZDM1FUZWUrTlFFRFpUd2drN25sRktqNC9MSThETzRVS0FPWkRuYTBsTmFMbEdPb1NxUlNFK2tWRWwwSCtraXI1KytmSUR6VnBVRTVnUzV4cW1GV2xiWEdCTXZRS0lWWTFvMXppVUprRjJHYkJjYzNmeGtaRjNXVlptVmhoV3YzcUJ1UTNMU1RlNUJtblZvaG9oVjhndzNpUVFtTVI1YUxIbnhPTnFsWUJsODlEUVUxczdzeE11c3BWRGE2dUMrWjEyUzFuN2tBd0RDR3lZdVA1ZFhjL1VaSjh2WFRuWWJ0cVpzL3lvMUQ4ZVJLYUpzam5vcTh5S2sxaUU3N3ZFRVBadHJaMEh6dFNpU2NHYWg3NEM0ZVZyUzg4ejFJWWdnTTYwVXZOVHFxbnE0dUNXanIwbkNjTytJNHhjcFBnSXdPY240SFRIb2NaT0J4ZXBKSTBKK09RTUJBbEpVemdQTEZtVlc2ekZaZERObHE0ZXVkMnkwbGU1VVZGelBhREVMUTRUeTA0dVc5S1YzL0QycTJYRkdMVjk1ZUJDMDJqNkNSZld0TGh6czZXMGdKcE8yem9IL3lLRXN5Q2VCTXdoZ0o0VFpoS2Rabno4WlMwNDRCdnVXV2YrQ1VpSTFBT0xtUTFpWFFERDVwTVFCaStDVURhR0NZUkdDU0RQS3p3R0p1VVdMbEkvM0hJblBhQjNraVZkdVFVUUFpK0g4WEVONTVZVlpkSmltN2xMWU53ZzB2ZitUZHM3Qi8vRmhEMHY3bFdERWxTVWVjSWtDV2dVRUNxZkFORWVhSTBEQnY0azA4ck14S05LcWNMNGdDbEVCdkdrVzh3OUIvMjRDN3lHRVpoS2p3UG5mWUZscDdudkZjRVdZbnZqSlJXQnVRdm8xQU5BYkhZdjVjYk1PREpibFJBdHgzQWJpQzVGT05pUkVPUERWc3dHL2lCbzlGQWNQbjJJd05HQWo1MGU3Z0kvakQ2bGxQbkc0N2dxZ1E1NEVJeEUyb21ma3VrNVhLUWlWR1RyUjYrSENmd1hyV29Td3NjWGpkaWpDbWdCNFU4eHpvVzFLWUFsaDJtREFibUZhSE1LOFNCU1VvVTJWdVZ3WXBsQ1BHQ1lPcVUwQjE0SkhZaVBXRFF1Z2hobUd0d2RvV1ZITHJEZHBYdkZwYUI0SmxKS3NTQ1o3R2ZnMysyTHg4Umlac3NoQ2dKMzN4M2FBYjZjWnp2cFNJWjI1MGdDdW4wVzNCdEVuTkx6aGg2TXFsZ0VwaGthSnhmZFNVcnBmMEZ2eVQ0emhyVTByR2dCcC84WkdZU0x0bTNJWEVpcE9zTnp2VnVVOUo4MHJWUlUwRkJhRFgxcFNFYWYxclRTMFFkODltZDh0L2hsR0sxbjl2VmtMcURLWHdqdTREL2pXSzB0Y1NuMzBaYk9BeWVZd3U0MVRmc2N6OFhLRUV4SzFONTRIUHJRMy9pbWkxc0oyOXV6NWM3NVVTalowdktVWTAyZmVaRlNxaFUrRndyRE9RNWpCSHo1alF3eEFzSThSZnorYkJTUUNEdGFFOE84aU8vbjk4TWsvVE5ndU05MmpRYzJiV0pSdVBlZWxmdlNhVFBkQWZmMktiaVBXZlZWeHBRaVRNdHlDSFRZSTBIb0xZMFliRzN0NThheEYzY1R5cThYd21MNHRIUHRlUDdrbmx2Y294VDlLaUhleHEzck04L3BBN0FNdjJtSXV1Y1NHYndObXY0bVJkVnJEQ05wSTlIWWVDbUJiT2pZS0pzUGtWS1VLU3BMT3RBVTNUME1QY1poMGpDQU14eUdwWFA1M2pDY2hEMEIrMzVKSlBteDUzdS9PUFRoWWt5TUI1YXpVakgxVVZDcWVYRFBjTzM2d2x5MDA1RkNxdkJXYjJEM2pmZmVlNW8zNWl4TFZnNmNRODNrbDB6VFd1UjdHSEppd3JuMkM2R21ZSFVoOU41ZWFPam13UGUvUHRIeTlOSTErZmtxWUtjckVwd0ZzK2xycFFwUEJoN253aDBlQTNaUVlFSURpWHBobmdTSkszVUVWZzdtZ1g4NkNIYnRXZmpzQWsxOW5CTDVSMG40enExMzJYL1hQemtJZkI4WEplWUtPTU1LdzNMbTRMTVc5V1c0Y0JuR2dxRnY0U3RPL3FEQy9MVmJlNDc5dWQ0NUVXdVl4cnZ1V2xDRDZ3M1RhdmFLZVdnRURvODZDSVlMWXpFRXhNNWg0STJzM2RxVHVVYnZLb3RXMEdxbXN0T0ZNbWFBUmg4amxXcVdLa2d5eXZVTmhLQ0FJaThFelVMZ2VDQU0yVDdYZFFmS0ZkMGRpcmJPN0JmQTNsL0R3QTBvdldXcHZ1Y3NNS0RDMGlRZlpta1lZN2Y4N2VFL2YvR1JSeGFPV1U4cXk5YlNsZnZuRXpQUkRWcHdCU1l5U2krd3FTZXRSNG50cEVpK2tGM1MzOU84VFF0ZkVyUjE1QzZ4RStuN01IZUxHbGM3UU5kaElnWTFJVEM2ZWoyLytKbnRHNXQzNloxak1La2FMdnZReUJ0QjZXL2t6SG9uWmJSR2drdnYxaW9Vc2p2Nk56UmZxSVV2S1M3dEdQeUJrMmg2UitWM2NyMEFxS0ZtTWpJL1llaitoRWp2ODF2V1p4N1NleWRFMWVPN2ZmWFFSWnlZSDRmSjRHMWM0S3VUQ2pwYlhoNmpMNnB4dzVIWGJlK1o5cGdXdjZTSWt0M01lQlQ2Zk5JWEJxRm5ZWm9KRXVLa0dub1BBbHUzYlZsbi8xRHZyb2lxaVIzRjBxNzhlZUE5ZkZpUjhIM2dBUmgrQmVPUEFVSWhuNzIxYjBQemRWcDBSS0N0NDhCTlRxcjVobUorWXU4SEF3aGhHZ1RtRndtSzhWMnF5QjI5NjUwZGVuZFZxSm5ZVWVEVDRURHpyNERPYkRjTWV4N0tBaDlkbHRMaUhMb2dnWi8vbStrbXo5aThtUjVSVCtPMXRpcVROdy8vMFRCVHIvRzlra25Bc0ZZWXBXSzh3Qy9zZ1lpMER6emhUZmVzcytxcUM2dWIyRkcwcnRtYk1sVHpPMkNzTE1VQXdMUVNLWlJEWUF1ZndybDlQVTIvaWc0OHd0RFM4ZHpabHBINnRUQ3NLS0Qzdkh3ZTZOMEJuNjNFTkw3ZjZGczZHeWIyVUZ4K2xad21BKzg4SnNSU3R6ajBtLzZOeDl5dWR4MlJhTy9JZnNSeWt1Y0h2cnZGTkoyZjM3Mld4ZlEyVGtMK0J6V3F6Vy9mQ3dSd0FBQUFBRWxGVGtTdVFtQ0NcIlxufSk7XG5cbmV4cG9ydCBjb25zdCBBQ1RJVklUWV9OQU1FX1BSRUZJWCA9IFwiTVBBX1wiO1xuZXhwb3J0IGNvbnN0IEJFTExfU09VTkQgPSBuZXcgQXVkaW8oXCJBdWRpb1xcXFxCZWxsTWVkaXVtLm1wM1wiKTtcblxuZXhwb3J0IGNvbnN0IEJFRF9QRVJGRUNUID0gW1wiUGV0QmVkXCIsIFwiQ3JpYlwiXTtcbmV4cG9ydCBjb25zdCBCRURfTk9STUFMID0gW1wiTG93Q2FnZVwiLCBcIktlbm5lbFwiLCBcIkJlZFwiLCBcIk1lZGljYWxCZWRcIiwgXCJDdXNoaW9uXCJdO1xuZXhwb3J0IGNvbnN0IEJFRF9CQUQgPSBbXCJGdXR1cmlzdGljQ3JhdGVcIiwgXCJEb2xsQm94XCJdO1xuZXhwb3J0IGNvbnN0IEFMTF9CRURTID0gQkVEX1BFUkZFQ1QuY29uY2F0KEJFRF9OT1JNQUwsIEJFRF9CQUQpO1xuXG5leHBvcnQgY29uc3QgT1JHQVNNX0FDVElWSVRZX1JFR0VYID0gL09yZ2FzbVswLTldLztcbiIsIi8qKlxuICogR2V0IGEgcmFuZG9tIGVsZW1lbnQgZnJvbSBhbiBhcnJheSBvZiBvYmplY3RzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBSYW5kb21FbGVtZW50PFQ+KGFycmF5OiBUW10pOiBUIHwgbnVsbFxue1xuICAgIGlmIChhcnJheS5sZW5ndGggPT0gMCkgeyByZXR1cm4gbnVsbDsgfVxuICAgIHJldHVybiBhcnJheVtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBhcnJheS5sZW5ndGgpXTtcbn1cblxuLyoqXG4gKiBNYWtlIGEgbmV3IGFycmF5IHRoYXQgaXMgYSBjb3B5IG9mIHRoZSBvcmdpbmFsIG1pbnVzIGFueSBtYXRjaGluZyBlbGVtZW50cyBpbiB0aGUgZmlsdGVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBGaWx0ZXJBcnJheUZyb21BcnJheTxUPihhcnJheTogVFtdLCBmaWx0ZXJBcnJheTogVFtdKTogVFtdXG57XG4gICAgbGV0IG5ld0FycmF5ID0gc3RydWN0dXJlZENsb25lKGFycmF5KTtcbiAgICBmaWx0ZXJBcnJheS5mb3JFYWNoKChlbGUpID0+XG4gICAge1xuICAgICAgICBuZXdBcnJheSA9IG5ld0FycmF5LmZpbHRlcigoYmFkRWxlKSA9PiBlbGUgIT09IGJhZEVsZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIG5ld0FycmF5O1xufVxuXG4vKipcbiAqIFNodWZmbGUgYW4gYXJyYXkgaW4gcGxhY2UsIHRoYW5rcyB0byBDaGF0IEdQVFxuICovXG5leHBvcnQgZnVuY3Rpb24gU2h1ZmZsZUFycmF5PFQ+KGFycmF5OiBUW10pOiBUW11cbntcbiAgICBmb3IgKGxldCBpID0gYXJyYXkubGVuZ3RoIC0gMTsgaSA+IDA7IGktLSlcbiAgICB7XG4gICAgICAgIGNvbnN0IGogPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoaSArIDEpKTsgLy8gcmFuZG9tIGluZGV4IGZyb20gMCB0byBpXG4gICAgICAgIFthcnJheVtpXSwgYXJyYXlbal1dID0gW2FycmF5W2pdLCBhcnJheVtpXV07IC8vIHN3YXAgZWxlbWVudHNcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xufVxuIiwiaW1wb3J0IHsgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9fbW9kdWxlXCI7XG5pbXBvcnQgeyBMb2NhbGl6ZWRUZXh0IH0gZnJvbSBcIi4uL2xvY2FsaXphdGlvbi9sb2NhbGl6YXRpb25cIjtcblxuZXhwb3J0IGludGVyZmFjZSBNUEFNZXNzYWdlQ29udGVudFxue1xuICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgICBba2V5OiBzdHJpbmddOiBhbnk7IC8vIEFsbG93cyBhbnkgb3RoZXIga2V5cyB3aXRoIHZhbHVlcyBvZiBhbnkgdHlwZVxufVxuaW50ZXJmYWNlIE1QQU1lc3NhZ2UgZXh0ZW5kcyBTZXJ2ZXJDaGF0Um9vbU1lc3NhZ2VcbntcbiAgICBDb250ZW50OiBcIk1QQVwiO1xuICAgIFR5cGU6IFwiSGlkZGVuXCI7XG4gICAgRGljdGlvbmFyeTogW01QQU1lc3NhZ2VDb250ZW50XTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIENvbnRlbnRJc01QQU1lc2FnZShjb250ZW50OiBTZXJ2ZXJDaGF0Um9vbU1lc3NhZ2UpOiBjb250ZW50IGlzIE1QQU1lc3NhZ2VcbntcbiAgICByZXR1cm4gKFxuICAgICAgICBjb250ZW50LlR5cGUgPT09IFwiSGlkZGVuXCJcbiAgICAgICAgJiYgY29udGVudC5Db250ZW50ID09PSBcIk1QQVwiXG4gICAgICAgICYmIGNvbnRlbnQ/LkRpY3Rpb25hcnk/Lmxlbmd0aCA9PT0gMVxuICAgICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBHZXRNUEFNZXNzYWdlRnJvbUNoYXQobWVzc2FnZTogU2VydmVyQ2hhdFJvb21NZXNzYWdlKTogTVBBTWVzc2FnZUNvbnRlbnQgfCBudWxsXG57XG4gICAgcmV0dXJuIENvbnRlbnRJc01QQU1lc2FnZShtZXNzYWdlKSA/IG1lc3NhZ2UuRGljdGlvbmFyeVswXSA6IG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBTZW5kTVBBTWVzc2FnZShtZXNzYWdlOiBNUEFNZXNzYWdlQ29udGVudCwgdGFyZ2V0PzogbnVtYmVyKTogdm9pZFxue1xuICAgIFNlcnZlclNlbmQoXCJDaGF0Um9vbUNoYXRcIiwge1xuICAgICAgICBUeXBlOiBcIkhpZGRlblwiLFxuICAgICAgICBDb250ZW50OiBcIk1QQVwiLFxuICAgICAgICBEaWN0aW9uYXJ5OiBbbWVzc2FnZV0sXG4gICAgICAgIFRhcmdldDogdGFyZ2V0XG4gICAgfSk7XG59XG5cbi8qKlxuICogU2VuZCBhbiBhY3Rpb24gdG8gdGhlIHJvb20gb3IgY2FuIHNwZWNpZnkgYSBjaGFyYWN0ZXIgd2hvIHdpbGwgb25seSBzZWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFNlbmRBY3Rpb24oY29udGVudDogc3RyaW5nLCB0YXJnZXQ6IENoYXJhY3RlciB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCwgZGljdGlvbmFyeTogQ2hhdE1lc3NhZ2VEaWN0aW9uYXJ5ID0gW10pOiB2b2lkXG57XG4gICAgU2VydmVyU2VuZChcIkNoYXRSb29tQ2hhdFwiLCB7XG4gICAgICAgIENvbnRlbnQ6IFwiTWF5YVNjcmlwdFwiLFxuICAgICAgICBUeXBlOiBcIkFjdGl2aXR5XCIsXG4gICAgICAgIERpY3Rpb25hcnk6IFt7IFRhZzogXCJNSVNTSU5HIEFDVElWSVRZIERFU0NSSVBUSU9OIEZPUiBLRVlXT1JEIE1heWFTY3JpcHRcIiwgVGV4dDogTG9jYWxpemVkVGV4dChjb250ZW50KSB9LCAuLi5kaWN0aW9uYXJ5XSxcbiAgICAgICAgVGFyZ2V0OiB0YXJnZXQ/Lk1lbWJlck51bWJlciB9XG4gICAgKTtcblxuICAgIC8vIFNlcnZlclNlbmQoXCJDaGF0Um9vbUNoYXRcIiwge1xuICAgIC8vICAgICBDb250ZW50OiBcIkJlZXBcIixcbiAgICAvLyAgICAgVHlwZTogXCJBY3Rpb25cIixcbiAgICAvLyAgICAgRGljdGlvbmFyeTogW3sgVGFnOiBcIkJlZXBcIiwgVGV4dDogTG9jYWxpemVkVGV4dChjb250ZW50KSB9XSxcbiAgICAvLyAgICAgVGFyZ2V0OiB0YXJnZXQ/Lk1lbWJlck51bWJlclxuICAgIC8vIH0pO1xufVxuXG4vKipcbiAqIFNlbmQgYW4gZW1vdGUgdG8gdGhlIHJvb20gb3IgY2FuIHNwZWNpZnkgYSBjaGFyYWN0ZXIgd2hvIHdpbGwgb25seSBzZWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFNlbmRFbW90ZShjb250ZW50OiBzdHJpbmcsIHRhcmdldDogQ2hhcmFjdGVyIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkKTogdm9pZFxue1xuICAgIFNlcnZlclNlbmQoXCJDaGF0Um9vbUNoYXRcIiwge1xuICAgICAgICBDb250ZW50OiBgJHtjb250ZW50fWAsXG4gICAgICAgIFR5cGU6IFwiRW1vdGVcIixcbiAgICAgICAgVGFyZ2V0OiB0YXJnZXQ/Lk1lbWJlck51bWJlciB9XG4gICAgKTtcbn1cblxuLyoqXG4gKiBEaXNwbGF5IHRleHQgdG8gdGhlIGxvY2FsIHBsYXllciBvbmx5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBOb3RpZnlQbGF5ZXIoY29udGVudDogc3RyaW5nLCB0aW1lb3V0PzogbnVtYmVyKTogdm9pZFxue1xuICAgIGNvbnN0IGRhcmtUaGVtZSA9IFBsYXllci5DaGF0U2V0dGluZ3M/LkNvbG9yVGhlbWUgPT09IFwiRGFya1wiIHx8IFBsYXllci5DaGF0U2V0dGluZ3M/LkNvbG9yVGhlbWUgPT09IFwiRGFyazJcIjtcbiAgICBDaGF0Um9vbVNlbmRMb2NhbChgPHAgc3R5bGU9J2JhY2tncm91bmQtY29sb3I6IzAwYzJmZjtjb2xvcjoke2RhcmtUaGVtZSA/IFwid2hpdGVcIiA6IFwiYmxhY2tcIn07bWFyZ2luLWJvdHRvbTowLjI1ZW07bWFyZ2luLXRvcDowJz4ke2NvbnRlbnR9PC9wPmAsIHRpbWVvdXQpO1xufVxuXG4vKipcbiAqIERpc3BsYXkgdGV4dCB0byB0aGUgbG9jYWwgcGxheWVyLCBtYWtpbmcgaXQgY2xlYXIgaXRzIGZyb20gTVBBXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBNUEFOb3RpZnlQbGF5ZXIoY29udGVudDogc3RyaW5nLCB0aW1lb3V0PzogbnVtYmVyKTogdm9pZFxue1xuICAgIE5vdGlmeVBsYXllcihgJHtMb2NhbGl6ZWRUZXh0KFwiTVBBXCIpfTogJHtjb250ZW50fWAsIHRpbWVvdXQpO1xufVxuXG4vKipcbiAqIEZpbmQgYSBDaGFyYWN0ZXIgaW4gdGhlIGNoYXQgcm9vbSB3aXRoIGJ5IG51bWJlciwgbmFtZSwgb3Igbmljay4gTm90IGNhc2Ugc2Vuc3RpdmUuXG4gKiBJZiBtdWx0aXBsZSBwZW9wbGUgZXhpc3RzIHdpdGggdGhlIHNhbWUgbmlja25hbWUgb3IgbmFtZS4gSXQgd2lsbCByZXR1cm4gdGhlIGZpcnN0IHBlcnNvbiB0aGF0IG1hdGNoZXMuXG4gKiBVc2UgTWVtYmVyTnVtYmVyIGlmIHlvdSB3YW50IHRvIGd1cmFudGVlIHRvIGZpbmQgdGhhdCBzcGVjaWZpYyBjaGFyYWN0ZXIuXG4gKlxuICogQHBhcmFtIHNlYXJjaCAtIFRoZSBNZW1iZXJOdW1iZXIsIE5hbWUsIG9yIE5pY2tuYW1lIG9mIHRoZSBwZXJzb24geW91IHdhbnQgdG8gZmluZFxuICovXG5leHBvcnQgZnVuY3Rpb24gRmluZENoYXJhY3RlckluUm9vbShzZWFyY2g6IHN0cmluZyB8IG51bWJlciwgeyBNZW1iZXJOdW1iZXIgPSB0cnVlLCBOaWNrTmFtZTogTmlja25hbWUgPSB0cnVlLCBOYW1lID0gdHJ1ZSB9ID0ge30pOiBDaGFyYWN0ZXIgfCBudWxsXG57XG4gICAgLy8gTWFrZSBzdXJlIHBsYXllclNlYXJjaCBpcyBhIHN0cmluZyAtIG5vdCBjYXNlIHNlbnN0aXZlXG4gICAgaWYgKHR5cGVvZiBzZWFyY2ggIT09IFwic3RyaW5nXCIpXG4gICAge1xuICAgICAgICBzZWFyY2ggPSBzZWFyY2gudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgc2VhcmNoID0gc2VhcmNoLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG5cbiAgICAvLyBMb29wIHRocm91Z2ggYWxsIHRoZSBDaGFyYWN0ZXJzIGluIHRoZSBjaGF0XG4gICAgZm9yIChjb25zdCBjaGFyYWN0ZXIgb2YgQ2hhdFJvb21DaGFyYWN0ZXIpXG4gICAge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICAoTWVtYmVyTnVtYmVyICYmIGNoYXJhY3Rlcj8uTWVtYmVyTnVtYmVyID09PSBOdW1iZXIoc2VhcmNoKSlcbiAgICAgICAgICAgIHx8IChOaWNrbmFtZSAmJiBjaGFyYWN0ZXI/Lk5pY2tuYW1lPy50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSBzZWFyY2gpXG4gICAgICAgICAgICB8fCAoTmFtZSAmJiBjaGFyYWN0ZXIuTmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSBzZWFyY2gpXG4gICAgICAgIClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIGNoYXJhY3RlcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIE5vIGNoYXJhY3RlciBmb3VuZFxuICAgIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIFJlbW92ZSBhbGwgY29udGVudCB0aGF0IGlzIE9PQyBmcm9tIGEgbWVzc2FnZVxuICogQHJldHVybnMgT25seSB0aGUgSUMgbWVzc2FnZSBjb250ZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBSZW1vdmVPT0NDb250ZW50RnJvbU1lc3NhZ2UobWVzc2FnZTogc3RyaW5nKTogc3RyaW5nXG57XG4gICAgY29uc3QgcmFuZ2VzID0gU3BlZWNoR2V0T09DUmFuZ2VzKG1lc3NhZ2UpLnJldmVyc2UoKTtcbiAgICByYW5nZXMuZm9yRWFjaCgocmFuZ2UpID0+XG4gICAge1xuICAgICAgICBtZXNzYWdlID0gbWVzc2FnZS5zdWJzdHJpbmcoMCwgcmFuZ2Uuc3RhcnQpICsgbWVzc2FnZS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQgKyByYW5nZS5sZW5ndGgpO1xuICAgIH0pO1xuICAgIHJldHVybiBtZXNzYWdlO1xufVxuXG50eXBlIE1lc3NhZ2VBY3Rpb24gPSAoc2VuZGVyOiBDaGFyYWN0ZXIsIGNvbnRlbnQ6IE1QQU1lc3NhZ2VDb250ZW50KSA9PiB2b2lkO1xuZXhwb3J0IGludGVyZmFjZSBIb29rZWRNZXNzYWdlXG57XG4gICAgbW9kdWxlOiBNb2R1bGVUaXRsZSB8IG51bGw7XG4gICAgbWVzc2FnZTogc3RyaW5nO1xuICAgIGFjdGlvbjogTWVzc2FnZUFjdGlvbjtcbn1cbmV4cG9ydCBjb25zdCBob29rZWRNZXNzYWdlczogSG9va2VkTWVzc2FnZVtdID0gW107XG5cbi8qKlxuICogQWRkIGEgbGlzdGVuZXIgZm9yIGFuIGluY29taW5nIE1QQSBtZXNzYWdlXG4gKiBAcGFyYW0gbGlzdGVuZXIudGl0bGUgLSBXaGF0IG1vZHVsZSBkb2VzIHRoZSBsaXN0ZW5lciBiZWxvbmcgdG9cbiAqIEBwYXJhbSBsaXN0ZW5lci5tZXNzYWdlIC0gVGhlIG1lc3NhZ2Ugc3RyaW5nIHRvIG1hdGNoIHdpdGggdGhlIGluY29taW5nIG1lc3NhZ2VcbiAqIEBwYXJhbSBsaXN0ZW5lci5hY3Rpb24gLSBSdW4gdGhpcyBmdW5jdGlvbiB3aGVuIGEgbWF0Y2ggaXMgZm91bmRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEFkZERhdGFTeW5jTGlzdGVuZXIobGlzdGVuZXI6IEhvb2tlZE1lc3NhZ2UpOiB2b2lkXG57XG4gICAgaG9va2VkTWVzc2FnZXMucHVzaCh7XG4gICAgICAgIG1vZHVsZTogbGlzdGVuZXIubW9kdWxlLFxuICAgICAgICBtZXNzYWdlOiBsaXN0ZW5lci5tZXNzYWdlLFxuICAgICAgICBhY3Rpb246IGxpc3RlbmVyLmFjdGlvblxuICAgIH0gYXMgSG9va2VkTWVzc2FnZSk7XG59XG4vKipcbiAqIEFkZCBtYW55IGxpc3RlbmVycyBmb3IgYW4gaW5jb21pbmcgTVBBIG1lc3NhZ2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEFkZERhdGFTeW5jTGlzdGVuZXJzKGxpc3RlbmVyczogSG9va2VkTWVzc2FnZVtdKTogdm9pZFxue1xuICAgIGxpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcikgPT5cbiAgICB7XG4gICAgICAgIGhvb2tlZE1lc3NhZ2VzLnB1c2goe1xuICAgICAgICAgICAgbW9kdWxlOiBsaXN0ZW5lci5tb2R1bGUsXG4gICAgICAgICAgICBtZXNzYWdlOiBsaXN0ZW5lci5tZXNzYWdlLFxuICAgICAgICAgICAgYWN0aW9uOiBsaXN0ZW5lci5hY3Rpb25cbiAgICAgICAgfSBhcyBIb29rZWRNZXNzYWdlKTtcbiAgICB9KTtcbn1cbi8qKlxuICogUmVtb3ZlIGFsbCB0aGUgbGlzdGVuZXJzIGJhc2VkIG9uIHRoZSBNb2R1bGVUaXRsZVxuICogQHBhcmFtIG1vZHVsZSAtIE1vZHVsZSB0aGUgbGlzdGVuZXJzIHlvdSB3YW50IHRvIHJlbW92ZSBiZWxvbmdzIHRvXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBSZW1vdmVEYXRhU3luY0xpc3RlbmVycyhtb2R1bGU6IE1vZHVsZVRpdGxlIHwgbnVsbCk6IHZvaWRcbntcbiAgICBmb3IgKGxldCBpID0gaG9va2VkTWVzc2FnZXMubGVuZ3RoIC0gMTsgMCA8PSBpOyBpLS0pXG4gICAge1xuICAgICAgICBpZiAoaG9va2VkTWVzc2FnZXNbaV0ubW9kdWxlID09PSBtb2R1bGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhvb2tlZE1lc3NhZ2VzLnNwbGljZShpLCAxKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEdldEVudHJ5RnJvbUNoYXREaWN0aW9uYXJ5KGRhdGE6IFNlcnZlckNoYXRSb29tTWVzc2FnZSwgYXR0cmlidXRlOiBzdHJpbmcpOiBDaGF0TWVzc2FnZURpY3Rpb25hcnlFbnRyeSB8IHVuZGVmaW5lZFxue1xuICAgIGlmICghZGF0YS5EaWN0aW9uYXJ5KVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgdHJ5XG4gICAge1xuICAgICAgICByZXR1cm4gZGF0YS5EaWN0aW9uYXJ5LmZpbHRlcigoZW50cnkpID0+ICEhZW50cnlbYXR0cmlidXRlXSlbMF07XG4gICAgfVxuICAgIGNhdGNoIChfZXJyb3IpXG4gICAge1xuICAgICAgICAvLyBlaGhoIHRoaXMgZG9lc24ndCB3b3JrIGN1eiAuZmlsdGVyIGlzIG5vdCBkZWZpbmVkIG9uIGZpcnN0IGxvYWQgZm9yIHNvbWUgcmVhc29uXG4gICAgICAgIC8vIE5vIGJpZyBkZWFsIHNvIEkgZG9uJ3QgcmVhbGx5IGNhcmUgaWYgaXRzIGFuIGlzc3VlIGZvciBub3dcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhOiBTZXJ2ZXJDaGF0Um9vbU1lc3NhZ2UsIGF0dHJpYnV0ZTogc3RyaW5nKTogYW55IHwgdW5kZWZpbmVkXG57XG4gICAgcmV0dXJuIEdldEVudHJ5RnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIGF0dHJpYnV0ZSk/LlthdHRyaWJ1dGVdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gQXJyYXlUb1JlYWRhYmxlU3RyaW5nKGFycjogc3RyaW5nW10pOiBzdHJpbmdcbntcbiAgICBjb25zdCBsZW5ndGggPSBhcnIubGVuZ3RoO1xuICAgIGlmIChsZW5ndGggPT09IDApXG4gICAge1xuICAgICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG4gICAgZWxzZSBpZiAobGVuZ3RoID09PSAxKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGFyclswXTtcbiAgICB9XG4gICAgZWxzZSBpZiAobGVuZ3RoID09PSAyKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGAke2FyclswXX0gYW5kICR7YXJyWzFdfWA7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIHJldHVybiBgJHthcnIuc2xpY2UoMCwgLTEpLmpvaW4oXCIsIFwiKX0sIGFuZCAke2FycltsZW5ndGggLSAxXX1gO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFJhbmRvbUVsZW1lbnQsIFNodWZmbGVBcnJheSB9IGZyb20gXCIuL2dlbmVyYWxcIjtcblxuY29uc3QgTElOS19SRUdFWCA9IC9eKGh0dHBzPzpcXC9cXC8pPyh3d3dcXC4pP1tcXHctXSsoXFwuW2Etel17Mix9KShcXC5bYS16XXsyLH0pPyhcXC9bXlxcc10qKT8kL2k7XG5cbmV4cG9ydCBmdW5jdGlvbiBBcHBlbmRQZXRTcGVlY2godGV4dDogc3RyaW5nLCBwZXRQaHJhc2VzOiBzdHJpbmdbXSk6IHN0cmluZ1xue1xuICAgIC8vIE5vIHZhbGlkIHBldCBwaHJhc2VzIHRvIGFkZFxuICAgIGNvbnN0IHBldFNvdW5kID0gUmFuZG9tRWxlbWVudChwZXRQaHJhc2VzKTtcbiAgICBpZiAocGV0U291bmQgPT09IG51bGwpXG4gICAge1xuICAgICAgICByZXR1cm4gdGV4dDtcbiAgICB9XG5cbiAgICBpZiAoL1suIT9dJC8udGVzdCh0ZXh0KSlcbiAgICB7XG4gICAgICAgIHJldHVybiBgJHt0ZXh0fSAke3BldFNvdW5kLmNoYXJBdCgwKS50b0xvY2FsZVVwcGVyQ2FzZSgpICsgcGV0U291bmQuc2xpY2UoMSl9LmA7XG4gICAgfVxuICAgIGlmICgvW2EtekEtWl0kLy50ZXN0KHRleHQpICYmICFMSU5LX1JFR0VYLnRlc3QodGV4dCkpXG4gICAge1xuICAgICAgICByZXR1cm4gYCR7dGV4dH0sICR7cGV0U291bmR9LmA7XG4gICAgfVxuICAgIHJldHVybiBgJHt0ZXh0fSAke3BldFNvdW5kfS5gO1xufVxuXG4vKipcbiAqIEFwcGx5IHBldCBoZWFyaW5nIHRvIGEgU3BlZWNoVHJhbnNmb3JtR2FnR2FyYmxlIGlucHV0XG4gKiBAcGFyYW0gYXJncyBBcmdzIG9mIHRoZSBTcGVlY2hUcmFuc2Zvcm1HYWdHYXJibGVcbiAqIEBwYXJhbSBuZXh0IC0gTmV4dCBTcGVlY2hUcmFuc2Zvcm1HYWdHYXJibGUgdG8gY2FsbFxuICogQHBhcmFtIHBocmFzZXNUb0tlZXAgLSBTb3VuZHMgdGhlIHBldCBrbm93c1xuICogQHJldHVybnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEFwcGx5UGV0SGVhcmluZyhbdGV4dCwgaW50ZW5zaXR5LCBpZ25vcmVPT0NdOiBbc3RyaW5nLCBudW1iZXIsIGJvb2xlYW4gfCB1bmRlZmluZWRdLFxuICAgIG5leHQ6IChhcmdzOiBbdGV4dDogc3RyaW5nLCBpbnRlbnNpdHk6IG51bWJlciwgaWdub3JlT09DPzogYm9vbGVhbiB8IHVuZGVmaW5lZF0pID0+IHN0cmluZyxcbiAgICBwaHJhc2VzVG9LZWVwOiBzdHJpbmdbXSk6IHN0cmluZ1xue1xuICAgIC8vIEVycm9yIGNvcnJlY3Rpb24gYmVjYXVzZSB1aGhoaGggd2h5Pz8/IElkayBjdXogc3RyaW5nIGlzIG5vdCBhIHN0cmluZywgaXRzIHVuZGVmaW5lZFxuICAgIGlmICghdGV4dFxuICAgICAgfHwgaXNOYU4oaW50ZW5zaXR5KVxuICAgICAgfHwgISh0eXBlb2YgaWdub3JlT09DID09IFwiYm9vbGVhblwiIHx8IHR5cGVvZiBpZ25vcmVPT0MgPT0gXCJ1bmRlZmluZWRcIilcbiAgICApXG4gICAge1xuICAgICAgICByZXR1cm4gbmV4dChbdGV4dCwgaW50ZW5zaXR5LCBpZ25vcmVPT0NdKTtcbiAgICB9XG5cbiAgICAvLyBTcGxpdCB0aGUgaW5wdXQgdGV4dCBpbnRvIGRpZmZlcmVudCBzdWJzdHJpbmdzIGV4bHVkaW5nIHRoZSB3b3JkcyB5b3Ugd2FudCB0byBrZWVwXG4gICAgLy8gU3RlcCAxOiBHZXQgdGhlIHdvcmRzIHlvdSB3YW50IHRvIGtlZXAgaWYgYW55XG4gICAgLy8gY29uc3QgcGhyYXNlc1RvS2VlcCA9IEdldFBldEhlYXJpbmdQaHJhc2VzKCk7XG4gICAgLy8gQWRkIHRoZSBQbGF5ZXIncyBuYW1lIGFzIGEgd29yZCB0aGV5IGNhbiBoZWFyXG4gICAgcGhyYXNlc1RvS2VlcC5wdXNoKChQbGF5ZXIuTmlja25hbWUgfHwgUGxheWVyLk5hbWUpLnRvTG9jYWxlTG93ZXJDYXNlKCkpO1xuICAgIC8vIEFkZCB0aGUgUGxheWVyJ3MgZ2VuZGVyIGFzIGluIHRoZSBleGFtcGxlLCBcIkdvb2QgZ2lybFwiXG4gICAgaWYgKFBsYXllci5HZXRQcm9ub3VucygpID09PSBcIlNoZUhlclwiKVxuICAgIHtcbiAgICAgICAgcGhyYXNlc1RvS2VlcC5wdXNoKFwiZ2lybFwiKTtcbiAgICAgICAgcGhyYXNlc1RvS2VlcC5wdXNoKFwic2hlXCIpO1xuICAgICAgICBwaHJhc2VzVG9LZWVwLnB1c2goXCJoZXJcIik7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIHBocmFzZXNUb0tlZXAucHVzaChcImJveVwiKTtcbiAgICAgICAgcGhyYXNlc1RvS2VlcC5wdXNoKFwiaGVcIik7XG4gICAgICAgIHBocmFzZXNUb0tlZXAucHVzaChcImhpbVwiKTtcbiAgICB9XG5cbiAgICAvLyBTdGVwIDI6IEZpbmQgdGhlIG1hdGNoZXMgaWYgdGhleSBleGlzdCBpbiB0aGUgb3JnaW5hbCBtZXNzYWdlXG4gICAgLy8gQ2hlY2sgbG93ZXIgY2FzZSBjdXogdGhlIHBocmFzZSB3ZSBsb29raW5nIGZvciBpbiBsb3dlciBjYXNlLCBkb2VzIG5vdCBtYXR0ZXIgZm9yIGZpbmFsIHJlc3VsdCwgb25seSB3YW50IHBvc2l0aW9uXG4gICAgY29uc3QgbWVzc2FnZSA9IHRleHQudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICBpbnRlcmZhY2UgUmFuZ2UgeyBzdGFydDogbnVtYmVyOyBsZW46IG51bWJlciB9XG4gICAgbGV0IGZvdW5kUGhyYXNlczogUmFuZ2VbXSA9IFtdO1xuICAgIHBocmFzZXNUb0tlZXAuZm9yRWFjaCgocGhyYXNlKSA9PlxuICAgIHtcbiAgICAgICAgY29uc3QgcmVnRXhwID0gbmV3IFJlZ0V4cChgXFxcXGIke3BocmFzZX1cXFxcYmAsIFwiZ1wiKTtcbiAgICAgICAgY29uc3QgcmVnZXhNYXRjaGVzID0gWy4uLm1lc3NhZ2UubWF0Y2hBbGwocmVnRXhwKV07XG4gICAgICAgIHJlZ2V4TWF0Y2hlcy5mb3JFYWNoKChtYXRjaCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgZm91bmRQaHJhc2VzLnB1c2goeyBzdGFydDogbWF0Y2guaW5kZXgsIGxlbjogcGhyYXNlLmxlbmd0aCB9KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvLyBSZW1vdmUgZHVwbGljYXRlcyBiZWNhdXNlIEkgYW0gdG9vIGxhenkgdG8gcHJvcGVybHkgZGVidWcgd2h5IGR1cGxpY2F0ZXMgYXJlIGJlaW5nIHBvcHVsYXRlZFxuICAgIGNvbnN0IHVuaXF1ZVJhbmdlcyA9IG5ldyBNYXA8c3RyaW5nLCBSYW5nZT4oKTtcbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgZm91bmRQaHJhc2VzKVxuICAgIHtcbiAgICAgICAgY29uc3Qga2V5ID0gYCR7aXRlbS5zdGFydH0tJHtpdGVtLmxlbn1gO1xuICAgICAgICBpZiAoIXVuaXF1ZVJhbmdlcy5oYXMoa2V5KSlcbiAgICAgICAge1xuICAgICAgICAgICAgdW5pcXVlUmFuZ2VzLnNldChrZXksIGl0ZW0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvdW5kUGhyYXNlcyA9IEFycmF5LmZyb20odW5pcXVlUmFuZ2VzLnZhbHVlcygpKTtcblxuICAgIC8vIE5vIG1hdGNoZXMgZm91bmQgc28gY2FuIHNraXAgYW5kIGVhcmx5IHJldHVyblxuICAgIGlmIChmb3VuZFBocmFzZXMubGVuZ3RoID09PSAwKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG5leHQoW3RleHQsIGludGVuc2l0eSwgaWdub3JlT09DXSk7XG4gICAgfVxuXG4gICAgLy8gU29ydCBzbyB0aGF0IGl0IGlzIGNvbnN0cnVjdGVkIGluIHRoZSBjb3JyZWN0IG9yZGVyIHdoZW4gcHV0IGJhY2sgdG9nZXRoZXI7IGxvd2VyIHN0YXJ0aW5nIGluZGV4ZXMgZmlyc3RcbiAgICBmb3VuZFBocmFzZXMuc29ydCgoYSwgYikgPT4gYS5zdGFydCAtIGIuc3RhcnQpO1xuICAgIC8vIFJlbW92ZSBhbnkgcGhyYXNlcyB0aGF0IGFyZSBmb3VuZCB3aXRoaW4gT09DIHNwZWVjaCByYW5nZTtcbiAgICBjb25zdCBvb2NSYW5nZXMgPSBTcGVlY2hHZXRPT0NSYW5nZXModGV4dCk7XG4gICAgb29jUmFuZ2VzLmZvckVhY2goKHJhbmdlKSA9PlxuICAgIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IGZvdW5kUGhyYXNlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgcGhyYXNlID0gZm91bmRQaHJhc2VzW2ldO1xuICAgICAgICAgICAgLy8gUmVtb3ZlIGlmIHRoZSBwaHJhc2Ugc3RhcnRzIG9yIGVuZHMgd2l0aGluIHRoZSBvb2MgcmFuZ2VcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAocmFuZ2Uuc3RhcnQgPCBwaHJhc2Uuc3RhcnQgJiYgcGhyYXNlLnN0YXJ0IDwgcmFuZ2Uuc3RhcnQgKyByYW5nZS5sZW5ndGgpXG4gICAgICAgICAgICAgICAgfHwgKHJhbmdlLnN0YXJ0IDwgcGhyYXNlLnN0YXJ0ICsgcGhyYXNlLmxlbiAmJiBwaHJhc2Uuc3RhcnQgKyBwaHJhc2UubGVuIDwgcmFuZ2Uuc3RhcnQgKyByYW5nZS5sZW5ndGgpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZm91bmRQaHJhc2VzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gTWF5IG5lZWQgdG8gY2hlY2sgdGhhdCBvbmUgcGhyYXNlIGRvZXMgbm90IHN0YXJ0IGJlZm9yZSBhbm90aGVyIGVuZHMsIGFuZCBpZiBzbyBtZXJnZSBpbnRvIGEgc2luZ2xlIGxvbmdlciBlbnRyeVxuICAgIGxldCBsYXN0SW5kZXggPSAwO1xuICAgIGxldCBmaW5hbFRleHQgPSBcIlwiO1xuICAgIGZvdW5kUGhyYXNlcy5mb3JFYWNoKChmb3VuZCkgPT5cbiAgICB7XG4gICAgICAgIC8vIEJlZm9yZSB0aGUgcGhyYXNlIHRvIG9taXRcbiAgICAgICAgZmluYWxUZXh0ICs9IG5leHQoW3RleHQuc3Vic3RyaW5nKGxhc3RJbmRleCwgZm91bmQuc3RhcnQpLCBpbnRlbnNpdHksIGlnbm9yZU9PQ10pO1xuXG4gICAgICAgIC8vIFBocmFzZSB3ZSB3YW50IHRvIG9taXRcbiAgICAgICAgbGFzdEluZGV4ID0gZm91bmQuc3RhcnQgKyBmb3VuZC5sZW47XG4gICAgICAgIGZpbmFsVGV4dCArPSB0ZXh0LnN1YnN0cmluZyhmb3VuZC5zdGFydCwgZm91bmQuc3RhcnQgKyBmb3VuZC5sZW4pO1xuICAgIH0pO1xuICAgIC8vIExhc3Qgb2YgdGhlIHRleHQgdG8gZ2FyYmxlIHVwXG4gICAgZmluYWxUZXh0ICs9IG5leHQoW3RleHQuc3Vic3RyaW5nKGxhc3RJbmRleCksIGludGVuc2l0eSwgaWdub3JlT09DXSk7XG5cbiAgICByZXR1cm4gZmluYWxUZXh0O1xufTtcblxuY29uc3QgUlVTSEVEX1NQRUFLX1BFUkNFTlRBR0UgPSAwLjU7XG5jb25zdCBQRVRfU1BFQUtfU1RSRU5HVEhfTUFQID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgTG93OiAwLjAxLFxuICAgIE1lZGl1bTogMC4wMjUsXG4gICAgSGlnaDogMC4wNSxcbiAgICBNYXg6IDAuMTI1XG59KTtcbmNvbnN0IFBFVF9TUEVBS19FTkRfUEVSQ0VOVEFHRSA9IE9iamVjdC5mcmVlemUoe1xuICAgIExvdzogMC4wNSxcbiAgICBNZWRpdW06IDAuMSxcbiAgICBIaWdoOiAwLjIsXG4gICAgTWF4OiAwLjI1XG59KTtcblxuLyoqXG4gKiBBZGQgcGV0IHNvdW5kcyB0byB0aGUgaW5wdXQgc3BlZWNoIHdoaWxlIG5vdCBnYXJibGluZyBhbnl0aGluZ1xuICogQHBhcmFtIG1zZyBTcGVlY2ggdG8gY2hhbmdlXG4gKiBAcGFyYW0gYWxsb3dlZFBldFBocmFzZXMgUGV0IHNvdW5kcyB0byBhZGRcbiAqIEBwYXJhbSBzdHJlbmd0aCBob3cgbXVjaCByZXBsYWNpbmcgdG8gZG9cbiAqIEByZXR1cm5zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBOb25EaXNydXB0aXZlUGV0U3BlZWNoKFxuICAgIG1zZzogc3RyaW5nLFxuICAgIGFsbG93ZWRQZXRQaHJhc2VzOiBzdHJpbmdbXSxcbiAgICBzdHJlbmd0aDogXCJPZmZcIiB8IFwiTG93XCIgfCBcIk1lZGl1bVwiIHwgXCJIaWdoXCIgfCBcIk1heFwiXG4pOiBzdHJpbmdcbntcbiAgICAvLyBObyBwaHJhc2VzIHdlIGNhbiB1c2UsIHNraXBcbiAgICBpZiAoYWxsb3dlZFBldFBocmFzZXMubGVuZ3RoID09PSAwIHx8IHN0cmVuZ3RoID09PSBcIk9mZlwiKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG1zZztcbiAgICB9XG5cbiAgICAvLyBVc2UgYnVja2V0IHN5c3RlbSBzbyB3b3JkcyBhcHBlYXIgbGVzcyByYW5kb21cbiAgICAvLyBCdWNrZXQgaXMgMnggYWxsb3dlZCBwZXQgcGhyYXNlcyBiZWZvcmUgcmVmaWxsaW5nXG4gICAgbGV0IHBldFBocmFzZUJ1Y2tldDogc3RyaW5nW10gPSBbXTtcbiAgICBmdW5jdGlvbiBHZXRQZXRQaHJhc2UoKTogc3RyaW5nXG4gICAge1xuICAgICAgICBpZiAocGV0UGhyYXNlQnVja2V0Lmxlbmd0aCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgcGV0UGhyYXNlQnVja2V0ID0gYWxsb3dlZFBldFBocmFzZXMuY29uY2F0KGFsbG93ZWRQZXRQaHJhc2VzKTtcbiAgICAgICAgICAgIHBldFBocmFzZUJ1Y2tldCA9IFNodWZmbGVBcnJheShwZXRQaHJhc2VCdWNrZXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwZXRQaHJhc2VCdWNrZXQucG9wKCkgPz8gXCJcIjtcbiAgICB9XG5cbiAgICAvLyBMb29wIHRocm91Z2ggYWxsIHRoZSBvb2MgcmFuZ2VzIHRvIHNwbGl0IHRleHQgaW50byBvb2MgYW5kIG5vbiBvb2MgY2h1bmtzXG4gICAgLy8gU2tpcCBhZGRpbmcgcGV0IHNvdW5kcyB0byBvb2Mgc2VnbWVudHNcbiAgICBsZXQgbmV4dEluZGV4ID0gMDtcbiAgICBsZXQgc2VnbWVudHM6IHsgdGV4dDogc3RyaW5nOyBvb2M6IGJvb2xlYW4gfVtdID0gW107XG4gICAgY29uc3Qgb29jUmFuZ2VzID0gU3BlZWNoR2V0T09DUmFuZ2VzKG1zZyk7XG4gICAgZm9yIChjb25zdCByYW5nZSBvZiBvb2NSYW5nZXMpXG4gICAge1xuICAgICAgICBpZiAobXNnLnN1YnN0cmluZyhuZXh0SW5kZXgsIHJhbmdlLnN0YXJ0KSAhPT0gXCJcIilcbiAgICAgICAge1xuICAgICAgICAgICAgc2VnbWVudHMucHVzaCh7IHRleHQ6IG1zZy5zdWJzdHJpbmcobmV4dEluZGV4LCByYW5nZS5zdGFydCksIG9vYzogZmFsc2UgfSk7XG4gICAgICAgIH1cbiAgICAgICAgc2VnbWVudHMucHVzaCh7IHRleHQ6IG1zZy5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQsIHJhbmdlLnN0YXJ0ICsgcmFuZ2UubGVuZ3RoKSwgb29jOiB0cnVlIH0pO1xuICAgICAgICBuZXh0SW5kZXggPSByYW5nZS5zdGFydCArIHJhbmdlLmxlbmd0aDtcbiAgICB9XG4gICAgLy8gQWRkIGxhc3Qgc2VnbWVudCBmcm9tIGVuZCBvZiByYW5nZSB0byBlbmQgb2YgdGV4dFxuICAgIGNvbnN0IGxhc3RCaXQgPSBtc2cuc3Vic3RyaW5nKG5leHRJbmRleCk7XG4gICAgaWYgKGxhc3RCaXQgIT09IFwiXCIpXG4gICAge1xuICAgICAgICBzZWdtZW50cy5wdXNoKHsgdGV4dDogbGFzdEJpdCwgb29jOiBmYWxzZSB9KTtcbiAgICB9XG4gICAgLy8gTW92ZSBhbnkgd2hpdGVzcGFjZSBvbiB0aGUgcmlnaHQgc2lkZSBvZiBhbiBlbGVtZW50IHRvIHRoZSBsZWZ0IHNpZGUgb2YgdGhlIG5leHQgZWxlbWVudFxuICAgIC8vIE1ha2VzIGZpbmFsIGZvcm1hdHRpbmcgY2xlYW5lciBhbmQgZWFzaWVyXG4gICAgc2VnbWVudHMgPSBzZWdtZW50cy5tYXAoKG9iaiwgaSkgPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IHRyYWlsaW5nV2hpdGVzcGFjZSA9IC9cXHMrJC8uZXhlYyhvYmoudGV4dCk7XG4gICAgICAgIG9iai50ZXh0ID0gb2JqLnRleHQucmVwbGFjZSgvXFxzKyQvLCBcIlwiKTsgLy8gUmVtb3ZlIHRyYWlsaW5nIHdoaXRlc3BhY2UgZnJvbSBjdXJyZW50IHRleHRcbiAgICAgICAgaWYgKHRyYWlsaW5nV2hpdGVzcGFjZSAmJiBzZWdtZW50c1tpICsgMV0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNlZ21lbnRzW2kgKyAxXS50ZXh0ID0gdHJhaWxpbmdXaGl0ZXNwYWNlWzBdICsgc2VnbWVudHNbaSArIDFdLnRleHQ7IC8vIFByZXBlbmQgd2hpdGVzcGFjZSB0byBuZXh0IHRleHRcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0pO1xuXG4gICAgLy8gcGV0IHNwZWFrIHBlcmNlbnQgdmFsdWVzXG4gICAgY29uc3Qgd29yZFN0ZW5ndGggPSBQRVRfU1BFQUtfU1RSRU5HVEhfTUFQW3N0cmVuZ3RoXTtcbiAgICBjb25zdCBlbmRTdGVuZ3RoID0gUEVUX1NQRUFLX0VORF9QRVJDRU5UQUdFW3N0cmVuZ3RoXTtcbiAgICBjb25zdCBzcGVha1JlcXVpcmVkID0gc3RyZW5ndGggPT09IFwiSGlnaFwiIHx8IHN0cmVuZ3RoID09PSBcIk1heFwiO1xuXG4gICAgLy8gRm9yIGVhY2ggbm9uIG9vYyBzZWdtZW50IHBldGlmeSBzcGVhayBpdFxuICAgIGxldCBzcG9rZVBldCA9IGZhbHNlO1xuICAgIGxldCBuZXdNc2cgPSBcIlwiO1xuICAgIGZvciAoY29uc3Qgc2VnbWVudCBvZiBzZWdtZW50cylcbiAgICB7XG4gICAgICAgIGlmIChzZWdtZW50Lm9vYylcbiAgICAgICAge1xuICAgICAgICAgICAgbmV3TXNnICs9IHNlZ21lbnQudGV4dDtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3BsaXRQaHJhc2UgPSBzZWdtZW50LnRleHQubWF0Y2goLyhcXHMqXFxTKykvZykgfHwgW107XG4gICAgICAgIGxldCBwcmV2aW91c1dvcmQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IHdvcmQgb2Ygc3BsaXRQaHJhc2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChMSU5LX1JFR0VYLnRlc3Qod29yZCkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmV3TXNnICs9IHdvcmQ7XG4gICAgICAgICAgICAgICAgcHJldmlvdXNXb3JkID0gbnVsbDtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUmFuZG9tIGNoYW5jZSBmb3IgYSBwZXQgc291bmQgdG8gYXBwZWFyIGJlZm9yZSB0aGUgY3VycmVudCB3b3JkXG4gICAgICAgICAgICBpZiAoTWF0aC5yYW5kb20oKSA8IHdvcmRTdGVuZ3RoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNwb2tlUGV0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBjb25zdCBwZXRTb3VuZCA9IEdldFBldFBocmFzZSgpO1xuXG4gICAgICAgICAgICAgICAgY29uc3Qgbm9QcmV2ID0gcHJldmlvdXNXb3JkID09PSBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChub1ByZXYgfHwgL1suIT9dJC8udGVzdChwcmV2aW91c1dvcmQgPz8gXCJcIikpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuZXdNc2cgKz0gYCR7bm9QcmV2ID8gXCJcIiA6IFwiIFwifSR7cGV0U291bmQuY2hhckF0KDApLnRvTG9jYWxlVXBwZXJDYXNlKCl9JHtwZXRTb3VuZC5zbGljZSgxKX1gXG4gICAgICAgICAgICAgICAgICAgICAgKyBgJHsvWy4hP10kLy50ZXN0KHdvcmQpIHx8IG5vUHJldiA/IGAuJHtub1ByZXYgPyBcIiBcIiA6IFwiXCJ9YCA6IFwiLCBcIn1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBuZXdNc2cgKz0gYCR7TWF0aC5yYW5kb20oKSA8IFJVU0hFRF9TUEVBS19QRVJDRU5UQUdFICYmICEocHJldmlvdXNXb3JkID8/IFwiXCIpLmVuZHNXaXRoKFwiLFwiKSA/IFwiLFwiIDogXCJcIn0gJHtwZXRTb3VuZH0sYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXdNc2cgKz0gd29yZDtcbiAgICAgICAgICAgIHByZXZpb3VzV29yZCA9IHdvcmQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiBubyBwZXQgd29yZHMgaGF2ZSBiZWVuIHNwb2tlbiBzbyBmYXIsIGVuZCB3aXRoIG9uZSBvciBhIGNoYW5jZSBmb3IgaXQgdG8gZW5kIHdpdGggb25lIGFueXdheVxuICAgICAgICBpZiAoXG4gICAgICAgICAgICBzZWdtZW50cy5zbGljZSgpLnJldmVyc2UoKS5maW5kKChpdGVtKSA9PiAhaXRlbS5vb2MpPy50ZXh0ID09PSBzZWdtZW50LnRleHQgLy8gTGFzdCBub24gb29jIHNlZ21lbnRcbiAgICAgICAgICAgICYmICgoc3BlYWtSZXF1aXJlZCAmJiAhc3Bva2VQZXQpXG4gICAgICAgICAgICAgIHx8IE1hdGgucmFuZG9tKCkgPCBlbmRTdGVuZ3RoKVxuICAgICAgICApXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5ld01zZyA9IEFwcGVuZFBldFNwZWVjaChuZXdNc2csIFtHZXRQZXRQaHJhc2UoKV0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ld01zZztcbn1cblxuLyoqXG4gKiBSZXBsYWNlIGVhY2ggd29yZCBpbiB0aGUgdGV4dCB3aXRoIGEgcGV0IHNvdW5kIGJhc2VkIG9uIHRoZSBzdHJlbmd0aFxuICogQHBhcmFtIG1zZyAtIFRleHQgdG8gcHJvY2Vzc1xuICogQHBhcmFtIGFsbG93ZWRQZXRQaHJhc2VzIC0gUGV0IHNvdW5kcyB0byB1c2VcbiAqIEBwYXJhbSBzdHJlbmd0aCAtIDAgdG8gMSBpbmNsdXNpdmVcbiAqIEByZXR1cm5zIEEgbmV3IGNvcHkgb2YgdGhlIHByb2Nlc3NlZCB0ZXh0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBEaXNydXB0aXZlUGV0U3BlZWNoKFxuICAgIG1zZzogc3RyaW5nLFxuICAgIGFsbG93ZWRQZXRQaHJhc2VzOiBzdHJpbmdbXSxcbiAgICBzdHJlbmd0aDogbnVtYmVyXG4pOiBzdHJpbmdcbntcbiAgICAvLyBObyBwaHJhc2VzIHdlIGNhbiB1c2UsIHNraXBcbiAgICBpZiAoYWxsb3dlZFBldFBocmFzZXMubGVuZ3RoID09PSAwKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG1zZztcbiAgICB9XG4gICAgbXNnID0gbXNnID8/IFwiXCI7XG5cbiAgICAvLyBTdHJlbmd0aCBzaG91bGQgYmUgYmV0d2VlbiAwIGFuZCAxXG4gICAgc3RyZW5ndGggPSAoc3RyZW5ndGggPiAxKSA/IDEgOiAoc3RyZW5ndGggPCAwKSA/IDAgOiBzdHJlbmd0aDtcblxuICAgIC8vIFVzZSBidWNrZXQgc3lzdGVtIHNvIHdvcmRzIGFwcGVhciBsZXNzIHJhbmRvbVxuICAgIC8vIEJ1Y2tldCBpcyAyeCBhbGxvd2VkIHBldCBwaHJhc2VzIGJlZm9yZSByZWZpbGxpbmdcbiAgICBsZXQgcGV0UGhyYXNlQnVja2V0OiBzdHJpbmdbXSA9IFtdO1xuICAgIGZ1bmN0aW9uIEdldFBldFBocmFzZSgpOiBzdHJpbmdcbiAgICB7XG4gICAgICAgIGlmIChwZXRQaHJhc2VCdWNrZXQubGVuZ3RoID09PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBwZXRQaHJhc2VCdWNrZXQgPSBhbGxvd2VkUGV0UGhyYXNlcy5jb25jYXQoYWxsb3dlZFBldFBocmFzZXMpO1xuICAgICAgICAgICAgcGV0UGhyYXNlQnVja2V0ID0gU2h1ZmZsZUFycmF5KHBldFBocmFzZUJ1Y2tldCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBldFBocmFzZUJ1Y2tldC5wb3AoKSA/PyBcIlwiO1xuICAgIH1cblxuICAgIC8vIExvb3AgdGhyb3VnaCBhbGwgdGhlIG9vYyByYW5nZXMgdG8gc3BsaXQgdGV4dCBpbnRvIG9vYyBhbmQgbm9uIG9vYyBjaHVua3NcbiAgICAvLyBTa2lwIGFkZGluZyBwZXQgc291bmRzIHRvIG9vYyBzZWdtZW50c1xuICAgIGxldCBuZXh0SW5kZXggPSAwO1xuICAgIGNvbnN0IHNlZ21lbnRzOiB7IHRleHQ6IHN0cmluZzsgb29jOiBib29sZWFuIH1bXSA9IFtdO1xuICAgIGNvbnN0IG9vY1JhbmdlcyA9IFNwZWVjaEdldE9PQ1Jhbmdlcyhtc2cpO1xuICAgIGZvciAoY29uc3QgcmFuZ2Ugb2Ygb29jUmFuZ2VzKVxuICAgIHtcbiAgICAgICAgaWYgKG1zZy5zdWJzdHJpbmcobmV4dEluZGV4LCByYW5nZS5zdGFydCkgIT09IFwiXCIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNlZ21lbnRzLnB1c2goeyB0ZXh0OiBtc2cuc3Vic3RyaW5nKG5leHRJbmRleCwgcmFuZ2Uuc3RhcnQpLCBvb2M6IGZhbHNlIH0pO1xuICAgICAgICB9XG4gICAgICAgIHNlZ21lbnRzLnB1c2goeyB0ZXh0OiBtc2cuc3Vic3RyaW5nKHJhbmdlLnN0YXJ0LCByYW5nZS5zdGFydCArIHJhbmdlLmxlbmd0aCksIG9vYzogdHJ1ZSB9KTtcbiAgICAgICAgbmV4dEluZGV4ID0gcmFuZ2Uuc3RhcnQgKyByYW5nZS5sZW5ndGg7XG4gICAgfVxuICAgIC8vIEFkZCBsYXN0IHNlZ21lbnQgZnJvbSBlbmQgb2YgcmFuZ2UgdG8gZW5kIG9mIHRleHRcbiAgICBjb25zdCBsYXN0Qml0ID0gbXNnLnN1YnN0cmluZyhuZXh0SW5kZXgpO1xuICAgIGlmIChsYXN0Qml0ICE9PSBcIlwiKVxuICAgIHtcbiAgICAgICAgc2VnbWVudHMucHVzaCh7IHRleHQ6IGxhc3RCaXQsIG9vYzogZmFsc2UgfSk7XG4gICAgfVxuXG4gICAgLy8gRm9yIGVhY2ggbm9uIG9vYyBzZWdtZW50IHBldGlmeSBzcGVhayBpdFxuICAgIGxldCBuZXdNc2cgPSBcIlwiO1xuICAgIGZvciAoY29uc3Qgc2VnbWVudCBvZiBzZWdtZW50cylcbiAgICB7XG4gICAgICAgIGlmIChzZWdtZW50Lm9vYylcbiAgICAgICAge1xuICAgICAgICAgICAgbmV3TXNnICs9IHNlZ21lbnQudGV4dDtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgbmV3TXNnICs9IHNlZ21lbnQudGV4dC5yZXBsYWNlKC9cXGJcXHcrXFxiL2csIChtYXRjaCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKE1hdGgucmFuZG9tKCkgPiBzdHJlbmd0aClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwZXRQaHJhc2UgPSBHZXRQZXRQaHJhc2UoKTtcbiAgICAgICAgICAgIGlmICgvXltBLVpdKyQvLnRlc3QobWF0Y2gpICYmIG1hdGNoLmxlbmd0aCA+IDEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBldFBocmFzZS50b0xvY2FsZVVwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKC9eW0EtWl0uKiQvLnRlc3QobWF0Y2gpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBwZXRQaHJhc2Uuc3Vic3RyaW5nKDAsIDEpLnRvTG9jYWxlVXBwZXJDYXNlKCkgKyBwZXRQaHJhc2Uuc3Vic3RyaW5nKDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHBldFBocmFzZTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ld01zZztcbn1cbiIsImltcG9ydCB7IE1vZHVsZSB9IGZyb20gXCIuLi9tb2R1bGVzL19tb2R1bGVcIjtcbmltcG9ydCB7IExvYWRTdG9yYWdlIH0gZnJvbSBcIi4vc3RvcmFnZVwiO1xuaW1wb3J0IHsgRGF0YVN5bmNNb2R1bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9kYXRhU3luY1wiO1xuaW1wb3J0IHsgU2V0dGluZ3NNb2R1bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9zZXR0aW5nc1wiO1xuaW1wb3J0IHsgQWN0aXZpdGllc01vZHVsZSB9IGZyb20gXCIuLi9tb2R1bGVzL2FjdGl2aXRpZXNcIjtcbmltcG9ydCB7IENsaWNrZXJNb2R1bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9jbGlja2VyXCI7XG5pbXBvcnQgeyBWaXJ0dWFsUGV0TW9kdWxlIH0gZnJvbSBcIi4uL21vZHVsZXMvdmlydHVhbFBldFwiO1xuaW1wb3J0IHsgVmlydHVhbFBldEhVRE1vZHVsZSB9IGZyb20gXCIuLi9tb2R1bGVzL3ZpcnR1YWxQZXRIVURcIjtcbmltcG9ydCB7IFZpcnR1YWxQZXRDb25kaXRpb25zTW9kdWxlIH0gZnJvbSBcIi4uL21vZHVsZXMvdmlydHVhbFBldENvbmRpdGlvbnNcIjtcbmltcG9ydCB7IFByb2ZpbGVNb2R1bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9wcm9maWxlXCI7XG5pbXBvcnQgeyBTZXR0aW5nc090aGVyTW9kdWxlIH0gZnJvbSBcIi4uL21vZHVsZXMvc2V0dGluZ3NPdGhlcnNcIjtcbmltcG9ydCB7IEF1dGhvcml0eU1vZHVsZSB9IGZyb20gXCIuLi9tb2R1bGVzL2F1dGhvcml0eVwiO1xuaW1wb3J0IHsgUHJpdmF0ZU1vZHVsZSB9IGZyb20gXCIuLi9tb2R1bGVzL3ByaXZhdGVcIjtcblxubGV0IG1vZHVsZXNSZWdpc3RlcmVkID0gZmFsc2U7XG5cbmV4cG9ydCBjb25zdCBtb2R1bGVzOiBNb2R1bGVbXSA9IFtcbiAgICBuZXcgRGF0YVN5bmNNb2R1bGUoKSxcbiAgICBuZXcgU2V0dGluZ3NNb2R1bGUoKSxcbiAgICBuZXcgQWN0aXZpdGllc01vZHVsZSgpLFxuICAgIG5ldyBDbGlja2VyTW9kdWxlKCksXG4gICAgbmV3IFZpcnR1YWxQZXRNb2R1bGUoKSxcbiAgICBuZXcgVmlydHVhbFBldEhVRE1vZHVsZSgpLFxuICAgIG5ldyBWaXJ0dWFsUGV0Q29uZGl0aW9uc01vZHVsZSgpLFxuICAgIG5ldyBQcm9maWxlTW9kdWxlKCksXG4gICAgbmV3IFNldHRpbmdzT3RoZXJNb2R1bGUoKSxcbiAgICBuZXcgQXV0aG9yaXR5TW9kdWxlKCksXG4gICAgbmV3IFByaXZhdGVNb2R1bGUoKVxuXTtcblxuZXhwb3J0IGNvbnN0IHNldHRpbmdzOiBQYXJ0aWFsPE1QQVNldHRpbmdzPiA9IHt9O1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUmVnaXN0ZXJNb2R1bGVzKCk6IFByb21pc2U8dm9pZD5cbntcbiAgICAvLyBObyBkdXBsaWNhdGUgbW9kdWxlIHJlZ2lzdGVyaW5nXG4gICAgaWYgKG1vZHVsZXNSZWdpc3RlcmVkKSB7IHJldHVybjsgfVxuXG4gICAgbW9kdWxlcy5mb3JFYWNoKChtb2R1bGUpID0+XG4gICAge1xuICAgICAgICAvLyBHZXQgYWxsIHRoZSBzZXR0aW5nc1xuICAgICAgICBjb25zdCBtb2RTZXQgPSBtb2R1bGUuU2V0dGluZ3M7XG4gICAgICAgIGNvbnN0IG5ld1NldHRpbmdzID0ge307XG4gICAgICAgIG1vZFNldC5mb3JFYWNoKChzZXQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIG5ld1NldHRpbmdzW3NldC5uYW1lXSA9IHNldDtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhuZXdTZXR0aW5ncykubGVuZ3RoICE9PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBzZXR0aW5nc1ttb2R1bGUuVGl0bGVdID0gbmV3U2V0dGluZ3M7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBhd2FpdCBMb2FkU3RvcmFnZSgpO1xuXG4gICAgLy8gTG9hZCB0aGUgbW9kdWxlc1xuICAgIG1vZHVsZXMuZm9yRWFjaCgobW9kdWxlKSA9PlxuICAgIHtcbiAgICAgICAgbW9kdWxlLkxvYWQoKTtcbiAgICB9KTtcbiAgICBtb2R1bGVzUmVnaXN0ZXJlZCA9IHRydWU7XG59XG4iLCJpbXBvcnQgYmNNb2RTZGssIHsgR2V0RG90ZWRQYXRoVHlwZSwgTW9kU0RLTW9kQVBJLCBQYXRjaEhvb2sgfSBmcm9tIFwiYm9uZGFnZS1jbHViLW1vZC1zZGtcIjtcbmltcG9ydCB7IE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4uL21vZHVsZXMvX21vZHVsZVwiO1xuaW1wb3J0IHsgTVBBX05BTUUsIE1QQV9SRVBPLCBNUEFfVkVSU0lPTiB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuXG5pbnRlcmZhY2UgSG9va2VkRnVuY3Rpb25cbntcbiAgICBmdW5jdGlvbk5hbWU6IHN0cmluZztcbiAgICBwcmlvcml0eTogbnVtYmVyO1xuICAgIGhvb2s6IFBhdGNoSG9vaztcbiAgICBtb2R1bGU6IHN0cmluZyB8IG51bGw7XG4gICAgcmVtb3ZlSG9vazogKCkgPT4gdm9pZDtcbn1cbmNvbnN0IGhvb2tzOiBIb29rZWRGdW5jdGlvbltdID0gW107XG5cbmV4cG9ydCBjb25zdCBtb2RBUEk6IE1vZFNES01vZEFQSSA9IGJjTW9kU2RrLnJlZ2lzdGVyTW9kKHtcbiAgICBuYW1lOiBNUEFfTkFNRSxcbiAgICB2ZXJzaW9uOiBNUEFfVkVSU0lPTixcbiAgICBmdWxsTmFtZTogXCJNYXlhJ3MgUGV0cGxheSBBZGRpdGlvbnNcIixcbiAgICByZXBvc2l0b3J5OiBNUEFfUkVQT1xufSwge1xuICAgIGFsbG93UmVwbGFjZTogZmFsc2Vcbn0pO1xuXG4vKipcbiAqIEhvb2sgYSBCQyBmdW5jdGlvblxuICogQHBhcmFtIG1vZHVsZSAtIFRoZSB0aXRsZSBvZiB0aGUgbW9kdWxlIHRoZSBob29rIGlzIGJlaW5nIHVzZWQgaW5cbiAqIEB0ZW1wbGF0ZSBURnVuY3Rpb25OYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGhvb2tlZCBmdW5jdGlvbiwgX2UuZy5fIGBcIlBsYXllci5DYW5DaGFuZ2VcImBcbiAqIEBwYXJhbSBmdW5jdGlvbk5hbWUgLSBOYW1lIG9mIGZ1bmN0aW9uIHRvIGhvb2suIENhbiBjb250YWluIGRvdHMgdG8gY2hhbmdlIG1ldGhvZHMgaW4gb2JqZWN0cyAoZS5nLiBgUGxheWVyLkNhbkNoYW5nZWApXG4gKiBAcGFyYW0gcHJpb3JpdHkgLSBOdW1iZXIgdXNlZCB0byBkZXRlcm1pbmF0ZSBvcmRlciBob29rcyB3aWxsIGJlIGNhbGxlZCBpbi4gSGlnaGVyIG51bWJlciBpcyBjYWxsZWQgZmlyc3RcbiAqIEBwYXJhbSBob29rIC0gVGhlIGhvb2sgaXRzZWxmIHRvIHVzZSwgQHNlZSBQYXRjaEhvb2tcbiAqIEByZXR1cm5zIEZ1bmN0aW9uIHRoYXQgY2FuIGJlIGNhbGxlZCB0byByZW1vdmUgdGhpcyBob29rXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBIb29rRnVuY3Rpb248VEZ1bmN0aW9uTmFtZSBleHRlbmRzIHN0cmluZz4obW9kdWxlOiBNb2R1bGVUaXRsZSB8IG51bGwsIGZ1bmN0aW9uTmFtZTogVEZ1bmN0aW9uTmFtZSwgcHJpb3JpdHk6IG51bWJlciwgaG9vazogUGF0Y2hIb29rPEdldERvdGVkUGF0aFR5cGU8dHlwZW9mIGdsb2JhbFRoaXMsIFRGdW5jdGlvbk5hbWU+Pik6ICgpID0+IHZvaWRcbntcbiAgICBjb25zdCByZW1vdmVIb29rID0gbW9kQVBJLmhvb2tGdW5jdGlvbihmdW5jdGlvbk5hbWUsIHByaW9yaXR5LCBob29rKTtcblxuICAgIGhvb2tzLnB1c2goe1xuICAgICAgICBmdW5jdGlvbk5hbWU6IGZ1bmN0aW9uTmFtZSxcbiAgICAgICAgcHJpb3JpdHk6IHByaW9yaXR5LFxuICAgICAgICBob29rOiBob29rLFxuICAgICAgICBtb2R1bGU6IG1vZHVsZSxcbiAgICAgICAgcmVtb3ZlSG9vazogcmVtb3ZlSG9va1xuICAgIH0gYXMgSG9va2VkRnVuY3Rpb24pO1xuXG4gICAgcmV0dXJuIHJlbW92ZUhvb2s7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZW1vdmVIb29rcyhtb2R1bGU6IE1vZHVsZVRpdGxlIHwgbnVsbCk6IHZvaWRcbntcbiAgICBmb3IgKGxldCBpID0gaG9va3MubGVuZ3RoIC0gMTsgMCA8PSBpOyBpLS0pXG4gICAge1xuICAgICAgICBpZiAoaG9va3NbaV0ubW9kdWxlID09PSBtb2R1bGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhvb2tzW2ldLnJlbW92ZUhvb2soKTtcbiAgICAgICAgICAgIGhvb2tzLnNwbGljZShpLCAxKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBPbmx5IHJlbGVhc2UgdGhlIGF3YWl0IHdoZW4gdGhlIFBsYXllciBpcyBkZXRlY3RlZCBhbmQgbG9hZGVkXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBBd2FpdFBsYXllcigpOiBQcm9taXNlPHZvaWQ+XG57XG4gICAgaWYgKFBsYXllci5NZW1iZXJOdW1iZXIgJiYgUGxheWVyLkV4dGVuc2lvblNldHRpbmdzKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSkgPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IGhvb2sgPSBtb2RBUEkuaG9va0Z1bmN0aW9uKFwiTG9naW5SZXNwb25zZVwiLCAwLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgLy8gTGV0IHJlc3BvbnNlIGhhcHBlbiBmaXJzdFxuICAgICAgICAgICAgbmV4dChhcmdzKTtcblxuICAgICAgICAgICAgLy8gUmVtb3ZlIHRoaXMgaG9vayB3aGVuIGRvbmVcbiAgICAgICAgICAgIGhvb2soKTtcblxuICAgICAgICAgICAgLy8gUmVzb2x2ZSB0aGUgcHJvbWlzZSB0byBlbmQgdGhlIGF3YWl0IGNvbmRpdGlvblxuICAgICAgICAgICAgc2V0VGltZW91dChyZXNvbHZlLCAxMDAwKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5cbi8qKlxuICogT25seSByZWxlYXNlIHRoZSBhd2FpdCB3aGVuIHRoZSBQbGF5ZXIgaGFzIGVudGVyZWQgYSBjaGF0IHJvb21cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEF3YWl0SW5DaGF0Um9vbSgpXG57XG4gICAgaWYgKENoYXRSb29tQ2hhcmFjdGVyLmxlbmd0aCA+IDEpXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlKSA9PlxuICAgIHtcbiAgICAgICAgY29uc3QgaG9vayA9IG1vZEFQSS5ob29rRnVuY3Rpb24oXCJDaGF0Um9vbVN5bmNcIiwgMTAwLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgLy8gTGV0IHJlc3BvbnNlIGhhcHBlbiBmaXJzdFxuICAgICAgICAgICAgbmV4dChhcmdzKTtcblxuICAgICAgICAgICAgLy8gUmVtb3ZlIHRoaXMgaG9vayB3aGVuIGRvbmVcbiAgICAgICAgICAgIGhvb2soKTtcblxuICAgICAgICAgICAgLy8gUmVzb2x2ZSB0aGUgcHJvbWlzZSB0byBlbmQgdGhlIGF3YWl0IGNvbmRpdGlvblxuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBEbyBub3RoaW5nIGJ1dCB3YWl0XG4gKiBAcGFyYW0gbXMgRHVyYXRpb24gdG8gd2FpdFxuICovXG5leHBvcnQgZnVuY3Rpb24gU2xlZXAobXM6IG51bWJlcilcbntcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgbXMpKTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIEJDWCBtb2QgYXBpIGZvciBNUEFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJjeEFQSSgpXG57XG4gICAgcmV0dXJuIHdpbmRvdy5iY3g/LmdldE1vZEFwaShNUEFfTkFNRSk7XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgQkNYIGlmIGZvdW5kXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiY3hGb3VuZCgpOiBib29sZWFuXG57XG4gICAgcmV0dXJuICEhd2luZG93LmJjeDtcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBJc0Rpc3BsYXlTZXR0aW5nKHNldHRpbmc6IFNldHRpbmcpOiBzZXR0aW5nIGlzIERpc3BsYXllZFNldHRpbmdcbntcbiAgICByZXR1cm4gKFxuICAgICAgICB0eXBlb2YgKHNldHRpbmcgYXMgRGlzcGxheWVkU2V0dGluZykuYWN0aXZlID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgJiYgdHlwZW9mIChzZXR0aW5nIGFzIERpc3BsYXllZFNldHRpbmcpLmxhYmVsID09PSBcInN0cmluZ1wiXG4gICAgKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBJc0NoZWNrYm94U2V0dGluZyhzZXR0aW5nOiBTZXR0aW5nKTogc2V0dGluZyBpcyBDaGVja2JveFNldHRpbmdcbntcbiAgICByZXR1cm4gKFxuICAgICAgICBJc0Rpc3BsYXlTZXR0aW5nKHNldHRpbmcpXG4gICAgICAgICYmIChzZXR0aW5nIGFzIENoZWNrYm94U2V0dGluZykudHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICYmIHR5cGVvZiAoc2V0dGluZyBhcyBDaGVja2JveFNldHRpbmcpLnZhbHVlID09PSBcImJvb2xlYW5cIlxuICAgICk7XG59XG5leHBvcnQgZnVuY3Rpb24gSXNPcHRpb25TZXR0aW5nKHNldHRpbmc6IFNldHRpbmcpOiBzZXR0aW5nIGlzIE9wdGlvblNldHRpbmdcbntcbiAgICByZXR1cm4gKFxuICAgICAgICBJc0Rpc3BsYXlTZXR0aW5nKHNldHRpbmcpXG4gICAgICAgICYmIChzZXR0aW5nIGFzIE9wdGlvblNldHRpbmcpLnR5cGUgPT09IFwib3B0aW9uXCJcbiAgICAgICAgJiYgdHlwZW9mIChzZXR0aW5nIGFzIE9wdGlvblNldHRpbmcpLnZhbHVlID09PSBcInN0cmluZ1wiXG4gICAgICAgICYmIEFycmF5LmlzQXJyYXkoKHNldHRpbmcgYXMgT3B0aW9uU2V0dGluZykub3B0aW9ucylcbiAgICAgICAgJiYgdHlwZW9mIChzZXR0aW5nIGFzIE9wdGlvblNldHRpbmcpLmxvb3AgPT09IFwiYm9vbGVhblwiXG4gICAgKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBJc1RleHRTZXR0aW5nKHNldHRpbmc6IFNldHRpbmcpOiBzZXR0aW5nIGlzIFRleHRTZXR0aW5nXG57XG4gICAgcmV0dXJuIChcbiAgICAgICAgSXNEaXNwbGF5U2V0dGluZyhzZXR0aW5nKVxuICAgICAgICAmJiAoc2V0dGluZyBhcyBUZXh0U2V0dGluZykudHlwZSA9PT0gXCJ0ZXh0XCJcbiAgICAgICAgJiYgdHlwZW9mIChzZXR0aW5nIGFzIFRleHRTZXR0aW5nKS52YWx1ZSA9PT0gXCJzdHJpbmdcIlxuICAgICAgICAmJiAodHlwZW9mIChzZXR0aW5nIGFzIFRleHRTZXR0aW5nKS53aWR0aCA9PT0gXCJudW1iZXJcIlxuICAgICAgICAgIHx8IChzZXR0aW5nIGFzIFRleHRTZXR0aW5nKS53aWR0aCA9PT0gbnVsbClcbiAgICAgICAgJiYgKHR5cGVvZiAoc2V0dGluZyBhcyBUZXh0U2V0dGluZykubWF4Q2hhcnMgPT09IFwibnVtYmVyXCJcbiAgICAgICAgICB8fCAoc2V0dGluZyBhcyBUZXh0U2V0dGluZykubWF4Q2hhcnMgPT09IG51bGwpXG4gICAgKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBJc051bWJlclNldHRpbmcoc2V0dGluZzogU2V0dGluZyk6IHNldHRpbmcgaXMgTnVtYmVyU2V0dGluZ1xue1xuICAgIHJldHVybiAoXG4gICAgICAgIElzRGlzcGxheVNldHRpbmcoc2V0dGluZylcbiAgICAgICAgJiYgKHNldHRpbmcgYXMgTnVtYmVyU2V0dGluZykudHlwZSA9PT0gXCJudW1iZXJcIlxuICAgICAgICAmJiB0eXBlb2YgKHNldHRpbmcgYXMgTnVtYmVyU2V0dGluZykudmFsdWUgPT09IFwibnVtYmVyXCJcbiAgICAgICAgJiYgKHR5cGVvZiAoc2V0dGluZyBhcyBOdW1iZXJTZXR0aW5nKS53aWR0aCA9PT0gXCJudW1iZXJcIlxuICAgICAgICAgIHx8IChzZXR0aW5nIGFzIE51bWJlclNldHRpbmcpLndpZHRoID09PSBudWxsKVxuICAgICAgICAmJiB0eXBlb2YgKHNldHRpbmcgYXMgTnVtYmVyU2V0dGluZykubWluID09PSBcIm51bWJlclwiXG4gICAgICAgICYmIHR5cGVvZiAoc2V0dGluZyBhcyBOdW1iZXJTZXR0aW5nKS5tYXggPT09IFwibnVtYmVyXCJcbiAgICAgICAgJiYgKHR5cGVvZiAoc2V0dGluZyBhcyBOdW1iZXJTZXR0aW5nKS5zdGVwID09PSBcIm51bWJlclwiXG4gICAgICAgICAgfHwgKHNldHRpbmcgYXMgTnVtYmVyU2V0dGluZykuc3RlcCA9PT0gbnVsbClcbiAgICApO1xufVxuIiwiaW1wb3J0IHsgTG9jYWxpemVkVGV4dCB9IGZyb20gXCIuLi9sb2NhbGl6YXRpb24vbG9jYWxpemF0aW9uXCI7XG5pbXBvcnQgeyBzZXR0aW5ncyBhcyBjdXJyZW50U2V0dGluZ3MgfSBmcm9tIFwiLi9yZWdpc3Rlck1vZHVsZXNcIjtcbmltcG9ydCB7IEF3YWl0SW5DaGF0Um9vbSwgQXdhaXRQbGF5ZXIsIFNsZWVwIH0gZnJvbSBcIi4vc2RrXCI7XG5pbXBvcnQgeyBTZXR0aW5nU3luYyB9IGZyb20gXCIuLi9tb2R1bGVzL2RhdGFTeW5jXCI7XG5pbXBvcnQgeyBNb2R1bGVUaXRsZSB9IGZyb20gXCIuLi9tb2R1bGVzL19tb2R1bGVcIjtcbmltcG9ydCB7IE1QQV9WRVJTSU9OIH0gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBMZXZlbFN5bmMgfSBmcm9tIFwiLi4vbW9kdWxlcy92aXJ0dWFsUGV0XCI7XG5pbXBvcnQgeyBOb3RpZnlQbGF5ZXIgfSBmcm9tIFwiLi9tZXNzYWdpbmdcIjtcblxuY29uc3QgQ0hBTkdFTE9HX1JBV19TVEFCTEUgPSBcImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9NYXlhVGhlRm94eS9NUEEvcmVmcy9oZWFkcy9tYWluL0NIQU5HRUxPRy5tZFwiO1xuY29uc3QgQ0hBTkdFTE9HX1JBV19ERVYgPSBcImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9NYXlhVGhlRm94eS9NUEEvcmVmcy9oZWFkcy9kZXYvQ0hBTkdFTE9HLm1kXCI7XG5cbmNvbnN0IENIQU5HRUxPR19TVEFCTEUgPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9NYXlhVGhlRm94eS9NUEEvYmxvYi9tYWluL0NIQU5HRUxPRy5tZFwiO1xuY29uc3QgQ0hBTkdFTE9HX0RFViA9IFwiaHR0cHM6Ly9naXRodWIuY29tL01heWFUaGVGb3h5L01QQS9ibG9iL2Rldi9DSEFOR0VMT0cubWRcIjtcblxuY29uc3QgVkVSU0lPTl9TVEFCTEVfUkVHRVggPSAvXlxcZCtcXC5cXGQrXFwuXFxkKyQvO1xuLy8gY29uc3QgVkVSU0lPTl9ERVZfUkVHRVggPSAvXlxcZCtcXC5cXGQrXFwuXFxkK1xcLlxcZCskLztcblxuLyoqXG4gKiBGZXRjaCB0aGUgY2hhbmdlbG9nIGZyb20gdGhlIHJlcG9cbiAqIEByZXR1cm5zXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIEZldGNoTGF0ZXN0Q2hhbmdlbG9nKCk6IFByb21pc2U8dm9pZD5cbntcbiAgICBjb25zdCBpc1N0YWJsZSA9IFZFUlNJT05fU1RBQkxFX1JFR0VYLnRlc3QoTVBBX1ZFUlNJT04pO1xuICAgIGNvbnN0IHVybCA9IGlzU3RhYmxlID8gQ0hBTkdFTE9HX1JBV19TVEFCTEUgOiBDSEFOR0VMT0dfUkFXX0RFVjtcbiAgICB0cnlcbiAgICB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsKTtcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaylcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBNUEE6IEZhaWxlZCB0byBmZXRjaCBDSEFOR0VMT0cubWQ6ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNoYW5nZWxvZyA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgLy8gVXNlIGEgcmVndWxhciBleHByZXNzaW9uIHRvIGV4dHJhY3QgdGhlIGxhdGVzdCByZWxlYXNlIHNlY3Rpb25cbiAgICAgICAgY29uc3QgbWF0Y2hlcyA9IC8jIChcXGQrXFwuXFxkK1xcLlxcZCsoPzpcXC5cXGQrKT8pK1xcbihbXFxzXFxTXSo/KSg/PVxcbiMgfCQpLy5leGVjKGNoYW5nZWxvZyk7XG5cbiAgICAgICAgaWYgKG1hdGNoZXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHZlcnNpb24gPSBtYXRjaGVzWzFdO1xuXG4gICAgICAgICAgICBpZiAodmVyc2lvbiA9PT0gTVBBX1ZFUlNJT04pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hhbmdlcyA9IG1hdGNoZXNbMl0udHJpbSgpO1xuICAgICAgICAgICAgICAgIHdoaWxlICh0cnVlKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgQXdhaXRJbkNoYXRSb29tKCk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IFNsZWVwKDEwMCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChDaGF0Um9vbUNoYXJhY3Rlci5sZW5ndGggPiAwKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBOb3RpZnlQbGF5ZXIoYDxiIHN0eWxlPSd0ZXh0LWFsaWduOmNlbnRlcjt3aWR0aDoxMDAlO2Rpc3BsYXk6YmxvY2snPk1QQSBVcGRhdGVkPC9iPlxuQ3VycmVudCBNUEEgVmVyc2lvbjogJHtNUEFfVkVSU0lPTn1cbkNoYW5nZXMgZnJvbSBwcmV2aW91cyB2ZXJzaW9uOlxuJHtjaGFuZ2VzfVxuPGEgaHJlZj1cIiR7aXNTdGFibGUgPyBDSEFOR0VMT0dfU1RBQkxFIDogQ0hBTkdFTE9HX0RFVn1cIiB0YXJnZXQ9XCJfYmxhbmtcIj5TZWUgRnVsbCBDaGFuZ2Vsb2c8L2E+YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS53YXJuKFwiTVBBOiBDb3VsZCBub3QgZ2V0IHRoZSBsYXRlc3QgTVBBIENoYW5nZWxvZ3NcIik7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcilcbiAgICB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yOiAke2Vycm9yfWApO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gTVBBVXBkYXRlQ2hlY2soc2V0dGluZ3M6IE1QQVJlY29yZHMpOiB2b2lkXG57XG4gICAgaWYgKChzZXR0aW5ncy52ZXJzaW9uIGFzIGFueSkgIT09IE1QQV9WRVJTSU9OKVxuICAgIHtcbiAgICAgICAgY29uc3QgaXNTdGFibGUgPSBWRVJTSU9OX1NUQUJMRV9SRUdFWC50ZXN0KE1QQV9WRVJTSU9OKTtcbiAgICAgICAgU2VydmVyQWNjb3VudEJlZXAoe1xuICAgICAgICAgICAgTWVtYmVyTnVtYmVyOiBQbGF5ZXIuTWVtYmVyTnVtYmVyID8/IC0xLFxuICAgICAgICAgICAgTWVtYmVyTmFtZTogTG9jYWxpemVkVGV4dChcIk1QQVwiKSxcbiAgICAgICAgICAgIENoYXRSb29tU3BhY2U6IFwiWFwiLFxuICAgICAgICAgICAgQ2hhdFJvb21OYW1lOiBMb2NhbGl6ZWRUZXh0KFwiTVBBIFVwZGF0ZWRcIiksXG4gICAgICAgICAgICBQcml2YXRlOiBmYWxzZSxcbiAgICAgICAgICAgIEJlZXBUeXBlOiBcIlwiLFxuICAgICAgICAgICAgTWVzc2FnZTogYE1QQSBoYXMgYmVlbiB1cGRhdGVkLiBTZWUgdGhlIGNoYW5nZWxvZyBoZXJlOlxcbiR7aXNTdGFibGUgPyBDSEFOR0VMT0dfU1RBQkxFIDogQ0hBTkdFTE9HX0RFVn1gXG4gICAgICAgIH0pO1xuICAgICAgICAoc2V0dGluZ3MudmVyc2lvbiBhcyBhbnkpID0gTVBBX1ZFUlNJT047XG4gICAgICAgIFNhdmVTdG9yYWdlKGZhbHNlKTtcbiAgICAgICAgRmV0Y2hMYXRlc3RDaGFuZ2Vsb2coKTtcbiAgICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBMb2FkU3RvcmFnZSgpOiBQcm9taXNlPHZvaWQ+XG57XG4gICAgLy8gRW5zdXJlIHRoZSBwbGF5ZXIgaXMgbG9hZGVkIGJlZm9yZSBhdHRlbXB0aW5nIHRvIHJlYWQgdGhlIGV4dGVudGlvbiBzZXR0aW5nc1xuICAgIGF3YWl0IEF3YWl0UGxheWVyKCk7XG5cbiAgICBjb25zdCBzZXR0aW5nczogTVBBUmVjb3JkcyA9IEpTT04ucGFyc2UoTFpTdHJpbmcuZGVjb21wcmVzc0Zyb21CYXNlNjQoUGxheWVyLkV4dGVuc2lvblNldHRpbmdzPy5NUEEgPz8gXCJcIikgPz8gXCJ7fVwiKSA/PyB7fTtcblxuICAgIE9iamVjdC5lbnRyaWVzKGN1cnJlbnRTZXR0aW5ncykuZm9yRWFjaCgoY2F0ZWdvcnkpID0+XG4gICAge1xuICAgICAgICBjb25zdCBbc2V0dGluZ1RpdGxlLCBjYXRlZ29yeVNldHRpbmdzXSA9IGNhdGVnb3J5IGFzIFtNb2R1bGVUaXRsZSwgTVBBQ2F0ZWdvcnlTZXR0aW5nc107XG4gICAgICAgIGZvciAoY29uc3QgW3NldHRpbmdOYW1lLCBzZXRdIG9mIE9iamVjdC5lbnRyaWVzKGNhdGVnb3J5U2V0dGluZ3MpKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBDcmVhdGUgdGhlIHBsYWNlIGZvciBkYXRhIGlmIGl0IGRvZXMgbm90IGV4aXN0XG4gICAgICAgICAgICBpZiAoIShzZXR0aW5nVGl0bGUgaW4gc2V0dGluZ3MpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNldHRpbmdzW3NldHRpbmdUaXRsZV0gPSB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNldHRpbmcgYWxyZWFkeSBzZXRcbiAgICAgICAgICAgIC8vIFZlcmlmeSBpdCBpcyBnb29kIGRhdGFcbiAgICAgICAgICAgIGlmIChzZXR0aW5nTmFtZSBpbiBzZXR0aW5nc1tzZXR0aW5nVGl0bGVdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIElmIGN1cnJlbnQgdmFsdWUgaXMgbm90IGluIHRoZSBvcHRpb25zXG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAoY3VycmVudFNldHRpbmdzPy5bc2V0dGluZ1RpdGxlXT8uW3NldHRpbmdOYW1lXT8udHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgJiYgdHlwZW9mIHNldHRpbmdzW3NldHRpbmdUaXRsZV1bc2V0dGluZ05hbWVdICE9PSBcImJvb2xlYW5cIilcbiAgICAgICAgICAgICAgICAgICAgfHwgKGN1cnJlbnRTZXR0aW5ncz8uW3NldHRpbmdUaXRsZV0/LltzZXR0aW5nTmFtZV0/LnR5cGUgPT09IFwibnVtYmVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAmJiBpc05hTihzZXR0aW5nc1tzZXR0aW5nVGl0bGVdW3NldHRpbmdOYW1lXSkpXG4gICAgICAgICAgICAgICAgICAgIHx8IChcIm9wdGlvbnNcIiBpbiAoY3VycmVudFNldHRpbmdzPy5bc2V0dGluZ1RpdGxlXT8uW3NldHRpbmdOYW1lXSA/PyB7fSlcbiAgICAgICAgICAgICAgICAgICAgICAmJiAhKChjdXJyZW50U2V0dGluZ3M/LltzZXR0aW5nVGl0bGVdPy5bc2V0dGluZ05hbWVdIGFzIE9wdGlvblNldHRpbmcpPy5vcHRpb25zID8/IFtdKS5pbmNsdWRlcyhzZXR0aW5nc1tzZXR0aW5nVGl0bGVdW3NldHRpbmdOYW1lXSkpXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3Nbc2V0dGluZ1RpdGxlXVtzZXR0aW5nTmFtZV0gPSBzZXQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgTVBBOiBJbnZhbGlkIHNldHRpbmcgb2YgXCIke3NldHRpbmdzW3NldHRpbmdUaXRsZV1bc2V0dGluZ05hbWVdfVwiIGF0ICR7c2V0dGluZ1RpdGxlfS0+JHtzZXR0aW5nTmFtZX0sIHJlc2V0dGluZyB0byBkZWZhdWx0YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0dGluZ3Nbc2V0dGluZ1RpdGxlXVtzZXR0aW5nTmFtZV0gPSBzZXQudmFsdWU7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIENoZWNrIGFuZCBub3RpZnkgaWYgdGhlcmUgaXMgYW4gdXBkYXRlXG4gICAgTVBBVXBkYXRlQ2hlY2soc2V0dGluZ3MpO1xuXG4gICAgUGxheWVyLk1QQSA9IHNldHRpbmdzO1xuICAgIHJldHVybjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFNhdmVTdG9yYWdlKHN5bmNXaXRoT3RoZXJzOiBib29sZWFuID0gdHJ1ZSk6IHZvaWRcbntcbiAgICBpZiAoIVBsYXllci5NUEEgfHwgIVBsYXllci5FeHRlbnNpb25TZXR0aW5ncylcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gUHJ1bmUgc2VsZiBmcm9tIG93bmVyIGxpc3QgaWYgYWRkZWRcbiAgICBQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV0ub3duZXJzID1cbiAgICAgICAgKFBsYXllci5NUEFbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XS5vd25lcnMgYXMgc3RyaW5nKS5zcGxpdChcIixcIilcbiAgICAgICAgICAgIC5maWx0ZXIoKHZhbCkgPT4gTnVtYmVyKHZhbCkgIT09IFBsYXllci5NZW1iZXJOdW1iZXIpLmpvaW4oXCIsXCIpO1xuICAgIFBsYXllci5FeHRlbnNpb25TZXR0aW5ncy5NUEEgPSBMWlN0cmluZy5jb21wcmVzc1RvQmFzZTY0KEpTT04uc3RyaW5naWZ5KFBsYXllci5NUEEpKTtcbiAgICBTZXJ2ZXJQbGF5ZXJFeHRlbnNpb25TZXR0aW5nc1N5bmMoXCJNUEFcIik7XG4gICAgaWYgKHN5bmNXaXRoT3RoZXJzKVxuICAgIHtcbiAgICAgICAgU2V0dGluZ1N5bmMoZmFsc2UpO1xuICAgIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFJlc2V0U3RvcmFnZSgpOiBQcm9taXNlPHZvaWQ+XG57XG4gICAgZGVsZXRlIChQbGF5ZXIuRXh0ZW5zaW9uU2V0dGluZ3MgYXMgYW55KS5NUEE7XG4gICAgUGxheWVyLkV4dGVuc2lvblNldHRpbmdzLk1QQSA9IExaU3RyaW5nLmNvbXByZXNzVG9CYXNlNjQoSlNPTi5zdHJpbmdpZnkoeyB2ZXJzaW9uOiBNUEFfVkVSU0lPTiB9KSk7XG4gICAgYXdhaXQgTG9hZFN0b3JhZ2UoKTtcbiAgICBTYXZlU3RvcmFnZSgpO1xuICAgIHJldHVybjtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEV4cG9ydFNldHRpbmdzVG9DbGlwYm9hcmQoKTogUHJvbWlzZTx2b2lkPlxue1xuICAgIHJldHVybiBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChMWlN0cmluZy5jb21wcmVzc1RvQmFzZTY0KEpTT04uc3RyaW5naWZ5KFBsYXllci5NUEEpKSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBJbXBvcnRTZXR0aW5nc0Zyb21DbGlwYm9hcmQoKTogUHJvbWlzZTx2b2lkPlxue1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PlxuICAgIHtcbiAgICAgICAgbmF2aWdhdG9yLmNsaXBib2FyZC5yZWFkVGV4dCgpLnRoZW4oKHRleHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHRyeVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IG5ld1NldHRpbmdzOiBNUEFSZWNvcmRzID0gSlNPTi5wYXJzZShMWlN0cmluZy5kZWNvbXByZXNzRnJvbUJhc2U2NCh0ZXh0ID8/IFwiXCIpID8/IFwie31cIik7XG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgbG9jYWxseSBjb3B5IHRvIG1vZGlmeSBpbiBjYXNlIGl0IGZhaWxzIGFuZCBuZWVkIHRvIHJldmVydFxuICAgICAgICAgICAgICAgIC8vIFRyYW5zYWN0aW9uIGhhcHBlbnMgb3Igbm90IGF0IGFsbFxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTZXR0aW5nczogTVBBUmVjb3JkcyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoUGxheWVyLk1QQSkpO1xuXG4gICAgICAgICAgICAgICAgLy8gVmlydHVhbCBwZXQgbGV2ZWxzIHdpbGwgYmUgcmVwbGFjZWQgYW55d2F5LCBzZXQgY3VycmVudCB0aW1lIHNvIG5vdyB0byBub3QgaW50ZXJmZXIgd2l0aCBzeW5jaW5nIGxhdGVyXG4gICAgICAgICAgICAgICAgY3VycmVudFNldHRpbmdzW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdLmxldmVscy5sYXN0VXBkYXRlZCA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgY3VycmVudFNldHRpbmdzW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdLmxldmVscy5sYXN0T25saW5lID0gRGF0ZS5ub3coKTtcblxuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG5ld1NldHRpbmdzKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1NldHRpbmdzW2tleV0gIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gT25seSB1cGRhdGUgdGhlIHZhbHVlIGlmIHRoZSBuZXdSZWNvcmQga2V5IGV4aXN0cyBhbmQgaXMgbm90IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFNldHRpbmdzW2tleSBhcyBrZXlvZiBNUEFSZWNvcmRzXSA9IG5ld1NldHRpbmdzW2tleV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBWZXJpZnkgbmV3IHNldHRpbmdzIGFyZSBnb29kXG4gICAgICAgICAgICAgICAgLy8gSWYgYmFkIGRhdGEgIHJldHVybiByZWplY3QoKTtcblxuICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgbGV2ZWxzIHVwZGF0ZSBzbyB0aGF0IHRoZXkgcmV0YWluIHRoZSBzYW1lIHZhbHVlIHdoZW4gc2F2ZWQgYWZ0ZXIgc3luY2luZyBhZ2FpblxuICAgICAgICAgICAgICAgIGN1cnJlbnRTZXR0aW5nc1tNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XS5sZXZlbHMubGFzdFVwZGF0ZWQgPSBEYXRlLm5vdygpIC0gKGN1cnJlbnRTZXR0aW5nc1tNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XS5sZXZlbHMubGFzdE9ubGluZSAtIGN1cnJlbnRTZXR0aW5nc1tNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XS5sZXZlbHMubGFzdFVwZGF0ZWQpO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRTZXR0aW5nc1tNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XS5sZXZlbHMubGFzdE9ubGluZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICAgICAgUGxheWVyLk1QQSA9IGN1cnJlbnRTZXR0aW5ncztcbiAgICAgICAgICAgICAgICBMZXZlbFN5bmMoZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG5cbiAgICAgICAgICAgICAgICBTYXZlU3RvcmFnZSh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oZXJyb3IpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUoKTtcbiAgICAgICAgfSwgKCkgPT4gcmVqZWN0KCkpO1xuICAgIH0pO1xufVxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0ICYmIGRvY3VtZW50LmN1cnJlbnRTY3JpcHQudGFnTmFtZS50b1VwcGVyQ2FzZSgpID09PSAnU0NSSVBUJylcblx0XHRzY3JpcHRVcmwgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyYztcblx0aWYgKCFzY3JpcHRVcmwpIHtcblx0XHR2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuXHRcdGlmKHNjcmlwdHMubGVuZ3RoKSB7XG5cdFx0XHR2YXIgaSA9IHNjcmlwdHMubGVuZ3RoIC0gMTtcblx0XHRcdHdoaWxlIChpID4gLTEgJiYgKCFzY3JpcHRVcmwgfHwgIS9eaHR0cChzPyk6Ly50ZXN0KHNjcmlwdFVybCkpKSBzY3JpcHRVcmwgPSBzY3JpcHRzW2ktLV0uc3JjO1xuXHRcdH1cblx0fVxufVxuLy8gV2hlbiBzdXBwb3J0aW5nIGJyb3dzZXJzIHdoZXJlIGFuIGF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgeW91IG11c3Qgc3BlY2lmeSBhbiBvdXRwdXQucHVibGljUGF0aCBtYW51YWxseSB2aWEgY29uZmlndXJhdGlvblxuLy8gb3IgcGFzcyBhbiBlbXB0eSBzdHJpbmcgKFwiXCIpIGFuZCBzZXQgdGhlIF9fd2VicGFja19wdWJsaWNfcGF0aF9fIHZhcmlhYmxlIGZyb20geW91ciBjb2RlIHRvIHVzZSB5b3VyIG93biBsb2dpYy5cbmlmICghc2NyaXB0VXJsKSB0aHJvdyBuZXcgRXJyb3IoXCJBdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlclwiKTtcbnNjcmlwdFVybCA9IHNjcmlwdFVybC5yZXBsYWNlKC9eYmxvYjovLCBcIlwiKS5yZXBsYWNlKC8jLiokLywgXCJcIikucmVwbGFjZSgvXFw/LiokLywgXCJcIikucmVwbGFjZSgvXFwvW15cXC9dKyQvLCBcIi9cIik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBzY3JpcHRVcmw7IiwiaW1wb3J0IHsgUmVnaXN0ZXJNb2R1bGVzIH0gZnJvbSBcIi4vdXRpbC9yZWdpc3Rlck1vZHVsZXNcIjtcbmltcG9ydCB7IEJ1aWxkQWxsQ29tbWFuZHMgfSBmcm9tIFwiLi9jb21tYW5kcy9idWlsZEFsbENvbW1hbmRzXCI7XG5pbXBvcnQgeyBNUEFfVkVSU0lPTiB9IGZyb20gXCIuL3V0aWwvY29uc3RhbnRzXCI7XG5cbi8vIFRlc3RpbmcgZm9yIExvY2FsaXphdGlvbiwgZW5zdXJpbmcgYWxsIGZpZWxkcyBpbiB0aGUgdGVtcGxhdGVcbi8vIGltcG9ydCB7IFNldHRpbmdUZXN0IH0gZnJvbSBcIi4vX3Rlc3RzL3NldHRpbmdzTGFiZWxzXCI7XG4vLyBTZXR0aW5nVGVzdCgpO1xuLy8gaW1wb3J0IHsgQWN0aXZpdGllc1Rlc3QgfSBmcm9tIFwiLi9fdGVzdHMvYWN0aXZpdGllc1RleHRcIjtcbi8vIEFjdGl2aXRpZXNUZXN0KCk7XG5cbmNvbnNvbGUubG9nKFwiTG9hZGluZyBNYXlhJ3MgUGV0cGxheSBBZGRpdGlvbnNcIik7XG5cbkJ1aWxkQWxsQ29tbWFuZHMoKTtcblJlZ2lzdGVyTW9kdWxlcygpO1xud2luZG93Lk1QQSA9IHtcbiAgICB2ZXJzaW9uOiBNUEFfVkVSU0lPTixcbiAgICBtZW51TG9hZGVkOiBmYWxzZVxufTtcbiJdLCJuYW1lcyI6WyJvIiwiZSIsImFsZXJ0IiwiRXJyb3IiLCJjb25zb2xlIiwiZXJyb3IiLCJ0IiwiVGV4dEVuY29kZXIiLCJuIiwiQXJyYXkiLCJpc0FycmF5IiwiciIsIlNldCIsImZpbHRlciIsImhhcyIsImFkZCIsImkiLCJNYXAiLCJhIiwiYyIsIndhcm4iLCJzIiwiZiIsInZhbHVlcyIsInBhdGNoaW5nIiwiZ2V0IiwibmFtZSIsInB1c2giLCJob29rcyIsInBhdGNoZXMiLCJlbnRyaWVzIiwic2V0Iiwic29ydCIsInByaW9yaXR5Iiwic2l6ZSIsInRvU3RyaW5nIiwicmVwbGFjZUFsbCIsImluY2x1ZGVzIiwiZXZhbCIsIm9yaWdpbmFsIiwibSIsImVycm9yUmVwb3J0ZXJIb29rcyIsImhvb2tDaGFpbkV4aXQiLCJjYWxsIiwiYXBwbHkiLCJ0aGlzIiwibGVuZ3RoIiwiaG9va0VudGVyIiwibW9kIiwiaG9vayIsImFyZ3VtZW50cyIsInBhdGNoZXNTb3VyY2VzIiwiZW50ZXIiLCJmaW5hbCIsImwiLCJwcmVjb21wdXRlZCIsIndpbmRvdyIsInNwbGl0Iiwic2xpY2UiLCJqb2luIiwiZW5jb2RlIiwicGFkU3RhcnQiLCJ0b1VwcGVyQ2FzZSIsImQiLCJvcmlnaW5hbEhhc2giLCJPYmplY3QiLCJhc3NpZ24iLCJyb3V0ZXIiLCJjb250ZXh0IiwiY29udGV4dFByb3BlcnR5IiwicCIsInNka0VudHJ5cG9pbnQiLCJjdXJyZW50RW50cnlwb2ludCIsImhvb2tlZEJ5TW9kcyIsIm1hcCIsInBhdGNoZWRCeU1vZHMiLCJmcm9tIiwidSIsImRlbGV0ZSIsImxvYWRlZCIsImciLCJmdWxsTmFtZSIsInZlcnNpb24iLCJyZXBvc2l0b3J5IiwiYWxsb3dSZXBsYWNlIiwiYXBpRW5kcG9pbnRFbnRlciIsInVubG9hZCIsImhvb2tGdW5jdGlvbiIsImluZGV4T2YiLCJzcGxpY2UiLCJwYXRjaEZ1bmN0aW9uIiwicmVtb3ZlUGF0Y2hlcyIsImNsZWFyIiwiY2FsbE9yaWdpbmFsIiwiZ2xvYmFsVGhpcyIsImdldE9yaWdpbmFsSGFzaCIsImFwaSIsImZyZWV6ZSIsImgiLCJ5IiwiYmNNb2RTZGsiLCJhcGlWZXJzaW9uIiwicmVnaXN0ZXJNb2QiLCJnZXRNb2RzSW5mbyIsImdldFBhdGNoaW5nSW5mbyIsInNlYWwiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIkJPV0xfU0VMRl9URVhUIiwiQk9XTF9PVEhFUl9URVhUIiwiSXNCZWQiLCJiZWQiLCJrZXlzIiwiQ3JhZnRpbmdWYWxpZGF0ZSIsIkNyYWZ0aW5nU3RhdHVzVHlwZSIsIk9LIiwiQUxMX0JFRFMiLCJJdGVtIiwiTmFtZSIsInRvTG9jYWxlTG93ZXJDYXNlIiwiR2l2ZUJlZFRleHQiLCJjaGFyYWN0ZXIiLCJQbGF5ZXIiLCJNZW1iZXJOdW1iZXIiLCJTZW5kQWN0aW9uIiwidW5kZWZpbmVkIiwiU291cmNlQ2hhcmFjdGVyIiwiVGFyZ2V0Q2hhcmFjdGVyIiwiVXNlQmVkIiwiSW52ZW50b3J5R2V0IiwiSW52ZW50b3J5R3JvdXBJc0Jsb2NrZWRGb3JDaGFyYWN0ZXIiLCJzYXZlZEJlZCIsIkpTT04iLCJwYXJzZSIsIkxaU3RyaW5nIiwiZGVjb21wcmVzc0Zyb21CYXNlNjQiLCJNUEEiLCJNb2R1bGVUaXRsZSIsIlByaXZhdGUiLCJJbnZlbnRvcnlXZWFyIiwiQ29sb3IiLCJoYWlyQ29sb3IiLCJDaGF0Um9vbUNoYXJhY3Rlckl0ZW1VcGRhdGUiLCJHaXZlQmVkIiwidW5hYmxlVG9HaXZlQmVkIiwiQ2FuSW50ZXJhY3QiLCJTZXJ2ZXJDaGF0Um9vbUdldEFsbG93SXRlbSIsIk1QQU5vdGlmeVBsYXllciIsIk5pY2tuYW1lIiwiTm90aWZ5UGxheWVyIiwiQmVkIiwiQ29tbWFuZENvbWJpbmUiLCJUYWciLCJEZXNjcmlwdGlvbiIsIkFjdGlvbiIsIl9hcmdzIiwibXNnIiwiX3BhcnNlZCIsImFyZyIsImV4ZWMiLCJjaGFyIiwiRmluZENoYXJhY3RlckluUm9vbSIsIlNhdmVTdG9yYWdlIiwiQXNzZXQiLCJQcm9wZXJ0eSIsIlR5cGVSZWNvcmQiLCJ0eXBlZCIsIk51bWJlciIsIkNoYXRSb29tQ2hhcmFjdGVyVXBkYXRlIiwiSG9va0Z1bmN0aW9uIiwiYXJncyIsIm5leHQiLCJkYXRhIiwiVHlwZSIsIkNvbnRlbnQiLCJHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkiLCJEaWN0aW9uYXJ5Iiwic29tZSIsImN1cnIiLCJUZXh0IiwiQk9XTF9SRUdFWCIsIklzQm93bCIsImJvd2wiLCJHaXZlQm93bFRleHQiLCJVc2VCb3dsIiwic2F2ZWRCb3dsIiwiSXRlbVByb3BlcnR5IiwidGVzdCIsInN1YnN0cmluZyIsIkdpdmVCb3dsIiwidW5hYmxlVG9HaXZlQm93bCIsIkJvd2wiLCJCdWlsZEFsbENvbW1hbmRzIiwidHJhbnNsYXRpb25zIiwiUlUiLCJDTiIsIkxvY2FsaXplZFRleHQiLCJ0ZXh0IiwidHJhbnNsYXRlZFRleHQiLCJUcmFuc2xhdGlvbkxhbmd1YWdlIiwiTW9kdWxlVGl0bGVQdWJsaWNpdHkiLCJVbmtub3duIiwiQXV0aG9yaXR5IiwiQWN0aXZpdGllcyIsIkNsaWNrZXIiLCJTZXR0aW5ncyIsIlZpcnR1YWxQZXQiLCJWaXJ0dWFsUGV0SFVEIiwiVmlydHVhbFBldENvbmRpdGlvbnMiLCJEYXRhU3luYyIsIlByb2ZpbGUiLCJTZXR0aW5nc090aGVyIiwiTW9kdWxlSXNQdWJsaWMiLCJtb2R1bGVUaXRsZSIsIk1vZHVsZSIsIlRpdGxlIiwiU3luY0xpc3RlbmVycyIsIkxvYWQiLCJDcmVhdGVBY3Rpdml0aWVzIiwiQWRkRGF0YVN5bmNMaXN0ZW5lcnMiLCJVbmxvYWQiLCJSZW1vdmVIb29rcyIsIlJlbW92ZUFjdGl2aXRpZXMiLCJSZW1vdmVEYXRhU3luY0xpc3RlbmVycyIsIlJlbG9hZCIsIlJlY2lldmVCZWxsIiwic291cmNlIiwidGFyZ2V0IiwiX2dyb3VwIiwiX2RhdGEiLCJBdWRpb1NldHRpbmdzIiwiUGxheUl0ZW0iLCJQbGF5SXRlbVBsYXllck9ubHkiLCJCRUxMX1NPVU5EIiwicGxheSIsIlBBV19UT09MVElQIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic3JjIiwiSUNPTlMiLCJQQVciLCJzdHlsZSIsInBvc2l0aW9uIiwicmlnaHQiLCJib3R0b20iLCJ3aWR0aCIsImhlaWdodCIsIkFjdGl2aXRpZXNNb2R1bGUiLCJNYXhQcm9ncmVzcyIsIlByZXJlcXVpc2l0ZSIsIkN1c3RvbVByZXJlcXVpc2l0ZSIsIl9hY3RpbmciLCJhY3RlZCIsIlRhcmdldHMiLCJncm91cCIsImxhYmVsIiwiYWN0aW9uU2VsZiIsImFjdGlvbk90aGVycyIsIkltYWdlIiwiT25SZWNlaXZlIiwiY2xpdFBpZXJjaW5nIiwia2V5d29yZCIsInN1cGVyIiwicHJlcmVxIiwiYWN0aW5nIiwiYWN0aXZpdHlQcmVyZXF1aXNpdGVzIiwiYWN0aXZpdHlOYW1lIiwiZmluZCIsIngiLCJBY3Rpdml0eU5hbWUiLCJzdGFydHNXaXRoIiwiQUNUSVZJVFlfTkFNRV9QUkVGSVgiLCJBY3Rpdml0eURpY3Rpb25hcnlUZXh0IiwiYWN0aXZpdHlUcmlnZ2VycyIsInRhcmdldE51bWJlciIsIkNoYXRSb29tQ2hhcmFjdGVyIiwiYWN0aXZpdHlSZWNlaXZlZCIsInNvdXJjZUNoYXIiLCJOaWNrTmFtZSIsInRhcmdldENoYXIiLCJBY3Rpdml0eSIsImlzTVBBQWN0aXZpdHkiLCJhY3Rpdml0eUltYWdlcyIsImltYWdlIiwiYnV0dG9uRWxlbWVudCIsImFwcGVuZENoaWxkIiwiY2xvbmVOb2RlIiwiUGxheWVyUCIsIkMiLCJJc0hhcmRjb3JlT24iLCJoYXJkY29yZSIsIkF1dGhvcml0eU1vZHVsZSIsInR5cGUiLCJhY3RpdmUiLCJtYXhDaGFycyIsIm9wdGlvbnMiLCJBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUyIsImxvb3AiLCJvdGhlcnNQcm9maWxlIiwib25TZXQiLCJzZWxmUHJvZmlsZSIsIkFMTF9DTElDS1MiLCJBdWRpbyIsIlBsYXllckMiLCJDbGlja0NvdW50Iiwic3RyIiwidG90YWxDbGlja3MiLCJ0cmlnZ2VycyIsInRyaW0iLCJmb3JFYWNoIiwidHJpZ2dlciIsIm1hdGNoIiwiUmVnRXhwIiwiUGxheUNsaWNrZXJTb3VuZCIsIm51bWJlck9mQ2xpY2tzIiwiaXNOYU4iLCJlbmFibGVkIiwiTWF0aCIsIm1pbiIsImJjeEhvb2tlZCIsIkhvb2tCQ1hDbGlja2VyIiwiYmN4Rm91bmQiLCJiY3hBUEkiLCJvbiIsIm1lc3NhZ2UiLCJwcmVmaXgiLCJiY3hWb2ljZSIsIkNsaWNrZXJNb2R1bGUiLCJoYXNCZWVuTG9hZGVkIiwiX2FjdGVkIiwiYXV0aGVkR3JvdXAiLCJzZWxmQXV0aGVkIiwiU2VuZGVyIiwiSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cCIsImNsaWNrcyIsInNlYXJjaFRhZyIsIlJlbW92ZU9PQ0NvbnRlbnRGcm9tTWVzc2FnZSIsInJlZHVjZSIsImFjYyIsIml0ZW0iLCJpbnZlcnZhbCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsIlNldHRpbmdTeW5jIiwicmVwbHkiLCJzZXR0aW5ncyIsInN0cnVjdHVyZWRDbG9uZSIsIlNlbmRNUEFNZXNzYWdlIiwiQ2F0ZWdvcnlTeW5jIiwiY2F0ZWdvcnkiLCJSZWNvcmRTeW5jIiwicmVjb3JkIiwiUmVjb3Jkc1N5bmMiLCJyZWNvcmRzIiwiRGF0YVN5bmNNb2R1bGUiLCJtb2R1bGUiLCJhY3Rpb24iLCJzZW5kZXIiLCJjb250ZW50IiwiR2V0TVBBTWVzc2FnZUZyb21DaGF0IiwiaG9va2VkTWVzc2FnZXMiLCJkZWFmZW5Qcm9jZXNzIiwiUHJpdmF0ZU1vZHVsZSIsImVmZmVjdHMiLCJpZ25vcmVPT0MiLCJoYWREZWFmZW4iLCJlZmZlY3QiLCJvdXRwdXQiLCJpbnRlbnNpdHkiLCJTcGVlY2hUcmFuc2Zvcm1EZWFmZW5JbnRlbnNpdHkiLCJTcGVlY2hUcmFuc2Zvcm1HYWdHYXJibGUiLCJCRUxMUyIsImF1ZGlvIiwidm9sdW1lIiwiR2V0UmVjb3JkIiwidGl0bGUiLCJHQVJCTEVfUEhSQVNFUyIsIkh1bWFuIiwiQ3VzdG9tIiwiQnVubnkiLCJDYXQiLCJDb3ciLCJEb2ciLCJGb3giLCJNb3VzZSIsIlBvbnkiLCJXb2xmIiwiR2V0QWxsb3dlZFBldEdhcmJsZVBocmFzZXMiLCJwcm9maWxlIiwiYmFubmVkQkNYV29yZHMiLCJnZXRSdWxlU3RhdGUiLCJjdXN0b21EYXRhIiwiYmFubmVkV29yZHMiLCJwZXRQaHJhc2VzIiwiYmN4U3BlYWtpbmciLCJtYW5kYXRvcnlXb3JkcyIsImdhcmJsZVBocmFzZXMiLCJHZXRQZXRHYXJibGVQaHJhc2VzIiwiRmlsdGVyQXJyYXlGcm9tQXJyYXkiLCJwaHJhc2UiLCJQRVRfSEVBUklORyIsIkFsbCIsIlNldFByb2ZpbGVUeXBlIiwicHJldlZhbHVlIiwiZWxlSUQiLCJFbGVtZW50TmFtZSIsImN1c3RvbUdhcmJsZVBocmFzZXMiLCJnZXRFbGVtZW50QnlJZCIsIkVsZW1lbnRWYWx1ZSIsIlNldEJDWFNwZWFrIiwid29yZHMiLCJHQUdHSU5HX1NUUkVOR1RIX01BUCIsIkxvdyIsIk1lZGl1bSIsIkhpZ2giLCJNYXgiLCJNT1ZFTUVOVF9SRUdFWCIsIkJFTExfSklOR0xFX0NIQU5DRSIsIk9mZiIsIlBsYXllck1vdmVkQmVsbEppbmdsZSIsIm1hcE9yUG9zZSIsImJlbGxzIiwiY291bnQiLCJjbGl0IiwiZ2FnIiwiTnVtYmVyT2ZCZWxsc1dvcm4iLCJyYW5kb20iLCJiZWxsSmluZ2xlIiwiUmFuZG9tRWxlbWVudCIsIlByb2ZpbGVNb2R1bGUiLCJfY29udGVudCIsInBldFNwZWFraW5nIiwiSXNQbGF5ZXIiLCJub0hhbmRzIiwiZm9vZE5PVyIsInRpbnQiLCJwYXNzb3V0IiwiYWZmZWN0aW9uU2tpbGxCdWZmcyIsImFmZmVjdGlvblNraWxsRGVidWZmcyIsImhlYXJpbmdMb3NzIiwic2xvd0xlYXZlIiwib3JnYXNtV2F0ZXIiLCJvcmdhc21TbGVlcCIsInBldEdhZ2dpbmciLCJTcGVlY2hUcmFuc2Zvcm1BbGxFZmZlY3RzIiwiSXNHYWdnZWQiLCJJc0RlYWYiLCJwZXRIZWFyaW5nIiwiQXBwbHlQZXRIZWFyaW5nIiwiY29uY2F0IiwiR2V0UGV0SGVhcmluZ1BocmFzZXMiLCJDb21tYW5kc0tleSIsImNoYXJBdCIsInNwZWFrIiwiTm9uRGlzcnVwdGl2ZVBldFNwZWVjaCIsInBldEdhZ2dpbmdPcHRpb24iLCJwaHJhc2VzIiwic3RyZW5ndGgiLCJwZXRHYWdnaW5nU3RyZW5ndGgiLCJEaXNydXB0aXZlUGV0U3BlZWNoIiwicG9zZUJlZm9yZSIsIlBvc2UiLCJwb3NlTWFwcGluZ0JlZm9yZSIsIlBvc2VNYXBwaW5nIiwicG9zZSIsIkJvZHlMb3dlciIsInRyYW5zZm9ybSIsInNldHRpbmdzRWRpdGVkIiwic2V0dGluZ0NoYXIiLCJTZXRTZXR0aW5nQ2hhciIsIkNBTlZBU19XSURUSCIsIkVYSVRfUE9TSVNUSU9OIiwiQlVUVE9OX01BWF9OVU1CRVIiLCJCVVRUT05fV0lEVEgiLCJCVVRUT05fSEVJR0hUIiwiQlVUVE9OX1RPUCIsIkJVVFRPTl9MRUZUIiwiQlVUVE9OX0dBUCIsIkJVVFRPTl9URVhUX1BBRERJTkciLCJXSUtJX1BPU0lUSU9OIiwiV0lLSV9MSU5LIiwiRElTQ09SRF9JTlZJVEUiLCJESVNDT1JEX1BPU0lUSU9OIiwiUkVTRVRfUE9TSVRJT04iLCJBTEVSVF9QT1NJVElPTiIsInNob3dTZXR0aW5nc0FsZXJ0Iiwic2V0dGluZ3NBbGVydFRleHQiLCJJTVBPUlRfUE9TSVRJT04iLCJFWFBPUlRfUE9TSVRJT04iLCJSRVNFVF9DT05GSVJNX1BPU0lUSU9OIiwiUkVTRVRfQ0FOQ0VMX1BPU0lUSU9OIiwiVkVSU0lPTl9URVhUIiwiTUVOVV9DQVRFR09SSUVTIiwiTUVOVV9USVRMRVMiLCJjdXJyZW50TWVudSIsInNldHRpbmdzT3BlbiIsImFsbG93UmVzZXRUaW1lIiwiR2V0Q2xpY2tlZE1lbnUiLCJtZW51T3B0aW9ucyIsIk1vdXNlSW4iLCJmbG9vciIsIkRyYXdCdXR0b24iLCJPUFRJT05fUEVSX1BBR0UiLCJPUFRJT05fSEVJR0hUIiwiT1BUSU9OX1RPUCIsIk9QVElPTl9MRUZUIiwiT1BUSU9OX0dBUCIsIk9QVElPTl9DSEVDS0JPWF9TSVpFIiwiT1BUSU9OX0JBQ0tfTkVYVF9XSURUSCIsIk9QVElPTl9URVhUX1dJRFRIIiwiT1BUSU9OX1RFWFRfTUFYX0NIQVJTIiwiY3VycmVudFBhZ2UiLCJtYXhQYWdlcyIsIk5FWFRfQlVUVE9OX1BPUyIsIlBSRVZfQlVUVE9OX1BPUyIsIkRyYXdTdWJNZW51T3B0aW9ucyIsInN1Yk1lbnUiLCJzZXR0aW5nc1RvRGlzcGxheSIsImtleSIsInNldHRpbmciLCJJc0Rpc3BsYXlTZXR0aW5nIiwidmFsIiwic2V0dGluZ05hbWUiLCJkaXNhYmxlZFNldHRpbmciLCJib3VuZEFjY2Vzc1NlbGYiLCJib3VuZEFjY2Vzc090aGVycyIsIklzQ2hlY2tib3hTZXR0aW5nIiwiRHJhd0NoZWNrYm94IiwiR2V0UHJvbm91bnMiLCJJc09wdGlvblNldHRpbmciLCJpbmRleCIsIm9wdExlbiIsInByb2ZpbGVPckV4Y2x1ZGVzIiwicHJldkRpc2FibGVkIiwiQXV0aG9yaXR5SXNDb21wYXJpc29uVG9DaGFyYWN0ZXIiLCJuZXh0RGlzYWJsZWQiLCJEcmF3QmFja05leHRCdXR0b24iLCJEcmF3VGV4dEZpdCIsImNlaWwiLCJJc1RleHRTZXR0aW5nIiwiSXNOdW1iZXJTZXR0aW5nIiwiaWQiLCJFbGVtZW50UG9zaXRpb25GaXhlZCIsIkVsZW1lbnRTZXRBdHRyaWJ1dGUiLCJFbGVtZW50UmVtb3ZlQXR0cmlidXRlIiwiRXhpdEJ1dHRvblByZXNzZWQiLCJtZW51TG9hZGVkIiwiUHJlZmVyZW5jZU1lbnVFeGl0IiwiVXBkYXRlQW5kRGVsZXRlSFRNTEVsZW1lbnRzIiwiUHJlZmVyZW5jZU1lbnVDbGljayIsIm9wZW4iLCJmb2N1cyIsIkRhdGUiLCJub3ciLCJJbXBvcnRTZXR0aW5nc0Zyb21DbGlwYm9hcmQiLCJ0aGVuIiwiZmluYWxseSIsIkV4cG9ydFNldHRpbmdzVG9DbGlwYm9hcmQiLCJDcmVhdGVIVE1MRWxlbWVudHMiLCJHZXRDbGlja2VkT3B0aW9uIiwiUmVzZXRTdG9yYWdlIiwiUmVzZXRNZW51Q2xpY2siLCJQcmVmZXJlbmNlTWVudVJ1biIsInByZXZUZXh0QWxpZ24iLCJNYWluQ2FudmFzIiwidGV4dEFsaWduIiwiRHJhd1RleHQiLCJSZXNldE1lbnVSdW4iLCJESVNDT1JEIiwiRHJhd01lbnVPcHRpb25zIiwiTGV2ZWxTeW5jIiwiUHJlZmVyZW5jZVN1YnNjcmVlbkV4dGVuc2lvbnNDbGVhciIsIlBsYXllclByZWZlcmVuY2VNZW51TG9hZCIsInBhZ2UiLCJFbGVtZW50Q3JlYXRlSW5wdXQiLCJtYXgiLCJzdGVwIiwiRWxlbWVudFJlbW92ZSIsIlNldHRpbmdzTW9kdWxlIiwiRXNjYXBlSGFuZGxlciIsImV2ZW50Iiwic3RvcFByb3BhZ2F0aW9uIiwiUHJlZmVyZW5jZVJlZ2lzdGVyRXh0ZW5zaW9uU2V0dGluZyIsIklkZW50aWZpZXIiLCJCdXR0b25UZXh0IiwiY2xpY2siLCJydW4iLCJleGl0IiwibG9hZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJNUEFfUkVNT1RFIiwiTVBBX1JFTU9URV9CQ1giLCJWRVJTSU9OX1RFWFRfU0VMRiIsIlZFUlNJT05fVEVYVF9PVEhFUiIsIkFycmF5c0VxdWFsIiwiYXJyMSIsImFycjIiLCJldmVyeSIsIk9iamVjdERpZmZlcmVuY2VzIiwib2xkT2JqIiwibmV3T2JqIiwiZGlmZmVyZW5jZXMiLCJvbGQiLCJuZXciLCJvbGRWYWx1ZSIsIm5ld1ZhbHVlIiwiZGlmZiIsIlNldHRpbmdzT3RoZXJNb2R1bGUiLCJ2cEVuYWJsZWQiLCJjaGFuZ2VkU2V0dGluZ3MiLCJsZXZlbHMiLCJwcmV2aW91c0F1dGhvcml0eSIsInN0cmluZ2lmeSIsIm5ld0F1dGhvcml0eSIsImVudHJ5IiwibW9kdWxlRGlmZiIsImxhc3RVcGRhdGVkIiwicmVwbGFjZSIsIkFycmF5VG9SZWFkYWJsZVN0cmluZyIsInNldHRpbmdzTm90aWZ5IiwiYmN4IiwiaW5CY3hTdWJzY3JlZW4iLCJMU0NHX1JFTU9URV9XSU5ET1dfT1BFTiIsIkluZm9ybWF0aW9uU2hlZXRTZWxlY3Rpb24iLCJhY2Nlc3MiLCJNQVhfU0VUVElOR19USU1FX0hPVVJTIiwiUGxheWVyVlAiLCJCT1dMX0NPTlNVTUVfUkVDT1ZFUlkiLCJJVEVNX0NPTlVNRV9SRUNPVkVSWSIsIkFDVElWSVRJRVNfRk9PRF9HQUlOIiwiQUNUSVZJVElFU19XQVRFUl9HQUlOIiwiRU1PVElDT05TX1NMRUVQIiwiQUZGRUNUSU9OX0FDVElWSVRZX0xPVkUiLCJBRkZFQ1RJT05fQUNUSVZJVFlfTElLRSIsIkFGRkVDVElPTl9BQ1RJVklUWV9NQVNPIiwiQUZGRUNUSU9OX1pPTkVfQUZGRUNUSU9OIiwiSXRlbUFybXMiLCJJdGVtQm9vdHMiLCJJdGVtQnJlYXN0IiwiSXRlbUJ1dHQiLCJJdGVtRWFycyIsIkl0ZW1GZWV0IiwiSXRlbUhhbmRzIiwiSXRlbUhlYWQiLCJJdGVtTGVncyIsIkl0ZW1Nb3V0aCIsIkl0ZW1OZWNrIiwiSXRlbU5pcHBsZXMiLCJJdGVtTm9zZSIsIkl0ZW1QZWx2aXMiLCJJdGVtVG9yc28iLCJJdGVtVnVsdmEiLCJJdGVtVnVsdmFQaWVyY2luZ3MiLCJNSU5fT0ZGTElORV9EUkFJTl9MRVZFTCIsImxhc3RPbmxpbmVJbnRlcnZhbCIsIlNFWF9QRVRfQUNUSVZJVElFUyIsIlNFWF9QRVRfQUNUSVZJVElFU19PVEhFUiIsIlNFWF9QRVRfUkVHSU9OUyIsIlNFWF9QRVRfUkVDT1ZFUlkiLCJwZXJmb3JtZWRPcmFsT24iLCJTRVhfUEVUX0RSSU5LIiwiRkVNQUxFIiwiTUFMRSIsIklzU2xlZXBpbmdFeHByZXNzaW9uIiwiQXBwZWFyYW5jZSIsIkdyb3VwIiwiRXhwcmVzc2lvbiIsIklzQmVkTXVsdGlwbGllciIsImRldmljZSIsIkJFRF9QRVJGRUNUIiwiQkVEX05PUk1BTCIsIkJFRF9CQUQiLCJwbGF5ZXJTbGVlcGluZ0V4cHJlc3Npb24iLCJwbGF5ZXJCZWRNdWx0aXBsaWVyIiwiU2xlZXBDaGFuZ2VDaGVjayIsInN5bmMiLCJzbGVlcEhvdXJzIiwiSG91clRvTVMiLCJob3VycyIsIkNhbGN1bGF0ZUN1cnJlbnRWYWx1ZSIsImR1cmF0aW9uIiwibGFzdE9ubGluZSIsImZpcnN0UnVuQ2hlY2siLCJjdXJyZW50VmFsdWUiLCJkaWZmMiIsIm5ld1ZhbHVlMiIsIkdldENoYXJhY3RlckN1cnJlbnRTdGF0VmFsdWUiLCJzdGF0IiwiY2hhclN0YXRzIiwibHZsIiwic2xlZXAiLCJwdXNoVG9TdG9yYWdlIiwicmVjb3JkU3luYyIsImZpcnN0U3luYyIsInVwZGF0ZSIsIm9ubGluZSIsIm9mZmxpbmVEcmFpbiIsImZvb2QiLCJmb29kSG91cnMiLCJ3YXRlciIsIndhdGVySG91cnMiLCJkdXJhdGlvblRvVXNlIiwibmV3U2xlZXAiLCJhZmZlY3Rpb24iLCJhZmZlY3Rpb25Ib3VycyIsIkNhbk5vbSIsInNleFBldCIsInNleFBldE9ubHkiLCJDYW5TZXgiLCJNb2RpZnlTdGF0IiwiYW1vdW50IiwiYXBwbHlNb2RpZmllciIsInN0b3JhZ2VQdXNoIiwibW9kaWZpZXIiLCJJc093bmVyIiwiSXNMb3Zlck9mUGxheWVyIiwiSXNGYW1pbHlPZlBsYXllciIsIkNhblRhbGsiLCJEeW5hbWljR3JvdXBOYW1lIiwiQm9keUZ1bGwiLCJudW1zIiwic3VtIiwibnVtIiwiU3RhdE1vZGlmaWVyIiwibGV2ZWwiLCJWZXJpZnlWYWxpZFN0YXQiLCJWaXJ0dWFsUGV0TW9kdWxlIiwiT25UcmlnZ2VyIiwiSXNNb3V0aEJsb2NrZWQiLCJhY3Rpdml0eSIsIkFjdGl2aXR5RmVtYWxlM0RDRyIsIk9SR0FTTV9BQ1RJVklUWV9SRUdFWCIsInNvdXJjZUNoYXJhY3RlciIsIkhhc1BlbmlzIiwiZ3JvdXBNdWx0IiwibWFzb2NoaXN0IiwiUGxheWVyVlBDIiwiQ29uZGl0aW9uSXNFbmZvcmNlZCIsImNvbmRpdGlvbiIsInZwU3RhdE5lZWRUb0JlRW5hYmxlZCIsIkFGRkVDVElPTl9TS0lMTFMiLCJwcmV2aW91c1N0YXRzIiwib25TdGF0TGV2ZWwiLCJzdGF0Q291bnQiLCJDb25kaXRpb25DaGVjayIsImN1cnJWYWx1ZSIsImNoYW5nZUV2ZW50IiwiZmlyc3RSdW4iLCJjaGFuZ2UiLCJ0aHJlc2hob2xkIiwiU0xFRVBfVElOVCIsIlBBU1NFRF9PVVQiLCJwYXNzZWRPdXQiLCJOT1QiLCJQQVNTT1VUX1RBTEtfUkVQTEFDRSIsIk1QQVBhc3NvdXQiLCJMU0NHIiwiZ2V0TW9kdWxlIiwiU2xlZXBTdGF0ZSIsIkFjdGl2ZSIsInBhc3NvdXRMU0NHIiwiQWN0aXZhdGUiLCJDaGFyYWN0ZXJTZXRGYWNpYWxFeHByZXNzaW9uIiwiQ2FuS25lZWwiLCJQb3NlU2V0QWN0aXZlIiwiSXNQYXNzZWRPdXQiLCJMU1NHIiwiYWZmZWN0aW9uQ2hlY2tJbnRlcnZhbCIsIkFmZmVjdGlvblNraWxsQ2hlY2siLCJza2lsbCIsImFmZmVjdGlvbk1vZGlmaWVyIiwicm91bmQiLCJwcmV2TW9kIiwiU2tpbGxHZXRNb2RpZmllciIsIlNraWxsR2V0TW9kaWZpZXJEdXJhdGlvbiIsIlNraWxsU2V0TW9kaWZpZXIiLCJWaXJ0dWFsUGV0Q29uZGl0aW9uc01vZHVsZSIsInNjYWxlZFZhbHVlIiwiYiIsInNxcnQiLCJJbmplY3Rvck1vZHVsZSIsInNlZGF0aXZlTGV2ZWwiLCJNaXNjTW9kdWxlIiwiY2hsb3JvZm9ybUVuYWJsZWQiLCJSZWNvdmVyIiwiTVBBV2FrZXVwIiwiR2FtZXBsYXlTZXR0aW5ncyIsIlNlbnNEZXBDaGF0TG9nIiwiZGVhZkxldmVsIiwiU2tpbGxNb2RpZmllck1heCIsInNraWxsRHVyYXRpb25NUyIsInByZXZTbG93IiwiQ2hhdFJvb21TbG93dGltZXIiLCJjdXJyRm9vZCIsIkN1cnJlbnRUaW1lIiwiQ2hhdFJvb21TbG93TGVhdmVNaW5UaW1lIiwiUGxheWVyVlBIVUQiLCJWUF9TVEFUX0NPTE9SX0RJQ1QiLCJEcmF3U3RhdENpcmNsZSIsInJhZGl1cyIsImNvbG9yIiwiYmVnaW5QYXRoIiwiYXJjIiwiUEkiLCJsaW5lV2lkdGgiLCJzdHJva2VTdHlsZSIsInN0cm9rZSIsImxpbmVUbyIsImZpbGxTdHlsZSIsImZpbGwiLCJleGFjdFN0YXRzIiwiZm9udCIsIkNvbW1vbkdldEZvbnQiLCJmaWxsVGV4dCIsIlNob3VsZERyYXdIdWQiLCJ6b29tIiwiQWN0aXZpdHlBbGxvd2VkIiwic2VsZiIsIm90aGVycyIsImNoYXJhY3RlclZQU3RhdHMiLCJzdGF0cyIsInBvcyIsInJldmVyc2UiLCJzdGF0TGVuIiwiY29scyIsImNvbCIsInN0YXRJbmRleCIsIkRyYXdWaXJ1YWxQZXRIdWQiLCJWaXJ0dWFsUGV0SFVETW9kdWxlIiwiZm9yY2VEcmF3IiwiQ3JlYXRlQWN0aXZpdHkiLCJjdXN0b21BY3Rpdml0eSIsIkFjdGl2aXR5SUQiLCJUYXJnZXQiLCJjdXN0b21QcmVyZXF1aXNpdGVzIiwibmV3UHJlcmVxdWlzaXRlIiwiVGFyZ2V0U2VsZiIsIkFjdGl2aXR5RGljdGlvbmFyeSIsIkFjdGl2aXR5RmVtYWxlM0RDR09yZGVyaW5nIiwiY3VzdG9tQWN0aXZpdGllcyIsIlJlbW92ZUFjdGl2aXR5IiwiQVVUSE9SSVRZX0dST1VQX1BSSU9fT1JERVIiLCJBVVRIT1JJVFlfR1JPVVBTIiwiU2VsZiIsIkNsdWJvd25lciIsIk93bmVyc2hpcCIsIk93bmVycyIsIm93bmVycyIsInBhcnNlSW50IiwiTG92ZXJzIiwiTG92ZXJzaGlwIiwibG92ZXIiLCJXaGl0ZUxpc3QiLCJGcmllbmRMaXN0IiwibWVtYmVyTnVtYmVyIiwiYXV0aEdyb3VwIiwiYWxsb3dTZWxmIiwiQmxhY2tMaXN0IiwiR2hvc3RMaXN0IiwiYXV0aENoZWNrIiwiSGlnaGVzdExldmVsQXV0aG9yaXR5R3JvdXAiLCJjb21wYXJpc29uIiwicmFuayIsImdyb3VwSW5kZXgiLCJyYW5rSW5kZXgiLCJNUEFfTkFNRSIsInRvTG9jYWxlVXBwZXJDYXNlIiwiTVBBX1ZFUlNJT04iLCJNUEFfUkVQTyIsInVybCIsImFycmF5IiwiZmlsdGVyQXJyYXkiLCJuZXdBcnJheSIsImVsZSIsImJhZEVsZSIsIlNodWZmbGVBcnJheSIsImoiLCJDb250ZW50SXNNUEFNZXNhZ2UiLCJTZXJ2ZXJTZW5kIiwiZGljdGlvbmFyeSIsIlNlbmRFbW90ZSIsInRpbWVvdXQiLCJkYXJrVGhlbWUiLCJDaGF0U2V0dGluZ3MiLCJDb2xvclRoZW1lIiwiQ2hhdFJvb21TZW5kTG9jYWwiLCJzZWFyY2giLCJTcGVlY2hHZXRPT0NSYW5nZXMiLCJyYW5nZSIsInN0YXJ0IiwiQWRkRGF0YVN5bmNMaXN0ZW5lciIsImxpc3RlbmVyIiwibGlzdGVuZXJzIiwiR2V0RW50cnlGcm9tQ2hhdERpY3Rpb25hcnkiLCJhdHRyaWJ1dGUiLCJfZXJyb3IiLCJhcnIiLCJMSU5LX1JFR0VYIiwiQXBwZW5kUGV0U3BlZWNoIiwicGV0U291bmQiLCJwaHJhc2VzVG9LZWVwIiwiZm91bmRQaHJhc2VzIiwicmVnRXhwIiwibWF0Y2hBbGwiLCJsZW4iLCJ1bmlxdWVSYW5nZXMiLCJsYXN0SW5kZXgiLCJmaW5hbFRleHQiLCJmb3VuZCIsIlJVU0hFRF9TUEVBS19QRVJDRU5UQUdFIiwiUEVUX1NQRUFLX1NUUkVOR1RIX01BUCIsIlBFVF9TUEVBS19FTkRfUEVSQ0VOVEFHRSIsImFsbG93ZWRQZXRQaHJhc2VzIiwicGV0UGhyYXNlQnVja2V0IiwiR2V0UGV0UGhyYXNlIiwicG9wIiwibmV4dEluZGV4Iiwic2VnbWVudHMiLCJvb2NSYW5nZXMiLCJvb2MiLCJsYXN0Qml0Iiwib2JqIiwidHJhaWxpbmdXaGl0ZXNwYWNlIiwid29yZFN0ZW5ndGgiLCJlbmRTdGVuZ3RoIiwic3BlYWtSZXF1aXJlZCIsInNwb2tlUGV0IiwibmV3TXNnIiwic2VnbWVudCIsInNwbGl0UGhyYXNlIiwicHJldmlvdXNXb3JkIiwid29yZCIsIm5vUHJldiIsImVuZHNXaXRoIiwicGV0UGhyYXNlIiwibW9kdWxlc1JlZ2lzdGVyZWQiLCJtb2R1bGVzIiwiYXN5bmMiLCJSZWdpc3Rlck1vZHVsZXMiLCJtb2RTZXQiLCJuZXdTZXR0aW5ncyIsIkxvYWRTdG9yYWdlIiwibW9kQVBJIiwiZnVuY3Rpb25OYW1lIiwicmVtb3ZlSG9vayIsIkF3YWl0UGxheWVyIiwiRXh0ZW5zaW9uU2V0dGluZ3MiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJBd2FpdEluQ2hhdFJvb20iLCJTbGVlcCIsIm1zIiwiZ2V0TW9kQXBpIiwiQ0hBTkdFTE9HX1JBV19TVEFCTEUiLCJDSEFOR0VMT0dfUkFXX0RFViIsIkNIQU5HRUxPR19TVEFCTEUiLCJDSEFOR0VMT0dfREVWIiwiVkVSU0lPTl9TVEFCTEVfUkVHRVgiLCJNUEFVcGRhdGVDaGVjayIsImlzU3RhYmxlIiwiU2VydmVyQWNjb3VudEJlZXAiLCJNZW1iZXJOYW1lIiwiQ2hhdFJvb21TcGFjZSIsIkNoYXRSb29tTmFtZSIsIkJlZXBUeXBlIiwiTWVzc2FnZSIsInJlc3BvbnNlIiwiZmV0Y2giLCJvayIsInN0YXR1c1RleHQiLCJjaGFuZ2Vsb2ciLCJtYXRjaGVzIiwiY2hhbmdlcyIsIkZldGNoTGF0ZXN0Q2hhbmdlbG9nIiwic2V0dGluZ1RpdGxlIiwiY2F0ZWdvcnlTZXR0aW5ncyIsInN5bmNXaXRoT3RoZXJzIiwiY29tcHJlc3NUb0Jhc2U2NCIsIlNlcnZlclBsYXllckV4dGVuc2lvblNldHRpbmdzU3luYyIsIm5hdmlnYXRvciIsImNsaXBib2FyZCIsIndyaXRlVGV4dCIsInJlamVjdCIsInJlYWRUZXh0IiwiY3VycmVudFNldHRpbmdzIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkZWZpbml0aW9uIiwiZW51bWVyYWJsZSIsIkZ1bmN0aW9uIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJzY3JpcHRVcmwiLCJpbXBvcnRTY3JpcHRzIiwibG9jYXRpb24iLCJjdXJyZW50U2NyaXB0IiwidGFnTmFtZSIsInNjcmlwdHMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImxvZyJdLCJzb3VyY2VSb290IjoiIn0=