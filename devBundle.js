/*! For license information please see devBundle.js.LICENSE.txt */
(()=>{var e={"./node_modules/bondage-club-mod-sdk/dist/bcmodsdk.js":(e,t)=>{!function(){"use strict";const e="1.2.0";function o(e){alert("Mod ERROR:\n"+e);const t=new Error(e);throw console.error(t),t}const r=new TextEncoder;function n(e){return!!e&&"object"==typeof e&&!Array.isArray(e)}function i(e){const t=new Set;return e.filter((e=>!t.has(e)&&t.add(e)))}const a=new Map,l=new Set;function s(e){l.has(e)||(l.add(e),console.warn(e))}function u(e){const t=[],o=new Map,r=new Set;for(const n of h.values()){const i=n.patching.get(e.name);if(i){t.push(...i.hooks);for(const[t,a]of i.patches.entries())o.has(t)&&o.get(t)!==a&&s(`ModSDK: Mod '${n.name}' is patching function ${e.name} with same pattern that is already applied by different mod, but with different pattern:\nPattern:\n${t}\nPatch1:\n${o.get(t)||""}\nPatch2:\n${a}`),o.set(t,a),r.add(n.name)}}t.sort(((e,t)=>t.priority-e.priority));const n=function(e,t){if(0===t.size)return e;let o=e.toString().replaceAll("\r\n","\n");for(const[r,n]of t.entries())o.includes(r)||s(`ModSDK: Patching ${e.name}: Patch ${r} not applied`),o=o.replaceAll(r,n);return(0,eval)(`(${o})`)}(e.original,o);let i=function(t){var o,i;const a=null===(i=(o=y.errorReporterHooks).hookChainExit)||void 0===i?void 0:i.call(o,e.name,r),l=n.apply(this,t);return null==a||a(),l};for(let o=t.length-1;o>=0;o--){const r=t[o],n=i;i=function(t){var o,i;const a=null===(i=(o=y.errorReporterHooks).hookEnter)||void 0===i?void 0:i.call(o,e.name,r.mod),l=r.hook.apply(this,[t,e=>{if(1!==arguments.length||!Array.isArray(t))throw new Error(`Mod ${r.mod} failed to call next hook: Expected args to be array, got ${typeof e}`);return n.call(this,e)}]);return null==a||a(),l}}return{hooks:t,patches:o,patchesSources:r,enter:i,final:n}}function c(e,t=!1){let o=a.get(e);if(o)t&&(o.precomputed=u(o));else{let t=window;const i=e.split(".");for(let o=0;o<i.length-1;o++)if(t=t[i[o]],!n(t))throw new Error(`ModSDK: Function ${e} to be patched not found; ${i.slice(0,o+1).join(".")} is not object`);const l=t[i[i.length-1]];if("function"!=typeof l)throw new Error(`ModSDK: Function ${e} to be patched not found`);const s=function(e){let t=-1;for(const o of r.encode(e)){let e=255&(t^o);for(let t=0;t<8;t++)e=1&e?-306674912^e>>>1:e>>>1;t=t>>>8^e}return(~t>>>0).toString(16).padStart(8,"0").toUpperCase()}(l.toString().replaceAll("\r\n","\n")),c={name:e,original:l,originalHash:s};o=Object.assign(Object.assign({},c),{precomputed:u(c),router:()=>{},context:t,contextProperty:i[i.length-1]}),o.router=function(e){return function(...t){return e.precomputed.enter.apply(this,[t])}}(o),a.set(e,o),t[o.contextProperty]=o.router}return o}function d(){for(const e of a.values())e.precomputed=u(e)}function m(){const e=new Map;for(const[t,o]of a)e.set(t,{name:t,original:o.original,originalHash:o.originalHash,sdkEntrypoint:o.router,currentEntrypoint:o.context[o.contextProperty],hookedByMods:i(o.precomputed.hooks.map((e=>e.mod))),patchedByMods:Array.from(o.precomputed.patchesSources)});return e}const h=new Map;function v(e){h.get(e.name)!==e&&o(`Failed to unload mod '${e.name}': Not registered`),h.delete(e.name),e.loaded=!1,d()}function f(e,t){e&&"object"==typeof e||o("Failed to register mod: Expected info object, got "+typeof e),"string"==typeof e.name&&e.name||o("Failed to register mod: Expected name to be non-empty string, got "+typeof e.name);let r=`'${e.name}'`;"string"==typeof e.fullName&&e.fullName||o(`Failed to register mod ${r}: Expected fullName to be non-empty string, got ${typeof e.fullName}`),r=`'${e.fullName} (${e.name})'`,"string"!=typeof e.version&&o(`Failed to register mod ${r}: Expected version to be string, got ${typeof e.version}`),e.repository||(e.repository=void 0),void 0!==e.repository&&"string"!=typeof e.repository&&o(`Failed to register mod ${r}: Expected repository to be undefined or string, got ${typeof e.version}`),null==t&&(t={}),t&&"object"==typeof t||o(`Failed to register mod ${r}: Expected options to be undefined or object, got ${typeof t}`);const i=!0===t.allowReplace,a=h.get(e.name);a&&(a.allowReplace&&i||o(`Refusing to load mod ${r}: it is already loaded and doesn't allow being replaced.\nWas the mod loaded multiple times?`),v(a));const l=e=>{let t=m.patching.get(e.name);return t||(t={hooks:[],patches:new Map},m.patching.set(e.name,t)),t},s=(e,t)=>(...n)=>{var i,a;const l=null===(a=(i=y.errorReporterHooks).apiEndpointEnter)||void 0===a?void 0:a.call(i,e,m.name);m.loaded||o(`Mod ${r} attempted to call SDK function after being unloaded`);const s=t(...n);return null==l||l(),s},u={unload:s("unload",(()=>v(m))),hookFunction:s("hookFunction",((e,t,n)=>{"string"==typeof e&&e||o(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof e}`);const i=c(e),a=l(i);"number"!=typeof t&&o(`Mod ${r} failed to hook function '${e}': Expected priority number, got ${typeof t}`),"function"!=typeof n&&o(`Mod ${r} failed to hook function '${e}': Expected hook function, got ${typeof n}`);const s={mod:m.name,priority:t,hook:n};return a.hooks.push(s),d(),()=>{const e=a.hooks.indexOf(s);e>=0&&(a.hooks.splice(e,1),d())}})),patchFunction:s("patchFunction",((e,t)=>{"string"==typeof e&&e||o(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof e}`);const i=c(e),a=l(i);n(t)||o(`Mod ${r} failed to patch function '${e}': Expected patches object, got ${typeof t}`);for(const[n,i]of Object.entries(t))"string"==typeof i?a.patches.set(n,i):null===i?a.patches.delete(n):o(`Mod ${r} failed to patch function '${e}': Invalid format of patch '${n}'`);d()})),removePatches:s("removePatches",(e=>{"string"==typeof e&&e||o(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof e}`);const t=c(e);l(t).patches.clear(),d()})),callOriginal:s("callOriginal",((e,t,n)=>{"string"==typeof e&&e||o(`Mod ${r} failed to call a function: Expected function name string, got ${typeof e}`);const i=c(e);return Array.isArray(t)||o(`Mod ${r} failed to call a function: Expected args array, got ${typeof t}`),i.original.apply(null!=n?n:globalThis,t)})),getOriginalHash:s("getOriginalHash",(e=>("string"==typeof e&&e||o(`Mod ${r} failed to get hash: Expected function name string, got ${typeof e}`),c(e).originalHash)))},m={name:e.name,fullName:e.fullName,version:e.version,repository:e.repository,allowReplace:i,api:u,loaded:!0,patching:new Map};return h.set(e.name,m),Object.freeze(u)}function p(){const e=[];for(const t of h.values())e.push({name:t.name,fullName:t.fullName,version:t.version,repository:t.repository});return e}let y;const g=void 0===window.bcModSdk?window.bcModSdk=function(){const t={version:e,apiVersion:1,registerMod:f,getModsInfo:p,getPatchingInfo:m,errorReporterHooks:Object.seal({apiEndpointEnter:null,hookEnter:null,hookChainExit:null})};return y=t,Object.freeze(t)}():(n(window.bcModSdk)||o("Failed to init Mod SDK: Name already in use"),1!==window.bcModSdk.apiVersion&&o(`Failed to init Mod SDK: Different version already loaded ('1.2.0' vs '${window.bcModSdk.version}')`),window.bcModSdk.version!==e&&alert(`Mod SDK warning: Loading different but compatible versions ('1.2.0' vs '${window.bcModSdk.version}')\nOne of mods you are using is using an old version of SDK. It will work for now but please inform author to update`),window.bcModSdk);Object.defineProperty(t,"__esModule",{value:!0}),t.default=g}()},"./src/commands/bed.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{Bed:()=>m});var r=o("./src/util/storage.ts"),n=o("./src/modules/_module.ts"),i=o("./src/util/constants.ts"),a=o("./src/util/messaging.ts"),l=o("./src/util/sdk.ts");function s(e){var t,o;return CraftingValidate(e)===CraftingStatusType.OK&&(i.ALL_BEDS.includes(e.Item)||(null===(o=null===(t=null==e?void 0:e.Name)||void 0===t?void 0:t.toLocaleLowerCase())||void 0===o?void 0:o.includes("bed")))}function u(e=Player){e.MemberNumber===Player.MemberNumber?(0,a.SendAction)("SourceCharacter crawls into PronounPossessive bed.",void 0,[{SourceCharacter:Player.MemberNumber}]):((0,a.SendMPAMessage)({message:"bedTuck"},e.MemberNumber),(0,a.SendAction)("SourceCharacter tucks TargetCharacter into bed.",void 0,[{SourceCharacter:Player.MemberNumber},{TargetCharacter:e.MemberNumber}]))}function c(){var e;if(InventoryGet(Player,"ItemDevices")||InventoryGroupIsBlockedForCharacter(Player,"ItemDevices"))return;const t=JSON.parse(LZString.decompressFromBase64(Player.MPA[n.ModuleTitle.Private].savedBed||"")||"{}")||{};if(s(t))InventoryWear(Player,t.Item,"ItemDevices",t.Color.split(","),0,Player.MemberNumber,t,!1);else{const t=null===(e=InventoryGet(Player,"HairFront"))||void 0===e?void 0:e.Color;InventoryWear(Player,"PetBed","ItemDevices",[t[0],"Default",t[t.length-1]],0,Player.MemberNumber,void 0,!1)}ChatRoomCharacterItemUpdate(Player,"ItemDevices")}function d(e=Player){var t;const o=InventoryGet(e,"ItemDevices")||InventoryGroupIsBlockedForCharacter(e,"ItemDevices");return e.MemberNumber!==Player.MemberNumber?ServerChatRoomGetAllowItem(Player,e)?e.MPA&&(null===(t=e.MPA)||void 0===t?void 0:t.version)===Player.MPA.version?o?((0,a.MPANotifyPlayer)(`Unable to tuck ${e.Nickname||e.Name} into bed`,3e4),!1):(u(e),!0):((0,a.MPANotifyPlayer)(`${e.Nickname||e.Name} does not have MPA, unable to give bed`,3e4),!1):((0,a.NotifyPlayer)("MPA: No BC item permission",3e4),!1):o?((0,a.MPANotifyPlayer)("Unable to crawl into bed",3e4),!1):(c(),u(e),!0)}function m(){CommandCombine([{Tag:"bed",Description:"Crawl into bed without needing hands",Action:(e,t,o)=>{var i;const l=(null!==(i=/^(\S+)\s*(.*)$/.exec(t))&&void 0!==i?i:["","",""])[2];if(l){const e=(0,a.FindCharacterInRoom)(l);if(e)return void d(e);return s(JSON.parse(LZString.decompressFromBase64(l)||"{}")||{})?(Player.MPA[n.ModuleTitle.Private].savedBed=l,(0,r.SaveStorage)(!1),void(0,a.MPANotifyPlayer)("Bed saved")):void(0,a.MPANotifyPlayer)("Invalid argument given!")}d(Player)}},{Tag:"blanket",Description:"Pull the blanket over yourself",Action:()=>{var e,t,o,r;const n=InventoryGet(Player,"ItemDevices");"PetBed"===(null==n?void 0:n.Asset.Name)&&(0===(null===(t=null===(e=n.Property)||void 0===e?void 0:e.TypeRecord)||void 0===t?void 0:t.typed)||1===(null===(r=null===(o=n.Property)||void 0===o?void 0:o.TypeRecord)||void 0===r?void 0:r.typed))?(n.Property.TypeRecord.typed=Number(!n.Property.TypeRecord.typed),ChatRoomCharacterUpdate(Player),1===n.Property.TypeRecord.typed?(0,a.SendAction)("SourceCharacter pulls a blanket over PronounObject.",void 0,[{SourceCharacter:Player.MemberNumber}]):(0,a.SendAction)("SourceCharacter removes the blanket from on top of PronounObject.",void 0,[{SourceCharacter:Player.MemberNumber}])):(0,a.MPANotifyPlayer)("Unable to pull the blanket over yourself.",2e4)}}]),(0,l.HookFunction)(null,"ChatRoomMessage",100,((e,t)=>{var o;const r=e[0];return"Activity"===r.Type&&"MayaScript"===r.Content&&(0,a.GetAttributeFromChatDictionary)(r,"TargetCharacter")===Player.MemberNumber&&(null===(o=r.Dictionary)||void 0===o?void 0:o.some((e=>"MISSING ACTIVITY DESCRIPTION FOR KEYWORD MayaScript"===(null==e?void 0:e.Tag)&&"SourceCharacter tucks TargetCharacter into bed."===(null==e?void 0:e.Text))))&&c(),t(e)}))}},"./src/commands/buildAllCommands.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{BuildAllCommands:()=>n});var r=o("./src/commands/bed.ts");function n(){(0,r.Bed)()}},"./src/localization/localization.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{LocalizedText:()=>n});const r={template:o("./src/localization/template.json"),RU:o("./src/localization/RU.json")};function n(e){var t;const o=null===(t=null==r?void 0:r[TranslationLanguage])||void 0===t?void 0:t[e];return o&&""!==o?o:e}},"./src/modules/_module.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{Module:()=>l,ModuleTitle:()=>r});var r,n=o("./src/util/sdk.ts"),i=o("./src/util/activities.ts"),a=o("./src/util/messaging.ts");!function(e){e.Unknown="Unknown",e.Authority="Authority",e.Activities="Activities",e.Clicker="Clicker",e.Settings="Settings",e.VirtualPet="VirtualPet",e.VirtualPetHUD="VirtualPetHud",e.VirtualPetConditions="VirtualPetConditions",e.DataSync="DataSync",e.Profile="Profile",e.SettingsOther="SettingsOther",e.Private="Private"}(r||(r={}));class l{get Title(){return r.Unknown}get Activities(){return[]}get Settings(){return[]}get SyncListeners(){return[]}Load(){(0,i.CreateActivities)(this.Activities),(0,a.AddDataSyncListeners)(this.SyncListeners)}Unload(){(0,n.RemoveHooks)(this.Title),(0,i.RemoveActivities)(this.Activities),(0,a.RemoveDataSyncListeners)(this.Title)}Reload(){this.Unload(),this.Load()}}},"./src/modules/activities.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ActivitiesModule:()=>u});var r=o("./src/modules/_module.ts"),n=o("./src/util/messaging.ts"),i=o("./src/util/activities.ts"),a=o("./src/util/sdk.ts"),l=o("./src/util/constants.ts");const s=(e,t,o,r)=>{var n;!(null===(n=Player.AudioSettings)||void 0===n?void 0:n.PlayItem)||Player.AudioSettings.PlayItemPlayerOnly&&(null==e?void 0:e.MemberNumber)!==Player.MemberNumber&&(null==t?void 0:t.MemberNumber)!==Player.MemberNumber||l.BELL_SOUND.play()};class u extends r.Module{get Title(){return r.ModuleTitle.Activities}get Activities(){return[{Name:"FlickBell",MaxProgress:50,Prerequisite:["UseHands"],CustomPrerequisite:{Name:"HasBellCollar",Prerequisite:(e,t,o)=>{var r,n,i,a,l,s,u,c;return(null===(a=null===(i=null===(n=null===(r=InventoryGet(t,"ItemNeck"))||void 0===r?void 0:r.Asset)||void 0===n?void 0:n.Name)||void 0===i?void 0:i.toLocaleLowerCase())||void 0===a?void 0:a.includes("bell"))||(null===(c=null===(u=null===(s=null===(l=InventoryGet(t,"ItemNeckAccessories"))||void 0===l?void 0:l.Asset)||void 0===s?void 0:s.Name)||void 0===u?void 0:u.toLocaleLowerCase())||void 0===c?void 0:c.includes("bell"))||!1}},Targets:[{group:"ItemNeck",label:"Flick Bell",actionSelf:"SourceCharacter flicks the bell on PronounPossessive collar.",actionOthers:"SourceCharacter flicks the bell on TargetCharacter's collar."}],Image:"Assets\\Female3DCG\\ItemNeckAccessories\\Preview\\CollarBell.png",OnReceive:s},{Name:"FlickBell2",MaxProgress:50,Prerequisite:["UseHands"],CustomPrerequisite:{Name:"HasBellNipples",Prerequisite:(e,t,o)=>{var r,n,i,a,l;return null!==(l=null===(a=null===(i=null===(n=null===(r=InventoryGet(t,"ItemNipples"))||void 0===r?void 0:r.Asset)||void 0===n?void 0:n.Name)||void 0===i?void 0:i.toLocaleLowerCase())||void 0===a?void 0:a.includes("bell"))&&void 0!==l&&l}},Targets:[{group:"ItemNipples",label:"Flick Bell",actionSelf:"SourceCharacter flicks the bells on PronounPossessive nipples.",actionOthers:"SourceCharacter flicks the bells on TargetCharacter's nipples."}],Image:"Assets\\Female3DCG\\ItemNipples\\Preview\\BellClamps.png",OnReceive:s}]}Load(){super.Load(),(0,a.HookFunction)(this.Title,"ActivityCheckPrerequisite",1,((e,t)=>{const[o,r,n,a]=e;return Object.keys(i.activityPrerequisites).includes(o)?i.activityPrerequisites[o](r,n,a):t(e)})),(0,a.HookFunction)(this.Title,"ServerSend",1,((e,t)=>{var o,r,n,a,s,u;const c=e[1];if("ChatRoomChat"!==e[0]||"Activity"!==(null==c?void 0:c.Type))return t(e);const d=null===(r=null===(o=null==c?void 0:c.Dictionary)||void 0===o?void 0:o.find((e=>e.ActivityName)))||void 0===r?void 0:r.ActivityName;if((null==d?void 0:d.startsWith(l.ACTIVITY_NAME_PREFIX))&&(null===(n=null==c?void 0:c.Dictionary)||void 0===n||n.push({Tag:"MISSING ACTIVITY DESCRIPTION FOR KEYWORD "+c.Content,Text:ActivityDictionaryText(c.Content)}),Object.keys(i.activityTriggers).includes(d))){const e=null!==(u=null===(s=null===(a=null==c?void 0:c.Dictionary)||void 0===a?void 0:a.find((e=>e.TargetCharacter)))||void 0===s?void 0:s.TargetCharacter)&&void 0!==u?u:-1,t=null===ChatRoomCharacter||void 0===ChatRoomCharacter?void 0:ChatRoomCharacter.find((t=>t.MemberNumber===e));i.activityTriggers[d](t)}return t(e)})),(0,a.HookFunction)(r.ModuleTitle.Clicker,"ChatRoomMessage",0,((e,t)=>{var o,r;t(e);const a=e[0];if("Activity"===a.Type){const e=(0,n.GetAttributeFromChatDictionary)(a,"ActivityName");if(!(null==e?void 0:e.startsWith(l.ACTIVITY_NAME_PREFIX))||!(e in i.activityReceived))return;const t=null!==(o=(0,n.FindCharacterInRoom)((0,n.GetAttributeFromChatDictionary)(a,"SourceCharacter"),{MemberNumber:!0,NickName:!1,Name:!1}))&&void 0!==o?o:void 0,s=null!==(r=(0,n.FindCharacterInRoom)((0,n.GetAttributeFromChatDictionary)(a,"TargetCharacter"),{MemberNumber:!0,NickName:!1,Name:!1}))&&void 0!==r?r:void 0,u=(0,n.GetAttributeFromChatDictionary)(a,"FocusGroupName");i.activityReceived[e](t,s,u,a)}})),(0,a.HookFunction)(this.Title,"ElementButton.CreateForActivity",0,((e,t)=>{const o=e[1].Activity.Name;return Object.keys(i.activityImages).includes(o)&&(e[4]||(e[4]={}),e[4].image=i.activityImages[o]),t(e)}))}Unload(){super.Unload()}}},"./src/modules/authority.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{AuthorityModule:()=>l,IsHardcoreOn:()=>a});var r=o("./src/util/authority.ts"),n=o("./src/modules/_module.ts");const i=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[n.ModuleTitle.Authority])&&void 0!==o?o:{}};function a(e){var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[n.ModuleTitle.Authority].hardcore)&&void 0!==o&&o}class l extends n.Module{get Title(){return n.ModuleTitle.Authority}get Settings(){return[{name:"owners",type:"text",active:()=>!0,value:"",label:"Owner member numbers; Seperated by a ,",maxChars:1024,width:400},{name:"boundAccessSelf",type:"checkbox",active:()=>!0,value:!0,label:"Allow TargetCharacter changing TargetPronounPossessive own settings while bound"},{name:"boundAccessOthers",type:"checkbox",active:()=>!0,value:!1,label:"Allow TargetCharacter changing the settings of others while bound"},{name:"selfAuthority",type:"checkbox",active:()=>!0,value:!0,label:"Allow TargetCharacter to change TargetPronounPossessive Authority settings"},{name:"othersAuthority",type:"option",active:()=>!0,options:r.AUTHORITY_GROUP_OPTIONS,value:"Clubowner",label:"Allow others to change TargetCharacter's Authority settings",loop:!1},{name:"selfProfile",type:"checkbox",active:e=>"Self"!==i(e).othersProfile,value:!0,label:"Allow TargetCharacter to change TargetPronounPossessive Profile settings"},{name:"othersProfile",type:"option",active:()=>!0,options:r.AUTHORITY_GROUP_OPTIONS,value:"Clubowner",label:"Allow others to change TargetCharacter's Profile settings",loop:!1,onSet(e){i(e).selfProfile=!0}},{name:"selfClicker",type:"checkbox",active:()=>!0,value:!0,label:"Allow TargetCharacter to change TargetPronounPossessive Clicker settings"},{name:"othersClicker",type:"option",active:()=>!0,options:r.AUTHORITY_GROUP_OPTIONS,value:"Clubowner",label:"Allow others to change TargetCharacter's Clicker settings",loop:!1},{name:"selfVirtualPet",type:"checkbox",active:()=>!0,value:!0,label:"Allow TargetCharacter to change TargetPronounPossessive Virtual Pet settings"},{name:"othersVirtualPet",type:"option",active:()=>!0,options:r.AUTHORITY_GROUP_OPTIONS,value:"Clubowner",label:"Allow others to change TargetCharacter's Virtual Pet settings",loop:!1},{name:"selfVirtualPetConditions",type:"checkbox",active:()=>!0,value:!0,label:"Allow TargetCharacter to change TargetPronounPossessive Virtual Pet Conditions settings"},{name:"othersVirtualPetConditions",type:"option",active:()=>!0,options:r.AUTHORITY_GROUP_OPTIONS,value:"Clubowner",label:"Allow others to change TargetCharacter's Virtual Pet Conditions settings",loop:!1}]}}},"./src/modules/clicker.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ClickerModule:()=>v});var r=o("./src/util/sdk.ts"),n=o("./src/util/messaging.ts"),i=o("./src/util/authority.ts"),a=o("./src/modules/_module.ts"),l=o("./src/modules/profile.ts");const s=[new Audio("https://media.soundgasm.net/sounds/df33316bec7bc03902860d21fb4b8827466f2bad.m4a"),new Audio("https://media.soundgasm.net/sounds/fa49b10dad3e1202de096859b339dcfc5eab90a5.m4a"),new Audio("https://media.soundgasm.net/sounds/b25177a6a92d5a74d047a9d77a807f2d1ed28c71.m4a")],u=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[a.ModuleTitle.Clicker])&&void 0!==o?o:{}};function c(e=""){let t=0;return u().triggers.split(",").map((e=>e.trim())).filter((e=>""!==e)).forEach((o=>{var r,n;t+=null!==(n=null===(r=e.toLocaleLowerCase().match(new RegExp(o.toLocaleLowerCase(),"g")))||void 0===r?void 0:r.length)&&void 0!==n?n:0})),t}function d(e=0){isNaN(e)||e<=0||!u().enabled||s[Math.min(e-1,s.length-1)].play()}let m=!1;function h(){var e,t;(0,r.bcxFound)()&&!m&&(null===(t=null===(e=(0,r.bcxAPI)())||void 0===e?void 0:e.on)||void 0===t||t.call(e,"bcxLocalMessage",(e=>{const t=null==e?void 0:e.message,o="[Voice] ";u().enabled&&u().bcxVoice&&(null==t?void 0:t.startsWith(o))&&d(c(t.substring(8)))})),m=!0)}class v extends a.Module{constructor(){super(...arguments),this.hasBeenLoaded=!1}get Title(){return a.ModuleTitle.Clicker}get Activities(){return[{Name:"Clicker1",MaxProgress:50,Prerequisite:["UseHands"],CustomPrerequisite:{Name:"HoldingClicker",Prerequisite:(e,t,o)=>{var r,n,i,a,l;return null!==(l=null===(a=null===(i=null===(n=null===(r=InventoryGet(e,"ItemHandheld"))||void 0===r?void 0:r.Asset)||void 0===n?void 0:n.Name)||void 0===i?void 0:i.toLocaleLowerCase())||void 0===a?void 0:a.includes("remote"))&&void 0!==l&&l}},Targets:[{group:"ItemHands",label:"Click Once",actionSelf:"SourceCharacter presses the button on PronounPossessive clicker."}],Image:"Icons/AudioOn.png"},{Name:"Clicker2",MaxProgress:50,Prerequisite:["UseHands"],CustomPrerequisite:{Name:"HoldingClicker"},Targets:[{group:"ItemHands",label:"Click Twice",actionSelf:"SourceCharacter presses the button on PronounPossessive clicker twice."}],Image:"Icons/AudioOn.png"},{Name:"Clicker3",MaxProgress:50,Prerequisite:["UseHands"],CustomPrerequisite:{Name:"HoldingClicker"},Targets:[{group:"ItemHands",label:"Click Thrice",actionSelf:"SourceCharacter presses the button on PronounPossessive clicker three times."}],Image:"Icons/AudioOn.png"}]}get Settings(){return[{name:"enabled",type:"checkbox",active:e=>!(0,l.IsHardcoreOn)(e),value:!1,label:"Enable auditory clicker"},{name:"triggers",type:"text",active:e=>!!u(e).enabled,value:"~click~",label:"Phrases that trigger the click; Separate phrases with a comma",width:384,maxChars:null},{name:"selfAuthed",type:"checkbox",active:e=>!!u(e).enabled&&"Self"!==u(e).authedGroup,value:!0,label:"Allow your own chat, emotes, & actions to trigger the clicker"},{name:"authedGroup",type:"option",active:e=>!!u(e).enabled,value:"Friends",options:["Public","Friends","Whitelist","Lovers","Owners","Clubowner","Self"],label:"Who will be able to trigger the clicker",loop:!1,onSet(e){"Self"===u(e).authedGroup&&(u(e).selfAuthed=!0)}},{name:"bcxVoice",type:"checkbox",active:e=>!!u(e).enabled&&(0,r.bcxFound)()&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Allow BCX Listen to my voice rule to trigger the clicker; Requires BCX"}]}Load(){if(super.Load(),(0,r.HookFunction)(a.ModuleTitle.Clicker,"ChatRoomMessage",0,((e,t)=>{var o,r,a,l,s,m,h,v,f,p;const y=e[0];if(!(u().enabled&&(null===(o=e[0])||void 0===o?void 0:o.Type)&&(null===(r=e[0])||void 0===r?void 0:r.Content)&&(null===(a=e[0])||void 0===a?void 0:a.Sender)&&(0,i.IsMemberNumberInAuthGroup)(y.Sender,u().authedGroup,u().selfAuthed)))return t(e);let g=0;return"Chat"!=y.Type&&"Emote"!=y.Type&&"Whisper"!=y.Type||(g=c((0,n.RemoveOOCContentFromMessage)(y.Content))),"Action"==y.Type&&(g="Beep"==y.Content?c(null!==(m=null===(s=null===(l=null==y?void 0:y.Dictionary)||void 0===l?void 0:l.filter((e=>"Beep"==e.Tag))[0])||void 0===s?void 0:s.Text)&&void 0!==m?m:""):(null===(h=y.Dictionary)||void 0===h?void 0:h.reduce(((e,t)=>e||'MISSING TEXT IN "Interface.csv": '===t.Tag&&"‌"===t.Text),!1))?c(y.Content):c(null!==(p=null===(f=null===(v=null==y?void 0:y.Dictionary)||void 0===v?void 0:v.filter((e=>e.Tag==`MISSING TEXT IN "Interface.csv": ${null==y?void 0:y.Content}`))[0])||void 0===f?void 0:f.Text)&&void 0!==p?p:"")),d(g),t(e)})),(0,r.HookFunction)(a.ModuleTitle.Clicker,"ChatRoomMessage",0,((e,t)=>{t(e);const o=e[0],r=(0,n.GetAttributeFromChatDictionary)(o,"ActivityName");u().enabled&&"Activity"===o.Type&&(null==r?void 0:r.startsWith("MPA_Clicker"))&&(0,i.IsMemberNumberInAuthGroup)(o.Sender,u().authedGroup,u().selfAuthed)&&d(Number(r.slice(-1)))})),!this.hasBeenLoaded){h();const e=setInterval((()=>{m?clearInterval(e):h()}),6e4)}this.hasBeenLoaded=!0}Unload(){super.Unload()}}},"./src/modules/dataSync.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{CategorySync:()=>l,DataSyncModule:()=>c,RecordSync:()=>s,RecordsSync:()=>u,SettingSync:()=>a});var r=o("./src/util/sdk.ts"),n=o("./src/modules/_module.ts"),i=o("./src/util/messaging.ts");function a(e=!1,t){const o=structuredClone(Player.MPA);delete o[n.ModuleTitle.Private],(0,i.SendMPAMessage)({message:"SettingSync",settings:o,reply:e},t)}function l(e,t){e!==n.ModuleTitle.Private&&(0,i.SendMPAMessage)({message:"CategorySync",category:e,value:Player.MPA[e]},t)}function s(e,t,o){u([{category:e,record:t}],o)}function u(e,t){for(var o=e.length-1;o>=0;o--){const t=e[o];t.category===n.ModuleTitle.Private&&e.splice(o,1),t.value=Player.MPA[t.category][t.record]}0!==e.length&&(0,i.SendMPAMessage)({message:"RecordsSync",records:e},t)}class c extends n.Module{get Title(){return n.ModuleTitle.DataSync}get SyncListeners(){return[{module:n.ModuleTitle.DataSync,message:"SettingSync",action:function(e,t){e.MemberNumber!==Player.MemberNumber&&(e.MPA=t.settings,t.reply&&a(!1,e.MemberNumber))}},{module:n.ModuleTitle.DataSync,message:"CategorySync",action:function(e,t){e.MemberNumber!==Player.MemberNumber&&(e.MPA?e.MPA[t.category]=t.value:a(!1,e.MemberNumber))}},{module:n.ModuleTitle.DataSync,message:"RecordsSync",action:function(e,t){var o;if(e.MemberNumber!==Player.MemberNumber)for(const r of t.records)(null===(o=null==e?void 0:e.MPA)||void 0===o?void 0:o[r.category])?e.MPA[r.category][r.record]=r.value:l(t.category,e.MemberNumber)}}]}Load(){super.Load(),0!==ChatRoomCharacter.length&&a(!0),(0,r.HookFunction)(n.ModuleTitle.DataSync,"ChatRoomSync",0,((e,t)=>{t(e),a(!0)})),(0,r.HookFunction)(n.ModuleTitle.DataSync,"ChatRoomMessage",0,((e,t)=>{var o;const r=e[0],n=(0,i.GetMPAMessageFromChat)(r);if(!n)return t(e);const a=(0,i.FindCharacterInRoom)(null!==(o=r.Sender)&&void 0!==o?o:"",{MemberNumber:!0,Name:!1,NickName:!1});if(!a)return t(e);i.hookedMessages.forEach((e=>{n.message===e.message&&e.action(a,n)}))}))}Unload(){super.Unload()}}},"./src/modules/private.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{PrivateModule:()=>n});var r=o("./src/modules/_module.ts");class n extends r.Module{get Title(){return r.ModuleTitle.Private}get Settings(){return[{name:"savedBed",type:"record",value:""}]}Load(){super.Load()}Unload(){super.Unload()}}},"./src/modules/profile.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{GARBLE_PHRASES:()=>v,IsHardcoreOn:()=>m,PET_HEARING:()=>p,ProfileModule:()=>b});var r=o("./src/util/general.ts"),n=o("./src/util/sdk.ts"),i=o("./src/modules/_module.ts"),a=o("./src/modules/settings.ts"),l=o("./src/util/petHearAndSpeak.ts"),s=o("./src/util/messaging.ts"),u=o("./src/modules/dataSync.ts"),c=o("./src/util/authority.ts");const d=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[i.ModuleTitle.Profile])&&void 0!==o?o:{}};function m(e){var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[i.ModuleTitle.Profile].hardcore)&&void 0!==o&&o}function h(e,t=Player){var o,r;return null!==(r=null===(o=t.MPA)||void 0===o?void 0:o[e])&&void 0!==r?r:{}}const v=Object.freeze({Human:["hmmgm","mmmm","mhhmmaa","hmmm"],Custom:[""],Bunny:["pon","pyon","eep","huff","tk-tk","nngh-nngh"],Cat:["meow","mew","nyah","nya","purr","mrrow","prrr"],Cow:["moo","mooooo","muuhhh","moooah"],Dog:["arf","woof","bark","ruff","huff","eep"],Fox:["chirp","yip","wow-wow","yoww","eep"],Mouse:["squeak","eeek","tch-tch","wi-i-i","sss"],Pony:["neigh","whinny","wheee","snrt","whooosh","huff","nnhhh-ker"],Wolf:["awoo","aa-ooo","woof","ruff","arf","wiiip","huff"]});function f(e=d(Player).type){var t,o,i,a,l,s,u,c;const m=null!==(a=null===(i=null===(o=null===(t=(0,n.bcxAPI)())||void 0===t?void 0:t.getRuleState("speech_ban_words"))||void 0===o?void 0:o.customData)||void 0===i?void 0:i.bannedWords)&&void 0!==a?a:[],h=(0,n.bcxFound)()&&d(Player).bcxSpeaking?null!==(c=null===(u=null===(s=null===(l=(0,n.bcxAPI)())||void 0===l?void 0:l.getRuleState("speech_mandatory_words"))||void 0===s?void 0:s.customData)||void 0===u?void 0:u.mandatoryWords)&&void 0!==c?c:[]:function(e=d(Player).type){return e in v&&"Custom"!==e?v[e]:d(Player).garblePhrases.split(",").map((e=>e.trim()))}(e);return(0,r.FilterArrayFromArray)(h,m)}const p=Object.freeze({All:["owner","pet","master","mistress","miss","sir","paw","sit","come","down","up","stay","water","food","kibble","eat","treat","drink","toy","play","leash","walk","walkies","bed","sleep","cutie","adorable","toy","play","kibble","good","bad","lap","speak","hush","quiet","hush","all fours","all-fours"],Human:[],Custom:[],Bunny:["bun","bunny","carrot","hop","jump","hump","ear","ears"],Cat:["cat","kitty","kitten","catnip","knead","scratch","yarn","milk"],Cow:["milk","milking","utter","breast","grass","moo"],Dog:["cage","kennel","pup","puppy","dog","doggy","bone","fetch","heel","roll","over","bark"],Fox:["trap","bun","bunny","bone","fox","foxy"],Mouse:["mouse","ear","ears","trap","wire","wheel","cheese","nibble","cat","kitty","kitten"],Pony:["pony","mare","stallion","bridle","hoof","hooves","trot","stall","hay","woah","stomp","calm","easy","slow","cart","bay","run","race"],Wolf:["bone","wolf","dog","pup","puppy","heel"]});function y(e,t,o){const r=(0,a.ElementName)(i.ModuleTitle.Profile,"garblePhrases");if("Custom"===t)return d(e).garblePhrases=d(e).customGarblePhrases.join(", "),void(document.getElementById(r)&&ElementValue(r,d(e).garblePhrases));"Custom"===o&&document.getElementById(r)&&(d(e).customGarblePhrases=ElementValue(r).split(",").map((e=>e.trim()))),d(e).garblePhrases=v[d(e).type].join(", "),document.getElementById(r)&&ElementValue(r,d(e).garblePhrases)}function g(){var e,t,o,r;d().bcxSpeaking=!0;const l=(0,a.ElementName)(i.ModuleTitle.Profile,"garblePhrases");"Custom"===d().type&&document.getElementById(l)&&(d().customGarblePhrases=ElementValue(l).split(",").map((e=>e.trim())));const s=null!==(r=null===(o=null===(t=null===(e=(0,n.bcxAPI)())||void 0===e?void 0:e.getRuleState("speech_mandatory_words"))||void 0===t?void 0:t.customData)||void 0===o?void 0:o.mandatoryWords)&&void 0!==r?r:[];d().garblePhrases=s.join(", "),document.getElementById(l)&&ElementValue(l,d().garblePhrases)}class b extends i.Module{get Title(){return i.ModuleTitle.Profile}get SyncListeners(){return[{module:this.Title,message:"BCXSpeakEnableRequest",action:function(e,t){var o,r;(0,c.IsMemberNumberInAuthGroup)(null!==(o=e.MemberNumber)&&void 0!==o?o:-1,null===(r=Player.MPA)||void 0===r?void 0:r[i.ModuleTitle.Authority][`others${i.ModuleTitle.Profile}`])?(g(),(0,u.RecordsSync)([{category:i.ModuleTitle.Profile,record:"garblePhrases"},{category:i.ModuleTitle.Profile,record:"bcxSpeaking"}],e.MemberNumber),(0,s.SendMPAMessage)({message:"BCXSpeakEnableReply"},e.MemberNumber)):console.warn(`${e.Nickname||e.Name}[${e.MemberNumber}] tried to illegially set your bcx speak to be enabled`)}},{module:this.Title,message:"BCXSpeakEnableReply",action:function(e,t){const o=(0,a.ElementName)(i.ModuleTitle.Profile,"garblePhrases");document.getElementById(o)&&ElementValue(o,d(e).garblePhrases)}}]}get Settings(){return[{name:"type",type:"option",active:()=>!0,options:Object.keys(v),value:"Human",label:"Use a preset profile or make your own",loop:!0,onSet:(e,t,o)=>{d(e).bcxSpeaking||y(e,t,o)}},{name:"petHearing",type:"checkbox",active:()=>!0,value:!1,label:"While deafened certain pet keywords can be picked up"},{name:"garblePhrases",type:"text",active:e=>"Custom"===d(e).type&&!(d(e).petSpeaking&&(0,n.bcxFound)()&&d(e).bcxSpeaking),value:v.Human.join(),label:"Pet sounds you make",maxChars:1024,width:1024},{name:"customGarblePhrases",type:"record",value:[]},{name:"petSpeaking",type:"checkbox",active:()=>!0,value:!1,label:"Automatically make the above pet sounds while talking"},{name:"bcxSpeaking",type:"checkbox",active:e=>d(e).petSpeaking&&(0,n.bcxFound)(),value:!1,label:"Use BCX mandatory words instead of the pet sounds above",onSet:(e,t)=>{if(t)if(e.IsPlayer())g();else{const t=(0,a.ElementName)(i.ModuleTitle.Profile,"garblePhrases");"Custom"===d(e).type&&document.getElementById(t)&&(d(e).customGarblePhrases=ElementValue(t).split(",").map((e=>e.trim()))),(0,s.SendMPAMessage)({message:"BCXSpeakEnableRequest"},e.MemberNumber)}else y(e,d(e).type,"")}},{name:"hardcore",type:"checkbox",active:()=>!0,value:!1,label:"Enable hardcore mode; Will set certain settings and prevent changing them back",onSet(e){h(i.ModuleTitle.Clicker,e).enabled=!0,h(i.ModuleTitle.Clicker,e).bcxVoice=!0,h(i.ModuleTitle.VirtualPet,e).enabled=!0,h(i.ModuleTitle.VirtualPet,e).noHands=!1,h(i.ModuleTitle.VirtualPetConditions,e).enabled=!0,h(i.ModuleTitle.VirtualPetConditions,e).foodNOW=!0,h(i.ModuleTitle.VirtualPetConditions,e).tint=!0,h(i.ModuleTitle.VirtualPetConditions,e).passout=!0,h(i.ModuleTitle.VirtualPetConditions,e).affectionSkillBuffs=!1,h(i.ModuleTitle.VirtualPetConditions,e).affectionSkillDebuffs=!0,h(i.ModuleTitle.VirtualPetConditions,e).hearingLoss=!0,h(i.ModuleTitle.VirtualPetConditions,e).slowLeave=!0}}]}Load(){super.Load(),SpeechTransformAllEffects.push("petSpeak"),(0,n.HookFunction)(this.Title,"SpeechTransformGagGarble",5,(([e,t,o,...r],n)=>{const i=r[0];return(null==i?void 0:i.IsGagged())||!Player.IsDeaf()||!1===d().petHearing?n([e,t,o]):(0,l.ApplyPetHearing)([e,t,o],n,function(e=d(Player).type){return e in p?p.All.concat(p[e]):p.All}())})),(0,n.HookFunction)(this.Title,"CommandParse",8,(([e],t)=>(e=e.trim(),[CommandsKey,"*","@"].includes(e.charAt(0))||!d(Player).petSpeaking?t([e]):(0,l.NonDisruptivePetSpeech)(e,t,f()))))}Unload(){super.Unload(),SpeechTransformAllEffects=SpeechTransformAllEffects.filter((e=>"petSpeak"!==e))}}},"./src/modules/settings.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ElementName:()=>ie,ExitButtonPressed:()=>ee,MENU_TITLES:()=>L,PreferenceMenuClick:()=>te,PreferenceMenuRun:()=>oe,SetSettingChar:()=>v,SettingsModule:()=>se,currentMenu:()=>F});var r=o("./src/localization/localization.ts"),n=o("./src/util/storage.ts"),i=o("./src/util/constants.ts"),a=o("./src/util/settingTypes.ts"),l=o("./src/util/registerModules.ts"),s=o("./src/util/authority.ts"),u=o("./src/util/messaging.ts"),c=o("./src/modules/_module.ts"),d=o("./src/modules/virtualPet.ts");let m=!1,h=null;function v(e){m=!1,h=e}const f=2e3,p=[1815,75,90,90],y=7,g=400,b=90,P=160,M=500,A=20,S=20,C=[100,605,350,75],T="https://github.com/MayaTheFoxy/MPA/wiki",w=[C[0],C[1]+C[3]+A,C[2],C[3]],k=[w[0],w[1]-w[3],w[2]];let N=0,I="";const x=[w[0],w[1]+w[3]+A,(w[2]-A)/2,w[3]],E=[w[0]+(w[2]+A)/2,w[1]+w[3]+A,(w[2]-A)/2,w[3]],O=[300,700,250,90],D=[1450,700,250,90];function R(){return h?h.IsPlayer()?[c.ModuleTitle.Authority,c.ModuleTitle.Profile,c.ModuleTitle.Clicker,c.ModuleTitle.VirtualPet,c.ModuleTitle.VirtualPetHUD,c.ModuleTitle.VirtualPetConditions]:[c.ModuleTitle.Authority,c.ModuleTitle.Profile,c.ModuleTitle.Clicker,c.ModuleTitle.VirtualPet,c.ModuleTitle.VirtualPetConditions]:[]}const L={[c.ModuleTitle.VirtualPet]:"Virtual Pet",[c.ModuleTitle.VirtualPetHUD]:"Virtual Pet Hud",[c.ModuleTitle.VirtualPetConditions]:"Virtual Pet Conditions"};let F=null,H=!1,G=0;function V(e){for(let t=0;t<e.length;t++)if(MouseIn(M+(g+A)*Math.floor(t/y),P+(b+A)*(t%y),g,b))return e[t];return null}DrawButton(1520,720,200,80,"Cancel","White");const B=9,U=64,$=200,_=250,W=10,j=64,z=256,q=256,Y=256;let K=1,X=1;const Z=[1635,75,90,90],J=[Z[0]-Z[2],Z[1],Z[2],Z[2]];function Q(e){var t;if(!h)return;const o=Object.entries(null!==(t=l.settings[e])&&void 0!==t?t:{}).filter((([t,o])=>{var r;return(0,a.IsDisplaySetting)(o)&&t in(null!==(r=null==h?void 0:h.MPA[e])&&void 0!==r?r:{})}));1!==X&&(K>X&&(K=X),K<1&&(K=1),DrawButton(...Z,"",K>=X?"#aaaaaa":"#ffffff","Icons/Next.png","Next Page",K>=X),DrawButton(...J,"",1>=K?"#aaaaaa":"#ffffff","Icons/Prev.png","Previous Page",1>=K)),o.slice((K-1)*B,K*B).forEach(((t,o)=>{var n,i,l,u,d,m,v,p,y;const[g,b]=t,P=!b.active(h)||`others${e}`in h.MPA[c.ModuleTitle.Authority]&&`self${e}`in h.MPA[c.ModuleTitle.Authority]&&!(0,s.IsMemberNumberInAuthGroup)(null!==(n=Player.MemberNumber)&&void 0!==n?n:-1,h.MPA[c.ModuleTitle.Authority][`others${e}`],h.MPA[c.ModuleTitle.Authority][`self${e}`],h)||!Player.CanInteract()&&((null==h?void 0:h.MemberNumber)===Player.MemberNumber&&!Player.MPA[c.ModuleTitle.Authority].boundAccessSelf||(null==h?void 0:h.MemberNumber)!==Player.MemberNumber&&!Player.MPA[c.ModuleTitle.Authority].boundAccessOthers);if((0,a.IsCheckboxSetting)(b))DrawCheckbox(_,$+o*(W+U),j,j,(0,r.LocalizedText)(b.label).replaceAll("TargetCharacter",null!==(i=(null==h?void 0:h.Nickname)||(null==h?void 0:h.Name))&&void 0!==i?i:"").replaceAll("TargetPronounPossessive","SheHer"===(null==h?void 0:h.GetPronouns())?"her":"his"),!!h.MPA[e][g],P,"Black");else if((0,a.IsOptionSetting)(b)){const t=b.options.indexOf(h.MPA[e][g]),n=b.options.length,i=e!==c.ModuleTitle.Authority||!s.AUTHORITY_GROUP_OPTIONS.includes(h.MPA[e][g]),a=!(i||(0,s.AuthorityIsComparisonToCharacter)(h.MPA[e][g],">=",null!==(l=Player.MemberNumber)&&void 0!==l?l:-1,h)),m=!(i||(0,s.AuthorityIsComparisonToCharacter)(h.MPA[e][g],">",null!==(u=Player.MemberNumber)&&void 0!==u?u:-1,h))&&"Self"!==h.MPA[e][g];DrawBackNextButton(_,$+o*(W+U),z,U,(0,r.LocalizedText)(h.MPA[e][g]),P||a&&m?"#aaaaaa":"#ffffff","",(()=>(0,r.LocalizedText)(a?"":b.loop?b.options[(t-1+n)%n]:t>0?b.options[t-1]:"")),(()=>(0,r.LocalizedText)(m?"":b.loop?b.options[(t+1+n)%n]:t+1<n?b.options[t+1]:"")),P||a&&m),DrawTextFit((0,r.LocalizedText)(b.label).replaceAll("TargetCharacter",null!==(d=(null==h?void 0:h.Nickname)||(null==h?void 0:h.Name))&&void 0!==d?d:"").replaceAll("TargetPronounPossessive","SheHer"===(null==h?void 0:h.GetPronouns())?"her":"his"),_+z+2*W,$+(o*(W+U)+Math.ceil(U/2)),f-2*_-z,"Black","Gray")}else if((0,a.IsTextSetting)(b)||(0,a.IsNumberSetting)(b)){const t=ie(e,g);ElementPositionFixed(t,_,$+o*(W+U),null!==(m=b.width)&&void 0!==m?m:q,U),P?ElementSetAttribute(t,"disabled","true"):ElementRemoveAttribute(t,"disabled"),DrawTextFit((0,r.LocalizedText)(b.label).replaceAll("TargetCharacter",null!==(v=(null==h?void 0:h.Nickname)||(null==h?void 0:h.Name))&&void 0!==v?v:"").replaceAll("TargetPronounPossessive","SheHer"===(null==h?void 0:h.GetPronouns())?"her":"his"),_+(null!==(p=b.width)&&void 0!==p?p:q)+2*W,$+o*(W+U)+Math.ceil(U/2),f-2*_-(null!==(y=b.width)&&void 0!==y?y:q),"Black","Gray")}}))}function ee(){null===F?(window.MPA.menuLoaded&&(window.MPA.menuLoaded=!1),re()):("RESET_Settings"===F||(le(F),K=1,X=1),F=null)}function te(){var e,t,o;if(MouseIn(...p))ee();else{if((null==h?void 0:h.MemberNumber)===Player.MemberNumber&&null===F){if(MouseIn(...C))return void(null===(e=window.open(T,"_blank"))||void 0===e||e.focus());if(MouseIn(...w))return F="RESET_Settings",void(G=Date.now()+1e4);if(MouseIn(...x))return void(0,n.ImportSettingsFromClipboard)().then((()=>{I="Settings imported from clipboard"}),(()=>{I="Failed to import settings"})).finally((()=>N=Date.now()+5e3));if(MouseIn(...E))return void(0,n.ExportSettingsToClipboard)().then((()=>{I="Settings copied to clipboard"}),(()=>{I="Failed to export settings"})).finally((()=>N=Date.now()+5e3))}if(null===F&&null!==V(R())&&(F=V(R()),K=1,X=Math.ceil(Object.entries(null!==(t=l.settings[null!=F?F:""])&&void 0!==t?t:{}).filter((([e,t])=>{var o;return(0,a.IsDisplaySetting)(t)&&e in(null!==(o=null==h?void 0:h.MPA[null!=F?F:""])&&void 0!==o?o:{})})).length/B),ae(F)),"RESET_Settings"!==F){if(null!==F){if(Object.entries(null!==(o=l.settings[null!=F?F:""])&&void 0!==o?o:{}).filter((([e,t])=>{var o;return(0,a.IsDisplaySetting)(t)&&e in(null!==(o=null==h?void 0:h.MPA[null!=F?F:""])&&void 0!==o?o:{})})).length>B){if(MouseIn(...Z)&&K<X)return le(F),K++,void ae(F);if(MouseIn(...J)&&K>1)return le(F),K--,void ae(F)}!function(e){var t;if(!h)return;const o=Object.entries(null!==(t=l.settings[e])&&void 0!==t?t:{}).filter((([t,o])=>{var r;return(0,a.IsDisplaySetting)(o)&&t in(null!==(r=null==h?void 0:h.MPA[e])&&void 0!==r?r:{})}));o.slice((K-1)*B,K*B).forEach(((t,o)=>{var r,n,i;const[l,u]=t,d=!u.active(h)||`others${e}`in h.MPA[c.ModuleTitle.Authority]&&`self${e}`in h.MPA[c.ModuleTitle.Authority]&&!(0,s.IsMemberNumberInAuthGroup)(null!==(r=Player.MemberNumber)&&void 0!==r?r:-1,h.MPA[c.ModuleTitle.Authority][`others${e}`],h.MPA[c.ModuleTitle.Authority][`self${e}`],h)||!Player.CanInteract()&&((null==h?void 0:h.MemberNumber)===Player.MemberNumber&&!Player.MPA[c.ModuleTitle.Authority].boundAccessSelf||(null==h?void 0:h.MemberNumber)!==Player.MemberNumber&&!Player.MPA[c.ModuleTitle.Authority].boundAccessOthers);if((0,a.IsCheckboxSetting)(u))MouseIn(_,$+o*(W+U),j,j)&&!d&&(h.MPA[e][l]=!h.MPA[e][l],u.onSet&&u.onSet(h,h.MPA[e][l],!h.MPA[e][l]),m=!0);else if((0,a.IsOptionSetting)(u)){const t=u.options.indexOf(h.MPA[e][l]),r=u.options.length;if(!MouseIn(_,$+o*(W+U),Math.floor(z/2),U)||d||!(u.loop||t>0)||e===c.ModuleTitle.Authority&&s.AUTHORITY_GROUP_OPTIONS.includes(h.MPA[e][l])&&!(0,s.AuthorityIsComparisonToCharacter)(h.MPA[e][l],">=",null!==(n=Player.MemberNumber)&&void 0!==n?n:-1,h)){if(MouseIn(_+Math.floor(z/2),$+o*(W+U),Math.ceil(z/2),U)&&!d&&(u.loop||t+1<u.options.length)&&(e!==c.ModuleTitle.Authority||!s.AUTHORITY_GROUP_OPTIONS.includes(h.MPA[e][l])||(0,s.AuthorityIsComparisonToCharacter)(h.MPA[e][l],">",null!==(i=Player.MemberNumber)&&void 0!==i?i:-1,h))){const o=h.MPA[e][l];h.MPA[e][l]=u.options[(t+1+r)%r],u.onSet&&u.onSet(h,u.options[(t+1+r)%r],o),m=!0}}else{const o=h.MPA[e][l];h.MPA[e][l]=u.options[(t-1+r)%r],u.onSet&&u.onSet(h,u.options[(t-1+r)%r],o),m=!0}}}))}(F)}}else!function(){MouseIn(...O)&&Date.now()>G&&((0,n.ResetStorage)(),F=null,G=0);MouseIn(...D)&&(F=null,G=0)}()}}function oe(){var e;if("RESET_Settings"===F)return void function(){const e=MainCanvas.textAlign;MainCanvas.textAlign="center",DrawText((0,r.LocalizedText)("WARNING: Are you sure you want to reset your MPA settings and data back to default?"),f/2,250,"#000000","#aaaaaa"),DrawText((0,r.LocalizedText)("This action can not be undone!"),f/2,400,"#ff0000","#aaaaaa"),DrawText((0,r.LocalizedText)("Export and save your settings BEFORE confirming if you are unsure."),f/2,550,"#696969","#aaaaaa");const t=Date.now();t<=G?DrawButton(...O,`${(0,r.LocalizedText)("Confirm")} (${Math.floor((G-t)/1e3)})`,"#aaaaaa",void 0,void 0,!0):DrawButton(...O,(0,r.LocalizedText)("Confirm"),"#ff0000"),DrawButton(...D,(0,r.LocalizedText)("Cancel"),"White"),MainCanvas.textAlign=e}();const t=MainCanvas.textAlign;DrawButton(...p,"","White","Icons/Exit.png"),MainCanvas.textAlign="center",DrawText(`${(0,r.LocalizedText)("Maya's Petplay Additions")}${F?` - ${(null==h?void 0:h.Nickname)||(null==h?void 0:h.Name)}'s ${(0,r.LocalizedText)(null!==(e=L[F])&&void 0!==e?e:F)}`:""}`,1e3,125,"Black","Gray"),(null==h?void 0:h.MemberNumber)===Player.MemberNumber&&null===F&&(N>=Date.now()&&(MainCanvas.textAlign="left",DrawTextFit(I,...k,"Black","Gray")),MainCanvas.textAlign="center",DrawButton(...C,(0,r.LocalizedText)("Wiki"),"#ffffff","",(0,r.LocalizedText)("Open the MPA wiki in a new tab")),DrawButton(...w,(0,r.LocalizedText)("RESET"),"#ff2e2eaa","",(0,r.LocalizedText)("Reset all your settings back to default")),DrawButton(...x,(0,r.LocalizedText)("Import"),"#ffffff","",(0,r.LocalizedText)("Import the settings copied to your clipboard")),DrawButton(...E,(0,r.LocalizedText)("Export"),"#ffffff","",(0,r.LocalizedText)("Export your current settings to the clipboard"))),MainCanvas.textAlign="left",null===F?function(e){var t;for(let o=0;o<e.length;o++)DrawButton(M+(g+A)*Math.floor(o/y),P+(b+A)*(o%y),g,b,"","White"),DrawTextFit((0,r.LocalizedText)(null!==(t=L[e[o]])&&void 0!==t?t:e[o]),M+S+(g+A)*Math.floor(o/y),P+Math.floor(b/2)+(b+A)*(o%y),g-2*S,"Black","Gray")}(R()):Q(F),MainCanvas.textAlign=t}function re(){h&&(m&&(h.MemberNumber===Player.MemberNumber?((0,d.LevelSync)(!1,!1,!1),(0,n.SaveStorage)(!0)):(0,u.SendMPAMessage)({message:"SettingPutRequest",settings:h.MPA},h.MemberNumber)),h.MemberNumber===Player.MemberNumber&&PreferenceSubscreenExtensionsClear(),m=!1,h=null,H=!1)}function ne(){m=!1,h=Player,h&&(H=!0)}function ie(e,t){return`MPA_OPTION_${e}${t}`}function ae(e,t=K){var o;e&&h&&Object.entries(null!==(o=l.settings[e])&&void 0!==o?o:{}).slice((t-1)*B,t*B).forEach((t=>{var o;const[r,n]=t,i=ie(e,r);(0,a.IsTextSetting)(n)?ElementCreateInput(i,"text",h.MPA[e][r],null!==(o=n.maxChars)&&void 0!==o?o:Y):(0,a.IsNumberSetting)(n)&&(ElementCreateInput(i,"number",h.MPA[e][r].toString()),ElementSetAttribute(i,"min",n.min.toString()),ElementSetAttribute(i,"max",n.max.toString()),ElementSetAttribute(i,"inputmode","decimal"),n.step&&ElementSetAttribute(i,"step",n.step.toString()))}))}function le(e,t=K){var o;h&&(e===c.ModuleTitle.VirtualPet&&(0,d.LevelSync)(!1,!1,!1),Object.entries(null!==(o=l.settings[e])&&void 0!==o?o:{}).slice((t-1)*B,t*B).forEach((t=>{const[o,r]=t,n=ie(e,o);(0,a.IsTextSetting)(r)&&(h.MPA[e][o]!==ElementValue(n)&&(h.MPA[e][o]=ElementValue(n),m=!0),ElementRemove(n)),(0,a.IsNumberSetting)(r)&&(h.MPA[e][o]!==Number(ElementValue(n))&&(h.MPA[e][o]=Number(ElementValue(n)),m=!0),ElementRemove(n))})))}class se extends c.Module{get Title(){return c.ModuleTitle.Settings}Load(){function e(e){"Escape"!==e.key&&"Esc"!==e.key||!H||(null===F?re():"RESET_Settings"===F?G=0:(le(F),K=1,X=1),F=null,e.stopPropagation())}PreferenceRegisterExtensionSetting({Identifier:"MPA",ButtonText:(0,r.LocalizedText)("MPA Settings"),Image:i.ICONS.PAW,click:te,run:oe,exit:re,load:ne}),document.addEventListener("keypress",e,!0),document.addEventListener("keydown",e,!0)}Unload(){}Reload(){}}},"./src/modules/settingsOthers.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ObjectDifferences:()=>p,SettingsOtherModule:()=>y});var r=o("./src/util/messaging.ts"),n=o("./src/localization/localization.ts"),i=o("./src/util/constants.ts"),a=o("./src/util/sdk.ts"),l=o("./src/modules/_module.ts"),s=o("./src/modules/settings.ts"),u=o("./src/util/storage.ts"),c=o("./src/modules/virtualPet.ts"),d=o("./src/util/authority.ts"),m=o("./src/util/registerModules.ts");const h=[1700,765,90,90],v=[1700,800,90,90];function f(e,t){return e.length===t.length&&e.every(((e,o)=>e===t[o]))}function p(e,t){const o={};for(const r in e){if(!(r in t)){o[r]={old:e[r],new:void 0};continue}const n=e[r],i=t[r];if(Array.isArray(n)&&Array.isArray(i))f(n,i)||(o[r]={old:n,new:i});else if("object"!=typeof n||"object"!=typeof i||Array.isArray(n))n!==i&&(o[r]={old:n,new:i});else{const e=p(n,i);Object.keys(e).length>0&&(o[r]=e)}}for(const r in t)r in e||(o[r]={old:void 0,new:t[r]});return o}class y extends l.Module{get Title(){return l.ModuleTitle.SettingsOther}get SyncListeners(){return[{module:this.Title,message:"SettingPutRequest",action:function(e,t){var o,i,a,h,v,f,y,g,b,P,M,A;const S=Player.MPA[l.ModuleTitle.VirtualPet].enabled,C=p(Player.MPA,t.settings),T=[];(null===(o=null==C?void 0:C[l.ModuleTitle.VirtualPet])||void 0===o?void 0:o.levels)&&(delete C[l.ModuleTitle.VirtualPet].levels,0===Object.keys(C[l.ModuleTitle.VirtualPet]).length&&delete C[l.ModuleTitle.VirtualPet]),(0,c.LevelSync)(!1,!1,!1);const w=JSON.parse(JSON.stringify(null===(i=Player.MPA)||void 0===i?void 0:i[l.ModuleTitle.Authority])),k=C[l.ModuleTitle.Authority];if(k)if(delete C[l.ModuleTitle.Authority],(0,d.IsMemberNumberInAuthGroup)(null!==(a=e.MemberNumber)&&void 0!==a?a:-1,w[`others${l.ModuleTitle.Authority}`])){T.push((0,n.LocalizedText)(l.ModuleTitle.Authority));for(const e in k)void 0!==k[e].new&&void 0!==k[e].old&&(Player.MPA[l.ModuleTitle.Authority][e]=k[e].new)}else console.warn(`MPA: ${e.Nickname||e.Name} (${e.MemberNumber}) tried to illegally modify your ${l.ModuleTitle.Authority} settings!`);for(const t in C){if(!(0,d.IsMemberNumberInAuthGroup)(null!==(h=e.MemberNumber)&&void 0!==h?h:-1,null!==(v=w[`others${t}`])&&void 0!==v?v:"None")&&!(0,d.IsMemberNumberInAuthGroup)(null!==(f=e.MemberNumber)&&void 0!==f?f:-1,null!==(b=null===(g=null===(y=Player.MPA)||void 0===y?void 0:y[l.ModuleTitle.Authority])||void 0===g?void 0:g[`others${t}`])&&void 0!==b?b:"None")){console.warn(`MPA: ${e.Nickname||e.Name} (${e.MemberNumber}) tried to illegally modify your ${t} settings!`);continue}T.push((0,n.LocalizedText)(null!==(P=s.MENU_TITLES[t])&&void 0!==P?P:t));const o=C[t];for(const e in o)void 0!==o[e].new&&void 0!==o[e].old&&(Player.MPA[t][e]=o[e].new)}Player.MPA[l.ModuleTitle.Profile].hardcore&&(null===(A=null===(M=m.settings[l.ModuleTitle.Profile])||void 0===M?void 0:M.hardcore)||void 0===A||A.onSet(Player)),S!==Player.MPA[l.ModuleTitle.VirtualPet].enabled&&(Player.MPA[l.ModuleTitle.VirtualPet].levels.lastUpdated=Date.now()),0!==T.length&&(0,r.MPANotifyPlayer)((0,n.LocalizedText)("SourceCharacter just updated your SettingsArray settings.").replace("SourceCharacter",e.Nickname||e.Name).replace("SettingsArray",(0,r.ArrayToReadableString)(T))),(0,u.SaveStorage)(!0)}},{module:this.Title,message:"EditingSettings",action:function(e,t){(0,r.NotifyPlayer)((0,n.LocalizedText)("SourceCharacter is accessing your MPA settings.").replace("SourceCharacter",e.Nickname||e.Name),3e4)}}]}Load(){super.Load();(0,a.HookFunction)(this.Title,"InformationSheetRun",12,((e,t)=>{var o;if((null===(o=window.bcx)||void 0===o?void 0:o.inBcxSubscreen())||window.LSCG_REMOTE_WINDOW_OPEN)return t(e);if(window.MPA.menuLoaded)return void(0,s.PreferenceMenuRun)();t(e);const r=InformationSheetSelection;if((null==r?void 0:r.MPA)&&!r.IsPlayer()){const e=ServerChatRoomGetAllowItem(Player,r);DrawButton(...(0,a.bcxFound)()?v:h,"",e?"#ffffff":"#aaaaaa",i.ICONS.PAW,(0,n.LocalizedText)(e?"MPA":"MPA: No BC item permission"),!1)}})),(0,a.HookFunction)(this.Title,"InformationSheetClick",12,((e,t)=>{if(window.MPA.menuLoaded)return(0,s.PreferenceMenuClick)();const o=InformationSheetSelection;if(!MouseIn(...v)||!(null==o?void 0:o.MPA)||o.IsPlayer())return t(e);window.MPA.menuLoaded=!0,(0,s.SetSettingChar)(o),(0,r.SendMPAMessage)({message:"EditingSettings"},o.MemberNumber)})),(0,a.HookFunction)(this.Title,"InformationSheetExit",12,((e,t)=>{if(!window.MPA.menuLoaded)return t(e);(0,s.ExitButtonPressed)()}))}Unload(){super.Unload()}}},"./src/modules/virtualPet.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{CalculateCurrentValue:()=>N,GetCharacterCurrentStatValue:()=>I,IsBedMultiplier:()=>S,IsSleepingExpression:()=>A,LevelSync:()=>x,ModifyStat:()=>E,VirtualPetModule:()=>O});var r=o("./src/modules/_module.ts"),n=o("./src/util/constants.ts"),i=o("./src/util/sdk.ts"),a=o("./src/util/storage.ts"),l=o("./src/util/messaging.ts"),s=o("./src/modules/dataSync.ts"),u=o("./src/modules/profile.ts");const c=168,d=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[r.ModuleTitle.VirtualPet])&&void 0!==o?o:{}},m=.4,h=["LSCG_Eat","ThrowItem"],v=["LSCG_FunnelPour","LSCG_Quaff"],f=["Sleep","Afk","Fork","Coding","Read"],p=["Pet","TakeCare","LSCG_Nuzzle","Caress","LSCG_Hug","Scratch"],y=["Kiss","MassageHands","Lick","Nibble","Cuddle","Grope"],g=["Spank","Slap","Bite","Pinch","Pull","ShockItem","SpankItem"],b={ItemArms:1,ItemBoots:.8,ItemBreast:1.5,ItemButt:1.5,ItemEars:2.5,ItemFeet:.8,ItemHands:1,ItemHead:3,ItemLegs:1,ItemMouth:2,ItemNeck:1.2,ItemNipples:1.5,ItemNose:1.7,ItemPelvis:1.3,ItemTorso:1,ItemVulva:2,ItemVulvaPiercings:2.5},P=.2;let M;const A=e=>{var t,o,r,n,i,a,l;return"Closed"===(null===(o=null===(t=e.Appearance.find((e=>"Eyes"===e.Asset.Group.Name)))||void 0===t?void 0:t.Property)||void 0===o?void 0:o.Expression)&&"Closed"===(null===(n=null===(r=e.Appearance.find((e=>"Eyes2"===e.Asset.Group.Name)))||void 0===r?void 0:r.Property)||void 0===n?void 0:n.Expression)&&f.includes(null!==(l=null===(a=null===(i=e.Appearance.find((e=>"Emoticon"===e.Asset.Group.Name)))||void 0===i?void 0:i.Property)||void 0===a?void 0:a.Expression)&&void 0!==l?l:"")},S=e=>{var t,o;const r=null!==(o=null===(t=InventoryGet(e,"ItemDevices"))||void 0===t?void 0:t.Asset.Name)&&void 0!==o?o:"";return n.BED_PERFECT.includes(r)?10:n.BED_NORMAL.includes(r)?5:n.BED_BAD.includes(r)?2:1};let C=!1,T=1;function w(e=!0){!d().enabled||0===d().sleepHours||C===A(Player)&&T===S(Player)||(e&&x(),C=A(Player),T=S(Player))}function k(e){return 60*e*60*1e3}function N(e,t,o,r,n=!1,i=Player){const a=(r||Date.now())-o,l=Math.max(0,Math.min(e-a/k(t),1));if(n&&e>P&&l<P){const r=d(i).levels.lastOnline-o,n=Math.max(0,Math.min(e-r/k(t),1));return Math.min(P,n)}return l}function I(e,t){var o;const n=null===(o=null==e?void 0:e.MPA)||void 0===o?void 0:o[r.ModuleTitle.VirtualPet];if(!n)return-1;if("sleep"===t){const t=A(e)||1!==S(e)?n.levels.sleep+(Date.now()-n.levels.lastUpdated)/(60*n.sleepHours*60*1e3)*S(e)*(A(e)?5:1):N(n.levels.sleep,n.sleepHours,n.levels.lastUpdated);return Math.max(0,Math.min(1,t))}return N(n.levels[t],n[`${t}Hours`],n.levels.lastUpdated)}function x(e=!0,t=!0,o=!1){var n;if(!d().enabled)return d().levels.lastUpdated=Date.now(),void(d().levels.lastOnline=Date.now());const i=null!==(n=d().levels.lastUpdated)&&void 0!==n?n:Date.now(),l=d().offlineDrain?void 0:d().levels.lastOnline,u=d().foodHours;0!==u&&(d().levels.food=N(d().levels.food,u,i,l,o));const c=d().waterHours;0!==c&&(d().levels.water=N(d().levels.water,c,i,l,o));const m=d().sleepHours;if(0!==m)if(o&&!l||C||1!==T){const e=o?Date.now()-d().levels.lastOnline-(d().levels.lastOnline-i):Date.now()-i,t=d().levels.sleep+e/k(m)*T*(C?5:1);d().levels.sleep=Math.max(0,Math.min(1,t))}else d().levels.sleep=N(d().levels.sleep,m,i,l,o);const h=d().affectionHours;0!==h&&(d().levels.affection=N(d().levels.affection,h,i,l,o)),d().levels.lastUpdated=Date.now(),d().levels.lastOnline=Date.now(),e&&(0,a.SaveStorage)(!1),t&&(0,s.RecordSync)(r.ModuleTitle.VirtualPet,"levels")}function E(e,t,o=!0,n=!0,i){t<-1&&t>1||(x(!1,!1,!1),d().levels[e]+=t*(o&&t>0?function(e,t){let o=1;if((null==t?void 0:t.IsOwner())?o+=.5:(null==t?void 0:t.IsLoverOfPlayer())?o+=.35:(null==t?void 0:t.IsFamilyOfPlayer())&&(o+=.25),"food"!==e&&"water"!==e||Player.CanTalk()||(o-=.5),o+=.03*Player.Appearance.filter((e=>e.Asset.DynamicGroupName.startsWith("Item"))).length,"AllFours"===Player.PoseMapping.BodyFull&&(o+=.5),"affection"===e&&Player.MPA[r.ModuleTitle.VirtualPetConditions].enabled&&Player.MPA[r.ModuleTitle.VirtualPetConditions].foodNOW){const e=[];0!==d().foodHours&&e.push(I(Player,"food")),0!==d().waterHours&&e.push(I(Player,"water")),0!==e.length&&(o*=e.reduce(((e,t)=>e+t),0)/e.length/.75)}return Math.max(0,o)}(e,i):1),function(e){const t=d().levels[e];d().levels[e]=Math.min(Math.max(t,0),1)}(e),n&&(0,a.SaveStorage)(!1),(0,s.RecordSync)(r.ModuleTitle.VirtualPet,"levels"))}class O extends r.Module{get Title(){return r.ModuleTitle.VirtualPet}get Activities(){return[{Name:"BowlEat",Targets:[{group:"ItemMouth",label:"Eat From Bowl",actionSelf:"SourceCharacter eats from PronounPossessive bowl."}],Image:"Assets/Female3DCG/ItemDevices/Preview/PetBowl.png",Prerequisite:["UseMouth"],CustomPrerequisite:{Name:"HasBowl",Prerequisite:(e,t,o)=>{var r,n;return"PetBowl"===(null===(n=null===(r=InventoryGet(e,"ItemDevices"))||void 0===r?void 0:r.Asset)||void 0===n?void 0:n.Name)}},OnTrigger:()=>{d().enabled&&0!==d().foodHours&&E("food",m,!0)}},{Name:"BowlDrink",Targets:[{group:"ItemMouth",label:"Drink From Bowl",actionSelf:"SourceCharacter drinks from PronounPossessive bowl."}],Image:"Assets/Female3DCG/ItemDevices/Preview/PetBowl.png",Prerequisite:["UseMouth"],CustomPrerequisite:{Name:"HasBowl"},OnTrigger:()=>{d().enabled&&0!==d().waterHours&&E("water",m,!0)}},{Name:"BowlEat2",Targets:[{group:"ItemMouth",label:"Eat From Bowl",actionSelf:"SourceCharacter puts PronounPossessive head into PronounPossessive bowl in order to eat with the gag, making a mess."}],Image:"Assets/Female3DCG/ItemDevices/Preview/PetBowl.png",Prerequisite:[],CustomPrerequisite:[{Name:"HasBowl"},{Name:"UseTongueNoMouth",Prerequisite:(e,t,o)=>!e.CanTalk()&&!e.IsMouthBlocked()}],OnTrigger:()=>{d().enabled&&0!==d().foodHours&&E("food",m,!0)}},{Name:"BowlDrink2",Targets:[{group:"ItemMouth",label:"Drink From Bowl",actionSelf:"SourceCharacter puts PronounPossessive head into PronounPossessive bowl in order to drink with the gag, making a mess."}],Image:"Assets/Female3DCG/ItemDevices/Preview/PetBowl.png",Prerequisite:[],CustomPrerequisite:[{Name:"HasBowl"},{Name:"UseTongueNoMouth"}],OnTrigger:()=>{d().enabled&&0!==d().waterHours&&E("water",m,!0)}}]}get Settings(){return[{name:"enabled",type:"checkbox",active:e=>!(0,u.IsHardcoreOn)(e),value:!1,label:"Become a virtual pet! Requiring: food, water, sleep, and affection"},{name:"foodHours",type:"number",value:4,active:e=>!!d(e).enabled,label:"How many hours until you are completely out of food; 0 to disable",width:128,min:0,max:c,step:.1},{name:"waterHours",type:"number",value:4,active:e=>!!d(e).enabled,label:"How many hours until you are completely out of water; 0 to disable",width:128,min:0,max:c,step:.1},{name:"sleepHours",type:"number",value:8,active:e=>!!d(e).enabled,label:"How many hours until you are completely out of sleep; 0 to disable",width:128,min:0,max:c,step:.1},{name:"affectionHours",type:"number",value:4,active:e=>!!d(e).enabled,label:"How many hours until you are completely out of affection; 0 to disable",width:128,min:0,max:c,step:.1},{name:"offlineDrain",type:"checkbox",value:!0,active:e=>!!d(e).enabled,label:"Stats drain even when logged out of the club"},{name:"noHands",type:"checkbox",active:e=>!!d(e).enabled&&!(0,u.IsHardcoreOn)(e),value:!0,label:"Allow eating or drinking from items in your OWN hands"},{name:"masochist",type:"checkbox",active:e=>!!d(e).enabled,value:!1,label:"Masochist pet; Abuse raises affection"},{name:"levels",type:"record",value:{food:1,water:1,sleep:1,affection:1,lastUpdated:Date.now(),lastOnline:Date.now()}}]}Load(){super.Load(),w(!1),x(!0,!1,!0),M=setInterval((()=>{Player.MemberNumber&&(Player.MPA[this.Title].levels.lastOnline=Date.now(),(0,a.SaveStorage)(!1))}),1e4),(0,i.HookFunction)(this.Title,"ChatRoomMessage",0,((e,t)=>{var o,r;const n=e[0],i=(0,l.GetAttributeFromChatDictionary)(n,"ActivityName");if(!d().enabled||!d().noHands&&(0,l.GetAttributeFromChatDictionary)(n,"SourceCharacter")===Player.MemberNumber||"Activity"!==n.Type||(0,l.GetAttributeFromChatDictionary)(n,"TargetCharacter")!==Player.MemberNumber||"ItemMouth"!==(0,l.GetAttributeFromChatDictionary)(n,"FocusGroupName")||!i)return t(e);const a=ActivityFemale3DCG.find((e=>e.Name===i));return 0!==d().foodHours&&((null===(o=null==a?void 0:a.Prerequisite)||void 0===o?void 0:o.includes("Needs-EatItem"))||h.some((e=>(null==a?void 0:a.Name)===e)))&&E("food",.2,!0),0!==d().waterHours&&((null===(r=null==a?void 0:a.Prerequisite)||void 0===r?void 0:r.includes("Needs-SipItem"))||v.some((e=>(null==a?void 0:a.Name)===e)))&&E("water",.2,!0),t(e)})),(0,i.HookFunction)(this.Title,"CharacterRefresh",0,((e,t)=>(e[0].MemberNumber===Player.MemberNumber&&w(),t(e)))),(0,i.HookFunction)(this.Title,"ChatRoomMessage",0,((e,t)=>{var o,r;const n=e[0],i=(0,l.GetAttributeFromChatDictionary)(n,"ActivityName");if(!d().enabled||0===d().affectionHours||"Activity"!==n.Type||(0,l.GetAttributeFromChatDictionary)(n,"TargetCharacter")!==Player.MemberNumber||(0,l.GetAttributeFromChatDictionary)(n,"SourceCharacter")===Player.MemberNumber||!i)return t(e);const a=null!==(o=(0,l.GetAttributeFromChatDictionary)(n,"FocusGroupName"))&&void 0!==o?o:"",s=null!==(r=b[a])&&void 0!==r?r:1;return p.includes(i)?E("affection",.05*s):y.includes(i)?E("affection",.03*s):g.includes(i)&&E("affection",-.04*(d().masochist?-1:1)*s),t(e)}))}Unload(){super.Unload(),clearInterval(M)}}},"./src/modules/virtualPetConditions.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ConditionCheck:()=>p,VirtualPetConditionsModule:()=>N});var r=o("./src/util/general.ts"),n=o("./src/util/messaging.ts"),i=o("./src/util/sdk.ts"),a=o("./src/modules/_module.ts"),l=o("./src/modules/profile.ts"),s=o("./src/modules/virtualPet.ts");const u=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[a.ModuleTitle.VirtualPet])&&void 0!==o?o:{}},c=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[a.ModuleTitle.VirtualPetConditions])&&void 0!==o?o:{}};function d(e,t){var o;return!(!c().enabled||!c()[e])&&(!t||u().enabled&&0!==(null===(o=u())||void 0===o?void 0:o[`${t}Hours`]))}const m=[["SelfBondage",!0],["Willpower",!0],["Bondage",!1],["Evasion",!1],["LockPicking",!1]],h={food:-1,water:-1,sleep:-1,affection:-1};let v=[];let f=250;function p(){["food","water","affection","sleep"].forEach((e=>{if(u().enabled&&c().enabled&&0!==u()[`${e}Hours`]){const t=h[e],o=(0,s.GetCharacterCurrentStatValue)(Player,e);v.forEach((r=>{r.stat===e&&-1===t&&r.firstRun&&r.firstRun(),r.stat===e&&-1!==t&&t>o&&"rising"!==r.change&&o<=r.threshhold&&r.threshhold<t&&r.action(),r.stat===e&&-1!==t&&t<o&&"falling"!==r.change&&t<r.threshhold&&r.threshhold<=o&&r.action()})),h[e]=o}else h[e]=-1}))}const y="sleep",g=.25,b=0,P=0,M=1;let A=!1;const S=["SourceCharacter drools out of the corner of PronounPossessive lip as PronounSubject sleeps.","SourceCharacter mumbles quietly in PronounPossessive slumber.","SourceCharacter rests peacefully."];function C(){var e,t,o;CharacterSetFacialExpression(Player,"Emoticon","Sleep"),CharacterSetFacialExpression(Player,"Eyes","Closed"),CharacterSetFacialExpression(Player,"Fluids","DroolMedium"),Player.CanKneel()&&PoseSetActive(Player,"Kneel",!0),A=!0;const r=null===(o=null===(t=null===(e=null===Player||void 0===Player?void 0:Player.LSCG)||void 0===e?void 0:e.StateModule)||void 0===t?void 0:t.states)||void 0===o?void 0:o.find((e=>"asleep"===e.type));c().passoutLSCG&&r&&console.log("Calling LSCG passout"),(0,n.SendAction)("SourceCharacter passes out from exhaustion.",void 0,[{SourceCharacter:Player.MemberNumber}])}function T(){return c().enabled&&0!==u().sleepHours&&c().passout&&!c().passoutLSCG&&A}let w;function k(){u().enabled&&0!==u().affectionHours&&c().enabled&&m.forEach((([e,t])=>{const o=(0,s.GetCharacterCurrentStatValue)(Player,"affection"),r=Math.round((10*o/1-5)*(t?1:-1)*100)/100,n=SkillGetModifier(Player,e),i=0!==SkillGetModifierDuration(Player,e)?SkillGetModifierDuration(Player,e):15e3;r>0&&c().affectionSkillBuffs&&SkillSetModifier(Player,e,n+r,i,!1),r<0&&c().affectionSkillDebuffs&&SkillSetModifier(Player,e,n+r,i,!1)}))}class N extends a.Module{get Title(){return a.ModuleTitle.VirtualPetConditions}get Settings(){return[{name:"enabled",type:"checkbox",active:e=>!!u(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!1,label:"Recive conditions based on current level of your virtual pet stats"},{name:"foodNOW",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Food and water affects affection gain"},{name:"tint",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Vision darkens as you get sleepier"},{name:"passout",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Passout when exhausted"},{name:"affectionSkillBuffs",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Affection will buff skills based on its level"},{name:"affectionSkillDebuffs",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Affection will debuff skills based on its level"},{name:"hearingLoss",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Hearing becomes harder the hungrier you are"},{name:"slowLeave",type:"checkbox",active:e=>!!u(e).enabled&&!!c(e).enabled&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Takes longer to leave the room when hungry"}]}Load(){(0,i.HookFunction)(this.Title,"GameRun",0,((e,t)=>(f>=250&&p(),f++,t(e)))),(0,i.HookFunction)(this.Title,"Player.GetTints",0,((e,t)=>{if(!d("tint",y))return t(e);const o=((0,s.GetCharacterCurrentStatValue)(Player,y)-g)/(b-g)*(M-P)+P;return P<=o&&o<=M?t(e).concat({r:0,g:0,b:0,a:Math.sqrt(Math.round(1e3*o)/1e3)}):t(e)})),v=[{stat:"sleep",threshhold:0,change:"falling",action:function(){C()},firstRun:function(){0===(0,s.GetCharacterCurrentStatValue)(Player,"sleep")&&C()}},{stat:"sleep",threshhold:.1,change:"rising",action:function(){A&&(CharacterSetFacialExpression(Player,"Emoticon",null),CharacterSetFacialExpression(Player,"Eyes","Dazed"),CharacterSetFacialExpression(Player,"Eyebrows","Lowered"),A=!1,(0,n.SendAction)("SourceCharacter wakes up from PronounPossessive nap.",void 0,[{SourceCharacter:Player.MemberNumber}]))}}],(0,i.HookFunction)(this.Title,"Player.CanTalk",5,((e,t)=>!T()&&t(e))),(0,i.HookFunction)(this.Title,"Player.CanWalk",5,((e,t)=>!T()&&t(e))),(0,i.HookFunction)(this.Title,"Player.CanChangeOwnClothes",5,((e,t)=>!T()&&t(e))),(0,i.HookFunction)(this.Title,"Player.CanInteract",5,((e,t)=>!T()&&t(e))),(0,i.HookFunction)(this.Title,"ServerSend",5,((e,t)=>{if(!T())return t(e);const[o,i]=e;return"ChatRoomChat"!=o||"Chat"!=(null==i?void 0:i.Type)||(null==i?void 0:i.Content.startsWith("("))?t(e):((0,n.SendAction)((0,r.RandomElement)(S),void 0,[{SourceCharacter:Player.MemberNumber}]),null)})),(0,i.HookFunction)(this.Title,"Player.GetDeafLevel",5,((e,t)=>T()?4:t(e))),(0,i.HookFunction)(this.Title,"Player.GetBlindLevel",5,((e,t)=>{var o,r;return T()?"SensDepExtreme"===(null===(o=Player.GameplaySettings)||void 0===o?void 0:o.SensDepChatLog)||"SensDepTotal"===(null===(r=Player.GameplaySettings)||void 0===r?void 0:r.SensDepChatLog)?3:2:t(e)})),(0,i.HookFunction)(this.Title,"Player.GetDeafLevel",5,((e,t)=>{const o=d("hearingLoss","food")?Math.max(0,Math.floor(-10*((0,s.GetCharacterCurrentStatValue)(Player,"food")-.3001))):0;return Math.max(o,t(e))})),SkillModifierMax<10&&(SkillModifierMax=10),k(),w=setInterval(k,16e3),(0,i.HookFunction)(this.Title,"ChatRoomAttemptLeave",0,((e,t)=>{if(!d("slowLeave","food"))return t(e);const o=ChatRoomSlowtimer,r=(0,s.GetCharacterCurrentStatValue)(Player,"food");if(t(e),0===o&&ChatRoomSlowtimer>0&&r<=.3){ChatRoomSlowtimer=CurrentTime+ChatRoomSlowLeaveMinTime+1e3*(-25/.3*r+25)}})),(0,i.HookFunction)(this.Title,"Player.IsSlow",0,((e,t)=>!!(d("slowLeave","food")&&(0,s.GetCharacterCurrentStatValue)(Player,"food")<=.3)||t(e)))}Unload(){super.Unload(),v=[],clearInterval(w)}}},"./src/modules/virtualPetHUD.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{VirtualPetHUDModule:()=>d});var r=o("./src/util/sdk.ts"),n=o("./src/util/authority.ts"),i=o("./src/modules/_module.ts"),a=o("./src/modules/virtualPet.ts");const l=()=>Player.MPA[i.ModuleTitle.VirtualPet],s=()=>Player.MPA[i.ModuleTitle.VirtualPetHUD],u={food:"#f2bb18",water:"#2a9fc3",sleep:"#8d2aee",affection:"#ff78f2"};function c(e,t,o,r){const n=u[r.stat];MainCanvas.beginPath(),MainCanvas.arc(e,t,o,0,2*Math.PI,!0),MainCanvas.lineWidth=o/8,MainCanvas.strokeStyle=n,MainCanvas.stroke(),MainCanvas.beginPath(),MainCanvas.arc(e,t,o,-Math.PI/2,2*Math.PI*-r.level-Math.PI/2,!0),MainCanvas.lineTo(e,t),MainCanvas.fillStyle=n,MainCanvas.fill(),s().exactStats&&(MainCanvas.fillStyle="#000000",MainCanvas.font=CommonGetFont(1.25*o),MainCanvas.fillText(Math.round(100*r.level).toString(),e,t+.125*o),MainCanvas.font=CommonGetFont(36))}class d extends i.Module{get Title(){return i.ModuleTitle.VirtualPetHUD}get Settings(){return[{name:"self",type:"checkbox",active:()=>!!l().enabled,value:!0,label:"Display your own virtual pet stats on the HUD"},{name:"exactStats",type:"checkbox",active:()=>!!l().enabled||"Off"!==s().others,value:!1,label:"Display the exact number percentage on the HUD"},{name:"position",type:"option",active:()=>!!l().enabled||"Off"!==s().others,options:["Left","Center","Right","Split"],value:"Left",label:"Where to display the HUD",loop:!0},{name:"others",type:"option",active:()=>!0,options:["Off","Public","Friends","Whitelist","Lovers","Owners","D/s Family","Clubowner"],value:"Friends",label:"Display the virtual pet stats of others on the HUD",loop:!1}]}Load(){(0,r.HookFunction)(this.Title,"DrawArousalMeter",1,((e,t)=>{var o;const[r,u,d,m]=e;if(!ActivityAllowed()||r.IsPlayer()&&(!s().self||!l().enabled)||!r.IsPlayer()&&"Off"===s().others||!r.IsPlayer()&&!(0,n.IsMemberNumberInAuthGroup)(r.MemberNumber,s().others))return t(e);const h=null===(o=null==r?void 0:r.MPA)||void 0===o?void 0:o[i.ModuleTitle.VirtualPet];if(!(null==h?void 0:h.enabled))return t(e);const v=[];return["food","water","sleep","affection"].forEach((e=>{0!==h[`${e}Hours`]&&v.push({stat:e,level:(0,a.GetCharacterCurrentStatValue)(r,e)})})),0!==v.length&&function(e,t,o,r){const n=s().position;if("Left"===n||"Right"===n)r.reverse(),r.forEach(((r,i)=>{c(e+("Left"===n?80:420)*o,t+(950-36*i)*o,16*o,r)}));else if("Center"===n){const n=r.length;r.forEach(((r,i)=>{c(e+(250-18*(n-1)+36*i)*o,t+950*o,16*o,r)}))}else if("Split"===n){const n=[];switch(r.length){case 1:n.push([r[0]]),n.push([]);break;case 2:n.push([r[0]]),n.push([r[1]]);break;case 3:n.push([r[1],r[0]]),n.push([r[2]]);break;case 4:n.push([r[1],r[0]]),n.push([r[3],r[2]])}n.forEach(((r,n)=>{r.forEach(((r,i)=>{c(e+(0==n?80:420)*o,t+(950-36*i)*o,16*o,r)}))}))}}(u,d,m,v),t(e)}))}Unload(){super.Unload()}}},"./src/util/activities.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{CreateActivities:()=>c,CreateActivity:()=>u,RemoveActivities:()=>m,RemoveActivity:()=>d,activityImages:()=>i,activityPrerequisites:()=>l,activityReceived:()=>s,activityTriggers:()=>a});var r=o("./src/localization/localization.ts"),n=o("./src/util/constants.ts");const i={},a={},l={},s={};function u(e){var t;const o={Name:`${n.ACTIVITY_NAME_PREFIX}${e.Name}`,ActivityID:Math.max(...ActivityFemale3DCG.map((e=>{var t;return null!==(t=e.ActivityID)&&void 0!==t?t:-1})))+1,MaxProgress:null!==(t=e.MaxProgress)&&void 0!==t?t:50,Prerequisite:e.Prerequisite,Target:[]};if(e.CustomPrerequisite){let t=e.CustomPrerequisite;Array.isArray(t)||(t=[t]),t.forEach((e=>{o.Prerequisite.push(e.Name),!(e.Name in l)&&e.Prerequisite&&(l[e.Name]=e.Prerequisite)}))}e.Targets.forEach((e=>{var t;e.actionSelf&&(o.TargetSelf||(o.TargetSelf=[]),null===(t=o.TargetSelf)||void 0===t||t.push(e.group),null===ActivityDictionary||void 0===ActivityDictionary||ActivityDictionary.push([`Label-ChatSelf-${e.group}-${o.Name}`,(0,r.LocalizedText)(e.label)]),null===ActivityDictionary||void 0===ActivityDictionary||ActivityDictionary.push([`ChatSelf-${e.group}-${o.Name}`,(0,r.LocalizedText)(e.actionSelf)])),e.actionOthers&&(o.Target.push(e.group),null===ActivityDictionary||void 0===ActivityDictionary||ActivityDictionary.push([`Label-ChatOther-${e.group}-${o.Name}`,(0,r.LocalizedText)(e.label)]),null===ActivityDictionary||void 0===ActivityDictionary||ActivityDictionary.push([`ChatOther-${e.group}-${o.Name}`,(0,r.LocalizedText)(e.actionOthers)]))})),i[o.Name]=e.Image,e.OnTrigger&&(a[o.Name]=e.OnTrigger),e.OnReceive&&(s[o.Name]=e.OnReceive),ActivityFemale3DCG.push(o),ActivityFemale3DCGOrdering.push(o.Name)}function c(e){e.forEach((e=>{u(e)}))}function d(e){const t=`${n.ACTIVITY_NAME_PREFIX}${e.Name}`;e.Targets.forEach((e=>{var o,r;e.actionSelf&&(ActivityDictionary=null!==(o=null===ActivityDictionary||void 0===ActivityDictionary?void 0:ActivityDictionary.filter((o=>!(o[0]===`Label-ChatSelf-${e.group}-${t}`||o[0]===`ChatSelf-${e.group}-${t}`))))&&void 0!==o?o:null),e.actionOthers&&(ActivityDictionary=null!==(r=null===ActivityDictionary||void 0===ActivityDictionary?void 0:ActivityDictionary.filter((o=>!(o[0]===`Label-ChatOther-${e.group}-${t}`||o[0]===`ChatOther-${e.group}-${t}`))))&&void 0!==r?r:null)})),delete i[t],delete a[t],ActivityFemale3DCG=ActivityFemale3DCG.filter((e=>e.Name!==t)),ActivityFemale3DCGOrdering=ActivityFemale3DCGOrdering.filter((e=>e!==t))}function m(e){e.forEach((e=>{d(e)}))}},"./src/util/authority.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{AUTHORITY_GROUPS:()=>l,AUTHORITY_GROUP_OPTIONS:()=>i,AuthorityIsComparisonToCharacter:()=>c,HighestLevelAuthorityGroup:()=>u,IsMemberNumberInAuthGroup:()=>s});var r=o("./src/modules/_module.ts"),n=o("./src/util/messaging.ts");const i=["Public","Friends","Whitelist","Lovers","Owners","Clubowner","Self"],a=["None","Public","Friends","Whitelist","Lovers","Owners","D/s Family","Clubowner","Self"],l={Self:e=>{var t;return[null!==(t=e.MemberNumber)&&void 0!==t?t:-1]},Clubowner:e=>{var t,o;return(null===(t=null==e?void 0:e.Ownership)||void 0===t?void 0:t.MemberNumber)?[null===(o=null==e?void 0:e.Ownership)||void 0===o?void 0:o.MemberNumber]:[]},Owners:function(e){var t,o,n;const i=(null!==(n=null===(o=null===(t=e.MPA)||void 0===t?void 0:t[r.ModuleTitle.Authority])||void 0===o?void 0:o.owners)&&void 0!==n?n:"").split(",").map((e=>parseInt(e))).filter((e=>!isNaN(e)));return 0===i.length?[]:i},Lovers:e=>{var t,o;return null!==(o=null===(t=e.Lovership)||void 0===t?void 0:t.filter((e=>e.MemberNumber)).map((e=>e.MemberNumber)))&&void 0!==o?o:[]},WhiteList:e=>{var t;return null!==(t=e.WhiteList)&&void 0!==t?t:[]},FriendList:()=>{var e;return null!==(e=Player.FriendList)&&void 0!==e?e:[]}};function s(e,t,o=!1,r=Player){var i,a,s,u,c;if("None"===t)return!1;if(e===l.Self(r)[0])return"Self"===t||o;if(r.BlackList.includes(e)||null!==(a=null===(i=null==r?void 0:r.GhostList)||void 0===i?void 0:i.includes(e))&&void 0!==a&&a)return!1;if("Public"===t)return!0;if("D/s Family"===t&&r.MemberNumber===Player.MemberNumber)return null!==(u=null===(s=(0,n.FindCharacterInRoom)(e))||void 0===s?void 0:s.IsFamilyOfPlayer())&&void 0!==u&&u;let d=new Set;switch(t){case"Friends":if(r.MemberNumber!==Player.MemberNumber&&Player.MemberNumber===e&&l.FriendList().includes(null!==(c=r.MemberNumber)&&void 0!==c?c:-1))return!0;r.MemberNumber===Player.MemberNumber&&(d=new Set([...d,...l.FriendList()]));case"Whitelist":d=new Set([...d,...l.WhiteList(r)]);case"Lovers":d=new Set([...d,...l.Lovers(r)]);case"Owners":d=new Set([...d,...l.Owners(r)]);case"Clubowner":d=new Set([...d,...l.Clubowner(r)])}return d.has(e)}function u(e,t=Player){var o,r,n,i,a,s;return t.MemberNumber===e?"Self":(null===(o=null==t?void 0:t.Ownership)||void 0===o?void 0:o.MemberNumber)===e?"Clubowner":l.Owners(t).includes(e)?"Owners":l.Lovers(t).includes(e)?"Lovers":l.WhiteList(t).includes(e)?"Whitelist":t.MemberNumber===Player.MemberNumber&&(null===(r=Player.FriendList)||void 0===r?void 0:r.includes(e))||t.MemberNumber!==Player.MemberNumber&&e===Player.MemberNumber&&(null===(n=Player.FriendList)||void 0===n?void 0:n.includes(null!==(i=t.MemberNumber)&&void 0!==i?i:-1))?"Friends":t.BlackList.includes(e)||null!==(s=null===(a=null==t?void 0:t.GhostList)||void 0===a?void 0:a.includes(e))&&void 0!==s&&s?"None":"Public"}function c(e,t=">=",o,r=Player){const n=u(o,r),i=a.indexOf(e),l=a.indexOf(n);if(-1===i||-1===l)return!1;switch(t){case">":return l>i;case"<":return l<i;case">=":return l>=i;case"<=":return l<=i;case"==":return l==i;case"!=":return l!=i;default:throw new Error("Invalid comparison operator")}}},"./src/util/constants.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ACTIVITY_NAME_PREFIX:()=>d,ALL_BEDS:()=>p,BED_BAD:()=>f,BED_NORMAL:()=>v,BED_PERFECT:()=>h,BELL_SOUND:()=>m,ICONS:()=>l,INVOLUNTARY_END_PET_SPEAK_PERCENTAGE:()=>c,INVOLUNTARY_PET_SPEAK_PERCENTAGE:()=>s,INVOLUNTARY_RUSHED_SPEAK_PERCENTAGE:()=>u,MPA_NAME:()=>n,MPA_REPO:()=>a,MPA_VERSION:()=>i});var r=o("./package.json");const n=r.name.toLocaleUpperCase(),i=r.version,a=r.repository.url,l=Object.freeze({PAW:"data:image/png;base64,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"}),s=.05,u=.5,c=.2,d="MPA_",m=new Audio("Audio\\BellMedium.mp3"),h=["PetBed","Crib"],v=["LowCage","Kennel","Bed","MedicalBed","Cushion"],f=["FuturisticCrate","DollBox","Kennel","LowCage"],p=h.concat(v,f)},"./src/util/general.ts":(e,t,o)=>{"use strict";function r(e){return 0==e.length?null:e[Math.floor(Math.random()*e.length)]}function n(e,t){let o=structuredClone(e);return t.forEach((e=>{o=o.filter((t=>e!==t))})),o}function i(e){for(let t=e.length-1;t>0;t--){const o=Math.floor(Math.random()*(t+1));[e[t],e[o]]=[e[o],e[t]]}return e}o.r(t),o.d(t,{FilterArrayFromArray:()=>n,RandomElement:()=>r,ShuffleArray:()=>i})},"./src/util/messaging.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{AddDataSyncListener:()=>v,AddDataSyncListeners:()=>f,ArrayToReadableString:()=>b,ContentIsMPAMesage:()=>n,FindCharacterInRoom:()=>d,GetAttributeFromChatDictionary:()=>g,GetEntryFromChatDictionary:()=>y,GetMPAMessageFromChat:()=>i,MPANotifyPlayer:()=>c,NotifyPlayer:()=>u,RemoveDataSyncListeners:()=>p,RemoveOOCContentFromMessage:()=>m,SendAction:()=>l,SendEmote:()=>s,SendMPAMessage:()=>a,hookedMessages:()=>h});var r=o("./src/localization/localization.ts");function n(e){var t;return"Hidden"===e.Type&&"MPA"===e.Content&&1===(null===(t=null==e?void 0:e.Dictionary)||void 0===t?void 0:t.length)}function i(e){return n(e)?e.Dictionary[0]:null}function a(e,t){ServerSend("ChatRoomChat",{Type:"Hidden",Content:"MPA",Dictionary:[e],Target:t})}function l(e,t=void 0,o=[]){ServerSend("ChatRoomChat",{Content:"MayaScript",Type:"Activity",Dictionary:[{Tag:"MISSING ACTIVITY DESCRIPTION FOR KEYWORD MayaScript",Text:(0,r.LocalizedText)(e)},...o],Target:null==t?void 0:t.MemberNumber})}function s(e,t=void 0){ServerSend("ChatRoomChat",{Content:`${e}`,Type:"Emote",Target:null==t?void 0:t.MemberNumber})}function u(e,t){var o,r;const n="Dark"===(null===(o=Player.ChatSettings)||void 0===o?void 0:o.ColorTheme)||"Dark2"===(null===(r=Player.ChatSettings)||void 0===r?void 0:r.ColorTheme);ChatRoomSendLocal(`<p style='background-color:#00c2ff;color:${n?"white":"black"};margin-bottom:0.25em;margin-top:0'>${e}</p>`,t)}function c(e,t){u(`${(0,r.LocalizedText)("MPA")}: ${e}`,t)}function d(e,{MemberNumber:t=!0,NickName:o=!0,Name:r=!0}={}){var n;"string"!=typeof e&&(e=e.toString()),e=e.toLocaleLowerCase();for(const i of ChatRoomCharacter)if(t&&(null==i?void 0:i.MemberNumber)===Number(e)||o&&(null===(n=null==i?void 0:i.Nickname)||void 0===n?void 0:n.toLocaleLowerCase())===e||r&&i.Name.toLocaleLowerCase()===e)return i;return null}function m(e){return SpeechGetOOCRanges(e).reverse().forEach((t=>{e=e.substring(0,t.start)+e.substring(t.start+t.length)})),e}const h=[];function v(e){h.push({module:e.module,message:e.message,action:e.action})}function f(e){e.forEach((e=>{h.push({module:e.module,message:e.message,action:e.action})}))}function p(e){for(let t=h.length-1;0<=t;t--)h[t].module===e&&h.splice(t,1)}function y(e,t){if(e.Dictionary)try{return e.Dictionary.filter((e=>!!e[t]))[0]}catch(e){}}function g(e,t){var o;return null===(o=y(e,t))||void 0===o?void 0:o[t]}function b(e){const t=e.length;return 0===t?"":1===t?e[0]:2===t?`${e[0]} and ${e[1]}`:`${e.slice(0,-1).join(", ")}, and ${e[t-1]}`}},"./src/util/petHearAndSpeak.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{AppendPetSpeech:()=>i,ApplyPetHearing:()=>a,NonDisruptivePetSpeech:()=>l});var r=o("./src/util/constants.ts"),n=o("./src/util/general.ts");function i(e,t){const o=(0,n.RandomElement)(t);return null===o?e:/[.!?]$/.test(e)?`${e} ${o.charAt(0).toLocaleUpperCase()+o.slice(1)}.`:/[a-zA-Z]$/.test(e)?`${e}, ${o}.`:`${e} ${o}.`}function a([e,t,o],r,n){n.push((Player.Nickname||Player.Name).toLocaleLowerCase()),"SheHer"===Player.GetPronouns()?(n.push("girl"),n.push("she"),n.push("her")):(n.push("boy"),n.push("he"),n.push("him"));const i=e.toLocaleLowerCase();let a=[];n.forEach((e=>{const t=new RegExp(`\\b${e}\\b`,"g");[...i.matchAll(t)].forEach((t=>{a.push({start:t.index,len:e.length})}))}));const l=new Map;for(const e of a){const t=`${e.start}-${e.len}`;l.has(t)||l.set(t,e)}if(a=Array.from(l.values()),0===a.length)return r([e,t,o]);a.sort(((e,t)=>e.start-t.start));SpeechGetOOCRanges(e).forEach((e=>{for(let t=a.length-1;t>=0;t--){const o=a[t];(e.start<o.start&&o.start<e.start+e.length||e.start<o.start+o.len&&o.start+o.len<e.start+e.length)&&a.splice(t,1)}}));let s=0,u="";return a.forEach((n=>{u+=r([e.substring(s,n.start),t,o]),s=n.start+n.len,u+=e.substring(n.start,n.start+n.len)})),u+=r([e.substring(s),t,o]),u}function l(e,t,o){var a;if(0===o.length)return t([e]);let l=[];function s(){var e;return 0===l.length&&(l=o.concat(o),l=(0,n.ShuffleArray)(l)),null!==(e=l.pop())&&void 0!==e?e:""}let u=0,c=[];const d=SpeechGetOOCRanges(e);for(const t of d)""!==e.substring(u,t.start)&&c.push({text:e.substring(u,t.start),ooc:!1}),c.push({text:e.substring(t.start,t.start+t.length),ooc:!0}),u=t.start+t.length;const m=e.substring(u);""!==m&&c.push({text:m,ooc:!1}),c=c.map(((e,t)=>{const o=/\s+$/.exec(e.text);return e.text=e.text.replace(/\s+$/,""),o&&c[t+1]&&(c[t+1].text=o[0]+c[t+1].text),e}));let h=!1,v="";for(const e of c){if(e.ooc){v+=e.text;continue}const t=e.text.match(/(\s*\S+)/g)||[];let o=null;t.forEach((e=>{if(Math.random()<r.INVOLUNTARY_PET_SPEAK_PERCENTAGE){h=!0;const t=s(),n=null===o;n||/[.!?]$/.test(null!=o?o:"")?v+=`${n?"":" "}${t.charAt(0).toLocaleUpperCase()}${t.slice(1)}`+(/[.!?]$/.test(e)||n?"."+(n?" ":""):", "):v+=`${Math.random()<r.INVOLUNTARY_RUSHED_SPEAK_PERCENTAGE&&!(null!=o?o:"").endsWith(",")?",":""} ${t},`}v+=e,o=e})),(null===(a=c.slice().reverse().find((e=>!e.ooc)))||void 0===a?void 0:a.text)===e.text&&(!h||Math.random()<r.INVOLUNTARY_END_PET_SPEAK_PERCENTAGE)&&(v=i(v,[s()]))}return t([v])}},"./src/util/registerModules.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{RegisterModules:()=>g,modules:()=>p,settings:()=>y});var r=o("./src/util/storage.ts"),n=o("./src/modules/dataSync.ts"),i=o("./src/modules/settings.ts"),a=o("./src/modules/activities.ts"),l=o("./src/modules/clicker.ts"),s=o("./src/modules/virtualPet.ts"),u=o("./src/modules/virtualPetHUD.ts"),c=o("./src/modules/virtualPetConditions.ts"),d=o("./src/modules/profile.ts"),m=o("./src/modules/settingsOthers.ts"),h=o("./src/modules/authority.ts"),v=o("./src/modules/private.ts");let f=!1;const p=[new n.DataSyncModule,new i.SettingsModule,new a.ActivitiesModule,new l.ClickerModule,new s.VirtualPetModule,new u.VirtualPetHUDModule,new c.VirtualPetConditionsModule,new d.ProfileModule,new m.SettingsOtherModule,new h.AuthorityModule,new v.PrivateModule],y={};async function g(){f||(p.forEach((e=>{const t=e.Settings,o={};t.forEach((e=>{o[e.name]=e})),0!==Object.keys(o).length&&(y[e.Title]=o)})),await(0,r.LoadStorage)(),p.forEach((e=>{e.Load()})),f=!0)}},"./src/util/sdk.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{AwaitPlayer:()=>c,HookFunction:()=>s,RemoveHooks:()=>u,bcxAPI:()=>d,bcxFound:()=>m,modAPI:()=>l});var r=o("./node_modules/bondage-club-mod-sdk/dist/bcmodsdk.js"),n=o.n(r),i=o("./src/util/constants.ts");const a=[],l=n().registerMod({name:i.MPA_NAME,version:i.MPA_VERSION,fullName:"Maya's Petplay Additions",repository:i.MPA_REPO},{allowReplace:!1});function s(e,t,o,r){const n=l.hookFunction(t,o,r);return a.push({functionName:t,priority:o,hook:r,module:e,removeHook:n}),n}function u(e){for(let t=a.length-1;0<=t;t--)a[t].module===e&&(a[t].removeHook(),a.splice(t,1))}async function c(){if(!Player.MemberNumber||!Player.ExtensionSettings)return new Promise((e=>{const t=l.hookFunction("LoginResponse",0,((o,r)=>{r(o),t(),e()}))}))}function d(){var e;return null===(e=window.bcx)||void 0===e?void 0:e.getModApi(i.MPA_NAME)}function m(){return!!window.bcx}},"./src/util/settingTypes.ts":(e,t,o)=>{"use strict";function r(e){return"function"==typeof e.active&&"string"==typeof e.label}function n(e){return r(e)&&"checkbox"===e.type&&"boolean"==typeof e.value}function i(e){return r(e)&&"option"===e.type&&"string"==typeof e.value&&Array.isArray(e.options)&&"boolean"==typeof e.loop}function a(e){return r(e)&&"text"===e.type&&"string"==typeof e.value&&("number"==typeof e.width||null===e.width)&&("number"==typeof e.maxChars||null===e.maxChars)}function l(e){return r(e)&&"number"===e.type&&"number"==typeof e.value&&("number"==typeof e.width||null===e.width)&&"number"==typeof e.min&&"number"==typeof e.max&&("number"==typeof e.step||null===e.step)}o.r(t),o.d(t,{IsCheckboxSetting:()=>n,IsDisplaySetting:()=>r,IsNumberSetting:()=>l,IsOptionSetting:()=>i,IsTextSetting:()=>a})},"./src/util/storage.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ExportSettingsToClipboard:()=>h,ImportSettingsFromClipboard:()=>v,LoadStorage:()=>c,ResetStorage:()=>m,SaveStorage:()=>d});var r=o("./src/localization/localization.ts"),n=o("./src/util/registerModules.ts"),i=o("./src/util/sdk.ts"),a=o("./src/modules/dataSync.ts"),l=o("./src/modules/_module.ts"),s=o("./src/util/constants.ts"),u=o("./src/modules/virtualPet.ts");async function c(){var e,t,o,a;await(0,i.AwaitPlayer)();const l=null!==(a=JSON.parse(null!==(o=LZString.decompressFromBase64(null!==(t=null===(e=Player.ExtensionSettings)||void 0===e?void 0:e.MPA)&&void 0!==t?t:""))&&void 0!==o?o:"{}"))&&void 0!==a?a:{};Object.entries(n.settings).forEach((e=>{const[t,o]=e;for(const[e,r]of Object.entries(o))t in l||(l[t]={}),e in l[t]||(l[t][e]=r.value)})),function(e){var t;e.version!==s.MPA_VERSION&&(ServerAccountBeep({MemberNumber:null!==(t=Player.MemberNumber)&&void 0!==t?t:-1,MemberName:(0,r.LocalizedText)("MPA"),ChatRoomSpace:"X",ChatRoomName:(0,r.LocalizedText)("MPA Updated"),Private:!1,BeepType:"",Message:"MPA has been updated."}),e.version=s.MPA_VERSION,d(!1))}(l),Player.MPA=l}function d(e=!0){Player.MPA&&(Player.MPA[l.ModuleTitle.Authority].owners=Player.MPA[l.ModuleTitle.Authority].owners.split(",").filter((e=>Number(e)!==Player.MemberNumber)).join(","),Player.ExtensionSettings.MPA=LZString.compressToBase64(JSON.stringify(Player.MPA)),ServerPlayerExtensionSettingsSync("MPA"),e&&(0,a.SettingSync)(!1))}async function m(){delete Player.ExtensionSettings.MPA,Player.ExtensionSettings.MPA=LZString.compressToBase64(JSON.stringify({version:s.MPA_VERSION})),await c(),d()}async function h(){return navigator.clipboard.writeText(LZString.compressToBase64(JSON.stringify(Player.MPA)))}async function v(){return new Promise(((e,t)=>{navigator.clipboard.readText().then((o=>{var r;try{const e=JSON.parse(null!==(r=LZString.decompressFromBase64(null!=o?o:""))&&void 0!==r?r:"{}"),t=JSON.parse(JSON.stringify(Player.MPA));t[l.ModuleTitle.VirtualPet].levels.lastUpdated=Date.now(),t[l.ModuleTitle.VirtualPet].levels.lastOnline=Date.now();for(const o in e)void 0!==e[o]&&(t[o]=e[o]);t[l.ModuleTitle.VirtualPet].levels.lastUpdated=Date.now()-(t[l.ModuleTitle.VirtualPet].levels.lastOnline-t[l.ModuleTitle.VirtualPet].levels.lastUpdated),t[l.ModuleTitle.VirtualPet].levels.lastOnline=Date.now(),Player.MPA=t,(0,u.LevelSync)(!1,!1,!1),d(!0)}catch(e){return console.warn(e),t()}return e()}),(()=>t()))}))}},"./package.json":e=>{"use strict";e.exports=JSON.parse('{"name":"mpa","description":"","version":"0.4.4b2","author":"Maya","license":"MIT","repository":{"type":"git","url":"https://github.com/MayaTheFoxy/MPA"},"scripts":{"serve":"npx webpack serve --progress","stable":"npx webpack --env stable=true","dev":"npx webpack --env stable=false","lint":"eslint ./src","lint-fix":"eslint ./src --fix"},"dependencies":{"bondage-club-mod-sdk":"^1.2.0"},"devDependencies":{"@eslint/js":"^9.9.0","@stylistic/eslint-plugin":"^2.6.2","bc-stubs":"^111.0.0","eslint":"^9.9.0","globals":"^15.9.0","lz-string":"^1.5.0","terser-webpack-plugin":"^5.3.10","ts-loader":"^9.5.1","typescript":"^5.5.4","typescript-eslint":"^8.1.0","webpack":"^5.93.0","webpack-cli":"^5.1.4","webpack-dev-server":"^5.0.4"}}')},"./src/localization/RU.json":e=>{"use strict";e.exports=JSON.parse('{"Maya\'s Petplay Additions":"Дополнения для петплея от Maya","MPA Settings":"","Clicker":"Кликер","Enable auditory clicker":"","Phrases that trigger the click; Separate phrases with a comma":"Фразы, которые совершают клик; Разделяйте фразы с помощью запятой","Allow your own chat, emotes, & actions to trigger the clicker":"Разрешить вашим собственным сообщения в чате, эмоциям или действиям совершать клик","Who will be able to trigger the clicker":"Кто сможет вызывать срабатывание кликера","Public":"Публично","Friends":"Друзья","Whitelist":"Белый список","Lovers":"Любовники","Owners":"Владельцы","Clubowner":"Клубный владелец","Self":"Самостоятельно","Virtual Pet":"Виртуальный питомец","Become a virtual pet! Requiring: food, water, sleep, and affection":"Станьте виртуальным питомцем! Ваши потребности: еда, вода, сон и ласка","How many hours until you are completely out of food; 0 to disable":"Через сколько часов у вас полностью закончится еда; 0 для отключения","How many hours until you are completely out of water; 0 to disable":"Через сколько часов у вас полностью закончится вода; 0 для отключения","How many hours until you are completely out of sleep; 0 to disable":"Через сколько часов у вас полностью закончится сон; 0 для отключения","How many hours until you are completely out of affection; 0 to disable":"Через сколько часов у вас полностью закончится ласка; 0 для отключения","Pause stats from draining when logged out of the club":"Приостановить снижение показателей при выходе из клуба","Allow eating or drinking from items in your OWN hands":"Разрешить есть или пить из предметов в ваших СОБСТВЕННЫХ руках","Click Once":"Щелкнуть один раз","SourceCharacter presses the button PronounPossessive clicker.":"SourceCharacter нажимает на кнопку PronounPossessive кликера.","Click Twice":"Щелкнуть дважды","SourceCharacter presses the button PronounPossessive clicker twice.":"SourceCharacter нажимает на кнопку PronounPossessive кликера дважды.","Click Thrice":"Щелкнуть трижды","SourceCharacter presses the button PronounPossessive clicker three times.":"SourceCharacter нажимает на кнопку PronounPossessive кликера трижды."}')},"./src/localization/template.json":e=>{"use strict";e.exports=JSON.parse('{"Maya\'s Petplay Additions":"","MPA":"","MPA Settings":"","MPA: No BC item permission":"","MPA Updated":"","Wiki":"","Open the MPA wiki in a new tab":"","RESET":"","Reset all your settings back to default":"","Import":"","Import the settings copied to your clipboard":"","Export":"","Export your current settings to the clipboard":"","Confirm":"","Cancel":"","WARNING: Are you sure you want to reset your MPA settings and data back to default?":"","This action can not be undone!":"","Export and save your settings BEFORE confirming if you are unsure.":"","SourceCharacter is accessing your MPA settings.":"","Public":"","Friends":"","Whitelist":"","Lovers":"","Owners":"","Clubowner":"","Self":"","None":"","Authority":"","Owner member numbers; Seperated by a ,":"","Allow TargetCharacter changing TargetPronounPossessive own settings while bound":"","Allow TargetCharacter changing the settings of others while bound":"","Allow TargetCharacter to change TargetPronounPossessive Authority settings":"","Allow others to change TargetCharacter\'s Authority settings":"","Allow TargetCharacter to change TargetPronounPossessive Profile settings":"","Allow others to change TargetCharacter\'s Profile settings":"","Allow TargetCharacter to change TargetPronounPossessive Clicker settings":"","Allow others to change TargetCharacter\'s Clicker settings":"","Allow TargetCharacter to change TargetPronounPossessive Virtual Pet settings":"","Allow others to change TargetCharacter\'s Virtual Pet settings":"","Allow TargetCharacter to change TargetPronounPossessive Virtual Pet Conditions settings":"","Allow others to change TargetCharacter\'s Virtual Pet Conditions settings":"","SourceCharacter just updated your SettingsArray settings.":"","Profile":"","Use a preset profile or make your own":"","Pet sounds you make":"","Enable hardcore mode; Will set certain settings and prevent changing them back":"","Automatically make the above pet sounds while talking":"","Clicker":"","Enable auditory clicker":"","Phrases that trigger the click; Separate phrases with a comma":"","Allow your own chat, emotes, & actions to trigger the clicker":"","Who will be able to trigger the clicker":"","Allow BCX Listen to my voice rule to trigger the clicker; Requires BCX":"","Virtual Pet":"","Become a virtual pet! Requiring: food, water, sleep, and affection":"","How many hours until you are completely out of food; 0 to disable":"","How many hours until you are completely out of water; 0 to disable":"","How many hours until you are completely out of sleep; 0 to disable":"","How many hours until you are completely out of affection; 0 to disable":"","Pause stats from draining when logged out of the club":"","Allow eating or drinking from items in your OWN hands":"","Stats drain even when logged out of the club":"","Masochist pet; Abuse raises affection":"","Virtual Pet HUD":"","Display your own virtual pet stats on the HUD":"","Display the exact number percentage on the HUD":"","Where to display the HUD":"","Display the virtual pet stats of others on the HUD":"","Click Once":"","SourceCharacter presses the button on PronounPossessive clicker.":"","Click Twice":"","SourceCharacter presses the button on PronounPossessive clicker twice.":"","Click Thrice":"","SourceCharacter presses the button on PronounPossessive clicker three times.":"","Eat From Bowl":"","Drink From Bowl":"","SourceCharacter eats from PronounPossessive bowl.":"","SourceCharacter drinks from PronounPossessive bowl.":"","SourceCharacter puts PronounPossessive head into PronounPossessive bowl in order to eat with the gag, making a mess.":"","SourceCharacter puts PronounPossessive head into PronounPossessive bowl in order to drink with the gag, making a mess.":"","Virtual Pet Conditions":"","SourceCharacter passes out from exhaustion.":"","SourceCharacter wakes up from PronounPossessive nap.":"","Recive conditions based on current level of your virtual pet stats":"","Food and water affects affection gain":"","Vision darkens as you get sleepier":"","Passout when exhausted":"","Use LSCG passout instead of MPA; Requires LSCG":"","Affection will buff skills based on its level":"","Affection will debuff skills based on its level":"","Hearing becomes harder the hungrier you are":"","Takes longer to leave the room when hungry":"","Flick Bell":"","SourceCharacter flicks the bell on PronounPossessive collar.":"","SourceCharacter flicks the bell on TargetCharacter\'s collar.":"","SourceCharacter flicks the bells on PronounPossessive nipples.":"","SourceCharacter flicks the bells on TargetCharacter\'s nipples.":""}')}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,o),i.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{"use strict";o.r(r);var e=o("./src/util/registerModules.ts"),t=o("./src/commands/buildAllCommands.ts"),n=o("./src/util/constants.ts");console.log("Loading Maya's Petplay Additions"),(0,t.BuildAllCommands)(),(0,e.RegisterModules)(),window.MPA={version:n.MPA_VERSION,menuLoaded:!1}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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S0FBU3lhLEVBQW9CNzFCLEVBQUUyRyxFQUFTeVUsSUFDNUVuWCxPQUFPeUMsZUFBZUMsRUFBU3lVLEVBQUssQ0FBRWdiLFlBQVksRUFBTTMwQixJQUFLMDBCLEVBQVcvYSxJQUUxRSxFQ05EeWEsRUFBb0I3MUIsRUFBSSxDQUFDaXpCLEVBQUtvRCxJQUFVcHlCLE9BQU9xeUIsVUFBVUMsZUFBZTV6QixLQUFLc3dCLEVBQUtvRCxHQ0NsRlIsRUFBb0JsMUIsRUFBS2dHLElBQ0gsb0JBQVg2dkIsUUFBMEJBLE9BQU9DLGFBQzFDeHlCLE9BQU95QyxlQUFlQyxFQUFTNnZCLE9BQU9DLFlBQWEsQ0FBRTd2QixNQUFPLFdBRTdEM0MsT0FBT3lDLGVBQWVDLEVBQVMsYUFBYyxDQUFFQyxPQUFPLEdBQU8sdUpDSzlEeEcsUUFBUXFwQixJQUFJLHFDQUVaLElBQUF0ZSxxQkFDQSxJQUFBMm9CLG1CQUNBdHdCLE9BQU9nRixJQUFNLENBQ1R0RCxRQUFTLEVBQUF1cUIsWUFDVHhTLFlBQVkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tcGEvLi9ub2RlX21vZHVsZXMvYm9uZGFnZS1jbHViLW1vZC1zZGsvZGlzdC9iY21vZHNkay5qcyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvY29tbWFuZHMvYmVkLnRzIiwid2VicGFjazovL21wYS8uL3NyYy9jb21tYW5kcy9idWlsZEFsbENvbW1hbmRzLnRzIiwid2VicGFjazovL21wYS8uL3NyYy9sb2NhbGl6YXRpb24vbG9jYWxpemF0aW9uLnRzIiwid2VicGFjazovL21wYS8uL3NyYy9tb2R1bGVzL19tb2R1bGUudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL21vZHVsZXMvYWN0aXZpdGllcy50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvbW9kdWxlcy9hdXRob3JpdHkudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL21vZHVsZXMvY2xpY2tlci50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvbW9kdWxlcy9kYXRhU3luYy50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvbW9kdWxlcy9wcml2YXRlLnRzIiwid2VicGFjazovL21wYS8uL3NyYy9tb2R1bGVzL3Byb2ZpbGUudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL21vZHVsZXMvc2V0dGluZ3MudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL21vZHVsZXMvc2V0dGluZ3NPdGhlcnMudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL21vZHVsZXMvdmlydHVhbFBldC50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvbW9kdWxlcy92aXJ0dWFsUGV0Q29uZGl0aW9ucy50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvbW9kdWxlcy92aXJ0dWFsUGV0SFVELnRzIiwid2VicGFjazovL21wYS8uL3NyYy91dGlsL2FjdGl2aXRpZXMudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL3V0aWwvYXV0aG9yaXR5LnRzIiwid2VicGFjazovL21wYS8uL3NyYy91dGlsL2NvbnN0YW50cy50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvdXRpbC9nZW5lcmFsLnRzIiwid2VicGFjazovL21wYS8uL3NyYy91dGlsL21lc3NhZ2luZy50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvdXRpbC9wZXRIZWFyQW5kU3BlYWsudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL3V0aWwvcmVnaXN0ZXJNb2R1bGVzLnRzIiwid2VicGFjazovL21wYS8uL3NyYy91dGlsL3Nkay50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvdXRpbC9zZXR0aW5nVHlwZXMudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL3V0aWwvc3RvcmFnZS50cyIsIndlYnBhY2s6Ly9tcGEvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vbXBhL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL21wYS93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vbXBhL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vbXBhL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEJvbmRhZ2UgQ2x1YiBNb2QgRGV2ZWxvcG1lbnQgS2l0ICgxLjIuMClcbi8vIEZvciBtb3JlIGluZm8gc2VlOiBodHRwczovL2dpdGh1Yi5jb20vSm9tc2hpcjk4L2JvbmRhZ2UtY2x1Yi1tb2Qtc2RrXG4vKiogQHR5cGUge01vZFNES0dsb2JhbEFQSX0gKi9cbnZhciBiY01vZFNkaz1mdW5jdGlvbigpe1widXNlIHN0cmljdFwiO2NvbnN0IG89XCIxLjIuMFwiO2Z1bmN0aW9uIGUobyl7YWxlcnQoXCJNb2QgRVJST1I6XFxuXCIrbyk7Y29uc3QgZT1uZXcgRXJyb3Iobyk7dGhyb3cgY29uc29sZS5lcnJvcihlKSxlfWNvbnN0IHQ9bmV3IFRleHRFbmNvZGVyO2Z1bmN0aW9uIG4obyl7cmV0dXJuISFvJiZcIm9iamVjdFwiPT10eXBlb2YgbyYmIUFycmF5LmlzQXJyYXkobyl9ZnVuY3Rpb24gcihvKXtjb25zdCBlPW5ldyBTZXQ7cmV0dXJuIG8uZmlsdGVyKChvPT4hZS5oYXMobykmJmUuYWRkKG8pKSl9Y29uc3QgaT1uZXcgTWFwLGE9bmV3IFNldDtmdW5jdGlvbiBjKG8pe2EuaGFzKG8pfHwoYS5hZGQobyksY29uc29sZS53YXJuKG8pKX1mdW5jdGlvbiBzKG8pe2NvbnN0IGU9W10sdD1uZXcgTWFwLG49bmV3IFNldDtmb3IoY29uc3QgciBvZiBmLnZhbHVlcygpKXtjb25zdCBpPXIucGF0Y2hpbmcuZ2V0KG8ubmFtZSk7aWYoaSl7ZS5wdXNoKC4uLmkuaG9va3MpO2Zvcihjb25zdFtlLGFdb2YgaS5wYXRjaGVzLmVudHJpZXMoKSl0LmhhcyhlKSYmdC5nZXQoZSkhPT1hJiZjKGBNb2RTREs6IE1vZCAnJHtyLm5hbWV9JyBpcyBwYXRjaGluZyBmdW5jdGlvbiAke28ubmFtZX0gd2l0aCBzYW1lIHBhdHRlcm4gdGhhdCBpcyBhbHJlYWR5IGFwcGxpZWQgYnkgZGlmZmVyZW50IG1vZCwgYnV0IHdpdGggZGlmZmVyZW50IHBhdHRlcm46XFxuUGF0dGVybjpcXG4ke2V9XFxuUGF0Y2gxOlxcbiR7dC5nZXQoZSl8fFwiXCJ9XFxuUGF0Y2gyOlxcbiR7YX1gKSx0LnNldChlLGEpLG4uYWRkKHIubmFtZSl9fWUuc29ydCgoKG8sZSk9PmUucHJpb3JpdHktby5wcmlvcml0eSkpO2NvbnN0IHI9ZnVuY3Rpb24obyxlKXtpZigwPT09ZS5zaXplKXJldHVybiBvO2xldCB0PW8udG9TdHJpbmcoKS5yZXBsYWNlQWxsKFwiXFxyXFxuXCIsXCJcXG5cIik7Zm9yKGNvbnN0W24scl1vZiBlLmVudHJpZXMoKSl0LmluY2x1ZGVzKG4pfHxjKGBNb2RTREs6IFBhdGNoaW5nICR7by5uYW1lfTogUGF0Y2ggJHtufSBub3QgYXBwbGllZGApLHQ9dC5yZXBsYWNlQWxsKG4scik7cmV0dXJuKDAsZXZhbCkoYCgke3R9KWApfShvLm9yaWdpbmFsLHQpO2xldCBpPWZ1bmN0aW9uKGUpe3ZhciB0LGk7Y29uc3QgYT1udWxsPT09KGk9KHQ9bS5lcnJvclJlcG9ydGVySG9va3MpLmhvb2tDaGFpbkV4aXQpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmNhbGwodCxvLm5hbWUsbiksYz1yLmFwcGx5KHRoaXMsZSk7cmV0dXJuIG51bGw9PWF8fGEoKSxjfTtmb3IobGV0IHQ9ZS5sZW5ndGgtMTt0Pj0wO3QtLSl7Y29uc3Qgbj1lW3RdLHI9aTtpPWZ1bmN0aW9uKGUpe3ZhciB0LGk7Y29uc3QgYT1udWxsPT09KGk9KHQ9bS5lcnJvclJlcG9ydGVySG9va3MpLmhvb2tFbnRlcil8fHZvaWQgMD09PWk/dm9pZCAwOmkuY2FsbCh0LG8ubmFtZSxuLm1vZCksYz1uLmhvb2suYXBwbHkodGhpcyxbZSxvPT57aWYoMSE9PWFyZ3VtZW50cy5sZW5ndGh8fCFBcnJheS5pc0FycmF5KGUpKXRocm93IG5ldyBFcnJvcihgTW9kICR7bi5tb2R9IGZhaWxlZCB0byBjYWxsIG5leHQgaG9vazogRXhwZWN0ZWQgYXJncyB0byBiZSBhcnJheSwgZ290ICR7dHlwZW9mIG99YCk7cmV0dXJuIHIuY2FsbCh0aGlzLG8pfV0pO3JldHVybiBudWxsPT1hfHxhKCksY319cmV0dXJue2hvb2tzOmUscGF0Y2hlczp0LHBhdGNoZXNTb3VyY2VzOm4sZW50ZXI6aSxmaW5hbDpyfX1mdW5jdGlvbiBsKG8sZT0hMSl7bGV0IHI9aS5nZXQobyk7aWYocillJiYoci5wcmVjb21wdXRlZD1zKHIpKTtlbHNle2xldCBlPXdpbmRvdztjb25zdCBhPW8uc3BsaXQoXCIuXCIpO2ZvcihsZXQgdD0wO3Q8YS5sZW5ndGgtMTt0KyspaWYoZT1lW2FbdF1dLCFuKGUpKXRocm93IG5ldyBFcnJvcihgTW9kU0RLOiBGdW5jdGlvbiAke299IHRvIGJlIHBhdGNoZWQgbm90IGZvdW5kOyAke2Euc2xpY2UoMCx0KzEpLmpvaW4oXCIuXCIpfSBpcyBub3Qgb2JqZWN0YCk7Y29uc3QgYz1lW2FbYS5sZW5ndGgtMV1dO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGMpdGhyb3cgbmV3IEVycm9yKGBNb2RTREs6IEZ1bmN0aW9uICR7b30gdG8gYmUgcGF0Y2hlZCBub3QgZm91bmRgKTtjb25zdCBsPWZ1bmN0aW9uKG8pe2xldCBlPS0xO2Zvcihjb25zdCBuIG9mIHQuZW5jb2RlKG8pKXtsZXQgbz0yNTUmKGVebik7Zm9yKGxldCBlPTA7ZTw4O2UrKylvPTEmbz8tMzA2Njc0OTEyXm8+Pj4xOm8+Pj4xO2U9ZT4+Pjheb31yZXR1cm4oKC0xXmUpPj4+MCkudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDgsXCIwXCIpLnRvVXBwZXJDYXNlKCl9KGMudG9TdHJpbmcoKS5yZXBsYWNlQWxsKFwiXFxyXFxuXCIsXCJcXG5cIikpLGQ9e25hbWU6byxvcmlnaW5hbDpjLG9yaWdpbmFsSGFzaDpsfTtyPU9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxkKSx7cHJlY29tcHV0ZWQ6cyhkKSxyb3V0ZXI6KCk9Pnt9LGNvbnRleHQ6ZSxjb250ZXh0UHJvcGVydHk6YVthLmxlbmd0aC0xXX0pLHIucm91dGVyPWZ1bmN0aW9uKG8pe3JldHVybiBmdW5jdGlvbiguLi5lKXtyZXR1cm4gby5wcmVjb21wdXRlZC5lbnRlci5hcHBseSh0aGlzLFtlXSl9fShyKSxpLnNldChvLHIpLGVbci5jb250ZXh0UHJvcGVydHldPXIucm91dGVyfXJldHVybiByfWZ1bmN0aW9uIGQoKXtmb3IoY29uc3QgbyBvZiBpLnZhbHVlcygpKW8ucHJlY29tcHV0ZWQ9cyhvKX1mdW5jdGlvbiBwKCl7Y29uc3Qgbz1uZXcgTWFwO2Zvcihjb25zdFtlLHRdb2YgaSlvLnNldChlLHtuYW1lOmUsb3JpZ2luYWw6dC5vcmlnaW5hbCxvcmlnaW5hbEhhc2g6dC5vcmlnaW5hbEhhc2gsc2RrRW50cnlwb2ludDp0LnJvdXRlcixjdXJyZW50RW50cnlwb2ludDp0LmNvbnRleHRbdC5jb250ZXh0UHJvcGVydHldLGhvb2tlZEJ5TW9kczpyKHQucHJlY29tcHV0ZWQuaG9va3MubWFwKChvPT5vLm1vZCkpKSxwYXRjaGVkQnlNb2RzOkFycmF5LmZyb20odC5wcmVjb21wdXRlZC5wYXRjaGVzU291cmNlcyl9KTtyZXR1cm4gb31jb25zdCBmPW5ldyBNYXA7ZnVuY3Rpb24gdShvKXtmLmdldChvLm5hbWUpIT09byYmZShgRmFpbGVkIHRvIHVubG9hZCBtb2QgJyR7by5uYW1lfSc6IE5vdCByZWdpc3RlcmVkYCksZi5kZWxldGUoby5uYW1lKSxvLmxvYWRlZD0hMSxkKCl9ZnVuY3Rpb24gZyhvLHQpe28mJlwib2JqZWN0XCI9PXR5cGVvZiBvfHxlKFwiRmFpbGVkIHRvIHJlZ2lzdGVyIG1vZDogRXhwZWN0ZWQgaW5mbyBvYmplY3QsIGdvdCBcIit0eXBlb2YgbyksXCJzdHJpbmdcIj09dHlwZW9mIG8ubmFtZSYmby5uYW1lfHxlKFwiRmFpbGVkIHRvIHJlZ2lzdGVyIG1vZDogRXhwZWN0ZWQgbmFtZSB0byBiZSBub24tZW1wdHkgc3RyaW5nLCBnb3QgXCIrdHlwZW9mIG8ubmFtZSk7bGV0IHI9YCcke28ubmFtZX0nYDtcInN0cmluZ1wiPT10eXBlb2Ygby5mdWxsTmFtZSYmby5mdWxsTmFtZXx8ZShgRmFpbGVkIHRvIHJlZ2lzdGVyIG1vZCAke3J9OiBFeHBlY3RlZCBmdWxsTmFtZSB0byBiZSBub24tZW1wdHkgc3RyaW5nLCBnb3QgJHt0eXBlb2Ygby5mdWxsTmFtZX1gKSxyPWAnJHtvLmZ1bGxOYW1lfSAoJHtvLm5hbWV9KSdgLFwic3RyaW5nXCIhPXR5cGVvZiBvLnZlcnNpb24mJmUoYEZhaWxlZCB0byByZWdpc3RlciBtb2QgJHtyfTogRXhwZWN0ZWQgdmVyc2lvbiB0byBiZSBzdHJpbmcsIGdvdCAke3R5cGVvZiBvLnZlcnNpb259YCksby5yZXBvc2l0b3J5fHwoby5yZXBvc2l0b3J5PXZvaWQgMCksdm9pZCAwIT09by5yZXBvc2l0b3J5JiZcInN0cmluZ1wiIT10eXBlb2Ygby5yZXBvc2l0b3J5JiZlKGBGYWlsZWQgdG8gcmVnaXN0ZXIgbW9kICR7cn06IEV4cGVjdGVkIHJlcG9zaXRvcnkgdG8gYmUgdW5kZWZpbmVkIG9yIHN0cmluZywgZ290ICR7dHlwZW9mIG8udmVyc2lvbn1gKSxudWxsPT10JiYodD17fSksdCYmXCJvYmplY3RcIj09dHlwZW9mIHR8fGUoYEZhaWxlZCB0byByZWdpc3RlciBtb2QgJHtyfTogRXhwZWN0ZWQgb3B0aW9ucyB0byBiZSB1bmRlZmluZWQgb3Igb2JqZWN0LCBnb3QgJHt0eXBlb2YgdH1gKTtjb25zdCBpPSEwPT09dC5hbGxvd1JlcGxhY2UsYT1mLmdldChvLm5hbWUpO2EmJihhLmFsbG93UmVwbGFjZSYmaXx8ZShgUmVmdXNpbmcgdG8gbG9hZCBtb2QgJHtyfTogaXQgaXMgYWxyZWFkeSBsb2FkZWQgYW5kIGRvZXNuJ3QgYWxsb3cgYmVpbmcgcmVwbGFjZWQuXFxuV2FzIHRoZSBtb2QgbG9hZGVkIG11bHRpcGxlIHRpbWVzP2ApLHUoYSkpO2NvbnN0IGM9bz0+e2xldCBlPWcucGF0Y2hpbmcuZ2V0KG8ubmFtZSk7cmV0dXJuIGV8fChlPXtob29rczpbXSxwYXRjaGVzOm5ldyBNYXB9LGcucGF0Y2hpbmcuc2V0KG8ubmFtZSxlKSksZX0scz0obyx0KT0+KC4uLm4pPT57dmFyIGksYTtjb25zdCBjPW51bGw9PT0oYT0oaT1tLmVycm9yUmVwb3J0ZXJIb29rcykuYXBpRW5kcG9pbnRFbnRlcil8fHZvaWQgMD09PWE/dm9pZCAwOmEuY2FsbChpLG8sZy5uYW1lKTtnLmxvYWRlZHx8ZShgTW9kICR7cn0gYXR0ZW1wdGVkIHRvIGNhbGwgU0RLIGZ1bmN0aW9uIGFmdGVyIGJlaW5nIHVubG9hZGVkYCk7Y29uc3Qgcz10KC4uLm4pO3JldHVybiBudWxsPT1jfHxjKCksc30scD17dW5sb2FkOnMoXCJ1bmxvYWRcIiwoKCk9PnUoZykpKSxob29rRnVuY3Rpb246cyhcImhvb2tGdW5jdGlvblwiLCgobyx0LG4pPT57XCJzdHJpbmdcIj09dHlwZW9mIG8mJm98fGUoYE1vZCAke3J9IGZhaWxlZCB0byBwYXRjaCBhIGZ1bmN0aW9uOiBFeHBlY3RlZCBmdW5jdGlvbiBuYW1lIHN0cmluZywgZ290ICR7dHlwZW9mIG99YCk7Y29uc3QgaT1sKG8pLGE9YyhpKTtcIm51bWJlclwiIT10eXBlb2YgdCYmZShgTW9kICR7cn0gZmFpbGVkIHRvIGhvb2sgZnVuY3Rpb24gJyR7b30nOiBFeHBlY3RlZCBwcmlvcml0eSBudW1iZXIsIGdvdCAke3R5cGVvZiB0fWApLFwiZnVuY3Rpb25cIiE9dHlwZW9mIG4mJmUoYE1vZCAke3J9IGZhaWxlZCB0byBob29rIGZ1bmN0aW9uICcke299JzogRXhwZWN0ZWQgaG9vayBmdW5jdGlvbiwgZ290ICR7dHlwZW9mIG59YCk7Y29uc3Qgcz17bW9kOmcubmFtZSxwcmlvcml0eTp0LGhvb2s6bn07cmV0dXJuIGEuaG9va3MucHVzaChzKSxkKCksKCk9Pntjb25zdCBvPWEuaG9va3MuaW5kZXhPZihzKTtvPj0wJiYoYS5ob29rcy5zcGxpY2UobywxKSxkKCkpfX0pKSxwYXRjaEZ1bmN0aW9uOnMoXCJwYXRjaEZ1bmN0aW9uXCIsKChvLHQpPT57XCJzdHJpbmdcIj09dHlwZW9mIG8mJm98fGUoYE1vZCAke3J9IGZhaWxlZCB0byBwYXRjaCBhIGZ1bmN0aW9uOiBFeHBlY3RlZCBmdW5jdGlvbiBuYW1lIHN0cmluZywgZ290ICR7dHlwZW9mIG99YCk7Y29uc3QgaT1sKG8pLGE9YyhpKTtuKHQpfHxlKGBNb2QgJHtyfSBmYWlsZWQgdG8gcGF0Y2ggZnVuY3Rpb24gJyR7b30nOiBFeHBlY3RlZCBwYXRjaGVzIG9iamVjdCwgZ290ICR7dHlwZW9mIHR9YCk7Zm9yKGNvbnN0W24saV1vZiBPYmplY3QuZW50cmllcyh0KSlcInN0cmluZ1wiPT10eXBlb2YgaT9hLnBhdGNoZXMuc2V0KG4saSk6bnVsbD09PWk/YS5wYXRjaGVzLmRlbGV0ZShuKTplKGBNb2QgJHtyfSBmYWlsZWQgdG8gcGF0Y2ggZnVuY3Rpb24gJyR7b30nOiBJbnZhbGlkIGZvcm1hdCBvZiBwYXRjaCAnJHtufSdgKTtkKCl9KSkscmVtb3ZlUGF0Y2hlczpzKFwicmVtb3ZlUGF0Y2hlc1wiLChvPT57XCJzdHJpbmdcIj09dHlwZW9mIG8mJm98fGUoYE1vZCAke3J9IGZhaWxlZCB0byBwYXRjaCBhIGZ1bmN0aW9uOiBFeHBlY3RlZCBmdW5jdGlvbiBuYW1lIHN0cmluZywgZ290ICR7dHlwZW9mIG99YCk7Y29uc3QgdD1sKG8pO2ModCkucGF0Y2hlcy5jbGVhcigpLGQoKX0pKSxjYWxsT3JpZ2luYWw6cyhcImNhbGxPcmlnaW5hbFwiLCgobyx0LG4pPT57XCJzdHJpbmdcIj09dHlwZW9mIG8mJm98fGUoYE1vZCAke3J9IGZhaWxlZCB0byBjYWxsIGEgZnVuY3Rpb246IEV4cGVjdGVkIGZ1bmN0aW9uIG5hbWUgc3RyaW5nLCBnb3QgJHt0eXBlb2Ygb31gKTtjb25zdCBpPWwobyk7cmV0dXJuIEFycmF5LmlzQXJyYXkodCl8fGUoYE1vZCAke3J9IGZhaWxlZCB0byBjYWxsIGEgZnVuY3Rpb246IEV4cGVjdGVkIGFyZ3MgYXJyYXksIGdvdCAke3R5cGVvZiB0fWApLGkub3JpZ2luYWwuYXBwbHkobnVsbCE9bj9uOmdsb2JhbFRoaXMsdCl9KSksZ2V0T3JpZ2luYWxIYXNoOnMoXCJnZXRPcmlnaW5hbEhhc2hcIiwobz0+e1wic3RyaW5nXCI9PXR5cGVvZiBvJiZvfHxlKGBNb2QgJHtyfSBmYWlsZWQgdG8gZ2V0IGhhc2g6IEV4cGVjdGVkIGZ1bmN0aW9uIG5hbWUgc3RyaW5nLCBnb3QgJHt0eXBlb2Ygb31gKTtyZXR1cm4gbChvKS5vcmlnaW5hbEhhc2h9KSl9LGc9e25hbWU6by5uYW1lLGZ1bGxOYW1lOm8uZnVsbE5hbWUsdmVyc2lvbjpvLnZlcnNpb24scmVwb3NpdG9yeTpvLnJlcG9zaXRvcnksYWxsb3dSZXBsYWNlOmksYXBpOnAsbG9hZGVkOiEwLHBhdGNoaW5nOm5ldyBNYXB9O3JldHVybiBmLnNldChvLm5hbWUsZyksT2JqZWN0LmZyZWV6ZShwKX1mdW5jdGlvbiBoKCl7Y29uc3Qgbz1bXTtmb3IoY29uc3QgZSBvZiBmLnZhbHVlcygpKW8ucHVzaCh7bmFtZTplLm5hbWUsZnVsbE5hbWU6ZS5mdWxsTmFtZSx2ZXJzaW9uOmUudmVyc2lvbixyZXBvc2l0b3J5OmUucmVwb3NpdG9yeX0pO3JldHVybiBvfWxldCBtO2NvbnN0IHk9dm9pZCAwPT09d2luZG93LmJjTW9kU2RrP3dpbmRvdy5iY01vZFNkaz1mdW5jdGlvbigpe2NvbnN0IGU9e3ZlcnNpb246byxhcGlWZXJzaW9uOjEscmVnaXN0ZXJNb2Q6ZyxnZXRNb2RzSW5mbzpoLGdldFBhdGNoaW5nSW5mbzpwLGVycm9yUmVwb3J0ZXJIb29rczpPYmplY3Quc2VhbCh7YXBpRW5kcG9pbnRFbnRlcjpudWxsLGhvb2tFbnRlcjpudWxsLGhvb2tDaGFpbkV4aXQ6bnVsbH0pfTtyZXR1cm4gbT1lLE9iamVjdC5mcmVlemUoZSl9KCk6KG4od2luZG93LmJjTW9kU2RrKXx8ZShcIkZhaWxlZCB0byBpbml0IE1vZCBTREs6IE5hbWUgYWxyZWFkeSBpbiB1c2VcIiksMSE9PXdpbmRvdy5iY01vZFNkay5hcGlWZXJzaW9uJiZlKGBGYWlsZWQgdG8gaW5pdCBNb2QgU0RLOiBEaWZmZXJlbnQgdmVyc2lvbiBhbHJlYWR5IGxvYWRlZCAoJzEuMi4wJyB2cyAnJHt3aW5kb3cuYmNNb2RTZGsudmVyc2lvbn0nKWApLHdpbmRvdy5iY01vZFNkay52ZXJzaW9uIT09byYmYWxlcnQoYE1vZCBTREsgd2FybmluZzogTG9hZGluZyBkaWZmZXJlbnQgYnV0IGNvbXBhdGlibGUgdmVyc2lvbnMgKCcxLjIuMCcgdnMgJyR7d2luZG93LmJjTW9kU2RrLnZlcnNpb259JylcXG5PbmUgb2YgbW9kcyB5b3UgYXJlIHVzaW5nIGlzIHVzaW5nIGFuIG9sZCB2ZXJzaW9uIG9mIFNESy4gSXQgd2lsbCB3b3JrIGZvciBub3cgYnV0IHBsZWFzZSBpbmZvcm0gYXV0aG9yIHRvIHVwZGF0ZWApLHdpbmRvdy5iY01vZFNkayk7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGV4cG9ydHMmJihPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLmRlZmF1bHQ9eSkseX0oKTtcbiIsImltcG9ydCB7IFNhdmVTdG9yYWdlIH0gZnJvbSBcIi4uL3V0aWwvc3RvcmFnZVwiO1xuaW1wb3J0IHsgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9fbW9kdWxlXCI7XG5pbXBvcnQgeyBBTExfQkVEUyB9IGZyb20gXCIuLi91dGlsL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgRmluZENoYXJhY3RlckluUm9vbSwgR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5LCBNUEFOb3RpZnlQbGF5ZXIsIE5vdGlmeVBsYXllciwgU2VuZEFjdGlvbiwgU2VuZE1QQU1lc3NhZ2UgfSBmcm9tIFwiLi4vdXRpbC9tZXNzYWdpbmdcIjtcbmltcG9ydCB7IEhvb2tGdW5jdGlvbiB9IGZyb20gXCIuLi91dGlsL3Nka1wiO1xuXG5mdW5jdGlvbiBJc0JlZChiZWQ6IGFueSk6IGJvb2xlYW5cbntcbiAgICAvLyBJbnZhbGlkIGNyYWZ0ID0gc2tpcFxuICAgIHJldHVybiBDcmFmdGluZ1ZhbGlkYXRlKGJlZCkgPT09IENyYWZ0aW5nU3RhdHVzVHlwZS5PS1xuICAgICAgICAmJiAoQUxMX0JFRFMuaW5jbHVkZXMoYmVkLkl0ZW0pXG4gICAgICAgICAgICB8fCBiZWQ/Lk5hbWU/LnRvTG9jYWxlTG93ZXJDYXNlKCk/LmluY2x1ZGVzKFwiYmVkXCIpKTtcbn1cblxuLyoqXG4gKiBEaXNwbGF5IHRoZSBiZWQgdGV4dFxuICovXG5mdW5jdGlvbiBHaXZlQmVkVGV4dChjaGFyYWN0ZXI6IENoYXJhY3RlciA9IFBsYXllcik6IHZvaWRcbntcbiAgICBpZiAoY2hhcmFjdGVyLk1lbWJlck51bWJlciA9PT0gUGxheWVyLk1lbWJlck51bWJlcilcbiAgICB7XG4gICAgICAgIFNlbmRBY3Rpb24oXG4gICAgICAgICAgICBcIlNvdXJjZUNoYXJhY3RlciBjcmF3bHMgaW50byBQcm9ub3VuUG9zc2Vzc2l2ZSBiZWQuXCIsXG4gICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICBbeyBTb3VyY2VDaGFyYWN0ZXI6IFBsYXllci5NZW1iZXJOdW1iZXIgfSBhcyBTb3VyY2VDaGFyYWN0ZXJEaWN0aW9uYXJ5RW50cnldXG4gICAgICAgICk7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIFNlbmRNUEFNZXNzYWdlKHttZXNzYWdlOlwiYmVkVHVja1wifSwgY2hhcmFjdGVyLk1lbWJlck51bWJlcik7XG4gICAgICAgIFNlbmRBY3Rpb24oXG4gICAgICAgICAgICBcIlNvdXJjZUNoYXJhY3RlciB0dWNrcyBUYXJnZXRDaGFyYWN0ZXIgaW50byBiZWQuXCIsXG4gICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICBbeyBTb3VyY2VDaGFyYWN0ZXI6IFBsYXllci5NZW1iZXJOdW1iZXIgfSBhcyBTb3VyY2VDaGFyYWN0ZXJEaWN0aW9uYXJ5RW50cnksXG4gICAgICAgICAgICAgeyBUYXJnZXRDaGFyYWN0ZXI6IGNoYXJhY3Rlci5NZW1iZXJOdW1iZXIgfSBhcyBUYXJnZXRDaGFyYWN0ZXJEaWN0aW9uYXJ5RW50cnldXG4gICAgICAgICk7XG4gICAgfVxufVxuXG4vKiogXG4gKiBVc2UgYSBiZWQgb24geW91cnNlbGZcbiAqL1xuZnVuY3Rpb24gVXNlQmVkKCk6IHZvaWRcbntcbiAgICBpZiAoSW52ZW50b3J5R2V0KFBsYXllciwgXCJJdGVtRGV2aWNlc1wiKVxuICAgICAgICB8fCBJbnZlbnRvcnlHcm91cElzQmxvY2tlZEZvckNoYXJhY3RlcihQbGF5ZXIsIFwiSXRlbURldmljZXNcIikpXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qgc2F2ZWRCZWQgPSBKU09OLnBhcnNlKExaU3RyaW5nLmRlY29tcHJlc3NGcm9tQmFzZTY0KFBsYXllci5NUEFbTW9kdWxlVGl0bGUuUHJpdmF0ZV0uc2F2ZWRCZWQgfHwgXCJcIikgfHwgXCJ7fVwiKSB8fCB7fTtcbiAgICBpZiAoSXNCZWQoc2F2ZWRCZWQpKVxuICAgIHtcbiAgICAgICAgSW52ZW50b3J5V2VhcihcbiAgICAgICAgICAgIFBsYXllcixcbiAgICAgICAgICAgIHNhdmVkQmVkLkl0ZW0sXG4gICAgICAgICAgICBcIkl0ZW1EZXZpY2VzXCIsXG4gICAgICAgICAgICBzYXZlZEJlZC5Db2xvci5zcGxpdCgnLCcpLFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIFBsYXllci5NZW1iZXJOdW1iZXIsXG4gICAgICAgICAgICBzYXZlZEJlZCxcbiAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICk7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIGNvbnN0IGhhaXJDb2xvciA9IEludmVudG9yeUdldChQbGF5ZXIsIFwiSGFpckZyb250XCIpPy5Db2xvciBhcyBJdGVtQ29sb3I7XG4gICAgICAgIEludmVudG9yeVdlYXIoXG4gICAgICAgICAgICBQbGF5ZXIsXG4gICAgICAgICAgICBcIlBldEJlZFwiLFxuICAgICAgICAgICAgXCJJdGVtRGV2aWNlc1wiLFxuICAgICAgICAgICAgW2hhaXJDb2xvclswXSwgXCJEZWZhdWx0XCIsIGhhaXJDb2xvcltoYWlyQ29sb3IubGVuZ3RoIC0gMV1dLFxuICAgICAgICAgICAgMCxcbiAgICAgICAgICAgIFBsYXllci5NZW1iZXJOdW1iZXIsXG4gICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICBmYWxzZVxuICAgICAgICApO1xuICAgIH1cbiAgICBDaGF0Um9vbUNoYXJhY3Rlckl0ZW1VcGRhdGUoUGxheWVyLCBcIkl0ZW1EZXZpY2VzXCIpO1xufVxuXG4vKipcbiAqIEdpdmUgYSBiZWQgdG8gc29tZW9uZVxuICpcbiAqIEBwYXJhbSBjaGFyYWN0ZXIgLSBXaG8gdG8gZ2l2ZSB0aGUgYmVkIHRvb1xuICogQHJldHVybnMgSWYgYmVkIHdhcyBnaXZlblxuICovXG5mdW5jdGlvbiBHaXZlQmVkKGNoYXJhY3RlcjogQ2hhcmFjdGVyID0gUGxheWVyKTogYm9vbGVhblxue1xuICAgIGNvbnN0IHVuYWJsZVRvR2l2ZUJlZCA9IEludmVudG9yeUdldChjaGFyYWN0ZXIsIFwiSXRlbURldmljZXNcIilcbiAgICAgICAgfHwgSW52ZW50b3J5R3JvdXBJc0Jsb2NrZWRGb3JDaGFyYWN0ZXIoY2hhcmFjdGVyLCBcIkl0ZW1EZXZpY2VzXCIpO1xuXG4gICAgaWYgKGNoYXJhY3Rlci5NZW1iZXJOdW1iZXIgIT09IFBsYXllci5NZW1iZXJOdW1iZXIpXG4gICAge1xuICAgICAgICBpZiAoIVNlcnZlckNoYXRSb29tR2V0QWxsb3dJdGVtKFBsYXllciwgY2hhcmFjdGVyKSlcbiAgICAgICAge1xuICAgICAgICAgICAgTm90aWZ5UGxheWVyKFwiTVBBOiBObyBCQyBpdGVtIHBlcm1pc3Npb25cIiwgMzAwMDApO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY2hhcmFjdGVyLk1QQSB8fCBjaGFyYWN0ZXIuTVBBPy52ZXJzaW9uICE9PSBQbGF5ZXIuTVBBLnZlcnNpb24pXG4gICAgICAgIHtcbiAgICAgICAgICAgIE1QQU5vdGlmeVBsYXllcihgJHtjaGFyYWN0ZXIuTmlja25hbWUgfHwgY2hhcmFjdGVyLk5hbWV9IGRvZXMgbm90IGhhdmUgTVBBLCB1bmFibGUgdG8gZ2l2ZSBiZWRgLCAzMDAwMCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBpZiAodW5hYmxlVG9HaXZlQmVkKVxuICAgICAgICB7XG4gICAgICAgICAgICBNUEFOb3RpZnlQbGF5ZXIoYFVuYWJsZSB0byB0dWNrICR7Y2hhcmFjdGVyLk5pY2tuYW1lIHx8IGNoYXJhY3Rlci5OYW1lfSBpbnRvIGJlZGAsIDMwMDAwKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBHaXZlQmVkVGV4dChjaGFyYWN0ZXIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgXG4gICAgaWYgKHVuYWJsZVRvR2l2ZUJlZClcbiAgICB7XG4gICAgICAgIE1QQU5vdGlmeVBsYXllcihcIlVuYWJsZSB0byBjcmF3bCBpbnRvIGJlZFwiLCAzMDAwMCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBVc2VCZWQoKTtcbiAgICBHaXZlQmVkVGV4dChjaGFyYWN0ZXIpO1xuICAgIHJldHVybiB0cnVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gQmVkKCk6IHZvaWRcbntcbiAgICBDb21tYW5kQ29tYmluZShbe1xuICAgICAgICBUYWc6IFwiYmVkXCIsXG4gICAgICAgIERlc2NyaXB0aW9uOiBcIkNyYXdsIGludG8gYmVkIHdpdGhvdXQgbmVlZGluZyBoYW5kc1wiLFxuICAgICAgICBBY3Rpb246IChfYXJncywgbXNnLCBfcGFyc2VkKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBBcmd1bWVudCBpcyBwYXNzZWRcbiAgICAgICAgICAgIGNvbnN0IGFyZyA9ICgoL14oXFxTKylcXHMqKC4qKSQvLmV4ZWMobXNnKSkgPz8gW1wiXCIsIFwiXCIsIFwiXCJdKVsyXTtcbiAgICAgICAgICAgIGlmIChhcmcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hhciA9IEZpbmRDaGFyYWN0ZXJJblJvb20oYXJnKTtcbiAgICAgICAgICAgICAgICBpZiAoY2hhcilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIEdpdmVCZWQoY2hhcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBDaGVjayBmb3IgYmVkIGNyYWZ0XG4gICAgICAgICAgICAgICAgY29uc3Qgb2JqID0gSlNPTi5wYXJzZShMWlN0cmluZy5kZWNvbXByZXNzRnJvbUJhc2U2NChhcmcpIHx8IFwie31cIikgfHwge307XG4gICAgICAgICAgICAgICAgaWYgKElzQmVkKG9iaikpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLlByaXZhdGVdLnNhdmVkQmVkID0gYXJnO1xuICAgICAgICAgICAgICAgICAgICBTYXZlU3RvcmFnZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIE1QQU5vdGlmeVBsYXllcihcIkJlZCBzYXZlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIE1QQU5vdGlmeVBsYXllcihcIkludmFsaWQgYXJndW1lbnQgZ2l2ZW4hXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgR2l2ZUJlZChQbGF5ZXIpO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBUYWc6IFwiYmxhbmtldFwiLFxuICAgICAgICBEZXNjcmlwdGlvbjogXCJQdWxsIHRoZSBibGFua2V0IG92ZXIgeW91cnNlbGZcIixcbiAgICAgICAgQWN0aW9uOiAoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBibGFua3lcbiAgICAgICAgICAgIGNvbnN0IGJlZCA9IEludmVudG9yeUdldChQbGF5ZXIsIFwiSXRlbURldmljZXNcIik7XG4gICAgICAgICAgICBpZiAoYmVkPy5Bc3NldC5OYW1lICE9PSBcIlBldEJlZFwiKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIE1QQU5vdGlmeVBsYXllcihcIlVuYWJsZSB0byBwdWxsIHRoZSBibGFua2V0IG92ZXIgeW91cnNlbGYuXCIsIDIwMDAwKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghKGJlZC5Qcm9wZXJ0eT8uVHlwZVJlY29yZD8udHlwZWQgPT09IDAgfHwgYmVkLlByb3BlcnR5Py5UeXBlUmVjb3JkPy50eXBlZCA9PT0gMSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgTVBBTm90aWZ5UGxheWVyKFwiVW5hYmxlIHRvIHB1bGwgdGhlIGJsYW5rZXQgb3ZlciB5b3Vyc2VsZi5cIiwgMjAwMDApO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJlZC5Qcm9wZXJ0eS5UeXBlUmVjb3JkLnR5cGVkID0gTnVtYmVyKCFiZWQuUHJvcGVydHkuVHlwZVJlY29yZC50eXBlZCk7XG4gICAgICAgICAgICBDaGF0Um9vbUNoYXJhY3RlclVwZGF0ZShQbGF5ZXIpO1xuICAgICAgICAgICAgaWYgKGJlZC5Qcm9wZXJ0eS5UeXBlUmVjb3JkLnR5cGVkID09PSAxKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFNlbmRBY3Rpb24oXG4gICAgICAgICAgICAgICAgICAgIFwiU291cmNlQ2hhcmFjdGVyIHB1bGxzIGEgYmxhbmtldCBvdmVyIFByb25vdW5PYmplY3QuXCIsXG4gICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgW3sgU291cmNlQ2hhcmFjdGVyOiBQbGF5ZXIuTWVtYmVyTnVtYmVyIH0gYXMgU291cmNlQ2hhcmFjdGVyRGljdGlvbmFyeUVudHJ5XVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgU2VuZEFjdGlvbihcbiAgICAgICAgICAgICAgICAgICAgXCJTb3VyY2VDaGFyYWN0ZXIgcmVtb3ZlcyB0aGUgYmxhbmtldCBmcm9tIG9uIHRvcCBvZiBQcm9ub3VuT2JqZWN0LlwiLFxuICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIFt7IFNvdXJjZUNoYXJhY3RlcjogUGxheWVyLk1lbWJlck51bWJlciB9IGFzIFNvdXJjZUNoYXJhY3RlckRpY3Rpb25hcnlFbnRyeV1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgSG9va0Z1bmN0aW9uKG51bGwsIFwiQ2hhdFJvb21NZXNzYWdlXCIsIDEwMCwgKGFyZ3MsIG5leHQpID0+XG4gICAge1xuICAgICAgICBjb25zdCBkYXRhID0gYXJnc1swXTtcbiAgICAgICAgaWYgKGRhdGEuVHlwZSA9PT0gXCJBY3Rpdml0eVwiXG4gICAgICAgICAgICAmJiBkYXRhLkNvbnRlbnQgPT09IFwiTWF5YVNjcmlwdFwiXG4gICAgICAgICAgICAmJiBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJUYXJnZXRDaGFyYWN0ZXJcIikgPT09IFBsYXllci5NZW1iZXJOdW1iZXJcbiAgICAgICAgICAgICYmIGRhdGEuRGljdGlvbmFyeT8uc29tZShcbiAgICAgICAgICAgICAgICBjdXJyID0+IChjdXJyIGFzIGFueSk/LlRhZyA9PT0gXCJNSVNTSU5HIEFDVElWSVRZIERFU0NSSVBUSU9OIEZPUiBLRVlXT1JEIE1heWFTY3JpcHRcIiBcbiAgICAgICAgICAgICAgICAgICAgJiYgKGN1cnIgYXMgYW55KT8uVGV4dCA9PT0gXCJTb3VyY2VDaGFyYWN0ZXIgdHVja3MgVGFyZ2V0Q2hhcmFjdGVyIGludG8gYmVkLlwiXG4gICAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgICAge1xuICAgICAgICAgICAgVXNlQmVkKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgfSk7XG59XG4iLCJpbXBvcnQgeyBCZWQgfSBmcm9tIFwiLi9iZWRcIjtcbi8vIGltcG9ydCB7IExvZ0NoYXQgfSBmcm9tIFwiLi9sb2dcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIEJ1aWxkQWxsQ29tbWFuZHMoKTogdm9pZFxue1xuICAgIEJlZCgpO1xuICAgIC8vIExvZ0NoYXQoKTtcbn1cbiIsIi8vIElmIHlvdSB3YW50IHRvIGxvY2FsaXplIHRoaXMgYWRkb24gdG8geW91ciBsYW5ndWFnZSBmb3IgeW91cnNlbGYgYW5kIG90aGVycywgaGVyZSBpcyBob3dcbi8vIDEuIENyZWF0ZSBhIG5ldyBmaWxlIGluIHRoZSBsb2NhbGl6YXRpb24gZGlyZWN0b3J5IG5hbWVkIFtsYW5ndWFnZV0uanNvblxuLy8gMi4gQ29weSBhbmQgcGFzdGUgdGhlIGNvbnRlbnRzIG9mIHRlbXBsYXRlLmpzb24gaW50byB5b3VyIG5ldyBbbGFuZ3VhZ2VdLmpzb24gZmlsZS5cbi8vIDMuIFJlcGxhY2UgdGhlIHJpZ2h0KGVtcHR5KSBzaWRlIG9mIHRoZSB0ZXh0IHdpdGggdGhlIHRyYW5zbGF0aW9uIGZyb20gdGhlIEVuZ2xpc2ggb24gdGhlIGxlZnQuXG4vLyAzYi4gRG8gbm90IHRyYW5zbGF0ZSB3b3JkcyBsaWtlIFNvdXJjZUNoYXJhY3RlciBhbmQgU2V0dGluZ3NBcnJheSwgbGVhdmUgdGhvc2UgYXMgdGhleSB3aWxsIGJlIGZpbGxlZCBpbiBieSB0aGUgY29kZVxuLy8gNC4gSW1wb3J0IHRoZSBqc29uIGZvbGxvd2luZyB0aGUgZXhhbXBsZSBiZWxvdywgbWFrZSBzdXJlIHRoYXQgdGhlIG5hbWUgeW91IGltcG9ydCB0aGUgZmlsZSBpc1xuLy8gICAgdGhlIHNhbWUgdGhhdCBkZWZpbmVkIGJ5IFRyYW5zbGF0aW9uTGFuZ3VhZ2UuIEV4OiBFbmdsaXNoIC0+IEVOXG4vLyAgICBJZiB5b3UgYXJlIHVuc3VyZSBvZiBob3cgdG8gZG8gdGhpcyBidXQgc3RpbGwgd2FudCB0byBjb250cmlidXRlLCByZWFjaCBvdXQgYW5kIEkgd2lsbCBhdHRlbXB0IHRvIGhlbHAuXG5cbmltcG9ydCB0ZW1wbGF0ZSBmcm9tIFwiLi90ZW1wbGF0ZS5qc29uXCI7XG5pbXBvcnQgUlUgZnJvbSBcIi4vUlUuanNvblwiO1xuXG4vLyBFdmVyeXRoaW5nIGlzIGRlZmF1bHRlZCB0byBFbmdsaXNoXG5jb25zdCB0cmFuc2xhdGlvbnMgPVxue1xuICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZSxcbiAgICBSVTogUlVcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBMb2NhbGl6ZWRUZXh0KHRleHQ6IHN0cmluZyk6IHN0cmluZ1xue1xuICAgIGNvbnN0IHRyYW5zbGF0ZWRUZXh0ID0gdHJhbnNsYXRpb25zPy5bVHJhbnNsYXRpb25MYW5ndWFnZV0/Llt0ZXh0XTtcbiAgICBpZiAoISF0cmFuc2xhdGVkVGV4dCAmJiB0cmFuc2xhdGVkVGV4dCAhPT0gXCJcIilcbiAgICB7XG4gICAgICAgIHJldHVybiB0cmFuc2xhdGVkVGV4dDtcbiAgICB9XG4gICAgcmV0dXJuIHRleHQ7XG59XG4iLCJpbXBvcnQgeyBSZW1vdmVIb29rcyB9IGZyb20gXCIuLi91dGlsL3Nka1wiO1xuaW1wb3J0IHsgQ3JlYXRlQWN0aXZpdGllcywgUmVtb3ZlQWN0aXZpdGllcyB9IGZyb20gXCIuLi91dGlsL2FjdGl2aXRpZXNcIjtcbmltcG9ydCB7IEFkZERhdGFTeW5jTGlzdGVuZXJzLCBIb29rZWRNZXNzYWdlLCBSZW1vdmVEYXRhU3luY0xpc3RlbmVycyB9IGZyb20gXCIuLi91dGlsL21lc3NhZ2luZ1wiO1xuXG5leHBvcnQgZW51bSBNb2R1bGVUaXRsZVxue1xuICAgIFVua25vd24gPSBcIlVua25vd25cIixcbiAgICBBdXRob3JpdHkgPSBcIkF1dGhvcml0eVwiLFxuICAgIEFjdGl2aXRpZXMgPSBcIkFjdGl2aXRpZXNcIixcbiAgICBDbGlja2VyID0gXCJDbGlja2VyXCIsXG4gICAgU2V0dGluZ3MgPSBcIlNldHRpbmdzXCIsXG4gICAgVmlydHVhbFBldCA9IFwiVmlydHVhbFBldFwiLFxuICAgIFZpcnR1YWxQZXRIVUQgPSBcIlZpcnR1YWxQZXRIdWRcIixcbiAgICBWaXJ0dWFsUGV0Q29uZGl0aW9ucyA9IFwiVmlydHVhbFBldENvbmRpdGlvbnNcIixcbiAgICBEYXRhU3luYyA9IFwiRGF0YVN5bmNcIixcbiAgICBQcm9maWxlID0gXCJQcm9maWxlXCIsXG4gICAgU2V0dGluZ3NPdGhlciA9IFwiU2V0dGluZ3NPdGhlclwiLFxuICAgIFByaXZhdGUgPSBcIlByaXZhdGVcIlxufVxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgTW9kdWxlXG57XG4gICAgZ2V0IFRpdGxlKCk6IE1vZHVsZVRpdGxlXG4gICAge1xuICAgICAgICByZXR1cm4gTW9kdWxlVGl0bGUuVW5rbm93bjtcbiAgICB9XG5cbiAgICBnZXQgQWN0aXZpdGllcygpOiBDdXN0b21BY3Rpdml0eVtdXG4gICAge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgZ2V0IFNldHRpbmdzKCk6IFNldHRpbmdbXVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIGdldCBTeW5jTGlzdGVuZXJzKCk6IEhvb2tlZE1lc3NhZ2VbXVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIExvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgQ3JlYXRlQWN0aXZpdGllcyh0aGlzLkFjdGl2aXRpZXMpO1xuICAgICAgICBBZGREYXRhU3luY0xpc3RlbmVycyh0aGlzLlN5bmNMaXN0ZW5lcnMpO1xuICAgIH1cblxuICAgIFVubG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBSZW1vdmVIb29rcyh0aGlzLlRpdGxlKTtcbiAgICAgICAgUmVtb3ZlQWN0aXZpdGllcyh0aGlzLkFjdGl2aXRpZXMpO1xuICAgICAgICBSZW1vdmVEYXRhU3luY0xpc3RlbmVycyh0aGlzLlRpdGxlKTtcbiAgICB9XG5cbiAgICBSZWxvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgdGhpcy5VbmxvYWQoKTtcbiAgICAgICAgdGhpcy5Mb2FkKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgTW9kdWxlLCBNb2R1bGVUaXRsZSB9IGZyb20gXCIuL19tb2R1bGVcIjtcbmltcG9ydCB7IEZpbmRDaGFyYWN0ZXJJblJvb20sIEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeSB9IGZyb20gXCIuLi91dGlsL21lc3NhZ2luZ1wiO1xuaW1wb3J0IHsgYWN0aXZpdHlJbWFnZXMsIGFjdGl2aXR5UHJlcmVxdWlzaXRlcywgYWN0aXZpdHlSZWNlaXZlZCwgYWN0aXZpdHlUcmlnZ2VycyB9IGZyb20gXCIuLi91dGlsL2FjdGl2aXRpZXNcIjtcbmltcG9ydCB7IEhvb2tGdW5jdGlvbiB9IGZyb20gXCIuLi91dGlsL3Nka1wiO1xuaW1wb3J0IHsgQUNUSVZJVFlfTkFNRV9QUkVGSVgsIEJFTExfU09VTkQgfSBmcm9tIFwiLi4vdXRpbC9jb25zdGFudHNcIjtcblxuY29uc3QgUmVjaWV2ZUJlbGw6IEFjdGl2aXR5UmVjZWl2ZWQgPSAoc291cmNlLCB0YXJnZXQsIF9ncm91cCwgX2RhdGEpID0+XG57XG4gICAgaWYgKFxuICAgICAgICBQbGF5ZXIuQXVkaW9TZXR0aW5ncz8uUGxheUl0ZW1cbiAgICAgICAgJiYgKCFQbGF5ZXIuQXVkaW9TZXR0aW5ncy5QbGF5SXRlbVBsYXllck9ubHlcbiAgICAgICAgfHwgc291cmNlPy5NZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXJcbiAgICAgICAgfHwgdGFyZ2V0Py5NZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXIpXG4gICAgKVxuICAgIHtcbiAgICAgICAgQkVMTF9TT1VORC5wbGF5KCk7XG4gICAgfVxufTtcblxuZXhwb3J0IGNsYXNzIEFjdGl2aXRpZXNNb2R1bGUgZXh0ZW5kcyBNb2R1bGVcbntcbiAgICBnZXQgVGl0bGUoKTogTW9kdWxlVGl0bGVcbiAgICB7XG4gICAgICAgIHJldHVybiBNb2R1bGVUaXRsZS5BY3Rpdml0aWVzO1xuICAgIH1cblxuICAgIGdldCBBY3Rpdml0aWVzKCk6IEN1c3RvbUFjdGl2aXR5W11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgTmFtZTogXCJGbGlja0JlbGxcIixcbiAgICAgICAgICAgICAgICBNYXhQcm9ncmVzczogNTAsXG4gICAgICAgICAgICAgICAgUHJlcmVxdWlzaXRlOiBbXCJVc2VIYW5kc1wiXSxcbiAgICAgICAgICAgICAgICBDdXN0b21QcmVyZXF1aXNpdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgTmFtZTogXCJIYXNCZWxsQ29sbGFyXCIsXG4gICAgICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogKF9hY3RpbmcsIGFjdGVkLCBfZ3JvdXApID0+XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBJbnZlbnRvcnlHZXQoYWN0ZWQsIFwiSXRlbU5lY2tcIik/LkFzc2V0Py5OYW1lPy50b0xvY2FsZUxvd2VyQ2FzZSgpPy5pbmNsdWRlcyhcImJlbGxcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgSW52ZW50b3J5R2V0KGFjdGVkLCBcIkl0ZW1OZWNrQWNjZXNzb3JpZXNcIik/LkFzc2V0Py5OYW1lPy50b0xvY2FsZUxvd2VyQ2FzZSgpPy5pbmNsdWRlcyhcImJlbGxcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFRhcmdldHM6IFt7XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwOiBcIkl0ZW1OZWNrXCIsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkZsaWNrIEJlbGxcIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uU2VsZjogXCJTb3VyY2VDaGFyYWN0ZXIgZmxpY2tzIHRoZSBiZWxsIG9uIFByb25vdW5Qb3NzZXNzaXZlIGNvbGxhci5cIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uT3RoZXJzOiBcIlNvdXJjZUNoYXJhY3RlciBmbGlja3MgdGhlIGJlbGwgb24gVGFyZ2V0Q2hhcmFjdGVyJ3MgY29sbGFyLlwiXG4gICAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAgICAgSW1hZ2U6IFwiQXNzZXRzXFxcXEZlbWFsZTNEQ0dcXFxcSXRlbU5lY2tBY2Nlc3Nvcmllc1xcXFxQcmV2aWV3XFxcXENvbGxhckJlbGwucG5nXCIsXG4gICAgICAgICAgICAgICAgT25SZWNlaXZlOiBSZWNpZXZlQmVsbFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIE5hbWU6IFwiRmxpY2tCZWxsMlwiLFxuICAgICAgICAgICAgICAgIE1heFByb2dyZXNzOiA1MCxcbiAgICAgICAgICAgICAgICBQcmVyZXF1aXNpdGU6IFtcIlVzZUhhbmRzXCJdLFxuICAgICAgICAgICAgICAgIEN1c3RvbVByZXJlcXVpc2l0ZToge1xuICAgICAgICAgICAgICAgICAgICBOYW1lOiBcIkhhc0JlbGxOaXBwbGVzXCIsXG4gICAgICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogKF9hY3RpbmcsIGFjdGVkLCBfZ3JvdXApID0+XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBJbnZlbnRvcnlHZXQoYWN0ZWQsIFwiSXRlbU5pcHBsZXNcIik/LkFzc2V0Py5OYW1lPy50b0xvY2FsZUxvd2VyQ2FzZSgpPy5pbmNsdWRlcyhcImJlbGxcIikgPz8gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFRhcmdldHM6IFt7XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwOiBcIkl0ZW1OaXBwbGVzXCIsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkZsaWNrIEJlbGxcIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uU2VsZjogXCJTb3VyY2VDaGFyYWN0ZXIgZmxpY2tzIHRoZSBiZWxscyBvbiBQcm9ub3VuUG9zc2Vzc2l2ZSBuaXBwbGVzLlwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25PdGhlcnM6IFwiU291cmNlQ2hhcmFjdGVyIGZsaWNrcyB0aGUgYmVsbHMgb24gVGFyZ2V0Q2hhcmFjdGVyJ3MgbmlwcGxlcy5cIlxuICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgICAgIEltYWdlOiBcIkFzc2V0c1xcXFxGZW1hbGUzRENHXFxcXEl0ZW1OaXBwbGVzXFxcXFByZXZpZXdcXFxcQmVsbENsYW1wcy5wbmdcIixcbiAgICAgICAgICAgICAgICBPblJlY2VpdmU6IFJlY2lldmVCZWxsXG4gICAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgTG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5Mb2FkKCk7XG5cbiAgICAgICAgLy8gUHJlcmVxdWlzaXRlIGhhbmRsaW5nXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIkFjdGl2aXR5Q2hlY2tQcmVyZXF1aXNpdGVcIiwgMSwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IFtwcmVyZXEsIGFjdGluZywgYWN0ZWQsIGdyb3VwXSA9IGFyZ3M7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoYWN0aXZpdHlQcmVyZXF1aXNpdGVzKS5pbmNsdWRlcyhwcmVyZXEpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBhY3Rpdml0eVByZXJlcXVpc2l0ZXNbcHJlcmVxXShhY3RpbmcsIGFjdGVkLCBncm91cCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQWN0aXZpdHkgb250cmlnZ2Vyc1xuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJTZXJ2ZXJTZW5kXCIsIDEsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXJnc1sxXSBhcyBTZXJ2ZXJDaGF0Um9vbU1lc3NhZ2U7XG4gICAgICAgICAgICBpZiAoYXJnc1swXSAhPT0gXCJDaGF0Um9vbUNoYXRcIiB8fCBkYXRhPy5UeXBlICE9PSBcIkFjdGl2aXR5XCIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlIC0gVFMgbm90IGZpbmRpbmcgdHlwZSBhdXRvbWF0aWNhbGx5LCBpdCBleGlzdHNcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2aXR5TmFtZSA9IGRhdGE/LkRpY3Rpb25hcnk/LmZpbmQoKHgpID0+IHguQWN0aXZpdHlOYW1lKT8uQWN0aXZpdHlOYW1lIGFzIHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChhY3Rpdml0eU5hbWU/LnN0YXJ0c1dpdGgoQUNUSVZJVFlfTkFNRV9QUkVGSVgpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRhdGE/LkRpY3Rpb25hcnk/LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBUYWc6IFwiTUlTU0lORyBBQ1RJVklUWSBERVNDUklQVElPTiBGT1IgS0VZV09SRCBcIiArIGRhdGEuQ29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgVGV4dDogQWN0aXZpdHlEaWN0aW9uYXJ5VGV4dChkYXRhLkNvbnRlbnQpXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoYWN0aXZpdHlUcmlnZ2VycykuaW5jbHVkZXMoYWN0aXZpdHlOYW1lKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldE51bWJlciA9IChkYXRhPy5EaWN0aW9uYXJ5Py5maW5kKCh4KSA9PiAoeCBhcyBUYXJnZXRDaGFyYWN0ZXJEaWN0aW9uYXJ5RW50cnkpLlRhcmdldENoYXJhY3RlcikgYXMgVGFyZ2V0Q2hhcmFjdGVyRGljdGlvbmFyeUVudHJ5KT8uVGFyZ2V0Q2hhcmFjdGVyID8/IC0xO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBDaGF0Um9vbUNoYXJhY3Rlcj8uZmluZCgoYykgPT4gYy5NZW1iZXJOdW1iZXIgPT09IHRhcmdldE51bWJlcik7XG4gICAgICAgICAgICAgICAgICAgIGFjdGl2aXR5VHJpZ2dlcnNbYWN0aXZpdHlOYW1lXSh0YXJnZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEFjdGl2aXR5IG9uIHJlY2VpdmVkXG4gICAgICAgIEhvb2tGdW5jdGlvbihNb2R1bGVUaXRsZS5DbGlja2VyLCBcIkNoYXRSb29tTWVzc2FnZVwiLCAwLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgbmV4dChhcmdzKTtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhcmdzWzBdO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGRhdGEuVHlwZSA9PT0gXCJBY3Rpdml0eVwiXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWN0aXZpdHlOYW1lID0gR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiQWN0aXZpdHlOYW1lXCIpIGFzIHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBpZiAoIWFjdGl2aXR5TmFtZT8uc3RhcnRzV2l0aChBQ1RJVklUWV9OQU1FX1BSRUZJWClcbiAgICAgICAgICAgICAgICAgIHx8ICEoYWN0aXZpdHlOYW1lIGluIGFjdGl2aXR5UmVjZWl2ZWQpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2VDaGFyID0gRmluZENoYXJhY3RlckluUm9vbShHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJTb3VyY2VDaGFyYWN0ZXJcIiksXG4gICAgICAgICAgICAgICAgICAgIHsgTWVtYmVyTnVtYmVyOiB0cnVlLCBOaWNrTmFtZTogZmFsc2UsIE5hbWU6IGZhbHNlIH0pID8/IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXRDaGFyID0gRmluZENoYXJhY3RlckluUm9vbShHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJUYXJnZXRDaGFyYWN0ZXJcIiksXG4gICAgICAgICAgICAgICAgICAgIHsgTWVtYmVyTnVtYmVyOiB0cnVlLCBOaWNrTmFtZTogZmFsc2UsIE5hbWU6IGZhbHNlIH0pID8/IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBjb25zdCBncm91cCA9IEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIkZvY3VzR3JvdXBOYW1lXCIpO1xuICAgICAgICAgICAgICAgIGFjdGl2aXR5UmVjZWl2ZWRbYWN0aXZpdHlOYW1lXShzb3VyY2VDaGFyLCB0YXJnZXRDaGFyLCBncm91cCwgZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIERyYXcgY3VzdG9tIGltYWdlcyBmb3IgYWN0aXZpdGllc1xuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJFbGVtZW50QnV0dG9uLkNyZWF0ZUZvckFjdGl2aXR5XCIsIDAsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBhY3Rpdml0eU5hbWUgPSBhcmdzWzFdLkFjdGl2aXR5Lk5hbWU7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoYWN0aXZpdHlJbWFnZXMpLmluY2x1ZGVzKGFjdGl2aXR5TmFtZSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKCFhcmdzWzRdKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYXJnc1s0XSA9IHt9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBhcmdzWzRdLmltYWdlID0gYWN0aXZpdHlJbWFnZXNbYWN0aXZpdHlOYW1lXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBVbmxvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3VwZXIuVW5sb2FkKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQVVUSE9SSVRZX0dST1VQX09QVElPTlMgfSBmcm9tIFwiLi4vdXRpbC9hdXRob3JpdHlcIjtcbmltcG9ydCB7IE1vZHVsZSwgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi9fbW9kdWxlXCI7XG5cbmNvbnN0IFBsYXllclA6IChDPzogQ2hhcmFjdGVyKSA9PiBNUEFSZWNvcmQgPSAoQzogQ2hhcmFjdGVyID0gUGxheWVyKSA9Plxue1xuICAgIHJldHVybiBDLk1QQT8uW01vZHVsZVRpdGxlLkF1dGhvcml0eV0gPz8ge307XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gSXNIYXJkY29yZU9uKEM6IENoYXJhY3Rlcik6IGJvb2xlYW5cbntcbiAgICByZXR1cm4gKEMuTVBBPy5bTW9kdWxlVGl0bGUuQXV0aG9yaXR5XS5oYXJkY29yZSBhcyBib29sZWFuIHwgdW5kZWZpbmVkKSA/PyBmYWxzZTtcbn07XG5cbnR5cGUgU2VsZkFjY2VzcyA9IGBzZWxmJHtrZXlvZiB0eXBlb2YgTW9kdWxlVGl0bGV9YDtcbnR5cGUgT3RoZXJzQWNjZXNzID0gYG90aGVycyR7a2V5b2YgdHlwZW9mIE1vZHVsZVRpdGxlfWA7XG5cbmV4cG9ydCBjbGFzcyBBdXRob3JpdHlNb2R1bGUgZXh0ZW5kcyBNb2R1bGVcbntcbiAgICBnZXQgVGl0bGUoKTogTW9kdWxlVGl0bGVcbiAgICB7XG4gICAgICAgIHJldHVybiBNb2R1bGVUaXRsZS5BdXRob3JpdHk7XG4gICAgfVxuXG4gICAgZ2V0IFNldHRpbmdzKCk6IFNldHRpbmdbXVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIm93bmVyc1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJcIixcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJPd25lciBtZW1iZXIgbnVtYmVyczsgU2VwZXJhdGVkIGJ5IGEgLFwiLFxuICAgICAgICAgICAgICAgIG1heENoYXJzOiAxMDI0LFxuICAgICAgICAgICAgICAgIHdpZHRoOiA0MDBcbiAgICAgICAgICAgIH0gYXMgVGV4dFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImJvdW5kQWNjZXNzU2VsZlwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWxsb3cgVGFyZ2V0Q2hhcmFjdGVyIGNoYW5naW5nIFRhcmdldFByb25vdW5Qb3NzZXNzaXZlIG93biBzZXR0aW5ncyB3aGlsZSBib3VuZFwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiYm91bmRBY2Nlc3NPdGhlcnNcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBUYXJnZXRDaGFyYWN0ZXIgY2hhbmdpbmcgdGhlIHNldHRpbmdzIG9mIG90aGVycyB3aGlsZSBib3VuZFwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwic2VsZkF1dGhvcml0eVwiIGFzIFNlbGZBY2Nlc3MsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBUYXJnZXRDaGFyYWN0ZXIgdG8gY2hhbmdlIFRhcmdldFByb25vdW5Qb3NzZXNzaXZlIEF1dGhvcml0eSBzZXR0aW5nc1wiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwib3RoZXJzQXV0aG9yaXR5XCIgYXMgT3RoZXJzQWNjZXNzLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwib3B0aW9uXCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IEFVVEhPUklUWV9HUk9VUF9PUFRJT05TLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIkNsdWJvd25lclwiLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkFsbG93IG90aGVycyB0byBjaGFuZ2UgVGFyZ2V0Q2hhcmFjdGVyJ3MgQXV0aG9yaXR5IHNldHRpbmdzXCIsXG4gICAgICAgICAgICAgICAgbG9vcDogZmFsc2VcbiAgICAgICAgICAgIH0gYXMgT3B0aW9uU2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwic2VsZlByb2ZpbGVcIiBhcyBTZWxmQWNjZXNzLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiBQbGF5ZXJQKEMpLm90aGVyc1Byb2ZpbGUgIT09IFwiU2VsZlwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkFsbG93IFRhcmdldENoYXJhY3RlciB0byBjaGFuZ2UgVGFyZ2V0UHJvbm91blBvc3Nlc3NpdmUgUHJvZmlsZSBzZXR0aW5nc1wiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwib3RoZXJzUHJvZmlsZVwiIGFzIE90aGVyc0FjY2VzcyxcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm9wdGlvblwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJDbHVib3duZXJcIixcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBvdGhlcnMgdG8gY2hhbmdlIFRhcmdldENoYXJhY3RlcidzIFByb2ZpbGUgc2V0dGluZ3NcIixcbiAgICAgICAgICAgICAgICBsb29wOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBvblNldChDKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgUGxheWVyUChDKS5zZWxmUHJvZmlsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBhcyBPcHRpb25TZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJzZWxmQ2xpY2tlclwiIGFzIFNlbGZBY2Nlc3MsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBUYXJnZXRDaGFyYWN0ZXIgdG8gY2hhbmdlIFRhcmdldFByb25vdW5Qb3NzZXNzaXZlIENsaWNrZXIgc2V0dGluZ3NcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIm90aGVyc0NsaWNrZXJcIiBhcyBPdGhlcnNBY2Nlc3MsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJvcHRpb25cIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogQVVUSE9SSVRZX0dST1VQX09QVElPTlMsXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiQ2x1Ym93bmVyXCIsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWxsb3cgb3RoZXJzIHRvIGNoYW5nZSBUYXJnZXRDaGFyYWN0ZXIncyBDbGlja2VyIHNldHRpbmdzXCIsXG4gICAgICAgICAgICAgICAgbG9vcDogZmFsc2VcbiAgICAgICAgICAgIH0gYXMgT3B0aW9uU2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwic2VsZlZpcnR1YWxQZXRcIiBhcyBTZWxmQWNjZXNzLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWxsb3cgVGFyZ2V0Q2hhcmFjdGVyIHRvIGNoYW5nZSBUYXJnZXRQcm9ub3VuUG9zc2Vzc2l2ZSBWaXJ0dWFsIFBldCBzZXR0aW5nc1wiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwib3RoZXJzVmlydHVhbFBldFwiIGFzIE90aGVyc0FjY2VzcyxcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm9wdGlvblwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJDbHVib3duZXJcIixcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBvdGhlcnMgdG8gY2hhbmdlIFRhcmdldENoYXJhY3RlcidzIFZpcnR1YWwgUGV0IHNldHRpbmdzXCIsXG4gICAgICAgICAgICAgICAgbG9vcDogZmFsc2VcbiAgICAgICAgICAgIH0gYXMgT3B0aW9uU2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwic2VsZlZpcnR1YWxQZXRDb25kaXRpb25zXCIgYXMgU2VsZkFjY2VzcyxcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkFsbG93IFRhcmdldENoYXJhY3RlciB0byBjaGFuZ2UgVGFyZ2V0UHJvbm91blBvc3Nlc3NpdmUgVmlydHVhbCBQZXQgQ29uZGl0aW9ucyBzZXR0aW5nc1wiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwib3RoZXJzVmlydHVhbFBldENvbmRpdGlvbnNcIiBhcyBPdGhlcnNBY2Nlc3MsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJvcHRpb25cIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogQVVUSE9SSVRZX0dST1VQX09QVElPTlMsXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiQ2x1Ym93bmVyXCIsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWxsb3cgb3RoZXJzIHRvIGNoYW5nZSBUYXJnZXRDaGFyYWN0ZXIncyBWaXJ0dWFsIFBldCBDb25kaXRpb25zIHNldHRpbmdzXCIsXG4gICAgICAgICAgICAgICAgbG9vcDogZmFsc2VcbiAgICAgICAgICAgIH0gYXMgT3B0aW9uU2V0dGluZ1xuICAgICAgICBdO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IGJjeEFQSSwgYmN4Rm91bmQsIEhvb2tGdW5jdGlvbiB9IGZyb20gXCIuLi91dGlsL3Nka1wiO1xuaW1wb3J0IHsgR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5LCBSZW1vdmVPT0NDb250ZW50RnJvbU1lc3NhZ2UgfSBmcm9tIFwiLi4vdXRpbC9tZXNzYWdpbmdcIjtcbmltcG9ydCB7IEF1dGhvcml0eUdyb3VwLCBJc01lbWJlck51bWJlckluQXV0aEdyb3VwIH0gZnJvbSBcIi4uL3V0aWwvYXV0aG9yaXR5XCI7XG5pbXBvcnQgeyBNb2R1bGUsIE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4vX21vZHVsZVwiO1xuaW1wb3J0IHsgSXNIYXJkY29yZU9uIH0gZnJvbSBcIi4vcHJvZmlsZVwiO1xuXG4vLyBDbGlja2VyIHNvdW5kcyB0byBwbGF5XG4vLyBBbiBhcnJheSBvZiBhdWRpbyBmaWxlcywgMSBjbGljayBpbiBpbmRleCAwLCBuKzEgY2xpY2tzIGluIGluZGV4IG5cbmNvbnN0IEFMTF9DTElDS1M6IEhUTUxBdWRpb0VsZW1lbnRbXSA9XG5bXG4gICAgbmV3IEF1ZGlvKFwiaHR0cHM6Ly9tZWRpYS5zb3VuZGdhc20ubmV0L3NvdW5kcy9kZjMzMzE2YmVjN2JjMDM5MDI4NjBkMjFmYjRiODgyNzQ2NmYyYmFkLm00YVwiKSxcbiAgICBuZXcgQXVkaW8oXCJodHRwczovL21lZGlhLnNvdW5kZ2FzbS5uZXQvc291bmRzL2ZhNDliMTBkYWQzZTEyMDJkZTA5Njg1OWIzMzlkY2ZjNWVhYjkwYTUubTRhXCIpLFxuICAgIG5ldyBBdWRpbyhcImh0dHBzOi8vbWVkaWEuc291bmRnYXNtLm5ldC9zb3VuZHMvYjI1MTc3YTZhOTJkNWE3NGQwNDdhOWQ3N2E4MDdmMmQxZWQyOGM3MS5tNGFcIilcbl07XG5cbi8qKlxuICogR2V0IHRoZSBDbGlja2VyIHNldHRpbmdzIG9mIHRoZSBQbGF5ZXJcbiAqL1xuY29uc3QgUGxheWVyQzogKEM/OiBDaGFyYWN0ZXIpID0+IE1QQVJlY29yZCA9IChDOiBDaGFyYWN0ZXIgPSBQbGF5ZXIpID0+XG57XG4gICAgcmV0dXJuIEMuTVBBPy5bTW9kdWxlVGl0bGUuQ2xpY2tlcl0gPz8ge307XG59O1xuXG4vKipcbiAqIEdldCB0aGUgdG90YWwgbnVtYmVyIG9mIGNsaWNrcyBpbiBhIHN0cmluZ1xuICovXG5mdW5jdGlvbiBDbGlja0NvdW50KHN0cjogc3RyaW5nID0gXCJcIik6IG51bWJlclxue1xuICAgIGxldCB0b3RhbENsaWNrcyA9IDA7XG4gICAgKFBsYXllckMoKS50cmlnZ2VycyBhcyBzdHJpbmcpXG4gICAgICAgIC5zcGxpdChcIixcIilcbiAgICAgICAgLm1hcCgoc3RyOiBzdHJpbmcpID0+IHN0ci50cmltKCkpXG4gICAgICAgIC5maWx0ZXIoKHN0cikgPT4gc3RyICE9PSBcIlwiKVxuICAgICAgICAuZm9yRWFjaCgodHJpZ2dlcikgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgdG90YWxDbGlja3MgKz0gc3RyLnRvTG9jYWxlTG93ZXJDYXNlKCkubWF0Y2gobmV3IFJlZ0V4cCh0cmlnZ2VyLnRvTG9jYWxlTG93ZXJDYXNlKCksIFwiZ1wiKSk/Lmxlbmd0aCA/PyAwO1xuICAgICAgICB9KTtcbiAgICByZXR1cm4gdG90YWxDbGlja3M7XG59XG5cbi8qKlxuICogUGxheSBjbGlja3MgdG8gdGhlIHVzZXJcbiAqL1xuZnVuY3Rpb24gUGxheUNsaWNrZXJTb3VuZChudW1iZXJPZkNsaWNrczogbnVtYmVyID0gMCk6IHZvaWRcbntcbiAgICBpZiAoXG4gICAgICAgIGlzTmFOKG51bWJlck9mQ2xpY2tzKVxuICAgICAgICB8fCBudW1iZXJPZkNsaWNrcyA8PSAwXG4gICAgICAgIHx8ICFQbGF5ZXJDKCkuZW5hYmxlZFxuICAgIClcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBBTExfQ0xJQ0tTW01hdGgubWluKG51bWJlck9mQ2xpY2tzIC0gMSwgQUxMX0NMSUNLUy5sZW5ndGggLSAxKV0ucGxheSgpO1xufVxuXG5sZXQgYmN4SG9va2VkID0gZmFsc2U7XG5mdW5jdGlvbiBIb29rQkNYQ2xpY2tlcigpOiB2b2lkXG57XG4gICAgaWYgKGJjeEZvdW5kKCkgJiYgIWJjeEhvb2tlZClcbiAgICB7XG4gICAgICAgIGJjeEFQSSgpPy5vbj8uKFwiYmN4TG9jYWxNZXNzYWdlXCIsIChkYXRhOiBhbnkpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBkYXRhPy5tZXNzYWdlIGFzIHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNvbnN0IHByZWZpeCA9IFwiW1ZvaWNlXSBcIjtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBQbGF5ZXJDKCkuZW5hYmxlZFxuICAgICAgICAgICAgICAgICYmIFBsYXllckMoKS5iY3hWb2ljZVxuICAgICAgICAgICAgICAgICYmIG1lc3NhZ2U/LnN0YXJ0c1dpdGgocHJlZml4KVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFBsYXlDbGlja2VyU291bmQoQ2xpY2tDb3VudChtZXNzYWdlLnN1YnN0cmluZyhwcmVmaXgubGVuZ3RoKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgYmN4SG9va2VkID0gdHJ1ZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBDbGlja2VyTW9kdWxlIGV4dGVuZHMgTW9kdWxlXG57XG4gICAgLy8gQkNYIGhvb2sgb25seSBsb2FkcyBvbmNlLCB1bmtub3duIGlmIGNhbiB1bmhvb2sgZm9yIFVubG9hZCgpXG4gICAgaGFzQmVlbkxvYWRlZCA9IGZhbHNlO1xuXG4gICAgZ2V0IFRpdGxlKCk6IE1vZHVsZVRpdGxlXG4gICAge1xuICAgICAgICByZXR1cm4gTW9kdWxlVGl0bGUuQ2xpY2tlcjtcbiAgICB9XG5cbiAgICBnZXQgQWN0aXZpdGllcygpOiBDdXN0b21BY3Rpdml0eVtdXG4gICAge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIE5hbWU6IFwiQ2xpY2tlcjFcIixcbiAgICAgICAgICAgICAgICBNYXhQcm9ncmVzczogNTAsXG4gICAgICAgICAgICAgICAgUHJlcmVxdWlzaXRlOiBbXCJVc2VIYW5kc1wiXSxcbiAgICAgICAgICAgICAgICBDdXN0b21QcmVyZXF1aXNpdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgTmFtZTogXCJIb2xkaW5nQ2xpY2tlclwiLFxuICAgICAgICAgICAgICAgICAgICBQcmVyZXF1aXNpdGU6IChhY3RpbmcsIF9hY3RlZCwgX2dyb3VwKSA9PlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSW52ZW50b3J5R2V0KGFjdGluZywgXCJJdGVtSGFuZGhlbGRcIik/LkFzc2V0Py5OYW1lPy50b0xvY2FsZUxvd2VyQ2FzZSgpPy5pbmNsdWRlcyhcInJlbW90ZVwiKSA/PyBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgVGFyZ2V0czogW3tcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IFwiSXRlbUhhbmRzXCIsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkNsaWNrIE9uY2VcIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uU2VsZjogXCJTb3VyY2VDaGFyYWN0ZXIgcHJlc3NlcyB0aGUgYnV0dG9uIG9uIFByb25vdW5Qb3NzZXNzaXZlIGNsaWNrZXIuXCJcbiAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgICAgICBJbWFnZTogXCJJY29ucy9BdWRpb09uLnBuZ1wiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgTmFtZTogXCJDbGlja2VyMlwiLFxuICAgICAgICAgICAgICAgIE1heFByb2dyZXNzOiA1MCxcbiAgICAgICAgICAgICAgICBQcmVyZXF1aXNpdGU6IFtcIlVzZUhhbmRzXCJdLFxuICAgICAgICAgICAgICAgIEN1c3RvbVByZXJlcXVpc2l0ZToge1xuICAgICAgICAgICAgICAgICAgICBOYW1lOiBcIkhvbGRpbmdDbGlja2VyXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFRhcmdldHM6IFt7XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwOiBcIkl0ZW1IYW5kc1wiLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJDbGljayBUd2ljZVwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25TZWxmOiBcIlNvdXJjZUNoYXJhY3RlciBwcmVzc2VzIHRoZSBidXR0b24gb24gUHJvbm91blBvc3Nlc3NpdmUgY2xpY2tlciB0d2ljZS5cIlxuICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgICAgIEltYWdlOiBcIkljb25zL0F1ZGlvT24ucG5nXCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBOYW1lOiBcIkNsaWNrZXIzXCIsXG4gICAgICAgICAgICAgICAgTWF4UHJvZ3Jlc3M6IDUwLFxuICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogW1wiVXNlSGFuZHNcIl0sXG4gICAgICAgICAgICAgICAgQ3VzdG9tUHJlcmVxdWlzaXRlOiB7XG4gICAgICAgICAgICAgICAgICAgIE5hbWU6IFwiSG9sZGluZ0NsaWNrZXJcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgVGFyZ2V0czogW3tcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IFwiSXRlbUhhbmRzXCIsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkNsaWNrIFRocmljZVwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25TZWxmOiBcIlNvdXJjZUNoYXJhY3RlciBwcmVzc2VzIHRoZSBidXR0b24gb24gUHJvbm91blBvc3Nlc3NpdmUgY2xpY2tlciB0aHJlZSB0aW1lcy5cIlxuICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgICAgIEltYWdlOiBcIkljb25zL0F1ZGlvT24ucG5nXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBnZXQgU2V0dGluZ3MoKTogU2V0dGluZ1tdXG4gICAge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiZW5hYmxlZFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhSXNIYXJkY29yZU9uKEMpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJFbmFibGUgYXVkaXRvcnkgY2xpY2tlclwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwidHJpZ2dlcnNcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllckMoQykuZW5hYmxlZCxcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJ+Y2xpY2t+XCIsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiUGhyYXNlcyB0aGF0IHRyaWdnZXIgdGhlIGNsaWNrOyBTZXBhcmF0ZSBwaHJhc2VzIHdpdGggYSBjb21tYVwiLFxuICAgICAgICAgICAgICAgIHdpZHRoOiAzODQsXG4gICAgICAgICAgICAgICAgbWF4Q2hhcnM6IG51bGxcbiAgICAgICAgICAgIH0gYXMgVGV4dFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNlbGZBdXRoZWRcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJDKEMpLmVuYWJsZWQgJiYgUGxheWVyQyhDKS5hdXRoZWRHcm91cCAhPT0gXCJTZWxmXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWxsb3cgeW91ciBvd24gY2hhdCwgZW1vdGVzLCAmIGFjdGlvbnMgdG8gdHJpZ2dlciB0aGUgY2xpY2tlclwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiYXV0aGVkR3JvdXBcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm9wdGlvblwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyQyhDKS5lbmFibGVkLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIkZyaWVuZHNcIiBhcyBBdXRob3JpdHlHcm91cCxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBbXCJQdWJsaWNcIiwgXCJGcmllbmRzXCIsIFwiV2hpdGVsaXN0XCIsIFwiTG92ZXJzXCIsIFwiT3duZXJzXCIsIFwiQ2x1Ym93bmVyXCIsIFwiU2VsZlwiXSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJXaG8gd2lsbCBiZSBhYmxlIHRvIHRyaWdnZXIgdGhlIGNsaWNrZXJcIixcbiAgICAgICAgICAgICAgICBsb29wOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBvblNldChDKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFBsYXllckMoQykuYXV0aGVkR3JvdXAgPT09IFwiU2VsZlwiKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBQbGF5ZXJDKEMpLnNlbGZBdXRoZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBhcyBPcHRpb25TZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJiY3hWb2ljZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllckMoQykuZW5hYmxlZCAmJiBiY3hGb3VuZCgpICYmICFJc0hhcmRjb3JlT24oQyksXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWxsb3cgQkNYIExpc3RlbiB0byBteSB2b2ljZSBydWxlIHRvIHRyaWdnZXIgdGhlIGNsaWNrZXI7IFJlcXVpcmVzIEJDWFwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZ1xuICAgICAgICBdO1xuICAgIH1cblxuICAgIExvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3VwZXIuTG9hZCgpO1xuXG4gICAgICAgIC8vIENoYXQsIHdoaXNwZXIsIGVtb3RlLCBhbmQgYWN0aW9uIHRyaWdnZXJzXG4gICAgICAgIEhvb2tGdW5jdGlvbihNb2R1bGVUaXRsZS5DbGlja2VyLCBcIkNoYXRSb29tTWVzc2FnZVwiLCAwLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGFyZ3NbMF07XG4gICAgICAgICAgICAvLyBJZiBjbGlja2VyIGlzIG5vdCBlbmFibGVkIG9yIGludmFsaWQgZGF0YSwgc2tpcFxuICAgICAgICAgICAgLy8gTWVzc2FnZSBzZW5kZXIgbm90IGF1dGhlZCwgc2tpcFxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICFQbGF5ZXJDKCkuZW5hYmxlZFxuICAgICAgICAgICAgICAgIHx8ICFhcmdzWzBdPy5UeXBlXG4gICAgICAgICAgICAgICAgfHwgIWFyZ3NbMF0/LkNvbnRlbnRcbiAgICAgICAgICAgICAgICB8fCAhYXJnc1swXT8uU2VuZGVyXG4gICAgICAgICAgICAgICAgfHwgIUlzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAoZGF0YS5TZW5kZXIhLCBQbGF5ZXJDKCkuYXV0aGVkR3JvdXAgYXMgQXV0aG9yaXR5R3JvdXAsIFBsYXllckMoKS5zZWxmQXV0aGVkIGFzIGJvb2xlYW4pKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgY2xpY2tzOiBudW1iZXIgPSAwO1xuICAgICAgICAgICAgLy8gQ291bnQgdGhlIGNsaWNrcyBpbiBhbiBlbW90ZSBvciBjaGF0XG4gICAgICAgICAgICBpZiAoZGF0YS5UeXBlID09IFwiQ2hhdFwiIHx8IGRhdGEuVHlwZSA9PSBcIkVtb3RlXCIgfHwgZGF0YS5UeXBlID09IFwiV2hpc3BlclwiKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNsaWNrcyA9IENsaWNrQ291bnQoUmVtb3ZlT09DQ29udGVudEZyb21NZXNzYWdlKGRhdGEuQ29udGVudCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQ291bnQgdGhlIGNsaWNrcyBpbiBhbiBhY3Rpb24sIChzdXBwb3J0IGN1c3RvbSBhY3Rpb25zKVxuICAgICAgICAgICAgaWYgKGRhdGEuVHlwZSA9PSBcIkFjdGlvblwiKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIEJlZXBzXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuQ29udGVudCA9PSBcIkJlZXBcIilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrcyA9IENsaWNrQ291bnQoKGRhdGE/LkRpY3Rpb25hcnk/LmZpbHRlcigoeCkgPT4gKHggYXMgVGV4dERpY3Rpb25hcnlFbnRyeSkuVGFnID09IFwiQmVlcFwiKVswXSBhcyBUZXh0RGljdGlvbmFyeUVudHJ5KT8uVGV4dCA/PyBcIlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gTUJDSCBhY3Rpb25zXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZGF0YS5EaWN0aW9uYXJ5Py5yZWR1Y2UoKGFjYywgY3VycikgPT4gYWNjIHx8ICgoY3VyciBhcyBhbnkpLlRhZyA9PT0gXCJNSVNTSU5HIFRFWFQgSU4gXFxcIkludGVyZmFjZS5jc3ZcXFwiOiBcIiAmJiAoY3VyciBhcyBhbnkpLlRleHQgPT09IFwiXFx1MjAwY1wiKSwgZmFsc2UpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tzID0gQ2xpY2tDb3VudChkYXRhLkNvbnRlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBCQ1ggYWN0aW9uc1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNsaWNrcyA9IENsaWNrQ291bnQoKGRhdGE/LkRpY3Rpb25hcnk/LmZpbHRlcigoeCkgPT4gKHggYXMgVGV4dERpY3Rpb25hcnlFbnRyeSkuVGFnID09IGBNSVNTSU5HIFRFWFQgSU4gXCJJbnRlcmZhY2UuY3N2XCI6ICR7ZGF0YT8uQ29udGVudH1gKVswXSBhcyBUZXh0RGljdGlvbmFyeUVudHJ5KT8uVGV4dCA/PyBcIlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFBsYXkgdGhlIGNsaWNrcyBpZiBuZWVkZWRcbiAgICAgICAgICAgIFBsYXlDbGlja2VyU291bmQoY2xpY2tzKTtcbiAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBIYW5kIGNsaWNrZXIgYWN0aXZpdHkgdHJpZ2dlclxuICAgICAgICBIb29rRnVuY3Rpb24oTW9kdWxlVGl0bGUuQ2xpY2tlciwgXCJDaGF0Um9vbU1lc3NhZ2VcIiwgMCwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIG5leHQoYXJncyk7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXJnc1swXTtcbiAgICAgICAgICAgIC8vIEZvciBzb21lIHJlYXNvbiBfYS5maW5kIGlzIG5vdCBkZWZpbmVkXG4gICAgICAgICAgICAvLyBJIGRvbid0IGtub3cgd2h5LCBvciB3aHkgbm90XG4gICAgICAgICAgICAvLyBCdWcgaXMgU2NocsO2ZGluZ2VyJ3MgYnVnLCBpdCBvbmx5IGV4aXN0cyB3aGVuIEkgZG9uJ3Qgb2JzZXJ2ZSBpdFxuICAgICAgICAgICAgLy8gTG9nZ2luZyB0aGUgZGF0YSBvYmplY3QgYW5kIHRoZSBidWcgdmFuaXNoZXMuLi5cbiAgICAgICAgICAgIC8vIEVkaXQ6IE1hZGUgZnJhbWV3b3JrIHRvIGhhbmRsZSBmaW5kaW5nIGF0dHJpYnV0ZXMgZnJvbSBDaGF0TWVzc2FnZURpY3Rpb25hcnkuIE5vIGlzc3Vlcy4uLi4uIHNvIGZhci4uLlxuICAgICAgICAgICAgY29uc3QgYWN0aXZpdHlOYW1lID0gR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiQWN0aXZpdHlOYW1lXCIpIGFzIHN0cmluZztcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBQbGF5ZXJDKCkuZW5hYmxlZFxuICAgICAgICAgICAgICAgICYmIGRhdGEuVHlwZSA9PT0gXCJBY3Rpdml0eVwiXG4gICAgICAgICAgICAgICAgJiYgYWN0aXZpdHlOYW1lPy5zdGFydHNXaXRoKFwiTVBBX0NsaWNrZXJcIilcbiAgICAgICAgICAgICAgICAmJiBJc01lbWJlck51bWJlckluQXV0aEdyb3VwKGRhdGEuU2VuZGVyISwgUGxheWVyQygpLmF1dGhlZEdyb3VwIGFzIEF1dGhvcml0eUdyb3VwLCBQbGF5ZXJDKCkuc2VsZkF1dGhlZCBhcyBib29sZWFuKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFBsYXlDbGlja2VyU291bmQoTnVtYmVyKGFjdGl2aXR5TmFtZS5zbGljZSgtMSkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gSG9vayBpbnRvIEJDWCBsaXN0ZW4gdG8gdm9pY2UsIG1heSBub3QgYmUgbG9hZGVkIHJpZ2h0IGF3YXksIHdhaXQgMTUgc2Vjb25kc1xuICAgICAgICBpZiAoIXRoaXMuaGFzQmVlbkxvYWRlZClcbiAgICAgICAge1xuICAgICAgICAgICAgSG9va0JDWENsaWNrZXIoKTtcbiAgICAgICAgICAgIGNvbnN0IGludmVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoYmN4SG9va2VkKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnZlcnZhbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIEhvb2tCQ1hDbGlja2VyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgNjAwMDApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaGFzQmVlbkxvYWRlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgVW5sb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLlVubG9hZCgpO1xuICAgIH1cbn1cbiIsIi8vIE5ldmVyIHNlbmQgUHJpdmF0ZSBNUEEgZGF0YSBhY3Jvc3MgdGhlIHNlcnZlciBhbmQgbmV2ZXIgYWNjZXB0IFByaXZhdGUgTVBBIGRhdGFcbmltcG9ydCB7IEhvb2tGdW5jdGlvbiB9IGZyb20gXCIuLi91dGlsL3Nka1wiO1xuaW1wb3J0IHsgTW9kdWxlLCBNb2R1bGVUaXRsZSB9IGZyb20gXCIuL19tb2R1bGVcIjtcbmltcG9ydCB7IEZpbmRDaGFyYWN0ZXJJblJvb20sIEdldE1QQU1lc3NhZ2VGcm9tQ2hhdCwgSG9va2VkTWVzc2FnZSwgaG9va2VkTWVzc2FnZXMsIE1QQU1lc3NhZ2VDb250ZW50LCBTZW5kTVBBTWVzc2FnZSB9IGZyb20gXCIuLi91dGlsL21lc3NhZ2luZ1wiO1xuXG4vKipcbiAqIFN5bmMgYWxsIG9mIHlvdXIgY3VycmVudCBzZXR0aW5ncyB3aXRoIGV2ZXJ5b25lIGVsc2VcbiAqIEBwYXJhbSByZXBseSAtIElmIHdlIHdhbnQgb3RoZXJzIHRvIHNoYXJlIHRoZWlyIHNldHRpbmdzIGJhY2tcbiAqIEBwYXJhbSB0YXJnZXQgLSBTaGFyZSBvbmx5IHRvIHRoaXMgb25lIE1lbWJlck51bWJlclxuICovXG5leHBvcnQgZnVuY3Rpb24gU2V0dGluZ1N5bmMocmVwbHk6IGJvb2xlYW4gPSBmYWxzZSwgdGFyZ2V0PzogbnVtYmVyKTogdm9pZFxue1xuICAgIGNvbnN0IHNldHRpbmdzID0gc3RydWN0dXJlZENsb25lKFBsYXllci5NUEEpO1xuICAgIGRlbGV0ZSBzZXR0aW5nc1tNb2R1bGVUaXRsZS5Qcml2YXRlXTtcbiAgICBTZW5kTVBBTWVzc2FnZSh7XG4gICAgICAgIG1lc3NhZ2U6IFwiU2V0dGluZ1N5bmNcIixcbiAgICAgICAgc2V0dGluZ3M6IHNldHRpbmdzLFxuICAgICAgICByZXBseTogcmVwbHlcbiAgICB9LCB0YXJnZXQpO1xufVxuXG4vKipcbiAqIFN5bmMgYWxsIG9mIHlvdXIgY3VycmVudCBzZXR0aW5ncyBvZiBhIGdpdmVuIGNhdGVnb3J5IHdpdGggb3RoZXJzXG4gKiBAcGFyYW0gY2F0ZWdvcnkgLSBXaGljaCBNb2R1bGVUaXRsZSBjYXRlZ29yeSB0byBzaGFyZVxuICogQHBhcmFtIHRhcmdldCAtIFNoYXJlIG9ubHkgdG8gdGhpcyBvbmUgTWVtYmVyTnVtYmVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBDYXRlZ29yeVN5bmMoY2F0ZWdvcnk6IE1vZHVsZVRpdGxlLCB0YXJnZXQ/OiBudW1iZXIpOiB2b2lkXG57XG4gICAgaWYgKGNhdGVnb3J5ID09PSBNb2R1bGVUaXRsZS5Qcml2YXRlKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBTZW5kTVBBTWVzc2FnZSh7XG4gICAgICAgIG1lc3NhZ2U6IFwiQ2F0ZWdvcnlTeW5jXCIsXG4gICAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeSxcbiAgICAgICAgdmFsdWU6IFBsYXllci5NUEFbY2F0ZWdvcnldXG4gICAgfSwgdGFyZ2V0KTtcbn1cblxuLyoqXG4gKiBTeW5jIG9ubHkgYSBzaW5nbGUgcmVjb3JkIGZyb20gYSBnaXZlbiBjYXRlZ29yeSB3aXRoIG90aGVyc1xuICogQHBhcmFtIGNhdGVnb3J5IC0gV2hpY2ggTW9kdWxlVGl0bGUgY2F0ZWdvcnkgdG8gc2hhcmVcbiAqIEBwYXJhbSByZWNvcmQgLSBSZWNvcmQgd2l0aGluIE1vZHVsZVRpdGxlIHlvdSB3YW50IHRvIHNoYXJlXG4gKiBAcGFyYW0gdGFyZ2V0IC0gU2hhcmUgb25seSB0byB0aGlzIG9uZSBNZW1iZXJOdW1iZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFJlY29yZFN5bmMoY2F0ZWdvcnk6IE1vZHVsZVRpdGxlLCByZWNvcmQ6IHN0cmluZywgdGFyZ2V0PzogbnVtYmVyKTogdm9pZFxue1xuICAgIFJlY29yZHNTeW5jKFt7IGNhdGVnb3J5OiBjYXRlZ29yeSwgcmVjb3JkOiByZWNvcmQgfV0sIHRhcmdldCk7XG59XG5cbnR5cGUgVHJhbnNtaXRSZWNvcmRzID0geyBjYXRlZ29yeTogTW9kdWxlVGl0bGU7IHJlY29yZDogc3RyaW5nOyB2YWx1ZT86IGFueSB9W107XG4vKipcbiAqIFN5bmMgbXVsdGlwbGUgcmVjb3JkcyBmcm9tIGFueSBnaXZlbiBjYXRlZ29yeSB3aXRoIG90aGVyc1xuICogQHBhcmFtIHJlY29yZHMuY2F0ZWdvcnkgLSBXaGljaCBNb2R1bGVUaXRsZSBjYXRlZ29yeSB0byBzaGFyZVxuICogQHBhcmFtIHJlY29yZHMucmVjb3JkIC0gUmVjb3JkIHdpdGhpbiBNb2R1bGVUaXRsZSB5b3Ugd2FudCB0byBzaGFyZVxuICogQHBhcmFtIHRhcmdldCAtIFNoYXJlIG9ubHkgdG8gdGhpcyBvbmUgTWVtYmVyTnVtYmVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBSZWNvcmRzU3luYyhyZWNvcmRzOiBUcmFuc21pdFJlY29yZHMsIHRhcmdldD86IG51bWJlcik6IHZvaWRcbntcbiAgICBmb3IgKHZhciBpID0gcmVjb3Jkcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICB7XG4gICAgICAgIGNvbnN0IHJlY29yZCA9IHJlY29yZHNbaV07XG4gICAgICAgIGlmIChyZWNvcmQuY2F0ZWdvcnkgPT09IE1vZHVsZVRpdGxlLlByaXZhdGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJlY29yZHMuc3BsaWNlKGksIDEpO1xuICAgICAgICB9XG4gICAgICAgIHJlY29yZC52YWx1ZSA9IFBsYXllci5NUEFbcmVjb3JkLmNhdGVnb3J5XVtyZWNvcmQucmVjb3JkXTtcbiAgICB9XG4gICAgaWYgKHJlY29yZHMubGVuZ3RoID09PSAwKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBTZW5kTVBBTWVzc2FnZSh7XG4gICAgICAgIG1lc3NhZ2U6IFwiUmVjb3Jkc1N5bmNcIixcbiAgICAgICAgcmVjb3JkczogcmVjb3Jkc1xuICAgIH0sIHRhcmdldCk7XG59XG5cbmV4cG9ydCBjbGFzcyBEYXRhU3luY01vZHVsZSBleHRlbmRzIE1vZHVsZVxue1xuICAgIGdldCBUaXRsZSgpOiBNb2R1bGVUaXRsZVxuICAgIHtcbiAgICAgICAgcmV0dXJuIE1vZHVsZVRpdGxlLkRhdGFTeW5jO1xuICAgIH1cblxuICAgIGdldCBTeW5jTGlzdGVuZXJzKCk6IEhvb2tlZE1lc3NhZ2VbXVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBtb2R1bGU6IE1vZHVsZVRpdGxlLkRhdGFTeW5jLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiU2V0dGluZ1N5bmNcIixcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uIChzZW5kZXI6IENoYXJhY3RlciwgY29udGVudDogTVBBTWVzc2FnZUNvbnRlbnQpOiB2b2lkXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VuZGVyLk1lbWJlck51bWJlciA9PT0gUGxheWVyLk1lbWJlck51bWJlcilcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNlbmRlci5NUEEgPSBjb250ZW50LnNldHRpbmdzO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudC5yZXBseSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgU2V0dGluZ1N5bmMoZmFsc2UsIHNlbmRlci5NZW1iZXJOdW1iZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIG1vZHVsZTogTW9kdWxlVGl0bGUuRGF0YVN5bmMsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJDYXRlZ29yeVN5bmNcIixcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uIChzZW5kZXI6IENoYXJhY3RlciwgY29udGVudDogTVBBTWVzc2FnZUNvbnRlbnQpOiB2b2lkXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VuZGVyLk1lbWJlck51bWJlciA9PT0gUGxheWVyLk1lbWJlck51bWJlcilcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghc2VuZGVyLk1QQSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgU2V0dGluZ1N5bmMoZmFsc2UsIHNlbmRlci5NZW1iZXJOdW1iZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VuZGVyLk1QQVtjb250ZW50LmNhdGVnb3J5XSA9IGNvbnRlbnQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgbW9kdWxlOiBNb2R1bGVUaXRsZS5EYXRhU3luYyxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlJlY29yZHNTeW5jXCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoc2VuZGVyOiBDaGFyYWN0ZXIsIGNvbnRlbnQ6IE1QQU1lc3NhZ2VDb250ZW50KTogdm9pZFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbmRlci5NZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXIpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHJlY29yZCBvZiBjb250ZW50LnJlY29yZHMgYXMgVHJhbnNtaXRSZWNvcmRzKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXNlbmRlcj8uTVBBPy5bcmVjb3JkLmNhdGVnb3J5XSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDYXRlZ29yeVN5bmMoY29udGVudC5jYXRlZ29yeSwgc2VuZGVyLk1lbWJlck51bWJlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VuZGVyLk1QQVtyZWNvcmQuY2F0ZWdvcnldW3JlY29yZC5yZWNvcmRdID0gcmVjb3JkLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuICAgIH1cblxuICAgIExvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3VwZXIuTG9hZCgpO1xuXG4gICAgICAgIC8vIE1QQSBsb2FkZWQgaW4gYSBjaGF0cm9vbSwgU3luYyB3aXRoIG90aGVycyBpbiB0aGUgcm9vbVxuICAgICAgICBpZiAoQ2hhdFJvb21DaGFyYWN0ZXIubGVuZ3RoICE9PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBTZXR0aW5nU3luYyh0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFdoZW4gam9pbmluZyBhIHJvb20sIHN5bmMgTVBBIHNldHRpbmdzIHdpdGggZXZlcnlvbmUgZWxzZVxuICAgICAgICBIb29rRnVuY3Rpb24oTW9kdWxlVGl0bGUuRGF0YVN5bmMsIFwiQ2hhdFJvb21TeW5jXCIsIDAsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBuZXh0KGFyZ3MpO1xuICAgICAgICAgICAgU2V0dGluZ1N5bmModHJ1ZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFN5bmMgcmVxdWVzdCwgaGFuZGxlIGFuZCByZXBseSBpZiBuZWVkZWRcbiAgICAgICAgSG9va0Z1bmN0aW9uKE1vZHVsZVRpdGxlLkRhdGFTeW5jLCBcIkNoYXRSb29tTWVzc2FnZVwiLCAwLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGFyZ3NbMF07XG4gICAgICAgICAgICBjb25zdCBjb250ZW50ID0gR2V0TVBBTWVzc2FnZUZyb21DaGF0KGRhdGEpO1xuICAgICAgICAgICAgaWYgKCFjb250ZW50KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc2VuZGVyID0gRmluZENoYXJhY3RlckluUm9vbShkYXRhLlNlbmRlciA/PyBcIlwiLCB7IE1lbWJlck51bWJlcjogdHJ1ZSwgTmFtZTogZmFsc2UsIE5pY2tOYW1lOiBmYWxzZSB9KTtcbiAgICAgICAgICAgIGlmICghc2VuZGVyKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBIYW5kbGUgdGhlIGRhdGEgbGlzdGVuZXJzXG4gICAgICAgICAgICBob29rZWRNZXNzYWdlcy5mb3JFYWNoKChob29rKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChjb250ZW50Lm1lc3NhZ2UgPT09IGhvb2subWVzc2FnZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGhvb2suYWN0aW9uKHNlbmRlciwgY29udGVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIFVubG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5VbmxvYWQoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBNb2R1bGUsIE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4vX21vZHVsZVwiO1xuXG5leHBvcnQgY2xhc3MgUHJpdmF0ZU1vZHVsZSBleHRlbmRzIE1vZHVsZVxue1xuICAgIGdldCBUaXRsZSgpOiBNb2R1bGVUaXRsZVxuICAgIHtcbiAgICAgICAgcmV0dXJuIE1vZHVsZVRpdGxlLlByaXZhdGU7XG4gICAgfVxuXG4gICAgZ2V0IFNldHRpbmdzKCk6IFNldHRpbmdbXVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNhdmVkQmVkXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJyZWNvcmRcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuICAgIH1cblxuICAgIExvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3VwZXIuTG9hZCgpO1xuICAgIH1cblxuICAgIFVubG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5VbmxvYWQoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBGaWx0ZXJBcnJheUZyb21BcnJheSB9IGZyb20gXCIuLi91dGlsL2dlbmVyYWxcIjtcbmltcG9ydCB7IGJjeEFQSSwgYmN4Rm91bmQsIEhvb2tGdW5jdGlvbiB9IGZyb20gXCIuLi91dGlsL3Nka1wiO1xuaW1wb3J0IHsgTW9kdWxlLCBNb2R1bGVUaXRsZSB9IGZyb20gXCIuL19tb2R1bGVcIjtcbmltcG9ydCB7IEVsZW1lbnROYW1lIH0gZnJvbSBcIi4vc2V0dGluZ3NcIjtcbmltcG9ydCB7IEFwcGx5UGV0SGVhcmluZywgTm9uRGlzcnVwdGl2ZVBldFNwZWVjaCB9IGZyb20gXCIuLi91dGlsL3BldEhlYXJBbmRTcGVha1wiO1xuaW1wb3J0IHsgSG9va2VkTWVzc2FnZSwgTVBBTWVzc2FnZUNvbnRlbnQsIFNlbmRNUEFNZXNzYWdlIH0gZnJvbSBcIi4uL3V0aWwvbWVzc2FnaW5nXCI7XG5pbXBvcnQgeyBSZWNvcmRzU3luYyB9IGZyb20gXCIuL2RhdGFTeW5jXCI7XG5pbXBvcnQgeyBJc01lbWJlck51bWJlckluQXV0aEdyb3VwIH0gZnJvbSBcIi4uL3V0aWwvYXV0aG9yaXR5XCI7XG5cbmNvbnN0IFBsYXllclA6IChDPzogQ2hhcmFjdGVyKSA9PiBNUEFSZWNvcmQgPSAoQzogQ2hhcmFjdGVyID0gUGxheWVyKSA9Plxue1xuICAgIHJldHVybiBDLk1QQT8uW01vZHVsZVRpdGxlLlByb2ZpbGVdID8/IHt9O1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIElzSGFyZGNvcmVPbihDOiBDaGFyYWN0ZXIpOiBib29sZWFuXG57XG4gICAgcmV0dXJuIChDLk1QQT8uW01vZHVsZVRpdGxlLlByb2ZpbGVdLmhhcmRjb3JlIGFzIGJvb2xlYW4gfCB1bmRlZmluZWQpID8/IGZhbHNlO1xufTtcblxuZnVuY3Rpb24gR2V0UmVjb3JkKHRpdGxlOiBNb2R1bGVUaXRsZSwgQzogQ2hhcmFjdGVyID0gUGxheWVyKTogTVBBUmVjb3JkXG57XG4gICAgcmV0dXJuIEMuTVBBPy5bdGl0bGVdID8/IHt9O1xufVxuXG4vLyBNYWtlIHN1cmUgbm90IGluIEJDWCBiYW5uZWQgd29yZHMgLyBwaHJhc2VzXG4vLyBEb24ndCBibGFtZSBtZSBmb3IgdGhlIHNlbGVjdGlvbiwgaG93IGFyZSB5b3Ugc3VwcG9zZWQgdG8gdHlwZSBvdXQgdGhlc2UgYW5pbWFsIHNvdW5kc1xuLy8gSGFsZiB0aGlzIGNhbWUgZnJvbSBjaGF0IGdwdCBhbnl3YXksIGlmIHlvdSBnb3Qgc29tZXRoaW5nIGJldHRlciwgZmVlbCBmcmVlIHRvIHN1Z2dlc3QgaXRcbmV4cG9ydCBjb25zdCBHQVJCTEVfUEhSQVNFUyA9IE9iamVjdC5mcmVlemUoe1xuICAgIEh1bWFuOiBbXCJobW1nbVwiLCBcIm1tbW1cIiwgXCJtaGhtbWFhXCIsIFwiaG1tbVwiXSxcbiAgICBDdXN0b206IFtcIlwiXSxcbiAgICBCdW5ueTogW1wicG9uXCIsIFwicHlvblwiLCBcImVlcFwiLCBcImh1ZmZcIiwgXCJ0ay10a1wiLCBcIm5uZ2gtbm5naFwiXSxcbiAgICBDYXQ6IFtcIm1lb3dcIiwgXCJtZXdcIiwgXCJueWFoXCIsIFwibnlhXCIsIFwicHVyclwiLCBcIm1ycm93XCIsIFwicHJyclwiXSxcbiAgICBDb3c6IFtcIm1vb1wiLCBcIm1vb29vb1wiLCBcIm11dWhoaFwiLCBcIm1vb29haFwiXSxcbiAgICBEb2c6IFtcImFyZlwiLCBcIndvb2ZcIiwgXCJiYXJrXCIsIFwicnVmZlwiLCBcImh1ZmZcIiwgXCJlZXBcIl0sXG4gICAgRm94OiBbXCJjaGlycFwiLCBcInlpcFwiLCBcIndvdy13b3dcIiwgXCJ5b3d3XCIsIFwiZWVwXCJdLFxuICAgIE1vdXNlOiBbXCJzcXVlYWtcIiwgXCJlZWVrXCIsIFwidGNoLXRjaFwiLCBcIndpLWktaVwiLCBcInNzc1wiXSxcbiAgICBQb255OiBbXCJuZWlnaFwiLCBcIndoaW5ueVwiLCBcIndoZWVlXCIsIFwic25ydFwiLCBcIndob29vc2hcIiwgXCJodWZmXCIsIFwibm5oaGgta2VyXCJdLFxuICAgIFdvbGY6IFtcImF3b29cIiwgXCJhYS1vb29cIiwgXCJ3b29mXCIsIFwicnVmZlwiLCBcImFyZlwiLCBcIndpaWlwXCIsIFwiaHVmZlwiXVxufSk7XG50eXBlIFBldFNwZWFraW5nS2V5cyA9IGtleW9mIHR5cGVvZiBHQVJCTEVfUEhSQVNFUztcblxuLyoqXG4gKiBHZXQgdGhlIHBldCBnYXJibGUgcGhyYXNlcyBmb3IgdGhlIHNlbGVjdGVkIHByb2ZpbGVcbiAqIEBwYXJhbSBwcm9maWxlIC0gRGVmYXVsdHMgdG8gUGxheWVyJ3MgcHJvZmlsZSBpZiBub25lIHByb3ZpZGVkXG4gKi9cbmZ1bmN0aW9uIEdldFBldEdhcmJsZVBocmFzZXMocHJvZmlsZTogUGV0U3BlYWtpbmdLZXlzID0gUGxheWVyUChQbGF5ZXIpLnR5cGUpOiBzdHJpbmdbXVxue1xuICAgIGlmIChwcm9maWxlIGluIEdBUkJMRV9QSFJBU0VTICYmIHByb2ZpbGUgIT09IFwiQ3VzdG9tXCIpXG4gICAge1xuICAgICAgICByZXR1cm4gR0FSQkxFX1BIUkFTRVNbcHJvZmlsZV07XG4gICAgfVxuICAgIHJldHVybiAoUGxheWVyUChQbGF5ZXIpLmdhcmJsZVBocmFzZXMgYXMgc3RyaW5nKS5zcGxpdChcIixcIikubWFwKChzdHIpID0+IHN0ci50cmltKCkpO1xufVxuXG4vKipcbiAqIE9ubHkgaW5jbHVkZSBwZXQgc291bmRzIHRoYXQgYXJlIHBlcm1pdHRlZCBieSBCQ1hcbiAqIEBwYXJhbSBwcm9maWxlIC0gRGVmYXVsdHMgdG8gUGxheWVyJ3MgcHJvZmlsZVxuICogQHJldHVybnMgUGhyYXNlcyBCQ1ggd29uJ3QgZ2V0IG1hZCBhdFxuICovXG5mdW5jdGlvbiBHZXRBbGxvd2VkUGV0R2FyYmxlUGhyYXNlcyhwcm9maWxlOiBQZXRTcGVha2luZ0tleXMgPSBQbGF5ZXJQKFBsYXllcikudHlwZSk6IHN0cmluZ1tdXG57XG4gICAgY29uc3QgYmFubmVkQkNYV29yZHMgPSBiY3hBUEkoKT8uZ2V0UnVsZVN0YXRlKFwic3BlZWNoX2Jhbl93b3Jkc1wiKT8uY3VzdG9tRGF0YT8uYmFubmVkV29yZHMgPz8gW107XG4gICAgY29uc3QgcGV0UGhyYXNlcyA9IGJjeEZvdW5kKCkgJiYgUGxheWVyUChQbGF5ZXIpLmJjeFNwZWFraW5nID9cbiAgICAgICAgYmN4QVBJKCk/LmdldFJ1bGVTdGF0ZShcInNwZWVjaF9tYW5kYXRvcnlfd29yZHNcIik/LmN1c3RvbURhdGE/Lm1hbmRhdG9yeVdvcmRzID8/IFtdIDpcbiAgICAgICAgR2V0UGV0R2FyYmxlUGhyYXNlcyhwcm9maWxlKTtcbiAgICByZXR1cm4gRmlsdGVyQXJyYXlGcm9tQXJyYXkocGV0UGhyYXNlcywgYmFubmVkQkNYV29yZHMpO1xufVxuXG5leHBvcnQgY29uc3QgUEVUX0hFQVJJTkcgPSBPYmplY3QuZnJlZXplKHtcbiAgICBBbGw6IFtcIm93bmVyXCIsIFwicGV0XCIsIFwibWFzdGVyXCIsIFwibWlzdHJlc3NcIiwgXCJtaXNzXCIsIFwic2lyXCIsIFwicGF3XCIsIFwic2l0XCIsIFwiY29tZVwiLCBcImRvd25cIiwgXCJ1cFwiLFxuICAgICAgICBcInN0YXlcIiwgXCJ3YXRlclwiLCBcImZvb2RcIiwgXCJraWJibGVcIiwgXCJlYXRcIiwgXCJ0cmVhdFwiLCBcImRyaW5rXCIsIFwidG95XCIsIFwicGxheVwiLCBcImxlYXNoXCIsIFwid2Fsa1wiLFxuICAgICAgICBcIndhbGtpZXNcIiwgXCJiZWRcIiwgXCJzbGVlcFwiLCBcImN1dGllXCIsIFwiYWRvcmFibGVcIiwgXCJ0b3lcIiwgXCJwbGF5XCIsIFwia2liYmxlXCIsIFwiZ29vZFwiLCBcImJhZFwiLFxuICAgICAgICBcImxhcFwiLCBcInNwZWFrXCIsIFwiaHVzaFwiLCBcInF1aWV0XCIsIFwiaHVzaFwiLCBcImFsbCBmb3Vyc1wiLCBcImFsbC1mb3Vyc1wiXSxcbiAgICBIdW1hbjogW10sXG4gICAgQ3VzdG9tOiBbXSxcbiAgICBCdW5ueTogW1wiYnVuXCIsIFwiYnVubnlcIiwgXCJjYXJyb3RcIiwgXCJob3BcIiwgXCJqdW1wXCIsIFwiaHVtcFwiLCBcImVhclwiLCBcImVhcnNcIl0sXG4gICAgQ2F0OiBbXCJjYXRcIiwgXCJraXR0eVwiLCBcImtpdHRlblwiLCBcImNhdG5pcFwiLCBcImtuZWFkXCIsIFwic2NyYXRjaFwiLCBcInlhcm5cIiwgXCJtaWxrXCJdLFxuICAgIENvdzogW1wibWlsa1wiLCBcIm1pbGtpbmdcIiwgXCJ1dHRlclwiLCBcImJyZWFzdFwiLCBcImdyYXNzXCIsIFwibW9vXCJdLFxuICAgIERvZzogW1wiY2FnZVwiLCBcImtlbm5lbFwiLCBcInB1cFwiLCBcInB1cHB5XCIsIFwiZG9nXCIsIFwiZG9nZ3lcIiwgXCJib25lXCIsIFwiZmV0Y2hcIiwgXCJoZWVsXCIsIFwicm9sbFwiLCBcIm92ZXJcIiwgXCJiYXJrXCJdLFxuICAgIEZveDogW1widHJhcFwiLCBcImJ1blwiLCBcImJ1bm55XCIsIFwiYm9uZVwiLCBcImZveFwiLCBcImZveHlcIl0sXG4gICAgTW91c2U6IFtcIm1vdXNlXCIsIFwiZWFyXCIsIFwiZWFyc1wiLCBcInRyYXBcIiwgXCJ3aXJlXCIsIFwid2hlZWxcIiwgXCJjaGVlc2VcIiwgXCJuaWJibGVcIiwgXCJjYXRcIiwgXCJraXR0eVwiLCBcImtpdHRlblwiXSxcbiAgICBQb255OiBbXCJwb255XCIsIFwibWFyZVwiLCBcInN0YWxsaW9uXCIsIFwiYnJpZGxlXCIsIFwiaG9vZlwiLCBcImhvb3Zlc1wiLCBcInRyb3RcIiwgXCJzdGFsbFwiLCBcImhheVwiLCBcIndvYWhcIixcbiAgICAgICAgXCJzdG9tcFwiLCBcImNhbG1cIiwgXCJlYXN5XCIsIFwic2xvd1wiLCBcImNhcnRcIiwgXCJiYXlcIiwgXCJydW5cIiwgXCJyYWNlXCJdLFxuICAgIFdvbGY6IFtcImJvbmVcIiwgXCJ3b2xmXCIsIFwiZG9nXCIsIFwicHVwXCIsIFwicHVwcHlcIiwgXCJoZWVsXCJdXG59KTtcbnR5cGUgUGV0SGVhcmluZ0tleXMgPSBrZXlvZiB0eXBlb2YgUEVUX0hFQVJJTkc7XG5cbi8qKlxuICpcbiAqIEBwYXJhbSBwcm9maWxlIC0gRGVmYXVsdHMgdG8gUGxheWVyJ3MgcHJvZmlsZVxuICovXG5mdW5jdGlvbiBHZXRQZXRIZWFyaW5nUGhyYXNlcyhwcm9maWxlOiBQZXRIZWFyaW5nS2V5cyA9IFBsYXllclAoUGxheWVyKS50eXBlKTogc3RyaW5nW11cbntcbiAgICBpZiAocHJvZmlsZSBpbiBQRVRfSEVBUklORylcbiAgICB7XG4gICAgICAgIHJldHVybiBQRVRfSEVBUklORy5BbGwuY29uY2F0KFBFVF9IRUFSSU5HW3Byb2ZpbGVdKTtcbiAgICB9XG5cbiAgICByZXR1cm4gUEVUX0hFQVJJTkcuQWxsO1xufVxuXG4vKipcbiAqIENhbGxiYWNrIHdoZW4gcHJvZmlsZSB0eXBlIGlzIHNldFxuICogQHBhcmFtIEMgLSBDaGFyYWN0ZXIgd2hvIHdlIGFyZSBzZXR0aW5nXG4gKiBAcGFyYW0gdmFsdWUgLSBXaGF0IHRoZSBuZXcgdHlwZSBpc1xuICogQHBhcmFtIHByZXZWYWx1ZSAtIFdoYXQgdGhlIHByZXZpb3VzIHR5cGUgd2FzXG4gKi9cbmZ1bmN0aW9uIFNldFByb2ZpbGVUeXBlKEM6IENoYXJhY3RlciwgdmFsdWU6IHN0cmluZywgcHJldlZhbHVlOiBzdHJpbmcpXG57XG4gICAgY29uc3QgZWxlSUQgPSBFbGVtZW50TmFtZShNb2R1bGVUaXRsZS5Qcm9maWxlLCBcImdhcmJsZVBocmFzZXNcIik7XG4gICAgaWYgKHZhbHVlID09PSBcIkN1c3RvbVwiKVxuICAgIHtcbiAgICAgICAgUGxheWVyUChDKS5nYXJibGVQaHJhc2VzID0gUGxheWVyUChDKS5jdXN0b21HYXJibGVQaHJhc2VzLmpvaW4oXCIsIFwiKTtcbiAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZUlEKSlcbiAgICAgICAge1xuICAgICAgICAgICAgRWxlbWVudFZhbHVlKGVsZUlELCBQbGF5ZXJQKEMpLmdhcmJsZVBocmFzZXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHByZXZWYWx1ZSA9PT0gXCJDdXN0b21cIiAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVJRCkpXG4gICAge1xuICAgICAgICBQbGF5ZXJQKEMpLmN1c3RvbUdhcmJsZVBocmFzZXMgPSBFbGVtZW50VmFsdWUoZWxlSUQpLnNwbGl0KFwiLFwiKS5tYXAoKHgpID0+IHgudHJpbSgpKTtcbiAgICB9XG4gICAgUGxheWVyUChDKS5nYXJibGVQaHJhc2VzID0gKEdBUkJMRV9QSFJBU0VTW1BsYXllclAoQykudHlwZV0gYXMgc3RyaW5nW10pLmpvaW4oXCIsIFwiKTtcblxuICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVJRCkpXG4gICAge1xuICAgICAgICBFbGVtZW50VmFsdWUoZWxlSUQsIFBsYXllclAoQykuZ2FyYmxlUGhyYXNlcyk7XG4gICAgfVxufVxuXG4vKipcbiAqIFNldCBwcm9maWxlIGJjeCBzcGVha2luZyBmb3IgdGhlIGxvY2FsIHBsYXllclxuICovXG5mdW5jdGlvbiBTZXRCQ1hTcGVhaygpXG57XG4gICAgUGxheWVyUCgpLmJjeFNwZWFraW5nID0gdHJ1ZTtcbiAgICBjb25zdCBlbGVJRCA9IEVsZW1lbnROYW1lKE1vZHVsZVRpdGxlLlByb2ZpbGUsIFwiZ2FyYmxlUGhyYXNlc1wiKTtcbiAgICAvLyBTYXZlIHByZXZpb3VzIHdvcmRzIGlmIG5lZWRlZFxuICAgIGlmIChQbGF5ZXJQKCkudHlwZSA9PT0gXCJDdXN0b21cIiAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVJRCkpXG4gICAge1xuICAgICAgICBQbGF5ZXJQKCkuY3VzdG9tR2FyYmxlUGhyYXNlcyA9IEVsZW1lbnRWYWx1ZShlbGVJRCkuc3BsaXQoXCIsXCIpLm1hcCgoeCkgPT4geC50cmltKCkpO1xuICAgIH1cbiAgICBjb25zdCB3b3JkcyA9IGJjeEFQSSgpPy5nZXRSdWxlU3RhdGUoXCJzcGVlY2hfbWFuZGF0b3J5X3dvcmRzXCIpPy5jdXN0b21EYXRhPy5tYW5kYXRvcnlXb3JkcyA/PyBbXTtcbiAgICBQbGF5ZXJQKCkuZ2FyYmxlUGhyYXNlcyA9IHdvcmRzLmpvaW4oXCIsIFwiKTtcbiAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlSUQpKVxuICAgIHtcbiAgICAgICAgRWxlbWVudFZhbHVlKGVsZUlELCBQbGF5ZXJQKCkuZ2FyYmxlUGhyYXNlcyk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgUHJvZmlsZU1vZHVsZSBleHRlbmRzIE1vZHVsZVxue1xuICAgIGdldCBUaXRsZSgpOiBNb2R1bGVUaXRsZVxuICAgIHtcbiAgICAgICAgcmV0dXJuIE1vZHVsZVRpdGxlLlByb2ZpbGU7XG4gICAgfVxuXG4gICAgZ2V0IFN5bmNMaXN0ZW5lcnMoKTogSG9va2VkTWVzc2FnZVtdXG4gICAge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG1vZHVsZTogdGhpcy5UaXRsZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkJDWFNwZWFrRW5hYmxlUmVxdWVzdFwiLFxuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKHNlbmRlcjogQ2hhcmFjdGVyLCBfY29udGVudDogTVBBTWVzc2FnZUNvbnRlbnQpOiB2b2lkXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgc2VuZGVyIGhhcyBhdXRob3JpdHkgdG8gc2V0IHRoaXMgc2V0dGluZ1xuICAgICAgICAgICAgICAgICAgICBpZiAoIUlzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAoc2VuZGVyLk1lbWJlck51bWJlciA/PyAtMSwgUGxheWVyLk1QQT8uW01vZHVsZVRpdGxlLkF1dGhvcml0eV1bYG90aGVycyR7TW9kdWxlVGl0bGUuUHJvZmlsZX1gXSkpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgJHtzZW5kZXIuTmlja25hbWUgfHwgc2VuZGVyLk5hbWV9WyR7c2VuZGVyLk1lbWJlck51bWJlcn1dIHRyaWVkIHRvIGlsbGVnaWFsbHkgc2V0IHlvdXIgYmN4IHNwZWFrIHRvIGJlIGVuYWJsZWRgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgcmVjb3JkIGJ5IHRoZSBwZXJzb24gd2hvIGlzIGhhdmluZyB0aGVpciBzZXR0aW5ncyBjaGFuZ2VkXG4gICAgICAgICAgICAgICAgICAgIC8vIEJDWCBtYW5kYXRvcnkgd29yZHMgb25seSB2aWV3YWJsZSBieSB0aGUgcGxheWVyIGxvY2FsbHlcbiAgICAgICAgICAgICAgICAgICAgU2V0QkNYU3BlYWsoKTtcbiAgICAgICAgICAgICAgICAgICAgUmVjb3Jkc1N5bmMoW1xuICAgICAgICAgICAgICAgICAgICAgICAgeyBjYXRlZ29yeTogTW9kdWxlVGl0bGUuUHJvZmlsZSwgcmVjb3JkOiBcImdhcmJsZVBocmFzZXNcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgeyBjYXRlZ29yeTogTW9kdWxlVGl0bGUuUHJvZmlsZSwgcmVjb3JkOiBcImJjeFNwZWFraW5nXCIgfVxuICAgICAgICAgICAgICAgICAgICBdLCBzZW5kZXIuTWVtYmVyTnVtYmVyKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBBZnRlciB1cGRhdGluZyBhbmQgc2VuZGluZyB0aGUgbmV3IHJlY29yZHMsIG5vdGlmeSBzZW5kZXIgZm9yIGFja25vd2xlZGdlbWVudCB0byB1cGRhdGUgdGhlaXIgZGlzcGxheVxuICAgICAgICAgICAgICAgICAgICBTZW5kTVBBTWVzc2FnZSh7IG1lc3NhZ2U6IFwiQkNYU3BlYWtFbmFibGVSZXBseVwiIH0sIHNlbmRlci5NZW1iZXJOdW1iZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBtb2R1bGU6IHRoaXMuVGl0bGUsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJCQ1hTcGVha0VuYWJsZVJlcGx5XCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoc2VuZGVyOiBDaGFyYWN0ZXIsIF9jb250ZW50OiBNUEFNZXNzYWdlQ29udGVudCk6IHZvaWRcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIGdvdCBhIHBvc3RpdmUgcmVzcG9uc2UgZnJvbSB0aGUgcmVxdWVzdCwgY2hhbmdlIG1hZGUsIGJ1dCB3ZSBuZWVkIHRvIHNlZSBpdCBvbiBvdXIgc2lkZSBub3dcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZWxlSUQgPSBFbGVtZW50TmFtZShNb2R1bGVUaXRsZS5Qcm9maWxlLCBcImdhcmJsZVBocmFzZXNcIik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVJRCkpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEVsZW1lbnRWYWx1ZShlbGVJRCwgUGxheWVyUChzZW5kZXIpLmdhcmJsZVBocmFzZXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuICAgIH1cblxuICAgIGdldCBTZXR0aW5ncygpOiBTZXR0aW5nW11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJ0eXBlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJvcHRpb25cIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogT2JqZWN0LmtleXMoR0FSQkxFX1BIUkFTRVMpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIkh1bWFuXCIsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiVXNlIGEgcHJlc2V0IHByb2ZpbGUgb3IgbWFrZSB5b3VyIG93blwiLFxuICAgICAgICAgICAgICAgIGxvb3A6IHRydWUsXG4gICAgICAgICAgICAgICAgb25TZXQ6IChDLCB2YWx1ZSwgcHJldlZhbHVlKSA9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFBsYXllclAoQykuYmN4U3BlYWtpbmcpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBTZXRQcm9maWxlVHlwZShDLCB2YWx1ZSwgcHJldlZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGFzIE9wdGlvblNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInBldEhlYXJpbmdcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJXaGlsZSBkZWFmZW5lZCBjZXJ0YWluIHBldCBrZXl3b3JkcyBjYW4gYmUgcGlja2VkIHVwXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJnYXJibGVQaHJhc2VzXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gUGxheWVyUChDKS50eXBlID09PSBcIkN1c3RvbVwiICYmICEoUGxheWVyUChDKS5wZXRTcGVha2luZyAmJiBiY3hGb3VuZCgpICYmIFBsYXllclAoQykuYmN4U3BlYWtpbmcpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBHQVJCTEVfUEhSQVNFUy5IdW1hbi5qb2luKCksXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiUGV0IHNvdW5kcyB5b3UgbWFrZVwiLFxuICAgICAgICAgICAgICAgIG1heENoYXJzOiAxMDI0LFxuICAgICAgICAgICAgICAgIHdpZHRoOiAxMDI0XG4gICAgICAgICAgICB9IGFzIFRleHRTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJjdXN0b21HYXJibGVQaHJhc2VzXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJyZWNvcmRcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogW11cbiAgICAgICAgICAgIH0gYXMgU2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwicGV0U3BlYWtpbmdcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBdXRvbWF0aWNhbGx5IG1ha2UgdGhlIGFib3ZlIHBldCBzb3VuZHMgd2hpbGUgdGFsa2luZ1wiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiYmN4U3BlYWtpbmdcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gUGxheWVyUChDKS5wZXRTcGVha2luZyAmJiBiY3hGb3VuZCgpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJVc2UgQkNYIG1hbmRhdG9yeSB3b3JkcyBpbnN0ZWFkIG9mIHRoZSBwZXQgc291bmRzIGFib3ZlXCIsXG4gICAgICAgICAgICAgICAgb25TZXQ6IChDLCB2YWx1ZSkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdmFsdWUpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFNldFByb2ZpbGVUeXBlKEMsIFBsYXllclAoQykudHlwZSwgXCJcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKEMuSXNQbGF5ZXIoKSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBtYW5kYXRvcnkgd29yZHMgZm9yIHlvdXJzZWxmIHNpbmNlIGhhdmUgbG9jYWwgYmN4IGFjY2Vzc1xuICAgICAgICAgICAgICAgICAgICAgICAgU2V0QkNYU3BlYWsoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsZUlEID0gRWxlbWVudE5hbWUoTW9kdWxlVGl0bGUuUHJvZmlsZSwgXCJnYXJibGVQaHJhc2VzXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2F2ZSBhbnkgY3VzdG9tIHdvcmQgY2hhbmdlc1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFBsYXllclAoQykudHlwZSA9PT0gXCJDdXN0b21cIiAmJiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVJRCkpXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUGxheWVyUChDKS5jdXN0b21HYXJibGVQaHJhc2VzID0gRWxlbWVudFZhbHVlKGVsZUlEKS5zcGxpdChcIixcIikubWFwKCh4KSA9PiB4LnRyaW0oKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlcXVlc3QgdGhlIG1hbmRhdG9yeSB3b3JkcyBmcm9tIHRoZSBvdGhlciBwZXJzb25cbiAgICAgICAgICAgICAgICAgICAgICAgIFNlbmRNUEFNZXNzYWdlKHsgbWVzc2FnZTogXCJCQ1hTcGVha0VuYWJsZVJlcXVlc3RcIiB9LCBDLk1lbWJlck51bWJlcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiaGFyZGNvcmVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJFbmFibGUgaGFyZGNvcmUgbW9kZTsgV2lsbCBzZXQgY2VydGFpbiBzZXR0aW5ncyBhbmQgcHJldmVudCBjaGFuZ2luZyB0aGVtIGJhY2tcIixcbiAgICAgICAgICAgICAgICBvblNldChDKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgR2V0UmVjb3JkKE1vZHVsZVRpdGxlLkNsaWNrZXIsIEMpLmVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBHZXRSZWNvcmQoTW9kdWxlVGl0bGUuQ2xpY2tlciwgQykuYmN4Vm9pY2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBHZXRSZWNvcmQoTW9kdWxlVGl0bGUuVmlydHVhbFBldCwgQykuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIEdldFJlY29yZChNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0LCBDKS5ub0hhbmRzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIEdldFJlY29yZChNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9ucywgQykuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIEdldFJlY29yZChNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9ucywgQykuZm9vZE5PVyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIEdldFJlY29yZChNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9ucywgQykudGludCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIEdldFJlY29yZChNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9ucywgQykucGFzc291dCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIEdldFJlY29yZChNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9ucywgQykuYWZmZWN0aW9uU2tpbGxCdWZmcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBHZXRSZWNvcmQoTW9kdWxlVGl0bGUuVmlydHVhbFBldENvbmRpdGlvbnMsIEMpLmFmZmVjdGlvblNraWxsRGVidWZmcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIEdldFJlY29yZChNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9ucywgQykuaGVhcmluZ0xvc3MgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBHZXRSZWNvcmQoTW9kdWxlVGl0bGUuVmlydHVhbFBldENvbmRpdGlvbnMsIEMpLnNsb3dMZWF2ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmdcbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBMb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLkxvYWQoKTtcbiAgICAgICAgU3BlZWNoVHJhbnNmb3JtQWxsRWZmZWN0cy5wdXNoKFwicGV0U3BlYWtcIiBhcyBTcGVlY2hUcmFuc2Zvcm1OYW1lKTtcblxuICAgICAgICAvLyBQZXQgaGVhcmluZ1xuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJTcGVlY2hUcmFuc2Zvcm1HYWdHYXJibGVcIiwgNSwgKFt0ZXh0LCBpbnRlbnNpdHksIGlnbm9yZU9PQywgLi4uYXJnc10sIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIE1CUyBhZGRzIENoYXJhY3RlciBwYXJhbWV0ZXIgdG8gdGhpcywgY2FuIHVzZSBhcyBhbiBleHRyYSBjaGVjayBmb3Igd2hlbiB0byBhcHBseVxuICAgICAgICAgICAgY29uc3QgQyA9IChhcmdzIGFzIFtDPzogQ2hhcmFjdGVyLCAuLi5hcmdzOiB1bmtub3duW11dKVswXTtcblxuICAgICAgICAgICAgLy8gQXJlIHdlIGdhZ2dpbmcgb3IgZGVhZmVuaW5nP1xuICAgICAgICAgICAgLy8gTm90IGRlYWZlbmluZyBzbyBza2lwXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgQz8uSXNHYWdnZWQoKVxuICAgICAgICAgICAgICAgIHx8ICFQbGF5ZXIuSXNEZWFmKClcbiAgICAgICAgICAgICAgICB8fCBQbGF5ZXJQKCkucGV0SGVhcmluZyA9PT0gZmFsc2VcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChbdGV4dCwgaW50ZW5zaXR5LCBpZ25vcmVPT0NdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBBcHBseVBldEhlYXJpbmcoW3RleHQsIGludGVuc2l0eSwgaWdub3JlT09DXSwgbmV4dCwgR2V0UGV0SGVhcmluZ1BocmFzZXMoKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEluc2VydCBwZXQgc291bmRzIG9uIGlucHV0IGZvciBCQ1ggc3VwcG9ydFxuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJDb21tYW5kUGFyc2VcIiwgOCwgKFttc2ddLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBTa2lwIGNvbW1hbmRzXG4gICAgICAgICAgICAvLyBTa2lwIGlmIG5vdCBhdHRlbXB0aW5nIHRvIGFwcGx5IHBldCBzcGVlY2hcbiAgICAgICAgICAgIG1zZyA9IG1zZy50cmltKCk7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgW0NvbW1hbmRzS2V5LCBcIipcIiwgXCJAXCJdLmluY2x1ZGVzKG1zZy5jaGFyQXQoMCkpXG4gICAgICAgICAgICAgICAgfHwgIVBsYXllclAoUGxheWVyKS5wZXRTcGVha2luZ1xuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KFttc2ddKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIE5vbkRpc3J1cHRpdmVQZXRTcGVlY2gobXNnLCBuZXh0LCBHZXRBbGxvd2VkUGV0R2FyYmxlUGhyYXNlcygpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgVW5sb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLlVubG9hZCgpO1xuXG4gICAgICAgIFNwZWVjaFRyYW5zZm9ybUFsbEVmZmVjdHMgPSBTcGVlY2hUcmFuc2Zvcm1BbGxFZmZlY3RzLmZpbHRlcigodHJhbnNmb3JtKSA9PiB0cmFuc2Zvcm0gYXMgU3BlZWNoVHJhbnNmb3JtTmFtZSB8IFwicGV0U3BlYWtcIiAhPT0gXCJwZXRTcGVha1wiKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBMb2NhbGl6ZWRUZXh0IH0gZnJvbSBcIi4uL2xvY2FsaXphdGlvbi9sb2NhbGl6YXRpb25cIjtcbmltcG9ydCB7IEV4cG9ydFNldHRpbmdzVG9DbGlwYm9hcmQsIEltcG9ydFNldHRpbmdzRnJvbUNsaXBib2FyZCwgUmVzZXRTdG9yYWdlLCBTYXZlU3RvcmFnZSB9IGZyb20gXCIuLi91dGlsL3N0b3JhZ2VcIjtcbmltcG9ydCB7IElDT05TIH0gZnJvbSBcIi4uL3V0aWwvY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBJc0Rpc3BsYXlTZXR0aW5nLCBJc09wdGlvblNldHRpbmcsIElzQ2hlY2tib3hTZXR0aW5nLCBJc1RleHRTZXR0aW5nLCBJc051bWJlclNldHRpbmcgfSBmcm9tIFwiLi4vdXRpbC9zZXR0aW5nVHlwZXNcIjtcbmltcG9ydCB7IHNldHRpbmdzIGFzIGRlZmF1bHRTZXR0aW5ncyB9IGZyb20gXCIuLi91dGlsL3JlZ2lzdGVyTW9kdWxlc1wiO1xuaW1wb3J0IHsgQVVUSE9SSVRZX0dST1VQX09QVElPTlMsIEF1dGhvcml0eUdyb3VwLCBBdXRob3JpdHlJc0NvbXBhcmlzb25Ub0NoYXJhY3RlciwgSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cCB9IGZyb20gXCIuLi91dGlsL2F1dGhvcml0eVwiO1xuaW1wb3J0IHsgU2VuZE1QQU1lc3NhZ2UgfSBmcm9tIFwiLi4vdXRpbC9tZXNzYWdpbmdcIjtcbmltcG9ydCB7IE1vZHVsZSwgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi9fbW9kdWxlXCI7XG5pbXBvcnQgeyBMZXZlbFN5bmMgfSBmcm9tIFwiLi92aXJ0dWFsUGV0XCI7XG5cbmxldCBzZXR0aW5nc0VkaXRlZCA9IGZhbHNlO1xubGV0IHNldHRpbmdDaGFyOiBQbGF5ZXJDaGFyYWN0ZXIgfCBudWxsID0gbnVsbDtcbmV4cG9ydCBmdW5jdGlvbiBTZXRTZXR0aW5nQ2hhcihjaGFyYWN0ZXI6IFBsYXllckNoYXJhY3Rlcik6IHZvaWRcbntcbiAgICBzZXR0aW5nc0VkaXRlZCA9IGZhbHNlO1xuICAgIHNldHRpbmdDaGFyID0gY2hhcmFjdGVyO1xufVxuXG4vLyBTaXplIG9mIHRoZSBjYW52YXMgaW4gZ2FtZVxuY29uc3QgQ0FOVkFTX1dJRFRIID0gMjAwMDtcbmNvbnN0IF9DQU5WQVNfSEVJR0hUID0gMTAwMDtcblxuLy8gRXhpdCBidXR0b24gcG9zaXN0aW9uIG9uIGNhbnZhc1xuY29uc3QgRVhJVF9QT1NJU1RJT04gPSBbMTgxNSwgNzUsIDkwLCA5MF0gYXMgY29uc3Q7XG5cbi8vIE1lbnUgbGF5b3V0IHZhbHVlc1xuY29uc3QgQlVUVE9OX01BWF9OVU1CRVIgPSA3O1xuY29uc3QgQlVUVE9OX1dJRFRIID0gNDAwO1xuY29uc3QgQlVUVE9OX0hFSUdIVCA9IDkwO1xuY29uc3QgQlVUVE9OX1RPUCA9IDE2MDtcbmNvbnN0IEJVVFRPTl9MRUZUID0gNTAwO1xuY29uc3QgQlVUVE9OX0dBUCA9IDIwO1xuY29uc3QgQlVUVE9OX1RFWFRfUEFERElORyA9IDIwO1xuXG4vLyBQbGF5ZXIgb25seSBidXR0b25zXG5jb25zdCBXSUtJX1BPU0lUSU9OID0gWzEwMCwgNjA1LCAzNTAsIDc1XSBhcyBjb25zdDtcbmNvbnN0IFdJS0lfTElOSyA9IFwiaHR0cHM6Ly9naXRodWIuY29tL01heWFUaGVGb3h5L01QQS93aWtpXCI7XG5jb25zdCBSRVNFVF9QT1NJVElPTiA9IFtcbiAgICBXSUtJX1BPU0lUSU9OWzBdLFxuICAgIFdJS0lfUE9TSVRJT05bMV0gKyBXSUtJX1BPU0lUSU9OWzNdICsgQlVUVE9OX0dBUCxcbiAgICBXSUtJX1BPU0lUSU9OWzJdLFxuICAgIFdJS0lfUE9TSVRJT05bM11cbl0gYXMgY29uc3Q7XG5jb25zdCBBTEVSVF9QT1NJVElPTiA9IFtcbiAgICBSRVNFVF9QT1NJVElPTlswXSxcbiAgICBSRVNFVF9QT1NJVElPTlsxXSAtIFJFU0VUX1BPU0lUSU9OWzNdLFxuICAgIFJFU0VUX1BPU0lUSU9OWzJdXG5dIGFzIGNvbnN0O1xubGV0IHNob3dTZXR0aW5nc0FsZXJ0OiBudW1iZXIgPSAwO1xubGV0IHNldHRpbmdzQWxlcnRUZXh0OiBzdHJpbmcgPSBcIlwiO1xuY29uc3QgSU1QT1JUX1BPU0lUSU9OID0gW1xuICAgIFJFU0VUX1BPU0lUSU9OWzBdLFxuICAgIFJFU0VUX1BPU0lUSU9OWzFdICsgUkVTRVRfUE9TSVRJT05bM10gKyBCVVRUT05fR0FQLFxuICAgIChSRVNFVF9QT1NJVElPTlsyXSAtIEJVVFRPTl9HQVApIC8gMixcbiAgICBSRVNFVF9QT1NJVElPTlszXVxuXSBhcyBjb25zdDtcbmNvbnN0IEVYUE9SVF9QT1NJVElPTiA9IFtcbiAgICBSRVNFVF9QT1NJVElPTlswXSArICgoUkVTRVRfUE9TSVRJT05bMl0gKyBCVVRUT05fR0FQKSAvIDIpLFxuICAgIFJFU0VUX1BPU0lUSU9OWzFdICsgUkVTRVRfUE9TSVRJT05bM10gKyBCVVRUT05fR0FQLFxuICAgIChSRVNFVF9QT1NJVElPTlsyXSAtIEJVVFRPTl9HQVApIC8gMixcbiAgICBSRVNFVF9QT1NJVElPTlszXVxuXSBhcyBjb25zdDtcbmNvbnN0IFJFU0VUX0NPTkZJUk1fUE9TSVRJT04gPSBbMzAwLCA3MDAsIDI1MCwgOTBdIGFzIGNvbnN0O1xuY29uc3QgUkVTRVRfQ0FOQ0VMX1BPU0lUSU9OID0gWzE0NTAsIDcwMCwgMjUwLCA5MF0gYXMgY29uc3Q7XG5cbi8vIENhbiBhZGQgb3IgcmVtb3ZlIG1vZHVsZXMgZGVwZW5kaW5nIG9uIGlmIHdhbnRpbmcgdG8gZGlzcGxheSB0aGVtIG9yIG5vdFxuLy8gT3JkZXIgZ2l2ZW4gaXMgdGhlIG9yZGVyIGRpc3BsYXllZFxuZnVuY3Rpb24gTUVOVV9DQVRFR09SSUVTKCk6IE1vZHVsZVRpdGxlW11cbntcbiAgICBpZiAoIXNldHRpbmdDaGFyKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICAvLyBEaXNwbGF5IHNldHRpbmdzIGlmIHlvdSBhcmUgdGhlIFBsYXllclxuICAgIGlmIChzZXR0aW5nQ2hhci5Jc1BsYXllcigpKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIE1vZHVsZVRpdGxlLkF1dGhvcml0eSxcbiAgICAgICAgICAgIE1vZHVsZVRpdGxlLlByb2ZpbGUsXG4gICAgICAgICAgICBNb2R1bGVUaXRsZS5DbGlja2VyLFxuICAgICAgICAgICAgTW9kdWxlVGl0bGUuVmlydHVhbFBldCxcbiAgICAgICAgICAgIE1vZHVsZVRpdGxlLlZpcnR1YWxQZXRIVUQsXG4gICAgICAgICAgICBNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9uc1xuICAgICAgICBdO1xuICAgIH1cbiAgICAvLyBEaXNwbGF5IHNldHRpbmdzIGlmIHlvdSBhcmUgYW4gYW5vdGhlciBwbGF5ZXJcbiAgICByZXR1cm4gW1xuICAgICAgICBNb2R1bGVUaXRsZS5BdXRob3JpdHksXG4gICAgICAgIE1vZHVsZVRpdGxlLlByb2ZpbGUsXG4gICAgICAgIE1vZHVsZVRpdGxlLkNsaWNrZXIsXG4gICAgICAgIE1vZHVsZVRpdGxlLlZpcnR1YWxQZXQsXG4gICAgICAgIE1vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zXG4gICAgXTtcbn1cblxuZXhwb3J0IGNvbnN0IE1FTlVfVElUTEVTOiBQYXJ0aWFsPFJlY29yZDxNb2R1bGVUaXRsZSwgc3RyaW5nPj4gPVxue1xuICAgIFtNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XTogXCJWaXJ0dWFsIFBldFwiLFxuICAgIFtNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0SFVEXTogXCJWaXJ0dWFsIFBldCBIdWRcIixcbiAgICBbTW9kdWxlVGl0bGUuVmlydHVhbFBldENvbmRpdGlvbnNdOiBcIlZpcnR1YWwgUGV0IENvbmRpdGlvbnNcIlxufTtcblxuZXhwb3J0IGxldCBjdXJyZW50TWVudTogTW9kdWxlVGl0bGUgfCBudWxsIHwgXCJSRVNFVF9TZXR0aW5nc1wiID0gbnVsbDtcbmxldCBzZXR0aW5nc09wZW46IGJvb2xlYW4gPSBmYWxzZTtcbmxldCBhbGxvd1Jlc2V0VGltZTogbnVtYmVyID0gMDtcblxuRHJhd0J1dHRvbigxNTIwLCA3MjAsIDIwMCwgODAsIFwiQ2FuY2VsXCIsIFwiV2hpdGVcIik7XG5cbmZ1bmN0aW9uIERyYXdNZW51T3B0aW9ucyhtZW51T3B0aW9uczogc3RyaW5nW10pOiB2b2lkXG57XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZW51T3B0aW9ucy5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICAgIERyYXdCdXR0b24oXG4gICAgICAgICAgICBCVVRUT05fTEVGVCArIChCVVRUT05fV0lEVEggKyBCVVRUT05fR0FQKSAqIE1hdGguZmxvb3IoaSAvIEJVVFRPTl9NQVhfTlVNQkVSKSxcbiAgICAgICAgICAgIEJVVFRPTl9UT1AgKyAoQlVUVE9OX0hFSUdIVCArIEJVVFRPTl9HQVApICogKGkgJSBCVVRUT05fTUFYX05VTUJFUiksXG4gICAgICAgICAgICBCVVRUT05fV0lEVEgsXG4gICAgICAgICAgICBCVVRUT05fSEVJR0hULFxuICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgIFwiV2hpdGVcIlxuICAgICAgICApO1xuICAgICAgICBEcmF3VGV4dEZpdChcbiAgICAgICAgICAgIExvY2FsaXplZFRleHQoTUVOVV9USVRMRVNbbWVudU9wdGlvbnNbaV1dID8/IG1lbnVPcHRpb25zW2ldKSxcbiAgICAgICAgICAgIChCVVRUT05fTEVGVCArIEJVVFRPTl9URVhUX1BBRERJTkcpICsgKEJVVFRPTl9XSURUSCArIEJVVFRPTl9HQVApICogTWF0aC5mbG9vcihpIC8gQlVUVE9OX01BWF9OVU1CRVIpLFxuICAgICAgICAgICAgKEJVVFRPTl9UT1AgKyBNYXRoLmZsb29yKEJVVFRPTl9IRUlHSFQgLyAyKSkgKyAoQlVUVE9OX0hFSUdIVCArIEJVVFRPTl9HQVApICogKGkgJSBCVVRUT05fTUFYX05VTUJFUiksXG4gICAgICAgICAgICBCVVRUT05fV0lEVEggLSBCVVRUT05fVEVYVF9QQURESU5HICogMixcbiAgICAgICAgICAgIFwiQmxhY2tcIixcbiAgICAgICAgICAgIFwiR3JheVwiXG4gICAgICAgICk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBHZXRDbGlja2VkTWVudShtZW51T3B0aW9uczogTW9kdWxlVGl0bGVbXSk6IE1vZHVsZVRpdGxlIHwgbnVsbFxue1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWVudU9wdGlvbnMubGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgICBpZiAoTW91c2VJbihcbiAgICAgICAgICAgIEJVVFRPTl9MRUZUICsgKEJVVFRPTl9XSURUSCArIEJVVFRPTl9HQVApICogTWF0aC5mbG9vcihpIC8gQlVUVE9OX01BWF9OVU1CRVIpLFxuICAgICAgICAgICAgQlVUVE9OX1RPUCArIChCVVRUT05fSEVJR0hUICsgQlVUVE9OX0dBUCkgKiAoaSAlIEJVVFRPTl9NQVhfTlVNQkVSKSxcbiAgICAgICAgICAgIEJVVFRPTl9XSURUSCxcbiAgICAgICAgICAgIEJVVFRPTl9IRUlHSFRcbiAgICAgICAgKSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIG1lbnVPcHRpb25zW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuXG4vLyBPcHRpb25zIGxheW91dFxuLy8gTWF5IG5vdCBiZSBuZWVkZWQuIFdpbGwgaGF2ZSB0byB1c2UgaWYgdGhlcmUgYXJlIG1vcmUgdGhhbiAxMCBzZXR0aW5ncyB0byBkaXNwbGF5IHBlciBjYXRlZ29yeVxuY29uc3QgT1BUSU9OX1BFUl9QQUdFID0gOTtcbmNvbnN0IE9QVElPTl9IRUlHSFQgPSA2NDtcbmNvbnN0IE9QVElPTl9UT1AgPSAyMDA7XG5jb25zdCBPUFRJT05fTEVGVCA9IDI1MDtcbmNvbnN0IE9QVElPTl9HQVAgPSAxMDtcbmNvbnN0IE9QVElPTl9DSEVDS0JPWF9TSVpFID0gNjQ7XG5jb25zdCBPUFRJT05fQkFDS19ORVhUX1dJRFRIID0gMjU2O1xuY29uc3QgT1BUSU9OX1RFWFRfV0lEVEggPSAyNTY7XG5jb25zdCBPUFRJT05fVEVYVF9NQVhfQ0hBUlMgPSAyNTY7XG5sZXQgY3VycmVudFBhZ2U6IG51bWJlciA9IDE7XG5sZXQgbWF4UGFnZXM6IG51bWJlciA9IDE7XG5cbmNvbnN0IE5FWFRfQlVUVE9OX1BPUyA9IFsxNjM1LCA3NSwgOTAsIDkwXSBhcyBjb25zdDtcbmNvbnN0IFBSRVZfQlVUVE9OX1BPUyA9IFtORVhUX0JVVFRPTl9QT1NbMF0gLSBORVhUX0JVVFRPTl9QT1NbMl0sIE5FWFRfQlVUVE9OX1BPU1sxXSwgTkVYVF9CVVRUT05fUE9TWzJdLCBORVhUX0JVVFRPTl9QT1NbMl1dIGFzIGNvbnN0O1xuXG5mdW5jdGlvbiBEcmF3UGFnZXNCdXR0b25zKCk6IHZvaWRcbntcbiAgICAvLyBBc3NldCBjdXJyZW50IHBhZ2UgaXMgaW4gY29ycmVjdCByYW5nZVxuICAgIGlmIChjdXJyZW50UGFnZSA+IG1heFBhZ2VzKVxuICAgIHtcbiAgICAgICAgY3VycmVudFBhZ2UgPSBtYXhQYWdlcztcbiAgICB9XG4gICAgaWYgKGN1cnJlbnRQYWdlIDwgMSlcbiAgICB7XG4gICAgICAgIGN1cnJlbnRQYWdlID0gMTtcbiAgICB9XG5cbiAgICBEcmF3QnV0dG9uKFxuICAgICAgICAuLi5ORVhUX0JVVFRPTl9QT1MsXG4gICAgICAgIFwiXCIsXG4gICAgICAgIGN1cnJlbnRQYWdlID49IG1heFBhZ2VzID8gXCIjYWFhYWFhXCIgOiBcIiNmZmZmZmZcIixcbiAgICAgICAgXCJJY29ucy9OZXh0LnBuZ1wiLFxuICAgICAgICBcIk5leHQgUGFnZVwiLFxuICAgICAgICBjdXJyZW50UGFnZSA+PSBtYXhQYWdlc1xuICAgICk7XG4gICAgRHJhd0J1dHRvbihcbiAgICAgICAgLi4uUFJFVl9CVVRUT05fUE9TLFxuICAgICAgICBcIlwiLFxuICAgICAgICAxID49IGN1cnJlbnRQYWdlID8gXCIjYWFhYWFhXCIgOiBcIiNmZmZmZmZcIixcbiAgICAgICAgXCJJY29ucy9QcmV2LnBuZ1wiLFxuICAgICAgICBcIlByZXZpb3VzIFBhZ2VcIixcbiAgICAgICAgMSA+PSBjdXJyZW50UGFnZVxuICAgICk7XG59XG5cbmZ1bmN0aW9uIERyYXdTdWJNZW51T3B0aW9ucyhzdWJNZW51OiBNb2R1bGVUaXRsZSk6IHZvaWRcbntcbiAgICAvLyBTaG91bGRuJ3QgYmUgbmVlZGVkIGJ1dCBhY3RzIGFzIGZhaWxzYWZlIGFuZCBtYWtlcyB0eXBlc2NyaXB0IGhhcHB5XG4gICAgaWYgKCFzZXR0aW5nQ2hhcikgeyByZXR1cm47IH1cblxuICAgIC8vIFNldHRpbmdzIGhhdmUgdG8gYmUgZGlzcGxheWFibGUgYW5kIGhhdmUgYSB2YWx1ZSBleGlzdCBpbiB0aGUgc3RvcmVkIHNldHRpbmdzXG4gICAgY29uc3Qgc2V0dGluZ3NUb0Rpc3BsYXkgPSBPYmplY3QuZW50cmllcyhkZWZhdWx0U2V0dGluZ3Nbc3ViTWVudV0gPz8ge30pXG4gICAgICAgIC5maWx0ZXIoKFtrZXksIHNldHRpbmddKSA9PiBJc0Rpc3BsYXlTZXR0aW5nKHNldHRpbmcpICYmIChrZXkgaW4gKHNldHRpbmdDaGFyPy5NUEFbc3ViTWVudV0gPz8ge30pKSk7XG5cbiAgICAvLyBOZXh0IGFuZCBwcmV2aW91cyBvcHRpb24gYnV0dG9uc1xuICAgIGlmIChtYXhQYWdlcyAhPT0gMSlcbiAgICB7XG4gICAgICAgIERyYXdQYWdlc0J1dHRvbnMoKTtcbiAgICB9XG5cbiAgICBzZXR0aW5nc1RvRGlzcGxheS5zbGljZSgoY3VycmVudFBhZ2UgLSAxKSAqIE9QVElPTl9QRVJfUEFHRSwgY3VycmVudFBhZ2UgKiBPUFRJT05fUEVSX1BBR0UpLmZvckVhY2goKHZhbCwgaSkgPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IFtzZXR0aW5nTmFtZSwgc2V0dGluZ10gPSB2YWwgYXMgW3N0cmluZywgRGlzcGxheWVkU2V0dGluZ107XG5cbiAgICAgICAgY29uc3QgZGlzYWJsZWRTZXR0aW5nID0gIXNldHRpbmcuYWN0aXZlKHNldHRpbmdDaGFyISlcbiAgICAgICAgICB8fCAoXG4gICAgICAgICAgICAgIGBvdGhlcnMke3N1Yk1lbnV9YCBpbiBzZXR0aW5nQ2hhciEuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV1cbiAgICAgICAgICAgICAgJiYgYHNlbGYke3N1Yk1lbnV9YCBpbiBzZXR0aW5nQ2hhciEuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV1cbiAgICAgICAgICAgICAgJiYgIUlzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAoXG4gICAgICAgICAgICAgICAgICBQbGF5ZXIuTWVtYmVyTnVtYmVyID8/IC0xLFxuICAgICAgICAgICAgICAgICAgc2V0dGluZ0NoYXIhLk1QQVtNb2R1bGVUaXRsZS5BdXRob3JpdHldW2BvdGhlcnMke3N1Yk1lbnV9YF0gYXMgQXV0aG9yaXR5R3JvdXAsXG4gICAgICAgICAgICAgICAgICBzZXR0aW5nQ2hhciEuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV1bYHNlbGYke3N1Yk1lbnV9YF0gYXMgYm9vbGVhbixcbiAgICAgICAgICAgICAgICAgIHNldHRpbmdDaGFyIVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgKVxuICAgICAgICAgIHx8IChcbiAgICAgICAgICAgICAgIVBsYXllci5DYW5JbnRlcmFjdCgpICYmIChcbiAgICAgICAgICAgICAgICAgIChzZXR0aW5nQ2hhcj8uTWVtYmVyTnVtYmVyID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyXG4gICAgICAgICAgICAgICAgICAmJiAhUGxheWVyLk1QQVtNb2R1bGVUaXRsZS5BdXRob3JpdHldLmJvdW5kQWNjZXNzU2VsZilcbiAgICAgICAgICAgICAgICAgIHx8IChzZXR0aW5nQ2hhcj8uTWVtYmVyTnVtYmVyICE9PSBQbGF5ZXIuTWVtYmVyTnVtYmVyXG4gICAgICAgICAgICAgICAgICAmJiAhUGxheWVyLk1QQVtNb2R1bGVUaXRsZS5BdXRob3JpdHldLmJvdW5kQWNjZXNzT3RoZXJzKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgKTtcblxuICAgICAgICBpZiAoSXNDaGVja2JveFNldHRpbmcoc2V0dGluZykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIERyYXdDaGVja2JveChcbiAgICAgICAgICAgICAgICBPUFRJT05fTEVGVCxcbiAgICAgICAgICAgICAgICBPUFRJT05fVE9QICsgKGkgKiAoT1BUSU9OX0dBUCArIE9QVElPTl9IRUlHSFQpKSxcbiAgICAgICAgICAgICAgICBPUFRJT05fQ0hFQ0tCT1hfU0laRSxcbiAgICAgICAgICAgICAgICBPUFRJT05fQ0hFQ0tCT1hfU0laRSxcbiAgICAgICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KHNldHRpbmcubGFiZWwpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlQWxsKFwiVGFyZ2V0Q2hhcmFjdGVyXCIsIChzZXR0aW5nQ2hhcj8uTmlja25hbWUgfHwgc2V0dGluZ0NoYXI/Lk5hbWUpID8/IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlQWxsKFwiVGFyZ2V0UHJvbm91blBvc3Nlc3NpdmVcIiwgc2V0dGluZ0NoYXI/LkdldFByb25vdW5zKCkgPT09IFwiU2hlSGVyXCIgPyBcImhlclwiIDogXCJoaXNcIiksXG4gICAgICAgICAgICAgICAgISFzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSxcbiAgICAgICAgICAgICAgICBkaXNhYmxlZFNldHRpbmcsXG4gICAgICAgICAgICAgICAgXCJCbGFja1wiXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKElzT3B0aW9uU2V0dGluZyhzZXR0aW5nKSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBzZXR0aW5nLm9wdGlvbnMuaW5kZXhPZihzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSBhcyBzdHJpbmcpO1xuICAgICAgICAgICAgY29uc3Qgb3B0TGVuID0gc2V0dGluZy5vcHRpb25zLmxlbmd0aDtcblxuICAgICAgICAgICAgLy8gQ2FuJ3QgZGVjcmVhc2UgYXV0aG9yaXR5IGJleW9uZCBpZiB0aGUgcGxheWVyIGlzIG5vdCBvZiB0aGF0IHJhbmtcbiAgICAgICAgICAgIGNvbnN0IHByb2ZpbGVPckV4Y2x1ZGVzID0gKHN1Yk1lbnUgIT09IE1vZHVsZVRpdGxlLkF1dGhvcml0eSkgfHwgIUFVVEhPUklUWV9HUk9VUF9PUFRJT05TLmluY2x1ZGVzKHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdKTtcbiAgICAgICAgICAgIGNvbnN0IHByZXZEaXNhYmxlZCA9ICEocHJvZmlsZU9yRXhjbHVkZXMgfHwgQXV0aG9yaXR5SXNDb21wYXJpc29uVG9DaGFyYWN0ZXIoc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gYXMgQXV0aG9yaXR5R3JvdXAsIFwiPj1cIiwgUGxheWVyLk1lbWJlck51bWJlciA/PyAtMSwgc2V0dGluZ0NoYXIhKSk7XG4gICAgICAgICAgICBjb25zdCBuZXh0RGlzYWJsZWQgPSAhKHByb2ZpbGVPckV4Y2x1ZGVzIHx8IEF1dGhvcml0eUlzQ29tcGFyaXNvblRvQ2hhcmFjdGVyKHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdIGFzIEF1dGhvcml0eUdyb3VwLCBcIj5cIiwgUGxheWVyLk1lbWJlck51bWJlciA/PyAtMSwgc2V0dGluZ0NoYXIhKSlcbiAgICAgICAgICAgICAgJiYgc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gIT09IFwiU2VsZlwiO1xuXG4gICAgICAgICAgICBEcmF3QmFja05leHRCdXR0b24oXG4gICAgICAgICAgICAgICAgT1BUSU9OX0xFRlQsXG4gICAgICAgICAgICAgICAgT1BUSU9OX1RPUCArIChpICogKE9QVElPTl9HQVAgKyBPUFRJT05fSEVJR0hUKSksXG4gICAgICAgICAgICAgICAgT1BUSU9OX0JBQ0tfTkVYVF9XSURUSCxcbiAgICAgICAgICAgICAgICBPUFRJT05fSEVJR0hULFxuICAgICAgICAgICAgICAgIExvY2FsaXplZFRleHQoc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gYXMgc3RyaW5nKSxcbiAgICAgICAgICAgICAgICAhKGRpc2FibGVkU2V0dGluZyB8fCAocHJldkRpc2FibGVkICYmIG5leHREaXNhYmxlZCkpID8gXCIjZmZmZmZmXCIgOiBcIiNhYWFhYWFcIixcbiAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICgpID0+IExvY2FsaXplZFRleHQocHJldkRpc2FibGVkID8gXCJcIiA6IChzZXR0aW5nLmxvb3AgPyBzZXR0aW5nLm9wdGlvbnNbKGluZGV4IC0gMSArIG9wdExlbikgJSBvcHRMZW5dIDogaW5kZXggPiAwID8gc2V0dGluZy5vcHRpb25zW2luZGV4IC0gMV0gOiBcIlwiKSksXG4gICAgICAgICAgICAgICAgKCkgPT4gTG9jYWxpemVkVGV4dChuZXh0RGlzYWJsZWQgPyBcIlwiIDogKHNldHRpbmcubG9vcCA/IHNldHRpbmcub3B0aW9uc1soaW5kZXggKyAxICsgb3B0TGVuKSAlIG9wdExlbl0gOiBpbmRleCArIDEgPCBvcHRMZW4gPyBzZXR0aW5nLm9wdGlvbnNbaW5kZXggKyAxXSA6IFwiXCIpKSxcbiAgICAgICAgICAgICAgICBkaXNhYmxlZFNldHRpbmcgfHwgKHByZXZEaXNhYmxlZCAmJiBuZXh0RGlzYWJsZWQpXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgRHJhd1RleHRGaXQoXG4gICAgICAgICAgICAgICAgTG9jYWxpemVkVGV4dChzZXR0aW5nLmxhYmVsKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZUFsbChcIlRhcmdldENoYXJhY3RlclwiLCAoc2V0dGluZ0NoYXI/Lk5pY2tuYW1lIHx8IHNldHRpbmdDaGFyPy5OYW1lKSA/PyBcIlwiKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZUFsbChcIlRhcmdldFByb25vdW5Qb3NzZXNzaXZlXCIsIHNldHRpbmdDaGFyPy5HZXRQcm9ub3VucygpID09PSBcIlNoZUhlclwiID8gXCJoZXJcIiA6IFwiaGlzXCIpLFxuICAgICAgICAgICAgICAgIE9QVElPTl9MRUZUICsgT1BUSU9OX0JBQ0tfTkVYVF9XSURUSCArIChPUFRJT05fR0FQICogMiksXG4gICAgICAgICAgICAgICAgT1BUSU9OX1RPUCArIChpICogKE9QVElPTl9HQVAgKyBPUFRJT05fSEVJR0hUKSArIE1hdGguY2VpbChPUFRJT05fSEVJR0hUIC8gMikpLFxuICAgICAgICAgICAgICAgIENBTlZBU19XSURUSCAtIChPUFRJT05fTEVGVCAqIDIpIC0gT1BUSU9OX0JBQ0tfTkVYVF9XSURUSCxcbiAgICAgICAgICAgICAgICBcIkJsYWNrXCIsXG4gICAgICAgICAgICAgICAgXCJHcmF5XCJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoSXNUZXh0U2V0dGluZyhzZXR0aW5nKSB8fCBJc051bWJlclNldHRpbmcoc2V0dGluZykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGlkID0gRWxlbWVudE5hbWUoc3ViTWVudSwgc2V0dGluZ05hbWUpO1xuICAgICAgICAgICAgRWxlbWVudFBvc2l0aW9uRml4ZWQoXG4gICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgT1BUSU9OX0xFRlQsXG4gICAgICAgICAgICAgICAgT1BUSU9OX1RPUCArIChpICogKE9QVElPTl9HQVAgKyBPUFRJT05fSEVJR0hUKSksXG4gICAgICAgICAgICAgICAgc2V0dGluZy53aWR0aCA/PyBPUFRJT05fVEVYVF9XSURUSCxcbiAgICAgICAgICAgICAgICBPUFRJT05fSEVJR0hUXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKGRpc2FibGVkU2V0dGluZylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBFbGVtZW50U2V0QXR0cmlidXRlKGlkLCBcImRpc2FibGVkXCIsIFwidHJ1ZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBFbGVtZW50UmVtb3ZlQXR0cmlidXRlKGlkLCBcImRpc2FibGVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgRHJhd1RleHRGaXQoXG4gICAgICAgICAgICAgICAgTG9jYWxpemVkVGV4dChzZXR0aW5nLmxhYmVsKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZUFsbChcIlRhcmdldENoYXJhY3RlclwiLCAoc2V0dGluZ0NoYXI/Lk5pY2tuYW1lIHx8IHNldHRpbmdDaGFyPy5OYW1lKSA/PyBcIlwiKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZUFsbChcIlRhcmdldFByb25vdW5Qb3NzZXNzaXZlXCIsIHNldHRpbmdDaGFyPy5HZXRQcm9ub3VucygpID09PSBcIlNoZUhlclwiID8gXCJoZXJcIiA6IFwiaGlzXCIpLFxuICAgICAgICAgICAgICAgIE9QVElPTl9MRUZUICsgKHNldHRpbmcud2lkdGggPz8gT1BUSU9OX1RFWFRfV0lEVEgpICsgKE9QVElPTl9HQVAgKiAyKSxcbiAgICAgICAgICAgICAgICBPUFRJT05fVE9QICsgKGkgKiAoT1BUSU9OX0dBUCArIE9QVElPTl9IRUlHSFQpKSArIE1hdGguY2VpbChPUFRJT05fSEVJR0hUIC8gMiksXG4gICAgICAgICAgICAgICAgQ0FOVkFTX1dJRFRIIC0gKE9QVElPTl9MRUZUICogMikgLSAoc2V0dGluZy53aWR0aCA/PyBPUFRJT05fVEVYVF9XSURUSCksXG4gICAgICAgICAgICAgICAgXCJCbGFja1wiLFxuICAgICAgICAgICAgICAgIFwiR3JheVwiXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIEdldENsaWNrZWRPcHRpb24oc3ViTWVudTogTW9kdWxlVGl0bGUpOiB2b2lkXG57XG4gICAgLy8gU2hvdWxkbid0IGJlIG5lZWRlZCBidXQgYWN0cyBhcyBmYWlsc2FmZSBhbmQgbWFrZXMgdHlwZXNjcmlwdCBoYXBweVxuICAgIGlmICghc2V0dGluZ0NoYXIpIHsgcmV0dXJuOyB9XG5cbiAgICAvLyBTZXR0aW5ncyBoYXZlIHRvIGJlIGRpc3BsYXlhYmxlIGFuZCBoYXZlIGEgdmFsdWUgZXhpc3QgaW4gdGhlIHN0b3JlZCBzZXR0aW5nc1xuICAgIGNvbnN0IHNldHRpbmdzVG9EaXNwbGF5ID0gT2JqZWN0LmVudHJpZXMoZGVmYXVsdFNldHRpbmdzW3N1Yk1lbnVdID8/IHt9KVxuICAgICAgICAuZmlsdGVyKChba2V5LCBzZXR0aW5nXSkgPT4gSXNEaXNwbGF5U2V0dGluZyhzZXR0aW5nKSAmJiAoa2V5IGluIChzZXR0aW5nQ2hhcj8uTVBBW3N1Yk1lbnVdID8/IHt9KSkpO1xuXG4gICAgLy8gTG9vcCB0aHJvdWdoIGFsbCB0aGUgb3B0aW9ucyBhbmQgY2hlY2sgaWYgdGhlIGNsaWNrIG9jY3VyZWQgaW4gdGhlIHR5cGUncyBjb3JyZXNwb25kaW5nIGNsaWNrIHpvbmVcbiAgICBzZXR0aW5nc1RvRGlzcGxheS5zbGljZSgoY3VycmVudFBhZ2UgLSAxKSAqIE9QVElPTl9QRVJfUEFHRSwgY3VycmVudFBhZ2UgKiBPUFRJT05fUEVSX1BBR0UpLmZvckVhY2goKHZhbCwgaSkgPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IFtzZXR0aW5nTmFtZSwgc2V0dGluZ10gPSB2YWwgYXMgW3N0cmluZywgRGlzcGxheWVkU2V0dGluZ107XG5cbiAgICAgICAgY29uc3QgZGlzYWJsZWRTZXR0aW5nID0gIXNldHRpbmcuYWN0aXZlKHNldHRpbmdDaGFyISlcbiAgICAgICAgICB8fCAoXG4gICAgICAgICAgICAgIGBvdGhlcnMke3N1Yk1lbnV9YCBpbiBzZXR0aW5nQ2hhciEuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV1cbiAgICAgICAgICAgICAgJiYgYHNlbGYke3N1Yk1lbnV9YCBpbiBzZXR0aW5nQ2hhciEuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV1cbiAgICAgICAgICAgICAgJiYgIUlzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAoXG4gICAgICAgICAgICAgICAgICBQbGF5ZXIuTWVtYmVyTnVtYmVyID8/IC0xLFxuICAgICAgICAgICAgICAgICAgc2V0dGluZ0NoYXIhLk1QQVtNb2R1bGVUaXRsZS5BdXRob3JpdHldW2BvdGhlcnMke3N1Yk1lbnV9YF0gYXMgQXV0aG9yaXR5R3JvdXAsXG4gICAgICAgICAgICAgICAgICBzZXR0aW5nQ2hhciEuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV1bYHNlbGYke3N1Yk1lbnV9YF0gYXMgYm9vbGVhbixcbiAgICAgICAgICAgICAgICAgIHNldHRpbmdDaGFyIVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgKVxuICAgICAgICAgIHx8IChcbiAgICAgICAgICAgICAgIVBsYXllci5DYW5JbnRlcmFjdCgpICYmIChcbiAgICAgICAgICAgICAgICAgIChzZXR0aW5nQ2hhcj8uTWVtYmVyTnVtYmVyID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyXG4gICAgICAgICAgICAgICAgICAmJiAhUGxheWVyLk1QQVtNb2R1bGVUaXRsZS5BdXRob3JpdHldLmJvdW5kQWNjZXNzU2VsZilcbiAgICAgICAgICAgICAgICAgIHx8IChzZXR0aW5nQ2hhcj8uTWVtYmVyTnVtYmVyICE9PSBQbGF5ZXIuTWVtYmVyTnVtYmVyXG4gICAgICAgICAgICAgICAgICAmJiAhUGxheWVyLk1QQVtNb2R1bGVUaXRsZS5BdXRob3JpdHldLmJvdW5kQWNjZXNzT3RoZXJzKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgKTtcblxuICAgICAgICBpZiAoSXNDaGVja2JveFNldHRpbmcoc2V0dGluZykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBNb3VzZUluKFxuICAgICAgICAgICAgICAgICAgICBPUFRJT05fTEVGVCxcbiAgICAgICAgICAgICAgICAgICAgT1BUSU9OX1RPUCArIChpICogKE9QVElPTl9HQVAgKyBPUFRJT05fSEVJR0hUKSksXG4gICAgICAgICAgICAgICAgICAgIE9QVElPTl9DSEVDS0JPWF9TSVpFLFxuICAgICAgICAgICAgICAgICAgICBPUFRJT05fQ0hFQ0tCT1hfU0laRVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAmJiAhZGlzYWJsZWRTZXR0aW5nXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gPSAhc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV07XG4gICAgICAgICAgICAgICAgaWYgKHNldHRpbmcub25TZXQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nLm9uU2V0KHNldHRpbmdDaGFyISwgc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0sICFzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNldHRpbmdzRWRpdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChJc09wdGlvblNldHRpbmcoc2V0dGluZykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gc2V0dGluZy5vcHRpb25zLmluZGV4T2Yoc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gYXMgc3RyaW5nKTtcbiAgICAgICAgICAgIGNvbnN0IG9wdExlbiA9IHNldHRpbmcub3B0aW9ucy5sZW5ndGg7XG4gICAgICAgICAgICAvLyBCYWNrIGFycm93XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgTW91c2VJbihcbiAgICAgICAgICAgICAgICAgICAgT1BUSU9OX0xFRlQsXG4gICAgICAgICAgICAgICAgICAgIE9QVElPTl9UT1AgKyAoaSAqIChPUFRJT05fR0FQICsgT1BUSU9OX0hFSUdIVCkpLFxuICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKE9QVElPTl9CQUNLX05FWFRfV0lEVEggLyAyKSxcbiAgICAgICAgICAgICAgICAgICAgT1BUSU9OX0hFSUdIVFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAmJiAhZGlzYWJsZWRTZXR0aW5nXG4gICAgICAgICAgICAgICAgJiYgKHNldHRpbmcubG9vcFxuICAgICAgICAgICAgICAgIHx8IGluZGV4ID4gMClcbiAgICAgICAgICAgICAgICAvLyBDYW4ndCBkZWNyZWFzZSBhdXRob3JpdHkgYmV5b25kIGlmIHRoZSBwbGF5ZXIgaXMgbm90IG9mIHRoYXQgcmFua1xuICAgICAgICAgICAgICAgICYmIChzdWJNZW51ICE9PSBNb2R1bGVUaXRsZS5BdXRob3JpdHlcbiAgICAgICAgICAgICAgICB8fCAhQVVUSE9SSVRZX0dST1VQX09QVElPTlMuaW5jbHVkZXMoc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0pXG4gICAgICAgICAgICAgICAgfHwgQXV0aG9yaXR5SXNDb21wYXJpc29uVG9DaGFyYWN0ZXIoc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gYXMgQXV0aG9yaXR5R3JvdXAsIFwiPj1cIiwgUGxheWVyLk1lbWJlck51bWJlciA/PyAtMSwgc2V0dGluZ0NoYXIhKSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2VmFsdWUgPSBzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXTtcbiAgICAgICAgICAgICAgICBzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSA9IHNldHRpbmcub3B0aW9uc1soaW5kZXggLSAxICsgb3B0TGVuKSAlIG9wdExlbl07XG4gICAgICAgICAgICAgICAgaWYgKHNldHRpbmcub25TZXQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nLm9uU2V0KHNldHRpbmdDaGFyISwgc2V0dGluZy5vcHRpb25zWyhpbmRleCAtIDEgKyBvcHRMZW4pICUgb3B0TGVuXSwgcHJldlZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2V0dGluZ3NFZGl0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTmV4dCBhcnJvd1xuICAgICAgICAgICAgZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgTW91c2VJbihcbiAgICAgICAgICAgICAgICAgICAgT1BUSU9OX0xFRlQgKyBNYXRoLmZsb29yKE9QVElPTl9CQUNLX05FWFRfV0lEVEggLyAyKSxcbiAgICAgICAgICAgICAgICAgICAgT1BUSU9OX1RPUCArIChpICogKE9QVElPTl9HQVAgKyBPUFRJT05fSEVJR0hUKSksXG4gICAgICAgICAgICAgICAgICAgIE1hdGguY2VpbChPUFRJT05fQkFDS19ORVhUX1dJRFRIIC8gMiksXG4gICAgICAgICAgICAgICAgICAgIE9QVElPTl9IRUlHSFRcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgJiYgIWRpc2FibGVkU2V0dGluZ1xuICAgICAgICAgICAgICAgICYmIChzZXR0aW5nLmxvb3BcbiAgICAgICAgICAgICAgICB8fCBpbmRleCArIDEgPCBzZXR0aW5nLm9wdGlvbnMubGVuZ3RoKVxuICAgICAgICAgICAgICAgIC8vIENhbid0IGluY3JlYXNlIGF1dGhvcml0eSBiZXlvbmQgd2hhdCB0aGUgcGxheWVyIHdobyBpcyBzZXR0aW5nIGl0IGlzXG4gICAgICAgICAgICAgICAgJiYgKHN1Yk1lbnUgIT09IE1vZHVsZVRpdGxlLkF1dGhvcml0eVxuICAgICAgICAgICAgICAgIHx8ICFBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUy5pbmNsdWRlcyhzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSlcbiAgICAgICAgICAgICAgICB8fCBBdXRob3JpdHlJc0NvbXBhcmlzb25Ub0NoYXJhY3RlcihzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSBhcyBBdXRob3JpdHlHcm91cCwgXCI+XCIsIFBsYXllci5NZW1iZXJOdW1iZXIgPz8gLTEsIHNldHRpbmdDaGFyISkpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJldlZhbHVlID0gc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV07XG4gICAgICAgICAgICAgICAgc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gPSBzZXR0aW5nLm9wdGlvbnNbKGluZGV4ICsgMSArIG9wdExlbikgJSBvcHRMZW5dO1xuICAgICAgICAgICAgICAgIGlmIChzZXR0aW5nLm9uU2V0KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZy5vblNldChzZXR0aW5nQ2hhciEsIHNldHRpbmcub3B0aW9uc1soaW5kZXggKyAxICsgb3B0TGVuKSAlIG9wdExlbl0sIHByZXZWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNldHRpbmdzRWRpdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gRXhpdEJ1dHRvblByZXNzZWQoKTogdm9pZFxue1xuICAgIGlmIChjdXJyZW50TWVudSA9PT0gbnVsbClcbiAgICB7XG4gICAgICAgIGlmICh3aW5kb3cuTVBBLm1lbnVMb2FkZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHdpbmRvdy5NUEEubWVudUxvYWRlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIFByZWZlcmVuY2VNZW51RXhpdCgpO1xuICAgIH1cbiAgICBlbHNlIGlmIChjdXJyZW50TWVudSA9PT0gXCJSRVNFVF9TZXR0aW5nc1wiKVxuICAgIHtcbiAgICAgICAgY3VycmVudE1lbnUgPSBudWxsO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICAvLyBTYXZlIGFsbCB0ZXh0IGZpZWxkcyB0byB0aGVpciByZXNwZWN0aXZlIHNldHRpbmdcbiAgICAgICAgVXBkYXRlQW5kRGVsZXRlSFRNTEVsZW1lbnRzKGN1cnJlbnRNZW51KTtcbiAgICAgICAgY3VycmVudFBhZ2UgPSAxO1xuICAgICAgICBtYXhQYWdlcyA9IDE7XG4gICAgICAgIGN1cnJlbnRNZW51ID0gbnVsbDtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQcmVmZXJlbmNlTWVudUNsaWNrKCk6IHZvaWRcbntcbiAgICBpZiAoTW91c2VJbiguLi5FWElUX1BPU0lTVElPTikpXG4gICAge1xuICAgICAgICBFeGl0QnV0dG9uUHJlc3NlZCgpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHNldHRpbmdDaGFyPy5NZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXIgJiYgY3VycmVudE1lbnUgPT09IG51bGwpXG4gICAge1xuICAgICAgICBpZiAoTW91c2VJbiguLi5XSUtJX1BPU0lUSU9OKSlcbiAgICAgICAge1xuICAgICAgICAgICAgd2luZG93Lm9wZW4oV0lLSV9MSU5LLCBcIl9ibGFua1wiKT8uZm9jdXMoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoTW91c2VJbiguLi5SRVNFVF9QT1NJVElPTikpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGN1cnJlbnRNZW51ID0gXCJSRVNFVF9TZXR0aW5nc1wiO1xuICAgICAgICAgICAgYWxsb3dSZXNldFRpbWUgPSBEYXRlLm5vdygpICsgMTAwMDA7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE1vdXNlSW4oLi4uSU1QT1JUX1BPU0lUSU9OKSlcbiAgICAgICAge1xuICAgICAgICAgICAgSW1wb3J0U2V0dGluZ3NGcm9tQ2xpcGJvYXJkKCkudGhlbigoKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNldHRpbmdzQWxlcnRUZXh0ID0gXCJTZXR0aW5ncyBpbXBvcnRlZCBmcm9tIGNsaXBib2FyZFwiO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICgpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2V0dGluZ3NBbGVydFRleHQgPSBcIkZhaWxlZCB0byBpbXBvcnQgc2V0dGluZ3NcIjtcbiAgICAgICAgICAgIH0pLmZpbmFsbHkoKCkgPT4gc2hvd1NldHRpbmdzQWxlcnQgPSBEYXRlLm5vdygpICsgNTAwMCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE1vdXNlSW4oLi4uRVhQT1JUX1BPU0lUSU9OKSlcbiAgICAgICAge1xuICAgICAgICAgICAgRXhwb3J0U2V0dGluZ3NUb0NsaXBib2FyZCgpLnRoZW4oKCkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzZXR0aW5nc0FsZXJ0VGV4dCA9IFwiU2V0dGluZ3MgY29waWVkIHRvIGNsaXBib2FyZFwiO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICgpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2V0dGluZ3NBbGVydFRleHQgPSBcIkZhaWxlZCB0byBleHBvcnQgc2V0dGluZ3NcIjtcbiAgICAgICAgICAgIH0pLmZpbmFsbHkoKCkgPT4gc2hvd1NldHRpbmdzQWxlcnQgPSBEYXRlLm5vdygpICsgNTAwMCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBHZXQgdGhlIHN1Ym1lbnUgY2xpY2tlZCBvcHRpb25zXG4gICAgaWYgKGN1cnJlbnRNZW51ID09PSBudWxsICYmIEdldENsaWNrZWRNZW51KE1FTlVfQ0FURUdPUklFUygpKSAhPT0gbnVsbClcbiAgICB7XG4gICAgICAgIGN1cnJlbnRNZW51ID0gR2V0Q2xpY2tlZE1lbnUoTUVOVV9DQVRFR09SSUVTKCkpO1xuICAgICAgICBjdXJyZW50UGFnZSA9IDE7XG4gICAgICAgIG1heFBhZ2VzID0gTWF0aC5jZWlsKE9iamVjdC5lbnRyaWVzKGRlZmF1bHRTZXR0aW5nc1tjdXJyZW50TWVudSA/PyBcIlwiXSA/PyB7fSlcbiAgICAgICAgICAgIC5maWx0ZXIoKFtrZXksIHNldHRpbmddKSA9PiBJc0Rpc3BsYXlTZXR0aW5nKHNldHRpbmcpICYmIChrZXkgaW4gKHNldHRpbmdDaGFyPy5NUEFbY3VycmVudE1lbnUgPz8gXCJcIl0gPz8ge30pKSlcbiAgICAgICAgICAgIC5sZW5ndGggLyBPUFRJT05fUEVSX1BBR0UpO1xuICAgICAgICBDcmVhdGVIVE1MRWxlbWVudHMoY3VycmVudE1lbnUpO1xuICAgIH1cbiAgICBpZiAoY3VycmVudE1lbnUgPT09IFwiUkVTRVRfU2V0dGluZ3NcIilcbiAgICB7XG4gICAgICAgIFJlc2V0TWVudUNsaWNrKCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gR2V0IG9wdGlvbiBvZiB0aGUgY3VycmVudCBtZW51XG4gICAgaWYgKGN1cnJlbnRNZW51ICE9PSBudWxsKVxuICAgIHtcbiAgICAgICAgLy8gTmV4dCBhbmQgcHJldmlvdXMgYnV0dG9uc1xuICAgICAgICAvLyBPbmx5IGNoZWNrIGlmIHNldHRpbmcgcGFnZSBuZWVkcyBpdFxuICAgICAgICBpZiAoT2JqZWN0LmVudHJpZXMoZGVmYXVsdFNldHRpbmdzW2N1cnJlbnRNZW51ID8/IFwiXCJdID8/IHt9KVxuICAgICAgICAgICAgLmZpbHRlcigoW2tleSwgc2V0dGluZ10pID0+IElzRGlzcGxheVNldHRpbmcoc2V0dGluZykgJiYgKGtleSBpbiAoc2V0dGluZ0NoYXI/Lk1QQVtjdXJyZW50TWVudSA/PyBcIlwiXSA/PyB7fSkpKVxuICAgICAgICAgICAgLmxlbmd0aCA+IE9QVElPTl9QRVJfUEFHRVxuICAgICAgICApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChNb3VzZUluKC4uLk5FWFRfQlVUVE9OX1BPUykgJiYgY3VycmVudFBhZ2UgPCBtYXhQYWdlcylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBVcGRhdGVBbmREZWxldGVIVE1MRWxlbWVudHMoY3VycmVudE1lbnUpO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlKys7XG4gICAgICAgICAgICAgICAgQ3JlYXRlSFRNTEVsZW1lbnRzKGN1cnJlbnRNZW51KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoTW91c2VJbiguLi5QUkVWX0JVVFRPTl9QT1MpICYmIGN1cnJlbnRQYWdlID4gMSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBVcGRhdGVBbmREZWxldGVIVE1MRWxlbWVudHMoY3VycmVudE1lbnUpO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlLS07XG4gICAgICAgICAgICAgICAgQ3JlYXRlSFRNTEVsZW1lbnRzKGN1cnJlbnRNZW51KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgR2V0Q2xpY2tlZE9wdGlvbihjdXJyZW50TWVudSk7XG4gICAgfVxuXG4gICAgcmV0dXJuO1xufVxuXG5mdW5jdGlvbiBSZXNldE1lbnVDbGljaygpOiB2b2lkXG57XG4gICAgaWYgKE1vdXNlSW4oLi4uUkVTRVRfQ09ORklSTV9QT1NJVElPTikgJiYgRGF0ZS5ub3coKSA+IGFsbG93UmVzZXRUaW1lKVxuICAgIHtcbiAgICAgICAgUmVzZXRTdG9yYWdlKCk7XG4gICAgICAgIGN1cnJlbnRNZW51ID0gbnVsbDtcbiAgICAgICAgYWxsb3dSZXNldFRpbWUgPSAwO1xuICAgIH1cblxuICAgIGlmIChNb3VzZUluKC4uLlJFU0VUX0NBTkNFTF9QT1NJVElPTikpXG4gICAge1xuICAgICAgICBjdXJyZW50TWVudSA9IG51bGw7XG4gICAgICAgIGFsbG93UmVzZXRUaW1lID0gMDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIFJlc2V0TWVudVJ1bigpOiB2b2lkXG57XG4gICAgY29uc3QgcHJldlRleHRBbGlnbiA9IE1haW5DYW52YXMudGV4dEFsaWduO1xuICAgIE1haW5DYW52YXMudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcblxuICAgIERyYXdUZXh0KFxuICAgICAgICBMb2NhbGl6ZWRUZXh0KFwiV0FSTklORzogQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHJlc2V0IHlvdXIgTVBBIHNldHRpbmdzIGFuZCBkYXRhIGJhY2sgdG8gZGVmYXVsdD9cIiksXG4gICAgICAgIENBTlZBU19XSURUSCAvIDIsXG4gICAgICAgIDI1MCxcbiAgICAgICAgXCIjMDAwMDAwXCIsXG4gICAgICAgIFwiI2FhYWFhYVwiXG4gICAgKTtcbiAgICBEcmF3VGV4dChcbiAgICAgICAgLy8gQSBsaXR0bGUgaG9tYWdlIHRvIEJDWCBhbmQgTFNDRyBmb3IgYmVpbmcgZ3JlYXQgb3BlbiBzb3VyY2UgcmVmZXJlbmNlcyBvbiB0aGlzIHByb2plY3RcbiAgICAgICAgTG9jYWxpemVkVGV4dChcIlRoaXMgYWN0aW9uIGNhbiBub3QgYmUgdW5kb25lIVwiKSxcbiAgICAgICAgQ0FOVkFTX1dJRFRIIC8gMixcbiAgICAgICAgNDAwLFxuICAgICAgICBcIiNmZjAwMDBcIixcbiAgICAgICAgXCIjYWFhYWFhXCJcbiAgICApO1xuICAgIERyYXdUZXh0KFxuICAgICAgICBMb2NhbGl6ZWRUZXh0KFwiRXhwb3J0IGFuZCBzYXZlIHlvdXIgc2V0dGluZ3MgQkVGT1JFIGNvbmZpcm1pbmcgaWYgeW91IGFyZSB1bnN1cmUuXCIpLFxuICAgICAgICBDQU5WQVNfV0lEVEggLyAyLFxuICAgICAgICA1NTAsXG4gICAgICAgIFwiIzY5Njk2OVwiLFxuICAgICAgICBcIiNhYWFhYWFcIlxuICAgICk7XG5cbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgIGlmIChub3cgPD0gYWxsb3dSZXNldFRpbWUpXG4gICAge1xuICAgICAgICBEcmF3QnV0dG9uKFxuICAgICAgICAgICAgLi4uUkVTRVRfQ09ORklSTV9QT1NJVElPTixcbiAgICAgICAgICAgIGAke0xvY2FsaXplZFRleHQoXCJDb25maXJtXCIpfSAoJHtNYXRoLmZsb29yKChhbGxvd1Jlc2V0VGltZSAtIG5vdykgLyAxMDAwKX0pYCxcbiAgICAgICAgICAgIFwiI2FhYWFhYVwiLFxuICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgdHJ1ZVxuICAgICAgICApO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICBEcmF3QnV0dG9uKFxuICAgICAgICAgICAgLi4uUkVTRVRfQ09ORklSTV9QT1NJVElPTixcbiAgICAgICAgICAgIExvY2FsaXplZFRleHQoXCJDb25maXJtXCIpLFxuICAgICAgICAgICAgXCIjZmYwMDAwXCJcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBEcmF3QnV0dG9uKFxuICAgICAgICAuLi5SRVNFVF9DQU5DRUxfUE9TSVRJT04sXG4gICAgICAgIExvY2FsaXplZFRleHQoXCJDYW5jZWxcIiksXG4gICAgICAgIFwiV2hpdGVcIlxuICAgICk7XG5cbiAgICBNYWluQ2FudmFzLnRleHRBbGlnbiA9IHByZXZUZXh0QWxpZ247XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQcmVmZXJlbmNlTWVudVJ1bigpOiB2b2lkXG57XG4gICAgaWYgKGN1cnJlbnRNZW51ID09PSBcIlJFU0VUX1NldHRpbmdzXCIpXG4gICAge1xuICAgICAgICBSZXNldE1lbnVSdW4oKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHByZXZUZXh0QWxpZ24gPSBNYWluQ2FudmFzLnRleHRBbGlnbjtcbiAgICBEcmF3QnV0dG9uKC4uLkVYSVRfUE9TSVNUSU9OLCBcIlwiLCBcIldoaXRlXCIsIFwiSWNvbnMvRXhpdC5wbmdcIik7XG4gICAgTWFpbkNhbnZhcy50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xuICAgIERyYXdUZXh0KGAke0xvY2FsaXplZFRleHQoXCJNYXlhJ3MgUGV0cGxheSBBZGRpdGlvbnNcIil9JHtjdXJyZW50TWVudSA/IGAgLSAke3NldHRpbmdDaGFyPy5OaWNrbmFtZSB8fCBzZXR0aW5nQ2hhcj8uTmFtZX0ncyAke0xvY2FsaXplZFRleHQoTUVOVV9USVRMRVNbY3VycmVudE1lbnVdID8/IGN1cnJlbnRNZW51KX1gIDogXCJcIn1gLCAxMDAwLCAxMjUsIFwiQmxhY2tcIiwgXCJHcmF5XCIpO1xuXG4gICAgLy8gV2lraSwgUmVzZXQsIGltcG9ydCBhbmQgZXhwb3J0IGJ1dCBvbmx5IHdoaWxlIFBsYXllclxuICAgIGlmIChzZXR0aW5nQ2hhcj8uTWVtYmVyTnVtYmVyID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyICYmIGN1cnJlbnRNZW51ID09PSBudWxsKVxuICAgIHtcbiAgICAgICAgaWYgKHNob3dTZXR0aW5nc0FsZXJ0ID49IERhdGUubm93KCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIE1haW5DYW52YXMudGV4dEFsaWduID0gXCJsZWZ0XCI7XG4gICAgICAgICAgICBEcmF3VGV4dEZpdChcbiAgICAgICAgICAgICAgICBzZXR0aW5nc0FsZXJ0VGV4dCxcbiAgICAgICAgICAgICAgICAuLi5BTEVSVF9QT1NJVElPTixcbiAgICAgICAgICAgICAgICBcIkJsYWNrXCIsXG4gICAgICAgICAgICAgICAgXCJHcmF5XCJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgTWFpbkNhbnZhcy50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xuICAgICAgICBEcmF3QnV0dG9uKFxuICAgICAgICAgICAgLi4uV0lLSV9QT1NJVElPTixcbiAgICAgICAgICAgIExvY2FsaXplZFRleHQoXCJXaWtpXCIpLFxuICAgICAgICAgICAgXCIjZmZmZmZmXCIsXG4gICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgTG9jYWxpemVkVGV4dChcIk9wZW4gdGhlIE1QQSB3aWtpIGluIGEgbmV3IHRhYlwiKVxuICAgICAgICApO1xuICAgICAgICBEcmF3QnV0dG9uKFxuICAgICAgICAgICAgLi4uUkVTRVRfUE9TSVRJT04sXG4gICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KFwiUkVTRVRcIiksXG4gICAgICAgICAgICBcIiNmZjJlMmVhYVwiLFxuICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgIExvY2FsaXplZFRleHQoXCJSZXNldCBhbGwgeW91ciBzZXR0aW5ncyBiYWNrIHRvIGRlZmF1bHRcIilcbiAgICAgICAgKTtcbiAgICAgICAgRHJhd0J1dHRvbihcbiAgICAgICAgICAgIC4uLklNUE9SVF9QT1NJVElPTixcbiAgICAgICAgICAgIExvY2FsaXplZFRleHQoXCJJbXBvcnRcIiksXG4gICAgICAgICAgICBcIiNmZmZmZmZcIixcbiAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KFwiSW1wb3J0IHRoZSBzZXR0aW5ncyBjb3BpZWQgdG8geW91ciBjbGlwYm9hcmRcIilcbiAgICAgICAgKTtcbiAgICAgICAgRHJhd0J1dHRvbihcbiAgICAgICAgICAgIC4uLkVYUE9SVF9QT1NJVElPTixcbiAgICAgICAgICAgIExvY2FsaXplZFRleHQoXCJFeHBvcnRcIiksXG4gICAgICAgICAgICBcIiNmZmZmZmZcIixcbiAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KFwiRXhwb3J0IHlvdXIgY3VycmVudCBzZXR0aW5ncyB0byB0aGUgY2xpcGJvYXJkXCIpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgTWFpbkNhbnZhcy50ZXh0QWxpZ24gPSBcImxlZnRcIjtcbiAgICBpZiAoY3VycmVudE1lbnUgPT09IG51bGwpXG4gICAge1xuICAgICAgICAvLyBEcmF3IGFsbCB0aGUgYnV0dG9ucyB0byBhY2Nlc3MgdGhlIHN1Ym1lbnVzXG4gICAgICAgIERyYXdNZW51T3B0aW9ucyhNRU5VX0NBVEVHT1JJRVMoKSk7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIC8vIERyYXcgdGhlIG9wdGlvbnMgaW4gdGhlIHN1Ym1lbnVcbiAgICAgICAgRHJhd1N1Yk1lbnVPcHRpb25zKGN1cnJlbnRNZW51KTtcbiAgICB9XG4gICAgTWFpbkNhbnZhcy50ZXh0QWxpZ24gPSBwcmV2VGV4dEFsaWduO1xuICAgIHJldHVybjtcbn1cblxuZnVuY3Rpb24gUHJlZmVyZW5jZU1lbnVFeGl0KCk6IGJvb2xlYW4gfCB2b2lkXG57XG4gICAgLy8gU2hvdWxkbid0IGJlIG5lZWRlZCBidXQgYWN0cyBhcyBmYWlsc2FmZSBhbmQgbWFrZXMgdHlwZXNjcmlwdCBoYXBweVxuICAgIGlmICghc2V0dGluZ0NoYXIpIHsgcmV0dXJuOyB9XG5cbiAgICBpZiAoc2V0dGluZ3NFZGl0ZWQpXG4gICAge1xuICAgICAgICBpZiAoc2V0dGluZ0NoYXIuTWVtYmVyTnVtYmVyID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyKVxuICAgICAgICB7XG4gICAgICAgICAgICBMZXZlbFN5bmMoZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgICAgICBTYXZlU3RvcmFnZSh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIFNlbmRNUEFNZXNzYWdlKFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJTZXR0aW5nUHV0UmVxdWVzdFwiLFxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nczogc2V0dGluZ0NoYXIuTVBBXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzZXR0aW5nQ2hhci5NZW1iZXJOdW1iZXJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHNldHRpbmdDaGFyLk1lbWJlck51bWJlciA9PT0gUGxheWVyLk1lbWJlck51bWJlcilcbiAgICB7XG4gICAgICAgIFByZWZlcmVuY2VTdWJzY3JlZW5FeHRlbnNpb25zQ2xlYXIoKTtcbiAgICB9XG4gICAgc2V0dGluZ3NFZGl0ZWQgPSBmYWxzZTtcbiAgICBzZXR0aW5nQ2hhciA9IG51bGw7XG4gICAgc2V0dGluZ3NPcGVuID0gZmFsc2U7XG59XG5cbi8qKlxuICogQ2FsbGVkIG9uY2Ugd2hlbiB0aGUgUHJlZmVyZW5jZSBNZW51IGxvYWRzIHVwIGFmdGVyIG9wZW5pbmdcbiAqL1xuZnVuY3Rpb24gUHJlZmVyZW5jZU1lbnVMb2FkKCk6IHZvaWRcbntcbiAgICAvLyBTaG91bGRuJ3QgYmUgbmVlZGVkIGJ1dCBhY3RzIGFzIGZhaWxzYWZlIGFuZCBtYWtlcyB0eXBlc2NyaXB0IGhhcHB5XG4gICAgaWYgKCFzZXR0aW5nQ2hhcikgeyByZXR1cm47IH1cbiAgICBzZXR0aW5nc09wZW4gPSB0cnVlO1xufVxuXG5mdW5jdGlvbiBQbGF5ZXJQcmVmZXJlbmNlTWVudUxvYWQoKTogdm9pZFxue1xuICAgIHNldHRpbmdzRWRpdGVkID0gZmFsc2U7XG4gICAgc2V0dGluZ0NoYXIgPSBQbGF5ZXI7XG4gICAgUHJlZmVyZW5jZU1lbnVMb2FkKCk7XG59XG5cbi8qKlxuICogR2V0IHRoZSBzdHJpbmcgd2l0aCBhbiBNUEEgaWRlbnRpZmllciBpbiBmcm9udFxuICovXG5leHBvcnQgZnVuY3Rpb24gRWxlbWVudE5hbWUodGl0bGU6IE1vZHVsZVRpdGxlIHwgc3RyaW5nLCBzZXR0aW5nOiBzdHJpbmcpOiBzdHJpbmdcbntcbiAgICByZXR1cm4gYE1QQV9PUFRJT05fJHt0aXRsZX0ke3NldHRpbmd9YDtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYW5kIGhpZGUgYWxsIHRoZSBIVE1MIGVsZW1lbnRzIHRoYXQgYXJlIG5lZWRlZCBmb3IgdGhlIFByZWZlcmVuY2UgU2V0dGluZyBwYWdlXG4gKi9cbmZ1bmN0aW9uIENyZWF0ZUhUTUxFbGVtZW50cyhzdWJNZW51OiBNb2R1bGVUaXRsZSB8IG51bGwsIHBhZ2U6IG51bWJlciA9IGN1cnJlbnRQYWdlKTogdm9pZFxue1xuICAgIGlmICghc3ViTWVudSkgeyByZXR1cm47IH1cbiAgICAvLyBTaG91bGRuJ3QgYmUgbmVlZGVkIGJ1dCBhY3RzIGFzIGZhaWxzYWZlIGFuZCBtYWtlcyB0eXBlc2NyaXB0IGhhcHB5XG4gICAgaWYgKCFzZXR0aW5nQ2hhcikgeyByZXR1cm47IH1cblxuICAgIE9iamVjdC5lbnRyaWVzKGRlZmF1bHRTZXR0aW5nc1tzdWJNZW51XSA/PyB7fSkuc2xpY2UoKHBhZ2UgLSAxKSAqIE9QVElPTl9QRVJfUEFHRSwgcGFnZSAqIE9QVElPTl9QRVJfUEFHRSkuZm9yRWFjaCgoc2V0KSA9PlxuICAgIHtcbiAgICAgICAgY29uc3QgW3NldHRpbmdOYW1lLCBzZXR0aW5nXSA9IHNldDtcbiAgICAgICAgY29uc3QgaWQgPSBFbGVtZW50TmFtZShzdWJNZW51LCBzZXR0aW5nTmFtZSk7XG4gICAgICAgIGlmIChJc1RleHRTZXR0aW5nKHNldHRpbmcpKVxuICAgICAgICB7XG4gICAgICAgICAgICBFbGVtZW50Q3JlYXRlSW5wdXQoaWQsIFwidGV4dFwiLCBzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSBhcyBzdHJpbmcsIHNldHRpbmcubWF4Q2hhcnMgPz8gT1BUSU9OX1RFWFRfTUFYX0NIQVJTKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChJc051bWJlclNldHRpbmcoc2V0dGluZykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIEVsZW1lbnRDcmVhdGVJbnB1dChpZCwgXCJudW1iZXJcIiwgc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0udG9TdHJpbmcoKSk7XG4gICAgICAgICAgICBFbGVtZW50U2V0QXR0cmlidXRlKGlkLCBcIm1pblwiLCBzZXR0aW5nLm1pbi50b1N0cmluZygpKTtcbiAgICAgICAgICAgIEVsZW1lbnRTZXRBdHRyaWJ1dGUoaWQsIFwibWF4XCIsIHNldHRpbmcubWF4LnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgRWxlbWVudFNldEF0dHJpYnV0ZShpZCwgXCJpbnB1dG1vZGVcIiwgXCJkZWNpbWFsXCIpO1xuICAgICAgICAgICAgaWYgKHNldHRpbmcuc3RlcClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBFbGVtZW50U2V0QXR0cmlidXRlKGlkLCBcInN0ZXBcIiwgc2V0dGluZy5zdGVwLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59XG4vKipcbiAqIFVwZGF0ZSB0aGUgc2V0dGluZyB2YWx1ZXMgdG8gcmVmbGVjdCB0aG9zZSBpbiB0aGUgaHRtbCBlbGVtZW50cyBhbmQgZGVsZXRlIHRoZW0gYWZ0ZXJcbiAqL1xuZnVuY3Rpb24gVXBkYXRlQW5kRGVsZXRlSFRNTEVsZW1lbnRzKHN1Yk1lbnU6IE1vZHVsZVRpdGxlLCBwYWdlOiBudW1iZXIgPSBjdXJyZW50UGFnZSk6IHZvaWRcbntcbiAgICAvLyBTaG91bGRuJ3QgYmUgbmVlZGVkIGJ1dCBhY3RzIGFzIGZhaWxzYWZlIGFuZCBtYWtlcyB0eXBlc2NyaXB0IGhhcHB5XG4gICAgaWYgKCFzZXR0aW5nQ2hhcikgeyByZXR1cm47IH1cblxuICAgIC8vIFVwZGF0ZSB0aGUgdmlydHVhbCBwZXQgc3RhdHMgYmFzZWQgb24gY3VycmVudCB2YWx1ZXMgc28gdGhlIGxldmVsIGRvZXNuJ3QganVtcCBhcm91bmRcbiAgICBpZiAoc3ViTWVudSA9PT0gTW9kdWxlVGl0bGUuVmlydHVhbFBldClcbiAgICB7XG4gICAgICAgIExldmVsU3luYyhmYWxzZSwgZmFsc2UsIGZhbHNlKTtcbiAgICB9XG5cbiAgICBPYmplY3QuZW50cmllcyhkZWZhdWx0U2V0dGluZ3Nbc3ViTWVudV0gPz8ge30pLnNsaWNlKChwYWdlIC0gMSkgKiBPUFRJT05fUEVSX1BBR0UsIHBhZ2UgKiBPUFRJT05fUEVSX1BBR0UpLmZvckVhY2goKHNldCkgPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IFtzZXR0aW5nTmFtZSwgc2V0dGluZ10gPSBzZXQ7XG4gICAgICAgIGNvbnN0IGlkID0gRWxlbWVudE5hbWUoc3ViTWVudSwgc2V0dGluZ05hbWUpO1xuICAgICAgICBpZiAoSXNUZXh0U2V0dGluZyhzZXR0aW5nKSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdICE9PSBFbGVtZW50VmFsdWUoaWQpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdID0gRWxlbWVudFZhbHVlKGlkKTtcbiAgICAgICAgICAgICAgICBzZXR0aW5nc0VkaXRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBFbGVtZW50UmVtb3ZlKGlkKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoSXNOdW1iZXJTZXR0aW5nKHNldHRpbmcpKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gIT09IE51bWJlcihFbGVtZW50VmFsdWUoaWQpKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSA9IE51bWJlcihFbGVtZW50VmFsdWUoaWQpKTtcbiAgICAgICAgICAgICAgICBzZXR0aW5nc0VkaXRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBFbGVtZW50UmVtb3ZlKGlkKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5leHBvcnQgY2xhc3MgU2V0dGluZ3NNb2R1bGUgZXh0ZW5kcyBNb2R1bGVcbntcbiAgICBnZXQgVGl0bGUoKTogTW9kdWxlVGl0bGVcbiAgICB7XG4gICAgICAgIHJldHVybiBNb2R1bGVUaXRsZS5TZXR0aW5ncztcbiAgICB9XG5cbiAgICBMb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIC8vIEFkZCBzZXR0aW5ncyB0byB0aGUgZXh0ZW5zaW9uIG9wdGlvbnNcbiAgICAgICAgUHJlZmVyZW5jZVJlZ2lzdGVyRXh0ZW5zaW9uU2V0dGluZyh7XG4gICAgICAgICAgICBJZGVudGlmaWVyOiBcIk1QQVwiLFxuICAgICAgICAgICAgQnV0dG9uVGV4dDogTG9jYWxpemVkVGV4dChcIk1QQSBTZXR0aW5nc1wiKSxcbiAgICAgICAgICAgIEltYWdlOiBJQ09OUy5QQVcsXG4gICAgICAgICAgICBjbGljazogUHJlZmVyZW5jZU1lbnVDbGljayxcbiAgICAgICAgICAgIHJ1bjogUHJlZmVyZW5jZU1lbnVSdW4sXG4gICAgICAgICAgICBleGl0OiBQcmVmZXJlbmNlTWVudUV4aXQsXG4gICAgICAgICAgICBsb2FkOiBQbGF5ZXJQcmVmZXJlbmNlTWVudUxvYWRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gV2hlbiBwcmVzc2luZyBlc2NhcGUsIG9ubHkgZ28gdG8gbWFpbiBtZW51IGlmIGluIHN1YiBtZW51XG4gICAgICAgIGZ1bmN0aW9uIEVzY2FwZUhhbmRsZXIoZXZlbnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAoZXZlbnQua2V5ID09PSBcIkVzY2FwZVwiIHx8IGV2ZW50LmtleSA9PT0gXCJFc2NcIilcbiAgICAgICAgICAgICAgICAmJiBzZXR0aW5nc09wZW5cbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudE1lbnUgPT09IG51bGwpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBQcmVmZXJlbmNlTWVudUV4aXQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY3VycmVudE1lbnUgPT09IFwiUkVTRVRfU2V0dGluZ3NcIilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGFsbG93UmVzZXRUaW1lID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgVXBkYXRlQW5kRGVsZXRlSFRNTEVsZW1lbnRzKGN1cnJlbnRNZW51KTtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhZ2UgPSAxO1xuICAgICAgICAgICAgICAgICAgICBtYXhQYWdlcyA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGN1cnJlbnRNZW51ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5cHJlc3NcIiwgRXNjYXBlSGFuZGxlciwgdHJ1ZSk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIEVzY2FwZUhhbmRsZXIsIHRydWUpO1xuICAgIH1cblxuICAgIFVubG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICAvLyBVbmxvYWQgYmVpbmcgZW1wdHkgaXMgd2FudGVkLCBuZXZlciB1bmxvYWQgc2V0dGluZ3NcbiAgICB9XG5cbiAgICBSZWxvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgLy8gUmVsb2FkIGJlaW5nIGVtcHR5IGlzIHdhbnRlZCwgbmV2ZXIgcmVsb2FkIHNldHRpbmdzXG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQXJyYXlUb1JlYWRhYmxlU3RyaW5nLCBIb29rZWRNZXNzYWdlLCBNUEFNZXNzYWdlQ29udGVudCwgTVBBTm90aWZ5UGxheWVyLCBOb3RpZnlQbGF5ZXIsIFNlbmRNUEFNZXNzYWdlIH0gZnJvbSBcIi4uL3V0aWwvbWVzc2FnaW5nXCI7XG5pbXBvcnQgeyBMb2NhbGl6ZWRUZXh0IH0gZnJvbSBcIi4uL2xvY2FsaXphdGlvbi9sb2NhbGl6YXRpb25cIjtcbmltcG9ydCB7IElDT05TIH0gZnJvbSBcIi4uL3V0aWwvY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBiY3hGb3VuZCwgSG9va0Z1bmN0aW9uIH0gZnJvbSBcIi4uL3V0aWwvc2RrXCI7XG5pbXBvcnQgeyBNb2R1bGUsIE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4vX21vZHVsZVwiO1xuaW1wb3J0IHsgRXhpdEJ1dHRvblByZXNzZWQsIE1FTlVfVElUTEVTLCBQcmVmZXJlbmNlTWVudUNsaWNrLCBQcmVmZXJlbmNlTWVudVJ1biwgU2V0U2V0dGluZ0NoYXIgfSBmcm9tIFwiLi9zZXR0aW5nc1wiO1xuaW1wb3J0IHsgU2F2ZVN0b3JhZ2UgfSBmcm9tIFwiLi4vdXRpbC9zdG9yYWdlXCI7XG5pbXBvcnQgeyBMZXZlbFN5bmMgfSBmcm9tIFwiLi92aXJ0dWFsUGV0XCI7XG5pbXBvcnQgeyBJc01lbWJlck51bWJlckluQXV0aEdyb3VwIH0gZnJvbSBcIi4uL3V0aWwvYXV0aG9yaXR5XCI7XG5pbXBvcnQgeyBzZXR0aW5ncyBhcyBkZWZhdWx0U2V0dGluZ3MgfSBmcm9tIFwiLi4vdXRpbC9yZWdpc3Rlck1vZHVsZXNcIjtcblxuLy8gT3RoZXIgc2V0dGluZ3NcbmNvbnN0IE1QQV9SRU1PVEUgPSBbMTcwMCwgNzY1LCA5MCwgOTBdIGFzIGNvbnN0O1xuLy8gQkNYIG1vdmVzIHRoZSBidXR0b24gZG93biBieSAzNSBmb3Igc29tZSByZWFzb25cbmNvbnN0IE1QQV9SRU1PVEVfQkNYID0gWzE3MDAsIDgwMCwgOTAsIDkwXSBhcyBjb25zdDtcblxuZnVuY3Rpb24gQXJyYXlzRXF1YWwoYXJyMTogYW55W10sIGFycjI6IGFueVtdKTogYm9vbGVhblxue1xuICAgIGlmIChhcnIxLmxlbmd0aCAhPT0gYXJyMi5sZW5ndGgpXG4gICAge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICByZXR1cm4gYXJyMS5ldmVyeSgodmFsdWUsIGluZGV4KSA9PiB2YWx1ZSA9PT0gYXJyMltpbmRleF0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gT2JqZWN0RGlmZmVyZW5jZXMob2xkT2JqOiBvYmplY3QsIG5ld09iajogb2JqZWN0KTogb2JqZWN0XG57XG4gICAgY29uc3QgZGlmZmVyZW5jZXMgPSB7fTtcblxuICAgIGZvciAoY29uc3Qga2V5IGluIG9sZE9iailcbiAgICB7XG4gICAgICAgIC8vIEtleSBpcyBtaXNzaW5nIGluIG5ld09ialxuICAgICAgICBpZiAoIShrZXkgaW4gbmV3T2JqKSlcbiAgICAgICAge1xuICAgICAgICAgICAgZGlmZmVyZW5jZXNba2V5XSA9IHsgb2xkOiBvbGRPYmpba2V5XSwgbmV3OiB1bmRlZmluZWQgfTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgb2xkVmFsdWUgPSBvbGRPYmpba2V5XTtcbiAgICAgICAgY29uc3QgbmV3VmFsdWUgPSBuZXdPYmpba2V5XTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgICBBcnJheS5pc0FycmF5KG9sZFZhbHVlKVxuICAgICAgICAgICAgJiYgQXJyYXkuaXNBcnJheShuZXdWYWx1ZSlcbiAgICAgICAgKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBJZiBib3RoIGFyZSBhcnJheXMsIGNvbXBhcmUgdGhlaXIgY29udGVudHNcbiAgICAgICAgICAgIGlmICghQXJyYXlzRXF1YWwob2xkVmFsdWUsIG5ld1ZhbHVlKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkaWZmZXJlbmNlc1trZXldID0geyBvbGQ6IG9sZFZhbHVlLCBuZXc6IG5ld1ZhbHVlIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoXG4gICAgICAgICAgICB0eXBlb2Ygb2xkVmFsdWUgPT09IFwib2JqZWN0XCJcbiAgICAgICAgICAgICYmIHR5cGVvZiBuZXdWYWx1ZSA9PT0gXCJvYmplY3RcIlxuICAgICAgICAgICAgJiYgIUFycmF5LmlzQXJyYXkob2xkVmFsdWUpKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBJZiBib3RoIGFyZSBvYmplY3RzLCByZWN1cnNpdmVseSBjaGVjayBmb3IgZGlmZmVyZW5jZXNcbiAgICAgICAgICAgIGNvbnN0IGRpZmYgPSBPYmplY3REaWZmZXJlbmNlcyhvbGRWYWx1ZSwgbmV3VmFsdWUpO1xuICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKGRpZmYpLmxlbmd0aCA+IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGlmZmVyZW5jZXNba2V5XSA9IGRpZmY7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob2xkVmFsdWUgIT09IG5ld1ZhbHVlKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBJZiB2YWx1ZXMgYXJlIGRpZmZlcmVudCwgc3RvcmUgdGhlIGRpZmZlcmVuY2VcbiAgICAgICAgICAgIGRpZmZlcmVuY2VzW2tleV0gPSB7IG9sZDogb2xkVmFsdWUsIG5ldzogbmV3VmFsdWUgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIE5ldyBrZXlzIG5vdCBmb3VuZCBpbiB0aGUgb2xkIG9iamVjdFxuICAgIGZvciAoY29uc3Qga2V5IGluIG5ld09iailcbiAgICB7XG4gICAgICAgIGlmICghKGtleSBpbiBvbGRPYmopKVxuICAgICAgICB7XG4gICAgICAgICAgICBkaWZmZXJlbmNlc1trZXldID0geyBvbGQ6IHVuZGVmaW5lZCwgbmV3OiBuZXdPYmpba2V5XSB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGRpZmZlcmVuY2VzO1xufVxuXG5leHBvcnQgY2xhc3MgU2V0dGluZ3NPdGhlck1vZHVsZSBleHRlbmRzIE1vZHVsZVxue1xuICAgIGdldCBUaXRsZSgpOiBNb2R1bGVUaXRsZVxuICAgIHtcbiAgICAgICAgcmV0dXJuIE1vZHVsZVRpdGxlLlNldHRpbmdzT3RoZXI7XG4gICAgfVxuXG4gICAgZ2V0IFN5bmNMaXN0ZW5lcnMoKTogSG9va2VkTWVzc2FnZVtdXG4gICAge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG1vZHVsZTogdGhpcy5UaXRsZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlNldHRpbmdQdXRSZXF1ZXN0XCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoc2VuZGVyOiBDaGFyYWN0ZXIsIGNvbnRlbnQ6IE1QQU1lc3NhZ2VDb250ZW50KTogdm9pZFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdnBFbmFibGVkID0gUGxheWVyLk1QQVtNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XS5lbmFibGVkO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkaWZmZXJlbmNlcyA9IE9iamVjdERpZmZlcmVuY2VzKFBsYXllci5NUEEsIGNvbnRlbnQuc2V0dGluZ3MpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFuZ2VkU2V0dGluZ3M6IHN0cmluZ1tdID0gW107XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gRGVsZXRlIHRoZSBWUCBsZXZlbHMgYXMgdGhleSB3aWxsIGJlIHN5bmNlZCB3aXRoIHRoZSBwbGF5ZXIgaW5zdGVhZFxuICAgICAgICAgICAgICAgICAgICBpZiAoZGlmZmVyZW5jZXM/LltNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XT8ubGV2ZWxzKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZGlmZmVyZW5jZXNbTW9kdWxlVGl0bGUuVmlydHVhbFBldF0ubGV2ZWxzO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKGRpZmZlcmVuY2VzW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdKS5sZW5ndGggPT09IDApXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGRpZmZlcmVuY2VzW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIExldmVsU3luYyhmYWxzZSwgZmFsc2UsIGZhbHNlKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyAhISEhISEhISEhISEhISEhISEhISEhIVxuICAgICAgICAgICAgICAgICAgICAvLyBEbyBBdXRob3JpdHkgcXVlcnlzIGZpcnN0XG4gICAgICAgICAgICAgICAgICAgIC8vICEhISEhISEhISEhISEhISEhISEhISEhXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzQXV0aG9yaXR5ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShQbGF5ZXIuTVBBPy5bTW9kdWxlVGl0bGUuQXV0aG9yaXR5XSkpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdBdXRob3JpdHkgPSBkaWZmZXJlbmNlc1tNb2R1bGVUaXRsZS5BdXRob3JpdHldO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV3QXV0aG9yaXR5KVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZGlmZmVyZW5jZXNbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFZhbGlkYXRlIHRoYXQgYXV0aG9yaXR5IGNhbiBiZSBjaGFuZ2VkIGJhc2VkIG9uIGN1cnJlbnQgYXV0aG9yaXR5IGZpcnN0XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cChzZW5kZXIuTWVtYmVyTnVtYmVyID8/IC0xLCBwcmV2aW91c0F1dGhvcml0eVtgb3RoZXJzJHtNb2R1bGVUaXRsZS5BdXRob3JpdHl9YF0pKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZWRTZXR0aW5ncy5wdXNoKExvY2FsaXplZFRleHQoTW9kdWxlVGl0bGUuQXV0aG9yaXR5KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBlbnRyeSBpbiBuZXdBdXRob3JpdHkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3QXV0aG9yaXR5W2VudHJ5XS5uZXcgIT09IHVuZGVmaW5lZCAmJiBuZXdBdXRob3JpdHlbZW50cnldLm9sZCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV1bZW50cnldID0gbmV3QXV0aG9yaXR5W2VudHJ5XS5uZXc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBNUEE6ICR7c2VuZGVyLk5pY2tuYW1lIHx8IHNlbmRlci5OYW1lfSAoJHtzZW5kZXIuTWVtYmVyTnVtYmVyfSkgdHJpZWQgdG8gaWxsZWdhbGx5IG1vZGlmeSB5b3VyICR7TW9kdWxlVGl0bGUuQXV0aG9yaXR5fSBzZXR0aW5ncyFgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdGl0bGUgaW4gZGlmZmVyZW5jZXMpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFZhbGlkYXRlIHRoYXQgYW55IHNldHRpbmdzIGNhbiBiZSBjaGFuZ2VkIHdpdGggRUlUSEVSIHRoZSBvbGQgb3IgbmV3IGF1dGhvcml0eVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2VuZGVyIGlzIG5vdCBhdXRob3JpemVkIHRvIGNoYW5nZSB0aGUgc2V0dGluZ3MsIGlnbm9yZSBhbmQgd2FybiBpbiBjb25zb2xlXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShJc01lbWJlck51bWJlckluQXV0aEdyb3VwKHNlbmRlci5NZW1iZXJOdW1iZXIgPz8gLTEsIHByZXZpb3VzQXV0aG9yaXR5W2BvdGhlcnMke3RpdGxlfWBdID8/IFwiTm9uZVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBJc01lbWJlck51bWJlckluQXV0aEdyb3VwKHNlbmRlci5NZW1iZXJOdW1iZXIgPz8gLTEsIFBsYXllci5NUEE/LltNb2R1bGVUaXRsZS5BdXRob3JpdHldPy5bYG90aGVycyR7dGl0bGV9YF0gPz8gXCJOb25lXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgTVBBOiAke3NlbmRlci5OaWNrbmFtZSB8fCBzZW5kZXIuTmFtZX0gKCR7c2VuZGVyLk1lbWJlck51bWJlcn0pIHRyaWVkIHRvIGlsbGVnYWxseSBtb2RpZnkgeW91ciAke3RpdGxlfSBzZXR0aW5ncyFgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlZFNldHRpbmdzLnB1c2goTG9jYWxpemVkVGV4dChNRU5VX1RJVExFU1t0aXRsZSBhcyBNb2R1bGVUaXRsZV0gPz8gdGl0bGUpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9kdWxlRGlmZiA9IGRpZmZlcmVuY2VzW3RpdGxlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZW50cnkgaW4gbW9kdWxlRGlmZilcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobW9kdWxlRGlmZltlbnRyeV0ubmV3ICE9PSB1bmRlZmluZWQgJiYgbW9kdWxlRGlmZltlbnRyeV0ub2xkICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQbGF5ZXIuTVBBW3RpdGxlIGFzIE1vZHVsZVRpdGxlXVtlbnRyeV0gPSBtb2R1bGVEaWZmW2VudHJ5XS5uZXc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgaGFyZGNvcmUgaXMgc2V0LCBtYWtlIHN1cmUgaXRzIHNldHRpbmdzIGFyZSBzZXRcbiAgICAgICAgICAgICAgICAgICAgaWYgKFBsYXllci5NUEFbTW9kdWxlVGl0bGUuUHJvZmlsZV0uaGFyZGNvcmUpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIChkZWZhdWx0U2V0dGluZ3NbTW9kdWxlVGl0bGUuUHJvZmlsZV0/LmhhcmRjb3JlIGFzIGFueSk/Lm9uU2V0KFBsYXllcik7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBDYXRjaCBWaXJ0dWFsIFBldCBsZXZlbHMgdXAgdG8gZGF0ZSBpZiBpdCB3YXMgdHVybmVkIG9uIC8gb2ZmXG4gICAgICAgICAgICAgICAgICAgIGlmICh2cEVuYWJsZWQgIT09IFBsYXllci5NUEFbTW9kdWxlVGl0bGUuVmlydHVhbFBldF0uZW5hYmxlZClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgUGxheWVyLk1QQVtNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XS5sZXZlbHMubGFzdFVwZGF0ZWQgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoYW5nZWRTZXR0aW5ncy5sZW5ndGggIT09IDApXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE1QQU5vdGlmeVBsYXllcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KFwiU291cmNlQ2hhcmFjdGVyIGp1c3QgdXBkYXRlZCB5b3VyIFNldHRpbmdzQXJyYXkgc2V0dGluZ3MuXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKFwiU291cmNlQ2hhcmFjdGVyXCIsIHNlbmRlci5OaWNrbmFtZSB8fCBzZW5kZXIuTmFtZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoXCJTZXR0aW5nc0FycmF5XCIsIEFycmF5VG9SZWFkYWJsZVN0cmluZyhjaGFuZ2VkU2V0dGluZ3MpKVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIExldmVsU3luYyhmYWxzZSwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgU2F2ZVN0b3JhZ2UodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIG1vZHVsZTogdGhpcy5UaXRsZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVkaXRpbmdTZXR0aW5nc1wiLFxuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKHNlbmRlcjogQ2hhcmFjdGVyLCBfY29udGVudDogTVBBTWVzc2FnZUNvbnRlbnQpOiB2b2lkXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBOb3RpZnlQbGF5ZXIoTG9jYWxpemVkVGV4dChcIlNvdXJjZUNoYXJhY3RlciBpcyBhY2Nlc3NpbmcgeW91ciBNUEEgc2V0dGluZ3MuXCIpLnJlcGxhY2UoXCJTb3VyY2VDaGFyYWN0ZXJcIiwgc2VuZGVyLk5pY2tuYW1lIHx8IHNlbmRlci5OYW1lKSwgMzAwMDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBMb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLkxvYWQoKTtcblxuICAgICAgICAvLyBQcmlvIGhhcyB0byBiZSAxIG1vcmUgdGhhbiBMU0NHIG9yIEJDWCBob29rc1xuICAgICAgICBjb25zdCBob29rUHJpb3JpdHkgPSAxMjtcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiSW5mb3JtYXRpb25TaGVldFJ1blwiLCBob29rUHJpb3JpdHksIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBMU0NHIG9yIEJDWCBzdWJzY3JlZW5zIG9wZW4gaW5zdGVhZFxuICAgICAgICAgICAgaWYgKHdpbmRvdy5iY3g/LmluQmN4U3Vic2NyZWVuKCkgfHwgd2luZG93LkxTQ0dfUkVNT1RFX1dJTkRPV19PUEVOKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBNUEEgU2V0dGluZ3MgYXJlIG9wZW5cbiAgICAgICAgICAgIGlmICh3aW5kb3cuTVBBLm1lbnVMb2FkZWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgUHJlZmVyZW5jZU1lbnVSdW4oKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG5leHQoYXJncyk7XG4gICAgICAgICAgICAvLyBEcmF3IHRoZSByZW1vdGUgaW50byBzZXR0aW5ncyBidXR0b24gaWYgYXBwbGljYWJsZVxuICAgICAgICAgICAgY29uc3QgY2hhciA9IEluZm9ybWF0aW9uU2hlZXRTZWxlY3Rpb247XG4gICAgICAgICAgICBpZiAoY2hhcj8uTVBBICYmICFjaGFyLklzUGxheWVyKCkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWNjZXNzID0gU2VydmVyQ2hhdFJvb21HZXRBbGxvd0l0ZW0oUGxheWVyLCBjaGFyKTtcbiAgICAgICAgICAgICAgICBEcmF3QnV0dG9uKFxuICAgICAgICAgICAgICAgICAgICAuLi4oKGJjeEZvdW5kKCkgPyBNUEFfUkVNT1RFX0JDWCA6IE1QQV9SRU1PVEUpIGFzIHJlYWRvbmx5IFtudW1iZXIsIG51bWJlciwgbnVtYmVyLCBudW1iZXJdKSxcbiAgICAgICAgICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgYWNjZXNzID8gXCIjZmZmZmZmXCIgOiBcIiNhYWFhYWFcIixcbiAgICAgICAgICAgICAgICAgICAgSUNPTlMuUEFXLFxuICAgICAgICAgICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KGFjY2VzcyA/IFwiTVBBXCIgOiBcIk1QQTogTm8gQkMgaXRlbSBwZXJtaXNzaW9uXCIpLFxuICAgICAgICAgICAgICAgICAgICBmYWxzZVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIkluZm9ybWF0aW9uU2hlZXRDbGlja1wiLCBob29rUHJpb3JpdHksIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAod2luZG93Lk1QQS5tZW51TG9hZGVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcmVmZXJlbmNlTWVudUNsaWNrKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGNoYXIgPSBJbmZvcm1hdGlvblNoZWV0U2VsZWN0aW9uO1xuICAgICAgICAgICAgaWYgKE1vdXNlSW4oLi4uTVBBX1JFTU9URV9CQ1gpICYmIGNoYXI/Lk1QQSAmJiAhY2hhci5Jc1BsYXllcigpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5NUEEubWVudUxvYWRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgLy8gTVBBIGlzIGRlZmluZWQgZnJvbSBjaGVjayBhYm92ZSwgc28gb3RoZXIgY2hhcmFjdGVyIGlzIHNhbWUgYXMgc2VsZiBpbiBzdHJ1Y3R1cmVcbiAgICAgICAgICAgICAgICBTZXRTZXR0aW5nQ2hhcihjaGFyIGFzIFBsYXllckNoYXJhY3Rlcik7XG4gICAgICAgICAgICAgICAgU2VuZE1QQU1lc3NhZ2UoeyBtZXNzYWdlOiBcIkVkaXRpbmdTZXR0aW5nc1wiIH0sIGNoYXIuTWVtYmVyTnVtYmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiSW5mb3JtYXRpb25TaGVldEV4aXRcIiwgaG9va1ByaW9yaXR5LCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5NUEEubWVudUxvYWRlZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBFeGl0QnV0dG9uUHJlc3NlZCgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBVbmxvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3VwZXIuVW5sb2FkKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgTW9kdWxlLCBNb2R1bGVUaXRsZSB9IGZyb20gXCIuL19tb2R1bGVcIjtcbmltcG9ydCB7IEJFRF9CQUQsIEJFRF9OT1JNQUwsIEJFRF9QRVJGRUNUIH0gZnJvbSBcIi4uL3V0aWwvY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBIb29rRnVuY3Rpb24gfSBmcm9tIFwiLi4vdXRpbC9zZGtcIjtcbmltcG9ydCB7IFNhdmVTdG9yYWdlIH0gZnJvbSBcIi4uL3V0aWwvc3RvcmFnZVwiO1xuaW1wb3J0IHsgR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5IH0gZnJvbSBcIi4uL3V0aWwvbWVzc2FnaW5nXCI7XG5pbXBvcnQgeyBSZWNvcmRTeW5jIH0gZnJvbSBcIi4vZGF0YVN5bmNcIjtcbmltcG9ydCB7IElzSGFyZGNvcmVPbiB9IGZyb20gXCIuL3Byb2ZpbGVcIjtcblxuY29uc3QgTUFYX1NFVFRJTkdfVElNRV9IT1VSUyA9IDE2ODtcblxuY29uc3QgUGxheWVyVlA6IChDPzogQ2hhcmFjdGVyKSA9PiBNUEFSZWNvcmQgPSAoQzogQ2hhcmFjdGVyID0gUGxheWVyKSA9Plxue1xuICAgIHJldHVybiBDLk1QQT8uW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdID8/IHt9O1xufTtcblxuLy8gY29uc3QgQ0hBUkFDVEVSU19NT1ZJTkcgPSBbXCJTZXJ2ZXJNb3ZlUmlnaHRcIiwgXCJTZXJ2ZXJTd2FwXCIsIFwiU2VydmVyTW92ZUxlZnRcIl07XG5cbmNvbnN0IEJPV0xfQ09OU1VNRV9SRUNPVkVSWSA9IDAuNDtcbmNvbnN0IElURU1fQ09OVU1FX1JFQ09WRVJZID0gMC4yO1xuXG5jb25zdCBBQ1RJVklUSUVTX0ZPT0RfR0FJTiA9IFtcIkxTQ0dfRWF0XCIsIFwiVGhyb3dJdGVtXCJdO1xuY29uc3QgQUNUSVZJVElFU19XQVRFUl9HQUlOID0gW1wiTFNDR19GdW5uZWxQb3VyXCIsIFwiTFNDR19RdWFmZlwiXTtcblxuY29uc3QgRU1PVElDT05TX1NMRUVQID0gW1wiU2xlZXBcIiwgXCJBZmtcIiwgXCJGb3JrXCIsIFwiQ29kaW5nXCIsIFwiUmVhZFwiXTtcblxuY29uc3QgQUZGRUNUSU9OX0FDVElWSVRZX0xPVkUgPSBbXCJQZXRcIiwgXCJUYWtlQ2FyZVwiLCBcIkxTQ0dfTnV6emxlXCIsIFwiQ2FyZXNzXCIsIFwiTFNDR19IdWdcIiwgXCJTY3JhdGNoXCJdO1xuY29uc3QgQUZGRUNUSU9OX0FDVElWSVRZX0xJS0UgPSBbXCJLaXNzXCIsIFwiTWFzc2FnZUhhbmRzXCIsIFwiTGlja1wiLCBcIk5pYmJsZVwiLCBcIkN1ZGRsZVwiLCBcIkdyb3BlXCJdO1xuY29uc3QgQUZGRUNUSU9OX0FDVElWSVRZX01BU08gPSBbXCJTcGFua1wiLCBcIlNsYXBcIiwgXCJCaXRlXCIsIFwiUGluY2hcIiwgXCJQdWxsXCIsIFwiU2hvY2tJdGVtXCIsIFwiU3BhbmtJdGVtXCJdO1xuY29uc3QgQUZGRUNUSU9OX0xPVkVfQkFTRSA9IDAuMDU7XG5jb25zdCBBRkZFQ1RJT05fTElLRV9CQVNFID0gMC4wMztcbmNvbnN0IEFGRkVDVElPTl9NQVNPX0JBU0UgPSAtMC4wNDtcblxuY29uc3QgQUZGRUNUSU9OX1pPTkVfQUZGRUNUSU9OOiBQYXJ0aWFsPFJlY29yZDxBc3NldEdyb3VwSXRlbU5hbWUsIG51bWJlcj4+ID0ge1xuICAgIEl0ZW1Bcm1zOiAxLFxuICAgIEl0ZW1Cb290czogMC44LFxuICAgIEl0ZW1CcmVhc3Q6IDEuNSxcbiAgICBJdGVtQnV0dDogMS41LFxuICAgIEl0ZW1FYXJzOiAyLjUsXG4gICAgSXRlbUZlZXQ6IDAuOCxcbiAgICBJdGVtSGFuZHM6IDEsXG4gICAgSXRlbUhlYWQ6IDMsXG4gICAgSXRlbUxlZ3M6IDEsXG4gICAgSXRlbU1vdXRoOiAyLFxuICAgIEl0ZW1OZWNrOiAxLjIsXG4gICAgSXRlbU5pcHBsZXM6IDEuNSxcbiAgICBJdGVtTm9zZTogMS43LFxuICAgIEl0ZW1QZWx2aXM6IDEuMyxcbiAgICBJdGVtVG9yc286IDEsXG4gICAgSXRlbVZ1bHZhOiAyLFxuICAgIEl0ZW1WdWx2YVBpZXJjaW5nczogMi41XG59O1xuXG5jb25zdCBNSU5fT0ZGTElORV9EUkFJTl9MRVZFTCA9IDAuMjtcblxuY29uc3QgTEFTVF9PTkxJTkVfSU5URVJWQUxfTVMgPSAxMDAwMDtcbmxldCBsYXN0T25saW5lSW50ZXJ2YWw6IG51bWJlcjtcblxuZXhwb3J0IGNvbnN0IElzU2xlZXBpbmdFeHByZXNzaW9uID0gKGNoYXI6IENoYXJhY3Rlcik6IGJvb2xlYW4gPT5cbntcbiAgICByZXR1cm4gKFxuICAgICAgICBjaGFyLkFwcGVhcmFuY2UuZmluZCgoeCkgPT4geC5Bc3NldC5Hcm91cC5OYW1lID09PSBcIkV5ZXNcIik/LlByb3BlcnR5Py5FeHByZXNzaW9uID09PSBcIkNsb3NlZFwiXG4gICAgICAgICYmIGNoYXIuQXBwZWFyYW5jZS5maW5kKCh4KSA9PiB4LkFzc2V0Lkdyb3VwLk5hbWUgPT09IFwiRXllczJcIik/LlByb3BlcnR5Py5FeHByZXNzaW9uID09PSBcIkNsb3NlZFwiXG4gICAgICAgICYmIEVNT1RJQ09OU19TTEVFUC5pbmNsdWRlcyhjaGFyLkFwcGVhcmFuY2UuZmluZCgoeCkgPT4geC5Bc3NldC5Hcm91cC5OYW1lID09PSBcIkVtb3RpY29uXCIpPy5Qcm9wZXJ0eT8uRXhwcmVzc2lvbiA/PyBcIlwiKVxuICAgICk7XG59O1xuZXhwb3J0IGNvbnN0IElzQmVkTXVsdGlwbGllciA9IChjaGFyOiBDaGFyYWN0ZXIpOiBudW1iZXIgPT5cbntcbiAgICBjb25zdCBkZXZpY2UgPSBJbnZlbnRvcnlHZXQoY2hhciwgXCJJdGVtRGV2aWNlc1wiKT8uQXNzZXQuTmFtZSA/PyBcIlwiO1xuICAgIHJldHVybiAoXG4gICAgICAgIEJFRF9QRVJGRUNULmluY2x1ZGVzKGRldmljZSkgPyAxMCA6IEJFRF9OT1JNQUwuaW5jbHVkZXMoZGV2aWNlKSA/IDUgOiBCRURfQkFELmluY2x1ZGVzKGRldmljZSkgPyAyIDogMVxuICAgICk7XG59O1xuXG5sZXQgcGxheWVyU2xlZXBpbmdFeHByZXNzaW9uID0gZmFsc2U7XG5sZXQgcGxheWVyQmVkTXVsdGlwbGllciA9IDE7XG5cbmV4cG9ydCB0eXBlIFZpcnR1YWxQZXRTdGF0Q2F0ZWdvcnkgPSBcImZvb2RcIiB8IFwid2F0ZXJcIiB8IFwic2xlZXBcIiB8IFwiYWZmZWN0aW9uXCI7XG5leHBvcnQgdHlwZSBWaXJ0dWFsUGV0SG91ckNhdGVnb3JpZXMgPSBgJHtWaXJ0dWFsUGV0U3RhdENhdGVnb3J5fUhvdXJzYDtcbmV4cG9ydCBpbnRlcmZhY2UgVmlydHVhbFBldFN0YXRcbntcbiAgICBzdGF0OiBWaXJ0dWFsUGV0U3RhdENhdGVnb3J5O1xuICAgIGxldmVsOiBudW1iZXI7XG59XG5cbmZ1bmN0aW9uIFNsZWVwQ2hhbmdlQ2hlY2soc3luYzogYm9vbGVhbiA9IHRydWUpOiB2b2lkXG57XG4gICAgaWYgKFxuICAgICAgICBQbGF5ZXJWUCgpLmVuYWJsZWRcbiAgICAgICAgJiYgUGxheWVyVlAoKS5zbGVlcEhvdXJzICE9PSAwXG4gICAgICAgICYmIChwbGF5ZXJTbGVlcGluZ0V4cHJlc3Npb24gIT09IElzU2xlZXBpbmdFeHByZXNzaW9uKFBsYXllcilcbiAgICAgICAgfHwgcGxheWVyQmVkTXVsdGlwbGllciAhPT0gSXNCZWRNdWx0aXBsaWVyKFBsYXllcikpXG4gICAgKVxuICAgIHtcbiAgICAgICAgLy8gaWYgYSBjaGFuZ2UgaW4gc2xlZXBpbmcgZXhwcmVzc2lvbiBvciBiZWQgbXVsdGlwbGllciwgc3luYyBsZXZlbHNcbiAgICAgICAgaWYgKHN5bmMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIExldmVsU3luYygpO1xuICAgICAgICB9XG4gICAgICAgIHBsYXllclNsZWVwaW5nRXhwcmVzc2lvbiA9IElzU2xlZXBpbmdFeHByZXNzaW9uKFBsYXllcik7XG4gICAgICAgIHBsYXllckJlZE11bHRpcGxpZXIgPSBJc0JlZE11bHRpcGxpZXIoUGxheWVyKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIFN0YXRNb2RpZmllcihzdGF0OiBWaXJ0dWFsUGV0U3RhdENhdGVnb3J5LCBzb3VyY2VDaGFyPzogQ2hhcmFjdGVyKTogbnVtYmVyXG57XG4gICAgbGV0IG1vZGlmaWVyID0gMTtcblxuICAgIC8vIEZyb20gb3duZXJzLCArNTAlXG4gICAgaWYgKHNvdXJjZUNoYXI/LklzT3duZXIoKSlcbiAgICB7XG4gICAgICAgIG1vZGlmaWVyICs9IDAuNTtcbiAgICB9XG4gICAgLy8gbG92ZXJzICszNSVcbiAgICBlbHNlIGlmIChzb3VyY2VDaGFyPy5Jc0xvdmVyT2ZQbGF5ZXIoKSlcbiAgICB7XG4gICAgICAgIG1vZGlmaWVyICs9IDAuMzU7XG4gICAgfVxuICAgIC8vIHN1YnMgKzI1JVxuICAgIGVsc2UgaWYgKHNvdXJjZUNoYXI/LklzRmFtaWx5T2ZQbGF5ZXIoKSlcbiAgICB7XG4gICAgICAgIG1vZGlmaWVyICs9IDAuMjU7XG4gICAgfVxuXG4gICAgLy8gSGFyZCB0byBlYXQgb3IgZHJpbmsgd2hpbGUgcmluZyBnYWdnZWRcbiAgICBpZiAoc3RhdCA9PT0gXCJmb29kXCIgfHwgc3RhdCA9PT0gXCJ3YXRlclwiKVxuICAgIHtcbiAgICAgICAgaWYgKCFQbGF5ZXIuQ2FuVGFsaygpKVxuICAgICAgICB7XG4gICAgICAgICAgICBtb2RpZmllciAtPSAwLjU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyAzJSBib251cyBmb3IgZWFjaCByZXN0cmFpbnQgd29yblxuICAgIG1vZGlmaWVyICs9IDAuMDMgKiBQbGF5ZXIuQXBwZWFyYW5jZS5maWx0ZXIoKHgpID0+IHguQXNzZXQuRHluYW1pY0dyb3VwTmFtZS5zdGFydHNXaXRoKFwiSXRlbVwiKSkubGVuZ3RoO1xuXG4gICAgLy8gNTAlIGJvbnVzIGZvciBiZWluZyBvbiBhbGwgZm91cnNcbiAgICBpZiAoUGxheWVyLlBvc2VNYXBwaW5nLkJvZHlGdWxsID09PSBcIkFsbEZvdXJzXCIpXG4gICAge1xuICAgICAgICBtb2RpZmllciArPSAwLjU7XG4gICAgfVxuXG4gICAgLy8gRm9vZCBhbmQgd2F0ZXIgbW9kaWZpZXMgYWZmZWN0aW9uIGdhaW5cbiAgICBpZiAoXG4gICAgICAgIHN0YXQgPT09IFwiYWZmZWN0aW9uXCJcbiAgICAgICAgJiYgUGxheWVyLk1QQVtNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9uc10uZW5hYmxlZFxuICAgICAgICAmJiBQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zXS5mb29kTk9XXG4gICAgKVxuICAgIHtcbiAgICAgICAgY29uc3QgbnVtczogbnVtYmVyW10gPSBbXTtcbiAgICAgICAgaWYgKFBsYXllclZQKCkuZm9vZEhvdXJzICE9PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBudW1zLnB1c2goR2V0Q2hhcmFjdGVyQ3VycmVudFN0YXRWYWx1ZShQbGF5ZXIsIFwiZm9vZFwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFBsYXllclZQKCkud2F0ZXJIb3VycyAhPT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgbnVtcy5wdXNoKEdldENoYXJhY3RlckN1cnJlbnRTdGF0VmFsdWUoUGxheWVyLCBcIndhdGVyXCIpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobnVtcy5sZW5ndGggIT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIG1vZGlmaWVyICo9IG51bXMucmVkdWNlKChzdW0sIG51bSkgPT4gc3VtICsgbnVtLCAwKSAvIG51bXMubGVuZ3RoIC8gMC43NTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBNYXRoLm1heCgwLCBtb2RpZmllcik7XG59XG5cbmZ1bmN0aW9uIFZlcmlmeVZhbGlkU3RhdChzdGF0OiBWaXJ0dWFsUGV0U3RhdENhdGVnb3J5KTogYm9vbGVhblxue1xuICAgIGNvbnN0IGxldmVsID0gUGxheWVyVlAoKS5sZXZlbHNbc3RhdF07XG4gICAgUGxheWVyVlAoKS5sZXZlbHNbc3RhdF0gPSBNYXRoLm1pbihNYXRoLm1heChsZXZlbCwgMCksIDEpO1xuICAgIHJldHVybiAwIDw9IGxldmVsICYmIGxldmVsIDw9IDE7XG59XG5cbmZ1bmN0aW9uIEhvdXJUb01TKGhvdXJzOiBudW1iZXIpXG57XG4gICAgcmV0dXJuIGhvdXJzICogNjAgKiA2MCAqIDEwMDA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDYWxjdWxhdGVDdXJyZW50VmFsdWUodmFsdWU6IG51bWJlciwgZHVyYXRpb246IG51bWJlciwgbGFzdFVwZGF0ZWQ6IG51bWJlciwgbGFzdE9ubGluZT86IG51bWJlciwgZmlyc3RSdW5DaGVjazogYm9vbGVhbiA9IGZhbHNlLCBDOiBDaGFyYWN0ZXIgPSBQbGF5ZXIpOiBudW1iZXJcbntcbiAgICAvKiogSG93IGxvbmcgaW4gbXMgaGFzIGVsYXNwZWQgc2luY2Ugbm93IG9yIGxhc3Qgb25saW5lICovXG4gICAgY29uc3QgZGlmZjogbnVtYmVyID0gKGxhc3RPbmxpbmUgPyBsYXN0T25saW5lIDogRGF0ZS5ub3coKSkgLSBsYXN0VXBkYXRlZDtcbiAgICBjb25zdCBjdXJyZW50VmFsdWUgPSBNYXRoLm1heCgwLCBNYXRoLm1pbih2YWx1ZSAtIChkaWZmIC8gSG91clRvTVMoZHVyYXRpb24pKSwgMSkpO1xuICAgIC8vIE1heCBkcmFpbiBkb3duIHRvIDIwJSB3aGlsZSBvZmZsaW5lXG4gICAgaWYgKGZpcnN0UnVuQ2hlY2sgJiYgdmFsdWUgPiBNSU5fT0ZGTElORV9EUkFJTl9MRVZFTCAmJiBjdXJyZW50VmFsdWUgPCBNSU5fT0ZGTElORV9EUkFJTl9MRVZFTClcbiAgICB7XG4gICAgICAgIGNvbnN0IGRpZmYyOiBudW1iZXIgPSBQbGF5ZXJWUChDKS5sZXZlbHMubGFzdE9ubGluZSAtIGxhc3RVcGRhdGVkO1xuICAgICAgICBjb25zdCBuZXdWYWx1ZTIgPSBNYXRoLm1heCgwLCBNYXRoLm1pbih2YWx1ZSAtIChkaWZmMiAvIEhvdXJUb01TKGR1cmF0aW9uKSksIDEpKTtcbiAgICAgICAgcmV0dXJuIE1hdGgubWluKE1JTl9PRkZMSU5FX0RSQUlOX0xFVkVMLCBuZXdWYWx1ZTIpO1xuICAgIH1cbiAgICByZXR1cm4gY3VycmVudFZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gR2V0Q2hhcmFjdGVyQ3VycmVudFN0YXRWYWx1ZShjaGFyYWN0ZXI6IENoYXJhY3Rlciwgc3RhdDogVmlydHVhbFBldFN0YXRDYXRlZ29yeSk6IG51bWJlclxue1xuICAgIGNvbnN0IGNoYXJTdGF0cyA9IGNoYXJhY3Rlcj8uTVBBPy5bTW9kdWxlVGl0bGUuVmlydHVhbFBldF07XG4gICAgaWYgKCFjaGFyU3RhdHMpXG4gICAge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgaWYgKHN0YXQgPT09IFwic2xlZXBcIilcbiAgICB7XG4gICAgICAgIGNvbnN0IGx2bCA9IChJc1NsZWVwaW5nRXhwcmVzc2lvbihjaGFyYWN0ZXIpIHx8IElzQmVkTXVsdGlwbGllcihjaGFyYWN0ZXIpICE9PSAxKSA/XG4gICAgICAgICAgICBjaGFyU3RhdHMubGV2ZWxzLnNsZWVwICsgKERhdGUubm93KCkgLSBjaGFyU3RhdHMubGV2ZWxzLmxhc3RVcGRhdGVkKSAvIChjaGFyU3RhdHMuc2xlZXBIb3VycyAqIDYwICogNjAgKiAxMDAwKSAqIElzQmVkTXVsdGlwbGllcihjaGFyYWN0ZXIpICogKElzU2xlZXBpbmdFeHByZXNzaW9uKGNoYXJhY3RlcikgPyA1IDogMSkgOlxuICAgICAgICAgICAgQ2FsY3VsYXRlQ3VycmVudFZhbHVlKGNoYXJTdGF0cy5sZXZlbHMuc2xlZXAsIGNoYXJTdGF0cy5zbGVlcEhvdXJzLCBjaGFyU3RhdHMubGV2ZWxzLmxhc3RVcGRhdGVkKTtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKDEsIGx2bCkpO1xuICAgIH1cblxuICAgIHJldHVybiBDYWxjdWxhdGVDdXJyZW50VmFsdWUoY2hhclN0YXRzLmxldmVsc1tzdGF0XSwgY2hhclN0YXRzW2Ake3N0YXR9SG91cnNgXSwgY2hhclN0YXRzLmxldmVscy5sYXN0VXBkYXRlZCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBMZXZlbFN5bmMocHVzaFRvU3RvcmFnZTogYm9vbGVhbiA9IHRydWUsIHJlY29yZFN5bmM6IGJvb2xlYW4gPSB0cnVlLCBmaXJzdFN5bmM6IGJvb2xlYW4gPSBmYWxzZSk6IHZvaWRcbntcbiAgICAvLyBWaXJ0dWFsIHBldCBpcyBub3QgZW5hYmxlZCBzbyBkbyBub3RoaW5nXG4gICAgaWYgKCFQbGF5ZXJWUCgpLmVuYWJsZWQpXG4gICAge1xuICAgICAgICBQbGF5ZXJWUCgpLmxldmVscy5sYXN0VXBkYXRlZCA9IERhdGUubm93KCk7XG4gICAgICAgIFBsYXllclZQKCkubGV2ZWxzLmxhc3RPbmxpbmUgPSBEYXRlLm5vdygpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgdXBkYXRlOiBudW1iZXIgPSBQbGF5ZXJWUCgpLmxldmVscy5sYXN0VXBkYXRlZCA/PyBEYXRlLm5vdygpO1xuICAgIGNvbnN0IG9ubGluZTogbnVtYmVyIHwgdW5kZWZpbmVkID0gIVBsYXllclZQKCkub2ZmbGluZURyYWluID8gUGxheWVyVlAoKS5sZXZlbHMubGFzdE9ubGluZSA6IHVuZGVmaW5lZDtcblxuICAgIGNvbnN0IGZvb2QgPSBQbGF5ZXJWUCgpLmZvb2RIb3VycztcbiAgICBpZiAoZm9vZCAhPT0gMClcbiAgICB7XG4gICAgICAgIFBsYXllclZQKCkubGV2ZWxzLmZvb2QgPSBDYWxjdWxhdGVDdXJyZW50VmFsdWUoUGxheWVyVlAoKS5sZXZlbHMuZm9vZCwgZm9vZCwgdXBkYXRlLCBvbmxpbmUsIGZpcnN0U3luYyk7XG4gICAgfVxuICAgIGNvbnN0IHdhdGVyID0gUGxheWVyVlAoKS53YXRlckhvdXJzO1xuICAgIGlmICh3YXRlciAhPT0gMClcbiAgICB7XG4gICAgICAgIFBsYXllclZQKCkubGV2ZWxzLndhdGVyID0gQ2FsY3VsYXRlQ3VycmVudFZhbHVlKFBsYXllclZQKCkubGV2ZWxzLndhdGVyLCB3YXRlciwgdXBkYXRlLCBvbmxpbmUsIGZpcnN0U3luYyk7XG4gICAgfVxuICAgIGNvbnN0IHNsZWVwID0gUGxheWVyVlAoKS5zbGVlcEhvdXJzO1xuICAgIGlmIChzbGVlcCAhPT0gMClcbiAgICB7XG4gICAgICAgIGlmICgoZmlyc3RTeW5jICYmICFvbmxpbmUpXG4gICAgICAgICAgfHwgcGxheWVyU2xlZXBpbmdFeHByZXNzaW9uXG4gICAgICAgICAgfHwgcGxheWVyQmVkTXVsdGlwbGllciAhPT0gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgZHVyYXRpb25Ub1VzZSA9IGZpcnN0U3luYyA/IChEYXRlLm5vdygpIC0gUGxheWVyVlAoKS5sZXZlbHMubGFzdE9ubGluZSkgLSAoUGxheWVyVlAoKS5sZXZlbHMubGFzdE9ubGluZSAtIHVwZGF0ZSkgOiBEYXRlLm5vdygpIC0gdXBkYXRlO1xuICAgICAgICAgICAgY29uc3QgbmV3U2xlZXAgPSBQbGF5ZXJWUCgpLmxldmVscy5zbGVlcCArIChkdXJhdGlvblRvVXNlKSAvIEhvdXJUb01TKHNsZWVwKSAqIHBsYXllckJlZE11bHRpcGxpZXIgKiAocGxheWVyU2xlZXBpbmdFeHByZXNzaW9uID8gNSA6IDEpO1xuICAgICAgICAgICAgUGxheWVyVlAoKS5sZXZlbHMuc2xlZXAgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCBuZXdTbGVlcCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgUGxheWVyVlAoKS5sZXZlbHMuc2xlZXAgPSBDYWxjdWxhdGVDdXJyZW50VmFsdWUoUGxheWVyVlAoKS5sZXZlbHMuc2xlZXAsIHNsZWVwLCB1cGRhdGUsIG9ubGluZSwgZmlyc3RTeW5jKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBhZmZlY3Rpb24gPSBQbGF5ZXJWUCgpLmFmZmVjdGlvbkhvdXJzO1xuICAgIGlmIChhZmZlY3Rpb24gIT09IDApXG4gICAge1xuICAgICAgICBQbGF5ZXJWUCgpLmxldmVscy5hZmZlY3Rpb24gPSBDYWxjdWxhdGVDdXJyZW50VmFsdWUoUGxheWVyVlAoKS5sZXZlbHMuYWZmZWN0aW9uLCBhZmZlY3Rpb24sIHVwZGF0ZSwgb25saW5lLCBmaXJzdFN5bmMpO1xuICAgIH1cbiAgICBQbGF5ZXJWUCgpLmxldmVscy5sYXN0VXBkYXRlZCA9IERhdGUubm93KCk7XG4gICAgUGxheWVyVlAoKS5sZXZlbHMubGFzdE9ubGluZSA9IERhdGUubm93KCk7XG4gICAgLy8gU2F2ZSB0byBsb2NhbCBzdG9yYWdlXG4gICAgaWYgKHB1c2hUb1N0b3JhZ2UpXG4gICAge1xuICAgICAgICBTYXZlU3RvcmFnZShmYWxzZSk7XG4gICAgfVxuICAgIC8vIFN5bmMgbmV3IHN0YXRzIHdpdGggb3RoZXJzXG4gICAgaWYgKHJlY29yZFN5bmMpXG4gICAge1xuICAgICAgICBSZWNvcmRTeW5jKE1vZHVsZVRpdGxlLlZpcnR1YWxQZXQsIFwibGV2ZWxzXCIpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0gc3RhdCAtIFN0YXQgdG8gbW9kaWZ5XG4gKiBAcGFyYW0gYW1vdW50IC0gTXVzdCBiZSBiZXR3ZWVuIC0xIGFuZCAxXG4gKiBAcGFyYW0gYXBwbHlNb2RpZmllciAtIElmIGFwcGx5IHRoZSBcIlBldCBsaWtlXCIgbW9kaWZpZXJcbiAqIEBwYXJhbSBzdG9yYWdlUHVzaCAtIElmIHNhdmluZyB0byBzdG9yYWdlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBNb2RpZnlTdGF0KHN0YXQ6IFZpcnR1YWxQZXRTdGF0Q2F0ZWdvcnksIGFtb3VudDogbnVtYmVyLCBhcHBseU1vZGlmaWVyID0gdHJ1ZSwgc3RvcmFnZVB1c2ggPSB0cnVlLCBzb3VyY2VDaGFyPzogQ2hhcmFjdGVyKTogdm9pZFxue1xuICAgIGlmIChhbW91bnQgPCAtMSAmJiBhbW91bnQgPiAxKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIENhbGN1bGF0ZSB0aGUgY3VycmVudCBzdGF0cyBiYXNlZCBvbiBkcmFpbiBhbmQgdGhlbiBhcHBseSBtb2RpZmljYXRpb25zIGFmdGVyIGNoYW5naW5nIHRob3NlIHZhbHVlcyBmaXJzdFxuICAgIExldmVsU3luYyhmYWxzZSwgZmFsc2UsIGZhbHNlKTtcblxuICAgIFBsYXllclZQKCkubGV2ZWxzW3N0YXRdICs9IGFtb3VudCAqICgoYXBwbHlNb2RpZmllciAmJiBhbW91bnQgPiAwKSA/IFN0YXRNb2RpZmllcihzdGF0LCBzb3VyY2VDaGFyKSA6IDEpO1xuICAgIFZlcmlmeVZhbGlkU3RhdChzdGF0KTtcblxuICAgIC8vIFNhdmUgdG8gbG9jYWwgc3RvcmFnZVxuICAgIGlmIChzdG9yYWdlUHVzaClcbiAgICB7XG4gICAgICAgIFNhdmVTdG9yYWdlKGZhbHNlKTtcbiAgICB9XG4gICAgLy8gU3luYyBuZXcgc3RhdHMgd2l0aCBvdGhlcnNcbiAgICBSZWNvcmRTeW5jKE1vZHVsZVRpdGxlLlZpcnR1YWxQZXQsIFwibGV2ZWxzXCIpO1xufVxuXG5leHBvcnQgY2xhc3MgVmlydHVhbFBldE1vZHVsZSBleHRlbmRzIE1vZHVsZVxue1xuICAgIGdldCBUaXRsZSgpOiBNb2R1bGVUaXRsZVxuICAgIHtcbiAgICAgICAgcmV0dXJuIE1vZHVsZVRpdGxlLlZpcnR1YWxQZXQ7XG4gICAgfVxuXG4gICAgZ2V0IEFjdGl2aXRpZXMoKTogQ3VzdG9tQWN0aXZpdHlbXVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBOYW1lOiBcIkJvd2xFYXRcIixcbiAgICAgICAgICAgICAgICBUYXJnZXRzOiBbe1xuICAgICAgICAgICAgICAgICAgICBncm91cDogXCJJdGVtTW91dGhcIixcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiRWF0IEZyb20gQm93bFwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25TZWxmOiBcIlNvdXJjZUNoYXJhY3RlciBlYXRzIGZyb20gUHJvbm91blBvc3Nlc3NpdmUgYm93bC5cIlxuICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgICAgIEltYWdlOiBcIkFzc2V0cy9GZW1hbGUzRENHL0l0ZW1EZXZpY2VzL1ByZXZpZXcvUGV0Qm93bC5wbmdcIixcbiAgICAgICAgICAgICAgICBQcmVyZXF1aXNpdGU6IFtcIlVzZU1vdXRoXCJdLFxuICAgICAgICAgICAgICAgIEN1c3RvbVByZXJlcXVpc2l0ZToge1xuICAgICAgICAgICAgICAgICAgICBOYW1lOiBcIkhhc0Jvd2xcIixcbiAgICAgICAgICAgICAgICAgICAgUHJlcmVxdWlzaXRlOiAoYWN0aW5nLCBfYWN0ZWQsIF9ncm91cCkgPT5cbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEludmVudG9yeUdldChhY3RpbmcsIFwiSXRlbURldmljZXNcIik/LkFzc2V0Py5OYW1lID09PSBcIlBldEJvd2xcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgT25UcmlnZ2VyOiAoKSA9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFBsYXllclZQKCkuZW5hYmxlZCAmJiBQbGF5ZXJWUCgpLmZvb2RIb3VycyAhPT0gMClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgTW9kaWZ5U3RhdChcImZvb2RcIiwgQk9XTF9DT05TVU1FX1JFQ09WRVJZLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBOYW1lOiBcIkJvd2xEcmlua1wiLFxuICAgICAgICAgICAgICAgIFRhcmdldHM6IFt7XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwOiBcIkl0ZW1Nb3V0aFwiLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJEcmluayBGcm9tIEJvd2xcIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uU2VsZjogXCJTb3VyY2VDaGFyYWN0ZXIgZHJpbmtzIGZyb20gUHJvbm91blBvc3Nlc3NpdmUgYm93bC5cIlxuICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgICAgIEltYWdlOiBcIkFzc2V0cy9GZW1hbGUzRENHL0l0ZW1EZXZpY2VzL1ByZXZpZXcvUGV0Qm93bC5wbmdcIixcbiAgICAgICAgICAgICAgICBQcmVyZXF1aXNpdGU6IFtcIlVzZU1vdXRoXCJdLFxuICAgICAgICAgICAgICAgIEN1c3RvbVByZXJlcXVpc2l0ZToge1xuICAgICAgICAgICAgICAgICAgICBOYW1lOiBcIkhhc0Jvd2xcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgT25UcmlnZ2VyOiAoKSA9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFBsYXllclZQKCkuZW5hYmxlZCAmJiBQbGF5ZXJWUCgpLndhdGVySG91cnMgIT09IDApXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE1vZGlmeVN0YXQoXCJ3YXRlclwiLCBCT1dMX0NPTlNVTUVfUkVDT1ZFUlksIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIE5hbWU6IFwiQm93bEVhdDJcIixcbiAgICAgICAgICAgICAgICBUYXJnZXRzOiBbe1xuICAgICAgICAgICAgICAgICAgICBncm91cDogXCJJdGVtTW91dGhcIixcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiRWF0IEZyb20gQm93bFwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25TZWxmOiBcIlNvdXJjZUNoYXJhY3RlciBwdXRzIFByb25vdW5Qb3NzZXNzaXZlIGhlYWQgaW50byBQcm9ub3VuUG9zc2Vzc2l2ZSBib3dsIGluIG9yZGVyIHRvIGVhdCB3aXRoIHRoZSBnYWcsIG1ha2luZyBhIG1lc3MuXCJcbiAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgICAgICBJbWFnZTogXCJBc3NldHMvRmVtYWxlM0RDRy9JdGVtRGV2aWNlcy9QcmV2aWV3L1BldEJvd2wucG5nXCIsXG4gICAgICAgICAgICAgICAgUHJlcmVxdWlzaXRlOiBbXSxcbiAgICAgICAgICAgICAgICBDdXN0b21QcmVyZXF1aXNpdGU6IFtcbiAgICAgICAgICAgICAgICAgICAgeyBOYW1lOiBcIkhhc0Jvd2xcIiB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBOYW1lOiBcIlVzZVRvbmd1ZU5vTW91dGhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogKGFjdGluZywgX2FjdGVkLCBfZ3JvdXApID0+XG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFhY3RpbmcuQ2FuVGFsaygpICYmICFhY3RpbmcuSXNNb3V0aEJsb2NrZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgT25UcmlnZ2VyOiAoKSA9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFBsYXllclZQKCkuZW5hYmxlZCAmJiBQbGF5ZXJWUCgpLmZvb2RIb3VycyAhPT0gMClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgTW9kaWZ5U3RhdChcImZvb2RcIiwgQk9XTF9DT05TVU1FX1JFQ09WRVJZLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBOYW1lOiBcIkJvd2xEcmluazJcIixcbiAgICAgICAgICAgICAgICBUYXJnZXRzOiBbe1xuICAgICAgICAgICAgICAgICAgICBncm91cDogXCJJdGVtTW91dGhcIixcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiRHJpbmsgRnJvbSBCb3dsXCIsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvblNlbGY6IFwiU291cmNlQ2hhcmFjdGVyIHB1dHMgUHJvbm91blBvc3Nlc3NpdmUgaGVhZCBpbnRvIFByb25vdW5Qb3NzZXNzaXZlIGJvd2wgaW4gb3JkZXIgdG8gZHJpbmsgd2l0aCB0aGUgZ2FnLCBtYWtpbmcgYSBtZXNzLlwiXG4gICAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAgICAgSW1hZ2U6IFwiQXNzZXRzL0ZlbWFsZTNEQ0cvSXRlbURldmljZXMvUHJldmlldy9QZXRCb3dsLnBuZ1wiLFxuICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogW10sXG4gICAgICAgICAgICAgICAgQ3VzdG9tUHJlcmVxdWlzaXRlOiBbXG4gICAgICAgICAgICAgICAgICAgIHsgTmFtZTogXCJIYXNCb3dsXCIgfSxcbiAgICAgICAgICAgICAgICAgICAgeyBOYW1lOiBcIlVzZVRvbmd1ZU5vTW91dGhcIiB9XG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICBPblRyaWdnZXI6ICgpID0+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoUGxheWVyVlAoKS5lbmFibGVkICYmIFBsYXllclZQKCkud2F0ZXJIb3VycyAhPT0gMClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgTW9kaWZ5U3RhdChcIndhdGVyXCIsIEJPV0xfQ09OU1VNRV9SRUNPVkVSWSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgZ2V0IFNldHRpbmdzKCk6IFNldHRpbmdbXVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImVuYWJsZWRcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gIUlzSGFyZGNvcmVPbihDKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQmVjb21lIGEgdmlydHVhbCBwZXQhIFJlcXVpcmluZzogZm9vZCwgd2F0ZXIsIHNsZWVwLCBhbmQgYWZmZWN0aW9uXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJmb29kSG91cnNcIiBhcyBWaXJ0dWFsUGV0SG91ckNhdGVnb3JpZXMsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJudW1iZXJcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogNCxcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiSG93IG1hbnkgaG91cnMgdW50aWwgeW91IGFyZSBjb21wbGV0ZWx5IG91dCBvZiBmb29kOyAwIHRvIGRpc2FibGVcIixcbiAgICAgICAgICAgICAgICB3aWR0aDogMTI4LFxuICAgICAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgICAgICBtYXg6IE1BWF9TRVRUSU5HX1RJTUVfSE9VUlMsXG4gICAgICAgICAgICAgICAgc3RlcDogMC4xXG4gICAgICAgICAgICB9IGFzIE51bWJlclNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIndhdGVySG91cnNcIiBhcyBWaXJ0dWFsUGV0SG91ckNhdGVnb3JpZXMsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJudW1iZXJcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogNCxcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiSG93IG1hbnkgaG91cnMgdW50aWwgeW91IGFyZSBjb21wbGV0ZWx5IG91dCBvZiB3YXRlcjsgMCB0byBkaXNhYmxlXCIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IDEyOCxcbiAgICAgICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICAgICAgbWF4OiBNQVhfU0VUVElOR19USU1FX0hPVVJTLFxuICAgICAgICAgICAgICAgIHN0ZXA6IDAuMVxuICAgICAgICAgICAgfSBhcyBOdW1iZXJTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJzbGVlcEhvdXJzXCIgYXMgVmlydHVhbFBldEhvdXJDYXRlZ29yaWVzLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IDgsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkhvdyBtYW55IGhvdXJzIHVudGlsIHlvdSBhcmUgY29tcGxldGVseSBvdXQgb2Ygc2xlZXA7IDAgdG8gZGlzYWJsZVwiLFxuICAgICAgICAgICAgICAgIHdpZHRoOiAxMjgsXG4gICAgICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgICAgIG1heDogTUFYX1NFVFRJTkdfVElNRV9IT1VSUyxcbiAgICAgICAgICAgICAgICBzdGVwOiAwLjFcbiAgICAgICAgICAgIH0gYXMgTnVtYmVyU2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiYWZmZWN0aW9uSG91cnNcIiBhcyBWaXJ0dWFsUGV0SG91ckNhdGVnb3JpZXMsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJudW1iZXJcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogNCxcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiSG93IG1hbnkgaG91cnMgdW50aWwgeW91IGFyZSBjb21wbGV0ZWx5IG91dCBvZiBhZmZlY3Rpb247IDAgdG8gZGlzYWJsZVwiLFxuICAgICAgICAgICAgICAgIHdpZHRoOiAxMjgsXG4gICAgICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgICAgIG1heDogTUFYX1NFVFRJTkdfVElNRV9IT1VSUyxcbiAgICAgICAgICAgICAgICBzdGVwOiAwLjFcbiAgICAgICAgICAgIH0gYXMgTnVtYmVyU2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwib2ZmbGluZURyYWluXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJTdGF0cyBkcmFpbiBldmVuIHdoZW4gbG9nZ2VkIG91dCBvZiB0aGUgY2x1YlwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwibm9IYW5kc1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQgJiYgIUlzSGFyZGNvcmVPbihDKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBlYXRpbmcgb3IgZHJpbmtpbmcgZnJvbSBpdGVtcyBpbiB5b3VyIE9XTiBoYW5kc1wiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwibWFzb2NoaXN0XCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiTWFzb2NoaXN0IHBldDsgQWJ1c2UgcmFpc2VzIGFmZmVjdGlvblwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwibGV2ZWxzXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJyZWNvcmRcIixcbiAgICAgICAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgICAgICAgICBmb29kOiAxLFxuICAgICAgICAgICAgICAgICAgICB3YXRlcjogMSxcbiAgICAgICAgICAgICAgICAgICAgc2xlZXA6IDEsXG4gICAgICAgICAgICAgICAgICAgIGFmZmVjdGlvbjogMSxcbiAgICAgICAgICAgICAgICAgICAgbGFzdFVwZGF0ZWQ6IERhdGUubm93KCksXG4gICAgICAgICAgICAgICAgICAgIGxhc3RPbmxpbmU6IERhdGUubm93KClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGFzIFNldHRpbmdcbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBMb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLkxvYWQoKTtcblxuICAgICAgICAvLyBMb2dpbiBsZXZlbCBzeW5jXG4gICAgICAgIFNsZWVwQ2hhbmdlQ2hlY2soZmFsc2UpO1xuICAgICAgICBMZXZlbFN5bmModHJ1ZSwgZmFsc2UsIHRydWUpO1xuICAgICAgICBsYXN0T25saW5lSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoUGxheWVyLk1lbWJlck51bWJlcilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBQbGF5ZXIuTVBBW3RoaXMuVGl0bGVdLmxldmVscy5sYXN0T25saW5lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgICAgICBTYXZlU3RvcmFnZShmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIExBU1RfT05MSU5FX0lOVEVSVkFMX01TKTtcblxuICAgICAgICAvLyBOb21zIGFuZCBkcmlua3NcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiQ2hhdFJvb21NZXNzYWdlXCIsIDAsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXJnc1swXTtcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2aXR5TmFtZSA9IEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIkFjdGl2aXR5TmFtZVwiKTtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAhUGxheWVyVlAoKS5lbmFibGVkXG4gICAgICAgICAgICAgICAgfHwgKCFQbGF5ZXJWUCgpLm5vSGFuZHNcbiAgICAgICAgICAgICAgICAmJiBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJTb3VyY2VDaGFyYWN0ZXJcIikgPT09IFBsYXllci5NZW1iZXJOdW1iZXIpXG4gICAgICAgICAgICAgICAgfHwgZGF0YS5UeXBlICE9PSBcIkFjdGl2aXR5XCJcbiAgICAgICAgICAgICAgICB8fCBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJUYXJnZXRDaGFyYWN0ZXJcIikgIT09IFBsYXllci5NZW1iZXJOdW1iZXJcbiAgICAgICAgICAgICAgICB8fCBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJGb2N1c0dyb3VwTmFtZVwiKSAhPT0gXCJJdGVtTW91dGhcIlxuICAgICAgICAgICAgICAgIHx8ICFhY3Rpdml0eU5hbWVcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gR2V0IGFjdGl2aXR5IGFuZCBjaGVjayBwcmVyZXF1aXNpdGVzXG4gICAgICAgICAgICBjb25zdCBhY3Rpdml0eSA9IEFjdGl2aXR5RmVtYWxlM0RDRy5maW5kKCh4KSA9PiB4Lk5hbWUgPT09IGFjdGl2aXR5TmFtZSk7XG5cbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBQbGF5ZXJWUCgpLmZvb2RIb3VycyAhPT0gMFxuICAgICAgICAgICAgICAgICYmIChhY3Rpdml0eT8uUHJlcmVxdWlzaXRlPy5pbmNsdWRlcyhcIk5lZWRzLUVhdEl0ZW1cIilcbiAgICAgICAgICAgICAgICB8fCBBQ1RJVklUSUVTX0ZPT0RfR0FJTi5zb21lKCh4KSA9PiBhY3Rpdml0eT8uTmFtZSA9PT0geCkpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgTW9kaWZ5U3RhdChcImZvb2RcIiwgSVRFTV9DT05VTUVfUkVDT1ZFUlksIHRydWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgUGxheWVyVlAoKS53YXRlckhvdXJzICE9PSAwXG4gICAgICAgICAgICAgICAgJiYgKGFjdGl2aXR5Py5QcmVyZXF1aXNpdGU/LmluY2x1ZGVzKFwiTmVlZHMtU2lwSXRlbVwiKVxuICAgICAgICAgICAgICAgIHx8IEFDVElWSVRJRVNfV0FURVJfR0FJTi5zb21lKCh4KSA9PiBhY3Rpdml0eT8uTmFtZSA9PT0geCkpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgTW9kaWZ5U3RhdChcIndhdGVyXCIsIElURU1fQ09OVU1FX1JFQ09WRVJZLCB0cnVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFNsZWVwXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIkNoYXJhY3RlclJlZnJlc2hcIiwgMCwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChhcmdzWzBdLk1lbWJlck51bWJlciA9PT0gUGxheWVyLk1lbWJlck51bWJlcilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBTbGVlcENoYW5nZUNoZWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQWZmZWN0aW9uXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIkNoYXRSb29tTWVzc2FnZVwiLCAwLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGFyZ3NbMF07XG4gICAgICAgICAgICBjb25zdCBhY3Rpdml0eU5hbWUgPSBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJBY3Rpdml0eU5hbWVcIik7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgIVBsYXllclZQKCkuZW5hYmxlZFxuICAgICAgICAgICAgICAgIHx8IFBsYXllclZQKCkuYWZmZWN0aW9uSG91cnMgPT09IDBcbiAgICAgICAgICAgICAgICB8fCBkYXRhLlR5cGUgIT09IFwiQWN0aXZpdHlcIlxuICAgICAgICAgICAgICAgIHx8IEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIlRhcmdldENoYXJhY3RlclwiKSAhPT0gUGxheWVyLk1lbWJlck51bWJlclxuICAgICAgICAgICAgICAgIHx8IEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIlNvdXJjZUNoYXJhY3RlclwiKSA9PT0gUGxheWVyLk1lbWJlck51bWJlclxuICAgICAgICAgICAgICAgIHx8ICFhY3Rpdml0eU5hbWVcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgZ3JvdXAgPSBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJGb2N1c0dyb3VwTmFtZVwiKSBhcyBzdHJpbmcgPz8gXCJcIjtcbiAgICAgICAgICAgIGNvbnN0IGdyb3VwTXVsdCA9IEFGRkVDVElPTl9aT05FX0FGRkVDVElPTltncm91cF0gPz8gMTtcbiAgICAgICAgICAgIGlmIChBRkZFQ1RJT05fQUNUSVZJVFlfTE9WRS5pbmNsdWRlcyhhY3Rpdml0eU5hbWUpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIE1vZGlmeVN0YXQoXCJhZmZlY3Rpb25cIiwgQUZGRUNUSU9OX0xPVkVfQkFTRSAqIGdyb3VwTXVsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChBRkZFQ1RJT05fQUNUSVZJVFlfTElLRS5pbmNsdWRlcyhhY3Rpdml0eU5hbWUpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIE1vZGlmeVN0YXQoXCJhZmZlY3Rpb25cIiwgQUZGRUNUSU9OX0xJS0VfQkFTRSAqIGdyb3VwTXVsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChBRkZFQ1RJT05fQUNUSVZJVFlfTUFTTy5pbmNsdWRlcyhhY3Rpdml0eU5hbWUpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIE1vZGlmeVN0YXQoXCJhZmZlY3Rpb25cIiwgKFBsYXllclZQKCkubWFzb2NoaXN0ID8gLTEgOiAxKSAqIEFGRkVDVElPTl9NQVNPX0JBU0UgKiBncm91cE11bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIFVubG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5VbmxvYWQoKTtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChsYXN0T25saW5lSW50ZXJ2YWwpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFJhbmRvbUVsZW1lbnQgfSBmcm9tIFwiLi4vdXRpbC9nZW5lcmFsXCI7XG5pbXBvcnQgeyBTZW5kQWN0aW9uIH0gZnJvbSBcIi4uL3V0aWwvbWVzc2FnaW5nXCI7XG5pbXBvcnQgeyBIb29rRnVuY3Rpb24gfSBmcm9tIFwiLi4vdXRpbC9zZGtcIjtcbmltcG9ydCB7IE1vZHVsZSwgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi9fbW9kdWxlXCI7XG5pbXBvcnQgeyBJc0hhcmRjb3JlT24gfSBmcm9tIFwiLi9wcm9maWxlXCI7XG5pbXBvcnQgeyBHZXRDaGFyYWN0ZXJDdXJyZW50U3RhdFZhbHVlLCBWaXJ0dWFsUGV0U3RhdENhdGVnb3J5IH0gZnJvbSBcIi4vdmlydHVhbFBldFwiO1xuXG5jb25zdCBQbGF5ZXJWUDogKEM/OiBDaGFyYWN0ZXIpID0+IE1QQVJlY29yZCA9IChDOiBDaGFyYWN0ZXIgPSBQbGF5ZXIpID0+XG57XG4gICAgcmV0dXJuIEMuTVBBPy5bTW9kdWxlVGl0bGUuVmlydHVhbFBldF0gPz8ge307XG59O1xuXG5jb25zdCBQbGF5ZXJWUEM6IChDPzogQ2hhcmFjdGVyKSA9PiBNUEFSZWNvcmQgPSAoQzogQ2hhcmFjdGVyID0gUGxheWVyKSA9Plxue1xuICAgIHJldHVybiBDLk1QQT8uW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zXSA/PyB7fTtcbn07XG5cbi8qKlxuICogQ2hlY2sgaWYgYSBjb25kaXRpb24gaXMgY3VycmVudGx5IGVuZm9yY2VkLCBjaGVja2luZyBpZiBlbmFibGVkIGFuZCBpZiBpdCByZWxpZXMgb24gYSBWUCBzdGF0LCB0aGF0IHRoZSBzdGF0IGlzIHNldFxuICovXG5mdW5jdGlvbiBDb25kaXRpb25Jc0VuZm9yY2VkKGNvbmRpdGlvbjogc3RyaW5nLCB2cFN0YXROZWVkVG9CZUVuYWJsZWQ/OiBWaXJ0dWFsUGV0U3RhdENhdGVnb3J5KTogYm9vbGVhblxue1xuICAgIGlmICghUGxheWVyVlBDKCkuZW5hYmxlZCB8fCAhKFBsYXllclZQQygpW2NvbmRpdGlvbl0pKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gKCF2cFN0YXROZWVkVG9CZUVuYWJsZWQgfHwgKFBsYXllclZQKCkuZW5hYmxlZCAmJiBQbGF5ZXJWUCgpPy5bYCR7dnBTdGF0TmVlZFRvQmVFbmFibGVkfUhvdXJzYF0gIT09IDApKTtcbn07XG5cbi8qKiBbU2tpbGwsIHBvc3RpdmUgb3IgbmVnYXRpdmUgY29ycmxhdGlvbl0gKi9cbmNvbnN0IEFGRkVDVElPTl9TS0lMTFM6IFtTa2lsbFR5cGUsIGJvb2xlYW5dW10gPVxuW1xuICAgIFtcIlNlbGZCb25kYWdlXCIsIHRydWVdLFxuICAgIFtcIldpbGxwb3dlclwiLCB0cnVlXSxcbiAgICBbXCJCb25kYWdlXCIsIGZhbHNlXSxcbiAgICBbXCJFdmFzaW9uXCIsIGZhbHNlXSxcbiAgICBbXCJMb2NrUGlja2luZ1wiLCBmYWxzZV1cbl07XG5cbmludGVyZmFjZSBPblN0YXRDaGFuZ2VFdmVudFxue1xuICAgIHN0YXQ6IFZpcnR1YWxQZXRTdGF0Q2F0ZWdvcnk7XG4gICAgdGhyZXNoaG9sZDogbnVtYmVyO1xuICAgIGNoYW5nZTogXCJyaXNpbmdcIiB8IFwiZmFsbGluZ1wiIHwgXCJib3RoXCI7XG4gICAgYWN0aW9uOiAoKSA9PiB2b2lkO1xuICAgIGZpcnN0UnVuPzogKCkgPT4gdm9pZDtcbn1cbmNvbnN0IHByZXZpb3VzU3RhdHM6IFJlY29yZDxWaXJ0dWFsUGV0U3RhdENhdGVnb3J5LCBudW1iZXI+ID0ge1xuICAgIGZvb2Q6IC0xLFxuICAgIHdhdGVyOiAtMSxcbiAgICBzbGVlcDogLTEsXG4gICAgYWZmZWN0aW9uOiAtMVxufTtcbmxldCBvblN0YXRMZXZlbDogT25TdGF0Q2hhbmdlRXZlbnRbXSA9IFtdO1xuLy8gTGlzdGVucyBmb3IgY2hhbmdlcyBldmVyeSB+MS41IHNlY29uZHNcbmNvbnN0IFNUQVRfQ09VTlRfTUFYID0gMjUwO1xubGV0IHN0YXRDb3VudCA9IFNUQVRfQ09VTlRfTUFYO1xuZXhwb3J0IGZ1bmN0aW9uIENvbmRpdGlvbkNoZWNrKCk6IHZvaWRcbntcbiAgICAoW1wiZm9vZFwiLCBcIndhdGVyXCIsIFwiYWZmZWN0aW9uXCIsIFwic2xlZXBcIl0gYXMgVmlydHVhbFBldFN0YXRDYXRlZ29yeVtdKS5mb3JFYWNoKChjYXRlZ29yeSkgPT5cbiAgICB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIFBsYXllclZQKCkuZW5hYmxlZFxuICAgICAgICAgICAgJiYgUGxheWVyVlBDKCkuZW5hYmxlZFxuICAgICAgICAgICAgJiYgUGxheWVyVlAoKVtgJHtjYXRlZ29yeX1Ib3Vyc2BdICE9PSAwXG4gICAgICAgIClcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgcHJldlZhbHVlID0gcHJldmlvdXNTdGF0c1tjYXRlZ29yeV07XG4gICAgICAgICAgICBjb25zdCBjdXJyVmFsdWUgPSBHZXRDaGFyYWN0ZXJDdXJyZW50U3RhdFZhbHVlKFBsYXllciwgY2F0ZWdvcnkpO1xuICAgICAgICAgICAgb25TdGF0TGV2ZWwuZm9yRWFjaCgoY2hhbmdlRXZlbnQpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VFdmVudC5zdGF0ID09PSBjYXRlZ29yeVxuICAgICAgICAgICAgICAgICAgICAmJiBwcmV2VmFsdWUgPT09IC0xXG4gICAgICAgICAgICAgICAgICAgICYmICEhY2hhbmdlRXZlbnQuZmlyc3RSdW5cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VFdmVudC5maXJzdFJ1bigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZUV2ZW50LnN0YXQgPT09IGNhdGVnb3J5XG4gICAgICAgICAgICAgICAgICAgICYmIHByZXZWYWx1ZSAhPT0gLTFcbiAgICAgICAgICAgICAgICAgICAgJiYgcHJldlZhbHVlID4gY3VyclZhbHVlIC8vIEZhbGxpbmdcbiAgICAgICAgICAgICAgICAgICAgJiYgY2hhbmdlRXZlbnQuY2hhbmdlICE9PSBcInJpc2luZ1wiXG4gICAgICAgICAgICAgICAgICAgICYmIGN1cnJWYWx1ZSA8PSBjaGFuZ2VFdmVudC50aHJlc2hob2xkXG4gICAgICAgICAgICAgICAgICAgICYmIGNoYW5nZUV2ZW50LnRocmVzaGhvbGQgPCBwcmV2VmFsdWVcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VFdmVudC5hY3Rpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VFdmVudC5zdGF0ID09PSBjYXRlZ29yeVxuICAgICAgICAgICAgICAgICAgICAmJiBwcmV2VmFsdWUgIT09IC0xXG4gICAgICAgICAgICAgICAgICAgICYmIHByZXZWYWx1ZSA8IGN1cnJWYWx1ZSAvLyBSaXNpbmdcbiAgICAgICAgICAgICAgICAgICAgJiYgY2hhbmdlRXZlbnQuY2hhbmdlICE9PSBcImZhbGxpbmdcIlxuICAgICAgICAgICAgICAgICAgICAmJiBwcmV2VmFsdWUgPCBjaGFuZ2VFdmVudC50aHJlc2hob2xkXG4gICAgICAgICAgICAgICAgICAgICYmIGNoYW5nZUV2ZW50LnRocmVzaGhvbGQgPD0gY3VyclZhbHVlXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlRXZlbnQuYWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwcmV2aW91c1N0YXRzW2NhdGVnb3J5XSA9IGN1cnJWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHByZXZpb3VzU3RhdHNbY2F0ZWdvcnldID0gLTE7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuY29uc3QgU0xFRVBfVElOVCA9IHtcbiAgICBzdGF0OiBcInNsZWVwXCIgYXMgVmlydHVhbFBldFN0YXRDYXRlZ29yeSxcbiAgICBzdGFydExldmVsOiAwLjI1LFxuICAgIGVuZExldmVsOiAwLFxuICAgIG1pblRpbnQ6IDAsXG4gICAgbWF4VGludDogMVxufTtcblxubGV0IHBhc3NlZE91dCA9IGZhbHNlO1xuY29uc3QgUEFTU09VVF9UQUxLX1JFUExBQ0U6IHN0cmluZ1tdID0gW1xuICAgIFwiU291cmNlQ2hhcmFjdGVyIGRyb29scyBvdXQgb2YgdGhlIGNvcm5lciBvZiBQcm9ub3VuUG9zc2Vzc2l2ZSBsaXAgYXMgUHJvbm91blN1YmplY3Qgc2xlZXBzLlwiLFxuICAgIFwiU291cmNlQ2hhcmFjdGVyIG11bWJsZXMgcXVpZXRseSBpbiBQcm9ub3VuUG9zc2Vzc2l2ZSBzbHVtYmVyLlwiLFxuICAgIFwiU291cmNlQ2hhcmFjdGVyIHJlc3RzIHBlYWNlZnVsbHkuXCJcbl07XG5mdW5jdGlvbiBNUEFQYXNzb3V0KCk6IHZvaWRcbntcbiAgICBDaGFyYWN0ZXJTZXRGYWNpYWxFeHByZXNzaW9uKFBsYXllciwgXCJFbW90aWNvblwiLCBcIlNsZWVwXCIpO1xuICAgIENoYXJhY3RlclNldEZhY2lhbEV4cHJlc3Npb24oUGxheWVyLCBcIkV5ZXNcIiwgXCJDbG9zZWRcIik7XG4gICAgQ2hhcmFjdGVyU2V0RmFjaWFsRXhwcmVzc2lvbihQbGF5ZXIsIFwiRmx1aWRzXCIsIFwiRHJvb2xNZWRpdW1cIik7XG4gICAgaWYgKFBsYXllci5DYW5LbmVlbCgpKVxuICAgIHtcbiAgICAgICAgUG9zZVNldEFjdGl2ZShQbGF5ZXIsIFwiS25lZWxcIiwgdHJ1ZSk7XG4gICAgfVxuICAgIHBhc3NlZE91dCA9IHRydWU7XG5cbiAgICBjb25zdCBzbGVlcE1vZHVsZSA9IFBsYXllcj8uTFNDRz8uU3RhdGVNb2R1bGU/LnN0YXRlcz8uZmluZCgoeCkgPT4geC50eXBlID09PSBcImFzbGVlcFwiKTtcbiAgICBpZiAoUGxheWVyVlBDKCkucGFzc291dExTQ0cgJiYgc2xlZXBNb2R1bGUpXG4gICAge1xuICAgICAgICAvKlxuICAgICAgICB0aGlzLnN0YXRlTW9kdWxlLlNsZWVwU3RhdGUuQWN0aXZhdGUodW5kZWZpbmVkLCB1bmRlZmluZWQsIGRvRW1vdGUpO1xuICAgICAgICB0aGlzLnNldHRpbmdzLnN0YXRzLnNlZGF0ZWRDb3VudCsrO1xuICAgICAgICBBY3RpdmF0ZShtZW1iZXJOdW1iZXI/OiBudW1iZXIsIGR1cmF0aW9uPzogbnVtYmVyLCBlbW90ZT86IGJvb2xlYW4pOiBCYXNlU3RhdGUgfCB1bmRlZmluZWQge1xuICAgICAgICAgICAgaWYgKCF0aGlzLkFjdGl2ZSkge1xuICAgICAgICAgICAgICAgIGlmIChlbW90ZSlcbiAgICAgICAgICAgICAgICAgICAgU2VuZEFjdGlvbihcIiVOQU1FJSBzbHVtcHMgd2Vha2x5IGFzICVQUk9OT1VOJSBzbGlwcyBpbnRvIHVuY29uY2lvdXNuZXNzLlwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLlNldFNsZWVwRXhwcmVzc2lvbigpO1xuICAgICAgICAgICAgICAgIHRoaXMuRmFsbERvd25JZlBvc3NpYmxlKCk7XG4gICAgICAgICAgICAgICAgYWRkQ3VzdG9tRWZmZWN0KFBsYXllciwgXCJGb3JjZUtuZWVsXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBzdXBlci5BY3RpdmF0ZShtZW1iZXJOdW1iZXIsIGR1cmF0aW9uLCBlbW90ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgQWN0aXZhdGUobWVtYmVyTnVtYmVyPzogbnVtYmVyLCBkdXJhdGlvbj86IG51bWJlciwgZW1vdGU/OiBib29sZWFuKTogQmFzZVN0YXRlIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5hY3RpdmF0ZWRBdCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICAgICAgdGhpcy5jb25maWcuYWN0aXZhdGVkQnkgPSBtZW1iZXJOdW1iZXIgPz8gLTE7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5hY3RpdmF0aW9uQ291bnQrKztcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLmR1cmF0aW9uID0gZHVyYXRpb247XG5cbiAgICAgICAgICAgIHNldHRpbmdzU2F2ZSh0cnVlKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgICovXG4gICAgICAgIGNvbnNvbGUubG9nKFwiQ2FsbGluZyBMU0NHIHBhc3NvdXRcIik7XG4gICAgfVxuICAgIFNlbmRBY3Rpb24oXCJTb3VyY2VDaGFyYWN0ZXIgcGFzc2VzIG91dCBmcm9tIGV4aGF1c3Rpb24uXCIsIHVuZGVmaW5lZCwgW3sgU291cmNlQ2hhcmFjdGVyOiBQbGF5ZXIuTWVtYmVyTnVtYmVyIH0gYXMgU291cmNlQ2hhcmFjdGVyRGljdGlvbmFyeUVudHJ5XSk7XG59XG5mdW5jdGlvbiBNUEFXYWtldXAoKTogdm9pZFxue1xuICAgIENoYXJhY3RlclNldEZhY2lhbEV4cHJlc3Npb24oUGxheWVyLCBcIkVtb3RpY29uXCIsIG51bGwpO1xuICAgIENoYXJhY3RlclNldEZhY2lhbEV4cHJlc3Npb24oUGxheWVyLCBcIkV5ZXNcIiwgXCJEYXplZFwiKTtcbiAgICBDaGFyYWN0ZXJTZXRGYWNpYWxFeHByZXNzaW9uKFBsYXllciwgXCJFeWVicm93c1wiLCBcIkxvd2VyZWRcIik7XG5cbiAgICBwYXNzZWRPdXQgPSBmYWxzZTtcbiAgICBTZW5kQWN0aW9uKFwiU291cmNlQ2hhcmFjdGVyIHdha2VzIHVwIGZyb20gUHJvbm91blBvc3Nlc3NpdmUgbmFwLlwiLCB1bmRlZmluZWQsIFt7IFNvdXJjZUNoYXJhY3RlcjogUGxheWVyLk1lbWJlck51bWJlciB9IGFzIFNvdXJjZUNoYXJhY3RlckRpY3Rpb25hcnlFbnRyeV0pO1xufVxuZnVuY3Rpb24gUGFzc291dENoZWNrKCk6IGJvb2xlYW5cbntcbiAgICByZXR1cm4gKFBsYXllclZQQygpLmVuYWJsZWRcbiAgICAgICYmIFBsYXllclZQKCkuc2xlZXBIb3VycyAhPT0gMFxuICAgICAgJiYgUGxheWVyVlBDKCkucGFzc291dFxuICAgICAgJiYgIVBsYXllclZQQygpLnBhc3NvdXRMU0NHXG4gICAgICAmJiBwYXNzZWRPdXQpO1xufVxuXG5sZXQgYWZmZWN0aW9uQ2hlY2tJbnRlcnZhbDogbnVtYmVyO1xuY29uc3Qgc2tpbGxEdXJhdGlvbk1TID0gMTUwMDA7XG5mdW5jdGlvbiBBZmZlY3Rpb25Ta2lsbENoZWNrKCk6IHZvaWRcbntcbiAgICBpZiAoXG4gICAgICAgICFQbGF5ZXJWUCgpLmVuYWJsZWRcbiAgICAgICAgfHwgUGxheWVyVlAoKS5hZmZlY3Rpb25Ib3VycyA9PT0gMFxuICAgICAgICB8fCAhUGxheWVyVlBDKCkuZW5hYmxlZFxuICAgIClcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBBRkZFQ1RJT05fU0tJTExTLmZvckVhY2goKFtza2lsbCwgdHlwZV0pID0+XG4gICAge1xuICAgICAgICBjb25zdCBhZmZlY3Rpb24gPSBHZXRDaGFyYWN0ZXJDdXJyZW50U3RhdFZhbHVlKFBsYXllciwgXCJhZmZlY3Rpb25cIik7XG4gICAgICAgIGNvbnN0IGFmZmVjdGlvbk1vZGlmaWVyID0gTWF0aC5yb3VuZCgoKChhZmZlY3Rpb24pICogKDUgLSAoLTUpKSkgLyAoMSkgKyAoLTUpKSAqICh0eXBlID8gMSA6IC0xKSAqIDEwMCkgLyAxMDA7XG5cbiAgICAgICAgY29uc3QgcHJldk1vZCA9IFNraWxsR2V0TW9kaWZpZXIoUGxheWVyLCBza2lsbCk7XG4gICAgICAgIGNvbnN0IGR1cmF0aW9uID0gU2tpbGxHZXRNb2RpZmllckR1cmF0aW9uKFBsYXllciwgc2tpbGwpICE9PSAwID8gU2tpbGxHZXRNb2RpZmllckR1cmF0aW9uKFBsYXllciwgc2tpbGwpIDogc2tpbGxEdXJhdGlvbk1TO1xuICAgICAgICBpZiAoYWZmZWN0aW9uTW9kaWZpZXIgPiAwICYmIFBsYXllclZQQygpLmFmZmVjdGlvblNraWxsQnVmZnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIFNraWxsU2V0TW9kaWZpZXIoUGxheWVyLCBza2lsbCwgcHJldk1vZCArIGFmZmVjdGlvbk1vZGlmaWVyLCBkdXJhdGlvbiwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhZmZlY3Rpb25Nb2RpZmllciA8IDAgJiYgUGxheWVyVlBDKCkuYWZmZWN0aW9uU2tpbGxEZWJ1ZmZzKVxuICAgICAgICB7XG4gICAgICAgICAgICBTa2lsbFNldE1vZGlmaWVyKFBsYXllciwgc2tpbGwsIHByZXZNb2QgKyBhZmZlY3Rpb25Nb2RpZmllciwgZHVyYXRpb24sIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5jb25zdCBNQVhfU0xPV19MRUFWRV9EVVJBVElPTl9TRUMgPSAyNTtcbmNvbnN0IFNMT1dfTEVBVkVfTEVWRUxfU1RBUlQgPSAwLjM7XG5cbmV4cG9ydCBjbGFzcyBWaXJ0dWFsUGV0Q29uZGl0aW9uc01vZHVsZSBleHRlbmRzIE1vZHVsZVxue1xuICAgIGdldCBUaXRsZSgpOiBNb2R1bGVUaXRsZVxuICAgIHtcbiAgICAgICAgcmV0dXJuIE1vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zO1xuICAgIH1cblxuICAgIGdldCBTZXR0aW5ncygpOiBTZXR0aW5nW11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJlbmFibGVkXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCAmJiAhSXNIYXJkY29yZU9uKEMpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJSZWNpdmUgY29uZGl0aW9ucyBiYXNlZCBvbiBjdXJyZW50IGxldmVsIG9mIHlvdXIgdmlydHVhbCBwZXQgc3RhdHNcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImZvb2ROT1dcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkICYmICEhUGxheWVyVlBDKEMpLmVuYWJsZWQgJiYgIUlzSGFyZGNvcmVPbihDKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJGb29kIGFuZCB3YXRlciBhZmZlY3RzIGFmZmVjdGlvbiBnYWluXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJ0aW50XCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCAmJiAhIVBsYXllclZQQyhDKS5lbmFibGVkICYmICFJc0hhcmRjb3JlT24oQyksXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiVmlzaW9uIGRhcmtlbnMgYXMgeW91IGdldCBzbGVlcGllclwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwicGFzc291dFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQgJiYgISFQbGF5ZXJWUEMoQykuZW5hYmxlZCAmJiAhSXNIYXJkY29yZU9uKEMpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIlBhc3NvdXQgd2hlbiBleGhhdXN0ZWRcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIC8qIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInBhc3NvdXRMU0NHXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCAmJiAhIVBsYXllclZQQyhDKS5lbmFibGVkICYmICEhUGxheWVyVlBDKEMpLnBhc3NvdXQgJiYgISFDLkxTQ0cgJiYgIUlzSGFyZGNvcmVPbihDKSAmJiBmYWxzZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiVXNlIExTQ0cgcGFzc291dCBpbnN0ZWFkIG9mIE1QQTsgUmVxdWlyZXMgTFNDR1wiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywgKi8ge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiYWZmZWN0aW9uU2tpbGxCdWZmc1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQgJiYgISFQbGF5ZXJWUEMoQykuZW5hYmxlZCAmJiAhSXNIYXJkY29yZU9uKEMpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkFmZmVjdGlvbiB3aWxsIGJ1ZmYgc2tpbGxzIGJhc2VkIG9uIGl0cyBsZXZlbFwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiYWZmZWN0aW9uU2tpbGxEZWJ1ZmZzXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCAmJiAhIVBsYXllclZQQyhDKS5lbmFibGVkICYmICFJc0hhcmRjb3JlT24oQyksXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWZmZWN0aW9uIHdpbGwgZGVidWZmIHNraWxscyBiYXNlZCBvbiBpdHMgbGV2ZWxcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImhlYXJpbmdMb3NzXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCAmJiAhIVBsYXllclZQQyhDKS5lbmFibGVkICYmICFJc0hhcmRjb3JlT24oQyksXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiSGVhcmluZyBiZWNvbWVzIGhhcmRlciB0aGUgaHVuZ3JpZXIgeW91IGFyZVwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwic2xvd0xlYXZlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCAmJiAhIVBsYXllclZQQyhDKS5lbmFibGVkICYmICFJc0hhcmRjb3JlT24oQyksXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiVGFrZXMgbG9uZ2VyIHRvIGxlYXZlIHRoZSByb29tIHdoZW4gaHVuZ3J5XCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nXG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgTG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICAvLyBDaGVjayBmb3IgY29uZGl0aW9uIGNoYW5nZXMgZXZlcnkgc28gb2Z0ZW5cbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiR2FtZVJ1blwiLCAwLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHN0YXRDb3VudCA+PSBTVEFUX0NPVU5UX01BWClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBDb25kaXRpb25DaGVjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhdENvdW50Kys7XG4gICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gRWVweSB0aW50XG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIlBsYXllci5HZXRUaW50c1wiLCAwLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgLy8gTm90IGVuYWJsZWQsIHNraXBcbiAgICAgICAgICAgIGlmICghQ29uZGl0aW9uSXNFbmZvcmNlZChcInRpbnRcIiwgU0xFRVBfVElOVC5zdGF0KSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgY3VyckxldmVsID0gR2V0Q2hhcmFjdGVyQ3VycmVudFN0YXRWYWx1ZShQbGF5ZXIsIFNMRUVQX1RJTlQuc3RhdCk7XG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIHNjYWxlZCB2YWx1ZVxuICAgICAgICAgICAgY29uc3Qgc2NhbGVkVmFsdWUgPSAoKGN1cnJMZXZlbCAtIFNMRUVQX1RJTlQuc3RhcnRMZXZlbCkgLyAoU0xFRVBfVElOVC5lbmRMZXZlbCAtIFNMRUVQX1RJTlQuc3RhcnRMZXZlbCkpICogKFNMRUVQX1RJTlQubWF4VGludCAtIFNMRUVQX1RJTlQubWluVGludCkgKyBTTEVFUF9USU5ULm1pblRpbnQ7XG4gICAgICAgICAgICBpZiAoU0xFRVBfVElOVC5taW5UaW50IDw9IHNjYWxlZFZhbHVlICYmIHNjYWxlZFZhbHVlIDw9IFNMRUVQX1RJTlQubWF4VGludClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKS5jb25jYXQoeyByOiAwLCBnOiAwLCBiOiAwLCBhOiBNYXRoLnNxcnQoTWF0aC5yb3VuZChzY2FsZWRWYWx1ZSAqIDEwMDApIC8gMTAwMCkgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQWRkIGNvbmRpdGlvbiB0cmlnZ2Vyc1xuICAgICAgICBvblN0YXRMZXZlbCA9IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0OiBcInNsZWVwXCIsXG4gICAgICAgICAgICAgICAgdGhyZXNoaG9sZDogMCxcbiAgICAgICAgICAgICAgICBjaGFuZ2U6IFwiZmFsbGluZ1wiLFxuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKCk6IHZvaWRcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIE1QQVBhc3NvdXQoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZpcnN0UnVuOiBmdW5jdGlvbiAoKTogdm9pZFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEdldENoYXJhY3RlckN1cnJlbnRTdGF0VmFsdWUoUGxheWVyLCBcInNsZWVwXCIpID09PSAwKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBNUEFQYXNzb3V0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgc3RhdDogXCJzbGVlcFwiLFxuICAgICAgICAgICAgICAgIHRocmVzaGhvbGQ6IDAuMSxcbiAgICAgICAgICAgICAgICBjaGFuZ2U6IFwicmlzaW5nXCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoKTogdm9pZFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhc3NlZE91dClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgTVBBV2FrZXVwKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgICAgIC8vIEVlcHlcblxuICAgICAgICAvLyBQYXNzb3V0IEhvb2tzXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIlBsYXllci5DYW5UYWxrXCIsIDUsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gUGFzc291dENoZWNrKCkgPyBmYWxzZSA6IG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJQbGF5ZXIuQ2FuV2Fsa1wiLCA1LCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIFBhc3NvdXRDaGVjaygpID8gZmFsc2UgOiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiUGxheWVyLkNhbkNoYW5nZU93bkNsb3RoZXNcIiwgNSwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBQYXNzb3V0Q2hlY2soKSA/IGZhbHNlIDogbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIlBsYXllci5DYW5JbnRlcmFjdFwiLCA1LCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIFBhc3NvdXRDaGVjaygpID8gZmFsc2UgOiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiU2VydmVyU2VuZFwiLCA1LCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCFQYXNzb3V0Q2hlY2soKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgW3R5cGUsIGRhdGFdID0gYXJncyBhcyBbc3RyaW5nLCBTZXJ2ZXJDaGF0Um9vbU1lc3NhZ2VdO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHR5cGUgPT0gXCJDaGF0Um9vbUNoYXRcIlxuICAgICAgICAgICAgICAgICYmIGRhdGE/LlR5cGUgPT0gXCJDaGF0XCJcbiAgICAgICAgICAgICAgICAmJiAhZGF0YT8uQ29udGVudC5zdGFydHNXaXRoKFwiKFwiKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFNlbmRBY3Rpb24oUmFuZG9tRWxlbWVudChQQVNTT1VUX1RBTEtfUkVQTEFDRSkgYXMgc3RyaW5nLCB1bmRlZmluZWQsIFt7IFNvdXJjZUNoYXJhY3RlcjogUGxheWVyLk1lbWJlck51bWJlciB9IGFzIFNvdXJjZUNoYXJhY3RlckRpY3Rpb25hcnlFbnRyeV0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJQbGF5ZXIuR2V0RGVhZkxldmVsXCIsIDUsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gUGFzc291dENoZWNrKCkgPyA0IDogbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIlBsYXllci5HZXRCbGluZExldmVsXCIsIDUsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gUGFzc291dENoZWNrKCkgPyAoUGxheWVyLkdhbWVwbGF5U2V0dGluZ3M/LlNlbnNEZXBDaGF0TG9nID09PSBcIlNlbnNEZXBFeHRyZW1lXCIgfHwgUGxheWVyLkdhbWVwbGF5U2V0dGluZ3M/LlNlbnNEZXBDaGF0TG9nID09PSBcIlNlbnNEZXBUb3RhbFwiKSA/IDMgOiAyIDogbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQ2FuJ3QgZm9jdXMgd2hpbGUgaHVuZ3J5IChkZWFmKVxuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJQbGF5ZXIuR2V0RGVhZkxldmVsXCIsIDUsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBkZWFmTGV2ZWwgPSBDb25kaXRpb25Jc0VuZm9yY2VkKFwiaGVhcmluZ0xvc3NcIiwgXCJmb29kXCIpID8gTWF0aC5tYXgoMCwgTWF0aC5mbG9vcigoR2V0Q2hhcmFjdGVyQ3VycmVudFN0YXRWYWx1ZShQbGF5ZXIsIFwiZm9vZFwiKSAtIDAuMzAwMSkgKiAtMTApKSA6IDA7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5tYXgoZGVhZkxldmVsLCBuZXh0KGFyZ3MpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQWZmZWN0aW9uIGFmZmVjdCBza2lsbHNcbiAgICAgICAgaWYgKFNraWxsTW9kaWZpZXJNYXggPCAxMClcbiAgICAgICAge1xuICAgICAgICAgICAgU2tpbGxNb2RpZmllck1heCA9IDEwO1xuICAgICAgICB9XG4gICAgICAgIEFmZmVjdGlvblNraWxsQ2hlY2soKTtcbiAgICAgICAgYWZmZWN0aW9uQ2hlY2tJbnRlcnZhbCA9IHNldEludGVydmFsKEFmZmVjdGlvblNraWxsQ2hlY2ssIHNraWxsRHVyYXRpb25NUyArIDEwMDApO1xuXG4gICAgICAgIC8vIFNsb3cgbGVhdmVcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiQ2hhdFJvb21BdHRlbXB0TGVhdmVcIiwgMCwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghQ29uZGl0aW9uSXNFbmZvcmNlZChcInNsb3dMZWF2ZVwiLCBcImZvb2RcIikpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHByZXZTbG93ID0gQ2hhdFJvb21TbG93dGltZXI7XG4gICAgICAgICAgICBjb25zdCBjdXJyRm9vZCA9IEdldENoYXJhY3RlckN1cnJlbnRTdGF0VmFsdWUoUGxheWVyLCBcImZvb2RcIik7XG4gICAgICAgICAgICBuZXh0KGFyZ3MpO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHByZXZTbG93ID09PSAwXG4gICAgICAgICAgICAgICAgJiYgQ2hhdFJvb21TbG93dGltZXIgPiAwXG4gICAgICAgICAgICAgICAgJiYgY3VyckZvb2QgPD0gU0xPV19MRUFWRV9MRVZFTF9TVEFSVFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNsb3dlZFNwZWVkID0gKCgoLU1BWF9TTE9XX0xFQVZFX0RVUkFUSU9OX1NFQyAvIFNMT1dfTEVBVkVfTEVWRUxfU1RBUlQpICogY3VyckZvb2QpICsgTUFYX1NMT1dfTEVBVkVfRFVSQVRJT05fU0VDKSAqIDEwMDA7XG4gICAgICAgICAgICAgICAgQ2hhdFJvb21TbG93dGltZXIgPSBDdXJyZW50VGltZSArIENoYXRSb29tU2xvd0xlYXZlTWluVGltZSArIHNsb3dlZFNwZWVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiUGxheWVyLklzU2xvd1wiLCAwLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIChDb25kaXRpb25Jc0VuZm9yY2VkKFwic2xvd0xlYXZlXCIsIFwiZm9vZFwiKSAmJiBHZXRDaGFyYWN0ZXJDdXJyZW50U3RhdFZhbHVlKFBsYXllciwgXCJmb29kXCIpIDw9IFNMT1dfTEVBVkVfTEVWRUxfU1RBUlQpID8gdHJ1ZSA6IG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIFVubG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5VbmxvYWQoKTtcbiAgICAgICAgb25TdGF0TGV2ZWwgPSBbXTtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChhZmZlY3Rpb25DaGVja0ludGVydmFsKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBIb29rRnVuY3Rpb24gfSBmcm9tIFwiLi4vdXRpbC9zZGtcIjtcbmltcG9ydCB7IElzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAgfSBmcm9tIFwiLi4vdXRpbC9hdXRob3JpdHlcIjtcbmltcG9ydCB7IE1vZHVsZSwgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi9fbW9kdWxlXCI7XG5pbXBvcnQgeyBHZXRDaGFyYWN0ZXJDdXJyZW50U3RhdFZhbHVlLCBWaXJ0dWFsUGV0U3RhdENhdGVnb3J5LCB0eXBlIFZpcnR1YWxQZXRTdGF0IH0gZnJvbSBcIi4vdmlydHVhbFBldFwiO1xuXG5jb25zdCBQbGF5ZXJWUDogKCkgPT4gTVBBUmVjb3JkID0gKCkgPT5cbntcbiAgICByZXR1cm4gUGxheWVyLk1QQVtNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XTtcbn07XG5jb25zdCBQbGF5ZXJWUEhVRDogKCkgPT4gTVBBUmVjb3JkID0gKCkgPT5cbntcbiAgICByZXR1cm4gUGxheWVyLk1QQVtNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0SFVEXTtcbn07XG5cbmNvbnN0IFZQX1NUQVRfQ09MT1JfRElDVCA9IHtcbiAgICBmb29kOiBcIiNmMmJiMThcIixcbiAgICB3YXRlcjogXCIjMmE5ZmMzXCIsXG4gICAgc2xlZXA6IFwiIzhkMmFlZVwiLFxuICAgIGFmZmVjdGlvbjogXCIjZmY3OGYyXCJcbn07XG5cbmZ1bmN0aW9uIERyYXdTdGF0Q2lyY2xlKHg6IG51bWJlciwgeTogbnVtYmVyLCByYWRpdXM6IG51bWJlciwgc3RhdDogVmlydHVhbFBldFN0YXQpOiB2b2lkXG57XG4gICAgY29uc3QgY29sb3IgPSBWUF9TVEFUX0NPTE9SX0RJQ1Rbc3RhdC5zdGF0XTtcblxuICAgIC8vIE91dGVyIGNpcmNsZVxuICAgIE1haW5DYW52YXMuYmVnaW5QYXRoKCk7XG4gICAgTWFpbkNhbnZhcy5hcmMoXG4gICAgICAgIHgsXG4gICAgICAgIHksXG4gICAgICAgIHJhZGl1cyxcbiAgICAgICAgMCxcbiAgICAgICAgMiAqIE1hdGguUEksXG4gICAgICAgIHRydWVcbiAgICApO1xuICAgIE1haW5DYW52YXMubGluZVdpZHRoID0gcmFkaXVzIC8gODtcbiAgICBNYWluQ2FudmFzLnN0cm9rZVN0eWxlID0gY29sb3I7XG4gICAgTWFpbkNhbnZhcy5zdHJva2UoKTtcblxuICAgIC8vIElubmVyIGFyY1xuICAgIE1haW5DYW52YXMuYmVnaW5QYXRoKCk7XG4gICAgTWFpbkNhbnZhcy5hcmMoXG4gICAgICAgIHgsXG4gICAgICAgIHksXG4gICAgICAgIHJhZGl1cyxcbiAgICAgICAgLU1hdGguUEkgLyAyLFxuICAgICAgICAoMiAqIE1hdGguUEkgKiAtc3RhdC5sZXZlbCkgLSAoTWF0aC5QSSAvIDIpLFxuICAgICAgICB0cnVlXG4gICAgKTtcbiAgICBNYWluQ2FudmFzLmxpbmVUbyh4LCB5KTtcbiAgICBNYWluQ2FudmFzLmZpbGxTdHlsZSA9IGNvbG9yO1xuICAgIE1haW5DYW52YXMuZmlsbCgpO1xuXG4gICAgLy8gRGlzcGxheSB0aGUgdGV4dFxuICAgIGlmIChQbGF5ZXJWUEhVRCgpLmV4YWN0U3RhdHMpXG4gICAge1xuICAgICAgICBNYWluQ2FudmFzLmZpbGxTdHlsZSA9IFwiIzAwMDAwMFwiO1xuICAgICAgICBNYWluQ2FudmFzLmZvbnQgPSBDb21tb25HZXRGb250KHJhZGl1cyAqIDEuMjUpO1xuICAgICAgICBNYWluQ2FudmFzLmZpbGxUZXh0KE1hdGgucm91bmQoc3RhdC5sZXZlbCAqIDEwMCkudG9TdHJpbmcoKSwgeCwgeSArIChyYWRpdXMgKiAwLjEyNSkpO1xuICAgICAgICAvLyBEZWZhdWx0IHNpemUsIGlkayBpZiBuZWVkZWQgYnV0IGNhbid0IGh1cnRcbiAgICAgICAgTWFpbkNhbnZhcy5mb250ID0gQ29tbW9uR2V0Rm9udCgzNik7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBEcmF3VmlydWFsUGV0SHVkKHg6IG51bWJlciwgeTogbnVtYmVyLCB6b29tOiBudW1iZXIsIHN0YXRzOiBWaXJ0dWFsUGV0U3RhdFtdKTogdm9pZFxue1xuICAgIGNvbnN0IHBvczogXCJMZWZ0XCIgfCBcIkNlbnRlclwiIHwgXCJSaWdodFwiIHwgXCJTcGxpdFwiID0gUGxheWVyVlBIVUQoKS5wb3NpdGlvbjtcbiAgICBpZiAocG9zID09PSBcIkxlZnRcIiB8fCBwb3MgPT09IFwiUmlnaHRcIilcbiAgICB7XG4gICAgICAgIHN0YXRzLnJldmVyc2UoKTtcbiAgICAgICAgc3RhdHMuZm9yRWFjaCgoc3RhdCwgaW5kZXgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIERyYXdTdGF0Q2lyY2xlKFxuICAgICAgICAgICAgICAgIHggKyAoKHBvcyA9PT0gXCJMZWZ0XCIgPyA4MCA6IDQyMCkgKiB6b29tKSxcbiAgICAgICAgICAgICAgICB5ICsgKDk1MCAtIChpbmRleCAqIDM2KSkgKiB6b29tLFxuICAgICAgICAgICAgICAgIDE2ICogem9vbSxcbiAgICAgICAgICAgICAgICBzdGF0XG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAocG9zID09PSBcIkNlbnRlclwiKVxuICAgIHtcbiAgICAgICAgY29uc3Qgc3RhdExlbiA9IHN0YXRzLmxlbmd0aDtcbiAgICAgICAgc3RhdHMuZm9yRWFjaCgoc3RhdCwgaW5kZXgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIERyYXdTdGF0Q2lyY2xlKFxuICAgICAgICAgICAgICAgIHggKyAoMjUwIC0gKChzdGF0TGVuIC0gMSkgKiAxOCkgKyAoaW5kZXggKiAzNikpICogem9vbSxcbiAgICAgICAgICAgICAgICB5ICsgKDk1MCAqIHpvb20pLFxuICAgICAgICAgICAgICAgIDE2ICogem9vbSxcbiAgICAgICAgICAgICAgICBzdGF0XG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gUHJvYmFibHkgYSBiZXR0ZXIgd2F5IHRvIGRvIHRoaXMsIGJ1dCBJIGRvbid0IGNhcmUuIEl0IHdvcmtzIHRoYXRzIGFsbCBJIG5lZWQuXG4gICAgZWxzZSBpZiAocG9zID09PSBcIlNwbGl0XCIpXG4gICAge1xuICAgICAgICBjb25zdCBjb2xzOiBWaXJ0dWFsUGV0U3RhdFtdW10gPSBbXTtcbiAgICAgICAgc3dpdGNoIChzdGF0cy5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBjb2xzLnB1c2goW3N0YXRzWzBdXSk7XG4gICAgICAgICAgICAgICAgY29scy5wdXNoKFtdKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBjb2xzLnB1c2goW3N0YXRzWzBdXSk7XG4gICAgICAgICAgICAgICAgY29scy5wdXNoKFtzdGF0c1sxXV0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIGNvbHMucHVzaChbc3RhdHNbMV0sIHN0YXRzWzBdXSk7XG4gICAgICAgICAgICAgICAgY29scy5wdXNoKFtzdGF0c1syXV0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIGNvbHMucHVzaChbc3RhdHNbMV0sIHN0YXRzWzBdXSk7XG4gICAgICAgICAgICAgICAgY29scy5wdXNoKFtzdGF0c1szXSwgc3RhdHNbMl1dKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgIH1cbiAgICAgICAgY29scy5mb3JFYWNoKChjb2wsIGluZGV4KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb2wuZm9yRWFjaCgoc3RhdCwgc3RhdEluZGV4KSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIERyYXdTdGF0Q2lyY2xlKFxuICAgICAgICAgICAgICAgICAgICB4ICsgKChpbmRleCA9PSAwID8gODAgOiA0MjApICogem9vbSksXG4gICAgICAgICAgICAgICAgICAgIHkgKyAoOTUwIC0gKHN0YXRJbmRleCAqIDM2KSkgKiB6b29tLFxuICAgICAgICAgICAgICAgICAgICAxNiAqIHpvb20sXG4gICAgICAgICAgICAgICAgICAgIHN0YXRcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFZpcnR1YWxQZXRIVURNb2R1bGUgZXh0ZW5kcyBNb2R1bGVcbntcbiAgICBnZXQgVGl0bGUoKTogTW9kdWxlVGl0bGVcbiAgICB7XG4gICAgICAgIHJldHVybiBNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0SFVEO1xuICAgIH1cblxuICAgIGdldCBTZXR0aW5ncygpOiBTZXR0aW5nW11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJzZWxmXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gISFQbGF5ZXJWUCgpLmVuYWJsZWQsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiRGlzcGxheSB5b3VyIG93biB2aXJ0dWFsIHBldCBzdGF0cyBvbiB0aGUgSFVEXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJleGFjdFN0YXRzXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gISFQbGF5ZXJWUCgpLmVuYWJsZWQgfHwgUGxheWVyVlBIVUQoKS5vdGhlcnMgIT09IFwiT2ZmXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkRpc3BsYXkgdGhlIGV4YWN0IG51bWJlciBwZXJjZW50YWdlIG9uIHRoZSBIVURcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInBvc2l0aW9uXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJvcHRpb25cIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+ICEhUGxheWVyVlAoKS5lbmFibGVkIHx8IFBsYXllclZQSFVEKCkub3RoZXJzICE9PSBcIk9mZlwiLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IFtcIkxlZnRcIiwgXCJDZW50ZXJcIiwgXCJSaWdodFwiLCBcIlNwbGl0XCJdLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIkxlZnRcIixcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJXaGVyZSB0byBkaXNwbGF5IHRoZSBIVURcIixcbiAgICAgICAgICAgICAgICBsb29wOiB0cnVlXG4gICAgICAgICAgICB9IGFzIE9wdGlvblNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIm90aGVyc1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwib3B0aW9uXCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IFtcIk9mZlwiLCBcIlB1YmxpY1wiLCBcIkZyaWVuZHNcIiwgXCJXaGl0ZWxpc3RcIiwgXCJMb3ZlcnNcIiwgXCJPd25lcnNcIiwgXCJEL3MgRmFtaWx5XCIsIFwiQ2x1Ym93bmVyXCJdLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIkZyaWVuZHNcIixcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJEaXNwbGF5IHRoZSB2aXJ0dWFsIHBldCBzdGF0cyBvZiBvdGhlcnMgb24gdGhlIEhVRFwiLFxuICAgICAgICAgICAgICAgIGxvb3A6IGZhbHNlXG4gICAgICAgICAgICB9IGFzIE9wdGlvblNldHRpbmdcbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBMb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIkRyYXdBcm91c2FsTWV0ZXJcIiwgMSwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IFtjaGFyYWN0ZXIsIHgsIHksIHpvb21dID0gYXJncztcbiAgICAgICAgICAgIC8vIEdldCBjaGFyYWN0ZXIgc3RhdHMgd2hlbiBzdXBwb3J0IGZvciBtdWx0cGxheWVyXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgIUFjdGl2aXR5QWxsb3dlZCgpXG4gICAgICAgICAgICAgICAgfHwgKGNoYXJhY3Rlci5Jc1BsYXllcigpICYmICghUGxheWVyVlBIVUQoKS5zZWxmIHx8ICFQbGF5ZXJWUCgpLmVuYWJsZWQpKVxuICAgICAgICAgICAgICAgIHx8ICghY2hhcmFjdGVyLklzUGxheWVyKCkgJiYgUGxheWVyVlBIVUQoKS5vdGhlcnMgPT09IFwiT2ZmXCIpXG4gICAgICAgICAgICAgICAgfHwgKCFjaGFyYWN0ZXIuSXNQbGF5ZXIoKSAmJiAhSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cChjaGFyYWN0ZXIuTWVtYmVyTnVtYmVyIGFzIG51bWJlciwgUGxheWVyVlBIVUQoKS5vdGhlcnMpKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBHZXQgdGhlIHN0YXRzIGZvciB0aGUgY2hhcmFjdGVyLCBub3QganVzdCB0aGUgcGxheWVyXG4gICAgICAgICAgICBjb25zdCBjaGFyYWN0ZXJWUFN0YXRzID0gY2hhcmFjdGVyPy5NUEE/LltNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XTtcbiAgICAgICAgICAgIGlmICghY2hhcmFjdGVyVlBTdGF0cz8uZW5hYmxlZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3Qgc3RhdHM6IFZpcnR1YWxQZXRTdGF0W10gPSBbXTtcbiAgICAgICAgICAgIChbXCJmb29kXCIsIFwid2F0ZXJcIiwgXCJzbGVlcFwiLCBcImFmZmVjdGlvblwiXSBhcyBWaXJ0dWFsUGV0U3RhdENhdGVnb3J5W10pLmZvckVhY2goKHN0YXQpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKGNoYXJhY3RlclZQU3RhdHNbYCR7c3RhdH1Ib3Vyc2BdICE9PSAwKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0OiBzdGF0LFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZWw6IEdldENoYXJhY3RlckN1cnJlbnRTdGF0VmFsdWUoY2hhcmFjdGVyLCBzdGF0KVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChzdGF0cy5sZW5ndGggIT09IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgRHJhd1ZpcnVhbFBldEh1ZCh4LCB5LCB6b29tLCBzdGF0cyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBVbmxvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3VwZXIuVW5sb2FkKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgTG9jYWxpemVkVGV4dCB9IGZyb20gXCIuLi9sb2NhbGl6YXRpb24vbG9jYWxpemF0aW9uXCI7XG5pbXBvcnQgeyBBQ1RJVklUWV9OQU1FX1BSRUZJWCB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuXG4vKiogU3RvcmVzIHRoZSBhY3Rpdml0eSBuYW1lIGFuZCB0aGUgaW1hZ2UgbG9jYXRpb24gb3IgYmFzZSA2NCBpbWFnZSBmb3IgdGhhdCBhY3Rpdml0eSAqL1xuZXhwb3J0IGNvbnN0IGFjdGl2aXR5SW1hZ2VzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge307XG4vKiogV2hlbiBhbiBhY3Rpdml0eSBpcyB1c2VkIGJ5IHRoZSBQbGF5ZXIsIHJ1biB0aGlzIGNhbGxiYWNrIGZ1bmN0aW9uICovXG5leHBvcnQgY29uc3QgYWN0aXZpdHlUcmlnZ2VyczogUmVjb3JkPHN0cmluZywgQWNpdGl2aXR5VHJpZ2dlcj4gPSB7fTtcbi8qKiBDdXN0b20gcHJlcmVxdWlzaXRlcyBmb3IgYWN0aXZpdGllcyAqL1xuZXhwb3J0IGNvbnN0IGFjdGl2aXR5UHJlcmVxdWlzaXRlczogUmVjb3JkPHN0cmluZywgUHJlcmVxdWlzaXRlPiA9IHt9O1xuLyoqIFdoZW4gYW4gYWN0aXZpdHkgaGFwcGVucywgcnVuIHRoaXMgY2FsbGJhY2sgZnVuY3Rpb24gKi9cbmV4cG9ydCBjb25zdCBhY3Rpdml0eVJlY2VpdmVkOiBSZWNvcmQ8c3RyaW5nLCBBY3Rpdml0eVJlY2VpdmVkPiA9IHt9O1xuXG4vKipcbiAqIENyZWF0ZSBhIG5ldyBjdXN0b20gYWN0aXZpdHkgZm9yIHRoZSBQbGF5ZXIgdG8gdXNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBDcmVhdGVBY3Rpdml0eShjdXN0b21BY3Rpdml0eTogQ3VzdG9tQWN0aXZpdHkpOiB2b2lkXG57XG4gICAgLy8gQ3JlYXRlIHRoZSBhY3Rpdml0eSBCQyB1c2VzXG4gICAgY29uc3QgYWN0aXZpdHk6IEFjdGl2aXR5ID0ge1xuICAgICAgICBOYW1lOiBgJHtBQ1RJVklUWV9OQU1FX1BSRUZJWH0ke2N1c3RvbUFjdGl2aXR5Lk5hbWV9YCBhcyBBY3Rpdml0eU5hbWUsXG4gICAgICAgIEFjdGl2aXR5SUQ6IE1hdGgubWF4KC4uLkFjdGl2aXR5RmVtYWxlM0RDRy5tYXAoKHgpID0+IHguQWN0aXZpdHlJRCA/PyAtMSkpICsgMSxcbiAgICAgICAgTWF4UHJvZ3Jlc3M6IGN1c3RvbUFjdGl2aXR5Lk1heFByb2dyZXNzID8/IDUwLFxuICAgICAgICAvLyBNYXhQcm9ncmVzc1NlbGY6IGN1c3RvbUFjdGl2aXR5Lk1heFByb2dyZXNzU2VsZiA/PyBjdXN0b21BY3Rpdml0eS5NYXhQcm9ncmVzcyxcbiAgICAgICAgUHJlcmVxdWlzaXRlOiBjdXN0b21BY3Rpdml0eS5QcmVyZXF1aXNpdGUsXG4gICAgICAgIFRhcmdldDogW11cbiAgICB9O1xuXG4gICAgLy8gQWRkIGN1c3RvbSBhY3Rpdml0ZXMgdG8gdGhlIHJlY29yZCBmb3IgY2hlY2tpbmcgd2hlbiBhbiBhY3Rpdml0eSBpcyBjYWxsZWQgbGF0ZXJcbiAgICBpZiAoY3VzdG9tQWN0aXZpdHkuQ3VzdG9tUHJlcmVxdWlzaXRlKVxuICAgIHtcbiAgICAgICAgbGV0IGN1c3RvbVByZXJlcXVpc2l0ZXMgPSBjdXN0b21BY3Rpdml0eS5DdXN0b21QcmVyZXF1aXNpdGU7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShjdXN0b21QcmVyZXF1aXNpdGVzKSlcbiAgICAgICAge1xuICAgICAgICAgICAgY3VzdG9tUHJlcmVxdWlzaXRlcyA9IFtjdXN0b21QcmVyZXF1aXNpdGVzXTtcbiAgICAgICAgfVxuICAgICAgICBjdXN0b21QcmVyZXF1aXNpdGVzLmZvckVhY2goKG5ld1ByZXJlcXVpc2l0ZSkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgYWN0aXZpdHkuUHJlcmVxdWlzaXRlLnB1c2gobmV3UHJlcmVxdWlzaXRlLk5hbWUgYXMgQWN0aXZpdHlQcmVyZXF1aXNpdGUpO1xuICAgICAgICAgICAgaWYgKCEobmV3UHJlcmVxdWlzaXRlLk5hbWUgaW4gYWN0aXZpdHlQcmVyZXF1aXNpdGVzKVxuICAgICAgICAgICAgICAmJiBuZXdQcmVyZXF1aXNpdGUuUHJlcmVxdWlzaXRlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGFjdGl2aXR5UHJlcmVxdWlzaXRlc1tuZXdQcmVyZXF1aXNpdGUuTmFtZV0gPSBuZXdQcmVyZXF1aXNpdGUuUHJlcmVxdWlzaXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBUaGUgbG9va3VwIHRhYmxlIGZvciB0aGUgYWN0aXZpdHlcbiAgICBjdXN0b21BY3Rpdml0eS5UYXJnZXRzLmZvckVhY2goKHRhcmdldCkgPT5cbiAgICB7XG4gICAgICAgIC8vIEFjaXRpdml0eSBjYW4gYmUgdXNlZCBvbiBzZWxmXG4gICAgICAgIGlmICh0YXJnZXQuYWN0aW9uU2VsZilcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCFhY3Rpdml0eS5UYXJnZXRTZWxmKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGFjdGl2aXR5LlRhcmdldFNlbGYgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIChhY3Rpdml0eS5UYXJnZXRTZWxmIGFzIEFzc2V0R3JvdXBJdGVtTmFtZVtdKT8ucHVzaCh0YXJnZXQuZ3JvdXApO1xuICAgICAgICAgICAgQWN0aXZpdHlEaWN0aW9uYXJ5Py5wdXNoKFtgTGFiZWwtQ2hhdFNlbGYtJHt0YXJnZXQuZ3JvdXB9LSR7YWN0aXZpdHkuTmFtZX1gLCBMb2NhbGl6ZWRUZXh0KHRhcmdldC5sYWJlbCldKTtcbiAgICAgICAgICAgIEFjdGl2aXR5RGljdGlvbmFyeT8ucHVzaChbYENoYXRTZWxmLSR7dGFyZ2V0Lmdyb3VwfS0ke2FjdGl2aXR5Lk5hbWV9YCwgTG9jYWxpemVkVGV4dCh0YXJnZXQuYWN0aW9uU2VsZildKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFjdGl2aXR5IGNhbiBiZSB1c2VkIG9uIG90aGVyc1xuICAgICAgICBpZiAodGFyZ2V0LmFjdGlvbk90aGVycylcbiAgICAgICAge1xuICAgICAgICAgICAgYWN0aXZpdHkuVGFyZ2V0LnB1c2godGFyZ2V0Lmdyb3VwKTtcbiAgICAgICAgICAgIEFjdGl2aXR5RGljdGlvbmFyeT8ucHVzaChbYExhYmVsLUNoYXRPdGhlci0ke3RhcmdldC5ncm91cH0tJHthY3Rpdml0eS5OYW1lfWAsIExvY2FsaXplZFRleHQodGFyZ2V0LmxhYmVsKV0pO1xuICAgICAgICAgICAgQWN0aXZpdHlEaWN0aW9uYXJ5Py5wdXNoKFtgQ2hhdE90aGVyLSR7dGFyZ2V0Lmdyb3VwfS0ke2FjdGl2aXR5Lk5hbWV9YCwgTG9jYWxpemVkVGV4dCh0YXJnZXQuYWN0aW9uT3RoZXJzKV0pO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBJbWFnZSB0aGUgYWN0aXZpdHkgd2lsbCB1c2VcbiAgICBhY3Rpdml0eUltYWdlc1thY3Rpdml0eS5OYW1lXSA9IGN1c3RvbUFjdGl2aXR5LkltYWdlO1xuXG4gICAgLy8gT24gYWN0aXZpdHkgdHJpZ2dlciBzdXBwb3J0XG4gICAgaWYgKGN1c3RvbUFjdGl2aXR5Lk9uVHJpZ2dlcilcbiAgICB7XG4gICAgICAgIGFjdGl2aXR5VHJpZ2dlcnNbYWN0aXZpdHkuTmFtZV0gPSBjdXN0b21BY3Rpdml0eS5PblRyaWdnZXI7XG4gICAgfVxuXG4gICAgLy8gT24gYWN0aXZpdHkgcmVjaWV2ZWQgc3VwcG9ydFxuICAgIGlmIChjdXN0b21BY3Rpdml0eS5PblJlY2VpdmUpXG4gICAge1xuICAgICAgICBhY3Rpdml0eVJlY2VpdmVkW2FjdGl2aXR5Lk5hbWVdID0gY3VzdG9tQWN0aXZpdHkuT25SZWNlaXZlO1xuICAgIH1cblxuICAgIEFjdGl2aXR5RmVtYWxlM0RDRy5wdXNoKGFjdGl2aXR5KTtcbiAgICBBY3Rpdml0eUZlbWFsZTNEQ0dPcmRlcmluZy5wdXNoKGFjdGl2aXR5Lk5hbWUpO1xufVxuXG4vKipcbiAqIENyZWF0ZSBtYW55IGN1c3RvbSBhY3Rpdml0aWVzIGZvciB0aGUgUGxheWVyIHRvIHVzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gQ3JlYXRlQWN0aXZpdGllcyhjdXN0b21BY3Rpdml0aWVzOiBDdXN0b21BY3Rpdml0eVtdKTogdm9pZFxue1xuICAgIGN1c3RvbUFjdGl2aXRpZXMuZm9yRWFjaCgoYWN0aXZpdHkpID0+XG4gICAge1xuICAgICAgICBDcmVhdGVBY3Rpdml0eShhY3Rpdml0eSk7XG4gICAgfSk7XG59XG5cbi8qKlxuICogUmVtb3ZlIGFjdGl2aXR5LCBkaXNhbGxvd2luZyB0aGUgUGxheWVyIHRvIHVzZSBpdFxuICogQHBhcmFtIGN1c3RvbUFjdGl2aXR5IC0gT25seSBOYW1lIGFuZCBUYXJnZXRzIG1hdHRlciBmb3IgdGhpcyBmdW5jdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gUmVtb3ZlQWN0aXZpdHkoY3VzdG9tQWN0aXZpdHk6IEN1c3RvbUFjdGl2aXR5KTogdm9pZFxue1xuICAgIGNvbnN0IGFjdGl2aXR5TmFtZSA9IGAke0FDVElWSVRZX05BTUVfUFJFRklYfSR7Y3VzdG9tQWN0aXZpdHkuTmFtZX1gO1xuXG4gICAgLy8gVGhlIGxvb2t1cCB0YWJsZSBmb3IgdGhlIGFjdGl2aXR5XG4gICAgY3VzdG9tQWN0aXZpdHkuVGFyZ2V0cy5mb3JFYWNoKCh0YXJnZXQpID0+XG4gICAge1xuICAgICAgICAvLyBBY2l0aXZpdHkgY2FuIGJlIHVzZWQgb24gc2VsZlxuICAgICAgICBpZiAodGFyZ2V0LmFjdGlvblNlbGYpXG4gICAgICAgIHtcbiAgICAgICAgICAgIEFjdGl2aXR5RGljdGlvbmFyeSA9IEFjdGl2aXR5RGljdGlvbmFyeT8uZmlsdGVyKCh4KSA9PiAhKHhbMF0gPT09IGBMYWJlbC1DaGF0U2VsZi0ke3RhcmdldC5ncm91cH0tJHthY3Rpdml0eU5hbWV9YCB8fCB4WzBdID09PSBgQ2hhdFNlbGYtJHt0YXJnZXQuZ3JvdXB9LSR7YWN0aXZpdHlOYW1lfWApKSA/PyBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWN0aXZpdHkgY2FuIGJlIHVzZWQgb24gb3RoZXJzXG4gICAgICAgIGlmICh0YXJnZXQuYWN0aW9uT3RoZXJzKVxuICAgICAgICB7XG4gICAgICAgICAgICBBY3Rpdml0eURpY3Rpb25hcnkgPSBBY3Rpdml0eURpY3Rpb25hcnk/LmZpbHRlcigoeCkgPT4gISh4WzBdID09PSBgTGFiZWwtQ2hhdE90aGVyLSR7dGFyZ2V0Lmdyb3VwfS0ke2FjdGl2aXR5TmFtZX1gIHx8IHhbMF0gPT09IGBDaGF0T3RoZXItJHt0YXJnZXQuZ3JvdXB9LSR7YWN0aXZpdHlOYW1lfWApKSA/PyBudWxsO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBJbWFnZSB0aGUgYWN0aXZpdHkgd2lsbCB1c2VcbiAgICBkZWxldGUgYWN0aXZpdHlJbWFnZXNbYWN0aXZpdHlOYW1lXTtcblxuICAgIC8vIE9uIGFjdGl2aXR5IHRyaWdnZXIgc3VwcG9ydFxuICAgIGRlbGV0ZSBhY3Rpdml0eVRyaWdnZXJzW2FjdGl2aXR5TmFtZV07XG5cbiAgICAvLyBEb25lXG4gICAgQWN0aXZpdHlGZW1hbGUzRENHID0gQWN0aXZpdHlGZW1hbGUzRENHLmZpbHRlcigoeCkgPT4geC5OYW1lICE9PSBhY3Rpdml0eU5hbWUpO1xuICAgIEFjdGl2aXR5RmVtYWxlM0RDR09yZGVyaW5nID0gQWN0aXZpdHlGZW1hbGUzRENHT3JkZXJpbmcuZmlsdGVyKCh4KSA9PiB4ICE9PSBhY3Rpdml0eU5hbWUpO1xufVxuXG4vKipcbiAqIFJlbW92ZSBhY3Rpdml0aWVzLCBkaXNhbGxvd2luZyB0aGUgUGxheWVyIHRvIHVzZSB0aGVtXG4gKiBAcGFyYW0gY3VzdG9tQWN0aXZpdHkgLSBPbmx5IE5hbWUgYW5kIFRhcmdldHMgbWF0dGVyIGZvciB0aGlzIGZ1bmN0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBSZW1vdmVBY3Rpdml0aWVzKGN1c3RvbUFjdGl2aXRpZXM6IEN1c3RvbUFjdGl2aXR5W10pOiB2b2lkXG57XG4gICAgY3VzdG9tQWN0aXZpdGllcy5mb3JFYWNoKChhY3Rpdml0eSkgPT5cbiAgICB7XG4gICAgICAgIFJlbW92ZUFjdGl2aXR5KGFjdGl2aXR5KTtcbiAgICB9KTtcbn1cbiIsImltcG9ydCB7IE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4uL21vZHVsZXMvX21vZHVsZVwiO1xuaW1wb3J0IHsgRmluZENoYXJhY3RlckluUm9vbSB9IGZyb20gXCIuL21lc3NhZ2luZ1wiO1xuXG5leHBvcnQgY29uc3QgQVVUSE9SSVRZX0dST1VQX09QVElPTlM6IEF1dGhvcml0eUdyb3VwW10gPSBbXG4gICAgXCJQdWJsaWNcIixcbiAgICBcIkZyaWVuZHNcIixcbiAgICBcIldoaXRlbGlzdFwiLFxuICAgIFwiTG92ZXJzXCIsXG4gICAgXCJPd25lcnNcIixcbiAgICBcIkNsdWJvd25lclwiLFxuICAgIFwiU2VsZlwiXG5dO1xuXG5jb25zdCBBVVRIT1JJVFlfR1JPVVBfUFJJT19PUkRFUjogQXV0aG9yaXR5R3JvdXBbXSA9IFtcbiAgICBcIk5vbmVcIixcbiAgICBcIlB1YmxpY1wiLFxuICAgIFwiRnJpZW5kc1wiLFxuICAgIFwiV2hpdGVsaXN0XCIsXG4gICAgXCJMb3ZlcnNcIixcbiAgICBcIk93bmVyc1wiLFxuICAgIFwiRC9zIEZhbWlseVwiLFxuICAgIFwiQ2x1Ym93bmVyXCIsXG4gICAgXCJTZWxmXCJcbl07XG5cbmNvbnN0IExvdmVycyA9IChDOiBDaGFyYWN0ZXIpID0+IChDLkxvdmVyc2hpcD8uZmlsdGVyKCh4KSA9PiB4Lk1lbWJlck51bWJlcikubWFwKChsb3ZlcikgPT4gbG92ZXIuTWVtYmVyTnVtYmVyKSA/PyBbXSkgYXMgbnVtYmVyW107XG5leHBvcnQgY29uc3QgQVVUSE9SSVRZX0dST1VQUyA9XG57XG4gICAgU2VsZjogKEM6IENoYXJhY3RlcikgPT4gW0MuTWVtYmVyTnVtYmVyID8/IC0xXSxcbiAgICBDbHVib3duZXI6IChDOiBDaGFyYWN0ZXIpID0+IEM/Lk93bmVyc2hpcD8uTWVtYmVyTnVtYmVyID8gW0M/Lk93bmVyc2hpcD8uTWVtYmVyTnVtYmVyXSA6IFtdLFxuICAgIE93bmVyczogZnVuY3Rpb24gKEM6IENoYXJhY3Rlcik6IG51bWJlcltdXG4gICAge1xuICAgICAgICBjb25zdCBvd25lcnMgPSAoKEMuTVBBPy5bTW9kdWxlVGl0bGUuQXV0aG9yaXR5XT8ub3duZXJzIGFzIHN0cmluZykgPz8gXCJcIikuc3BsaXQoXCIsXCIpLm1hcCgodmFsKSA9PiBwYXJzZUludCh2YWwpKS5maWx0ZXIoKG51bSkgPT4gIWlzTmFOKG51bSkpO1xuICAgICAgICByZXR1cm4gb3duZXJzLmxlbmd0aCA9PT0gMCA/IFtdIDogb3duZXJzO1xuICAgIH0sXG4gICAgTG92ZXJzOiBMb3ZlcnMsXG4gICAgV2hpdGVMaXN0OiAoQzogQ2hhcmFjdGVyKSA9PiBDLldoaXRlTGlzdCA/PyBbXSxcbiAgICBGcmllbmRMaXN0OiAoKSA9PiBQbGF5ZXIuRnJpZW5kTGlzdCA/PyBbXVxufTtcblxuZXhwb3J0IHR5cGUgQXV0aG9yaXR5R3JvdXAgPSBcIlNlbGZcIiB8IFwiQ2x1Ym93bmVyXCIgfCBcIkQvcyBGYW1pbHlcIiB8IFwiT3duZXJzXCIgfCBcIkxvdmVyc1wiIHwgXCJXaGl0ZWxpc3RcIiB8IFwiRnJpZW5kc1wiIHwgXCJQdWJsaWNcIiB8IFwiTm9uZVwiO1xuXG5leHBvcnQgZnVuY3Rpb24gSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cChtZW1iZXJOdW1iZXI6IG51bWJlciwgYXV0aEdyb3VwOiBBdXRob3JpdHlHcm91cCwgYWxsb3dTZWxmID0gZmFsc2UsIHNvdXJjZUNoYXI6IENoYXJhY3RlciA9IFBsYXllcik6IGJvb2xlYW5cbntcbiAgICBpZiAoYXV0aEdyb3VwID09PSBcIk5vbmVcIilcbiAgICB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBEZW55IHNlbGYgb3IgaW5zdGFudCBhY2Nlc3NcbiAgICBpZiAobWVtYmVyTnVtYmVyID09PSBBVVRIT1JJVFlfR1JPVVBTLlNlbGYoc291cmNlQ2hhcilbMF0pXG4gICAge1xuICAgICAgICAvLyBJZiBTZWxmIEF1dGhvcml0eUdyb3VwLCBvdmVycmlkZSB0aGUgYWxsb3dTZWxmIGZsYWdcbiAgICAgICAgcmV0dXJuIGF1dGhHcm91cCA9PT0gXCJTZWxmXCIgPyB0cnVlIDogYWxsb3dTZWxmO1xuICAgIH1cblxuICAgIC8vIE5vIGlmIGluIGJsYWNrbGlzdCByZWdhcmRsZXNzIG9mIHJvbGVcbiAgICBpZiAoc291cmNlQ2hhci5CbGFja0xpc3QuaW5jbHVkZXMobWVtYmVyTnVtYmVyKSB8fCAoKHNvdXJjZUNoYXIgYXMgUGxheWVyQ2hhcmFjdGVyKT8uR2hvc3RMaXN0Py5pbmNsdWRlcyhtZW1iZXJOdW1iZXIpID8/IGZhbHNlKSlcbiAgICB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBFdmVyeW9uZSBhbGxvd2VkIGV4Y2VwdCBibG9ja2VkIGNoYXJhY3RlcnNcbiAgICBpZiAoYXV0aEdyb3VwID09PSBcIlB1YmxpY1wiKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLy8gRmFtaWx5IG9ubHkgY2FuIGJlIGNoZWNrZWQgYnkgYWdhaW5zdCB0aGUgUGxheWVyIHRoZW1zZWxmXG4gICAgaWYgKGF1dGhHcm91cCA9PT0gXCJEL3MgRmFtaWx5XCIgJiYgc291cmNlQ2hhci5NZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXIpXG4gICAge1xuICAgICAgICByZXR1cm4gRmluZENoYXJhY3RlckluUm9vbShtZW1iZXJOdW1iZXIpPy5Jc0ZhbWlseU9mUGxheWVyKCkgPz8gZmFsc2U7XG4gICAgfVxuXG4gICAgbGV0IGF1dGhDaGVjayA9IG5ldyBTZXQ8bnVtYmVyPigpO1xuICAgIC8vIFVzZSBzd2l0Y2ggZmFsbHRocm91Z2ggdG8gZ2V0IHRoZSBzZXQgb2YgYWxsIGF1dGhlZCB1c2VycyBpbiB0aGUgZ3JvdXAocylcbiAgICBzd2l0Y2ggKGF1dGhHcm91cClcbiAgICB7XG4gICAgICAgIGNhc2UgXCJGcmllbmRzXCI6XG4gICAgICAgICAgICAvLyBTaW5jZSBGcmllbmRzTGlzdCBpcyBub3Qgb24gb3RoZXIgY2hhcmFjdGVycywgY2FuIG9ubHkgY2hlY2sgaWYgdGhlIFBsYXllciBhbmQgYW5vdGhlciBjaGFyYWN0ZXIgYXJlIGZyaWVuZHNcbiAgICAgICAgICAgIC8vIFVuYWJsZSB0byBjaGVjayBpZiAyIGRpZmZlcmVudCBjaGFyYWN0ZXJzIGFyZSBmcmllbmRzXG4gICAgICAgICAgICAvLyB0YXJnZXRDaGFyIGlzIG5vbi1wbGF5ZXIgYW5kIGxvb2tpbmcgZm9yIFBsYXllciBtZW1iZXIgbnVtYmVyXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgc291cmNlQ2hhci5NZW1iZXJOdW1iZXIgIT09IFBsYXllci5NZW1iZXJOdW1iZXJcbiAgICAgICAgICAgICAgICAmJiBQbGF5ZXIuTWVtYmVyTnVtYmVyID09PSBtZW1iZXJOdW1iZXJcbiAgICAgICAgICAgICAgICAmJiBBVVRIT1JJVFlfR1JPVVBTLkZyaWVuZExpc3QoKS5pbmNsdWRlcyhzb3VyY2VDaGFyLk1lbWJlck51bWJlciA/PyAtMSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFBsYXllciBpcyBzZWxmIGFuZCBsb29raW5nIHRocm91Z2ggZnJpZW5kcyBsaXN0XG4gICAgICAgICAgICBpZiAoc291cmNlQ2hhci5NZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYXV0aENoZWNrID0gbmV3IFNldChbLi4uYXV0aENoZWNrLCAuLi5BVVRIT1JJVFlfR1JPVVBTLkZyaWVuZExpc3QoKV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZTogZmFsbHRocm91Z2ggaXMgaW50ZW50aW9uYWxcbiAgICAgICAgY2FzZSBcIldoaXRlbGlzdFwiOlxuICAgICAgICAgICAgYXV0aENoZWNrID0gbmV3IFNldChbLi4uYXV0aENoZWNrLCAuLi5BVVRIT1JJVFlfR1JPVVBTLldoaXRlTGlzdChzb3VyY2VDaGFyKV0pO1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZTogZmFsbHRocm91Z2ggaXMgaW50ZW50aW9uYWxcbiAgICAgICAgY2FzZSBcIkxvdmVyc1wiOlxuICAgICAgICAgICAgYXV0aENoZWNrID0gbmV3IFNldChbLi4uYXV0aENoZWNrLCAuLi5BVVRIT1JJVFlfR1JPVVBTLkxvdmVycyhzb3VyY2VDaGFyKV0pO1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZTogZmFsbHRocm91Z2ggaXMgaW50ZW50aW9uYWxcbiAgICAgICAgY2FzZSBcIk93bmVyc1wiOlxuICAgICAgICAgICAgYXV0aENoZWNrID0gbmV3IFNldChbLi4uYXV0aENoZWNrLCAuLi5BVVRIT1JJVFlfR1JPVVBTLk93bmVycyhzb3VyY2VDaGFyKV0pO1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZTogZmFsbHRocm91Z2ggaXMgaW50ZW50aW9uYWxcbiAgICAgICAgY2FzZSBcIkNsdWJvd25lclwiOlxuICAgICAgICAgICAgYXV0aENoZWNrID0gbmV3IFNldChbLi4uYXV0aENoZWNrLCAuLi5BVVRIT1JJVFlfR1JPVVBTLkNsdWJvd25lcihzb3VyY2VDaGFyKV0pO1xuICAgICAgICAgICAgLy8gQHRzLWlnbm9yZTogZmFsbHRocm91Z2ggaXMgaW50ZW50aW9uYWxcbiAgICAgICAgZGVmYXVsdDpcbiAgICB9XG5cbiAgICByZXR1cm4gYXV0aENoZWNrLmhhcyhtZW1iZXJOdW1iZXIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gSGlnaGVzdExldmVsQXV0aG9yaXR5R3JvdXAobWVtYmVyTnVtYmVyOiBudW1iZXIsIHRhcmdldENoYXI6IENoYXJhY3RlciA9IFBsYXllcik6IEF1dGhvcml0eUdyb3VwXG57XG4gICAgaWYgKHRhcmdldENoYXIuTWVtYmVyTnVtYmVyID09PSBtZW1iZXJOdW1iZXIpXG4gICAge1xuICAgICAgICByZXR1cm4gXCJTZWxmXCI7XG4gICAgfVxuICAgIGlmICh0YXJnZXRDaGFyPy5Pd25lcnNoaXA/Lk1lbWJlck51bWJlciA9PT0gbWVtYmVyTnVtYmVyKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFwiQ2x1Ym93bmVyXCI7XG4gICAgfVxuICAgIGlmIChBVVRIT1JJVFlfR1JPVVBTLk93bmVycyh0YXJnZXRDaGFyKS5pbmNsdWRlcyhtZW1iZXJOdW1iZXIpKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFwiT3duZXJzXCI7XG4gICAgfVxuICAgIGlmIChBVVRIT1JJVFlfR1JPVVBTLkxvdmVycyh0YXJnZXRDaGFyKS5pbmNsdWRlcyhtZW1iZXJOdW1iZXIpKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFwiTG92ZXJzXCI7XG4gICAgfVxuICAgIGlmIChBVVRIT1JJVFlfR1JPVVBTLldoaXRlTGlzdCh0YXJnZXRDaGFyKS5pbmNsdWRlcyhtZW1iZXJOdW1iZXIpKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFwiV2hpdGVsaXN0XCI7XG4gICAgfVxuICAgIC8vIEZyaWVuZHNcbiAgICAvLyBUYXJnZXRjaGFyYWN0ZXIgaXMgc2VsZlxuICAgIGlmICh0YXJnZXRDaGFyLk1lbWJlck51bWJlciA9PT0gUGxheWVyLk1lbWJlck51bWJlciAmJiBQbGF5ZXIuRnJpZW5kTGlzdD8uaW5jbHVkZXMobWVtYmVyTnVtYmVyKSlcbiAgICB7XG4gICAgICAgIHJldHVybiBcIkZyaWVuZHNcIjtcbiAgICB9XG4gICAgLy8gVGFyZ2V0IGNoYXJhY3RlciBpcyBub3Qgc2VsZiwgYnV0IGxvb2t1cCBjaGFyYWN0ZXIgaXNcbiAgICBpZiAodGFyZ2V0Q2hhci5NZW1iZXJOdW1iZXIgIT09IFBsYXllci5NZW1iZXJOdW1iZXJcbiAgICAgICYmIG1lbWJlck51bWJlciA9PT0gUGxheWVyLk1lbWJlck51bWJlclxuICAgICAgJiYgUGxheWVyLkZyaWVuZExpc3Q/LmluY2x1ZGVzKHRhcmdldENoYXIuTWVtYmVyTnVtYmVyID8/IC0xKVxuICAgIClcbiAgICB7XG4gICAgICAgIHJldHVybiBcIkZyaWVuZHNcIjtcbiAgICB9XG4gICAgLy8gUHVibGljXG4gICAgaWYgKFxuICAgICAgICAhKHRhcmdldENoYXIuQmxhY2tMaXN0LmluY2x1ZGVzKG1lbWJlck51bWJlcilcbiAgICAgICAgfHwgKCh0YXJnZXRDaGFyIGFzIFBsYXllckNoYXJhY3Rlcik/Lkdob3N0TGlzdD8uaW5jbHVkZXMobWVtYmVyTnVtYmVyKSA/PyBmYWxzZSkpXG4gICAgKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFwiUHVibGljXCI7XG4gICAgfVxuICAgIHJldHVybiBcIk5vbmVcIjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEF1dGhvcml0eUlzQ29tcGFyaXNvblRvQ2hhcmFjdGVyKGdyb3VwOiBBdXRob3JpdHlHcm91cCwgY29tcGFyaXNvbjogXCI+XCIgfCBcIjxcIiB8IGAke1wiPVwiIHwgXCIhXCIgfCBcIj5cIiB8IFwiPFwifT1gID0gXCI+PVwiLCBtZW1iZXJOdW1iZXI6IG51bWJlciwgY2hhcmFjdGVyOiBDaGFyYWN0ZXIgPSBQbGF5ZXIpOiBib29sZWFuXG57XG4gICAgY29uc3QgcmFuayA9IEhpZ2hlc3RMZXZlbEF1dGhvcml0eUdyb3VwKG1lbWJlck51bWJlciwgY2hhcmFjdGVyKTtcblxuICAgIGNvbnN0IGdyb3VwSW5kZXggPSBBVVRIT1JJVFlfR1JPVVBfUFJJT19PUkRFUi5pbmRleE9mKGdyb3VwKTtcbiAgICBjb25zdCByYW5rSW5kZXggPSBBVVRIT1JJVFlfR1JPVVBfUFJJT19PUkRFUi5pbmRleE9mKHJhbmspO1xuXG4gICAgaWYgKGdyb3VwSW5kZXggPT09IC0xIHx8IHJhbmtJbmRleCA9PT0gLTEpXG4gICAge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgc3dpdGNoIChjb21wYXJpc29uKVxuICAgIHtcbiAgICAgICAgY2FzZSBcIj5cIjpcbiAgICAgICAgICAgIHJldHVybiByYW5rSW5kZXggPiBncm91cEluZGV4O1xuXG4gICAgICAgIGNhc2UgXCI8XCI6XG4gICAgICAgICAgICByZXR1cm4gcmFua0luZGV4IDwgZ3JvdXBJbmRleDtcblxuICAgICAgICBjYXNlIFwiPj1cIjpcbiAgICAgICAgICAgIHJldHVybiByYW5rSW5kZXggPj0gZ3JvdXBJbmRleDtcblxuICAgICAgICBjYXNlIFwiPD1cIjpcbiAgICAgICAgICAgIHJldHVybiByYW5rSW5kZXggPD0gZ3JvdXBJbmRleDtcblxuICAgICAgICBjYXNlIFwiPT1cIjpcbiAgICAgICAgICAgIHJldHVybiByYW5rSW5kZXggPT0gZ3JvdXBJbmRleDtcblxuICAgICAgICBjYXNlIFwiIT1cIjpcbiAgICAgICAgICAgIHJldHVybiByYW5rSW5kZXggIT0gZ3JvdXBJbmRleDtcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBjb21wYXJpc29uIG9wZXJhdG9yXCIpO1xuICAgIH1cbn1cbiIsImltcG9ydCBwYWNrYWdlSW5mbyBmcm9tIFwiLi4vLi4vcGFja2FnZS5qc29uXCI7XG5cbmV4cG9ydCBjb25zdCBNUEFfTkFNRSA9IHBhY2thZ2VJbmZvLm5hbWUudG9Mb2NhbGVVcHBlckNhc2UoKTtcbmV4cG9ydCBjb25zdCBNUEFfVkVSU0lPTiA9IHBhY2thZ2VJbmZvLnZlcnNpb247XG5leHBvcnQgY29uc3QgTVBBX1JFUE8gPSBwYWNrYWdlSW5mby5yZXBvc2l0b3J5LnVybDtcblxuZXhwb3J0IGNvbnN0IElDT05TID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgUEFXOiBcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRllBQUFCV0NBWUFBQUJWVm1IM0FBQUFBWE5TUjBJQXJzNGM2UUFBQUFSblFVMUJBQUN4and2OFlRVUFBQUFKY0VoWmN3QUFEc0VBQUE3QkFiaVJhKzBBQUFBWmRFVllkRk52Wm5SM1lYSmxBSGQzZHk1cGJtdHpZMkZ3WlM1dmNtZWI3andhQUFBRzdFbEVRVlI0WHUyY1Y4ZzBOUmhHZnhWN0FUdUtZa05GN0lLaTNsZ3Z4SWFLSWlKMnZWQ3hGeFFiMkM0VmU4RjJvYUpnQTN0RnNIY0ZHNG9Oc1dEdnZUM25tNDJFNFozWlpKTFpiK2NuQnc0NzdDWXpTWFoySm5tVDJUbUZRcUZRS0JRS2hVS2hVQ2dVeHJHYVBGKytMZitSMzh2NzVRRnlNWmtMOXJXL3ZFOStKemtXeCtUWWxHR3U0bWo1dS95M3dVOGtEWndLKzJCZjFqR1FNaHdsNXdwb1ZLdVNscGZLcnBEWDJxZmw0QnQzSThsUDBhcGNrOWZLV01oajdhdEp5clNoSEN3UFNhdGk0enhkaG5LYXRQWXh6Z2ZsSUZsUFdoVUtkVXM1RHRKWWVVT2xqTDB3NytpMUQvWVl2WGJsQ3RsV1BqNGpUUXE3ajE0SHhTUFNPa3RpcE52VUJKOVplV0o4V0E2SytlV0gwcXBNakc5STY2emxQVDZ6OHNUNGdhU3NnMkU1K1lPMEtoUHJWcklPNzFscFk2V015OHJzOUhXTlhVUXVWRzBtcy9mbzFjZDZyd3NMU3NxYW5iNGFGamdqY3JDOW5LL2FuSUZ0M3N1Qk8zT3owMWZEL2l4L3F6YVRXVU91WG0zT3dEYnY1WUF5L2xKdDVxV3ZoaVg0OFhXMW1ReGxYS2ZhbklIdFhPWCtSbExXN1BUVnNIOUs3cmk1V0hYMENqa2pWSlR4cjJvekw2RU5Tem91OURHOE5Ick5nWC9uem5rWGYzSDBHZ3B0RU5SbWJZbFdrQ2RKeHRURU05K1JiMHJpbkdmSkxXUWJqNDVlYytCL3FiRmZjQnVQalY2YjJGeFNWK3BNM1dtRHQrUUQ4a1JKRzBYQnFPWkw2ZTZhVGI0Z2lZSE9JK3NzS3IrUVZyNVl6NVVPdHEwMHNWSTJ5bWhCL1orWFZqNWYybWcvR1VTWG9TS0YyRnJXdVV4YTZXTWxwdXM0UmxwcFlyVml2d3c4bnBOVytqYkhCdW1Ya2I5S0szT0k1MGdmN3VDeDhWakxIYVZqSjJtbGlaRXkrVDBOT0Z0YWFVT2t6V2k3Um5LY0RYZElmOVIxbzdUU2hjcDB5a3JTd1hiYk5FK0lsTWxCV1crWFZyb1lhYnRHbnBSV3BsaTVLU3dzZ1liNFVWcnBRcVJNZFo2U1Z0b1FLWXY3b2lnalpiWFN4ZnFFYk9RbmFXWHE0cjNTY1pDMDBvUkkzam9IU3l0dGlBZEtCMlcwMG5TUnRtdkV5cERpQmRJUk05bm5mRTlhM1N0K3ZueG01V256RXVtZ2JGYWFGQnRoR0dwbFNIRUg2WWlkOU50R09sYVdLMWFiTTJ3cnJUeE4rcE9VbE1sS2srSlhzaEU2OVZhbUZOK1g3bm9MWjhpL3BaWFc5MUFKdTBoR2NkeDUrYmx4TFhQellZZEpLNjh2UFlBenBZT3lNSlMxMHFiWU9pQTZWVnFaVWoxZSttd203NUxXM1oxKzVIWVNhTlQ2NTBnRHN3OGdyZFgzWk44Y3c2VnpuQ0RyYVhOSTIvMVBmY1RFWFB1cjFXWldQcFpyU2lyclEvaHZVOGxQblBBZHgzNVd3czZTcmx2VDFBbFJLWDdTTkNvdy9HUWRBNEhyVHlXalFxN0RQbHliR1paeVdja054MzZ0MnJSaFRHeDlJNmx5OW9XeWx5VHFaTzNIbC9WZjF0Uk5FN3RLYXorcDBtWmpZWGhtWlU3MUdobENiTmVNYXkranNSQmliNTZoQnEwN0krTEZUOUxhUVlxdFA1TVJSSXlzdk9Qa0J0VTJWZTZnREZiK0ZHbXIwUERyekFVL3h4amZsMGpRNHJLSmk2U1ZMMGFXR3pXeGhBeUoyTVZJRzlWdmptTTVXVm83NnlwRHllVmxIVUozZDBvclR4ZXZsbFlZazJPbkRLMHRhYU5PWENldEhYYVJEalJuamM4cWtydTNsVDVGQXRGTFNoK09UUm1zOUYya2JaSzRSVm83anZWbDZVUDNpRzZZbFRhSHI4dTFwYzhyMGtvYksyMlNoY3VsZFlBWS9WbUFQU1g5Vml0ZFRwa2w4QVB3NTBrclhZeTBSVmFPa0YwYmc1R1N1NzRlSzYwMGZmbUgzRmNDYzFSZEkzalUvVWpaQyt2S2U2UjE0RGJkY3NrTHBmWDVKSFJEVHBhWFdwKzNTWjE3VzB2cncxQ1NXQ1puZzFVUTUwZlNUYXZjS3EwMGs5VE5jekZjSHJjYWtyb3hPK3RINTRLeHVpVXhNUDRuQ01KVU9PTisrcWtzMnlHaXhmcllteVFGSkVvZk0vVHNFNlpodU1ZVFU5aEhzZzZNc2hQM3BUdEdmT0VaU2JUcVhUbVYwTkNFL0t3ellqWmxyVVRxU1RWcmNFWjBtVXFlbEhmTFFUWXVJVCtyUXRPa1AxVXpDRTZSVmtXbVVkY1ZtM3JvbG9URVVxZEZBdWJSYTdCbWcxeno5SlAwQmpuVjVIcm9ZdEl5dVZtUEt5UVJIS0FONVBEUjY5Q2dIUTZwTnFjUHduSjlyRXVZbEt4N3pYYWk1VHhqTjVaTFZadURaQzJaNjZHUnJBM0w5TytRb1MzV3J6YlR5ZG13MmI3dFdjUi83Q21KbkEyNzlPaDF5TFF1SG80aFo4TU9OcWpoa2EwT09SczIxd056czBucmlzRVljallzM1pXaE01VjFZTnJHNmgvbWtyOTl5cjNnd3BlNXNGNGVzYy9CMDlJcWRBNlpxenF1OWw1T21UcWFXcGhMc2dxZHFsdk54Ny9BNVhvb3IrNG1jcXJKdVZ6STZhOE5JSDVxcFVueFlqbjFNS3p0OHVCRmt5eXRyM09sdE5KMmtZWE9DOGhCd093dE03VldSV0xrYWNFbXJwSlduaGg1K250cWIxaE5zUHlkeFdsV2hjYjVyZlNmeDJxQzliUmRuMUs4V2RZWDZRMEtWanVITG1SbWRmYjFNdWJQSGphUXQ4bVFKM0dRbnN0dXNsY21PUXdsck1oelc2d3k1QUZoL2tLS2luNHVXWW5JbEE2TEpENlRYZUJmT0ZoOHdURjRTSVg5MDlqc24vL29va0VmbDBIUEN4UUtoVUtoVUNnVUNvVkNZYnFaTStjL2NGTFZiZ3RlVEVZQUFBQUFTVVZPUks1Q1lJST1cIlxufSk7XG5cbmV4cG9ydCBjb25zdCBJTlZPTFVOVEFSWV9QRVRfU1BFQUtfUEVSQ0VOVEFHRSA9IDAuMDU7XG5leHBvcnQgY29uc3QgSU5WT0xVTlRBUllfUlVTSEVEX1NQRUFLX1BFUkNFTlRBR0UgPSAwLjU7XG5leHBvcnQgY29uc3QgSU5WT0xVTlRBUllfRU5EX1BFVF9TUEVBS19QRVJDRU5UQUdFID0gMC4yO1xuXG5leHBvcnQgY29uc3QgQUNUSVZJVFlfTkFNRV9QUkVGSVggPSBcIk1QQV9cIjtcbmV4cG9ydCBjb25zdCBCRUxMX1NPVU5EID0gbmV3IEF1ZGlvKFwiQXVkaW9cXFxcQmVsbE1lZGl1bS5tcDNcIik7XG5cbmV4cG9ydCBjb25zdCBCRURfUEVSRkVDVCA9IFtcIlBldEJlZFwiLCBcIkNyaWJcIl07XG5leHBvcnQgY29uc3QgQkVEX05PUk1BTCA9IFtcIkxvd0NhZ2VcIiwgXCJLZW5uZWxcIiwgXCJCZWRcIiwgXCJNZWRpY2FsQmVkXCIsIFwiQ3VzaGlvblwiXTtcbmV4cG9ydCBjb25zdCBCRURfQkFEID0gW1wiRnV0dXJpc3RpY0NyYXRlXCIsIFwiRG9sbEJveFwiLCBcIktlbm5lbFwiLCBcIkxvd0NhZ2VcIl07XG5leHBvcnQgY29uc3QgQUxMX0JFRFMgPSBCRURfUEVSRkVDVC5jb25jYXQoQkVEX05PUk1BTCwgQkVEX0JBRCk7XG4iLCIvKipcbiAqIEdldCBhIHJhbmRvbSBlbGVtZW50IGZyb20gYW4gYXJyYXkgb2Ygb2JqZWN0c1xuICovXG5leHBvcnQgZnVuY3Rpb24gUmFuZG9tRWxlbWVudDxUPihhcnJheTogVFtdKTogVCB8IG51bGxcbntcbiAgICBpZiAoYXJyYXkubGVuZ3RoID09IDApIHsgcmV0dXJuIG51bGw7IH1cbiAgICByZXR1cm4gYXJyYXlbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogYXJyYXkubGVuZ3RoKV07XG59XG5cbi8qKlxuICogTWFrZSBhIG5ldyBhcnJheSB0aGF0IGlzIGEgY29weSBvZiB0aGUgb3JnaW5hbCBtaW51cyBhbnkgbWF0Y2hpbmcgZWxlbWVudHMgaW4gdGhlIGZpbHRlclxuICovXG5leHBvcnQgZnVuY3Rpb24gRmlsdGVyQXJyYXlGcm9tQXJyYXk8VD4oYXJyYXk6IFRbXSwgZmlsdGVyQXJyYXk6IFRbXSk6IFRbXVxue1xuICAgIGxldCBuZXdBcnJheSA9IHN0cnVjdHVyZWRDbG9uZShhcnJheSk7XG4gICAgZmlsdGVyQXJyYXkuZm9yRWFjaCgoZWxlKSA9PlxuICAgIHtcbiAgICAgICAgbmV3QXJyYXkgPSBuZXdBcnJheS5maWx0ZXIoKGJhZEVsZSkgPT4gZWxlICE9PSBiYWRFbGUpO1xuICAgIH0pO1xuICAgIHJldHVybiBuZXdBcnJheTtcbn1cblxuLyoqXG4gKiBTaHVmZmxlIGFuIGFycmF5IGluIHBsYWNlLCB0aGFua3MgdG8gQ2hhdCBHUFRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFNodWZmbGVBcnJheTxUPihhcnJheTogVFtdKTogVFtdXG57XG4gICAgZm9yIChsZXQgaSA9IGFycmF5Lmxlbmd0aCAtIDE7IGkgPiAwOyBpLS0pXG4gICAge1xuICAgICAgICBjb25zdCBqID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGkgKyAxKSk7IC8vIHJhbmRvbSBpbmRleCBmcm9tIDAgdG8gaVxuICAgICAgICBbYXJyYXlbaV0sIGFycmF5W2pdXSA9IFthcnJheVtqXSwgYXJyYXlbaV1dOyAvLyBzd2FwIGVsZW1lbnRzXG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbn1cbiIsImltcG9ydCB7IE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4uL21vZHVsZXMvX21vZHVsZVwiO1xuaW1wb3J0IHsgTG9jYWxpemVkVGV4dCB9IGZyb20gXCIuLi9sb2NhbGl6YXRpb24vbG9jYWxpemF0aW9uXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTVBBTWVzc2FnZUNvbnRlbnRcbntcbiAgICBtZXNzYWdlOiBzdHJpbmc7XG4gICAgW2tleTogc3RyaW5nXTogYW55OyAvLyBBbGxvd3MgYW55IG90aGVyIGtleXMgd2l0aCB2YWx1ZXMgb2YgYW55IHR5cGVcbn1cbmludGVyZmFjZSBNUEFNZXNzYWdlIGV4dGVuZHMgU2VydmVyQ2hhdFJvb21NZXNzYWdlXG57XG4gICAgQ29udGVudDogXCJNUEFcIjtcbiAgICBUeXBlOiBcIkhpZGRlblwiO1xuICAgIERpY3Rpb25hcnk6IFtNUEFNZXNzYWdlQ29udGVudF07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDb250ZW50SXNNUEFNZXNhZ2UoY29udGVudDogU2VydmVyQ2hhdFJvb21NZXNzYWdlKTogY29udGVudCBpcyBNUEFNZXNzYWdlXG57XG4gICAgcmV0dXJuIChcbiAgICAgICAgY29udGVudC5UeXBlID09PSBcIkhpZGRlblwiXG4gICAgICAgICYmIGNvbnRlbnQuQ29udGVudCA9PT0gXCJNUEFcIlxuICAgICAgICAmJiBjb250ZW50Py5EaWN0aW9uYXJ5Py5sZW5ndGggPT09IDFcbiAgICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gR2V0TVBBTWVzc2FnZUZyb21DaGF0KG1lc3NhZ2U6IFNlcnZlckNoYXRSb29tTWVzc2FnZSk6IE1QQU1lc3NhZ2VDb250ZW50IHwgbnVsbFxue1xuICAgIHJldHVybiBDb250ZW50SXNNUEFNZXNhZ2UobWVzc2FnZSkgPyBtZXNzYWdlLkRpY3Rpb25hcnlbMF0gOiBudWxsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gU2VuZE1QQU1lc3NhZ2UobWVzc2FnZTogTVBBTWVzc2FnZUNvbnRlbnQsIHRhcmdldD86IG51bWJlcik6IHZvaWRcbntcbiAgICBTZXJ2ZXJTZW5kKFwiQ2hhdFJvb21DaGF0XCIsIHtcbiAgICAgICAgVHlwZTogXCJIaWRkZW5cIixcbiAgICAgICAgQ29udGVudDogXCJNUEFcIixcbiAgICAgICAgRGljdGlvbmFyeTogW21lc3NhZ2VdLFxuICAgICAgICBUYXJnZXQ6IHRhcmdldFxuICAgIH0pO1xufVxuXG4vKipcbiAqIFNlbmQgYW4gYWN0aW9uIHRvIHRoZSByb29tIG9yIGNhbiBzcGVjaWZ5IGEgY2hhcmFjdGVyIHdobyB3aWxsIG9ubHkgc2VlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBTZW5kQWN0aW9uKGNvbnRlbnQ6IHN0cmluZywgdGFyZ2V0OiBDaGFyYWN0ZXIgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQsIGRpY3Rpb25hcnk6IENoYXRNZXNzYWdlRGljdGlvbmFyeSA9IFtdKTogdm9pZFxue1xuICAgIFNlcnZlclNlbmQoXCJDaGF0Um9vbUNoYXRcIiwge1xuICAgICAgICBDb250ZW50OiBcIk1heWFTY3JpcHRcIixcbiAgICAgICAgVHlwZTogXCJBY3Rpdml0eVwiLFxuICAgICAgICBEaWN0aW9uYXJ5OiBbeyBUYWc6IFwiTUlTU0lORyBBQ1RJVklUWSBERVNDUklQVElPTiBGT1IgS0VZV09SRCBNYXlhU2NyaXB0XCIsIFRleHQ6IExvY2FsaXplZFRleHQoY29udGVudCkgfSwgLi4uZGljdGlvbmFyeV0sXG4gICAgICAgIFRhcmdldDogdGFyZ2V0Py5NZW1iZXJOdW1iZXIgfVxuICAgICk7XG5cbiAgICAvLyBTZXJ2ZXJTZW5kKFwiQ2hhdFJvb21DaGF0XCIsIHtcbiAgICAvLyAgICAgQ29udGVudDogXCJCZWVwXCIsXG4gICAgLy8gICAgIFR5cGU6IFwiQWN0aW9uXCIsXG4gICAgLy8gICAgIERpY3Rpb25hcnk6IFt7IFRhZzogXCJCZWVwXCIsIFRleHQ6IExvY2FsaXplZFRleHQoY29udGVudCkgfV0sXG4gICAgLy8gICAgIFRhcmdldDogdGFyZ2V0Py5NZW1iZXJOdW1iZXJcbiAgICAvLyB9KTtcbn1cblxuLyoqXG4gKiBTZW5kIGFuIGVtb3RlIHRvIHRoZSByb29tIG9yIGNhbiBzcGVjaWZ5IGEgY2hhcmFjdGVyIHdobyB3aWxsIG9ubHkgc2VlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBTZW5kRW1vdGUoY29udGVudDogc3RyaW5nLCB0YXJnZXQ6IENoYXJhY3RlciB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCk6IHZvaWRcbntcbiAgICBTZXJ2ZXJTZW5kKFwiQ2hhdFJvb21DaGF0XCIsIHtcbiAgICAgICAgQ29udGVudDogYCR7Y29udGVudH1gLFxuICAgICAgICBUeXBlOiBcIkVtb3RlXCIsXG4gICAgICAgIFRhcmdldDogdGFyZ2V0Py5NZW1iZXJOdW1iZXIgfVxuICAgICk7XG59XG5cbi8qKlxuICogRGlzcGxheSB0ZXh0IHRvIHRoZSBsb2NhbCBwbGF5ZXIgb25seVxuICovXG5leHBvcnQgZnVuY3Rpb24gTm90aWZ5UGxheWVyKGNvbnRlbnQ6IHN0cmluZywgdGltZW91dD86IG51bWJlcik6IHZvaWRcbntcbiAgICBjb25zdCBkYXJrVGhlbWUgPSBQbGF5ZXIuQ2hhdFNldHRpbmdzPy5Db2xvclRoZW1lID09PSBcIkRhcmtcIiB8fCBQbGF5ZXIuQ2hhdFNldHRpbmdzPy5Db2xvclRoZW1lID09PSBcIkRhcmsyXCI7XG4gICAgQ2hhdFJvb21TZW5kTG9jYWwoYDxwIHN0eWxlPSdiYWNrZ3JvdW5kLWNvbG9yOiMwMGMyZmY7Y29sb3I6JHtkYXJrVGhlbWUgPyBcIndoaXRlXCIgOiBcImJsYWNrXCJ9O21hcmdpbi1ib3R0b206MC4yNWVtO21hcmdpbi10b3A6MCc+JHtjb250ZW50fTwvcD5gLCB0aW1lb3V0KTtcbn1cblxuLyoqXG4gKiBEaXNwbGF5IHRleHQgdG8gdGhlIGxvY2FsIHBsYXllciwgbWFraW5nIGl0IGNsZWFyIGl0cyBmcm9tIE1QQVxuICovXG5leHBvcnQgZnVuY3Rpb24gTVBBTm90aWZ5UGxheWVyKGNvbnRlbnQ6IHN0cmluZywgdGltZW91dD86IG51bWJlcik6IHZvaWRcbntcbiAgICBOb3RpZnlQbGF5ZXIoYCR7TG9jYWxpemVkVGV4dChcIk1QQVwiKX06ICR7Y29udGVudH1gLCB0aW1lb3V0KTtcbn1cblxuLyoqXG4gKiBGaW5kIGEgQ2hhcmFjdGVyIGluIHRoZSBjaGF0IHJvb20gd2l0aCBieSBudW1iZXIsIG5hbWUsIG9yIG5pY2suIE5vdCBjYXNlIHNlbnN0aXZlLlxuICogSWYgbXVsdGlwbGUgcGVvcGxlIGV4aXN0cyB3aXRoIHRoZSBzYW1lIG5pY2tuYW1lIG9yIG5hbWUuIEl0IHdpbGwgcmV0dXJuIHRoZSBmaXJzdCBwZXJzb24gdGhhdCBtYXRjaGVzLlxuICogVXNlIE1lbWJlck51bWJlciBpZiB5b3Ugd2FudCB0byBndXJhbnRlZSB0byBmaW5kIHRoYXQgc3BlY2lmaWMgY2hhcmFjdGVyLlxuICpcbiAqIEBwYXJhbSBzZWFyY2ggLSBUaGUgTWVtYmVyTnVtYmVyLCBOYW1lLCBvciBOaWNrbmFtZSBvZiB0aGUgcGVyc29uIHlvdSB3YW50IHRvIGZpbmRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEZpbmRDaGFyYWN0ZXJJblJvb20oc2VhcmNoOiBzdHJpbmcgfCBudW1iZXIsIHsgTWVtYmVyTnVtYmVyID0gdHJ1ZSwgTmlja05hbWU6IE5pY2tuYW1lID0gdHJ1ZSwgTmFtZSA9IHRydWUgfSA9IHt9KTogQ2hhcmFjdGVyIHwgbnVsbFxue1xuICAgIC8vIE1ha2Ugc3VyZSBwbGF5ZXJTZWFyY2ggaXMgYSBzdHJpbmcgLSBub3QgY2FzZSBzZW5zdGl2ZVxuICAgIGlmICh0eXBlb2Ygc2VhcmNoICE9PSBcInN0cmluZ1wiKVxuICAgIHtcbiAgICAgICAgc2VhcmNoID0gc2VhcmNoLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIHNlYXJjaCA9IHNlYXJjaC50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuXG4gICAgLy8gTG9vcCB0aHJvdWdoIGFsbCB0aGUgQ2hhcmFjdGVycyBpbiB0aGUgY2hhdFxuICAgIGZvciAoY29uc3QgY2hhcmFjdGVyIG9mIENoYXRSb29tQ2hhcmFjdGVyKVxuICAgIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgKE1lbWJlck51bWJlciAmJiBjaGFyYWN0ZXI/Lk1lbWJlck51bWJlciA9PT0gTnVtYmVyKHNlYXJjaCkpXG4gICAgICAgICAgICB8fCAoTmlja25hbWUgJiYgY2hhcmFjdGVyPy5OaWNrbmFtZT8udG9Mb2NhbGVMb3dlckNhc2UoKSA9PT0gc2VhcmNoKVxuICAgICAgICAgICAgfHwgKE5hbWUgJiYgY2hhcmFjdGVyLk5hbWUudG9Mb2NhbGVMb3dlckNhc2UoKSA9PT0gc2VhcmNoKVxuICAgICAgICApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBjaGFyYWN0ZXI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBObyBjaGFyYWN0ZXIgZm91bmRcbiAgICByZXR1cm4gbnVsbDtcbn1cblxuLyoqXG4gKiBSZW1vdmUgYWxsIGNvbnRlbnQgdGhhdCBpcyBPT0MgZnJvbSBhIG1lc3NhZ2VcbiAqIEByZXR1cm5zIE9ubHkgdGhlIElDIG1lc3NhZ2UgY29udGVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gUmVtb3ZlT09DQ29udGVudEZyb21NZXNzYWdlKG1lc3NhZ2U6IHN0cmluZyk6IHN0cmluZ1xue1xuICAgIGNvbnN0IHJhbmdlcyA9IFNwZWVjaEdldE9PQ1JhbmdlcyhtZXNzYWdlKS5yZXZlcnNlKCk7XG4gICAgcmFuZ2VzLmZvckVhY2goKHJhbmdlKSA9PlxuICAgIHtcbiAgICAgICAgbWVzc2FnZSA9IG1lc3NhZ2Uuc3Vic3RyaW5nKDAsIHJhbmdlLnN0YXJ0KSArIG1lc3NhZ2Uuc3Vic3RyaW5nKHJhbmdlLnN0YXJ0ICsgcmFuZ2UubGVuZ3RoKTtcbiAgICB9KTtcbiAgICByZXR1cm4gbWVzc2FnZTtcbn1cblxudHlwZSBNZXNzYWdlQWN0aW9uID0gKHNlbmRlcjogQ2hhcmFjdGVyLCBjb250ZW50OiBNUEFNZXNzYWdlQ29udGVudCkgPT4gdm9pZDtcbmV4cG9ydCBpbnRlcmZhY2UgSG9va2VkTWVzc2FnZVxue1xuICAgIG1vZHVsZTogTW9kdWxlVGl0bGUgfCBudWxsO1xuICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgICBhY3Rpb246IE1lc3NhZ2VBY3Rpb247XG59XG5leHBvcnQgY29uc3QgaG9va2VkTWVzc2FnZXM6IEhvb2tlZE1lc3NhZ2VbXSA9IFtdO1xuXG4vKipcbiAqIEFkZCBhIGxpc3RlbmVyIGZvciBhbiBpbmNvbWluZyBNUEEgbWVzc2FnZVxuICogQHBhcmFtIGxpc3RlbmVyLnRpdGxlIC0gV2hhdCBtb2R1bGUgZG9lcyB0aGUgbGlzdGVuZXIgYmVsb25nIHRvXG4gKiBAcGFyYW0gbGlzdGVuZXIubWVzc2FnZSAtIFRoZSBtZXNzYWdlIHN0cmluZyB0byBtYXRjaCB3aXRoIHRoZSBpbmNvbWluZyBtZXNzYWdlXG4gKiBAcGFyYW0gbGlzdGVuZXIuYWN0aW9uIC0gUnVuIHRoaXMgZnVuY3Rpb24gd2hlbiBhIG1hdGNoIGlzIGZvdW5kXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBBZGREYXRhU3luY0xpc3RlbmVyKGxpc3RlbmVyOiBIb29rZWRNZXNzYWdlKTogdm9pZFxue1xuICAgIGhvb2tlZE1lc3NhZ2VzLnB1c2goe1xuICAgICAgICBtb2R1bGU6IGxpc3RlbmVyLm1vZHVsZSxcbiAgICAgICAgbWVzc2FnZTogbGlzdGVuZXIubWVzc2FnZSxcbiAgICAgICAgYWN0aW9uOiBsaXN0ZW5lci5hY3Rpb25cbiAgICB9IGFzIEhvb2tlZE1lc3NhZ2UpO1xufVxuLyoqXG4gKiBBZGQgbWFueSBsaXN0ZW5lcnMgZm9yIGFuIGluY29taW5nIE1QQSBtZXNzYWdlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBBZGREYXRhU3luY0xpc3RlbmVycyhsaXN0ZW5lcnM6IEhvb2tlZE1lc3NhZ2VbXSk6IHZvaWRcbntcbiAgICBsaXN0ZW5lcnMuZm9yRWFjaCgobGlzdGVuZXIpID0+XG4gICAge1xuICAgICAgICBob29rZWRNZXNzYWdlcy5wdXNoKHtcbiAgICAgICAgICAgIG1vZHVsZTogbGlzdGVuZXIubW9kdWxlLFxuICAgICAgICAgICAgbWVzc2FnZTogbGlzdGVuZXIubWVzc2FnZSxcbiAgICAgICAgICAgIGFjdGlvbjogbGlzdGVuZXIuYWN0aW9uXG4gICAgICAgIH0gYXMgSG9va2VkTWVzc2FnZSk7XG4gICAgfSk7XG59XG4vKipcbiAqIFJlbW92ZSBhbGwgdGhlIGxpc3RlbmVycyBiYXNlZCBvbiB0aGUgTW9kdWxlVGl0bGVcbiAqIEBwYXJhbSBtb2R1bGUgLSBNb2R1bGUgdGhlIGxpc3RlbmVycyB5b3Ugd2FudCB0byByZW1vdmUgYmVsb25ncyB0b1xuICovXG5leHBvcnQgZnVuY3Rpb24gUmVtb3ZlRGF0YVN5bmNMaXN0ZW5lcnMobW9kdWxlOiBNb2R1bGVUaXRsZSB8IG51bGwpOiB2b2lkXG57XG4gICAgZm9yIChsZXQgaSA9IGhvb2tlZE1lc3NhZ2VzLmxlbmd0aCAtIDE7IDAgPD0gaTsgaS0tKVxuICAgIHtcbiAgICAgICAgaWYgKGhvb2tlZE1lc3NhZ2VzW2ldLm1vZHVsZSA9PT0gbW9kdWxlKVxuICAgICAgICB7XG4gICAgICAgICAgICBob29rZWRNZXNzYWdlcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBHZXRFbnRyeUZyb21DaGF0RGljdGlvbmFyeShkYXRhOiBTZXJ2ZXJDaGF0Um9vbU1lc3NhZ2UsIGF0dHJpYnV0ZTogc3RyaW5nKTogQ2hhdE1lc3NhZ2VEaWN0aW9uYXJ5RW50cnkgfCB1bmRlZmluZWRcbntcbiAgICBpZiAoIWRhdGEuRGljdGlvbmFyeSlcbiAgICB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHRyeVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGRhdGEuRGljdGlvbmFyeS5maWx0ZXIoKGVudHJ5KSA9PiAhIWVudHJ5W2F0dHJpYnV0ZV0pWzBdO1xuICAgIH1cbiAgICBjYXRjaCAoX2Vycm9yKVxuICAgIHtcbiAgICAgICAgLy8gZWhoaCB0aGlzIGRvZXNuJ3Qgd29yayBjdXogLmZpbHRlciBpcyBub3QgZGVmaW5lZCBvbiBmaXJzdCBsb2FkIGZvciBzb21lIHJlYXNvblxuICAgICAgICAvLyBObyBiaWcgZGVhbCBzbyBJIGRvbid0IHJlYWxseSBjYXJlIGlmIGl0cyBhbiBpc3N1ZSBmb3Igbm93XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YTogU2VydmVyQ2hhdFJvb21NZXNzYWdlLCBhdHRyaWJ1dGU6IHN0cmluZyk6IGFueSB8IHVuZGVmaW5lZFxue1xuICAgIHJldHVybiBHZXRFbnRyeUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBhdHRyaWJ1dGUpPy5bYXR0cmlidXRlXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEFycmF5VG9SZWFkYWJsZVN0cmluZyhhcnI6IHN0cmluZ1tdKTogc3RyaW5nXG57XG4gICAgY29uc3QgbGVuZ3RoID0gYXJyLmxlbmd0aDtcbiAgICBpZiAobGVuZ3RoID09PSAwKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKGxlbmd0aCA9PT0gMSlcbiAgICB7XG4gICAgICAgIHJldHVybiBhcnJbMF07XG4gICAgfVxuICAgIGVsc2UgaWYgKGxlbmd0aCA9PT0gMilcbiAgICB7XG4gICAgICAgIHJldHVybiBgJHthcnJbMF19IGFuZCAke2FyclsxXX1gO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICByZXR1cm4gYCR7YXJyLnNsaWNlKDAsIC0xKS5qb2luKFwiLCBcIil9LCBhbmQgJHthcnJbbGVuZ3RoIC0gMV19YDtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBJTlZPTFVOVEFSWV9FTkRfUEVUX1NQRUFLX1BFUkNFTlRBR0UsIElOVk9MVU5UQVJZX1BFVF9TUEVBS19QRVJDRU5UQUdFLCBJTlZPTFVOVEFSWV9SVVNIRURfU1BFQUtfUEVSQ0VOVEFHRSB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgUmFuZG9tRWxlbWVudCwgU2h1ZmZsZUFycmF5IH0gZnJvbSBcIi4vZ2VuZXJhbFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gQXBwZW5kUGV0U3BlZWNoKHRleHQ6IHN0cmluZywgcGV0UGhyYXNlczogc3RyaW5nW10pOiBzdHJpbmdcbntcbiAgICAvLyBObyB2YWxpZCBwZXQgcGhyYXNlcyB0byBhZGRcbiAgICBjb25zdCBwZXRTb3VuZCA9IFJhbmRvbUVsZW1lbnQocGV0UGhyYXNlcyk7XG4gICAgaWYgKHBldFNvdW5kID09PSBudWxsKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfVxuXG4gICAgaWYgKC9bLiE/XSQvLnRlc3QodGV4dCkpXG4gICAge1xuICAgICAgICByZXR1cm4gYCR7dGV4dH0gJHtwZXRTb3VuZC5jaGFyQXQoMCkudG9Mb2NhbGVVcHBlckNhc2UoKSArIHBldFNvdW5kLnNsaWNlKDEpfS5gO1xuICAgIH1cbiAgICBpZiAoL1thLXpBLVpdJC8udGVzdCh0ZXh0KSlcbiAgICB7XG4gICAgICAgIHJldHVybiBgJHt0ZXh0fSwgJHtwZXRTb3VuZH0uYDtcbiAgICB9XG4gICAgcmV0dXJuIGAke3RleHR9ICR7cGV0U291bmR9LmA7XG59XG5cbi8qKlxuICogQXBwbHkgcGV0IGhlYXJpbmcgdG8gYSBTcGVlY2hUcmFuc2Zvcm1HYWdHYXJibGUgaW5wdXRcbiAqIEBwYXJhbSBhcmdzIEFyZ3Mgb2YgdGhlIFNwZWVjaFRyYW5zZm9ybUdhZ0dhcmJsZVxuICogQHBhcmFtIG5leHQgLSBOZXh0IFNwZWVjaFRyYW5zZm9ybUdhZ0dhcmJsZSB0byBjYWxsXG4gKiBAcGFyYW0gcGhyYXNlc1RvS2VlcCAtIFNvdW5kcyB0aGUgcGV0IGtub3dzXG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gQXBwbHlQZXRIZWFyaW5nKFt0ZXh0LCBpbnRlbnNpdHksIGlnbm9yZU9PQ106IFtzdHJpbmcsIG51bWJlciwgYm9vbGVhbiB8IHVuZGVmaW5lZF0sXG4gICAgbmV4dDogKGFyZ3M6IFt0ZXh0OiBzdHJpbmcsIGludGVuc2l0eTogbnVtYmVyLCBpZ25vcmVPT0M/OiBib29sZWFuIHwgdW5kZWZpbmVkXSkgPT4gc3RyaW5nLFxuICAgIHBocmFzZXNUb0tlZXA6IHN0cmluZ1tdKTogc3RyaW5nXG57XG4gICAgLy8gU3BsaXQgdGhlIGlucHV0IHRleHQgaW50byBkaWZmZXJlbnQgc3Vic3RyaW5ncyBleGx1ZGluZyB0aGUgd29yZHMgeW91IHdhbnQgdG8ga2VlcFxuICAgIC8vIFN0ZXAgMTogR2V0IHRoZSB3b3JkcyB5b3Ugd2FudCB0byBrZWVwIGlmIGFueVxuICAgIC8vIGNvbnN0IHBocmFzZXNUb0tlZXAgPSBHZXRQZXRIZWFyaW5nUGhyYXNlcygpO1xuICAgIC8vIEFkZCB0aGUgUGxheWVyJ3MgbmFtZSBhcyBhIHdvcmQgdGhleSBjYW4gaGVhclxuICAgIHBocmFzZXNUb0tlZXAucHVzaCgoUGxheWVyLk5pY2tuYW1lIHx8IFBsYXllci5OYW1lKS50b0xvY2FsZUxvd2VyQ2FzZSgpKTtcbiAgICAvLyBBZGQgdGhlIFBsYXllcidzIGdlbmRlciBhcyBpbiB0aGUgZXhhbXBsZSwgXCJHb29kIGdpcmxcIlxuICAgIGlmIChQbGF5ZXIuR2V0UHJvbm91bnMoKSA9PT0gXCJTaGVIZXJcIilcbiAgICB7XG4gICAgICAgIHBocmFzZXNUb0tlZXAucHVzaChcImdpcmxcIik7XG4gICAgICAgIHBocmFzZXNUb0tlZXAucHVzaChcInNoZVwiKTtcbiAgICAgICAgcGhyYXNlc1RvS2VlcC5wdXNoKFwiaGVyXCIpO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICBwaHJhc2VzVG9LZWVwLnB1c2goXCJib3lcIik7XG4gICAgICAgIHBocmFzZXNUb0tlZXAucHVzaChcImhlXCIpO1xuICAgICAgICBwaHJhc2VzVG9LZWVwLnB1c2goXCJoaW1cIik7XG4gICAgfVxuXG4gICAgLy8gU3RlcCAyOiBGaW5kIHRoZSBtYXRjaGVzIGlmIHRoZXkgZXhpc3QgaW4gdGhlIG9yZ2luYWwgbWVzc2FnZVxuICAgIC8vIENoZWNrIGxvd2VyIGNhc2UgY3V6IHRoZSBwaHJhc2Ugd2UgbG9va2luZyBmb3IgaW4gbG93ZXIgY2FzZSwgZG9lcyBub3QgbWF0dGVyIGZvciBmaW5hbCByZXN1bHQsIG9ubHkgd2FudCBwb3NpdGlvblxuICAgIGNvbnN0IG1lc3NhZ2UgPSB0ZXh0LnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgaW50ZXJmYWNlIFJhbmdlIHsgc3RhcnQ6IG51bWJlcjsgbGVuOiBudW1iZXIgfVxuICAgIGxldCBmb3VuZFBocmFzZXM6IFJhbmdlW10gPSBbXTtcbiAgICBwaHJhc2VzVG9LZWVwLmZvckVhY2goKHBocmFzZSkgPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IHJlZ0V4cCA9IG5ldyBSZWdFeHAoYFxcXFxiJHtwaHJhc2V9XFxcXGJgLCBcImdcIik7XG4gICAgICAgIGNvbnN0IHJlZ2V4TWF0Y2hlcyA9IFsuLi5tZXNzYWdlLm1hdGNoQWxsKHJlZ0V4cCldO1xuICAgICAgICByZWdleE1hdGNoZXMuZm9yRWFjaCgobWF0Y2gpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvdW5kUGhyYXNlcy5wdXNoKHsgc3RhcnQ6IG1hdGNoLmluZGV4LCBsZW46IHBocmFzZS5sZW5ndGggfSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLy8gUmVtb3ZlIGR1cGxpY2F0ZXMgYmVjYXVzZSBJIGFtIHRvbyBsYXp5IHRvIHByb3Blcmx5IGRlYnVnIHdoeSBkdXBsaWNhdGVzIGFyZSBiZWluZyBwb3B1bGF0ZWRcbiAgICBjb25zdCB1bmlxdWVSYW5nZXMgPSBuZXcgTWFwPHN0cmluZywgUmFuZ2U+KCk7XG4gICAgZm9yIChjb25zdCBpdGVtIG9mIGZvdW5kUGhyYXNlcylcbiAgICB7XG4gICAgICAgIGNvbnN0IGtleSA9IGAke2l0ZW0uc3RhcnR9LSR7aXRlbS5sZW59YDtcbiAgICAgICAgaWYgKCF1bmlxdWVSYW5nZXMuaGFzKGtleSkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHVuaXF1ZVJhbmdlcy5zZXQoa2V5LCBpdGVtKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3VuZFBocmFzZXMgPSBBcnJheS5mcm9tKHVuaXF1ZVJhbmdlcy52YWx1ZXMoKSk7XG5cbiAgICAvLyBObyBtYXRjaGVzIGZvdW5kIHNvIGNhbiBza2lwIGFuZCBlYXJseSByZXR1cm5cbiAgICBpZiAoZm91bmRQaHJhc2VzLmxlbmd0aCA9PT0gMClcbiAgICB7XG4gICAgICAgIHJldHVybiBuZXh0KFt0ZXh0LCBpbnRlbnNpdHksIGlnbm9yZU9PQ10pO1xuICAgIH1cblxuICAgIC8vIFNvcnQgc28gdGhhdCBpdCBpcyBjb25zdHJ1Y3RlZCBpbiB0aGUgY29ycmVjdCBvcmRlciB3aGVuIHB1dCBiYWNrIHRvZ2V0aGVyOyBsb3dlciBzdGFydGluZyBpbmRleGVzIGZpcnN0XG4gICAgZm91bmRQaHJhc2VzLnNvcnQoKGEsIGIpID0+IGEuc3RhcnQgLSBiLnN0YXJ0KTtcbiAgICAvLyBSZW1vdmUgYW55IHBocmFzZXMgdGhhdCBhcmUgZm91bmQgd2l0aGluIE9PQyBzcGVlY2ggcmFuZ2U7XG4gICAgY29uc3Qgb29jUmFuZ2VzID0gU3BlZWNoR2V0T09DUmFuZ2VzKHRleHQpO1xuICAgIG9vY1Jhbmdlcy5mb3JFYWNoKChyYW5nZSkgPT5cbiAgICB7XG4gICAgICAgIGZvciAobGV0IGkgPSBmb3VuZFBocmFzZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHBocmFzZSA9IGZvdW5kUGhyYXNlc1tpXTtcbiAgICAgICAgICAgIC8vIFJlbW92ZSBpZiB0aGUgcGhyYXNlIHN0YXJ0cyBvciBlbmRzIHdpdGhpbiB0aGUgb29jIHJhbmdlXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgKHJhbmdlLnN0YXJ0IDwgcGhyYXNlLnN0YXJ0ICYmIHBocmFzZS5zdGFydCA8IHJhbmdlLnN0YXJ0ICsgcmFuZ2UubGVuZ3RoKVxuICAgICAgICAgICAgICAgIHx8IChyYW5nZS5zdGFydCA8IHBocmFzZS5zdGFydCArIHBocmFzZS5sZW4gJiYgcGhyYXNlLnN0YXJ0ICsgcGhyYXNlLmxlbiA8IHJhbmdlLnN0YXJ0ICsgcmFuZ2UubGVuZ3RoKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZvdW5kUGhyYXNlcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIE1heSBuZWVkIHRvIGNoZWNrIHRoYXQgb25lIHBocmFzZSBkb2VzIG5vdCBzdGFydCBiZWZvcmUgYW5vdGhlciBlbmRzLCBhbmQgaWYgc28gbWVyZ2UgaW50byBhIHNpbmdsZSBsb25nZXIgZW50cnlcbiAgICBsZXQgbGFzdEluZGV4ID0gMDtcbiAgICBsZXQgZmluYWxUZXh0ID0gXCJcIjtcbiAgICBmb3VuZFBocmFzZXMuZm9yRWFjaCgoZm91bmQpID0+XG4gICAge1xuICAgICAgICAvLyBCZWZvcmUgdGhlIHBocmFzZSB0byBvbWl0XG4gICAgICAgIGZpbmFsVGV4dCArPSBuZXh0KFt0ZXh0LnN1YnN0cmluZyhsYXN0SW5kZXgsIGZvdW5kLnN0YXJ0KSwgaW50ZW5zaXR5LCBpZ25vcmVPT0NdKTtcblxuICAgICAgICAvLyBQaHJhc2Ugd2Ugd2FudCB0byBvbWl0XG4gICAgICAgIGxhc3RJbmRleCA9IGZvdW5kLnN0YXJ0ICsgZm91bmQubGVuO1xuICAgICAgICBmaW5hbFRleHQgKz0gdGV4dC5zdWJzdHJpbmcoZm91bmQuc3RhcnQsIGZvdW5kLnN0YXJ0ICsgZm91bmQubGVuKTtcbiAgICB9KTtcbiAgICAvLyBMYXN0IG9mIHRoZSB0ZXh0IHRvIGdhcmJsZSB1cFxuICAgIGZpbmFsVGV4dCArPSBuZXh0KFt0ZXh0LnN1YnN0cmluZyhsYXN0SW5kZXgpLCBpbnRlbnNpdHksIGlnbm9yZU9PQ10pO1xuXG4gICAgcmV0dXJuIGZpbmFsVGV4dDtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBOb25EaXNydXB0aXZlUGV0U3BlZWNoKG1zZzogc3RyaW5nLCBuZXh0OiAoYXJnczogW21zZzogc3RyaW5nXSkgPT4gc3RyaW5nIHwgYm9vbGVhbiwgYWxsb3dlZFBldFBocmFzZXM6IHN0cmluZ1tdKTogc3RyaW5nIHwgYm9vbGVhblxue1xuICAgIC8vIE5vIHBocmFzZXMgd2UgY2FuIHVzZSwgc2tpcFxuICAgIGlmIChhbGxvd2VkUGV0UGhyYXNlcy5sZW5ndGggPT09IDApXG4gICAge1xuICAgICAgICByZXR1cm4gbmV4dChbbXNnXSk7XG4gICAgfVxuXG4gICAgLy8gVXNlIGJ1Y2tldCBzeXN0ZW0gc28gd29yZHMgYXBwZWFyIGxlc3MgcmFuZG9tXG4gICAgLy8gQnVja2V0IGlzIDJ4IGFsbG93ZWQgcGV0IHBocmFzZXMgYmVmb3JlIHJlZmlsbGluZ1xuICAgIGxldCBwZXRQaHJhc2VCdWNrZXQ6IHN0cmluZ1tdID0gW107XG4gICAgZnVuY3Rpb24gR2V0UGV0UGhhc2UoKTogc3RyaW5nXG4gICAge1xuICAgICAgICBpZiAocGV0UGhyYXNlQnVja2V0Lmxlbmd0aCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgcGV0UGhyYXNlQnVja2V0ID0gYWxsb3dlZFBldFBocmFzZXMuY29uY2F0KGFsbG93ZWRQZXRQaHJhc2VzKTtcbiAgICAgICAgICAgIHBldFBocmFzZUJ1Y2tldCA9IFNodWZmbGVBcnJheShwZXRQaHJhc2VCdWNrZXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwZXRQaHJhc2VCdWNrZXQucG9wKCkgPz8gXCJcIjtcbiAgICB9XG5cbiAgICAvLyBMb29wIHRocm91Z2ggYWxsIHRoZSBvb2MgcmFuZ2VzIHRvIHNwbGl0IHRleHQgaW50byBvb2MgYW5kIG5vbiBvb2MgY2h1bmtzXG4gICAgLy8gU2tpcCBhZGRpbmcgcGV0IHNvdW5kcyB0byBvb2Mgc2VnbWVudHNcbiAgICBsZXQgbmV4dEluZGV4ID0gMDtcbiAgICBsZXQgc2VnbWVudHM6IHsgdGV4dDogc3RyaW5nOyBvb2M6IGJvb2xlYW4gfVtdID0gW107XG4gICAgY29uc3Qgb29jUmFuZ2VzID0gU3BlZWNoR2V0T09DUmFuZ2VzKG1zZyk7XG4gICAgZm9yIChjb25zdCByYW5nZSBvZiBvb2NSYW5nZXMpXG4gICAge1xuICAgICAgICBpZiAobXNnLnN1YnN0cmluZyhuZXh0SW5kZXgsIHJhbmdlLnN0YXJ0KSAhPT0gXCJcIilcbiAgICAgICAge1xuICAgICAgICAgICAgc2VnbWVudHMucHVzaCh7IHRleHQ6IG1zZy5zdWJzdHJpbmcobmV4dEluZGV4LCByYW5nZS5zdGFydCksIG9vYzogZmFsc2UgfSk7XG4gICAgICAgIH1cbiAgICAgICAgc2VnbWVudHMucHVzaCh7IHRleHQ6IG1zZy5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQsIHJhbmdlLnN0YXJ0ICsgcmFuZ2UubGVuZ3RoKSwgb29jOiB0cnVlIH0pO1xuICAgICAgICBuZXh0SW5kZXggPSByYW5nZS5zdGFydCArIHJhbmdlLmxlbmd0aDtcbiAgICB9XG4gICAgLy8gQWRkIGxhc3Qgc2VnbWVudCBmcm9tIGVuZCBvZiByYW5nZSB0byBlbmQgb2YgdGV4dFxuICAgIGNvbnN0IGxhc3RCaXQgPSBtc2cuc3Vic3RyaW5nKG5leHRJbmRleCk7XG4gICAgaWYgKGxhc3RCaXQgIT09IFwiXCIpXG4gICAge1xuICAgICAgICBzZWdtZW50cy5wdXNoKHsgdGV4dDogbGFzdEJpdCwgb29jOiBmYWxzZSB9KTtcbiAgICB9XG4gICAgLy8gTW92ZSBhbnkgd2hpdGVzcGFjZSBvbiB0aGUgcmlnaHQgc2lkZSBvZiBhbiBlbGVtZW50IHRvIHRoZSBsZWZ0IHNpZGUgb2YgdGhlIG5leHQgZWxlbWVudFxuICAgIC8vIE1ha2VzIGZpbmFsIGZvcm1hdHRpbmcgY2xlYW5lciBhbmQgZWFzaWVyXG4gICAgc2VnbWVudHMgPSBzZWdtZW50cy5tYXAoKG9iaiwgaSkgPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IHRyYWlsaW5nV2hpdGVzcGFjZSA9IC9cXHMrJC8uZXhlYyhvYmoudGV4dCk7XG4gICAgICAgIG9iai50ZXh0ID0gb2JqLnRleHQucmVwbGFjZSgvXFxzKyQvLCBcIlwiKTsgLy8gUmVtb3ZlIHRyYWlsaW5nIHdoaXRlc3BhY2UgZnJvbSBjdXJyZW50IHRleHRcbiAgICAgICAgaWYgKHRyYWlsaW5nV2hpdGVzcGFjZSAmJiBzZWdtZW50c1tpICsgMV0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNlZ21lbnRzW2kgKyAxXS50ZXh0ID0gdHJhaWxpbmdXaGl0ZXNwYWNlWzBdICsgc2VnbWVudHNbaSArIDFdLnRleHQ7IC8vIFByZXBlbmQgd2hpdGVzcGFjZSB0byBuZXh0IHRleHRcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0pO1xuXG4gICAgLy8gRm9yIGVhY2ggbm9uIG9vYyBzZWdtZW50IHBldGlmeSBzcGVhayBpdFxuICAgIGxldCBzcG9rZVBldCA9IGZhbHNlO1xuICAgIGxldCBuZXdNc2cgPSBcIlwiO1xuICAgIGZvciAoY29uc3Qgc2VnbWVudCBvZiBzZWdtZW50cylcbiAgICB7XG4gICAgICAgIGlmIChzZWdtZW50Lm9vYylcbiAgICAgICAge1xuICAgICAgICAgICAgbmV3TXNnICs9IHNlZ21lbnQudGV4dDtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3BsaXRQaHJhc2UgPSBzZWdtZW50LnRleHQubWF0Y2goLyhcXHMqXFxTKykvZykgfHwgW107XG4gICAgICAgIGxldCBwcmV2aW91c1dvcmQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICAgICAgICBzcGxpdFBocmFzZS5mb3JFYWNoKCh3b3JkKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBSYW5kb20gY2hhbmNlIGZvciBhIHBldCBzb3VuZCB0byBhcHBlYXIgYmVmb3JlIHRoZSBjdXJyZW50IHdvcmRcbiAgICAgICAgICAgIGlmIChNYXRoLnJhbmRvbSgpIDwgSU5WT0xVTlRBUllfUEVUX1NQRUFLX1BFUkNFTlRBR0UpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3Bva2VQZXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBldFNvdW5kID0gR2V0UGV0UGhhc2UoKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IG5vUHJldiA9IHByZXZpb3VzV29yZCA9PT0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAobm9QcmV2IHx8IC9bLiE/XSQvLnRlc3QocHJldmlvdXNXb3JkID8/IFwiXCIpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3TXNnICs9IGAke25vUHJldiA/IFwiXCIgOiBcIiBcIn0ke3BldFNvdW5kLmNoYXJBdCgwKS50b0xvY2FsZVVwcGVyQ2FzZSgpfSR7cGV0U291bmQuc2xpY2UoMSl9YFxuICAgICAgICAgICAgICAgICAgICArIGAkey9bLiE/XSQvLnRlc3Qod29yZCkgfHwgbm9QcmV2ID8gYC4ke25vUHJldiA/IFwiIFwiIDogXCJcIn1gIDogXCIsIFwifWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5ld01zZyArPSBgJHtNYXRoLnJhbmRvbSgpIDwgSU5WT0xVTlRBUllfUlVTSEVEX1NQRUFLX1BFUkNFTlRBR0UgJiYgIShwcmV2aW91c1dvcmQgPz8gXCJcIikuZW5kc1dpdGgoXCIsXCIpID8gXCIsXCIgOiBcIlwifSAke3BldFNvdW5kfSxgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld01zZyArPSB3b3JkO1xuICAgICAgICAgICAgcHJldmlvdXNXb3JkID0gd29yZDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gSWYgbm8gcGV0IHdvcmRzIGhhdmUgYmVlbiBzcG9rZW4gc28gZmFyLCBlbmQgd2l0aCBvbmUgb3IgYSBjaGFuY2UgZm9yIGl0IHRvIGVuZCB3aXRoIG9uZSBhbnl3YXlcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgc2VnbWVudHMuc2xpY2UoKS5yZXZlcnNlKCkuZmluZCgoaXRlbSkgPT4gIWl0ZW0ub29jKT8udGV4dCA9PT0gc2VnbWVudC50ZXh0IC8vIExhc3Qgbm9uIG9vYyBzZWdtZW50XG4gICAgICAgICAgICAmJiAoIXNwb2tlUGV0IHx8IE1hdGgucmFuZG9tKCkgPCBJTlZPTFVOVEFSWV9FTkRfUEVUX1NQRUFLX1BFUkNFTlRBR0UpXG4gICAgICAgIClcbiAgICAgICAge1xuICAgICAgICAgICAgbmV3TXNnID0gQXBwZW5kUGV0U3BlZWNoKG5ld01zZywgW0dldFBldFBoYXNlKCldKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBuZXh0KFtuZXdNc2ddKTtcbn1cbiIsImltcG9ydCB7IE1vZHVsZSB9IGZyb20gXCIuLi9tb2R1bGVzL19tb2R1bGVcIjtcbmltcG9ydCB7IExvYWRTdG9yYWdlIH0gZnJvbSBcIi4vc3RvcmFnZVwiO1xuaW1wb3J0IHsgRGF0YVN5bmNNb2R1bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9kYXRhU3luY1wiO1xuaW1wb3J0IHsgU2V0dGluZ3NNb2R1bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9zZXR0aW5nc1wiO1xuaW1wb3J0IHsgQWN0aXZpdGllc01vZHVsZSB9IGZyb20gXCIuLi9tb2R1bGVzL2FjdGl2aXRpZXNcIjtcbmltcG9ydCB7IENsaWNrZXJNb2R1bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9jbGlja2VyXCI7XG5pbXBvcnQgeyBWaXJ0dWFsUGV0TW9kdWxlIH0gZnJvbSBcIi4uL21vZHVsZXMvdmlydHVhbFBldFwiO1xuaW1wb3J0IHsgVmlydHVhbFBldEhVRE1vZHVsZSB9IGZyb20gXCIuLi9tb2R1bGVzL3ZpcnR1YWxQZXRIVURcIjtcbmltcG9ydCB7IFZpcnR1YWxQZXRDb25kaXRpb25zTW9kdWxlIH0gZnJvbSBcIi4uL21vZHVsZXMvdmlydHVhbFBldENvbmRpdGlvbnNcIjtcbmltcG9ydCB7IFByb2ZpbGVNb2R1bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9wcm9maWxlXCI7XG5pbXBvcnQgeyBTZXR0aW5nc090aGVyTW9kdWxlIH0gZnJvbSBcIi4uL21vZHVsZXMvc2V0dGluZ3NPdGhlcnNcIjtcbmltcG9ydCB7IEF1dGhvcml0eU1vZHVsZSB9IGZyb20gXCIuLi9tb2R1bGVzL2F1dGhvcml0eVwiO1xuaW1wb3J0IHsgUHJpdmF0ZU1vZHVsZSB9IGZyb20gXCIuLi9tb2R1bGVzL3ByaXZhdGVcIjtcblxubGV0IG1vZHVsZXNSZWdpc3RlcmVkID0gZmFsc2U7XG5cbmV4cG9ydCBjb25zdCBtb2R1bGVzOiBNb2R1bGVbXSA9IFtcbiAgICBuZXcgRGF0YVN5bmNNb2R1bGUoKSxcbiAgICBuZXcgU2V0dGluZ3NNb2R1bGUoKSxcbiAgICBuZXcgQWN0aXZpdGllc01vZHVsZSgpLFxuICAgIG5ldyBDbGlja2VyTW9kdWxlKCksXG4gICAgbmV3IFZpcnR1YWxQZXRNb2R1bGUoKSxcbiAgICBuZXcgVmlydHVhbFBldEhVRE1vZHVsZSgpLFxuICAgIG5ldyBWaXJ0dWFsUGV0Q29uZGl0aW9uc01vZHVsZSgpLFxuICAgIG5ldyBQcm9maWxlTW9kdWxlKCksXG4gICAgbmV3IFNldHRpbmdzT3RoZXJNb2R1bGUoKSxcbiAgICBuZXcgQXV0aG9yaXR5TW9kdWxlKCksXG4gICAgbmV3IFByaXZhdGVNb2R1bGUoKVxuXTtcblxuZXhwb3J0IGNvbnN0IHNldHRpbmdzOiBQYXJ0aWFsPE1QQVNldHRpbmdzPiA9IHt9O1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUmVnaXN0ZXJNb2R1bGVzKCk6IFByb21pc2U8dm9pZD5cbntcbiAgICAvLyBObyBkdXBsaWNhdGUgbW9kdWxlIHJlZ2lzdGVyaW5nXG4gICAgaWYgKG1vZHVsZXNSZWdpc3RlcmVkKSB7IHJldHVybjsgfVxuXG4gICAgbW9kdWxlcy5mb3JFYWNoKChtb2R1bGUpID0+XG4gICAge1xuICAgICAgICAvLyBHZXQgYWxsIHRoZSBzZXR0aW5nc1xuICAgICAgICBjb25zdCBtb2RTZXQgPSBtb2R1bGUuU2V0dGluZ3M7XG4gICAgICAgIGNvbnN0IG5ld1NldHRpbmdzID0ge307XG4gICAgICAgIG1vZFNldC5mb3JFYWNoKChzZXQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIG5ld1NldHRpbmdzW3NldC5uYW1lXSA9IHNldDtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhuZXdTZXR0aW5ncykubGVuZ3RoICE9PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBzZXR0aW5nc1ttb2R1bGUuVGl0bGVdID0gbmV3U2V0dGluZ3M7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBhd2FpdCBMb2FkU3RvcmFnZSgpO1xuXG4gICAgLy8gTG9hZCB0aGUgbW9kdWxlc1xuICAgIG1vZHVsZXMuZm9yRWFjaCgobW9kdWxlKSA9PlxuICAgIHtcbiAgICAgICAgbW9kdWxlLkxvYWQoKTtcbiAgICB9KTtcbiAgICBtb2R1bGVzUmVnaXN0ZXJlZCA9IHRydWU7XG59XG4iLCJpbXBvcnQgYmNNb2RTZGssIHsgR2V0RG90ZWRQYXRoVHlwZSwgTW9kU0RLTW9kQVBJLCBQYXRjaEhvb2sgfSBmcm9tIFwiYm9uZGFnZS1jbHViLW1vZC1zZGtcIjtcbmltcG9ydCB7IE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4uL21vZHVsZXMvX21vZHVsZVwiO1xuaW1wb3J0IHsgTVBBX05BTUUsIE1QQV9SRVBPLCBNUEFfVkVSU0lPTiB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuXG5pbnRlcmZhY2UgSG9va2VkRnVuY3Rpb25cbntcbiAgICBmdW5jdGlvbk5hbWU6IHN0cmluZztcbiAgICBwcmlvcml0eTogbnVtYmVyO1xuICAgIGhvb2s6IFBhdGNoSG9vaztcbiAgICBtb2R1bGU6IHN0cmluZyB8IG51bGw7XG4gICAgcmVtb3ZlSG9vazogKCkgPT4gdm9pZDtcbn1cbmNvbnN0IGhvb2tzOiBIb29rZWRGdW5jdGlvbltdID0gW107XG5cbmV4cG9ydCBjb25zdCBtb2RBUEk6IE1vZFNES01vZEFQSSA9IGJjTW9kU2RrLnJlZ2lzdGVyTW9kKHtcbiAgICBuYW1lOiBNUEFfTkFNRSxcbiAgICB2ZXJzaW9uOiBNUEFfVkVSU0lPTixcbiAgICBmdWxsTmFtZTogXCJNYXlhJ3MgUGV0cGxheSBBZGRpdGlvbnNcIixcbiAgICByZXBvc2l0b3J5OiBNUEFfUkVQT1xufSwge1xuICAgIGFsbG93UmVwbGFjZTogZmFsc2Vcbn0pO1xuXG4vKipcbiAqIEhvb2sgYSBCQyBmdW5jdGlvblxuICogQHBhcmFtIG1vZHVsZSAtIFRoZSB0aXRsZSBvZiB0aGUgbW9kdWxlIHRoZSBob29rIGlzIGJlaW5nIHVzZWQgaW5cbiAqIEB0ZW1wbGF0ZSBURnVuY3Rpb25OYW1lIC0gVGhlIG5hbWUgb2YgdGhlIGhvb2tlZCBmdW5jdGlvbiwgX2UuZy5fIGBcIlBsYXllci5DYW5DaGFuZ2VcImBcbiAqIEBwYXJhbSBmdW5jdGlvbk5hbWUgLSBOYW1lIG9mIGZ1bmN0aW9uIHRvIGhvb2suIENhbiBjb250YWluIGRvdHMgdG8gY2hhbmdlIG1ldGhvZHMgaW4gb2JqZWN0cyAoZS5nLiBgUGxheWVyLkNhbkNoYW5nZWApXG4gKiBAcGFyYW0gcHJpb3JpdHkgLSBOdW1iZXIgdXNlZCB0byBkZXRlcm1pbmF0ZSBvcmRlciBob29rcyB3aWxsIGJlIGNhbGxlZCBpbi4gSGlnaGVyIG51bWJlciBpcyBjYWxsZWQgZmlyc3RcbiAqIEBwYXJhbSBob29rIC0gVGhlIGhvb2sgaXRzZWxmIHRvIHVzZSwgQHNlZSBQYXRjaEhvb2tcbiAqIEByZXR1cm5zIEZ1bmN0aW9uIHRoYXQgY2FuIGJlIGNhbGxlZCB0byByZW1vdmUgdGhpcyBob29rXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBIb29rRnVuY3Rpb248VEZ1bmN0aW9uTmFtZSBleHRlbmRzIHN0cmluZz4obW9kdWxlOiBNb2R1bGVUaXRsZSB8IG51bGwsIGZ1bmN0aW9uTmFtZTogVEZ1bmN0aW9uTmFtZSwgcHJpb3JpdHk6IG51bWJlciwgaG9vazogUGF0Y2hIb29rPEdldERvdGVkUGF0aFR5cGU8dHlwZW9mIGdsb2JhbFRoaXMsIFRGdW5jdGlvbk5hbWU+Pik6ICgpID0+IHZvaWRcbntcbiAgICBjb25zdCByZW1vdmVIb29rID0gbW9kQVBJLmhvb2tGdW5jdGlvbihmdW5jdGlvbk5hbWUsIHByaW9yaXR5LCBob29rKTtcblxuICAgIGhvb2tzLnB1c2goe1xuICAgICAgICBmdW5jdGlvbk5hbWU6IGZ1bmN0aW9uTmFtZSxcbiAgICAgICAgcHJpb3JpdHk6IHByaW9yaXR5LFxuICAgICAgICBob29rOiBob29rLFxuICAgICAgICBtb2R1bGU6IG1vZHVsZSxcbiAgICAgICAgcmVtb3ZlSG9vazogcmVtb3ZlSG9va1xuICAgIH0gYXMgSG9va2VkRnVuY3Rpb24pO1xuXG4gICAgcmV0dXJuIHJlbW92ZUhvb2s7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZW1vdmVIb29rcyhtb2R1bGU6IE1vZHVsZVRpdGxlIHwgbnVsbCk6IHZvaWRcbntcbiAgICBmb3IgKGxldCBpID0gaG9va3MubGVuZ3RoIC0gMTsgMCA8PSBpOyBpLS0pXG4gICAge1xuICAgICAgICBpZiAoaG9va3NbaV0ubW9kdWxlID09PSBtb2R1bGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhvb2tzW2ldLnJlbW92ZUhvb2soKTtcbiAgICAgICAgICAgIGhvb2tzLnNwbGljZShpLCAxKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBPbmx5IHJlbGVhc2UgdGhlIGF3YWl0IHdoZW4gdGhlIFBsYXllciBpcyBkZXRlY3RlZCBhbmQgbG9hZGVkXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBBd2FpdFBsYXllcigpOiBQcm9taXNlPHZvaWQ+XG57XG4gICAgaWYgKFBsYXllci5NZW1iZXJOdW1iZXIgJiYgUGxheWVyLkV4dGVuc2lvblNldHRpbmdzKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSkgPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IGhvb2sgPSBtb2RBUEkuaG9va0Z1bmN0aW9uKFwiTG9naW5SZXNwb25zZVwiLCAwLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgLy8gTGV0IHJlc3BvbnNlIGhhcHBlbiBmaXJzdFxuICAgICAgICAgICAgbmV4dChhcmdzKTtcblxuICAgICAgICAgICAgLy8gUmVtb3ZlIHRoaXMgaG9vayB3aGVuIGRvbmVcbiAgICAgICAgICAgIGhvb2soKTtcblxuICAgICAgICAgICAgLy8gUmVzb2x2ZSB0aGUgcHJvbWlzZSB0byBlbmQgdGhlIGF3YWl0IGNvbmRpdGlvblxuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIEJDWCBtb2QgYXBpIGZvciBNUEFcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJjeEFQSSgpXG57XG4gICAgcmV0dXJuIHdpbmRvdy5iY3g/LmdldE1vZEFwaShNUEFfTkFNRSk7XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgQkNYIGlmIGZvdW5kXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiY3hGb3VuZCgpOiBib29sZWFuXG57XG4gICAgcmV0dXJuICEhd2luZG93LmJjeDtcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBJc0Rpc3BsYXlTZXR0aW5nKHNldHRpbmc6IFNldHRpbmcpOiBzZXR0aW5nIGlzIERpc3BsYXllZFNldHRpbmdcbntcbiAgICByZXR1cm4gKFxuICAgICAgICB0eXBlb2YgKHNldHRpbmcgYXMgRGlzcGxheWVkU2V0dGluZykuYWN0aXZlID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgJiYgdHlwZW9mIChzZXR0aW5nIGFzIERpc3BsYXllZFNldHRpbmcpLmxhYmVsID09PSBcInN0cmluZ1wiXG4gICAgKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBJc0NoZWNrYm94U2V0dGluZyhzZXR0aW5nOiBTZXR0aW5nKTogc2V0dGluZyBpcyBDaGVja2JveFNldHRpbmdcbntcbiAgICByZXR1cm4gKFxuICAgICAgICBJc0Rpc3BsYXlTZXR0aW5nKHNldHRpbmcpXG4gICAgICAgICYmIChzZXR0aW5nIGFzIENoZWNrYm94U2V0dGluZykudHlwZSA9PT0gXCJjaGVja2JveFwiXG4gICAgICAgICYmIHR5cGVvZiAoc2V0dGluZyBhcyBDaGVja2JveFNldHRpbmcpLnZhbHVlID09PSBcImJvb2xlYW5cIlxuICAgICk7XG59XG5leHBvcnQgZnVuY3Rpb24gSXNPcHRpb25TZXR0aW5nKHNldHRpbmc6IFNldHRpbmcpOiBzZXR0aW5nIGlzIE9wdGlvblNldHRpbmdcbntcbiAgICByZXR1cm4gKFxuICAgICAgICBJc0Rpc3BsYXlTZXR0aW5nKHNldHRpbmcpXG4gICAgICAgICYmIChzZXR0aW5nIGFzIE9wdGlvblNldHRpbmcpLnR5cGUgPT09IFwib3B0aW9uXCJcbiAgICAgICAgJiYgdHlwZW9mIChzZXR0aW5nIGFzIE9wdGlvblNldHRpbmcpLnZhbHVlID09PSBcInN0cmluZ1wiXG4gICAgICAgICYmIEFycmF5LmlzQXJyYXkoKHNldHRpbmcgYXMgT3B0aW9uU2V0dGluZykub3B0aW9ucylcbiAgICAgICAgJiYgdHlwZW9mIChzZXR0aW5nIGFzIE9wdGlvblNldHRpbmcpLmxvb3AgPT09IFwiYm9vbGVhblwiXG4gICAgKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBJc1RleHRTZXR0aW5nKHNldHRpbmc6IFNldHRpbmcpOiBzZXR0aW5nIGlzIFRleHRTZXR0aW5nXG57XG4gICAgcmV0dXJuIChcbiAgICAgICAgSXNEaXNwbGF5U2V0dGluZyhzZXR0aW5nKVxuICAgICAgICAmJiAoc2V0dGluZyBhcyBUZXh0U2V0dGluZykudHlwZSA9PT0gXCJ0ZXh0XCJcbiAgICAgICAgJiYgdHlwZW9mIChzZXR0aW5nIGFzIFRleHRTZXR0aW5nKS52YWx1ZSA9PT0gXCJzdHJpbmdcIlxuICAgICAgICAmJiAodHlwZW9mIChzZXR0aW5nIGFzIFRleHRTZXR0aW5nKS53aWR0aCA9PT0gXCJudW1iZXJcIlxuICAgICAgICB8fCAoc2V0dGluZyBhcyBUZXh0U2V0dGluZykud2lkdGggPT09IG51bGwpXG4gICAgICAgICYmICh0eXBlb2YgKHNldHRpbmcgYXMgVGV4dFNldHRpbmcpLm1heENoYXJzID09PSBcIm51bWJlclwiXG4gICAgICAgIHx8IChzZXR0aW5nIGFzIFRleHRTZXR0aW5nKS5tYXhDaGFycyA9PT0gbnVsbClcbiAgICApO1xufVxuZXhwb3J0IGZ1bmN0aW9uIElzTnVtYmVyU2V0dGluZyhzZXR0aW5nOiBTZXR0aW5nKTogc2V0dGluZyBpcyBOdW1iZXJTZXR0aW5nXG57XG4gICAgcmV0dXJuIChcbiAgICAgICAgSXNEaXNwbGF5U2V0dGluZyhzZXR0aW5nKVxuICAgICAgICAmJiAoc2V0dGluZyBhcyBOdW1iZXJTZXR0aW5nKS50eXBlID09PSBcIm51bWJlclwiXG4gICAgICAgICYmIHR5cGVvZiAoc2V0dGluZyBhcyBOdW1iZXJTZXR0aW5nKS52YWx1ZSA9PT0gXCJudW1iZXJcIlxuICAgICAgICAmJiAodHlwZW9mIChzZXR0aW5nIGFzIE51bWJlclNldHRpbmcpLndpZHRoID09PSBcIm51bWJlclwiXG4gICAgICAgIHx8IChzZXR0aW5nIGFzIE51bWJlclNldHRpbmcpLndpZHRoID09PSBudWxsKVxuICAgICAgICAmJiB0eXBlb2YgKHNldHRpbmcgYXMgTnVtYmVyU2V0dGluZykubWluID09PSBcIm51bWJlclwiXG4gICAgICAgICYmIHR5cGVvZiAoc2V0dGluZyBhcyBOdW1iZXJTZXR0aW5nKS5tYXggPT09IFwibnVtYmVyXCJcbiAgICAgICAgJiYgKHR5cGVvZiAoc2V0dGluZyBhcyBOdW1iZXJTZXR0aW5nKS5zdGVwID09PSBcIm51bWJlclwiXG4gICAgICAgIHx8IChzZXR0aW5nIGFzIE51bWJlclNldHRpbmcpLnN0ZXAgPT09IG51bGwpXG4gICAgKTtcbn1cbiIsImltcG9ydCB7IExvY2FsaXplZFRleHQgfSBmcm9tIFwiLi4vbG9jYWxpemF0aW9uL2xvY2FsaXphdGlvblwiO1xuaW1wb3J0IHsgc2V0dGluZ3MgYXMgY3VycmVudFNldHRpbmdzIH0gZnJvbSBcIi4vcmVnaXN0ZXJNb2R1bGVzXCI7XG5pbXBvcnQgeyBBd2FpdFBsYXllciB9IGZyb20gXCIuL3Nka1wiO1xuaW1wb3J0IHsgU2V0dGluZ1N5bmMgfSBmcm9tIFwiLi4vbW9kdWxlcy9kYXRhU3luY1wiO1xuaW1wb3J0IHsgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9fbW9kdWxlXCI7XG5pbXBvcnQgeyBNUEFfVkVSU0lPTiB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgTGV2ZWxTeW5jIH0gZnJvbSBcIi4uL21vZHVsZXMvdmlydHVhbFBldFwiO1xuXG5mdW5jdGlvbiBNUEFVcGRhdGVDaGVjayhzZXR0aW5nczogTVBBUmVjb3Jkcyk6IHZvaWRcbntcbiAgICBpZiAoKHNldHRpbmdzLnZlcnNpb24gYXMgYW55KSAhPT0gTVBBX1ZFUlNJT04pXG4gICAge1xuICAgICAgICBTZXJ2ZXJBY2NvdW50QmVlcCh7XG4gICAgICAgICAgICBNZW1iZXJOdW1iZXI6IFBsYXllci5NZW1iZXJOdW1iZXIgPz8gLTEsXG4gICAgICAgICAgICBNZW1iZXJOYW1lOiBMb2NhbGl6ZWRUZXh0KFwiTVBBXCIpLFxuICAgICAgICAgICAgQ2hhdFJvb21TcGFjZTogXCJYXCIsXG4gICAgICAgICAgICBDaGF0Um9vbU5hbWU6IExvY2FsaXplZFRleHQoXCJNUEEgVXBkYXRlZFwiKSxcbiAgICAgICAgICAgIFByaXZhdGU6IGZhbHNlLFxuICAgICAgICAgICAgQmVlcFR5cGU6IFwiXCIsXG4gICAgICAgICAgICBNZXNzYWdlOiBcIk1QQSBoYXMgYmVlbiB1cGRhdGVkLlwiXG4gICAgICAgIH0pO1xuICAgICAgICAoc2V0dGluZ3MudmVyc2lvbiBhcyBhbnkpID0gTVBBX1ZFUlNJT047XG4gICAgICAgIFNhdmVTdG9yYWdlKGZhbHNlKTtcbiAgICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBMb2FkU3RvcmFnZSgpOiBQcm9taXNlPHZvaWQ+XG57XG4gICAgLy8gRW5zdXJlIHRoZSBwbGF5ZXIgaXMgbG9hZGVkIGJlZm9yZSBhdHRlbXB0aW5nIHRvIHJlYWQgdGhlIGV4dGVudGlvbiBzZXR0aW5nc1xuICAgIGF3YWl0IEF3YWl0UGxheWVyKCk7XG5cbiAgICBjb25zdCBzZXR0aW5nczogTVBBUmVjb3JkcyA9IEpTT04ucGFyc2UoTFpTdHJpbmcuZGVjb21wcmVzc0Zyb21CYXNlNjQoUGxheWVyLkV4dGVuc2lvblNldHRpbmdzPy5NUEEgPz8gXCJcIikgPz8gXCJ7fVwiKSA/PyB7fTtcblxuICAgIE9iamVjdC5lbnRyaWVzKGN1cnJlbnRTZXR0aW5ncykuZm9yRWFjaCgoY2F0ZWdvcnkpID0+XG4gICAge1xuICAgICAgICBjb25zdCBbc2V0dGluZ1RpdGxlLCBjYXRlZ29yeVNldHRpbmdzXSA9IGNhdGVnb3J5IGFzIFtNb2R1bGVUaXRsZSwgTVBBQ2F0ZWdvcnlTZXR0aW5nc107XG4gICAgICAgIGZvciAoY29uc3QgW3NldHRpbmdOYW1lLCBzZXRdIG9mIE9iamVjdC5lbnRyaWVzKGNhdGVnb3J5U2V0dGluZ3MpKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBDcmVhdGUgdGhlIHBsYWNlIGZvciBkYXRhIGlmIGl0IGRvZXMgbm90IGV4aXN0XG4gICAgICAgICAgICBpZiAoIShzZXR0aW5nVGl0bGUgaW4gc2V0dGluZ3MpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNldHRpbmdzW3NldHRpbmdUaXRsZV0gPSB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNldHRpbmcgYWxyZWFkeSBzZXRcbiAgICAgICAgICAgIGlmIChzZXR0aW5nTmFtZSBpbiBzZXR0aW5nc1tzZXR0aW5nVGl0bGVdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0dGluZ3Nbc2V0dGluZ1RpdGxlXVtzZXR0aW5nTmFtZV0gPSBzZXQudmFsdWU7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIENoZWNrIGFuZCBub3RpZnkgaWYgdGhlcmUgaXMgYW4gdXBkYXRlXG4gICAgTVBBVXBkYXRlQ2hlY2soc2V0dGluZ3MpO1xuXG4gICAgUGxheWVyLk1QQSA9IHNldHRpbmdzO1xuICAgIHJldHVybjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFNhdmVTdG9yYWdlKHN5bmNXaXRoT3RoZXJzOiBib29sZWFuID0gdHJ1ZSk6IHZvaWRcbntcbiAgICBpZiAoIVBsYXllci5NUEEpXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIFBydW5lIHNlbGYgZnJvbSBvd25lciBsaXN0IGlmIGFkZGVkXG4gICAgUGxheWVyLk1QQVtNb2R1bGVUaXRsZS5BdXRob3JpdHldLm93bmVycyA9XG4gICAgICAgIChQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV0ub3duZXJzIGFzIHN0cmluZykuc3BsaXQoXCIsXCIpXG4gICAgICAgICAgICAuZmlsdGVyKCh2YWwpID0+IE51bWJlcih2YWwpICE9PSBQbGF5ZXIuTWVtYmVyTnVtYmVyKS5qb2luKFwiLFwiKTtcbiAgICBQbGF5ZXIuRXh0ZW5zaW9uU2V0dGluZ3MuTVBBID0gTFpTdHJpbmcuY29tcHJlc3NUb0Jhc2U2NChKU09OLnN0cmluZ2lmeShQbGF5ZXIuTVBBKSk7XG4gICAgU2VydmVyUGxheWVyRXh0ZW5zaW9uU2V0dGluZ3NTeW5jKFwiTVBBXCIpO1xuICAgIGlmIChzeW5jV2l0aE90aGVycylcbiAgICB7XG4gICAgICAgIFNldHRpbmdTeW5jKGZhbHNlKTtcbiAgICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBSZXNldFN0b3JhZ2UoKTogUHJvbWlzZTx2b2lkPlxue1xuICAgIGRlbGV0ZSAoUGxheWVyLkV4dGVuc2lvblNldHRpbmdzIGFzIGFueSkuTVBBO1xuICAgIFBsYXllci5FeHRlbnNpb25TZXR0aW5ncy5NUEEgPSBMWlN0cmluZy5jb21wcmVzc1RvQmFzZTY0KEpTT04uc3RyaW5naWZ5KHsgdmVyc2lvbjogTVBBX1ZFUlNJT04gfSkpO1xuICAgIGF3YWl0IExvYWRTdG9yYWdlKCk7XG4gICAgU2F2ZVN0b3JhZ2UoKTtcbiAgICByZXR1cm47XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBFeHBvcnRTZXR0aW5nc1RvQ2xpcGJvYXJkKCk6IFByb21pc2U8dm9pZD5cbntcbiAgICByZXR1cm4gbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQoTFpTdHJpbmcuY29tcHJlc3NUb0Jhc2U2NChKU09OLnN0cmluZ2lmeShQbGF5ZXIuTVBBKSkpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gSW1wb3J0U2V0dGluZ3NGcm9tQ2xpcGJvYXJkKCk6IFByb21pc2U8dm9pZD5cbntcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT5cbiAgICB7XG4gICAgICAgIG5hdmlnYXRvci5jbGlwYm9hcmQucmVhZFRleHQoKS50aGVuKCh0ZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICB0cnlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdTZXR0aW5nczogTVBBUmVjb3JkcyA9IEpTT04ucGFyc2UoTFpTdHJpbmcuZGVjb21wcmVzc0Zyb21CYXNlNjQodGV4dCA/PyBcIlwiKSA/PyBcInt9XCIpO1xuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBhIGxvY2FsbHkgY29weSB0byBtb2RpZnkgaW4gY2FzZSBpdCBmYWlscyBhbmQgbmVlZCB0byByZXZlcnRcbiAgICAgICAgICAgICAgICAvLyBUcmFuc2FjdGlvbiBoYXBwZW5zIG9yIG5vdCBhdCBhbGxcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50U2V0dGluZ3M6IE1QQVJlY29yZHMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KFBsYXllci5NUEEpKTtcblxuICAgICAgICAgICAgICAgIC8vIFZpcnR1YWwgcGV0IGxldmVscyB3aWxsIGJlIHJlcGxhY2VkIGFueXdheSwgc2V0IGN1cnJlbnQgdGltZSBzbyBub3cgdG8gbm90IGludGVyZmVyIHdpdGggc3luY2luZyBsYXRlclxuICAgICAgICAgICAgICAgIGN1cnJlbnRTZXR0aW5nc1tNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XS5sZXZlbHMubGFzdFVwZGF0ZWQgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRTZXR0aW5nc1tNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XS5sZXZlbHMubGFzdE9ubGluZSA9IERhdGUubm93KCk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBuZXdTZXR0aW5ncylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdTZXR0aW5nc1trZXldICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgdXBkYXRlIHRoZSB2YWx1ZSBpZiB0aGUgbmV3UmVjb3JkIGtleSBleGlzdHMgYW5kIGlzIG5vdCB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTZXR0aW5nc1trZXkgYXMga2V5b2YgTVBBUmVjb3Jkc10gPSBuZXdTZXR0aW5nc1trZXldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gVmVyaWZ5IG5ldyBzZXR0aW5ncyBhcmUgZ29vZFxuICAgICAgICAgICAgICAgIC8vIElmIGJhZCBkYXRhICByZXR1cm4gcmVqZWN0KCk7XG5cbiAgICAgICAgICAgICAgICAvLyBTZXQgdGhlIGxldmVscyB1cGRhdGUgc28gdGhhdCB0aGV5IHJldGFpbiB0aGUgc2FtZSB2YWx1ZSB3aGVuIHNhdmVkIGFmdGVyIHN5bmNpbmcgYWdhaW5cbiAgICAgICAgICAgICAgICBjdXJyZW50U2V0dGluZ3NbTW9kdWxlVGl0bGUuVmlydHVhbFBldF0ubGV2ZWxzLmxhc3RVcGRhdGVkID0gRGF0ZS5ub3coKSAtIChjdXJyZW50U2V0dGluZ3NbTW9kdWxlVGl0bGUuVmlydHVhbFBldF0ubGV2ZWxzLmxhc3RPbmxpbmUgLSBjdXJyZW50U2V0dGluZ3NbTW9kdWxlVGl0bGUuVmlydHVhbFBldF0ubGV2ZWxzLmxhc3RVcGRhdGVkKTtcbiAgICAgICAgICAgICAgICBjdXJyZW50U2V0dGluZ3NbTW9kdWxlVGl0bGUuVmlydHVhbFBldF0ubGV2ZWxzLmxhc3RPbmxpbmUgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgICAgIFBsYXllci5NUEEgPSBjdXJyZW50U2V0dGluZ3M7XG4gICAgICAgICAgICAgICAgTGV2ZWxTeW5jKGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xuXG4gICAgICAgICAgICAgICAgU2F2ZVN0b3JhZ2UodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGVycm9yKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlKCk7XG4gICAgICAgIH0sICgpID0+IHJlamVjdCgpKTtcbiAgICB9KTtcbn1cbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJpbXBvcnQgeyBSZWdpc3Rlck1vZHVsZXMgfSBmcm9tIFwiLi91dGlsL3JlZ2lzdGVyTW9kdWxlc1wiO1xuaW1wb3J0IHsgQnVpbGRBbGxDb21tYW5kcyB9IGZyb20gXCIuL2NvbW1hbmRzL2J1aWxkQWxsQ29tbWFuZHNcIjtcbmltcG9ydCB7IE1QQV9WRVJTSU9OIH0gZnJvbSBcIi4vdXRpbC9jb25zdGFudHNcIjtcblxuLy8gVGVzdGluZyBmb3IgTG9jYWxpemF0aW9uLCBlbnN1cmluZyBhbGwgZmllbGRzIGluIHRoZSB0ZW1wbGF0ZVxuLy8gaW1wb3J0IHsgU2V0dGluZ1Rlc3QgfSBmcm9tIFwiLi9fdGVzdHMvc2V0dGluZ3NMYWJlbHNcIjtcbi8vIFNldHRpbmdUZXN0KCk7XG4vLyBpbXBvcnQgeyBBY3Rpdml0aWVzVGVzdCB9IGZyb20gXCIuL190ZXN0cy9hY3Rpdml0aWVzVGV4dFwiO1xuLy8gQWN0aXZpdGllc1Rlc3QoKTtcblxuY29uc29sZS5sb2coXCJMb2FkaW5nIE1heWEncyBQZXRwbGF5IEFkZGl0aW9uc1wiKTtcblxuQnVpbGRBbGxDb21tYW5kcygpO1xuUmVnaXN0ZXJNb2R1bGVzKCk7XG53aW5kb3cuTVBBID0ge1xuICAgIHZlcnNpb246IE1QQV9WRVJTSU9OLFxuICAgIG1lbnVMb2FkZWQ6IGZhbHNlXG59O1xuIl0sIm5hbWVzIjpbIm8iLCJlIiwiYWxlcnQiLCJFcnJvciIsImNvbnNvbGUiLCJlcnJvciIsInQiLCJUZXh0RW5jb2RlciIsIm4iLCJBcnJheSIsImlzQXJyYXkiLCJyIiwiU2V0IiwiZmlsdGVyIiwiaGFzIiwiYWRkIiwiaSIsIk1hcCIsImEiLCJjIiwid2FybiIsInMiLCJmIiwidmFsdWVzIiwicGF0Y2hpbmciLCJnZXQiLCJuYW1lIiwicHVzaCIsImhvb2tzIiwicGF0Y2hlcyIsImVudHJpZXMiLCJzZXQiLCJzb3J0IiwicHJpb3JpdHkiLCJzaXplIiwidG9TdHJpbmciLCJyZXBsYWNlQWxsIiwiaW5jbHVkZXMiLCJldmFsIiwib3JpZ2luYWwiLCJtIiwiZXJyb3JSZXBvcnRlckhvb2tzIiwiaG9va0NoYWluRXhpdCIsImNhbGwiLCJhcHBseSIsInRoaXMiLCJsZW5ndGgiLCJob29rRW50ZXIiLCJtb2QiLCJob29rIiwiYXJndW1lbnRzIiwicGF0Y2hlc1NvdXJjZXMiLCJlbnRlciIsImZpbmFsIiwibCIsInByZWNvbXB1dGVkIiwid2luZG93Iiwic3BsaXQiLCJzbGljZSIsImpvaW4iLCJlbmNvZGUiLCJwYWRTdGFydCIsInRvVXBwZXJDYXNlIiwiZCIsIm9yaWdpbmFsSGFzaCIsIk9iamVjdCIsImFzc2lnbiIsInJvdXRlciIsImNvbnRleHQiLCJjb250ZXh0UHJvcGVydHkiLCJwIiwic2RrRW50cnlwb2ludCIsImN1cnJlbnRFbnRyeXBvaW50IiwiaG9va2VkQnlNb2RzIiwibWFwIiwicGF0Y2hlZEJ5TW9kcyIsImZyb20iLCJ1IiwiZGVsZXRlIiwibG9hZGVkIiwiZyIsImZ1bGxOYW1lIiwidmVyc2lvbiIsInJlcG9zaXRvcnkiLCJhbGxvd1JlcGxhY2UiLCJhcGlFbmRwb2ludEVudGVyIiwidW5sb2FkIiwiaG9va0Z1bmN0aW9uIiwiaW5kZXhPZiIsInNwbGljZSIsInBhdGNoRnVuY3Rpb24iLCJyZW1vdmVQYXRjaGVzIiwiY2xlYXIiLCJjYWxsT3JpZ2luYWwiLCJnbG9iYWxUaGlzIiwiZ2V0T3JpZ2luYWxIYXNoIiwiYXBpIiwiZnJlZXplIiwiaCIsInkiLCJiY01vZFNkayIsImFwaVZlcnNpb24iLCJyZWdpc3Rlck1vZCIsImdldE1vZHNJbmZvIiwiZ2V0UGF0Y2hpbmdJbmZvIiwic2VhbCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiSXNCZWQiLCJiZWQiLCJDcmFmdGluZ1ZhbGlkYXRlIiwiQ3JhZnRpbmdTdGF0dXNUeXBlIiwiT0siLCJBTExfQkVEUyIsIkl0ZW0iLCJOYW1lIiwidG9Mb2NhbGVMb3dlckNhc2UiLCJHaXZlQmVkVGV4dCIsImNoYXJhY3RlciIsIlBsYXllciIsIk1lbWJlck51bWJlciIsIlNlbmRBY3Rpb24iLCJ1bmRlZmluZWQiLCJTb3VyY2VDaGFyYWN0ZXIiLCJTZW5kTVBBTWVzc2FnZSIsIm1lc3NhZ2UiLCJUYXJnZXRDaGFyYWN0ZXIiLCJVc2VCZWQiLCJJbnZlbnRvcnlHZXQiLCJJbnZlbnRvcnlHcm91cElzQmxvY2tlZEZvckNoYXJhY3RlciIsInNhdmVkQmVkIiwiSlNPTiIsInBhcnNlIiwiTFpTdHJpbmciLCJkZWNvbXByZXNzRnJvbUJhc2U2NCIsIk1QQSIsIk1vZHVsZVRpdGxlIiwiUHJpdmF0ZSIsIkludmVudG9yeVdlYXIiLCJDb2xvciIsImhhaXJDb2xvciIsIkNoYXRSb29tQ2hhcmFjdGVySXRlbVVwZGF0ZSIsIkdpdmVCZWQiLCJ1bmFibGVUb0dpdmVCZWQiLCJTZXJ2ZXJDaGF0Um9vbUdldEFsbG93SXRlbSIsIk1QQU5vdGlmeVBsYXllciIsIk5pY2tuYW1lIiwiTm90aWZ5UGxheWVyIiwiQmVkIiwiQ29tbWFuZENvbWJpbmUiLCJUYWciLCJEZXNjcmlwdGlvbiIsIkFjdGlvbiIsIl9hcmdzIiwibXNnIiwiX3BhcnNlZCIsImFyZyIsImV4ZWMiLCJjaGFyIiwiRmluZENoYXJhY3RlckluUm9vbSIsIlNhdmVTdG9yYWdlIiwiQXNzZXQiLCJQcm9wZXJ0eSIsIlR5cGVSZWNvcmQiLCJ0eXBlZCIsIk51bWJlciIsIkNoYXRSb29tQ2hhcmFjdGVyVXBkYXRlIiwiSG9va0Z1bmN0aW9uIiwiYXJncyIsIm5leHQiLCJkYXRhIiwiVHlwZSIsIkNvbnRlbnQiLCJHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkiLCJEaWN0aW9uYXJ5Iiwic29tZSIsImN1cnIiLCJUZXh0IiwiQnVpbGRBbGxDb21tYW5kcyIsInRyYW5zbGF0aW9ucyIsInRlbXBsYXRlIiwiUlUiLCJMb2NhbGl6ZWRUZXh0IiwidGV4dCIsInRyYW5zbGF0ZWRUZXh0IiwiVHJhbnNsYXRpb25MYW5ndWFnZSIsIk1vZHVsZSIsIlRpdGxlIiwiVW5rbm93biIsIkFjdGl2aXRpZXMiLCJTZXR0aW5ncyIsIlN5bmNMaXN0ZW5lcnMiLCJMb2FkIiwiQ3JlYXRlQWN0aXZpdGllcyIsIkFkZERhdGFTeW5jTGlzdGVuZXJzIiwiVW5sb2FkIiwiUmVtb3ZlSG9va3MiLCJSZW1vdmVBY3Rpdml0aWVzIiwiUmVtb3ZlRGF0YVN5bmNMaXN0ZW5lcnMiLCJSZWxvYWQiLCJSZWNpZXZlQmVsbCIsInNvdXJjZSIsInRhcmdldCIsIl9ncm91cCIsIl9kYXRhIiwiQXVkaW9TZXR0aW5ncyIsIlBsYXlJdGVtIiwiUGxheUl0ZW1QbGF5ZXJPbmx5IiwiQkVMTF9TT1VORCIsInBsYXkiLCJBY3Rpdml0aWVzTW9kdWxlIiwiTWF4UHJvZ3Jlc3MiLCJQcmVyZXF1aXNpdGUiLCJDdXN0b21QcmVyZXF1aXNpdGUiLCJfYWN0aW5nIiwiYWN0ZWQiLCJUYXJnZXRzIiwiZ3JvdXAiLCJsYWJlbCIsImFjdGlvblNlbGYiLCJhY3Rpb25PdGhlcnMiLCJJbWFnZSIsIk9uUmVjZWl2ZSIsInN1cGVyIiwicHJlcmVxIiwiYWN0aW5nIiwia2V5cyIsImFjdGl2aXR5UHJlcmVxdWlzaXRlcyIsImFjdGl2aXR5TmFtZSIsImZpbmQiLCJ4IiwiQWN0aXZpdHlOYW1lIiwic3RhcnRzV2l0aCIsIkFDVElWSVRZX05BTUVfUFJFRklYIiwiQWN0aXZpdHlEaWN0aW9uYXJ5VGV4dCIsImFjdGl2aXR5VHJpZ2dlcnMiLCJ0YXJnZXROdW1iZXIiLCJDaGF0Um9vbUNoYXJhY3RlciIsIkNsaWNrZXIiLCJhY3Rpdml0eVJlY2VpdmVkIiwic291cmNlQ2hhciIsIk5pY2tOYW1lIiwidGFyZ2V0Q2hhciIsIkFjdGl2aXR5IiwiYWN0aXZpdHlJbWFnZXMiLCJpbWFnZSIsIlBsYXllclAiLCJDIiwiQXV0aG9yaXR5IiwiSXNIYXJkY29yZU9uIiwiaGFyZGNvcmUiLCJBdXRob3JpdHlNb2R1bGUiLCJ0eXBlIiwiYWN0aXZlIiwibWF4Q2hhcnMiLCJ3aWR0aCIsIm9wdGlvbnMiLCJBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUyIsImxvb3AiLCJvdGhlcnNQcm9maWxlIiwib25TZXQiLCJzZWxmUHJvZmlsZSIsIkFMTF9DTElDS1MiLCJBdWRpbyIsIlBsYXllckMiLCJDbGlja0NvdW50Iiwic3RyIiwidG90YWxDbGlja3MiLCJ0cmlnZ2VycyIsInRyaW0iLCJmb3JFYWNoIiwidHJpZ2dlciIsIm1hdGNoIiwiUmVnRXhwIiwiUGxheUNsaWNrZXJTb3VuZCIsIm51bWJlck9mQ2xpY2tzIiwiaXNOYU4iLCJlbmFibGVkIiwiTWF0aCIsIm1pbiIsImJjeEhvb2tlZCIsIkhvb2tCQ1hDbGlja2VyIiwiYmN4Rm91bmQiLCJiY3hBUEkiLCJvbiIsInByZWZpeCIsImJjeFZvaWNlIiwic3Vic3RyaW5nIiwiQ2xpY2tlck1vZHVsZSIsImhhc0JlZW5Mb2FkZWQiLCJfYWN0ZWQiLCJhdXRoZWRHcm91cCIsInNlbGZBdXRoZWQiLCJTZW5kZXIiLCJJc01lbWJlck51bWJlckluQXV0aEdyb3VwIiwiY2xpY2tzIiwiUmVtb3ZlT09DQ29udGVudEZyb21NZXNzYWdlIiwicmVkdWNlIiwiYWNjIiwiaW52ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImNsZWFySW50ZXJ2YWwiLCJTZXR0aW5nU3luYyIsInJlcGx5Iiwic2V0dGluZ3MiLCJzdHJ1Y3R1cmVkQ2xvbmUiLCJDYXRlZ29yeVN5bmMiLCJjYXRlZ29yeSIsIlJlY29yZFN5bmMiLCJyZWNvcmQiLCJSZWNvcmRzU3luYyIsInJlY29yZHMiLCJEYXRhU3luY01vZHVsZSIsIkRhdGFTeW5jIiwibW9kdWxlIiwiYWN0aW9uIiwic2VuZGVyIiwiY29udGVudCIsIkdldE1QQU1lc3NhZ2VGcm9tQ2hhdCIsImhvb2tlZE1lc3NhZ2VzIiwiUHJpdmF0ZU1vZHVsZSIsIlByb2ZpbGUiLCJHZXRSZWNvcmQiLCJ0aXRsZSIsIkdBUkJMRV9QSFJBU0VTIiwiSHVtYW4iLCJDdXN0b20iLCJCdW5ueSIsIkNhdCIsIkNvdyIsIkRvZyIsIkZveCIsIk1vdXNlIiwiUG9ueSIsIldvbGYiLCJHZXRBbGxvd2VkUGV0R2FyYmxlUGhyYXNlcyIsInByb2ZpbGUiLCJiYW5uZWRCQ1hXb3JkcyIsImdldFJ1bGVTdGF0ZSIsImN1c3RvbURhdGEiLCJiYW5uZWRXb3JkcyIsInBldFBocmFzZXMiLCJiY3hTcGVha2luZyIsIm1hbmRhdG9yeVdvcmRzIiwiZ2FyYmxlUGhyYXNlcyIsIkdldFBldEdhcmJsZVBocmFzZXMiLCJGaWx0ZXJBcnJheUZyb21BcnJheSIsIlBFVF9IRUFSSU5HIiwiQWxsIiwiU2V0UHJvZmlsZVR5cGUiLCJwcmV2VmFsdWUiLCJlbGVJRCIsIkVsZW1lbnROYW1lIiwiY3VzdG9tR2FyYmxlUGhyYXNlcyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJFbGVtZW50VmFsdWUiLCJTZXRCQ1hTcGVhayIsIndvcmRzIiwiUHJvZmlsZU1vZHVsZSIsIl9jb250ZW50IiwicGV0U3BlYWtpbmciLCJJc1BsYXllciIsIlZpcnR1YWxQZXQiLCJub0hhbmRzIiwiVmlydHVhbFBldENvbmRpdGlvbnMiLCJmb29kTk9XIiwidGludCIsInBhc3NvdXQiLCJhZmZlY3Rpb25Ta2lsbEJ1ZmZzIiwiYWZmZWN0aW9uU2tpbGxEZWJ1ZmZzIiwiaGVhcmluZ0xvc3MiLCJzbG93TGVhdmUiLCJTcGVlY2hUcmFuc2Zvcm1BbGxFZmZlY3RzIiwiaW50ZW5zaXR5IiwiaWdub3JlT09DIiwiSXNHYWdnZWQiLCJJc0RlYWYiLCJwZXRIZWFyaW5nIiwiQXBwbHlQZXRIZWFyaW5nIiwiY29uY2F0IiwiR2V0UGV0SGVhcmluZ1BocmFzZXMiLCJDb21tYW5kc0tleSIsImNoYXJBdCIsIk5vbkRpc3J1cHRpdmVQZXRTcGVlY2giLCJ0cmFuc2Zvcm0iLCJzZXR0aW5nc0VkaXRlZCIsInNldHRpbmdDaGFyIiwiU2V0U2V0dGluZ0NoYXIiLCJDQU5WQVNfV0lEVEgiLCJFWElUX1BPU0lTVElPTiIsIkJVVFRPTl9NQVhfTlVNQkVSIiwiQlVUVE9OX1dJRFRIIiwiQlVUVE9OX0hFSUdIVCIsIkJVVFRPTl9UT1AiLCJCVVRUT05fTEVGVCIsIkJVVFRPTl9HQVAiLCJCVVRUT05fVEVYVF9QQURESU5HIiwiV0lLSV9QT1NJVElPTiIsIldJS0lfTElOSyIsIlJFU0VUX1BPU0lUSU9OIiwiQUxFUlRfUE9TSVRJT04iLCJzaG93U2V0dGluZ3NBbGVydCIsInNldHRpbmdzQWxlcnRUZXh0IiwiSU1QT1JUX1BPU0lUSU9OIiwiRVhQT1JUX1BPU0lUSU9OIiwiUkVTRVRfQ09ORklSTV9QT1NJVElPTiIsIlJFU0VUX0NBTkNFTF9QT1NJVElPTiIsIk1FTlVfQ0FURUdPUklFUyIsIlZpcnR1YWxQZXRIVUQiLCJNRU5VX1RJVExFUyIsImN1cnJlbnRNZW51Iiwic2V0dGluZ3NPcGVuIiwiYWxsb3dSZXNldFRpbWUiLCJHZXRDbGlja2VkTWVudSIsIm1lbnVPcHRpb25zIiwiTW91c2VJbiIsImZsb29yIiwiRHJhd0J1dHRvbiIsIk9QVElPTl9QRVJfUEFHRSIsIk9QVElPTl9IRUlHSFQiLCJPUFRJT05fVE9QIiwiT1BUSU9OX0xFRlQiLCJPUFRJT05fR0FQIiwiT1BUSU9OX0NIRUNLQk9YX1NJWkUiLCJPUFRJT05fQkFDS19ORVhUX1dJRFRIIiwiT1BUSU9OX1RFWFRfV0lEVEgiLCJPUFRJT05fVEVYVF9NQVhfQ0hBUlMiLCJjdXJyZW50UGFnZSIsIm1heFBhZ2VzIiwiTkVYVF9CVVRUT05fUE9TIiwiUFJFVl9CVVRUT05fUE9TIiwiRHJhd1N1Yk1lbnVPcHRpb25zIiwic3ViTWVudSIsInNldHRpbmdzVG9EaXNwbGF5Iiwia2V5Iiwic2V0dGluZyIsIklzRGlzcGxheVNldHRpbmciLCJ2YWwiLCJzZXR0aW5nTmFtZSIsImRpc2FibGVkU2V0dGluZyIsIkNhbkludGVyYWN0IiwiYm91bmRBY2Nlc3NTZWxmIiwiYm91bmRBY2Nlc3NPdGhlcnMiLCJJc0NoZWNrYm94U2V0dGluZyIsIkRyYXdDaGVja2JveCIsIkdldFByb25vdW5zIiwiSXNPcHRpb25TZXR0aW5nIiwiaW5kZXgiLCJvcHRMZW4iLCJwcm9maWxlT3JFeGNsdWRlcyIsInByZXZEaXNhYmxlZCIsIkF1dGhvcml0eUlzQ29tcGFyaXNvblRvQ2hhcmFjdGVyIiwibmV4dERpc2FibGVkIiwiRHJhd0JhY2tOZXh0QnV0dG9uIiwiRHJhd1RleHRGaXQiLCJjZWlsIiwiSXNUZXh0U2V0dGluZyIsIklzTnVtYmVyU2V0dGluZyIsImlkIiwiRWxlbWVudFBvc2l0aW9uRml4ZWQiLCJFbGVtZW50U2V0QXR0cmlidXRlIiwiRWxlbWVudFJlbW92ZUF0dHJpYnV0ZSIsIkV4aXRCdXR0b25QcmVzc2VkIiwibWVudUxvYWRlZCIsIlByZWZlcmVuY2VNZW51RXhpdCIsIlVwZGF0ZUFuZERlbGV0ZUhUTUxFbGVtZW50cyIsIlByZWZlcmVuY2VNZW51Q2xpY2siLCJvcGVuIiwiZm9jdXMiLCJEYXRlIiwibm93IiwiSW1wb3J0U2V0dGluZ3NGcm9tQ2xpcGJvYXJkIiwidGhlbiIsImZpbmFsbHkiLCJFeHBvcnRTZXR0aW5nc1RvQ2xpcGJvYXJkIiwiQ3JlYXRlSFRNTEVsZW1lbnRzIiwiR2V0Q2xpY2tlZE9wdGlvbiIsIlJlc2V0U3RvcmFnZSIsIlJlc2V0TWVudUNsaWNrIiwiUHJlZmVyZW5jZU1lbnVSdW4iLCJwcmV2VGV4dEFsaWduIiwiTWFpbkNhbnZhcyIsInRleHRBbGlnbiIsIkRyYXdUZXh0IiwiUmVzZXRNZW51UnVuIiwiRHJhd01lbnVPcHRpb25zIiwiTGV2ZWxTeW5jIiwiUHJlZmVyZW5jZVN1YnNjcmVlbkV4dGVuc2lvbnNDbGVhciIsIlBsYXllclByZWZlcmVuY2VNZW51TG9hZCIsInBhZ2UiLCJFbGVtZW50Q3JlYXRlSW5wdXQiLCJtYXgiLCJzdGVwIiwiRWxlbWVudFJlbW92ZSIsIlNldHRpbmdzTW9kdWxlIiwiRXNjYXBlSGFuZGxlciIsImV2ZW50Iiwic3RvcFByb3BhZ2F0aW9uIiwiUHJlZmVyZW5jZVJlZ2lzdGVyRXh0ZW5zaW9uU2V0dGluZyIsIklkZW50aWZpZXIiLCJCdXR0b25UZXh0IiwiSUNPTlMiLCJQQVciLCJjbGljayIsInJ1biIsImV4aXQiLCJsb2FkIiwiYWRkRXZlbnRMaXN0ZW5lciIsIk1QQV9SRU1PVEUiLCJNUEFfUkVNT1RFX0JDWCIsIkFycmF5c0VxdWFsIiwiYXJyMSIsImFycjIiLCJldmVyeSIsIk9iamVjdERpZmZlcmVuY2VzIiwib2xkT2JqIiwibmV3T2JqIiwiZGlmZmVyZW5jZXMiLCJvbGQiLCJuZXciLCJvbGRWYWx1ZSIsIm5ld1ZhbHVlIiwiZGlmZiIsIlNldHRpbmdzT3RoZXJNb2R1bGUiLCJTZXR0aW5nc090aGVyIiwidnBFbmFibGVkIiwiY2hhbmdlZFNldHRpbmdzIiwibGV2ZWxzIiwicHJldmlvdXNBdXRob3JpdHkiLCJzdHJpbmdpZnkiLCJuZXdBdXRob3JpdHkiLCJlbnRyeSIsIm1vZHVsZURpZmYiLCJsYXN0VXBkYXRlZCIsInJlcGxhY2UiLCJBcnJheVRvUmVhZGFibGVTdHJpbmciLCJiY3giLCJpbkJjeFN1YnNjcmVlbiIsIkxTQ0dfUkVNT1RFX1dJTkRPV19PUEVOIiwiSW5mb3JtYXRpb25TaGVldFNlbGVjdGlvbiIsImFjY2VzcyIsIk1BWF9TRVRUSU5HX1RJTUVfSE9VUlMiLCJQbGF5ZXJWUCIsIkJPV0xfQ09OU1VNRV9SRUNPVkVSWSIsIkFDVElWSVRJRVNfRk9PRF9HQUlOIiwiQUNUSVZJVElFU19XQVRFUl9HQUlOIiwiRU1PVElDT05TX1NMRUVQIiwiQUZGRUNUSU9OX0FDVElWSVRZX0xPVkUiLCJBRkZFQ1RJT05fQUNUSVZJVFlfTElLRSIsIkFGRkVDVElPTl9BQ1RJVklUWV9NQVNPIiwiQUZGRUNUSU9OX1pPTkVfQUZGRUNUSU9OIiwiSXRlbUFybXMiLCJJdGVtQm9vdHMiLCJJdGVtQnJlYXN0IiwiSXRlbUJ1dHQiLCJJdGVtRWFycyIsIkl0ZW1GZWV0IiwiSXRlbUhhbmRzIiwiSXRlbUhlYWQiLCJJdGVtTGVncyIsIkl0ZW1Nb3V0aCIsIkl0ZW1OZWNrIiwiSXRlbU5pcHBsZXMiLCJJdGVtTm9zZSIsIkl0ZW1QZWx2aXMiLCJJdGVtVG9yc28iLCJJdGVtVnVsdmEiLCJJdGVtVnVsdmFQaWVyY2luZ3MiLCJNSU5fT0ZGTElORV9EUkFJTl9MRVZFTCIsImxhc3RPbmxpbmVJbnRlcnZhbCIsIklzU2xlZXBpbmdFeHByZXNzaW9uIiwiQXBwZWFyYW5jZSIsIkdyb3VwIiwiRXhwcmVzc2lvbiIsIklzQmVkTXVsdGlwbGllciIsImRldmljZSIsIkJFRF9QRVJGRUNUIiwiQkVEX05PUk1BTCIsIkJFRF9CQUQiLCJwbGF5ZXJTbGVlcGluZ0V4cHJlc3Npb24iLCJwbGF5ZXJCZWRNdWx0aXBsaWVyIiwiU2xlZXBDaGFuZ2VDaGVjayIsInN5bmMiLCJzbGVlcEhvdXJzIiwiSG91clRvTVMiLCJob3VycyIsIkNhbGN1bGF0ZUN1cnJlbnRWYWx1ZSIsImR1cmF0aW9uIiwibGFzdE9ubGluZSIsImZpcnN0UnVuQ2hlY2siLCJjdXJyZW50VmFsdWUiLCJkaWZmMiIsIm5ld1ZhbHVlMiIsIkdldENoYXJhY3RlckN1cnJlbnRTdGF0VmFsdWUiLCJzdGF0IiwiY2hhclN0YXRzIiwibHZsIiwic2xlZXAiLCJwdXNoVG9TdG9yYWdlIiwicmVjb3JkU3luYyIsImZpcnN0U3luYyIsInVwZGF0ZSIsIm9ubGluZSIsIm9mZmxpbmVEcmFpbiIsImZvb2QiLCJmb29kSG91cnMiLCJ3YXRlciIsIndhdGVySG91cnMiLCJkdXJhdGlvblRvVXNlIiwibmV3U2xlZXAiLCJhZmZlY3Rpb24iLCJhZmZlY3Rpb25Ib3VycyIsIk1vZGlmeVN0YXQiLCJhbW91bnQiLCJhcHBseU1vZGlmaWVyIiwic3RvcmFnZVB1c2giLCJtb2RpZmllciIsIklzT3duZXIiLCJJc0xvdmVyT2ZQbGF5ZXIiLCJJc0ZhbWlseU9mUGxheWVyIiwiQ2FuVGFsayIsIkR5bmFtaWNHcm91cE5hbWUiLCJQb3NlTWFwcGluZyIsIkJvZHlGdWxsIiwibnVtcyIsInN1bSIsIm51bSIsIlN0YXRNb2RpZmllciIsImxldmVsIiwiVmVyaWZ5VmFsaWRTdGF0IiwiVmlydHVhbFBldE1vZHVsZSIsIk9uVHJpZ2dlciIsIklzTW91dGhCbG9ja2VkIiwiYWN0aXZpdHkiLCJBY3Rpdml0eUZlbWFsZTNEQ0ciLCJncm91cE11bHQiLCJtYXNvY2hpc3QiLCJQbGF5ZXJWUEMiLCJDb25kaXRpb25Jc0VuZm9yY2VkIiwiY29uZGl0aW9uIiwidnBTdGF0TmVlZFRvQmVFbmFibGVkIiwiQUZGRUNUSU9OX1NLSUxMUyIsInByZXZpb3VzU3RhdHMiLCJvblN0YXRMZXZlbCIsInN0YXRDb3VudCIsIkNvbmRpdGlvbkNoZWNrIiwiY3VyclZhbHVlIiwiY2hhbmdlRXZlbnQiLCJmaXJzdFJ1biIsImNoYW5nZSIsInRocmVzaGhvbGQiLCJTTEVFUF9USU5UIiwicGFzc2VkT3V0IiwiUEFTU09VVF9UQUxLX1JFUExBQ0UiLCJNUEFQYXNzb3V0IiwiQ2hhcmFjdGVyU2V0RmFjaWFsRXhwcmVzc2lvbiIsIkNhbktuZWVsIiwiUG9zZVNldEFjdGl2ZSIsInNsZWVwTW9kdWxlIiwiTFNDRyIsIlN0YXRlTW9kdWxlIiwic3RhdGVzIiwicGFzc291dExTQ0ciLCJsb2ciLCJQYXNzb3V0Q2hlY2siLCJhZmZlY3Rpb25DaGVja0ludGVydmFsIiwiQWZmZWN0aW9uU2tpbGxDaGVjayIsInNraWxsIiwiYWZmZWN0aW9uTW9kaWZpZXIiLCJyb3VuZCIsInByZXZNb2QiLCJTa2lsbEdldE1vZGlmaWVyIiwiU2tpbGxHZXRNb2RpZmllckR1cmF0aW9uIiwiU2tpbGxTZXRNb2RpZmllciIsIlZpcnR1YWxQZXRDb25kaXRpb25zTW9kdWxlIiwic2NhbGVkVmFsdWUiLCJiIiwic3FydCIsIlJhbmRvbUVsZW1lbnQiLCJHYW1lcGxheVNldHRpbmdzIiwiU2Vuc0RlcENoYXRMb2ciLCJkZWFmTGV2ZWwiLCJTa2lsbE1vZGlmaWVyTWF4Iiwic2tpbGxEdXJhdGlvbk1TIiwicHJldlNsb3ciLCJDaGF0Um9vbVNsb3d0aW1lciIsImN1cnJGb29kIiwiQ3VycmVudFRpbWUiLCJDaGF0Um9vbVNsb3dMZWF2ZU1pblRpbWUiLCJQbGF5ZXJWUEhVRCIsIlZQX1NUQVRfQ09MT1JfRElDVCIsIkRyYXdTdGF0Q2lyY2xlIiwicmFkaXVzIiwiY29sb3IiLCJiZWdpblBhdGgiLCJhcmMiLCJQSSIsImxpbmVXaWR0aCIsInN0cm9rZVN0eWxlIiwic3Ryb2tlIiwibGluZVRvIiwiZmlsbFN0eWxlIiwiZmlsbCIsImV4YWN0U3RhdHMiLCJmb250IiwiQ29tbW9uR2V0Rm9udCIsImZpbGxUZXh0IiwiVmlydHVhbFBldEhVRE1vZHVsZSIsIm90aGVycyIsInpvb20iLCJBY3Rpdml0eUFsbG93ZWQiLCJzZWxmIiwiY2hhcmFjdGVyVlBTdGF0cyIsInN0YXRzIiwicG9zIiwicG9zaXRpb24iLCJyZXZlcnNlIiwic3RhdExlbiIsImNvbHMiLCJjb2wiLCJzdGF0SW5kZXgiLCJEcmF3VmlydWFsUGV0SHVkIiwiQ3JlYXRlQWN0aXZpdHkiLCJjdXN0b21BY3Rpdml0eSIsIkFjdGl2aXR5SUQiLCJUYXJnZXQiLCJjdXN0b21QcmVyZXF1aXNpdGVzIiwibmV3UHJlcmVxdWlzaXRlIiwiVGFyZ2V0U2VsZiIsIkFjdGl2aXR5RGljdGlvbmFyeSIsIkFjdGl2aXR5RmVtYWxlM0RDR09yZGVyaW5nIiwiY3VzdG9tQWN0aXZpdGllcyIsIlJlbW92ZUFjdGl2aXR5IiwiQVVUSE9SSVRZX0dST1VQX1BSSU9fT1JERVIiLCJBVVRIT1JJVFlfR1JPVVBTIiwiU2VsZiIsIkNsdWJvd25lciIsIk93bmVyc2hpcCIsIk93bmVycyIsIm93bmVycyIsInBhcnNlSW50IiwiTG92ZXJzIiwiTG92ZXJzaGlwIiwibG92ZXIiLCJXaGl0ZUxpc3QiLCJGcmllbmRMaXN0IiwibWVtYmVyTnVtYmVyIiwiYXV0aEdyb3VwIiwiYWxsb3dTZWxmIiwiQmxhY2tMaXN0IiwiR2hvc3RMaXN0IiwiYXV0aENoZWNrIiwiSGlnaGVzdExldmVsQXV0aG9yaXR5R3JvdXAiLCJjb21wYXJpc29uIiwicmFuayIsImdyb3VwSW5kZXgiLCJyYW5rSW5kZXgiLCJNUEFfTkFNRSIsInRvTG9jYWxlVXBwZXJDYXNlIiwiTVBBX1ZFUlNJT04iLCJNUEFfUkVQTyIsIklOVk9MVU5UQVJZX1BFVF9TUEVBS19QRVJDRU5UQUdFIiwiSU5WT0xVTlRBUllfUlVTSEVEX1NQRUFLX1BFUkNFTlRBR0UiLCJJTlZPTFVOVEFSWV9FTkRfUEVUX1NQRUFLX1BFUkNFTlRBR0UiLCJhcnJheSIsInJhbmRvbSIsImZpbHRlckFycmF5IiwibmV3QXJyYXkiLCJlbGUiLCJiYWRFbGUiLCJTaHVmZmxlQXJyYXkiLCJqIiwiQ29udGVudElzTVBBTWVzYWdlIiwiU2VydmVyU2VuZCIsImRpY3Rpb25hcnkiLCJTZW5kRW1vdGUiLCJ0aW1lb3V0IiwiZGFya1RoZW1lIiwiQ2hhdFNldHRpbmdzIiwiQ29sb3JUaGVtZSIsIkNoYXRSb29tU2VuZExvY2FsIiwic2VhcmNoIiwiU3BlZWNoR2V0T09DUmFuZ2VzIiwicmFuZ2UiLCJzdGFydCIsIkFkZERhdGFTeW5jTGlzdGVuZXIiLCJsaXN0ZW5lciIsImxpc3RlbmVycyIsIkdldEVudHJ5RnJvbUNoYXREaWN0aW9uYXJ5IiwiYXR0cmlidXRlIiwiX2Vycm9yIiwiYXJyIiwiQXBwZW5kUGV0U3BlZWNoIiwicGV0U291bmQiLCJ0ZXN0IiwicGhyYXNlc1RvS2VlcCIsImZvdW5kUGhyYXNlcyIsInBocmFzZSIsInJlZ0V4cCIsIm1hdGNoQWxsIiwibGVuIiwidW5pcXVlUmFuZ2VzIiwiaXRlbSIsImxhc3RJbmRleCIsImZpbmFsVGV4dCIsImZvdW5kIiwiYWxsb3dlZFBldFBocmFzZXMiLCJwZXRQaHJhc2VCdWNrZXQiLCJHZXRQZXRQaGFzZSIsInBvcCIsIm5leHRJbmRleCIsInNlZ21lbnRzIiwib29jUmFuZ2VzIiwib29jIiwibGFzdEJpdCIsIm9iaiIsInRyYWlsaW5nV2hpdGVzcGFjZSIsInNwb2tlUGV0IiwibmV3TXNnIiwic2VnbWVudCIsInNwbGl0UGhyYXNlIiwicHJldmlvdXNXb3JkIiwid29yZCIsIm5vUHJldiIsImVuZHNXaXRoIiwibW9kdWxlc1JlZ2lzdGVyZWQiLCJtb2R1bGVzIiwiYXN5bmMiLCJSZWdpc3Rlck1vZHVsZXMiLCJtb2RTZXQiLCJuZXdTZXR0aW5ncyIsIkxvYWRTdG9yYWdlIiwibW9kQVBJIiwiZnVuY3Rpb25OYW1lIiwicmVtb3ZlSG9vayIsIkF3YWl0UGxheWVyIiwiRXh0ZW5zaW9uU2V0dGluZ3MiLCJQcm9taXNlIiwicmVzb2x2ZSIsImdldE1vZEFwaSIsInNldHRpbmdUaXRsZSIsImNhdGVnb3J5U2V0dGluZ3MiLCJTZXJ2ZXJBY2NvdW50QmVlcCIsIk1lbWJlck5hbWUiLCJDaGF0Um9vbVNwYWNlIiwiQ2hhdFJvb21OYW1lIiwiQmVlcFR5cGUiLCJNZXNzYWdlIiwiTVBBVXBkYXRlQ2hlY2siLCJzeW5jV2l0aE90aGVycyIsImNvbXByZXNzVG9CYXNlNjQiLCJTZXJ2ZXJQbGF5ZXJFeHRlbnNpb25TZXR0aW5nc1N5bmMiLCJuYXZpZ2F0b3IiLCJjbGlwYm9hcmQiLCJ3cml0ZVRleHQiLCJyZWplY3QiLCJyZWFkVGV4dCIsImN1cnJlbnRTZXR0aW5ncyIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZGVmaW5pdGlvbiIsImVudW1lcmFibGUiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyJdLCJzb3VyY2VSb290IjoiIn0=