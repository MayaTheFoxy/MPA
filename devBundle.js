/*! For license information please see devBundle.js.LICENSE.txt */
(()=>{var e={"./node_modules/bondage-club-mod-sdk/dist/bcmodsdk.js":(e,t)=>{!function(){"use strict";const e="1.2.0";function o(e){alert("Mod ERROR:\n"+e);const t=new Error(e);throw console.error(t),t}const r=new TextEncoder;function n(e){return!!e&&"object"==typeof e&&!Array.isArray(e)}function i(e){const t=new Set;return e.filter((e=>!t.has(e)&&t.add(e)))}const a=new Map,l=new Set;function s(e){l.has(e)||(l.add(e),console.warn(e))}function u(e){const t=[],o=new Map,r=new Set;for(const n of h.values()){const i=n.patching.get(e.name);if(i){t.push(...i.hooks);for(const[t,a]of i.patches.entries())o.has(t)&&o.get(t)!==a&&s(`ModSDK: Mod '${n.name}' is patching function ${e.name} with same pattern that is already applied by different mod, but with different pattern:\nPattern:\n${t}\nPatch1:\n${o.get(t)||""}\nPatch2:\n${a}`),o.set(t,a),r.add(n.name)}}t.sort(((e,t)=>t.priority-e.priority));const n=function(e,t){if(0===t.size)return e;let o=e.toString().replaceAll("\r\n","\n");for(const[r,n]of t.entries())o.includes(r)||s(`ModSDK: Patching ${e.name}: Patch ${r} not applied`),o=o.replaceAll(r,n);return(0,eval)(`(${o})`)}(e.original,o);let i=function(t){var o,i;const a=null===(i=(o=p.errorReporterHooks).hookChainExit)||void 0===i?void 0:i.call(o,e.name,r),l=n.apply(this,t);return null==a||a(),l};for(let o=t.length-1;o>=0;o--){const r=t[o],n=i;i=function(t){var o,i;const a=null===(i=(o=p.errorReporterHooks).hookEnter)||void 0===i?void 0:i.call(o,e.name,r.mod),l=r.hook.apply(this,[t,e=>{if(1!==arguments.length||!Array.isArray(t))throw new Error(`Mod ${r.mod} failed to call next hook: Expected args to be array, got ${typeof e}`);return n.call(this,e)}]);return null==a||a(),l}}return{hooks:t,patches:o,patchesSources:r,enter:i,final:n}}function c(e,t=!1){let o=a.get(e);if(o)t&&(o.precomputed=u(o));else{let t=window;const i=e.split(".");for(let o=0;o<i.length-1;o++)if(t=t[i[o]],!n(t))throw new Error(`ModSDK: Function ${e} to be patched not found; ${i.slice(0,o+1).join(".")} is not object`);const l=t[i[i.length-1]];if("function"!=typeof l)throw new Error(`ModSDK: Function ${e} to be patched not found`);const s=function(e){let t=-1;for(const o of r.encode(e)){let e=255&(t^o);for(let t=0;t<8;t++)e=1&e?-306674912^e>>>1:e>>>1;t=t>>>8^e}return(~t>>>0).toString(16).padStart(8,"0").toUpperCase()}(l.toString().replaceAll("\r\n","\n")),c={name:e,original:l,originalHash:s};o=Object.assign(Object.assign({},c),{precomputed:u(c),router:()=>{},context:t,contextProperty:i[i.length-1]}),o.router=function(e){return function(...t){return e.precomputed.enter.apply(this,[t])}}(o),a.set(e,o),t[o.contextProperty]=o.router}return o}function d(){for(const e of a.values())e.precomputed=u(e)}function m(){const e=new Map;for(const[t,o]of a)e.set(t,{name:t,original:o.original,originalHash:o.originalHash,sdkEntrypoint:o.router,currentEntrypoint:o.context[o.contextProperty],hookedByMods:i(o.precomputed.hooks.map((e=>e.mod))),patchedByMods:Array.from(o.precomputed.patchesSources)});return e}const h=new Map;function v(e){h.get(e.name)!==e&&o(`Failed to unload mod '${e.name}': Not registered`),h.delete(e.name),e.loaded=!1,d()}function f(e,t){e&&"object"==typeof e||o("Failed to register mod: Expected info object, got "+typeof e),"string"==typeof e.name&&e.name||o("Failed to register mod: Expected name to be non-empty string, got "+typeof e.name);let r=`'${e.name}'`;"string"==typeof e.fullName&&e.fullName||o(`Failed to register mod ${r}: Expected fullName to be non-empty string, got ${typeof e.fullName}`),r=`'${e.fullName} (${e.name})'`,"string"!=typeof e.version&&o(`Failed to register mod ${r}: Expected version to be string, got ${typeof e.version}`),e.repository||(e.repository=void 0),void 0!==e.repository&&"string"!=typeof e.repository&&o(`Failed to register mod ${r}: Expected repository to be undefined or string, got ${typeof e.version}`),null==t&&(t={}),t&&"object"==typeof t||o(`Failed to register mod ${r}: Expected options to be undefined or object, got ${typeof t}`);const i=!0===t.allowReplace,a=h.get(e.name);a&&(a.allowReplace&&i||o(`Refusing to load mod ${r}: it is already loaded and doesn't allow being replaced.\nWas the mod loaded multiple times?`),v(a));const l=e=>{let t=m.patching.get(e.name);return t||(t={hooks:[],patches:new Map},m.patching.set(e.name,t)),t},s=(e,t)=>(...n)=>{var i,a;const l=null===(a=(i=p.errorReporterHooks).apiEndpointEnter)||void 0===a?void 0:a.call(i,e,m.name);m.loaded||o(`Mod ${r} attempted to call SDK function after being unloaded`);const s=t(...n);return null==l||l(),s},u={unload:s("unload",(()=>v(m))),hookFunction:s("hookFunction",((e,t,n)=>{"string"==typeof e&&e||o(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof e}`);const i=c(e),a=l(i);"number"!=typeof t&&o(`Mod ${r} failed to hook function '${e}': Expected priority number, got ${typeof t}`),"function"!=typeof n&&o(`Mod ${r} failed to hook function '${e}': Expected hook function, got ${typeof n}`);const s={mod:m.name,priority:t,hook:n};return a.hooks.push(s),d(),()=>{const e=a.hooks.indexOf(s);e>=0&&(a.hooks.splice(e,1),d())}})),patchFunction:s("patchFunction",((e,t)=>{"string"==typeof e&&e||o(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof e}`);const i=c(e),a=l(i);n(t)||o(`Mod ${r} failed to patch function '${e}': Expected patches object, got ${typeof t}`);for(const[n,i]of Object.entries(t))"string"==typeof i?a.patches.set(n,i):null===i?a.patches.delete(n):o(`Mod ${r} failed to patch function '${e}': Invalid format of patch '${n}'`);d()})),removePatches:s("removePatches",(e=>{"string"==typeof e&&e||o(`Mod ${r} failed to patch a function: Expected function name string, got ${typeof e}`);const t=c(e);l(t).patches.clear(),d()})),callOriginal:s("callOriginal",((e,t,n)=>{"string"==typeof e&&e||o(`Mod ${r} failed to call a function: Expected function name string, got ${typeof e}`);const i=c(e);return Array.isArray(t)||o(`Mod ${r} failed to call a function: Expected args array, got ${typeof t}`),i.original.apply(null!=n?n:globalThis,t)})),getOriginalHash:s("getOriginalHash",(e=>("string"==typeof e&&e||o(`Mod ${r} failed to get hash: Expected function name string, got ${typeof e}`),c(e).originalHash)))},m={name:e.name,fullName:e.fullName,version:e.version,repository:e.repository,allowReplace:i,api:u,loaded:!0,patching:new Map};return h.set(e.name,m),Object.freeze(u)}function g(){const e=[];for(const t of h.values())e.push({name:t.name,fullName:t.fullName,version:t.version,repository:t.repository});return e}let p;const y=void 0===window.bcModSdk?window.bcModSdk=function(){const t={version:e,apiVersion:1,registerMod:f,getModsInfo:g,getPatchingInfo:m,errorReporterHooks:Object.seal({apiEndpointEnter:null,hookEnter:null,hookChainExit:null})};return p=t,Object.freeze(t)}():(n(window.bcModSdk)||o("Failed to init Mod SDK: Name already in use"),1!==window.bcModSdk.apiVersion&&o(`Failed to init Mod SDK: Different version already loaded ('1.2.0' vs '${window.bcModSdk.version}')`),window.bcModSdk.version!==e&&alert(`Mod SDK warning: Loading different but compatible versions ('1.2.0' vs '${window.bcModSdk.version}')\nOne of mods you are using is using an old version of SDK. It will work for now but please inform author to update`),window.bcModSdk);Object.defineProperty(t,"__esModule",{value:!0}),t.default=y}()},"./package.json":e=>{"use strict";e.exports=JSON.parse('{"name":"mpa","description":"","version":"0.4.6.3","author":"Maya","license":"MIT","repository":{"type":"git","url":"https://github.com/MayaTheFoxy/MPA"},"scripts":{"serve":"npx webpack serve --progress","stable":"npx webpack --env stable=true","dev":"npx webpack --env stable=false","lint":"eslint ./src","lint-fix":"eslint ./src --fix"},"dependencies":{"bondage-club-mod-sdk":"^1.2.0"},"devDependencies":{"@eslint/js":"^9.9.0","@stylistic/eslint-plugin":"^2.6.2","bc-stubs":"^111.0.0","eslint":"^9.9.0","globals":"^15.9.0","lz-string":"^1.5.0","terser-webpack-plugin":"^5.3.10","ts-loader":"^9.5.1","typescript":"^5.5.4","typescript-eslint":"^8.1.0","webpack":"^5.93.0","webpack-cli":"^5.1.4","webpack-dev-server":"^5.0.4"}}')},"./src/commands/bed.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{Bed:()=>v});var r=o("./src/util/storage.ts"),n=o("./src/modules/_module.ts"),i=o("./src/util/constants.ts"),a=o("./src/util/messaging.ts"),l=o("./src/util/sdk.ts");const s="SourceCharacter crawls into PronounPossessive bed.",u="SourceCharacter tucks TargetCharacter into bed.";function c(e){var t,o;return Object.keys(e).length>0&&CraftingValidate(e)===CraftingStatusType.OK&&(i.ALL_BEDS.includes(e.Item)||(null===(o=null===(t=null==e?void 0:e.Name)||void 0===t?void 0:t.toLocaleLowerCase())||void 0===o?void 0:o.includes("bed")))}function d(e=Player){e.MemberNumber===Player.MemberNumber?(0,a.SendAction)(s,void 0,[{SourceCharacter:Player.MemberNumber}]):(0,a.SendAction)(u,void 0,[{SourceCharacter:Player.MemberNumber},{TargetCharacter:e.MemberNumber}])}function m(){var e;if(InventoryGet(Player,"ItemDevices")||InventoryGroupIsBlockedForCharacter(Player,"ItemDevices"))return;const t=JSON.parse(LZString.decompressFromBase64(Player.MPA[n.ModuleTitle.Private].savedBed||"")||"{}")||{};if(c(t))InventoryWear(Player,t.Item,"ItemDevices",t.Color.split(","),0,Player.MemberNumber,t,!1);else{const t=null===(e=InventoryGet(Player,"HairFront"))||void 0===e?void 0:e.Color;InventoryWear(Player,"PetBed","ItemDevices",[t[0],"Default",t[t.length-1]],0,Player.MemberNumber,void 0,!1)}ChatRoomCharacterItemUpdate(Player,"ItemDevices")}function h(e=Player){const t=InventoryGet(e,"ItemDevices")||InventoryGroupIsBlockedForCharacter(e,"ItemDevices")||e.MemberNumber!==Player.MemberNumber&&!Player.CanInteract();return e.MemberNumber!==Player.MemberNumber?ServerChatRoomGetAllowItem(Player,e)?e.MPA?t?((0,a.MPANotifyPlayer)(`Unable to tuck ${e.Nickname||e.Name} into bed`,3e4),!1):(d(e),!0):((0,a.MPANotifyPlayer)(`${e.Nickname||e.Name} does not have MPA, unable to give bed`,3e4),!1):((0,a.NotifyPlayer)("MPA: No BC item permission",3e4),!1):t?((0,a.MPANotifyPlayer)("Unable to crawl into bed",3e4),!1):(m(),d(e),!0)}function v(){CommandCombine([{Tag:"bed",Description:"[(optional) Bed export code OR Other player] Crawl into bed without needing hands",Action:(e,t,o)=>{var i;const l=(null!==(i=/^(\S+)\s*(.*)$/.exec(t))&&void 0!==i?i:["","",""])[2];if(l){const e=(0,a.FindCharacterInRoom)(l);if(e)return void h(e);return c(JSON.parse(LZString.decompressFromBase64(l)||"{}")||{})?(Player.MPA[n.ModuleTitle.Private].savedBed=l,(0,r.SaveStorage)(!1),void(0,a.MPANotifyPlayer)("Bed saved")):void(0,a.MPANotifyPlayer)("Invalid argument given!")}h(Player)}},{Tag:"blanket",Description:"Pull the blanket over yourself (Only works on PetBed)",Action:()=>{var e,t,o,r;const n=InventoryGet(Player,"ItemDevices");"PetBed"===(null==n?void 0:n.Asset.Name)&&(0===(null===(t=null===(e=n.Property)||void 0===e?void 0:e.TypeRecord)||void 0===t?void 0:t.typed)||1===(null===(r=null===(o=n.Property)||void 0===o?void 0:o.TypeRecord)||void 0===r?void 0:r.typed))?(n.Property.TypeRecord.typed=Number(!n.Property.TypeRecord.typed),ChatRoomCharacterUpdate(Player),1===n.Property.TypeRecord.typed?(0,a.SendAction)("SourceCharacter pulls a blanket over PronounObject.",void 0,[{SourceCharacter:Player.MemberNumber}]):(0,a.SendAction)("SourceCharacter removes the blanket from on top of PronounObject.",void 0,[{SourceCharacter:Player.MemberNumber}])):(0,a.MPANotifyPlayer)("Unable to pull the blanket over yourself.",2e4)}}]),(0,l.HookFunction)(null,"ChatRoomMessage",100,((e,t)=>{var o;const r=e[0];return"Activity"===r.Type&&"MayaScript"===r.Content&&(0,a.GetAttributeFromChatDictionary)(r,"TargetCharacter")===Player.MemberNumber&&(null===(o=r.Dictionary)||void 0===o?void 0:o.some((e=>"MISSING ACTIVITY DESCRIPTION FOR KEYWORD MayaScript"===(null==e?void 0:e.Tag)&&(null==e?void 0:e.Text)===u)))&&m(),t(e)}))}},"./src/commands/bowl.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{Bowl:()=>v});var r=o("./src/util/storage.ts"),n=o("./src/modules/_module.ts"),i=o("./src/util/messaging.ts"),a=o("./src/util/sdk.ts");const l="SourceCharacter lays a bowl of food and water on the ground in front of PronounObjectself.",s="SourceCharacter lays a bowl of food and water on the ground in front of TargetCharacter.",u=/^(?:\w|[ ~!$#%*+])*$/;function c(e){return Object.keys(e).length>0&&CraftingValidate(e)===CraftingStatusType.OK&&"PetBowl"==(null==e?void 0:e.Item)}function d(e=Player){e.MemberNumber===Player.MemberNumber?(0,i.SendAction)(l,void 0,[{SourceCharacter:Player.MemberNumber}]):(0,i.SendAction)(s,void 0,[{SourceCharacter:Player.MemberNumber},{TargetCharacter:e.MemberNumber}])}function m(){var e;if(InventoryGet(Player,"ItemDevices")||InventoryGroupIsBlockedForCharacter(Player,"ItemDevices"))return;const t=JSON.parse(LZString.decompressFromBase64(Player.MPA[n.ModuleTitle.Private].savedBowl||"")||"{}")||{};if(c(t))InventoryWear(Player,t.Item,"ItemDevices",t.Color.split(","),0,Player.MemberNumber,t,!1).Property=t.ItemProperty;else{const t=null===(e=InventoryGet(Player,"HairFront"))||void 0===e?void 0:e.Color;InventoryWear(Player,"PetBowl","ItemDevices",[t[0],"#000000"],0,Player.MemberNumber,void 0,!1).Property={Text:(Player.Nickname&&u.test(Player.Nickname)?Player.Nickname:u.test(Player.Name)?Player.Name:"").substring(0,12)}}ChatRoomCharacterUpdate(Player)}function h(e=Player){const t=InventoryGet(e,"ItemDevices")||InventoryGroupIsBlockedForCharacter(e,"ItemDevices")||!Player.CanInteract();return e.MemberNumber!==Player.MemberNumber?ServerChatRoomGetAllowItem(Player,e)?e.MPA?t?((0,i.MPANotifyPlayer)(`Unable to give ${e.Nickname||e.Name} a bowl`,3e4),!1):(d(e),!0):((0,i.MPANotifyPlayer)(`${e.Nickname||e.Name} does not have MPA, unable to give bowl`,3e4),!1):((0,i.NotifyPlayer)("MPA: No BC item permission",3e4),!1):t?((0,i.MPANotifyPlayer)("Unable to give bowl",3e4),!1):(m(),d(e),!0)}function v(){CommandCombine([{Tag:"bowl",Description:"Give bowl to pet",Action:(e,t,o)=>{var a;const l=(null!==(a=/^(\S+)\s*(.*)$/.exec(t))&&void 0!==a?a:["","",""])[2];if(l){const e=(0,i.FindCharacterInRoom)(l);if(e)return void h(e);return c(JSON.parse(LZString.decompressFromBase64(l)||"{}")||{})?(Player.MPA[n.ModuleTitle.Private].savedBowl=l,(0,r.SaveStorage)(!1),void(0,i.MPANotifyPlayer)("Bowl saved")):void(0,i.MPANotifyPlayer)("Invalid argument given!")}h(Player)}}]),(0,a.HookFunction)(null,"ChatRoomMessage",100,((e,t)=>{var o;const r=e[0];return"Activity"===r.Type&&"MayaScript"===r.Content&&(0,i.GetAttributeFromChatDictionary)(r,"TargetCharacter")===Player.MemberNumber&&(null===(o=r.Dictionary)||void 0===o?void 0:o.some((e=>"MISSING ACTIVITY DESCRIPTION FOR KEYWORD MayaScript"===(null==e?void 0:e.Tag)&&(null==e?void 0:e.Text)===s)))&&m(),t(e)}))}},"./src/commands/buildAllCommands.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{BuildAllCommands:()=>i});var r=o("./src/commands/bed.ts"),n=o("./src/commands/bowl.ts");function i(){(0,r.Bed)(),(0,n.Bowl)()}},"./src/localization/RU.json":e=>{"use strict";e.exports=JSON.parse('{"Maya\'s Petplay Additions":"Дополнения для петплея от Maya","MPA Settings":"","Clicker":"Кликер","Enable auditory clicker":"","Phrases that trigger the click; Separate phrases with a comma":"Фразы, которые совершают клик; Разделяйте фразы с помощью запятой","Allow your own chat, emotes, & actions to trigger the clicker":"Разрешить вашим собственным сообщения в чате, эмоциям или действиям совершать клик","Who will be able to trigger the clicker":"Кто сможет вызывать срабатывание кликера","Public":"Публично","Friends":"Друзья","Whitelist":"Белый список","Lovers":"Любовники","Owners":"Владельцы","Clubowner":"Клубный владелец","Self":"Самостоятельно","Virtual Pet":"Виртуальный питомец","Become a virtual pet! Requiring: food, water, sleep, and affection":"Станьте виртуальным питомцем! Ваши потребности: еда, вода, сон и ласка","How many hours until you are completely out of food; 0 to disable":"Через сколько часов у вас полностью закончится еда; 0 для отключения","How many hours until you are completely out of water; 0 to disable":"Через сколько часов у вас полностью закончится вода; 0 для отключения","How many hours until you are completely out of sleep; 0 to disable":"Через сколько часов у вас полностью закончится сон; 0 для отключения","How many hours until you are completely out of affection; 0 to disable":"Через сколько часов у вас полностью закончится ласка; 0 для отключения","Pause stats from draining when logged out of the club":"Приостановить снижение показателей при выходе из клуба","Allow eating or drinking from items in your OWN hands":"Разрешить есть или пить из предметов в ваших СОБСТВЕННЫХ руках","Click Once":"Щелкнуть один раз","SourceCharacter presses the button PronounPossessive clicker.":"SourceCharacter нажимает на кнопку PronounPossessive кликера.","Click Twice":"Щелкнуть дважды","SourceCharacter presses the button PronounPossessive clicker twice.":"SourceCharacter нажимает на кнопку PronounPossessive кликера дважды.","Click Thrice":"Щелкнуть трижды","SourceCharacter presses the button PronounPossessive clicker three times.":"SourceCharacter нажимает на кнопку PronounPossessive кликера трижды."}')},"./src/localization/localization.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{LocalizedText:()=>n});const r={template:o("./src/localization/template.json"),RU:o("./src/localization/RU.json")};function n(e){var t;const o=null===(t=null==r?void 0:r[TranslationLanguage])||void 0===t?void 0:t[e];return o&&""!==o?o:e}},"./src/localization/template.json":e=>{"use strict";e.exports=JSON.parse('{"Maya\'s Petplay Additions":"","MPA":"","MPA Settings":"","MPA: No BC item permission":"","MPA Updated":"","Wiki":"","Open the MPA wiki in a new tab":"","RESET":"","Reset all your settings back to default":"","Import":"","Import the settings copied to your clipboard":"","Export":"","Export your current settings to the clipboard":"","Confirm":"","Cancel":"","WARNING: Are you sure you want to reset your MPA settings and data back to default?":"","This action can not be undone!":"","Export and save your settings BEFORE confirming if you are unsure.":"","SourceCharacter is accessing your MPA settings.":"","Version":"","Your Version":"","TargetCharacter\'s Version":"","Public":"","Friends":"","Whitelist":"","Lovers":"","Owners":"","Clubowner":"","Self":"","None":"","Low":"","Medium":"","High":"","Max":"","Off":"","First":"","Last":"","Replace":"","Authority":"","Owner member numbers; Seperated by a ,":"","Allow TargetCharacter changing TargetPronounPossessive own settings while bound":"","Allow TargetCharacter changing the settings of others while bound":"","Allow TargetCharacter to change TargetPronounPossessive Authority settings":"","Allow others to change TargetCharacter\'s Authority settings":"","Allow TargetCharacter to change TargetPronounPossessive Profile settings":"","Allow others to change TargetCharacter\'s Profile settings":"","Allow TargetCharacter to change TargetPronounPossessive Clicker settings":"","Allow others to change TargetCharacter\'s Clicker settings":"","Allow TargetCharacter to change TargetPronounPossessive Virtual Pet settings":"","Allow others to change TargetCharacter\'s Virtual Pet settings":"","Allow TargetCharacter to change TargetPronounPossessive Virtual Pet Conditions settings":"","Allow others to change TargetCharacter\'s Virtual Pet Conditions settings":"","SourceCharacter just updated your SettingsArray settings.":"","Profile":"","Use a preset profile or make your own":"","Pet sounds you make":"","Enable hardcore mode; Will set certain settings and prevent changing them back":"","Automatically make the above pet sounds while talking":"","Pet gagging mode":"","Pet gagging strength":"","Clicker":"","Enable auditory clicker":"","Phrases that trigger the click; Separate phrases with a comma":"","Allow your own chat, emotes, & actions to trigger the clicker":"","Who will be able to trigger the clicker":"","Allow BCX Listen to my voice rule to trigger the clicker; Requires BCX":"","Virtual Pet":"","Become a virtual pet! Requiring: food, water, sleep, and affection":"","How many hours until you are completely out of food; 0 to disable":"","How many hours until you are completely out of water; 0 to disable":"","How many hours until you are completely out of sleep; 0 to disable":"","How many hours until you are completely out of affection; 0 to disable":"","Pause stats from draining when logged out of the club":"","Allow eating or drinking from items in your OWN hands":"","Stats drain even when logged out of the club":"","Masochist pet; Abuse raises affection":"","Virtual Pet HUD":"","Display your own virtual pet stats on the HUD":"","Display the exact number percentage on the HUD":"","Where to display the HUD":"","Display the virtual pet stats of others on the HUD":"","Click Once":"","SourceCharacter presses the button on PronounPossessive clicker.":"","Click Twice":"","SourceCharacter presses the button on PronounPossessive clicker twice.":"","Click Thrice":"","SourceCharacter presses the button on PronounPossessive clicker three times.":"","Eat From Bowl":"","Drink From Bowl":"","SourceCharacter eats from PronounPossessive bowl.":"","SourceCharacter drinks from PronounPossessive bowl.":"","SourceCharacter puts PronounPossessive head into PronounPossessive bowl in order to eat with the gag, making a mess.":"","SourceCharacter puts PronounPossessive head into PronounPossessive bowl in order to drink with the gag, making a mess.":"","Virtual Pet Conditions":"","SourceCharacter passes out from exhaustion.":"","SourceCharacter wakes up from PronounPossessive nap.":"","Recive conditions based on current level of your virtual pet stats":"","Food and water affects affection gain":"","Vision darkens as you get sleepier":"","Passout when exhausted":"","Use LSCG passout instead of MPA; Requires LSCG":"","Affection will buff skills based on its level":"","Affection will debuff skills based on its level":"","Hearing becomes harder the hungrier you are":"","Takes longer to leave the room when hungry":"","Flick Bell":"","SourceCharacter flicks the bell on PronounPossessive collar.":"","SourceCharacter flicks the bell on TargetCharacter\'s collar.":"","SourceCharacter flicks the bells on PronounPossessive nipple clamps.":"","SourceCharacter flicks the bells on TargetCharacter\'s nipple clamps.":"","SourceCharacter flicks the bell on PronounPossessive clit piercing.":"","SourceCharacter flicks the bell on TargetCharacter\'s clit piercing.":"","SourceCharacter flicks the bells on PronounPossessive nipple piercings.":"","SourceCharacter flicks the bells on TargetCharacter\'s nipple piercings.":"","SourceCharacter crawls into PronounPossessive bed.":"","SourceCharacter tucks TargetCharacter into bed.":""}')},"./src/modules/_module.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{Module:()=>u,ModuleIsPublic:()=>s,ModuleTitle:()=>r,ModuleTitlePublicity:()=>l});var r,n=o("./src/util/sdk.ts"),i=o("./src/util/activities.ts"),a=o("./src/util/messaging.ts");!function(e){e.Unknown="Unknown",e.Authority="Authority",e.Activities="Activities",e.Clicker="Clicker",e.Settings="Settings",e.VirtualPet="VirtualPet",e.VirtualPetHUD="VirtualPetHud",e.VirtualPetConditions="VirtualPetConditions",e.DataSync="DataSync",e.Profile="Profile",e.SettingsOther="SettingsOther",e.Private="Private"}(r||(r={}));const l={[r.Unknown]:!1,[r.Authority]:!0,[r.Activities]:!0,[r.Clicker]:!0,[r.Settings]:!0,[r.VirtualPet]:!0,[r.VirtualPetHUD]:!1,[r.VirtualPetConditions]:!0,[r.DataSync]:!0,[r.Profile]:!0,[r.SettingsOther]:!0,[r.Private]:!1};function s(e){var t;return null===(t=l[e])||void 0===t||t}class u{get Title(){return r.Unknown}get Activities(){return[]}get Settings(){return[]}get SyncListeners(){return[]}Load(){(0,i.CreateActivities)(this.Activities),(0,a.AddDataSyncListeners)(this.SyncListeners)}Unload(){(0,n.RemoveHooks)(this.Title),(0,i.RemoveActivities)(this.Activities),(0,a.RemoveDataSyncListeners)(this.Title)}Reload(){this.Unload(),this.Load()}}},"./src/modules/activities.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ActivitiesModule:()=>c});var r=o("./src/modules/_module.ts"),n=o("./src/util/messaging.ts"),i=o("./src/util/activities.ts"),a=o("./src/util/sdk.ts"),l=o("./src/util/constants.ts");const s=(e,t,o,r)=>{var n;!(null===(n=Player.AudioSettings)||void 0===n?void 0:n.PlayItem)||Player.AudioSettings.PlayItemPlayerOnly&&(null==e?void 0:e.MemberNumber)!==Player.MemberNumber&&(null==t?void 0:t.MemberNumber)!==Player.MemberNumber||l.BELL_SOUND.play()},u=document.createElement("img");u.src=l.ICONS.PAW,u.style.position="absolute",u.style.right="1%",u.style.bottom="23%",u.style.width="1.4em",u.style.height="1.4em";class c extends r.Module{get Title(){return r.ModuleTitle.Activities}get Activities(){return[{Name:"FlickBell",MaxProgress:50,Prerequisite:["UseHands"],CustomPrerequisite:{Name:"HasBellCollar",Prerequisite:(e,t,o)=>{var r,n,i,a,l,s,u,c;return(null===(a=null===(i=null===(n=null===(r=InventoryGet(t,"ItemNeck"))||void 0===r?void 0:r.Asset)||void 0===n?void 0:n.Name)||void 0===i?void 0:i.toLocaleLowerCase())||void 0===a?void 0:a.includes("bell"))||(null===(c=null===(u=null===(s=null===(l=InventoryGet(t,"ItemNeckAccessories"))||void 0===l?void 0:l.Asset)||void 0===s?void 0:s.Name)||void 0===u?void 0:u.toLocaleLowerCase())||void 0===c?void 0:c.includes("bell"))||!1}},Targets:[{group:"ItemNeck",label:"Flick Bell",actionSelf:"SourceCharacter flicks the bell on PronounPossessive collar.",actionOthers:"SourceCharacter flicks the bell on TargetCharacter's collar."}],Image:"Assets\\Female3DCG\\ItemNeckAccessories\\Preview\\CollarBell.png",OnReceive:s},{Name:"FlickBell2",MaxProgress:50,Prerequisite:["UseHands"],CustomPrerequisite:{Name:"HasBellNipples",Prerequisite:(e,t,o)=>{var r,n,i,a,l;return null!==(l=null===(a=null===(i=null===(n=null===(r=InventoryGet(t,"ItemNipples"))||void 0===r?void 0:r.Asset)||void 0===n?void 0:n.Name)||void 0===i?void 0:i.toLocaleLowerCase())||void 0===a?void 0:a.includes("bell"))&&void 0!==l&&l}},Targets:[{group:"ItemNipples",label:"Flick Bell",actionSelf:"SourceCharacter flicks the bells on PronounPossessive nipple clamps.",actionOthers:"SourceCharacter flicks the bells on TargetCharacter's nipple clamps."}],Image:"Assets\\Female3DCG\\ItemNipples\\Preview\\BellClamps.png",OnReceive:s},{Name:"FlickBell3",MaxProgress:50,Prerequisite:["UseHands"],CustomPrerequisite:{Name:"HasBellClit",Prerequisite:(e,t,o)=>{var r,n,i;const a=InventoryGet(t,"ItemVulvaPiercings");return"RoundClitPiercing"==(null===(r=null==a?void 0:a.Asset)||void 0===r?void 0:r.Name)||2==(null===(i=null===(n=null==a?void 0:a.Property)||void 0===n?void 0:n.TypeRecord)||void 0===i?void 0:i.typed)}},Targets:[{group:"ItemVulvaPiercings",label:"Flick Bell",actionSelf:"SourceCharacter flicks the bell on PronounPossessive clit piercing.",actionOthers:"SourceCharacter flicks the bell on TargetCharacter's clit piercing."}],Image:"Assets\\Female3DCG\\ItemVulvaPiercings\\Preview\\RoundClitPiercing.png",OnReceive:s},{Name:"FlickBell4",MaxProgress:50,Prerequisite:["UseHands"],CustomPrerequisite:{Name:"HasBellNipplesPiercings",Prerequisite:(e,t,o)=>{var r,n,i,a,l;return null!==(l=null===(a=null===(i=null===(n=null===(r=InventoryGet(t,"ItemNipplesPiercings"))||void 0===r?void 0:r.Asset)||void 0===n?void 0:n.Name)||void 0===i?void 0:i.toLocaleLowerCase())||void 0===a?void 0:a.includes("bell"))&&void 0!==l&&l}},Targets:[{group:"ItemNipples",label:"Flick Bell",actionSelf:"SourceCharacter flicks the bells on PronounPossessive nipple piercings.",actionOthers:"SourceCharacter flicks the bells on TargetCharacter's nipple piercings."}],Image:"Assets\\Female3DCG\\ItemNipplesPiercings\\Preview\\BellPiercing.png",OnReceive:s}]}Load(){super.Load(),(0,a.HookFunction)(this.Title,"ActivityCheckPrerequisite",1,((e,t)=>{const[o,r,n,a]=e;return Object.keys(i.activityPrerequisites).includes(o)?i.activityPrerequisites[o](r,n,a):t(e)})),(0,a.HookFunction)(this.Title,"ServerSend",1,((e,t)=>{var o,r,n,a,s,u;const c=e[1];if("ChatRoomChat"!==e[0]||"Activity"!==(null==c?void 0:c.Type))return t(e);const d=null===(r=null===(o=null==c?void 0:c.Dictionary)||void 0===o?void 0:o.find((e=>e.ActivityName)))||void 0===r?void 0:r.ActivityName;if((null==d?void 0:d.startsWith(l.ACTIVITY_NAME_PREFIX))&&(null===(n=null==c?void 0:c.Dictionary)||void 0===n||n.push({Tag:"MISSING ACTIVITY DESCRIPTION FOR KEYWORD "+c.Content,Text:ActivityDictionaryText(c.Content)}),Object.keys(i.activityTriggers).includes(d))){const e=null!==(u=null===(s=null===(a=null==c?void 0:c.Dictionary)||void 0===a?void 0:a.find((e=>e.TargetCharacter)))||void 0===s?void 0:s.TargetCharacter)&&void 0!==u?u:-1,t=null===ChatRoomCharacter||void 0===ChatRoomCharacter?void 0:ChatRoomCharacter.find((t=>t.MemberNumber===e));i.activityTriggers[d](t)}return t(e)})),(0,a.HookFunction)(r.ModuleTitle.Clicker,"ChatRoomMessage",0,((e,t)=>{var o,r;t(e);const a=e[0];if("Activity"===a.Type){const e=(0,n.GetAttributeFromChatDictionary)(a,"ActivityName");if(!(null==e?void 0:e.startsWith(l.ACTIVITY_NAME_PREFIX))||!(e in i.activityReceived))return;const t=null!==(o=(0,n.FindCharacterInRoom)((0,n.GetAttributeFromChatDictionary)(a,"SourceCharacter"),{MemberNumber:!0,NickName:!1,Name:!1}))&&void 0!==o?o:void 0,s=null!==(r=(0,n.FindCharacterInRoom)((0,n.GetAttributeFromChatDictionary)(a,"TargetCharacter"),{MemberNumber:!0,NickName:!1,Name:!1}))&&void 0!==r?r:void 0,u=(0,n.GetAttributeFromChatDictionary)(a,"FocusGroupName");i.activityReceived[e](t,s,u,a)}})),(0,a.HookFunction)(this.Title,"ElementButton.CreateForActivity",0,((e,t)=>{const o=e[1].Activity.Name,r=Object.keys(i.activityImages).includes(o);r&&(e[4]||(e[4]={}),e[4].image=i.activityImages[o]);const n=t(e);return r&&n.appendChild(u.cloneNode()),n}))}Unload(){super.Unload()}}},"./src/modules/authority.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{AuthorityModule:()=>l,IsHardcoreOn:()=>a});var r=o("./src/util/authority.ts"),n=o("./src/modules/_module.ts");const i=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[n.ModuleTitle.Authority])&&void 0!==o?o:{}};function a(e){var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[n.ModuleTitle.Authority].hardcore)&&void 0!==o&&o}class l extends n.Module{get Title(){return n.ModuleTitle.Authority}get Settings(){return[{name:"settingsNotify",type:"checkbox",active:()=>!0,value:!0,label:"Notify when others are accessing TargetCharacter's settings"},{name:"owners",type:"text",active:()=>!0,value:"",label:"Owner member numbers; Seperated by a ,",maxChars:1024,width:400},{name:"boundAccessSelf",type:"checkbox",active:()=>!0,value:!0,label:"Allow TargetCharacter changing TargetPronounPossessive own settings while bound"},{name:"boundAccessOthers",type:"checkbox",active:()=>!0,value:!1,label:"Allow TargetCharacter changing the settings of others while bound"},{name:"selfAuthority",type:"checkbox",active:()=>!0,value:!0,label:"Allow TargetCharacter to change TargetPronounPossessive Authority settings"},{name:"othersAuthority",type:"option",active:()=>!0,options:r.AUTHORITY_GROUP_OPTIONS,value:"Clubowner",label:"Allow others to change TargetCharacter's Authority settings",loop:!1},{name:"selfProfile",type:"checkbox",active:e=>"Self"!==i(e).othersProfile,value:!0,label:"Allow TargetCharacter to change TargetPronounPossessive Profile settings"},{name:"othersProfile",type:"option",active:()=>!0,options:r.AUTHORITY_GROUP_OPTIONS,value:"Clubowner",label:"Allow others to change TargetCharacter's Profile settings",loop:!1,onSet(e){i(e).selfProfile=!0}},{name:"selfClicker",type:"checkbox",active:()=>!0,value:!0,label:"Allow TargetCharacter to change TargetPronounPossessive Clicker settings"},{name:"othersClicker",type:"option",active:()=>!0,options:r.AUTHORITY_GROUP_OPTIONS,value:"Clubowner",label:"Allow others to change TargetCharacter's Clicker settings",loop:!1},{name:"selfVirtualPet",type:"checkbox",active:()=>!0,value:!0,label:"Allow TargetCharacter to change TargetPronounPossessive Virtual Pet settings"},{name:"othersVirtualPet",type:"option",active:()=>!0,options:r.AUTHORITY_GROUP_OPTIONS,value:"Clubowner",label:"Allow others to change TargetCharacter's Virtual Pet settings",loop:!1},{name:"selfVirtualPetConditions",type:"checkbox",active:()=>!0,value:!0,label:"Allow TargetCharacter to change TargetPronounPossessive Virtual Pet Conditions settings"},{name:"othersVirtualPetConditions",type:"option",active:()=>!0,options:r.AUTHORITY_GROUP_OPTIONS,value:"Clubowner",label:"Allow others to change TargetCharacter's Virtual Pet Conditions settings",loop:!1}]}}},"./src/modules/clicker.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ClickerModule:()=>v});var r=o("./src/util/sdk.ts"),n=o("./src/util/messaging.ts"),i=o("./src/util/authority.ts"),a=o("./src/modules/_module.ts"),l=o("./src/modules/profile.ts");const s=[new Audio("https://media.soundgasm.net/sounds/df33316bec7bc03902860d21fb4b8827466f2bad.m4a"),new Audio("https://media.soundgasm.net/sounds/fa49b10dad3e1202de096859b339dcfc5eab90a5.m4a"),new Audio("https://media.soundgasm.net/sounds/b25177a6a92d5a74d047a9d77a807f2d1ed28c71.m4a")],u=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[a.ModuleTitle.Clicker])&&void 0!==o?o:{}};function c(e=""){let t=0;return u().triggers.split(",").map((e=>e.trim())).filter((e=>""!==e)).forEach((o=>{var r,n;t+=null!==(n=null===(r=e.toLocaleLowerCase().match(new RegExp(o.toLocaleLowerCase(),"g")))||void 0===r?void 0:r.length)&&void 0!==n?n:0})),t}function d(e=0){isNaN(e)||e<=0||!u().enabled||s[Math.min(e-1,s.length-1)].play()}let m=!1;function h(){var e,t;(0,r.bcxFound)()&&!m&&(null===(t=null===(e=(0,r.bcxAPI)())||void 0===e?void 0:e.on)||void 0===t||t.call(e,"bcxLocalMessage",(e=>{const t=null==e?void 0:e.message,o="[Voice] ";u().enabled&&u().bcxVoice&&(null==t?void 0:t.startsWith(o))&&d(c(t.substring(8)))})),m=!0)}class v extends a.Module{constructor(){super(...arguments),this.hasBeenLoaded=!1}get Title(){return a.ModuleTitle.Clicker}get Activities(){return[{Name:"Clicker1",MaxProgress:50,Prerequisite:["UseHands"],CustomPrerequisite:{Name:"HoldingClicker",Prerequisite:(e,t,o)=>{var r,n,i,a,l;return null!==(l=null===(a=null===(i=null===(n=null===(r=InventoryGet(e,"ItemHandheld"))||void 0===r?void 0:r.Asset)||void 0===n?void 0:n.Name)||void 0===i?void 0:i.toLocaleLowerCase())||void 0===a?void 0:a.includes("remote"))&&void 0!==l&&l}},Targets:[{group:"ItemHands",label:"Click Once",actionSelf:"SourceCharacter presses the button on PronounPossessive clicker."}],Image:"Icons/AudioOn.png"},{Name:"Clicker2",MaxProgress:50,Prerequisite:["UseHands"],CustomPrerequisite:{Name:"HoldingClicker"},Targets:[{group:"ItemHands",label:"Click Twice",actionSelf:"SourceCharacter presses the button on PronounPossessive clicker twice."}],Image:"Icons/AudioOn.png"},{Name:"Clicker3",MaxProgress:50,Prerequisite:["UseHands"],CustomPrerequisite:{Name:"HoldingClicker"},Targets:[{group:"ItemHands",label:"Click Thrice",actionSelf:"SourceCharacter presses the button on PronounPossessive clicker three times."}],Image:"Icons/AudioOn.png"}]}get Settings(){return[{name:"enabled",type:"checkbox",active:e=>!(0,l.IsHardcoreOn)(e),value:!1,label:"Enable auditory clicker"},{name:"triggers",type:"text",active:e=>!!u(e).enabled,value:"~click~",label:"Phrases that trigger the click; Separate phrases with a comma",width:384,maxChars:null},{name:"selfAuthed",type:"checkbox",active:e=>!!u(e).enabled&&"Self"!==u(e).authedGroup,value:!0,label:"Allow your own chat, emotes, & actions to trigger the clicker"},{name:"authedGroup",type:"option",active:e=>!!u(e).enabled,value:"Friends",options:["Public","Friends","Whitelist","Lovers","Owners","Clubowner","Self"],label:"Who will be able to trigger the clicker",loop:!1,onSet(e){"Self"===u(e).authedGroup&&(u(e).selfAuthed=!0)}},{name:"bcxVoice",type:"checkbox",active:e=>!!u(e).enabled&&(0,r.bcxFound)()&&!(0,l.IsHardcoreOn)(e),value:!0,label:"Allow BCX Listen to my voice rule to trigger the clicker; Requires BCX"}]}Load(){if(super.Load(),(0,r.HookFunction)(a.ModuleTitle.Clicker,"ChatRoomMessage",0,((e,t)=>{var o,r,a,l,s,m,h,v,f,g;const p=e[0];if(!(u().enabled&&(null===(o=e[0])||void 0===o?void 0:o.Type)&&(null===(r=e[0])||void 0===r?void 0:r.Content)&&(null===(a=e[0])||void 0===a?void 0:a.Sender)&&(0,i.IsMemberNumberInAuthGroup)(p.Sender,u().authedGroup,u().selfAuthed)))return t(e);let y=0;return"Chat"!=p.Type&&"Emote"!=p.Type&&"Whisper"!=p.Type||(y=c((0,n.RemoveOOCContentFromMessage)(p.Content))),"Action"==p.Type&&(y="Beep"==p.Content?c(null!==(m=null===(s=null===(l=null==p?void 0:p.Dictionary)||void 0===l?void 0:l.filter((e=>"Beep"==e.Tag))[0])||void 0===s?void 0:s.Text)&&void 0!==m?m:""):(null===(h=p.Dictionary)||void 0===h?void 0:h.reduce(((e,t)=>e||'MISSING TEXT IN "Interface.csv": '===t.Tag&&"‌"===t.Text),!1))?c(p.Content):c(null!==(g=null===(f=null===(v=null==p?void 0:p.Dictionary)||void 0===v?void 0:v.filter((e=>e.Tag==`MISSING TEXT IN "Interface.csv": ${null==p?void 0:p.Content}`))[0])||void 0===f?void 0:f.Text)&&void 0!==g?g:"")),d(y),t(e)})),(0,r.HookFunction)(a.ModuleTitle.Clicker,"ChatRoomMessage",0,((e,t)=>{t(e);const o=e[0],r=(0,n.GetAttributeFromChatDictionary)(o,"ActivityName");u().enabled&&"Activity"===o.Type&&(null==r?void 0:r.startsWith("MPA_Clicker"))&&(0,i.IsMemberNumberInAuthGroup)(o.Sender,u().authedGroup,u().selfAuthed)&&d(Number(r.slice(-1)))})),!this.hasBeenLoaded){h();const e=setInterval((()=>{m?clearInterval(e):h()}),6e4)}this.hasBeenLoaded=!0}Unload(){super.Unload()}}},"./src/modules/dataSync.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{CategorySync:()=>l,DataSyncModule:()=>c,RecordSync:()=>s,RecordsSync:()=>u,SettingSync:()=>a});var r=o("./src/util/sdk.ts"),n=o("./src/modules/_module.ts"),i=o("./src/util/messaging.ts");function a(e=!1,t){const o=structuredClone(Player.MPA);Object.keys(o).forEach((e=>{(0,n.ModuleIsPublic)(e)||delete o[e]})),(0,i.SendMPAMessage)({message:"SettingSync",settings:o,reply:e},t)}function l(e,t){(0,n.ModuleIsPublic)(e)&&(0,i.SendMPAMessage)({message:"CategorySync",category:e,value:Player.MPA[e]},t)}function s(e,t,o){u([{category:e,record:t}],o)}function u(e,t){for(let t=e.length-1;t>=0;t--){const o=e[t];(0,n.ModuleIsPublic)(o.category)?o.value=Player.MPA[o.category][o.record]:e.splice(t,1)}0!==e.length&&(0,i.SendMPAMessage)({message:"RecordsSync",records:e},t)}class c extends n.Module{get Title(){return n.ModuleTitle.DataSync}get SyncListeners(){return[{module:n.ModuleTitle.DataSync,message:"SettingSync",action:function(e,t){e.MemberNumber!==Player.MemberNumber&&(e.MPA=t.settings,t.reply&&a(!1,e.MemberNumber))}},{module:n.ModuleTitle.DataSync,message:"CategorySync",action:function(e,t){e.MemberNumber!==Player.MemberNumber&&(e.MPA?e.MPA[t.category]=t.value:a(!1,e.MemberNumber))}},{module:n.ModuleTitle.DataSync,message:"RecordsSync",action:function(e,t){var o;if(e.MemberNumber!==Player.MemberNumber)for(const r of t.records)(null===(o=null==e?void 0:e.MPA)||void 0===o?void 0:o[r.category])?e.MPA[r.category][r.record]=r.value:l(t.category,e.MemberNumber)}}]}Load(){super.Load(),0!==ChatRoomCharacter.length&&a(!0),(0,r.HookFunction)(n.ModuleTitle.DataSync,"ChatRoomSync",0,((e,t)=>{t(e),a(!0)})),(0,r.HookFunction)(n.ModuleTitle.DataSync,"ChatRoomMessage",0,((e,t)=>{var o;const r=e[0],n=(0,i.GetMPAMessageFromChat)(r);if(!n)return t(e);const a=(0,i.FindCharacterInRoom)(null!==(o=r.Sender)&&void 0!==o?o:"",{MemberNumber:!0,Name:!1,NickName:!1});if(!a)return t(e);i.hookedMessages.forEach((e=>{n.message===e.message&&e.action(a,n)}))}))}Unload(){super.Unload()}}},"./src/modules/private.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{PrivateModule:()=>a,deafenProcess:()=>i});var r=o("./src/util/sdk.ts"),n=o("./src/modules/_module.ts");let i=!1;class a extends n.Module{get Title(){return n.ModuleTitle.Private}get Settings(){return[{name:"savedBed",type:"record",value:""},{name:"savedBowl",type:"record",value:""}]}Load(){(0,r.HookFunction)(this.Title,"SpeechTransformProcess",10,(([e,t,o,r],n)=>{let a=!1;o.includes("deafen")&&(a=!0,o=o.filter((e=>"deafen"!==e)));const l=n([e,t,o,r]);if(a){const o=SpeechTransformDeafenIntensity(e);o>0&&(i=!0,l.effects.push("deafen"),l.text=SpeechTransformGagGarble(t,o,r,e),i=!1)}return l})),super.Load()}Unload(){super.Unload()}}},"./src/modules/profile.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{GARBLE_PHRASES:()=>f,IsHardcoreOn:()=>h,PET_HEARING:()=>p,ProfileModule:()=>M});var r=o("./src/util/general.ts"),n=o("./src/util/sdk.ts"),i=o("./src/modules/_module.ts"),a=o("./src/modules/settings.ts"),l=o("./src/util/petHearAndSpeak.ts"),s=o("./src/util/messaging.ts"),u=o("./src/modules/dataSync.ts"),c=o("./src/util/authority.ts"),d=o("./src/modules/private.ts");const m=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[i.ModuleTitle.Profile])&&void 0!==o?o:{}};function h(e){var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[i.ModuleTitle.Profile].hardcore)&&void 0!==o&&o}function v(e,t=Player){var o,r;return null!==(r=null===(o=t.MPA)||void 0===o?void 0:o[e])&&void 0!==r?r:{}}const f=Object.freeze({Human:["hmmgm","mmmm","mhhmmaa","hmmm"],Custom:[""],Bunny:["pon","pyon","eep","huff","tk-tk","nngh-nngh"],Cat:["meow","mew","nyah","nya","purr","mrrow","prrr"],Cow:["moo","mooooo","muuhhh","moooah"],Dog:["arf","woof","bark","ruff","huff","eep"],Fox:["chirp","yip","wow-wow","yoww","eep"],Mouse:["squeak","eeek","tch-tch","wi-i-i","sss"],Pony:["neigh","whinny","wheee","snrt","whooosh","huff","nnhhh-ker"],Wolf:["awoo","aa-ooo","woof","ruff","arf","wiiip","huff"]});function g(e=m(Player).type){var t,o,i,a,l,s,u,c;const d=null!==(a=null===(i=null===(o=null===(t=(0,n.bcxAPI)())||void 0===t?void 0:t.getRuleState("speech_ban_words"))||void 0===o?void 0:o.customData)||void 0===i?void 0:i.bannedWords)&&void 0!==a?a:[],h=(0,n.bcxFound)()&&m(Player).bcxSpeaking?null!==(c=null===(u=null===(s=null===(l=(0,n.bcxAPI)())||void 0===l?void 0:l.getRuleState("speech_mandatory_words"))||void 0===s?void 0:s.customData)||void 0===u?void 0:u.mandatoryWords)&&void 0!==c?c:[]:function(e=m(Player).type){return e in f&&"Custom"!==e?f[e]:m(Player).garblePhrases.split(",").map((e=>e.trim()))}(e);return(0,r.FilterArrayFromArray)(h,d).map((e=>e.toLocaleLowerCase().trim())).filter((e=>0!=e.length))}const p=Object.freeze({All:["owner","pet","master","mistress","miss","sir","paw","sit","come","down","up","stay","water","food","kibble","eat","treat","drink","toy","play","leash","walk","walkies","bed","sleep","cutie","adorable","toy","play","kibble","good","bad","lap","speak","hush","quiet","hush","all fours","all-fours"],Human:[],Custom:[],Bunny:["bun","bunny","carrot","hop","jump","hump","ear","ears"],Cat:["cat","kitty","kitten","catnip","knead","scratch","yarn","milk"],Cow:["milk","milking","utter","breast","grass","moo"],Dog:["cage","kennel","pup","puppy","dog","doggy","bone","fetch","heel","roll","over","bark"],Fox:["trap","bun","bunny","bone","fox","foxy"],Mouse:["mouse","ear","ears","trap","wire","wheel","cheese","nibble","cat","kitty","kitten"],Pony:["pony","mare","stallion","bridle","hoof","hooves","trot","stall","hay","woah","stomp","calm","easy","slow","cart","bay","run","race"],Wolf:["bone","wolf","dog","pup","puppy","heel"]});function y(e,t,o){const r=(0,a.ElementName)(i.ModuleTitle.Profile,"garblePhrases");if("Custom"===t)return m(e).garblePhrases=m(e).customGarblePhrases.join(", "),void(document.getElementById(r)&&ElementValue(r,m(e).garblePhrases));"Custom"===o&&document.getElementById(r)&&(m(e).customGarblePhrases=ElementValue(r).split(",").map((e=>e.trim()))),m(e).garblePhrases=f[m(e).type].join(", "),document.getElementById(r)&&ElementValue(r,m(e).garblePhrases)}function P(){var e,t,o,r;m().bcxSpeaking=!0;const l=(0,a.ElementName)(i.ModuleTitle.Profile,"garblePhrases");"Custom"===m().type&&document.getElementById(l)&&(m().customGarblePhrases=ElementValue(l).split(",").map((e=>e.trim())));const s=null!==(r=null===(o=null===(t=null===(e=(0,n.bcxAPI)())||void 0===e?void 0:e.getRuleState("speech_mandatory_words"))||void 0===t?void 0:t.customData)||void 0===o?void 0:o.mandatoryWords)&&void 0!==r?r:[];m().garblePhrases=s.join(", "),document.getElementById(l)&&ElementValue(l,m().garblePhrases)}const b=Object.freeze({Low:.015,Medium:.05,High:.1,Max:1});class M extends i.Module{get Title(){return i.ModuleTitle.Profile}get SyncListeners(){return[{module:this.Title,message:"BCXSpeakEnableRequest",action:function(e,t){var o,r;(0,c.IsMemberNumberInAuthGroup)(null!==(o=e.MemberNumber)&&void 0!==o?o:-1,null===(r=Player.MPA)||void 0===r?void 0:r[i.ModuleTitle.Authority][`others${i.ModuleTitle.Profile}`])?(P(),(0,u.RecordsSync)([{category:i.ModuleTitle.Profile,record:"garblePhrases"},{category:i.ModuleTitle.Profile,record:"bcxSpeaking"}],e.MemberNumber),(0,s.SendMPAMessage)({message:"BCXSpeakEnableReply"},e.MemberNumber)):console.warn(`${e.Nickname||e.Name}[${e.MemberNumber}] tried to illegially set your bcx speak to be enabled`)}},{module:this.Title,message:"BCXSpeakEnableReply",action:function(e,t){const o=(0,a.ElementName)(i.ModuleTitle.Profile,"garblePhrases");document.getElementById(o)&&ElementValue(o,m(e).garblePhrases)}}]}get Settings(){return[{name:"type",type:"option",active:()=>!0,options:Object.keys(f),value:"Human",label:"Use a preset profile or make your own",loop:!0,onSet:(e,t,o)=>{m(e).bcxSpeaking||y(e,t,o)}},{name:"petHearing",type:"checkbox",active:()=>!0,value:!1,label:"While deafened certain pet keywords can be picked up"},{name:"garblePhrases",type:"text",active:e=>"Custom"===m(e).type&&!(m(e).petSpeaking&&(0,n.bcxFound)()&&m(e).bcxSpeaking),value:f.Human.join(),label:"Pet sounds you make",maxChars:1024,width:1024},{name:"customGarblePhrases",type:"record",value:[]},{name:"petSpeaking",type:"option",active:()=>!0,options:["Off","Low","Medium","High","Max"],loop:!1,value:"Off",label:"Automatically make the above pet sounds while talking"},{name:"bcxSpeaking",type:"checkbox",active:e=>m(e).petSpeaking&&(0,n.bcxFound)(),value:!1,label:"Use BCX mandatory words instead of the pet sounds above",onSet:(e,t)=>{if(t)if(e.IsPlayer())P();else{const t=(0,a.ElementName)(i.ModuleTitle.Profile,"garblePhrases");"Custom"===m(e).type&&document.getElementById(t)&&(m(e).customGarblePhrases=ElementValue(t).split(",").map((e=>e.trim()))),(0,s.SendMPAMessage)({message:"BCXSpeakEnableRequest"},e.MemberNumber)}else y(e,m(e).type,"")}},{name:"hardcore",type:"checkbox",active:()=>!0,value:!1,label:"Enable hardcore mode; Will set certain settings and prevent changing them back",onSet(e,t){0!=t&&(v(i.ModuleTitle.Clicker,e).enabled=!0,v(i.ModuleTitle.Clicker,e).bcxVoice=!0,v(i.ModuleTitle.VirtualPet,e).enabled=!0,v(i.ModuleTitle.VirtualPet,e).noHands=!1,v(i.ModuleTitle.VirtualPetConditions,e).enabled=!0,v(i.ModuleTitle.VirtualPetConditions,e).foodNOW=!0,v(i.ModuleTitle.VirtualPetConditions,e).tint=!0,v(i.ModuleTitle.VirtualPetConditions,e).passout=!0,v(i.ModuleTitle.VirtualPetConditions,e).affectionSkillBuffs=!1,v(i.ModuleTitle.VirtualPetConditions,e).affectionSkillDebuffs=!0,v(i.ModuleTitle.VirtualPetConditions,e).hearingLoss=!0,v(i.ModuleTitle.VirtualPetConditions,e).slowLeave=!0,v(i.ModuleTitle.VirtualPetConditions,e).orgasmWater=!0,v(i.ModuleTitle.VirtualPetConditions,e).orgasmSleep=!0)}},{name:"petGagging",type:"option",active:()=>!0,value:"Off",options:["Off","First","Last","Replace"],loop:!0,label:"Pet gagging mode"},{name:"petGaggingStrength",type:"option",value:"Medium",options:["Low","Medium","High","Max"],loop:!1,label:"Pet gagging strength",active:e=>"Off"!==m(e).petGagging}]}Load(){super.Load(),SpeechTransformAllEffects.push("petSpeak"),(0,n.HookFunction)(this.Title,"SpeechTransformGagGarble",5,(([e,t,o,...r],n)=>{const i=r[0];return!(null==i?void 0:i.IsGagged())&&Player.IsDeaf()&&!1!==m().petHearing&&e?(0,l.ApplyPetHearing)([e,t,o],n,function(e=m(Player).type){return e in p?p.All.concat(p[e]):p.All}()):n([e,t,o])})),(0,n.HookFunction)(this.Title,"CommandParse",8,(([e],t)=>{if(e=e.trim(),[CommandsKey,"*","@"].includes(e.charAt(0)))return t([e]);const o=m(Player).petSpeaking;return t([(0,l.NonDisruptivePetSpeech)(e,g(),o)])})),(0,n.HookFunction)(this.Title,"SpeechTransformGagGarble",5,((e,t)=>{var o;const r=m(Player).petGagging;if(!d.deafenProcess&&"Off"!==r&&0!==ChatRoomCharacter.length){const r=g();if(0===r.length)return t(e);const n=(null!==(o=b[m(Player).petGaggingStrength])&&void 0!==o?o:.05)*e[1];switch(m(Player).petGagging){case"First":return e[0]=(0,l.DisruptivePetSpeech)(e[0],r,n),t(e);case"Last":return(0,l.DisruptivePetSpeech)(t(e),r,n);case"Replace":return(0,l.DisruptivePetSpeech)(e[0],r,n)}}return t(e)}))}Unload(){super.Unload(),SpeechTransformAllEffects=SpeechTransformAllEffects.filter((e=>"petSpeak"!==e))}}},"./src/modules/settings.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ElementName:()=>se,ExitButtonPressed:()=>re,MENU_TITLES:()=>H,PreferenceMenuClick:()=>ne,PreferenceMenuRun:()=>ie,SetSettingChar:()=>v,SettingsModule:()=>de,currentMenu:()=>B});var r=o("./src/localization/localization.ts"),n=o("./src/util/storage.ts"),i=o("./src/util/constants.ts"),a=o("./src/util/settingTypes.ts"),l=o("./src/util/registerModules.ts"),s=o("./src/util/authority.ts"),u=o("./src/util/messaging.ts"),c=o("./src/modules/_module.ts"),d=o("./src/modules/virtualPet.ts");let m=!1,h=null;function v(e){m=!1,h=e}const f=2e3,g=[1815,75,90,90],p=7,y=400,P=90,b=160,M=500,A=20,C=20,S=[100,510,350,75],w="https://github.com/MayaTheFoxy/MPA/wiki",T="https://discord.gg/9GHwmHEMAS",k=[S[0],S[1]+S[3]+A,S[2],S[3]],N=[k[0],k[1]+k[3]+A,k[2],k[3]],I=[N[0],N[1]-N[3],N[2]];let x=0,O="";const E=[N[0],N[1]+N[3]+A,(N[2]-A)/2,N[3]],D=[N[0]+(N[2]+A)/2,N[1]+N[3]+A,(N[2]-A)/2,N[3]],F=[300,700,250,90],R=[1450,700,250,90],L=[S[2]/2+S[0],S[1]-2*A,S[2]];function G(){return h?h.IsPlayer()?[c.ModuleTitle.Authority,c.ModuleTitle.Profile,c.ModuleTitle.Clicker,c.ModuleTitle.VirtualPet,c.ModuleTitle.VirtualPetHUD,c.ModuleTitle.VirtualPetConditions]:[c.ModuleTitle.Authority,c.ModuleTitle.Profile,c.ModuleTitle.Clicker,c.ModuleTitle.VirtualPet,c.ModuleTitle.VirtualPetConditions]:[]}const H={[c.ModuleTitle.VirtualPet]:"Virtual Pet",[c.ModuleTitle.VirtualPetHUD]:"Virtual Pet Hud",[c.ModuleTitle.VirtualPetConditions]:"Virtual Pet Conditions"};let B=null,V=!1,U=0;function W(e){for(let t=0;t<e.length;t++)if(MouseIn(M+(y+A)*Math.floor(t/p),b+(P+A)*(t%p),y,P))return e[t];return null}DrawButton(1520,720,200,80,"Cancel","White");const j=9,q=64,Y=200,z=250,$=10,K=64,Z=256,X=256,Q=256;let _=1,J=1;const ee=[1635,75,90,90],te=[ee[0]-ee[2],ee[1],ee[2],ee[2]];function oe(e){var t;if(!h)return;const o=Object.entries(null!==(t=l.settings[e])&&void 0!==t?t:{}).filter((([t,o])=>{var r;return(0,a.IsDisplaySetting)(o)&&t in(null!==(r=null==h?void 0:h.MPA[e])&&void 0!==r?r:{})}));1!==J&&(_>J&&(_=J),_<1&&(_=1),DrawButton(...ee,"",_>=J?"#aaaaaa":"#ffffff","Icons/Next.png","Next Page",_>=J),DrawButton(...te,"",1>=_?"#aaaaaa":"#ffffff","Icons/Prev.png","Previous Page",1>=_)),o.slice((_-1)*j,_*j).forEach(((t,o)=>{var n,i,l,u,d,m,v,g,p;const[y,P]=t,b=!P.active(h)||`others${e}`in h.MPA[c.ModuleTitle.Authority]&&`self${e}`in h.MPA[c.ModuleTitle.Authority]&&!(0,s.IsMemberNumberInAuthGroup)(null!==(n=Player.MemberNumber)&&void 0!==n?n:-1,h.MPA[c.ModuleTitle.Authority][`others${e}`],h.MPA[c.ModuleTitle.Authority][`self${e}`],h)||!Player.CanInteract()&&((null==h?void 0:h.MemberNumber)===Player.MemberNumber&&!Player.MPA[c.ModuleTitle.Authority].boundAccessSelf||(null==h?void 0:h.MemberNumber)!==Player.MemberNumber&&!Player.MPA[c.ModuleTitle.Authority].boundAccessOthers);if((0,a.IsCheckboxSetting)(P))DrawCheckbox(z,Y+o*($+q),K,K,(0,r.LocalizedText)(P.label).replaceAll("TargetCharacter",null!==(i=(null==h?void 0:h.Nickname)||(null==h?void 0:h.Name))&&void 0!==i?i:"").replaceAll("TargetPronounPossessive","SheHer"===(null==h?void 0:h.GetPronouns())?"her":"his"),!!h.MPA[e][y],b,"Black");else if((0,a.IsOptionSetting)(P)){const t=P.options.indexOf(h.MPA[e][y]),n=P.options.length,i=e!==c.ModuleTitle.Authority||!s.AUTHORITY_GROUP_OPTIONS.includes(h.MPA[e][y]),a=!(i||(0,s.AuthorityIsComparisonToCharacter)(h.MPA[e][y],">=",null!==(l=Player.MemberNumber)&&void 0!==l?l:-1,h)),m=!(i||(0,s.AuthorityIsComparisonToCharacter)(h.MPA[e][y],">",null!==(u=Player.MemberNumber)&&void 0!==u?u:-1,h))&&"Self"!==h.MPA[e][y];DrawBackNextButton(z,Y+o*($+q),Z,q,(0,r.LocalizedText)(h.MPA[e][y]),b||a&&m?"#aaaaaa":"#ffffff","",(()=>(0,r.LocalizedText)(a?"":P.loop?P.options[(t-1+n)%n]:t>0?P.options[t-1]:"")),(()=>(0,r.LocalizedText)(m?"":P.loop?P.options[(t+1+n)%n]:t+1<n?P.options[t+1]:"")),b||a&&m),DrawTextFit((0,r.LocalizedText)(P.label).replaceAll("TargetCharacter",null!==(d=(null==h?void 0:h.Nickname)||(null==h?void 0:h.Name))&&void 0!==d?d:"").replaceAll("TargetPronounPossessive","SheHer"===(null==h?void 0:h.GetPronouns())?"her":"his"),z+Z+2*$,Y+(o*($+q)+Math.ceil(q/2)),f-2*z-Z,"Black","Gray")}else if((0,a.IsTextSetting)(P)||(0,a.IsNumberSetting)(P)){const t=se(e,y);ElementPositionFixed(t,z,Y+o*($+q),null!==(m=P.width)&&void 0!==m?m:X,q),b?ElementSetAttribute(t,"disabled","true"):ElementRemoveAttribute(t,"disabled"),DrawTextFit((0,r.LocalizedText)(P.label).replaceAll("TargetCharacter",null!==(v=(null==h?void 0:h.Nickname)||(null==h?void 0:h.Name))&&void 0!==v?v:"").replaceAll("TargetPronounPossessive","SheHer"===(null==h?void 0:h.GetPronouns())?"her":"his"),z+(null!==(g=P.width)&&void 0!==g?g:X)+2*$,Y+o*($+q)+Math.ceil(q/2),f-2*z-(null!==(p=P.width)&&void 0!==p?p:X),"Black","Gray")}}))}function re(){null===B?(window.MPA.menuLoaded&&(window.MPA.menuLoaded=!1),ae()):("RESET_Settings"===B||(ce(B),_=1,J=1),B=null)}function ne(){var e,t,o,r;if(MouseIn(...g))re();else{if((null==h?void 0:h.MemberNumber)===Player.MemberNumber&&null===B){if(MouseIn(...S))return void(null===(e=window.open(w,"_blank"))||void 0===e||e.focus());if(MouseIn(...k))return void(null===(t=window.open(T,"_blank"))||void 0===t||t.focus());if(MouseIn(...N))return B="RESET_Settings",void(U=Date.now()+1e4);if(MouseIn(...E))return void(0,n.ImportSettingsFromClipboard)().then((()=>{O="Settings imported from clipboard"}),(()=>{O="Failed to import settings"})).finally((()=>x=Date.now()+5e3));if(MouseIn(...D))return void(0,n.ExportSettingsToClipboard)().then((()=>{O="Settings copied to clipboard"}),(()=>{O="Failed to export settings"})).finally((()=>x=Date.now()+5e3))}if(null===B&&null!==W(G())&&(B=W(G()),_=1,J=Math.ceil(Object.entries(null!==(o=l.settings[null!=B?B:""])&&void 0!==o?o:{}).filter((([e,t])=>{var o;return(0,a.IsDisplaySetting)(t)&&e in(null!==(o=null==h?void 0:h.MPA[null!=B?B:""])&&void 0!==o?o:{})})).length/j),ue(B)),"RESET_Settings"!==B){if(null!==B){if(Object.entries(null!==(r=l.settings[null!=B?B:""])&&void 0!==r?r:{}).filter((([e,t])=>{var o;return(0,a.IsDisplaySetting)(t)&&e in(null!==(o=null==h?void 0:h.MPA[null!=B?B:""])&&void 0!==o?o:{})})).length>j){if(MouseIn(...ee)&&_<J)return ce(B),_++,void ue(B);if(MouseIn(...te)&&_>1)return ce(B),_--,void ue(B)}!function(e){var t;if(!h)return;const o=Object.entries(null!==(t=l.settings[e])&&void 0!==t?t:{}).filter((([t,o])=>{var r;return(0,a.IsDisplaySetting)(o)&&t in(null!==(r=null==h?void 0:h.MPA[e])&&void 0!==r?r:{})}));o.slice((_-1)*j,_*j).forEach(((t,o)=>{var r,n,i;const[l,u]=t,d=!u.active(h)||`others${e}`in h.MPA[c.ModuleTitle.Authority]&&`self${e}`in h.MPA[c.ModuleTitle.Authority]&&!(0,s.IsMemberNumberInAuthGroup)(null!==(r=Player.MemberNumber)&&void 0!==r?r:-1,h.MPA[c.ModuleTitle.Authority][`others${e}`],h.MPA[c.ModuleTitle.Authority][`self${e}`],h)||!Player.CanInteract()&&((null==h?void 0:h.MemberNumber)===Player.MemberNumber&&!Player.MPA[c.ModuleTitle.Authority].boundAccessSelf||(null==h?void 0:h.MemberNumber)!==Player.MemberNumber&&!Player.MPA[c.ModuleTitle.Authority].boundAccessOthers);if((0,a.IsCheckboxSetting)(u))MouseIn(z,Y+o*($+q),K,K)&&!d&&(h.MPA[e][l]=!h.MPA[e][l],u.onSet&&u.onSet(h,h.MPA[e][l],!h.MPA[e][l]),m=!0);else if((0,a.IsOptionSetting)(u)){const t=u.options.indexOf(h.MPA[e][l]),r=u.options.length;if(!MouseIn(z,Y+o*($+q),Math.floor(Z/2),q)||d||!(u.loop||t>0)||e===c.ModuleTitle.Authority&&s.AUTHORITY_GROUP_OPTIONS.includes(h.MPA[e][l])&&!(0,s.AuthorityIsComparisonToCharacter)(h.MPA[e][l],">=",null!==(n=Player.MemberNumber)&&void 0!==n?n:-1,h)){if(MouseIn(z+Math.floor(Z/2),Y+o*($+q),Math.ceil(Z/2),q)&&!d&&(u.loop||t+1<u.options.length)&&(e!==c.ModuleTitle.Authority||!s.AUTHORITY_GROUP_OPTIONS.includes(h.MPA[e][l])||(0,s.AuthorityIsComparisonToCharacter)(h.MPA[e][l],">",null!==(i=Player.MemberNumber)&&void 0!==i?i:-1,h))){const o=h.MPA[e][l];h.MPA[e][l]=u.options[(t+1+r)%r],u.onSet&&u.onSet(h,u.options[(t+1+r)%r],o),m=!0}}else{const o=h.MPA[e][l];h.MPA[e][l]=u.options[(t-1+r)%r],u.onSet&&u.onSet(h,u.options[(t-1+r)%r],o),m=!0}}}))}(B)}}else!function(){MouseIn(...F)&&Date.now()>U&&((0,n.ResetStorage)(),B=null,U=0);MouseIn(...R)&&(B=null,U=0)}()}}function ie(){var e;if("RESET_Settings"===B)return void function(){const e=MainCanvas.textAlign;MainCanvas.textAlign="center",DrawText((0,r.LocalizedText)("WARNING: Are you sure you want to reset your MPA settings and data back to default?"),f/2,250,"#000000","#aaaaaa"),DrawText((0,r.LocalizedText)("This action can not be undone!"),f/2,400,"#ff0000","#aaaaaa"),DrawText((0,r.LocalizedText)("Export and save your settings BEFORE confirming if you are unsure."),f/2,550,"#696969","#aaaaaa");const t=Date.now();t<=U?DrawButton(...F,`${(0,r.LocalizedText)("Confirm")} (${Math.floor((U-t)/1e3)})`,"#aaaaaa",void 0,void 0,!0):DrawButton(...F,(0,r.LocalizedText)("Confirm"),"#ff0000"),DrawButton(...R,(0,r.LocalizedText)("Cancel"),"White"),MainCanvas.textAlign=e}();const t=MainCanvas.textAlign;DrawButton(...g,"","White","Icons/Exit.png"),MainCanvas.textAlign="center",DrawText(`${(0,r.LocalizedText)("Maya's Petplay Additions")}${B?` - ${(null==h?void 0:h.Nickname)||(null==h?void 0:h.Name)}'s ${(0,r.LocalizedText)(null!==(e=H[B])&&void 0!==e?e:B)}`:""}`,1e3,125,"Black","Gray"),(null==h?void 0:h.MemberNumber)===Player.MemberNumber&&null===B&&(x>=Date.now()&&(MainCanvas.textAlign="left",DrawTextFit(O,...I,"Black","Gray")),MainCanvas.textAlign="center",DrawButton(...S,(0,r.LocalizedText)("Wiki"),"#ffffff","",(0,r.LocalizedText)("Open the MPA wiki in a new tab")),DrawButton(...k,"Discord","#ffffff",i.ICONS.DISCORD,"Join the MPA discord!"),DrawButton(...N,(0,r.LocalizedText)("RESET"),"#ff2e2eaa","",(0,r.LocalizedText)("Reset all your settings back to default")),DrawButton(...E,(0,r.LocalizedText)("Import"),"#ffffff","",(0,r.LocalizedText)("Import the settings copied to your clipboard")),DrawButton(...D,(0,r.LocalizedText)("Export"),"#ffffff","",(0,r.LocalizedText)("Export your current settings to the clipboard")),DrawTextFit(`${(0,r.LocalizedText)("Version")}: ${Player.MPA.version}`,...L,"Black","Gray")),MainCanvas.textAlign="left",null===B?function(e){var t;for(let o=0;o<e.length;o++)DrawButton(M+(y+A)*Math.floor(o/p),b+(P+A)*(o%p),y,P,"","White"),DrawTextFit((0,r.LocalizedText)(null!==(t=H[e[o]])&&void 0!==t?t:e[o]),M+C+(y+A)*Math.floor(o/p),b+Math.floor(P/2)+(P+A)*(o%p),y-2*C,"Black","Gray")}(G()):oe(B),MainCanvas.textAlign=t}function ae(){h&&(m&&(h.MemberNumber===Player.MemberNumber?((0,d.LevelSync)(!1,!1,!1),(0,n.SaveStorage)(!0)):(0,u.SendMPAMessage)({message:"SettingPutRequest",settings:h.MPA},h.MemberNumber)),h.MemberNumber===Player.MemberNumber&&PreferenceSubscreenExtensionsClear(),m=!1,h=null,V=!1)}function le(){m=!1,h=Player,h&&(V=!0)}function se(e,t){return`MPA_OPTION_${e}${t}`}function ue(e,t=_){var o;e&&h&&Object.entries(null!==(o=l.settings[e])&&void 0!==o?o:{}).slice((t-1)*j,t*j).forEach((t=>{var o;const[r,n]=t,i=se(e,r);(0,a.IsTextSetting)(n)?ElementCreateInput(i,"text",h.MPA[e][r],null!==(o=n.maxChars)&&void 0!==o?o:Q):(0,a.IsNumberSetting)(n)&&(ElementCreateInput(i,"number",h.MPA[e][r].toString()),ElementSetAttribute(i,"min",n.min.toString()),ElementSetAttribute(i,"max",n.max.toString()),ElementSetAttribute(i,"inputmode","decimal"),n.step&&ElementSetAttribute(i,"step",n.step.toString()))}))}function ce(e,t=_){var o;h&&(e===c.ModuleTitle.VirtualPet&&(0,d.LevelSync)(!1,!1,!1),Object.entries(null!==(o=l.settings[e])&&void 0!==o?o:{}).slice((t-1)*j,t*j).forEach((t=>{const[o,r]=t,n=se(e,o);(0,a.IsTextSetting)(r)&&(h.MPA[e][o]!==ElementValue(n)&&(h.MPA[e][o]=ElementValue(n),m=!0),ElementRemove(n)),(0,a.IsNumberSetting)(r)&&(h.MPA[e][o]!==Number(ElementValue(n))&&(h.MPA[e][o]=Number(ElementValue(n)),m=!0),ElementRemove(n))})))}class de extends c.Module{get Title(){return c.ModuleTitle.Settings}Load(){function e(e){"Escape"!==e.key&&"Esc"!==e.key||!V||(null===B?ae():"RESET_Settings"===B?U=0:(ce(B),_=1,J=1),B=null,e.stopPropagation())}PreferenceRegisterExtensionSetting({Identifier:"MPA",ButtonText:(0,r.LocalizedText)("MPA Settings"),Image:i.ICONS.PAW,click:ne,run:ie,exit:ae,load:le}),document.addEventListener("keypress",e,!0),document.addEventListener("keydown",e,!0)}Unload(){}Reload(){}}},"./src/modules/settingsOthers.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ObjectDifferences:()=>y,SettingsOtherModule:()=>P});var r=o("./src/util/messaging.ts"),n=o("./src/localization/localization.ts"),i=o("./src/util/constants.ts"),a=o("./src/util/sdk.ts"),l=o("./src/modules/_module.ts"),s=o("./src/modules/settings.ts"),u=o("./src/util/storage.ts"),c=o("./src/modules/virtualPet.ts"),d=o("./src/util/authority.ts"),m=o("./src/util/registerModules.ts");const h=[1700,765,90,90],v=[1700,800,90,90],f=[275,900,350],g=[f[0],f[1]-50,f[2]];function p(e,t){return e.length===t.length&&e.every(((e,o)=>e===t[o]))}function y(e,t){const o={};for(const r in e){if(!(r in t)){o[r]={old:e[r],new:void 0};continue}const n=e[r],i=t[r];if(Array.isArray(n)&&Array.isArray(i))p(n,i)||(o[r]={old:n,new:i});else if("object"!=typeof n||"object"!=typeof i||Array.isArray(n))n!==i&&(o[r]={old:n,new:i});else{const e=y(n,i);Object.keys(e).length>0&&(o[r]=e)}}for(const r in t)r in e||(o[r]={old:void 0,new:t[r]});return o}class P extends l.Module{get Title(){return l.ModuleTitle.SettingsOther}get SyncListeners(){return[{module:this.Title,message:"SettingPutRequest",action:function(e,t){var o,i,a,h,v,f,g,p,P,b,M,A;const C=Player.MPA[l.ModuleTitle.VirtualPet].enabled,S=y(Player.MPA,t.settings);Object.keys(S).forEach((e=>{(0,l.ModuleIsPublic)(e)||delete S[e]}));const w=[];(null===(o=null==S?void 0:S[l.ModuleTitle.VirtualPet])||void 0===o?void 0:o.levels)&&(delete S[l.ModuleTitle.VirtualPet].levels,0===Object.keys(S[l.ModuleTitle.VirtualPet]).length&&delete S[l.ModuleTitle.VirtualPet]),(0,c.LevelSync)(!1,!1,!1);const T=JSON.parse(JSON.stringify(null===(i=Player.MPA)||void 0===i?void 0:i[l.ModuleTitle.Authority])),k=S[l.ModuleTitle.Authority];if(k)if(delete S[l.ModuleTitle.Authority],(0,d.IsMemberNumberInAuthGroup)(null!==(a=e.MemberNumber)&&void 0!==a?a:-1,T[`others${l.ModuleTitle.Authority}`])){w.push((0,n.LocalizedText)(l.ModuleTitle.Authority));for(const e in k)void 0!==k[e].new&&void 0!==k[e].old&&(Player.MPA[l.ModuleTitle.Authority][e]=k[e].new)}else console.warn(`MPA: ${e.Nickname||e.Name} (${e.MemberNumber}) tried to illegally modify your ${l.ModuleTitle.Authority} settings!`);for(const t in S){if(!(0,d.IsMemberNumberInAuthGroup)(null!==(h=e.MemberNumber)&&void 0!==h?h:-1,null!==(v=T[`others${t}`])&&void 0!==v?v:"None")&&!(0,d.IsMemberNumberInAuthGroup)(null!==(f=e.MemberNumber)&&void 0!==f?f:-1,null!==(P=null===(p=null===(g=Player.MPA)||void 0===g?void 0:g[l.ModuleTitle.Authority])||void 0===p?void 0:p[`others${t}`])&&void 0!==P?P:"None")){console.warn(`MPA: ${e.Nickname||e.Name} (${e.MemberNumber}) tried to illegally modify your ${t} settings!`);continue}w.push((0,n.LocalizedText)(null!==(b=s.MENU_TITLES[t])&&void 0!==b?b:t));const o=S[t];for(const e in o)void 0!==o[e].new&&void 0!==o[e].old&&(Player.MPA[t][e]=o[e].new)}Player.MPA[l.ModuleTitle.Profile].hardcore&&(null===(A=null===(M=m.settings[l.ModuleTitle.Profile])||void 0===M?void 0:M.hardcore)||void 0===A||A.onSet(Player)),C!==Player.MPA[l.ModuleTitle.VirtualPet].enabled&&(Player.MPA[l.ModuleTitle.VirtualPet].levels.lastUpdated=Date.now()),0!==w.length&&(0,r.MPANotifyPlayer)((0,n.LocalizedText)("SourceCharacter just updated your SettingsArray settings.").replace("SourceCharacter",e.Nickname||e.Name).replace("SettingsArray",(0,r.ArrayToReadableString)(w))),(0,u.SaveStorage)(!0)}},{module:this.Title,message:"EditingSettings",action:function(e,t){Player.MPA[l.ModuleTitle.Authority].settingsNotify&&(0,r.NotifyPlayer)((0,n.LocalizedText)("SourceCharacter is accessing your MPA settings.").replace("SourceCharacter",e.Nickname||e.Name),3e4)}}]}Load(){super.Load();(0,a.HookFunction)(this.Title,"InformationSheetRun",12,((e,t)=>{var o;if((null===(o=window.bcx)||void 0===o?void 0:o.inBcxSubscreen())||window.LSCG_REMOTE_WINDOW_OPEN)return t(e);if(window.MPA.menuLoaded){const e=InformationSheetSelection;return(null==e?void 0:e.MPA)&&!e.IsPlayer()&&null==s.currentMenu&&(DrawTextFit(`${(0,n.LocalizedText)("Your Version")}: ${Player.MPA.version}`,...f,"Black","Gray"),DrawTextFit(`${(0,n.LocalizedText)("TargetCharacter's Version")}: ${null==e?void 0:e.MPA.version}`.replace("TargetCharacter",(null==e?void 0:e.Nickname)||(null==e?void 0:e.Name)),...g,"Black","Gray")),void(0,s.PreferenceMenuRun)()}t(e);const r=InformationSheetSelection;if((null==r?void 0:r.MPA)&&!r.IsPlayer()){const e=ServerChatRoomGetAllowItem(Player,r);DrawButton(...(0,a.bcxFound)()?v:h,"",e?"#ffffff":"#aaaaaa",i.ICONS.PAW,(0,n.LocalizedText)(e?"MPA":"MPA: No BC item permission"),!1)}})),(0,a.HookFunction)(this.Title,"InformationSheetClick",12,((e,t)=>{var o;if((null===(o=window.bcx)||void 0===o?void 0:o.inBcxSubscreen())||window.LSCG_REMOTE_WINDOW_OPEN)return t(e);if(window.MPA.menuLoaded)return(0,s.PreferenceMenuClick)();const n=InformationSheetSelection;if(!MouseIn(...(0,a.bcxFound)()?v:h)||!(null==n?void 0:n.MPA)||n.IsPlayer())return t(e);window.MPA.menuLoaded=!0,(0,s.SetSettingChar)(n),(0,r.SendMPAMessage)({message:"EditingSettings"},n.MemberNumber)})),(0,a.HookFunction)(this.Title,"InformationSheetExit",12,((e,t)=>{if(!window.MPA.menuLoaded)return t(e);(0,s.ExitButtonPressed)()}))}Unload(){super.Unload()}}},"./src/modules/virtualPet.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{CalculateCurrentValue:()=>R,GetCharacterCurrentStatValue:()=>L,IsBedMultiplier:()=>x,IsSleepingExpression:()=>I,LevelSync:()=>G,ModifyStat:()=>V,VirtualPetModule:()=>U});var r=o("./src/modules/_module.ts"),n=o("./src/util/constants.ts"),i=o("./src/util/sdk.ts"),a=o("./src/util/storage.ts"),l=o("./src/util/messaging.ts"),s=o("./src/modules/dataSync.ts"),u=o("./src/modules/profile.ts"),c=o("./src/util/general.ts");const d=168,m=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[r.ModuleTitle.VirtualPet])&&void 0!==o?o:{}},h=.67,v=["LSCG_Eat","ThrowItem"],f=["LSCG_FunnelPour","LSCG_Quaff"],g=["Sleep","Afk","Fork","Coding","Read"],p=["Pet","TakeCare","LSCG_Nuzzle","Caress","LSCG_Hug","Scratch"],y=["Kiss","MassageHands","Lick","Nibble","Cuddle","Grope"],P=["Spank","Slap","Bite","Pinch","Pull","ShockItem","SpankItem"],b={ItemArms:1,ItemBoots:.8,ItemBreast:1.5,ItemButt:1.5,ItemEars:2.5,ItemFeet:.8,ItemHands:1,ItemHead:3,ItemLegs:1,ItemMouth:2,ItemNeck:1.2,ItemNipples:1.5,ItemNose:1.7,ItemPelvis:1.3,ItemTorso:1,ItemVulva:2,ItemVulvaPiercings:2.5},M=.2;let A;const C=["Lick","MasturbateTongue","Kiss","Nibble","LSCG_Throat","LSCG_Suck"],S=["PenetrateSlow","PenetrateFast","RubItem","LSCG_SlapPenis"],w=["ItemVulva","ItemVulvaPiercings","ItemButt"],T=Object.freeze({Off:0,Low:.05,Medium:.1,High:.2}),k={},N=Object.freeze({FEMALE:["SourceCharacter gasps and sputters as PronounSubject slurps up all of DestinationCharacter climax.","SourceCharacter smiles as PronounSubject eagerly gulps down DestinationCharacter ejaculate, with some dripping down PronounPossessive chin.","SourceCharacter opens PronounPossessive mouth wide trying to catch and swallow as much of DestinationCharacter squirt."],MALE:["SourceCharacter opens PronounPossessive mouth as TargetCharacter shoots TargetPronounPossessive load, hitting the back of PronounPossessive throat.","SourceCharacter wraps PronounPossessive lips around DestinationCharacter shaft to swallow and not waste a drop of TargetPronounPossessive cum.","TargetCharacter pumps TargetPronounPossessive load into SourceCharacter's awaiting mouth, looking up at TargetCharacter with pride as SourceCharacter swallows it all."]}),I=e=>{var t,o,r,n,i,a,l;return"Closed"===(null===(o=null===(t=e.Appearance.find((e=>"Eyes"===e.Asset.Group.Name)))||void 0===t?void 0:t.Property)||void 0===o?void 0:o.Expression)&&"Closed"===(null===(n=null===(r=e.Appearance.find((e=>"Eyes2"===e.Asset.Group.Name)))||void 0===r?void 0:r.Property)||void 0===n?void 0:n.Expression)&&g.includes(null!==(l=null===(a=null===(i=e.Appearance.find((e=>"Emoticon"===e.Asset.Group.Name)))||void 0===i?void 0:i.Property)||void 0===a?void 0:a.Expression)&&void 0!==l?l:"")},x=e=>{var t,o;const r=null!==(o=null===(t=InventoryGet(e,"ItemDevices"))||void 0===t?void 0:t.Asset.Name)&&void 0!==o?o:"";return n.BED_PERFECT.includes(r)?10:n.BED_NORMAL.includes(r)?5:n.BED_BAD.includes(r)?2:1};let O=!1,E=1;function D(e=!0){!m().enabled||0===m().sleepHours||O===I(Player)&&E===x(Player)||(e&&G(),O=I(Player),E=x(Player))}function F(e){return 60*e*60*1e3}function R(e,t,o,r,n=!1,i=Player){const a=(r||Date.now())-o,l=Math.max(0,Math.min(e-a/F(t),1));if(n&&e>M&&l<M){const r=m(i).levels.lastOnline-o,n=Math.max(0,Math.min(e-r/F(t),1));return Math.min(M,n)}return l}function L(e,t){var o;const n=null===(o=null==e?void 0:e.MPA)||void 0===o?void 0:o[r.ModuleTitle.VirtualPet];if(!n)return-1;if("sleep"===t){const t=I(e)||1!==x(e)?n.levels.sleep+(Date.now()-n.levels.lastUpdated)/(60*n.sleepHours*60*1e3)*x(e)*(I(e)?5:1):R(n.levels.sleep,n.sleepHours,n.levels.lastUpdated);return Math.max(0,Math.min(1,t))}return R(n.levels[t],n[`${t}Hours`],n.levels.lastUpdated)}function G(e=!0,t=!0,o=!1){var n;if(!m().enabled)return m().levels.lastUpdated=Date.now(),void(m().levels.lastOnline=Date.now());const i=null!==(n=m().levels.lastUpdated)&&void 0!==n?n:Date.now(),l=m().offlineDrain?void 0:m().levels.lastOnline,u=m().foodHours;0!==u&&(m().levels.food=R(m().levels.food,u,i,l,o));const c=m().waterHours;0!==c&&(m().levels.water=R(m().levels.water,c,i,l,o));const d=m().sleepHours;if(0!==d)if(o&&!l||O||1!==E){const e=o?Date.now()-m().levels.lastOnline-(m().levels.lastOnline-i):Date.now()-i,t=m().levels.sleep+e/F(d)*E*(O?5:1);m().levels.sleep=Math.max(0,Math.min(1,t))}else m().levels.sleep=R(m().levels.sleep,d,i,l,o);const h=m().affectionHours;0!==h&&(m().levels.affection=R(m().levels.affection,h,i,l,o)),m().levels.lastUpdated=Date.now(),m().levels.lastOnline=Date.now(),e&&(0,a.SaveStorage)(!1),t&&(0,s.RecordSync)(r.ModuleTitle.VirtualPet,"levels")}function H(){return m().enabled&&("Off"===m().sexPet||!m().sexPetOnly)}function B(){return m().enabled&&"Off"!==m().sexPet}function V(e,t,o=!0,n=!0,i){t<-1&&t>1||(G(!1,!1,!1),m().levels[e]+=t*(o&&t>0?function(e,t){let o=1;if((null==t?void 0:t.IsOwner())?o+=.5:(null==t?void 0:t.IsLoverOfPlayer())?o+=.35:(null==t?void 0:t.IsFamilyOfPlayer())&&(o+=.25),"food"!==e&&"water"!==e||Player.CanTalk()||(o-=.5),o+=.03*Player.Appearance.filter((e=>e.Asset.DynamicGroupName.startsWith("Item"))).length,"AllFours"===Player.PoseMapping.BodyFull&&(o+=.5),"affection"===e&&Player.MPA[r.ModuleTitle.VirtualPetConditions].enabled&&Player.MPA[r.ModuleTitle.VirtualPetConditions].foodNOW){const e=[];0!==m().foodHours&&e.push(L(Player,"food")),0!==m().waterHours&&e.push(L(Player,"water")),0!==e.length&&(o*=e.reduce(((e,t)=>e+t),0)/e.length/.75)}return Math.max(0,o)}(e,i):1),function(e){const t=m().levels[e];m().levels[e]=Math.min(Math.max(t,0),1)}(e),n&&(0,a.SaveStorage)(!1),(0,s.RecordSync)(r.ModuleTitle.VirtualPet,"levels"))}class U extends r.Module{get Title(){return r.ModuleTitle.VirtualPet}get Activities(){return[{Name:"BowlEat",Targets:[{group:"ItemMouth",label:"Eat From Bowl",actionSelf:"SourceCharacter eats from PronounPossessive bowl."}],Image:"Assets/Female3DCG/ItemDevices/Preview/PetBowl.png",Prerequisite:["UseMouth"],CustomPrerequisite:{Name:"HasBowl",Prerequisite:(e,t,o)=>{var r,n;return"PetBowl"===(null===(n=null===(r=InventoryGet(e,"ItemDevices"))||void 0===r?void 0:r.Asset)||void 0===n?void 0:n.Name)}},OnTrigger:()=>{m().enabled&&0!==m().foodHours&&H()&&V("food",h,!0)}},{Name:"BowlDrink",Targets:[{group:"ItemMouth",label:"Drink From Bowl",actionSelf:"SourceCharacter drinks from PronounPossessive bowl."}],Image:"Assets/Female3DCG/ItemDevices/Preview/PetBowl.png",Prerequisite:["UseMouth"],CustomPrerequisite:{Name:"HasBowl"},OnTrigger:()=>{m().enabled&&0!==m().waterHours&&H()&&V("water",h,!0)}},{Name:"BowlEat2",Targets:[{group:"ItemMouth",label:"Eat From Bowl",actionSelf:"SourceCharacter puts PronounPossessive head into PronounPossessive bowl in order to eat with the gag, making a mess."}],Image:"Assets/Female3DCG/ItemDevices/Preview/PetBowl.png",Prerequisite:[],CustomPrerequisite:[{Name:"HasBowl"},{Name:"UseTongueNoMouth",Prerequisite:(e,t,o)=>!e.CanTalk()&&!e.IsMouthBlocked()}],OnTrigger:()=>{m().enabled&&0!==m().foodHours&&H()&&V("food",h,!0)}},{Name:"BowlDrink2",Targets:[{group:"ItemMouth",label:"Drink From Bowl",actionSelf:"SourceCharacter puts PronounPossessive head into PronounPossessive bowl in order to drink with the gag, making a mess."}],Image:"Assets/Female3DCG/ItemDevices/Preview/PetBowl.png",Prerequisite:[],CustomPrerequisite:[{Name:"HasBowl"},{Name:"UseTongueNoMouth"}],OnTrigger:()=>{m().enabled&&0!==m().waterHours&&H()&&V("water",h,!0)}}]}get Settings(){return[{name:"enabled",type:"checkbox",active:e=>!(0,u.IsHardcoreOn)(e),value:!1,label:"Become a virtual pet! Requiring: food, water, sleep, and affection"},{name:"foodHours",type:"number",value:4,active:e=>!!m(e).enabled,label:"How many hours until you are completely out of food; 0 to disable",width:128,min:0,max:d,step:.1},{name:"waterHours",type:"number",value:4,active:e=>!!m(e).enabled,label:"How many hours until you are completely out of water; 0 to disable",width:128,min:0,max:d,step:.1},{name:"sleepHours",type:"number",value:8,active:e=>!!m(e).enabled,label:"How many hours until you are completely out of sleep; 0 to disable",width:128,min:0,max:d,step:.1},{name:"affectionHours",type:"number",value:4,active:e=>!!m(e).enabled,label:"How many hours until you are completely out of affection; 0 to disable",width:128,min:0,max:d,step:.1},{name:"offlineDrain",type:"checkbox",value:!0,active:e=>!!m(e).enabled,label:"Stats drain even when logged out of the club"},{name:"noHands",type:"checkbox",active:e=>!!m(e).enabled&&!(0,u.IsHardcoreOn)(e),value:!0,label:"Allow eating or drinking from items in your OWN hands"},{name:"masochist",type:"checkbox",active:e=>!!m(e).enabled,value:!1,label:"Masochist pet; Abuse raises affection"},{name:"levels",type:"record",value:{food:1,water:1,sleep:1,affection:1,lastUpdated:Date.now(),lastOnline:Date.now()}},{name:"sexPet",type:"option",active:e=>!!m(e).enabled,value:"Off",options:["Off","Low","Medium","High"],label:"How much hunger and thirst gained from performing oral sex",loop:!1},{name:"sexPetOnly",type:"checkbox",active:e=>"Off"!=m(e).sexPet,value:!1,label:"ONLY Able to gain hunger and thirst from performing oral sex"}]}Load(){super.Load(),D(!1),G(!0,!1,!0),A=setInterval((()=>{Player.MemberNumber&&(Player.MPA[this.Title].levels.lastOnline=Date.now(),(0,a.SaveStorage)(!1))}),1e4),(0,i.HookFunction)(this.Title,"ChatRoomMessage",0,((e,t)=>{var o,r;const n=e[0],i=(0,l.GetAttributeFromChatDictionary)(n,"ActivityName");if(!m().enabled||!m().noHands&&(0,l.GetAttributeFromChatDictionary)(n,"SourceCharacter")===Player.MemberNumber||"Activity"!==n.Type||(0,l.GetAttributeFromChatDictionary)(n,"TargetCharacter")!==Player.MemberNumber||"ItemMouth"!==(0,l.GetAttributeFromChatDictionary)(n,"FocusGroupName")||!i||!H())return t(e);const a=ActivityFemale3DCG.find((e=>e.Name===i));return 0!==m().foodHours&&((null===(o=null==a?void 0:a.Prerequisite)||void 0===o?void 0:o.includes("Needs-EatItem"))||v.some((e=>(null==a?void 0:a.Name)===e)))&&V("food",.33,!0),0!==m().waterHours&&((null===(r=null==a?void 0:a.Prerequisite)||void 0===r?void 0:r.includes("Needs-SipItem"))||f.some((e=>(null==a?void 0:a.Name)===e)))&&V("water",.33,!0),t(e)})),(0,i.HookFunction)(this.Title,"ChatRoomMessage",0,((e,t)=>{var o,r;const n=e[0],i=(0,l.GetAttributeFromChatDictionary)(n,"ActivityName"),a=(0,l.GetAttributeFromChatDictionary)(n,"SourceCharacter"),s=(0,l.GetAttributeFromChatDictionary)(n,"TargetCharacter");return m().enabled&&"Activity"===n.Type&&B()&&a===Player.MemberNumber&&s!==Player.MemberNumber&&w.includes((0,l.GetAttributeFromChatDictionary)(n,"FocusGroupName"))&&C.includes(i)?(V("food",T[null!==(o=m().sexPet)&&void 0!==o?o:"Low"],!0,!0,null!==(r=(0,l.FindCharacterInRoom)(s))&&void 0!==r?r:void 0),k[s]=Date.now(),t(e)):t(e)})),(0,i.HookFunction)(this.Title,"ChatRoomMessage",0,((e,t)=>{var o,r;const n=e[0],i=(0,l.GetAttributeFromChatDictionary)(n,"ActivityName"),a=(0,l.GetAttributeFromChatDictionary)(n,"SourceCharacter"),s=(0,l.GetAttributeFromChatDictionary)(n,"TargetCharacter");return m().enabled&&"Activity"===n.Type&&B()&&a!==Player.MemberNumber&&s===Player.MemberNumber&&("ItemMouth"===(0,l.GetAttributeFromChatDictionary)(n,"FocusGroupName")&&S.includes(i)&&"Penis"===(0,l.GetAttributeFromChatDictionary)(n,"AssetName")&&"Pussy"===(0,l.GetAttributeFromChatDictionary)(n,"GroupName")||"ItemHead"===(0,l.GetAttributeFromChatDictionary)(n,"FocusGroupName")&&"LSCG_FuckWithPussy"===i)?(V("food",T[null!==(o=m().sexPet)&&void 0!==o?o:"Low"],!0,!0,null!==(r=(0,l.FindCharacterInRoom)(a))&&void 0!==r?r:void 0),k[a]=Date.now(),t(e)):t(e)})),(0,i.HookFunction)(this.Title,"ChatRoomMessage",10,((e,t)=>{var o,r;const i=e[0],a=(0,l.GetAttributeFromChatDictionary)(i,"SourceCharacter");if("Activity"!==i.Type||!n.ORGASM_ACTIVITY_REGEX.test(i.Content)||a===Player.MemberNumber)return t(e);if((null!==(o=k[a])&&void 0!==o?o:0)>=Date.now()-9e4){const e=(0,l.FindCharacterInRoom)(a);V("water",7*T[null!==(r=m().sexPet)&&void 0!==r?r:"Low"],!0,!0,null!=e?e:void 0),e&&(0,l.SendAction)((0,c.RandomElement)(N[e.HasPenis()?"MALE":"FEMALE"]),void 0,[{SourceCharacter:Player.MemberNumber},{TargetCharacter:a}])}return t(e)})),(0,i.HookFunction)(this.Title,"CharacterRefresh",0,((e,t)=>(e[0].MemberNumber===Player.MemberNumber&&D(),t(e)))),(0,i.HookFunction)(this.Title,"ChatRoomMessage",0,((e,t)=>{var o,r;const n=e[0],i=(0,l.GetAttributeFromChatDictionary)(n,"ActivityName");if(!m().enabled||0===m().affectionHours||"Activity"!==n.Type||(0,l.GetAttributeFromChatDictionary)(n,"TargetCharacter")!==Player.MemberNumber||(0,l.GetAttributeFromChatDictionary)(n,"SourceCharacter")===Player.MemberNumber||!i)return t(e);const a=null!==(o=(0,l.GetAttributeFromChatDictionary)(n,"FocusGroupName"))&&void 0!==o?o:"",s=null!==(r=b[a])&&void 0!==r?r:1;return p.includes(i)?V("affection",.05*s):y.includes(i)?V("affection",.03*s):P.includes(i)&&V("affection",-.04*(m().masochist?-1:1)*s),t(e)}))}Unload(){super.Unload(),clearInterval(A)}}},"./src/modules/virtualPetConditions.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ConditionCheck:()=>p,VirtualPetConditionsModule:()=>I});var r=o("./src/util/constants.ts"),n=o("./src/util/general.ts"),i=o("./src/util/messaging.ts"),a=o("./src/util/sdk.ts"),l=o("./src/modules/_module.ts"),s=o("./src/modules/profile.ts"),u=o("./src/modules/virtualPet.ts");const c=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[l.ModuleTitle.VirtualPet])&&void 0!==o?o:{}},d=(e=Player)=>{var t,o;return null!==(o=null===(t=e.MPA)||void 0===t?void 0:t[l.ModuleTitle.VirtualPetConditions])&&void 0!==o?o:{}};function m(e,t){var o;return!(!d().enabled||!d()[e])&&(!t||c().enabled&&0!==(null===(o=c())||void 0===o?void 0:o[`${t}Hours`]))}const h=[["SelfBondage",!0],["Willpower",!0],["Bondage",!1],["Evasion",!1],["LockPicking",!1]],v={food:-1,water:-1,sleep:-1,affection:-1};let f=[];let g=250;function p(){["food","water","affection","sleep"].forEach((e=>{if(c().enabled&&d().enabled&&0!==c()[`${e}Hours`]){const t=v[e],o=(0,u.GetCharacterCurrentStatValue)(Player,e);f.forEach((r=>{r.stat===e&&-1===t&&r.firstRun&&r.firstRun(),r.stat===e&&-1!==t&&t>o&&"rising"!==r.change&&o<=r.threshhold&&r.threshhold<t&&r.action(),r.stat===e&&-1!==t&&t<o&&"falling"!==r.change&&t<r.threshhold&&r.threshhold<=o&&r.action()})),v[e]=o}else v[e]=-1}))}const y="sleep",P=.25,b=0,M=0,A=1;let C=!1;const S=["SourceCharacter drools out of the corner of PronounPossessive mouth as PronounSubject sleeps.","SourceCharacter mumbles quietly in PronounPossessive slumber.","SourceCharacter rests peacefully."];function w(){var e,t,o;CharacterSetFacialExpression(Player,"Emoticon","Sleep"),CharacterSetFacialExpression(Player,"Eyes","Closed"),CharacterSetFacialExpression(Player,"Fluids","DroolMedium"),Player.CanKneel()&&PoseSetActive(Player,"Kneel",!0),C=!0;const r=null===(o=null===(t=null===(e=null===Player||void 0===Player?void 0:Player.LSCG)||void 0===e?void 0:e.StateModule)||void 0===t?void 0:t.states)||void 0===o?void 0:o.find((e=>"asleep"===e.type));d().passoutLSCG&&r&&console.log("Calling LSCG passout"),(0,i.SendAction)("SourceCharacter passes out from exhaustion.",void 0,[{SourceCharacter:Player.MemberNumber}])}function T(){return d().enabled&&0!==c().sleepHours&&d().passout&&!d().passoutLSCG&&C}let k;function N(){c().enabled&&0!==c().affectionHours&&d().enabled&&h.forEach((([e,t])=>{const o=(0,u.GetCharacterCurrentStatValue)(Player,"affection"),r=Math.round((10*o/1-5)*(t?1:-1)*100)/100,n=SkillGetModifier(Player,e),i=0!==SkillGetModifierDuration(Player,e)?SkillGetModifierDuration(Player,e):15e3;r>0&&d().affectionSkillBuffs&&SkillSetModifier(Player,e,n+r,i,!1),r<0&&d().affectionSkillDebuffs&&SkillSetModifier(Player,e,n+r,i,!1)}))}class I extends l.Module{get Title(){return l.ModuleTitle.VirtualPetConditions}get Settings(){return[{name:"enabled",type:"checkbox",active:e=>!!c(e).enabled&&!(0,s.IsHardcoreOn)(e),value:!1,label:"Recive conditions based on current level of your virtual pet stats"},{name:"foodNOW",type:"checkbox",active:e=>!!c(e).enabled&&!!d(e).enabled&&!(0,s.IsHardcoreOn)(e),value:!0,label:"Food and water affects affection gain"},{name:"tint",type:"checkbox",active:e=>!!c(e).enabled&&!!d(e).enabled&&!(0,s.IsHardcoreOn)(e),value:!0,label:"Vision darkens as you get sleepier"},{name:"passout",type:"checkbox",active:e=>!!c(e).enabled&&!!d(e).enabled&&!(0,s.IsHardcoreOn)(e),value:!0,label:"Passout when exhausted"},{name:"affectionSkillBuffs",type:"checkbox",active:e=>!!c(e).enabled&&!!d(e).enabled&&!(0,s.IsHardcoreOn)(e),value:!0,label:"Affection will buff skills based on its level"},{name:"affectionSkillDebuffs",type:"checkbox",active:e=>!!c(e).enabled&&!!d(e).enabled&&!(0,s.IsHardcoreOn)(e),value:!0,label:"Affection will debuff skills based on its level"},{name:"hearingLoss",type:"checkbox",active:e=>!!c(e).enabled&&!!d(e).enabled&&!(0,s.IsHardcoreOn)(e),value:!0,label:"Hearing becomes harder the hungrier you are"},{name:"slowLeave",type:"checkbox",active:e=>!!c(e).enabled&&!!d(e).enabled&&!(0,s.IsHardcoreOn)(e),value:!0,label:"Takes longer to leave the room when hungry"},{name:"orgasmWater",type:"checkbox",active:e=>!!c(e).enabled&&!!d(e).enabled&&!(0,s.IsHardcoreOn)(e),value:!0,label:"Orgasms make you lose some hydration"},{name:"orgasmSleep",type:"checkbox",active:e=>!!c(e).enabled&&!!d(e).enabled&&!(0,s.IsHardcoreOn)(e),value:!0,label:"Orgasms make you lose some energy"}]}Load(){(0,a.HookFunction)(this.Title,"GameRun",0,((e,t)=>(g>=250&&p(),g++,t(e)))),(0,a.HookFunction)(this.Title,"Player.GetTints",0,((e,t)=>{if(!m("tint",y))return t(e);const o=((0,u.GetCharacterCurrentStatValue)(Player,y)-P)/(b-P)*(A-M)+M;return M<=o&&o<=A?t(e).concat({r:0,g:0,b:0,a:Math.sqrt(Math.round(1e3*o)/1e3)}):t(e)})),f=[{stat:"sleep",threshhold:0,change:"falling",action:function(){w()},firstRun:function(){0===(0,u.GetCharacterCurrentStatValue)(Player,"sleep")&&w()}},{stat:"sleep",threshhold:.1,change:"rising",action:function(){C&&(CharacterSetFacialExpression(Player,"Emoticon",null),CharacterSetFacialExpression(Player,"Eyes","Dazed"),CharacterSetFacialExpression(Player,"Eyebrows","Lowered"),C=!1,(0,i.SendAction)("SourceCharacter wakes up from PronounPossessive nap.",void 0,[{SourceCharacter:Player.MemberNumber}]))}}],(0,a.HookFunction)(this.Title,"Player.CanTalk",5,((e,t)=>!T()&&t(e))),(0,a.HookFunction)(this.Title,"Player.CanWalk",5,((e,t)=>!T()&&t(e))),(0,a.HookFunction)(this.Title,"Player.CanChangeOwnClothes",5,((e,t)=>!T()&&t(e))),(0,a.HookFunction)(this.Title,"Player.CanInteract",5,((e,t)=>!T()&&t(e))),(0,a.HookFunction)(this.Title,"ServerSend",5,((e,t)=>{if(!T())return t(e);const[o,r]=e;return"ChatRoomChat"!=o||"Chat"!=(null==r?void 0:r.Type)||(null==r?void 0:r.Content.startsWith("("))?t(e):((0,i.SendAction)((0,n.RandomElement)(S),void 0,[{SourceCharacter:Player.MemberNumber}]),null)})),(0,a.HookFunction)(this.Title,"Player.GetDeafLevel",5,((e,t)=>T()?4:t(e))),(0,a.HookFunction)(this.Title,"Player.GetBlindLevel",5,((e,t)=>{var o,r;return T()?"SensDepExtreme"===(null===(o=Player.GameplaySettings)||void 0===o?void 0:o.SensDepChatLog)||"SensDepTotal"===(null===(r=Player.GameplaySettings)||void 0===r?void 0:r.SensDepChatLog)?3:2:t(e)})),(0,a.HookFunction)(this.Title,"Player.GetDeafLevel",5,((e,t)=>{const o=m("hearingLoss","food")?Math.max(0,Math.floor(-10*((0,u.GetCharacterCurrentStatValue)(Player,"food")-.3001))):0;return Math.max(o,t(e))})),SkillModifierMax<10&&(SkillModifierMax=10),N(),k=setInterval(N,16e3),(0,a.HookFunction)(this.Title,"ChatRoomAttemptLeave",0,((e,t)=>{if(!m("slowLeave","food"))return t(e);const o=ChatRoomSlowtimer,r=(0,u.GetCharacterCurrentStatValue)(Player,"food");if(t(e),0===o&&ChatRoomSlowtimer>0&&r<=.3){ChatRoomSlowtimer=CurrentTime+ChatRoomSlowLeaveMinTime+1e3*(-25/.3*r+25)}})),(0,a.HookFunction)(this.Title,"Player.IsSlow",0,((e,t)=>!!(m("slowLeave","food")&&(0,u.GetCharacterCurrentStatValue)(Player,"food")<=.3)||t(e))),(0,a.HookFunction)(this.Title,"ChatRoomMessage",10,((e,t)=>{const o=e[0];return"Activity"===o.Type&&r.ORGASM_ACTIVITY_REGEX.test(o.Content)&&(0,i.GetAttributeFromChatDictionary)(o,"SourceCharacter")===Player.MemberNumber?(d().orgasmWater&&(0,u.ModifyStat)("water",-.05,!1,!0),d().orgasmSleep&&(0,u.ModifyStat)("sleep",-.05,!1,!0),t(e)):t(e)}))}Unload(){super.Unload(),f=[],clearInterval(k)}}},"./src/modules/virtualPetHUD.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{VirtualPetHUDModule:()=>d});var r=o("./src/util/sdk.ts"),n=o("./src/util/authority.ts"),i=o("./src/modules/_module.ts"),a=o("./src/modules/virtualPet.ts");const l=()=>Player.MPA[i.ModuleTitle.VirtualPet],s=()=>Player.MPA[i.ModuleTitle.VirtualPetHUD],u={food:"#f2bb18",water:"#2a9fc3",sleep:"#8d2aee",affection:"#ff78f2"};function c(e,t,o,r){const n=u[r.stat];MainCanvas.beginPath(),MainCanvas.arc(e,t,o,0,2*Math.PI,!0),MainCanvas.lineWidth=o/8,MainCanvas.strokeStyle=n,MainCanvas.stroke(),MainCanvas.beginPath(),MainCanvas.arc(e,t,o,-Math.PI/2,2*Math.PI*-r.level-Math.PI/2,!0),MainCanvas.lineTo(e,t),MainCanvas.fillStyle=n,MainCanvas.fill(),s().exactStats&&(MainCanvas.fillStyle="#000000",MainCanvas.font=CommonGetFont(1.25*o),MainCanvas.fillText(Math.round(100*r.level).toString(),e,t+.125*o),MainCanvas.font=CommonGetFont(36))}class d extends i.Module{get Title(){return i.ModuleTitle.VirtualPetHUD}get Settings(){return[{name:"self",type:"checkbox",active:()=>!!l().enabled,value:!0,label:"Display your own virtual pet stats on the HUD"},{name:"exactStats",type:"checkbox",active:()=>!!l().enabled||"Off"!==s().others,value:!1,label:"Display the exact number percentage on the HUD"},{name:"position",type:"option",active:()=>!!l().enabled||"Off"!==s().others,options:["Left","Center","Right","Split"],value:"Left",label:"Where to display the HUD",loop:!0},{name:"others",type:"option",active:()=>!0,options:["Off","Public","Friends","Whitelist","Lovers","Owners","D/s Family","Clubowner"],value:"Friends",label:"Display the virtual pet stats of others on the HUD",loop:!1}]}Load(){(0,r.HookFunction)(this.Title,"DrawArousalMeter",1,((e,t)=>{var o;const[r,u,d,m]=e;if(!ActivityAllowed()||r.IsPlayer()&&(!s().self||!l().enabled)||!r.IsPlayer()&&"Off"===s().others||!r.IsPlayer()&&!(0,n.IsMemberNumberInAuthGroup)(r.MemberNumber,s().others))return t(e);const h=null===(o=null==r?void 0:r.MPA)||void 0===o?void 0:o[i.ModuleTitle.VirtualPet];if(!(null==h?void 0:h.enabled))return t(e);const v=[];return["food","water","sleep","affection"].forEach((e=>{0!==h[`${e}Hours`]&&v.push({stat:e,level:(0,a.GetCharacterCurrentStatValue)(r,e)})})),0!==v.length&&function(e,t,o,r){const n=s().position;if("Left"===n||"Right"===n)r.reverse(),r.forEach(((r,i)=>{c(e+("Left"===n?80:420)*o,t+(950-36*i)*o,16*o,r)}));else if("Center"===n){const n=r.length;r.forEach(((r,i)=>{c(e+(250-18*(n-1)+36*i)*o,t+950*o,16*o,r)}))}else if("Split"===n){const n=[];switch(r.length){case 1:n.push([r[0]]),n.push([]);break;case 2:n.push([r[0]]),n.push([r[1]]);break;case 3:n.push([r[1],r[0]]),n.push([r[2]]);break;case 4:n.push([r[1],r[0]]),n.push([r[3],r[2]])}n.forEach(((r,n)=>{r.forEach(((r,i)=>{c(e+(0==n?80:420)*o,t+(950-36*i)*o,16*o,r)}))}))}}(u,d,m,v),t(e)}))}Unload(){super.Unload()}}},"./src/util/activities.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{CreateActivities:()=>c,CreateActivity:()=>u,RemoveActivities:()=>m,RemoveActivity:()=>d,activityImages:()=>i,activityPrerequisites:()=>l,activityReceived:()=>s,activityTriggers:()=>a});var r=o("./src/localization/localization.ts"),n=o("./src/util/constants.ts");const i={},a={},l={},s={};function u(e){var t;const o={Name:`${n.ACTIVITY_NAME_PREFIX}${e.Name}`,ActivityID:Math.max(...ActivityFemale3DCG.map((e=>{var t;return null!==(t=e.ActivityID)&&void 0!==t?t:-1})))+1,MaxProgress:null!==(t=e.MaxProgress)&&void 0!==t?t:50,Prerequisite:e.Prerequisite,Target:[]};if(e.CustomPrerequisite){let t=e.CustomPrerequisite;Array.isArray(t)||(t=[t]),t.forEach((e=>{o.Prerequisite.push(e.Name),!(e.Name in l)&&e.Prerequisite&&(l[e.Name]=e.Prerequisite)}))}e.Targets.forEach((e=>{var t;e.actionSelf&&(o.TargetSelf||(o.TargetSelf=[]),null===(t=o.TargetSelf)||void 0===t||t.push(e.group),null===ActivityDictionary||void 0===ActivityDictionary||ActivityDictionary.push([`Label-ChatSelf-${e.group}-${o.Name}`,(0,r.LocalizedText)(e.label)]),null===ActivityDictionary||void 0===ActivityDictionary||ActivityDictionary.push([`ChatSelf-${e.group}-${o.Name}`,(0,r.LocalizedText)(e.actionSelf)])),e.actionOthers&&(o.Target.push(e.group),null===ActivityDictionary||void 0===ActivityDictionary||ActivityDictionary.push([`Label-ChatOther-${e.group}-${o.Name}`,(0,r.LocalizedText)(e.label)]),null===ActivityDictionary||void 0===ActivityDictionary||ActivityDictionary.push([`ChatOther-${e.group}-${o.Name}`,(0,r.LocalizedText)(e.actionOthers)]))})),i[o.Name]=e.Image,e.OnTrigger&&(a[o.Name]=e.OnTrigger),e.OnReceive&&(s[o.Name]=e.OnReceive),ActivityFemale3DCG.push(o),ActivityFemale3DCGOrdering.push(o.Name)}function c(e){e.forEach((e=>{u(e)}))}function d(e){const t=`${n.ACTIVITY_NAME_PREFIX}${e.Name}`;e.Targets.forEach((e=>{var o,r;e.actionSelf&&(ActivityDictionary=null!==(o=null===ActivityDictionary||void 0===ActivityDictionary?void 0:ActivityDictionary.filter((o=>!(o[0]===`Label-ChatSelf-${e.group}-${t}`||o[0]===`ChatSelf-${e.group}-${t}`))))&&void 0!==o?o:null),e.actionOthers&&(ActivityDictionary=null!==(r=null===ActivityDictionary||void 0===ActivityDictionary?void 0:ActivityDictionary.filter((o=>!(o[0]===`Label-ChatOther-${e.group}-${t}`||o[0]===`ChatOther-${e.group}-${t}`))))&&void 0!==r?r:null)})),delete i[t],delete a[t],ActivityFemale3DCG=ActivityFemale3DCG.filter((e=>e.Name!==t)),ActivityFemale3DCGOrdering=ActivityFemale3DCGOrdering.filter((e=>e!==t))}function m(e){e.forEach((e=>{d(e)}))}},"./src/util/authority.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{AUTHORITY_GROUPS:()=>l,AUTHORITY_GROUP_OPTIONS:()=>i,AuthorityIsComparisonToCharacter:()=>c,HighestLevelAuthorityGroup:()=>u,IsMemberNumberInAuthGroup:()=>s});var r=o("./src/modules/_module.ts"),n=o("./src/util/messaging.ts");const i=["Public","Friends","Whitelist","Lovers","Owners","Clubowner","Self"],a=["None","Public","Friends","Whitelist","Lovers","Owners","D/s Family","Clubowner","Self"],l={Self:e=>{var t;return[null!==(t=e.MemberNumber)&&void 0!==t?t:-1]},Clubowner:e=>{var t,o;return(null===(t=null==e?void 0:e.Ownership)||void 0===t?void 0:t.MemberNumber)?[null===(o=null==e?void 0:e.Ownership)||void 0===o?void 0:o.MemberNumber]:[]},Owners:function(e){var t,o,n;const i=(null!==(n=null===(o=null===(t=e.MPA)||void 0===t?void 0:t[r.ModuleTitle.Authority])||void 0===o?void 0:o.owners)&&void 0!==n?n:"").split(",").map((e=>parseInt(e))).filter((e=>!isNaN(e)));return 0===i.length?[]:i},Lovers:e=>{var t,o;return null!==(o=null===(t=e.Lovership)||void 0===t?void 0:t.filter((e=>e.MemberNumber)).map((e=>e.MemberNumber)))&&void 0!==o?o:[]},WhiteList:e=>{var t;return null!==(t=e.WhiteList)&&void 0!==t?t:[]},FriendList:()=>{var e;return null!==(e=Player.FriendList)&&void 0!==e?e:[]}};function s(e,t,o=!1,r=Player){var i,a,s,u,c;if("None"===t)return!1;if(e===l.Self(r)[0])return"Self"===t||o;if(r.BlackList.includes(e)||null!==(a=null===(i=null==r?void 0:r.GhostList)||void 0===i?void 0:i.includes(e))&&void 0!==a&&a)return!1;if("Public"===t)return!0;if("D/s Family"===t&&r.MemberNumber===Player.MemberNumber)return null!==(u=null===(s=(0,n.FindCharacterInRoom)(e))||void 0===s?void 0:s.IsFamilyOfPlayer())&&void 0!==u&&u;let d=new Set;switch(t){case"Friends":if(r.MemberNumber!==Player.MemberNumber&&Player.MemberNumber===e&&l.FriendList().includes(null!==(c=r.MemberNumber)&&void 0!==c?c:-1))return!0;r.MemberNumber===Player.MemberNumber&&(d=new Set([...d,...l.FriendList()]));case"Whitelist":d=new Set([...d,...l.WhiteList(r)]);case"Lovers":d=new Set([...d,...l.Lovers(r)]);case"Owners":d=new Set([...d,...l.Owners(r)]);case"Clubowner":d=new Set([...d,...l.Clubowner(r)])}return d.has(e)}function u(e,t=Player){var o,r,n,i,a,s;return t.MemberNumber===e?"Self":(null===(o=null==t?void 0:t.Ownership)||void 0===o?void 0:o.MemberNumber)===e?"Clubowner":l.Owners(t).includes(e)?"Owners":l.Lovers(t).includes(e)?"Lovers":l.WhiteList(t).includes(e)?"Whitelist":t.MemberNumber===Player.MemberNumber&&(null===(r=Player.FriendList)||void 0===r?void 0:r.includes(e))||t.MemberNumber!==Player.MemberNumber&&e===Player.MemberNumber&&(null===(n=Player.FriendList)||void 0===n?void 0:n.includes(null!==(i=t.MemberNumber)&&void 0!==i?i:-1))?"Friends":t.BlackList.includes(e)||null!==(s=null===(a=null==t?void 0:t.GhostList)||void 0===a?void 0:a.includes(e))&&void 0!==s&&s?"None":"Public"}function c(e,t=">=",o,r=Player){const n=u(o,r),i=a.indexOf(e),l=a.indexOf(n);if(-1===i||-1===l)return!1;switch(t){case">":return l>i;case"<":return l<i;case">=":return l>=i;case"<=":return l<=i;case"==":return l==i;case"!=":return l!=i;default:throw new Error("Invalid comparison operator")}}},"./src/util/constants.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ACTIVITY_NAME_PREFIX:()=>s,ALL_BEDS:()=>h,BED_BAD:()=>m,BED_NORMAL:()=>d,BED_PERFECT:()=>c,BELL_SOUND:()=>u,ICONS:()=>l,MPA_NAME:()=>n,MPA_REPO:()=>a,MPA_VERSION:()=>i,ORGASM_ACTIVITY_REGEX:()=>v});var r=o("./package.json");const n=r.name.toLocaleUpperCase(),i=r.version,a=r.repository.url,l=Object.freeze({PAW:"data:image/png;base64,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",DISCORD:"data:image/png;base64,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"}),s="MPA_",u=new Audio("Audio\\BellMedium.mp3"),c=["PetBed","Crib"],d=["LowCage","Kennel","Bed","MedicalBed","Cushion"],m=["FuturisticCrate","DollBox"],h=c.concat(d,m),v=/Orgasm[0-9]/},"./src/util/general.ts":(e,t,o)=>{"use strict";function r(e){return 0==e.length?null:e[Math.floor(Math.random()*e.length)]}function n(e,t){let o=structuredClone(e);return t.forEach((e=>{o=o.filter((t=>e!==t))})),o}function i(e){for(let t=e.length-1;t>0;t--){const o=Math.floor(Math.random()*(t+1));[e[t],e[o]]=[e[o],e[t]]}return e}o.r(t),o.d(t,{FilterArrayFromArray:()=>n,RandomElement:()=>r,ShuffleArray:()=>i})},"./src/util/messaging.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{AddDataSyncListener:()=>v,AddDataSyncListeners:()=>f,ArrayToReadableString:()=>P,ContentIsMPAMesage:()=>n,FindCharacterInRoom:()=>d,GetAttributeFromChatDictionary:()=>y,GetEntryFromChatDictionary:()=>p,GetMPAMessageFromChat:()=>i,MPANotifyPlayer:()=>c,NotifyPlayer:()=>u,RemoveDataSyncListeners:()=>g,RemoveOOCContentFromMessage:()=>m,SendAction:()=>l,SendEmote:()=>s,SendMPAMessage:()=>a,hookedMessages:()=>h});var r=o("./src/localization/localization.ts");function n(e){var t;return"Hidden"===e.Type&&"MPA"===e.Content&&1===(null===(t=null==e?void 0:e.Dictionary)||void 0===t?void 0:t.length)}function i(e){return n(e)?e.Dictionary[0]:null}function a(e,t){ServerSend("ChatRoomChat",{Type:"Hidden",Content:"MPA",Dictionary:[e],Target:t})}function l(e,t=void 0,o=[]){ServerSend("ChatRoomChat",{Content:"MayaScript",Type:"Activity",Dictionary:[{Tag:"MISSING ACTIVITY DESCRIPTION FOR KEYWORD MayaScript",Text:(0,r.LocalizedText)(e)},...o],Target:null==t?void 0:t.MemberNumber})}function s(e,t=void 0){ServerSend("ChatRoomChat",{Content:`${e}`,Type:"Emote",Target:null==t?void 0:t.MemberNumber})}function u(e,t){var o,r;const n="Dark"===(null===(o=Player.ChatSettings)||void 0===o?void 0:o.ColorTheme)||"Dark2"===(null===(r=Player.ChatSettings)||void 0===r?void 0:r.ColorTheme);ChatRoomSendLocal(`<p style='background-color:#00c2ff;color:${n?"white":"black"};margin-bottom:0.25em;margin-top:0'>${e}</p>`,t)}function c(e,t){u(`${(0,r.LocalizedText)("MPA")}: ${e}`,t)}function d(e,{MemberNumber:t=!0,NickName:o=!0,Name:r=!0}={}){var n;"string"!=typeof e&&(e=e.toString()),e=e.toLocaleLowerCase();for(const i of ChatRoomCharacter)if(t&&(null==i?void 0:i.MemberNumber)===Number(e)||o&&(null===(n=null==i?void 0:i.Nickname)||void 0===n?void 0:n.toLocaleLowerCase())===e||r&&i.Name.toLocaleLowerCase()===e)return i;return null}function m(e){return SpeechGetOOCRanges(e).reverse().forEach((t=>{e=e.substring(0,t.start)+e.substring(t.start+t.length)})),e}const h=[];function v(e){h.push({module:e.module,message:e.message,action:e.action})}function f(e){e.forEach((e=>{h.push({module:e.module,message:e.message,action:e.action})}))}function g(e){for(let t=h.length-1;0<=t;t--)h[t].module===e&&h.splice(t,1)}function p(e,t){if(e.Dictionary)try{return e.Dictionary.filter((e=>!!e[t]))[0]}catch(e){}}function y(e,t){var o;return null===(o=p(e,t))||void 0===o?void 0:o[t]}function P(e){const t=e.length;return 0===t?"":1===t?e[0]:2===t?`${e[0]} and ${e[1]}`:`${e.slice(0,-1).join(", ")}, and ${e[t-1]}`}},"./src/util/petHearAndSpeak.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{AppendPetSpeech:()=>n,ApplyPetHearing:()=>i,DisruptivePetSpeech:()=>c,NonDisruptivePetSpeech:()=>u});var r=o("./src/util/general.ts");function n(e,t){const o=(0,r.RandomElement)(t);return null===o?e:/[.!?]$/.test(e)?`${e} ${o.charAt(0).toLocaleUpperCase()+o.slice(1)}.`:/[a-zA-Z]$/.test(e)?`${e}, ${o}.`:`${e} ${o}.`}function i([e,t,o],r,n){if(!e||isNaN(t)||"boolean"!=typeof o&&void 0!==o)return r([e,t,o]);n.push((Player.Nickname||Player.Name).toLocaleLowerCase()),"SheHer"===Player.GetPronouns()?(n.push("girl"),n.push("she"),n.push("her")):(n.push("boy"),n.push("he"),n.push("him"));const i=e.toLocaleLowerCase();let a=[];n.forEach((e=>{const t=new RegExp(`\\b${e}\\b`,"g");[...i.matchAll(t)].forEach((t=>{a.push({start:t.index,len:e.length})}))}));const l=new Map;for(const e of a){const t=`${e.start}-${e.len}`;l.has(t)||l.set(t,e)}if(a=Array.from(l.values()),0===a.length)return r([e,t,o]);a.sort(((e,t)=>e.start-t.start));SpeechGetOOCRanges(e).forEach((e=>{for(let t=a.length-1;t>=0;t--){const o=a[t];(e.start<o.start&&o.start<e.start+e.length||e.start<o.start+o.len&&o.start+o.len<e.start+e.length)&&a.splice(t,1)}}));let s=0,u="";return a.forEach((n=>{u+=r([e.substring(s,n.start),t,o]),s=n.start+n.len,u+=e.substring(n.start,n.start+n.len)})),u+=r([e.substring(s),t,o]),u}const a=.5,l=Object.freeze({Low:.01,Medium:.025,High:.05,Max:.125}),s=Object.freeze({Low:.05,Medium:.1,High:.2,Max:.25});function u(e,t,o){var i;if(0===t.length||"Off"===o)return e;let u=[];function c(){var e;return 0===u.length&&(u=t.concat(t),u=(0,r.ShuffleArray)(u)),null!==(e=u.pop())&&void 0!==e?e:""}let d=0,m=[];const h=SpeechGetOOCRanges(e);for(const t of h)""!==e.substring(d,t.start)&&m.push({text:e.substring(d,t.start),ooc:!1}),m.push({text:e.substring(t.start,t.start+t.length),ooc:!0}),d=t.start+t.length;const v=e.substring(d);""!==v&&m.push({text:v,ooc:!1}),m=m.map(((e,t)=>{const o=/\s+$/.exec(e.text);return e.text=e.text.replace(/\s+$/,""),o&&m[t+1]&&(m[t+1].text=o[0]+m[t+1].text),e}));const f=l[o],g=s[o],p="High"===o||"Max"===o;let y=!1,P="";for(const e of m){if(e.ooc){P+=e.text;continue}const t=e.text.match(/(\s*\S+)/g)||[];let o=null;t.forEach((e=>{if(Math.random()<f){y=!0;const t=c(),r=null===o;r||/[.!?]$/.test(null!=o?o:"")?P+=`${r?"":" "}${t.charAt(0).toLocaleUpperCase()}${t.slice(1)}`+(/[.!?]$/.test(e)||r?"."+(r?" ":""):", "):P+=`${Math.random()<a&&!(null!=o?o:"").endsWith(",")?",":""} ${t},`}P+=e,o=e})),(null===(i=m.slice().reverse().find((e=>!e.ooc)))||void 0===i?void 0:i.text)===e.text&&(p&&!y||Math.random()<g)&&(P=n(P,[c()]))}return P}function c(e,t,o){if(0===t.length)return e;e=null!=e?e:"",o=o>1?1:o<0?0:o;let n=[];let i=0;const a=[],l=SpeechGetOOCRanges(e);for(const t of l)""!==e.substring(i,t.start)&&a.push({text:e.substring(i,t.start),ooc:!1}),a.push({text:e.substring(t.start,t.start+t.length),ooc:!0}),i=t.start+t.length;const s=e.substring(i);""!==s&&a.push({text:s,ooc:!1});let u="";for(const e of a)e.ooc?u+=e.text:u+=e.text.replace(/\b\w+\b/g,(e=>{if(Math.random()>o)return e;const i=(0===n.length&&(n=t.concat(t),n=(0,r.ShuffleArray)(n)),null!==(a=n.pop())&&void 0!==a?a:"");var a;return/^[A-Z]+$/.test(e)&&e.length>1?i.toLocaleUpperCase():/^[A-Z].*$/.test(e)?i.substring(0,1).toLocaleUpperCase()+i.substring(1):i}));return u}},"./src/util/registerModules.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{RegisterModules:()=>y,modules:()=>g,settings:()=>p});var r=o("./src/util/storage.ts"),n=o("./src/modules/dataSync.ts"),i=o("./src/modules/settings.ts"),a=o("./src/modules/activities.ts"),l=o("./src/modules/clicker.ts"),s=o("./src/modules/virtualPet.ts"),u=o("./src/modules/virtualPetHUD.ts"),c=o("./src/modules/virtualPetConditions.ts"),d=o("./src/modules/profile.ts"),m=o("./src/modules/settingsOthers.ts"),h=o("./src/modules/authority.ts"),v=o("./src/modules/private.ts");let f=!1;const g=[new n.DataSyncModule,new i.SettingsModule,new a.ActivitiesModule,new l.ClickerModule,new s.VirtualPetModule,new u.VirtualPetHUDModule,new c.VirtualPetConditionsModule,new d.ProfileModule,new m.SettingsOtherModule,new h.AuthorityModule,new v.PrivateModule],p={};async function y(){f||(g.forEach((e=>{const t=e.Settings,o={};t.forEach((e=>{o[e.name]=e})),0!==Object.keys(o).length&&(p[e.Title]=o)})),await(0,r.LoadStorage)(),g.forEach((e=>{e.Load()})),f=!0)}},"./src/util/sdk.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{AwaitInChatRoom:()=>d,AwaitPlayer:()=>c,HookFunction:()=>s,RemoveHooks:()=>u,Sleep:()=>m,bcxAPI:()=>h,bcxFound:()=>v,modAPI:()=>l});var r=o("./node_modules/bondage-club-mod-sdk/dist/bcmodsdk.js"),n=o.n(r),i=o("./src/util/constants.ts");const a=[],l=n().registerMod({name:i.MPA_NAME,version:i.MPA_VERSION,fullName:"Maya's Petplay Additions",repository:i.MPA_REPO},{allowReplace:!1});function s(e,t,o,r){const n=l.hookFunction(t,o,r);return a.push({functionName:t,priority:o,hook:r,module:e,removeHook:n}),n}function u(e){for(let t=a.length-1;0<=t;t--)a[t].module===e&&(a[t].removeHook(),a.splice(t,1))}async function c(){if(!Player.MemberNumber||!Player.ExtensionSettings)return new Promise((e=>{const t=l.hookFunction("LoginResponse",0,((o,r)=>{r(o),t(),setTimeout(e,1e3)}))}))}async function d(){if(!(ChatRoomCharacter.length>1))return new Promise((e=>{const t=l.hookFunction("ChatRoomSync",100,((o,r)=>{r(o),t(),e()}))}))}function m(e){return new Promise((t=>setTimeout(t,e)))}function h(){var e;return null===(e=window.bcx)||void 0===e?void 0:e.getModApi(i.MPA_NAME)}function v(){return!!window.bcx}},"./src/util/settingTypes.ts":(e,t,o)=>{"use strict";function r(e){return"function"==typeof e.active&&"string"==typeof e.label}function n(e){return r(e)&&"checkbox"===e.type&&"boolean"==typeof e.value}function i(e){return r(e)&&"option"===e.type&&"string"==typeof e.value&&Array.isArray(e.options)&&"boolean"==typeof e.loop}function a(e){return r(e)&&"text"===e.type&&"string"==typeof e.value&&("number"==typeof e.width||null===e.width)&&("number"==typeof e.maxChars||null===e.maxChars)}function l(e){return r(e)&&"number"===e.type&&"number"==typeof e.value&&("number"==typeof e.width||null===e.width)&&"number"==typeof e.min&&"number"==typeof e.max&&("number"==typeof e.step||null===e.step)}o.r(t),o.d(t,{IsCheckboxSetting:()=>n,IsDisplaySetting:()=>r,IsNumberSetting:()=>l,IsOptionSetting:()=>i,IsTextSetting:()=>a})},"./src/util/storage.ts":(e,t,o)=>{"use strict";o.r(t),o.d(t,{ExportSettingsToClipboard:()=>b,ImportSettingsFromClipboard:()=>M,LoadStorage:()=>p,ResetStorage:()=>P,SaveStorage:()=>y});var r=o("./src/localization/localization.ts"),n=o("./src/util/registerModules.ts"),i=o("./src/util/sdk.ts"),a=o("./src/modules/dataSync.ts"),l=o("./src/modules/_module.ts"),s=o("./src/util/constants.ts"),u=o("./src/modules/virtualPet.ts"),c=o("./src/util/messaging.ts");const d="https://raw.githubusercontent.com/MayaTheFoxy/MPA/refs/heads/main/CHANGELOG.md",m="https://raw.githubusercontent.com/MayaTheFoxy/MPA/refs/heads/dev/CHANGELOG.md",h="https://github.com/MayaTheFoxy/MPA/blob/main/CHANGELOG.md",v="https://github.com/MayaTheFoxy/MPA/blob/dev/CHANGELOG.md",f=/^\d+\.\d+\.\d+$/;function g(e){var t;if(e.version!==s.MPA_VERSION){const o=f.test(s.MPA_VERSION);ServerAccountBeep({MemberNumber:null!==(t=Player.MemberNumber)&&void 0!==t?t:-1,MemberName:(0,r.LocalizedText)("MPA"),ChatRoomSpace:"X",ChatRoomName:(0,r.LocalizedText)("MPA Updated"),Private:!1,BeepType:"",Message:`MPA has been updated. See the changelog here:\n${o?h:v}`}),e.version=s.MPA_VERSION,y(!1),async function(){const e=f.test(s.MPA_VERSION),t=e?d:m;try{const o=await fetch(t);o.ok||console.warn(`MPA: Failed to fetch CHANGELOG.md: ${o.statusText}`);const r=await o.text(),n=/# (\d+\.\d+\.\d+(?:\.\d+)?)+\n([\s\S]*?)(?=\n# |$)/.exec(r);if(n&&n[1]===s.MPA_VERSION){const t=n[2].trim();for(;;)if(await(0,i.AwaitInChatRoom)(),await(0,i.Sleep)(100),ChatRoomCharacter.length>0){(0,c.NotifyPlayer)(`<b style='text-align:center;width:100%;display:block'>MPA Updated</b>\nCurrent MPA Version: ${s.MPA_VERSION}\nChanges from previous version:\n${t}\n<a href="${e?h:v}" target="_blank">See Full Changelog</a>`);break}return}console.warn("MPA: Could not get the latest MPA Changelogs")}catch(e){console.error(`Error: ${e}`)}}()}}async function p(){var e,t,o,r;await(0,i.AwaitPlayer)();const a=null!==(r=JSON.parse(null!==(o=LZString.decompressFromBase64(null!==(t=null===(e=Player.ExtensionSettings)||void 0===e?void 0:e.MPA)&&void 0!==t?t:""))&&void 0!==o?o:"{}"))&&void 0!==r?r:{};Object.entries(n.settings).forEach((e=>{var t,o,r,i,l,s,u,c,d;const[m,h]=e;for(const[e,v]of Object.entries(h))m in a||(a[m]={}),e in a[m]?("checkbox"===(null===(o=null===(t=null===n.settings||void 0===n.settings?void 0:n.settings[m])||void 0===t?void 0:t[e])||void 0===o?void 0:o.type)&&"boolean"!=typeof a[m][e]||"number"===(null===(i=null===(r=null===n.settings||void 0===n.settings?void 0:n.settings[m])||void 0===r?void 0:r[e])||void 0===i?void 0:i.type)&&isNaN(a[m][e])||"options"in(null!==(s=null===(l=null===n.settings||void 0===n.settings?void 0:n.settings[m])||void 0===l?void 0:l[e])&&void 0!==s?s:{})&&!(null!==(d=null===(c=null===(u=null===n.settings||void 0===n.settings?void 0:n.settings[m])||void 0===u?void 0:u[e])||void 0===c?void 0:c.options)&&void 0!==d?d:[]).includes(a[m][e]))&&(a[m][e]=v.value,console.warn(`MPA: Invalid setting of "${a[m][e]}" at ${m}->${e}, resetting to default`)):a[m][e]=v.value})),g(a),Player.MPA=a}function y(e=!0){Player.MPA&&Player.ExtensionSettings&&(Player.MPA[l.ModuleTitle.Authority].owners=Player.MPA[l.ModuleTitle.Authority].owners.split(",").filter((e=>Number(e)!==Player.MemberNumber)).join(","),Player.ExtensionSettings.MPA=LZString.compressToBase64(JSON.stringify(Player.MPA)),ServerPlayerExtensionSettingsSync("MPA"),e&&(0,a.SettingSync)(!1))}async function P(){delete Player.ExtensionSettings.MPA,Player.ExtensionSettings.MPA=LZString.compressToBase64(JSON.stringify({version:s.MPA_VERSION})),await p(),y()}async function b(){return navigator.clipboard.writeText(LZString.compressToBase64(JSON.stringify(Player.MPA)))}async function M(){return new Promise(((e,t)=>{navigator.clipboard.readText().then((o=>{var r;try{const e=JSON.parse(null!==(r=LZString.decompressFromBase64(null!=o?o:""))&&void 0!==r?r:"{}"),t=JSON.parse(JSON.stringify(Player.MPA));t[l.ModuleTitle.VirtualPet].levels.lastUpdated=Date.now(),t[l.ModuleTitle.VirtualPet].levels.lastOnline=Date.now();for(const o in e)void 0!==e[o]&&(t[o]=e[o]);t[l.ModuleTitle.VirtualPet].levels.lastUpdated=Date.now()-(t[l.ModuleTitle.VirtualPet].levels.lastOnline-t[l.ModuleTitle.VirtualPet].levels.lastUpdated),t[l.ModuleTitle.VirtualPet].levels.lastOnline=Date.now(),Player.MPA=t,(0,u.LevelSync)(!1,!1,!1),y(!0)}catch(e){return console.warn(e),t()}return e()}),(()=>t()))}))}}},t={};function o(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,o),i.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{"use strict";o.r(r);var e=o("./src/util/registerModules.ts"),t=o("./src/commands/buildAllCommands.ts"),n=o("./src/util/constants.ts");console.log("Loading Maya's Petplay Additions"),(0,t.BuildAllCommands)(),(0,e.RegisterModules)(),window.MPA={version:n.MPA_VERSION,menuLoaded:!1}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGV2QnVuZGxlLmpzIiwibWFwcGluZ3MiOiI7NkVBR2EsV0FBVyxhQUFhLE1BQU1BLEVBQUUsUUFBUSxTQUFTQyxFQUFFRCxHQUFHRSxNQUFNLGVBQWVGLEdBQUcsTUFBTUMsRUFBRSxJQUFJRSxNQUFNSCxHQUFHLE1BQU1JLFFBQVFDLE1BQU1KLEdBQUdBLENBQUMsQ0FBQyxNQUFNSyxFQUFFLElBQUlDLFlBQVksU0FBU0MsRUFBRVIsR0FBRyxRQUFRQSxHQUFHLGlCQUFpQkEsSUFBSVMsTUFBTUMsUUFBUVYsRUFBRSxDQUFDLFNBQVNXLEVBQUVYLEdBQUcsTUFBTUMsRUFBRSxJQUFJVyxJQUFJLE9BQU9aLEVBQUVhLFFBQVFiLElBQUlDLEVBQUVhLElBQUlkLElBQUlDLEVBQUVjLElBQUlmLElBQUksQ0FBQyxNQUFNZ0IsRUFBRSxJQUFJQyxJQUFJQyxFQUFFLElBQUlOLElBQUksU0FBU08sRUFBRW5CLEdBQUdrQixFQUFFSixJQUFJZCxLQUFLa0IsRUFBRUgsSUFBSWYsR0FBR0ksUUFBUWdCLEtBQUtwQixHQUFHLENBQUMsU0FBU3FCLEVBQUVyQixHQUFHLE1BQU1DLEVBQUUsR0FBR0ssRUFBRSxJQUFJVyxJQUFJVCxFQUFFLElBQUlJLElBQUksSUFBSSxNQUFNRCxLQUFLVyxFQUFFQyxTQUFTLENBQUMsTUFBTVAsRUFBRUwsRUFBRWEsU0FBU0MsSUFBSXpCLEVBQUUwQixNQUFNLEdBQUdWLEVBQUUsQ0FBQ2YsRUFBRTBCLFFBQVFYLEVBQUVZLE9BQU8sSUFBSSxNQUFNM0IsRUFBRWlCLEtBQUtGLEVBQUVhLFFBQVFDLFVBQVV4QixFQUFFUSxJQUFJYixJQUFJSyxFQUFFbUIsSUFBSXhCLEtBQUtpQixHQUFHQyxFQUFFLGdCQUFnQlIsRUFBRWUsOEJBQThCMUIsRUFBRTBCLDJHQUEyR3pCLGVBQWVLLEVBQUVtQixJQUFJeEIsSUFBSSxnQkFBZ0JpQixLQUFLWixFQUFFeUIsSUFBSTlCLEVBQUVpQixHQUFHVixFQUFFTyxJQUFJSixFQUFFZSxLQUFLLENBQUMsQ0FBQ3pCLEVBQUUrQixNQUFLLENBQUVoQyxFQUFFQyxJQUFJQSxFQUFFZ0MsU0FBU2pDLEVBQUVpQyxXQUFXLE1BQU10QixFQUFFLFNBQVNYLEVBQUVDLEdBQUcsR0FBRyxJQUFJQSxFQUFFaUMsS0FBSyxPQUFPbEMsRUFBRSxJQUFJTSxFQUFFTixFQUFFbUMsV0FBV0MsV0FBVyxPQUFPLE1BQU0sSUFBSSxNQUFNNUIsRUFBRUcsS0FBS1YsRUFBRTZCLFVBQVV4QixFQUFFK0IsU0FBUzdCLElBQUlXLEVBQUUsb0JBQW9CbkIsRUFBRTBCLGVBQWVsQixpQkFBaUJGLEVBQUVBLEVBQUU4QixXQUFXNUIsRUFBRUcsR0FBRyxPQUFNLEVBQUcyQixNQUFNLElBQUloQyxLQUFLLENBQWhPLENBQWtPTixFQUFFdUMsU0FBU2pDLEdBQUcsSUFBSVUsRUFBRSxTQUFTZixHQUFHLElBQUlLLEVBQUVVLEVBQUUsTUFBTUUsRUFBRSxRQUFRRixHQUFHVixFQUFFa0MsRUFBRUMsb0JBQW9CQyxxQkFBZ0IsSUFBUzFCLE9BQUUsRUFBT0EsRUFBRTJCLEtBQUtyQyxFQUFFTixFQUFFMEIsS0FBS2xCLEdBQUdXLEVBQUVSLEVBQUVpQyxNQUFNQyxLQUFLNUMsR0FBRyxPQUFPLE1BQU1pQixHQUFHQSxJQUFJQyxDQUFDLEVBQUUsSUFBSSxJQUFJYixFQUFFTCxFQUFFNkMsT0FBTyxFQUFFeEMsR0FBRyxFQUFFQSxJQUFJLENBQUMsTUFBTUUsRUFBRVAsRUFBRUssR0FBR0ssRUFBRUssRUFBRUEsRUFBRSxTQUFTZixHQUFHLElBQUlLLEVBQUVVLEVBQUUsTUFBTUUsRUFBRSxRQUFRRixHQUFHVixFQUFFa0MsRUFBRUMsb0JBQW9CTSxpQkFBWSxJQUFTL0IsT0FBRSxFQUFPQSxFQUFFMkIsS0FBS3JDLEVBQUVOLEVBQUUwQixLQUFLbEIsRUFBRXdDLEtBQUs3QixFQUFFWCxFQUFFeUMsS0FBS0wsTUFBTUMsS0FBSyxDQUFDNUMsRUFBRUQsSUFBSSxHQUFHLElBQUlrRCxVQUFVSixTQUFTckMsTUFBTUMsUUFBUVQsR0FBRyxNQUFNLElBQUlFLE1BQU0sT0FBT0ssRUFBRXdDLHVFQUF1RWhELEtBQUssT0FBT1csRUFBRWdDLEtBQUtFLEtBQUs3QyxFQUFDLElBQUssT0FBTyxNQUFNa0IsR0FBR0EsSUFBSUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDUyxNQUFNM0IsRUFBRTRCLFFBQVF2QixFQUFFNkMsZUFBZTNDLEVBQUU0QyxNQUFNcEMsRUFBRXFDLE1BQU0xQyxFQUFFLENBQUMsU0FBUzJDLEVBQUV0RCxFQUFFQyxHQUFFLEdBQUksSUFBSVUsRUFBRUssRUFBRVMsSUFBSXpCLEdBQUcsR0FBR1csRUFBRVYsSUFBSVUsRUFBRTRDLFlBQVlsQyxFQUFFVixRQUFRLENBQUMsSUFBSVYsRUFBRXVELE9BQU8sTUFBTXRDLEVBQUVsQixFQUFFeUQsTUFBTSxLQUFLLElBQUksSUFBSW5ELEVBQUUsRUFBRUEsRUFBRVksRUFBRTRCLE9BQU8sRUFBRXhDLElBQUksR0FBR0wsRUFBRUEsRUFBRWlCLEVBQUVaLEtBQUtFLEVBQUVQLEdBQUcsTUFBTSxJQUFJRSxNQUFNLG9CQUFvQkgsOEJBQThCa0IsRUFBRXdDLE1BQU0sRUFBRXBELEVBQUUsR0FBR3FELEtBQUssc0JBQXNCLE1BQU14QyxFQUFFbEIsRUFBRWlCLEVBQUVBLEVBQUU0QixPQUFPLElBQUksR0FBRyxtQkFBbUIzQixFQUFFLE1BQU0sSUFBSWhCLE1BQU0sb0JBQW9CSCw2QkFBNkIsTUFBTXNELEVBQUUsU0FBU3RELEdBQUcsSUFBSUMsR0FBRyxFQUFFLElBQUksTUFBTU8sS0FBS0YsRUFBRXNELE9BQU81RCxHQUFHLENBQUMsSUFBSUEsRUFBRSxLQUFLQyxFQUFFTyxHQUFHLElBQUksSUFBSVAsRUFBRSxFQUFFQSxFQUFFLEVBQUVBLElBQUlELEVBQUUsRUFBRUEsR0FBRyxVQUFVQSxJQUFJLEVBQUVBLElBQUksRUFBRUMsRUFBRUEsSUFBSSxFQUFFRCxDQUFDLENBQUMsUUFBV0MsSUFBSyxHQUFHa0MsU0FBUyxJQUFJMEIsU0FBUyxFQUFFLEtBQUtDLGFBQWEsQ0FBekwsQ0FBMkwzQyxFQUFFZ0IsV0FBV0MsV0FBVyxPQUFPLE9BQU8yQixFQUFFLENBQUNyQyxLQUFLMUIsRUFBRXVDLFNBQVNwQixFQUFFNkMsYUFBYVYsR0FBRzNDLEVBQUVzRCxPQUFPQyxPQUFPRCxPQUFPQyxPQUFPLENBQUMsRUFBRUgsR0FBRyxDQUFDUixZQUFZbEMsRUFBRTBDLEdBQUdJLE9BQU8sT0FBT0MsUUFBUW5FLEVBQUVvRSxnQkFBZ0JuRCxFQUFFQSxFQUFFNEIsT0FBTyxLQUFLbkMsRUFBRXdELE9BQU8sU0FBU25FLEdBQUcsT0FBTyxZQUFZQyxHQUFHLE9BQU9ELEVBQUV1RCxZQUFZSCxNQUFNUixNQUFNQyxLQUFLLENBQUM1QyxHQUFHLENBQUMsQ0FBN0UsQ0FBK0VVLEdBQUdLLEVBQUVlLElBQUkvQixFQUFFVyxHQUFHVixFQUFFVSxFQUFFMEQsaUJBQWlCMUQsRUFBRXdELE1BQU0sQ0FBQyxPQUFPeEQsQ0FBQyxDQUFDLFNBQVNvRCxJQUFJLElBQUksTUFBTS9ELEtBQUtnQixFQUFFTyxTQUFTdkIsRUFBRXVELFlBQVlsQyxFQUFFckIsRUFBRSxDQUFDLFNBQVNzRSxJQUFJLE1BQU10RSxFQUFFLElBQUlpQixJQUFJLElBQUksTUFBTWhCLEVBQUVLLEtBQUtVLEVBQUVoQixFQUFFK0IsSUFBSTlCLEVBQUUsQ0FBQ3lCLEtBQUt6QixFQUFFc0MsU0FBU2pDLEVBQUVpQyxTQUFTeUIsYUFBYTFELEVBQUUwRCxhQUFhTyxjQUFjakUsRUFBRTZELE9BQU9LLGtCQUFrQmxFLEVBQUU4RCxRQUFROUQsRUFBRStELGlCQUFpQkksYUFBYTlELEVBQUVMLEVBQUVpRCxZQUFZM0IsTUFBTThDLEtBQUsxRSxHQUFHQSxFQUFFZ0QsT0FBTzJCLGNBQWNsRSxNQUFNbUUsS0FBS3RFLEVBQUVpRCxZQUFZSixrQkFBa0IsT0FBT25ELENBQUMsQ0FBQyxNQUFNc0IsRUFBRSxJQUFJTCxJQUFJLFNBQVM0RCxFQUFFN0UsR0FBR3NCLEVBQUVHLElBQUl6QixFQUFFMEIsUUFBUTFCLEdBQUdDLEVBQUUseUJBQXlCRCxFQUFFMEIseUJBQXlCSixFQUFFd0QsT0FBTzlFLEVBQUUwQixNQUFNMUIsRUFBRStFLFFBQU8sRUFBR2hCLEdBQUcsQ0FBQyxTQUFTaUIsRUFBRWhGLEVBQUVNLEdBQUdOLEdBQUcsaUJBQWlCQSxHQUFHQyxFQUFFLDREQUE0REQsR0FBRyxpQkFBaUJBLEVBQUUwQixNQUFNMUIsRUFBRTBCLE1BQU16QixFQUFFLDRFQUE0RUQsRUFBRTBCLE1BQU0sSUFBSWYsRUFBRSxJQUFJWCxFQUFFMEIsUUFBUSxpQkFBaUIxQixFQUFFaUYsVUFBVWpGLEVBQUVpRixVQUFVaEYsRUFBRSwwQkFBMEJVLDJEQUEyRFgsRUFBRWlGLFlBQVl0RSxFQUFFLElBQUlYLEVBQUVpRixhQUFhakYsRUFBRTBCLFNBQVMsaUJBQWlCMUIsRUFBRWtGLFNBQVNqRixFQUFFLDBCQUEwQlUsZ0RBQWdEWCxFQUFFa0YsV0FBV2xGLEVBQUVtRixhQUFhbkYsRUFBRW1GLGdCQUFXLFFBQVEsSUFBU25GLEVBQUVtRixZQUFZLGlCQUFpQm5GLEVBQUVtRixZQUFZbEYsRUFBRSwwQkFBMEJVLGdFQUFnRVgsRUFBRWtGLFdBQVcsTUFBTTVFLElBQUlBLEVBQUUsQ0FBQyxHQUFHQSxHQUFHLGlCQUFpQkEsR0FBR0wsRUFBRSwwQkFBMEJVLDZEQUE2REwsS0FBSyxNQUFNVSxHQUFFLElBQUtWLEVBQUU4RSxhQUFhbEUsRUFBRUksRUFBRUcsSUFBSXpCLEVBQUUwQixNQUFNUixJQUFJQSxFQUFFa0UsY0FBY3BFLEdBQUdmLEVBQUUsd0JBQXdCVSxpR0FBaUdrRSxFQUFFM0QsSUFBSSxNQUFNQyxFQUFFbkIsSUFBSSxJQUFJQyxFQUFFK0UsRUFBRXhELFNBQVNDLElBQUl6QixFQUFFMEIsTUFBTSxPQUFPekIsSUFBSUEsRUFBRSxDQUFDMkIsTUFBTSxHQUFHQyxRQUFRLElBQUlaLEtBQUsrRCxFQUFFeEQsU0FBU08sSUFBSS9CLEVBQUUwQixLQUFLekIsSUFBSUEsR0FBR29CLEVBQUUsQ0FBQ3JCLEVBQUVNLElBQUksSUFBSUUsS0FBSyxJQUFJUSxFQUFFRSxFQUFFLE1BQU1DLEVBQUUsUUFBUUQsR0FBR0YsRUFBRXdCLEVBQUVDLG9CQUFvQjRDLHdCQUFtQixJQUFTbkUsT0FBRSxFQUFPQSxFQUFFeUIsS0FBSzNCLEVBQUVoQixFQUFFZ0YsRUFBRXRELE1BQU1zRCxFQUFFRCxRQUFROUUsRUFBRSxPQUFPVSx5REFBeUQsTUFBTVUsRUFBRWYsS0FBS0UsR0FBRyxPQUFPLE1BQU1XLEdBQUdBLElBQUlFLEdBQUdpRCxFQUFFLENBQUNnQixPQUFPakUsRUFBRSxVQUFTLElBQUt3RCxFQUFFRyxLQUFLTyxhQUFhbEUsRUFBRSxnQkFBZSxDQUFFckIsRUFBRU0sRUFBRUUsS0FBSyxpQkFBaUJSLEdBQUdBLEdBQUdDLEVBQUUsT0FBT1UsMkVBQTJFWCxLQUFLLE1BQU1nQixFQUFFc0MsRUFBRXRELEdBQUdrQixFQUFFQyxFQUFFSCxHQUFHLGlCQUFpQlYsR0FBR0wsRUFBRSxPQUFPVSw4QkFBOEJYLDRDQUE0Q00sS0FBSyxtQkFBbUJFLEdBQUdQLEVBQUUsT0FBT1UsOEJBQThCWCwwQ0FBMENRLEtBQUssTUFBTWEsRUFBRSxDQUFDMkIsSUFBSWdDLEVBQUV0RCxLQUFLTyxTQUFTM0IsRUFBRTJDLEtBQUt6QyxHQUFHLE9BQU9VLEVBQUVVLE1BQU1ELEtBQUtOLEdBQUcwQyxJQUFJLEtBQUssTUFBTS9ELEVBQUVrQixFQUFFVSxNQUFNNEQsUUFBUW5FLEdBQUdyQixHQUFHLElBQUlrQixFQUFFVSxNQUFNNkQsT0FBT3pGLEVBQUUsR0FBRytELElBQUcsQ0FBRyxJQUFHMkIsY0FBY3JFLEVBQUUsaUJBQWdCLENBQUVyQixFQUFFTSxLQUFLLGlCQUFpQk4sR0FBR0EsR0FBR0MsRUFBRSxPQUFPVSwyRUFBMkVYLEtBQUssTUFBTWdCLEVBQUVzQyxFQUFFdEQsR0FBR2tCLEVBQUVDLEVBQUVILEdBQUdSLEVBQUVGLElBQUlMLEVBQUUsT0FBT1UsK0JBQStCWCwyQ0FBMkNNLEtBQUssSUFBSSxNQUFNRSxFQUFFUSxLQUFLaUQsT0FBT25DLFFBQVF4QixHQUFHLGlCQUFpQlUsRUFBRUUsRUFBRVcsUUFBUUUsSUFBSXZCLEVBQUVRLEdBQUcsT0FBT0EsRUFBRUUsRUFBRVcsUUFBUWlELE9BQU90RSxHQUFHUCxFQUFFLE9BQU9VLCtCQUErQlgsZ0NBQWdDUSxNQUFNdUQsR0FBSSxJQUFHNEIsY0FBY3RFLEVBQUUsaUJBQWlCckIsSUFBSSxpQkFBaUJBLEdBQUdBLEdBQUdDLEVBQUUsT0FBT1UsMkVBQTJFWCxLQUFLLE1BQU1NLEVBQUVnRCxFQUFFdEQsR0FBR21CLEVBQUViLEdBQUd1QixRQUFRK0QsUUFBUTdCLEdBQUksSUFBRzhCLGFBQWF4RSxFQUFFLGdCQUFlLENBQUVyQixFQUFFTSxFQUFFRSxLQUFLLGlCQUFpQlIsR0FBR0EsR0FBR0MsRUFBRSxPQUFPVSwwRUFBMEVYLEtBQUssTUFBTWdCLEVBQUVzQyxFQUFFdEQsR0FBRyxPQUFPUyxNQUFNQyxRQUFRSixJQUFJTCxFQUFFLE9BQU9VLGdFQUFnRUwsS0FBS1UsRUFBRXVCLFNBQVNLLE1BQU0sTUFBTXBDLEVBQUVBLEVBQUVzRixXQUFXeEYsRUFBRyxJQUFHeUYsZ0JBQWdCMUUsRUFBRSxtQkFBbUJyQixJQUFJLGlCQUFpQkEsR0FBR0EsR0FBR0MsRUFBRSxPQUFPVSxtRUFBbUVYLEtBQVlzRCxFQUFFdEQsR0FBR2dFLGlCQUFpQmdCLEVBQUUsQ0FBQ3RELEtBQUsxQixFQUFFMEIsS0FBS3VELFNBQVNqRixFQUFFaUYsU0FBU0MsUUFBUWxGLEVBQUVrRixRQUFRQyxXQUFXbkYsRUFBRW1GLFdBQVdDLGFBQWFwRSxFQUFFZ0YsSUFBSTFCLEVBQUVTLFFBQU8sRUFBR3ZELFNBQVMsSUFBSVAsS0FBSyxPQUFPSyxFQUFFUyxJQUFJL0IsRUFBRTBCLEtBQUtzRCxHQUFHZixPQUFPZ0MsT0FBTzNCLEVBQUUsQ0FBQyxTQUFTNEIsSUFBSSxNQUFNbEcsRUFBRSxHQUFHLElBQUksTUFBTUMsS0FBS3FCLEVBQUVDLFNBQVN2QixFQUFFMkIsS0FBSyxDQUFDRCxLQUFLekIsRUFBRXlCLEtBQUt1RCxTQUFTaEYsRUFBRWdGLFNBQVNDLFFBQVFqRixFQUFFaUYsUUFBUUMsV0FBV2xGLEVBQUVrRixhQUFhLE9BQU9uRixDQUFDLENBQUMsSUFBSXdDLEVBQUUsTUFBTTJELE9BQUUsSUFBUzNDLE9BQU80QyxTQUFTNUMsT0FBTzRDLFNBQVMsV0FBVyxNQUFNbkcsRUFBRSxDQUFDaUYsUUFBUWxGLEVBQUVxRyxXQUFXLEVBQUVDLFlBQVl0QixFQUFFdUIsWUFBWUwsRUFBRU0sZ0JBQWdCbEMsRUFBRTdCLG1CQUFtQndCLE9BQU93QyxLQUFLLENBQUNwQixpQkFBaUIsS0FBS3RDLFVBQVUsS0FBS0wsY0FBYyxRQUFRLE9BQU9GLEVBQUV2QyxFQUFFZ0UsT0FBT2dDLE9BQU9oRyxFQUFFLENBQS9NLElBQW9OTyxFQUFFZ0QsT0FBTzRDLFdBQVduRyxFQUFFLCtDQUErQyxJQUFJdUQsT0FBTzRDLFNBQVNDLFlBQVlwRyxFQUFFLHlFQUF5RXVELE9BQU80QyxTQUFTbEIsYUFBYTFCLE9BQU80QyxTQUFTbEIsVUFBVWxGLEdBQUdFLE1BQU0sMkVBQTJFc0QsT0FBTzRDLFNBQVNsQixnSUFBZ0kxQixPQUFPNEMsVUFBOENuQyxPQUFPeUMsZUFBZUMsRUFBUSxhQUFhLENBQUNDLE9BQU0sSUFBS0QsRUFBQSxRQUFnQlIsQ0FBSSxDQUF0cE8sdS9CQ0diLE1BQU1VLEVBQWlCLHFEQUNqQkMsRUFBa0Isa0RBRXhCLFNBQVNDLEVBQU1DLFdBR1gsT0FBTy9DLE9BQU9nRCxLQUFLRCxHQUFLbEUsT0FBUyxHQUM1Qm9FLGlCQUFpQkYsS0FBU0csbUJBQW1CQyxLQUM1QyxFQUFBQyxTQUFTaEYsU0FBUzJFLEVBQUlNLFFBQ1MsUUFBOUIsRUFBUyxRQUFULEVBQUFOLGFBQUcsRUFBSEEsRUFBS08sWUFBSSxlQUFFQywyQkFBbUIsZUFBRW5GLFNBQVMsUUFDcEQsQ0FLQSxTQUFTb0YsRUFBWUMsRUFBdUJDLFFBRXBDRCxFQUFVRSxlQUFpQkQsT0FBT0MsY0FFbEMsSUFBQUMsWUFDSWhCLE9BQ0FpQixFQUNBLENBQUMsQ0FBRUMsZ0JBQWlCSixPQUFPQyxpQkFLL0IsSUFBQUMsWUFDSWYsT0FDQWdCLEVBQ0EsQ0FBQyxDQUFFQyxnQkFBaUJKLE9BQU9DLGNBQ3ZCLENBQUVJLGdCQUFpQk4sRUFBVUUsZUFHN0MsQ0FLQSxTQUFTSyxVQUVMLEdBQUlDLGFBQWFQLE9BQVEsZ0JBQ3BCUSxvQ0FBb0NSLE9BQVEsZUFFN0MsT0FHSixNQUFNUyxFQUFXQyxLQUFLQyxNQUFNQyxTQUFTQyxxQkFBcUJiLE9BQU9jLElBQUksRUFBQUMsWUFBWUMsU0FBU1AsVUFBWSxLQUFPLE9BQVMsQ0FBQyxFQUN2SCxHQUFJckIsRUFBTXFCLEdBRU5RLGNBQ0lqQixPQUNBUyxFQUFTZCxLQUNULGNBQ0FjLEVBQVNTLE1BQU1wRixNQUFNLEtBQ3JCLEVBQ0FrRSxPQUFPQyxhQUNQUSxHQUNBLE9BSVIsQ0FDSSxNQUFNVSxFQUE2QyxRQUFqQyxFQUFBWixhQUFhUCxPQUFRLG9CQUFZLGVBQUVrQixNQUNyREQsY0FDSWpCLE9BQ0EsU0FDQSxjQUNBLENBQUNtQixFQUFVLEdBQUksVUFBV0EsRUFBVUEsRUFBVWhHLE9BQVMsSUFDdkQsRUFDQTZFLE9BQU9DLGtCQUNQRSxHQUNBLEVBRVIsQ0FDQWlCLDRCQUE0QnBCLE9BQVEsY0FDeEMsQ0FRQSxTQUFTcUIsRUFBUXRCLEVBQXVCQyxRQUVwQyxNQUFNc0IsRUFBa0JmLGFBQWFSLEVBQVcsZ0JBQzNDUyxvQ0FBb0NULEVBQVcsZ0JBQzlDQSxFQUFVRSxlQUFpQkQsT0FBT0MsZUFBaUJELE9BQU91QixjQUVoRSxPQUFJeEIsRUFBVUUsZUFBaUJELE9BQU9DLGFBRTdCdUIsMkJBQTJCeEIsT0FBUUQsR0FLbkNBLEVBQVVlLElBS1hRLElBRUEsSUFBQUcsaUJBQWdCLGtCQUFrQjFCLEVBQVUyQixVQUFZM0IsRUFBVUgsZ0JBQWlCLE1BQzVFLElBRVhFLEVBQVlDLElBQ0wsS0FUSCxJQUFBMEIsaUJBQWdCLEdBQUcxQixFQUFVMkIsVUFBWTNCLEVBQVVILDZDQUE4QyxNQUMxRixLQU5QLElBQUErQixjQUFhLDZCQUE4QixNQUNwQyxHQWdCWEwsSUFFQSxJQUFBRyxpQkFBZ0IsMkJBQTRCLE1BQ3JDLElBR1huQixJQUNBUixFQUFZQyxJQUNMLEVBQ1gsQ0FFTyxTQUFTNkIsSUFFWkMsZUFBZSxDQUFDLENBQ1pDLElBQUssTUFDTEMsWUFBYSxvRkFDYkMsT0FBUSxDQUFDQyxFQUFPQyxFQUFLQyxXQUdqQixNQUFNQyxHQUFtQyxRQUEzQixtQkFBaUJDLEtBQUtILFVBQUssUUFBSSxDQUFDLEdBQUksR0FBSSxLQUFLLEdBQzNELEdBQUlFLEVBQ0osQ0FDSSxNQUFNRSxHQUFPLElBQUFDLHFCQUFvQkgsR0FDakMsR0FBSUUsRUFHQSxZQURBakIsRUFBUWlCLEdBTVosT0FBSWxELEVBRFFzQixLQUFLQyxNQUFNQyxTQUFTQyxxQkFBcUJ1QixJQUFRLE9BQVMsQ0FBQyxJQUduRXBDLE9BQU9jLElBQUksRUFBQUMsWUFBWUMsU0FBU1AsU0FBVzJCLEdBQzNDLElBQUFJLGNBQVksUUFDWixJQUFBZixpQkFBZ0IsbUJBSXBCLElBQUFBLGlCQUFnQiwwQkFFcEIsQ0FFQUosRUFBUXJCLE9BQU8sR0FFcEIsQ0FDQzhCLElBQUssVUFDTEMsWUFBYSx3REFDYkMsT0FBUSxpQkFHSixNQUFNM0MsRUFBTWtCLGFBQWFQLE9BQVEsZUFDVCxZQUFwQlgsYUFBRyxFQUFIQSxFQUFLb0QsTUFBTTdDLFFBTTJCLEtBQVosUUFBeEIsRUFBWSxRQUFaLEVBQUFQLEVBQUlxRCxnQkFBUSxlQUFFQyxrQkFBVSxlQUFFQyxRQUFtRCxLQUFaLFFBQXhCLEVBQVksUUFBWixFQUFBdkQsRUFBSXFELGdCQUFRLGVBQUVDLGtCQUFVLGVBQUVDLFNBS3pFdkQsRUFBSXFELFNBQVNDLFdBQVdDLE1BQVFDLFFBQVF4RCxFQUFJcUQsU0FBU0MsV0FBV0MsT0FDaEVFLHdCQUF3QjlDLFFBQ2MsSUFBbENYLEVBQUlxRCxTQUFTQyxXQUFXQyxPQUV4QixJQUFBMUMsWUFDSSwyREFDQUMsRUFDQSxDQUFDLENBQUVDLGdCQUFpQkosT0FBT0MsaUJBSy9CLElBQUFDLFlBQ0kseUVBQ0FDLEVBQ0EsQ0FBQyxDQUFFQyxnQkFBaUJKLE9BQU9DLGtCQXhCL0IsSUFBQXdCLGlCQUFnQiw0Q0FBNkMsSUEwQmpFLE1BSVIsSUFBQXNCLGNBQWEsS0FBTSxrQkFBbUIsS0FBSyxDQUFDQyxFQUFNQyxXQUU5QyxNQUFNQyxFQUFPRixFQUFLLEdBWWxCLE1BWGtCLGFBQWRFLEVBQUtDLE1BQ2EsZUFBakJELEVBQUtFLFVBQ0wsSUFBQUMsZ0NBQStCSCxFQUFNLHFCQUF1QmxELE9BQU9DLGVBQ3BELFFBQWYsRUFBQWlELEVBQUtJLGtCQUFVLGVBQUVDLE1BQ2ZDLEdBQWdDLHlEQUF0QkEsYUFBSSxFQUFKQSxFQUFjMUIsT0FDbkIwQixhQUFJLEVBQUpBLEVBQWNDLFFBQVN0RSxNQUkvQm1CLElBRUcyQyxFQUFLRCxFQUFLLEdBRXpCLHVNQ3BOQSxNQUFNOUQsRUFBaUIsNkZBQ2pCQyxFQUFrQiwyRkFDbEJ1RSxFQUFhLHVCQUVuQixTQUFTQyxFQUFPQyxHQUdaLE9BQU90SCxPQUFPZ0QsS0FBS3NFLEdBQU16SSxPQUFTLEdBQzdCb0UsaUJBQWlCcUUsS0FBVXBFLG1CQUFtQkMsSUFDaEMsWUFBZG1FLGFBQUksRUFBSkEsRUFBTWpFLEtBQ2YsQ0FLQSxTQUFTa0UsRUFBYTlELEVBQXVCQyxRQUVyQ0QsRUFBVUUsZUFBaUJELE9BQU9DLGNBRWxDLElBQUFDLFlBQ0loQixPQUNBaUIsRUFDQSxDQUFDLENBQUVDLGdCQUFpQkosT0FBT0MsaUJBSy9CLElBQUFDLFlBQ0lmLE9BQ0FnQixFQUNBLENBQUMsQ0FBRUMsZ0JBQWlCSixPQUFPQyxjQUN2QixDQUFFSSxnQkFBaUJOLEVBQVVFLGVBRzdDLENBS0EsU0FBUzZELFVBRUwsR0FBSXZELGFBQWFQLE9BQVEsZ0JBQ3BCUSxvQ0FBb0NSLE9BQVEsZUFFN0MsT0FHSixNQUFNK0QsRUFBWXJELEtBQUtDLE1BQU1DLFNBQVNDLHFCQUFxQmIsT0FBT2MsSUFBSSxFQUFBQyxZQUFZQyxTQUFTK0MsV0FBYSxLQUFPLE9BQVMsQ0FBQyxFQUN6SCxHQUFJSixFQUFPSSxHQUVOOUMsY0FDR2pCLE9BQ0ErRCxFQUFVcEUsS0FDVixjQUNBb0UsRUFBVTdDLE1BQU1wRixNQUFNLEtBQ3RCLEVBQ0FrRSxPQUFPQyxhQUNQOEQsR0FDQSxHQUNNckIsU0FBV3FCLEVBQVVDLGlCQUduQyxDQUNJLE1BQU03QyxFQUE2QyxRQUFqQyxFQUFBWixhQUFhUCxPQUFRLG9CQUFZLGVBQUVrQixNQUNwREQsY0FDR2pCLE9BQ0EsVUFDQSxjQUNBLENBQUNtQixFQUFVLEdBQUksV0FDZixFQUNBbkIsT0FBT0Msa0JBQ1BFLEdBQ0EsR0FDTXVDLFNBQVcsQ0FDakJlLE1BQVF6RCxPQUFPMEIsVUFBWWdDLEVBQVdPLEtBQUtqRSxPQUFPMEIsVUFBYTFCLE9BQU8wQixTQUFXZ0MsRUFBV08sS0FBS2pFLE9BQU9KLE1BQVFJLE9BQU9KLEtBQU8sSUFBSXNFLFVBQVUsRUFBRyxJQUV2SixDQUNBcEIsd0JBQXdCOUMsT0FDNUIsQ0FRQSxTQUFTbUUsRUFBU3BFLEVBQXVCQyxRQUVyQyxNQUFNb0UsRUFBbUI3RCxhQUFhUixFQUFXLGdCQUM1Q1Msb0NBQW9DVCxFQUFXLGlCQUM5Q0MsT0FBT3VCLGNBRWIsT0FBSXhCLEVBQVVFLGVBQWlCRCxPQUFPQyxhQUU3QnVCLDJCQUEyQnhCLE9BQVFELEdBS25DQSxFQUFVZSxJQUtYc0QsSUFFQSxJQUFBM0MsaUJBQWdCLGtCQUFrQjFCLEVBQVUyQixVQUFZM0IsRUFBVUgsY0FBZSxNQUMxRSxJQUVYaUUsRUFBYTlELElBQ04sS0FUSCxJQUFBMEIsaUJBQWdCLEdBQUcxQixFQUFVMkIsVUFBWTNCLEVBQVVILDhDQUErQyxNQUMzRixLQU5QLElBQUErQixjQUFhLDZCQUE4QixNQUNwQyxHQWdCWHlDLElBRUEsSUFBQTNDLGlCQUFnQixzQkFBdUIsTUFDaEMsSUFHWHFDLElBQ0FELEVBQWE5RCxJQUNOLEVBQ1gsQ0FFTyxTQUFTc0UsSUFFWnhDLGVBQWUsQ0FBQyxDQUNaQyxJQUFLLE9BQ0xDLFlBQWEsbUJBQ2JDLE9BQVEsQ0FBQ0MsRUFBT0MsRUFBS0MsV0FHakIsTUFBTUMsR0FBbUMsUUFBM0IsbUJBQWlCQyxLQUFLSCxVQUFLLFFBQUksQ0FBQyxHQUFJLEdBQUksS0FBSyxHQUMzRCxHQUFJRSxFQUNKLENBQ0ksTUFBTUUsR0FBTyxJQUFBQyxxQkFBb0JILEdBQ2pDLEdBQUlFLEVBR0EsWUFEQTZCLEVBQVM3QixHQU1iLE9BQUlxQixFQURRakQsS0FBS0MsTUFBTUMsU0FBU0MscUJBQXFCdUIsSUFBUSxPQUFTLENBQUMsSUFHbkVwQyxPQUFPYyxJQUFJLEVBQUFDLFlBQVlDLFNBQVMrQyxVQUFZM0IsR0FDNUMsSUFBQUksY0FBWSxRQUNaLElBQUFmLGlCQUFnQixvQkFJcEIsSUFBQUEsaUJBQWdCLDBCQUVwQixDQUVBMEMsRUFBU25FLE9BQU8sTUFJeEIsSUFBQStDLGNBQWEsS0FBTSxrQkFBbUIsS0FBSyxDQUFDQyxFQUFNQyxXQUU5QyxNQUFNQyxFQUFPRixFQUFLLEdBWWxCLE1BWGtCLGFBQWRFLEVBQUtDLE1BQ2EsZUFBakJELEVBQUtFLFVBQ0wsSUFBQUMsZ0NBQStCSCxFQUFNLHFCQUF1QmxELE9BQU9DLGVBQ3BELFFBQWYsRUFBQWlELEVBQUtJLGtCQUFVLGVBQUVDLE1BQ2ZDLEdBQWdDLHlEQUF0QkEsYUFBSSxFQUFKQSxFQUFjMUIsT0FDbkIwQixhQUFJLEVBQUpBLEVBQWNDLFFBQVN0RSxNQUkvQjJFLElBRUdiLEVBQUtELEVBQUssR0FFekIscUtDakxPLFNBQVNzQixLQUVaLElBQUExQyxRQUNBLElBQUF5QyxPQUVKLGd4RUNJQSxNQUFNRSxFQUNOLENBQ0lDLCtDQUNBQyxvQ0FHRyxTQUFTQyxFQUFjQyxTQUUxQixNQUFNQyxFQUFvRCxRQUFuQyxFQUFBTCxhQUFZLEVBQVpBLEVBQWVNLDRCQUFvQixlQUFHRixHQUM3RCxPQUFNQyxHQUFxQyxLQUFuQkEsRUFFYkEsRUFFSkQsQ0FDWCxrMEtDdkJZNUQsMkZBQVosU0FBWUEsR0FFUixvQkFDQSx3QkFDQSwwQkFDQSxvQkFDQSxzQkFDQSwwQkFDQSxnQ0FDQSw4Q0FDQSxzQkFDQSxvQkFDQSxnQ0FDQSxtQkFDSCxDQWRELENBQVlBLElBQUFBLEVBQVcsS0FnQmhCLE1BQU0rRCxFQUE4RCxDQUN2RSxDQUFDL0QsRUFBWWdFLFVBQVUsRUFDdkIsQ0FBQ2hFLEVBQVlpRSxZQUFZLEVBQ3pCLENBQUNqRSxFQUFZa0UsYUFBYSxFQUMxQixDQUFDbEUsRUFBWW1FLFVBQVUsRUFDdkIsQ0FBQ25FLEVBQVlvRSxXQUFXLEVBQ3hCLENBQUNwRSxFQUFZcUUsYUFBYSxFQUMxQixDQUFDckUsRUFBWXNFLGdCQUFnQixFQUM3QixDQUFDdEUsRUFBWXVFLHVCQUF1QixFQUNwQyxDQUFDdkUsRUFBWXdFLFdBQVcsRUFDeEIsQ0FBQ3hFLEVBQVl5RSxVQUFVLEVBQ3ZCLENBQUN6RSxFQUFZMEUsZ0JBQWdCLEVBQzdCLENBQUMxRSxFQUFZQyxVQUFVLEdBU3BCLFNBQVMwRSxFQUFlQyxTQUUzQixPQUF3QyxRQUFqQyxFQUFBYixFQUFxQmEsVUFBWSxRQUM1QyxDQUVPLE1BQWVDLEVBRWxCLFNBQUlDLEdBRUEsT0FBTzlFLEVBQVlnRSxPQUN2QixDQUVBLGNBQUlFLEdBRUEsTUFBTyxFQUNYLENBRUEsWUFBSUUsR0FFQSxNQUFPLEVBQ1gsQ0FFQSxpQkFBSVcsR0FFQSxNQUFPLEVBQ1gsQ0FFQSxJQUFBQyxJQUVJLElBQUFDLGtCQUFpQjlLLEtBQUsrSixhQUN0QixJQUFBZ0Isc0JBQXFCL0ssS0FBSzRLLGNBQzlCLENBRUEsTUFBQUksSUFFSSxJQUFBQyxhQUFZakwsS0FBSzJLLFFBQ2pCLElBQUFPLGtCQUFpQmxMLEtBQUsrSixhQUN0QixJQUFBb0IseUJBQXdCbkwsS0FBSzJLLE1BQ2pDLENBRUEsTUFBQVMsR0FFSXBMLEtBQUtnTCxTQUNMaEwsS0FBSzZLLE1BQ1QsMlBDL0VKLE1BQU1RLEVBQWdDLENBQUNDLEVBQVFDLEVBQVFDLEVBQVFDLGFBR25DLFFBQXBCLEVBQUEzRyxPQUFPNEcscUJBQWEsZUFBRUMsV0FDakI3RyxPQUFPNEcsY0FBY0UscUJBQ3JCTixhQUFNLEVBQU5BLEVBQVF2RyxnQkFBaUJELE9BQU9DLGVBQ2hDd0csYUFBTSxFQUFOQSxFQUFReEcsZ0JBQWlCRCxPQUFPQyxjQUdyQyxFQUFBOEcsV0FBV0MsTUFDZixFQUdFQyxFQUFjQyxTQUFTQyxjQUFjLE9BQzNDRixFQUFZRyxJQUFNLEVBQUFDLE1BQU1DLElBQ3hCTCxFQUFZTSxNQUFNQyxTQUFXLFdBQzdCUCxFQUFZTSxNQUFNRSxNQUFRLEtBQzFCUixFQUFZTSxNQUFNRyxPQUFTLE1BQzNCVCxFQUFZTSxNQUFNSSxNQUFRLFFBQzFCVixFQUFZTSxNQUFNSyxPQUFTLFFBRXBCLE1BQU1DLFVBQXlCLEVBQUFqQyxPQUVsQyxTQUFJQyxHQUVBLE9BQU8sRUFBQTlFLFlBQVlrRSxVQUN2QixDQUVBLGNBQUlBLEdBRUEsTUFBTyxDQUNILENBQ0lyRixLQUFNLFlBQ05rSSxZQUFhLEdBQ2JDLGFBQWMsQ0FBQyxZQUNmQyxtQkFBb0IsQ0FDaEJwSSxLQUFNLGdCQUNObUksYUFBYyxDQUFDRSxFQUFTQyxFQUFPeEIseUJBRTNCLE9BQXdFLFFBQWpFLEVBQTRDLFFBQTVDLEVBQXNDLFFBQXRDLEVBQStCLFFBQS9CLEVBQUFuRyxhQUFhMkgsRUFBTyxtQkFBVyxlQUFFekYsYUFBSyxlQUFFN0MsWUFBSSxlQUFFQywyQkFBbUIsZUFBRW5GLFNBQVMsV0FDRixRQUE1RSxFQUF1RCxRQUF2RCxFQUFpRCxRQUFqRCxFQUEwQyxRQUExQyxFQUFBNkYsYUFBYTJILEVBQU8sOEJBQXNCLGVBQUV6RixhQUFLLGVBQUU3QyxZQUFJLGVBQUVDLDJCQUFtQixlQUFFbkYsU0FBUyxXQUN2RixDQUFLLEdBR2xCeU4sUUFBUyxDQUFDLENBQ05DLE1BQU8sV0FDUEMsTUFBTyxhQUNQQyxXQUFZLCtEQUNaQyxhQUFjLGlFQUVsQkMsTUFBTyxtRUFDUEMsVUFBV2xDLEdBQ1osQ0FDQzNHLEtBQU0sYUFDTmtJLFlBQWEsR0FDYkMsYUFBYyxDQUFDLFlBQ2ZDLG1CQUFvQixDQUNoQnBJLEtBQU0saUJBQ05tSSxhQUFjLENBQUNFLEVBQVNDLEVBQU94QixtQkFFM0IsT0FBNkYsUUFBdEYsRUFBb0UsUUFBcEUsRUFBK0MsUUFBL0MsRUFBeUMsUUFBekMsRUFBa0MsUUFBbEMsRUFBQW5HLGFBQWEySCxFQUFPLHNCQUFjLGVBQUV6RixhQUFLLGVBQUU3QyxZQUFJLGVBQUVDLDJCQUFtQixlQUFFbkYsU0FBUyxlQUFPLFFBQVMsR0FHOUd5TixRQUFTLENBQUMsQ0FDTkMsTUFBTyxjQUNQQyxNQUFPLGFBQ1BDLFdBQVksdUVBQ1pDLGFBQWMseUVBRWxCQyxNQUFPLDJEQUNQQyxVQUFXbEMsR0FDWixDQUNDM0csS0FBTSxhQUNOa0ksWUFBYSxHQUNiQyxhQUFjLENBQUMsWUFDZkMsbUJBQW9CLENBQ2hCcEksS0FBTSxjQUNObUksYUFBYyxDQUFDRSxFQUFTQyxFQUFPeEIsZUFFM0IsTUFBTWdDLEVBQWVuSSxhQUFhMkgsRUFBTyxzQkFDekMsTUFBb0Msc0JBQVYsUUFBbkIsRUFBQVEsYUFBWSxFQUFaQSxFQUFjakcsYUFBSyxlQUFFN0MsT0FBNEUsSUFBWCxRQUFsQyxFQUFzQixRQUF0QixFQUFBOEksYUFBWSxFQUFaQSxFQUFjaEcsZ0JBQVEsZUFBRUMsa0JBQVUsZUFBRUMsTUFBVSxHQUdqSHVGLFFBQVMsQ0FBQyxDQUNOQyxNQUFPLHFCQUNQQyxNQUFPLGFBQ1BDLFdBQVksc0VBQ1pDLGFBQWMsd0VBRWxCQyxNQUFPLHlFQUNQQyxVQUFXbEMsR0FDWixDQUNDM0csS0FBTSxhQUNOa0ksWUFBYSxHQUNiQyxhQUFjLENBQUMsWUFDZkMsbUJBQW9CLENBQ2hCcEksS0FBTSwwQkFDTm1JLGFBQWMsQ0FBQ0UsRUFBU0MsRUFBT3hCLG1CQUUzQixPQUFzRyxRQUEvRixFQUE2RSxRQUE3RSxFQUF3RCxRQUF4RCxFQUFrRCxRQUFsRCxFQUEyQyxRQUEzQyxFQUFBbkcsYUFBYTJILEVBQU8sK0JBQXVCLGVBQUV6RixhQUFLLGVBQUU3QyxZQUFJLGVBQUVDLDJCQUFtQixlQUFFbkYsU0FBUyxlQUFPLFFBQVMsR0FHdkh5TixRQUFTLENBQUMsQ0FDTkMsTUFBTyxjQUNQQyxNQUFPLGFBQ1BDLFdBQVksMEVBQ1pDLGFBQWMsNEVBRWxCQyxNQUFPLHNFQUNQQyxVQUFXbEMsR0FHdkIsQ0FFQSxJQUFBUixHQUVJNEMsTUFBTTVDLFFBR04sSUFBQWhELGNBQWE3SCxLQUFLMkssTUFBTyw0QkFBNkIsR0FBRyxDQUFDN0MsRUFBTUMsS0FFNUQsTUFBTzJGLEVBQVFDLEVBQVFYLEVBQU9FLEdBQVNwRixFQUN2QyxPQUFJMUcsT0FBT2dELEtBQUssRUFBQXdKLHVCQUF1QnBPLFNBQVNrTyxHQUVyQyxFQUFBRSxzQkFBc0JGLEdBQVFDLEVBQVFYLEVBQU9FLEdBRWpEbkYsRUFBS0QsRUFBSyxLQUlyQixJQUFBRCxjQUFhN0gsS0FBSzJLLE1BQU8sYUFBYyxHQUFHLENBQUM3QyxFQUFNQyxxQkFFN0MsTUFBTUMsRUFBT0YsRUFBSyxHQUNsQixHQUFnQixpQkFBWkEsRUFBSyxJQUF3QyxjQUFmRSxhQUFJLEVBQUpBLEVBQU1DLE1BRXBDLE9BQU9GLEVBQUtELEdBR2hCLE1BQU0rRixFQUE0RCxRQUE3QyxFQUFnQixRQUFoQixFQUFBN0YsYUFBSSxFQUFKQSxFQUFNSSxrQkFBVSxlQUFFMEYsTUFBTUMsR0FBTUEsRUFBRUMsc0JBQWEsZUFBRUEsYUFDcEUsSUFBSUgsYUFBWSxFQUFaQSxFQUFjSSxXQUFXLEVBQUFDLHlCQUVULFFBQWhCLEVBQUFsRyxhQUFJLEVBQUpBLEVBQU1JLGtCQUFVLFNBQUV0SixLQUFLLENBQ25COEgsSUFBSyw0Q0FBOENvQixFQUFLRSxRQUN4REssS0FBTTRGLHVCQUF1Qm5HLEVBQUtFLFdBR2xDOUcsT0FBT2dELEtBQUssRUFBQWdLLGtCQUFrQjVPLFNBQVNxTyxJQUMzQyxDQUNJLE1BQU1RLEVBQXdKLFFBQXhJLEVBQXVILFFBQXhILEVBQWlCLFFBQWhCLEVBQUFyRyxhQUFJLEVBQUpBLEVBQU1JLGtCQUFVLGVBQUUwRixNQUFNQyxHQUFPQSxFQUFxQzVJLHlCQUFtRCxlQUFFQSx1QkFBZSxTQUFLLEVBQzdKb0csRUFBMEIsT0FBakIrQyx3QkFBaUIsSUFBakJBLHVCQUFpQixFQUFqQkEsa0JBQW1CUixNQUFNeFAsR0FBTUEsRUFBRXlHLGVBQWlCc0osSUFDakUsRUFBQUQsaUJBQWlCUCxHQUFjdEMsRUFDbkMsQ0FHSixPQUFPeEQsRUFBS0QsRUFBSyxLQUlyQixJQUFBRCxjQUFhLEVBQUFoQyxZQUFZbUUsUUFBUyxrQkFBbUIsR0FBRyxDQUFDbEMsRUFBTUMsYUFFM0RBLEVBQUtELEdBQ0wsTUFBTUUsRUFBT0YsRUFBSyxHQUNsQixHQUNrQixhQUFkRSxFQUFLQyxLQUVULENBQ0ksTUFBTTRGLEdBQWUsSUFBQTFGLGdDQUErQkgsRUFBTSxnQkFDMUQsS0FBSzZGLGFBQVksRUFBWkEsRUFBY0ksV0FBVyxFQUFBQywwQkFDdkJMLEtBQWdCLEVBQUFVLGtCQUVuQixPQUVKLE1BQU1DLEVBQ21ELFFBRHRDLE9BQUFuSCxzQkFBb0IsSUFBQWMsZ0NBQStCSCxFQUFNLG1CQUN4RSxDQUFFakQsY0FBYyxFQUFNMEosVUFBVSxFQUFPL0osTUFBTSxXQUFRLGFBQUlPLEVBQ3ZEeUosRUFDbUQsUUFEdEMsT0FBQXJILHNCQUFvQixJQUFBYyxnQ0FBK0JILEVBQU0sbUJBQ3hFLENBQUVqRCxjQUFjLEVBQU0wSixVQUFVLEVBQU8vSixNQUFNLFdBQVEsYUFBSU8sRUFDdkRpSSxHQUFRLElBQUEvRSxnQ0FBK0JILEVBQU0sa0JBQ25ELEVBQUF1RyxpQkFBaUJWLEdBQWNXLEVBQVlFLEVBQVl4QixFQUFPbEYsRUFDbEUsTUFJSixJQUFBSCxjQUFhN0gsS0FBSzJLLE1BQU8sa0NBQW1DLEdBQUcsQ0FBQzdDLEVBQU1DLEtBRWxFLE1BQU04RixFQUFlL0YsRUFBSyxHQUFHNkcsU0FBU2pLLEtBQ2hDa0ssRUFBZ0J4TixPQUFPZ0QsS0FBSyxFQUFBeUssZ0JBQWdCclAsU0FBU3FPLEdBQ3ZEZSxJQUVLOUcsRUFBSyxLQUVOQSxFQUFLLEdBQUssQ0FBQyxHQUVmQSxFQUFLLEdBQUdnSCxNQUFRLEVBQUFELGVBQWVoQixJQUduQyxNQUFNa0IsRUFBZ0JoSCxFQUFLRCxHQU8zQixPQUxJOEcsR0FFQUcsRUFBY0MsWUFBWWpELEVBQVlrRCxhQUduQ0YsQ0FBYSxHQUU1QixDQUVBLE1BQUEvRCxHQUVJeUMsTUFBTXpDLFFBQ1Ysb0xDcE5KLE1BQU1rRSxFQUF3QyxDQUFDQyxFQUFlckssa0JBRTFELE9BQXFDLFFBQTlCLEVBQUssUUFBTCxFQUFBcUssRUFBRXZKLFdBQUcsZUFBRyxFQUFBQyxZQUFZaUUsa0JBQVUsUUFBSSxDQUFDLENBQUMsRUFHeEMsU0FBU3NGLEVBQWFELFdBRXpCLE9BQXVFLFFBQS9ELEVBQUssUUFBTCxFQUFBQSxFQUFFdkosV0FBRyxlQUFHLEVBQUFDLFlBQVlpRSxXQUFXdUYsZ0JBQWdDLFFBQzNFLENBS08sTUFBTUMsVUFBd0IsRUFBQTVFLE9BRWpDLFNBQUlDLEdBRUEsT0FBTyxFQUFBOUUsWUFBWWlFLFNBQ3ZCLENBRUEsWUFBSUcsR0FFQSxNQUFPLENBQ0gsQ0FDSXBMLEtBQU0saUJBQ04wUSxLQUFNLFdBQ05DLE9BQVEsS0FBTSxFQUNkekwsT0FBTyxFQUNQb0osTUFBTywrREFDVyxDQUNsQnRPLEtBQU0sU0FDTjBRLEtBQU0sT0FDTkMsT0FBUSxLQUFNLEVBQ2R6TCxNQUFPLEdBQ1BvSixNQUFPLHlDQUNQc0MsU0FBVSxLQUNWaEQsTUFBTyxLQUNPLENBQ2Q1TixLQUFNLGtCQUNOMFEsS0FBTSxXQUNOQyxPQUFRLEtBQU0sRUFDZHpMLE9BQU8sRUFDUG9KLE1BQU8sbUZBQ1csQ0FDbEJ0TyxLQUFNLG9CQUNOMFEsS0FBTSxXQUNOQyxPQUFRLEtBQU0sRUFDZHpMLE9BQU8sRUFDUG9KLE1BQU8scUVBQ1csQ0FDbEJ0TyxLQUFNLGdCQUNOMFEsS0FBTSxXQUNOQyxPQUFRLEtBQU0sRUFDZHpMLE9BQU8sRUFDUG9KLE1BQU8sOEVBQ1csQ0FDbEJ0TyxLQUFNLGtCQUNOMFEsS0FBTSxTQUNOQyxPQUFRLEtBQU0sRUFDZEUsUUFBUyxFQUFBQyx3QkFDVDVMLE1BQU8sWUFDUG9KLE1BQU8sOERBQ1B5QyxNQUFNLEdBQ1UsQ0FDaEIvUSxLQUFNLGNBQ04wUSxLQUFNLFdBQ05DLE9BQVNMLEdBQW1DLFNBQTdCRCxFQUFRQyxHQUFHVSxjQUMxQjlMLE9BQU8sRUFDUG9KLE1BQU8sNEVBQ1csQ0FDbEJ0TyxLQUFNLGdCQUNOMFEsS0FBTSxTQUNOQyxPQUFRLEtBQU0sRUFDZEUsUUFBUyxFQUFBQyx3QkFDVDVMLE1BQU8sWUFDUG9KLE1BQU8sNERBQ1B5QyxNQUFNLEVBQ04sS0FBQUUsQ0FBTVgsR0FFRkQsRUFBUUMsR0FBR1ksYUFBYyxDQUM3QixHQUNnQixDQUNoQmxSLEtBQU0sY0FDTjBRLEtBQU0sV0FDTkMsT0FBUSxLQUFNLEVBQ2R6TCxPQUFPLEVBQ1BvSixNQUFPLDRFQUNXLENBQ2xCdE8sS0FBTSxnQkFDTjBRLEtBQU0sU0FDTkMsT0FBUSxLQUFNLEVBQ2RFLFFBQVMsRUFBQUMsd0JBQ1Q1TCxNQUFPLFlBQ1BvSixNQUFPLDREQUNQeUMsTUFBTSxHQUNVLENBQ2hCL1EsS0FBTSxpQkFDTjBRLEtBQU0sV0FDTkMsT0FBUSxLQUFNLEVBQ2R6TCxPQUFPLEVBQ1BvSixNQUFPLGdGQUNXLENBQ2xCdE8sS0FBTSxtQkFDTjBRLEtBQU0sU0FDTkMsT0FBUSxLQUFNLEVBQ2RFLFFBQVMsRUFBQUMsd0JBQ1Q1TCxNQUFPLFlBQ1BvSixNQUFPLGdFQUNQeUMsTUFBTSxHQUNVLENBQ2hCL1EsS0FBTSwyQkFDTjBRLEtBQU0sV0FDTkMsT0FBUSxLQUFNLEVBQ2R6TCxPQUFPLEVBQ1BvSixNQUFPLDJGQUNXLENBQ2xCdE8sS0FBTSw2QkFDTjBRLEtBQU0sU0FDTkMsT0FBUSxLQUFNLEVBQ2RFLFFBQVMsRUFBQUMsd0JBQ1Q1TCxNQUFPLFlBQ1BvSixNQUFPLDJFQUNQeUMsTUFBTSxHQUdsQixxUEN4SEosTUFBTUksRUFDTixDQUNJLElBQUlDLE1BQU0sbUZBQ1YsSUFBSUEsTUFBTSxtRkFDVixJQUFJQSxNQUFNLG9GQU1SQyxFQUF3QyxDQUFDZixFQUFlckssa0JBRTFELE9BQW1DLFFBQTVCLEVBQUssUUFBTCxFQUFBcUssRUFBRXZKLFdBQUcsZUFBRyxFQUFBQyxZQUFZbUUsZ0JBQVEsUUFBSSxDQUFDLENBQUMsRUFNN0MsU0FBU21HLEVBQVdDLEVBQWMsSUFFOUIsSUFBSUMsRUFBYyxFQVNsQixPQVJDSCxJQUFVSSxTQUNOMVAsTUFBTSxLQUNOaUIsS0FBS3VPLEdBQWdCQSxFQUFJRyxTQUN6QnZTLFFBQVFvUyxHQUFnQixLQUFSQSxJQUNoQkksU0FBU0MsWUFFTkosR0FBa0csUUFBbkYsRUFBMkUsUUFBM0UsRUFBQUQsRUFBSXpMLG9CQUFvQitMLE1BQU0sSUFBSUMsT0FBT0YsRUFBUTlMLG9CQUFxQixhQUFLLGVBQUUxRSxjQUFNLFFBQUksQ0FBQyxJQUV4R29RLENBQ1gsQ0FLQSxTQUFTTyxFQUFpQkMsRUFBeUIsR0FHM0NDLE1BQU1ELElBQ0hBLEdBQWtCLElBQ2pCWCxJQUFVYSxTQU1sQmYsRUFBV2dCLEtBQUtDLElBQUlKLEVBQWlCLEVBQUdiLEVBQVcvUCxPQUFTLElBQUk2TCxNQUNwRSxDQUVBLElBQUlvRixHQUFZLEVBQ2hCLFNBQVNDLGFBRUQsSUFBQUMsY0FBZUYsSUFFSCxRQUFaLEVBQVEsUUFBUixPQUFBRyxpQkFBUSxlQUFFQyxVQUFFLGdCQUFHLG1CQUFvQnRKLElBRS9CLE1BQU11SixFQUFVdkosYUFBSSxFQUFKQSxFQUFNdUosUUFDaEJDLEVBQVMsV0FFWHRCLElBQVVhLFNBQ1BiLElBQVV1QixXQUNWRixhQUFPLEVBQVBBLEVBQVN0RCxXQUFXdUQsS0FHdkJaLEVBQWlCVCxFQUFXb0IsRUFBUXZJLFVBQVV3SSxJQUNsRCxJQUVKTixHQUFZLEVBRXBCLENBRU8sTUFBTVEsVUFBc0IsRUFBQWhILE9BQW5DLGtDQUdJLEtBQUFpSCxlQUFnQixDQXlNcEIsQ0F2TUksU0FBSWhILEdBRUEsT0FBTyxFQUFBOUUsWUFBWW1FLE9BQ3ZCLENBRUEsY0FBSUQsR0FFQSxNQUFPLENBQ0gsQ0FDSXJGLEtBQU0sV0FDTmtJLFlBQWEsR0FDYkMsYUFBYyxDQUFDLFlBQ2ZDLG1CQUFvQixDQUNoQnBJLEtBQU0saUJBQ05tSSxhQUFjLENBQUNjLEVBQVFpRSxFQUFRcEcsbUJBRTNCLE9BQWlHLFFBQTFGLEVBQXNFLFFBQXRFLEVBQWlELFFBQWpELEVBQTJDLFFBQTNDLEVBQW9DLFFBQXBDLEVBQUFuRyxhQUFhc0ksRUFBUSx1QkFBZSxlQUFFcEcsYUFBSyxlQUFFN0MsWUFBSSxlQUFFQywyQkFBbUIsZUFBRW5GLFNBQVMsaUJBQVMsUUFBUyxHQUdsSHlOLFFBQVMsQ0FBQyxDQUNOQyxNQUFPLFlBQ1BDLE1BQU8sYUFDUEMsV0FBWSxxRUFFaEJFLE1BQU8scUJBQ1IsQ0FDQzVJLEtBQU0sV0FDTmtJLFlBQWEsR0FDYkMsYUFBYyxDQUFDLFlBQ2ZDLG1CQUFvQixDQUNoQnBJLEtBQU0sa0JBRVZ1SSxRQUFTLENBQUMsQ0FDTkMsTUFBTyxZQUNQQyxNQUFPLGNBQ1BDLFdBQVksMkVBRWhCRSxNQUFPLHFCQUNSLENBQ0M1SSxLQUFNLFdBQ05rSSxZQUFhLEdBQ2JDLGFBQWMsQ0FBQyxZQUNmQyxtQkFBb0IsQ0FDaEJwSSxLQUFNLGtCQUVWdUksUUFBUyxDQUFDLENBQ05DLE1BQU8sWUFDUEMsTUFBTyxlQUNQQyxXQUFZLGlGQUVoQkUsTUFBTyxxQkFHbkIsQ0FFQSxZQUFJckQsR0FFQSxNQUFPLENBQ0gsQ0FDSXBMLEtBQU0sVUFDTjBRLEtBQU0sV0FDTkMsT0FBU0wsS0FBTyxJQUFBQyxjQUFhRCxHQUM3QnBMLE9BQU8sRUFDUG9KLE1BQU8sMkJBQ1csQ0FDbEJ0TyxLQUFNLFdBQ04wUSxLQUFNLE9BQ05DLE9BQVNMLEtBQVFlLEVBQVFmLEdBQUc0QixRQUM1QmhOLE1BQU8sVUFDUG9KLE1BQU8sZ0VBQ1BWLE1BQU8sSUFDUGdELFNBQVUsTUFDSSxDQUNkNVEsS0FBTSxhQUNOMFEsS0FBTSxXQUNOQyxPQUFTTCxLQUFRZSxFQUFRZixHQUFHNEIsU0FBc0MsU0FBM0JiLEVBQVFmLEdBQUcwQyxZQUNsRDlOLE9BQU8sRUFDUG9KLE1BQU8saUVBQ1csQ0FDbEJ0TyxLQUFNLGNBQ04wUSxLQUFNLFNBQ05DLE9BQVNMLEtBQVFlLEVBQVFmLEdBQUc0QixRQUM1QmhOLE1BQU8sVUFDUDJMLFFBQVMsQ0FBQyxTQUFVLFVBQVcsWUFBYSxTQUFVLFNBQVUsWUFBYSxRQUM3RXZDLE1BQU8sMENBQ1B5QyxNQUFNLEVBQ04sS0FBQUUsQ0FBTVgsR0FFNkIsU0FBM0JlLEVBQVFmLEdBQUcwQyxjQUVYM0IsRUFBUWYsR0FBRzJDLFlBQWEsRUFFaEMsR0FDZ0IsQ0FDaEJqVCxLQUFNLFdBQ04wUSxLQUFNLFdBQ05DLE9BQVNMLEtBQVFlLEVBQVFmLEdBQUc0QixVQUFXLElBQUFLLGVBQWUsSUFBQWhDLGNBQWFELEdBQ25FcEwsT0FBTyxFQUNQb0osTUFBTywwRUFHbkIsQ0FFQSxJQUFBdEMsR0EwRUksR0F4RUE0QyxNQUFNNUMsUUFHTixJQUFBaEQsY0FBYSxFQUFBaEMsWUFBWW1FLFFBQVMsa0JBQW1CLEdBQUcsQ0FBQ2xDLEVBQU1DLDZCQUUzRCxNQUFNQyxFQUFPRixFQUFLLEdBR2xCLEtBQ0tvSSxJQUFVYSxVQUNBLFFBQVAsRUFBQWpKLEVBQUssVUFBRSxlQUFFRyxRQUNGLFFBQVAsRUFBQUgsRUFBSyxVQUFFLGVBQUVJLFdBQ0YsUUFBUCxFQUFBSixFQUFLLFVBQUUsZUFBRWlLLFVBQ1QsSUFBQUMsMkJBQTBCaEssRUFBSytKLE9BQVM3QixJQUFVMkIsWUFBK0IzQixJQUFVNEIsYUFFL0YsT0FBTy9KLEVBQUtELEdBR2hCLElBQUltSyxFQUFpQixFQTRCckIsTUExQmlCLFFBQWJqSyxFQUFLQyxNQUErQixTQUFiRCxFQUFLQyxNQUFnQyxXQUFiRCxFQUFLQyxPQUVwRGdLLEVBQVM5QixHQUFXLElBQUErQiw2QkFBNEJsSyxFQUFLRSxXQUd4QyxVQUFiRixFQUFLQyxPQUtEZ0ssRUFGZ0IsUUFBaEJqSyxFQUFLRSxRQUVJaUksRUFBc0gsUUFBMUcsRUFBb0csUUFBckcsRUFBaUIsUUFBaEIsRUFBQW5JLGFBQUksRUFBSkEsRUFBTUksa0JBQVUsZUFBRXBLLFFBQVErUCxHQUF3QyxRQUFqQ0EsRUFBMEJuSCxNQUFlLFVBQTBCLGVBQUUyQixZQUFJLFFBQUksS0FHL0csUUFBZixFQUFBUCxFQUFLSSxrQkFBVSxlQUFFK0osUUFBTyxDQUFDQyxFQUFLOUosSUFBUzhKLEdBQThCLHNDQUFyQjlKLEVBQWExQixLQUF3RSxNQUF0QjBCLEVBQWFDLE9BQW9CLElBRTVJNEgsRUFBV25JLEVBQUtFLFNBS2hCaUksRUFBbUssUUFBdkosRUFBaUosUUFBbEosRUFBaUIsUUFBaEIsRUFBQW5JLGFBQUksRUFBSkEsRUFBTUksa0JBQVUsZUFBRXBLLFFBQVErUCxHQUFPQSxFQUEwQm5ILEtBQU8sb0NBQW9Db0IsYUFBSSxFQUFKQSxFQUFNRSxZQUFXLFVBQTBCLGVBQUVLLFlBQUksUUFBSSxLQUt4THFJLEVBQWlCcUIsR0FDVmxLLEVBQUtELEVBQUssS0FJckIsSUFBQUQsY0FBYSxFQUFBaEMsWUFBWW1FLFFBQVMsa0JBQW1CLEdBQUcsQ0FBQ2xDLEVBQU1DLEtBRTNEQSxFQUFLRCxHQUNMLE1BQU1FLEVBQU9GLEVBQUssR0FNWitGLEdBQWUsSUFBQTFGLGdDQUErQkgsRUFBTSxnQkFFdERrSSxJQUFVYSxTQUNPLGFBQWQvSSxFQUFLQyxPQUNMNEYsYUFBWSxFQUFaQSxFQUFjSSxXQUFXLGtCQUN6QixJQUFBK0QsMkJBQTBCaEssRUFBSytKLE9BQVM3QixJQUFVMkIsWUFBK0IzQixJQUFVNEIsYUFHOUZsQixFQUFpQmpKLE9BQU9rRyxFQUFhaE4sT0FBTyxJQUNoRCxLQUlDYixLQUFLMlIsY0FDVixDQUNJUixJQUNBLE1BQU1rQixFQUFXQyxhQUFZLEtBRXJCcEIsRUFFQXFCLGNBQWNGLEdBSWRsQixHQUNKLEdBQ0QsSUFDUCxDQUNBblIsS0FBSzJSLGVBQWdCLENBQ3pCLENBRUEsTUFBQTNHLEdBRUl5QyxNQUFNekMsUUFDVixnUUNoUkcsU0FBU3dILEVBQVlDLEdBQWlCLEVBQU9sSCxHQUVoRCxNQUFNbUgsRUFBV0MsZ0JBQWdCN04sT0FBT2MsS0FDeEN4RSxPQUFPZ0QsS0FBS3NPLEdBQVVsQyxTQUFTL0YsS0FFdEIsSUFBQUQsZ0JBQWVDLFdBRVRpSSxFQUFTakksRUFDcEIsS0FFSixJQUFBbUksZ0JBQWUsQ0FDWHJCLFFBQVMsY0FDVG1CLFNBQVVBLEVBQ1ZELE1BQU9BLEdBQ1JsSCxFQUNQLENBT08sU0FBU3NILEVBQWFDLEVBQXVCdkgsSUFFM0MsSUFBQWYsZ0JBQWVzSSxLQUlwQixJQUFBRixnQkFBZSxDQUNYckIsUUFBUyxlQUNUdUIsU0FBVUEsRUFDVi9PLE1BQU9lLE9BQU9jLElBQUlrTixJQUNuQnZILEVBQ1AsQ0FRTyxTQUFTd0gsRUFBV0QsRUFBdUJFLEVBQWdCekgsR0FFOUQwSCxFQUFZLENBQUMsQ0FBRUgsU0FBVUEsRUFBVUUsT0FBUUEsSUFBV3pILEVBQzFELENBU08sU0FBUzBILEVBQVlDLEVBQTBCM0gsR0FFbEQsSUFBSyxJQUFJcE4sRUFBSStVLEVBQVFqVCxPQUFTLEVBQUc5QixHQUFLLEVBQUdBLElBQ3pDLENBQ0ksTUFBTTZVLEVBQVNFLEVBQVEvVSxJQUNsQixJQUFBcU0sZ0JBQWV3SSxFQUFPRixVQUszQkUsRUFBT2pQLE1BQVFlLE9BQU9jLElBQUlvTixFQUFPRixVQUFVRSxFQUFPQSxRQUg5Q0UsRUFBUXRRLE9BQU96RSxFQUFHLEVBSTFCLENBQ3VCLElBQW5CK1UsRUFBUWpULFNBSVosSUFBQTJTLGdCQUFlLENBQ1hyQixRQUFTLGNBQ1QyQixRQUFTQSxHQUNWM0gsRUFDUCxDQUVPLE1BQU00SCxVQUF1QixFQUFBekksT0FFaEMsU0FBSUMsR0FFQSxPQUFPLEVBQUE5RSxZQUFZd0UsUUFDdkIsQ0FFQSxpQkFBSU8sR0FFQSxNQUFPLENBQ0gsQ0FDSXdJLE9BQVEsRUFBQXZOLFlBQVl3RSxTQUNwQmtILFFBQVMsY0FDVDhCLE9BQVEsU0FBVUMsRUFBbUJDLEdBRTdCRCxFQUFPdk8sZUFBaUJELE9BQU9DLGVBSW5DdU8sRUFBTzFOLElBQU0yTixFQUFRYixTQUNqQmEsRUFBUWQsT0FFUkQsR0FBWSxFQUFPYyxFQUFPdk8sY0FFbEMsR0FDRCxDQUNDcU8sT0FBUSxFQUFBdk4sWUFBWXdFLFNBQ3BCa0gsUUFBUyxlQUNUOEIsT0FBUSxTQUFVQyxFQUFtQkMsR0FFN0JELEVBQU92TyxlQUFpQkQsT0FBT0MsZUFJOUJ1TyxFQUFPMU4sSUFNUjBOLEVBQU8xTixJQUFJMk4sRUFBUVQsVUFBWVMsRUFBUXhQLE1BSnZDeU8sR0FBWSxFQUFPYyxFQUFPdk8sY0FNbEMsR0FDRCxDQUNDcU8sT0FBUSxFQUFBdk4sWUFBWXdFLFNBQ3BCa0gsUUFBUyxjQUNUOEIsT0FBUSxTQUFVQyxFQUFtQkMsU0FFakMsR0FBSUQsRUFBT3ZPLGVBQWlCRCxPQUFPQyxhQUluQyxJQUFLLE1BQU1pTyxLQUFVTyxFQUFRTCxTQUVULFFBQVgsRUFBQUksYUFBTSxFQUFOQSxFQUFRMU4sV0FBRyxlQUFHb04sRUFBT0YsV0FNdEJRLEVBQU8xTixJQUFJb04sRUFBT0YsVUFBVUUsRUFBT0EsUUFBVUEsRUFBT2pQLE1BSnBEOE8sRUFBYVUsRUFBUVQsU0FBVVEsRUFBT3ZPLGFBT2xELEdBR1osQ0FFQSxJQUFBOEYsR0FFSTRDLE1BQU01QyxPQUcyQixJQUE3QnlELGtCQUFrQnJPLFFBRWxCdVMsR0FBWSxJQUloQixJQUFBM0ssY0FBYSxFQUFBaEMsWUFBWXdFLFNBQVUsZUFBZ0IsR0FBRyxDQUFDdkMsRUFBTUMsS0FFekRBLEVBQUtELEdBQ0wwSyxHQUFZLEVBQUssS0FJckIsSUFBQTNLLGNBQWEsRUFBQWhDLFlBQVl3RSxTQUFVLGtCQUFtQixHQUFHLENBQUN2QyxFQUFNQyxXQUU1RCxNQUFNQyxFQUFPRixFQUFLLEdBQ1p5TCxHQUFVLElBQUFDLHVCQUFzQnhMLEdBQ3RDLElBQUt1TCxFQUVELE9BQU94TCxFQUFLRCxHQUVoQixNQUFNd0wsR0FBUyxJQUFBak0scUJBQStCLFFBQVgsRUFBQVcsRUFBSytKLGNBQU0sUUFBSSxHQUFJLENBQUVoTixjQUFjLEVBQU1MLE1BQU0sRUFBTytKLFVBQVUsSUFDbkcsSUFBSzZFLEVBRUQsT0FBT3ZMLEVBQUtELEdBSWhCLEVBQUEyTCxlQUFlakQsU0FBU3BRLElBRWhCbVQsRUFBUWhDLFVBQVluUixFQUFLbVIsU0FFekJuUixFQUFLaVQsT0FBT0MsRUFBUUMsRUFDeEIsR0FDRixHQUVWLENBRUEsTUFBQXZJLEdBRUl5QyxNQUFNekMsUUFDViwyS0NwTUcsSUFBSTBJLEdBQWdCLEVBRXBCLE1BQU1DLFVBQXNCLEVBQUFqSixPQUUvQixTQUFJQyxHQUVBLE9BQU8sRUFBQTlFLFlBQVlDLE9BQ3ZCLENBRUEsWUFBSW1FLEdBRUEsTUFBTyxDQUNILENBQ0lwTCxLQUFNLFdBQ04wUSxLQUFNLFNBQ054TCxNQUFPLElBQ1IsQ0FDQ2xGLEtBQU0sWUFDTjBRLEtBQU0sU0FDTnhMLE1BQU8sSUFHbkIsQ0FFQSxJQUFBOEcsSUFJSSxJQUFBaEQsY0FBYTdILEtBQUsySyxNQUFPLHlCQUEwQixJQUFJLEVBQUV3RSxFQUFHMUYsRUFBTW1LLEVBQVNDLEdBQVk5TCxLQUduRixJQUFJK0wsR0FBWSxFQUNaRixFQUFRcFUsU0FBUyxZQUVqQnNVLEdBQVksRUFDWkYsRUFBVUEsRUFBUTVWLFFBQVErVixHQUFzQixXQUFYQSxLQUl6QyxNQUFNQyxFQUFTak0sRUFBSyxDQUFDb0gsRUFBRzFGLEVBQU1tSyxFQUFTQyxJQUd2QyxHQUFJQyxFQUNKLENBQ0ksTUFBTUcsRUFBWUMsK0JBQStCL0UsR0FDN0M4RSxFQUFZLElBRVpQLEdBQWdCLEVBQ2hCTSxFQUFPSixRQUFROVUsS0FBSyxVQUVwQmtWLEVBQU92SyxLQUFPMEsseUJBQXlCMUssRUFBTXdLLEVBQVdKLEVBQVcxRSxHQUNuRXVFLEdBQWdCLEVBRXhCLENBQ0EsT0FBT00sQ0FBTSxJQUVqQnZHLE1BQU01QyxNQUNWLENBRUEsTUFBQUcsR0FFSXlDLE1BQU16QyxRQUNWLG1iQ3ZESixNQUFNa0UsRUFBd0MsQ0FBQ0MsRUFBZXJLLGtCQUUxRCxPQUFtQyxRQUE1QixFQUFLLFFBQUwsRUFBQXFLLEVBQUV2SixXQUFHLGVBQUcsRUFBQUMsWUFBWXlFLGdCQUFRLFFBQUksQ0FBQyxDQUFDLEVBR3RDLFNBQVM4RSxFQUFhRCxXQUV6QixPQUFxRSxRQUE3RCxFQUFLLFFBQUwsRUFBQUEsRUFBRXZKLFdBQUcsZUFBRyxFQUFBQyxZQUFZeUUsU0FBUytFLGdCQUFnQyxRQUN6RSxDQUVBLFNBQVMrRSxFQUFVQyxFQUFvQmxGLEVBQWVySyxnQkFFbEQsT0FBcUIsUUFBZCxFQUFLLFFBQUwsRUFBQXFLLEVBQUV2SixXQUFHLGVBQUd5TyxVQUFNLFFBQUksQ0FBQyxDQUM5QixDQUtPLE1BQU1DLEVBQWlCbFQsT0FBT2dDLE9BQU8sQ0FDeENtUixNQUFPLENBQUMsUUFBUyxPQUFRLFVBQVcsUUFDcENDLE9BQVEsQ0FBQyxJQUNUQyxNQUFPLENBQUMsTUFBTyxPQUFRLE1BQU8sT0FBUSxRQUFTLGFBQy9DQyxJQUFLLENBQUMsT0FBUSxNQUFPLE9BQVEsTUFBTyxPQUFRLFFBQVMsUUFDckRDLElBQUssQ0FBQyxNQUFPLFNBQVUsU0FBVSxVQUNqQ0MsSUFBSyxDQUFDLE1BQU8sT0FBUSxPQUFRLE9BQVEsT0FBUSxPQUM3Q0MsSUFBSyxDQUFDLFFBQVMsTUFBTyxVQUFXLE9BQVEsT0FDekNDLE1BQU8sQ0FBQyxTQUFVLE9BQVEsVUFBVyxTQUFVLE9BQy9DQyxLQUFNLENBQUMsUUFBUyxTQUFVLFFBQVMsT0FBUSxVQUFXLE9BQVEsYUFDOURDLEtBQU0sQ0FBQyxPQUFRLFNBQVUsT0FBUSxPQUFRLE1BQU8sUUFBUyxVQXNCN0QsU0FBU0MsRUFBMkJDLEVBQTJCaEcsRUFBUXBLLFFBQVF5SywwQkFFM0UsTUFBTTRGLEVBQW9GLFFBQW5FLEVBQXNELFFBQXRELEVBQTBDLFFBQTFDLEVBQVEsUUFBUixPQUFBOUQsaUJBQVEsZUFBRStELGFBQWEsMkJBQW1CLGVBQUVDLGtCQUFVLGVBQUVDLG1CQUFXLFFBQUksR0FDeEZDLEdBQWEsSUFBQW5FLGFBQWNsQyxFQUFRcEssUUFBUTBRLFlBQytCLFFBQTVFLEVBQTRELFFBQTVELEVBQWdELFFBQWhELEVBQVEsUUFBUixPQUFBbkUsaUJBQVEsZUFBRStELGFBQWEsaUNBQXlCLGVBQUVDLGtCQUFVLGVBQUVJLHNCQUFjLFFBQUksR0FsQnhGLFNBQTZCUCxFQUEyQmhHLEVBQVFwSyxRQUFReUssTUFFcEUsT0FBSTJGLEtBQVdaLEdBQThCLFdBQVpZLEVBRXRCWixFQUFlWSxHQUVsQmhHLEVBQVFwSyxRQUFRNFEsY0FBeUI5VSxNQUFNLEtBQUtpQixLQUFLdU8sR0FBUUEsRUFBSUcsUUFDakYsQ0FZUW9GLENBQW9CVCxHQUN4QixPQUFRLElBQUFVLHNCQUFxQkwsRUFBWUosR0FDcEN0VCxLQUFLZ1UsR0FBV0EsRUFBT2xSLG9CQUFvQjRMLFNBQzNDdlMsUUFBUW9TLEdBQXNCLEdBQWRBLEVBQUluUSxRQUM3QixDQUVPLE1BQU02VixFQUFjMVUsT0FBT2dDLE9BQU8sQ0FDckMyUyxJQUFLLENBQUMsUUFBUyxNQUFPLFNBQVUsV0FBWSxPQUFRLE1BQU8sTUFBTyxNQUFPLE9BQVEsT0FBUSxLQUNyRixPQUFRLFFBQVMsT0FBUSxTQUFVLE1BQU8sUUFBUyxRQUFTLE1BQU8sT0FBUSxRQUFTLE9BQ3BGLFVBQVcsTUFBTyxRQUFTLFFBQVMsV0FBWSxNQUFPLE9BQVEsU0FBVSxPQUFRLE1BQ2pGLE1BQU8sUUFBUyxPQUFRLFFBQVMsT0FBUSxZQUFhLGFBQzFEeEIsTUFBTyxHQUNQQyxPQUFRLEdBQ1JDLE1BQU8sQ0FBQyxNQUFPLFFBQVMsU0FBVSxNQUFPLE9BQVEsT0FBUSxNQUFPLFFBQ2hFQyxJQUFLLENBQUMsTUFBTyxRQUFTLFNBQVUsU0FBVSxRQUFTLFVBQVcsT0FBUSxRQUN0RUMsSUFBSyxDQUFDLE9BQVEsVUFBVyxRQUFTLFNBQVUsUUFBUyxPQUNyREMsSUFBSyxDQUFDLE9BQVEsU0FBVSxNQUFPLFFBQVMsTUFBTyxRQUFTLE9BQVEsUUFBUyxPQUFRLE9BQVEsT0FBUSxRQUNqR0MsSUFBSyxDQUFDLE9BQVEsTUFBTyxRQUFTLE9BQVEsTUFBTyxRQUM3Q0MsTUFBTyxDQUFDLFFBQVMsTUFBTyxPQUFRLE9BQVEsT0FBUSxRQUFTLFNBQVUsU0FBVSxNQUFPLFFBQVMsVUFDN0ZDLEtBQU0sQ0FBQyxPQUFRLE9BQVEsV0FBWSxTQUFVLE9BQVEsU0FBVSxPQUFRLFFBQVMsTUFBTyxPQUNuRixRQUFTLE9BQVEsT0FBUSxPQUFRLE9BQVEsTUFBTyxNQUFPLFFBQzNEQyxLQUFNLENBQUMsT0FBUSxPQUFRLE1BQU8sTUFBTyxRQUFTLFVBd0JsRCxTQUFTZ0IsRUFBZTdHLEVBQWNwTCxFQUFla1MsR0FFakQsTUFBTUMsR0FBUSxJQUFBQyxhQUFZLEVBQUF0USxZQUFZeUUsUUFBUyxpQkFDL0MsR0FBYyxXQUFWdkcsRUFPQSxPQUxBbUwsRUFBUUMsR0FBR3VHLGNBQWdCeEcsRUFBUUMsR0FBR2lILG9CQUFvQnRWLEtBQUssV0FDM0RrTCxTQUFTcUssZUFBZUgsSUFFeEJJLGFBQWFKLEVBQU9oSCxFQUFRQyxHQUFHdUcsZ0JBSXJCLFdBQWRPLEdBQTBCakssU0FBU3FLLGVBQWVILEtBRWxEaEgsRUFBUUMsR0FBR2lILG9CQUFzQkUsYUFBYUosR0FBT3RWLE1BQU0sS0FBS2lCLEtBQUtrTSxHQUFNQSxFQUFFd0MsVUFFakZyQixFQUFRQyxHQUFHdUcsY0FBaUJwQixFQUFlcEYsRUFBUUMsR0FBR0ksTUFBbUJ6TyxLQUFLLE1BRTFFa0wsU0FBU3FLLGVBQWVILElBRXhCSSxhQUFhSixFQUFPaEgsRUFBUUMsR0FBR3VHLGNBRXZDLENBS0EsU0FBU2EsZ0JBRUxySCxJQUFVc0csYUFBYyxFQUN4QixNQUFNVSxHQUFRLElBQUFDLGFBQVksRUFBQXRRLFlBQVl5RSxRQUFTLGlCQUV4QixXQUFuQjRFLElBQVVLLE1BQXFCdkQsU0FBU3FLLGVBQWVILEtBRXZEaEgsSUFBVWtILG9CQUFzQkUsYUFBYUosR0FBT3RWLE1BQU0sS0FBS2lCLEtBQUtrTSxHQUFNQSxFQUFFd0MsVUFFaEYsTUFBTWlHLEVBQW9GLFFBQTVFLEVBQTRELFFBQTVELEVBQWdELFFBQWhELEVBQVEsUUFBUixPQUFBbkYsaUJBQVEsZUFBRStELGFBQWEsaUNBQXlCLGVBQUVDLGtCQUFVLGVBQUVJLHNCQUFjLFFBQUksR0FDOUZ2RyxJQUFVd0csY0FBZ0JjLEVBQU0xVixLQUFLLE1BQ2pDa0wsU0FBU3FLLGVBQWVILElBRXhCSSxhQUFhSixFQUFPaEgsSUFBVXdHLGNBRXRDLENBRUEsTUFBTWUsRUFBdUJyVixPQUFPZ0MsT0FBTyxDQUN2Q3NULElBQUssS0FDTEMsT0FBUSxJQUNSQyxLQUFNLEdBQ05DLElBQUssSUFHRixNQUFNQyxVQUFzQixFQUFBcE0sT0FFL0IsU0FBSUMsR0FFQSxPQUFPLEVBQUE5RSxZQUFZeUUsT0FDdkIsQ0FFQSxpQkFBSU0sR0FFQSxNQUFPLENBQ0gsQ0FDSXdJLE9BQVFwVCxLQUFLMkssTUFDYjRHLFFBQVMsd0JBQ1Q4QixPQUFRLFNBQVVDLEVBQW1CeUQsWUFHNUIsSUFBQS9FLDJCQUE2QyxRQUFuQixFQUFBc0IsRUFBT3ZPLG9CQUFZLFNBQUssRUFBYSxRQUFWLEVBQUFELE9BQU9jLFdBQUcsZUFBRyxFQUFBQyxZQUFZaUUsV0FBVyxTQUFTLEVBQUFqRSxZQUFZeUUsYUFRbkhpTSxLQUNBLElBQUF0RCxhQUFZLENBQ1IsQ0FBRUgsU0FBVSxFQUFBak4sWUFBWXlFLFFBQVMwSSxPQUFRLGlCQUN6QyxDQUFFRixTQUFVLEVBQUFqTixZQUFZeUUsUUFBUzBJLE9BQVEsZ0JBQzFDTSxFQUFPdk8sZUFHVixJQUFBNk4sZ0JBQWUsQ0FBRXJCLFFBQVMsdUJBQXlCK0IsRUFBT3ZPLGVBYnREeEgsUUFBUWdCLEtBQUssR0FBRytVLEVBQU85TSxVQUFZOE0sRUFBTzVPLFFBQVE0TyxFQUFPdk8scUVBY2pFLEdBQ0QsQ0FDQ3FPLE9BQVFwVCxLQUFLMkssTUFDYjRHLFFBQVMsc0JBQ1Q4QixPQUFRLFNBQVVDLEVBQW1CeUQsR0FHakMsTUFBTWIsR0FBUSxJQUFBQyxhQUFZLEVBQUF0USxZQUFZeUUsUUFBUyxpQkFDM0MwQixTQUFTcUssZUFBZUgsSUFFeEJJLGFBQWFKLEVBQU9oSCxFQUFRb0UsR0FBUW9DLGNBRTVDLEdBR1osQ0FFQSxZQUFJekwsR0FFQSxNQUFPLENBQ0gsQ0FDSXBMLEtBQU0sT0FDTjBRLEtBQU0sU0FDTkMsT0FBUSxLQUFNLEVBQ2RFLFFBQVN0TyxPQUFPZ0QsS0FBS2tRLEdBQ3JCdlEsTUFBTyxRQUNQb0osTUFBTyx3Q0FDUHlDLE1BQU0sRUFDTkUsTUFBTyxDQUFDWCxFQUFHcEwsRUFBT2tTLEtBRVYvRyxFQUFRQyxHQUFHcUcsYUFJZlEsRUFBZTdHLEVBQUdwTCxFQUFPa1MsRUFBVSxHQUV2QixDQUNoQnBYLEtBQU0sYUFDTjBRLEtBQU0sV0FDTkMsT0FBUSxLQUFNLEVBQ2R6TCxPQUFPLEVBQ1BvSixNQUFPLHdEQUNXLENBQ2xCdE8sS0FBTSxnQkFDTjBRLEtBQU0sT0FDTkMsT0FBU0wsR0FBMEIsV0FBcEJELEVBQVFDLEdBQUdJLFFBQXVCTCxFQUFRQyxHQUFHNkgsY0FBZSxJQUFBNUYsYUFBY2xDLEVBQVFDLEdBQUdxRyxhQUNwR3pSLE1BQU91USxFQUFlQyxNQUFNelQsT0FDNUJxTSxNQUFPLHNCQUNQc0MsU0FBVSxLQUNWaEQsTUFBTyxNQUNPLENBQ2Q1TixLQUFNLHNCQUNOMFEsS0FBTSxTQUNOeEwsTUFBTyxJQUNHLENBQ1ZsRixLQUFNLGNBQ04wUSxLQUFNLFNBQ05DLE9BQVEsS0FBTSxFQUNkRSxRQUFTLENBQUMsTUFBTyxNQUFPLFNBQVUsT0FBUSxPQUMxQ0UsTUFBTSxFQUNON0wsTUFBTyxNQUNQb0osTUFBTyx5REFDUyxDQUNoQnRPLEtBQU0sY0FDTjBRLEtBQU0sV0FDTkMsT0FBU0wsR0FBTUQsRUFBUUMsR0FBRzZILGNBQWUsSUFBQTVGLFlBQ3pDck4sT0FBTyxFQUNQb0osTUFBTywwREFDUDJDLE1BQU8sQ0FBQ1gsRUFBR3BMLEtBRVAsR0FBS0EsRUFLTCxHQUFJb0wsRUFBRThILFdBR0ZWLFFBR0osQ0FDSSxNQUFNTCxHQUFRLElBQUFDLGFBQVksRUFBQXRRLFlBQVl5RSxRQUFTLGlCQUV2QixXQUFwQjRFLEVBQVFDLEdBQUdJLE1BQXFCdkQsU0FBU3FLLGVBQWVILEtBRXhEaEgsRUFBUUMsR0FBR2lILG9CQUFzQkUsYUFBYUosR0FBT3RWLE1BQU0sS0FBS2lCLEtBQUtrTSxHQUFNQSxFQUFFd0MsV0FJakYsSUFBQXFDLGdCQUFlLENBQUVyQixRQUFTLHlCQUEyQnBDLEVBQUVwSyxhQUMzRCxNQW5CSWlSLEVBQWU3RyxFQUFHRCxFQUFRQyxHQUFHSSxLQUFNLEdBbUJ2QyxHQUVjLENBQ2xCMVEsS0FBTSxXQUNOMFEsS0FBTSxXQUNOQyxPQUFRLEtBQU0sRUFDZHpMLE9BQU8sRUFDUG9KLE1BQU8saUZBQ1AsS0FBQTJDLENBQU1YLEVBQUdwTCxHQUVRLEdBQVRBLElBSUpxUSxFQUFVLEVBQUF2TyxZQUFZbUUsUUFBU21GLEdBQUc0QixTQUFVLEVBQzVDcUQsRUFBVSxFQUFBdk8sWUFBWW1FLFFBQVNtRixHQUFHc0MsVUFBVyxFQUM3QzJDLEVBQVUsRUFBQXZPLFlBQVlxRSxXQUFZaUYsR0FBRzRCLFNBQVUsRUFDL0NxRCxFQUFVLEVBQUF2TyxZQUFZcUUsV0FBWWlGLEdBQUcrSCxTQUFVLEVBQy9DOUMsRUFBVSxFQUFBdk8sWUFBWXVFLHFCQUFzQitFLEdBQUc0QixTQUFVLEVBQ3pEcUQsRUFBVSxFQUFBdk8sWUFBWXVFLHFCQUFzQitFLEdBQUdnSSxTQUFVLEVBQ3pEL0MsRUFBVSxFQUFBdk8sWUFBWXVFLHFCQUFzQitFLEdBQUdpSSxNQUFPLEVBQ3REaEQsRUFBVSxFQUFBdk8sWUFBWXVFLHFCQUFzQitFLEdBQUdrSSxTQUFVLEVBQ3pEakQsRUFBVSxFQUFBdk8sWUFBWXVFLHFCQUFzQitFLEdBQUdtSSxxQkFBc0IsRUFDckVsRCxFQUFVLEVBQUF2TyxZQUFZdUUscUJBQXNCK0UsR0FBR29JLHVCQUF3QixFQUN2RW5ELEVBQVUsRUFBQXZPLFlBQVl1RSxxQkFBc0IrRSxHQUFHcUksYUFBYyxFQUM3RHBELEVBQVUsRUFBQXZPLFlBQVl1RSxxQkFBc0IrRSxHQUFHc0ksV0FBWSxFQUMzRHJELEVBQVUsRUFBQXZPLFlBQVl1RSxxQkFBc0IrRSxHQUFHdUksYUFBYyxFQUM3RHRELEVBQVUsRUFBQXZPLFlBQVl1RSxxQkFBc0IrRSxHQUFHd0ksYUFBYyxFQUNqRSxHQUNrQixDQUNsQjlZLEtBQU0sYUFDTjBRLEtBQU0sU0FDTkMsT0FBUSxLQUFNLEVBQ2R6TCxNQUFPLE1BQ1AyTCxRQUFTLENBQUMsTUFBTyxRQUFTLE9BQVEsV0FDbENFLE1BQU0sRUFDTnpDLE1BQU8sb0JBQ1MsQ0FDaEJ0TyxLQUFNLHFCQUNOMFEsS0FBTSxTQUNOeEwsTUFBTyxTQUNQMkwsUUFBUyxDQUFDLE1BQU8sU0FBVSxPQUFRLE9BQ25DRSxNQUFNLEVBQ056QyxNQUFPLHVCQUNQcUMsT0FBU0wsR0FBZ0MsUUFBMUJELEVBQVFDLEdBQUd5SSxZQUd0QyxDQUVBLElBQUEvTSxHQUVJNEMsTUFBTTVDLE9BQ05nTiwwQkFBMEIvWSxLQUFLLGFBRy9CLElBQUErSSxjQUFhN0gsS0FBSzJLLE1BQU8sMkJBQTRCLEdBQUcsRUFBRWxCLEVBQU13SyxFQUFXSixLQUFjL0wsR0FBT0MsS0FHNUYsTUFBTW9ILEVBQUtySCxFQUE2QyxHQUl4RCxRQUNJcUgsYUFBQyxFQUFEQSxFQUFHMkksYUFDQ2hULE9BQU9pVCxXQUNpQixJQUF6QjdJLElBQVU4SSxZQUNUdk8sR0FLRCxJQUFBd08saUJBQWdCLENBQUN4TyxFQUFNd0ssRUFBV0osR0FBWTlMLEVBclFqRSxTQUE4Qm1OLEVBQTBCaEcsRUFBUXBLLFFBQVF5SyxNQUVwRSxPQUFJMkYsS0FBV1ksRUFFSkEsRUFBWUMsSUFBSW1DLE9BQU9wQyxFQUFZWixJQUd2Q1ksRUFBWUMsR0FDdkIsQ0E2UHVFb0MsSUFGaERwUSxFQUFLLENBQUMwQixFQUFNd0ssRUFBV0osR0FFZ0QsS0FJdEYsSUFBQWhNLGNBQWE3SCxLQUFLMkssTUFBTyxlQUFnQixHQUFHLEVBQUUzRCxHQUFNZSxLQUtoRCxHQURBZixFQUFNQSxFQUFJdUosT0FDTixDQUFDNkgsWUFBYSxJQUFLLEtBQUs1WSxTQUFTd0gsRUFBSXFSLE9BQU8sSUFFNUMsT0FBT3RRLEVBQUssQ0FBQ2YsSUFHakIsTUFBTXNSLEVBQW1EcEosRUFBUXBLLFFBQVFrUyxZQUN6RSxPQUFPalAsRUFBSyxFQUFDLElBQUF3USx3QkFBdUJ2UixFQUFLaU8sSUFBOEJxRCxJQUFRLEtBSW5GLElBQUF6USxjQUFhN0gsS0FBSzJLLE1BQU8sMkJBQTRCLEdBQUcsQ0FBQzdDLEVBQU1DLFdBRTNELE1BQU15USxFQUFtQnRKLEVBQVFwSyxRQUFROFMsV0FDekMsSUFDSyxFQUFBbEUsZUFDdUIsUUFBckI4RSxHQUM2QixJQUE3QmxLLGtCQUFrQnJPLE9BRXpCLENBQ0ksTUFBTXdZLEVBQVV4RCxJQUNoQixHQUF1QixJQUFuQndELEVBQVF4WSxPQUVSLE9BQU84SCxFQUFLRCxHQUdoQixNQUFNNFEsR0FBb0UsUUFBeEQsRUFBQWpDLEVBQXFCdkgsRUFBUXBLLFFBQVE2VCwyQkFBbUIsUUFBSSxLQUFRN1EsRUFBSyxHQUUzRixPQUFRb0gsRUFBUXBLLFFBQVE4UyxZQUVwQixJQUFLLFFBRUQsT0FEQTlQLEVBQUssSUFBSyxJQUFBOFEscUJBQW9COVEsRUFBSyxHQUFJMlEsRUFBU0MsR0FDekMzUSxFQUFLRCxHQUVoQixJQUFLLE9BQ0QsT0FBTyxJQUFBOFEscUJBQW9CN1EsRUFBS0QsR0FBTzJRLEVBQVNDLEdBRXBELElBQUssVUFDRCxPQUFPLElBQUFFLHFCQUFvQjlRLEVBQUssR0FBSTJRLEVBQVNDLEdBRXpELENBRUEsT0FBTzNRLEVBQUtELEVBQUssR0FFekIsQ0FFQSxNQUFBa0QsR0FFSXlDLE1BQU16QyxTQUVONk0sMEJBQTRCQSwwQkFBMEI3WixRQUFRNmEsR0FBZ0UsYUFBbERBLEdBQ2hGLHdpQkNwWkosSUFBSUMsR0FBaUIsRUFDakJDLEVBQXNDLEtBQ25DLFNBQVNDLEVBQWVuVSxHQUUzQmlVLEdBQWlCLEVBQ2pCQyxFQUFjbFUsQ0FDbEIsQ0FHQSxNQUFNb1UsRUFBZSxJQUlmQyxFQUFpQixDQUFDLEtBQU0sR0FBSSxHQUFJLElBR2hDQyxFQUFvQixFQUNwQkMsRUFBZSxJQUNmQyxFQUFnQixHQUNoQkMsRUFBYSxJQUNiQyxFQUFjLElBQ2RDLEVBQWEsR0FDYkMsRUFBc0IsR0FHdEJDLEVBQWdCLENBQUMsSUFBSyxJQUFLLElBQUssSUFDaENDLEVBQVksMENBQ1pDLEVBQWlCLGdDQUNqQkMsRUFBbUIsQ0FDckJILEVBQWMsR0FDZEEsRUFBYyxHQUFLQSxFQUFjLEdBQUtGLEVBQ3RDRSxFQUFjLEdBQ2RBLEVBQWMsSUFFWkksRUFBaUIsQ0FDbkJELEVBQWlCLEdBQ2pCQSxFQUFpQixHQUFLQSxFQUFpQixHQUFLTCxFQUM1Q0ssRUFBaUIsR0FDakJBLEVBQWlCLElBRWZFLEVBQWlCLENBQ25CRCxFQUFlLEdBQ2ZBLEVBQWUsR0FBS0EsRUFBZSxHQUNuQ0EsRUFBZSxJQUVuQixJQUFJRSxFQUE0QixFQUM1QkMsRUFBNEIsR0FDaEMsTUFBTUMsRUFBa0IsQ0FDcEJKLEVBQWUsR0FDZkEsRUFBZSxHQUFLQSxFQUFlLEdBQUtOLEdBQ3ZDTSxFQUFlLEdBQUtOLEdBQWMsRUFDbkNNLEVBQWUsSUFFYkssRUFBa0IsQ0FDcEJMLEVBQWUsSUFBT0EsRUFBZSxHQUFLTixHQUFjLEVBQ3hETSxFQUFlLEdBQUtBLEVBQWUsR0FBS04sR0FDdkNNLEVBQWUsR0FBS04sR0FBYyxFQUNuQ00sRUFBZSxJQUViTSxFQUF5QixDQUFDLElBQUssSUFBSyxJQUFLLElBQ3pDQyxFQUF3QixDQUFDLEtBQU0sSUFBSyxJQUFLLElBQ3pDQyxFQUFlLENBQ2pCWixFQUFjLEdBQUssRUFBSUEsRUFBYyxHQUNyQ0EsRUFBYyxHQUFtQixFQUFiRixFQUNwQkUsRUFBYyxJQUtsQixTQUFTYSxJQUVMLE9BQUt4QixFQUtEQSxFQUFZOUIsV0FFTCxDQUNILEVBQUFwUixZQUFZaUUsVUFDWixFQUFBakUsWUFBWXlFLFFBQ1osRUFBQXpFLFlBQVltRSxRQUNaLEVBQUFuRSxZQUFZcUUsV0FDWixFQUFBckUsWUFBWXNFLGNBQ1osRUFBQXRFLFlBQVl1RSxzQkFJYixDQUNILEVBQUF2RSxZQUFZaUUsVUFDWixFQUFBakUsWUFBWXlFLFFBQ1osRUFBQXpFLFlBQVltRSxRQUNaLEVBQUFuRSxZQUFZcUUsV0FDWixFQUFBckUsWUFBWXVFLHNCQXBCTCxFQXNCZixDQUVPLE1BQU1vUSxFQUNiLENBQ0ksQ0FBQyxFQUFBM1UsWUFBWXFFLFlBQWEsY0FDMUIsQ0FBQyxFQUFBckUsWUFBWXNFLGVBQWdCLGtCQUM3QixDQUFDLEVBQUF0RSxZQUFZdUUsc0JBQXVCLDBCQUdqQyxJQUFJcVEsRUFBcUQsS0FDNURDLEdBQXdCLEVBQ3hCQyxFQUF5QixFQTJCN0IsU0FBU0MsRUFBZUMsR0FFcEIsSUFBSyxJQUFJMWMsRUFBSSxFQUFHQSxFQUFJMGMsRUFBWTVhLE9BQVE5QixJQUVwQyxHQUFJMmMsUUFDQXZCLEdBQWVILEVBQWVJLEdBQWN4SSxLQUFLK0osTUFBTTVjLEVBQUlnYixHQUMzREcsR0FBY0QsRUFBZ0JHLElBQWVyYixFQUFJZ2IsR0FDakRDLEVBQ0FDLEdBR0EsT0FBT3dCLEVBQVkxYyxHQUczQixPQUFPLElBQ1gsQ0F4Q0E2YyxXQUFXLEtBQU0sSUFBSyxJQUFLLEdBQUksU0FBVSxTQTRDekMsTUFBTUMsRUFBa0IsRUFDbEJDLEVBQWdCLEdBQ2hCQyxFQUFhLElBQ2JDLEVBQWMsSUFDZEMsRUFBYSxHQUNiQyxFQUF1QixHQUN2QkMsRUFBeUIsSUFDekJDLEVBQW9CLElBQ3BCQyxFQUF3QixJQUM5QixJQUFJQyxFQUFzQixFQUN0QkMsRUFBbUIsRUFFdkIsTUFBTUMsR0FBa0IsQ0FBQyxLQUFNLEdBQUksR0FBSSxJQUNqQ0MsR0FBa0IsQ0FBQ0QsR0FBZ0IsR0FBS0EsR0FBZ0IsR0FBSUEsR0FBZ0IsR0FBSUEsR0FBZ0IsR0FBSUEsR0FBZ0IsSUFnQzFILFNBQVNFLEdBQW1CQyxTQUd4QixJQUFLaEQsRUFBZSxPQUdwQixNQUFNaUQsRUFBb0I1YSxPQUFPbkMsUUFBZ0MsUUFBeEIsYUFBZ0I4YyxVQUFRLFFBQUksQ0FBQyxHQUNqRS9kLFFBQU8sRUFBRWllLEVBQUtDLE1BQVksTUFBQyxXQUFBQyxrQkFBaUJELElBQWFELEtBQWlDLFFBQXpCLEVBQUFsRCxhQUFXLEVBQVhBLEVBQWFuVCxJQUFJbVcsVUFBUSxRQUFJLENBQUMsRUFBRyxJQUd0RixJQUFiSixJQXJDQUQsRUFBY0MsSUFFZEQsRUFBY0MsR0FFZEQsRUFBYyxJQUVkQSxFQUFjLEdBR2xCVixjQUNPWSxHQUNILEdBQ0FGLEdBQWVDLEVBQVcsVUFBWSxVQUN0QyxpQkFDQSxZQUNBRCxHQUFlQyxHQUVuQlgsY0FDT2EsR0FDSCxHQUNBLEdBQUtILEVBQWMsVUFBWSxVQUMvQixpQkFDQSxnQkFDQSxHQUFLQSxJQW1CVE0sRUFBa0JuYixPQUFPNmEsRUFBYyxHQUFLVCxFQUFpQlMsRUFBY1QsR0FBaUJ6SyxTQUFRLENBQUM0TCxFQUFLamUsMkJBRXRHLE1BQU9rZSxFQUFhSCxHQUFXRSxFQUV6QkUsR0FBbUJKLEVBQVExTSxPQUFPdUosSUFFbEMsU0FBU2dELE1BQWFoRCxFQUFhblQsSUFBSSxFQUFBQyxZQUFZaUUsWUFDaEQsT0FBT2lTLE1BQWFoRCxFQUFhblQsSUFBSSxFQUFBQyxZQUFZaUUsY0FDaEQsSUFBQWtJLDJCQUNtQixRQUFuQixFQUFBbE4sT0FBT0Msb0JBQVksU0FBSyxFQUN4QmdVLEVBQWFuVCxJQUFJLEVBQUFDLFlBQVlpRSxXQUFXLFNBQVNpUyxLQUNqRGhELEVBQWFuVCxJQUFJLEVBQUFDLFlBQVlpRSxXQUFXLE9BQU9pUyxLQUMvQ2hELEtBSUhqVSxPQUFPdUIsaUJBQ0gwUyxhQUFXLEVBQVhBLEVBQWFoVSxnQkFBaUJELE9BQU9DLGVBQ2hDRCxPQUFPYyxJQUFJLEVBQUFDLFlBQVlpRSxXQUFXeVMsa0JBQ3BDeEQsYUFBVyxFQUFYQSxFQUFhaFUsZ0JBQWlCRCxPQUFPQyxlQUNuQ0QsT0FBT2MsSUFBSSxFQUFBQyxZQUFZaUUsV0FBVzBTLG1CQUlsRCxJQUFJLElBQUFDLG1CQUFrQlAsR0FFbEJRLGFBQ0l0QixFQUNBRCxFQUFjaGQsR0FBS2tkLEVBQWFILEdBQ2hDSSxFQUNBQSxHQUNBLElBQUE5UixlQUFjMFMsRUFBUS9PLE9BQ2pCNU4sV0FBVyxrQkFBK0QsUUFBM0MsR0FBQXdaLGFBQVcsRUFBWEEsRUFBYXZTLFlBQVl1UyxhQUFXLEVBQVhBLEVBQWFyVSxhQUFLLFFBQUksSUFDOUVuRixXQUFXLDBCQUEwRCxZQUEvQndaLGFBQVcsRUFBWEEsRUFBYTRELGVBQTZCLE1BQVEsU0FDM0Y1RCxFQUFhblQsSUFBSW1XLEdBQVNNLEdBQzVCQyxFQUNBLGNBR0gsSUFBSSxJQUFBTSxpQkFBZ0JWLEdBQ3pCLENBQ0ksTUFBTVcsRUFBUVgsRUFBUXhNLFFBQVEvTSxRQUFRb1csRUFBYW5ULElBQUltVyxHQUFTTSxJQUMxRFMsRUFBU1osRUFBUXhNLFFBQVF6UCxPQUd6QjhjLEVBQXFCaEIsSUFBWSxFQUFBbFcsWUFBWWlFLFlBQWUsRUFBQTZGLHdCQUF3Qm5RLFNBQVN1WixFQUFhblQsSUFBSW1XLEdBQVNNLElBQ3ZIVyxJQUFpQkQsSUFBcUIsSUFBQUUsa0NBQWlDbEUsRUFBYW5ULElBQUltVyxHQUFTTSxHQUFnQyxLQUF5QixRQUFuQixFQUFBdlgsT0FBT0Msb0JBQVksU0FBSyxFQUFHZ1UsSUFDbEttRSxJQUFpQkgsSUFBcUIsSUFBQUUsa0NBQWlDbEUsRUFBYW5ULElBQUltVyxHQUFTTSxHQUFnQyxJQUF3QixRQUFuQixFQUFBdlgsT0FBT0Msb0JBQVksU0FBSyxFQUFHZ1UsS0FDdkgsU0FBM0NBLEVBQWFuVCxJQUFJbVcsR0FBU00sR0FFL0JjLG1CQUNJL0IsRUFDQUQsRUFBY2hkLEdBQUtrZCxFQUFhSCxHQUNoQ0ssRUFDQUwsR0FDQSxJQUFBMVIsZUFBY3VQLEVBQWFuVCxJQUFJbVcsR0FBU00sSUFDdENDLEdBQW9CVSxHQUFnQkUsRUFBNkIsVUFBWixVQUN2RCxJQUNBLEtBQU0sSUFBQTFULGVBQWN3VCxFQUFlLEdBQU1kLEVBQVF0TSxLQUFPc00sRUFBUXhNLFNBQVNtTixFQUFRLEVBQUlDLEdBQVVBLEdBQVVELEVBQVEsRUFBSVgsRUFBUXhNLFFBQVFtTixFQUFRLEdBQUssTUFDbEosS0FBTSxJQUFBclQsZUFBYzBULEVBQWUsR0FBTWhCLEVBQVF0TSxLQUFPc00sRUFBUXhNLFNBQVNtTixFQUFRLEVBQUlDLEdBQVVBLEdBQVVELEVBQVEsRUFBSUMsRUFBU1osRUFBUXhNLFFBQVFtTixFQUFRLEdBQUssS0FDM0pQLEdBQW9CVSxHQUFnQkUsR0FFeENFLGFBQ0ksSUFBQTVULGVBQWMwUyxFQUFRL08sT0FDakI1TixXQUFXLGtCQUErRCxRQUEzQyxHQUFBd1osYUFBVyxFQUFYQSxFQUFhdlMsWUFBWXVTLGFBQVcsRUFBWEEsRUFBYXJVLGFBQUssUUFBSSxJQUM5RW5GLFdBQVcsMEJBQTBELFlBQS9Cd1osYUFBVyxFQUFYQSxFQUFhNEQsZUFBNkIsTUFBUSxPQUM3RnZCLEVBQWNHLEVBQXVDLEVBQWJGLEVBQ3hDRixHQUFjaGQsR0FBS2tkLEVBQWFILEdBQWlCbEssS0FBS3FNLEtBQUtuQyxFQUFnQixJQUMzRWpDLEVBQThCLEVBQWRtQyxFQUFtQkcsRUFDbkMsUUFDQSxPQUVSLE1BQ0ssSUFBSSxJQUFBK0IsZUFBY3BCLEtBQVksSUFBQXFCLGlCQUFnQnJCLEdBQ25ELENBQ0ksTUFBTXNCLEVBQUtySCxHQUFZNEYsRUFBU00sR0FDaENvQixxQkFDSUQsRUFDQXBDLEVBQ0FELEVBQWNoZCxHQUFLa2QsRUFBYUgsR0FDbkIsUUFBYixFQUFBZ0IsRUFBUXpQLGFBQUssUUFBSStPLEVBQ2pCTixHQUVBb0IsRUFFQW9CLG9CQUFvQkYsRUFBSSxXQUFZLFFBSXBDRyx1QkFBdUJILEVBQUksWUFFL0JKLGFBQ0ksSUFBQTVULGVBQWMwUyxFQUFRL08sT0FDakI1TixXQUFXLGtCQUErRCxRQUEzQyxHQUFBd1osYUFBVyxFQUFYQSxFQUFhdlMsWUFBWXVTLGFBQVcsRUFBWEEsRUFBYXJVLGFBQUssUUFBSSxJQUM5RW5GLFdBQVcsMEJBQTBELFlBQS9Cd1osYUFBVyxFQUFYQSxFQUFhNEQsZUFBNkIsTUFBUSxPQUM3RnZCLEdBQTRCLFFBQWIsRUFBQWMsRUFBUXpQLGFBQUssUUFBSStPLEdBQW1DLEVBQWJILEVBQ3RERixFQUFjaGQsR0FBS2tkLEVBQWFILEdBQWtCbEssS0FBS3FNLEtBQUtuQyxFQUFnQixHQUM1RWpDLEVBQThCLEVBQWRtQyxHQUFpQyxRQUFiLEVBQUFjLEVBQVF6UCxhQUFLLFFBQUkrTyxHQUNyRCxRQUNBLE9BRVIsSUFFUixDQWtITyxTQUFTb0MsS0FFUSxPQUFoQm5ELEdBRUk5WixPQUFPaUYsSUFBSWlZLGFBRVhsZCxPQUFPaUYsSUFBSWlZLFlBQWEsR0FFNUJDLE9BRXFCLG1CQUFoQnJELElBT0xzRCxHQUE0QnRELEdBQzVCaUIsRUFBYyxFQUNkQyxFQUFXLEdBUFhsQixFQUFjLEtBVXRCLENBRU8sU0FBU3VELGlCQUVaLEdBQUlsRCxXQUFXNUIsR0FFWDBFLFNBRkosQ0FNQSxJQUFJN0UsYUFBVyxFQUFYQSxFQUFhaFUsZ0JBQWlCRCxPQUFPQyxjQUFnQyxPQUFoQjBWLEVBQ3pELENBQ0ksR0FBSUssV0FBV3BCLEdBR1gsWUFEZ0MsUUFBaEMsRUFBQS9ZLE9BQU9zZCxLQUFLdEUsRUFBVyxpQkFBUyxTQUFFdUUsU0FHdEMsR0FBSXBELFdBQVdqQixHQUdYLFlBRHFDLFFBQXJDLEVBQUFsWixPQUFPc2QsS0FBS3JFLEVBQWdCLGlCQUFTLFNBQUVzRSxTQUczQyxHQUFJcEQsV0FBV2hCLEdBSVgsT0FGQVcsRUFBYyxzQkFDZEUsRUFBaUJ3RCxLQUFLQyxNQUFRLEtBR2xDLEdBQUl0RCxXQUFXWixHQVVYLFlBUkEsSUFBQW1FLCtCQUE4QkMsTUFBSyxLQUUvQnJFLEVBQW9CLGtDQUFrQyxJQUUxRCxLQUVJQSxFQUFvQiwyQkFBMkIsSUFDaERzRSxTQUFRLElBQU12RSxFQUFvQm1FLEtBQUtDLE1BQVEsTUFHdEQsR0FBSXRELFdBQVdYLEdBVVgsWUFSQSxJQUFBcUUsNkJBQTRCRixNQUFLLEtBRTdCckUsRUFBb0IsOEJBQThCLElBRXRELEtBRUlBLEVBQW9CLDJCQUEyQixJQUNoRHNFLFNBQVEsSUFBTXZFLEVBQW9CbUUsS0FBS0MsTUFBUSxLQUcxRCxDQVlBLEdBVG9CLE9BQWhCM0QsR0FBOEQsT0FBdENHLEVBQWVMLE9BRXZDRSxFQUFjRyxFQUFlTCxLQUM3Qm1CLEVBQWMsRUFDZEMsRUFBVzNLLEtBQUtxTSxLQUFLamMsT0FBT25DLFFBQTBDLFFBQWxDLGFBQWdCd2IsUUFBQUEsRUFBZSxXQUFHLFFBQUksQ0FBQyxHQUN0RXpjLFFBQU8sRUFBRWllLEVBQUtDLE1BQVksTUFBQyxXQUFBQyxrQkFBaUJELElBQWFELEtBQTJDLFFBQW5DLEVBQUFsRCxhQUFXLEVBQVhBLEVBQWFuVCxJQUFJNlUsUUFBQUEsRUFBZSxXQUFHLFFBQUksQ0FBQyxFQUFHLElBQzVHeGEsT0FBU2diLEdBQ2R3RCxHQUFtQmhFLElBRUgsbUJBQWhCQSxHQU1KLEdBQW9CLE9BQWhCQSxFQUNKLENBR0ksR0FBSXJaLE9BQU9uQyxRQUEwQyxRQUFsQyxhQUFnQndiLFFBQUFBLEVBQWUsV0FBRyxRQUFJLENBQUMsR0FDckR6YyxRQUFPLEVBQUVpZSxFQUFLQyxNQUFZLE1BQUMsV0FBQUMsa0JBQWlCRCxJQUFhRCxLQUEyQyxRQUFuQyxFQUFBbEQsYUFBVyxFQUFYQSxFQUFhblQsSUFBSTZVLFFBQUFBLEVBQWUsV0FBRyxRQUFJLENBQUMsRUFBRyxJQUM1R3hhLE9BQVNnYixFQUVkLENBQ0ksR0FBSUgsV0FBV2MsS0FBb0JGLEVBQWNDLEVBSzdDLE9BSEFvQyxHQUE0QnRELEdBQzVCaUIsU0FDQStDLEdBQW1CaEUsR0FHdkIsR0FBSUssV0FBV2UsS0FBb0JILEVBQWMsRUFLN0MsT0FIQXFDLEdBQTRCdEQsR0FDNUJpQixTQUNBK0MsR0FBbUJoRSxFQUczQixFQW5PUixTQUEwQnNCLFNBR3RCLElBQUtoRCxFQUFlLE9BR3BCLE1BQU1pRCxFQUFvQjVhLE9BQU9uQyxRQUFnQyxRQUF4QixhQUFnQjhjLFVBQVEsUUFBSSxDQUFDLEdBQ2pFL2QsUUFBTyxFQUFFaWUsRUFBS0MsTUFBWSxNQUFDLFdBQUFDLGtCQUFpQkQsSUFBYUQsS0FBaUMsUUFBekIsRUFBQWxELGFBQVcsRUFBWEEsRUFBYW5ULElBQUltVyxVQUFRLFFBQUksQ0FBQyxFQUFHLElBR3ZHQyxFQUFrQm5iLE9BQU82YSxFQUFjLEdBQUtULEVBQWlCUyxFQUFjVCxHQUFpQnpLLFNBQVEsQ0FBQzRMLEVBQUtqZSxlQUV0RyxNQUFPa2UsRUFBYUgsR0FBV0UsRUFFekJFLEdBQW1CSixFQUFRMU0sT0FBT3VKLElBRWxDLFNBQVNnRCxNQUFhaEQsRUFBYW5ULElBQUksRUFBQUMsWUFBWWlFLFlBQ2hELE9BQU9pUyxNQUFhaEQsRUFBYW5ULElBQUksRUFBQUMsWUFBWWlFLGNBQ2hELElBQUFrSSwyQkFDbUIsUUFBbkIsRUFBQWxOLE9BQU9DLG9CQUFZLFNBQUssRUFDeEJnVSxFQUFhblQsSUFBSSxFQUFBQyxZQUFZaUUsV0FBVyxTQUFTaVMsS0FDakRoRCxFQUFhblQsSUFBSSxFQUFBQyxZQUFZaUUsV0FBVyxPQUFPaVMsS0FDL0NoRCxLQUlIalUsT0FBT3VCLGlCQUNIMFMsYUFBVyxFQUFYQSxFQUFhaFUsZ0JBQWlCRCxPQUFPQyxlQUNoQ0QsT0FBT2MsSUFBSSxFQUFBQyxZQUFZaUUsV0FBV3lTLGtCQUNwQ3hELGFBQVcsRUFBWEEsRUFBYWhVLGdCQUFpQkQsT0FBT0MsZUFDbkNELE9BQU9jLElBQUksRUFBQUMsWUFBWWlFLFdBQVcwUyxtQkFJbEQsSUFBSSxJQUFBQyxtQkFBa0JQLEdBR2RwQixRQUNJTSxFQUNBRCxFQUFjaGQsR0FBS2tkLEVBQWFILEdBQ2hDSSxFQUNBQSxLQUVBZ0IsSUFHSnZELEVBQWFuVCxJQUFJbVcsR0FBU00sSUFBZ0J0RCxFQUFhblQsSUFBSW1XLEdBQVNNLEdBQ2hFSCxFQUFRcE0sT0FFUm9NLEVBQVFwTSxNQUFNaUosRUFBY0EsRUFBYW5ULElBQUltVyxHQUFTTSxJQUFldEQsRUFBYW5ULElBQUltVyxHQUFTTSxJQUVuR3ZELEdBQWlCLFFBR3BCLElBQUksSUFBQThELGlCQUFnQlYsR0FDekIsQ0FDSSxNQUFNVyxFQUFRWCxFQUFReE0sUUFBUS9NLFFBQVFvVyxFQUFhblQsSUFBSW1XLEdBQVNNLElBQzFEUyxFQUFTWixFQUFReE0sUUFBUXpQLE9BRS9CLElBQ0k2YSxRQUNJTSxFQUNBRCxFQUFjaGQsR0FBS2tkLEVBQWFILEdBQ2hDbEssS0FBSytKLE1BQU1RLEVBQXlCLEdBQ3BDTCxJQUVBb0IsS0FDQUosRUFBUXRNLE1BQ1BpTixFQUFRLElBRVRkLElBQVksRUFBQWxXLFlBQVlpRSxXQUN0QixFQUFBNkYsd0JBQXdCblEsU0FBU3VaLEVBQWFuVCxJQUFJbVcsR0FBU00sT0FDNUQsSUFBQVksa0NBQWlDbEUsRUFBYW5ULElBQUltVyxHQUFTTSxHQUFnQyxLQUF5QixRQUFuQixFQUFBdlgsT0FBT0Msb0JBQVksU0FBSyxFQUFHZ1UsSUFZaEksR0FDRCtCLFFBQ0lNLEVBQWNwSyxLQUFLK0osTUFBTVEsRUFBeUIsR0FDbERKLEVBQWNoZCxHQUFLa2QsRUFBYUgsR0FDaENsSyxLQUFLcU0sS0FBSzlCLEVBQXlCLEdBQ25DTCxLQUVBb0IsSUFDQUosRUFBUXRNLE1BQ1BpTixFQUFRLEVBQUlYLEVBQVF4TSxRQUFRelAsVUFFN0I4YixJQUFZLEVBQUFsVyxZQUFZaUUsWUFDdEIsRUFBQTZGLHdCQUF3Qm5RLFNBQVN1WixFQUFhblQsSUFBSW1XLEdBQVNNLE1BQzVELElBQUFZLGtDQUFpQ2xFLEVBQWFuVCxJQUFJbVcsR0FBU00sR0FBZ0MsSUFBd0IsUUFBbkIsRUFBQXZYLE9BQU9DLG9CQUFZLFNBQUssRUFBR2dVLElBRXBJLENBQ0ksTUFBTTlDLEVBQVk4QyxFQUFhblQsSUFBSW1XLEdBQVNNLEdBQzVDdEQsRUFBYW5ULElBQUltVyxHQUFTTSxHQUFlSCxFQUFReE0sU0FBU21OLEVBQVEsRUFBSUMsR0FBVUEsR0FDNUVaLEVBQVFwTSxPQUVSb00sRUFBUXBNLE1BQU1pSixFQUFjbUQsRUFBUXhNLFNBQVNtTixFQUFRLEVBQUlDLEdBQVVBLEdBQVM3RyxHQUVoRjZDLEdBQWlCLENBQ3JCLE1BakNBLENBQ0ksTUFBTTdDLEVBQVk4QyxFQUFhblQsSUFBSW1XLEdBQVNNLEdBQzVDdEQsRUFBYW5ULElBQUltVyxHQUFTTSxHQUFlSCxFQUFReE0sU0FBU21OLEVBQVEsRUFBSUMsR0FBVUEsR0FDNUVaLEVBQVFwTSxPQUVSb00sRUFBUXBNLE1BQU1pSixFQUFjbUQsRUFBUXhNLFNBQVNtTixFQUFRLEVBQUlDLEdBQVVBLEdBQVM3RyxHQUVoRjZDLEdBQWlCLENBQ3JCLENBMEJKLElBRVIsQ0FzSFE0RixDQUFpQmpFLEVBQ3JCLE9BS0osV0FFUUssV0FBV1YsSUFBMkIrRCxLQUFLQyxNQUFRekQsS0FFbkQsSUFBQWdFLGdCQUNBbEUsRUFBYyxLQUNkRSxFQUFpQixHQUdqQkcsV0FBV1QsS0FFWEksRUFBYyxLQUNkRSxFQUFpQixFQUV6QixDQWhEUWlFLEVBMURKLENBMEZKLENBNEVPLFNBQVNDLFdBRVosR0FBb0IsbUJBQWhCcEUsRUFHQSxZQS9EUixXQUVJLE1BQU1xRSxFQUFnQkMsV0FBV0MsVUFDakNELFdBQVdDLFVBQVksU0FFdkJDLFVBQ0ksSUFBQXpWLGVBQWMsdUZBQ2R5UCxFQUFlLEVBQ2YsSUFDQSxVQUNBLFdBRUpnRyxVQUVJLElBQUF6VixlQUFjLGtDQUNkeVAsRUFBZSxFQUNmLElBQ0EsVUFDQSxXQUVKZ0csVUFDSSxJQUFBelYsZUFBYyxzRUFDZHlQLEVBQWUsRUFDZixJQUNBLFVBQ0EsV0FHSixNQUFNbUYsRUFBTUQsS0FBS0MsTUFDYkEsR0FBT3pELEVBRVBLLGNBQ09aLEVBQ0gsSUFBRyxJQUFBNVEsZUFBYyxlQUFld0gsS0FBSytKLE9BQU9KLEVBQWlCeUQsR0FBTyxRQUNwRSxlQUNBblosT0FDQUEsR0FDQSxHQUtKK1YsY0FDT1osR0FDSCxJQUFBNVEsZUFBYyxXQUNkLFdBSVJ3UixjQUNPWCxHQUNILElBQUE3USxlQUFjLFVBQ2QsU0FHSnVWLFdBQVdDLFVBQVlGLENBQzNCLENBTVFJLEdBSUosTUFBTUosRUFBZ0JDLFdBQVdDLFVBQ2pDaEUsY0FBYzlCLEVBQWdCLEdBQUksUUFBUyxrQkFDM0M2RixXQUFXQyxVQUFZLFNBQ3ZCQyxTQUFTLElBQUcsSUFBQXpWLGVBQWMsOEJBQThCaVIsRUFBYyxPQUFNMUIsYUFBVyxFQUFYQSxFQUFhdlMsWUFBWXVTLGFBQVcsRUFBWEEsRUFBYXJVLFlBQVUsSUFBQThFLGVBQXNDLFFBQXhCLEVBQUFnUixFQUFZQyxVQUFZLFFBQUlBLEtBQWlCLEtBQU0sSUFBTSxJQUFLLFFBQVMsU0FHN00xQixhQUFXLEVBQVhBLEVBQWFoVSxnQkFBaUJELE9BQU9DLGNBQWdDLE9BQWhCMFYsSUFFakRULEdBQXFCbUUsS0FBS0MsUUFFMUJXLFdBQVdDLFVBQVksT0FDdkI1QixZQUNJbkQsS0FDR0YsRUFDSCxRQUNBLFNBR1JnRixXQUFXQyxVQUFZLFNBQ3ZCaEUsY0FDT3RCLEdBQ0gsSUFBQWxRLGVBQWMsUUFDZCxVQUNBLElBQ0EsSUFBQUEsZUFBYyxtQ0FFbEJ3UixjQUNPbkIsRUFDSCxVQUNBLFVBQ0EsRUFBQTFOLE1BQU1nVCxRQUNOLHlCQUVKbkUsY0FDT2xCLEdBQ0gsSUFBQXRRLGVBQWMsU0FDZCxZQUNBLElBQ0EsSUFBQUEsZUFBYyw0Q0FFbEJ3UixjQUNPZCxHQUNILElBQUExUSxlQUFjLFVBQ2QsVUFDQSxJQUNBLElBQUFBLGVBQWMsaURBRWxCd1IsY0FDT2IsR0FDSCxJQUFBM1EsZUFBYyxVQUNkLFVBQ0EsSUFDQSxJQUFBQSxlQUFjLGtEQUVsQjRULFlBQ0ksSUFBRyxJQUFBNVQsZUFBYyxlQUFlMUUsT0FBT2MsSUFBSXZELGFBQ3hDaVksRUFDSCxRQUNBLFNBSVJ5RSxXQUFXQyxVQUFZLE9BQ0gsT0FBaEJ2RSxFQTFrQlIsU0FBeUJJLFNBRXJCLElBQUssSUFBSTFjLEVBQUksRUFBR0EsRUFBSTBjLEVBQVk1YSxPQUFROUIsSUFFcEM2YyxXQUNJekIsR0FBZUgsRUFBZUksR0FBY3hJLEtBQUsrSixNQUFNNWMsRUFBSWdiLEdBQzNERyxHQUFjRCxFQUFnQkcsSUFBZXJiLEVBQUlnYixHQUNqREMsRUFDQUMsRUFDQSxHQUNBLFNBRUorRCxhQUNJLElBQUE1VCxlQUF5QyxRQUEzQixFQUFBZ1IsRUFBWUssRUFBWTFjLFdBQUcsUUFBSTBjLEVBQVkxYyxJQUN4RG9iLEVBQWNFLEdBQXdCTCxFQUFlSSxHQUFjeEksS0FBSytKLE1BQU01YyxFQUFJZ2IsR0FDbEZHLEVBQWF0SSxLQUFLK0osTUFBTTFCLEVBQWdCLElBQU9BLEVBQWdCRyxJQUFlcmIsRUFBSWdiLEdBQ25GQyxFQUFxQyxFQUF0QkssRUFDZixRQUNBLE9BR1osQ0F3akJRMkYsQ0FBZ0I3RSxLQUtoQnVCLEdBQW1CckIsR0FFdkJzRSxXQUFXQyxVQUFZRixDQUUzQixDQUVBLFNBQVNoQixLQUdBL0UsSUFFREQsSUFFSUMsRUFBWWhVLGVBQWlCRCxPQUFPQyxlQUVwQyxJQUFBc2EsWUFBVSxHQUFPLEdBQU8sSUFDeEIsSUFBQS9YLGNBQVksS0FJWixJQUFBc0wsZ0JBQ0ksQ0FDSXJCLFFBQVMsb0JBQ1RtQixTQUFVcUcsRUFBWW5ULEtBRTFCbVQsRUFBWWhVLGVBSXBCZ1UsRUFBWWhVLGVBQWlCRCxPQUFPQyxjQUVwQ3VhLHFDQUVKeEcsR0FBaUIsRUFDakJDLEVBQWMsS0FDZDJCLEdBQWUsRUFDbkIsQ0FZQSxTQUFTNkUsS0FFTHpHLEdBQWlCLEVBQ2pCQyxFQUFjalUsT0FQVGlVLElBQ0wyQixHQUFlLEVBUW5CLENBS08sU0FBU3ZFLEdBQVk5QixFQUE2QjZILEdBRXJELE1BQU8sY0FBYzdILElBQVE2SCxHQUNqQyxDQUtBLFNBQVN1QyxHQUFtQjFDLEVBQTZCeUQsRUFBZTlELFNBRS9ESyxHQUVBaEQsR0FFTDNYLE9BQU9uQyxRQUFnQyxRQUF4QixhQUFnQjhjLFVBQVEsUUFBSSxDQUFDLEdBQUdsYixPQUFPMmUsRUFBTyxHQUFLdkUsRUFBaUJ1RSxFQUFPdkUsR0FBaUJ6SyxTQUFTdFIsVUFFaEgsTUFBT21kLEVBQWFILEdBQVdoZCxFQUN6QnNlLEVBQUtySCxHQUFZNEYsRUFBU00sSUFDNUIsSUFBQWlCLGVBQWNwQixHQUVkdUQsbUJBQW1CakMsRUFBSSxPQUFRekUsRUFBYW5ULElBQUltVyxHQUFTTSxHQUF3QyxRQUFoQixFQUFBSCxFQUFRek0sZ0JBQVEsUUFBSWdNLElBRWhHLElBQUE4QixpQkFBZ0JyQixLQUVyQnVELG1CQUFtQmpDLEVBQUksU0FBVXpFLEVBQWFuVCxJQUFJbVcsR0FBU00sR0FBYS9jLFlBQ3hFb2Usb0JBQW9CRixFQUFJLE1BQU90QixFQUFRakwsSUFBSTNSLFlBQzNDb2Usb0JBQW9CRixFQUFJLE1BQU90QixFQUFRd0QsSUFBSXBnQixZQUMzQ29lLG9CQUFvQkYsRUFBSSxZQUFhLFdBQ2pDdEIsRUFBUXlELE1BRVJqQyxvQkFBb0JGLEVBQUksT0FBUXRCLEVBQVF5RCxLQUFLcmdCLFlBRXJELEdBRVIsQ0FJQSxTQUFTeWUsR0FBNEJoQyxFQUFzQnlELEVBQWU5RCxTQUdqRTNDLElBR0RnRCxJQUFZLEVBQUFsVyxZQUFZcUUsYUFFeEIsSUFBQW1WLFlBQVUsR0FBTyxHQUFPLEdBRzVCamUsT0FBT25DLFFBQWdDLFFBQXhCLGFBQWdCOGMsVUFBUSxRQUFJLENBQUMsR0FBR2xiLE9BQU8yZSxFQUFPLEdBQUt2RSxFQUFpQnVFLEVBQU92RSxHQUFpQnpLLFNBQVN0UixJQUVoSCxNQUFPbWQsRUFBYUgsR0FBV2hkLEVBQ3pCc2UsRUFBS3JILEdBQVk0RixFQUFTTSxJQUM1QixJQUFBaUIsZUFBY3BCLEtBRVZuRCxFQUFhblQsSUFBSW1XLEdBQVNNLEtBQWlCL0YsYUFBYWtILEtBRXhEekUsRUFBYW5ULElBQUltVyxHQUFTTSxHQUFlL0YsYUFBYWtILEdBQ3REMUUsR0FBaUIsR0FFckI4RyxjQUFjcEMsS0FFZCxJQUFBRCxpQkFBZ0JyQixLQUVabkQsRUFBYW5ULElBQUltVyxHQUFTTSxLQUFpQjFVLE9BQU8yTyxhQUFha0gsTUFFL0R6RSxFQUFhblQsSUFBSW1XLEdBQVNNLEdBQWUxVSxPQUFPMk8sYUFBYWtILElBQzdEMUUsR0FBaUIsR0FFckI4RyxjQUFjcEMsR0FDbEIsSUFFUixDQUVPLE1BQU1xQyxXQUF1QixFQUFBblYsT0FFaEMsU0FBSUMsR0FFQSxPQUFPLEVBQUE5RSxZQUFZb0UsUUFDdkIsQ0FFQSxJQUFBWSxHQWNJLFNBQVNpVixFQUFjQyxHQUdBLFdBQWRBLEVBQU05RCxLQUFrQyxRQUFkOEQsRUFBTTlELE1BQzlCdkIsSUFHaUIsT0FBaEJELEVBRUFxRCxLQUVxQixtQkFBaEJyRCxFQUVMRSxFQUFpQixHQUlqQm9ELEdBQTRCdEQsR0FDNUJpQixFQUFjLEVBQ2RDLEVBQVcsR0FFZmxCLEVBQWMsS0FDZHNGLEVBQU1DLGtCQUVkLENBbkNBQyxtQ0FBbUMsQ0FDL0JDLFdBQVksTUFDWkMsWUFBWSxJQUFBM1csZUFBYyxnQkFDMUI4RCxNQUFPLEVBQUFuQixNQUFNQyxJQUNiZ1UsTUFBT3BDLEdBQ1BxQyxJQUFLeEIsR0FDTHlCLEtBQU14QyxHQUNOeUMsS0FBTWhCLEtBNkJWdlQsU0FBU3dVLGlCQUFpQixXQUFZVixHQUFlLEdBQ3JEOVQsU0FBU3dVLGlCQUFpQixVQUFXVixHQUFlLEVBQ3hELENBRUEsTUFBQTlVLEdBR0EsQ0FFQSxNQUFBSSxHQUdBLHljQzUzQkosTUFBTXFWLEVBQWEsQ0FBQyxLQUFNLElBQUssR0FBSSxJQUU3QkMsRUFBaUIsQ0FBQyxLQUFNLElBQUssR0FBSSxJQUVqQ0MsRUFBb0IsQ0FDdEIsSUFDQSxJQUNBLEtBRUVDLEVBQXFCLENBQ3ZCRCxFQUFrQixHQUNsQkEsRUFBa0IsR0FBSyxHQUN2QkEsRUFBa0IsSUFHdEIsU0FBU0UsRUFBWUMsRUFBYUMsR0FFOUIsT0FBSUQsRUFBSzdnQixTQUFXOGdCLEVBQUs5Z0IsUUFJbEI2Z0IsRUFBS0UsT0FBTSxDQUFDamQsRUFBTzhZLElBQVU5WSxJQUFVZ2QsRUFBS2xFLElBQ3ZELENBRU8sU0FBU29FLEVBQWtCQyxFQUFnQkMsR0FFOUMsTUFBTUMsRUFBYyxDQUFDLEVBRXJCLElBQUssTUFBTW5GLEtBQU9pRixFQUNsQixDQUVJLEtBQU1qRixLQUFPa0YsR0FDYixDQUNJQyxFQUFZbkYsR0FBTyxDQUFFb0YsSUFBS0gsRUFBT2pGLEdBQU1xRixTQUFLcmMsR0FDNUMsUUFDSixDQUVBLE1BQU1zYyxFQUFXTCxFQUFPakYsR0FDbEJ1RixFQUFXTCxFQUFPbEYsR0FFeEIsR0FDSXJlLE1BQU1DLFFBQVEwakIsSUFDWDNqQixNQUFNQyxRQUFRMmpCLEdBSVpYLEVBQVlVLEVBQVVDLEtBRXZCSixFQUFZbkYsR0FBTyxDQUFFb0YsSUFBS0UsRUFBVUQsSUFBS0UsU0FHNUMsR0FDbUIsaUJBQWJELEdBQ2dCLGlCQUFiQyxHQUNONWpCLE1BQU1DLFFBQVEwakIsR0FTYkEsSUFBYUMsSUFHbEJKLEVBQVluRixHQUFPLENBQUVvRixJQUFLRSxFQUFVRCxJQUFLRSxRQVg3QyxDQUVJLE1BQU1DLEVBQU9SLEVBQWtCTSxFQUFVQyxHQUNyQ3BnQixPQUFPZ0QsS0FBS3FkLEdBQU14aEIsT0FBUyxJQUUzQm1oQixFQUFZbkYsR0FBT3dGLEVBRTNCLENBTUosQ0FHQSxJQUFLLE1BQU14RixLQUFPa0YsRUFFUmxGLEtBQU9pRixJQUVURSxFQUFZbkYsR0FBTyxDQUFFb0YsU0FBS3BjLEVBQVdxYyxJQUFLSCxFQUFPbEYsS0FJekQsT0FBT21GLENBQ1gsQ0FFTyxNQUFNTSxVQUE0QixFQUFBaFgsT0FFckMsU0FBSUMsR0FFQSxPQUFPLEVBQUE5RSxZQUFZMEUsYUFDdkIsQ0FFQSxpQkFBSUssR0FFQSxNQUFPLENBQ0gsQ0FDSXdJLE9BQVFwVCxLQUFLMkssTUFDYjRHLFFBQVMsb0JBQ1Q4QixPQUFRLFNBQVVDLEVBQW1CQywrQkFFakMsTUFBTW9PLEVBQVk3YyxPQUFPYyxJQUFJLEVBQUFDLFlBQVlxRSxZQUFZNkcsUUFDL0NxUSxFQUFjSCxFQUFrQm5jLE9BQU9jLElBQUsyTixFQUFRYixVQUUxRHRSLE9BQU9nRCxLQUFLZ2QsR0FBYTVRLFNBQVMvRixLQUV6QixJQUFBRCxnQkFBZUMsV0FFVDJXLEVBQVkzVyxFQUN2QixJQUVKLE1BQU1tWCxFQUE0QixJQUdPLFFBQXJDLEVBQUFSLGFBQVcsRUFBWEEsRUFBYyxFQUFBdmIsWUFBWXFFLG1CQUFXLGVBQUUyWCxpQkFFaENULEVBQVksRUFBQXZiLFlBQVlxRSxZQUFZMlgsT0FDcUIsSUFBNUR6Z0IsT0FBT2dELEtBQUtnZCxFQUFZLEVBQUF2YixZQUFZcUUsYUFBYWpLLGVBRTFDbWhCLEVBQVksRUFBQXZiLFlBQVlxRSxjQUd2QyxJQUFBbVYsWUFBVSxHQUFPLEdBQU8sR0FLeEIsTUFBTXlDLEVBQW9CdGMsS0FBS0MsTUFBTUQsS0FBS3VjLFVBQW9CLFFBQVYsRUFBQWpkLE9BQU9jLFdBQUcsZUFBRyxFQUFBQyxZQUFZaUUsYUFDdkVrWSxFQUFlWixFQUFZLEVBQUF2YixZQUFZaUUsV0FDN0MsR0FBSWtZLEVBSUEsVUFGT1osRUFBWSxFQUFBdmIsWUFBWWlFLFlBRTNCLElBQUFrSSwyQkFBNkMsUUFBbkIsRUFBQXNCLEVBQU92TyxvQkFBWSxTQUFLLEVBQUcrYyxFQUFrQixTQUFTLEVBQUFqYyxZQUFZaUUsY0FDaEcsQ0FDSThYLEVBQWdCOWlCLE1BQUssSUFBQTBLLGVBQWMsRUFBQTNELFlBQVlpRSxZQUMvQyxJQUFLLE1BQU1tWSxLQUFTRCxPQUVnQi9jLElBQTVCK2MsRUFBYUMsR0FBT1gsVUFBaURyYyxJQUE1QitjLEVBQWFDLEdBQU9aLE1BRTdEdmMsT0FBT2MsSUFBSSxFQUFBQyxZQUFZaUUsV0FBV21ZLEdBQVNELEVBQWFDLEdBQU9YLElBRzNFLE1BR0kvakIsUUFBUWdCLEtBQUssUUFBUStVLEVBQU85TSxVQUFZOE0sRUFBTzVPLFNBQVM0TyxFQUFPdk8sZ0RBQWdELEVBQUFjLFlBQVlpRSx1QkFJbkksSUFBSyxNQUFNdUssS0FBUytNLEVBQ3BCLENBR0ksS0FBTSxJQUFBcFAsMkJBQTZDLFFBQW5CLEVBQUFzQixFQUFPdk8sb0JBQVksU0FBSyxFQUFzQyxRQUFuQyxFQUFBK2MsRUFBa0IsU0FBU3pOLFlBQVEsUUFBSSxXQUM3RixJQUFBckMsMkJBQTZDLFFBQW5CLEVBQUFzQixFQUFPdk8sb0JBQVksU0FBSyxFQUEwRCxRQUF2RCxFQUFtQyxRQUFuQyxFQUFVLFFBQVYsRUFBQUQsT0FBT2MsV0FBRyxlQUFHLEVBQUFDLFlBQVlpRSxrQkFBVSxlQUFHLFNBQVN1SyxZQUFRLFFBQUksUUFFckgsQ0FDSTlXLFFBQVFnQixLQUFLLFFBQVErVSxFQUFPOU0sVUFBWThNLEVBQU81TyxTQUFTNE8sRUFBT3ZPLGdEQUFnRHNQLGVBQy9HLFFBQ0osQ0FFQXVOLEVBQWdCOWlCLE1BQUssSUFBQTBLLGVBQStDLFFBQWpDLElBQUFnUixZQUFZbkcsVUFBcUIsUUFBSUEsSUFFeEUsTUFBTTZOLEVBQWFkLEVBQVkvTSxHQUMvQixJQUFLLE1BQU00TixLQUFTQyxPQUVjamQsSUFBMUJpZCxFQUFXRCxHQUFPWCxVQUErQ3JjLElBQTFCaWQsRUFBV0QsR0FBT1osTUFFekR2YyxPQUFPYyxJQUFJeU8sR0FBc0I0TixHQUFTQyxFQUFXRCxHQUFPWCxJQUd4RSxDQUdJeGMsT0FBT2MsSUFBSSxFQUFBQyxZQUFZeUUsU0FBUytFLFdBRXVCLFFBQXRELEVBQW9DLFFBQXBDLGFBQWdCLEVBQUF4SixZQUFZeUUsZ0JBQVEsZUFBRStFLGdCQUFnQixTQUFFUyxNQUFNaEwsU0FJL0Q2YyxJQUFjN2MsT0FBT2MsSUFBSSxFQUFBQyxZQUFZcUUsWUFBWTZHLFVBRWpEak0sT0FBT2MsSUFBSSxFQUFBQyxZQUFZcUUsWUFBWTJYLE9BQU9NLFlBQWNoRSxLQUFLQyxPQUdsQyxJQUEzQndELEVBQWdCM2hCLFNBRWhCLElBQUFzRyxrQkFDSSxJQUFBaUQsZUFBYyw2REFDVDRZLFFBQVEsa0JBQW1COU8sRUFBTzlNLFVBQVk4TSxFQUFPNU8sTUFDckQwZCxRQUFRLGlCQUFpQixJQUFBQyx1QkFBc0JULE1BSzVELElBQUF0YSxjQUFZLEVBQ2hCLEdBQ0QsQ0FDQzhMLE9BQVFwVCxLQUFLMkssTUFDYjRHLFFBQVMsa0JBQ1Q4QixPQUFRLFNBQVVDLEVBQW1CeUQsR0FFN0JqUyxPQUFPYyxJQUFJLEVBQUFDLFlBQVlpRSxXQUFXd1ksaUJBRWxDLElBQUE3YixlQUFhLElBQUErQyxlQUFjLG1EQUFtRDRZLFFBQVEsa0JBQW1COU8sRUFBTzlNLFVBQVk4TSxFQUFPNU8sTUFBTyxJQUVsSixHQUdaLENBRUEsSUFBQW1HLEdBRUk0QyxNQUFNNUMsUUFJTixJQUFBaEQsY0FBYTdILEtBQUsySyxNQUFPLHNCQURKLElBQ3lDLENBQUM3QyxFQUFNQyxXQUdqRSxJQUFjLFFBQVYsRUFBQXBILE9BQU80aEIsV0FBRyxlQUFFQyxtQkFBb0I3aEIsT0FBTzhoQix3QkFFdkMsT0FBTzFhLEVBQUtELEdBSWhCLEdBQUluSCxPQUFPaUYsSUFBSWlZLFdBQ2YsQ0FDSSxNQUFNelcsRUFBT3NiLDBCQWlCYixPQWhCSXRiLGFBQUksRUFBSkEsRUFBTXhCLE9BQVF3QixFQUFLNlAsWUFBNkIsTUFBZixFQUFBd0QsY0FFakMyQyxZQUNJLElBQUcsSUFBQTVULGVBQWMsb0JBQW9CMUUsT0FBT2MsSUFBSXZELGFBQzdDc2UsRUFDSCxRQUNBLFFBRUp2RCxZQUNJLElBQUcsSUFBQTVULGVBQWMsaUNBQWlDcEMsYUFBSSxFQUFKQSxFQUFNeEIsSUFBSXZELFVBQVUrZixRQUFRLG1CQUFtQmhiLGFBQUksRUFBSkEsRUFBTVosWUFBWVksYUFBSSxFQUFKQSxFQUFNMUMsVUFDdEhrYyxFQUNILFFBQ0EsY0FHUixJQUFBL0Isb0JBRUosQ0FFQTlXLEVBQUtELEdBRUwsTUFBTVYsRUFBT3NiLDBCQUNiLElBQUl0YixhQUFJLEVBQUpBLEVBQU14QixPQUFRd0IsRUFBSzZQLFdBQ3ZCLENBQ0ksTUFBTTBMLEVBQVNyYywyQkFBMkJ4QixPQUFRc0MsR0FDbEQ0VCxlQUNTLElBQUE1SixZQUFhc1AsRUFBaUJELEVBQ25DLEdBQ0FrQyxFQUFTLFVBQVksVUFDckIsRUFBQXhXLE1BQU1DLEtBQ04sSUFBQTVDLGVBQWNtWixFQUFTLE1BQVEsK0JBQy9CLEVBRVIsTUFHSixJQUFBOWEsY0FBYTdILEtBQUsySyxNQUFPLHdCQWpESixJQWlEMkMsQ0FBQzdDLEVBQU1DLFdBR25FLElBQWMsUUFBVixFQUFBcEgsT0FBTzRoQixXQUFHLGVBQUVDLG1CQUFvQjdoQixPQUFPOGhCLHdCQUV2QyxPQUFPMWEsRUFBS0QsR0FHaEIsR0FBSW5ILE9BQU9pRixJQUFJaVksV0FFWCxPQUFPLElBQUFHLHVCQUdYLE1BQU01VyxFQUFPc2IsMEJBQ2IsSUFDSTVILFlBQWEsSUFBQTFKLFlBQWFzUCxFQUFpQkQsTUFDeENyWixhQUFJLEVBQUpBLEVBQU14QixNQUNMd0IsRUFBSzZQLFdBVVQsT0FBT2xQLEVBQUtELEdBUFpuSCxPQUFPaUYsSUFBSWlZLFlBQWEsR0FFeEIsSUFBQTdFLGdCQUFlNVIsSUFDZixJQUFBd0wsZ0JBQWUsQ0FBRXJCLFFBQVMsbUJBQXFCbkssRUFBS3JDLGFBS3hELEtBR0osSUFBQThDLGNBQWE3SCxLQUFLMkssTUFBTyx1QkFoRkosSUFnRjBDLENBQUM3QyxFQUFNQyxLQUVsRSxJQUFJcEgsT0FBT2lGLElBQUlpWSxXQUtmLE9BQU85VixFQUFLRCxJQUhSLElBQUE4VixvQkFHYSxHQUV6QixDQUVBLE1BQUE1UyxHQUVJeUMsTUFBTXpDLFFBQ1YsdWVDdFRKLE1BQU00WCxFQUF5QixJQUV6QkMsRUFBeUMsQ0FBQzFULEVBQWVySyxrQkFFM0QsT0FBc0MsUUFBL0IsRUFBSyxRQUFMLEVBQUFxSyxFQUFFdkosV0FBRyxlQUFHLEVBQUFDLFlBQVlxRSxtQkFBVyxRQUFJLENBQUMsQ0FBQyxFQUsxQzRZLEVBQXdCLElBR3hCQyxFQUF1QixDQUFDLFdBQVksYUFDcENDLEVBQXdCLENBQUMsa0JBQW1CLGNBRTVDQyxFQUFrQixDQUFDLFFBQVMsTUFBTyxPQUFRLFNBQVUsUUFFckRDLEVBQTBCLENBQUMsTUFBTyxXQUFZLGNBQWUsU0FBVSxXQUFZLFdBQ25GQyxFQUEwQixDQUFDLE9BQVEsZUFBZ0IsT0FBUSxTQUFVLFNBQVUsU0FDL0VDLEVBQTBCLENBQUMsUUFBUyxPQUFRLE9BQVEsUUFBUyxPQUFRLFlBQWEsYUFLbEZDLEVBQXdFLENBQzFFQyxTQUFVLEVBQ1ZDLFVBQVcsR0FDWEMsV0FBWSxJQUNaQyxTQUFVLElBQ1ZDLFNBQVUsSUFDVkMsU0FBVSxHQUNWQyxVQUFXLEVBQ1hDLFNBQVUsRUFDVkMsU0FBVSxFQUNWQyxVQUFXLEVBQ1hDLFNBQVUsSUFDVkMsWUFBYSxJQUNiQyxTQUFVLElBQ1ZDLFdBQVksSUFDWkMsVUFBVyxFQUNYQyxVQUFXLEVBQ1hDLG1CQUFvQixLQUdsQkMsRUFBMEIsR0FHaEMsSUFBSUMsRUFHSixNQUFNQyxFQUFxQixDQUFDLE9BQVEsbUJBQW9CLE9BQVEsU0FBVSxjQUFlLGFBQ25GQyxFQUEyQixDQUFDLGdCQUFpQixnQkFBaUIsVUFBVyxrQkFDekVDLEVBQWtCLENBQUMsWUFBYSxxQkFBc0IsWUFDdERDLEVBQW1CeGpCLE9BQU9nQyxPQUFPLENBQ25DeWhCLElBQUssRUFDTG5PLElBQUssSUFDTEMsT0FBUSxHQUNSQyxLQUFNLEtBSUprTyxFQUEwQyxDQUFDLEVBRTNDQyxFQUFnQjNqQixPQUFPZ0MsT0FBTyxDQUNoQzRoQixPQUFRLENBQ0oscUdBQ0EsOElBQ0EsMEhBRUpDLEtBQU0sQ0FDRixzSkFDQSxpSkFDQSw0S0FJS0MsRUFBd0I5ZCxzQkFFakMsTUFDeUYsWUFBakIsUUFBcEUsRUFBMEQsUUFBMUQsRUFBQUEsRUFBSytkLFdBQVdyWCxNQUFNQyxHQUE2QixTQUF2QkEsRUFBRXhHLE1BQU02ZCxNQUFNMWdCLGNBQWdCLGVBQUU4QyxnQkFBUSxlQUFFNmQsYUFDbUIsWUFBakIsUUFBckUsRUFBMkQsUUFBM0QsRUFBQWplLEVBQUsrZCxXQUFXclgsTUFBTUMsR0FBNkIsVUFBdkJBLEVBQUV4RyxNQUFNNmQsTUFBTTFnQixjQUFpQixlQUFFOEMsZ0JBQVEsZUFBRTZkLGFBQ3ZFcEMsRUFBZ0J6akIsU0FBNkYsUUFBcEYsRUFBd0UsUUFBeEUsRUFBOEQsUUFBOUQsRUFBQTRILEVBQUsrZCxXQUFXclgsTUFBTUMsR0FBNkIsYUFBdkJBLEVBQUV4RyxNQUFNNmQsTUFBTTFnQixjQUFvQixlQUFFOEMsZ0JBQVEsZUFBRTZkLGtCQUFVLFFBQUksR0FDdkgsRUFFUUMsRUFBbUJsZSxZQUU1QixNQUFNbWUsRUFBc0QsUUFBN0MsRUFBaUMsUUFBakMsRUFBQWxnQixhQUFhK0IsRUFBTSxzQkFBYyxlQUFFRyxNQUFNN0MsWUFBSSxRQUFJLEdBQ2hFLE9BQ0ksRUFBQThnQixZQUFZaG1CLFNBQVMrbEIsR0FBVSxHQUFLLEVBQUFFLFdBQVdqbUIsU0FBUytsQixHQUFVLEVBQUksRUFBQUcsUUFBUWxtQixTQUFTK2xCLEdBQVUsRUFBSSxDQUN4RyxFQUdMLElBQUlJLEdBQTJCLEVBQzNCQyxFQUFzQixFQVUxQixTQUFTQyxFQUFpQkMsR0FBZ0IsSUFHbENqRCxJQUFXOVIsU0FDa0IsSUFBMUI4UixJQUFXa0QsWUFDVkosSUFBNkJULEVBQXFCcGdCLFNBQ2pEOGdCLElBQXdCTixFQUFnQnhnQixVQUl6Q2doQixHQUVBekcsSUFFSnNHLEVBQTJCVCxFQUFxQnBnQixRQUNoRDhnQixFQUFzQk4sRUFBZ0J4Z0IsUUFFOUMsQ0F3RUEsU0FBU2toQixFQUFTQyxHQUVkLE9BQWUsR0FBUkEsRUFBYSxHQUFLLEdBQzdCLENBRU8sU0FBU0MsRUFBc0JuaUIsRUFBZW9pQixFQUFrQmhFLEVBQXFCaUUsRUFBcUJDLEdBQXlCLEVBQU9sWCxFQUFlckssUUFHNUosTUFBTTJjLEdBQWdCMkUsR0FBMEJqSSxLQUFLQyxPQUFTK0QsRUFDeERtRSxFQUFldFYsS0FBSzBPLElBQUksRUFBRzFPLEtBQUtDLElBQUlsTixFQUFTMGQsRUFBT3VFLEVBQVNHLEdBQVksSUFFL0UsR0FBSUUsR0FBaUJ0aUIsRUFBUXdnQixHQUEyQitCLEVBQWUvQixFQUN2RSxDQUNJLE1BQU1nQyxFQUFnQjFELEVBQVMxVCxHQUFHMFMsT0FBT3VFLFdBQWFqRSxFQUNoRHFFLEVBQVl4VixLQUFLME8sSUFBSSxFQUFHMU8sS0FBS0MsSUFBSWxOLEVBQVN3aUIsRUFBUVAsRUFBU0csR0FBWSxJQUM3RSxPQUFPblYsS0FBS0MsSUFBSXNULEVBQXlCaUMsRUFDN0MsQ0FDQSxPQUFPRixDQUNYLENBRU8sU0FBU0csRUFBNkI1aEIsRUFBc0I2aEIsU0FFL0QsTUFBTUMsRUFBMEIsUUFBZCxFQUFBOWhCLGFBQVMsRUFBVEEsRUFBV2UsV0FBRyxlQUFHLEVBQUFDLFlBQVlxRSxZQUMvQyxJQUFLeWMsRUFFRCxPQUFRLEVBR1osR0FBYSxVQUFURCxFQUNKLENBQ0ksTUFBTUUsRUFBTzFCLEVBQXFCcmdCLElBQTZDLElBQS9CeWdCLEVBQWdCemdCLEdBQzVEOGhCLEVBQVU5RSxPQUFPZ0YsT0FBUzFJLEtBQUtDLE1BQVF1SSxFQUFVOUUsT0FBT00sY0FBdUMsR0FBdkJ3RSxFQUFVWixXQUFrQixHQUFLLEtBQVFULEVBQWdCemdCLElBQWNxZ0IsRUFBcUJyZ0IsR0FBYSxFQUFJLEdBQ3JMcWhCLEVBQXNCUyxFQUFVOUUsT0FBT2dGLE1BQU9GLEVBQVVaLFdBQVlZLEVBQVU5RSxPQUFPTSxhQUN6RixPQUFPblIsS0FBSzBPLElBQUksRUFBRzFPLEtBQUtDLElBQUksRUFBRzJWLEdBQ25DLENBRUEsT0FBT1YsRUFBc0JTLEVBQVU5RSxPQUFPNkUsR0FBT0MsRUFBVSxHQUFHRCxVQUFjQyxFQUFVOUUsT0FBT00sWUFDckcsQ0FFTyxTQUFTOUMsRUFBVXlILEdBQXlCLEVBQU1DLEdBQXNCLEVBQU1DLEdBQXFCLFNBR3RHLElBQUtuRSxJQUFXOVIsUUFJWixPQUZBOFIsSUFBV2hCLE9BQU9NLFlBQWNoRSxLQUFLQyxXQUNyQ3lFLElBQVdoQixPQUFPdUUsV0FBYWpJLEtBQUtDLE9BSXhDLE1BQU02SSxFQUE4QyxRQUE3QixFQUFBcEUsSUFBV2hCLE9BQU9NLG1CQUFXLFFBQUloRSxLQUFLQyxNQUN2RDhJLEVBQThCckUsSUFBV3NFLGtCQUE4Q2xpQixFQUEvQjRkLElBQVdoQixPQUFPdUUsV0FFMUVnQixFQUFPdkUsSUFBV3dFLFVBQ1gsSUFBVEQsSUFFQXZFLElBQVdoQixPQUFPdUYsS0FBT2xCLEVBQXNCckQsSUFBV2hCLE9BQU91RixLQUFNQSxFQUFNSCxFQUFRQyxFQUFRRixJQUVqRyxNQUFNTSxFQUFRekUsSUFBVzBFLFdBQ1gsSUFBVkQsSUFFQXpFLElBQVdoQixPQUFPeUYsTUFBUXBCLEVBQXNCckQsSUFBV2hCLE9BQU95RixNQUFPQSxFQUFPTCxFQUFRQyxFQUFRRixJQUVwRyxNQUFNSCxFQUFRaEUsSUFBV2tELFdBQ3pCLEdBQWMsSUFBVmMsRUFFQSxHQUFLRyxJQUFjRSxHQUNkdkIsR0FDd0IsSUFBeEJDLEVBQ0wsQ0FDSSxNQUFNNEIsRUFBZ0JSLEVBQWE3SSxLQUFLQyxNQUFReUUsSUFBV2hCLE9BQU91RSxZQUFldkQsSUFBV2hCLE9BQU91RSxXQUFhYSxHQUFVOUksS0FBS0MsTUFBUTZJLEVBQ2pJUSxFQUFXNUUsSUFBV2hCLE9BQU9nRixNQUFRLEVBQWtCYixFQUFTYSxHQUFTakIsR0FBdUJELEVBQTJCLEVBQUksR0FDckk5QyxJQUFXaEIsT0FBT2dGLE1BQVE3VixLQUFLME8sSUFBSSxFQUFHMU8sS0FBS0MsSUFBSSxFQUFHd1csR0FDdEQsTUFHSTVFLElBQVdoQixPQUFPZ0YsTUFBUVgsRUFBc0JyRCxJQUFXaEIsT0FBT2dGLE1BQU9BLEVBQU9JLEVBQVFDLEVBQVFGLEdBR3hHLE1BQU1VLEVBQVk3RSxJQUFXOEUsZUFDWCxJQUFkRCxJQUVBN0UsSUFBV2hCLE9BQU82RixVQUFZeEIsRUFBc0JyRCxJQUFXaEIsT0FBTzZGLFVBQVdBLEVBQVdULEVBQVFDLEVBQVFGLElBRWhIbkUsSUFBV2hCLE9BQU9NLFlBQWNoRSxLQUFLQyxNQUNyQ3lFLElBQVdoQixPQUFPdUUsV0FBYWpJLEtBQUtDLE1BRWhDMEksSUFFQSxJQUFBeGYsY0FBWSxHQUdaeWYsSUFFQSxJQUFBaFUsWUFBVyxFQUFBbE4sWUFBWXFFLFdBQVksU0FFM0MsQ0FFQSxTQUFTMGQsSUFFTCxPQUFPL0UsSUFBVzlSLFVBQWtDLFFBQXRCOFIsSUFBV2dGLFNBQXFCaEYsSUFBV2lGLFdBQzdFLENBRUEsU0FBU0MsSUFFTCxPQUFPbEYsSUFBVzlSLFNBQWtDLFFBQXRCOFIsSUFBV2dGLE1BQzdDLENBUU8sU0FBU0csRUFBV3RCLEVBQThCdUIsRUFBZ0JDLEdBQWdCLEVBQU1DLEdBQWMsRUFBTTNaLEdBRTNHeVosR0FBVSxHQUFLQSxFQUFTLElBTTVCNUksR0FBVSxHQUFPLEdBQU8sR0FFeEJ3RCxJQUFXaEIsT0FBTzZFLElBQVN1QixHQUFXQyxHQUFpQkQsRUFBUyxFQWpNcEUsU0FBc0J2QixFQUE4QmxZLEdBRWhELElBQUk0WixFQUFXLEVBcUNmLElBbENJNVosYUFBVSxFQUFWQSxFQUFZNlosV0FFWkQsR0FBWSxJQUdQNVosYUFBVSxFQUFWQSxFQUFZOFosbUJBRWpCRixHQUFZLEtBR1A1WixhQUFVLEVBQVZBLEVBQVkrWixzQkFFakJILEdBQVksS0FJSCxTQUFUMUIsR0FBNEIsVUFBVEEsR0FFZDVoQixPQUFPMGpCLFlBRVJKLEdBQVksSUFLcEJBLEdBQVksSUFBT3RqQixPQUFPcWdCLFdBQVdubkIsUUFBUStQLEdBQU1BLEVBQUV4RyxNQUFNa2hCLGlCQUFpQnhhLFdBQVcsVUFBU2hPLE9BRzVELGFBQWhDNkUsT0FBTzRqQixZQUFZQyxXQUVuQlAsR0FBWSxJQUtILGNBQVQxQixHQUNHNWhCLE9BQU9jLElBQUksRUFBQUMsWUFBWXVFLHNCQUFzQjJHLFNBQzdDak0sT0FBT2MsSUFBSSxFQUFBQyxZQUFZdUUsc0JBQXNCK00sUUFFcEQsQ0FDSSxNQUFNeVIsRUFBaUIsR0FDTSxJQUF6Qi9GLElBQVd3RSxXQUVYdUIsRUFBSzlwQixLQUFLMm5CLEVBQTZCM2hCLE9BQVEsU0FFckIsSUFBMUIrZCxJQUFXMEUsWUFFWHFCLEVBQUs5cEIsS0FBSzJuQixFQUE2QjNoQixPQUFRLFVBRS9CLElBQWhCOGpCLEVBQUszb0IsU0FFTG1vQixHQUFZUSxFQUFLelcsUUFBTyxDQUFDMFcsRUFBS0MsSUFBUUQsRUFBTUMsR0FBSyxHQUFLRixFQUFLM29CLE9BQVMsSUFFNUUsQ0FFQSxPQUFPK1EsS0FBSzBPLElBQUksRUFBRzBJLEVBQ3ZCLENBb0l5RVcsQ0FBYXJDLEVBQU1sWSxHQUFjLEdBbEkxRyxTQUF5QmtZLEdBRXJCLE1BQU1zQyxFQUFRbkcsSUFBV2hCLE9BQU82RSxHQUNoQzdELElBQVdoQixPQUFPNkUsR0FBUTFWLEtBQUtDLElBQUlELEtBQUswTyxJQUFJc0osRUFBTyxHQUFJLEVBRTNELENBOEhJQyxDQUFnQnZDLEdBR1p5QixJQUVBLElBQUE3Z0IsY0FBWSxJQUdoQixJQUFBeUwsWUFBVyxFQUFBbE4sWUFBWXFFLFdBQVksVUFDdkMsQ0FFTyxNQUFNZ2YsVUFBeUIsRUFBQXhlLE9BRWxDLFNBQUlDLEdBRUEsT0FBTyxFQUFBOUUsWUFBWXFFLFVBQ3ZCLENBRUEsY0FBSUgsR0FFQSxNQUFPLENBQ0gsQ0FDSXJGLEtBQU0sVUFDTnVJLFFBQVMsQ0FBQyxDQUNOQyxNQUFPLFlBQ1BDLE1BQU8sZ0JBQ1BDLFdBQVksc0RBRWhCRSxNQUFPLG9EQUNQVCxhQUFjLENBQUMsWUFDZkMsbUJBQW9CLENBQ2hCcEksS0FBTSxVQUNObUksYUFBYyxDQUFDYyxFQUFRaUUsRUFBUXBHLGFBRTNCLE1BQTRELGFBQVgsUUFBMUMsRUFBbUMsUUFBbkMsRUFBQW5HLGFBQWFzSSxFQUFRLHNCQUFjLGVBQUVwRyxhQUFLLGVBQUU3QyxLQUFrQixHQUc3RXlrQixVQUFXLEtBRUh0RyxJQUFXOVIsU0FBb0MsSUFBekI4UixJQUFXd0UsV0FBbUJPLEtBRXBESSxFQUFXLE9BQVFsRixHQUF1QixFQUM5QyxHQUVMLENBQ0NwZSxLQUFNLFlBQ051SSxRQUFTLENBQUMsQ0FDTkMsTUFBTyxZQUNQQyxNQUFPLGtCQUNQQyxXQUFZLHdEQUVoQkUsTUFBTyxvREFDUFQsYUFBYyxDQUFDLFlBQ2ZDLG1CQUFvQixDQUNoQnBJLEtBQU0sV0FFVnlrQixVQUFXLEtBRUh0RyxJQUFXOVIsU0FBcUMsSUFBMUI4UixJQUFXMEUsWUFBb0JLLEtBRXJESSxFQUFXLFFBQVNsRixHQUF1QixFQUMvQyxHQUVMLENBQ0NwZSxLQUFNLFdBQ051SSxRQUFTLENBQUMsQ0FDTkMsTUFBTyxZQUNQQyxNQUFPLGdCQUNQQyxXQUFZLHlIQUVoQkUsTUFBTyxvREFDUFQsYUFBYyxHQUNkQyxtQkFBb0IsQ0FDaEIsQ0FBRXBJLEtBQU0sV0FDUixDQUNJQSxLQUFNLG1CQUNObUksYUFBYyxDQUFDYyxFQUFRaUUsRUFBUXBHLEtBRW5CbUMsRUFBTzZhLFlBQWM3YSxFQUFPeWIsbUJBSWhERCxVQUFXLEtBRUh0RyxJQUFXOVIsU0FBb0MsSUFBekI4UixJQUFXd0UsV0FBbUJPLEtBRXBESSxFQUFXLE9BQVFsRixHQUF1QixFQUM5QyxHQUVMLENBQ0NwZSxLQUFNLGFBQ051SSxRQUFTLENBQUMsQ0FDTkMsTUFBTyxZQUNQQyxNQUFPLGtCQUNQQyxXQUFZLDJIQUVoQkUsTUFBTyxvREFDUFQsYUFBYyxHQUNkQyxtQkFBb0IsQ0FDaEIsQ0FBRXBJLEtBQU0sV0FDUixDQUFFQSxLQUFNLHFCQUVaeWtCLFVBQVcsS0FFSHRHLElBQVc5UixTQUFxQyxJQUExQjhSLElBQVcwRSxZQUFvQkssS0FFckRJLEVBQVcsUUFBU2xGLEdBQXVCLEVBQy9DLEdBSWhCLENBRUEsWUFBSTdZLEdBRUEsTUFBTyxDQUNILENBQ0lwTCxLQUFNLFVBQ04wUSxLQUFNLFdBQ05DLE9BQVNMLEtBQU8sSUFBQUMsY0FBYUQsR0FDN0JwTCxPQUFPLEVBQ1BvSixNQUFPLHNFQUNXLENBQ2xCdE8sS0FBTSxZQUNOMFEsS0FBTSxTQUNOeEwsTUFBTyxFQUNQeUwsT0FBU0wsS0FBUTBULEVBQVMxVCxHQUFHNEIsUUFDN0I1RCxNQUFPLG9FQUNQVixNQUFPLElBQ1B3RSxJQUFLLEVBQ0x5TyxJQUFLa0QsRUFDTGpELEtBQU0sSUFDVSxDQUNoQjlnQixLQUFNLGFBQ04wUSxLQUFNLFNBQ054TCxNQUFPLEVBQ1B5TCxPQUFTTCxLQUFRMFQsRUFBUzFULEdBQUc0QixRQUM3QjVELE1BQU8scUVBQ1BWLE1BQU8sSUFDUHdFLElBQUssRUFDTHlPLElBQUtrRCxFQUNMakQsS0FBTSxJQUNVLENBQ2hCOWdCLEtBQU0sYUFDTjBRLEtBQU0sU0FDTnhMLE1BQU8sRUFDUHlMLE9BQVNMLEtBQVEwVCxFQUFTMVQsR0FBRzRCLFFBQzdCNUQsTUFBTyxxRUFDUFYsTUFBTyxJQUNQd0UsSUFBSyxFQUNMeU8sSUFBS2tELEVBQ0xqRCxLQUFNLElBQ1UsQ0FDaEI5Z0IsS0FBTSxpQkFDTjBRLEtBQU0sU0FDTnhMLE1BQU8sRUFDUHlMLE9BQVNMLEtBQVEwVCxFQUFTMVQsR0FBRzRCLFFBQzdCNUQsTUFBTyx5RUFDUFYsTUFBTyxJQUNQd0UsSUFBSyxFQUNMeU8sSUFBS2tELEVBQ0xqRCxLQUFNLElBQ1UsQ0FDaEI5Z0IsS0FBTSxlQUNOMFEsS0FBTSxXQUNOeEwsT0FBTyxFQUNQeUwsT0FBU0wsS0FBUTBULEVBQVMxVCxHQUFHNEIsUUFDN0I1RCxNQUFPLGdEQUNXLENBQ2xCdE8sS0FBTSxVQUNOMFEsS0FBTSxXQUNOQyxPQUFTTCxLQUFRMFQsRUFBUzFULEdBQUc0QixXQUFZLElBQUEzQixjQUFhRCxHQUN0RHBMLE9BQU8sRUFDUG9KLE1BQU8seURBQ1csQ0FDbEJ0TyxLQUFNLFlBQ04wUSxLQUFNLFdBQ05DLE9BQVNMLEtBQVEwVCxFQUFTMVQsR0FBRzRCLFFBQzdCaE4sT0FBTyxFQUNQb0osTUFBTyx5Q0FDVyxDQUNsQnRPLEtBQU0sU0FDTjBRLEtBQU0sU0FDTnhMLE1BQU8sQ0FDSHFqQixLQUFNLEVBQ05FLE1BQU8sRUFDUFQsTUFBTyxFQUNQYSxVQUFXLEVBQ1h2RixZQUFhaEUsS0FBS0MsTUFDbEJnSSxXQUFZakksS0FBS0MsUUFFWCxDQUNWdmYsS0FBTSxTQUNOMFEsS0FBTSxTQUNOQyxPQUFTTCxLQUFRMFQsRUFBUzFULEdBQUc0QixRQUM3QmhOLE1BQU8sTUFDUDJMLFFBQVMsQ0FBQyxNQUFPLE1BQU8sU0FBVSxRQUNsQ3ZDLE1BQU8sNkRBQ1B5QyxNQUFNLEdBQ1UsQ0FDaEIvUSxLQUFNLGFBQ04wUSxLQUFNLFdBQ05DLE9BQVNMLEdBQTRCLE9BQXRCMFQsRUFBUzFULEdBQUcwWSxPQUMzQjlqQixPQUFPLEVBQ1BvSixNQUFPLGdFQUduQixDQUVBLElBQUF0QyxHQUVJNEMsTUFBTTVDLE9BR05nYixHQUFpQixHQUNqQnhHLEdBQVUsR0FBTSxHQUFPLEdBQ3ZCbUYsRUFBcUJsUyxhQUFZLEtBRXpCeE4sT0FBT0MsZUFFUEQsT0FBT2MsSUFBSTVGLEtBQUsySyxPQUFPa1gsT0FBT3VFLFdBQWFqSSxLQUFLQyxPQUNoRCxJQUFBOVcsY0FBWSxHQUNoQixHQTVlb0IsTUFnZnhCLElBQUFPLGNBQWE3SCxLQUFLMkssTUFBTyxrQkFBbUIsR0FBRyxDQUFDN0MsRUFBTUMsYUFFbEQsTUFBTUMsRUFBT0YsRUFBSyxHQUNaK0YsR0FBZSxJQUFBMUYsZ0NBQStCSCxFQUFNLGdCQUMxRCxJQUNLNmEsSUFBVzlSLFVBQ1A4UixJQUFXM0wsVUFDWCxJQUFBL08sZ0NBQStCSCxFQUFNLHFCQUF1QmxELE9BQU9DLGNBQ3ZELGFBQWRpRCxFQUFLQyxPQUNMLElBQUFFLGdDQUErQkgsRUFBTSxxQkFBdUJsRCxPQUFPQyxjQUNSLGVBQTNELElBQUFvRCxnQ0FBK0JILEVBQU0sb0JBQ3BDNkYsSUFDQStaLElBR0osT0FBTzdmLEVBQUtELEdBSWhCLE1BQU11aEIsRUFBV0MsbUJBQW1CeGIsTUFBTUMsR0FBTUEsRUFBRXJKLE9BQVNtSixJQW9CM0QsT0FqQjZCLElBQXpCZ1YsSUFBV3dFLGFBQ2UsUUFBdEIsRUFBQWdDLGFBQVEsRUFBUkEsRUFBVXhjLG9CQUFZLGVBQUVyTixTQUFTLG1CQUNoQ3VqQixFQUFxQjFhLE1BQU0wRixJQUFNc2IsYUFBUSxFQUFSQSxFQUFVM2tCLFFBQVNxSixNQUd6RGlhLEVBQVcsT0EvaUJFLEtBK2lCNEIsR0FJZixJQUExQm5GLElBQVcwRSxjQUNlLFFBQXRCLEVBQUE4QixhQUFRLEVBQVJBLEVBQVV4YyxvQkFBWSxlQUFFck4sU0FBUyxtQkFDaEN3akIsRUFBc0IzYSxNQUFNMEYsSUFBTXNiLGFBQVEsRUFBUkEsRUFBVTNrQixRQUFTcUosTUFHMURpYSxFQUFXLFFBeGpCRSxLQXdqQjZCLEdBR3ZDamdCLEVBQUtELEVBQUssS0FJckIsSUFBQUQsY0FBYTdILEtBQUsySyxNQUFPLGtCQUFtQixHQUFHLENBQUM3QyxFQUFNQyxhQUVsRCxNQUFNQyxFQUFPRixFQUFLLEdBQ1orRixHQUFlLElBQUExRixnQ0FBK0JILEVBQU0sZ0JBQ3BEd0csR0FBYSxJQUFBckcsZ0NBQStCSCxFQUFNLG1CQUNsRDBHLEdBQWEsSUFBQXZHLGdDQUErQkgsRUFBTSxtQkFDeEQsT0FDSzZhLElBQVc5UixTQUNLLGFBQWQvSSxFQUFLQyxNQUNKOGYsS0FDRHZaLElBQWUxSixPQUFPQyxjQUN0QjJKLElBQWU1SixPQUFPQyxjQUNyQjRmLEVBQWdCbmxCLFVBQVMsSUFBQTJJLGdDQUErQkgsRUFBTSxvQkFDOUR5YyxFQUFtQmpsQixTQUFTcU8sSUFNcENtYSxFQUFXLE9BQVFwRCxFQUFrQyxRQUFqQixFQUFBL0IsSUFBV2dGLGNBQU0sUUFBSSxRQUFRLEdBQU0sRUFBcUMsUUFBL0IsT0FBQXhnQixxQkFBb0JxSCxVQUFXLGFBQUl6SixHQUNoSDZmLEVBQWdCcFcsR0FBY3lQLEtBQUtDLE1BQzVCclcsRUFBS0QsSUFMREMsRUFBS0QsRUFLQyxLQUlyQixJQUFBRCxjQUFhN0gsS0FBSzJLLE1BQU8sa0JBQW1CLEdBQUcsQ0FBQzdDLEVBQU1DLGFBRWxELE1BQU1DLEVBQU9GLEVBQUssR0FDWitGLEdBQWUsSUFBQTFGLGdDQUErQkgsRUFBTSxnQkFDcER3RyxHQUFhLElBQUFyRyxnQ0FBK0JILEVBQU0sbUJBQ2xEMEcsR0FBYSxJQUFBdkcsZ0NBQStCSCxFQUFNLG1CQUN4RCxPQUNLNmEsSUFBVzlSLFNBQ0ssYUFBZC9JLEVBQUtDLE1BQ0o4ZixLQUNEdlosSUFBZTFKLE9BQU9DLGNBQ3RCMkosSUFBZTVKLE9BQU9DLGVBQ3lDLGVBQTNELElBQUFvRCxnQ0FBK0JILEVBQU0sbUJBQ3RDMGMsRUFBeUJsbEIsU0FBU3FPLElBQ21CLFdBQXRELElBQUExRixnQ0FBK0JILEVBQU0sY0FDaUIsV0FBdEQsSUFBQUcsZ0NBQStCSCxFQUFNLGNBQ3NCLGNBQTNELElBQUFHLGdDQUErQkgsRUFBTSxtQkFDcEIsdUJBQWpCNkYsSUFPVG1hLEVBQVcsT0FBUXBELEVBQWtDLFFBQWpCLEVBQUEvQixJQUFXZ0YsY0FBTSxRQUFJLFFBQVEsR0FBTSxFQUFxQyxRQUEvQixPQUFBeGdCLHFCQUFvQm1ILFVBQVcsYUFBSXZKLEdBQ2hINmYsRUFBZ0J0VyxHQUFjMlAsS0FBS0MsTUFDNUJyVyxFQUFLRCxJQUxEQyxFQUFLRCxFQUtDLEtBSXJCLElBQUFELGNBQWE3SCxLQUFLMkssTUFBTyxrQkFBbUIsSUFBSSxDQUFDN0MsRUFBTUMsYUFFbkQsTUFBTUMsRUFBT0YsRUFBSyxHQUNaMEcsR0FBYSxJQUFBckcsZ0NBQStCSCxFQUFNLG1CQUN4RCxHQUFrQixhQUFkQSxFQUFLQyxPQUNILEVBQUFzaEIsc0JBQXNCeGdCLEtBQUtmLEVBQUtFLFVBQ2pDc0csSUFBZTFKLE9BQU9DLGFBRXZCLE9BQU9nRCxFQUFLRCxHQUdoQixJQUFnQyxRQUEzQixFQUFBZ2QsRUFBZ0J0VyxVQUFXLFFBQUksSUFBTzJQLEtBQUtDLE1BL2tCN0IsSUFnbEJuQixDQUNJLE1BQU1vTCxHQUFrQixJQUFBbmlCLHFCQUFvQm1ILEdBQzVDd1osRUFBVyxRQW5sQkEsRUFvbEJQcEQsRUFBa0MsUUFBakIsRUFBQS9CLElBQVdnRixjQUFNLFFBQUksUUFDdEMsR0FDQSxFQUNBMkIsUUFBQUEsT0FBbUJ2a0IsR0FFbkJ1a0IsSUFFQSxJQUFBeGtCLGFBQVcsSUFBQXlrQixlQUFjMUUsRUFBY3lFLEVBQWdCRSxXQUFhLE9BQVMsZ0JBQ3pFemtCLEVBQ0EsQ0FBQyxDQUFFQyxnQkFBaUJKLE9BQU9DLGNBQ3ZCLENBQUVJLGdCQUFpQnFKLElBR25DLENBRUEsT0FBT3pHLEVBQUtELEVBQUssS0FJckIsSUFBQUQsY0FBYTdILEtBQUsySyxNQUFPLG1CQUFvQixHQUFHLENBQUM3QyxFQUFNQyxLQUUvQ0QsRUFBSyxHQUFHL0MsZUFBaUJELE9BQU9DLGNBRWhDOGdCLElBRUc5ZCxFQUFLRCxPQUloQixJQUFBRCxjQUFhN0gsS0FBSzJLLE1BQU8sa0JBQW1CLEdBQUcsQ0FBQzdDLEVBQU1DLGFBRWxELE1BQU1DLEVBQU9GLEVBQUssR0FDWitGLEdBQWUsSUFBQTFGLGdDQUErQkgsRUFBTSxnQkFDMUQsSUFDSzZhLElBQVc5UixTQUNxQixJQUE5QjhSLElBQVc4RSxnQkFDRyxhQUFkM2YsRUFBS0MsT0FDTCxJQUFBRSxnQ0FBK0JILEVBQU0scUJBQXVCbEQsT0FBT0MsZUFDbkUsSUFBQW9ELGdDQUErQkgsRUFBTSxxQkFBdUJsRCxPQUFPQyxlQUNsRThJLEVBR0osT0FBTzlGLEVBQUtELEdBR2hCLE1BQU1vRixFQUF3RSxRQUFoRSxPQUFBL0UsZ0NBQStCSCxFQUFNLHlCQUEyQixRQUFJLEdBQzVFMmhCLEVBQTJDLFFBQS9CLEVBQUF0RyxFQUF5Qm5XLFVBQU0sUUFBSSxFQWFyRCxPQVpJZ1csRUFBd0IxakIsU0FBU3FPLEdBRWpDbWEsRUFBVyxZQTVxQkMsSUE0cUJrQzJCLEdBRXpDeEcsRUFBd0IzakIsU0FBU3FPLEdBRXRDbWEsRUFBVyxZQS9xQkMsSUErcUJrQzJCLEdBRXpDdkcsRUFBd0I1akIsU0FBU3FPLElBRXRDbWEsRUFBVyxhQWxyQkMsS0FrckJhbkYsSUFBVytHLFdBQWEsRUFBSSxHQUEyQkQsR0FFN0U1aEIsRUFBS0QsRUFBSyxHQUV6QixDQUVBLE1BQUFrRCxHQUVJeUMsTUFBTXpDLFNBQ051SCxjQUFjaVMsRUFDbEIsb1dDbnRCSixNQUFNM0IsRUFBeUMsQ0FBQzFULEVBQWVySyxrQkFFM0QsT0FBc0MsUUFBL0IsRUFBSyxRQUFMLEVBQUFxSyxFQUFFdkosV0FBRyxlQUFHLEVBQUFDLFlBQVlxRSxtQkFBVyxRQUFJLENBQUMsQ0FBQyxFQUcxQzJmLEVBQTBDLENBQUMxYSxFQUFlckssa0JBRTVELE9BQWdELFFBQXpDLEVBQUssUUFBTCxFQUFBcUssRUFBRXZKLFdBQUcsZUFBRyxFQUFBQyxZQUFZdUUsNkJBQXFCLFFBQUksQ0FBQyxDQUFDLEVBTTFELFNBQVMwZixFQUFvQkMsRUFBbUJDLFNBRTVDLFNBQUtILElBQVk5WSxVQUFhOFksSUFBWUUsT0FJakNDLEdBQTBCbkgsSUFBVzlSLFNBQTZELEtBQXhDLFFBQVYsRUFBQThSLFdBQVUsZUFBRyxHQUFHbUgsV0FDN0UsQ0FHQSxNQUFNQyxFQUNOLENBQ0ksQ0FBQyxlQUFlLEdBQ2hCLENBQUMsYUFBYSxHQUNkLENBQUMsV0FBVyxHQUNaLENBQUMsV0FBVyxHQUNaLENBQUMsZUFBZSxJQVdkQyxFQUF3RCxDQUMxRDlDLE1BQU8sRUFDUEUsT0FBUSxFQUNSVCxPQUFRLEVBQ1JhLFdBQVksR0FFaEIsSUFBSXlDLEVBQW1DLEdBR3ZDLElBQUlDLEVBRG1CLElBRWhCLFNBQVNDLElBRVgsQ0FBQyxPQUFRLFFBQVMsWUFBYSxTQUFzQzdaLFNBQVNzQyxJQUUzRSxHQUNJK1AsSUFBVzlSLFNBQ1I4WSxJQUFZOVksU0FDdUIsSUFBbkM4UixJQUFXLEdBQUcvUCxVQUVyQixDQUNJLE1BQU1tRCxFQUFZaVUsRUFBY3BYLEdBQzFCd1gsR0FBWSxJQUFBN0QsOEJBQTZCM2hCLE9BQVFnTyxHQUN2RHFYLEVBQVkzWixTQUFTK1osSUFHYkEsRUFBWTdELE9BQVM1VCxJQUNILElBQWZtRCxHQUNFc1UsRUFBWUMsVUFHakJELEVBQVlDLFdBR1pELEVBQVk3RCxPQUFTNVQsSUFDSCxJQUFmbUQsR0FDQUEsRUFBWXFVLEdBQ1csV0FBdkJDLEVBQVlFLFFBQ1pILEdBQWFDLEVBQVlHLFlBQ3pCSCxFQUFZRyxXQUFhelUsR0FHNUJzVSxFQUFZbFgsU0FHWmtYLEVBQVk3RCxPQUFTNVQsSUFDSCxJQUFmbUQsR0FDQUEsRUFBWXFVLEdBQ1csWUFBdkJDLEVBQVlFLFFBQ1p4VSxFQUFZc1UsRUFBWUcsWUFDeEJILEVBQVlHLFlBQWNKLEdBRzdCQyxFQUFZbFgsUUFDaEIsSUFFSjZXLEVBQWNwWCxHQUFZd1gsQ0FDOUIsTUFHSUosRUFBY3BYLElBQWEsQ0FDL0IsR0FFUixDQUVBLE1BQU02WCxFQUNJLFFBREpBLEVBRVUsSUFGVkEsRUFHUSxFQUhSQSxFQUlPLEVBSlBBLEVBS08sRUFHYixJQUFJQyxHQUFZLEVBQ2hCLE1BQU1DLEVBQWlDLENBQ25DLGdHQUNBLGdFQUNBLHFDQUVKLFNBQVNDLGNBRUxDLDZCQUE2QmptQixPQUFRLFdBQVksU0FDakRpbUIsNkJBQTZCam1CLE9BQVEsT0FBUSxVQUM3Q2ltQiw2QkFBNkJqbUIsT0FBUSxTQUFVLGVBQzNDQSxPQUFPa21CLFlBRVBDLGNBQWNubUIsT0FBUSxTQUFTLEdBRW5DOGxCLEdBQVksRUFFWixNQUFNTSxFQUErQyxRQUFqQyxFQUF5QixRQUF6QixFQUFZLFFBQVosRUFBTSxPQUFOcG1CLGFBQU0sSUFBTkEsWUFBTSxFQUFOQSxPQUFRcW1CLFlBQUksZUFBRUMsbUJBQVcsZUFBRUMsY0FBTSxlQUFFdmQsTUFBTUMsR0FBaUIsV0FBWEEsRUFBRXdCLE9BQ2pFc2EsSUFBWXlCLGFBQWVKLEdBMkIzQjN0QixRQUFRZ3VCLElBQUkseUJBRWhCLElBQUF2bUIsWUFBVyxtREFBK0NDLEVBQVcsQ0FBQyxDQUFFQyxnQkFBaUJKLE9BQU9DLGVBQ3BHLENBVUEsU0FBU3ltQixJQUVMLE9BQVEzQixJQUFZOVksU0FDVyxJQUExQjhSLElBQVdrRCxZQUNYOEQsSUFBWXhTLFVBQ1h3UyxJQUFZeUIsYUFDYlYsQ0FDVCxDQUVBLElBQUlhLEVBRUosU0FBU0MsSUFHQTdJLElBQVc5UixTQUNxQixJQUE5QjhSLElBQVc4RSxnQkFDVmtDLElBQVk5WSxTQU1wQmtaLEVBQWlCelosU0FBUSxFQUFFbWIsRUFBT3BjLE1BRTlCLE1BQU1tWSxHQUFZLElBQUFqQiw4QkFBNkIzaEIsT0FBUSxhQUNqRDhtQixFQUFvQjVhLEtBQUs2YSxPQUFzQixHQUFkLEVBQTRCLEVBQVEsSUFBT3RjLEVBQU8sR0FBSyxHQUFLLEtBQU8sSUFFcEd1YyxFQUFVQyxpQkFBaUJqbkIsT0FBUTZtQixHQUNuQ3hGLEVBQXVELElBQTVDNkYseUJBQXlCbG5CLE9BQVE2bUIsR0FBZUsseUJBQXlCbG5CLE9BQVE2bUIsR0FsQmxGLEtBbUJaQyxFQUFvQixHQUFLL0IsSUFBWXZTLHFCQUVyQzJVLGlCQUFpQm5uQixPQUFRNm1CLEVBQU9HLEVBQVVGLEVBQW1CekYsR0FBVSxHQUV2RXlGLEVBQW9CLEdBQUsvQixJQUFZdFMsdUJBRXJDMFUsaUJBQWlCbm5CLE9BQVE2bUIsRUFBT0csRUFBVUYsRUFBbUJ6RixHQUFVLEVBQzNFLEdBRVIsQ0FRTyxNQUFNK0YsVUFBbUMsRUFBQXhoQixPQUU1QyxTQUFJQyxHQUVBLE9BQU8sRUFBQTlFLFlBQVl1RSxvQkFDdkIsQ0FFQSxZQUFJSCxHQUVBLE1BQU8sQ0FDSCxDQUNJcEwsS0FBTSxVQUNOMFEsS0FBTSxXQUNOQyxPQUFTTCxLQUFRMFQsRUFBUzFULEdBQUc0QixXQUFZLElBQUEzQixjQUFhRCxHQUN0RHBMLE9BQU8sRUFDUG9KLE1BQU8sc0VBQ1csQ0FDbEJ0TyxLQUFNLFVBQ04wUSxLQUFNLFdBQ05DLE9BQVNMLEtBQVEwVCxFQUFTMVQsR0FBRzRCLFdBQWE4WSxFQUFVMWEsR0FBRzRCLFdBQVksSUFBQTNCLGNBQWFELEdBQ2hGcEwsT0FBTyxFQUNQb0osTUFBTyx5Q0FDVyxDQUNsQnRPLEtBQU0sT0FDTjBRLEtBQU0sV0FDTkMsT0FBU0wsS0FBUTBULEVBQVMxVCxHQUFHNEIsV0FBYThZLEVBQVUxYSxHQUFHNEIsV0FBWSxJQUFBM0IsY0FBYUQsR0FDaEZwTCxPQUFPLEVBQ1BvSixNQUFPLHNDQUNXLENBQ2xCdE8sS0FBTSxVQUNOMFEsS0FBTSxXQUNOQyxPQUFTTCxLQUFRMFQsRUFBUzFULEdBQUc0QixXQUFhOFksRUFBVTFhLEdBQUc0QixXQUFZLElBQUEzQixjQUFhRCxHQUNoRnBMLE9BQU8sRUFDUG9KLE1BQU8sMEJBT2MsQ0FDckJ0TyxLQUFNLHNCQUNOMFEsS0FBTSxXQUNOQyxPQUFTTCxLQUFRMFQsRUFBUzFULEdBQUc0QixXQUFhOFksRUFBVTFhLEdBQUc0QixXQUFZLElBQUEzQixjQUFhRCxHQUNoRnBMLE9BQU8sRUFDUG9KLE1BQU8saURBQ1csQ0FDbEJ0TyxLQUFNLHdCQUNOMFEsS0FBTSxXQUNOQyxPQUFTTCxLQUFRMFQsRUFBUzFULEdBQUc0QixXQUFhOFksRUFBVTFhLEdBQUc0QixXQUFZLElBQUEzQixjQUFhRCxHQUNoRnBMLE9BQU8sRUFDUG9KLE1BQU8sbURBQ1csQ0FDbEJ0TyxLQUFNLGNBQ04wUSxLQUFNLFdBQ05DLE9BQVNMLEtBQVEwVCxFQUFTMVQsR0FBRzRCLFdBQWE4WSxFQUFVMWEsR0FBRzRCLFdBQVksSUFBQTNCLGNBQWFELEdBQ2hGcEwsT0FBTyxFQUNQb0osTUFBTywrQ0FDVyxDQUNsQnRPLEtBQU0sWUFDTjBRLEtBQU0sV0FDTkMsT0FBU0wsS0FBUTBULEVBQVMxVCxHQUFHNEIsV0FBYThZLEVBQVUxYSxHQUFHNEIsV0FBWSxJQUFBM0IsY0FBYUQsR0FDaEZwTCxPQUFPLEVBQ1BvSixNQUFPLDhDQUNXLENBQ2xCdE8sS0FBTSxjQUNOMFEsS0FBTSxXQUNOQyxPQUFTTCxLQUFRMFQsRUFBUzFULEdBQUc0QixXQUFhOFksRUFBVTFhLEdBQUc0QixXQUFZLElBQUEzQixjQUFhRCxHQUNoRnBMLE9BQU8sRUFDUG9KLE1BQU8sd0NBQ1csQ0FDbEJ0TyxLQUFNLGNBQ04wUSxLQUFNLFdBQ05DLE9BQVNMLEtBQVEwVCxFQUFTMVQsR0FBRzRCLFdBQWE4WSxFQUFVMWEsR0FBRzRCLFdBQVksSUFBQTNCLGNBQWFELEdBQ2hGcEwsT0FBTyxFQUNQb0osTUFBTyxxQ0FHbkIsQ0FFQSxJQUFBdEMsSUFHSSxJQUFBaEQsY0FBYTdILEtBQUsySyxNQUFPLFVBQVcsR0FBRyxDQUFDN0MsRUFBTUMsS0FFdENxaUIsR0E3UE8sS0ErUFBDLElBRUpELElBQ09yaUIsRUFBS0QsT0FJaEIsSUFBQUQsY0FBYTdILEtBQUsySyxNQUFPLGtCQUFtQixHQUFHLENBQUM3QyxFQUFNQyxLQUdsRCxJQUFLK2hCLEVBQW9CLE9BQVFhLEdBRTdCLE9BQU81aUIsRUFBS0QsR0FHaEIsTUFFTXFrQixJQUZZLElBQUExRiw4QkFBNkIzaEIsT0FBUTZsQixHQUVyQkEsSUFBMEJBLEVBQXNCQSxJQUEyQkEsRUFBcUJBLEdBQXNCQSxFQUN4SixPQUFJQSxHQUFzQndCLEdBQWVBLEdBQWV4QixFQUU3QzVpQixFQUFLRCxHQUFNb1EsT0FBTyxDQUFFcGEsRUFBRyxFQUFHcUUsRUFBRyxFQUFHaXFCLEVBQUcsRUFBRy90QixFQUFHMlMsS0FBS3FiLEtBQUtyYixLQUFLNmEsTUFBb0IsSUFBZE0sR0FBc0IsT0FFeEZwa0IsRUFBS0QsRUFBSyxJQUlyQnFpQixFQUFjLENBQ1YsQ0FDSXpELEtBQU0sUUFDTmdFLFdBQVksRUFDWkQsT0FBUSxVQUNScFgsT0FBUSxXQUVKeVgsR0FDSixFQUNBTixTQUFVLFdBRWdELEtBQWxELElBQUEvRCw4QkFBNkIzaEIsT0FBUSxVQUVyQ2dtQixHQUVSLEdBQ0QsQ0FDQ3BFLEtBQU0sUUFDTmdFLFdBQVksR0FDWkQsT0FBUSxTQUNScFgsT0FBUSxXQUVBdVgsSUE1THBCRyw2QkFBNkJqbUIsT0FBUSxXQUFZLE1BQ2pEaW1CLDZCQUE2QmptQixPQUFRLE9BQVEsU0FDN0NpbUIsNkJBQTZCam1CLE9BQVEsV0FBWSxXQUVqRDhsQixHQUFZLEdBQ1osSUFBQTVsQixZQUFXLDREQUF3REMsRUFBVyxDQUFDLENBQUVDLGdCQUFpQkosT0FBT0MsZ0JBMkw3RixLQU1SLElBQUE4QyxjQUFhN0gsS0FBSzJLLE1BQU8saUJBQWtCLEdBQUcsQ0FBQzdDLEVBQU1DLEtBRTFDeWpCLEtBQXlCempCLEVBQUtELE1BRXpDLElBQUFELGNBQWE3SCxLQUFLMkssTUFBTyxpQkFBa0IsR0FBRyxDQUFDN0MsRUFBTUMsS0FFMUN5akIsS0FBeUJ6akIsRUFBS0QsTUFFekMsSUFBQUQsY0FBYTdILEtBQUsySyxNQUFPLDZCQUE4QixHQUFHLENBQUM3QyxFQUFNQyxLQUV0RHlqQixLQUF5QnpqQixFQUFLRCxNQUV6QyxJQUFBRCxjQUFhN0gsS0FBSzJLLE1BQU8scUJBQXNCLEdBQUcsQ0FBQzdDLEVBQU1DLEtBRTlDeWpCLEtBQXlCempCLEVBQUtELE1BRXpDLElBQUFELGNBQWE3SCxLQUFLMkssTUFBTyxhQUFjLEdBQUcsQ0FBQzdDLEVBQU1DLEtBRTdDLElBQUt5akIsSUFFRCxPQUFPempCLEVBQUtELEdBR2hCLE1BQU95SCxFQUFNdkgsR0FBUUYsRUFDckIsTUFDWSxnQkFBUnlILEdBQ2lCLFNBQWR2SCxhQUFJLEVBQUpBLEVBQU1DLFFBQ0xELGFBQUksRUFBSkEsRUFBTUUsUUFBUStGLFdBQVcsTUFNMUJsRyxFQUFLRCxLQUhSLElBQUE5QyxhQUFXLElBQUF5a0IsZUFBY29CLFFBQWlDNWxCLEVBQVcsQ0FBQyxDQUFFQyxnQkFBaUJKLE9BQU9DLGdCQUN6RixLQUVNLEtBRXJCLElBQUE4QyxjQUFhN0gsS0FBSzJLLE1BQU8sc0JBQXVCLEdBQUcsQ0FBQzdDLEVBQU1DLElBRS9DeWpCLElBQWlCLEVBQUl6akIsRUFBS0QsTUFFckMsSUFBQUQsY0FBYTdILEtBQUsySyxNQUFPLHVCQUF3QixHQUFHLENBQUM3QyxFQUFNQyxhQUV2RCxPQUFPeWpCLElBQThELG9CQUFyQixRQUF2QixFQUFBMW1CLE9BQU93bkIsd0JBQWdCLGVBQUVDLGlCQUFtRixrQkFBckIsUUFBdkIsRUFBQXpuQixPQUFPd25CLHdCQUFnQixlQUFFQyxnQkFBcUMsRUFBSSxFQUFJeGtCLEVBQUtELEVBQUssS0FJN0ssSUFBQUQsY0FBYTdILEtBQUsySyxNQUFPLHNCQUF1QixHQUFHLENBQUM3QyxFQUFNQyxLQUV0RCxNQUFNeWtCLEVBQVkxQyxFQUFvQixjQUFlLFFBQVU5WSxLQUFLME8sSUFBSSxFQUFHMU8sS0FBSytKLE9BQWlFLEtBQTFELElBQUEwTCw4QkFBNkIzaEIsT0FBUSxRQUFVLFNBQWtCLEVBQ3hKLE9BQU9rTSxLQUFLME8sSUFBSThNLEVBQVd6a0IsRUFBS0QsR0FBTSxJQUl0QzJrQixpQkFBbUIsS0FFbkJBLGlCQUFtQixJQUV2QmYsSUFDQUQsRUFBeUJuWixZQUFZb1osRUFBcUJnQixPQUcxRCxJQUFBN2tCLGNBQWE3SCxLQUFLMkssTUFBTyx1QkFBd0IsR0FBRyxDQUFDN0MsRUFBTUMsS0FFdkQsSUFBSytoQixFQUFvQixZQUFhLFFBRWxDLE9BQU8vaEIsRUFBS0QsR0FHaEIsTUFBTTZrQixFQUFXQyxrQkFDWEMsR0FBVyxJQUFBcEcsOEJBQTZCM2hCLE9BQVEsUUFFdEQsR0FEQWlELEVBQUtELEdBRVksSUFBYjZrQixHQUNHQyxrQkFBb0IsR0FDcEJDLEdBL05ZLEdBaU9uQixDQUVJRCxrQkFBb0JFLFlBQWNDLHlCQUR5RixNQW5PdkcsR0FDTCxHQWtPaUVGLEVBbk81RCxHQXFPeEIsTUFFSixJQUFBaGxCLGNBQWE3SCxLQUFLMkssTUFBTyxnQkFBaUIsR0FBRyxDQUFDN0MsRUFBTUMsT0FFeEMraEIsRUFBb0IsWUFBYSxVQUFXLElBQUFyRCw4QkFBNkIzaEIsT0FBUSxTQXhPdEUsS0F3T2tIaUQsRUFBS0QsTUFJOUksSUFBQUQsY0FBYTdILEtBQUsySyxNQUFPLGtCQUFtQixJQUFJLENBQUM3QyxFQUFNQyxLQUVuRCxNQUFNQyxFQUFPRixFQUFLLEdBQ2xCLE1BQWtCLGFBQWRFLEVBQUtDLE1BQ0gsRUFBQXNoQixzQkFBc0J4Z0IsS0FBS2YsRUFBS0UsV0FDakMsSUFBQUMsZ0NBQStCSCxFQUFNLHFCQUF1QmxELE9BQU9DLGNBS3BFOGtCLElBQVluUyxjQUVaLElBQUFzUSxZQUFXLFNBdFBBLEtBc1A2QixHQUFPLEdBRy9DNkIsSUFBWWxTLGNBRVosSUFBQXFRLFlBQVcsU0ExUEEsS0EwUDZCLEdBQU8sR0FHNUNqZ0IsRUFBS0QsSUFiREMsRUFBS0QsRUFhQyxHQUV6QixDQUVBLE1BQUFrRCxHQUVJeUMsTUFBTXpDLFNBQ05tZixFQUFjLEdBQ2Q1WCxjQUFja1osRUFDbEIscU9DL2RKLE1BQU01SSxFQUE0QixJQUV2Qi9kLE9BQU9jLElBQUksRUFBQUMsWUFBWXFFLFlBRTVCOGlCLEVBQStCLElBRTFCbG9CLE9BQU9jLElBQUksRUFBQUMsWUFBWXNFLGVBRzVCOGlCLEVBQXFCLENBQ3ZCN0YsS0FBTSxVQUNORSxNQUFPLFVBQ1BULE1BQU8sVUFDUGEsVUFBVyxXQUdmLFNBQVN3RixFQUFlbmYsRUFBV3pLLEVBQVc2cEIsRUFBZ0J6RyxHQUUxRCxNQUFNMEcsRUFBUUgsRUFBbUJ2RyxFQUFLQSxNQUd0QzNILFdBQVdzTyxZQUNYdE8sV0FBV3VPLElBQ1B2ZixFQUNBekssRUFDQTZwQixFQUNBLEVBQ0EsRUFBSW5jLEtBQUt1YyxJQUNULEdBRUp4TyxXQUFXeU8sVUFBWUwsRUFBUyxFQUNoQ3BPLFdBQVcwTyxZQUFjTCxFQUN6QnJPLFdBQVcyTyxTQUdYM08sV0FBV3NPLFlBQ1h0TyxXQUFXdU8sSUFDUHZmLEVBQ0F6SyxFQUNBNnBCLEdBQ0NuYyxLQUFLdWMsR0FBSyxFQUNWLEVBQUl2YyxLQUFLdWMsSUFBTTdHLEVBQUtzQyxNQUFVaFksS0FBS3VjLEdBQUssR0FDekMsR0FFSnhPLFdBQVc0TyxPQUFPNWYsRUFBR3pLLEdBQ3JCeWIsV0FBVzZPLFVBQVlSLEVBQ3ZCck8sV0FBVzhPLE9BR1BiLElBQWNjLGFBRWQvTyxXQUFXNk8sVUFBWSxVQUN2QjdPLFdBQVdnUCxLQUFPQyxjQUF1QixLQUFUYixHQUNoQ3BPLFdBQVdrUCxTQUFTamQsS0FBSzZhLE1BQW1CLElBQWJuRixFQUFLc0MsT0FBYTFwQixXQUFZeU8sRUFBR3pLLEVBQWMsS0FBVDZwQixHQUVyRXBPLFdBQVdnUCxLQUFPQyxjQUFjLElBRXhDLENBc0VPLE1BQU1FLFVBQTRCLEVBQUF4akIsT0FFckMsU0FBSUMsR0FFQSxPQUFPLEVBQUE5RSxZQUFZc0UsYUFDdkIsQ0FFQSxZQUFJRixHQUVBLE1BQU8sQ0FDSCxDQUNJcEwsS0FBTSxPQUNOMFEsS0FBTSxXQUNOQyxPQUFRLE1BQVFxVCxJQUFXOVIsUUFDM0JoTixPQUFPLEVBQ1BvSixNQUFPLGlEQUNXLENBQ2xCdE8sS0FBTSxhQUNOMFEsS0FBTSxXQUNOQyxPQUFRLE1BQVFxVCxJQUFXOVIsU0FBb0MsUUFBekJpYyxJQUFjbUIsT0FDcERwcUIsT0FBTyxFQUNQb0osTUFBTyxrREFDVyxDQUNsQnRPLEtBQU0sV0FDTjBRLEtBQU0sU0FDTkMsT0FBUSxNQUFRcVQsSUFBVzlSLFNBQW9DLFFBQXpCaWMsSUFBY21CLE9BQ3BEemUsUUFBUyxDQUFDLE9BQVEsU0FBVSxRQUFTLFNBQ3JDM0wsTUFBTyxPQUNQb0osTUFBTywyQkFDUHlDLE1BQU0sR0FDVSxDQUNoQi9RLEtBQU0sU0FDTjBRLEtBQU0sU0FDTkMsT0FBUSxLQUFNLEVBQ2RFLFFBQVMsQ0FBQyxNQUFPLFNBQVUsVUFBVyxZQUFhLFNBQVUsU0FBVSxhQUFjLGFBQ3JGM0wsTUFBTyxVQUNQb0osTUFBTyxxREFDUHlDLE1BQU0sR0FHbEIsQ0FFQSxJQUFBL0UsSUFFSSxJQUFBaEQsY0FBYTdILEtBQUsySyxNQUFPLG1CQUFvQixHQUFHLENBQUM3QyxFQUFNQyxXQUVuRCxNQUFPbEQsRUFBV2tKLEVBQUd6SyxFQUFHOHFCLEdBQVF0bUIsRUFFaEMsSUFDS3VtQixtQkFDR3hwQixFQUFVb1MsY0FBZ0IrVixJQUFjc0IsT0FBU3pMLElBQVc5UixXQUMzRGxNLEVBQVVvUyxZQUF1QyxRQUF6QitWLElBQWNtQixTQUN0Q3RwQixFQUFVb1MsY0FBZSxJQUFBakYsMkJBQTBCbk4sRUFBVUUsYUFBd0Jpb0IsSUFBY21CLFFBR3hHLE9BQU9wbUIsRUFBS0QsR0FJaEIsTUFBTXltQixFQUFpQyxRQUFkLEVBQUExcEIsYUFBUyxFQUFUQSxFQUFXZSxXQUFHLGVBQUcsRUFBQUMsWUFBWXFFLFlBQ3RELEtBQUtxa0IsYUFBZ0IsRUFBaEJBLEVBQWtCeGQsU0FFbkIsT0FBT2hKLEVBQUtELEdBR2hCLE1BQU0wbUIsRUFBMEIsR0FnQmhDLE1BZkMsQ0FBQyxPQUFRLFFBQVMsUUFBUyxhQUEwQ2hlLFNBQVNrVyxJQUVsQyxJQUFyQzZILEVBQWlCLEdBQUc3SCxXQUVwQjhILEVBQU0xdkIsS0FBSyxDQUNQNG5CLEtBQU1BLEVBQ05zQyxPQUFPLElBQUF2Qyw4QkFBNkI1aEIsRUFBVzZoQixJQUV2RCxJQUVpQixJQUFqQjhILEVBQU12dUIsUUFoSnRCLFNBQTBCOE4sRUFBV3pLLEVBQVc4cUIsRUFBY0ksR0FFMUQsTUFBTUMsRUFBNkN6QixJQUFjMWdCLFNBQ2pFLEdBQVksU0FBUm1pQixHQUEwQixVQUFSQSxFQUVsQkQsRUFBTUUsVUFDTkYsRUFBTWhlLFNBQVEsQ0FBQ2tXLEVBQU03SixLQUVqQnFRLEVBQ0luZixHQUFjLFNBQVIwZ0IsRUFBaUIsR0FBSyxLQUFPTCxFQUNuQzlxQixHQUFLLElBQWUsR0FBUnVaLEdBQWV1UixFQUMzQixHQUFLQSxFQUNMMUgsRUFDSCxTQUdKLEdBQVksV0FBUitILEVBQ1QsQ0FDSSxNQUFNRSxFQUFVSCxFQUFNdnVCLE9BQ3RCdXVCLEVBQU1oZSxTQUFRLENBQUNrVyxFQUFNN0osS0FFakJxUSxFQUNJbmYsR0FBSyxJQUF1QixJQUFmNGdCLEVBQVUsR0FBb0IsR0FBUjlSLEdBQWV1UixFQUNsRDlxQixFQUFLLElBQU04cUIsRUFDWCxHQUFLQSxFQUNMMUgsRUFDSCxHQUVULE1BRUssR0FBWSxVQUFSK0gsRUFDVCxDQUNJLE1BQU1HLEVBQTJCLEdBQ2pDLE9BQVFKLEVBQU12dUIsUUFFVixLQUFLLEVBQ0QydUIsRUFBSzl2QixLQUFLLENBQUMwdkIsRUFBTSxLQUNqQkksRUFBSzl2QixLQUFLLElBQ1YsTUFDSixLQUFLLEVBQ0Q4dkIsRUFBSzl2QixLQUFLLENBQUMwdkIsRUFBTSxLQUNqQkksRUFBSzl2QixLQUFLLENBQUMwdkIsRUFBTSxLQUNqQixNQUNKLEtBQUssRUFDREksRUFBSzl2QixLQUFLLENBQUMwdkIsRUFBTSxHQUFJQSxFQUFNLEtBQzNCSSxFQUFLOXZCLEtBQUssQ0FBQzB2QixFQUFNLEtBQ2pCLE1BQ0osS0FBSyxFQUNESSxFQUFLOXZCLEtBQUssQ0FBQzB2QixFQUFNLEdBQUlBLEVBQU0sS0FDM0JJLEVBQUs5dkIsS0FBSyxDQUFDMHZCLEVBQU0sR0FBSUEsRUFBTSxLQUluQ0ksRUFBS3BlLFNBQVEsQ0FBQ3FlLEVBQUtoUyxLQUVmZ1MsRUFBSXJlLFNBQVEsQ0FBQ2tXLEVBQU1vSSxLQUVmNUIsRUFDSW5mLEdBQWUsR0FBVDhPLEVBQWEsR0FBSyxLQUFPdVIsRUFDL0I5cUIsR0FBSyxJQUFtQixHQUFad3JCLEdBQW1CVixFQUMvQixHQUFLQSxFQUNMMUgsRUFDSCxHQUNILEdBRVYsQ0FDSixDQWdGZ0JxSSxDQUFpQmhoQixFQUFHekssRUFBRzhxQixFQUFNSSxHQUcxQnptQixFQUFLRCxFQUFLLEdBRXpCLENBRUEsTUFBQWtELEdBRUl5QyxNQUFNekMsUUFDViwwVUN4TkcsTUFBTTZELEVBQXlDLENBQUMsRUFFMUNULEVBQXFELENBQUMsRUFFdERSLEVBQXNELENBQUMsRUFFdkRXLEVBQXFELENBQUMsRUFLNUQsU0FBU3lnQixFQUFlQyxTQUczQixNQUFNNUYsRUFBcUIsQ0FDdkIza0IsS0FBTSxHQUFHLEVBQUF3Six1QkFBdUIrZ0IsRUFBZXZxQixPQUMvQ3dxQixXQUFZbGUsS0FBSzBPLE9BQU80SixtQkFBbUJ6bkIsS0FBS2tNLElBQUssTUFBQyxPQUFZLFFBQVosRUFBQUEsRUFBRW1oQixrQkFBVSxTQUFLLENBQUMsS0FBSyxFQUM3RXRpQixZQUF1QyxRQUExQixFQUFBcWlCLEVBQWVyaUIsbUJBQVcsUUFBSSxHQUUzQ0MsYUFBY29pQixFQUFlcGlCLGFBQzdCc2lCLE9BQVEsSUFJWixHQUFJRixFQUFlbmlCLG1CQUNuQixDQUNJLElBQUlzaUIsRUFBc0JILEVBQWVuaUIsbUJBQ3BDbFAsTUFBTUMsUUFBUXV4QixLQUVmQSxFQUFzQixDQUFDQSxJQUUzQkEsRUFBb0I1ZSxTQUFTNmUsSUFFekJoRyxFQUFTeGMsYUFBYS9OLEtBQUt1d0IsRUFBZ0IzcUIsUUFDckMycUIsRUFBZ0IzcUIsUUFBUWtKLElBQ3pCeWhCLEVBQWdCeGlCLGVBRWpCZSxFQUFzQnloQixFQUFnQjNxQixNQUFRMnFCLEVBQWdCeGlCLGFBQ2xFLEdBRVIsQ0FHQW9pQixFQUFlaGlCLFFBQVF1RCxTQUFTakYsVUFHeEJBLEVBQU82QixhQUVGaWMsRUFBU2lHLGFBRVZqRyxFQUFTaUcsV0FBYSxJQUVtQixRQUE1QyxFQUFBakcsRUFBU2lHLGtCQUFtQyxTQUFFeHdCLEtBQUt5TSxFQUFPMkIsT0FDekMsT0FBbEJxaUIseUJBQWtCLElBQWxCQSxvQkFBQUEsbUJBQW9CendCLEtBQUssQ0FBQyxrQkFBa0J5TSxFQUFPMkIsU0FBU21jLEVBQVMza0IsUUFBUSxJQUFBOEUsZUFBYytCLEVBQU80QixTQUNoRixPQUFsQm9pQix5QkFBa0IsSUFBbEJBLG9CQUFBQSxtQkFBb0J6d0IsS0FBSyxDQUFDLFlBQVl5TSxFQUFPMkIsU0FBU21jLEVBQVMza0IsUUFBUSxJQUFBOEUsZUFBYytCLEVBQU82QixlQUk1RjdCLEVBQU84QixlQUVQZ2MsRUFBUzhGLE9BQU9yd0IsS0FBS3lNLEVBQU8yQixPQUNWLE9BQWxCcWlCLHlCQUFrQixJQUFsQkEsb0JBQUFBLG1CQUFvQnp3QixLQUFLLENBQUMsbUJBQW1CeU0sRUFBTzJCLFNBQVNtYyxFQUFTM2tCLFFBQVEsSUFBQThFLGVBQWMrQixFQUFPNEIsU0FDakYsT0FBbEJvaUIseUJBQWtCLElBQWxCQSxvQkFBQUEsbUJBQW9CendCLEtBQUssQ0FBQyxhQUFheU0sRUFBTzJCLFNBQVNtYyxFQUFTM2tCLFFBQVEsSUFBQThFLGVBQWMrQixFQUFPOEIsZ0JBQ2pHLElBSUp3QixFQUFld2EsRUFBUzNrQixNQUFRdXFCLEVBQWUzaEIsTUFHM0MyaEIsRUFBZTlGLFlBRWYvYSxFQUFpQmliLEVBQVMza0IsTUFBUXVxQixFQUFlOUYsV0FJakQ4RixFQUFlMWhCLFlBRWZnQixFQUFpQjhhLEVBQVMza0IsTUFBUXVxQixFQUFlMWhCLFdBR3JEK2IsbUJBQW1CeHFCLEtBQUt1cUIsR0FDeEJtRywyQkFBMkIxd0IsS0FBS3VxQixFQUFTM2tCLEtBQzdDLENBS08sU0FBU29HLEVBQWlCMmtCLEdBRTdCQSxFQUFpQmpmLFNBQVM2WSxJQUV0QjJGLEVBQWUzRixFQUFTLEdBRWhDLENBTU8sU0FBU3FHLEVBQWVULEdBRTNCLE1BQU1waEIsRUFBZSxHQUFHLEVBQUFLLHVCQUF1QitnQixFQUFldnFCLE9BRzlEdXFCLEVBQWVoaUIsUUFBUXVELFNBQVNqRixZQUd4QkEsRUFBTzZCLGFBRVBtaUIsbUJBQTJLLFFBQXRKLEVBQWtCLE9BQWxCQSx5QkFBa0IsSUFBbEJBLHdCQUFrQixFQUFsQkEsbUJBQW9CdnhCLFFBQVErUCxLQUFRQSxFQUFFLEtBQU8sa0JBQWtCeEMsRUFBTzJCLFNBQVNXLEtBQWtCRSxFQUFFLEtBQU8sWUFBWXhDLEVBQU8yQixTQUFTVyxjQUFnQixRQUFJLE1BSS9LdEMsRUFBTzhCLGVBRVBraUIsbUJBQTZLLFFBQXhKLEVBQWtCLE9BQWxCQSx5QkFBa0IsSUFBbEJBLHdCQUFrQixFQUFsQkEsbUJBQW9CdnhCLFFBQVErUCxLQUFRQSxFQUFFLEtBQU8sbUJBQW1CeEMsRUFBTzJCLFNBQVNXLEtBQWtCRSxFQUFFLEtBQU8sYUFBYXhDLEVBQU8yQixTQUFTVyxjQUFnQixRQUFJLEtBQ3JMLFdBSUdnQixFQUFlaEIsVUFHZk8sRUFBaUJQLEdBR3hCeWIsbUJBQXFCQSxtQkFBbUJ0ckIsUUFBUStQLEdBQU1BLEVBQUVySixPQUFTbUosSUFDakUyaEIsMkJBQTZCQSwyQkFBMkJ4eEIsUUFBUStQLEdBQU1BLElBQU1GLEdBQ2hGLENBTU8sU0FBUzNDLEVBQWlCdWtCLEdBRTdCQSxFQUFpQmpmLFNBQVM2WSxJQUV0QnFHLEVBQWVyRyxFQUFTLEdBRWhDLG9TQzlJTyxNQUFNMVosRUFBNEMsQ0FDckQsU0FDQSxVQUNBLFlBQ0EsU0FDQSxTQUNBLFlBQ0EsUUFHRWdnQixFQUErQyxDQUNqRCxPQUNBLFNBQ0EsVUFDQSxZQUNBLFNBQ0EsU0FDQSxhQUNBLFlBQ0EsUUFJU0MsRUFDYixDQUNJQyxLQUFPMWdCLElBQWdCLE1BQUMsT0FBZSxRQUFkLEVBQUFBLEVBQUVwSyxvQkFBWSxTQUFLLEVBQUUsRUFDOUMrcUIsVUFBWTNnQixJQUFnQixRQUFDLE9BQVksUUFBWixFQUFBQSxhQUFDLEVBQURBLEVBQUc0Z0IsaUJBQVMsZUFBRWhyQixjQUFlLENBQWEsUUFBWixFQUFBb0ssYUFBQyxFQUFEQSxFQUFHNGdCLGlCQUFTLGVBQUVockIsY0FBZ0IsRUFBRSxFQUMzRmlyQixPQUFRLFNBQVU3Z0IsYUFFZCxNQUFNOGdCLEdBQTRELFFBQWpELEVBQThCLFFBQTlCLEVBQUssUUFBTCxFQUFBOWdCLEVBQUV2SixXQUFHLGVBQUcsRUFBQUMsWUFBWWlFLGtCQUFVLGVBQUVtbUIsY0FBaUIsUUFBSSxJQUFJcnZCLE1BQU0sS0FBS2lCLEtBQUt1YSxHQUFROFQsU0FBUzlULEtBQU1wZSxRQUFROHFCLElBQVNoWSxNQUFNZ1ksS0FDeEksT0FBeUIsSUFBbEJtSCxFQUFPaHdCLE9BQWUsR0FBS2d3QixDQUN0QyxFQUNBRSxPQVZZaGhCLElBQWdCLFFBQUMsT0FBOEUsUUFBN0UsRUFBVyxRQUFYLEVBQUFBLEVBQUVpaEIsaUJBQVMsZUFBRXB5QixRQUFRK1AsR0FBTUEsRUFBRWhKLGVBQWNsRCxLQUFLd3VCLEdBQVVBLEVBQU10ckIsc0JBQWEsUUFBSSxFQUFlLEVBVzlIdXJCLFVBQVluaEIsSUFBZ0IsTUFBQyxPQUFXLFFBQVgsRUFBQUEsRUFBRW1oQixpQkFBUyxRQUFJLEVBQUUsRUFDOUNDLFdBQVksS0FBSyxNQUFDLE9BQWlCLFFBQWpCLEVBQUF6ckIsT0FBT3lyQixrQkFBVSxRQUFJLEVBQUUsR0FLdEMsU0FBU3ZlLEVBQTBCd2UsRUFBc0JDLEVBQTJCQyxHQUFZLEVBQU9saUIsRUFBd0IxSixzQkFFbEksR0FBa0IsU0FBZDJyQixFQUVBLE9BQU8sRUFJWCxHQUFJRCxJQUFpQlosRUFBaUJDLEtBQUtyaEIsR0FBWSxHQUduRCxNQUFxQixTQUFkaWlCLEdBQThCQyxFQUl6QyxHQUFJbGlCLEVBQVdtaUIsVUFBVW54QixTQUFTZ3hCLElBQW9GLFFBQWpFLEVBQXlDLFFBQTFDLEVBQUNoaUIsYUFBVSxFQUFWQSxFQUFnQ29pQixpQkFBUyxlQUFFcHhCLFNBQVNneEIsVUFBYSxTQUVsSCxPQUFPLEVBSVgsR0FBa0IsV0FBZEMsRUFFQSxPQUFPLEVBSVgsR0FBa0IsZUFBZEEsR0FBOEJqaUIsRUFBV3pKLGVBQWlCRCxPQUFPQyxhQUVqRSxPQUE0RCxRQUFyRCxFQUFpQyxRQUFqQyxPQUFBc0MscUJBQW9CbXBCLFVBQWEsZUFBRWpJLDBCQUFrQixTQUdoRSxJQUFJc0ksRUFBWSxJQUFJOXlCLElBRXBCLE9BQVEweUIsR0FFSixJQUFLLFVBSUQsR0FDSWppQixFQUFXekosZUFBaUJELE9BQU9DLGNBQ2hDRCxPQUFPQyxlQUFpQnlyQixHQUN4QlosRUFBaUJXLGFBQWEvd0IsU0FBZ0MsUUFBdkIsRUFBQWdQLEVBQVd6SixvQkFBWSxTQUFLLEdBR3RFLE9BQU8sRUFHUHlKLEVBQVd6SixlQUFpQkQsT0FBT0MsZUFFbkM4ckIsRUFBWSxJQUFJOXlCLElBQUksSUFBSTh5QixLQUFjakIsRUFBaUJXLGdCQUcvRCxJQUFLLFlBQ0RNLEVBQVksSUFBSTl5QixJQUFJLElBQUk4eUIsS0FBY2pCLEVBQWlCVSxVQUFVOWhCLEtBRXJFLElBQUssU0FDRHFpQixFQUFZLElBQUk5eUIsSUFBSSxJQUFJOHlCLEtBQWNqQixFQUFpQk8sT0FBTzNoQixLQUVsRSxJQUFLLFNBQ0RxaUIsRUFBWSxJQUFJOXlCLElBQUksSUFBSTh5QixLQUFjakIsRUFBaUJJLE9BQU94aEIsS0FFbEUsSUFBSyxZQUNEcWlCLEVBQVksSUFBSTl5QixJQUFJLElBQUk4eUIsS0FBY2pCLEVBQWlCRSxVQUFVdGhCLEtBS3pFLE9BQU9xaUIsRUFBVTV5QixJQUFJdXlCLEVBQ3pCLENBRU8sU0FBU00sRUFBMkJOLEVBQXNCOWhCLEVBQXdCNUosd0JBRXJGLE9BQUk0SixFQUFXM0osZUFBaUJ5ckIsRUFFckIsUUFFYyxRQUFyQixFQUFBOWhCLGFBQVUsRUFBVkEsRUFBWXFoQixpQkFBUyxlQUFFaHJCLGdCQUFpQnlyQixFQUVqQyxZQUVQWixFQUFpQkksT0FBT3RoQixHQUFZbFAsU0FBU2d4QixHQUV0QyxTQUVQWixFQUFpQk8sT0FBT3poQixHQUFZbFAsU0FBU2d4QixHQUV0QyxTQUVQWixFQUFpQlUsVUFBVTVoQixHQUFZbFAsU0FBU2d4QixHQUV6QyxZQUlQOWhCLEVBQVczSixlQUFpQkQsT0FBT0MsZUFBaUMsUUFBakIsRUFBQUQsT0FBT3lyQixrQkFBVSxlQUFFL3dCLFNBQVNneEIsS0FLL0U5aEIsRUFBVzNKLGVBQWlCRCxPQUFPQyxjQUNsQ3lyQixJQUFpQjFyQixPQUFPQyxlQUNQLFFBQWpCLEVBQUFELE9BQU95ckIsa0JBQVUsZUFBRS93QixTQUFnQyxRQUF2QixFQUFBa1AsRUFBVzNKLG9CQUFZLFNBQUssSUFMbEQsVUFZTDJKLEVBQVdpaUIsVUFBVW54QixTQUFTZ3hCLElBQ3dDLFFBQWpFLEVBQXlDLFFBQTFDLEVBQUM5aEIsYUFBVSxFQUFWQSxFQUFnQ2tpQixpQkFBUyxlQUFFcHhCLFNBQVNneEIsVUFBYSxTQUtyRSxPQUZJLFFBR2YsQ0FFTyxTQUFTdlQsRUFBaUMvUCxFQUF1QjZqQixFQUFzRCxLQUFNUCxFQUFzQjNyQixFQUF1QkMsUUFFN0ssTUFBTWtzQixFQUFPRixFQUEyQk4sRUFBYzNyQixHQUVoRG9zQixFQUFhdEIsRUFBMkJodEIsUUFBUXVLLEdBQ2hEZ2tCLEVBQVl2QixFQUEyQmh0QixRQUFRcXVCLEdBRXJELElBQW9CLElBQWhCQyxJQUFvQyxJQUFmQyxFQUVyQixPQUFPLEVBR1gsT0FBUUgsR0FFSixJQUFLLElBQ0QsT0FBT0csRUFBWUQsRUFFdkIsSUFBSyxJQUNELE9BQU9DLEVBQVlELEVBRXZCLElBQUssS0FDRCxPQUFPQyxHQUFhRCxFQUV4QixJQUFLLEtBQ0QsT0FBT0MsR0FBYUQsRUFFeEIsSUFBSyxLQUNELE9BQU9DLEdBQWFELEVBRXhCLElBQUssS0FDRCxPQUFPQyxHQUFhRCxFQUV4QixRQUNJLE1BQU0sSUFBSTN6QixNQUFNLCtCQUU1QixrU0NsTU8sTUFBTTZ6QixFQUFXLE9BQWlCQyxvQkFDNUJDLEVBQWMsVUFDZEMsRUFBVyxhQUF1QkMsSUFFbENwbEIsRUFBUS9LLE9BQU9nQyxPQUFPLENBQy9CZ0osSUFBSyxxaEZBQ0wrUyxRQUFTLHV5S0FHQWpSLEVBQXVCLE9BQ3ZCckMsRUFBYSxJQUFJb0UsTUFBTSx5QkFFdkJ1VixFQUFjLENBQUMsU0FBVSxRQUN6QkMsRUFBYSxDQUFDLFVBQVcsU0FBVSxNQUFPLGFBQWMsV0FDeERDLEVBQVUsQ0FBQyxrQkFBbUIsV0FDOUJsaEIsRUFBV2doQixFQUFZdE4sT0FBT3VOLEVBQVlDLEdBRTFDNkQsRUFBd0IsOERDaEI5QixTQUFTRSxFQUFpQitILEdBRTdCLE9BQW9CLEdBQWhCQSxFQUFNdnhCLE9BQXNCLEtBQ3pCdXhCLEVBQU14Z0IsS0FBSytKLE1BQU0vSixLQUFLeWdCLFNBQVdELEVBQU12eEIsUUFDbEQsQ0FLTyxTQUFTMlYsRUFBd0I0YixFQUFZRSxHQUVoRCxJQUFJQyxFQUFXaGYsZ0JBQWdCNmUsR0FLL0IsT0FKQUUsRUFBWWxoQixTQUFTb2hCLElBRWpCRCxFQUFXQSxFQUFTM3pCLFFBQVE2ekIsR0FBV0QsSUFBUUMsR0FBTyxJQUVuREYsQ0FDWCxDQUtPLFNBQVNHLEVBQWdCTixHQUU1QixJQUFLLElBQUlyekIsRUFBSXF6QixFQUFNdnhCLE9BQVMsRUFBRzlCLEVBQUksRUFBR0EsSUFDdEMsQ0FDSSxNQUFNNHpCLEVBQUkvZ0IsS0FBSytKLE1BQU0vSixLQUFLeWdCLFVBQVl0ekIsRUFBSSxLQUN6Q3F6QixFQUFNcnpCLEdBQUlxekIsRUFBTU8sSUFBTSxDQUFDUCxFQUFNTyxHQUFJUCxFQUFNcnpCLEdBQzVDLENBQ0EsT0FBT3F6QixDQUNYLDZsQkNsQk8sU0FBU1EsRUFBbUJ6ZSxTQUUvQixNQUNxQixXQUFqQkEsRUFBUXRMLE1BQ2UsUUFBcEJzTCxFQUFRckwsU0FDd0IsS0FBYixRQUFuQixFQUFBcUwsYUFBTyxFQUFQQSxFQUFTbkwsa0JBQVUsZUFBRW5JLE9BRWhDLENBRU8sU0FBU3VULEVBQXNCakMsR0FFbEMsT0FBT3lnQixFQUFtQnpnQixHQUFXQSxFQUFRbkosV0FBVyxHQUFLLElBQ2pFLENBRU8sU0FBU3dLLEVBQWVyQixFQUE0QmhHLEdBRXZEMG1CLFdBQVcsZUFBZ0IsQ0FDdkJocUIsS0FBTSxTQUNOQyxRQUFTLE1BQ1RFLFdBQVksQ0FBQ21KLEdBQ2I0ZCxPQUFRNWpCLEdBRWhCLENBS08sU0FBU3ZHLEVBQVd1TyxFQUFpQmhJLE9BQWdDdEcsRUFBV2l0QixFQUFvQyxJQUV2SEQsV0FBVyxlQUFnQixDQUN2Qi9wQixRQUFTLGFBQ1RELEtBQU0sV0FDTkcsV0FBWSxDQUFDLENBQUV4QixJQUFLLHNEQUF1RDJCLE1BQU0sSUFBQWlCLGVBQWMrSixPQUFlMmUsR0FDOUcvQyxPQUFRNWpCLGFBQU0sRUFBTkEsRUFBUXhHLGNBU3hCLENBS08sU0FBU290QixFQUFVNWUsRUFBaUJoSSxPQUFnQ3RHLEdBRXZFZ3RCLFdBQVcsZUFBZ0IsQ0FDdkIvcEIsUUFBUyxHQUFHcUwsSUFDWnRMLEtBQU0sUUFDTmtuQixPQUFRNWpCLGFBQU0sRUFBTkEsRUFBUXhHLGNBRXhCLENBS08sU0FBUzBCLEVBQWE4TSxFQUFpQjZlLFdBRTFDLE1BQU1DLEVBQWdELFVBQWpCLFFBQW5CLEVBQUF2dEIsT0FBT3d0QixvQkFBWSxlQUFFQyxhQUE2RCxXQUFqQixRQUFuQixFQUFBenRCLE9BQU93dEIsb0JBQVksZUFBRUMsWUFDckZDLGtCQUFrQiw0Q0FBNENILEVBQVksUUFBVSw4Q0FBOEM5ZSxRQUFlNmUsRUFDckosQ0FLTyxTQUFTN3JCLEVBQWdCZ04sRUFBaUI2ZSxHQUU3QzNyQixFQUFhLElBQUcsSUFBQStDLGVBQWMsV0FBVytKLElBQVc2ZSxFQUN4RCxDQVNPLFNBQVMvcUIsRUFBb0JvckIsR0FBeUIsYUFBRTF0QixHQUFlLEVBQU0wSixTQUFVakksR0FBVyxFQUFJLEtBQUU5QixHQUFPLEdBQVMsQ0FBQyxTQUd0RyxpQkFBWCt0QixJQUVQQSxFQUFTQSxFQUFPbnpCLFlBRXBCbXpCLEVBQVNBLEVBQU85dEIsb0JBR2hCLElBQUssTUFBTUUsS0FBYXlKLGtCQUVwQixHQUNLdkosSUFBZ0JGLGFBQVMsRUFBVEEsRUFBV0UsZ0JBQWlCNEMsT0FBTzhxQixJQUNoRGpzQixJQUErQixRQUFuQixFQUFBM0IsYUFBUyxFQUFUQSxFQUFXMkIsZ0JBQVEsZUFBRTdCLHVCQUF3Qjh0QixHQUN6RC90QixHQUFRRyxFQUFVSCxLQUFLQyxzQkFBd0I4dEIsRUFHbkQsT0FBTzV0QixFQUtmLE9BQU8sSUFDWCxDQU1PLFNBQVNxTixFQUE0QlgsR0FPeEMsT0FMZW1oQixtQkFBbUJuaEIsR0FBU21kLFVBQ3BDbGUsU0FBU21pQixJQUVacGhCLEVBQVVBLEVBQVF2SSxVQUFVLEVBQUcycEIsRUFBTUMsT0FBU3JoQixFQUFRdkksVUFBVTJwQixFQUFNQyxNQUFRRCxFQUFNMXlCLE9BQU8sSUFFeEZzUixDQUNYLENBU08sTUFBTWtDLEVBQWtDLEdBUXhDLFNBQVNvZixFQUFvQkMsR0FFaENyZixFQUFlM1UsS0FBSyxDQUNoQnNVLE9BQVEwZixFQUFTMWYsT0FDakI3QixRQUFTdWhCLEVBQVN2aEIsUUFDbEI4QixPQUFReWYsRUFBU3pmLFFBRXpCLENBSU8sU0FBU3RJLEVBQXFCZ29CLEdBRWpDQSxFQUFVdmlCLFNBQVNzaUIsSUFFZnJmLEVBQWUzVSxLQUFLLENBQ2hCc1UsT0FBUTBmLEVBQVMxZixPQUNqQjdCLFFBQVN1aEIsRUFBU3ZoQixRQUNsQjhCLE9BQVF5ZixFQUFTemYsUUFDRixHQUUzQixDQUtPLFNBQVNsSSxFQUF3QmlJLEdBRXBDLElBQUssSUFBSWpWLEVBQUlzVixFQUFleFQsT0FBUyxFQUFHLEdBQUs5QixFQUFHQSxJQUV4Q3NWLEVBQWV0VixHQUFHaVYsU0FBV0EsR0FFN0JLLEVBQWU3USxPQUFPekUsRUFBRyxFQUdyQyxDQUVPLFNBQVM2MEIsRUFBMkJockIsRUFBNkJpckIsR0FFcEUsR0FBS2pyQixFQUFLSSxXQUlWLElBRUksT0FBT0osRUFBS0ksV0FBV3BLLFFBQVFpa0IsS0FBWUEsRUFBTWdSLEtBQVksRUFDakUsQ0FDQSxNQUFPQyxHQUlQLENBRUosQ0FFTyxTQUFTL3FCLEVBQStCSCxFQUE2QmlyQixTQUV4RSxPQUFrRCxRQUEzQyxFQUFBRCxFQUEyQmhyQixFQUFNaXJCLFVBQVUsZUFBR0EsRUFDekQsQ0FFTyxTQUFTNVEsRUFBc0I4USxHQUVsQyxNQUFNbHpCLEVBQVNrekIsRUFBSWx6QixPQUNuQixPQUFlLElBQVhBLEVBRU8sR0FFUyxJQUFYQSxFQUVFa3pCLEVBQUksR0FFSyxJQUFYbHpCLEVBRUUsR0FBR2t6QixFQUFJLFVBQVVBLEVBQUksS0FJckIsR0FBR0EsRUFBSXR5QixNQUFNLEdBQUksR0FBR0MsS0FBSyxjQUFjcXlCLEVBQUlsekIsRUFBUyxJQUVuRSw4TUNuT08sU0FBU216QixFQUFnQjNwQixFQUFjOEwsR0FHMUMsTUFBTThkLEdBQVcsSUFBQTVKLGVBQWNsVSxHQUMvQixPQUFpQixPQUFiOGQsRUFFTzVwQixFQUdQLFNBQVNWLEtBQUtVLEdBRVAsR0FBR0EsS0FBUTRwQixFQUFTaGIsT0FBTyxHQUFHK1ksb0JBQXNCaUMsRUFBU3h5QixNQUFNLE1BRTFFLFlBQVlrSSxLQUFLVSxHQUVWLEdBQUdBLE1BQVM0cEIsS0FFaEIsR0FBRzVwQixLQUFRNHBCLElBQ3RCLENBU08sU0FBU3BiLEdBQWlCeE8sRUFBTXdLLEVBQVdKLEdBQzlDOUwsRUFDQXVyQixHQUdBLElBQUs3cEIsR0FDQXFILE1BQU1tRCxJQUNnQixrQkFBYkosUUFBOEMsSUFBYkEsRUFHM0MsT0FBTzlMLEVBQUssQ0FBQzBCLEVBQU13SyxFQUFXSixJQU9sQ3lmLEVBQWN4MEIsTUFBTWdHLE9BQU8wQixVQUFZMUIsT0FBT0osTUFBTUMscUJBRXZCLFdBQXpCRyxPQUFPNlgsZUFFUDJXLEVBQWN4MEIsS0FBSyxRQUNuQncwQixFQUFjeDBCLEtBQUssT0FDbkJ3MEIsRUFBY3gwQixLQUFLLFNBSW5CdzBCLEVBQWN4MEIsS0FBSyxPQUNuQncwQixFQUFjeDBCLEtBQUssTUFDbkJ3MEIsRUFBY3gwQixLQUFLLFFBS3ZCLE1BQU15UyxFQUFVOUgsRUFBSzlFLG9CQUVyQixJQUFJNHVCLEVBQXdCLEdBQzVCRCxFQUFjOWlCLFNBQVNxRixJQUVuQixNQUFNMmQsRUFBUyxJQUFJN2lCLE9BQU8sTUFBTWtGLE9BQWEsS0FDeEIsSUFBSXRFLEVBQVFraUIsU0FBU0QsSUFDN0JoakIsU0FBU0UsSUFFbEI2aUIsRUFBYXowQixLQUFLLENBQUU4ekIsTUFBT2xpQixFQUFNbU0sTUFBTzZXLElBQUs3ZCxFQUFPNVYsUUFBUyxHQUMvRCxJQUlOLE1BQU0wekIsRUFBZSxJQUFJdjFCLElBQ3pCLElBQUssTUFBTXcxQixLQUFRTCxFQUNuQixDQUNJLE1BQU10WCxFQUFNLEdBQUcyWCxFQUFLaEIsU0FBU2dCLEVBQUtGLE1BQzdCQyxFQUFhMTFCLElBQUlnZSxJQUVsQjBYLEVBQWF6MEIsSUFBSStjLEVBQUsyWCxFQUU5QixDQUlBLEdBSEFMLEVBQWUzMUIsTUFBTW1FLEtBQUs0eEIsRUFBYWoxQixVQUdYLElBQXhCNjBCLEVBQWF0ekIsT0FFYixPQUFPOEgsRUFBSyxDQUFDMEIsRUFBTXdLLEVBQVdKLElBSWxDMGYsRUFBYXAwQixNQUFLLENBQUNkLEVBQUcrdEIsSUFBTS90QixFQUFFdTBCLE1BQVF4RyxFQUFFd0csUUFFdEJGLG1CQUFtQmpwQixHQUMzQitHLFNBQVNtaUIsSUFFZixJQUFLLElBQUl4MEIsRUFBSW8xQixFQUFhdHpCLE9BQVMsRUFBRzlCLEdBQUssRUFBR0EsSUFDOUMsQ0FDSSxNQUFNMFgsRUFBUzBkLEVBQWFwMUIsSUFHdkJ3MEIsRUFBTUMsTUFBUS9jLEVBQU8rYyxPQUFTL2MsRUFBTytjLE1BQVFELEVBQU1DLE1BQVFELEVBQU0xeUIsUUFDOUQweUIsRUFBTUMsTUFBUS9jLEVBQU8rYyxNQUFRL2MsRUFBTzZkLEtBQU83ZCxFQUFPK2MsTUFBUS9jLEVBQU82ZCxJQUFNZixFQUFNQyxNQUFRRCxFQUFNMXlCLFNBRy9Gc3pCLEVBQWEzd0IsT0FBT3pFLEVBQUcsRUFFL0IsS0FJSixJQUFJMDFCLEVBQVksRUFDWkMsRUFBWSxHQWFoQixPQVpBUCxFQUFhL2lCLFNBQVN1akIsSUFHbEJELEdBQWEvckIsRUFBSyxDQUFDMEIsRUFBS1QsVUFBVTZxQixFQUFXRSxFQUFNbkIsT0FBUTNlLEVBQVdKLElBR3RFZ2dCLEVBQVlFLEVBQU1uQixNQUFRbUIsRUFBTUwsSUFDaENJLEdBQWFycUIsRUFBS1QsVUFBVStxQixFQUFNbkIsTUFBT21CLEVBQU1uQixNQUFRbUIsRUFBTUwsSUFBSSxJQUdyRUksR0FBYS9yQixFQUFLLENBQUMwQixFQUFLVCxVQUFVNnFCLEdBQVk1ZixFQUFXSixJQUVsRGlnQixDQUNYLENBRUEsTUFBTUUsRUFBMEIsR0FDMUJDLEVBQXlCN3lCLE9BQU9nQyxPQUFPLENBQ3pDc1QsSUFBSyxJQUNMQyxPQUFRLEtBQ1JDLEtBQU0sSUFDTkMsSUFBSyxPQUVIcWQsRUFBMkI5eUIsT0FBT2dDLE9BQU8sQ0FDM0NzVCxJQUFLLElBQ0xDLE9BQVEsR0FDUkMsS0FBTSxHQUNOQyxJQUFLLE1BVUYsU0FBUzBCLEVBQ1p2UixFQUNBbXRCLEVBQ0F6YixTQUlBLEdBQWlDLElBQTdCeWIsRUFBa0JsMEIsUUFBNkIsUUFBYnlZLEVBRWxDLE9BQU8xUixFQUtYLElBQUlvdEIsRUFBNEIsR0FDaEMsU0FBU0MsVUFPTCxPQUwrQixJQUEzQkQsRUFBZ0JuMEIsU0FFaEJtMEIsRUFBa0JELEVBQWtCamMsT0FBT2ljLEdBQzNDQyxHQUFrQixJQUFBdEMsY0FBYXNDLElBRVAsUUFBckIsRUFBQUEsRUFBZ0JFLGFBQUssUUFBSSxFQUNwQyxDQUlBLElBQUlDLEVBQVksRUFDWkMsRUFBNkMsR0FDakQsTUFBTUMsRUFBWS9CLG1CQUFtQjFyQixHQUNyQyxJQUFLLE1BQU0yckIsS0FBUzhCLEVBRThCLEtBQTFDenRCLEVBQUlnQyxVQUFVdXJCLEVBQVc1QixFQUFNQyxRQUUvQjRCLEVBQVMxMUIsS0FBSyxDQUFFMkssS0FBTXpDLEVBQUlnQyxVQUFVdXJCLEVBQVc1QixFQUFNQyxPQUFROEIsS0FBSyxJQUV0RUYsRUFBUzExQixLQUFLLENBQUUySyxLQUFNekMsRUFBSWdDLFVBQVUycEIsRUFBTUMsTUFBT0QsRUFBTUMsTUFBUUQsRUFBTTF5QixRQUFTeTBCLEtBQUssSUFDbkZILEVBQVk1QixFQUFNQyxNQUFRRCxFQUFNMXlCLE9BR3BDLE1BQU0wMEIsRUFBVTN0QixFQUFJZ0MsVUFBVXVyQixHQUNkLEtBQVpJLEdBRUFILEVBQVMxMUIsS0FBSyxDQUFFMkssS0FBTWtyQixFQUFTRCxLQUFLLElBSXhDRixFQUFXQSxFQUFTM3lCLEtBQUksQ0FBQyt5QixFQUFLejJCLEtBRTFCLE1BQU0wMkIsRUFBcUIsT0FBTzF0QixLQUFLeXRCLEVBQUluckIsTUFNM0MsT0FMQW1yQixFQUFJbnJCLEtBQU9tckIsRUFBSW5yQixLQUFLMlksUUFBUSxPQUFRLElBQ2hDeVMsR0FBc0JMLEVBQVNyMkIsRUFBSSxLQUVuQ3EyQixFQUFTcjJCLEVBQUksR0FBR3NMLEtBQU9vckIsRUFBbUIsR0FBS0wsRUFBU3IyQixFQUFJLEdBQUdzTCxNQUU1RG1yQixDQUFHLElBSWQsTUFBTUUsRUFBY2IsRUFBdUJ2YixHQUNyQ3FjLEVBQWFiLEVBQXlCeGIsR0FDdENzYyxFQUE2QixTQUFidGMsR0FBb0MsUUFBYkEsRUFHN0MsSUFBSXVjLEdBQVcsRUFDWEMsRUFBUyxHQUNiLElBQUssTUFBTUMsS0FBV1gsRUFDdEIsQ0FDSSxHQUFJVyxFQUFRVCxJQUNaLENBQ0lRLEdBQVVDLEVBQVExckIsS0FDbEIsUUFDSixDQUVBLE1BQU0yckIsRUFBY0QsRUFBUTFyQixLQUFLaUgsTUFBTSxjQUFnQixHQUN2RCxJQUFJMmtCLEVBQThCLEtBQ2xDRCxFQUFZNWtCLFNBQVM4a0IsSUFHakIsR0FBSXRrQixLQUFLeWdCLFNBQVdxRCxFQUNwQixDQUNJRyxHQUFXLEVBQ1gsTUFBTTVCLEVBQVdnQixJQUVYa0IsRUFBMEIsT0FBakJGLEVBQ1hFLEdBQVUsU0FBU3hzQixLQUFLc3NCLFFBQUFBLEVBQWdCLElBRXhDSCxHQUFVLEdBQUdLLEVBQVMsR0FBSyxNQUFNbEMsRUFBU2hiLE9BQU8sR0FBRytZLHNCQUFzQmlDLEVBQVN4eUIsTUFBTSxNQUNsRixTQUFTa0ksS0FBS3VzQixJQUFTQyxFQUFTLEtBQUlBLEVBQVMsSUFBTSxJQUFPLE1BSWpFTCxHQUFVLEdBQUdsa0IsS0FBS3lnQixTQUFXdUMsS0FBNkJxQixRQUFBQSxFQUFnQixJQUFJRyxTQUFTLEtBQU8sSUFBTSxNQUFNbkMsSUFFbEgsQ0FDQTZCLEdBQVVJLEVBQ1ZELEVBQWVDLENBQUksS0FLaUMsUUFBcEQsRUFBQWQsRUFBUzN6QixRQUFRNnRCLFVBQVU1Z0IsTUFBTThsQixJQUFVQSxFQUFLYyxhQUFJLGVBQUVqckIsUUFBUzByQixFQUFRMXJCLE9BQ2xFdXJCLElBQWtCQyxHQUNsQmprQixLQUFLeWdCLFNBQVdzRCxLQUdyQkcsRUFBUzlCLEVBQWdCOEIsRUFBUSxDQUFDYixNQUUxQyxDQUVBLE9BQU9hLENBQ1gsQ0FTTyxTQUFTdGMsRUFDWjVSLEVBQ0FtdEIsRUFDQXpiLEdBSUEsR0FBaUMsSUFBN0J5YixFQUFrQmwwQixPQUVsQixPQUFPK0csRUFFWEEsRUFBTUEsUUFBQUEsRUFBTyxHQUdiMFIsRUFBWUEsRUFBVyxFQUFLLEVBQUtBLEVBQVcsRUFBSyxFQUFJQSxFQUlyRCxJQUFJMGIsRUFBNEIsR0FhaEMsSUFBSUcsRUFBWSxFQUNoQixNQUFNQyxFQUE2QyxHQUM3Q0MsRUFBWS9CLG1CQUFtQjFyQixHQUNyQyxJQUFLLE1BQU0yckIsS0FBUzhCLEVBRThCLEtBQTFDenRCLEVBQUlnQyxVQUFVdXJCLEVBQVc1QixFQUFNQyxRQUUvQjRCLEVBQVMxMUIsS0FBSyxDQUFFMkssS0FBTXpDLEVBQUlnQyxVQUFVdXJCLEVBQVc1QixFQUFNQyxPQUFROEIsS0FBSyxJQUV0RUYsRUFBUzExQixLQUFLLENBQUUySyxLQUFNekMsRUFBSWdDLFVBQVUycEIsRUFBTUMsTUFBT0QsRUFBTUMsTUFBUUQsRUFBTTF5QixRQUFTeTBCLEtBQUssSUFDbkZILEVBQVk1QixFQUFNQyxNQUFRRCxFQUFNMXlCLE9BR3BDLE1BQU0wMEIsRUFBVTN0QixFQUFJZ0MsVUFBVXVyQixHQUNkLEtBQVpJLEdBRUFILEVBQVMxMUIsS0FBSyxDQUFFMkssS0FBTWtyQixFQUFTRCxLQUFLLElBSXhDLElBQUlRLEVBQVMsR0FDYixJQUFLLE1BQU1DLEtBQVdYLEVBRWRXLEVBQVFULElBRVJRLEdBQVVDLEVBQVExckIsS0FJdEJ5ckIsR0FBVUMsRUFBUTFyQixLQUFLMlksUUFBUSxZQUFhMVIsSUFFeEMsR0FBSU0sS0FBS3lnQixTQUFXL1ksRUFFaEIsT0FBT2hJLEVBRVgsTUFBTStrQixHQTdDcUIsSUFBM0JyQixFQUFnQm4wQixTQUVoQm0wQixFQUFrQkQsRUFBa0JqYyxPQUFPaWMsR0FDM0NDLEdBQWtCLElBQUF0QyxjQUFhc0MsSUFFUCxRQUFyQixFQUFBQSxFQUFnQkUsYUFBSyxRQUFJLElBUHBDLE1BZ0RRLE1BQUksV0FBV3ZyQixLQUFLMkgsSUFBVUEsRUFBTXpRLE9BQVMsRUFFbEN3MUIsRUFBVXJFLG9CQUVqQixZQUFZcm9CLEtBQUsySCxHQUVWK2tCLEVBQVV6c0IsVUFBVSxFQUFHLEdBQUdvb0Isb0JBQXNCcUUsRUFBVXpzQixVQUFVLEdBRXhFeXNCLENBQVMsSUFJeEIsT0FBT1AsQ0FDWCxraUJDblZBLElBQUlRLEdBQW9CLEVBRWpCLE1BQU1DLEVBQW9CLENBQzdCLElBQUksRUFBQXhpQixlQUNKLElBQUksRUFBQTBNLGVBQ0osSUFBSSxFQUFBbFQsaUJBQ0osSUFBSSxFQUFBK0UsY0FDSixJQUFJLEVBQUF3WCxpQkFDSixJQUFJLEVBQUFnRixvQkFDSixJQUFJLEVBQUFoQywyQkFDSixJQUFJLEVBQUFwVixjQUNKLElBQUksRUFBQTRLLG9CQUNKLElBQUksRUFBQXBTLGdCQUNKLElBQUksRUFBQXFFLGVBR0tqQixFQUFpQyxDQUFDLEVBRXhDa2pCLGVBQWVDLElBR2RILElBRUpDLEVBQVFubEIsU0FBUzRDLElBR2IsTUFBTTBpQixFQUFTMWlCLEVBQU9uSixTQUNoQjhyQixFQUFjLENBQUMsRUFDckJELEVBQU90bEIsU0FBU3RSLElBRVo2MkIsRUFBWTcyQixFQUFJTCxNQUFRSyxDQUFHLElBRVMsSUFBcENrQyxPQUFPZ0QsS0FBSzJ4QixHQUFhOTFCLFNBRXpCeVMsRUFBU1UsRUFBT3pJLE9BQVNvckIsRUFDN0IsVUFFRSxJQUFBQyxlQUdOTCxFQUFRbmxCLFNBQVM0QyxJQUViQSxFQUFPdkksTUFBTSxJQUVqQjZxQixHQUFvQixFQUN4Qix3U0MvQ0EsTUFBTTMyQixFQUEwQixHQUVuQmszQixFQUF1QixnQkFBcUIsQ0FDckRwM0IsS0FBTSxFQUFBc3lCLFNBQ045dUIsUUFBUyxFQUFBZ3ZCLFlBQ1RqdkIsU0FBVSwyQkFDVkUsV0FBWSxFQUFBZ3ZCLFVBQ2IsQ0FDQy91QixjQUFjLElBWVgsU0FBU3NGLEVBQTJDdUwsRUFBNEI4aUIsRUFBNkI5MkIsRUFBa0JnQixHQUVsSSxNQUFNKzFCLEVBQWFGLEVBQU92ekIsYUFBYXd6QixFQUFjOTJCLEVBQVVnQixHQVUvRCxPQVJBckIsRUFBTUQsS0FBSyxDQUNQbzNCLGFBQWNBLEVBQ2Q5MkIsU0FBVUEsRUFDVmdCLEtBQU1BLEVBQ05nVCxPQUFRQSxFQUNSK2lCLFdBQVlBLElBR1RBLENBQ1gsQ0FFTyxTQUFTbHJCLEVBQVltSSxHQUV4QixJQUFLLElBQUlqVixFQUFJWSxFQUFNa0IsT0FBUyxFQUFHLEdBQUs5QixFQUFHQSxJQUUvQlksRUFBTVosR0FBR2lWLFNBQVdBLElBRXBCclUsRUFBTVosR0FBR2c0QixhQUNUcDNCLEVBQU02RCxPQUFPekUsRUFBRyxHQUc1QixDQUtPeTNCLGVBQWVRLElBRWxCLElBQUl0eEIsT0FBT0MsZUFBZ0JELE9BQU91eEIsa0JBS2xDLE9BQU8sSUFBSUMsU0FBZUMsSUFFdEIsTUFBTW4yQixFQUFPNjFCLEVBQU92ekIsYUFBYSxnQkFBaUIsR0FBRyxDQUFDb0YsRUFBTUMsS0FHeERBLEVBQUtELEdBR0wxSCxJQUdBbzJCLFdBQVdELEVBQVMsSUFBSyxHQUMzQixHQUVWLENBS09YLGVBQWVhLElBRWxCLEtBQUlub0Isa0JBQWtCck8sT0FBUyxHQUsvQixPQUFPLElBQUlxMkIsU0FBZUMsSUFFdEIsTUFBTW4yQixFQUFPNjFCLEVBQU92ekIsYUFBYSxlQUFnQixLQUFLLENBQUNvRixFQUFNQyxLQUd6REEsRUFBS0QsR0FHTDFILElBR0FtMkIsR0FBUyxHQUNYLEdBRVYsQ0FNTyxTQUFTRyxFQUFNQyxHQUVsQixPQUFPLElBQUlMLFNBQVNDLEdBQVlDLFdBQVdELEVBQVNJLElBQ3hELENBS08sU0FBU3RsQixVQUVaLE9BQWlCLFFBQVYsRUFBQTFRLE9BQU80aEIsV0FBRyxlQUFFcVUsVUFBVSxFQUFBekYsU0FDakMsQ0FLTyxTQUFTL2YsSUFFWixRQUFTelEsT0FBTzRoQixHQUNwQix1REN0SU8sU0FBU3BHLEVBQWlCRCxHQUU3QixNQUNvRCxtQkFBeENBLEVBQTZCMU0sUUFDYSxpQkFBdkMwTSxFQUE2Qi9PLEtBRWhELENBQ08sU0FBU3NQLEVBQWtCUCxHQUU5QixPQUNJQyxFQUFpQkQsSUFDd0IsYUFBckNBLEVBQTRCM00sTUFDaUIsa0JBQXRDMk0sRUFBNEJuWSxLQUUvQyxDQUNPLFNBQVM2WSxFQUFnQlYsR0FFNUIsT0FDSUMsRUFBaUJELElBQ3NCLFdBQW5DQSxFQUEwQjNNLE1BQ2lCLGlCQUFwQzJNLEVBQTBCblksT0FDbENuRyxNQUFNQyxRQUFTcWUsRUFBMEJ4TSxVQUNFLGtCQUFuQ3dNLEVBQTBCdE0sSUFFN0MsQ0FDTyxTQUFTME4sRUFBY3BCLEdBRTFCLE9BQ0lDLEVBQWlCRCxJQUNvQixTQUFqQ0EsRUFBd0IzTSxNQUNpQixpQkFBbEMyTSxFQUF3Qm5ZLFFBQ1csaUJBQWxDbVksRUFBd0J6UCxPQUNJLE9BQWxDeVAsRUFBd0J6UCxTQUNtQixpQkFBckN5UCxFQUF3QnpNLFVBQ08sT0FBckN5TSxFQUF3QnpNLFNBRXRDLENBQ08sU0FBUzhOLEVBQWdCckIsR0FFNUIsT0FDSUMsRUFBaUJELElBQ3NCLFdBQW5DQSxFQUEwQjNNLE1BQ2lCLGlCQUFwQzJNLEVBQTBCblksUUFDVyxpQkFBcENtWSxFQUEwQnpQLE9BQ0ksT0FBcEN5UCxFQUEwQnpQLFFBQ2EsaUJBQWxDeVAsRUFBMEJqTCxLQUNRLGlCQUFsQ2lMLEVBQTBCd0QsTUFDVSxpQkFBbkN4RCxFQUEwQnlELE1BQ0csT0FBbkN6RCxFQUEwQnlELEtBRXhDLHVrQkN6Q0EsTUFBTWtYLEVBQXVCLGlGQUN2QkMsRUFBb0IsZ0ZBRXBCQyxFQUFtQiw0REFDbkJDLEVBQWdCLDJEQUVoQkMsRUFBdUIsa0JBdUQ3QixTQUFTQyxFQUFleGtCLFNBRXBCLEdBQUtBLEVBQVNyUSxVQUFvQixFQUFBZ3ZCLFlBQ2xDLENBQ0ksTUFBTThGLEVBQVdGLEVBQXFCbHVCLEtBQUssRUFBQXNvQixhQUMzQytGLGtCQUFrQixDQUNkcnlCLGFBQWlDLFFBQW5CLEVBQUFELE9BQU9DLG9CQUFZLFNBQUssRUFDdENzeUIsWUFBWSxJQUFBN3RCLGVBQWMsT0FDMUI4dEIsY0FBZSxJQUNmQyxjQUFjLElBQUEvdEIsZUFBYyxlQUM1QjFELFNBQVMsRUFDVDB4QixTQUFVLEdBQ1ZDLFFBQVMsa0RBQWtETixFQUFXSixFQUFtQkMsTUFFNUZ0a0IsRUFBU3JRLFFBQWtCLEVBQUFndkIsWUFDNUIvcEIsR0FBWSxHQS9EcEJzdUIsaUJBRUksTUFBTXVCLEVBQVdGLEVBQXFCbHVCLEtBQUssRUFBQXNvQixhQUNyQ0UsRUFBTTRGLEVBQVdOLEVBQXVCQyxFQUM5QyxJQUVJLE1BQU1ZLFFBQWlCQyxNQUFNcEcsR0FDeEJtRyxFQUFTRSxJQUVWcjZCLFFBQVFnQixLQUFLLHNDQUFzQ201QixFQUFTRyxjQUdoRSxNQUFNQyxRQUFrQkosRUFBU2p1QixPQUUzQnN1QixFQUFVLHFEQUFxRDV3QixLQUFLMndCLEdBRTFFLEdBQUlDLEdBRWdCQSxFQUFRLEtBRVIsRUFBQTFHLFlBQ2hCLENBQ0ksTUFBTTJHLEVBQVVELEVBQVEsR0FBR3huQixPQUMzQixPQUlJLFNBRk0sSUFBQWttQix5QkFDQSxJQUFBQyxPQUFNLEtBQ1Jwb0Isa0JBQWtCck8sT0FBUyxFQUMvQixFQUNJLElBQUF3RyxjQUFhLCtGQUNkLEVBQUE0cUIsZ0RBRXJCMkcsZUFDU2IsRUFBV0osRUFBbUJDLDZDQUNqQixLQUNKLENBRUosTUFDSixDQUVKejVCLFFBQVFnQixLQUFLLCtDQUNqQixDQUNBLE1BQU9mLEdBRUhELFFBQVFDLE1BQU0sVUFBVUEsSUFDNUIsQ0FDSixDQWtCUXk2QixFQUNKLENBQ0osQ0FFT3JDLGVBQWVJLHNCQUdaLElBQUFJLGVBRU4sTUFBTTFqQixFQUE2RyxRQUF0RixFQUFBbE4sS0FBS0MsTUFBd0UsUUFBbEUsRUFBQUMsU0FBU0MscUJBQWtELFFBQTdCLEVBQXdCLFFBQXhCLEVBQUFiLE9BQU91eEIseUJBQWlCLGVBQUV6d0IsV0FBRyxRQUFJLFdBQUcsUUFBSSxhQUFLLFFBQUksQ0FBQyxFQUV4SHhFLE9BQU9uQyxRQUFRLFlBQWlCdVIsU0FBU3NDLDBCQUVyQyxNQUFPb2xCLEVBQWNDLEdBQW9CcmxCLEVBQ3pDLElBQUssTUFBT3VKLEVBQWFuZCxLQUFRa0MsT0FBT25DLFFBQVFrNUIsR0FHdENELEtBQWdCeGxCLElBRWxCQSxFQUFTd2xCLEdBQWdCLENBQUMsR0FJMUI3YixLQUFlM0osRUFBU3dsQixJQUlzQyxjQUFYLFFBQTlDLEVBQStCLFFBQS9CLEVBQWUsT0FBZixpQkFBZSxJQUFmLGdCQUFlLEVBQWYsV0FBa0JBLFVBQWEsZUFBRzdiLFVBQVksZUFBRTlNLE9BQ0csa0JBQXhDbUQsRUFBU3dsQixHQUFjN2IsSUFDMEIsWUFBWCxRQUE5QyxFQUErQixRQUEvQixFQUFlLE9BQWYsaUJBQWUsSUFBZixnQkFBZSxFQUFmLFdBQWtCNmIsVUFBYSxlQUFHN2IsVUFBWSxlQUFFOU0sT0FDL0N1QixNQUFNNEIsRUFBU3dsQixHQUFjN2IsS0FDOUIsWUFBNEQsUUFBOUMsRUFBK0IsUUFBL0IsRUFBZSxPQUFmLGlCQUFlLElBQWYsZ0JBQWUsRUFBZixXQUFrQjZiLFVBQWEsZUFBRzdiLFVBQVksUUFBSSxDQUFDLE1BQ1ksUUFBekUsRUFBZ0UsUUFBakUsRUFBZ0MsUUFBL0IsRUFBZSxPQUFmLGlCQUFlLElBQWYsZ0JBQWUsRUFBZixXQUFrQjZiLFVBQWEsZUFBRzdiLFVBQThCLGVBQUUzTSxlQUFPLFFBQUksSUFBSWxRLFNBQVNrVCxFQUFTd2xCLEdBQWM3YixPQUd6SDNKLEVBQVN3bEIsR0FBYzdiLEdBQWVuZCxFQUFJNkUsTUFDMUN4RyxRQUFRZ0IsS0FBSyw0QkFBNEJtVSxFQUFTd2xCLEdBQWM3YixVQUFvQjZiLE1BQWlCN2IsNEJBSTdHM0osRUFBU3dsQixHQUFjN2IsR0FBZW5kLEVBQUk2RSxLQUM5QyxJQUlKbXpCLEVBQWV4a0IsR0FFZjVOLE9BQU9jLElBQU04TSxDQUVqQixDQUVPLFNBQVNwTCxFQUFZOHdCLEdBQTBCLEdBRTdDdHpCLE9BQU9jLEtBQVFkLE9BQU91eEIsb0JBSzNCdnhCLE9BQU9jLElBQUksRUFBQUMsWUFBWWlFLFdBQVdtbUIsT0FDN0JuckIsT0FBT2MsSUFBSSxFQUFBQyxZQUFZaUUsV0FBV21tQixPQUFrQnJ2QixNQUFNLEtBQ3RENUMsUUFBUW9lLEdBQVF6VSxPQUFPeVUsS0FBU3RYLE9BQU9DLGVBQWNqRSxLQUFLLEtBQ25FZ0UsT0FBT3V4QixrQkFBa0J6d0IsSUFBTUYsU0FBUzJ5QixpQkFBaUI3eUIsS0FBS3VjLFVBQVVqZCxPQUFPYyxNQUMvRTB5QixrQ0FBa0MsT0FDOUJGLElBRUEsSUFBQTVsQixjQUFZLEdBRXBCLENBRU9vakIsZUFBZWpYLFdBRVY3WixPQUFPdXhCLGtCQUEwQnp3QixJQUN6Q2QsT0FBT3V4QixrQkFBa0J6d0IsSUFBTUYsU0FBUzJ5QixpQkFBaUI3eUIsS0FBS3VjLFVBQVUsQ0FBRTFmLFFBQVMsRUFBQWd2QixxQkFDN0UyRSxJQUNOMXVCLEdBRUosQ0FFT3N1QixlQUFlcFgsSUFFbEIsT0FBTytaLFVBQVVDLFVBQVVDLFVBQVUveUIsU0FBUzJ5QixpQkFBaUI3eUIsS0FBS3VjLFVBQVVqZCxPQUFPYyxNQUN6RixDQUVPZ3dCLGVBQWV2WCxJQUVsQixPQUFPLElBQUlpWSxTQUFRLENBQUNDLEVBQVNtQyxLQUV6QkgsVUFBVUMsVUFBVUcsV0FBV3JhLE1BQU03VSxVQUVqQyxJQUVJLE1BQU1zc0IsRUFBMEJ2d0IsS0FBS0MsTUFBK0MsUUFBekMsRUFBQUMsU0FBU0MscUJBQXFCOEQsUUFBQUEsRUFBUSxXQUFHLFFBQUksTUFHbEZtdkIsRUFBOEJwekIsS0FBS0MsTUFBTUQsS0FBS3VjLFVBQVVqZCxPQUFPYyxNQUdyRWd6QixFQUFnQixFQUFBL3lCLFlBQVlxRSxZQUFZMlgsT0FBT00sWUFBY2hFLEtBQUtDLE1BQ2xFd2EsRUFBZ0IsRUFBQS95QixZQUFZcUUsWUFBWTJYLE9BQU91RSxXQUFhakksS0FBS0MsTUFFakUsSUFBSyxNQUFNbkMsS0FBTzhaLE9BRVc5d0IsSUFBckI4d0IsRUFBWTlaLEtBR1oyYyxFQUFnQjNjLEdBQTJCOFosRUFBWTlaLElBUS9EMmMsRUFBZ0IsRUFBQS95QixZQUFZcUUsWUFBWTJYLE9BQU9NLFlBQWNoRSxLQUFLQyxPQUFTd2EsRUFBZ0IsRUFBQS95QixZQUFZcUUsWUFBWTJYLE9BQU91RSxXQUFhd1MsRUFBZ0IsRUFBQS95QixZQUFZcUUsWUFBWTJYLE9BQU9NLGFBQ3RMeVcsRUFBZ0IsRUFBQS95QixZQUFZcUUsWUFBWTJYLE9BQU91RSxXQUFhakksS0FBS0MsTUFDakV0WixPQUFPYyxJQUFNZ3pCLEdBQ2IsSUFBQXZaLFlBQVUsR0FBTyxHQUFPLEdBRXhCL1gsR0FBWSxFQUNoQixDQUNBLE1BQU85SixHQUdILE9BREFELFFBQVFnQixLQUFLZixHQUNOazdCLEdBQ1gsQ0FFQSxPQUFPbkMsR0FBUyxJQUNqQixJQUFNbUMsS0FBUyxHQUUxQixJQ3ROSUcsRUFBMkIsQ0FBQyxFQUdoQyxTQUFTQyxFQUFvQkMsR0FFNUIsSUFBSUMsRUFBZUgsRUFBeUJFLEdBQzVDLFFBQXFCOXpCLElBQWpCK3pCLEVBQ0gsT0FBT0EsRUFBYWwxQixRQUdyQixJQUFJc1AsRUFBU3lsQixFQUF5QkUsR0FBWSxDQUdqRGoxQixRQUFTLENBQUMsR0FPWCxPQUhBbTFCLEVBQW9CRixHQUFVM2xCLEVBQVFBLEVBQU90UCxRQUFTZzFCLEdBRy9DMWxCLEVBQU90UCxPQUNmLENDckJBZzFCLEVBQW9CbjdCLEVBQUt5VixJQUN4QixJQUFJOGxCLEVBQVM5bEIsR0FBVUEsRUFBTytsQixXQUM3QixJQUFPL2xCLEVBQWlCLFFBQ3hCLElBQU0sRUFFUCxPQURBMGxCLEVBQW9CNTNCLEVBQUVnNEIsRUFBUSxDQUFFNzZCLEVBQUc2NkIsSUFDNUJBLENBQU0sRUNMZEosRUFBb0I1M0IsRUFBSSxDQUFDNEMsRUFBU3MxQixLQUNqQyxJQUFJLElBQUluZCxLQUFPbWQsRUFDWE4sRUFBb0IzN0IsRUFBRWk4QixFQUFZbmQsS0FBUzZjLEVBQW9CMzdCLEVBQUUyRyxFQUFTbVksSUFDNUU3YSxPQUFPeUMsZUFBZUMsRUFBU21ZLEVBQUssQ0FBRW9kLFlBQVksRUFBTXo2QixJQUFLdzZCLEVBQVduZCxJQUUxRSxFQ05ENmMsRUFBb0IzN0IsRUFBSSxDQUFDeTNCLEVBQUswRSxJQUFVbDRCLE9BQU9tNEIsVUFBVUMsZUFBZTE1QixLQUFLODBCLEVBQUswRSxHQ0NsRlIsRUFBb0JoN0IsRUFBS2dHLElBQ0gsb0JBQVgyMUIsUUFBMEJBLE9BQU9DLGFBQzFDdDRCLE9BQU95QyxlQUFlQyxFQUFTMjFCLE9BQU9DLFlBQWEsQ0FBRTMxQixNQUFPLFdBRTdEM0MsT0FBT3lDLGVBQWVDLEVBQVMsYUFBYyxDQUFFQyxPQUFPLEdBQU8sdUpDSzlEeEcsUUFBUWd1QixJQUFJLHFDQUVaLElBQUFuaUIscUJBQ0EsSUFBQXlzQixtQkFDQWwxQixPQUFPaUYsSUFBTSxDQUNUdkQsUUFBUyxFQUFBZ3ZCLFlBQ1R4VCxZQUFZIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXBhLy4vbm9kZV9tb2R1bGVzL2JvbmRhZ2UtY2x1Yi1tb2Qtc2RrL2Rpc3QvYmNtb2RzZGsuanMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL2NvbW1hbmRzL2JlZC50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvY29tbWFuZHMvYm93bC50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvY29tbWFuZHMvYnVpbGRBbGxDb21tYW5kcy50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvbG9jYWxpemF0aW9uL2xvY2FsaXphdGlvbi50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvbW9kdWxlcy9fbW9kdWxlLnRzIiwid2VicGFjazovL21wYS8uL3NyYy9tb2R1bGVzL2FjdGl2aXRpZXMudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL21vZHVsZXMvYXV0aG9yaXR5LnRzIiwid2VicGFjazovL21wYS8uL3NyYy9tb2R1bGVzL2NsaWNrZXIudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL21vZHVsZXMvZGF0YVN5bmMudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL21vZHVsZXMvcHJpdmF0ZS50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvbW9kdWxlcy9wcm9maWxlLnRzIiwid2VicGFjazovL21wYS8uL3NyYy9tb2R1bGVzL3NldHRpbmdzLnRzIiwid2VicGFjazovL21wYS8uL3NyYy9tb2R1bGVzL3NldHRpbmdzT3RoZXJzLnRzIiwid2VicGFjazovL21wYS8uL3NyYy9tb2R1bGVzL3ZpcnR1YWxQZXQudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL21vZHVsZXMvdmlydHVhbFBldENvbmRpdGlvbnMudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL21vZHVsZXMvdmlydHVhbFBldEhVRC50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvdXRpbC9hY3Rpdml0aWVzLnRzIiwid2VicGFjazovL21wYS8uL3NyYy91dGlsL2F1dGhvcml0eS50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvdXRpbC9jb25zdGFudHMudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL3V0aWwvZ2VuZXJhbC50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvdXRpbC9tZXNzYWdpbmcudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL3V0aWwvcGV0SGVhckFuZFNwZWFrLnRzIiwid2VicGFjazovL21wYS8uL3NyYy91dGlsL3JlZ2lzdGVyTW9kdWxlcy50cyIsIndlYnBhY2s6Ly9tcGEvLi9zcmMvdXRpbC9zZGsudHMiLCJ3ZWJwYWNrOi8vbXBhLy4vc3JjL3V0aWwvc2V0dGluZ1R5cGVzLnRzIiwid2VicGFjazovL21wYS8uL3NyYy91dGlsL3N0b3JhZ2UudHMiLCJ3ZWJwYWNrOi8vbXBhL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL21wYS93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9tcGEvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL21wYS93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL21wYS93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL21wYS8uL3NyYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBCb25kYWdlIENsdWIgTW9kIERldmVsb3BtZW50IEtpdCAoMS4yLjApXG4vLyBGb3IgbW9yZSBpbmZvIHNlZTogaHR0cHM6Ly9naXRodWIuY29tL0pvbXNoaXI5OC9ib25kYWdlLWNsdWItbW9kLXNka1xuLyoqIEB0eXBlIHtNb2RTREtHbG9iYWxBUEl9ICovXG52YXIgYmNNb2RTZGs9ZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtjb25zdCBvPVwiMS4yLjBcIjtmdW5jdGlvbiBlKG8pe2FsZXJ0KFwiTW9kIEVSUk9SOlxcblwiK28pO2NvbnN0IGU9bmV3IEVycm9yKG8pO3Rocm93IGNvbnNvbGUuZXJyb3IoZSksZX1jb25zdCB0PW5ldyBUZXh0RW5jb2RlcjtmdW5jdGlvbiBuKG8pe3JldHVybiEhbyYmXCJvYmplY3RcIj09dHlwZW9mIG8mJiFBcnJheS5pc0FycmF5KG8pfWZ1bmN0aW9uIHIobyl7Y29uc3QgZT1uZXcgU2V0O3JldHVybiBvLmZpbHRlcigobz0+IWUuaGFzKG8pJiZlLmFkZChvKSkpfWNvbnN0IGk9bmV3IE1hcCxhPW5ldyBTZXQ7ZnVuY3Rpb24gYyhvKXthLmhhcyhvKXx8KGEuYWRkKG8pLGNvbnNvbGUud2FybihvKSl9ZnVuY3Rpb24gcyhvKXtjb25zdCBlPVtdLHQ9bmV3IE1hcCxuPW5ldyBTZXQ7Zm9yKGNvbnN0IHIgb2YgZi52YWx1ZXMoKSl7Y29uc3QgaT1yLnBhdGNoaW5nLmdldChvLm5hbWUpO2lmKGkpe2UucHVzaCguLi5pLmhvb2tzKTtmb3IoY29uc3RbZSxhXW9mIGkucGF0Y2hlcy5lbnRyaWVzKCkpdC5oYXMoZSkmJnQuZ2V0KGUpIT09YSYmYyhgTW9kU0RLOiBNb2QgJyR7ci5uYW1lfScgaXMgcGF0Y2hpbmcgZnVuY3Rpb24gJHtvLm5hbWV9IHdpdGggc2FtZSBwYXR0ZXJuIHRoYXQgaXMgYWxyZWFkeSBhcHBsaWVkIGJ5IGRpZmZlcmVudCBtb2QsIGJ1dCB3aXRoIGRpZmZlcmVudCBwYXR0ZXJuOlxcblBhdHRlcm46XFxuJHtlfVxcblBhdGNoMTpcXG4ke3QuZ2V0KGUpfHxcIlwifVxcblBhdGNoMjpcXG4ke2F9YCksdC5zZXQoZSxhKSxuLmFkZChyLm5hbWUpfX1lLnNvcnQoKChvLGUpPT5lLnByaW9yaXR5LW8ucHJpb3JpdHkpKTtjb25zdCByPWZ1bmN0aW9uKG8sZSl7aWYoMD09PWUuc2l6ZSlyZXR1cm4gbztsZXQgdD1vLnRvU3RyaW5nKCkucmVwbGFjZUFsbChcIlxcclxcblwiLFwiXFxuXCIpO2Zvcihjb25zdFtuLHJdb2YgZS5lbnRyaWVzKCkpdC5pbmNsdWRlcyhuKXx8YyhgTW9kU0RLOiBQYXRjaGluZyAke28ubmFtZX06IFBhdGNoICR7bn0gbm90IGFwcGxpZWRgKSx0PXQucmVwbGFjZUFsbChuLHIpO3JldHVybigwLGV2YWwpKGAoJHt0fSlgKX0oby5vcmlnaW5hbCx0KTtsZXQgaT1mdW5jdGlvbihlKXt2YXIgdCxpO2NvbnN0IGE9bnVsbD09PShpPSh0PW0uZXJyb3JSZXBvcnRlckhvb2tzKS5ob29rQ2hhaW5FeGl0KXx8dm9pZCAwPT09aT92b2lkIDA6aS5jYWxsKHQsby5uYW1lLG4pLGM9ci5hcHBseSh0aGlzLGUpO3JldHVybiBudWxsPT1hfHxhKCksY307Zm9yKGxldCB0PWUubGVuZ3RoLTE7dD49MDt0LS0pe2NvbnN0IG49ZVt0XSxyPWk7aT1mdW5jdGlvbihlKXt2YXIgdCxpO2NvbnN0IGE9bnVsbD09PShpPSh0PW0uZXJyb3JSZXBvcnRlckhvb2tzKS5ob29rRW50ZXIpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmNhbGwodCxvLm5hbWUsbi5tb2QpLGM9bi5ob29rLmFwcGx5KHRoaXMsW2Usbz0+e2lmKDEhPT1hcmd1bWVudHMubGVuZ3RofHwhQXJyYXkuaXNBcnJheShlKSl0aHJvdyBuZXcgRXJyb3IoYE1vZCAke24ubW9kfSBmYWlsZWQgdG8gY2FsbCBuZXh0IGhvb2s6IEV4cGVjdGVkIGFyZ3MgdG8gYmUgYXJyYXksIGdvdCAke3R5cGVvZiBvfWApO3JldHVybiByLmNhbGwodGhpcyxvKX1dKTtyZXR1cm4gbnVsbD09YXx8YSgpLGN9fXJldHVybntob29rczplLHBhdGNoZXM6dCxwYXRjaGVzU291cmNlczpuLGVudGVyOmksZmluYWw6cn19ZnVuY3Rpb24gbChvLGU9ITEpe2xldCByPWkuZ2V0KG8pO2lmKHIpZSYmKHIucHJlY29tcHV0ZWQ9cyhyKSk7ZWxzZXtsZXQgZT13aW5kb3c7Y29uc3QgYT1vLnNwbGl0KFwiLlwiKTtmb3IobGV0IHQ9MDt0PGEubGVuZ3RoLTE7dCsrKWlmKGU9ZVthW3RdXSwhbihlKSl0aHJvdyBuZXcgRXJyb3IoYE1vZFNESzogRnVuY3Rpb24gJHtvfSB0byBiZSBwYXRjaGVkIG5vdCBmb3VuZDsgJHthLnNsaWNlKDAsdCsxKS5qb2luKFwiLlwiKX0gaXMgbm90IG9iamVjdGApO2NvbnN0IGM9ZVthW2EubGVuZ3RoLTFdXTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBjKXRocm93IG5ldyBFcnJvcihgTW9kU0RLOiBGdW5jdGlvbiAke299IHRvIGJlIHBhdGNoZWQgbm90IGZvdW5kYCk7Y29uc3QgbD1mdW5jdGlvbihvKXtsZXQgZT0tMTtmb3IoY29uc3QgbiBvZiB0LmVuY29kZShvKSl7bGV0IG89MjU1JihlXm4pO2ZvcihsZXQgZT0wO2U8ODtlKyspbz0xJm8/LTMwNjY3NDkxMl5vPj4+MTpvPj4+MTtlPWU+Pj44Xm99cmV0dXJuKCgtMV5lKT4+PjApLnRvU3RyaW5nKDE2KS5wYWRTdGFydCg4LFwiMFwiKS50b1VwcGVyQ2FzZSgpfShjLnRvU3RyaW5nKCkucmVwbGFjZUFsbChcIlxcclxcblwiLFwiXFxuXCIpKSxkPXtuYW1lOm8sb3JpZ2luYWw6YyxvcmlnaW5hbEhhc2g6bH07cj1PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sZCkse3ByZWNvbXB1dGVkOnMoZCkscm91dGVyOigpPT57fSxjb250ZXh0OmUsY29udGV4dFByb3BlcnR5OmFbYS5sZW5ndGgtMV19KSxyLnJvdXRlcj1mdW5jdGlvbihvKXtyZXR1cm4gZnVuY3Rpb24oLi4uZSl7cmV0dXJuIG8ucHJlY29tcHV0ZWQuZW50ZXIuYXBwbHkodGhpcyxbZV0pfX0ociksaS5zZXQobyxyKSxlW3IuY29udGV4dFByb3BlcnR5XT1yLnJvdXRlcn1yZXR1cm4gcn1mdW5jdGlvbiBkKCl7Zm9yKGNvbnN0IG8gb2YgaS52YWx1ZXMoKSlvLnByZWNvbXB1dGVkPXMobyl9ZnVuY3Rpb24gcCgpe2NvbnN0IG89bmV3IE1hcDtmb3IoY29uc3RbZSx0XW9mIGkpby5zZXQoZSx7bmFtZTplLG9yaWdpbmFsOnQub3JpZ2luYWwsb3JpZ2luYWxIYXNoOnQub3JpZ2luYWxIYXNoLHNka0VudHJ5cG9pbnQ6dC5yb3V0ZXIsY3VycmVudEVudHJ5cG9pbnQ6dC5jb250ZXh0W3QuY29udGV4dFByb3BlcnR5XSxob29rZWRCeU1vZHM6cih0LnByZWNvbXB1dGVkLmhvb2tzLm1hcCgobz0+by5tb2QpKSkscGF0Y2hlZEJ5TW9kczpBcnJheS5mcm9tKHQucHJlY29tcHV0ZWQucGF0Y2hlc1NvdXJjZXMpfSk7cmV0dXJuIG99Y29uc3QgZj1uZXcgTWFwO2Z1bmN0aW9uIHUobyl7Zi5nZXQoby5uYW1lKSE9PW8mJmUoYEZhaWxlZCB0byB1bmxvYWQgbW9kICcke28ubmFtZX0nOiBOb3QgcmVnaXN0ZXJlZGApLGYuZGVsZXRlKG8ubmFtZSksby5sb2FkZWQ9ITEsZCgpfWZ1bmN0aW9uIGcobyx0KXtvJiZcIm9iamVjdFwiPT10eXBlb2Ygb3x8ZShcIkZhaWxlZCB0byByZWdpc3RlciBtb2Q6IEV4cGVjdGVkIGluZm8gb2JqZWN0LCBnb3QgXCIrdHlwZW9mIG8pLFwic3RyaW5nXCI9PXR5cGVvZiBvLm5hbWUmJm8ubmFtZXx8ZShcIkZhaWxlZCB0byByZWdpc3RlciBtb2Q6IEV4cGVjdGVkIG5hbWUgdG8gYmUgbm9uLWVtcHR5IHN0cmluZywgZ290IFwiK3R5cGVvZiBvLm5hbWUpO2xldCByPWAnJHtvLm5hbWV9J2A7XCJzdHJpbmdcIj09dHlwZW9mIG8uZnVsbE5hbWUmJm8uZnVsbE5hbWV8fGUoYEZhaWxlZCB0byByZWdpc3RlciBtb2QgJHtyfTogRXhwZWN0ZWQgZnVsbE5hbWUgdG8gYmUgbm9uLWVtcHR5IHN0cmluZywgZ290ICR7dHlwZW9mIG8uZnVsbE5hbWV9YCkscj1gJyR7by5mdWxsTmFtZX0gKCR7by5uYW1lfSknYCxcInN0cmluZ1wiIT10eXBlb2Ygby52ZXJzaW9uJiZlKGBGYWlsZWQgdG8gcmVnaXN0ZXIgbW9kICR7cn06IEV4cGVjdGVkIHZlcnNpb24gdG8gYmUgc3RyaW5nLCBnb3QgJHt0eXBlb2Ygby52ZXJzaW9ufWApLG8ucmVwb3NpdG9yeXx8KG8ucmVwb3NpdG9yeT12b2lkIDApLHZvaWQgMCE9PW8ucmVwb3NpdG9yeSYmXCJzdHJpbmdcIiE9dHlwZW9mIG8ucmVwb3NpdG9yeSYmZShgRmFpbGVkIHRvIHJlZ2lzdGVyIG1vZCAke3J9OiBFeHBlY3RlZCByZXBvc2l0b3J5IHRvIGJlIHVuZGVmaW5lZCBvciBzdHJpbmcsIGdvdCAke3R5cGVvZiBvLnZlcnNpb259YCksbnVsbD09dCYmKHQ9e30pLHQmJlwib2JqZWN0XCI9PXR5cGVvZiB0fHxlKGBGYWlsZWQgdG8gcmVnaXN0ZXIgbW9kICR7cn06IEV4cGVjdGVkIG9wdGlvbnMgdG8gYmUgdW5kZWZpbmVkIG9yIG9iamVjdCwgZ290ICR7dHlwZW9mIHR9YCk7Y29uc3QgaT0hMD09PXQuYWxsb3dSZXBsYWNlLGE9Zi5nZXQoby5uYW1lKTthJiYoYS5hbGxvd1JlcGxhY2UmJml8fGUoYFJlZnVzaW5nIHRvIGxvYWQgbW9kICR7cn06IGl0IGlzIGFscmVhZHkgbG9hZGVkIGFuZCBkb2Vzbid0IGFsbG93IGJlaW5nIHJlcGxhY2VkLlxcbldhcyB0aGUgbW9kIGxvYWRlZCBtdWx0aXBsZSB0aW1lcz9gKSx1KGEpKTtjb25zdCBjPW89PntsZXQgZT1nLnBhdGNoaW5nLmdldChvLm5hbWUpO3JldHVybiBlfHwoZT17aG9va3M6W10scGF0Y2hlczpuZXcgTWFwfSxnLnBhdGNoaW5nLnNldChvLm5hbWUsZSkpLGV9LHM9KG8sdCk9PiguLi5uKT0+e3ZhciBpLGE7Y29uc3QgYz1udWxsPT09KGE9KGk9bS5lcnJvclJlcG9ydGVySG9va3MpLmFwaUVuZHBvaW50RW50ZXIpfHx2b2lkIDA9PT1hP3ZvaWQgMDphLmNhbGwoaSxvLGcubmFtZSk7Zy5sb2FkZWR8fGUoYE1vZCAke3J9IGF0dGVtcHRlZCB0byBjYWxsIFNESyBmdW5jdGlvbiBhZnRlciBiZWluZyB1bmxvYWRlZGApO2NvbnN0IHM9dCguLi5uKTtyZXR1cm4gbnVsbD09Y3x8YygpLHN9LHA9e3VubG9hZDpzKFwidW5sb2FkXCIsKCgpPT51KGcpKSksaG9va0Z1bmN0aW9uOnMoXCJob29rRnVuY3Rpb25cIiwoKG8sdCxuKT0+e1wic3RyaW5nXCI9PXR5cGVvZiBvJiZvfHxlKGBNb2QgJHtyfSBmYWlsZWQgdG8gcGF0Y2ggYSBmdW5jdGlvbjogRXhwZWN0ZWQgZnVuY3Rpb24gbmFtZSBzdHJpbmcsIGdvdCAke3R5cGVvZiBvfWApO2NvbnN0IGk9bChvKSxhPWMoaSk7XCJudW1iZXJcIiE9dHlwZW9mIHQmJmUoYE1vZCAke3J9IGZhaWxlZCB0byBob29rIGZ1bmN0aW9uICcke299JzogRXhwZWN0ZWQgcHJpb3JpdHkgbnVtYmVyLCBnb3QgJHt0eXBlb2YgdH1gKSxcImZ1bmN0aW9uXCIhPXR5cGVvZiBuJiZlKGBNb2QgJHtyfSBmYWlsZWQgdG8gaG9vayBmdW5jdGlvbiAnJHtvfSc6IEV4cGVjdGVkIGhvb2sgZnVuY3Rpb24sIGdvdCAke3R5cGVvZiBufWApO2NvbnN0IHM9e21vZDpnLm5hbWUscHJpb3JpdHk6dCxob29rOm59O3JldHVybiBhLmhvb2tzLnB1c2gocyksZCgpLCgpPT57Y29uc3Qgbz1hLmhvb2tzLmluZGV4T2Yocyk7bz49MCYmKGEuaG9va3Muc3BsaWNlKG8sMSksZCgpKX19KSkscGF0Y2hGdW5jdGlvbjpzKFwicGF0Y2hGdW5jdGlvblwiLCgobyx0KT0+e1wic3RyaW5nXCI9PXR5cGVvZiBvJiZvfHxlKGBNb2QgJHtyfSBmYWlsZWQgdG8gcGF0Y2ggYSBmdW5jdGlvbjogRXhwZWN0ZWQgZnVuY3Rpb24gbmFtZSBzdHJpbmcsIGdvdCAke3R5cGVvZiBvfWApO2NvbnN0IGk9bChvKSxhPWMoaSk7bih0KXx8ZShgTW9kICR7cn0gZmFpbGVkIHRvIHBhdGNoIGZ1bmN0aW9uICcke299JzogRXhwZWN0ZWQgcGF0Y2hlcyBvYmplY3QsIGdvdCAke3R5cGVvZiB0fWApO2Zvcihjb25zdFtuLGldb2YgT2JqZWN0LmVudHJpZXModCkpXCJzdHJpbmdcIj09dHlwZW9mIGk/YS5wYXRjaGVzLnNldChuLGkpOm51bGw9PT1pP2EucGF0Y2hlcy5kZWxldGUobik6ZShgTW9kICR7cn0gZmFpbGVkIHRvIHBhdGNoIGZ1bmN0aW9uICcke299JzogSW52YWxpZCBmb3JtYXQgb2YgcGF0Y2ggJyR7bn0nYCk7ZCgpfSkpLHJlbW92ZVBhdGNoZXM6cyhcInJlbW92ZVBhdGNoZXNcIiwobz0+e1wic3RyaW5nXCI9PXR5cGVvZiBvJiZvfHxlKGBNb2QgJHtyfSBmYWlsZWQgdG8gcGF0Y2ggYSBmdW5jdGlvbjogRXhwZWN0ZWQgZnVuY3Rpb24gbmFtZSBzdHJpbmcsIGdvdCAke3R5cGVvZiBvfWApO2NvbnN0IHQ9bChvKTtjKHQpLnBhdGNoZXMuY2xlYXIoKSxkKCl9KSksY2FsbE9yaWdpbmFsOnMoXCJjYWxsT3JpZ2luYWxcIiwoKG8sdCxuKT0+e1wic3RyaW5nXCI9PXR5cGVvZiBvJiZvfHxlKGBNb2QgJHtyfSBmYWlsZWQgdG8gY2FsbCBhIGZ1bmN0aW9uOiBFeHBlY3RlZCBmdW5jdGlvbiBuYW1lIHN0cmluZywgZ290ICR7dHlwZW9mIG99YCk7Y29uc3QgaT1sKG8pO3JldHVybiBBcnJheS5pc0FycmF5KHQpfHxlKGBNb2QgJHtyfSBmYWlsZWQgdG8gY2FsbCBhIGZ1bmN0aW9uOiBFeHBlY3RlZCBhcmdzIGFycmF5LCBnb3QgJHt0eXBlb2YgdH1gKSxpLm9yaWdpbmFsLmFwcGx5KG51bGwhPW4/bjpnbG9iYWxUaGlzLHQpfSkpLGdldE9yaWdpbmFsSGFzaDpzKFwiZ2V0T3JpZ2luYWxIYXNoXCIsKG89PntcInN0cmluZ1wiPT10eXBlb2YgbyYmb3x8ZShgTW9kICR7cn0gZmFpbGVkIHRvIGdldCBoYXNoOiBFeHBlY3RlZCBmdW5jdGlvbiBuYW1lIHN0cmluZywgZ290ICR7dHlwZW9mIG99YCk7cmV0dXJuIGwobykub3JpZ2luYWxIYXNofSkpfSxnPXtuYW1lOm8ubmFtZSxmdWxsTmFtZTpvLmZ1bGxOYW1lLHZlcnNpb246by52ZXJzaW9uLHJlcG9zaXRvcnk6by5yZXBvc2l0b3J5LGFsbG93UmVwbGFjZTppLGFwaTpwLGxvYWRlZDohMCxwYXRjaGluZzpuZXcgTWFwfTtyZXR1cm4gZi5zZXQoby5uYW1lLGcpLE9iamVjdC5mcmVlemUocCl9ZnVuY3Rpb24gaCgpe2NvbnN0IG89W107Zm9yKGNvbnN0IGUgb2YgZi52YWx1ZXMoKSlvLnB1c2goe25hbWU6ZS5uYW1lLGZ1bGxOYW1lOmUuZnVsbE5hbWUsdmVyc2lvbjplLnZlcnNpb24scmVwb3NpdG9yeTplLnJlcG9zaXRvcnl9KTtyZXR1cm4gb31sZXQgbTtjb25zdCB5PXZvaWQgMD09PXdpbmRvdy5iY01vZFNkaz93aW5kb3cuYmNNb2RTZGs9ZnVuY3Rpb24oKXtjb25zdCBlPXt2ZXJzaW9uOm8sYXBpVmVyc2lvbjoxLHJlZ2lzdGVyTW9kOmcsZ2V0TW9kc0luZm86aCxnZXRQYXRjaGluZ0luZm86cCxlcnJvclJlcG9ydGVySG9va3M6T2JqZWN0LnNlYWwoe2FwaUVuZHBvaW50RW50ZXI6bnVsbCxob29rRW50ZXI6bnVsbCxob29rQ2hhaW5FeGl0Om51bGx9KX07cmV0dXJuIG09ZSxPYmplY3QuZnJlZXplKGUpfSgpOihuKHdpbmRvdy5iY01vZFNkayl8fGUoXCJGYWlsZWQgdG8gaW5pdCBNb2QgU0RLOiBOYW1lIGFscmVhZHkgaW4gdXNlXCIpLDEhPT13aW5kb3cuYmNNb2RTZGsuYXBpVmVyc2lvbiYmZShgRmFpbGVkIHRvIGluaXQgTW9kIFNESzogRGlmZmVyZW50IHZlcnNpb24gYWxyZWFkeSBsb2FkZWQgKCcxLjIuMCcgdnMgJyR7d2luZG93LmJjTW9kU2RrLnZlcnNpb259JylgKSx3aW5kb3cuYmNNb2RTZGsudmVyc2lvbiE9PW8mJmFsZXJ0KGBNb2QgU0RLIHdhcm5pbmc6IExvYWRpbmcgZGlmZmVyZW50IGJ1dCBjb21wYXRpYmxlIHZlcnNpb25zICgnMS4yLjAnIHZzICcke3dpbmRvdy5iY01vZFNkay52ZXJzaW9ufScpXFxuT25lIG9mIG1vZHMgeW91IGFyZSB1c2luZyBpcyB1c2luZyBhbiBvbGQgdmVyc2lvbiBvZiBTREsuIEl0IHdpbGwgd29yayBmb3Igbm93IGJ1dCBwbGVhc2UgaW5mb3JtIGF1dGhvciB0byB1cGRhdGVgKSx3aW5kb3cuYmNNb2RTZGspO3JldHVyblwidW5kZWZpbmVkXCIhPXR5cGVvZiBleHBvcnRzJiYoT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5kZWZhdWx0PXkpLHl9KCk7XG4iLCJpbXBvcnQgeyBTYXZlU3RvcmFnZSB9IGZyb20gXCIuLi91dGlsL3N0b3JhZ2VcIjtcbmltcG9ydCB7IE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4uL21vZHVsZXMvX21vZHVsZVwiO1xuaW1wb3J0IHsgQUxMX0JFRFMgfSBmcm9tIFwiLi4vdXRpbC9jb25zdGFudHNcIjtcbmltcG9ydCB7IEZpbmRDaGFyYWN0ZXJJblJvb20sIEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeSwgTVBBTm90aWZ5UGxheWVyLCBOb3RpZnlQbGF5ZXIsIFNlbmRBY3Rpb24gfSBmcm9tIFwiLi4vdXRpbC9tZXNzYWdpbmdcIjtcbmltcG9ydCB7IEhvb2tGdW5jdGlvbiB9IGZyb20gXCIuLi91dGlsL3Nka1wiO1xuXG5jb25zdCBCT1dMX1NFTEZfVEVYVCA9IFwiU291cmNlQ2hhcmFjdGVyIGNyYXdscyBpbnRvIFByb25vdW5Qb3NzZXNzaXZlIGJlZC5cIjtcbmNvbnN0IEJPV0xfT1RIRVJfVEVYVCA9IFwiU291cmNlQ2hhcmFjdGVyIHR1Y2tzIFRhcmdldENoYXJhY3RlciBpbnRvIGJlZC5cIjtcblxuZnVuY3Rpb24gSXNCZWQoYmVkOiBhbnkpOiBib29sZWFuXG57XG4gICAgLy8gSW52YWxpZCBjcmFmdCA9IHNraXBcbiAgICByZXR1cm4gT2JqZWN0LmtleXMoYmVkKS5sZW5ndGggPiAwXG4gICAgICAmJiBDcmFmdGluZ1ZhbGlkYXRlKGJlZCkgPT09IENyYWZ0aW5nU3RhdHVzVHlwZS5PS1xuICAgICAgJiYgKEFMTF9CRURTLmluY2x1ZGVzKGJlZC5JdGVtKVxuICAgICAgICB8fCBiZWQ/Lk5hbWU/LnRvTG9jYWxlTG93ZXJDYXNlKCk/LmluY2x1ZGVzKFwiYmVkXCIpKTtcbn1cblxuLyoqXG4gKiBEaXNwbGF5IHRoZSBiZWQgdGV4dFxuICovXG5mdW5jdGlvbiBHaXZlQmVkVGV4dChjaGFyYWN0ZXI6IENoYXJhY3RlciA9IFBsYXllcik6IHZvaWRcbntcbiAgICBpZiAoY2hhcmFjdGVyLk1lbWJlck51bWJlciA9PT0gUGxheWVyLk1lbWJlck51bWJlcilcbiAgICB7XG4gICAgICAgIFNlbmRBY3Rpb24oXG4gICAgICAgICAgICBCT1dMX1NFTEZfVEVYVCxcbiAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgIFt7IFNvdXJjZUNoYXJhY3RlcjogUGxheWVyLk1lbWJlck51bWJlciB9IGFzIFNvdXJjZUNoYXJhY3RlckRpY3Rpb25hcnlFbnRyeV1cbiAgICAgICAgKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgU2VuZEFjdGlvbihcbiAgICAgICAgICAgIEJPV0xfT1RIRVJfVEVYVCxcbiAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgIFt7IFNvdXJjZUNoYXJhY3RlcjogUGxheWVyLk1lbWJlck51bWJlciB9IGFzIFNvdXJjZUNoYXJhY3RlckRpY3Rpb25hcnlFbnRyeSxcbiAgICAgICAgICAgICAgICB7IFRhcmdldENoYXJhY3RlcjogY2hhcmFjdGVyLk1lbWJlck51bWJlciB9IGFzIFRhcmdldENoYXJhY3RlckRpY3Rpb25hcnlFbnRyeV1cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbi8qKlxuICogVXNlIGEgYmVkIG9uIHlvdXJzZWxmXG4gKi9cbmZ1bmN0aW9uIFVzZUJlZCgpOiB2b2lkXG57XG4gICAgaWYgKEludmVudG9yeUdldChQbGF5ZXIsIFwiSXRlbURldmljZXNcIilcbiAgICAgIHx8IEludmVudG9yeUdyb3VwSXNCbG9ja2VkRm9yQ2hhcmFjdGVyKFBsYXllciwgXCJJdGVtRGV2aWNlc1wiKSlcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBzYXZlZEJlZCA9IEpTT04ucGFyc2UoTFpTdHJpbmcuZGVjb21wcmVzc0Zyb21CYXNlNjQoUGxheWVyLk1QQVtNb2R1bGVUaXRsZS5Qcml2YXRlXS5zYXZlZEJlZCB8fCBcIlwiKSB8fCBcInt9XCIpIHx8IHt9O1xuICAgIGlmIChJc0JlZChzYXZlZEJlZCkpXG4gICAge1xuICAgICAgICBJbnZlbnRvcnlXZWFyKFxuICAgICAgICAgICAgUGxheWVyLFxuICAgICAgICAgICAgc2F2ZWRCZWQuSXRlbSxcbiAgICAgICAgICAgIFwiSXRlbURldmljZXNcIixcbiAgICAgICAgICAgIHNhdmVkQmVkLkNvbG9yLnNwbGl0KFwiLFwiKSxcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICBQbGF5ZXIuTWVtYmVyTnVtYmVyLFxuICAgICAgICAgICAgc2F2ZWRCZWQsXG4gICAgICAgICAgICBmYWxzZVxuICAgICAgICApO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICBjb25zdCBoYWlyQ29sb3IgPSBJbnZlbnRvcnlHZXQoUGxheWVyLCBcIkhhaXJGcm9udFwiKT8uQ29sb3IgYXMgSXRlbUNvbG9yO1xuICAgICAgICBJbnZlbnRvcnlXZWFyKFxuICAgICAgICAgICAgUGxheWVyLFxuICAgICAgICAgICAgXCJQZXRCZWRcIixcbiAgICAgICAgICAgIFwiSXRlbURldmljZXNcIixcbiAgICAgICAgICAgIFtoYWlyQ29sb3JbMF0sIFwiRGVmYXVsdFwiLCBoYWlyQ29sb3JbaGFpckNvbG9yLmxlbmd0aCAtIDFdXSxcbiAgICAgICAgICAgIDAsXG4gICAgICAgICAgICBQbGF5ZXIuTWVtYmVyTnVtYmVyLFxuICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgKTtcbiAgICB9XG4gICAgQ2hhdFJvb21DaGFyYWN0ZXJJdGVtVXBkYXRlKFBsYXllciwgXCJJdGVtRGV2aWNlc1wiKTtcbn1cblxuLyoqXG4gKiBHaXZlIGEgYmVkIHRvIHNvbWVvbmVcbiAqXG4gKiBAcGFyYW0gY2hhcmFjdGVyIC0gV2hvIHRvIGdpdmUgdGhlIGJlZCB0b29cbiAqIEByZXR1cm5zIElmIGJlZCB3YXMgZ2l2ZW5cbiAqL1xuZnVuY3Rpb24gR2l2ZUJlZChjaGFyYWN0ZXI6IENoYXJhY3RlciA9IFBsYXllcik6IGJvb2xlYW5cbntcbiAgICBjb25zdCB1bmFibGVUb0dpdmVCZWQgPSBJbnZlbnRvcnlHZXQoY2hhcmFjdGVyLCBcIkl0ZW1EZXZpY2VzXCIpXG4gICAgICB8fCBJbnZlbnRvcnlHcm91cElzQmxvY2tlZEZvckNoYXJhY3RlcihjaGFyYWN0ZXIsIFwiSXRlbURldmljZXNcIilcbiAgICAgIHx8IChjaGFyYWN0ZXIuTWVtYmVyTnVtYmVyICE9PSBQbGF5ZXIuTWVtYmVyTnVtYmVyICYmICFQbGF5ZXIuQ2FuSW50ZXJhY3QoKSk7XG5cbiAgICBpZiAoY2hhcmFjdGVyLk1lbWJlck51bWJlciAhPT0gUGxheWVyLk1lbWJlck51bWJlcilcbiAgICB7XG4gICAgICAgIGlmICghU2VydmVyQ2hhdFJvb21HZXRBbGxvd0l0ZW0oUGxheWVyLCBjaGFyYWN0ZXIpKVxuICAgICAgICB7XG4gICAgICAgICAgICBOb3RpZnlQbGF5ZXIoXCJNUEE6IE5vIEJDIGl0ZW0gcGVybWlzc2lvblwiLCAzMDAwMCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjaGFyYWN0ZXIuTVBBKVxuICAgICAgICB7XG4gICAgICAgICAgICBNUEFOb3RpZnlQbGF5ZXIoYCR7Y2hhcmFjdGVyLk5pY2tuYW1lIHx8IGNoYXJhY3Rlci5OYW1lfSBkb2VzIG5vdCBoYXZlIE1QQSwgdW5hYmxlIHRvIGdpdmUgYmVkYCwgMzAwMDApO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1bmFibGVUb0dpdmVCZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIE1QQU5vdGlmeVBsYXllcihgVW5hYmxlIHRvIHR1Y2sgJHtjaGFyYWN0ZXIuTmlja25hbWUgfHwgY2hhcmFjdGVyLk5hbWV9IGludG8gYmVkYCwgMzAwMDApO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIEdpdmVCZWRUZXh0KGNoYXJhY3Rlcik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmICh1bmFibGVUb0dpdmVCZWQpXG4gICAge1xuICAgICAgICBNUEFOb3RpZnlQbGF5ZXIoXCJVbmFibGUgdG8gY3Jhd2wgaW50byBiZWRcIiwgMzAwMDApO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgVXNlQmVkKCk7XG4gICAgR2l2ZUJlZFRleHQoY2hhcmFjdGVyKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEJlZCgpOiB2b2lkXG57XG4gICAgQ29tbWFuZENvbWJpbmUoW3tcbiAgICAgICAgVGFnOiBcImJlZFwiLFxuICAgICAgICBEZXNjcmlwdGlvbjogXCJbKG9wdGlvbmFsKSBCZWQgZXhwb3J0IGNvZGUgT1IgT3RoZXIgcGxheWVyXSBDcmF3bCBpbnRvIGJlZCB3aXRob3V0IG5lZWRpbmcgaGFuZHNcIixcbiAgICAgICAgQWN0aW9uOiAoX2FyZ3MsIG1zZywgX3BhcnNlZCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgLy8gQXJndW1lbnQgaXMgcGFzc2VkXG4gICAgICAgICAgICBjb25zdCBhcmcgPSAoKC9eKFxcUyspXFxzKiguKikkLy5leGVjKG1zZykpID8/IFtcIlwiLCBcIlwiLCBcIlwiXSlbMl07XG4gICAgICAgICAgICBpZiAoYXJnKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoYXIgPSBGaW5kQ2hhcmFjdGVySW5Sb29tKGFyZyk7XG4gICAgICAgICAgICAgICAgaWYgKGNoYXIpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBHaXZlQmVkKGNoYXIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgZm9yIGJlZCBjcmFmdFxuICAgICAgICAgICAgICAgIGNvbnN0IG9iaiA9IEpTT04ucGFyc2UoTFpTdHJpbmcuZGVjb21wcmVzc0Zyb21CYXNlNjQoYXJnKSB8fCBcInt9XCIpIHx8IHt9O1xuICAgICAgICAgICAgICAgIGlmIChJc0JlZChvYmopKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgUGxheWVyLk1QQVtNb2R1bGVUaXRsZS5Qcml2YXRlXS5zYXZlZEJlZCA9IGFyZztcbiAgICAgICAgICAgICAgICAgICAgU2F2ZVN0b3JhZ2UoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBNUEFOb3RpZnlQbGF5ZXIoXCJCZWQgc2F2ZWRcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBNUEFOb3RpZnlQbGF5ZXIoXCJJbnZhbGlkIGFyZ3VtZW50IGdpdmVuIVwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIEdpdmVCZWQoUGxheWVyKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAgVGFnOiBcImJsYW5rZXRcIixcbiAgICAgICAgRGVzY3JpcHRpb246IFwiUHVsbCB0aGUgYmxhbmtldCBvdmVyIHlvdXJzZWxmIChPbmx5IHdvcmtzIG9uIFBldEJlZClcIixcbiAgICAgICAgQWN0aW9uOiAoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBibGFua3lcbiAgICAgICAgICAgIGNvbnN0IGJlZCA9IEludmVudG9yeUdldChQbGF5ZXIsIFwiSXRlbURldmljZXNcIik7XG4gICAgICAgICAgICBpZiAoYmVkPy5Bc3NldC5OYW1lICE9PSBcIlBldEJlZFwiKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIE1QQU5vdGlmeVBsYXllcihcIlVuYWJsZSB0byBwdWxsIHRoZSBibGFua2V0IG92ZXIgeW91cnNlbGYuXCIsIDIwMDAwKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghKGJlZC5Qcm9wZXJ0eT8uVHlwZVJlY29yZD8udHlwZWQgPT09IDAgfHwgYmVkLlByb3BlcnR5Py5UeXBlUmVjb3JkPy50eXBlZCA9PT0gMSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgTVBBTm90aWZ5UGxheWVyKFwiVW5hYmxlIHRvIHB1bGwgdGhlIGJsYW5rZXQgb3ZlciB5b3Vyc2VsZi5cIiwgMjAwMDApO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJlZC5Qcm9wZXJ0eS5UeXBlUmVjb3JkLnR5cGVkID0gTnVtYmVyKCFiZWQuUHJvcGVydHkuVHlwZVJlY29yZC50eXBlZCk7XG4gICAgICAgICAgICBDaGF0Um9vbUNoYXJhY3RlclVwZGF0ZShQbGF5ZXIpO1xuICAgICAgICAgICAgaWYgKGJlZC5Qcm9wZXJ0eS5UeXBlUmVjb3JkLnR5cGVkID09PSAxKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFNlbmRBY3Rpb24oXG4gICAgICAgICAgICAgICAgICAgIFwiU291cmNlQ2hhcmFjdGVyIHB1bGxzIGEgYmxhbmtldCBvdmVyIFByb25vdW5PYmplY3QuXCIsXG4gICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgW3sgU291cmNlQ2hhcmFjdGVyOiBQbGF5ZXIuTWVtYmVyTnVtYmVyIH0gYXMgU291cmNlQ2hhcmFjdGVyRGljdGlvbmFyeUVudHJ5XVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgU2VuZEFjdGlvbihcbiAgICAgICAgICAgICAgICAgICAgXCJTb3VyY2VDaGFyYWN0ZXIgcmVtb3ZlcyB0aGUgYmxhbmtldCBmcm9tIG9uIHRvcCBvZiBQcm9ub3VuT2JqZWN0LlwiLFxuICAgICAgICAgICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIFt7IFNvdXJjZUNoYXJhY3RlcjogUGxheWVyLk1lbWJlck51bWJlciB9IGFzIFNvdXJjZUNoYXJhY3RlckRpY3Rpb25hcnlFbnRyeV1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgSG9va0Z1bmN0aW9uKG51bGwsIFwiQ2hhdFJvb21NZXNzYWdlXCIsIDEwMCwgKGFyZ3MsIG5leHQpID0+XG4gICAge1xuICAgICAgICBjb25zdCBkYXRhID0gYXJnc1swXTtcbiAgICAgICAgaWYgKGRhdGEuVHlwZSA9PT0gXCJBY3Rpdml0eVwiXG4gICAgICAgICAgJiYgZGF0YS5Db250ZW50ID09PSBcIk1heWFTY3JpcHRcIlxuICAgICAgICAgICYmIEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIlRhcmdldENoYXJhY3RlclwiKSA9PT0gUGxheWVyLk1lbWJlck51bWJlclxuICAgICAgICAgICYmIGRhdGEuRGljdGlvbmFyeT8uc29tZShcbiAgICAgICAgICAgICAgKGN1cnIpID0+IChjdXJyIGFzIGFueSk/LlRhZyA9PT0gXCJNSVNTSU5HIEFDVElWSVRZIERFU0NSSVBUSU9OIEZPUiBLRVlXT1JEIE1heWFTY3JpcHRcIlxuICAgICAgICAgICAgICAgICYmIChjdXJyIGFzIGFueSk/LlRleHQgPT09IEJPV0xfT1RIRVJfVEVYVFxuICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgICB7XG4gICAgICAgICAgICBVc2VCZWQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICB9KTtcbn1cbiIsImltcG9ydCB7IFNhdmVTdG9yYWdlIH0gZnJvbSBcIi4uL3V0aWwvc3RvcmFnZVwiO1xuaW1wb3J0IHsgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9fbW9kdWxlXCI7XG5pbXBvcnQgeyBGaW5kQ2hhcmFjdGVySW5Sb29tLCBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnksIE1QQU5vdGlmeVBsYXllciwgTm90aWZ5UGxheWVyLCBTZW5kQWN0aW9uIH0gZnJvbSBcIi4uL3V0aWwvbWVzc2FnaW5nXCI7XG5pbXBvcnQgeyBIb29rRnVuY3Rpb24gfSBmcm9tIFwiLi4vdXRpbC9zZGtcIjtcblxuY29uc3QgQk9XTF9TRUxGX1RFWFQgPSBcIlNvdXJjZUNoYXJhY3RlciBsYXlzIGEgYm93bCBvZiBmb29kIGFuZCB3YXRlciBvbiB0aGUgZ3JvdW5kIGluIGZyb250IG9mIFByb25vdW5PYmplY3RzZWxmLlwiO1xuY29uc3QgQk9XTF9PVEhFUl9URVhUID0gXCJTb3VyY2VDaGFyYWN0ZXIgbGF5cyBhIGJvd2wgb2YgZm9vZCBhbmQgd2F0ZXIgb24gdGhlIGdyb3VuZCBpbiBmcm9udCBvZiBUYXJnZXRDaGFyYWN0ZXIuXCI7XG5jb25zdCBCT1dMX1JFR0VYID0gL14oPzpcXHd8WyB+ISQjJSorXSkqJC87XG5cbmZ1bmN0aW9uIElzQm93bChib3dsOiBhbnkpOiBib29sZWFuXG57XG4gICAgLy8gSW52YWxpZCBjcmFmdCA9IHNraXBcbiAgICByZXR1cm4gT2JqZWN0LmtleXMoYm93bCkubGVuZ3RoID4gMFxuICAgICAgJiYgQ3JhZnRpbmdWYWxpZGF0ZShib3dsKSA9PT0gQ3JhZnRpbmdTdGF0dXNUeXBlLk9LXG4gICAgICAmJiBib3dsPy5JdGVtID09IFwiUGV0Qm93bFwiO1xufVxuXG4vKipcbiAqIERpc3BsYXkgdGhlIGJvd2wgdGV4dFxuICovXG5mdW5jdGlvbiBHaXZlQm93bFRleHQoY2hhcmFjdGVyOiBDaGFyYWN0ZXIgPSBQbGF5ZXIpOiB2b2lkXG57XG4gICAgaWYgKGNoYXJhY3Rlci5NZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXIpXG4gICAge1xuICAgICAgICBTZW5kQWN0aW9uKFxuICAgICAgICAgICAgQk9XTF9TRUxGX1RFWFQsXG4gICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICBbeyBTb3VyY2VDaGFyYWN0ZXI6IFBsYXllci5NZW1iZXJOdW1iZXIgfSBhcyBTb3VyY2VDaGFyYWN0ZXJEaWN0aW9uYXJ5RW50cnldXG4gICAgICAgICk7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIFNlbmRBY3Rpb24oXG4gICAgICAgICAgICBCT1dMX09USEVSX1RFWFQsXG4gICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICBbeyBTb3VyY2VDaGFyYWN0ZXI6IFBsYXllci5NZW1iZXJOdW1iZXIgfSBhcyBTb3VyY2VDaGFyYWN0ZXJEaWN0aW9uYXJ5RW50cnksXG4gICAgICAgICAgICAgICAgeyBUYXJnZXRDaGFyYWN0ZXI6IGNoYXJhY3Rlci5NZW1iZXJOdW1iZXIgfSBhcyBUYXJnZXRDaGFyYWN0ZXJEaWN0aW9uYXJ5RW50cnldXG4gICAgICAgICk7XG4gICAgfVxufVxuXG4vKipcbiAqIFVzZSBhIGJvd2wgb24geW91cnNlbGZcbiAqL1xuZnVuY3Rpb24gVXNlQm93bCgpOiB2b2lkXG57XG4gICAgaWYgKEludmVudG9yeUdldChQbGF5ZXIsIFwiSXRlbURldmljZXNcIilcbiAgICAgIHx8IEludmVudG9yeUdyb3VwSXNCbG9ja2VkRm9yQ2hhcmFjdGVyKFBsYXllciwgXCJJdGVtRGV2aWNlc1wiKSlcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBzYXZlZEJvd2wgPSBKU09OLnBhcnNlKExaU3RyaW5nLmRlY29tcHJlc3NGcm9tQmFzZTY0KFBsYXllci5NUEFbTW9kdWxlVGl0bGUuUHJpdmF0ZV0uc2F2ZWRCb3dsIHx8IFwiXCIpIHx8IFwie31cIikgfHwge307XG4gICAgaWYgKElzQm93bChzYXZlZEJvd2wpKVxuICAgIHtcbiAgICAgICAgKEludmVudG9yeVdlYXIoXG4gICAgICAgICAgICBQbGF5ZXIsXG4gICAgICAgICAgICBzYXZlZEJvd2wuSXRlbSxcbiAgICAgICAgICAgIFwiSXRlbURldmljZXNcIixcbiAgICAgICAgICAgIHNhdmVkQm93bC5Db2xvci5zcGxpdChcIixcIiksXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgUGxheWVyLk1lbWJlck51bWJlcixcbiAgICAgICAgICAgIHNhdmVkQm93bCxcbiAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICkgYXMgYW55KS5Qcm9wZXJ0eSA9IHNhdmVkQm93bC5JdGVtUHJvcGVydHk7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIGNvbnN0IGhhaXJDb2xvciA9IEludmVudG9yeUdldChQbGF5ZXIsIFwiSGFpckZyb250XCIpPy5Db2xvciBhcyBJdGVtQ29sb3I7XG4gICAgICAgIChJbnZlbnRvcnlXZWFyKFxuICAgICAgICAgICAgUGxheWVyLFxuICAgICAgICAgICAgXCJQZXRCb3dsXCIsXG4gICAgICAgICAgICBcIkl0ZW1EZXZpY2VzXCIsXG4gICAgICAgICAgICBbaGFpckNvbG9yWzBdLCBcIiMwMDAwMDBcIl0sXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgUGxheWVyLk1lbWJlck51bWJlcixcbiAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICkgYXMgYW55KS5Qcm9wZXJ0eSA9IHtcbiAgICAgICAgICAgIFRleHQ6ICgoUGxheWVyLk5pY2tuYW1lICYmIEJPV0xfUkVHRVgudGVzdChQbGF5ZXIuTmlja25hbWUpKSA/IFBsYXllci5OaWNrbmFtZSA6IEJPV0xfUkVHRVgudGVzdChQbGF5ZXIuTmFtZSkgPyBQbGF5ZXIuTmFtZSA6IFwiXCIpLnN1YnN0cmluZygwLCAxMilcbiAgICAgICAgfTtcbiAgICB9XG4gICAgQ2hhdFJvb21DaGFyYWN0ZXJVcGRhdGUoUGxheWVyKTtcbn1cblxuLyoqXG4gKiBHaXZlIGEgYm93bCB0byBzb21lb25lXG4gKlxuICogQHBhcmFtIGNoYXJhY3RlciAtIFdobyB0byBnaXZlIHRoZSBib3dsIHRvb1xuICogQHJldHVybnMgSWYgYm93bCB3YXMgZ2l2ZW5cbiAqL1xuZnVuY3Rpb24gR2l2ZUJvd2woY2hhcmFjdGVyOiBDaGFyYWN0ZXIgPSBQbGF5ZXIpOiBib29sZWFuXG57XG4gICAgY29uc3QgdW5hYmxlVG9HaXZlQm93bCA9IEludmVudG9yeUdldChjaGFyYWN0ZXIsIFwiSXRlbURldmljZXNcIilcbiAgICAgIHx8IEludmVudG9yeUdyb3VwSXNCbG9ja2VkRm9yQ2hhcmFjdGVyKGNoYXJhY3RlciwgXCJJdGVtRGV2aWNlc1wiKVxuICAgICAgfHwgIVBsYXllci5DYW5JbnRlcmFjdCgpO1xuXG4gICAgaWYgKGNoYXJhY3Rlci5NZW1iZXJOdW1iZXIgIT09IFBsYXllci5NZW1iZXJOdW1iZXIpXG4gICAge1xuICAgICAgICBpZiAoIVNlcnZlckNoYXRSb29tR2V0QWxsb3dJdGVtKFBsYXllciwgY2hhcmFjdGVyKSlcbiAgICAgICAge1xuICAgICAgICAgICAgTm90aWZ5UGxheWVyKFwiTVBBOiBObyBCQyBpdGVtIHBlcm1pc3Npb25cIiwgMzAwMDApO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY2hhcmFjdGVyLk1QQSlcbiAgICAgICAge1xuICAgICAgICAgICAgTVBBTm90aWZ5UGxheWVyKGAke2NoYXJhY3Rlci5OaWNrbmFtZSB8fCBjaGFyYWN0ZXIuTmFtZX0gZG9lcyBub3QgaGF2ZSBNUEEsIHVuYWJsZSB0byBnaXZlIGJvd2xgLCAzMDAwMCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVuYWJsZVRvR2l2ZUJvd2wpXG4gICAgICAgIHtcbiAgICAgICAgICAgIE1QQU5vdGlmeVBsYXllcihgVW5hYmxlIHRvIGdpdmUgJHtjaGFyYWN0ZXIuTmlja25hbWUgfHwgY2hhcmFjdGVyLk5hbWV9IGEgYm93bGAsIDMwMDAwKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBHaXZlQm93bFRleHQoY2hhcmFjdGVyKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgaWYgKHVuYWJsZVRvR2l2ZUJvd2wpXG4gICAge1xuICAgICAgICBNUEFOb3RpZnlQbGF5ZXIoXCJVbmFibGUgdG8gZ2l2ZSBib3dsXCIsIDMwMDAwKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIFVzZUJvd2woKTtcbiAgICBHaXZlQm93bFRleHQoY2hhcmFjdGVyKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEJvd2woKTogdm9pZFxue1xuICAgIENvbW1hbmRDb21iaW5lKFt7XG4gICAgICAgIFRhZzogXCJib3dsXCIsXG4gICAgICAgIERlc2NyaXB0aW9uOiBcIkdpdmUgYm93bCB0byBwZXRcIixcbiAgICAgICAgQWN0aW9uOiAoX2FyZ3MsIG1zZywgX3BhcnNlZCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgLy8gQXJndW1lbnQgaXMgcGFzc2VkXG4gICAgICAgICAgICBjb25zdCBhcmcgPSAoKC9eKFxcUyspXFxzKiguKikkLy5leGVjKG1zZykpID8/IFtcIlwiLCBcIlwiLCBcIlwiXSlbMl07XG4gICAgICAgICAgICBpZiAoYXJnKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoYXIgPSBGaW5kQ2hhcmFjdGVySW5Sb29tKGFyZyk7XG4gICAgICAgICAgICAgICAgaWYgKGNoYXIpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBHaXZlQm93bChjaGFyKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciBib3dsIGNyYWZ0XG4gICAgICAgICAgICAgICAgY29uc3Qgb2JqID0gSlNPTi5wYXJzZShMWlN0cmluZy5kZWNvbXByZXNzRnJvbUJhc2U2NChhcmcpIHx8IFwie31cIikgfHwge307XG4gICAgICAgICAgICAgICAgaWYgKElzQm93bChvYmopKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgUGxheWVyLk1QQVtNb2R1bGVUaXRsZS5Qcml2YXRlXS5zYXZlZEJvd2wgPSBhcmc7XG4gICAgICAgICAgICAgICAgICAgIFNhdmVTdG9yYWdlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgTVBBTm90aWZ5UGxheWVyKFwiQm93bCBzYXZlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIE1QQU5vdGlmeVBsYXllcihcIkludmFsaWQgYXJndW1lbnQgZ2l2ZW4hXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgR2l2ZUJvd2woUGxheWVyKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIEhvb2tGdW5jdGlvbihudWxsLCBcIkNoYXRSb29tTWVzc2FnZVwiLCAxMDAsIChhcmdzLCBuZXh0KSA9PlxuICAgIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IGFyZ3NbMF07XG4gICAgICAgIGlmIChkYXRhLlR5cGUgPT09IFwiQWN0aXZpdHlcIlxuICAgICAgICAgICYmIGRhdGEuQ29udGVudCA9PT0gXCJNYXlhU2NyaXB0XCJcbiAgICAgICAgICAmJiBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJUYXJnZXRDaGFyYWN0ZXJcIikgPT09IFBsYXllci5NZW1iZXJOdW1iZXJcbiAgICAgICAgICAmJiBkYXRhLkRpY3Rpb25hcnk/LnNvbWUoXG4gICAgICAgICAgICAgIChjdXJyKSA9PiAoY3VyciBhcyBhbnkpPy5UYWcgPT09IFwiTUlTU0lORyBBQ1RJVklUWSBERVNDUklQVElPTiBGT1IgS0VZV09SRCBNYXlhU2NyaXB0XCJcbiAgICAgICAgICAgICAgICAmJiAoY3VyciBhcyBhbnkpPy5UZXh0ID09PSBCT1dMX09USEVSX1RFWFRcbiAgICAgICAgICApXG4gICAgICAgIClcbiAgICAgICAge1xuICAgICAgICAgICAgVXNlQm93bCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgIH0pO1xufVxuIiwiaW1wb3J0IHsgQmVkIH0gZnJvbSBcIi4vYmVkXCI7XG5pbXBvcnQgeyBCb3dsIH0gZnJvbSBcIi4vYm93bFwiO1xuLy8gaW1wb3J0IHsgTG9nQ2hhdCB9IGZyb20gXCIuL2xvZ1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gQnVpbGRBbGxDb21tYW5kcygpOiB2b2lkXG57XG4gICAgQmVkKCk7XG4gICAgQm93bCgpO1xuICAgIC8vIExvZ0NoYXQoKTtcbn1cbiIsIi8vIElmIHlvdSB3YW50IHRvIGxvY2FsaXplIHRoaXMgYWRkb24gdG8geW91ciBsYW5ndWFnZSBmb3IgeW91cnNlbGYgYW5kIG90aGVycywgaGVyZSBpcyBob3dcbi8vIDEuIENyZWF0ZSBhIG5ldyBmaWxlIGluIHRoZSBsb2NhbGl6YXRpb24gZGlyZWN0b3J5IG5hbWVkIFtsYW5ndWFnZV0uanNvblxuLy8gMi4gQ29weSBhbmQgcGFzdGUgdGhlIGNvbnRlbnRzIG9mIHRlbXBsYXRlLmpzb24gaW50byB5b3VyIG5ldyBbbGFuZ3VhZ2VdLmpzb24gZmlsZS5cbi8vIDMuIFJlcGxhY2UgdGhlIHJpZ2h0KGVtcHR5KSBzaWRlIG9mIHRoZSB0ZXh0IHdpdGggdGhlIHRyYW5zbGF0aW9uIGZyb20gdGhlIEVuZ2xpc2ggb24gdGhlIGxlZnQuXG4vLyAzYi4gRG8gbm90IHRyYW5zbGF0ZSB3b3JkcyBsaWtlIFNvdXJjZUNoYXJhY3RlciBhbmQgU2V0dGluZ3NBcnJheSwgbGVhdmUgdGhvc2UgYXMgdGhleSB3aWxsIGJlIGZpbGxlZCBpbiBieSB0aGUgY29kZVxuLy8gNC4gSW1wb3J0IHRoZSBqc29uIGZvbGxvd2luZyB0aGUgZXhhbXBsZSBiZWxvdywgbWFrZSBzdXJlIHRoYXQgdGhlIG5hbWUgeW91IGltcG9ydCB0aGUgZmlsZSBpc1xuLy8gICAgdGhlIHNhbWUgdGhhdCBkZWZpbmVkIGJ5IFRyYW5zbGF0aW9uTGFuZ3VhZ2UuIEV4OiBFbmdsaXNoIC0+IEVOXG4vLyAgICBJZiB5b3UgYXJlIHVuc3VyZSBvZiBob3cgdG8gZG8gdGhpcyBidXQgc3RpbGwgd2FudCB0byBjb250cmlidXRlLCByZWFjaCBvdXQgYW5kIEkgd2lsbCBhdHRlbXB0IHRvIGhlbHAuXG5cbmltcG9ydCB0ZW1wbGF0ZSBmcm9tIFwiLi90ZW1wbGF0ZS5qc29uXCI7XG5pbXBvcnQgUlUgZnJvbSBcIi4vUlUuanNvblwiO1xuXG4vLyBFdmVyeXRoaW5nIGlzIGRlZmF1bHRlZCB0byBFbmdsaXNoXG5jb25zdCB0cmFuc2xhdGlvbnMgPVxue1xuICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZSxcbiAgICBSVTogUlVcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBMb2NhbGl6ZWRUZXh0KHRleHQ6IHN0cmluZyk6IHN0cmluZ1xue1xuICAgIGNvbnN0IHRyYW5zbGF0ZWRUZXh0ID0gdHJhbnNsYXRpb25zPy5bVHJhbnNsYXRpb25MYW5ndWFnZV0/Llt0ZXh0XTtcbiAgICBpZiAoISF0cmFuc2xhdGVkVGV4dCAmJiB0cmFuc2xhdGVkVGV4dCAhPT0gXCJcIilcbiAgICB7XG4gICAgICAgIHJldHVybiB0cmFuc2xhdGVkVGV4dDtcbiAgICB9XG4gICAgcmV0dXJuIHRleHQ7XG59XG4iLCJpbXBvcnQgeyBSZW1vdmVIb29rcyB9IGZyb20gXCIuLi91dGlsL3Nka1wiO1xuaW1wb3J0IHsgQ3JlYXRlQWN0aXZpdGllcywgUmVtb3ZlQWN0aXZpdGllcyB9IGZyb20gXCIuLi91dGlsL2FjdGl2aXRpZXNcIjtcbmltcG9ydCB7IEFkZERhdGFTeW5jTGlzdGVuZXJzLCBIb29rZWRNZXNzYWdlLCBSZW1vdmVEYXRhU3luY0xpc3RlbmVycyB9IGZyb20gXCIuLi91dGlsL21lc3NhZ2luZ1wiO1xuXG5leHBvcnQgZW51bSBNb2R1bGVUaXRsZVxue1xuICAgIFVua25vd24gPSBcIlVua25vd25cIixcbiAgICBBdXRob3JpdHkgPSBcIkF1dGhvcml0eVwiLFxuICAgIEFjdGl2aXRpZXMgPSBcIkFjdGl2aXRpZXNcIixcbiAgICBDbGlja2VyID0gXCJDbGlja2VyXCIsXG4gICAgU2V0dGluZ3MgPSBcIlNldHRpbmdzXCIsXG4gICAgVmlydHVhbFBldCA9IFwiVmlydHVhbFBldFwiLFxuICAgIFZpcnR1YWxQZXRIVUQgPSBcIlZpcnR1YWxQZXRIdWRcIixcbiAgICBWaXJ0dWFsUGV0Q29uZGl0aW9ucyA9IFwiVmlydHVhbFBldENvbmRpdGlvbnNcIixcbiAgICBEYXRhU3luYyA9IFwiRGF0YVN5bmNcIixcbiAgICBQcm9maWxlID0gXCJQcm9maWxlXCIsXG4gICAgU2V0dGluZ3NPdGhlciA9IFwiU2V0dGluZ3NPdGhlclwiLFxuICAgIFByaXZhdGUgPSBcIlByaXZhdGVcIlxufVxuXG5leHBvcnQgY29uc3QgTW9kdWxlVGl0bGVQdWJsaWNpdHk6IFBhcnRpYWw8UmVjb3JkPE1vZHVsZVRpdGxlLCBib29sZWFuPj4gPSB7XG4gICAgW01vZHVsZVRpdGxlLlVua25vd25dOiBmYWxzZSxcbiAgICBbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XTogdHJ1ZSxcbiAgICBbTW9kdWxlVGl0bGUuQWN0aXZpdGllc106IHRydWUsXG4gICAgW01vZHVsZVRpdGxlLkNsaWNrZXJdOiB0cnVlLFxuICAgIFtNb2R1bGVUaXRsZS5TZXR0aW5nc106IHRydWUsXG4gICAgW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdOiB0cnVlLFxuICAgIFtNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0SFVEXTogZmFsc2UsXG4gICAgW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zXTogdHJ1ZSxcbiAgICBbTW9kdWxlVGl0bGUuRGF0YVN5bmNdOiB0cnVlLFxuICAgIFtNb2R1bGVUaXRsZS5Qcm9maWxlXTogdHJ1ZSxcbiAgICBbTW9kdWxlVGl0bGUuU2V0dGluZ3NPdGhlcl06IHRydWUsXG4gICAgW01vZHVsZVRpdGxlLlByaXZhdGVdOiBmYWxzZVxufTtcblxuLyoqXG4gKiBDaGVjayBpZiBhIG1vZHVsZSBpcyBwdWJsaWMsIGFsbG93aW5nIHRoZSBkYXRhIHRvIGJlIHNoYXJlZCB3aXRoIG90aGVyc1xuICpcbiAqIEBwYXJhbSBtb2R1bGVUaXRsZSBUaGUgbW9kdWxlIHRvIGNoZWNrXG4gKiBAcmV0dXJuc1xuICovXG5leHBvcnQgZnVuY3Rpb24gTW9kdWxlSXNQdWJsaWMobW9kdWxlVGl0bGU6IE1vZHVsZVRpdGxlKTogYm9vbGVhblxue1xuICAgIHJldHVybiBNb2R1bGVUaXRsZVB1YmxpY2l0eVttb2R1bGVUaXRsZV0gPz8gdHJ1ZTtcbn1cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIE1vZHVsZVxue1xuICAgIGdldCBUaXRsZSgpOiBNb2R1bGVUaXRsZVxuICAgIHtcbiAgICAgICAgcmV0dXJuIE1vZHVsZVRpdGxlLlVua25vd247XG4gICAgfVxuXG4gICAgZ2V0IEFjdGl2aXRpZXMoKTogQ3VzdG9tQWN0aXZpdHlbXVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIGdldCBTZXR0aW5ncygpOiBTZXR0aW5nW11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBnZXQgU3luY0xpc3RlbmVycygpOiBIb29rZWRNZXNzYWdlW11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICBMb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIENyZWF0ZUFjdGl2aXRpZXModGhpcy5BY3Rpdml0aWVzKTtcbiAgICAgICAgQWRkRGF0YVN5bmNMaXN0ZW5lcnModGhpcy5TeW5jTGlzdGVuZXJzKTtcbiAgICB9XG5cbiAgICBVbmxvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgUmVtb3ZlSG9va3ModGhpcy5UaXRsZSk7XG4gICAgICAgIFJlbW92ZUFjdGl2aXRpZXModGhpcy5BY3Rpdml0aWVzKTtcbiAgICAgICAgUmVtb3ZlRGF0YVN5bmNMaXN0ZW5lcnModGhpcy5UaXRsZSk7XG4gICAgfVxuXG4gICAgUmVsb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuVW5sb2FkKCk7XG4gICAgICAgIHRoaXMuTG9hZCgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IE1vZHVsZSwgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi9fbW9kdWxlXCI7XG5pbXBvcnQgeyBGaW5kQ2hhcmFjdGVySW5Sb29tLCBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkgfSBmcm9tIFwiLi4vdXRpbC9tZXNzYWdpbmdcIjtcbmltcG9ydCB7IGFjdGl2aXR5SW1hZ2VzLCBhY3Rpdml0eVByZXJlcXVpc2l0ZXMsIGFjdGl2aXR5UmVjZWl2ZWQsIGFjdGl2aXR5VHJpZ2dlcnMgfSBmcm9tIFwiLi4vdXRpbC9hY3Rpdml0aWVzXCI7XG5pbXBvcnQgeyBIb29rRnVuY3Rpb24gfSBmcm9tIFwiLi4vdXRpbC9zZGtcIjtcbmltcG9ydCB7IEFDVElWSVRZX05BTUVfUFJFRklYLCBCRUxMX1NPVU5ELCBJQ09OUyB9IGZyb20gXCIuLi91dGlsL2NvbnN0YW50c1wiO1xuXG5jb25zdCBSZWNpZXZlQmVsbDogQWN0aXZpdHlSZWNlaXZlZCA9IChzb3VyY2UsIHRhcmdldCwgX2dyb3VwLCBfZGF0YSkgPT5cbntcbiAgICBpZiAoXG4gICAgICAgIFBsYXllci5BdWRpb1NldHRpbmdzPy5QbGF5SXRlbVxuICAgICAgICAmJiAoIVBsYXllci5BdWRpb1NldHRpbmdzLlBsYXlJdGVtUGxheWVyT25seVxuICAgICAgICAgIHx8IHNvdXJjZT8uTWVtYmVyTnVtYmVyID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyXG4gICAgICAgICAgfHwgdGFyZ2V0Py5NZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXIpXG4gICAgKVxuICAgIHtcbiAgICAgICAgQkVMTF9TT1VORC5wbGF5KCk7XG4gICAgfVxufTtcblxuY29uc3QgUEFXX1RPT0xUSVAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuUEFXX1RPT0xUSVAuc3JjID0gSUNPTlMuUEFXO1xuUEFXX1RPT0xUSVAuc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG5QQVdfVE9PTFRJUC5zdHlsZS5yaWdodCA9IFwiMSVcIjtcblBBV19UT09MVElQLnN0eWxlLmJvdHRvbSA9IFwiMjMlXCI7XG5QQVdfVE9PTFRJUC5zdHlsZS53aWR0aCA9IFwiMS40ZW1cIjtcblBBV19UT09MVElQLnN0eWxlLmhlaWdodCA9IFwiMS40ZW1cIjtcblxuZXhwb3J0IGNsYXNzIEFjdGl2aXRpZXNNb2R1bGUgZXh0ZW5kcyBNb2R1bGVcbntcbiAgICBnZXQgVGl0bGUoKTogTW9kdWxlVGl0bGVcbiAgICB7XG4gICAgICAgIHJldHVybiBNb2R1bGVUaXRsZS5BY3Rpdml0aWVzO1xuICAgIH1cblxuICAgIGdldCBBY3Rpdml0aWVzKCk6IEN1c3RvbUFjdGl2aXR5W11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgTmFtZTogXCJGbGlja0JlbGxcIixcbiAgICAgICAgICAgICAgICBNYXhQcm9ncmVzczogNTAsXG4gICAgICAgICAgICAgICAgUHJlcmVxdWlzaXRlOiBbXCJVc2VIYW5kc1wiXSxcbiAgICAgICAgICAgICAgICBDdXN0b21QcmVyZXF1aXNpdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgTmFtZTogXCJIYXNCZWxsQ29sbGFyXCIsXG4gICAgICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogKF9hY3RpbmcsIGFjdGVkLCBfZ3JvdXApID0+XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBJbnZlbnRvcnlHZXQoYWN0ZWQsIFwiSXRlbU5lY2tcIik/LkFzc2V0Py5OYW1lPy50b0xvY2FsZUxvd2VyQ2FzZSgpPy5pbmNsdWRlcyhcImJlbGxcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgSW52ZW50b3J5R2V0KGFjdGVkLCBcIkl0ZW1OZWNrQWNjZXNzb3JpZXNcIik/LkFzc2V0Py5OYW1lPy50b0xvY2FsZUxvd2VyQ2FzZSgpPy5pbmNsdWRlcyhcImJlbGxcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFRhcmdldHM6IFt7XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwOiBcIkl0ZW1OZWNrXCIsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkZsaWNrIEJlbGxcIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uU2VsZjogXCJTb3VyY2VDaGFyYWN0ZXIgZmxpY2tzIHRoZSBiZWxsIG9uIFByb25vdW5Qb3NzZXNzaXZlIGNvbGxhci5cIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uT3RoZXJzOiBcIlNvdXJjZUNoYXJhY3RlciBmbGlja3MgdGhlIGJlbGwgb24gVGFyZ2V0Q2hhcmFjdGVyJ3MgY29sbGFyLlwiXG4gICAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAgICAgSW1hZ2U6IFwiQXNzZXRzXFxcXEZlbWFsZTNEQ0dcXFxcSXRlbU5lY2tBY2Nlc3Nvcmllc1xcXFxQcmV2aWV3XFxcXENvbGxhckJlbGwucG5nXCIsXG4gICAgICAgICAgICAgICAgT25SZWNlaXZlOiBSZWNpZXZlQmVsbFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIE5hbWU6IFwiRmxpY2tCZWxsMlwiLFxuICAgICAgICAgICAgICAgIE1heFByb2dyZXNzOiA1MCxcbiAgICAgICAgICAgICAgICBQcmVyZXF1aXNpdGU6IFtcIlVzZUhhbmRzXCJdLFxuICAgICAgICAgICAgICAgIEN1c3RvbVByZXJlcXVpc2l0ZToge1xuICAgICAgICAgICAgICAgICAgICBOYW1lOiBcIkhhc0JlbGxOaXBwbGVzXCIsXG4gICAgICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogKF9hY3RpbmcsIGFjdGVkLCBfZ3JvdXApID0+XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBJbnZlbnRvcnlHZXQoYWN0ZWQsIFwiSXRlbU5pcHBsZXNcIik/LkFzc2V0Py5OYW1lPy50b0xvY2FsZUxvd2VyQ2FzZSgpPy5pbmNsdWRlcyhcImJlbGxcIikgPz8gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFRhcmdldHM6IFt7XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwOiBcIkl0ZW1OaXBwbGVzXCIsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkZsaWNrIEJlbGxcIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uU2VsZjogXCJTb3VyY2VDaGFyYWN0ZXIgZmxpY2tzIHRoZSBiZWxscyBvbiBQcm9ub3VuUG9zc2Vzc2l2ZSBuaXBwbGUgY2xhbXBzLlwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25PdGhlcnM6IFwiU291cmNlQ2hhcmFjdGVyIGZsaWNrcyB0aGUgYmVsbHMgb24gVGFyZ2V0Q2hhcmFjdGVyJ3MgbmlwcGxlIGNsYW1wcy5cIlxuICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgICAgIEltYWdlOiBcIkFzc2V0c1xcXFxGZW1hbGUzRENHXFxcXEl0ZW1OaXBwbGVzXFxcXFByZXZpZXdcXFxcQmVsbENsYW1wcy5wbmdcIixcbiAgICAgICAgICAgICAgICBPblJlY2VpdmU6IFJlY2lldmVCZWxsXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgTmFtZTogXCJGbGlja0JlbGwzXCIsXG4gICAgICAgICAgICAgICAgTWF4UHJvZ3Jlc3M6IDUwLFxuICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogW1wiVXNlSGFuZHNcIl0sXG4gICAgICAgICAgICAgICAgQ3VzdG9tUHJlcmVxdWlzaXRlOiB7XG4gICAgICAgICAgICAgICAgICAgIE5hbWU6IFwiSGFzQmVsbENsaXRcIixcbiAgICAgICAgICAgICAgICAgICAgUHJlcmVxdWlzaXRlOiAoX2FjdGluZywgYWN0ZWQsIF9ncm91cCkgPT5cbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xpdFBpZXJjaW5nID0gSW52ZW50b3J5R2V0KGFjdGVkLCBcIkl0ZW1WdWx2YVBpZXJjaW5nc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjbGl0UGllcmNpbmc/LkFzc2V0Py5OYW1lID09IFwiUm91bmRDbGl0UGllcmNpbmdcIiB8fCBjbGl0UGllcmNpbmc/LlByb3BlcnR5Py5UeXBlUmVjb3JkPy50eXBlZCA9PSAyO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBUYXJnZXRzOiBbe1xuICAgICAgICAgICAgICAgICAgICBncm91cDogXCJJdGVtVnVsdmFQaWVyY2luZ3NcIixcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiRmxpY2sgQmVsbFwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25TZWxmOiBcIlNvdXJjZUNoYXJhY3RlciBmbGlja3MgdGhlIGJlbGwgb24gUHJvbm91blBvc3Nlc3NpdmUgY2xpdCBwaWVyY2luZy5cIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uT3RoZXJzOiBcIlNvdXJjZUNoYXJhY3RlciBmbGlja3MgdGhlIGJlbGwgb24gVGFyZ2V0Q2hhcmFjdGVyJ3MgY2xpdCBwaWVyY2luZy5cIlxuICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgICAgIEltYWdlOiBcIkFzc2V0c1xcXFxGZW1hbGUzRENHXFxcXEl0ZW1WdWx2YVBpZXJjaW5nc1xcXFxQcmV2aWV3XFxcXFJvdW5kQ2xpdFBpZXJjaW5nLnBuZ1wiLFxuICAgICAgICAgICAgICAgIE9uUmVjZWl2ZTogUmVjaWV2ZUJlbGxcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBOYW1lOiBcIkZsaWNrQmVsbDRcIixcbiAgICAgICAgICAgICAgICBNYXhQcm9ncmVzczogNTAsXG4gICAgICAgICAgICAgICAgUHJlcmVxdWlzaXRlOiBbXCJVc2VIYW5kc1wiXSxcbiAgICAgICAgICAgICAgICBDdXN0b21QcmVyZXF1aXNpdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgTmFtZTogXCJIYXNCZWxsTmlwcGxlc1BpZXJjaW5nc1wiLFxuICAgICAgICAgICAgICAgICAgICBQcmVyZXF1aXNpdGU6IChfYWN0aW5nLCBhY3RlZCwgX2dyb3VwKSA9PlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSW52ZW50b3J5R2V0KGFjdGVkLCBcIkl0ZW1OaXBwbGVzUGllcmNpbmdzXCIpPy5Bc3NldD8uTmFtZT8udG9Mb2NhbGVMb3dlckNhc2UoKT8uaW5jbHVkZXMoXCJiZWxsXCIpID8/IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBUYXJnZXRzOiBbe1xuICAgICAgICAgICAgICAgICAgICBncm91cDogXCJJdGVtTmlwcGxlc1wiLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogXCJGbGljayBCZWxsXCIsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvblNlbGY6IFwiU291cmNlQ2hhcmFjdGVyIGZsaWNrcyB0aGUgYmVsbHMgb24gUHJvbm91blBvc3Nlc3NpdmUgbmlwcGxlIHBpZXJjaW5ncy5cIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uT3RoZXJzOiBcIlNvdXJjZUNoYXJhY3RlciBmbGlja3MgdGhlIGJlbGxzIG9uIFRhcmdldENoYXJhY3RlcidzIG5pcHBsZSBwaWVyY2luZ3MuXCJcbiAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgICAgICBJbWFnZTogXCJBc3NldHNcXFxcRmVtYWxlM0RDR1xcXFxJdGVtTmlwcGxlc1BpZXJjaW5nc1xcXFxQcmV2aWV3XFxcXEJlbGxQaWVyY2luZy5wbmdcIixcbiAgICAgICAgICAgICAgICBPblJlY2VpdmU6IFJlY2lldmVCZWxsXG4gICAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgTG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5Mb2FkKCk7XG5cbiAgICAgICAgLy8gUHJlcmVxdWlzaXRlIGhhbmRsaW5nXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIkFjdGl2aXR5Q2hlY2tQcmVyZXF1aXNpdGVcIiwgMSwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IFtwcmVyZXEsIGFjdGluZywgYWN0ZWQsIGdyb3VwXSA9IGFyZ3M7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoYWN0aXZpdHlQcmVyZXF1aXNpdGVzKS5pbmNsdWRlcyhwcmVyZXEpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBhY3Rpdml0eVByZXJlcXVpc2l0ZXNbcHJlcmVxXShhY3RpbmcsIGFjdGVkLCBncm91cCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQWN0aXZpdHkgb250cmlnZ2Vyc1xuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJTZXJ2ZXJTZW5kXCIsIDEsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXJnc1sxXSBhcyBTZXJ2ZXJDaGF0Um9vbU1lc3NhZ2U7XG4gICAgICAgICAgICBpZiAoYXJnc1swXSAhPT0gXCJDaGF0Um9vbUNoYXRcIiB8fCBkYXRhPy5UeXBlICE9PSBcIkFjdGl2aXR5XCIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlIC0gVFMgbm90IGZpbmRpbmcgdHlwZSBhdXRvbWF0aWNhbGx5LCBpdCBleGlzdHNcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2aXR5TmFtZSA9IGRhdGE/LkRpY3Rpb25hcnk/LmZpbmQoKHgpID0+IHguQWN0aXZpdHlOYW1lKT8uQWN0aXZpdHlOYW1lIGFzIHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmIChhY3Rpdml0eU5hbWU/LnN0YXJ0c1dpdGgoQUNUSVZJVFlfTkFNRV9QUkVGSVgpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRhdGE/LkRpY3Rpb25hcnk/LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBUYWc6IFwiTUlTU0lORyBBQ1RJVklUWSBERVNDUklQVElPTiBGT1IgS0VZV09SRCBcIiArIGRhdGEuQ29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgVGV4dDogQWN0aXZpdHlEaWN0aW9uYXJ5VGV4dChkYXRhLkNvbnRlbnQpXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoYWN0aXZpdHlUcmlnZ2VycykuaW5jbHVkZXMoYWN0aXZpdHlOYW1lKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldE51bWJlciA9IChkYXRhPy5EaWN0aW9uYXJ5Py5maW5kKCh4KSA9PiAoeCBhcyBUYXJnZXRDaGFyYWN0ZXJEaWN0aW9uYXJ5RW50cnkpLlRhcmdldENoYXJhY3RlcikgYXMgVGFyZ2V0Q2hhcmFjdGVyRGljdGlvbmFyeUVudHJ5KT8uVGFyZ2V0Q2hhcmFjdGVyID8/IC0xO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBDaGF0Um9vbUNoYXJhY3Rlcj8uZmluZCgoYykgPT4gYy5NZW1iZXJOdW1iZXIgPT09IHRhcmdldE51bWJlcik7XG4gICAgICAgICAgICAgICAgICAgIGFjdGl2aXR5VHJpZ2dlcnNbYWN0aXZpdHlOYW1lXSh0YXJnZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEFjdGl2aXR5IG9uIHJlY2VpdmVkXG4gICAgICAgIEhvb2tGdW5jdGlvbihNb2R1bGVUaXRsZS5DbGlja2VyLCBcIkNoYXRSb29tTWVzc2FnZVwiLCAwLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgbmV4dChhcmdzKTtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhcmdzWzBdO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIGRhdGEuVHlwZSA9PT0gXCJBY3Rpdml0eVwiXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgYWN0aXZpdHlOYW1lID0gR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiQWN0aXZpdHlOYW1lXCIpIGFzIHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBpZiAoIWFjdGl2aXR5TmFtZT8uc3RhcnRzV2l0aChBQ1RJVklUWV9OQU1FX1BSRUZJWClcbiAgICAgICAgICAgICAgICAgIHx8ICEoYWN0aXZpdHlOYW1lIGluIGFjdGl2aXR5UmVjZWl2ZWQpKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2VDaGFyID0gRmluZENoYXJhY3RlckluUm9vbShHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJTb3VyY2VDaGFyYWN0ZXJcIiksXG4gICAgICAgICAgICAgICAgICAgIHsgTWVtYmVyTnVtYmVyOiB0cnVlLCBOaWNrTmFtZTogZmFsc2UsIE5hbWU6IGZhbHNlIH0pID8/IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBjb25zdCB0YXJnZXRDaGFyID0gRmluZENoYXJhY3RlckluUm9vbShHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJUYXJnZXRDaGFyYWN0ZXJcIiksXG4gICAgICAgICAgICAgICAgICAgIHsgTWVtYmVyTnVtYmVyOiB0cnVlLCBOaWNrTmFtZTogZmFsc2UsIE5hbWU6IGZhbHNlIH0pID8/IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBjb25zdCBncm91cCA9IEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIkZvY3VzR3JvdXBOYW1lXCIpO1xuICAgICAgICAgICAgICAgIGFjdGl2aXR5UmVjZWl2ZWRbYWN0aXZpdHlOYW1lXShzb3VyY2VDaGFyLCB0YXJnZXRDaGFyLCBncm91cCwgZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIERyYXcgY3VzdG9tIGltYWdlcyBmb3IgYWN0aXZpdGllc1xuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJFbGVtZW50QnV0dG9uLkNyZWF0ZUZvckFjdGl2aXR5XCIsIDAsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBhY3Rpdml0eU5hbWUgPSBhcmdzWzFdLkFjdGl2aXR5Lk5hbWU7XG4gICAgICAgICAgICBjb25zdCBpc01QQUFjdGl2aXR5ID0gT2JqZWN0LmtleXMoYWN0aXZpdHlJbWFnZXMpLmluY2x1ZGVzKGFjdGl2aXR5TmFtZSk7XG4gICAgICAgICAgICBpZiAoaXNNUEFBY3Rpdml0eSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoIWFyZ3NbNF0pXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBhcmdzWzRdID0ge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGFyZ3NbNF0uaW1hZ2UgPSBhY3Rpdml0eUltYWdlc1thY3Rpdml0eU5hbWVdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBidXR0b25FbGVtZW50ID0gbmV4dChhcmdzKTtcblxuICAgICAgICAgICAgaWYgKGlzTVBBQWN0aXZpdHkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYnV0dG9uRWxlbWVudC5hcHBlbmRDaGlsZChQQVdfVE9PTFRJUC5jbG9uZU5vZGUoKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBidXR0b25FbGVtZW50O1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBVbmxvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3VwZXIuVW5sb2FkKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQVVUSE9SSVRZX0dST1VQX09QVElPTlMgfSBmcm9tIFwiLi4vdXRpbC9hdXRob3JpdHlcIjtcbmltcG9ydCB7IE1vZHVsZSwgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi9fbW9kdWxlXCI7XG5cbmNvbnN0IFBsYXllclA6IChDPzogQ2hhcmFjdGVyKSA9PiBNUEFSZWNvcmQgPSAoQzogQ2hhcmFjdGVyID0gUGxheWVyKSA9Plxue1xuICAgIHJldHVybiBDLk1QQT8uW01vZHVsZVRpdGxlLkF1dGhvcml0eV0gPz8ge307XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gSXNIYXJkY29yZU9uKEM6IENoYXJhY3Rlcik6IGJvb2xlYW5cbntcbiAgICByZXR1cm4gKEMuTVBBPy5bTW9kdWxlVGl0bGUuQXV0aG9yaXR5XS5oYXJkY29yZSBhcyBib29sZWFuIHwgdW5kZWZpbmVkKSA/PyBmYWxzZTtcbn07XG5cbnR5cGUgU2VsZkFjY2VzcyA9IGBzZWxmJHtrZXlvZiB0eXBlb2YgTW9kdWxlVGl0bGV9YDtcbnR5cGUgT3RoZXJzQWNjZXNzID0gYG90aGVycyR7a2V5b2YgdHlwZW9mIE1vZHVsZVRpdGxlfWA7XG5cbmV4cG9ydCBjbGFzcyBBdXRob3JpdHlNb2R1bGUgZXh0ZW5kcyBNb2R1bGVcbntcbiAgICBnZXQgVGl0bGUoKTogTW9kdWxlVGl0bGVcbiAgICB7XG4gICAgICAgIHJldHVybiBNb2R1bGVUaXRsZS5BdXRob3JpdHk7XG4gICAgfVxuXG4gICAgZ2V0IFNldHRpbmdzKCk6IFNldHRpbmdbXVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNldHRpbmdzTm90aWZ5XCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJOb3RpZnkgd2hlbiBvdGhlcnMgYXJlIGFjY2Vzc2luZyBUYXJnZXRDaGFyYWN0ZXIncyBzZXR0aW5nc1wiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwib3duZXJzXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIlwiLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIk93bmVyIG1lbWJlciBudW1iZXJzOyBTZXBlcmF0ZWQgYnkgYSAsXCIsXG4gICAgICAgICAgICAgICAgbWF4Q2hhcnM6IDEwMjQsXG4gICAgICAgICAgICAgICAgd2lkdGg6IDQwMFxuICAgICAgICAgICAgfSBhcyBUZXh0U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiYm91bmRBY2Nlc3NTZWxmXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBUYXJnZXRDaGFyYWN0ZXIgY2hhbmdpbmcgVGFyZ2V0UHJvbm91blBvc3Nlc3NpdmUgb3duIHNldHRpbmdzIHdoaWxlIGJvdW5kXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJib3VuZEFjY2Vzc090aGVyc1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkFsbG93IFRhcmdldENoYXJhY3RlciBjaGFuZ2luZyB0aGUgc2V0dGluZ3Mgb2Ygb3RoZXJzIHdoaWxlIGJvdW5kXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJzZWxmQXV0aG9yaXR5XCIgYXMgU2VsZkFjY2VzcyxcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkFsbG93IFRhcmdldENoYXJhY3RlciB0byBjaGFuZ2UgVGFyZ2V0UHJvbm91blBvc3Nlc3NpdmUgQXV0aG9yaXR5IHNldHRpbmdzXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJvdGhlcnNBdXRob3JpdHlcIiBhcyBPdGhlcnNBY2Nlc3MsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJvcHRpb25cIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogQVVUSE9SSVRZX0dST1VQX09QVElPTlMsXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiQ2x1Ym93bmVyXCIsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWxsb3cgb3RoZXJzIHRvIGNoYW5nZSBUYXJnZXRDaGFyYWN0ZXIncyBBdXRob3JpdHkgc2V0dGluZ3NcIixcbiAgICAgICAgICAgICAgICBsb29wOiBmYWxzZVxuICAgICAgICAgICAgfSBhcyBPcHRpb25TZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJzZWxmUHJvZmlsZVwiIGFzIFNlbGZBY2Nlc3MsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+IFBsYXllclAoQykub3RoZXJzUHJvZmlsZSAhPT0gXCJTZWxmXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWxsb3cgVGFyZ2V0Q2hhcmFjdGVyIHRvIGNoYW5nZSBUYXJnZXRQcm9ub3VuUG9zc2Vzc2l2ZSBQcm9maWxlIHNldHRpbmdzXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJvdGhlcnNQcm9maWxlXCIgYXMgT3RoZXJzQWNjZXNzLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwib3B0aW9uXCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IEFVVEhPUklUWV9HUk9VUF9PUFRJT05TLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIkNsdWJvd25lclwiLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkFsbG93IG90aGVycyB0byBjaGFuZ2UgVGFyZ2V0Q2hhcmFjdGVyJ3MgUHJvZmlsZSBzZXR0aW5nc1wiLFxuICAgICAgICAgICAgICAgIGxvb3A6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG9uU2V0KEMpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBQbGF5ZXJQKEMpLnNlbGZQcm9maWxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGFzIE9wdGlvblNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNlbGZDbGlja2VyXCIgYXMgU2VsZkFjY2VzcyxcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkFsbG93IFRhcmdldENoYXJhY3RlciB0byBjaGFuZ2UgVGFyZ2V0UHJvbm91blBvc3Nlc3NpdmUgQ2xpY2tlciBzZXR0aW5nc1wiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwib3RoZXJzQ2xpY2tlclwiIGFzIE90aGVyc0FjY2VzcyxcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm9wdGlvblwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJDbHVib3duZXJcIixcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBvdGhlcnMgdG8gY2hhbmdlIFRhcmdldENoYXJhY3RlcidzIENsaWNrZXIgc2V0dGluZ3NcIixcbiAgICAgICAgICAgICAgICBsb29wOiBmYWxzZVxuICAgICAgICAgICAgfSBhcyBPcHRpb25TZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJzZWxmVmlydHVhbFBldFwiIGFzIFNlbGZBY2Nlc3MsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBUYXJnZXRDaGFyYWN0ZXIgdG8gY2hhbmdlIFRhcmdldFByb25vdW5Qb3NzZXNzaXZlIFZpcnR1YWwgUGV0IHNldHRpbmdzXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJvdGhlcnNWaXJ0dWFsUGV0XCIgYXMgT3RoZXJzQWNjZXNzLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwib3B0aW9uXCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IEFVVEhPUklUWV9HUk9VUF9PUFRJT05TLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIkNsdWJvd25lclwiLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkFsbG93IG90aGVycyB0byBjaGFuZ2UgVGFyZ2V0Q2hhcmFjdGVyJ3MgVmlydHVhbCBQZXQgc2V0dGluZ3NcIixcbiAgICAgICAgICAgICAgICBsb29wOiBmYWxzZVxuICAgICAgICAgICAgfSBhcyBPcHRpb25TZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJzZWxmVmlydHVhbFBldENvbmRpdGlvbnNcIiBhcyBTZWxmQWNjZXNzLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWxsb3cgVGFyZ2V0Q2hhcmFjdGVyIHRvIGNoYW5nZSBUYXJnZXRQcm9ub3VuUG9zc2Vzc2l2ZSBWaXJ0dWFsIFBldCBDb25kaXRpb25zIHNldHRpbmdzXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJvdGhlcnNWaXJ0dWFsUGV0Q29uZGl0aW9uc1wiIGFzIE90aGVyc0FjY2VzcyxcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm9wdGlvblwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJDbHVib3duZXJcIixcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBvdGhlcnMgdG8gY2hhbmdlIFRhcmdldENoYXJhY3RlcidzIFZpcnR1YWwgUGV0IENvbmRpdGlvbnMgc2V0dGluZ3NcIixcbiAgICAgICAgICAgICAgICBsb29wOiBmYWxzZVxuICAgICAgICAgICAgfSBhcyBPcHRpb25TZXR0aW5nXG4gICAgICAgIF07XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgYmN4QVBJLCBiY3hGb3VuZCwgSG9va0Z1bmN0aW9uIH0gZnJvbSBcIi4uL3V0aWwvc2RrXCI7XG5pbXBvcnQgeyBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnksIFJlbW92ZU9PQ0NvbnRlbnRGcm9tTWVzc2FnZSB9IGZyb20gXCIuLi91dGlsL21lc3NhZ2luZ1wiO1xuaW1wb3J0IHsgQXV0aG9yaXR5R3JvdXAsIElzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAgfSBmcm9tIFwiLi4vdXRpbC9hdXRob3JpdHlcIjtcbmltcG9ydCB7IE1vZHVsZSwgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi9fbW9kdWxlXCI7XG5pbXBvcnQgeyBJc0hhcmRjb3JlT24gfSBmcm9tIFwiLi9wcm9maWxlXCI7XG5cbi8vIENsaWNrZXIgc291bmRzIHRvIHBsYXlcbi8vIEFuIGFycmF5IG9mIGF1ZGlvIGZpbGVzLCAxIGNsaWNrIGluIGluZGV4IDAsIG4rMSBjbGlja3MgaW4gaW5kZXggblxuY29uc3QgQUxMX0NMSUNLUzogSFRNTEF1ZGlvRWxlbWVudFtdID1cbltcbiAgICBuZXcgQXVkaW8oXCJodHRwczovL21lZGlhLnNvdW5kZ2FzbS5uZXQvc291bmRzL2RmMzMzMTZiZWM3YmMwMzkwMjg2MGQyMWZiNGI4ODI3NDY2ZjJiYWQubTRhXCIpLFxuICAgIG5ldyBBdWRpbyhcImh0dHBzOi8vbWVkaWEuc291bmRnYXNtLm5ldC9zb3VuZHMvZmE0OWIxMGRhZDNlMTIwMmRlMDk2ODU5YjMzOWRjZmM1ZWFiOTBhNS5tNGFcIiksXG4gICAgbmV3IEF1ZGlvKFwiaHR0cHM6Ly9tZWRpYS5zb3VuZGdhc20ubmV0L3NvdW5kcy9iMjUxNzdhNmE5MmQ1YTc0ZDA0N2E5ZDc3YTgwN2YyZDFlZDI4YzcxLm00YVwiKVxuXTtcblxuLyoqXG4gKiBHZXQgdGhlIENsaWNrZXIgc2V0dGluZ3Mgb2YgdGhlIFBsYXllclxuICovXG5jb25zdCBQbGF5ZXJDOiAoQz86IENoYXJhY3RlcikgPT4gTVBBUmVjb3JkID0gKEM6IENoYXJhY3RlciA9IFBsYXllcikgPT5cbntcbiAgICByZXR1cm4gQy5NUEE/LltNb2R1bGVUaXRsZS5DbGlja2VyXSA/PyB7fTtcbn07XG5cbi8qKlxuICogR2V0IHRoZSB0b3RhbCBudW1iZXIgb2YgY2xpY2tzIGluIGEgc3RyaW5nXG4gKi9cbmZ1bmN0aW9uIENsaWNrQ291bnQoc3RyOiBzdHJpbmcgPSBcIlwiKTogbnVtYmVyXG57XG4gICAgbGV0IHRvdGFsQ2xpY2tzID0gMDtcbiAgICAoUGxheWVyQygpLnRyaWdnZXJzIGFzIHN0cmluZylcbiAgICAgICAgLnNwbGl0KFwiLFwiKVxuICAgICAgICAubWFwKChzdHI6IHN0cmluZykgPT4gc3RyLnRyaW0oKSlcbiAgICAgICAgLmZpbHRlcigoc3RyKSA9PiBzdHIgIT09IFwiXCIpXG4gICAgICAgIC5mb3JFYWNoKCh0cmlnZ2VyKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICB0b3RhbENsaWNrcyArPSBzdHIudG9Mb2NhbGVMb3dlckNhc2UoKS5tYXRjaChuZXcgUmVnRXhwKHRyaWdnZXIudG9Mb2NhbGVMb3dlckNhc2UoKSwgXCJnXCIpKT8ubGVuZ3RoID8/IDA7XG4gICAgICAgIH0pO1xuICAgIHJldHVybiB0b3RhbENsaWNrcztcbn1cblxuLyoqXG4gKiBQbGF5IGNsaWNrcyB0byB0aGUgdXNlclxuICovXG5mdW5jdGlvbiBQbGF5Q2xpY2tlclNvdW5kKG51bWJlck9mQ2xpY2tzOiBudW1iZXIgPSAwKTogdm9pZFxue1xuICAgIGlmIChcbiAgICAgICAgaXNOYU4obnVtYmVyT2ZDbGlja3MpXG4gICAgICAgIHx8IG51bWJlck9mQ2xpY2tzIDw9IDBcbiAgICAgICAgfHwgIVBsYXllckMoKS5lbmFibGVkXG4gICAgKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIEFMTF9DTElDS1NbTWF0aC5taW4obnVtYmVyT2ZDbGlja3MgLSAxLCBBTExfQ0xJQ0tTLmxlbmd0aCAtIDEpXS5wbGF5KCk7XG59XG5cbmxldCBiY3hIb29rZWQgPSBmYWxzZTtcbmZ1bmN0aW9uIEhvb2tCQ1hDbGlja2VyKCk6IHZvaWRcbntcbiAgICBpZiAoYmN4Rm91bmQoKSAmJiAhYmN4SG9va2VkKVxuICAgIHtcbiAgICAgICAgYmN4QVBJKCk/Lm9uPy4oXCJiY3hMb2NhbE1lc3NhZ2VcIiwgKGRhdGE6IGFueSkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGRhdGE/Lm1lc3NhZ2UgYXMgc3RyaW5nIHwgdW5kZWZpbmVkO1xuICAgICAgICAgICAgY29uc3QgcHJlZml4ID0gXCJbVm9pY2VdIFwiO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIFBsYXllckMoKS5lbmFibGVkXG4gICAgICAgICAgICAgICAgJiYgUGxheWVyQygpLmJjeFZvaWNlXG4gICAgICAgICAgICAgICAgJiYgbWVzc2FnZT8uc3RhcnRzV2l0aChwcmVmaXgpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgUGxheUNsaWNrZXJTb3VuZChDbGlja0NvdW50KG1lc3NhZ2Uuc3Vic3RyaW5nKHByZWZpeC5sZW5ndGgpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBiY3hIb29rZWQgPSB0cnVlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIENsaWNrZXJNb2R1bGUgZXh0ZW5kcyBNb2R1bGVcbntcbiAgICAvLyBCQ1ggaG9vayBvbmx5IGxvYWRzIG9uY2UsIHVua25vd24gaWYgY2FuIHVuaG9vayBmb3IgVW5sb2FkKClcbiAgICBoYXNCZWVuTG9hZGVkID0gZmFsc2U7XG5cbiAgICBnZXQgVGl0bGUoKTogTW9kdWxlVGl0bGVcbiAgICB7XG4gICAgICAgIHJldHVybiBNb2R1bGVUaXRsZS5DbGlja2VyO1xuICAgIH1cblxuICAgIGdldCBBY3Rpdml0aWVzKCk6IEN1c3RvbUFjdGl2aXR5W11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgTmFtZTogXCJDbGlja2VyMVwiLFxuICAgICAgICAgICAgICAgIE1heFByb2dyZXNzOiA1MCxcbiAgICAgICAgICAgICAgICBQcmVyZXF1aXNpdGU6IFtcIlVzZUhhbmRzXCJdLFxuICAgICAgICAgICAgICAgIEN1c3RvbVByZXJlcXVpc2l0ZToge1xuICAgICAgICAgICAgICAgICAgICBOYW1lOiBcIkhvbGRpbmdDbGlja2VyXCIsXG4gICAgICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogKGFjdGluZywgX2FjdGVkLCBfZ3JvdXApID0+XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBJbnZlbnRvcnlHZXQoYWN0aW5nLCBcIkl0ZW1IYW5kaGVsZFwiKT8uQXNzZXQ/Lk5hbWU/LnRvTG9jYWxlTG93ZXJDYXNlKCk/LmluY2x1ZGVzKFwicmVtb3RlXCIpID8/IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBUYXJnZXRzOiBbe1xuICAgICAgICAgICAgICAgICAgICBncm91cDogXCJJdGVtSGFuZHNcIixcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiQ2xpY2sgT25jZVwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25TZWxmOiBcIlNvdXJjZUNoYXJhY3RlciBwcmVzc2VzIHRoZSBidXR0b24gb24gUHJvbm91blBvc3Nlc3NpdmUgY2xpY2tlci5cIlxuICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgICAgIEltYWdlOiBcIkljb25zL0F1ZGlvT24ucG5nXCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBOYW1lOiBcIkNsaWNrZXIyXCIsXG4gICAgICAgICAgICAgICAgTWF4UHJvZ3Jlc3M6IDUwLFxuICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogW1wiVXNlSGFuZHNcIl0sXG4gICAgICAgICAgICAgICAgQ3VzdG9tUHJlcmVxdWlzaXRlOiB7XG4gICAgICAgICAgICAgICAgICAgIE5hbWU6IFwiSG9sZGluZ0NsaWNrZXJcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgVGFyZ2V0czogW3tcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IFwiSXRlbUhhbmRzXCIsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkNsaWNrIFR3aWNlXCIsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvblNlbGY6IFwiU291cmNlQ2hhcmFjdGVyIHByZXNzZXMgdGhlIGJ1dHRvbiBvbiBQcm9ub3VuUG9zc2Vzc2l2ZSBjbGlja2VyIHR3aWNlLlwiXG4gICAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAgICAgSW1hZ2U6IFwiSWNvbnMvQXVkaW9Pbi5wbmdcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIE5hbWU6IFwiQ2xpY2tlcjNcIixcbiAgICAgICAgICAgICAgICBNYXhQcm9ncmVzczogNTAsXG4gICAgICAgICAgICAgICAgUHJlcmVxdWlzaXRlOiBbXCJVc2VIYW5kc1wiXSxcbiAgICAgICAgICAgICAgICBDdXN0b21QcmVyZXF1aXNpdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgTmFtZTogXCJIb2xkaW5nQ2xpY2tlclwiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBUYXJnZXRzOiBbe1xuICAgICAgICAgICAgICAgICAgICBncm91cDogXCJJdGVtSGFuZHNcIixcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiQ2xpY2sgVGhyaWNlXCIsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvblNlbGY6IFwiU291cmNlQ2hhcmFjdGVyIHByZXNzZXMgdGhlIGJ1dHRvbiBvbiBQcm9ub3VuUG9zc2Vzc2l2ZSBjbGlja2VyIHRocmVlIHRpbWVzLlwiXG4gICAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAgICAgSW1hZ2U6IFwiSWNvbnMvQXVkaW9Pbi5wbmdcIlxuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuICAgIH1cblxuICAgIGdldCBTZXR0aW5ncygpOiBTZXR0aW5nW11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJlbmFibGVkXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICFJc0hhcmRjb3JlT24oQyksXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkVuYWJsZSBhdWRpdG9yeSBjbGlja2VyXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJ0cmlnZ2Vyc1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyQyhDKS5lbmFibGVkLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIn5jbGlja35cIixcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJQaHJhc2VzIHRoYXQgdHJpZ2dlciB0aGUgY2xpY2s7IFNlcGFyYXRlIHBocmFzZXMgd2l0aCBhIGNvbW1hXCIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IDM4NCxcbiAgICAgICAgICAgICAgICBtYXhDaGFyczogbnVsbFxuICAgICAgICAgICAgfSBhcyBUZXh0U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwic2VsZkF1dGhlZFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllckMoQykuZW5hYmxlZCAmJiBQbGF5ZXJDKEMpLmF1dGhlZEdyb3VwICE9PSBcIlNlbGZcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyB5b3VyIG93biBjaGF0LCBlbW90ZXMsICYgYWN0aW9ucyB0byB0cmlnZ2VyIHRoZSBjbGlja2VyXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJhdXRoZWRHcm91cFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwib3B0aW9uXCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJDKEMpLmVuYWJsZWQsXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiRnJpZW5kc1wiIGFzIEF1dGhvcml0eUdyb3VwLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IFtcIlB1YmxpY1wiLCBcIkZyaWVuZHNcIiwgXCJXaGl0ZWxpc3RcIiwgXCJMb3ZlcnNcIiwgXCJPd25lcnNcIiwgXCJDbHVib3duZXJcIiwgXCJTZWxmXCJdLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIldobyB3aWxsIGJlIGFibGUgdG8gdHJpZ2dlciB0aGUgY2xpY2tlclwiLFxuICAgICAgICAgICAgICAgIGxvb3A6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG9uU2V0KEMpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoUGxheWVyQyhDKS5hdXRoZWRHcm91cCA9PT0gXCJTZWxmXCIpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBsYXllckMoQykuc2VsZkF1dGhlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGFzIE9wdGlvblNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImJjeFZvaWNlXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyQyhDKS5lbmFibGVkICYmIGJjeEZvdW5kKCkgJiYgIUlzSGFyZGNvcmVPbihDKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBbGxvdyBCQ1ggTGlzdGVuIHRvIG15IHZvaWNlIHJ1bGUgdG8gdHJpZ2dlciB0aGUgY2xpY2tlcjsgUmVxdWlyZXMgQkNYXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nXG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgTG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5Mb2FkKCk7XG5cbiAgICAgICAgLy8gQ2hhdCwgd2hpc3BlciwgZW1vdGUsIGFuZCBhY3Rpb24gdHJpZ2dlcnNcbiAgICAgICAgSG9va0Z1bmN0aW9uKE1vZHVsZVRpdGxlLkNsaWNrZXIsIFwiQ2hhdFJvb21NZXNzYWdlXCIsIDAsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXJnc1swXTtcbiAgICAgICAgICAgIC8vIElmIGNsaWNrZXIgaXMgbm90IGVuYWJsZWQgb3IgaW52YWxpZCBkYXRhLCBza2lwXG4gICAgICAgICAgICAvLyBNZXNzYWdlIHNlbmRlciBub3QgYXV0aGVkLCBza2lwXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgIVBsYXllckMoKS5lbmFibGVkXG4gICAgICAgICAgICAgICAgfHwgIWFyZ3NbMF0/LlR5cGVcbiAgICAgICAgICAgICAgICB8fCAhYXJnc1swXT8uQ29udGVudFxuICAgICAgICAgICAgICAgIHx8ICFhcmdzWzBdPy5TZW5kZXJcbiAgICAgICAgICAgICAgICB8fCAhSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cChkYXRhLlNlbmRlciEsIFBsYXllckMoKS5hdXRoZWRHcm91cCBhcyBBdXRob3JpdHlHcm91cCwgUGxheWVyQygpLnNlbGZBdXRoZWQgYXMgYm9vbGVhbikpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBjbGlja3M6IG51bWJlciA9IDA7XG4gICAgICAgICAgICAvLyBDb3VudCB0aGUgY2xpY2tzIGluIGFuIGVtb3RlIG9yIGNoYXRcbiAgICAgICAgICAgIGlmIChkYXRhLlR5cGUgPT0gXCJDaGF0XCIgfHwgZGF0YS5UeXBlID09IFwiRW1vdGVcIiB8fCBkYXRhLlR5cGUgPT0gXCJXaGlzcGVyXCIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2xpY2tzID0gQ2xpY2tDb3VudChSZW1vdmVPT0NDb250ZW50RnJvbU1lc3NhZ2UoZGF0YS5Db250ZW50KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBDb3VudCB0aGUgY2xpY2tzIGluIGFuIGFjdGlvbiwgKHN1cHBvcnQgY3VzdG9tIGFjdGlvbnMpXG4gICAgICAgICAgICBpZiAoZGF0YS5UeXBlID09IFwiQWN0aW9uXCIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gQmVlcHNcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5Db250ZW50ID09IFwiQmVlcFwiKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tzID0gQ2xpY2tDb3VudCgoZGF0YT8uRGljdGlvbmFyeT8uZmlsdGVyKCh4KSA9PiAoeCBhcyBUZXh0RGljdGlvbmFyeUVudHJ5KS5UYWcgPT0gXCJCZWVwXCIpWzBdIGFzIFRleHREaWN0aW9uYXJ5RW50cnkpPy5UZXh0ID8/IFwiXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBNQkNIIGFjdGlvbnNcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChkYXRhLkRpY3Rpb25hcnk/LnJlZHVjZSgoYWNjLCBjdXJyKSA9PiBhY2MgfHwgKChjdXJyIGFzIGFueSkuVGFnID09PSBcIk1JU1NJTkcgVEVYVCBJTiBcXFwiSW50ZXJmYWNlLmNzdlxcXCI6IFwiICYmIChjdXJyIGFzIGFueSkuVGV4dCA9PT0gXCJcXHUyMDBjXCIpLCBmYWxzZSkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjbGlja3MgPSBDbGlja0NvdW50KGRhdGEuQ29udGVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEJDWCBhY3Rpb25zXG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY2xpY2tzID0gQ2xpY2tDb3VudCgoZGF0YT8uRGljdGlvbmFyeT8uZmlsdGVyKCh4KSA9PiAoeCBhcyBUZXh0RGljdGlvbmFyeUVudHJ5KS5UYWcgPT0gYE1JU1NJTkcgVEVYVCBJTiBcIkludGVyZmFjZS5jc3ZcIjogJHtkYXRhPy5Db250ZW50fWApWzBdIGFzIFRleHREaWN0aW9uYXJ5RW50cnkpPy5UZXh0ID8/IFwiXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUGxheSB0aGUgY2xpY2tzIGlmIG5lZWRlZFxuICAgICAgICAgICAgUGxheUNsaWNrZXJTb3VuZChjbGlja3MpO1xuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEhhbmQgY2xpY2tlciBhY3Rpdml0eSB0cmlnZ2VyXG4gICAgICAgIEhvb2tGdW5jdGlvbihNb2R1bGVUaXRsZS5DbGlja2VyLCBcIkNoYXRSb29tTWVzc2FnZVwiLCAwLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgbmV4dChhcmdzKTtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhcmdzWzBdO1xuICAgICAgICAgICAgLy8gRm9yIHNvbWUgcmVhc29uIF9hLmZpbmQgaXMgbm90IGRlZmluZWRcbiAgICAgICAgICAgIC8vIEkgZG9uJ3Qga25vdyB3aHksIG9yIHdoeSBub3RcbiAgICAgICAgICAgIC8vIEJ1ZyBpcyBTY2hyw7ZkaW5nZXIncyBidWcsIGl0IG9ubHkgZXhpc3RzIHdoZW4gSSBkb24ndCBvYnNlcnZlIGl0XG4gICAgICAgICAgICAvLyBMb2dnaW5nIHRoZSBkYXRhIG9iamVjdCBhbmQgdGhlIGJ1ZyB2YW5pc2hlcy4uLlxuICAgICAgICAgICAgLy8gRWRpdDogTWFkZSBmcmFtZXdvcmsgdG8gaGFuZGxlIGZpbmRpbmcgYXR0cmlidXRlcyBmcm9tIENoYXRNZXNzYWdlRGljdGlvbmFyeS4gTm8gaXNzdWVzLi4uLi4gc28gZmFyLi4uXG4gICAgICAgICAgICBjb25zdCBhY3Rpdml0eU5hbWUgPSBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJBY3Rpdml0eU5hbWVcIikgYXMgc3RyaW5nO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIFBsYXllckMoKS5lbmFibGVkXG4gICAgICAgICAgICAgICAgJiYgZGF0YS5UeXBlID09PSBcIkFjdGl2aXR5XCJcbiAgICAgICAgICAgICAgICAmJiBhY3Rpdml0eU5hbWU/LnN0YXJ0c1dpdGgoXCJNUEFfQ2xpY2tlclwiKVxuICAgICAgICAgICAgICAgICYmIElzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAoZGF0YS5TZW5kZXIhLCBQbGF5ZXJDKCkuYXV0aGVkR3JvdXAgYXMgQXV0aG9yaXR5R3JvdXAsIFBsYXllckMoKS5zZWxmQXV0aGVkIGFzIGJvb2xlYW4pXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgUGxheUNsaWNrZXJTb3VuZChOdW1iZXIoYWN0aXZpdHlOYW1lLnNsaWNlKC0xKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBIb29rIGludG8gQkNYIGxpc3RlbiB0byB2b2ljZSwgbWF5IG5vdCBiZSBsb2FkZWQgcmlnaHQgYXdheSwgd2FpdCAxNSBzZWNvbmRzXG4gICAgICAgIGlmICghdGhpcy5oYXNCZWVuTG9hZGVkKVxuICAgICAgICB7XG4gICAgICAgICAgICBIb29rQkNYQ2xpY2tlcigpO1xuICAgICAgICAgICAgY29uc3QgaW52ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChiY3hIb29rZWQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludmVydmFsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgSG9va0JDWENsaWNrZXIoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCA2MDAwMCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5oYXNCZWVuTG9hZGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBVbmxvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3VwZXIuVW5sb2FkKCk7XG4gICAgfVxufVxuIiwiLy8gTmV2ZXIgc2VuZCBQcml2YXRlIE1QQSBkYXRhIGFjcm9zcyB0aGUgc2VydmVyIGFuZCBuZXZlciBhY2NlcHQgUHJpdmF0ZSBNUEEgZGF0YVxuaW1wb3J0IHsgSG9va0Z1bmN0aW9uIH0gZnJvbSBcIi4uL3V0aWwvc2RrXCI7XG5pbXBvcnQgeyBNb2R1bGUsIE1vZHVsZUlzUHVibGljLCBNb2R1bGVUaXRsZSB9IGZyb20gXCIuL19tb2R1bGVcIjtcbmltcG9ydCB7IEZpbmRDaGFyYWN0ZXJJblJvb20sIEdldE1QQU1lc3NhZ2VGcm9tQ2hhdCwgSG9va2VkTWVzc2FnZSwgaG9va2VkTWVzc2FnZXMsIE1QQU1lc3NhZ2VDb250ZW50LCBTZW5kTVBBTWVzc2FnZSB9IGZyb20gXCIuLi91dGlsL21lc3NhZ2luZ1wiO1xuXG4vKipcbiAqIFN5bmMgYWxsIG9mIHlvdXIgY3VycmVudCBzZXR0aW5ncyB3aXRoIGV2ZXJ5b25lIGVsc2VcbiAqIEBwYXJhbSByZXBseSAtIElmIHdlIHdhbnQgb3RoZXJzIHRvIHNoYXJlIHRoZWlyIHNldHRpbmdzIGJhY2tcbiAqIEBwYXJhbSB0YXJnZXQgLSBTaGFyZSBvbmx5IHRvIHRoaXMgb25lIE1lbWJlck51bWJlclxuICovXG5leHBvcnQgZnVuY3Rpb24gU2V0dGluZ1N5bmMocmVwbHk6IGJvb2xlYW4gPSBmYWxzZSwgdGFyZ2V0PzogbnVtYmVyKTogdm9pZFxue1xuICAgIGNvbnN0IHNldHRpbmdzID0gc3RydWN0dXJlZENsb25lKFBsYXllci5NUEEpO1xuICAgIE9iamVjdC5rZXlzKHNldHRpbmdzKS5mb3JFYWNoKChtb2R1bGVUaXRsZSkgPT5cbiAgICB7XG4gICAgICAgIGlmICghTW9kdWxlSXNQdWJsaWMobW9kdWxlVGl0bGUgYXMgTW9kdWxlVGl0bGUpKVxuICAgICAgICB7XG4gICAgICAgICAgICBkZWxldGUgc2V0dGluZ3NbbW9kdWxlVGl0bGVdO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgU2VuZE1QQU1lc3NhZ2Uoe1xuICAgICAgICBtZXNzYWdlOiBcIlNldHRpbmdTeW5jXCIsXG4gICAgICAgIHNldHRpbmdzOiBzZXR0aW5ncyxcbiAgICAgICAgcmVwbHk6IHJlcGx5XG4gICAgfSwgdGFyZ2V0KTtcbn1cblxuLyoqXG4gKiBTeW5jIGFsbCBvZiB5b3VyIGN1cnJlbnQgc2V0dGluZ3Mgb2YgYSBnaXZlbiBjYXRlZ29yeSB3aXRoIG90aGVyc1xuICogQHBhcmFtIGNhdGVnb3J5IC0gV2hpY2ggTW9kdWxlVGl0bGUgY2F0ZWdvcnkgdG8gc2hhcmVcbiAqIEBwYXJhbSB0YXJnZXQgLSBTaGFyZSBvbmx5IHRvIHRoaXMgb25lIE1lbWJlck51bWJlclxuICovXG5leHBvcnQgZnVuY3Rpb24gQ2F0ZWdvcnlTeW5jKGNhdGVnb3J5OiBNb2R1bGVUaXRsZSwgdGFyZ2V0PzogbnVtYmVyKTogdm9pZFxue1xuICAgIGlmICghTW9kdWxlSXNQdWJsaWMoY2F0ZWdvcnkpKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBTZW5kTVBBTWVzc2FnZSh7XG4gICAgICAgIG1lc3NhZ2U6IFwiQ2F0ZWdvcnlTeW5jXCIsXG4gICAgICAgIGNhdGVnb3J5OiBjYXRlZ29yeSxcbiAgICAgICAgdmFsdWU6IFBsYXllci5NUEFbY2F0ZWdvcnldXG4gICAgfSwgdGFyZ2V0KTtcbn1cblxuLyoqXG4gKiBTeW5jIG9ubHkgYSBzaW5nbGUgcmVjb3JkIGZyb20gYSBnaXZlbiBjYXRlZ29yeSB3aXRoIG90aGVyc1xuICogQHBhcmFtIGNhdGVnb3J5IC0gV2hpY2ggTW9kdWxlVGl0bGUgY2F0ZWdvcnkgdG8gc2hhcmVcbiAqIEBwYXJhbSByZWNvcmQgLSBSZWNvcmQgd2l0aGluIE1vZHVsZVRpdGxlIHlvdSB3YW50IHRvIHNoYXJlXG4gKiBAcGFyYW0gdGFyZ2V0IC0gU2hhcmUgb25seSB0byB0aGlzIG9uZSBNZW1iZXJOdW1iZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFJlY29yZFN5bmMoY2F0ZWdvcnk6IE1vZHVsZVRpdGxlLCByZWNvcmQ6IHN0cmluZywgdGFyZ2V0PzogbnVtYmVyKTogdm9pZFxue1xuICAgIFJlY29yZHNTeW5jKFt7IGNhdGVnb3J5OiBjYXRlZ29yeSwgcmVjb3JkOiByZWNvcmQgfV0sIHRhcmdldCk7XG59XG5cbnR5cGUgVHJhbnNtaXRSZWNvcmRzID0geyBjYXRlZ29yeTogTW9kdWxlVGl0bGU7IHJlY29yZDogc3RyaW5nOyB2YWx1ZT86IGFueSB9W107XG4vKipcbiAqIFN5bmMgbXVsdGlwbGUgcmVjb3JkcyBmcm9tIGFueSBnaXZlbiBjYXRlZ29yeSB3aXRoIG90aGVyc1xuICogQHBhcmFtIHJlY29yZHMuY2F0ZWdvcnkgLSBXaGljaCBNb2R1bGVUaXRsZSBjYXRlZ29yeSB0byBzaGFyZVxuICogQHBhcmFtIHJlY29yZHMucmVjb3JkIC0gUmVjb3JkIHdpdGhpbiBNb2R1bGVUaXRsZSB5b3Ugd2FudCB0byBzaGFyZVxuICogQHBhcmFtIHRhcmdldCAtIFNoYXJlIG9ubHkgdG8gdGhpcyBvbmUgTWVtYmVyTnVtYmVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBSZWNvcmRzU3luYyhyZWNvcmRzOiBUcmFuc21pdFJlY29yZHMsIHRhcmdldD86IG51bWJlcik6IHZvaWRcbntcbiAgICBmb3IgKGxldCBpID0gcmVjb3Jkcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICB7XG4gICAgICAgIGNvbnN0IHJlY29yZCA9IHJlY29yZHNbaV07XG4gICAgICAgIGlmICghTW9kdWxlSXNQdWJsaWMocmVjb3JkLmNhdGVnb3J5KSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmVjb3Jkcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICByZWNvcmQudmFsdWUgPSBQbGF5ZXIuTVBBW3JlY29yZC5jYXRlZ29yeV1bcmVjb3JkLnJlY29yZF07XG4gICAgfVxuICAgIGlmIChyZWNvcmRzLmxlbmd0aCA9PT0gMClcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgU2VuZE1QQU1lc3NhZ2Uoe1xuICAgICAgICBtZXNzYWdlOiBcIlJlY29yZHNTeW5jXCIsXG4gICAgICAgIHJlY29yZHM6IHJlY29yZHNcbiAgICB9LCB0YXJnZXQpO1xufVxuXG5leHBvcnQgY2xhc3MgRGF0YVN5bmNNb2R1bGUgZXh0ZW5kcyBNb2R1bGVcbntcbiAgICBnZXQgVGl0bGUoKTogTW9kdWxlVGl0bGVcbiAgICB7XG4gICAgICAgIHJldHVybiBNb2R1bGVUaXRsZS5EYXRhU3luYztcbiAgICB9XG5cbiAgICBnZXQgU3luY0xpc3RlbmVycygpOiBIb29rZWRNZXNzYWdlW11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbW9kdWxlOiBNb2R1bGVUaXRsZS5EYXRhU3luYyxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlNldHRpbmdTeW5jXCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoc2VuZGVyOiBDaGFyYWN0ZXIsIGNvbnRlbnQ6IE1QQU1lc3NhZ2VDb250ZW50KTogdm9pZFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbmRlci5NZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXIpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzZW5kZXIuTVBBID0gY29udGVudC5zZXR0aW5ncztcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnQucmVwbHkpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFNldHRpbmdTeW5jKGZhbHNlLCBzZW5kZXIuTWVtYmVyTnVtYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBtb2R1bGU6IE1vZHVsZVRpdGxlLkRhdGFTeW5jLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQ2F0ZWdvcnlTeW5jXCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoc2VuZGVyOiBDaGFyYWN0ZXIsIGNvbnRlbnQ6IE1QQU1lc3NhZ2VDb250ZW50KTogdm9pZFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbmRlci5NZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXIpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIXNlbmRlci5NUEEpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFNldHRpbmdTeW5jKGZhbHNlLCBzZW5kZXIuTWVtYmVyTnVtYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRlci5NUEFbY29udGVudC5jYXRlZ29yeV0gPSBjb250ZW50LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIG1vZHVsZTogTW9kdWxlVGl0bGUuRGF0YVN5bmMsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogXCJSZWNvcmRzU3luY1wiLFxuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKHNlbmRlcjogQ2hhcmFjdGVyLCBjb250ZW50OiBNUEFNZXNzYWdlQ29udGVudCk6IHZvaWRcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZW5kZXIuTWVtYmVyTnVtYmVyID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCByZWNvcmQgb2YgY29udGVudC5yZWNvcmRzIGFzIFRyYW5zbWl0UmVjb3JkcylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzZW5kZXI/Lk1QQT8uW3JlY29yZC5jYXRlZ29yeV0pXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2F0ZWdvcnlTeW5jKGNvbnRlbnQuY2F0ZWdvcnksIHNlbmRlci5NZW1iZXJOdW1iZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRlci5NUEFbcmVjb3JkLmNhdGVnb3J5XVtyZWNvcmQucmVjb3JkXSA9IHJlY29yZC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBMb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLkxvYWQoKTtcblxuICAgICAgICAvLyBNUEEgbG9hZGVkIGluIGEgY2hhdHJvb20sIFN5bmMgd2l0aCBvdGhlcnMgaW4gdGhlIHJvb21cbiAgICAgICAgaWYgKENoYXRSb29tQ2hhcmFjdGVyLmxlbmd0aCAhPT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgU2V0dGluZ1N5bmModHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBXaGVuIGpvaW5pbmcgYSByb29tLCBzeW5jIE1QQSBzZXR0aW5ncyB3aXRoIGV2ZXJ5b25lIGVsc2VcbiAgICAgICAgSG9va0Z1bmN0aW9uKE1vZHVsZVRpdGxlLkRhdGFTeW5jLCBcIkNoYXRSb29tU3luY1wiLCAwLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgbmV4dChhcmdzKTtcbiAgICAgICAgICAgIFNldHRpbmdTeW5jKHRydWUpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBTeW5jIHJlcXVlc3QsIGhhbmRsZSBhbmQgcmVwbHkgaWYgbmVlZGVkXG4gICAgICAgIEhvb2tGdW5jdGlvbihNb2R1bGVUaXRsZS5EYXRhU3luYywgXCJDaGF0Um9vbU1lc3NhZ2VcIiwgMCwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhcmdzWzBdO1xuICAgICAgICAgICAgY29uc3QgY29udGVudCA9IEdldE1QQU1lc3NhZ2VGcm9tQ2hhdChkYXRhKTtcbiAgICAgICAgICAgIGlmICghY29udGVudClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHNlbmRlciA9IEZpbmRDaGFyYWN0ZXJJblJvb20oZGF0YS5TZW5kZXIgPz8gXCJcIiwgeyBNZW1iZXJOdW1iZXI6IHRydWUsIE5hbWU6IGZhbHNlLCBOaWNrTmFtZTogZmFsc2UgfSk7XG4gICAgICAgICAgICBpZiAoIXNlbmRlcilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSGFuZGxlIHRoZSBkYXRhIGxpc3RlbmVyc1xuICAgICAgICAgICAgaG9va2VkTWVzc2FnZXMuZm9yRWFjaCgoaG9vaykgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoY29udGVudC5tZXNzYWdlID09PSBob29rLm1lc3NhZ2UpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBob29rLmFjdGlvbihzZW5kZXIsIGNvbnRlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBVbmxvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3VwZXIuVW5sb2FkKCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgSG9va0Z1bmN0aW9uIH0gZnJvbSBcIi4uL3V0aWwvc2RrXCI7XG5pbXBvcnQgeyBNb2R1bGUsIE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4vX21vZHVsZVwiO1xuXG5leHBvcnQgbGV0IGRlYWZlblByb2Nlc3MgPSBmYWxzZTtcblxuZXhwb3J0IGNsYXNzIFByaXZhdGVNb2R1bGUgZXh0ZW5kcyBNb2R1bGVcbntcbiAgICBnZXQgVGl0bGUoKTogTW9kdWxlVGl0bGVcbiAgICB7XG4gICAgICAgIHJldHVybiBNb2R1bGVUaXRsZS5Qcml2YXRlO1xuICAgIH1cblxuICAgIGdldCBTZXR0aW5ncygpOiBTZXR0aW5nW11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJzYXZlZEJlZFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwicmVjb3JkXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiXCJcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNhdmVkQm93bFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwicmVjb3JkXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBMb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIC8vIEkgaGF0ZSB0aGF0IHRoaXMgaXMgdGhlIGJlc3Qgd2F5IEkgY291bGQgdGhpbmsgb2YgY2hlY2tpbmcgaWYgc3BlZWNoIGdhcmJsZSBpcyBnYWdnaW5nIG9yIGRlYWZlbmluZ1xuICAgICAgICAvLyBCRUNBVVNFIE9GIENPVVJTRSBUSEVZIEFSRSBUSEUgRVhBQ1QgU0FNRSBDQUxMXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIlNwZWVjaFRyYW5zZm9ybVByb2Nlc3NcIiwgMTAsIChbQywgdGV4dCwgZWZmZWN0cywgaWdub3JlT09DXSwgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgLy8gUmVtb3ZlIGRlYWZlbiBiZWZvcmUgaXQgaGFwcGVucyBidXQgcmVtZW1lYmVyIGlmIGl0IHdhcyB0aGVyZVxuICAgICAgICAgICAgbGV0IGhhZERlYWZlbiA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKGVmZmVjdHMuaW5jbHVkZXMoXCJkZWFmZW5cIikpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaGFkRGVhZmVuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBlZmZlY3RzID0gZWZmZWN0cy5maWx0ZXIoKGVmZmVjdCkgPT4gZWZmZWN0ICE9PSBcImRlYWZlblwiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTGV0IGFsbCBvdGhlciBzcGVlY2ggcHJvY2Vzc2luZyBoYXBwZW4sIGRlYWZlbiB3aWxsIG5vdFxuICAgICAgICAgICAgY29uc3Qgb3V0cHV0ID0gbmV4dChbQywgdGV4dCwgZWZmZWN0cywgaWdub3JlT09DXSk7XG5cbiAgICAgICAgICAgIC8vIE5vdyBkbyB0aGUgZGVhZmVuIGNoZWNrIHRoYXQgd2FzIG5vdCBkb25lIGJlZm9yZSB0byBhZGQgcGFyYW1ldGVyIHRvIHRyYWNrXG4gICAgICAgICAgICBpZiAoaGFkRGVhZmVuKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGludGVuc2l0eSA9IFNwZWVjaFRyYW5zZm9ybURlYWZlbkludGVuc2l0eShDKTtcbiAgICAgICAgICAgICAgICBpZiAoaW50ZW5zaXR5ID4gMClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRlYWZlblByb2Nlc3MgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBvdXRwdXQuZWZmZWN0cy5wdXNoKFwiZGVhZmVuXCIpO1xuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlIFBhdGNoaW5nIHRoaXMgZnVuY3Rpb24gdG8gYWRkIEMgZm9yIE1CU1xuICAgICAgICAgICAgICAgICAgICBvdXRwdXQudGV4dCA9IFNwZWVjaFRyYW5zZm9ybUdhZ0dhcmJsZSh0ZXh0LCBpbnRlbnNpdHksIGlnbm9yZU9PQywgQyk7XG4gICAgICAgICAgICAgICAgICAgIGRlYWZlblByb2Nlc3MgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgICAgICB9KTtcbiAgICAgICAgc3VwZXIuTG9hZCgpO1xuICAgIH1cblxuICAgIFVubG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5VbmxvYWQoKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBGaWx0ZXJBcnJheUZyb21BcnJheSB9IGZyb20gXCIuLi91dGlsL2dlbmVyYWxcIjtcbmltcG9ydCB7IGJjeEFQSSwgYmN4Rm91bmQsIEhvb2tGdW5jdGlvbiB9IGZyb20gXCIuLi91dGlsL3Nka1wiO1xuaW1wb3J0IHsgTW9kdWxlLCBNb2R1bGVUaXRsZSB9IGZyb20gXCIuL19tb2R1bGVcIjtcbmltcG9ydCB7IEVsZW1lbnROYW1lIH0gZnJvbSBcIi4vc2V0dGluZ3NcIjtcbmltcG9ydCB7IEFwcGx5UGV0SGVhcmluZywgRGlzcnVwdGl2ZVBldFNwZWVjaCwgTm9uRGlzcnVwdGl2ZVBldFNwZWVjaCB9IGZyb20gXCIuLi91dGlsL3BldEhlYXJBbmRTcGVha1wiO1xuaW1wb3J0IHsgSG9va2VkTWVzc2FnZSwgTVBBTWVzc2FnZUNvbnRlbnQsIFNlbmRNUEFNZXNzYWdlIH0gZnJvbSBcIi4uL3V0aWwvbWVzc2FnaW5nXCI7XG5pbXBvcnQgeyBSZWNvcmRzU3luYyB9IGZyb20gXCIuL2RhdGFTeW5jXCI7XG5pbXBvcnQgeyBJc01lbWJlck51bWJlckluQXV0aEdyb3VwIH0gZnJvbSBcIi4uL3V0aWwvYXV0aG9yaXR5XCI7XG5pbXBvcnQgeyBkZWFmZW5Qcm9jZXNzIH0gZnJvbSBcIi4vcHJpdmF0ZVwiO1xuXG5jb25zdCBQbGF5ZXJQOiAoQz86IENoYXJhY3RlcikgPT4gTVBBUmVjb3JkID0gKEM6IENoYXJhY3RlciA9IFBsYXllcikgPT5cbntcbiAgICByZXR1cm4gQy5NUEE/LltNb2R1bGVUaXRsZS5Qcm9maWxlXSA/PyB7fTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBJc0hhcmRjb3JlT24oQzogQ2hhcmFjdGVyKTogYm9vbGVhblxue1xuICAgIHJldHVybiAoQy5NUEE/LltNb2R1bGVUaXRsZS5Qcm9maWxlXS5oYXJkY29yZSBhcyBib29sZWFuIHwgdW5kZWZpbmVkKSA/PyBmYWxzZTtcbn07XG5cbmZ1bmN0aW9uIEdldFJlY29yZCh0aXRsZTogTW9kdWxlVGl0bGUsIEM6IENoYXJhY3RlciA9IFBsYXllcik6IE1QQVJlY29yZFxue1xuICAgIHJldHVybiBDLk1QQT8uW3RpdGxlXSA/PyB7fTtcbn1cblxuLy8gTWFrZSBzdXJlIG5vdCBpbiBCQ1ggYmFubmVkIHdvcmRzIC8gcGhyYXNlc1xuLy8gRG9uJ3QgYmxhbWUgbWUgZm9yIHRoZSBzZWxlY3Rpb24sIGhvdyBhcmUgeW91IHN1cHBvc2VkIHRvIHR5cGUgb3V0IHRoZXNlIGFuaW1hbCBzb3VuZHNcbi8vIEhhbGYgdGhpcyBjYW1lIGZyb20gY2hhdCBncHQgYW55d2F5LCBpZiB5b3UgZ290IHNvbWV0aGluZyBiZXR0ZXIsIGZlZWwgZnJlZSB0byBzdWdnZXN0IGl0XG5leHBvcnQgY29uc3QgR0FSQkxFX1BIUkFTRVMgPSBPYmplY3QuZnJlZXplKHtcbiAgICBIdW1hbjogW1wiaG1tZ21cIiwgXCJtbW1tXCIsIFwibWhobW1hYVwiLCBcImhtbW1cIl0sXG4gICAgQ3VzdG9tOiBbXCJcIl0sXG4gICAgQnVubnk6IFtcInBvblwiLCBcInB5b25cIiwgXCJlZXBcIiwgXCJodWZmXCIsIFwidGstdGtcIiwgXCJubmdoLW5uZ2hcIl0sXG4gICAgQ2F0OiBbXCJtZW93XCIsIFwibWV3XCIsIFwibnlhaFwiLCBcIm55YVwiLCBcInB1cnJcIiwgXCJtcnJvd1wiLCBcInBycnJcIl0sXG4gICAgQ293OiBbXCJtb29cIiwgXCJtb29vb29cIiwgXCJtdXVoaGhcIiwgXCJtb29vYWhcIl0sXG4gICAgRG9nOiBbXCJhcmZcIiwgXCJ3b29mXCIsIFwiYmFya1wiLCBcInJ1ZmZcIiwgXCJodWZmXCIsIFwiZWVwXCJdLFxuICAgIEZveDogW1wiY2hpcnBcIiwgXCJ5aXBcIiwgXCJ3b3ctd293XCIsIFwieW93d1wiLCBcImVlcFwiXSxcbiAgICBNb3VzZTogW1wic3F1ZWFrXCIsIFwiZWVla1wiLCBcInRjaC10Y2hcIiwgXCJ3aS1pLWlcIiwgXCJzc3NcIl0sXG4gICAgUG9ueTogW1wibmVpZ2hcIiwgXCJ3aGlubnlcIiwgXCJ3aGVlZVwiLCBcInNucnRcIiwgXCJ3aG9vb3NoXCIsIFwiaHVmZlwiLCBcIm5uaGhoLWtlclwiXSxcbiAgICBXb2xmOiBbXCJhd29vXCIsIFwiYWEtb29vXCIsIFwid29vZlwiLCBcInJ1ZmZcIiwgXCJhcmZcIiwgXCJ3aWlpcFwiLCBcImh1ZmZcIl1cbn0pO1xudHlwZSBQZXRTcGVha2luZ0tleXMgPSBrZXlvZiB0eXBlb2YgR0FSQkxFX1BIUkFTRVM7XG5cbi8qKlxuICogR2V0IHRoZSBwZXQgZ2FyYmxlIHBocmFzZXMgZm9yIHRoZSBzZWxlY3RlZCBwcm9maWxlXG4gKiBAcGFyYW0gcHJvZmlsZSAtIERlZmF1bHRzIHRvIFBsYXllcidzIHByb2ZpbGUgaWYgbm9uZSBwcm92aWRlZFxuICovXG5mdW5jdGlvbiBHZXRQZXRHYXJibGVQaHJhc2VzKHByb2ZpbGU6IFBldFNwZWFraW5nS2V5cyA9IFBsYXllclAoUGxheWVyKS50eXBlKTogc3RyaW5nW11cbntcbiAgICBpZiAocHJvZmlsZSBpbiBHQVJCTEVfUEhSQVNFUyAmJiBwcm9maWxlICE9PSBcIkN1c3RvbVwiKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIEdBUkJMRV9QSFJBU0VTW3Byb2ZpbGVdO1xuICAgIH1cbiAgICByZXR1cm4gKFBsYXllclAoUGxheWVyKS5nYXJibGVQaHJhc2VzIGFzIHN0cmluZykuc3BsaXQoXCIsXCIpLm1hcCgoc3RyKSA9PiBzdHIudHJpbSgpKTtcbn1cblxuLyoqXG4gKiBPbmx5IGluY2x1ZGUgcGV0IHNvdW5kcyB0aGF0IGFyZSBwZXJtaXR0ZWQgYnkgQkNYXG4gKiBAcGFyYW0gcHJvZmlsZSAtIERlZmF1bHRzIHRvIFBsYXllcidzIHByb2ZpbGVcbiAqIEByZXR1cm5zIFBocmFzZXMgQkNYIHdvbid0IGdldCBtYWQgYXRcbiAqL1xuZnVuY3Rpb24gR2V0QWxsb3dlZFBldEdhcmJsZVBocmFzZXMocHJvZmlsZTogUGV0U3BlYWtpbmdLZXlzID0gUGxheWVyUChQbGF5ZXIpLnR5cGUpOiBzdHJpbmdbXVxue1xuICAgIGNvbnN0IGJhbm5lZEJDWFdvcmRzID0gYmN4QVBJKCk/LmdldFJ1bGVTdGF0ZShcInNwZWVjaF9iYW5fd29yZHNcIik/LmN1c3RvbURhdGE/LmJhbm5lZFdvcmRzID8/IFtdO1xuICAgIGNvbnN0IHBldFBocmFzZXMgPSBiY3hGb3VuZCgpICYmIFBsYXllclAoUGxheWVyKS5iY3hTcGVha2luZyA/XG4gICAgICAgIGJjeEFQSSgpPy5nZXRSdWxlU3RhdGUoXCJzcGVlY2hfbWFuZGF0b3J5X3dvcmRzXCIpPy5jdXN0b21EYXRhPy5tYW5kYXRvcnlXb3JkcyA/PyBbXSA6XG4gICAgICAgIEdldFBldEdhcmJsZVBocmFzZXMocHJvZmlsZSk7XG4gICAgcmV0dXJuIChGaWx0ZXJBcnJheUZyb21BcnJheShwZXRQaHJhc2VzLCBiYW5uZWRCQ1hXb3JkcykgYXMgc3RyaW5nW10pXG4gICAgICAgIC5tYXAoKHBocmFzZSkgPT4gcGhyYXNlLnRvTG9jYWxlTG93ZXJDYXNlKCkudHJpbSgpKVxuICAgICAgICAuZmlsdGVyKChzdHIpID0+IHN0ci5sZW5ndGggIT0gMCk7XG59XG5cbmV4cG9ydCBjb25zdCBQRVRfSEVBUklORyA9IE9iamVjdC5mcmVlemUoe1xuICAgIEFsbDogW1wib3duZXJcIiwgXCJwZXRcIiwgXCJtYXN0ZXJcIiwgXCJtaXN0cmVzc1wiLCBcIm1pc3NcIiwgXCJzaXJcIiwgXCJwYXdcIiwgXCJzaXRcIiwgXCJjb21lXCIsIFwiZG93blwiLCBcInVwXCIsXG4gICAgICAgIFwic3RheVwiLCBcIndhdGVyXCIsIFwiZm9vZFwiLCBcImtpYmJsZVwiLCBcImVhdFwiLCBcInRyZWF0XCIsIFwiZHJpbmtcIiwgXCJ0b3lcIiwgXCJwbGF5XCIsIFwibGVhc2hcIiwgXCJ3YWxrXCIsXG4gICAgICAgIFwid2Fsa2llc1wiLCBcImJlZFwiLCBcInNsZWVwXCIsIFwiY3V0aWVcIiwgXCJhZG9yYWJsZVwiLCBcInRveVwiLCBcInBsYXlcIiwgXCJraWJibGVcIiwgXCJnb29kXCIsIFwiYmFkXCIsXG4gICAgICAgIFwibGFwXCIsIFwic3BlYWtcIiwgXCJodXNoXCIsIFwicXVpZXRcIiwgXCJodXNoXCIsIFwiYWxsIGZvdXJzXCIsIFwiYWxsLWZvdXJzXCJdLFxuICAgIEh1bWFuOiBbXSxcbiAgICBDdXN0b206IFtdLFxuICAgIEJ1bm55OiBbXCJidW5cIiwgXCJidW5ueVwiLCBcImNhcnJvdFwiLCBcImhvcFwiLCBcImp1bXBcIiwgXCJodW1wXCIsIFwiZWFyXCIsIFwiZWFyc1wiXSxcbiAgICBDYXQ6IFtcImNhdFwiLCBcImtpdHR5XCIsIFwia2l0dGVuXCIsIFwiY2F0bmlwXCIsIFwia25lYWRcIiwgXCJzY3JhdGNoXCIsIFwieWFyblwiLCBcIm1pbGtcIl0sXG4gICAgQ293OiBbXCJtaWxrXCIsIFwibWlsa2luZ1wiLCBcInV0dGVyXCIsIFwiYnJlYXN0XCIsIFwiZ3Jhc3NcIiwgXCJtb29cIl0sXG4gICAgRG9nOiBbXCJjYWdlXCIsIFwia2VubmVsXCIsIFwicHVwXCIsIFwicHVwcHlcIiwgXCJkb2dcIiwgXCJkb2dneVwiLCBcImJvbmVcIiwgXCJmZXRjaFwiLCBcImhlZWxcIiwgXCJyb2xsXCIsIFwib3ZlclwiLCBcImJhcmtcIl0sXG4gICAgRm94OiBbXCJ0cmFwXCIsIFwiYnVuXCIsIFwiYnVubnlcIiwgXCJib25lXCIsIFwiZm94XCIsIFwiZm94eVwiXSxcbiAgICBNb3VzZTogW1wibW91c2VcIiwgXCJlYXJcIiwgXCJlYXJzXCIsIFwidHJhcFwiLCBcIndpcmVcIiwgXCJ3aGVlbFwiLCBcImNoZWVzZVwiLCBcIm5pYmJsZVwiLCBcImNhdFwiLCBcImtpdHR5XCIsIFwia2l0dGVuXCJdLFxuICAgIFBvbnk6IFtcInBvbnlcIiwgXCJtYXJlXCIsIFwic3RhbGxpb25cIiwgXCJicmlkbGVcIiwgXCJob29mXCIsIFwiaG9vdmVzXCIsIFwidHJvdFwiLCBcInN0YWxsXCIsIFwiaGF5XCIsIFwid29haFwiLFxuICAgICAgICBcInN0b21wXCIsIFwiY2FsbVwiLCBcImVhc3lcIiwgXCJzbG93XCIsIFwiY2FydFwiLCBcImJheVwiLCBcInJ1blwiLCBcInJhY2VcIl0sXG4gICAgV29sZjogW1wiYm9uZVwiLCBcIndvbGZcIiwgXCJkb2dcIiwgXCJwdXBcIiwgXCJwdXBweVwiLCBcImhlZWxcIl1cbn0pO1xudHlwZSBQZXRIZWFyaW5nS2V5cyA9IGtleW9mIHR5cGVvZiBQRVRfSEVBUklORztcblxuLyoqXG4gKiBHZXR0aGUgcGV0IGhlYXJpbmcgcGhyYXNlcyBiYXNlZCBvbiB0aGUgc2VsZWN0ZWQgcHJvZmlsZVxuICogQHBhcmFtIHByb2ZpbGUgLSBEZWZhdWx0cyB0byBQbGF5ZXIncyBwcm9maWxlXG4gKi9cbmZ1bmN0aW9uIEdldFBldEhlYXJpbmdQaHJhc2VzKHByb2ZpbGU6IFBldEhlYXJpbmdLZXlzID0gUGxheWVyUChQbGF5ZXIpLnR5cGUpOiBzdHJpbmdbXVxue1xuICAgIGlmIChwcm9maWxlIGluIFBFVF9IRUFSSU5HKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFBFVF9IRUFSSU5HLkFsbC5jb25jYXQoUEVUX0hFQVJJTkdbcHJvZmlsZV0pO1xuICAgIH1cblxuICAgIHJldHVybiBQRVRfSEVBUklORy5BbGw7XG59XG5cbi8qKlxuICogQ2FsbGJhY2sgd2hlbiBwcm9maWxlIHR5cGUgaXMgc2V0XG4gKiBAcGFyYW0gQyAtIENoYXJhY3RlciB3aG8gd2UgYXJlIHNldHRpbmdcbiAqIEBwYXJhbSB2YWx1ZSAtIFdoYXQgdGhlIG5ldyB0eXBlIGlzXG4gKiBAcGFyYW0gcHJldlZhbHVlIC0gV2hhdCB0aGUgcHJldmlvdXMgdHlwZSB3YXNcbiAqL1xuZnVuY3Rpb24gU2V0UHJvZmlsZVR5cGUoQzogQ2hhcmFjdGVyLCB2YWx1ZTogc3RyaW5nLCBwcmV2VmFsdWU6IHN0cmluZylcbntcbiAgICBjb25zdCBlbGVJRCA9IEVsZW1lbnROYW1lKE1vZHVsZVRpdGxlLlByb2ZpbGUsIFwiZ2FyYmxlUGhyYXNlc1wiKTtcbiAgICBpZiAodmFsdWUgPT09IFwiQ3VzdG9tXCIpXG4gICAge1xuICAgICAgICBQbGF5ZXJQKEMpLmdhcmJsZVBocmFzZXMgPSBQbGF5ZXJQKEMpLmN1c3RvbUdhcmJsZVBocmFzZXMuam9pbihcIiwgXCIpO1xuICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlSUQpKVxuICAgICAgICB7XG4gICAgICAgICAgICBFbGVtZW50VmFsdWUoZWxlSUQsIFBsYXllclAoQykuZ2FyYmxlUGhyYXNlcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAocHJldlZhbHVlID09PSBcIkN1c3RvbVwiICYmIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZUlEKSlcbiAgICB7XG4gICAgICAgIFBsYXllclAoQykuY3VzdG9tR2FyYmxlUGhyYXNlcyA9IEVsZW1lbnRWYWx1ZShlbGVJRCkuc3BsaXQoXCIsXCIpLm1hcCgoeCkgPT4geC50cmltKCkpO1xuICAgIH1cbiAgICBQbGF5ZXJQKEMpLmdhcmJsZVBocmFzZXMgPSAoR0FSQkxFX1BIUkFTRVNbUGxheWVyUChDKS50eXBlXSBhcyBzdHJpbmdbXSkuam9pbihcIiwgXCIpO1xuXG4gICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZUlEKSlcbiAgICB7XG4gICAgICAgIEVsZW1lbnRWYWx1ZShlbGVJRCwgUGxheWVyUChDKS5nYXJibGVQaHJhc2VzKTtcbiAgICB9XG59XG5cbi8qKlxuICogU2V0IHByb2ZpbGUgYmN4IHNwZWFraW5nIGZvciB0aGUgbG9jYWwgcGxheWVyXG4gKi9cbmZ1bmN0aW9uIFNldEJDWFNwZWFrKClcbntcbiAgICBQbGF5ZXJQKCkuYmN4U3BlYWtpbmcgPSB0cnVlO1xuICAgIGNvbnN0IGVsZUlEID0gRWxlbWVudE5hbWUoTW9kdWxlVGl0bGUuUHJvZmlsZSwgXCJnYXJibGVQaHJhc2VzXCIpO1xuICAgIC8vIFNhdmUgcHJldmlvdXMgd29yZHMgaWYgbmVlZGVkXG4gICAgaWYgKFBsYXllclAoKS50eXBlID09PSBcIkN1c3RvbVwiICYmIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZUlEKSlcbiAgICB7XG4gICAgICAgIFBsYXllclAoKS5jdXN0b21HYXJibGVQaHJhc2VzID0gRWxlbWVudFZhbHVlKGVsZUlEKS5zcGxpdChcIixcIikubWFwKCh4KSA9PiB4LnRyaW0oKSk7XG4gICAgfVxuICAgIGNvbnN0IHdvcmRzID0gYmN4QVBJKCk/LmdldFJ1bGVTdGF0ZShcInNwZWVjaF9tYW5kYXRvcnlfd29yZHNcIik/LmN1c3RvbURhdGE/Lm1hbmRhdG9yeVdvcmRzID8/IFtdO1xuICAgIFBsYXllclAoKS5nYXJibGVQaHJhc2VzID0gd29yZHMuam9pbihcIiwgXCIpO1xuICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVJRCkpXG4gICAge1xuICAgICAgICBFbGVtZW50VmFsdWUoZWxlSUQsIFBsYXllclAoKS5nYXJibGVQaHJhc2VzKTtcbiAgICB9XG59XG5cbmNvbnN0IEdBR0dJTkdfU1RSRU5HVEhfTUFQID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgTG93OiAwLjAxNSxcbiAgICBNZWRpdW06IDAuMDUsXG4gICAgSGlnaDogMC4xLFxuICAgIE1heDogMVxufSk7XG5cbmV4cG9ydCBjbGFzcyBQcm9maWxlTW9kdWxlIGV4dGVuZHMgTW9kdWxlXG57XG4gICAgZ2V0IFRpdGxlKCk6IE1vZHVsZVRpdGxlXG4gICAge1xuICAgICAgICByZXR1cm4gTW9kdWxlVGl0bGUuUHJvZmlsZTtcbiAgICB9XG5cbiAgICBnZXQgU3luY0xpc3RlbmVycygpOiBIb29rZWRNZXNzYWdlW11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbW9kdWxlOiB0aGlzLlRpdGxlLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiQkNYU3BlYWtFbmFibGVSZXF1ZXN0XCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoc2VuZGVyOiBDaGFyYWN0ZXIsIF9jb250ZW50OiBNUEFNZXNzYWdlQ29udGVudCk6IHZvaWRcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBzZW5kZXIgaGFzIGF1dGhvcml0eSB0byBzZXQgdGhpcyBzZXR0aW5nXG4gICAgICAgICAgICAgICAgICAgIGlmICghSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cChzZW5kZXIuTWVtYmVyTnVtYmVyID8/IC0xLCBQbGF5ZXIuTVBBPy5bTW9kdWxlVGl0bGUuQXV0aG9yaXR5XVtgb3RoZXJzJHtNb2R1bGVUaXRsZS5Qcm9maWxlfWBdKSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGAke3NlbmRlci5OaWNrbmFtZSB8fCBzZW5kZXIuTmFtZX1bJHtzZW5kZXIuTWVtYmVyTnVtYmVyfV0gdHJpZWQgdG8gaWxsZWdpYWxseSBzZXQgeW91ciBiY3ggc3BlYWsgdG8gYmUgZW5hYmxlZGApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gU2V0IHRoZSByZWNvcmQgYnkgdGhlIHBlcnNvbiB3aG8gaXMgaGF2aW5nIHRoZWlyIHNldHRpbmdzIGNoYW5nZWRcbiAgICAgICAgICAgICAgICAgICAgLy8gQkNYIG1hbmRhdG9yeSB3b3JkcyBvbmx5IHZpZXdhYmxlIGJ5IHRoZSBwbGF5ZXIgbG9jYWxseVxuICAgICAgICAgICAgICAgICAgICBTZXRCQ1hTcGVhaygpO1xuICAgICAgICAgICAgICAgICAgICBSZWNvcmRzU3luYyhbXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGNhdGVnb3J5OiBNb2R1bGVUaXRsZS5Qcm9maWxlLCByZWNvcmQ6IFwiZ2FyYmxlUGhyYXNlc1wiIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7IGNhdGVnb3J5OiBNb2R1bGVUaXRsZS5Qcm9maWxlLCByZWNvcmQ6IFwiYmN4U3BlYWtpbmdcIiB9XG4gICAgICAgICAgICAgICAgICAgIF0sIHNlbmRlci5NZW1iZXJOdW1iZXIpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEFmdGVyIHVwZGF0aW5nIGFuZCBzZW5kaW5nIHRoZSBuZXcgcmVjb3Jkcywgbm90aWZ5IHNlbmRlciBmb3IgYWNrbm93bGVkZ2VtZW50IHRvIHVwZGF0ZSB0aGVpciBkaXNwbGF5XG4gICAgICAgICAgICAgICAgICAgIFNlbmRNUEFNZXNzYWdlKHsgbWVzc2FnZTogXCJCQ1hTcGVha0VuYWJsZVJlcGx5XCIgfSwgc2VuZGVyLk1lbWJlck51bWJlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIG1vZHVsZTogdGhpcy5UaXRsZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkJDWFNwZWFrRW5hYmxlUmVwbHlcIixcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uIChzZW5kZXI6IENoYXJhY3RlciwgX2NvbnRlbnQ6IE1QQU1lc3NhZ2VDb250ZW50KTogdm9pZFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgZ290IGEgcG9zdGl2ZSByZXNwb25zZSBmcm9tIHRoZSByZXF1ZXN0LCBjaGFuZ2UgbWFkZSwgYnV0IHdlIG5lZWQgdG8gc2VlIGl0IG9uIG91ciBzaWRlIG5vd1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbGVJRCA9IEVsZW1lbnROYW1lKE1vZHVsZVRpdGxlLlByb2ZpbGUsIFwiZ2FyYmxlUGhyYXNlc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZUlEKSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgRWxlbWVudFZhbHVlKGVsZUlELCBQbGF5ZXJQKHNlbmRlcikuZ2FyYmxlUGhyYXNlcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgZ2V0IFNldHRpbmdzKCk6IFNldHRpbmdbXVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInR5cGVcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm9wdGlvblwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBPYmplY3Qua2V5cyhHQVJCTEVfUEhSQVNFUyksXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiSHVtYW5cIixcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJVc2UgYSBwcmVzZXQgcHJvZmlsZSBvciBtYWtlIHlvdXIgb3duXCIsXG4gICAgICAgICAgICAgICAgbG9vcDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBvblNldDogKEMsIHZhbHVlLCBwcmV2VmFsdWUpID0+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoUGxheWVyUChDKS5iY3hTcGVha2luZylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIFNldFByb2ZpbGVUeXBlKEMsIHZhbHVlLCBwcmV2VmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gYXMgT3B0aW9uU2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwicGV0SGVhcmluZ1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIldoaWxlIGRlYWZlbmVkIGNlcnRhaW4gcGV0IGtleXdvcmRzIGNhbiBiZSBwaWNrZWQgdXBcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImdhcmJsZVBocmFzZXNcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiBQbGF5ZXJQKEMpLnR5cGUgPT09IFwiQ3VzdG9tXCIgJiYgIShQbGF5ZXJQKEMpLnBldFNwZWFraW5nICYmIGJjeEZvdW5kKCkgJiYgUGxheWVyUChDKS5iY3hTcGVha2luZyksXG4gICAgICAgICAgICAgICAgdmFsdWU6IEdBUkJMRV9QSFJBU0VTLkh1bWFuLmpvaW4oKSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJQZXQgc291bmRzIHlvdSBtYWtlXCIsXG4gICAgICAgICAgICAgICAgbWF4Q2hhcnM6IDEwMjQsXG4gICAgICAgICAgICAgICAgd2lkdGg6IDEwMjRcbiAgICAgICAgICAgIH0gYXMgVGV4dFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImN1c3RvbUdhcmJsZVBocmFzZXNcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcInJlY29yZFwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBbXVxuICAgICAgICAgICAgfSBhcyBTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJwZXRTcGVha2luZ1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwib3B0aW9uXCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IFtcIk9mZlwiLCBcIkxvd1wiLCBcIk1lZGl1bVwiLCBcIkhpZ2hcIiwgXCJNYXhcIl0sXG4gICAgICAgICAgICAgICAgbG9vcDogZmFsc2UsXG4gICAgICAgICAgICAgICAgdmFsdWU6IFwiT2ZmXCIsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQXV0b21hdGljYWxseSBtYWtlIHRoZSBhYm92ZSBwZXQgc291bmRzIHdoaWxlIHRhbGtpbmdcIlxuICAgICAgICAgICAgfSBhcyBPcHRpb25TZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJiY3hTcGVha2luZ1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiBQbGF5ZXJQKEMpLnBldFNwZWFraW5nICYmIGJjeEZvdW5kKCksXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIlVzZSBCQ1ggbWFuZGF0b3J5IHdvcmRzIGluc3RlYWQgb2YgdGhlIHBldCBzb3VuZHMgYWJvdmVcIixcbiAgICAgICAgICAgICAgICBvblNldDogKEMsIHZhbHVlKSA9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF2YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgU2V0UHJvZmlsZVR5cGUoQywgUGxheWVyUChDKS50eXBlLCBcIlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoQy5Jc1BsYXllcigpKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdGhlIG1hbmRhdG9yeSB3b3JkcyBmb3IgeW91cnNlbGYgc2luY2UgaGF2ZSBsb2NhbCBiY3ggYWNjZXNzXG4gICAgICAgICAgICAgICAgICAgICAgICBTZXRCQ1hTcGVhaygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZWxlSUQgPSBFbGVtZW50TmFtZShNb2R1bGVUaXRsZS5Qcm9maWxlLCBcImdhcmJsZVBocmFzZXNcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTYXZlIGFueSBjdXN0b20gd29yZCBjaGFuZ2VzXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoUGxheWVyUChDKS50eXBlID09PSBcIkN1c3RvbVwiICYmIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZUlEKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQbGF5ZXJQKEMpLmN1c3RvbUdhcmJsZVBocmFzZXMgPSBFbGVtZW50VmFsdWUoZWxlSUQpLnNwbGl0KFwiLFwiKS5tYXAoKHgpID0+IHgudHJpbSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVxdWVzdCB0aGUgbWFuZGF0b3J5IHdvcmRzIGZyb20gdGhlIG90aGVyIHBlcnNvblxuICAgICAgICAgICAgICAgICAgICAgICAgU2VuZE1QQU1lc3NhZ2UoeyBtZXNzYWdlOiBcIkJDWFNwZWFrRW5hYmxlUmVxdWVzdFwiIH0sIEMuTWVtYmVyTnVtYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJoYXJkY29yZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+IHRydWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkVuYWJsZSBoYXJkY29yZSBtb2RlOyBXaWxsIHNldCBjZXJ0YWluIHNldHRpbmdzIGFuZCBwcmV2ZW50IGNoYW5naW5nIHRoZW0gYmFja1wiLFxuICAgICAgICAgICAgICAgIG9uU2V0KEMsIHZhbHVlKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09IGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgR2V0UmVjb3JkKE1vZHVsZVRpdGxlLkNsaWNrZXIsIEMpLmVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBHZXRSZWNvcmQoTW9kdWxlVGl0bGUuQ2xpY2tlciwgQykuYmN4Vm9pY2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBHZXRSZWNvcmQoTW9kdWxlVGl0bGUuVmlydHVhbFBldCwgQykuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIEdldFJlY29yZChNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0LCBDKS5ub0hhbmRzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIEdldFJlY29yZChNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9ucywgQykuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIEdldFJlY29yZChNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9ucywgQykuZm9vZE5PVyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIEdldFJlY29yZChNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9ucywgQykudGludCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIEdldFJlY29yZChNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9ucywgQykucGFzc291dCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIEdldFJlY29yZChNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9ucywgQykuYWZmZWN0aW9uU2tpbGxCdWZmcyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBHZXRSZWNvcmQoTW9kdWxlVGl0bGUuVmlydHVhbFBldENvbmRpdGlvbnMsIEMpLmFmZmVjdGlvblNraWxsRGVidWZmcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIEdldFJlY29yZChNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9ucywgQykuaGVhcmluZ0xvc3MgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBHZXRSZWNvcmQoTW9kdWxlVGl0bGUuVmlydHVhbFBldENvbmRpdGlvbnMsIEMpLnNsb3dMZWF2ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIEdldFJlY29yZChNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9ucywgQykub3JnYXNtV2F0ZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBHZXRSZWNvcmQoTW9kdWxlVGl0bGUuVmlydHVhbFBldENvbmRpdGlvbnMsIEMpLm9yZ2FzbVNsZWVwID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwicGV0R2FnZ2luZ1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwib3B0aW9uXCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiB0cnVlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBcIk9mZlwiLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IFtcIk9mZlwiLCBcIkZpcnN0XCIsIFwiTGFzdFwiLCBcIlJlcGxhY2VcIl0sXG4gICAgICAgICAgICAgICAgbG9vcDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJQZXQgZ2FnZ2luZyBtb2RlXCJcbiAgICAgICAgICAgIH0gYXMgT3B0aW9uU2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwicGV0R2FnZ2luZ1N0cmVuZ3RoXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJvcHRpb25cIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJNZWRpdW1cIixcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBbXCJMb3dcIiwgXCJNZWRpdW1cIiwgXCJIaWdoXCIsIFwiTWF4XCJdLFxuICAgICAgICAgICAgICAgIGxvb3A6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIlBldCBnYWdnaW5nIHN0cmVuZ3RoXCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gUGxheWVyUChDKS5wZXRHYWdnaW5nICE9PSBcIk9mZlwiXG4gICAgICAgICAgICB9IGFzIE9wdGlvblNldHRpbmdcbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBMb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLkxvYWQoKTtcbiAgICAgICAgU3BlZWNoVHJhbnNmb3JtQWxsRWZmZWN0cy5wdXNoKFwicGV0U3BlYWtcIiBhcyBTcGVlY2hUcmFuc2Zvcm1OYW1lKTtcblxuICAgICAgICAvLyBQZXQgaGVhcmluZ1xuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJTcGVlY2hUcmFuc2Zvcm1HYWdHYXJibGVcIiwgNSwgKFt0ZXh0LCBpbnRlbnNpdHksIGlnbm9yZU9PQywgLi4uYXJnc10sIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIE1CUyBhZGRzIENoYXJhY3RlciBwYXJhbWV0ZXIgdG8gdGhpcywgY2FuIHVzZSBhcyBhbiBleHRyYSBjaGVjayBmb3Igd2hlbiB0byBhcHBseVxuICAgICAgICAgICAgY29uc3QgQyA9IChhcmdzIGFzIFtDPzogQ2hhcmFjdGVyLCAuLi5hcmdzOiB1bmtub3duW11dKVswXTtcblxuICAgICAgICAgICAgLy8gQXJlIHdlIGdhZ2dpbmcgb3IgZGVhZmVuaW5nP1xuICAgICAgICAgICAgLy8gTm90IGRlYWZlbmluZyBzbyBza2lwXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgQz8uSXNHYWdnZWQoKVxuICAgICAgICAgICAgICAgIHx8ICFQbGF5ZXIuSXNEZWFmKClcbiAgICAgICAgICAgICAgICB8fCBQbGF5ZXJQKCkucGV0SGVhcmluZyA9PT0gZmFsc2VcbiAgICAgICAgICAgICAgICB8fCAhdGV4dFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KFt0ZXh0LCBpbnRlbnNpdHksIGlnbm9yZU9PQ10pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIEFwcGx5UGV0SGVhcmluZyhbdGV4dCwgaW50ZW5zaXR5LCBpZ25vcmVPT0NdLCBuZXh0LCBHZXRQZXRIZWFyaW5nUGhyYXNlcygpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gSW5zZXJ0IHBldCBzb3VuZHMgb24gaW5wdXQgZm9yIEJDWCBzdXBwb3J0XG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIkNvbW1hbmRQYXJzZVwiLCA4LCAoW21zZ10sIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIFNraXAgY29tbWFuZHNcbiAgICAgICAgICAgIC8vIFNraXAgaWYgbm90IGF0dGVtcHRpbmcgdG8gYXBwbHkgcGV0IHNwZWVjaFxuICAgICAgICAgICAgbXNnID0gbXNnLnRyaW0oKTtcbiAgICAgICAgICAgIGlmIChbQ29tbWFuZHNLZXksIFwiKlwiLCBcIkBcIl0uaW5jbHVkZXMobXNnLmNoYXJBdCgwKSkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoW21zZ10pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBzcGVhazogXCJPZmZcIiB8IFwiTG93XCIgfCBcIk1lZGl1bVwiIHwgXCJIaWdoXCIgfCBcIk1heFwiID0gUGxheWVyUChQbGF5ZXIpLnBldFNwZWFraW5nO1xuICAgICAgICAgICAgcmV0dXJuIG5leHQoW05vbkRpc3J1cHRpdmVQZXRTcGVlY2gobXNnLCBHZXRBbGxvd2VkUGV0R2FyYmxlUGhyYXNlcygpLCBzcGVhayldKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gUGV0IGdhZ2dpbmdcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiU3BlZWNoVHJhbnNmb3JtR2FnR2FyYmxlXCIsIDUsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBwZXRHYWdnaW5nT3B0aW9uID0gUGxheWVyUChQbGF5ZXIpLnBldEdhZ2dpbmc7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgIWRlYWZlblByb2Nlc3NcbiAgICAgICAgICAgICAgICAmJiBwZXRHYWdnaW5nT3B0aW9uICE9PSBcIk9mZlwiXG4gICAgICAgICAgICAgICAgJiYgQ2hhdFJvb21DaGFyYWN0ZXIubGVuZ3RoICE9PSAwXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGhyYXNlcyA9IEdldEFsbG93ZWRQZXRHYXJibGVQaHJhc2VzKCk7XG4gICAgICAgICAgICAgICAgaWYgKHBocmFzZXMubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RyZW5ndGggPSAoR0FHR0lOR19TVFJFTkdUSF9NQVBbUGxheWVyUChQbGF5ZXIpLnBldEdhZ2dpbmdTdHJlbmd0aF0gPz8gMC4wNSkgKiBhcmdzWzFdO1xuXG4gICAgICAgICAgICAgICAgc3dpdGNoIChQbGF5ZXJQKFBsYXllcikucGV0R2FnZ2luZylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJGaXJzdFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgYXJnc1swXSA9IERpc3J1cHRpdmVQZXRTcGVlY2goYXJnc1swXSwgcGhyYXNlcywgc3RyZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkxhc3RcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBEaXNydXB0aXZlUGV0U3BlZWNoKG5leHQoYXJncyksIHBocmFzZXMsIHN0cmVuZ3RoKTtcblxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiUmVwbGFjZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERpc3J1cHRpdmVQZXRTcGVlY2goYXJnc1swXSwgcGhyYXNlcywgc3RyZW5ndGgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIFVubG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBzdXBlci5VbmxvYWQoKTtcblxuICAgICAgICBTcGVlY2hUcmFuc2Zvcm1BbGxFZmZlY3RzID0gU3BlZWNoVHJhbnNmb3JtQWxsRWZmZWN0cy5maWx0ZXIoKHRyYW5zZm9ybSkgPT4gdHJhbnNmb3JtIGFzIFNwZWVjaFRyYW5zZm9ybU5hbWUgfCBcInBldFNwZWFrXCIgIT09IFwicGV0U3BlYWtcIik7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgTG9jYWxpemVkVGV4dCB9IGZyb20gXCIuLi9sb2NhbGl6YXRpb24vbG9jYWxpemF0aW9uXCI7XG5pbXBvcnQgeyBFeHBvcnRTZXR0aW5nc1RvQ2xpcGJvYXJkLCBJbXBvcnRTZXR0aW5nc0Zyb21DbGlwYm9hcmQsIFJlc2V0U3RvcmFnZSwgU2F2ZVN0b3JhZ2UgfSBmcm9tIFwiLi4vdXRpbC9zdG9yYWdlXCI7XG5pbXBvcnQgeyBJQ09OUyB9IGZyb20gXCIuLi91dGlsL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgSXNEaXNwbGF5U2V0dGluZywgSXNPcHRpb25TZXR0aW5nLCBJc0NoZWNrYm94U2V0dGluZywgSXNUZXh0U2V0dGluZywgSXNOdW1iZXJTZXR0aW5nIH0gZnJvbSBcIi4uL3V0aWwvc2V0dGluZ1R5cGVzXCI7XG5pbXBvcnQgeyBzZXR0aW5ncyBhcyBkZWZhdWx0U2V0dGluZ3MgfSBmcm9tIFwiLi4vdXRpbC9yZWdpc3Rlck1vZHVsZXNcIjtcbmltcG9ydCB7IEFVVEhPUklUWV9HUk9VUF9PUFRJT05TLCBBdXRob3JpdHlHcm91cCwgQXV0aG9yaXR5SXNDb21wYXJpc29uVG9DaGFyYWN0ZXIsIElzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAgfSBmcm9tIFwiLi4vdXRpbC9hdXRob3JpdHlcIjtcbmltcG9ydCB7IFNlbmRNUEFNZXNzYWdlIH0gZnJvbSBcIi4uL3V0aWwvbWVzc2FnaW5nXCI7XG5pbXBvcnQgeyBNb2R1bGUsIE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4vX21vZHVsZVwiO1xuaW1wb3J0IHsgTGV2ZWxTeW5jIH0gZnJvbSBcIi4vdmlydHVhbFBldFwiO1xuXG5sZXQgc2V0dGluZ3NFZGl0ZWQgPSBmYWxzZTtcbmxldCBzZXR0aW5nQ2hhcjogUGxheWVyQ2hhcmFjdGVyIHwgbnVsbCA9IG51bGw7XG5leHBvcnQgZnVuY3Rpb24gU2V0U2V0dGluZ0NoYXIoY2hhcmFjdGVyOiBQbGF5ZXJDaGFyYWN0ZXIpOiB2b2lkXG57XG4gICAgc2V0dGluZ3NFZGl0ZWQgPSBmYWxzZTtcbiAgICBzZXR0aW5nQ2hhciA9IGNoYXJhY3Rlcjtcbn1cblxuLy8gU2l6ZSBvZiB0aGUgY2FudmFzIGluIGdhbWVcbmNvbnN0IENBTlZBU19XSURUSCA9IDIwMDA7XG5jb25zdCBfQ0FOVkFTX0hFSUdIVCA9IDEwMDA7XG5cbi8vIEV4aXQgYnV0dG9uIHBvc2lzdGlvbiBvbiBjYW52YXNcbmNvbnN0IEVYSVRfUE9TSVNUSU9OID0gWzE4MTUsIDc1LCA5MCwgOTBdIGFzIGNvbnN0O1xuXG4vLyBNZW51IGxheW91dCB2YWx1ZXNcbmNvbnN0IEJVVFRPTl9NQVhfTlVNQkVSID0gNztcbmNvbnN0IEJVVFRPTl9XSURUSCA9IDQwMDtcbmNvbnN0IEJVVFRPTl9IRUlHSFQgPSA5MDtcbmNvbnN0IEJVVFRPTl9UT1AgPSAxNjA7XG5jb25zdCBCVVRUT05fTEVGVCA9IDUwMDtcbmNvbnN0IEJVVFRPTl9HQVAgPSAyMDtcbmNvbnN0IEJVVFRPTl9URVhUX1BBRERJTkcgPSAyMDtcblxuLy8gUGxheWVyIG9ubHkgYnV0dG9uc1xuY29uc3QgV0lLSV9QT1NJVElPTiA9IFsxMDAsIDUxMCwgMzUwLCA3NV0gYXMgY29uc3Q7XG5jb25zdCBXSUtJX0xJTksgPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9NYXlhVGhlRm94eS9NUEEvd2lraVwiO1xuY29uc3QgRElTQ09SRF9JTlZJVEUgPSBcImh0dHBzOi8vZGlzY29yZC5nZy85R0h3bUhFTUFTXCI7XG5jb25zdCBESVNDT1JEX1BPU0lUSU9OID0gW1xuICAgIFdJS0lfUE9TSVRJT05bMF0sXG4gICAgV0lLSV9QT1NJVElPTlsxXSArIFdJS0lfUE9TSVRJT05bM10gKyBCVVRUT05fR0FQLFxuICAgIFdJS0lfUE9TSVRJT05bMl0sXG4gICAgV0lLSV9QT1NJVElPTlszXVxuXSBhcyBjb25zdDtcbmNvbnN0IFJFU0VUX1BPU0lUSU9OID0gW1xuICAgIERJU0NPUkRfUE9TSVRJT05bMF0sXG4gICAgRElTQ09SRF9QT1NJVElPTlsxXSArIERJU0NPUkRfUE9TSVRJT05bM10gKyBCVVRUT05fR0FQLFxuICAgIERJU0NPUkRfUE9TSVRJT05bMl0sXG4gICAgRElTQ09SRF9QT1NJVElPTlszXVxuXSBhcyBjb25zdDtcbmNvbnN0IEFMRVJUX1BPU0lUSU9OID0gW1xuICAgIFJFU0VUX1BPU0lUSU9OWzBdLFxuICAgIFJFU0VUX1BPU0lUSU9OWzFdIC0gUkVTRVRfUE9TSVRJT05bM10sXG4gICAgUkVTRVRfUE9TSVRJT05bMl1cbl0gYXMgY29uc3Q7XG5sZXQgc2hvd1NldHRpbmdzQWxlcnQ6IG51bWJlciA9IDA7XG5sZXQgc2V0dGluZ3NBbGVydFRleHQ6IHN0cmluZyA9IFwiXCI7XG5jb25zdCBJTVBPUlRfUE9TSVRJT04gPSBbXG4gICAgUkVTRVRfUE9TSVRJT05bMF0sXG4gICAgUkVTRVRfUE9TSVRJT05bMV0gKyBSRVNFVF9QT1NJVElPTlszXSArIEJVVFRPTl9HQVAsXG4gICAgKFJFU0VUX1BPU0lUSU9OWzJdIC0gQlVUVE9OX0dBUCkgLyAyLFxuICAgIFJFU0VUX1BPU0lUSU9OWzNdXG5dIGFzIGNvbnN0O1xuY29uc3QgRVhQT1JUX1BPU0lUSU9OID0gW1xuICAgIFJFU0VUX1BPU0lUSU9OWzBdICsgKChSRVNFVF9QT1NJVElPTlsyXSArIEJVVFRPTl9HQVApIC8gMiksXG4gICAgUkVTRVRfUE9TSVRJT05bMV0gKyBSRVNFVF9QT1NJVElPTlszXSArIEJVVFRPTl9HQVAsXG4gICAgKFJFU0VUX1BPU0lUSU9OWzJdIC0gQlVUVE9OX0dBUCkgLyAyLFxuICAgIFJFU0VUX1BPU0lUSU9OWzNdXG5dIGFzIGNvbnN0O1xuY29uc3QgUkVTRVRfQ09ORklSTV9QT1NJVElPTiA9IFszMDAsIDcwMCwgMjUwLCA5MF0gYXMgY29uc3Q7XG5jb25zdCBSRVNFVF9DQU5DRUxfUE9TSVRJT04gPSBbMTQ1MCwgNzAwLCAyNTAsIDkwXSBhcyBjb25zdDtcbmNvbnN0IFZFUlNJT05fVEVYVCA9IFtcbiAgICBXSUtJX1BPU0lUSU9OWzJdIC8gMiArIFdJS0lfUE9TSVRJT05bMF0sXG4gICAgV0lLSV9QT1NJVElPTlsxXSAtIChCVVRUT05fR0FQICogMiksXG4gICAgV0lLSV9QT1NJVElPTlsyXVxuXSBhcyBjb25zdDtcblxuLy8gQ2FuIGFkZCBvciByZW1vdmUgbW9kdWxlcyBkZXBlbmRpbmcgb24gaWYgd2FudGluZyB0byBkaXNwbGF5IHRoZW0gb3Igbm90XG4vLyBPcmRlciBnaXZlbiBpcyB0aGUgb3JkZXIgZGlzcGxheWVkXG5mdW5jdGlvbiBNRU5VX0NBVEVHT1JJRVMoKTogTW9kdWxlVGl0bGVbXVxue1xuICAgIGlmICghc2V0dGluZ0NoYXIpXG4gICAge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIC8vIERpc3BsYXkgc2V0dGluZ3MgaWYgeW91IGFyZSB0aGUgUGxheWVyXG4gICAgaWYgKHNldHRpbmdDaGFyLklzUGxheWVyKCkpXG4gICAge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgTW9kdWxlVGl0bGUuQXV0aG9yaXR5LFxuICAgICAgICAgICAgTW9kdWxlVGl0bGUuUHJvZmlsZSxcbiAgICAgICAgICAgIE1vZHVsZVRpdGxlLkNsaWNrZXIsXG4gICAgICAgICAgICBNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0LFxuICAgICAgICAgICAgTW9kdWxlVGl0bGUuVmlydHVhbFBldEhVRCxcbiAgICAgICAgICAgIE1vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zXG4gICAgICAgIF07XG4gICAgfVxuICAgIC8vIERpc3BsYXkgc2V0dGluZ3MgaWYgeW91IGFyZSBhbiBhbm90aGVyIHBsYXllclxuICAgIHJldHVybiBbXG4gICAgICAgIE1vZHVsZVRpdGxlLkF1dGhvcml0eSxcbiAgICAgICAgTW9kdWxlVGl0bGUuUHJvZmlsZSxcbiAgICAgICAgTW9kdWxlVGl0bGUuQ2xpY2tlcixcbiAgICAgICAgTW9kdWxlVGl0bGUuVmlydHVhbFBldCxcbiAgICAgICAgTW9kdWxlVGl0bGUuVmlydHVhbFBldENvbmRpdGlvbnNcbiAgICBdO1xufVxuXG5leHBvcnQgY29uc3QgTUVOVV9USVRMRVM6IFBhcnRpYWw8UmVjb3JkPE1vZHVsZVRpdGxlLCBzdHJpbmc+PiA9XG57XG4gICAgW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdOiBcIlZpcnR1YWwgUGV0XCIsXG4gICAgW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRIVURdOiBcIlZpcnR1YWwgUGV0IEh1ZFwiLFxuICAgIFtNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9uc106IFwiVmlydHVhbCBQZXQgQ29uZGl0aW9uc1wiXG59O1xuXG5leHBvcnQgbGV0IGN1cnJlbnRNZW51OiBNb2R1bGVUaXRsZSB8IG51bGwgfCBcIlJFU0VUX1NldHRpbmdzXCIgPSBudWxsO1xubGV0IHNldHRpbmdzT3BlbjogYm9vbGVhbiA9IGZhbHNlO1xubGV0IGFsbG93UmVzZXRUaW1lOiBudW1iZXIgPSAwO1xuXG5EcmF3QnV0dG9uKDE1MjAsIDcyMCwgMjAwLCA4MCwgXCJDYW5jZWxcIiwgXCJXaGl0ZVwiKTtcblxuZnVuY3Rpb24gRHJhd01lbnVPcHRpb25zKG1lbnVPcHRpb25zOiBzdHJpbmdbXSk6IHZvaWRcbntcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1lbnVPcHRpb25zLmxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgICAgRHJhd0J1dHRvbihcbiAgICAgICAgICAgIEJVVFRPTl9MRUZUICsgKEJVVFRPTl9XSURUSCArIEJVVFRPTl9HQVApICogTWF0aC5mbG9vcihpIC8gQlVUVE9OX01BWF9OVU1CRVIpLFxuICAgICAgICAgICAgQlVUVE9OX1RPUCArIChCVVRUT05fSEVJR0hUICsgQlVUVE9OX0dBUCkgKiAoaSAlIEJVVFRPTl9NQVhfTlVNQkVSKSxcbiAgICAgICAgICAgIEJVVFRPTl9XSURUSCxcbiAgICAgICAgICAgIEJVVFRPTl9IRUlHSFQsXG4gICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgXCJXaGl0ZVwiXG4gICAgICAgICk7XG4gICAgICAgIERyYXdUZXh0Rml0KFxuICAgICAgICAgICAgTG9jYWxpemVkVGV4dChNRU5VX1RJVExFU1ttZW51T3B0aW9uc1tpXV0gPz8gbWVudU9wdGlvbnNbaV0pLFxuICAgICAgICAgICAgKEJVVFRPTl9MRUZUICsgQlVUVE9OX1RFWFRfUEFERElORykgKyAoQlVUVE9OX1dJRFRIICsgQlVUVE9OX0dBUCkgKiBNYXRoLmZsb29yKGkgLyBCVVRUT05fTUFYX05VTUJFUiksXG4gICAgICAgICAgICAoQlVUVE9OX1RPUCArIE1hdGguZmxvb3IoQlVUVE9OX0hFSUdIVCAvIDIpKSArIChCVVRUT05fSEVJR0hUICsgQlVUVE9OX0dBUCkgKiAoaSAlIEJVVFRPTl9NQVhfTlVNQkVSKSxcbiAgICAgICAgICAgIEJVVFRPTl9XSURUSCAtIEJVVFRPTl9URVhUX1BBRERJTkcgKiAyLFxuICAgICAgICAgICAgXCJCbGFja1wiLFxuICAgICAgICAgICAgXCJHcmF5XCJcbiAgICAgICAgKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIEdldENsaWNrZWRNZW51KG1lbnVPcHRpb25zOiBNb2R1bGVUaXRsZVtdKTogTW9kdWxlVGl0bGUgfCBudWxsXG57XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZW51T3B0aW9ucy5sZW5ndGg7IGkrKylcbiAgICB7XG4gICAgICAgIGlmIChNb3VzZUluKFxuICAgICAgICAgICAgQlVUVE9OX0xFRlQgKyAoQlVUVE9OX1dJRFRIICsgQlVUVE9OX0dBUCkgKiBNYXRoLmZsb29yKGkgLyBCVVRUT05fTUFYX05VTUJFUiksXG4gICAgICAgICAgICBCVVRUT05fVE9QICsgKEJVVFRPTl9IRUlHSFQgKyBCVVRUT05fR0FQKSAqIChpICUgQlVUVE9OX01BWF9OVU1CRVIpLFxuICAgICAgICAgICAgQlVUVE9OX1dJRFRILFxuICAgICAgICAgICAgQlVUVE9OX0hFSUdIVFxuICAgICAgICApKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gbWVudU9wdGlvbnNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5cbi8vIE9wdGlvbnMgbGF5b3V0XG4vLyBNYXkgbm90IGJlIG5lZWRlZC4gV2lsbCBoYXZlIHRvIHVzZSBpZiB0aGVyZSBhcmUgbW9yZSB0aGFuIDEwIHNldHRpbmdzIHRvIGRpc3BsYXkgcGVyIGNhdGVnb3J5XG5jb25zdCBPUFRJT05fUEVSX1BBR0UgPSA5O1xuY29uc3QgT1BUSU9OX0hFSUdIVCA9IDY0O1xuY29uc3QgT1BUSU9OX1RPUCA9IDIwMDtcbmNvbnN0IE9QVElPTl9MRUZUID0gMjUwO1xuY29uc3QgT1BUSU9OX0dBUCA9IDEwO1xuY29uc3QgT1BUSU9OX0NIRUNLQk9YX1NJWkUgPSA2NDtcbmNvbnN0IE9QVElPTl9CQUNLX05FWFRfV0lEVEggPSAyNTY7XG5jb25zdCBPUFRJT05fVEVYVF9XSURUSCA9IDI1NjtcbmNvbnN0IE9QVElPTl9URVhUX01BWF9DSEFSUyA9IDI1NjtcbmxldCBjdXJyZW50UGFnZTogbnVtYmVyID0gMTtcbmxldCBtYXhQYWdlczogbnVtYmVyID0gMTtcblxuY29uc3QgTkVYVF9CVVRUT05fUE9TID0gWzE2MzUsIDc1LCA5MCwgOTBdIGFzIGNvbnN0O1xuY29uc3QgUFJFVl9CVVRUT05fUE9TID0gW05FWFRfQlVUVE9OX1BPU1swXSAtIE5FWFRfQlVUVE9OX1BPU1syXSwgTkVYVF9CVVRUT05fUE9TWzFdLCBORVhUX0JVVFRPTl9QT1NbMl0sIE5FWFRfQlVUVE9OX1BPU1syXV0gYXMgY29uc3Q7XG5cbmZ1bmN0aW9uIERyYXdQYWdlc0J1dHRvbnMoKTogdm9pZFxue1xuICAgIC8vIEFzc2V0IGN1cnJlbnQgcGFnZSBpcyBpbiBjb3JyZWN0IHJhbmdlXG4gICAgaWYgKGN1cnJlbnRQYWdlID4gbWF4UGFnZXMpXG4gICAge1xuICAgICAgICBjdXJyZW50UGFnZSA9IG1heFBhZ2VzO1xuICAgIH1cbiAgICBpZiAoY3VycmVudFBhZ2UgPCAxKVxuICAgIHtcbiAgICAgICAgY3VycmVudFBhZ2UgPSAxO1xuICAgIH1cblxuICAgIERyYXdCdXR0b24oXG4gICAgICAgIC4uLk5FWFRfQlVUVE9OX1BPUyxcbiAgICAgICAgXCJcIixcbiAgICAgICAgY3VycmVudFBhZ2UgPj0gbWF4UGFnZXMgPyBcIiNhYWFhYWFcIiA6IFwiI2ZmZmZmZlwiLFxuICAgICAgICBcIkljb25zL05leHQucG5nXCIsXG4gICAgICAgIFwiTmV4dCBQYWdlXCIsXG4gICAgICAgIGN1cnJlbnRQYWdlID49IG1heFBhZ2VzXG4gICAgKTtcbiAgICBEcmF3QnV0dG9uKFxuICAgICAgICAuLi5QUkVWX0JVVFRPTl9QT1MsXG4gICAgICAgIFwiXCIsXG4gICAgICAgIDEgPj0gY3VycmVudFBhZ2UgPyBcIiNhYWFhYWFcIiA6IFwiI2ZmZmZmZlwiLFxuICAgICAgICBcIkljb25zL1ByZXYucG5nXCIsXG4gICAgICAgIFwiUHJldmlvdXMgUGFnZVwiLFxuICAgICAgICAxID49IGN1cnJlbnRQYWdlXG4gICAgKTtcbn1cblxuZnVuY3Rpb24gRHJhd1N1Yk1lbnVPcHRpb25zKHN1Yk1lbnU6IE1vZHVsZVRpdGxlKTogdm9pZFxue1xuICAgIC8vIFNob3VsZG4ndCBiZSBuZWVkZWQgYnV0IGFjdHMgYXMgZmFpbHNhZmUgYW5kIG1ha2VzIHR5cGVzY3JpcHQgaGFwcHlcbiAgICBpZiAoIXNldHRpbmdDaGFyKSB7IHJldHVybjsgfVxuXG4gICAgLy8gU2V0dGluZ3MgaGF2ZSB0byBiZSBkaXNwbGF5YWJsZSBhbmQgaGF2ZSBhIHZhbHVlIGV4aXN0IGluIHRoZSBzdG9yZWQgc2V0dGluZ3NcbiAgICBjb25zdCBzZXR0aW5nc1RvRGlzcGxheSA9IE9iamVjdC5lbnRyaWVzKGRlZmF1bHRTZXR0aW5nc1tzdWJNZW51XSA/PyB7fSlcbiAgICAgICAgLmZpbHRlcigoW2tleSwgc2V0dGluZ10pID0+IElzRGlzcGxheVNldHRpbmcoc2V0dGluZykgJiYgKGtleSBpbiAoc2V0dGluZ0NoYXI/Lk1QQVtzdWJNZW51XSA/PyB7fSkpKTtcblxuICAgIC8vIE5leHQgYW5kIHByZXZpb3VzIG9wdGlvbiBidXR0b25zXG4gICAgaWYgKG1heFBhZ2VzICE9PSAxKVxuICAgIHtcbiAgICAgICAgRHJhd1BhZ2VzQnV0dG9ucygpO1xuICAgIH1cblxuICAgIHNldHRpbmdzVG9EaXNwbGF5LnNsaWNlKChjdXJyZW50UGFnZSAtIDEpICogT1BUSU9OX1BFUl9QQUdFLCBjdXJyZW50UGFnZSAqIE9QVElPTl9QRVJfUEFHRSkuZm9yRWFjaCgodmFsLCBpKSA9PlxuICAgIHtcbiAgICAgICAgY29uc3QgW3NldHRpbmdOYW1lLCBzZXR0aW5nXSA9IHZhbCBhcyBbc3RyaW5nLCBEaXNwbGF5ZWRTZXR0aW5nXTtcblxuICAgICAgICBjb25zdCBkaXNhYmxlZFNldHRpbmcgPSAhc2V0dGluZy5hY3RpdmUoc2V0dGluZ0NoYXIhKVxuICAgICAgICAgIHx8IChcbiAgICAgICAgICAgICAgYG90aGVycyR7c3ViTWVudX1gIGluIHNldHRpbmdDaGFyIS5NUEFbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XVxuICAgICAgICAgICAgICAmJiBgc2VsZiR7c3ViTWVudX1gIGluIHNldHRpbmdDaGFyIS5NUEFbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XVxuICAgICAgICAgICAgICAmJiAhSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cChcbiAgICAgICAgICAgICAgICAgIFBsYXllci5NZW1iZXJOdW1iZXIgPz8gLTEsXG4gICAgICAgICAgICAgICAgICBzZXR0aW5nQ2hhciEuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV1bYG90aGVycyR7c3ViTWVudX1gXSBhcyBBdXRob3JpdHlHcm91cCxcbiAgICAgICAgICAgICAgICAgIHNldHRpbmdDaGFyIS5NUEFbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XVtgc2VsZiR7c3ViTWVudX1gXSBhcyBib29sZWFuLFxuICAgICAgICAgICAgICAgICAgc2V0dGluZ0NoYXIhXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICApXG4gICAgICAgICAgfHwgKFxuICAgICAgICAgICAgICAhUGxheWVyLkNhbkludGVyYWN0KCkgJiYgKFxuICAgICAgICAgICAgICAgICAgKHNldHRpbmdDaGFyPy5NZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgJiYgIVBsYXllci5NUEFbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XS5ib3VuZEFjY2Vzc1NlbGYpXG4gICAgICAgICAgICAgICAgICB8fCAoc2V0dGluZ0NoYXI/Lk1lbWJlck51bWJlciAhPT0gUGxheWVyLk1lbWJlck51bWJlclxuICAgICAgICAgICAgICAgICAgICAmJiAhUGxheWVyLk1QQVtNb2R1bGVUaXRsZS5BdXRob3JpdHldLmJvdW5kQWNjZXNzT3RoZXJzKVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgKTtcblxuICAgICAgICBpZiAoSXNDaGVja2JveFNldHRpbmcoc2V0dGluZykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIERyYXdDaGVja2JveChcbiAgICAgICAgICAgICAgICBPUFRJT05fTEVGVCxcbiAgICAgICAgICAgICAgICBPUFRJT05fVE9QICsgKGkgKiAoT1BUSU9OX0dBUCArIE9QVElPTl9IRUlHSFQpKSxcbiAgICAgICAgICAgICAgICBPUFRJT05fQ0hFQ0tCT1hfU0laRSxcbiAgICAgICAgICAgICAgICBPUFRJT05fQ0hFQ0tCT1hfU0laRSxcbiAgICAgICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KHNldHRpbmcubGFiZWwpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlQWxsKFwiVGFyZ2V0Q2hhcmFjdGVyXCIsIChzZXR0aW5nQ2hhcj8uTmlja25hbWUgfHwgc2V0dGluZ0NoYXI/Lk5hbWUpID8/IFwiXCIpXG4gICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlQWxsKFwiVGFyZ2V0UHJvbm91blBvc3Nlc3NpdmVcIiwgc2V0dGluZ0NoYXI/LkdldFByb25vdW5zKCkgPT09IFwiU2hlSGVyXCIgPyBcImhlclwiIDogXCJoaXNcIiksXG4gICAgICAgICAgICAgICAgISFzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSxcbiAgICAgICAgICAgICAgICBkaXNhYmxlZFNldHRpbmcsXG4gICAgICAgICAgICAgICAgXCJCbGFja1wiXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKElzT3B0aW9uU2V0dGluZyhzZXR0aW5nKSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgaW5kZXggPSBzZXR0aW5nLm9wdGlvbnMuaW5kZXhPZihzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSBhcyBzdHJpbmcpO1xuICAgICAgICAgICAgY29uc3Qgb3B0TGVuID0gc2V0dGluZy5vcHRpb25zLmxlbmd0aDtcblxuICAgICAgICAgICAgLy8gQ2FuJ3QgZGVjcmVhc2UgYXV0aG9yaXR5IGJleW9uZCBpZiB0aGUgcGxheWVyIGlzIG5vdCBvZiB0aGF0IHJhbmtcbiAgICAgICAgICAgIGNvbnN0IHByb2ZpbGVPckV4Y2x1ZGVzID0gKHN1Yk1lbnUgIT09IE1vZHVsZVRpdGxlLkF1dGhvcml0eSkgfHwgIUFVVEhPUklUWV9HUk9VUF9PUFRJT05TLmluY2x1ZGVzKHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdKTtcbiAgICAgICAgICAgIGNvbnN0IHByZXZEaXNhYmxlZCA9ICEocHJvZmlsZU9yRXhjbHVkZXMgfHwgQXV0aG9yaXR5SXNDb21wYXJpc29uVG9DaGFyYWN0ZXIoc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gYXMgQXV0aG9yaXR5R3JvdXAsIFwiPj1cIiwgUGxheWVyLk1lbWJlck51bWJlciA/PyAtMSwgc2V0dGluZ0NoYXIhKSk7XG4gICAgICAgICAgICBjb25zdCBuZXh0RGlzYWJsZWQgPSAhKHByb2ZpbGVPckV4Y2x1ZGVzIHx8IEF1dGhvcml0eUlzQ29tcGFyaXNvblRvQ2hhcmFjdGVyKHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdIGFzIEF1dGhvcml0eUdyb3VwLCBcIj5cIiwgUGxheWVyLk1lbWJlck51bWJlciA/PyAtMSwgc2V0dGluZ0NoYXIhKSlcbiAgICAgICAgICAgICAgJiYgc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gIT09IFwiU2VsZlwiO1xuXG4gICAgICAgICAgICBEcmF3QmFja05leHRCdXR0b24oXG4gICAgICAgICAgICAgICAgT1BUSU9OX0xFRlQsXG4gICAgICAgICAgICAgICAgT1BUSU9OX1RPUCArIChpICogKE9QVElPTl9HQVAgKyBPUFRJT05fSEVJR0hUKSksXG4gICAgICAgICAgICAgICAgT1BUSU9OX0JBQ0tfTkVYVF9XSURUSCxcbiAgICAgICAgICAgICAgICBPUFRJT05fSEVJR0hULFxuICAgICAgICAgICAgICAgIExvY2FsaXplZFRleHQoc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gYXMgc3RyaW5nKSxcbiAgICAgICAgICAgICAgICAhKGRpc2FibGVkU2V0dGluZyB8fCAocHJldkRpc2FibGVkICYmIG5leHREaXNhYmxlZCkpID8gXCIjZmZmZmZmXCIgOiBcIiNhYWFhYWFcIixcbiAgICAgICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgICAgICgpID0+IExvY2FsaXplZFRleHQocHJldkRpc2FibGVkID8gXCJcIiA6IChzZXR0aW5nLmxvb3AgPyBzZXR0aW5nLm9wdGlvbnNbKGluZGV4IC0gMSArIG9wdExlbikgJSBvcHRMZW5dIDogaW5kZXggPiAwID8gc2V0dGluZy5vcHRpb25zW2luZGV4IC0gMV0gOiBcIlwiKSksXG4gICAgICAgICAgICAgICAgKCkgPT4gTG9jYWxpemVkVGV4dChuZXh0RGlzYWJsZWQgPyBcIlwiIDogKHNldHRpbmcubG9vcCA/IHNldHRpbmcub3B0aW9uc1soaW5kZXggKyAxICsgb3B0TGVuKSAlIG9wdExlbl0gOiBpbmRleCArIDEgPCBvcHRMZW4gPyBzZXR0aW5nLm9wdGlvbnNbaW5kZXggKyAxXSA6IFwiXCIpKSxcbiAgICAgICAgICAgICAgICBkaXNhYmxlZFNldHRpbmcgfHwgKHByZXZEaXNhYmxlZCAmJiBuZXh0RGlzYWJsZWQpXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgRHJhd1RleHRGaXQoXG4gICAgICAgICAgICAgICAgTG9jYWxpemVkVGV4dChzZXR0aW5nLmxhYmVsKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZUFsbChcIlRhcmdldENoYXJhY3RlclwiLCAoc2V0dGluZ0NoYXI/Lk5pY2tuYW1lIHx8IHNldHRpbmdDaGFyPy5OYW1lKSA/PyBcIlwiKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZUFsbChcIlRhcmdldFByb25vdW5Qb3NzZXNzaXZlXCIsIHNldHRpbmdDaGFyPy5HZXRQcm9ub3VucygpID09PSBcIlNoZUhlclwiID8gXCJoZXJcIiA6IFwiaGlzXCIpLFxuICAgICAgICAgICAgICAgIE9QVElPTl9MRUZUICsgT1BUSU9OX0JBQ0tfTkVYVF9XSURUSCArIChPUFRJT05fR0FQICogMiksXG4gICAgICAgICAgICAgICAgT1BUSU9OX1RPUCArIChpICogKE9QVElPTl9HQVAgKyBPUFRJT05fSEVJR0hUKSArIE1hdGguY2VpbChPUFRJT05fSEVJR0hUIC8gMikpLFxuICAgICAgICAgICAgICAgIENBTlZBU19XSURUSCAtIChPUFRJT05fTEVGVCAqIDIpIC0gT1BUSU9OX0JBQ0tfTkVYVF9XSURUSCxcbiAgICAgICAgICAgICAgICBcIkJsYWNrXCIsXG4gICAgICAgICAgICAgICAgXCJHcmF5XCJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoSXNUZXh0U2V0dGluZyhzZXR0aW5nKSB8fCBJc051bWJlclNldHRpbmcoc2V0dGluZykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGlkID0gRWxlbWVudE5hbWUoc3ViTWVudSwgc2V0dGluZ05hbWUpO1xuICAgICAgICAgICAgRWxlbWVudFBvc2l0aW9uRml4ZWQoXG4gICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgT1BUSU9OX0xFRlQsXG4gICAgICAgICAgICAgICAgT1BUSU9OX1RPUCArIChpICogKE9QVElPTl9HQVAgKyBPUFRJT05fSEVJR0hUKSksXG4gICAgICAgICAgICAgICAgc2V0dGluZy53aWR0aCA/PyBPUFRJT05fVEVYVF9XSURUSCxcbiAgICAgICAgICAgICAgICBPUFRJT05fSEVJR0hUXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKGRpc2FibGVkU2V0dGluZylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBFbGVtZW50U2V0QXR0cmlidXRlKGlkLCBcImRpc2FibGVkXCIsIFwidHJ1ZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBFbGVtZW50UmVtb3ZlQXR0cmlidXRlKGlkLCBcImRpc2FibGVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgRHJhd1RleHRGaXQoXG4gICAgICAgICAgICAgICAgTG9jYWxpemVkVGV4dChzZXR0aW5nLmxhYmVsKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZUFsbChcIlRhcmdldENoYXJhY3RlclwiLCAoc2V0dGluZ0NoYXI/Lk5pY2tuYW1lIHx8IHNldHRpbmdDaGFyPy5OYW1lKSA/PyBcIlwiKVxuICAgICAgICAgICAgICAgICAgICAucmVwbGFjZUFsbChcIlRhcmdldFByb25vdW5Qb3NzZXNzaXZlXCIsIHNldHRpbmdDaGFyPy5HZXRQcm9ub3VucygpID09PSBcIlNoZUhlclwiID8gXCJoZXJcIiA6IFwiaGlzXCIpLFxuICAgICAgICAgICAgICAgIE9QVElPTl9MRUZUICsgKHNldHRpbmcud2lkdGggPz8gT1BUSU9OX1RFWFRfV0lEVEgpICsgKE9QVElPTl9HQVAgKiAyKSxcbiAgICAgICAgICAgICAgICBPUFRJT05fVE9QICsgKGkgKiAoT1BUSU9OX0dBUCArIE9QVElPTl9IRUlHSFQpKSArIE1hdGguY2VpbChPUFRJT05fSEVJR0hUIC8gMiksXG4gICAgICAgICAgICAgICAgQ0FOVkFTX1dJRFRIIC0gKE9QVElPTl9MRUZUICogMikgLSAoc2V0dGluZy53aWR0aCA/PyBPUFRJT05fVEVYVF9XSURUSCksXG4gICAgICAgICAgICAgICAgXCJCbGFja1wiLFxuICAgICAgICAgICAgICAgIFwiR3JheVwiXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIEdldENsaWNrZWRPcHRpb24oc3ViTWVudTogTW9kdWxlVGl0bGUpOiB2b2lkXG57XG4gICAgLy8gU2hvdWxkbid0IGJlIG5lZWRlZCBidXQgYWN0cyBhcyBmYWlsc2FmZSBhbmQgbWFrZXMgdHlwZXNjcmlwdCBoYXBweVxuICAgIGlmICghc2V0dGluZ0NoYXIpIHsgcmV0dXJuOyB9XG5cbiAgICAvLyBTZXR0aW5ncyBoYXZlIHRvIGJlIGRpc3BsYXlhYmxlIGFuZCBoYXZlIGEgdmFsdWUgZXhpc3QgaW4gdGhlIHN0b3JlZCBzZXR0aW5nc1xuICAgIGNvbnN0IHNldHRpbmdzVG9EaXNwbGF5ID0gT2JqZWN0LmVudHJpZXMoZGVmYXVsdFNldHRpbmdzW3N1Yk1lbnVdID8/IHt9KVxuICAgICAgICAuZmlsdGVyKChba2V5LCBzZXR0aW5nXSkgPT4gSXNEaXNwbGF5U2V0dGluZyhzZXR0aW5nKSAmJiAoa2V5IGluIChzZXR0aW5nQ2hhcj8uTVBBW3N1Yk1lbnVdID8/IHt9KSkpO1xuXG4gICAgLy8gTG9vcCB0aHJvdWdoIGFsbCB0aGUgb3B0aW9ucyBhbmQgY2hlY2sgaWYgdGhlIGNsaWNrIG9jY3VyZWQgaW4gdGhlIHR5cGUncyBjb3JyZXNwb25kaW5nIGNsaWNrIHpvbmVcbiAgICBzZXR0aW5nc1RvRGlzcGxheS5zbGljZSgoY3VycmVudFBhZ2UgLSAxKSAqIE9QVElPTl9QRVJfUEFHRSwgY3VycmVudFBhZ2UgKiBPUFRJT05fUEVSX1BBR0UpLmZvckVhY2goKHZhbCwgaSkgPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IFtzZXR0aW5nTmFtZSwgc2V0dGluZ10gPSB2YWwgYXMgW3N0cmluZywgRGlzcGxheWVkU2V0dGluZ107XG5cbiAgICAgICAgY29uc3QgZGlzYWJsZWRTZXR0aW5nID0gIXNldHRpbmcuYWN0aXZlKHNldHRpbmdDaGFyISlcbiAgICAgICAgICB8fCAoXG4gICAgICAgICAgICAgIGBvdGhlcnMke3N1Yk1lbnV9YCBpbiBzZXR0aW5nQ2hhciEuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV1cbiAgICAgICAgICAgICAgJiYgYHNlbGYke3N1Yk1lbnV9YCBpbiBzZXR0aW5nQ2hhciEuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV1cbiAgICAgICAgICAgICAgJiYgIUlzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAoXG4gICAgICAgICAgICAgICAgICBQbGF5ZXIuTWVtYmVyTnVtYmVyID8/IC0xLFxuICAgICAgICAgICAgICAgICAgc2V0dGluZ0NoYXIhLk1QQVtNb2R1bGVUaXRsZS5BdXRob3JpdHldW2BvdGhlcnMke3N1Yk1lbnV9YF0gYXMgQXV0aG9yaXR5R3JvdXAsXG4gICAgICAgICAgICAgICAgICBzZXR0aW5nQ2hhciEuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV1bYHNlbGYke3N1Yk1lbnV9YF0gYXMgYm9vbGVhbixcbiAgICAgICAgICAgICAgICAgIHNldHRpbmdDaGFyIVxuICAgICAgICAgICAgICApXG4gICAgICAgICAgKVxuICAgICAgICAgIHx8IChcbiAgICAgICAgICAgICAgIVBsYXllci5DYW5JbnRlcmFjdCgpICYmIChcbiAgICAgICAgICAgICAgICAgIChzZXR0aW5nQ2hhcj8uTWVtYmVyTnVtYmVyID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICYmICFQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV0uYm91bmRBY2Nlc3NTZWxmKVxuICAgICAgICAgICAgICAgICAgfHwgKHNldHRpbmdDaGFyPy5NZW1iZXJOdW1iZXIgIT09IFBsYXllci5NZW1iZXJOdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgJiYgIVBsYXllci5NUEFbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XS5ib3VuZEFjY2Vzc090aGVycylcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICk7XG5cbiAgICAgICAgaWYgKElzQ2hlY2tib3hTZXR0aW5nKHNldHRpbmcpKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgTW91c2VJbihcbiAgICAgICAgICAgICAgICAgICAgT1BUSU9OX0xFRlQsXG4gICAgICAgICAgICAgICAgICAgIE9QVElPTl9UT1AgKyAoaSAqIChPUFRJT05fR0FQICsgT1BUSU9OX0hFSUdIVCkpLFxuICAgICAgICAgICAgICAgICAgICBPUFRJT05fQ0hFQ0tCT1hfU0laRSxcbiAgICAgICAgICAgICAgICAgICAgT1BUSU9OX0NIRUNLQk9YX1NJWkVcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgJiYgIWRpc2FibGVkU2V0dGluZ1xuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdID0gIXNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdO1xuICAgICAgICAgICAgICAgIGlmIChzZXR0aW5nLm9uU2V0KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZy5vblNldChzZXR0aW5nQ2hhciEsIHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdLCAhc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZXR0aW5nc0VkaXRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoSXNPcHRpb25TZXR0aW5nKHNldHRpbmcpKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IHNldHRpbmcub3B0aW9ucy5pbmRleE9mKHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdIGFzIHN0cmluZyk7XG4gICAgICAgICAgICBjb25zdCBvcHRMZW4gPSBzZXR0aW5nLm9wdGlvbnMubGVuZ3RoO1xuICAgICAgICAgICAgLy8gQmFjayBhcnJvd1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIE1vdXNlSW4oXG4gICAgICAgICAgICAgICAgICAgIE9QVElPTl9MRUZULFxuICAgICAgICAgICAgICAgICAgICBPUFRJT05fVE9QICsgKGkgKiAoT1BUSU9OX0dBUCArIE9QVElPTl9IRUlHSFQpKSxcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5mbG9vcihPUFRJT05fQkFDS19ORVhUX1dJRFRIIC8gMiksXG4gICAgICAgICAgICAgICAgICAgIE9QVElPTl9IRUlHSFRcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgJiYgIWRpc2FibGVkU2V0dGluZ1xuICAgICAgICAgICAgICAgICYmIChzZXR0aW5nLmxvb3BcbiAgICAgICAgICAgICAgICAgIHx8IGluZGV4ID4gMClcbiAgICAgICAgICAgICAgICAvLyBDYW4ndCBkZWNyZWFzZSBhdXRob3JpdHkgYmV5b25kIGlmIHRoZSBwbGF5ZXIgaXMgbm90IG9mIHRoYXQgcmFua1xuICAgICAgICAgICAgICAgICYmIChzdWJNZW51ICE9PSBNb2R1bGVUaXRsZS5BdXRob3JpdHlcbiAgICAgICAgICAgICAgICAgIHx8ICFBVVRIT1JJVFlfR1JPVVBfT1BUSU9OUy5pbmNsdWRlcyhzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSlcbiAgICAgICAgICAgICAgICAgIHx8IEF1dGhvcml0eUlzQ29tcGFyaXNvblRvQ2hhcmFjdGVyKHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdIGFzIEF1dGhvcml0eUdyb3VwLCBcIj49XCIsIFBsYXllci5NZW1iZXJOdW1iZXIgPz8gLTEsIHNldHRpbmdDaGFyISkpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJldlZhbHVlID0gc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV07XG4gICAgICAgICAgICAgICAgc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gPSBzZXR0aW5nLm9wdGlvbnNbKGluZGV4IC0gMSArIG9wdExlbikgJSBvcHRMZW5dO1xuICAgICAgICAgICAgICAgIGlmIChzZXR0aW5nLm9uU2V0KVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZy5vblNldChzZXR0aW5nQ2hhciEsIHNldHRpbmcub3B0aW9uc1soaW5kZXggLSAxICsgb3B0TGVuKSAlIG9wdExlbl0sIHByZXZWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNldHRpbmdzRWRpdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE5leHQgYXJyb3dcbiAgICAgICAgICAgIGVsc2UgaWYgKFxuICAgICAgICAgICAgICAgIE1vdXNlSW4oXG4gICAgICAgICAgICAgICAgICAgIE9QVElPTl9MRUZUICsgTWF0aC5mbG9vcihPUFRJT05fQkFDS19ORVhUX1dJRFRIIC8gMiksXG4gICAgICAgICAgICAgICAgICAgIE9QVElPTl9UT1AgKyAoaSAqIChPUFRJT05fR0FQICsgT1BUSU9OX0hFSUdIVCkpLFxuICAgICAgICAgICAgICAgICAgICBNYXRoLmNlaWwoT1BUSU9OX0JBQ0tfTkVYVF9XSURUSCAvIDIpLFxuICAgICAgICAgICAgICAgICAgICBPUFRJT05fSEVJR0hUXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICYmICFkaXNhYmxlZFNldHRpbmdcbiAgICAgICAgICAgICAgICAmJiAoc2V0dGluZy5sb29wXG4gICAgICAgICAgICAgICAgICB8fCBpbmRleCArIDEgPCBzZXR0aW5nLm9wdGlvbnMubGVuZ3RoKVxuICAgICAgICAgICAgICAgIC8vIENhbid0IGluY3JlYXNlIGF1dGhvcml0eSBiZXlvbmQgd2hhdCB0aGUgcGxheWVyIHdobyBpcyBzZXR0aW5nIGl0IGlzXG4gICAgICAgICAgICAgICAgJiYgKHN1Yk1lbnUgIT09IE1vZHVsZVRpdGxlLkF1dGhvcml0eVxuICAgICAgICAgICAgICAgICAgfHwgIUFVVEhPUklUWV9HUk9VUF9PUFRJT05TLmluY2x1ZGVzKHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdKVxuICAgICAgICAgICAgICAgICAgfHwgQXV0aG9yaXR5SXNDb21wYXJpc29uVG9DaGFyYWN0ZXIoc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gYXMgQXV0aG9yaXR5R3JvdXAsIFwiPlwiLCBQbGF5ZXIuTWVtYmVyTnVtYmVyID8/IC0xLCBzZXR0aW5nQ2hhciEpKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZWYWx1ZSA9IHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdO1xuICAgICAgICAgICAgICAgIHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdID0gc2V0dGluZy5vcHRpb25zWyhpbmRleCArIDEgKyBvcHRMZW4pICUgb3B0TGVuXTtcbiAgICAgICAgICAgICAgICBpZiAoc2V0dGluZy5vblNldClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmcub25TZXQoc2V0dGluZ0NoYXIhLCBzZXR0aW5nLm9wdGlvbnNbKGluZGV4ICsgMSArIG9wdExlbikgJSBvcHRMZW5dLCBwcmV2VmFsdWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZXR0aW5nc0VkaXRlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEV4aXRCdXR0b25QcmVzc2VkKCk6IHZvaWRcbntcbiAgICBpZiAoY3VycmVudE1lbnUgPT09IG51bGwpXG4gICAge1xuICAgICAgICBpZiAod2luZG93Lk1QQS5tZW51TG9hZGVkKVxuICAgICAgICB7XG4gICAgICAgICAgICB3aW5kb3cuTVBBLm1lbnVMb2FkZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBQcmVmZXJlbmNlTWVudUV4aXQoKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoY3VycmVudE1lbnUgPT09IFwiUkVTRVRfU2V0dGluZ3NcIilcbiAgICB7XG4gICAgICAgIGN1cnJlbnRNZW51ID0gbnVsbDtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgLy8gU2F2ZSBhbGwgdGV4dCBmaWVsZHMgdG8gdGhlaXIgcmVzcGVjdGl2ZSBzZXR0aW5nXG4gICAgICAgIFVwZGF0ZUFuZERlbGV0ZUhUTUxFbGVtZW50cyhjdXJyZW50TWVudSk7XG4gICAgICAgIGN1cnJlbnRQYWdlID0gMTtcbiAgICAgICAgbWF4UGFnZXMgPSAxO1xuICAgICAgICBjdXJyZW50TWVudSA9IG51bGw7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gUHJlZmVyZW5jZU1lbnVDbGljaygpOiB2b2lkXG57XG4gICAgaWYgKE1vdXNlSW4oLi4uRVhJVF9QT1NJU1RJT04pKVxuICAgIHtcbiAgICAgICAgRXhpdEJ1dHRvblByZXNzZWQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChzZXR0aW5nQ2hhcj8uTWVtYmVyTnVtYmVyID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyICYmIGN1cnJlbnRNZW51ID09PSBudWxsKVxuICAgIHtcbiAgICAgICAgaWYgKE1vdXNlSW4oLi4uV0lLSV9QT1NJVElPTikpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHdpbmRvdy5vcGVuKFdJS0lfTElOSywgXCJfYmxhbmtcIik/LmZvY3VzKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE1vdXNlSW4oLi4uRElTQ09SRF9QT1NJVElPTikpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHdpbmRvdy5vcGVuKERJU0NPUkRfSU5WSVRFLCBcIl9ibGFua1wiKT8uZm9jdXMoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoTW91c2VJbiguLi5SRVNFVF9QT1NJVElPTikpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGN1cnJlbnRNZW51ID0gXCJSRVNFVF9TZXR0aW5nc1wiO1xuICAgICAgICAgICAgYWxsb3dSZXNldFRpbWUgPSBEYXRlLm5vdygpICsgMTAwMDA7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE1vdXNlSW4oLi4uSU1QT1JUX1BPU0lUSU9OKSlcbiAgICAgICAge1xuICAgICAgICAgICAgSW1wb3J0U2V0dGluZ3NGcm9tQ2xpcGJvYXJkKCkudGhlbigoKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNldHRpbmdzQWxlcnRUZXh0ID0gXCJTZXR0aW5ncyBpbXBvcnRlZCBmcm9tIGNsaXBib2FyZFwiO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICgpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2V0dGluZ3NBbGVydFRleHQgPSBcIkZhaWxlZCB0byBpbXBvcnQgc2V0dGluZ3NcIjtcbiAgICAgICAgICAgIH0pLmZpbmFsbHkoKCkgPT4gc2hvd1NldHRpbmdzQWxlcnQgPSBEYXRlLm5vdygpICsgNTAwMCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKE1vdXNlSW4oLi4uRVhQT1JUX1BPU0lUSU9OKSlcbiAgICAgICAge1xuICAgICAgICAgICAgRXhwb3J0U2V0dGluZ3NUb0NsaXBib2FyZCgpLnRoZW4oKCkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzZXR0aW5nc0FsZXJ0VGV4dCA9IFwiU2V0dGluZ3MgY29waWVkIHRvIGNsaXBib2FyZFwiO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICgpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2V0dGluZ3NBbGVydFRleHQgPSBcIkZhaWxlZCB0byBleHBvcnQgc2V0dGluZ3NcIjtcbiAgICAgICAgICAgIH0pLmZpbmFsbHkoKCkgPT4gc2hvd1NldHRpbmdzQWxlcnQgPSBEYXRlLm5vdygpICsgNTAwMCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBHZXQgdGhlIHN1Ym1lbnUgY2xpY2tlZCBvcHRpb25zXG4gICAgaWYgKGN1cnJlbnRNZW51ID09PSBudWxsICYmIEdldENsaWNrZWRNZW51KE1FTlVfQ0FURUdPUklFUygpKSAhPT0gbnVsbClcbiAgICB7XG4gICAgICAgIGN1cnJlbnRNZW51ID0gR2V0Q2xpY2tlZE1lbnUoTUVOVV9DQVRFR09SSUVTKCkpO1xuICAgICAgICBjdXJyZW50UGFnZSA9IDE7XG4gICAgICAgIG1heFBhZ2VzID0gTWF0aC5jZWlsKE9iamVjdC5lbnRyaWVzKGRlZmF1bHRTZXR0aW5nc1tjdXJyZW50TWVudSA/PyBcIlwiXSA/PyB7fSlcbiAgICAgICAgICAgIC5maWx0ZXIoKFtrZXksIHNldHRpbmddKSA9PiBJc0Rpc3BsYXlTZXR0aW5nKHNldHRpbmcpICYmIChrZXkgaW4gKHNldHRpbmdDaGFyPy5NUEFbY3VycmVudE1lbnUgPz8gXCJcIl0gPz8ge30pKSlcbiAgICAgICAgICAgIC5sZW5ndGggLyBPUFRJT05fUEVSX1BBR0UpO1xuICAgICAgICBDcmVhdGVIVE1MRWxlbWVudHMoY3VycmVudE1lbnUpO1xuICAgIH1cbiAgICBpZiAoY3VycmVudE1lbnUgPT09IFwiUkVTRVRfU2V0dGluZ3NcIilcbiAgICB7XG4gICAgICAgIFJlc2V0TWVudUNsaWNrKCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gR2V0IG9wdGlvbiBvZiB0aGUgY3VycmVudCBtZW51XG4gICAgaWYgKGN1cnJlbnRNZW51ICE9PSBudWxsKVxuICAgIHtcbiAgICAgICAgLy8gTmV4dCBhbmQgcHJldmlvdXMgYnV0dG9uc1xuICAgICAgICAvLyBPbmx5IGNoZWNrIGlmIHNldHRpbmcgcGFnZSBuZWVkcyBpdFxuICAgICAgICBpZiAoT2JqZWN0LmVudHJpZXMoZGVmYXVsdFNldHRpbmdzW2N1cnJlbnRNZW51ID8/IFwiXCJdID8/IHt9KVxuICAgICAgICAgICAgLmZpbHRlcigoW2tleSwgc2V0dGluZ10pID0+IElzRGlzcGxheVNldHRpbmcoc2V0dGluZykgJiYgKGtleSBpbiAoc2V0dGluZ0NoYXI/Lk1QQVtjdXJyZW50TWVudSA/PyBcIlwiXSA/PyB7fSkpKVxuICAgICAgICAgICAgLmxlbmd0aCA+IE9QVElPTl9QRVJfUEFHRVxuICAgICAgICApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChNb3VzZUluKC4uLk5FWFRfQlVUVE9OX1BPUykgJiYgY3VycmVudFBhZ2UgPCBtYXhQYWdlcylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBVcGRhdGVBbmREZWxldGVIVE1MRWxlbWVudHMoY3VycmVudE1lbnUpO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlKys7XG4gICAgICAgICAgICAgICAgQ3JlYXRlSFRNTEVsZW1lbnRzKGN1cnJlbnRNZW51KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoTW91c2VJbiguLi5QUkVWX0JVVFRPTl9QT1MpICYmIGN1cnJlbnRQYWdlID4gMSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBVcGRhdGVBbmREZWxldGVIVE1MRWxlbWVudHMoY3VycmVudE1lbnUpO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlLS07XG4gICAgICAgICAgICAgICAgQ3JlYXRlSFRNTEVsZW1lbnRzKGN1cnJlbnRNZW51KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgR2V0Q2xpY2tlZE9wdGlvbihjdXJyZW50TWVudSk7XG4gICAgfVxuXG4gICAgcmV0dXJuO1xufVxuXG5mdW5jdGlvbiBSZXNldE1lbnVDbGljaygpOiB2b2lkXG57XG4gICAgaWYgKE1vdXNlSW4oLi4uUkVTRVRfQ09ORklSTV9QT1NJVElPTikgJiYgRGF0ZS5ub3coKSA+IGFsbG93UmVzZXRUaW1lKVxuICAgIHtcbiAgICAgICAgUmVzZXRTdG9yYWdlKCk7XG4gICAgICAgIGN1cnJlbnRNZW51ID0gbnVsbDtcbiAgICAgICAgYWxsb3dSZXNldFRpbWUgPSAwO1xuICAgIH1cblxuICAgIGlmIChNb3VzZUluKC4uLlJFU0VUX0NBTkNFTF9QT1NJVElPTikpXG4gICAge1xuICAgICAgICBjdXJyZW50TWVudSA9IG51bGw7XG4gICAgICAgIGFsbG93UmVzZXRUaW1lID0gMDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIFJlc2V0TWVudVJ1bigpOiB2b2lkXG57XG4gICAgY29uc3QgcHJldlRleHRBbGlnbiA9IE1haW5DYW52YXMudGV4dEFsaWduO1xuICAgIE1haW5DYW52YXMudGV4dEFsaWduID0gXCJjZW50ZXJcIjtcblxuICAgIERyYXdUZXh0KFxuICAgICAgICBMb2NhbGl6ZWRUZXh0KFwiV0FSTklORzogQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHJlc2V0IHlvdXIgTVBBIHNldHRpbmdzIGFuZCBkYXRhIGJhY2sgdG8gZGVmYXVsdD9cIiksXG4gICAgICAgIENBTlZBU19XSURUSCAvIDIsXG4gICAgICAgIDI1MCxcbiAgICAgICAgXCIjMDAwMDAwXCIsXG4gICAgICAgIFwiI2FhYWFhYVwiXG4gICAgKTtcbiAgICBEcmF3VGV4dChcbiAgICAgICAgLy8gQSBsaXR0bGUgaG9tYWdlIHRvIEJDWCBhbmQgTFNDRyBmb3IgYmVpbmcgZ3JlYXQgb3BlbiBzb3VyY2UgcmVmZXJlbmNlcyBvbiB0aGlzIHByb2plY3RcbiAgICAgICAgTG9jYWxpemVkVGV4dChcIlRoaXMgYWN0aW9uIGNhbiBub3QgYmUgdW5kb25lIVwiKSxcbiAgICAgICAgQ0FOVkFTX1dJRFRIIC8gMixcbiAgICAgICAgNDAwLFxuICAgICAgICBcIiNmZjAwMDBcIixcbiAgICAgICAgXCIjYWFhYWFhXCJcbiAgICApO1xuICAgIERyYXdUZXh0KFxuICAgICAgICBMb2NhbGl6ZWRUZXh0KFwiRXhwb3J0IGFuZCBzYXZlIHlvdXIgc2V0dGluZ3MgQkVGT1JFIGNvbmZpcm1pbmcgaWYgeW91IGFyZSB1bnN1cmUuXCIpLFxuICAgICAgICBDQU5WQVNfV0lEVEggLyAyLFxuICAgICAgICA1NTAsXG4gICAgICAgIFwiIzY5Njk2OVwiLFxuICAgICAgICBcIiNhYWFhYWFcIlxuICAgICk7XG5cbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgIGlmIChub3cgPD0gYWxsb3dSZXNldFRpbWUpXG4gICAge1xuICAgICAgICBEcmF3QnV0dG9uKFxuICAgICAgICAgICAgLi4uUkVTRVRfQ09ORklSTV9QT1NJVElPTixcbiAgICAgICAgICAgIGAke0xvY2FsaXplZFRleHQoXCJDb25maXJtXCIpfSAoJHtNYXRoLmZsb29yKChhbGxvd1Jlc2V0VGltZSAtIG5vdykgLyAxMDAwKX0pYCxcbiAgICAgICAgICAgIFwiI2FhYWFhYVwiLFxuICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgICAgICAgICAgdHJ1ZVxuICAgICAgICApO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICBEcmF3QnV0dG9uKFxuICAgICAgICAgICAgLi4uUkVTRVRfQ09ORklSTV9QT1NJVElPTixcbiAgICAgICAgICAgIExvY2FsaXplZFRleHQoXCJDb25maXJtXCIpLFxuICAgICAgICAgICAgXCIjZmYwMDAwXCJcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBEcmF3QnV0dG9uKFxuICAgICAgICAuLi5SRVNFVF9DQU5DRUxfUE9TSVRJT04sXG4gICAgICAgIExvY2FsaXplZFRleHQoXCJDYW5jZWxcIiksXG4gICAgICAgIFwiV2hpdGVcIlxuICAgICk7XG5cbiAgICBNYWluQ2FudmFzLnRleHRBbGlnbiA9IHByZXZUZXh0QWxpZ247XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBQcmVmZXJlbmNlTWVudVJ1bigpOiB2b2lkXG57XG4gICAgaWYgKGN1cnJlbnRNZW51ID09PSBcIlJFU0VUX1NldHRpbmdzXCIpXG4gICAge1xuICAgICAgICBSZXNldE1lbnVSdW4oKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHByZXZUZXh0QWxpZ24gPSBNYWluQ2FudmFzLnRleHRBbGlnbjtcbiAgICBEcmF3QnV0dG9uKC4uLkVYSVRfUE9TSVNUSU9OLCBcIlwiLCBcIldoaXRlXCIsIFwiSWNvbnMvRXhpdC5wbmdcIik7XG4gICAgTWFpbkNhbnZhcy50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xuICAgIERyYXdUZXh0KGAke0xvY2FsaXplZFRleHQoXCJNYXlhJ3MgUGV0cGxheSBBZGRpdGlvbnNcIil9JHtjdXJyZW50TWVudSA/IGAgLSAke3NldHRpbmdDaGFyPy5OaWNrbmFtZSB8fCBzZXR0aW5nQ2hhcj8uTmFtZX0ncyAke0xvY2FsaXplZFRleHQoTUVOVV9USVRMRVNbY3VycmVudE1lbnVdID8/IGN1cnJlbnRNZW51KX1gIDogXCJcIn1gLCAxMDAwLCAxMjUsIFwiQmxhY2tcIiwgXCJHcmF5XCIpO1xuXG4gICAgLy8gV2lraSwgUmVzZXQsIGltcG9ydCBhbmQgZXhwb3J0IGJ1dCBvbmx5IHdoaWxlIFBsYXllclxuICAgIGlmIChzZXR0aW5nQ2hhcj8uTWVtYmVyTnVtYmVyID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyICYmIGN1cnJlbnRNZW51ID09PSBudWxsKVxuICAgIHtcbiAgICAgICAgaWYgKHNob3dTZXR0aW5nc0FsZXJ0ID49IERhdGUubm93KCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIE1haW5DYW52YXMudGV4dEFsaWduID0gXCJsZWZ0XCI7XG4gICAgICAgICAgICBEcmF3VGV4dEZpdChcbiAgICAgICAgICAgICAgICBzZXR0aW5nc0FsZXJ0VGV4dCxcbiAgICAgICAgICAgICAgICAuLi5BTEVSVF9QT1NJVElPTixcbiAgICAgICAgICAgICAgICBcIkJsYWNrXCIsXG4gICAgICAgICAgICAgICAgXCJHcmF5XCJcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgTWFpbkNhbnZhcy50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xuICAgICAgICBEcmF3QnV0dG9uKFxuICAgICAgICAgICAgLi4uV0lLSV9QT1NJVElPTixcbiAgICAgICAgICAgIExvY2FsaXplZFRleHQoXCJXaWtpXCIpLFxuICAgICAgICAgICAgXCIjZmZmZmZmXCIsXG4gICAgICAgICAgICBcIlwiLFxuICAgICAgICAgICAgTG9jYWxpemVkVGV4dChcIk9wZW4gdGhlIE1QQSB3aWtpIGluIGEgbmV3IHRhYlwiKVxuICAgICAgICApO1xuICAgICAgICBEcmF3QnV0dG9uKFxuICAgICAgICAgICAgLi4uRElTQ09SRF9QT1NJVElPTixcbiAgICAgICAgICAgIFwiRGlzY29yZFwiLFxuICAgICAgICAgICAgXCIjZmZmZmZmXCIsXG4gICAgICAgICAgICBJQ09OUy5ESVNDT1JELFxuICAgICAgICAgICAgXCJKb2luIHRoZSBNUEEgZGlzY29yZCFcIlxuICAgICAgICApO1xuICAgICAgICBEcmF3QnV0dG9uKFxuICAgICAgICAgICAgLi4uUkVTRVRfUE9TSVRJT04sXG4gICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KFwiUkVTRVRcIiksXG4gICAgICAgICAgICBcIiNmZjJlMmVhYVwiLFxuICAgICAgICAgICAgXCJcIixcbiAgICAgICAgICAgIExvY2FsaXplZFRleHQoXCJSZXNldCBhbGwgeW91ciBzZXR0aW5ncyBiYWNrIHRvIGRlZmF1bHRcIilcbiAgICAgICAgKTtcbiAgICAgICAgRHJhd0J1dHRvbihcbiAgICAgICAgICAgIC4uLklNUE9SVF9QT1NJVElPTixcbiAgICAgICAgICAgIExvY2FsaXplZFRleHQoXCJJbXBvcnRcIiksXG4gICAgICAgICAgICBcIiNmZmZmZmZcIixcbiAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KFwiSW1wb3J0IHRoZSBzZXR0aW5ncyBjb3BpZWQgdG8geW91ciBjbGlwYm9hcmRcIilcbiAgICAgICAgKTtcbiAgICAgICAgRHJhd0J1dHRvbihcbiAgICAgICAgICAgIC4uLkVYUE9SVF9QT1NJVElPTixcbiAgICAgICAgICAgIExvY2FsaXplZFRleHQoXCJFeHBvcnRcIiksXG4gICAgICAgICAgICBcIiNmZmZmZmZcIixcbiAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KFwiRXhwb3J0IHlvdXIgY3VycmVudCBzZXR0aW5ncyB0byB0aGUgY2xpcGJvYXJkXCIpXG4gICAgICAgICk7XG4gICAgICAgIERyYXdUZXh0Rml0KFxuICAgICAgICAgICAgYCR7TG9jYWxpemVkVGV4dChcIlZlcnNpb25cIil9OiAke1BsYXllci5NUEEudmVyc2lvbn1gLFxuICAgICAgICAgICAgLi4uVkVSU0lPTl9URVhULFxuICAgICAgICAgICAgXCJCbGFja1wiLFxuICAgICAgICAgICAgXCJHcmF5XCJcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBNYWluQ2FudmFzLnRleHRBbGlnbiA9IFwibGVmdFwiO1xuICAgIGlmIChjdXJyZW50TWVudSA9PT0gbnVsbClcbiAgICB7XG4gICAgICAgIC8vIERyYXcgYWxsIHRoZSBidXR0b25zIHRvIGFjY2VzcyB0aGUgc3VibWVudXNcbiAgICAgICAgRHJhd01lbnVPcHRpb25zKE1FTlVfQ0FURUdPUklFUygpKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgLy8gRHJhdyB0aGUgb3B0aW9ucyBpbiB0aGUgc3VibWVudVxuICAgICAgICBEcmF3U3ViTWVudU9wdGlvbnMoY3VycmVudE1lbnUpO1xuICAgIH1cbiAgICBNYWluQ2FudmFzLnRleHRBbGlnbiA9IHByZXZUZXh0QWxpZ247XG4gICAgcmV0dXJuO1xufVxuXG5mdW5jdGlvbiBQcmVmZXJlbmNlTWVudUV4aXQoKTogYm9vbGVhbiB8IHZvaWRcbntcbiAgICAvLyBTaG91bGRuJ3QgYmUgbmVlZGVkIGJ1dCBhY3RzIGFzIGZhaWxzYWZlIGFuZCBtYWtlcyB0eXBlc2NyaXB0IGhhcHB5XG4gICAgaWYgKCFzZXR0aW5nQ2hhcikgeyByZXR1cm47IH1cblxuICAgIGlmIChzZXR0aW5nc0VkaXRlZClcbiAgICB7XG4gICAgICAgIGlmIChzZXR0aW5nQ2hhci5NZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIExldmVsU3luYyhmYWxzZSwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgICAgIFNhdmVTdG9yYWdlKHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgU2VuZE1QQU1lc3NhZ2UoXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIlNldHRpbmdQdXRSZXF1ZXN0XCIsXG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzOiBzZXR0aW5nQ2hhci5NUEFcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNldHRpbmdDaGFyLk1lbWJlck51bWJlclxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoc2V0dGluZ0NoYXIuTWVtYmVyTnVtYmVyID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyKVxuICAgIHtcbiAgICAgICAgUHJlZmVyZW5jZVN1YnNjcmVlbkV4dGVuc2lvbnNDbGVhcigpO1xuICAgIH1cbiAgICBzZXR0aW5nc0VkaXRlZCA9IGZhbHNlO1xuICAgIHNldHRpbmdDaGFyID0gbnVsbDtcbiAgICBzZXR0aW5nc09wZW4gPSBmYWxzZTtcbn1cblxuLyoqXG4gKiBDYWxsZWQgb25jZSB3aGVuIHRoZSBQcmVmZXJlbmNlIE1lbnUgbG9hZHMgdXAgYWZ0ZXIgb3BlbmluZ1xuICovXG5mdW5jdGlvbiBQcmVmZXJlbmNlTWVudUxvYWQoKTogdm9pZFxue1xuICAgIC8vIFNob3VsZG4ndCBiZSBuZWVkZWQgYnV0IGFjdHMgYXMgZmFpbHNhZmUgYW5kIG1ha2VzIHR5cGVzY3JpcHQgaGFwcHlcbiAgICBpZiAoIXNldHRpbmdDaGFyKSB7IHJldHVybjsgfVxuICAgIHNldHRpbmdzT3BlbiA9IHRydWU7XG59XG5cbmZ1bmN0aW9uIFBsYXllclByZWZlcmVuY2VNZW51TG9hZCgpOiB2b2lkXG57XG4gICAgc2V0dGluZ3NFZGl0ZWQgPSBmYWxzZTtcbiAgICBzZXR0aW5nQ2hhciA9IFBsYXllcjtcbiAgICBQcmVmZXJlbmNlTWVudUxvYWQoKTtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIHN0cmluZyB3aXRoIGFuIE1QQSBpZGVudGlmaWVyIGluIGZyb250XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBFbGVtZW50TmFtZSh0aXRsZTogTW9kdWxlVGl0bGUgfCBzdHJpbmcsIHNldHRpbmc6IHN0cmluZyk6IHN0cmluZ1xue1xuICAgIHJldHVybiBgTVBBX09QVElPTl8ke3RpdGxlfSR7c2V0dGluZ31gO1xufVxuXG4vKipcbiAqIENyZWF0ZSBhbmQgaGlkZSBhbGwgdGhlIEhUTUwgZWxlbWVudHMgdGhhdCBhcmUgbmVlZGVkIGZvciB0aGUgUHJlZmVyZW5jZSBTZXR0aW5nIHBhZ2VcbiAqL1xuZnVuY3Rpb24gQ3JlYXRlSFRNTEVsZW1lbnRzKHN1Yk1lbnU6IE1vZHVsZVRpdGxlIHwgbnVsbCwgcGFnZTogbnVtYmVyID0gY3VycmVudFBhZ2UpOiB2b2lkXG57XG4gICAgaWYgKCFzdWJNZW51KSB7IHJldHVybjsgfVxuICAgIC8vIFNob3VsZG4ndCBiZSBuZWVkZWQgYnV0IGFjdHMgYXMgZmFpbHNhZmUgYW5kIG1ha2VzIHR5cGVzY3JpcHQgaGFwcHlcbiAgICBpZiAoIXNldHRpbmdDaGFyKSB7IHJldHVybjsgfVxuXG4gICAgT2JqZWN0LmVudHJpZXMoZGVmYXVsdFNldHRpbmdzW3N1Yk1lbnVdID8/IHt9KS5zbGljZSgocGFnZSAtIDEpICogT1BUSU9OX1BFUl9QQUdFLCBwYWdlICogT1BUSU9OX1BFUl9QQUdFKS5mb3JFYWNoKChzZXQpID0+XG4gICAge1xuICAgICAgICBjb25zdCBbc2V0dGluZ05hbWUsIHNldHRpbmddID0gc2V0O1xuICAgICAgICBjb25zdCBpZCA9IEVsZW1lbnROYW1lKHN1Yk1lbnUsIHNldHRpbmdOYW1lKTtcbiAgICAgICAgaWYgKElzVGV4dFNldHRpbmcoc2V0dGluZykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIEVsZW1lbnRDcmVhdGVJbnB1dChpZCwgXCJ0ZXh0XCIsIHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdIGFzIHN0cmluZywgc2V0dGluZy5tYXhDaGFycyA/PyBPUFRJT05fVEVYVF9NQVhfQ0hBUlMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKElzTnVtYmVyU2V0dGluZyhzZXR0aW5nKSlcbiAgICAgICAge1xuICAgICAgICAgICAgRWxlbWVudENyZWF0ZUlucHV0KGlkLCBcIm51bWJlclwiLCBzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXS50b1N0cmluZygpKTtcbiAgICAgICAgICAgIEVsZW1lbnRTZXRBdHRyaWJ1dGUoaWQsIFwibWluXCIsIHNldHRpbmcubWluLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgRWxlbWVudFNldEF0dHJpYnV0ZShpZCwgXCJtYXhcIiwgc2V0dGluZy5tYXgudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICBFbGVtZW50U2V0QXR0cmlidXRlKGlkLCBcImlucHV0bW9kZVwiLCBcImRlY2ltYWxcIik7XG4gICAgICAgICAgICBpZiAoc2V0dGluZy5zdGVwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIEVsZW1lbnRTZXRBdHRyaWJ1dGUoaWQsIFwic3RlcFwiLCBzZXR0aW5nLnN0ZXAudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbi8qKlxuICogVXBkYXRlIHRoZSBzZXR0aW5nIHZhbHVlcyB0byByZWZsZWN0IHRob3NlIGluIHRoZSBodG1sIGVsZW1lbnRzIGFuZCBkZWxldGUgdGhlbSBhZnRlclxuICovXG5mdW5jdGlvbiBVcGRhdGVBbmREZWxldGVIVE1MRWxlbWVudHMoc3ViTWVudTogTW9kdWxlVGl0bGUsIHBhZ2U6IG51bWJlciA9IGN1cnJlbnRQYWdlKTogdm9pZFxue1xuICAgIC8vIFNob3VsZG4ndCBiZSBuZWVkZWQgYnV0IGFjdHMgYXMgZmFpbHNhZmUgYW5kIG1ha2VzIHR5cGVzY3JpcHQgaGFwcHlcbiAgICBpZiAoIXNldHRpbmdDaGFyKSB7IHJldHVybjsgfVxuXG4gICAgLy8gVXBkYXRlIHRoZSB2aXJ0dWFsIHBldCBzdGF0cyBiYXNlZCBvbiBjdXJyZW50IHZhbHVlcyBzbyB0aGUgbGV2ZWwgZG9lc24ndCBqdW1wIGFyb3VuZFxuICAgIGlmIChzdWJNZW51ID09PSBNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0KVxuICAgIHtcbiAgICAgICAgTGV2ZWxTeW5jKGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xuICAgIH1cblxuICAgIE9iamVjdC5lbnRyaWVzKGRlZmF1bHRTZXR0aW5nc1tzdWJNZW51XSA/PyB7fSkuc2xpY2UoKHBhZ2UgLSAxKSAqIE9QVElPTl9QRVJfUEFHRSwgcGFnZSAqIE9QVElPTl9QRVJfUEFHRSkuZm9yRWFjaCgoc2V0KSA9PlxuICAgIHtcbiAgICAgICAgY29uc3QgW3NldHRpbmdOYW1lLCBzZXR0aW5nXSA9IHNldDtcbiAgICAgICAgY29uc3QgaWQgPSBFbGVtZW50TmFtZShzdWJNZW51LCBzZXR0aW5nTmFtZSk7XG4gICAgICAgIGlmIChJc1RleHRTZXR0aW5nKHNldHRpbmcpKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gIT09IEVsZW1lbnRWYWx1ZShpZCkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2V0dGluZ0NoYXIhLk1QQVtzdWJNZW51XVtzZXR0aW5nTmFtZV0gPSBFbGVtZW50VmFsdWUoaWQpO1xuICAgICAgICAgICAgICAgIHNldHRpbmdzRWRpdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIEVsZW1lbnRSZW1vdmUoaWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChJc051bWJlclNldHRpbmcoc2V0dGluZykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChzZXR0aW5nQ2hhciEuTVBBW3N1Yk1lbnVdW3NldHRpbmdOYW1lXSAhPT0gTnVtYmVyKEVsZW1lbnRWYWx1ZShpZCkpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNldHRpbmdDaGFyIS5NUEFbc3ViTWVudV1bc2V0dGluZ05hbWVdID0gTnVtYmVyKEVsZW1lbnRWYWx1ZShpZCkpO1xuICAgICAgICAgICAgICAgIHNldHRpbmdzRWRpdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIEVsZW1lbnRSZW1vdmUoaWQpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmV4cG9ydCBjbGFzcyBTZXR0aW5nc01vZHVsZSBleHRlbmRzIE1vZHVsZVxue1xuICAgIGdldCBUaXRsZSgpOiBNb2R1bGVUaXRsZVxuICAgIHtcbiAgICAgICAgcmV0dXJuIE1vZHVsZVRpdGxlLlNldHRpbmdzO1xuICAgIH1cblxuICAgIExvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgLy8gQWRkIHNldHRpbmdzIHRvIHRoZSBleHRlbnNpb24gb3B0aW9uc1xuICAgICAgICBQcmVmZXJlbmNlUmVnaXN0ZXJFeHRlbnNpb25TZXR0aW5nKHtcbiAgICAgICAgICAgIElkZW50aWZpZXI6IFwiTVBBXCIsXG4gICAgICAgICAgICBCdXR0b25UZXh0OiBMb2NhbGl6ZWRUZXh0KFwiTVBBIFNldHRpbmdzXCIpLFxuICAgICAgICAgICAgSW1hZ2U6IElDT05TLlBBVyxcbiAgICAgICAgICAgIGNsaWNrOiBQcmVmZXJlbmNlTWVudUNsaWNrLFxuICAgICAgICAgICAgcnVuOiBQcmVmZXJlbmNlTWVudVJ1bixcbiAgICAgICAgICAgIGV4aXQ6IFByZWZlcmVuY2VNZW51RXhpdCxcbiAgICAgICAgICAgIGxvYWQ6IFBsYXllclByZWZlcmVuY2VNZW51TG9hZFxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBXaGVuIHByZXNzaW5nIGVzY2FwZSwgb25seSBnbyB0byBtYWluIG1lbnUgaWYgaW4gc3ViIG1lbnVcbiAgICAgICAgZnVuY3Rpb24gRXNjYXBlSGFuZGxlcihldmVudDogS2V5Ym9hcmRFdmVudCk6IHZvaWRcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIChldmVudC5rZXkgPT09IFwiRXNjYXBlXCIgfHwgZXZlbnQua2V5ID09PSBcIkVzY1wiKVxuICAgICAgICAgICAgICAgICYmIHNldHRpbmdzT3BlblxuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50TWVudSA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFByZWZlcmVuY2VNZW51RXhpdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjdXJyZW50TWVudSA9PT0gXCJSRVNFVF9TZXR0aW5nc1wiKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYWxsb3dSZXNldFRpbWUgPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBVcGRhdGVBbmREZWxldGVIVE1MRWxlbWVudHMoY3VycmVudE1lbnUpO1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGFnZSA9IDE7XG4gICAgICAgICAgICAgICAgICAgIG1heFBhZ2VzID0gMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY3VycmVudE1lbnUgPSBudWxsO1xuICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlwcmVzc1wiLCBFc2NhcGVIYW5kbGVyLCB0cnVlKTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgRXNjYXBlSGFuZGxlciwgdHJ1ZSk7XG4gICAgfVxuXG4gICAgVW5sb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIC8vIFVubG9hZCBiZWluZyBlbXB0eSBpcyB3YW50ZWQsIG5ldmVyIHVubG9hZCBzZXR0aW5nc1xuICAgIH1cblxuICAgIFJlbG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICAvLyBSZWxvYWQgYmVpbmcgZW1wdHkgaXMgd2FudGVkLCBuZXZlciByZWxvYWQgc2V0dGluZ3NcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBBcnJheVRvUmVhZGFibGVTdHJpbmcsIEhvb2tlZE1lc3NhZ2UsIE1QQU1lc3NhZ2VDb250ZW50LCBNUEFOb3RpZnlQbGF5ZXIsIE5vdGlmeVBsYXllciwgU2VuZE1QQU1lc3NhZ2UgfSBmcm9tIFwiLi4vdXRpbC9tZXNzYWdpbmdcIjtcbmltcG9ydCB7IExvY2FsaXplZFRleHQgfSBmcm9tIFwiLi4vbG9jYWxpemF0aW9uL2xvY2FsaXphdGlvblwiO1xuaW1wb3J0IHsgSUNPTlMgfSBmcm9tIFwiLi4vdXRpbC9jb25zdGFudHNcIjtcbmltcG9ydCB7IGJjeEZvdW5kLCBIb29rRnVuY3Rpb24gfSBmcm9tIFwiLi4vdXRpbC9zZGtcIjtcbmltcG9ydCB7IE1vZHVsZSwgTW9kdWxlSXNQdWJsaWMsIE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4vX21vZHVsZVwiO1xuaW1wb3J0IHsgY3VycmVudE1lbnUsIEV4aXRCdXR0b25QcmVzc2VkLCBNRU5VX1RJVExFUywgUHJlZmVyZW5jZU1lbnVDbGljaywgUHJlZmVyZW5jZU1lbnVSdW4sIFNldFNldHRpbmdDaGFyIH0gZnJvbSBcIi4vc2V0dGluZ3NcIjtcbmltcG9ydCB7IFNhdmVTdG9yYWdlIH0gZnJvbSBcIi4uL3V0aWwvc3RvcmFnZVwiO1xuaW1wb3J0IHsgTGV2ZWxTeW5jIH0gZnJvbSBcIi4vdmlydHVhbFBldFwiO1xuaW1wb3J0IHsgSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cCB9IGZyb20gXCIuLi91dGlsL2F1dGhvcml0eVwiO1xuaW1wb3J0IHsgc2V0dGluZ3MgYXMgZGVmYXVsdFNldHRpbmdzIH0gZnJvbSBcIi4uL3V0aWwvcmVnaXN0ZXJNb2R1bGVzXCI7XG5cbi8vIE90aGVyIHNldHRpbmdzXG5jb25zdCBNUEFfUkVNT1RFID0gWzE3MDAsIDc2NSwgOTAsIDkwXSBhcyBjb25zdDtcbi8vIEJDWCBtb3ZlcyB0aGUgYnV0dG9uIGRvd24gYnkgMzUgZm9yIHNvbWUgcmVhc29uXG5jb25zdCBNUEFfUkVNT1RFX0JDWCA9IFsxNzAwLCA4MDAsIDkwLCA5MF0gYXMgY29uc3Q7XG4vLyBQb3NpdGlvbmluZyBmb3IgdmVyc2lvbiB0ZXh0XG5jb25zdCBWRVJTSU9OX1RFWFRfU0VMRiA9IFtcbiAgICAyNzUsXG4gICAgOTAwLFxuICAgIDM1MFxuXSBhcyBjb25zdDtcbmNvbnN0IFZFUlNJT05fVEVYVF9PVEhFUiA9IFtcbiAgICBWRVJTSU9OX1RFWFRfU0VMRlswXSxcbiAgICBWRVJTSU9OX1RFWFRfU0VMRlsxXSAtIDUwLFxuICAgIFZFUlNJT05fVEVYVF9TRUxGWzJdXG5dIGFzIGNvbnN0O1xuXG5mdW5jdGlvbiBBcnJheXNFcXVhbChhcnIxOiBhbnlbXSwgYXJyMjogYW55W10pOiBib29sZWFuXG57XG4gICAgaWYgKGFycjEubGVuZ3RoICE9PSBhcnIyLmxlbmd0aClcbiAgICB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuICAgIHJldHVybiBhcnIxLmV2ZXJ5KCh2YWx1ZSwgaW5kZXgpID0+IHZhbHVlID09PSBhcnIyW2luZGV4XSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBPYmplY3REaWZmZXJlbmNlcyhvbGRPYmo6IG9iamVjdCwgbmV3T2JqOiBvYmplY3QpOiBvYmplY3RcbntcbiAgICBjb25zdCBkaWZmZXJlbmNlcyA9IHt9O1xuXG4gICAgZm9yIChjb25zdCBrZXkgaW4gb2xkT2JqKVxuICAgIHtcbiAgICAgICAgLy8gS2V5IGlzIG1pc3NpbmcgaW4gbmV3T2JqXG4gICAgICAgIGlmICghKGtleSBpbiBuZXdPYmopKVxuICAgICAgICB7XG4gICAgICAgICAgICBkaWZmZXJlbmNlc1trZXldID0geyBvbGQ6IG9sZE9ialtrZXldLCBuZXc6IHVuZGVmaW5lZCB9O1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBvbGRWYWx1ZSA9IG9sZE9ialtrZXldO1xuICAgICAgICBjb25zdCBuZXdWYWx1ZSA9IG5ld09ialtrZXldO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIEFycmF5LmlzQXJyYXkob2xkVmFsdWUpXG4gICAgICAgICAgICAmJiBBcnJheS5pc0FycmF5KG5ld1ZhbHVlKVxuICAgICAgICApXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIElmIGJvdGggYXJlIGFycmF5cywgY29tcGFyZSB0aGVpciBjb250ZW50c1xuICAgICAgICAgICAgaWYgKCFBcnJheXNFcXVhbChvbGRWYWx1ZSwgbmV3VmFsdWUpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRpZmZlcmVuY2VzW2tleV0gPSB7IG9sZDogb2xkVmFsdWUsIG5ldzogbmV3VmFsdWUgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChcbiAgICAgICAgICAgIHR5cGVvZiBvbGRWYWx1ZSA9PT0gXCJvYmplY3RcIlxuICAgICAgICAgICAgJiYgdHlwZW9mIG5ld1ZhbHVlID09PSBcIm9iamVjdFwiXG4gICAgICAgICAgICAmJiAhQXJyYXkuaXNBcnJheShvbGRWYWx1ZSkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIElmIGJvdGggYXJlIG9iamVjdHMsIHJlY3Vyc2l2ZWx5IGNoZWNrIGZvciBkaWZmZXJlbmNlc1xuICAgICAgICAgICAgY29uc3QgZGlmZiA9IE9iamVjdERpZmZlcmVuY2VzKG9sZFZhbHVlLCBuZXdWYWx1ZSk7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoZGlmZikubGVuZ3RoID4gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkaWZmZXJlbmNlc1trZXldID0gZGlmZjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChvbGRWYWx1ZSAhPT0gbmV3VmFsdWUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIElmIHZhbHVlcyBhcmUgZGlmZmVyZW50LCBzdG9yZSB0aGUgZGlmZmVyZW5jZVxuICAgICAgICAgICAgZGlmZmVyZW5jZXNba2V5XSA9IHsgb2xkOiBvbGRWYWx1ZSwgbmV3OiBuZXdWYWx1ZSB9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gTmV3IGtleXMgbm90IGZvdW5kIGluIHRoZSBvbGQgb2JqZWN0XG4gICAgZm9yIChjb25zdCBrZXkgaW4gbmV3T2JqKVxuICAgIHtcbiAgICAgICAgaWYgKCEoa2V5IGluIG9sZE9iaikpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRpZmZlcmVuY2VzW2tleV0gPSB7IG9sZDogdW5kZWZpbmVkLCBuZXc6IG5ld09ialtrZXldIH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZGlmZmVyZW5jZXM7XG59XG5cbmV4cG9ydCBjbGFzcyBTZXR0aW5nc090aGVyTW9kdWxlIGV4dGVuZHMgTW9kdWxlXG57XG4gICAgZ2V0IFRpdGxlKCk6IE1vZHVsZVRpdGxlXG4gICAge1xuICAgICAgICByZXR1cm4gTW9kdWxlVGl0bGUuU2V0dGluZ3NPdGhlcjtcbiAgICB9XG5cbiAgICBnZXQgU3luY0xpc3RlbmVycygpOiBIb29rZWRNZXNzYWdlW11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbW9kdWxlOiB0aGlzLlRpdGxlLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiU2V0dGluZ1B1dFJlcXVlc3RcIixcbiAgICAgICAgICAgICAgICBhY3Rpb246IGZ1bmN0aW9uIChzZW5kZXI6IENoYXJhY3RlciwgY29udGVudDogTVBBTWVzc2FnZUNvbnRlbnQpOiB2b2lkXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB2cEVuYWJsZWQgPSBQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdLmVuYWJsZWQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRpZmZlcmVuY2VzID0gT2JqZWN0RGlmZmVyZW5jZXMoUGxheWVyLk1QQSwgY29udGVudC5zZXR0aW5ncyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIERvbid0IGNoYW5nZSBhbnkgcHJpdmF0ZSByZWNvcmRzIGZyb20gaW5jb21pbmcgc291cmNlc1xuICAgICAgICAgICAgICAgICAgICBPYmplY3Qua2V5cyhkaWZmZXJlbmNlcykuZm9yRWFjaCgobW9kdWxlVGl0bGUpID0+XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghTW9kdWxlSXNQdWJsaWMobW9kdWxlVGl0bGUgYXMgTW9kdWxlVGl0bGUpKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBkaWZmZXJlbmNlc1ttb2R1bGVUaXRsZV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaGFuZ2VkU2V0dGluZ3M6IHN0cmluZ1tdID0gW107XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gRGVsZXRlIHRoZSBWUCBsZXZlbHMgYXMgdGhleSB3aWxsIGJlIHN5bmNlZCB3aXRoIHRoZSBwbGF5ZXIgaW5zdGVhZFxuICAgICAgICAgICAgICAgICAgICBpZiAoZGlmZmVyZW5jZXM/LltNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XT8ubGV2ZWxzKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZGlmZmVyZW5jZXNbTW9kdWxlVGl0bGUuVmlydHVhbFBldF0ubGV2ZWxzO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKGRpZmZlcmVuY2VzW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdKS5sZW5ndGggPT09IDApXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGRpZmZlcmVuY2VzW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIExldmVsU3luYyhmYWxzZSwgZmFsc2UsIGZhbHNlKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyAhISEhISEhISEhISEhISEhISEhISEhIVxuICAgICAgICAgICAgICAgICAgICAvLyBEbyBBdXRob3JpdHkgcXVlcnlzIGZpcnN0XG4gICAgICAgICAgICAgICAgICAgIC8vICEhISEhISEhISEhISEhISEhISEhISEhXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzQXV0aG9yaXR5ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShQbGF5ZXIuTVBBPy5bTW9kdWxlVGl0bGUuQXV0aG9yaXR5XSkpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdBdXRob3JpdHkgPSBkaWZmZXJlbmNlc1tNb2R1bGVUaXRsZS5BdXRob3JpdHldO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV3QXV0aG9yaXR5KVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZGlmZmVyZW5jZXNbTW9kdWxlVGl0bGUuQXV0aG9yaXR5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFZhbGlkYXRlIHRoYXQgYXV0aG9yaXR5IGNhbiBiZSBjaGFuZ2VkIGJhc2VkIG9uIGN1cnJlbnQgYXV0aG9yaXR5IGZpcnN0XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoSXNNZW1iZXJOdW1iZXJJbkF1dGhHcm91cChzZW5kZXIuTWVtYmVyTnVtYmVyID8/IC0xLCBwcmV2aW91c0F1dGhvcml0eVtgb3RoZXJzJHtNb2R1bGVUaXRsZS5BdXRob3JpdHl9YF0pKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZWRTZXR0aW5ncy5wdXNoKExvY2FsaXplZFRleHQoTW9kdWxlVGl0bGUuQXV0aG9yaXR5KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBlbnRyeSBpbiBuZXdBdXRob3JpdHkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3QXV0aG9yaXR5W2VudHJ5XS5uZXcgIT09IHVuZGVmaW5lZCAmJiBuZXdBdXRob3JpdHlbZW50cnldLm9sZCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV1bZW50cnldID0gbmV3QXV0aG9yaXR5W2VudHJ5XS5uZXc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBNUEE6ICR7c2VuZGVyLk5pY2tuYW1lIHx8IHNlbmRlci5OYW1lfSAoJHtzZW5kZXIuTWVtYmVyTnVtYmVyfSkgdHJpZWQgdG8gaWxsZWdhbGx5IG1vZGlmeSB5b3VyICR7TW9kdWxlVGl0bGUuQXV0aG9yaXR5fSBzZXR0aW5ncyFgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdGl0bGUgaW4gZGlmZmVyZW5jZXMpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFZhbGlkYXRlIHRoYXQgYW55IHNldHRpbmdzIGNhbiBiZSBjaGFuZ2VkIHdpdGggRUlUSEVSIHRoZSBvbGQgb3IgbmV3IGF1dGhvcml0eVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2VuZGVyIGlzIG5vdCBhdXRob3JpemVkIHRvIGNoYW5nZSB0aGUgc2V0dGluZ3MsIGlnbm9yZSBhbmQgd2FybiBpbiBjb25zb2xlXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShJc01lbWJlck51bWJlckluQXV0aEdyb3VwKHNlbmRlci5NZW1iZXJOdW1iZXIgPz8gLTEsIHByZXZpb3VzQXV0aG9yaXR5W2BvdGhlcnMke3RpdGxlfWBdID8/IFwiTm9uZVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICB8fCBJc01lbWJlck51bWJlckluQXV0aEdyb3VwKHNlbmRlci5NZW1iZXJOdW1iZXIgPz8gLTEsIFBsYXllci5NUEE/LltNb2R1bGVUaXRsZS5BdXRob3JpdHldPy5bYG90aGVycyR7dGl0bGV9YF0gPz8gXCJOb25lXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgTVBBOiAke3NlbmRlci5OaWNrbmFtZSB8fCBzZW5kZXIuTmFtZX0gKCR7c2VuZGVyLk1lbWJlck51bWJlcn0pIHRyaWVkIHRvIGlsbGVnYWxseSBtb2RpZnkgeW91ciAke3RpdGxlfSBzZXR0aW5ncyFgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlZFNldHRpbmdzLnB1c2goTG9jYWxpemVkVGV4dChNRU5VX1RJVExFU1t0aXRsZSBhcyBNb2R1bGVUaXRsZV0gPz8gdGl0bGUpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9kdWxlRGlmZiA9IGRpZmZlcmVuY2VzW3RpdGxlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZW50cnkgaW4gbW9kdWxlRGlmZilcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobW9kdWxlRGlmZltlbnRyeV0ubmV3ICE9PSB1bmRlZmluZWQgJiYgbW9kdWxlRGlmZltlbnRyeV0ub2xkICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQbGF5ZXIuTVBBW3RpdGxlIGFzIE1vZHVsZVRpdGxlXVtlbnRyeV0gPSBtb2R1bGVEaWZmW2VudHJ5XS5uZXc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgaGFyZGNvcmUgaXMgc2V0LCBtYWtlIHN1cmUgaXRzIHNldHRpbmdzIGFyZSBzZXRcbiAgICAgICAgICAgICAgICAgICAgaWYgKFBsYXllci5NUEFbTW9kdWxlVGl0bGUuUHJvZmlsZV0uaGFyZGNvcmUpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIChkZWZhdWx0U2V0dGluZ3NbTW9kdWxlVGl0bGUuUHJvZmlsZV0/LmhhcmRjb3JlIGFzIGFueSk/Lm9uU2V0KFBsYXllcik7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBDYXRjaCBWaXJ0dWFsIFBldCBsZXZlbHMgdXAgdG8gZGF0ZSBpZiBpdCB3YXMgdHVybmVkIG9uIC8gb2ZmXG4gICAgICAgICAgICAgICAgICAgIGlmICh2cEVuYWJsZWQgIT09IFBsYXllci5NUEFbTW9kdWxlVGl0bGUuVmlydHVhbFBldF0uZW5hYmxlZClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgUGxheWVyLk1QQVtNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XS5sZXZlbHMubGFzdFVwZGF0ZWQgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoYW5nZWRTZXR0aW5ncy5sZW5ndGggIT09IDApXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE1QQU5vdGlmeVBsYXllcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBMb2NhbGl6ZWRUZXh0KFwiU291cmNlQ2hhcmFjdGVyIGp1c3QgdXBkYXRlZCB5b3VyIFNldHRpbmdzQXJyYXkgc2V0dGluZ3MuXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKFwiU291cmNlQ2hhcmFjdGVyXCIsIHNlbmRlci5OaWNrbmFtZSB8fCBzZW5kZXIuTmFtZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoXCJTZXR0aW5nc0FycmF5XCIsIEFycmF5VG9SZWFkYWJsZVN0cmluZyhjaGFuZ2VkU2V0dGluZ3MpKVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIExldmVsU3luYyhmYWxzZSwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgU2F2ZVN0b3JhZ2UodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIG1vZHVsZTogdGhpcy5UaXRsZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIkVkaXRpbmdTZXR0aW5nc1wiLFxuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKHNlbmRlcjogQ2hhcmFjdGVyLCBfY29udGVudDogTVBBTWVzc2FnZUNvbnRlbnQpOiB2b2lkXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZiAoUGxheWVyLk1QQVtNb2R1bGVUaXRsZS5BdXRob3JpdHldLnNldHRpbmdzTm90aWZ5KVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBOb3RpZnlQbGF5ZXIoTG9jYWxpemVkVGV4dChcIlNvdXJjZUNoYXJhY3RlciBpcyBhY2Nlc3NpbmcgeW91ciBNUEEgc2V0dGluZ3MuXCIpLnJlcGxhY2UoXCJTb3VyY2VDaGFyYWN0ZXJcIiwgc2VuZGVyLk5pY2tuYW1lIHx8IHNlbmRlci5OYW1lKSwgMzAwMDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuICAgIH1cblxuICAgIExvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3VwZXIuTG9hZCgpO1xuXG4gICAgICAgIC8vIFByaW8gaGFzIHRvIGJlIDEgbW9yZSB0aGFuIExTQ0cgb3IgQkNYIGhvb2tzXG4gICAgICAgIGNvbnN0IGhvb2tQcmlvcml0eSA9IDEyO1xuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJJbmZvcm1hdGlvblNoZWV0UnVuXCIsIGhvb2tQcmlvcml0eSwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIExTQ0cgb3IgQkNYIHN1YnNjcmVlbnMgb3BlbiBpbnN0ZWFkXG4gICAgICAgICAgICBpZiAod2luZG93LmJjeD8uaW5CY3hTdWJzY3JlZW4oKSB8fCB3aW5kb3cuTFNDR19SRU1PVEVfV0lORE9XX09QRU4pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIE1QQSBTZXR0aW5ncyBhcmUgb3BlblxuICAgICAgICAgICAgaWYgKHdpbmRvdy5NUEEubWVudUxvYWRlZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGFyID0gSW5mb3JtYXRpb25TaGVldFNlbGVjdGlvbjtcbiAgICAgICAgICAgICAgICBpZiAoY2hhcj8uTVBBICYmICFjaGFyLklzUGxheWVyKCkgJiYgY3VycmVudE1lbnUgPT0gbnVsbClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIERyYXdUZXh0Rml0KFxuICAgICAgICAgICAgICAgICAgICAgICAgYCR7TG9jYWxpemVkVGV4dChcIllvdXIgVmVyc2lvblwiKX06ICR7UGxheWVyLk1QQS52ZXJzaW9ufWAsXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5WRVJTSU9OX1RFWFRfU0VMRixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiQmxhY2tcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiR3JheVwiXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIERyYXdUZXh0Rml0KFxuICAgICAgICAgICAgICAgICAgICAgICAgYCR7TG9jYWxpemVkVGV4dChcIlRhcmdldENoYXJhY3RlcidzIFZlcnNpb25cIil9OiAke2NoYXI/Lk1QQS52ZXJzaW9ufWAucmVwbGFjZShcIlRhcmdldENoYXJhY3RlclwiLCBjaGFyPy5OaWNrbmFtZSB8fCBjaGFyPy5OYW1lKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLlZFUlNJT05fVEVYVF9PVEhFUixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiQmxhY2tcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiR3JheVwiXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFByZWZlcmVuY2VNZW51UnVuKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBuZXh0KGFyZ3MpO1xuICAgICAgICAgICAgLy8gRHJhdyB0aGUgcmVtb3RlIGludG8gc2V0dGluZ3MgYnV0dG9uIGlmIGFwcGxpY2FibGVcbiAgICAgICAgICAgIGNvbnN0IGNoYXIgPSBJbmZvcm1hdGlvblNoZWV0U2VsZWN0aW9uO1xuICAgICAgICAgICAgaWYgKGNoYXI/Lk1QQSAmJiAhY2hhci5Jc1BsYXllcigpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjY2VzcyA9IFNlcnZlckNoYXRSb29tR2V0QWxsb3dJdGVtKFBsYXllciwgY2hhcik7XG4gICAgICAgICAgICAgICAgRHJhd0J1dHRvbihcbiAgICAgICAgICAgICAgICAgICAgLi4uKChiY3hGb3VuZCgpID8gTVBBX1JFTU9URV9CQ1ggOiBNUEFfUkVNT1RFKSBhcyByZWFkb25seSBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgbnVtYmVyXSksXG4gICAgICAgICAgICAgICAgICAgIFwiXCIsXG4gICAgICAgICAgICAgICAgICAgIGFjY2VzcyA/IFwiI2ZmZmZmZlwiIDogXCIjYWFhYWFhXCIsXG4gICAgICAgICAgICAgICAgICAgIElDT05TLlBBVyxcbiAgICAgICAgICAgICAgICAgICAgTG9jYWxpemVkVGV4dChhY2Nlc3MgPyBcIk1QQVwiIDogXCJNUEE6IE5vIEJDIGl0ZW0gcGVybWlzc2lvblwiKSxcbiAgICAgICAgICAgICAgICAgICAgZmFsc2VcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJJbmZvcm1hdGlvblNoZWV0Q2xpY2tcIiwgaG9va1ByaW9yaXR5LCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgLy8gTFNDRyBvciBCQ1ggc3Vic2NyZWVucyBvcGVuIGluc3RlYWRcbiAgICAgICAgICAgIGlmICh3aW5kb3cuYmN4Py5pbkJjeFN1YnNjcmVlbigpIHx8IHdpbmRvdy5MU0NHX1JFTU9URV9XSU5ET1dfT1BFTilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHdpbmRvdy5NUEEubWVudUxvYWRlZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUHJlZmVyZW5jZU1lbnVDbGljaygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBjaGFyID0gSW5mb3JtYXRpb25TaGVldFNlbGVjdGlvbjtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBNb3VzZUluKC4uLigoYmN4Rm91bmQoKSA/IE1QQV9SRU1PVEVfQkNYIDogTVBBX1JFTU9URSkgYXMgcmVhZG9ubHkgW251bWJlciwgbnVtYmVyLCBudW1iZXIsIG51bWJlcl0pKVxuICAgICAgICAgICAgICAgICYmIGNoYXI/Lk1QQVxuICAgICAgICAgICAgICAgICYmICFjaGFyLklzUGxheWVyKClcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cuTVBBLm1lbnVMb2FkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIC8vIE1QQSBpcyBkZWZpbmVkIGZyb20gY2hlY2sgYWJvdmUsIHNvIG90aGVyIGNoYXJhY3RlciBpcyBzYW1lIGFzIHNlbGYgaW4gc3RydWN0dXJlXG4gICAgICAgICAgICAgICAgU2V0U2V0dGluZ0NoYXIoY2hhciBhcyBQbGF5ZXJDaGFyYWN0ZXIpO1xuICAgICAgICAgICAgICAgIFNlbmRNUEFNZXNzYWdlKHsgbWVzc2FnZTogXCJFZGl0aW5nU2V0dGluZ3NcIiB9LCBjaGFyLk1lbWJlck51bWJlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIkluZm9ybWF0aW9uU2hlZXRFeGl0XCIsIGhvb2tQcmlvcml0eSwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh3aW5kb3cuTVBBLm1lbnVMb2FkZWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgRXhpdEJ1dHRvblByZXNzZWQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgVW5sb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLlVubG9hZCgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IE1vZHVsZSwgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi9fbW9kdWxlXCI7XG5pbXBvcnQgeyBCRURfQkFELCBCRURfTk9STUFMLCBCRURfUEVSRkVDVCwgT1JHQVNNX0FDVElWSVRZX1JFR0VYIH0gZnJvbSBcIi4uL3V0aWwvY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBIb29rRnVuY3Rpb24gfSBmcm9tIFwiLi4vdXRpbC9zZGtcIjtcbmltcG9ydCB7IFNhdmVTdG9yYWdlIH0gZnJvbSBcIi4uL3V0aWwvc3RvcmFnZVwiO1xuaW1wb3J0IHsgRmluZENoYXJhY3RlckluUm9vbSwgR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5LCBTZW5kQWN0aW9uIH0gZnJvbSBcIi4uL3V0aWwvbWVzc2FnaW5nXCI7XG5pbXBvcnQgeyBSZWNvcmRTeW5jIH0gZnJvbSBcIi4vZGF0YVN5bmNcIjtcbmltcG9ydCB7IElzSGFyZGNvcmVPbiB9IGZyb20gXCIuL3Byb2ZpbGVcIjtcbmltcG9ydCB7IFJhbmRvbUVsZW1lbnQgfSBmcm9tIFwiLi4vdXRpbC9nZW5lcmFsXCI7XG5cbmNvbnN0IE1BWF9TRVRUSU5HX1RJTUVfSE9VUlMgPSAxNjg7XG5cbmNvbnN0IFBsYXllclZQOiAoQz86IENoYXJhY3RlcikgPT4gTVBBUmVjb3JkID0gKEM6IENoYXJhY3RlciA9IFBsYXllcikgPT5cbntcbiAgICByZXR1cm4gQy5NUEE/LltNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XSA/PyB7fTtcbn07XG5cbi8vIGNvbnN0IENIQVJBQ1RFUlNfTU9WSU5HID0gW1wiU2VydmVyTW92ZVJpZ2h0XCIsIFwiU2VydmVyU3dhcFwiLCBcIlNlcnZlck1vdmVMZWZ0XCJdO1xuXG5jb25zdCBCT1dMX0NPTlNVTUVfUkVDT1ZFUlkgPSAwLjY3O1xuY29uc3QgSVRFTV9DT05VTUVfUkVDT1ZFUlkgPSAwLjMzO1xuXG5jb25zdCBBQ1RJVklUSUVTX0ZPT0RfR0FJTiA9IFtcIkxTQ0dfRWF0XCIsIFwiVGhyb3dJdGVtXCJdO1xuY29uc3QgQUNUSVZJVElFU19XQVRFUl9HQUlOID0gW1wiTFNDR19GdW5uZWxQb3VyXCIsIFwiTFNDR19RdWFmZlwiXTtcblxuY29uc3QgRU1PVElDT05TX1NMRUVQID0gW1wiU2xlZXBcIiwgXCJBZmtcIiwgXCJGb3JrXCIsIFwiQ29kaW5nXCIsIFwiUmVhZFwiXTtcblxuY29uc3QgQUZGRUNUSU9OX0FDVElWSVRZX0xPVkUgPSBbXCJQZXRcIiwgXCJUYWtlQ2FyZVwiLCBcIkxTQ0dfTnV6emxlXCIsIFwiQ2FyZXNzXCIsIFwiTFNDR19IdWdcIiwgXCJTY3JhdGNoXCJdO1xuY29uc3QgQUZGRUNUSU9OX0FDVElWSVRZX0xJS0UgPSBbXCJLaXNzXCIsIFwiTWFzc2FnZUhhbmRzXCIsIFwiTGlja1wiLCBcIk5pYmJsZVwiLCBcIkN1ZGRsZVwiLCBcIkdyb3BlXCJdO1xuY29uc3QgQUZGRUNUSU9OX0FDVElWSVRZX01BU08gPSBbXCJTcGFua1wiLCBcIlNsYXBcIiwgXCJCaXRlXCIsIFwiUGluY2hcIiwgXCJQdWxsXCIsIFwiU2hvY2tJdGVtXCIsIFwiU3BhbmtJdGVtXCJdO1xuY29uc3QgQUZGRUNUSU9OX0xPVkVfQkFTRSA9IDAuMDU7XG5jb25zdCBBRkZFQ1RJT05fTElLRV9CQVNFID0gMC4wMztcbmNvbnN0IEFGRkVDVElPTl9NQVNPX0JBU0UgPSAtMC4wNDtcblxuY29uc3QgQUZGRUNUSU9OX1pPTkVfQUZGRUNUSU9OOiBQYXJ0aWFsPFJlY29yZDxBc3NldEdyb3VwSXRlbU5hbWUsIG51bWJlcj4+ID0ge1xuICAgIEl0ZW1Bcm1zOiAxLFxuICAgIEl0ZW1Cb290czogMC44LFxuICAgIEl0ZW1CcmVhc3Q6IDEuNSxcbiAgICBJdGVtQnV0dDogMS41LFxuICAgIEl0ZW1FYXJzOiAyLjUsXG4gICAgSXRlbUZlZXQ6IDAuOCxcbiAgICBJdGVtSGFuZHM6IDEsXG4gICAgSXRlbUhlYWQ6IDMsXG4gICAgSXRlbUxlZ3M6IDEsXG4gICAgSXRlbU1vdXRoOiAyLFxuICAgIEl0ZW1OZWNrOiAxLjIsXG4gICAgSXRlbU5pcHBsZXM6IDEuNSxcbiAgICBJdGVtTm9zZTogMS43LFxuICAgIEl0ZW1QZWx2aXM6IDEuMyxcbiAgICBJdGVtVG9yc286IDEsXG4gICAgSXRlbVZ1bHZhOiAyLFxuICAgIEl0ZW1WdWx2YVBpZXJjaW5nczogMi41XG59O1xuXG5jb25zdCBNSU5fT0ZGTElORV9EUkFJTl9MRVZFTCA9IDAuMjtcblxuY29uc3QgTEFTVF9PTkxJTkVfSU5URVJWQUxfTVMgPSAxMDAwMDtcbmxldCBsYXN0T25saW5lSW50ZXJ2YWw6IG51bWJlcjtcblxuLy8gU2V4IFBldFxuY29uc3QgU0VYX1BFVF9BQ1RJVklUSUVTID0gW1wiTGlja1wiLCBcIk1hc3R1cmJhdGVUb25ndWVcIiwgXCJLaXNzXCIsIFwiTmliYmxlXCIsIFwiTFNDR19UaHJvYXRcIiwgXCJMU0NHX1N1Y2tcIl07XG5jb25zdCBTRVhfUEVUX0FDVElWSVRJRVNfT1RIRVIgPSBbXCJQZW5ldHJhdGVTbG93XCIsIFwiUGVuZXRyYXRlRmFzdFwiLCBcIlJ1Ykl0ZW1cIiwgXCJMU0NHX1NsYXBQZW5pc1wiXTtcbmNvbnN0IFNFWF9QRVRfUkVHSU9OUyA9IFtcIkl0ZW1WdWx2YVwiLCBcIkl0ZW1WdWx2YVBpZXJjaW5nc1wiLCBcIkl0ZW1CdXR0XCJdO1xuY29uc3QgU0VYX1BFVF9SRUNPVkVSWSA9IE9iamVjdC5mcmVlemUoe1xuICAgIE9mZjogMCxcbiAgICBMb3c6IDAuMDUsXG4gICAgTWVkaXVtOiAwLjEsXG4gICAgSGlnaDogMC4yXG59KTtcbmNvbnN0IFNFWF9QRVRfVEhJUlNUX01PRCA9IDc7XG5jb25zdCBTRVhfUEVUX09SR0FTTV9USU1FX01TID0gMS41ICogNjAgKiAxMDAwO1xuY29uc3QgcGVyZm9ybWVkT3JhbE9uOiBSZWNvcmQ8bnVtYmVyLCBudW1iZXI+ID0ge307XG5cbmNvbnN0IFNFWF9QRVRfRFJJTksgPSBPYmplY3QuZnJlZXplKHtcbiAgICBGRU1BTEU6IFtcbiAgICAgICAgXCJTb3VyY2VDaGFyYWN0ZXIgZ2FzcHMgYW5kIHNwdXR0ZXJzIGFzIFByb25vdW5TdWJqZWN0IHNsdXJwcyB1cCBhbGwgb2YgRGVzdGluYXRpb25DaGFyYWN0ZXIgY2xpbWF4LlwiLFxuICAgICAgICBcIlNvdXJjZUNoYXJhY3RlciBzbWlsZXMgYXMgUHJvbm91blN1YmplY3QgZWFnZXJseSBndWxwcyBkb3duIERlc3RpbmF0aW9uQ2hhcmFjdGVyIGVqYWN1bGF0ZSwgd2l0aCBzb21lIGRyaXBwaW5nIGRvd24gUHJvbm91blBvc3Nlc3NpdmUgY2hpbi5cIixcbiAgICAgICAgXCJTb3VyY2VDaGFyYWN0ZXIgb3BlbnMgUHJvbm91blBvc3Nlc3NpdmUgbW91dGggd2lkZSB0cnlpbmcgdG8gY2F0Y2ggYW5kIHN3YWxsb3cgYXMgbXVjaCBvZiBEZXN0aW5hdGlvbkNoYXJhY3RlciBzcXVpcnQuXCJcbiAgICBdLFxuICAgIE1BTEU6IFtcbiAgICAgICAgXCJTb3VyY2VDaGFyYWN0ZXIgb3BlbnMgUHJvbm91blBvc3Nlc3NpdmUgbW91dGggYXMgVGFyZ2V0Q2hhcmFjdGVyIHNob290cyBUYXJnZXRQcm9ub3VuUG9zc2Vzc2l2ZSBsb2FkLCBoaXR0aW5nIHRoZSBiYWNrIG9mIFByb25vdW5Qb3NzZXNzaXZlIHRocm9hdC5cIixcbiAgICAgICAgXCJTb3VyY2VDaGFyYWN0ZXIgd3JhcHMgUHJvbm91blBvc3Nlc3NpdmUgbGlwcyBhcm91bmQgRGVzdGluYXRpb25DaGFyYWN0ZXIgc2hhZnQgdG8gc3dhbGxvdyBhbmQgbm90IHdhc3RlIGEgZHJvcCBvZiBUYXJnZXRQcm9ub3VuUG9zc2Vzc2l2ZSBjdW0uXCIsXG4gICAgICAgIFwiVGFyZ2V0Q2hhcmFjdGVyIHB1bXBzIFRhcmdldFByb25vdW5Qb3NzZXNzaXZlIGxvYWQgaW50byBTb3VyY2VDaGFyYWN0ZXIncyBhd2FpdGluZyBtb3V0aCwgbG9va2luZyB1cCBhdCBUYXJnZXRDaGFyYWN0ZXIgd2l0aCBwcmlkZSBhcyBTb3VyY2VDaGFyYWN0ZXIgc3dhbGxvd3MgaXQgYWxsLlwiXG4gICAgXVxufSk7XG5cbmV4cG9ydCBjb25zdCBJc1NsZWVwaW5nRXhwcmVzc2lvbiA9IChjaGFyOiBDaGFyYWN0ZXIpOiBib29sZWFuID0+XG57XG4gICAgcmV0dXJuIChcbiAgICAgICAgY2hhci5BcHBlYXJhbmNlLmZpbmQoKHgpID0+IHguQXNzZXQuR3JvdXAuTmFtZSA9PT0gXCJFeWVzXCIpPy5Qcm9wZXJ0eT8uRXhwcmVzc2lvbiA9PT0gXCJDbG9zZWRcIlxuICAgICAgICAmJiBjaGFyLkFwcGVhcmFuY2UuZmluZCgoeCkgPT4geC5Bc3NldC5Hcm91cC5OYW1lID09PSBcIkV5ZXMyXCIpPy5Qcm9wZXJ0eT8uRXhwcmVzc2lvbiA9PT0gXCJDbG9zZWRcIlxuICAgICAgICAmJiBFTU9USUNPTlNfU0xFRVAuaW5jbHVkZXMoY2hhci5BcHBlYXJhbmNlLmZpbmQoKHgpID0+IHguQXNzZXQuR3JvdXAuTmFtZSA9PT0gXCJFbW90aWNvblwiKT8uUHJvcGVydHk/LkV4cHJlc3Npb24gPz8gXCJcIilcbiAgICApO1xufTtcbmV4cG9ydCBjb25zdCBJc0JlZE11bHRpcGxpZXIgPSAoY2hhcjogQ2hhcmFjdGVyKTogbnVtYmVyID0+XG57XG4gICAgY29uc3QgZGV2aWNlID0gSW52ZW50b3J5R2V0KGNoYXIsIFwiSXRlbURldmljZXNcIik/LkFzc2V0Lk5hbWUgPz8gXCJcIjtcbiAgICByZXR1cm4gKFxuICAgICAgICBCRURfUEVSRkVDVC5pbmNsdWRlcyhkZXZpY2UpID8gMTAgOiBCRURfTk9STUFMLmluY2x1ZGVzKGRldmljZSkgPyA1IDogQkVEX0JBRC5pbmNsdWRlcyhkZXZpY2UpID8gMiA6IDFcbiAgICApO1xufTtcblxubGV0IHBsYXllclNsZWVwaW5nRXhwcmVzc2lvbiA9IGZhbHNlO1xubGV0IHBsYXllckJlZE11bHRpcGxpZXIgPSAxO1xuXG5leHBvcnQgdHlwZSBWaXJ0dWFsUGV0U3RhdENhdGVnb3J5ID0gXCJmb29kXCIgfCBcIndhdGVyXCIgfCBcInNsZWVwXCIgfCBcImFmZmVjdGlvblwiO1xuZXhwb3J0IHR5cGUgVmlydHVhbFBldEhvdXJDYXRlZ29yaWVzID0gYCR7VmlydHVhbFBldFN0YXRDYXRlZ29yeX1Ib3Vyc2A7XG5leHBvcnQgaW50ZXJmYWNlIFZpcnR1YWxQZXRTdGF0XG57XG4gICAgc3RhdDogVmlydHVhbFBldFN0YXRDYXRlZ29yeTtcbiAgICBsZXZlbDogbnVtYmVyO1xufVxuXG5mdW5jdGlvbiBTbGVlcENoYW5nZUNoZWNrKHN5bmM6IGJvb2xlYW4gPSB0cnVlKTogdm9pZFxue1xuICAgIGlmIChcbiAgICAgICAgUGxheWVyVlAoKS5lbmFibGVkXG4gICAgICAgICYmIFBsYXllclZQKCkuc2xlZXBIb3VycyAhPT0gMFxuICAgICAgICAmJiAocGxheWVyU2xlZXBpbmdFeHByZXNzaW9uICE9PSBJc1NsZWVwaW5nRXhwcmVzc2lvbihQbGF5ZXIpXG4gICAgICAgICAgfHwgcGxheWVyQmVkTXVsdGlwbGllciAhPT0gSXNCZWRNdWx0aXBsaWVyKFBsYXllcikpXG4gICAgKVxuICAgIHtcbiAgICAgICAgLy8gaWYgYSBjaGFuZ2UgaW4gc2xlZXBpbmcgZXhwcmVzc2lvbiBvciBiZWQgbXVsdGlwbGllciwgc3luYyBsZXZlbHNcbiAgICAgICAgaWYgKHN5bmMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIExldmVsU3luYygpO1xuICAgICAgICB9XG4gICAgICAgIHBsYXllclNsZWVwaW5nRXhwcmVzc2lvbiA9IElzU2xlZXBpbmdFeHByZXNzaW9uKFBsYXllcik7XG4gICAgICAgIHBsYXllckJlZE11bHRpcGxpZXIgPSBJc0JlZE11bHRpcGxpZXIoUGxheWVyKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIFN0YXRNb2RpZmllcihzdGF0OiBWaXJ0dWFsUGV0U3RhdENhdGVnb3J5LCBzb3VyY2VDaGFyPzogQ2hhcmFjdGVyKTogbnVtYmVyXG57XG4gICAgbGV0IG1vZGlmaWVyID0gMTtcblxuICAgIC8vIEZyb20gb3duZXJzLCArNTAlXG4gICAgaWYgKHNvdXJjZUNoYXI/LklzT3duZXIoKSlcbiAgICB7XG4gICAgICAgIG1vZGlmaWVyICs9IDAuNTtcbiAgICB9XG4gICAgLy8gbG92ZXJzICszNSVcbiAgICBlbHNlIGlmIChzb3VyY2VDaGFyPy5Jc0xvdmVyT2ZQbGF5ZXIoKSlcbiAgICB7XG4gICAgICAgIG1vZGlmaWVyICs9IDAuMzU7XG4gICAgfVxuICAgIC8vIHN1YnMgKzI1JVxuICAgIGVsc2UgaWYgKHNvdXJjZUNoYXI/LklzRmFtaWx5T2ZQbGF5ZXIoKSlcbiAgICB7XG4gICAgICAgIG1vZGlmaWVyICs9IDAuMjU7XG4gICAgfVxuXG4gICAgLy8gSGFyZCB0byBlYXQgb3IgZHJpbmsgd2hpbGUgcmluZyBnYWdnZWRcbiAgICBpZiAoc3RhdCA9PT0gXCJmb29kXCIgfHwgc3RhdCA9PT0gXCJ3YXRlclwiKVxuICAgIHtcbiAgICAgICAgaWYgKCFQbGF5ZXIuQ2FuVGFsaygpKVxuICAgICAgICB7XG4gICAgICAgICAgICBtb2RpZmllciAtPSAwLjU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyAzJSBib251cyBmb3IgZWFjaCByZXN0cmFpbnQgd29yblxuICAgIG1vZGlmaWVyICs9IDAuMDMgKiBQbGF5ZXIuQXBwZWFyYW5jZS5maWx0ZXIoKHgpID0+IHguQXNzZXQuRHluYW1pY0dyb3VwTmFtZS5zdGFydHNXaXRoKFwiSXRlbVwiKSkubGVuZ3RoO1xuXG4gICAgLy8gNTAlIGJvbnVzIGZvciBiZWluZyBvbiBhbGwgZm91cnNcbiAgICBpZiAoUGxheWVyLlBvc2VNYXBwaW5nLkJvZHlGdWxsID09PSBcIkFsbEZvdXJzXCIpXG4gICAge1xuICAgICAgICBtb2RpZmllciArPSAwLjU7XG4gICAgfVxuXG4gICAgLy8gRm9vZCBhbmQgd2F0ZXIgbW9kaWZpZXMgYWZmZWN0aW9uIGdhaW5cbiAgICBpZiAoXG4gICAgICAgIHN0YXQgPT09IFwiYWZmZWN0aW9uXCJcbiAgICAgICAgJiYgUGxheWVyLk1QQVtNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9uc10uZW5hYmxlZFxuICAgICAgICAmJiBQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLlZpcnR1YWxQZXRDb25kaXRpb25zXS5mb29kTk9XXG4gICAgKVxuICAgIHtcbiAgICAgICAgY29uc3QgbnVtczogbnVtYmVyW10gPSBbXTtcbiAgICAgICAgaWYgKFBsYXllclZQKCkuZm9vZEhvdXJzICE9PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBudW1zLnB1c2goR2V0Q2hhcmFjdGVyQ3VycmVudFN0YXRWYWx1ZShQbGF5ZXIsIFwiZm9vZFwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFBsYXllclZQKCkud2F0ZXJIb3VycyAhPT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgbnVtcy5wdXNoKEdldENoYXJhY3RlckN1cnJlbnRTdGF0VmFsdWUoUGxheWVyLCBcIndhdGVyXCIpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobnVtcy5sZW5ndGggIT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIG1vZGlmaWVyICo9IG51bXMucmVkdWNlKChzdW0sIG51bSkgPT4gc3VtICsgbnVtLCAwKSAvIG51bXMubGVuZ3RoIC8gMC43NTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBNYXRoLm1heCgwLCBtb2RpZmllcik7XG59XG5cbmZ1bmN0aW9uIFZlcmlmeVZhbGlkU3RhdChzdGF0OiBWaXJ0dWFsUGV0U3RhdENhdGVnb3J5KTogYm9vbGVhblxue1xuICAgIGNvbnN0IGxldmVsID0gUGxheWVyVlAoKS5sZXZlbHNbc3RhdF07XG4gICAgUGxheWVyVlAoKS5sZXZlbHNbc3RhdF0gPSBNYXRoLm1pbihNYXRoLm1heChsZXZlbCwgMCksIDEpO1xuICAgIHJldHVybiAwIDw9IGxldmVsICYmIGxldmVsIDw9IDE7XG59XG5cbmZ1bmN0aW9uIEhvdXJUb01TKGhvdXJzOiBudW1iZXIpXG57XG4gICAgcmV0dXJuIGhvdXJzICogNjAgKiA2MCAqIDEwMDA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBDYWxjdWxhdGVDdXJyZW50VmFsdWUodmFsdWU6IG51bWJlciwgZHVyYXRpb246IG51bWJlciwgbGFzdFVwZGF0ZWQ6IG51bWJlciwgbGFzdE9ubGluZT86IG51bWJlciwgZmlyc3RSdW5DaGVjazogYm9vbGVhbiA9IGZhbHNlLCBDOiBDaGFyYWN0ZXIgPSBQbGF5ZXIpOiBudW1iZXJcbntcbiAgICAvKiogSG93IGxvbmcgaW4gbXMgaGFzIGVsYXNwZWQgc2luY2Ugbm93IG9yIGxhc3Qgb25saW5lICovXG4gICAgY29uc3QgZGlmZjogbnVtYmVyID0gKGxhc3RPbmxpbmUgPyBsYXN0T25saW5lIDogRGF0ZS5ub3coKSkgLSBsYXN0VXBkYXRlZDtcbiAgICBjb25zdCBjdXJyZW50VmFsdWUgPSBNYXRoLm1heCgwLCBNYXRoLm1pbih2YWx1ZSAtIChkaWZmIC8gSG91clRvTVMoZHVyYXRpb24pKSwgMSkpO1xuICAgIC8vIE1heCBkcmFpbiBkb3duIHRvIDIwJSB3aGlsZSBvZmZsaW5lXG4gICAgaWYgKGZpcnN0UnVuQ2hlY2sgJiYgdmFsdWUgPiBNSU5fT0ZGTElORV9EUkFJTl9MRVZFTCAmJiBjdXJyZW50VmFsdWUgPCBNSU5fT0ZGTElORV9EUkFJTl9MRVZFTClcbiAgICB7XG4gICAgICAgIGNvbnN0IGRpZmYyOiBudW1iZXIgPSBQbGF5ZXJWUChDKS5sZXZlbHMubGFzdE9ubGluZSAtIGxhc3RVcGRhdGVkO1xuICAgICAgICBjb25zdCBuZXdWYWx1ZTIgPSBNYXRoLm1heCgwLCBNYXRoLm1pbih2YWx1ZSAtIChkaWZmMiAvIEhvdXJUb01TKGR1cmF0aW9uKSksIDEpKTtcbiAgICAgICAgcmV0dXJuIE1hdGgubWluKE1JTl9PRkZMSU5FX0RSQUlOX0xFVkVMLCBuZXdWYWx1ZTIpO1xuICAgIH1cbiAgICByZXR1cm4gY3VycmVudFZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gR2V0Q2hhcmFjdGVyQ3VycmVudFN0YXRWYWx1ZShjaGFyYWN0ZXI6IENoYXJhY3Rlciwgc3RhdDogVmlydHVhbFBldFN0YXRDYXRlZ29yeSk6IG51bWJlclxue1xuICAgIGNvbnN0IGNoYXJTdGF0cyA9IGNoYXJhY3Rlcj8uTVBBPy5bTW9kdWxlVGl0bGUuVmlydHVhbFBldF07XG4gICAgaWYgKCFjaGFyU3RhdHMpXG4gICAge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgaWYgKHN0YXQgPT09IFwic2xlZXBcIilcbiAgICB7XG4gICAgICAgIGNvbnN0IGx2bCA9IChJc1NsZWVwaW5nRXhwcmVzc2lvbihjaGFyYWN0ZXIpIHx8IElzQmVkTXVsdGlwbGllcihjaGFyYWN0ZXIpICE9PSAxKSA/XG4gICAgICAgICAgICBjaGFyU3RhdHMubGV2ZWxzLnNsZWVwICsgKERhdGUubm93KCkgLSBjaGFyU3RhdHMubGV2ZWxzLmxhc3RVcGRhdGVkKSAvIChjaGFyU3RhdHMuc2xlZXBIb3VycyAqIDYwICogNjAgKiAxMDAwKSAqIElzQmVkTXVsdGlwbGllcihjaGFyYWN0ZXIpICogKElzU2xlZXBpbmdFeHByZXNzaW9uKGNoYXJhY3RlcikgPyA1IDogMSkgOlxuICAgICAgICAgICAgQ2FsY3VsYXRlQ3VycmVudFZhbHVlKGNoYXJTdGF0cy5sZXZlbHMuc2xlZXAsIGNoYXJTdGF0cy5zbGVlcEhvdXJzLCBjaGFyU3RhdHMubGV2ZWxzLmxhc3RVcGRhdGVkKTtcbiAgICAgICAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKDEsIGx2bCkpO1xuICAgIH1cblxuICAgIHJldHVybiBDYWxjdWxhdGVDdXJyZW50VmFsdWUoY2hhclN0YXRzLmxldmVsc1tzdGF0XSwgY2hhclN0YXRzW2Ake3N0YXR9SG91cnNgXSwgY2hhclN0YXRzLmxldmVscy5sYXN0VXBkYXRlZCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBMZXZlbFN5bmMocHVzaFRvU3RvcmFnZTogYm9vbGVhbiA9IHRydWUsIHJlY29yZFN5bmM6IGJvb2xlYW4gPSB0cnVlLCBmaXJzdFN5bmM6IGJvb2xlYW4gPSBmYWxzZSk6IHZvaWRcbntcbiAgICAvLyBWaXJ0dWFsIHBldCBpcyBub3QgZW5hYmxlZCBzbyBkbyBub3RoaW5nXG4gICAgaWYgKCFQbGF5ZXJWUCgpLmVuYWJsZWQpXG4gICAge1xuICAgICAgICBQbGF5ZXJWUCgpLmxldmVscy5sYXN0VXBkYXRlZCA9IERhdGUubm93KCk7XG4gICAgICAgIFBsYXllclZQKCkubGV2ZWxzLmxhc3RPbmxpbmUgPSBEYXRlLm5vdygpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgdXBkYXRlOiBudW1iZXIgPSBQbGF5ZXJWUCgpLmxldmVscy5sYXN0VXBkYXRlZCA/PyBEYXRlLm5vdygpO1xuICAgIGNvbnN0IG9ubGluZTogbnVtYmVyIHwgdW5kZWZpbmVkID0gIVBsYXllclZQKCkub2ZmbGluZURyYWluID8gUGxheWVyVlAoKS5sZXZlbHMubGFzdE9ubGluZSA6IHVuZGVmaW5lZDtcblxuICAgIGNvbnN0IGZvb2QgPSBQbGF5ZXJWUCgpLmZvb2RIb3VycztcbiAgICBpZiAoZm9vZCAhPT0gMClcbiAgICB7XG4gICAgICAgIFBsYXllclZQKCkubGV2ZWxzLmZvb2QgPSBDYWxjdWxhdGVDdXJyZW50VmFsdWUoUGxheWVyVlAoKS5sZXZlbHMuZm9vZCwgZm9vZCwgdXBkYXRlLCBvbmxpbmUsIGZpcnN0U3luYyk7XG4gICAgfVxuICAgIGNvbnN0IHdhdGVyID0gUGxheWVyVlAoKS53YXRlckhvdXJzO1xuICAgIGlmICh3YXRlciAhPT0gMClcbiAgICB7XG4gICAgICAgIFBsYXllclZQKCkubGV2ZWxzLndhdGVyID0gQ2FsY3VsYXRlQ3VycmVudFZhbHVlKFBsYXllclZQKCkubGV2ZWxzLndhdGVyLCB3YXRlciwgdXBkYXRlLCBvbmxpbmUsIGZpcnN0U3luYyk7XG4gICAgfVxuICAgIGNvbnN0IHNsZWVwID0gUGxheWVyVlAoKS5zbGVlcEhvdXJzO1xuICAgIGlmIChzbGVlcCAhPT0gMClcbiAgICB7XG4gICAgICAgIGlmICgoZmlyc3RTeW5jICYmICFvbmxpbmUpXG4gICAgICAgICAgfHwgcGxheWVyU2xlZXBpbmdFeHByZXNzaW9uXG4gICAgICAgICAgfHwgcGxheWVyQmVkTXVsdGlwbGllciAhPT0gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgZHVyYXRpb25Ub1VzZSA9IGZpcnN0U3luYyA/IChEYXRlLm5vdygpIC0gUGxheWVyVlAoKS5sZXZlbHMubGFzdE9ubGluZSkgLSAoUGxheWVyVlAoKS5sZXZlbHMubGFzdE9ubGluZSAtIHVwZGF0ZSkgOiBEYXRlLm5vdygpIC0gdXBkYXRlO1xuICAgICAgICAgICAgY29uc3QgbmV3U2xlZXAgPSBQbGF5ZXJWUCgpLmxldmVscy5zbGVlcCArIChkdXJhdGlvblRvVXNlKSAvIEhvdXJUb01TKHNsZWVwKSAqIHBsYXllckJlZE11bHRpcGxpZXIgKiAocGxheWVyU2xlZXBpbmdFeHByZXNzaW9uID8gNSA6IDEpO1xuICAgICAgICAgICAgUGxheWVyVlAoKS5sZXZlbHMuc2xlZXAgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxLCBuZXdTbGVlcCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgUGxheWVyVlAoKS5sZXZlbHMuc2xlZXAgPSBDYWxjdWxhdGVDdXJyZW50VmFsdWUoUGxheWVyVlAoKS5sZXZlbHMuc2xlZXAsIHNsZWVwLCB1cGRhdGUsIG9ubGluZSwgZmlyc3RTeW5jKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBhZmZlY3Rpb24gPSBQbGF5ZXJWUCgpLmFmZmVjdGlvbkhvdXJzO1xuICAgIGlmIChhZmZlY3Rpb24gIT09IDApXG4gICAge1xuICAgICAgICBQbGF5ZXJWUCgpLmxldmVscy5hZmZlY3Rpb24gPSBDYWxjdWxhdGVDdXJyZW50VmFsdWUoUGxheWVyVlAoKS5sZXZlbHMuYWZmZWN0aW9uLCBhZmZlY3Rpb24sIHVwZGF0ZSwgb25saW5lLCBmaXJzdFN5bmMpO1xuICAgIH1cbiAgICBQbGF5ZXJWUCgpLmxldmVscy5sYXN0VXBkYXRlZCA9IERhdGUubm93KCk7XG4gICAgUGxheWVyVlAoKS5sZXZlbHMubGFzdE9ubGluZSA9IERhdGUubm93KCk7XG4gICAgLy8gU2F2ZSB0byBsb2NhbCBzdG9yYWdlXG4gICAgaWYgKHB1c2hUb1N0b3JhZ2UpXG4gICAge1xuICAgICAgICBTYXZlU3RvcmFnZShmYWxzZSk7XG4gICAgfVxuICAgIC8vIFN5bmMgbmV3IHN0YXRzIHdpdGggb3RoZXJzXG4gICAgaWYgKHJlY29yZFN5bmMpXG4gICAge1xuICAgICAgICBSZWNvcmRTeW5jKE1vZHVsZVRpdGxlLlZpcnR1YWxQZXQsIFwibGV2ZWxzXCIpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gQ2FuTm9tKCk6IGJvb2xlYW5cbntcbiAgICByZXR1cm4gUGxheWVyVlAoKS5lbmFibGVkICYmIChQbGF5ZXJWUCgpLnNleFBldCA9PT0gXCJPZmZcIiB8fCAhUGxheWVyVlAoKS5zZXhQZXRPbmx5KTtcbn1cblxuZnVuY3Rpb24gQ2FuU2V4KCk6IGJvb2xlYW5cbntcbiAgICByZXR1cm4gUGxheWVyVlAoKS5lbmFibGVkICYmIChQbGF5ZXJWUCgpLnNleFBldCAhPT0gXCJPZmZcIik7XG59XG5cbi8qKlxuICogQHBhcmFtIHN0YXQgLSBTdGF0IHRvIG1vZGlmeVxuICogQHBhcmFtIGFtb3VudCAtIE11c3QgYmUgYmV0d2VlbiAtMSBhbmQgMVxuICogQHBhcmFtIGFwcGx5TW9kaWZpZXIgLSBJZiBhcHBseSB0aGUgXCJQZXQgbGlrZVwiIG1vZGlmaWVyXG4gKiBAcGFyYW0gc3RvcmFnZVB1c2ggLSBJZiBzYXZpbmcgdG8gc3RvcmFnZVxuICovXG5leHBvcnQgZnVuY3Rpb24gTW9kaWZ5U3RhdChzdGF0OiBWaXJ0dWFsUGV0U3RhdENhdGVnb3J5LCBhbW91bnQ6IG51bWJlciwgYXBwbHlNb2RpZmllciA9IHRydWUsIHN0b3JhZ2VQdXNoID0gdHJ1ZSwgc291cmNlQ2hhcj86IENoYXJhY3Rlcik6IHZvaWRcbntcbiAgICBpZiAoYW1vdW50IDwgLTEgJiYgYW1vdW50ID4gMSlcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDYWxjdWxhdGUgdGhlIGN1cnJlbnQgc3RhdHMgYmFzZWQgb24gZHJhaW4gYW5kIHRoZW4gYXBwbHkgbW9kaWZpY2F0aW9ucyBhZnRlciBjaGFuZ2luZyB0aG9zZSB2YWx1ZXMgZmlyc3RcbiAgICBMZXZlbFN5bmMoZmFsc2UsIGZhbHNlLCBmYWxzZSk7XG5cbiAgICBQbGF5ZXJWUCgpLmxldmVsc1tzdGF0XSArPSBhbW91bnQgKiAoKGFwcGx5TW9kaWZpZXIgJiYgYW1vdW50ID4gMCkgPyBTdGF0TW9kaWZpZXIoc3RhdCwgc291cmNlQ2hhcikgOiAxKTtcbiAgICBWZXJpZnlWYWxpZFN0YXQoc3RhdCk7XG5cbiAgICAvLyBTYXZlIHRvIGxvY2FsIHN0b3JhZ2VcbiAgICBpZiAoc3RvcmFnZVB1c2gpXG4gICAge1xuICAgICAgICBTYXZlU3RvcmFnZShmYWxzZSk7XG4gICAgfVxuICAgIC8vIFN5bmMgbmV3IHN0YXRzIHdpdGggb3RoZXJzXG4gICAgUmVjb3JkU3luYyhNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0LCBcImxldmVsc1wiKTtcbn1cblxuZXhwb3J0IGNsYXNzIFZpcnR1YWxQZXRNb2R1bGUgZXh0ZW5kcyBNb2R1bGVcbntcbiAgICBnZXQgVGl0bGUoKTogTW9kdWxlVGl0bGVcbiAgICB7XG4gICAgICAgIHJldHVybiBNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0O1xuICAgIH1cblxuICAgIGdldCBBY3Rpdml0aWVzKCk6IEN1c3RvbUFjdGl2aXR5W11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgTmFtZTogXCJCb3dsRWF0XCIsXG4gICAgICAgICAgICAgICAgVGFyZ2V0czogW3tcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IFwiSXRlbU1vdXRoXCIsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkVhdCBGcm9tIEJvd2xcIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uU2VsZjogXCJTb3VyY2VDaGFyYWN0ZXIgZWF0cyBmcm9tIFByb25vdW5Qb3NzZXNzaXZlIGJvd2wuXCJcbiAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgICAgICBJbWFnZTogXCJBc3NldHMvRmVtYWxlM0RDRy9JdGVtRGV2aWNlcy9QcmV2aWV3L1BldEJvd2wucG5nXCIsXG4gICAgICAgICAgICAgICAgUHJlcmVxdWlzaXRlOiBbXCJVc2VNb3V0aFwiXSxcbiAgICAgICAgICAgICAgICBDdXN0b21QcmVyZXF1aXNpdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgTmFtZTogXCJIYXNCb3dsXCIsXG4gICAgICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogKGFjdGluZywgX2FjdGVkLCBfZ3JvdXApID0+XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBJbnZlbnRvcnlHZXQoYWN0aW5nLCBcIkl0ZW1EZXZpY2VzXCIpPy5Bc3NldD8uTmFtZSA9PT0gXCJQZXRCb3dsXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIE9uVHJpZ2dlcjogKCkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChQbGF5ZXJWUCgpLmVuYWJsZWQgJiYgUGxheWVyVlAoKS5mb29kSG91cnMgIT09IDAgJiYgQ2FuTm9tKCkpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE1vZGlmeVN0YXQoXCJmb29kXCIsIEJPV0xfQ09OU1VNRV9SRUNPVkVSWSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgTmFtZTogXCJCb3dsRHJpbmtcIixcbiAgICAgICAgICAgICAgICBUYXJnZXRzOiBbe1xuICAgICAgICAgICAgICAgICAgICBncm91cDogXCJJdGVtTW91dGhcIixcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFwiRHJpbmsgRnJvbSBCb3dsXCIsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvblNlbGY6IFwiU291cmNlQ2hhcmFjdGVyIGRyaW5rcyBmcm9tIFByb25vdW5Qb3NzZXNzaXZlIGJvd2wuXCJcbiAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgICAgICBJbWFnZTogXCJBc3NldHMvRmVtYWxlM0RDRy9JdGVtRGV2aWNlcy9QcmV2aWV3L1BldEJvd2wucG5nXCIsXG4gICAgICAgICAgICAgICAgUHJlcmVxdWlzaXRlOiBbXCJVc2VNb3V0aFwiXSxcbiAgICAgICAgICAgICAgICBDdXN0b21QcmVyZXF1aXNpdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgTmFtZTogXCJIYXNCb3dsXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIE9uVHJpZ2dlcjogKCkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChQbGF5ZXJWUCgpLmVuYWJsZWQgJiYgUGxheWVyVlAoKS53YXRlckhvdXJzICE9PSAwICYmIENhbk5vbSgpKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBNb2RpZnlTdGF0KFwid2F0ZXJcIiwgQk9XTF9DT05TVU1FX1JFQ09WRVJZLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBOYW1lOiBcIkJvd2xFYXQyXCIsXG4gICAgICAgICAgICAgICAgVGFyZ2V0czogW3tcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IFwiSXRlbU1vdXRoXCIsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkVhdCBGcm9tIEJvd2xcIixcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uU2VsZjogXCJTb3VyY2VDaGFyYWN0ZXIgcHV0cyBQcm9ub3VuUG9zc2Vzc2l2ZSBoZWFkIGludG8gUHJvbm91blBvc3Nlc3NpdmUgYm93bCBpbiBvcmRlciB0byBlYXQgd2l0aCB0aGUgZ2FnLCBtYWtpbmcgYSBtZXNzLlwiXG4gICAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAgICAgSW1hZ2U6IFwiQXNzZXRzL0ZlbWFsZTNEQ0cvSXRlbURldmljZXMvUHJldmlldy9QZXRCb3dsLnBuZ1wiLFxuICAgICAgICAgICAgICAgIFByZXJlcXVpc2l0ZTogW10sXG4gICAgICAgICAgICAgICAgQ3VzdG9tUHJlcmVxdWlzaXRlOiBbXG4gICAgICAgICAgICAgICAgICAgIHsgTmFtZTogXCJIYXNCb3dsXCIgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgTmFtZTogXCJVc2VUb25ndWVOb01vdXRoXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBQcmVyZXF1aXNpdGU6IChhY3RpbmcsIF9hY3RlZCwgX2dyb3VwKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhYWN0aW5nLkNhblRhbGsoKSAmJiAhYWN0aW5nLklzTW91dGhCbG9ja2VkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIE9uVHJpZ2dlcjogKCkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChQbGF5ZXJWUCgpLmVuYWJsZWQgJiYgUGxheWVyVlAoKS5mb29kSG91cnMgIT09IDAgJiYgQ2FuTm9tKCkpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE1vZGlmeVN0YXQoXCJmb29kXCIsIEJPV0xfQ09OU1VNRV9SRUNPVkVSWSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgTmFtZTogXCJCb3dsRHJpbmsyXCIsXG4gICAgICAgICAgICAgICAgVGFyZ2V0czogW3tcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXA6IFwiSXRlbU1vdXRoXCIsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBcIkRyaW5rIEZyb20gQm93bFwiLFxuICAgICAgICAgICAgICAgICAgICBhY3Rpb25TZWxmOiBcIlNvdXJjZUNoYXJhY3RlciBwdXRzIFByb25vdW5Qb3NzZXNzaXZlIGhlYWQgaW50byBQcm9ub3VuUG9zc2Vzc2l2ZSBib3dsIGluIG9yZGVyIHRvIGRyaW5rIHdpdGggdGhlIGdhZywgbWFraW5nIGEgbWVzcy5cIlxuICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgICAgIEltYWdlOiBcIkFzc2V0cy9GZW1hbGUzRENHL0l0ZW1EZXZpY2VzL1ByZXZpZXcvUGV0Qm93bC5wbmdcIixcbiAgICAgICAgICAgICAgICBQcmVyZXF1aXNpdGU6IFtdLFxuICAgICAgICAgICAgICAgIEN1c3RvbVByZXJlcXVpc2l0ZTogW1xuICAgICAgICAgICAgICAgICAgICB7IE5hbWU6IFwiSGFzQm93bFwiIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgTmFtZTogXCJVc2VUb25ndWVOb01vdXRoXCIgfVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgT25UcmlnZ2VyOiAoKSA9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFBsYXllclZQKCkuZW5hYmxlZCAmJiBQbGF5ZXJWUCgpLndhdGVySG91cnMgIT09IDAgJiYgQ2FuTm9tKCkpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE1vZGlmeVN0YXQoXCJ3YXRlclwiLCBCT1dMX0NPTlNVTUVfUkVDT1ZFUlksIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuICAgIH1cblxuICAgIGdldCBTZXR0aW5ncygpOiBTZXR0aW5nW11cbiAgICB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJlbmFibGVkXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICFJc0hhcmRjb3JlT24oQyksXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkJlY29tZSBhIHZpcnR1YWwgcGV0ISBSZXF1aXJpbmc6IGZvb2QsIHdhdGVyLCBzbGVlcCwgYW5kIGFmZmVjdGlvblwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiZm9vZEhvdXJzXCIgYXMgVmlydHVhbFBldEhvdXJDYXRlZ29yaWVzLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IDQsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkhvdyBtYW55IGhvdXJzIHVudGlsIHlvdSBhcmUgY29tcGxldGVseSBvdXQgb2YgZm9vZDsgMCB0byBkaXNhYmxlXCIsXG4gICAgICAgICAgICAgICAgd2lkdGg6IDEyOCxcbiAgICAgICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICAgICAgbWF4OiBNQVhfU0VUVElOR19USU1FX0hPVVJTLFxuICAgICAgICAgICAgICAgIHN0ZXA6IDAuMVxuICAgICAgICAgICAgfSBhcyBOdW1iZXJTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJ3YXRlckhvdXJzXCIgYXMgVmlydHVhbFBldEhvdXJDYXRlZ29yaWVzLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IDQsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkhvdyBtYW55IGhvdXJzIHVudGlsIHlvdSBhcmUgY29tcGxldGVseSBvdXQgb2Ygd2F0ZXI7IDAgdG8gZGlzYWJsZVwiLFxuICAgICAgICAgICAgICAgIHdpZHRoOiAxMjgsXG4gICAgICAgICAgICAgICAgbWluOiAwLFxuICAgICAgICAgICAgICAgIG1heDogTUFYX1NFVFRJTkdfVElNRV9IT1VSUyxcbiAgICAgICAgICAgICAgICBzdGVwOiAwLjFcbiAgICAgICAgICAgIH0gYXMgTnVtYmVyU2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwic2xlZXBIb3Vyc1wiIGFzIFZpcnR1YWxQZXRIb3VyQ2F0ZWdvcmllcyxcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiA4LFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJIb3cgbWFueSBob3VycyB1bnRpbCB5b3UgYXJlIGNvbXBsZXRlbHkgb3V0IG9mIHNsZWVwOyAwIHRvIGRpc2FibGVcIixcbiAgICAgICAgICAgICAgICB3aWR0aDogMTI4LFxuICAgICAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgICAgICBtYXg6IE1BWF9TRVRUSU5HX1RJTUVfSE9VUlMsXG4gICAgICAgICAgICAgICAgc3RlcDogMC4xXG4gICAgICAgICAgICB9IGFzIE51bWJlclNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImFmZmVjdGlvbkhvdXJzXCIgYXMgVmlydHVhbFBldEhvdXJDYXRlZ29yaWVzLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IDQsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkhvdyBtYW55IGhvdXJzIHVudGlsIHlvdSBhcmUgY29tcGxldGVseSBvdXQgb2YgYWZmZWN0aW9uOyAwIHRvIGRpc2FibGVcIixcbiAgICAgICAgICAgICAgICB3aWR0aDogMTI4LFxuICAgICAgICAgICAgICAgIG1pbjogMCxcbiAgICAgICAgICAgICAgICBtYXg6IE1BWF9TRVRUSU5HX1RJTUVfSE9VUlMsXG4gICAgICAgICAgICAgICAgc3RlcDogMC4xXG4gICAgICAgICAgICB9IGFzIE51bWJlclNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIm9mZmxpbmVEcmFpblwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiU3RhdHMgZHJhaW4gZXZlbiB3aGVuIGxvZ2dlZCBvdXQgb2YgdGhlIGNsdWJcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIm5vSGFuZHNcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkICYmICFJc0hhcmRjb3JlT24oQyksXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiQWxsb3cgZWF0aW5nIG9yIGRyaW5raW5nIGZyb20gaXRlbXMgaW4geW91ciBPV04gaGFuZHNcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIm1hc29jaGlzdFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIk1hc29jaGlzdCBwZXQ7IEFidXNlIHJhaXNlcyBhZmZlY3Rpb25cIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImxldmVsc1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwicmVjb3JkXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgZm9vZDogMSxcbiAgICAgICAgICAgICAgICAgICAgd2F0ZXI6IDEsXG4gICAgICAgICAgICAgICAgICAgIHNsZWVwOiAxLFxuICAgICAgICAgICAgICAgICAgICBhZmZlY3Rpb246IDEsXG4gICAgICAgICAgICAgICAgICAgIGxhc3RVcGRhdGVkOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgICAgICAgICBsYXN0T25saW5lOiBEYXRlLm5vdygpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBhcyBTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJzZXhQZXRcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm9wdGlvblwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCxcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJPZmZcIixcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBbXCJPZmZcIiwgXCJMb3dcIiwgXCJNZWRpdW1cIiwgXCJIaWdoXCJdLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkhvdyBtdWNoIGh1bmdlciBhbmQgdGhpcnN0IGdhaW5lZCBmcm9tIHBlcmZvcm1pbmcgb3JhbCBzZXhcIixcbiAgICAgICAgICAgICAgICBsb29wOiBmYWxzZVxuICAgICAgICAgICAgfSBhcyBPcHRpb25TZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJzZXhQZXRPbmx5XCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+IFBsYXllclZQKEMpLnNleFBldCAhPSBcIk9mZlwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJPTkxZIEFibGUgdG8gZ2FpbiBodW5nZXIgYW5kIHRoaXJzdCBmcm9tIHBlcmZvcm1pbmcgb3JhbCBzZXhcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmdcbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBMb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLkxvYWQoKTtcblxuICAgICAgICAvLyBMb2dpbiBsZXZlbCBzeW5jXG4gICAgICAgIFNsZWVwQ2hhbmdlQ2hlY2soZmFsc2UpO1xuICAgICAgICBMZXZlbFN5bmModHJ1ZSwgZmFsc2UsIHRydWUpO1xuICAgICAgICBsYXN0T25saW5lSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoUGxheWVyLk1lbWJlck51bWJlcilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBQbGF5ZXIuTVBBW3RoaXMuVGl0bGVdLmxldmVscy5sYXN0T25saW5lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgICAgICBTYXZlU3RvcmFnZShmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIExBU1RfT05MSU5FX0lOVEVSVkFMX01TKTtcblxuICAgICAgICAvLyBOb21zIGFuZCBkcmlua3NcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiQ2hhdFJvb21NZXNzYWdlXCIsIDAsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXJnc1swXTtcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2aXR5TmFtZSA9IEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIkFjdGl2aXR5TmFtZVwiKTtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAhUGxheWVyVlAoKS5lbmFibGVkXG4gICAgICAgICAgICAgICAgfHwgKCFQbGF5ZXJWUCgpLm5vSGFuZHNcbiAgICAgICAgICAgICAgICAgICYmIEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIlNvdXJjZUNoYXJhY3RlclwiKSA9PT0gUGxheWVyLk1lbWJlck51bWJlcilcbiAgICAgICAgICAgICAgICB8fCBkYXRhLlR5cGUgIT09IFwiQWN0aXZpdHlcIlxuICAgICAgICAgICAgICAgIHx8IEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIlRhcmdldENoYXJhY3RlclwiKSAhPT0gUGxheWVyLk1lbWJlck51bWJlclxuICAgICAgICAgICAgICAgIHx8IEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIkZvY3VzR3JvdXBOYW1lXCIpICE9PSBcIkl0ZW1Nb3V0aFwiXG4gICAgICAgICAgICAgICAgfHwgIWFjdGl2aXR5TmFtZVxuICAgICAgICAgICAgICAgIHx8ICFDYW5Ob20oKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBHZXQgYWN0aXZpdHkgYW5kIGNoZWNrIHByZXJlcXVpc2l0ZXNcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2aXR5ID0gQWN0aXZpdHlGZW1hbGUzRENHLmZpbmQoKHgpID0+IHguTmFtZSA9PT0gYWN0aXZpdHlOYW1lKTtcblxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIFBsYXllclZQKCkuZm9vZEhvdXJzICE9PSAwXG4gICAgICAgICAgICAgICAgJiYgKGFjdGl2aXR5Py5QcmVyZXF1aXNpdGU/LmluY2x1ZGVzKFwiTmVlZHMtRWF0SXRlbVwiKVxuICAgICAgICAgICAgICAgICAgfHwgQUNUSVZJVElFU19GT09EX0dBSU4uc29tZSgoeCkgPT4gYWN0aXZpdHk/Lk5hbWUgPT09IHgpKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIE1vZGlmeVN0YXQoXCJmb29kXCIsIElURU1fQ09OVU1FX1JFQ09WRVJZLCB0cnVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIFBsYXllclZQKCkud2F0ZXJIb3VycyAhPT0gMFxuICAgICAgICAgICAgICAgICYmIChhY3Rpdml0eT8uUHJlcmVxdWlzaXRlPy5pbmNsdWRlcyhcIk5lZWRzLVNpcEl0ZW1cIilcbiAgICAgICAgICAgICAgICAgIHx8IEFDVElWSVRJRVNfV0FURVJfR0FJTi5zb21lKCh4KSA9PiBhY3Rpdml0eT8uTmFtZSA9PT0geCkpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgTW9kaWZ5U3RhdChcIndhdGVyXCIsIElURU1fQ09OVU1FX1JFQ09WRVJZLCB0cnVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFNleHNcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiQ2hhdFJvb21NZXNzYWdlXCIsIDAsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXJnc1swXTtcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2aXR5TmFtZSA9IEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIkFjdGl2aXR5TmFtZVwiKTtcbiAgICAgICAgICAgIGNvbnN0IHNvdXJjZUNoYXIgPSBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJTb3VyY2VDaGFyYWN0ZXJcIik7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXRDaGFyID0gR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiVGFyZ2V0Q2hhcmFjdGVyXCIpIGFzIG51bWJlcjtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAhUGxheWVyVlAoKS5lbmFibGVkXG4gICAgICAgICAgICAgICAgfHwgZGF0YS5UeXBlICE9PSBcIkFjdGl2aXR5XCJcbiAgICAgICAgICAgICAgICB8fCAhQ2FuU2V4KClcbiAgICAgICAgICAgICAgICB8fCBzb3VyY2VDaGFyICE9PSBQbGF5ZXIuTWVtYmVyTnVtYmVyXG4gICAgICAgICAgICAgICAgfHwgdGFyZ2V0Q2hhciA9PT0gUGxheWVyLk1lbWJlck51bWJlclxuICAgICAgICAgICAgICAgIHx8ICFTRVhfUEVUX1JFR0lPTlMuaW5jbHVkZXMoR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiRm9jdXNHcm91cE5hbWVcIikpXG4gICAgICAgICAgICAgICAgfHwgIVNFWF9QRVRfQUNUSVZJVElFUy5pbmNsdWRlcyhhY3Rpdml0eU5hbWUpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIE1vZGlmeVN0YXQoXCJmb29kXCIsIFNFWF9QRVRfUkVDT1ZFUllbUGxheWVyVlAoKS5zZXhQZXQgPz8gXCJMb3dcIl0sIHRydWUsIHRydWUsIEZpbmRDaGFyYWN0ZXJJblJvb20odGFyZ2V0Q2hhcikgPz8gdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIHBlcmZvcm1lZE9yYWxPblt0YXJnZXRDaGFyXSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gU2V4cyBmcm9tIG90aGVyXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIkNoYXRSb29tTWVzc2FnZVwiLCAwLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGFyZ3NbMF07XG4gICAgICAgICAgICBjb25zdCBhY3Rpdml0eU5hbWUgPSBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJBY3Rpdml0eU5hbWVcIik7XG4gICAgICAgICAgICBjb25zdCBzb3VyY2VDaGFyID0gR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiU291cmNlQ2hhcmFjdGVyXCIpO1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0Q2hhciA9IEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIlRhcmdldENoYXJhY3RlclwiKSBhcyBudW1iZXI7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgIVBsYXllclZQKCkuZW5hYmxlZFxuICAgICAgICAgICAgICAgIHx8IGRhdGEuVHlwZSAhPT0gXCJBY3Rpdml0eVwiXG4gICAgICAgICAgICAgICAgfHwgIUNhblNleCgpXG4gICAgICAgICAgICAgICAgfHwgc291cmNlQ2hhciA9PT0gUGxheWVyLk1lbWJlck51bWJlclxuICAgICAgICAgICAgICAgIHx8IHRhcmdldENoYXIgIT09IFBsYXllci5NZW1iZXJOdW1iZXJcbiAgICAgICAgICAgICAgICB8fCAhKCEoR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiRm9jdXNHcm91cE5hbWVcIikgIT09IFwiSXRlbU1vdXRoXCJcbiAgICAgICAgICAgICAgICAgIHx8ICFTRVhfUEVUX0FDVElWSVRJRVNfT1RIRVIuaW5jbHVkZXMoYWN0aXZpdHlOYW1lKVxuICAgICAgICAgICAgICAgICAgfHwgR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiQXNzZXROYW1lXCIpICE9PSBcIlBlbmlzXCJcbiAgICAgICAgICAgICAgICAgIHx8IEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhLCBcIkdyb3VwTmFtZVwiKSAhPT0gXCJQdXNzeVwiKVxuICAgICAgICAgICAgICAgIHx8ICEoR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiRm9jdXNHcm91cE5hbWVcIikgIT09IFwiSXRlbUhlYWRcIlxuICAgICAgICAgICAgICAgICAgfHwgYWN0aXZpdHlOYW1lICE9PSBcIkxTQ0dfRnVja1dpdGhQdXNzeVwiKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgTW9kaWZ5U3RhdChcImZvb2RcIiwgU0VYX1BFVF9SRUNPVkVSWVtQbGF5ZXJWUCgpLnNleFBldCA/PyBcIkxvd1wiXSwgdHJ1ZSwgdHJ1ZSwgRmluZENoYXJhY3RlckluUm9vbShzb3VyY2VDaGFyKSA/PyB1bmRlZmluZWQpO1xuICAgICAgICAgICAgcGVyZm9ybWVkT3JhbE9uW3NvdXJjZUNoYXJdID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBPbiBvcmdhc21cbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiQ2hhdFJvb21NZXNzYWdlXCIsIDEwLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGFyZ3NbMF07XG4gICAgICAgICAgICBjb25zdCBzb3VyY2VDaGFyID0gR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiU291cmNlQ2hhcmFjdGVyXCIpIGFzIG51bWJlcjtcbiAgICAgICAgICAgIGlmIChkYXRhLlR5cGUgIT09IFwiQWN0aXZpdHlcIlxuICAgICAgICAgICAgICB8fCAhT1JHQVNNX0FDVElWSVRZX1JFR0VYLnRlc3QoZGF0YS5Db250ZW50KVxuICAgICAgICAgICAgICB8fCBzb3VyY2VDaGFyID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoKHBlcmZvcm1lZE9yYWxPbltzb3VyY2VDaGFyXSA/PyAwKSA+PSAoRGF0ZS5ub3coKSAtIFNFWF9QRVRfT1JHQVNNX1RJTUVfTVMpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNvdXJjZUNoYXJhY3RlciA9IEZpbmRDaGFyYWN0ZXJJblJvb20oc291cmNlQ2hhcik7XG4gICAgICAgICAgICAgICAgTW9kaWZ5U3RhdChcIndhdGVyXCIsXG4gICAgICAgICAgICAgICAgICAgIFNFWF9QRVRfUkVDT1ZFUllbUGxheWVyVlAoKS5zZXhQZXQgPz8gXCJMb3dcIl0gKiBTRVhfUEVUX1RISVJTVF9NT0QsXG4gICAgICAgICAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZUNoYXJhY3RlciA/PyB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGlmIChzb3VyY2VDaGFyYWN0ZXIpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBTZW5kQWN0aW9uKFJhbmRvbUVsZW1lbnQoU0VYX1BFVF9EUklOS1tzb3VyY2VDaGFyYWN0ZXIuSGFzUGVuaXMoKSA/IFwiTUFMRVwiIDogXCJGRU1BTEVcIl0pIGFzIHN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFt7IFNvdXJjZUNoYXJhY3RlcjogUGxheWVyLk1lbWJlck51bWJlciB9IGFzIFNvdXJjZUNoYXJhY3RlckRpY3Rpb25hcnlFbnRyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IFRhcmdldENoYXJhY3Rlcjogc291cmNlQ2hhciB9IGFzIFRhcmdldENoYXJhY3RlckRpY3Rpb25hcnlFbnRyeV1cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBTbGVlcFxuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJDaGFyYWN0ZXJSZWZyZXNoXCIsIDAsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoYXJnc1swXS5NZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgU2xlZXBDaGFuZ2VDaGVjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEFmZmVjdGlvblxuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJDaGF0Um9vbU1lc3NhZ2VcIiwgMCwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhcmdzWzBdO1xuICAgICAgICAgICAgY29uc3QgYWN0aXZpdHlOYW1lID0gR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiQWN0aXZpdHlOYW1lXCIpO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICFQbGF5ZXJWUCgpLmVuYWJsZWRcbiAgICAgICAgICAgICAgICB8fCBQbGF5ZXJWUCgpLmFmZmVjdGlvbkhvdXJzID09PSAwXG4gICAgICAgICAgICAgICAgfHwgZGF0YS5UeXBlICE9PSBcIkFjdGl2aXR5XCJcbiAgICAgICAgICAgICAgICB8fCBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJUYXJnZXRDaGFyYWN0ZXJcIikgIT09IFBsYXllci5NZW1iZXJOdW1iZXJcbiAgICAgICAgICAgICAgICB8fCBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJTb3VyY2VDaGFyYWN0ZXJcIikgPT09IFBsYXllci5NZW1iZXJOdW1iZXJcbiAgICAgICAgICAgICAgICB8fCAhYWN0aXZpdHlOYW1lXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGdyb3VwID0gR2V0QXR0cmlidXRlRnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIFwiRm9jdXNHcm91cE5hbWVcIikgYXMgc3RyaW5nID8/IFwiXCI7XG4gICAgICAgICAgICBjb25zdCBncm91cE11bHQgPSBBRkZFQ1RJT05fWk9ORV9BRkZFQ1RJT05bZ3JvdXBdID8/IDE7XG4gICAgICAgICAgICBpZiAoQUZGRUNUSU9OX0FDVElWSVRZX0xPVkUuaW5jbHVkZXMoYWN0aXZpdHlOYW1lKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBNb2RpZnlTdGF0KFwiYWZmZWN0aW9uXCIsIEFGRkVDVElPTl9MT1ZFX0JBU0UgKiBncm91cE11bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoQUZGRUNUSU9OX0FDVElWSVRZX0xJS0UuaW5jbHVkZXMoYWN0aXZpdHlOYW1lKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBNb2RpZnlTdGF0KFwiYWZmZWN0aW9uXCIsIEFGRkVDVElPTl9MSUtFX0JBU0UgKiBncm91cE11bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoQUZGRUNUSU9OX0FDVElWSVRZX01BU08uaW5jbHVkZXMoYWN0aXZpdHlOYW1lKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBNb2RpZnlTdGF0KFwiYWZmZWN0aW9uXCIsIChQbGF5ZXJWUCgpLm1hc29jaGlzdCA/IC0xIDogMSkgKiBBRkZFQ1RJT05fTUFTT19CQVNFICogZ3JvdXBNdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBVbmxvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3VwZXIuVW5sb2FkKCk7XG4gICAgICAgIGNsZWFySW50ZXJ2YWwobGFzdE9ubGluZUludGVydmFsKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBPUkdBU01fQUNUSVZJVFlfUkVHRVggfSBmcm9tIFwiLi4vdXRpbC9jb25zdGFudHNcIjtcbmltcG9ydCB7IFJhbmRvbUVsZW1lbnQgfSBmcm9tIFwiLi4vdXRpbC9nZW5lcmFsXCI7XG5pbXBvcnQgeyBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnksIFNlbmRBY3Rpb24gfSBmcm9tIFwiLi4vdXRpbC9tZXNzYWdpbmdcIjtcbmltcG9ydCB7IEhvb2tGdW5jdGlvbiB9IGZyb20gXCIuLi91dGlsL3Nka1wiO1xuaW1wb3J0IHsgTW9kdWxlLCBNb2R1bGVUaXRsZSB9IGZyb20gXCIuL19tb2R1bGVcIjtcbmltcG9ydCB7IElzSGFyZGNvcmVPbiB9IGZyb20gXCIuL3Byb2ZpbGVcIjtcbmltcG9ydCB7IEdldENoYXJhY3RlckN1cnJlbnRTdGF0VmFsdWUsIE1vZGlmeVN0YXQsIFZpcnR1YWxQZXRTdGF0Q2F0ZWdvcnkgfSBmcm9tIFwiLi92aXJ0dWFsUGV0XCI7XG5cbmNvbnN0IFBsYXllclZQOiAoQz86IENoYXJhY3RlcikgPT4gTVBBUmVjb3JkID0gKEM6IENoYXJhY3RlciA9IFBsYXllcikgPT5cbntcbiAgICByZXR1cm4gQy5NUEE/LltNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XSA/PyB7fTtcbn07XG5cbmNvbnN0IFBsYXllclZQQzogKEM/OiBDaGFyYWN0ZXIpID0+IE1QQVJlY29yZCA9IChDOiBDaGFyYWN0ZXIgPSBQbGF5ZXIpID0+XG57XG4gICAgcmV0dXJuIEMuTVBBPy5bTW9kdWxlVGl0bGUuVmlydHVhbFBldENvbmRpdGlvbnNdID8/IHt9O1xufTtcblxuLyoqXG4gKiBDaGVjayBpZiBhIGNvbmRpdGlvbiBpcyBjdXJyZW50bHkgZW5mb3JjZWQsIGNoZWNraW5nIGlmIGVuYWJsZWQgYW5kIGlmIGl0IHJlbGllcyBvbiBhIFZQIHN0YXQsIHRoYXQgdGhlIHN0YXQgaXMgc2V0XG4gKi9cbmZ1bmN0aW9uIENvbmRpdGlvbklzRW5mb3JjZWQoY29uZGl0aW9uOiBzdHJpbmcsIHZwU3RhdE5lZWRUb0JlRW5hYmxlZD86IFZpcnR1YWxQZXRTdGF0Q2F0ZWdvcnkpOiBib29sZWFuXG57XG4gICAgaWYgKCFQbGF5ZXJWUEMoKS5lbmFibGVkIHx8ICEoUGxheWVyVlBDKClbY29uZGl0aW9uXSkpXG4gICAge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiAoIXZwU3RhdE5lZWRUb0JlRW5hYmxlZCB8fCAoUGxheWVyVlAoKS5lbmFibGVkICYmIFBsYXllclZQKCk/LltgJHt2cFN0YXROZWVkVG9CZUVuYWJsZWR9SG91cnNgXSAhPT0gMCkpO1xufTtcblxuLyoqIFtTa2lsbCwgcG9zdGl2ZSBvciBuZWdhdGl2ZSBjb3JybGF0aW9uXSAqL1xuY29uc3QgQUZGRUNUSU9OX1NLSUxMUzogW1NraWxsVHlwZSwgYm9vbGVhbl1bXSA9XG5bXG4gICAgW1wiU2VsZkJvbmRhZ2VcIiwgdHJ1ZV0sXG4gICAgW1wiV2lsbHBvd2VyXCIsIHRydWVdLFxuICAgIFtcIkJvbmRhZ2VcIiwgZmFsc2VdLFxuICAgIFtcIkV2YXNpb25cIiwgZmFsc2VdLFxuICAgIFtcIkxvY2tQaWNraW5nXCIsIGZhbHNlXVxuXTtcblxuaW50ZXJmYWNlIE9uU3RhdENoYW5nZUV2ZW50XG57XG4gICAgc3RhdDogVmlydHVhbFBldFN0YXRDYXRlZ29yeTtcbiAgICB0aHJlc2hob2xkOiBudW1iZXI7XG4gICAgY2hhbmdlOiBcInJpc2luZ1wiIHwgXCJmYWxsaW5nXCIgfCBcImJvdGhcIjtcbiAgICBhY3Rpb246ICgpID0+IHZvaWQ7XG4gICAgZmlyc3RSdW4/OiAoKSA9PiB2b2lkO1xufVxuY29uc3QgcHJldmlvdXNTdGF0czogUmVjb3JkPFZpcnR1YWxQZXRTdGF0Q2F0ZWdvcnksIG51bWJlcj4gPSB7XG4gICAgZm9vZDogLTEsXG4gICAgd2F0ZXI6IC0xLFxuICAgIHNsZWVwOiAtMSxcbiAgICBhZmZlY3Rpb246IC0xXG59O1xubGV0IG9uU3RhdExldmVsOiBPblN0YXRDaGFuZ2VFdmVudFtdID0gW107XG4vLyBMaXN0ZW5zIGZvciBjaGFuZ2VzIGV2ZXJ5IH4xLjUgc2Vjb25kc1xuY29uc3QgU1RBVF9DT1VOVF9NQVggPSAyNTA7XG5sZXQgc3RhdENvdW50ID0gU1RBVF9DT1VOVF9NQVg7XG5leHBvcnQgZnVuY3Rpb24gQ29uZGl0aW9uQ2hlY2soKTogdm9pZFxue1xuICAgIChbXCJmb29kXCIsIFwid2F0ZXJcIiwgXCJhZmZlY3Rpb25cIiwgXCJzbGVlcFwiXSBhcyBWaXJ0dWFsUGV0U3RhdENhdGVnb3J5W10pLmZvckVhY2goKGNhdGVnb3J5KSA9PlxuICAgIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgUGxheWVyVlAoKS5lbmFibGVkXG4gICAgICAgICAgICAmJiBQbGF5ZXJWUEMoKS5lbmFibGVkXG4gICAgICAgICAgICAmJiBQbGF5ZXJWUCgpW2Ake2NhdGVnb3J5fUhvdXJzYF0gIT09IDBcbiAgICAgICAgKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBwcmV2VmFsdWUgPSBwcmV2aW91c1N0YXRzW2NhdGVnb3J5XTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJWYWx1ZSA9IEdldENoYXJhY3RlckN1cnJlbnRTdGF0VmFsdWUoUGxheWVyLCBjYXRlZ29yeSk7XG4gICAgICAgICAgICBvblN0YXRMZXZlbC5mb3JFYWNoKChjaGFuZ2VFdmVudCkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZUV2ZW50LnN0YXQgPT09IGNhdGVnb3J5XG4gICAgICAgICAgICAgICAgICAgICYmIHByZXZWYWx1ZSA9PT0gLTFcbiAgICAgICAgICAgICAgICAgICAgJiYgISFjaGFuZ2VFdmVudC5maXJzdFJ1blxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZUV2ZW50LmZpcnN0UnVuKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlRXZlbnQuc3RhdCA9PT0gY2F0ZWdvcnlcbiAgICAgICAgICAgICAgICAgICAgJiYgcHJldlZhbHVlICE9PSAtMVxuICAgICAgICAgICAgICAgICAgICAmJiBwcmV2VmFsdWUgPiBjdXJyVmFsdWUgLy8gRmFsbGluZ1xuICAgICAgICAgICAgICAgICAgICAmJiBjaGFuZ2VFdmVudC5jaGFuZ2UgIT09IFwicmlzaW5nXCJcbiAgICAgICAgICAgICAgICAgICAgJiYgY3VyclZhbHVlIDw9IGNoYW5nZUV2ZW50LnRocmVzaGhvbGRcbiAgICAgICAgICAgICAgICAgICAgJiYgY2hhbmdlRXZlbnQudGhyZXNoaG9sZCA8IHByZXZWYWx1ZVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZUV2ZW50LmFjdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIGNoYW5nZUV2ZW50LnN0YXQgPT09IGNhdGVnb3J5XG4gICAgICAgICAgICAgICAgICAgICYmIHByZXZWYWx1ZSAhPT0gLTFcbiAgICAgICAgICAgICAgICAgICAgJiYgcHJldlZhbHVlIDwgY3VyclZhbHVlIC8vIFJpc2luZ1xuICAgICAgICAgICAgICAgICAgICAmJiBjaGFuZ2VFdmVudC5jaGFuZ2UgIT09IFwiZmFsbGluZ1wiXG4gICAgICAgICAgICAgICAgICAgICYmIHByZXZWYWx1ZSA8IGNoYW5nZUV2ZW50LnRocmVzaGhvbGRcbiAgICAgICAgICAgICAgICAgICAgJiYgY2hhbmdlRXZlbnQudGhyZXNoaG9sZCA8PSBjdXJyVmFsdWVcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjaGFuZ2VFdmVudC5hY3Rpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHByZXZpb3VzU3RhdHNbY2F0ZWdvcnldID0gY3VyclZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgcHJldmlvdXNTdGF0c1tjYXRlZ29yeV0gPSAtMTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5jb25zdCBTTEVFUF9USU5UID0ge1xuICAgIHN0YXQ6IFwic2xlZXBcIiBhcyBWaXJ0dWFsUGV0U3RhdENhdGVnb3J5LFxuICAgIHN0YXJ0TGV2ZWw6IDAuMjUsXG4gICAgZW5kTGV2ZWw6IDAsXG4gICAgbWluVGludDogMCxcbiAgICBtYXhUaW50OiAxXG59O1xuXG5sZXQgcGFzc2VkT3V0ID0gZmFsc2U7XG5jb25zdCBQQVNTT1VUX1RBTEtfUkVQTEFDRTogc3RyaW5nW10gPSBbXG4gICAgXCJTb3VyY2VDaGFyYWN0ZXIgZHJvb2xzIG91dCBvZiB0aGUgY29ybmVyIG9mIFByb25vdW5Qb3NzZXNzaXZlIG1vdXRoIGFzIFByb25vdW5TdWJqZWN0IHNsZWVwcy5cIixcbiAgICBcIlNvdXJjZUNoYXJhY3RlciBtdW1ibGVzIHF1aWV0bHkgaW4gUHJvbm91blBvc3Nlc3NpdmUgc2x1bWJlci5cIixcbiAgICBcIlNvdXJjZUNoYXJhY3RlciByZXN0cyBwZWFjZWZ1bGx5LlwiXG5dO1xuZnVuY3Rpb24gTVBBUGFzc291dCgpOiB2b2lkXG57XG4gICAgQ2hhcmFjdGVyU2V0RmFjaWFsRXhwcmVzc2lvbihQbGF5ZXIsIFwiRW1vdGljb25cIiwgXCJTbGVlcFwiKTtcbiAgICBDaGFyYWN0ZXJTZXRGYWNpYWxFeHByZXNzaW9uKFBsYXllciwgXCJFeWVzXCIsIFwiQ2xvc2VkXCIpO1xuICAgIENoYXJhY3RlclNldEZhY2lhbEV4cHJlc3Npb24oUGxheWVyLCBcIkZsdWlkc1wiLCBcIkRyb29sTWVkaXVtXCIpO1xuICAgIGlmIChQbGF5ZXIuQ2FuS25lZWwoKSlcbiAgICB7XG4gICAgICAgIFBvc2VTZXRBY3RpdmUoUGxheWVyLCBcIktuZWVsXCIsIHRydWUpO1xuICAgIH1cbiAgICBwYXNzZWRPdXQgPSB0cnVlO1xuXG4gICAgY29uc3Qgc2xlZXBNb2R1bGUgPSBQbGF5ZXI/LkxTQ0c/LlN0YXRlTW9kdWxlPy5zdGF0ZXM/LmZpbmQoKHgpID0+IHgudHlwZSA9PT0gXCJhc2xlZXBcIik7XG4gICAgaWYgKFBsYXllclZQQygpLnBhc3NvdXRMU0NHICYmIHNsZWVwTW9kdWxlKVxuICAgIHtcbiAgICAgICAgLypcbiAgICAgICAgdGhpcy5zdGF0ZU1vZHVsZS5TbGVlcFN0YXRlLkFjdGl2YXRlKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBkb0Vtb3RlKTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5zdGF0cy5zZWRhdGVkQ291bnQrKztcbiAgICAgICAgQWN0aXZhdGUobWVtYmVyTnVtYmVyPzogbnVtYmVyLCBkdXJhdGlvbj86IG51bWJlciwgZW1vdGU/OiBib29sZWFuKTogQmFzZVN0YXRlIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5BY3RpdmUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZW1vdGUpXG4gICAgICAgICAgICAgICAgICAgIFNlbmRBY3Rpb24oXCIlTkFNRSUgc2x1bXBzIHdlYWtseSBhcyAlUFJPTk9VTiUgc2xpcHMgaW50byB1bmNvbmNpb3VzbmVzcy5cIik7XG4gICAgICAgICAgICAgICAgdGhpcy5TZXRTbGVlcEV4cHJlc3Npb24oKTtcbiAgICAgICAgICAgICAgICB0aGlzLkZhbGxEb3duSWZQb3NzaWJsZSgpO1xuICAgICAgICAgICAgICAgIGFkZEN1c3RvbUVmZmVjdChQbGF5ZXIsIFwiRm9yY2VLbmVlbFwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3VwZXIuQWN0aXZhdGUobWVtYmVyTnVtYmVyLCBkdXJhdGlvbiwgZW1vdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIEFjdGl2YXRlKG1lbWJlck51bWJlcj86IG51bWJlciwgZHVyYXRpb24/OiBudW1iZXIsIGVtb3RlPzogYm9vbGVhbik6IEJhc2VTdGF0ZSB8IHVuZGVmaW5lZCB7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5hY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5jb25maWcuYWN0aXZhdGVkQXQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLmFjdGl2YXRlZEJ5ID0gbWVtYmVyTnVtYmVyID8/IC0xO1xuICAgICAgICAgICAgdGhpcy5jb25maWcuYWN0aXZhdGlvbkNvdW50Kys7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5kdXJhdGlvbiA9IGR1cmF0aW9uO1xuXG4gICAgICAgICAgICBzZXR0aW5nc1NhdmUodHJ1ZSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICAqL1xuICAgICAgICBjb25zb2xlLmxvZyhcIkNhbGxpbmcgTFNDRyBwYXNzb3V0XCIpO1xuICAgIH1cbiAgICBTZW5kQWN0aW9uKFwiU291cmNlQ2hhcmFjdGVyIHBhc3NlcyBvdXQgZnJvbSBleGhhdXN0aW9uLlwiLCB1bmRlZmluZWQsIFt7IFNvdXJjZUNoYXJhY3RlcjogUGxheWVyLk1lbWJlck51bWJlciB9IGFzIFNvdXJjZUNoYXJhY3RlckRpY3Rpb25hcnlFbnRyeV0pO1xufVxuZnVuY3Rpb24gTVBBV2FrZXVwKCk6IHZvaWRcbntcbiAgICBDaGFyYWN0ZXJTZXRGYWNpYWxFeHByZXNzaW9uKFBsYXllciwgXCJFbW90aWNvblwiLCBudWxsKTtcbiAgICBDaGFyYWN0ZXJTZXRGYWNpYWxFeHByZXNzaW9uKFBsYXllciwgXCJFeWVzXCIsIFwiRGF6ZWRcIik7XG4gICAgQ2hhcmFjdGVyU2V0RmFjaWFsRXhwcmVzc2lvbihQbGF5ZXIsIFwiRXllYnJvd3NcIiwgXCJMb3dlcmVkXCIpO1xuXG4gICAgcGFzc2VkT3V0ID0gZmFsc2U7XG4gICAgU2VuZEFjdGlvbihcIlNvdXJjZUNoYXJhY3RlciB3YWtlcyB1cCBmcm9tIFByb25vdW5Qb3NzZXNzaXZlIG5hcC5cIiwgdW5kZWZpbmVkLCBbeyBTb3VyY2VDaGFyYWN0ZXI6IFBsYXllci5NZW1iZXJOdW1iZXIgfSBhcyBTb3VyY2VDaGFyYWN0ZXJEaWN0aW9uYXJ5RW50cnldKTtcbn1cbmZ1bmN0aW9uIFBhc3NvdXRDaGVjaygpOiBib29sZWFuXG57XG4gICAgcmV0dXJuIChQbGF5ZXJWUEMoKS5lbmFibGVkXG4gICAgICAmJiBQbGF5ZXJWUCgpLnNsZWVwSG91cnMgIT09IDBcbiAgICAgICYmIFBsYXllclZQQygpLnBhc3NvdXRcbiAgICAgICYmICFQbGF5ZXJWUEMoKS5wYXNzb3V0TFNDR1xuICAgICAgJiYgcGFzc2VkT3V0KTtcbn1cblxubGV0IGFmZmVjdGlvbkNoZWNrSW50ZXJ2YWw6IG51bWJlcjtcbmNvbnN0IHNraWxsRHVyYXRpb25NUyA9IDE1MDAwO1xuZnVuY3Rpb24gQWZmZWN0aW9uU2tpbGxDaGVjaygpOiB2b2lkXG57XG4gICAgaWYgKFxuICAgICAgICAhUGxheWVyVlAoKS5lbmFibGVkXG4gICAgICAgIHx8IFBsYXllclZQKCkuYWZmZWN0aW9uSG91cnMgPT09IDBcbiAgICAgICAgfHwgIVBsYXllclZQQygpLmVuYWJsZWRcbiAgICApXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgQUZGRUNUSU9OX1NLSUxMUy5mb3JFYWNoKChbc2tpbGwsIHR5cGVdKSA9PlxuICAgIHtcbiAgICAgICAgY29uc3QgYWZmZWN0aW9uID0gR2V0Q2hhcmFjdGVyQ3VycmVudFN0YXRWYWx1ZShQbGF5ZXIsIFwiYWZmZWN0aW9uXCIpO1xuICAgICAgICBjb25zdCBhZmZlY3Rpb25Nb2RpZmllciA9IE1hdGgucm91bmQoKCgoYWZmZWN0aW9uKSAqICg1IC0gKC01KSkpIC8gKDEpICsgKC01KSkgKiAodHlwZSA/IDEgOiAtMSkgKiAxMDApIC8gMTAwO1xuXG4gICAgICAgIGNvbnN0IHByZXZNb2QgPSBTa2lsbEdldE1vZGlmaWVyKFBsYXllciwgc2tpbGwpO1xuICAgICAgICBjb25zdCBkdXJhdGlvbiA9IFNraWxsR2V0TW9kaWZpZXJEdXJhdGlvbihQbGF5ZXIsIHNraWxsKSAhPT0gMCA/IFNraWxsR2V0TW9kaWZpZXJEdXJhdGlvbihQbGF5ZXIsIHNraWxsKSA6IHNraWxsRHVyYXRpb25NUztcbiAgICAgICAgaWYgKGFmZmVjdGlvbk1vZGlmaWVyID4gMCAmJiBQbGF5ZXJWUEMoKS5hZmZlY3Rpb25Ta2lsbEJ1ZmZzKVxuICAgICAgICB7XG4gICAgICAgICAgICBTa2lsbFNldE1vZGlmaWVyKFBsYXllciwgc2tpbGwsIHByZXZNb2QgKyBhZmZlY3Rpb25Nb2RpZmllciwgZHVyYXRpb24sIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYWZmZWN0aW9uTW9kaWZpZXIgPCAwICYmIFBsYXllclZQQygpLmFmZmVjdGlvblNraWxsRGVidWZmcylcbiAgICAgICAge1xuICAgICAgICAgICAgU2tpbGxTZXRNb2RpZmllcihQbGF5ZXIsIHNraWxsLCBwcmV2TW9kICsgYWZmZWN0aW9uTW9kaWZpZXIsIGR1cmF0aW9uLCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuY29uc3QgTUFYX1NMT1dfTEVBVkVfRFVSQVRJT05fU0VDID0gMjU7XG5jb25zdCBTTE9XX0xFQVZFX0xFVkVMX1NUQVJUID0gMC4zO1xuXG5jb25zdCBPUkdBU01fV0FURVJfRFJBSU4gPSAtMC4wNTtcbmNvbnN0IE9SR0FTTV9TTEVFUF9EUkFJTiA9IC0wLjA1O1xuXG5leHBvcnQgY2xhc3MgVmlydHVhbFBldENvbmRpdGlvbnNNb2R1bGUgZXh0ZW5kcyBNb2R1bGVcbntcbiAgICBnZXQgVGl0bGUoKTogTW9kdWxlVGl0bGVcbiAgICB7XG4gICAgICAgIHJldHVybiBNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0Q29uZGl0aW9ucztcbiAgICB9XG5cbiAgICBnZXQgU2V0dGluZ3MoKTogU2V0dGluZ1tdXG4gICAge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiZW5hYmxlZFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQgJiYgIUlzSGFyZGNvcmVPbihDKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiUmVjaXZlIGNvbmRpdGlvbnMgYmFzZWQgb24gY3VycmVudCBsZXZlbCBvZiB5b3VyIHZpcnR1YWwgcGV0IHN0YXRzXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJmb29kTk9XXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCAmJiAhIVBsYXllclZQQyhDKS5lbmFibGVkICYmICFJc0hhcmRjb3JlT24oQyksXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiRm9vZCBhbmQgd2F0ZXIgYWZmZWN0cyBhZmZlY3Rpb24gZ2FpblwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwidGludFwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQgJiYgISFQbGF5ZXJWUEMoQykuZW5hYmxlZCAmJiAhSXNIYXJkY29yZU9uKEMpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIlZpc2lvbiBkYXJrZW5zIGFzIHlvdSBnZXQgc2xlZXBpZXJcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInBhc3NvdXRcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkICYmICEhUGxheWVyVlBDKEMpLmVuYWJsZWQgJiYgIUlzSGFyZGNvcmVPbihDKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJQYXNzb3V0IHdoZW4gZXhoYXVzdGVkXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCAvKiB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJwYXNzb3V0TFNDR1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQgJiYgISFQbGF5ZXJWUEMoQykuZW5hYmxlZCAmJiAhIVBsYXllclZQQyhDKS5wYXNzb3V0ICYmICEhQy5MU0NHICYmICFJc0hhcmRjb3JlT24oQykgJiYgZmFsc2UsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIlVzZSBMU0NHIHBhc3NvdXQgaW5zdGVhZCBvZiBNUEE7IFJlcXVpcmVzIExTQ0dcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsICovIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImFmZmVjdGlvblNraWxsQnVmZnNcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkICYmICEhUGxheWVyVlBDKEMpLmVuYWJsZWQgJiYgIUlzSGFyZGNvcmVPbihDKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJBZmZlY3Rpb24gd2lsbCBidWZmIHNraWxscyBiYXNlZCBvbiBpdHMgbGV2ZWxcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImFmZmVjdGlvblNraWxsRGVidWZmc1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQgJiYgISFQbGF5ZXJWUEMoQykuZW5hYmxlZCAmJiAhSXNIYXJkY29yZU9uKEMpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkFmZmVjdGlvbiB3aWxsIGRlYnVmZiBza2lsbHMgYmFzZWQgb24gaXRzIGxldmVsXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJoZWFyaW5nTG9zc1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQgJiYgISFQbGF5ZXJWUEMoQykuZW5hYmxlZCAmJiAhSXNIYXJkY29yZU9uKEMpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkhlYXJpbmcgYmVjb21lcyBoYXJkZXIgdGhlIGh1bmdyaWVyIHlvdSBhcmVcIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcInNsb3dMZWF2ZVwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6IChDKSA9PiAhIVBsYXllclZQKEMpLmVuYWJsZWQgJiYgISFQbGF5ZXJWUEMoQykuZW5hYmxlZCAmJiAhSXNIYXJkY29yZU9uKEMpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIlRha2VzIGxvbmdlciB0byBsZWF2ZSB0aGUgcm9vbSB3aGVuIGh1bmdyeVwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwib3JnYXNtV2F0ZXJcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcImNoZWNrYm94XCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoQykgPT4gISFQbGF5ZXJWUChDKS5lbmFibGVkICYmICEhUGxheWVyVlBDKEMpLmVuYWJsZWQgJiYgIUlzSGFyZGNvcmVPbihDKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJPcmdhc21zIG1ha2UgeW91IGxvc2Ugc29tZSBoeWRyYXRpb25cIlxuICAgICAgICAgICAgfSBhcyBDaGVja2JveFNldHRpbmcsIHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcIm9yZ2FzbVNsZWVwXCIsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjaGVja2JveFwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKEMpID0+ICEhUGxheWVyVlAoQykuZW5hYmxlZCAmJiAhIVBsYXllclZQQyhDKS5lbmFibGVkICYmICFJc0hhcmRjb3JlT24oQyksXG4gICAgICAgICAgICAgICAgdmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiT3JnYXNtcyBtYWtlIHlvdSBsb3NlIHNvbWUgZW5lcmd5XCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nXG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgTG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICAvLyBDaGVjayBmb3IgY29uZGl0aW9uIGNoYW5nZXMgZXZlcnkgc28gb2Z0ZW5cbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiR2FtZVJ1blwiLCAwLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHN0YXRDb3VudCA+PSBTVEFUX0NPVU5UX01BWClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBDb25kaXRpb25DaGVjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3RhdENvdW50Kys7XG4gICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gRWVweSB0aW50XG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIlBsYXllci5HZXRUaW50c1wiLCAwLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgLy8gTm90IGVuYWJsZWQsIHNraXBcbiAgICAgICAgICAgIGlmICghQ29uZGl0aW9uSXNFbmZvcmNlZChcInRpbnRcIiwgU0xFRVBfVElOVC5zdGF0KSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgY3VyckxldmVsID0gR2V0Q2hhcmFjdGVyQ3VycmVudFN0YXRWYWx1ZShQbGF5ZXIsIFNMRUVQX1RJTlQuc3RhdCk7XG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgdGhlIHNjYWxlZCB2YWx1ZVxuICAgICAgICAgICAgY29uc3Qgc2NhbGVkVmFsdWUgPSAoKGN1cnJMZXZlbCAtIFNMRUVQX1RJTlQuc3RhcnRMZXZlbCkgLyAoU0xFRVBfVElOVC5lbmRMZXZlbCAtIFNMRUVQX1RJTlQuc3RhcnRMZXZlbCkpICogKFNMRUVQX1RJTlQubWF4VGludCAtIFNMRUVQX1RJTlQubWluVGludCkgKyBTTEVFUF9USU5ULm1pblRpbnQ7XG4gICAgICAgICAgICBpZiAoU0xFRVBfVElOVC5taW5UaW50IDw9IHNjYWxlZFZhbHVlICYmIHNjYWxlZFZhbHVlIDw9IFNMRUVQX1RJTlQubWF4VGludClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKS5jb25jYXQoeyByOiAwLCBnOiAwLCBiOiAwLCBhOiBNYXRoLnNxcnQoTWF0aC5yb3VuZChzY2FsZWRWYWx1ZSAqIDEwMDApIC8gMTAwMCkgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQWRkIGNvbmRpdGlvbiB0cmlnZ2Vyc1xuICAgICAgICBvblN0YXRMZXZlbCA9IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0OiBcInNsZWVwXCIsXG4gICAgICAgICAgICAgICAgdGhyZXNoaG9sZDogMCxcbiAgICAgICAgICAgICAgICBjaGFuZ2U6IFwiZmFsbGluZ1wiLFxuICAgICAgICAgICAgICAgIGFjdGlvbjogZnVuY3Rpb24gKCk6IHZvaWRcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIE1QQVBhc3NvdXQoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGZpcnN0UnVuOiBmdW5jdGlvbiAoKTogdm9pZFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKEdldENoYXJhY3RlckN1cnJlbnRTdGF0VmFsdWUoUGxheWVyLCBcInNsZWVwXCIpID09PSAwKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBNUEFQYXNzb3V0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgc3RhdDogXCJzbGVlcFwiLFxuICAgICAgICAgICAgICAgIHRocmVzaGhvbGQ6IDAuMSxcbiAgICAgICAgICAgICAgICBjaGFuZ2U6IFwicmlzaW5nXCIsXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoKTogdm9pZFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhc3NlZE91dClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgTVBBV2FrZXVwKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgICAgIC8vIEVlcHlcblxuICAgICAgICAvLyBQYXNzb3V0IEhvb2tzXG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIlBsYXllci5DYW5UYWxrXCIsIDUsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gUGFzc291dENoZWNrKCkgPyBmYWxzZSA6IG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJQbGF5ZXIuQ2FuV2Fsa1wiLCA1LCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIFBhc3NvdXRDaGVjaygpID8gZmFsc2UgOiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiUGxheWVyLkNhbkNoYW5nZU93bkNsb3RoZXNcIiwgNSwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBQYXNzb3V0Q2hlY2soKSA/IGZhbHNlIDogbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIlBsYXllci5DYW5JbnRlcmFjdFwiLCA1LCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIFBhc3NvdXRDaGVjaygpID8gZmFsc2UgOiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiU2VydmVyU2VuZFwiLCA1LCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCFQYXNzb3V0Q2hlY2soKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgW3R5cGUsIGRhdGFdID0gYXJncyBhcyBbc3RyaW5nLCBTZXJ2ZXJDaGF0Um9vbU1lc3NhZ2VdO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHR5cGUgPT0gXCJDaGF0Um9vbUNoYXRcIlxuICAgICAgICAgICAgICAgICYmIGRhdGE/LlR5cGUgPT0gXCJDaGF0XCJcbiAgICAgICAgICAgICAgICAmJiAhZGF0YT8uQ29udGVudC5zdGFydHNXaXRoKFwiKFwiKVxuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFNlbmRBY3Rpb24oUmFuZG9tRWxlbWVudChQQVNTT1VUX1RBTEtfUkVQTEFDRSkgYXMgc3RyaW5nLCB1bmRlZmluZWQsIFt7IFNvdXJjZUNoYXJhY3RlcjogUGxheWVyLk1lbWJlck51bWJlciB9IGFzIFNvdXJjZUNoYXJhY3RlckRpY3Rpb25hcnlFbnRyeV0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJQbGF5ZXIuR2V0RGVhZkxldmVsXCIsIDUsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gUGFzc291dENoZWNrKCkgPyA0IDogbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG4gICAgICAgIEhvb2tGdW5jdGlvbih0aGlzLlRpdGxlLCBcIlBsYXllci5HZXRCbGluZExldmVsXCIsIDUsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gUGFzc291dENoZWNrKCkgPyAoUGxheWVyLkdhbWVwbGF5U2V0dGluZ3M/LlNlbnNEZXBDaGF0TG9nID09PSBcIlNlbnNEZXBFeHRyZW1lXCIgfHwgUGxheWVyLkdhbWVwbGF5U2V0dGluZ3M/LlNlbnNEZXBDaGF0TG9nID09PSBcIlNlbnNEZXBUb3RhbFwiKSA/IDMgOiAyIDogbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQ2FuJ3QgZm9jdXMgd2hpbGUgaHVuZ3J5IChkZWFmKVxuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJQbGF5ZXIuR2V0RGVhZkxldmVsXCIsIDUsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBkZWFmTGV2ZWwgPSBDb25kaXRpb25Jc0VuZm9yY2VkKFwiaGVhcmluZ0xvc3NcIiwgXCJmb29kXCIpID8gTWF0aC5tYXgoMCwgTWF0aC5mbG9vcigoR2V0Q2hhcmFjdGVyQ3VycmVudFN0YXRWYWx1ZShQbGF5ZXIsIFwiZm9vZFwiKSAtIDAuMzAwMSkgKiAtMTApKSA6IDA7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5tYXgoZGVhZkxldmVsLCBuZXh0KGFyZ3MpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQWZmZWN0aW9uIGFmZmVjdCBza2lsbHNcbiAgICAgICAgaWYgKFNraWxsTW9kaWZpZXJNYXggPCAxMClcbiAgICAgICAge1xuICAgICAgICAgICAgU2tpbGxNb2RpZmllck1heCA9IDEwO1xuICAgICAgICB9XG4gICAgICAgIEFmZmVjdGlvblNraWxsQ2hlY2soKTtcbiAgICAgICAgYWZmZWN0aW9uQ2hlY2tJbnRlcnZhbCA9IHNldEludGVydmFsKEFmZmVjdGlvblNraWxsQ2hlY2ssIHNraWxsRHVyYXRpb25NUyArIDEwMDApO1xuXG4gICAgICAgIC8vIFNsb3cgbGVhdmVcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiQ2hhdFJvb21BdHRlbXB0TGVhdmVcIiwgMCwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghQ29uZGl0aW9uSXNFbmZvcmNlZChcInNsb3dMZWF2ZVwiLCBcImZvb2RcIikpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHByZXZTbG93ID0gQ2hhdFJvb21TbG93dGltZXI7XG4gICAgICAgICAgICBjb25zdCBjdXJyRm9vZCA9IEdldENoYXJhY3RlckN1cnJlbnRTdGF0VmFsdWUoUGxheWVyLCBcImZvb2RcIik7XG4gICAgICAgICAgICBuZXh0KGFyZ3MpO1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHByZXZTbG93ID09PSAwXG4gICAgICAgICAgICAgICAgJiYgQ2hhdFJvb21TbG93dGltZXIgPiAwXG4gICAgICAgICAgICAgICAgJiYgY3VyckZvb2QgPD0gU0xPV19MRUFWRV9MRVZFTF9TVEFSVFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNsb3dlZFNwZWVkID0gKCgoLU1BWF9TTE9XX0xFQVZFX0RVUkFUSU9OX1NFQyAvIFNMT1dfTEVBVkVfTEVWRUxfU1RBUlQpICogY3VyckZvb2QpICsgTUFYX1NMT1dfTEVBVkVfRFVSQVRJT05fU0VDKSAqIDEwMDA7XG4gICAgICAgICAgICAgICAgQ2hhdFJvb21TbG93dGltZXIgPSBDdXJyZW50VGltZSArIENoYXRSb29tU2xvd0xlYXZlTWluVGltZSArIHNsb3dlZFNwZWVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgSG9va0Z1bmN0aW9uKHRoaXMuVGl0bGUsIFwiUGxheWVyLklzU2xvd1wiLCAwLCAoYXJncywgbmV4dCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIChDb25kaXRpb25Jc0VuZm9yY2VkKFwic2xvd0xlYXZlXCIsIFwiZm9vZFwiKSAmJiBHZXRDaGFyYWN0ZXJDdXJyZW50U3RhdFZhbHVlKFBsYXllciwgXCJmb29kXCIpIDw9IFNMT1dfTEVBVkVfTEVWRUxfU1RBUlQpID8gdHJ1ZSA6IG5leHQoYXJncyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIE9uIG9yZ2FzbVxuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJDaGF0Um9vbU1lc3NhZ2VcIiwgMTAsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXJnc1swXTtcbiAgICAgICAgICAgIGlmIChkYXRhLlR5cGUgIT09IFwiQWN0aXZpdHlcIlxuICAgICAgICAgICAgICB8fCAhT1JHQVNNX0FDVElWSVRZX1JFR0VYLnRlc3QoZGF0YS5Db250ZW50KVxuICAgICAgICAgICAgICB8fCBHZXRBdHRyaWJ1dGVGcm9tQ2hhdERpY3Rpb25hcnkoZGF0YSwgXCJTb3VyY2VDaGFyYWN0ZXJcIikgIT09IFBsYXllci5NZW1iZXJOdW1iZXIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChQbGF5ZXJWUEMoKS5vcmdhc21XYXRlcilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBNb2RpZnlTdGF0KFwid2F0ZXJcIiwgT1JHQVNNX1dBVEVSX0RSQUlOLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChQbGF5ZXJWUEMoKS5vcmdhc21TbGVlcClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBNb2RpZnlTdGF0KFwic2xlZXBcIiwgT1JHQVNNX1NMRUVQX0RSQUlOLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBuZXh0KGFyZ3MpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBVbmxvYWQoKTogdm9pZFxuICAgIHtcbiAgICAgICAgc3VwZXIuVW5sb2FkKCk7XG4gICAgICAgIG9uU3RhdExldmVsID0gW107XG4gICAgICAgIGNsZWFySW50ZXJ2YWwoYWZmZWN0aW9uQ2hlY2tJbnRlcnZhbCk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgSG9va0Z1bmN0aW9uIH0gZnJvbSBcIi4uL3V0aWwvc2RrXCI7XG5pbXBvcnQgeyBJc01lbWJlck51bWJlckluQXV0aEdyb3VwIH0gZnJvbSBcIi4uL3V0aWwvYXV0aG9yaXR5XCI7XG5pbXBvcnQgeyBNb2R1bGUsIE1vZHVsZVRpdGxlIH0gZnJvbSBcIi4vX21vZHVsZVwiO1xuaW1wb3J0IHsgR2V0Q2hhcmFjdGVyQ3VycmVudFN0YXRWYWx1ZSwgVmlydHVhbFBldFN0YXRDYXRlZ29yeSwgdHlwZSBWaXJ0dWFsUGV0U3RhdCB9IGZyb20gXCIuL3ZpcnR1YWxQZXRcIjtcblxuY29uc3QgUGxheWVyVlA6ICgpID0+IE1QQVJlY29yZCA9ICgpID0+XG57XG4gICAgcmV0dXJuIFBsYXllci5NUEFbTW9kdWxlVGl0bGUuVmlydHVhbFBldF07XG59O1xuY29uc3QgUGxheWVyVlBIVUQ6ICgpID0+IE1QQVJlY29yZCA9ICgpID0+XG57XG4gICAgcmV0dXJuIFBsYXllci5NUEFbTW9kdWxlVGl0bGUuVmlydHVhbFBldEhVRF07XG59O1xuXG5jb25zdCBWUF9TVEFUX0NPTE9SX0RJQ1QgPSB7XG4gICAgZm9vZDogXCIjZjJiYjE4XCIsXG4gICAgd2F0ZXI6IFwiIzJhOWZjM1wiLFxuICAgIHNsZWVwOiBcIiM4ZDJhZWVcIixcbiAgICBhZmZlY3Rpb246IFwiI2ZmNzhmMlwiXG59O1xuXG5mdW5jdGlvbiBEcmF3U3RhdENpcmNsZSh4OiBudW1iZXIsIHk6IG51bWJlciwgcmFkaXVzOiBudW1iZXIsIHN0YXQ6IFZpcnR1YWxQZXRTdGF0KTogdm9pZFxue1xuICAgIGNvbnN0IGNvbG9yID0gVlBfU1RBVF9DT0xPUl9ESUNUW3N0YXQuc3RhdF07XG5cbiAgICAvLyBPdXRlciBjaXJjbGVcbiAgICBNYWluQ2FudmFzLmJlZ2luUGF0aCgpO1xuICAgIE1haW5DYW52YXMuYXJjKFxuICAgICAgICB4LFxuICAgICAgICB5LFxuICAgICAgICByYWRpdXMsXG4gICAgICAgIDAsXG4gICAgICAgIDIgKiBNYXRoLlBJLFxuICAgICAgICB0cnVlXG4gICAgKTtcbiAgICBNYWluQ2FudmFzLmxpbmVXaWR0aCA9IHJhZGl1cyAvIDg7XG4gICAgTWFpbkNhbnZhcy5zdHJva2VTdHlsZSA9IGNvbG9yO1xuICAgIE1haW5DYW52YXMuc3Ryb2tlKCk7XG5cbiAgICAvLyBJbm5lciBhcmNcbiAgICBNYWluQ2FudmFzLmJlZ2luUGF0aCgpO1xuICAgIE1haW5DYW52YXMuYXJjKFxuICAgICAgICB4LFxuICAgICAgICB5LFxuICAgICAgICByYWRpdXMsXG4gICAgICAgIC1NYXRoLlBJIC8gMixcbiAgICAgICAgKDIgKiBNYXRoLlBJICogLXN0YXQubGV2ZWwpIC0gKE1hdGguUEkgLyAyKSxcbiAgICAgICAgdHJ1ZVxuICAgICk7XG4gICAgTWFpbkNhbnZhcy5saW5lVG8oeCwgeSk7XG4gICAgTWFpbkNhbnZhcy5maWxsU3R5bGUgPSBjb2xvcjtcbiAgICBNYWluQ2FudmFzLmZpbGwoKTtcblxuICAgIC8vIERpc3BsYXkgdGhlIHRleHRcbiAgICBpZiAoUGxheWVyVlBIVUQoKS5leGFjdFN0YXRzKVxuICAgIHtcbiAgICAgICAgTWFpbkNhbnZhcy5maWxsU3R5bGUgPSBcIiMwMDAwMDBcIjtcbiAgICAgICAgTWFpbkNhbnZhcy5mb250ID0gQ29tbW9uR2V0Rm9udChyYWRpdXMgKiAxLjI1KTtcbiAgICAgICAgTWFpbkNhbnZhcy5maWxsVGV4dChNYXRoLnJvdW5kKHN0YXQubGV2ZWwgKiAxMDApLnRvU3RyaW5nKCksIHgsIHkgKyAocmFkaXVzICogMC4xMjUpKTtcbiAgICAgICAgLy8gRGVmYXVsdCBzaXplLCBpZGsgaWYgbmVlZGVkIGJ1dCBjYW4ndCBodXJ0XG4gICAgICAgIE1haW5DYW52YXMuZm9udCA9IENvbW1vbkdldEZvbnQoMzYpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gRHJhd1ZpcnVhbFBldEh1ZCh4OiBudW1iZXIsIHk6IG51bWJlciwgem9vbTogbnVtYmVyLCBzdGF0czogVmlydHVhbFBldFN0YXRbXSk6IHZvaWRcbntcbiAgICBjb25zdCBwb3M6IFwiTGVmdFwiIHwgXCJDZW50ZXJcIiB8IFwiUmlnaHRcIiB8IFwiU3BsaXRcIiA9IFBsYXllclZQSFVEKCkucG9zaXRpb247XG4gICAgaWYgKHBvcyA9PT0gXCJMZWZ0XCIgfHwgcG9zID09PSBcIlJpZ2h0XCIpXG4gICAge1xuICAgICAgICBzdGF0cy5yZXZlcnNlKCk7XG4gICAgICAgIHN0YXRzLmZvckVhY2goKHN0YXQsIGluZGV4KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBEcmF3U3RhdENpcmNsZShcbiAgICAgICAgICAgICAgICB4ICsgKChwb3MgPT09IFwiTGVmdFwiID8gODAgOiA0MjApICogem9vbSksXG4gICAgICAgICAgICAgICAgeSArICg5NTAgLSAoaW5kZXggKiAzNikpICogem9vbSxcbiAgICAgICAgICAgICAgICAxNiAqIHpvb20sXG4gICAgICAgICAgICAgICAgc3RhdFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHBvcyA9PT0gXCJDZW50ZXJcIilcbiAgICB7XG4gICAgICAgIGNvbnN0IHN0YXRMZW4gPSBzdGF0cy5sZW5ndGg7XG4gICAgICAgIHN0YXRzLmZvckVhY2goKHN0YXQsIGluZGV4KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBEcmF3U3RhdENpcmNsZShcbiAgICAgICAgICAgICAgICB4ICsgKDI1MCAtICgoc3RhdExlbiAtIDEpICogMTgpICsgKGluZGV4ICogMzYpKSAqIHpvb20sXG4gICAgICAgICAgICAgICAgeSArICg5NTAgKiB6b29tKSxcbiAgICAgICAgICAgICAgICAxNiAqIHpvb20sXG4gICAgICAgICAgICAgICAgc3RhdFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIFByb2JhYmx5IGEgYmV0dGVyIHdheSB0byBkbyB0aGlzLCBidXQgSSBkb24ndCBjYXJlLiBJdCB3b3JrcyB0aGF0cyBhbGwgSSBuZWVkLlxuICAgIGVsc2UgaWYgKHBvcyA9PT0gXCJTcGxpdFwiKVxuICAgIHtcbiAgICAgICAgY29uc3QgY29sczogVmlydHVhbFBldFN0YXRbXVtdID0gW107XG4gICAgICAgIHN3aXRjaCAoc3RhdHMubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgY29scy5wdXNoKFtzdGF0c1swXV0pO1xuICAgICAgICAgICAgICAgIGNvbHMucHVzaChbXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgY29scy5wdXNoKFtzdGF0c1swXV0pO1xuICAgICAgICAgICAgICAgIGNvbHMucHVzaChbc3RhdHNbMV1dKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBjb2xzLnB1c2goW3N0YXRzWzFdLCBzdGF0c1swXV0pO1xuICAgICAgICAgICAgICAgIGNvbHMucHVzaChbc3RhdHNbMl1dKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICBjb2xzLnB1c2goW3N0YXRzWzFdLCBzdGF0c1swXV0pO1xuICAgICAgICAgICAgICAgIGNvbHMucHVzaChbc3RhdHNbM10sIHN0YXRzWzJdXSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICB9XG4gICAgICAgIGNvbHMuZm9yRWFjaCgoY29sLCBpbmRleCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29sLmZvckVhY2goKHN0YXQsIHN0YXRJbmRleCkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBEcmF3U3RhdENpcmNsZShcbiAgICAgICAgICAgICAgICAgICAgeCArICgoaW5kZXggPT0gMCA/IDgwIDogNDIwKSAqIHpvb20pLFxuICAgICAgICAgICAgICAgICAgICB5ICsgKDk1MCAtIChzdGF0SW5kZXggKiAzNikpICogem9vbSxcbiAgICAgICAgICAgICAgICAgICAgMTYgKiB6b29tLFxuICAgICAgICAgICAgICAgICAgICBzdGF0XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBWaXJ0dWFsUGV0SFVETW9kdWxlIGV4dGVuZHMgTW9kdWxlXG57XG4gICAgZ2V0IFRpdGxlKCk6IE1vZHVsZVRpdGxlXG4gICAge1xuICAgICAgICByZXR1cm4gTW9kdWxlVGl0bGUuVmlydHVhbFBldEhVRDtcbiAgICB9XG5cbiAgICBnZXQgU2V0dGluZ3MoKTogU2V0dGluZ1tdXG4gICAge1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwic2VsZlwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+ICEhUGxheWVyVlAoKS5lbmFibGVkLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBcIkRpc3BsYXkgeW91ciBvd24gdmlydHVhbCBwZXQgc3RhdHMgb24gdGhlIEhVRFwiXG4gICAgICAgICAgICB9IGFzIENoZWNrYm94U2V0dGluZywge1xuICAgICAgICAgICAgICAgIG5hbWU6IFwiZXhhY3RTdGF0c1wiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2hlY2tib3hcIixcbiAgICAgICAgICAgICAgICBhY3RpdmU6ICgpID0+ICEhUGxheWVyVlAoKS5lbmFibGVkIHx8IFBsYXllclZQSFVEKCkub3RoZXJzICE9PSBcIk9mZlwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBsYWJlbDogXCJEaXNwbGF5IHRoZSBleGFjdCBudW1iZXIgcGVyY2VudGFnZSBvbiB0aGUgSFVEXCJcbiAgICAgICAgICAgIH0gYXMgQ2hlY2tib3hTZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJwb3NpdGlvblwiLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwib3B0aW9uXCIsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiAoKSA9PiAhIVBsYXllclZQKCkuZW5hYmxlZCB8fCBQbGF5ZXJWUEhVRCgpLm90aGVycyAhPT0gXCJPZmZcIixcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBbXCJMZWZ0XCIsIFwiQ2VudGVyXCIsIFwiUmlnaHRcIiwgXCJTcGxpdFwiXSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJMZWZ0XCIsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiV2hlcmUgdG8gZGlzcGxheSB0aGUgSFVEXCIsXG4gICAgICAgICAgICAgICAgbG9vcDogdHJ1ZVxuICAgICAgICAgICAgfSBhcyBPcHRpb25TZXR0aW5nLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogXCJvdGhlcnNcIixcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm9wdGlvblwiLFxuICAgICAgICAgICAgICAgIGFjdGl2ZTogKCkgPT4gdHJ1ZSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBbXCJPZmZcIiwgXCJQdWJsaWNcIiwgXCJGcmllbmRzXCIsIFwiV2hpdGVsaXN0XCIsIFwiTG92ZXJzXCIsIFwiT3duZXJzXCIsIFwiRC9zIEZhbWlseVwiLCBcIkNsdWJvd25lclwiXSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogXCJGcmllbmRzXCIsXG4gICAgICAgICAgICAgICAgbGFiZWw6IFwiRGlzcGxheSB0aGUgdmlydHVhbCBwZXQgc3RhdHMgb2Ygb3RoZXJzIG9uIHRoZSBIVURcIixcbiAgICAgICAgICAgICAgICBsb29wOiBmYWxzZVxuICAgICAgICAgICAgfSBhcyBPcHRpb25TZXR0aW5nXG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgTG9hZCgpOiB2b2lkXG4gICAge1xuICAgICAgICBIb29rRnVuY3Rpb24odGhpcy5UaXRsZSwgXCJEcmF3QXJvdXNhbE1ldGVyXCIsIDEsIChhcmdzLCBuZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBbY2hhcmFjdGVyLCB4LCB5LCB6b29tXSA9IGFyZ3M7XG4gICAgICAgICAgICAvLyBHZXQgY2hhcmFjdGVyIHN0YXRzIHdoZW4gc3VwcG9ydCBmb3IgbXVsdHBsYXllclxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICFBY3Rpdml0eUFsbG93ZWQoKVxuICAgICAgICAgICAgICAgIHx8IChjaGFyYWN0ZXIuSXNQbGF5ZXIoKSAmJiAoIVBsYXllclZQSFVEKCkuc2VsZiB8fCAhUGxheWVyVlAoKS5lbmFibGVkKSlcbiAgICAgICAgICAgICAgICB8fCAoIWNoYXJhY3Rlci5Jc1BsYXllcigpICYmIFBsYXllclZQSFVEKCkub3RoZXJzID09PSBcIk9mZlwiKVxuICAgICAgICAgICAgICAgIHx8ICghY2hhcmFjdGVyLklzUGxheWVyKCkgJiYgIUlzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAoY2hhcmFjdGVyLk1lbWJlck51bWJlciBhcyBudW1iZXIsIFBsYXllclZQSFVEKCkub3RoZXJzKSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gR2V0IHRoZSBzdGF0cyBmb3IgdGhlIGNoYXJhY3Rlciwgbm90IGp1c3QgdGhlIHBsYXllclxuICAgICAgICAgICAgY29uc3QgY2hhcmFjdGVyVlBTdGF0cyA9IGNoYXJhY3Rlcj8uTVBBPy5bTW9kdWxlVGl0bGUuVmlydHVhbFBldF07XG4gICAgICAgICAgICBpZiAoIWNoYXJhY3RlclZQU3RhdHM/LmVuYWJsZWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQoYXJncyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHN0YXRzOiBWaXJ0dWFsUGV0U3RhdFtdID0gW107XG4gICAgICAgICAgICAoW1wiZm9vZFwiLCBcIndhdGVyXCIsIFwic2xlZXBcIiwgXCJhZmZlY3Rpb25cIl0gYXMgVmlydHVhbFBldFN0YXRDYXRlZ29yeVtdKS5mb3JFYWNoKChzdGF0KSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChjaGFyYWN0ZXJWUFN0YXRzW2Ake3N0YXR9SG91cnNgXSAhPT0gMClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdDogc3RhdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldmVsOiBHZXRDaGFyYWN0ZXJDdXJyZW50U3RhdFZhbHVlKGNoYXJhY3Rlciwgc3RhdClcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoc3RhdHMubGVuZ3RoICE9PSAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIERyYXdWaXJ1YWxQZXRIdWQoeCwgeSwgem9vbSwgc3RhdHMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbmV4dChhcmdzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgVW5sb2FkKCk6IHZvaWRcbiAgICB7XG4gICAgICAgIHN1cGVyLlVubG9hZCgpO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IExvY2FsaXplZFRleHQgfSBmcm9tIFwiLi4vbG9jYWxpemF0aW9uL2xvY2FsaXphdGlvblwiO1xuaW1wb3J0IHsgQUNUSVZJVFlfTkFNRV9QUkVGSVggfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcblxuLyoqIFN0b3JlcyB0aGUgYWN0aXZpdHkgbmFtZSBhbmQgdGhlIGltYWdlIGxvY2F0aW9uIG9yIGJhc2UgNjQgaW1hZ2UgZm9yIHRoYXQgYWN0aXZpdHkgKi9cbmV4cG9ydCBjb25zdCBhY3Rpdml0eUltYWdlczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHt9O1xuLyoqIFdoZW4gYW4gYWN0aXZpdHkgaXMgdXNlZCBieSB0aGUgUGxheWVyLCBydW4gdGhpcyBjYWxsYmFjayBmdW5jdGlvbiAqL1xuZXhwb3J0IGNvbnN0IGFjdGl2aXR5VHJpZ2dlcnM6IFJlY29yZDxzdHJpbmcsIEFjaXRpdml0eVRyaWdnZXI+ID0ge307XG4vKiogQ3VzdG9tIHByZXJlcXVpc2l0ZXMgZm9yIGFjdGl2aXRpZXMgKi9cbmV4cG9ydCBjb25zdCBhY3Rpdml0eVByZXJlcXVpc2l0ZXM6IFJlY29yZDxzdHJpbmcsIFByZXJlcXVpc2l0ZT4gPSB7fTtcbi8qKiBXaGVuIGFuIGFjdGl2aXR5IGhhcHBlbnMsIHJ1biB0aGlzIGNhbGxiYWNrIGZ1bmN0aW9uICovXG5leHBvcnQgY29uc3QgYWN0aXZpdHlSZWNlaXZlZDogUmVjb3JkPHN0cmluZywgQWN0aXZpdHlSZWNlaXZlZD4gPSB7fTtcblxuLyoqXG4gKiBDcmVhdGUgYSBuZXcgY3VzdG9tIGFjdGl2aXR5IGZvciB0aGUgUGxheWVyIHRvIHVzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gQ3JlYXRlQWN0aXZpdHkoY3VzdG9tQWN0aXZpdHk6IEN1c3RvbUFjdGl2aXR5KTogdm9pZFxue1xuICAgIC8vIENyZWF0ZSB0aGUgYWN0aXZpdHkgQkMgdXNlc1xuICAgIGNvbnN0IGFjdGl2aXR5OiBBY3Rpdml0eSA9IHtcbiAgICAgICAgTmFtZTogYCR7QUNUSVZJVFlfTkFNRV9QUkVGSVh9JHtjdXN0b21BY3Rpdml0eS5OYW1lfWAgYXMgQWN0aXZpdHlOYW1lLFxuICAgICAgICBBY3Rpdml0eUlEOiBNYXRoLm1heCguLi5BY3Rpdml0eUZlbWFsZTNEQ0cubWFwKCh4KSA9PiB4LkFjdGl2aXR5SUQgPz8gLTEpKSArIDEsXG4gICAgICAgIE1heFByb2dyZXNzOiBjdXN0b21BY3Rpdml0eS5NYXhQcm9ncmVzcyA/PyA1MCxcbiAgICAgICAgLy8gTWF4UHJvZ3Jlc3NTZWxmOiBjdXN0b21BY3Rpdml0eS5NYXhQcm9ncmVzc1NlbGYgPz8gY3VzdG9tQWN0aXZpdHkuTWF4UHJvZ3Jlc3MsXG4gICAgICAgIFByZXJlcXVpc2l0ZTogY3VzdG9tQWN0aXZpdHkuUHJlcmVxdWlzaXRlLFxuICAgICAgICBUYXJnZXQ6IFtdXG4gICAgfTtcblxuICAgIC8vIEFkZCBjdXN0b20gYWN0aXZpdGVzIHRvIHRoZSByZWNvcmQgZm9yIGNoZWNraW5nIHdoZW4gYW4gYWN0aXZpdHkgaXMgY2FsbGVkIGxhdGVyXG4gICAgaWYgKGN1c3RvbUFjdGl2aXR5LkN1c3RvbVByZXJlcXVpc2l0ZSlcbiAgICB7XG4gICAgICAgIGxldCBjdXN0b21QcmVyZXF1aXNpdGVzID0gY3VzdG9tQWN0aXZpdHkuQ3VzdG9tUHJlcmVxdWlzaXRlO1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoY3VzdG9tUHJlcmVxdWlzaXRlcykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGN1c3RvbVByZXJlcXVpc2l0ZXMgPSBbY3VzdG9tUHJlcmVxdWlzaXRlc107XG4gICAgICAgIH1cbiAgICAgICAgY3VzdG9tUHJlcmVxdWlzaXRlcy5mb3JFYWNoKChuZXdQcmVyZXF1aXNpdGUpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGFjdGl2aXR5LlByZXJlcXVpc2l0ZS5wdXNoKG5ld1ByZXJlcXVpc2l0ZS5OYW1lIGFzIEFjdGl2aXR5UHJlcmVxdWlzaXRlKTtcbiAgICAgICAgICAgIGlmICghKG5ld1ByZXJlcXVpc2l0ZS5OYW1lIGluIGFjdGl2aXR5UHJlcmVxdWlzaXRlcylcbiAgICAgICAgICAgICAgJiYgbmV3UHJlcmVxdWlzaXRlLlByZXJlcXVpc2l0ZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhY3Rpdml0eVByZXJlcXVpc2l0ZXNbbmV3UHJlcmVxdWlzaXRlLk5hbWVdID0gbmV3UHJlcmVxdWlzaXRlLlByZXJlcXVpc2l0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gVGhlIGxvb2t1cCB0YWJsZSBmb3IgdGhlIGFjdGl2aXR5XG4gICAgY3VzdG9tQWN0aXZpdHkuVGFyZ2V0cy5mb3JFYWNoKCh0YXJnZXQpID0+XG4gICAge1xuICAgICAgICAvLyBBY2l0aXZpdHkgY2FuIGJlIHVzZWQgb24gc2VsZlxuICAgICAgICBpZiAodGFyZ2V0LmFjdGlvblNlbGYpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghYWN0aXZpdHkuVGFyZ2V0U2VsZilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBhY3Rpdml0eS5UYXJnZXRTZWxmID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAoYWN0aXZpdHkuVGFyZ2V0U2VsZiBhcyBBc3NldEdyb3VwSXRlbU5hbWVbXSk/LnB1c2godGFyZ2V0Lmdyb3VwKTtcbiAgICAgICAgICAgIEFjdGl2aXR5RGljdGlvbmFyeT8ucHVzaChbYExhYmVsLUNoYXRTZWxmLSR7dGFyZ2V0Lmdyb3VwfS0ke2FjdGl2aXR5Lk5hbWV9YCwgTG9jYWxpemVkVGV4dCh0YXJnZXQubGFiZWwpXSk7XG4gICAgICAgICAgICBBY3Rpdml0eURpY3Rpb25hcnk/LnB1c2goW2BDaGF0U2VsZi0ke3RhcmdldC5ncm91cH0tJHthY3Rpdml0eS5OYW1lfWAsIExvY2FsaXplZFRleHQodGFyZ2V0LmFjdGlvblNlbGYpXSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBY3Rpdml0eSBjYW4gYmUgdXNlZCBvbiBvdGhlcnNcbiAgICAgICAgaWYgKHRhcmdldC5hY3Rpb25PdGhlcnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGFjdGl2aXR5LlRhcmdldC5wdXNoKHRhcmdldC5ncm91cCk7XG4gICAgICAgICAgICBBY3Rpdml0eURpY3Rpb25hcnk/LnB1c2goW2BMYWJlbC1DaGF0T3RoZXItJHt0YXJnZXQuZ3JvdXB9LSR7YWN0aXZpdHkuTmFtZX1gLCBMb2NhbGl6ZWRUZXh0KHRhcmdldC5sYWJlbCldKTtcbiAgICAgICAgICAgIEFjdGl2aXR5RGljdGlvbmFyeT8ucHVzaChbYENoYXRPdGhlci0ke3RhcmdldC5ncm91cH0tJHthY3Rpdml0eS5OYW1lfWAsIExvY2FsaXplZFRleHQodGFyZ2V0LmFjdGlvbk90aGVycyldKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gSW1hZ2UgdGhlIGFjdGl2aXR5IHdpbGwgdXNlXG4gICAgYWN0aXZpdHlJbWFnZXNbYWN0aXZpdHkuTmFtZV0gPSBjdXN0b21BY3Rpdml0eS5JbWFnZTtcblxuICAgIC8vIE9uIGFjdGl2aXR5IHRyaWdnZXIgc3VwcG9ydFxuICAgIGlmIChjdXN0b21BY3Rpdml0eS5PblRyaWdnZXIpXG4gICAge1xuICAgICAgICBhY3Rpdml0eVRyaWdnZXJzW2FjdGl2aXR5Lk5hbWVdID0gY3VzdG9tQWN0aXZpdHkuT25UcmlnZ2VyO1xuICAgIH1cblxuICAgIC8vIE9uIGFjdGl2aXR5IHJlY2lldmVkIHN1cHBvcnRcbiAgICBpZiAoY3VzdG9tQWN0aXZpdHkuT25SZWNlaXZlKVxuICAgIHtcbiAgICAgICAgYWN0aXZpdHlSZWNlaXZlZFthY3Rpdml0eS5OYW1lXSA9IGN1c3RvbUFjdGl2aXR5Lk9uUmVjZWl2ZTtcbiAgICB9XG5cbiAgICBBY3Rpdml0eUZlbWFsZTNEQ0cucHVzaChhY3Rpdml0eSk7XG4gICAgQWN0aXZpdHlGZW1hbGUzRENHT3JkZXJpbmcucHVzaChhY3Rpdml0eS5OYW1lKTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgbWFueSBjdXN0b20gYWN0aXZpdGllcyBmb3IgdGhlIFBsYXllciB0byB1c2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIENyZWF0ZUFjdGl2aXRpZXMoY3VzdG9tQWN0aXZpdGllczogQ3VzdG9tQWN0aXZpdHlbXSk6IHZvaWRcbntcbiAgICBjdXN0b21BY3Rpdml0aWVzLmZvckVhY2goKGFjdGl2aXR5KSA9PlxuICAgIHtcbiAgICAgICAgQ3JlYXRlQWN0aXZpdHkoYWN0aXZpdHkpO1xuICAgIH0pO1xufVxuXG4vKipcbiAqIFJlbW92ZSBhY3Rpdml0eSwgZGlzYWxsb3dpbmcgdGhlIFBsYXllciB0byB1c2UgaXRcbiAqIEBwYXJhbSBjdXN0b21BY3Rpdml0eSAtIE9ubHkgTmFtZSBhbmQgVGFyZ2V0cyBtYXR0ZXIgZm9yIHRoaXMgZnVuY3Rpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFJlbW92ZUFjdGl2aXR5KGN1c3RvbUFjdGl2aXR5OiBDdXN0b21BY3Rpdml0eSk6IHZvaWRcbntcbiAgICBjb25zdCBhY3Rpdml0eU5hbWUgPSBgJHtBQ1RJVklUWV9OQU1FX1BSRUZJWH0ke2N1c3RvbUFjdGl2aXR5Lk5hbWV9YDtcblxuICAgIC8vIFRoZSBsb29rdXAgdGFibGUgZm9yIHRoZSBhY3Rpdml0eVxuICAgIGN1c3RvbUFjdGl2aXR5LlRhcmdldHMuZm9yRWFjaCgodGFyZ2V0KSA9PlxuICAgIHtcbiAgICAgICAgLy8gQWNpdGl2aXR5IGNhbiBiZSB1c2VkIG9uIHNlbGZcbiAgICAgICAgaWYgKHRhcmdldC5hY3Rpb25TZWxmKVxuICAgICAgICB7XG4gICAgICAgICAgICBBY3Rpdml0eURpY3Rpb25hcnkgPSBBY3Rpdml0eURpY3Rpb25hcnk/LmZpbHRlcigoeCkgPT4gISh4WzBdID09PSBgTGFiZWwtQ2hhdFNlbGYtJHt0YXJnZXQuZ3JvdXB9LSR7YWN0aXZpdHlOYW1lfWAgfHwgeFswXSA9PT0gYENoYXRTZWxmLSR7dGFyZ2V0Lmdyb3VwfS0ke2FjdGl2aXR5TmFtZX1gKSkgPz8gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFjdGl2aXR5IGNhbiBiZSB1c2VkIG9uIG90aGVyc1xuICAgICAgICBpZiAodGFyZ2V0LmFjdGlvbk90aGVycylcbiAgICAgICAge1xuICAgICAgICAgICAgQWN0aXZpdHlEaWN0aW9uYXJ5ID0gQWN0aXZpdHlEaWN0aW9uYXJ5Py5maWx0ZXIoKHgpID0+ICEoeFswXSA9PT0gYExhYmVsLUNoYXRPdGhlci0ke3RhcmdldC5ncm91cH0tJHthY3Rpdml0eU5hbWV9YCB8fCB4WzBdID09PSBgQ2hhdE90aGVyLSR7dGFyZ2V0Lmdyb3VwfS0ke2FjdGl2aXR5TmFtZX1gKSkgPz8gbnVsbDtcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gSW1hZ2UgdGhlIGFjdGl2aXR5IHdpbGwgdXNlXG4gICAgZGVsZXRlIGFjdGl2aXR5SW1hZ2VzW2FjdGl2aXR5TmFtZV07XG5cbiAgICAvLyBPbiBhY3Rpdml0eSB0cmlnZ2VyIHN1cHBvcnRcbiAgICBkZWxldGUgYWN0aXZpdHlUcmlnZ2Vyc1thY3Rpdml0eU5hbWVdO1xuXG4gICAgLy8gRG9uZVxuICAgIEFjdGl2aXR5RmVtYWxlM0RDRyA9IEFjdGl2aXR5RmVtYWxlM0RDRy5maWx0ZXIoKHgpID0+IHguTmFtZSAhPT0gYWN0aXZpdHlOYW1lKTtcbiAgICBBY3Rpdml0eUZlbWFsZTNEQ0dPcmRlcmluZyA9IEFjdGl2aXR5RmVtYWxlM0RDR09yZGVyaW5nLmZpbHRlcigoeCkgPT4geCAhPT0gYWN0aXZpdHlOYW1lKTtcbn1cblxuLyoqXG4gKiBSZW1vdmUgYWN0aXZpdGllcywgZGlzYWxsb3dpbmcgdGhlIFBsYXllciB0byB1c2UgdGhlbVxuICogQHBhcmFtIGN1c3RvbUFjdGl2aXR5IC0gT25seSBOYW1lIGFuZCBUYXJnZXRzIG1hdHRlciBmb3IgdGhpcyBmdW5jdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gUmVtb3ZlQWN0aXZpdGllcyhjdXN0b21BY3Rpdml0aWVzOiBDdXN0b21BY3Rpdml0eVtdKTogdm9pZFxue1xuICAgIGN1c3RvbUFjdGl2aXRpZXMuZm9yRWFjaCgoYWN0aXZpdHkpID0+XG4gICAge1xuICAgICAgICBSZW1vdmVBY3Rpdml0eShhY3Rpdml0eSk7XG4gICAgfSk7XG59XG4iLCJpbXBvcnQgeyBNb2R1bGVUaXRsZSB9IGZyb20gXCIuLi9tb2R1bGVzL19tb2R1bGVcIjtcbmltcG9ydCB7IEZpbmRDaGFyYWN0ZXJJblJvb20gfSBmcm9tIFwiLi9tZXNzYWdpbmdcIjtcblxuZXhwb3J0IGNvbnN0IEFVVEhPUklUWV9HUk9VUF9PUFRJT05TOiBBdXRob3JpdHlHcm91cFtdID0gW1xuICAgIFwiUHVibGljXCIsXG4gICAgXCJGcmllbmRzXCIsXG4gICAgXCJXaGl0ZWxpc3RcIixcbiAgICBcIkxvdmVyc1wiLFxuICAgIFwiT3duZXJzXCIsXG4gICAgXCJDbHVib3duZXJcIixcbiAgICBcIlNlbGZcIlxuXTtcblxuY29uc3QgQVVUSE9SSVRZX0dST1VQX1BSSU9fT1JERVI6IEF1dGhvcml0eUdyb3VwW10gPSBbXG4gICAgXCJOb25lXCIsXG4gICAgXCJQdWJsaWNcIixcbiAgICBcIkZyaWVuZHNcIixcbiAgICBcIldoaXRlbGlzdFwiLFxuICAgIFwiTG92ZXJzXCIsXG4gICAgXCJPd25lcnNcIixcbiAgICBcIkQvcyBGYW1pbHlcIixcbiAgICBcIkNsdWJvd25lclwiLFxuICAgIFwiU2VsZlwiXG5dO1xuXG5jb25zdCBMb3ZlcnMgPSAoQzogQ2hhcmFjdGVyKSA9PiAoQy5Mb3ZlcnNoaXA/LmZpbHRlcigoeCkgPT4geC5NZW1iZXJOdW1iZXIpLm1hcCgobG92ZXIpID0+IGxvdmVyLk1lbWJlck51bWJlcikgPz8gW10pIGFzIG51bWJlcltdO1xuZXhwb3J0IGNvbnN0IEFVVEhPUklUWV9HUk9VUFMgPVxue1xuICAgIFNlbGY6IChDOiBDaGFyYWN0ZXIpID0+IFtDLk1lbWJlck51bWJlciA/PyAtMV0sXG4gICAgQ2x1Ym93bmVyOiAoQzogQ2hhcmFjdGVyKSA9PiBDPy5Pd25lcnNoaXA/Lk1lbWJlck51bWJlciA/IFtDPy5Pd25lcnNoaXA/Lk1lbWJlck51bWJlcl0gOiBbXSxcbiAgICBPd25lcnM6IGZ1bmN0aW9uIChDOiBDaGFyYWN0ZXIpOiBudW1iZXJbXVxuICAgIHtcbiAgICAgICAgY29uc3Qgb3duZXJzID0gKChDLk1QQT8uW01vZHVsZVRpdGxlLkF1dGhvcml0eV0/Lm93bmVycyBhcyBzdHJpbmcpID8/IFwiXCIpLnNwbGl0KFwiLFwiKS5tYXAoKHZhbCkgPT4gcGFyc2VJbnQodmFsKSkuZmlsdGVyKChudW0pID0+ICFpc05hTihudW0pKTtcbiAgICAgICAgcmV0dXJuIG93bmVycy5sZW5ndGggPT09IDAgPyBbXSA6IG93bmVycztcbiAgICB9LFxuICAgIExvdmVyczogTG92ZXJzLFxuICAgIFdoaXRlTGlzdDogKEM6IENoYXJhY3RlcikgPT4gQy5XaGl0ZUxpc3QgPz8gW10sXG4gICAgRnJpZW5kTGlzdDogKCkgPT4gUGxheWVyLkZyaWVuZExpc3QgPz8gW11cbn07XG5cbmV4cG9ydCB0eXBlIEF1dGhvcml0eUdyb3VwID0gXCJTZWxmXCIgfCBcIkNsdWJvd25lclwiIHwgXCJEL3MgRmFtaWx5XCIgfCBcIk93bmVyc1wiIHwgXCJMb3ZlcnNcIiB8IFwiV2hpdGVsaXN0XCIgfCBcIkZyaWVuZHNcIiB8IFwiUHVibGljXCIgfCBcIk5vbmVcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIElzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAobWVtYmVyTnVtYmVyOiBudW1iZXIsIGF1dGhHcm91cDogQXV0aG9yaXR5R3JvdXAsIGFsbG93U2VsZiA9IGZhbHNlLCBzb3VyY2VDaGFyOiBDaGFyYWN0ZXIgPSBQbGF5ZXIpOiBib29sZWFuXG57XG4gICAgaWYgKGF1dGhHcm91cCA9PT0gXCJOb25lXCIpXG4gICAge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gRGVueSBzZWxmIG9yIGluc3RhbnQgYWNjZXNzXG4gICAgaWYgKG1lbWJlck51bWJlciA9PT0gQVVUSE9SSVRZX0dST1VQUy5TZWxmKHNvdXJjZUNoYXIpWzBdKVxuICAgIHtcbiAgICAgICAgLy8gSWYgU2VsZiBBdXRob3JpdHlHcm91cCwgb3ZlcnJpZGUgdGhlIGFsbG93U2VsZiBmbGFnXG4gICAgICAgIHJldHVybiBhdXRoR3JvdXAgPT09IFwiU2VsZlwiID8gdHJ1ZSA6IGFsbG93U2VsZjtcbiAgICB9XG5cbiAgICAvLyBObyBpZiBpbiBibGFja2xpc3QgcmVnYXJkbGVzcyBvZiByb2xlXG4gICAgaWYgKHNvdXJjZUNoYXIuQmxhY2tMaXN0LmluY2x1ZGVzKG1lbWJlck51bWJlcikgfHwgKChzb3VyY2VDaGFyIGFzIFBsYXllckNoYXJhY3Rlcik/Lkdob3N0TGlzdD8uaW5jbHVkZXMobWVtYmVyTnVtYmVyKSA/PyBmYWxzZSkpXG4gICAge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gRXZlcnlvbmUgYWxsb3dlZCBleGNlcHQgYmxvY2tlZCBjaGFyYWN0ZXJzXG4gICAgaWYgKGF1dGhHcm91cCA9PT0gXCJQdWJsaWNcIilcbiAgICB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIEZhbWlseSBvbmx5IGNhbiBiZSBjaGVja2VkIGJ5IGFnYWluc3QgdGhlIFBsYXllciB0aGVtc2VsZlxuICAgIGlmIChhdXRoR3JvdXAgPT09IFwiRC9zIEZhbWlseVwiICYmIHNvdXJjZUNoYXIuTWVtYmVyTnVtYmVyID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIEZpbmRDaGFyYWN0ZXJJblJvb20obWVtYmVyTnVtYmVyKT8uSXNGYW1pbHlPZlBsYXllcigpID8/IGZhbHNlO1xuICAgIH1cblxuICAgIGxldCBhdXRoQ2hlY2sgPSBuZXcgU2V0PG51bWJlcj4oKTtcbiAgICAvLyBVc2Ugc3dpdGNoIGZhbGx0aHJvdWdoIHRvIGdldCB0aGUgc2V0IG9mIGFsbCBhdXRoZWQgdXNlcnMgaW4gdGhlIGdyb3VwKHMpXG4gICAgc3dpdGNoIChhdXRoR3JvdXApXG4gICAge1xuICAgICAgICBjYXNlIFwiRnJpZW5kc1wiOlxuICAgICAgICAgICAgLy8gU2luY2UgRnJpZW5kc0xpc3QgaXMgbm90IG9uIG90aGVyIGNoYXJhY3RlcnMsIGNhbiBvbmx5IGNoZWNrIGlmIHRoZSBQbGF5ZXIgYW5kIGFub3RoZXIgY2hhcmFjdGVyIGFyZSBmcmllbmRzXG4gICAgICAgICAgICAvLyBVbmFibGUgdG8gY2hlY2sgaWYgMiBkaWZmZXJlbnQgY2hhcmFjdGVycyBhcmUgZnJpZW5kc1xuICAgICAgICAgICAgLy8gdGFyZ2V0Q2hhciBpcyBub24tcGxheWVyIGFuZCBsb29raW5nIGZvciBQbGF5ZXIgbWVtYmVyIG51bWJlclxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHNvdXJjZUNoYXIuTWVtYmVyTnVtYmVyICE9PSBQbGF5ZXIuTWVtYmVyTnVtYmVyXG4gICAgICAgICAgICAgICAgJiYgUGxheWVyLk1lbWJlck51bWJlciA9PT0gbWVtYmVyTnVtYmVyXG4gICAgICAgICAgICAgICAgJiYgQVVUSE9SSVRZX0dST1VQUy5GcmllbmRMaXN0KCkuaW5jbHVkZXMoc291cmNlQ2hhci5NZW1iZXJOdW1iZXIgPz8gLTEpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBQbGF5ZXIgaXMgc2VsZiBhbmQgbG9va2luZyB0aHJvdWdoIGZyaWVuZHMgbGlzdFxuICAgICAgICAgICAgaWYgKHNvdXJjZUNoYXIuTWVtYmVyTnVtYmVyID09PSBQbGF5ZXIuTWVtYmVyTnVtYmVyKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGF1dGhDaGVjayA9IG5ldyBTZXQoWy4uLmF1dGhDaGVjaywgLi4uQVVUSE9SSVRZX0dST1VQUy5GcmllbmRMaXN0KCldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmU6IGZhbGx0aHJvdWdoIGlzIGludGVudGlvbmFsXG4gICAgICAgIGNhc2UgXCJXaGl0ZWxpc3RcIjpcbiAgICAgICAgICAgIGF1dGhDaGVjayA9IG5ldyBTZXQoWy4uLmF1dGhDaGVjaywgLi4uQVVUSE9SSVRZX0dST1VQUy5XaGl0ZUxpc3Qoc291cmNlQ2hhcildKTtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmU6IGZhbGx0aHJvdWdoIGlzIGludGVudGlvbmFsXG4gICAgICAgIGNhc2UgXCJMb3ZlcnNcIjpcbiAgICAgICAgICAgIGF1dGhDaGVjayA9IG5ldyBTZXQoWy4uLmF1dGhDaGVjaywgLi4uQVVUSE9SSVRZX0dST1VQUy5Mb3ZlcnMoc291cmNlQ2hhcildKTtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmU6IGZhbGx0aHJvdWdoIGlzIGludGVudGlvbmFsXG4gICAgICAgIGNhc2UgXCJPd25lcnNcIjpcbiAgICAgICAgICAgIGF1dGhDaGVjayA9IG5ldyBTZXQoWy4uLmF1dGhDaGVjaywgLi4uQVVUSE9SSVRZX0dST1VQUy5Pd25lcnMoc291cmNlQ2hhcildKTtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmU6IGZhbGx0aHJvdWdoIGlzIGludGVudGlvbmFsXG4gICAgICAgIGNhc2UgXCJDbHVib3duZXJcIjpcbiAgICAgICAgICAgIGF1dGhDaGVjayA9IG5ldyBTZXQoWy4uLmF1dGhDaGVjaywgLi4uQVVUSE9SSVRZX0dST1VQUy5DbHVib3duZXIoc291cmNlQ2hhcildKTtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmU6IGZhbGx0aHJvdWdoIGlzIGludGVudGlvbmFsXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgfVxuXG4gICAgcmV0dXJuIGF1dGhDaGVjay5oYXMobWVtYmVyTnVtYmVyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEhpZ2hlc3RMZXZlbEF1dGhvcml0eUdyb3VwKG1lbWJlck51bWJlcjogbnVtYmVyLCB0YXJnZXRDaGFyOiBDaGFyYWN0ZXIgPSBQbGF5ZXIpOiBBdXRob3JpdHlHcm91cFxue1xuICAgIGlmICh0YXJnZXRDaGFyLk1lbWJlck51bWJlciA9PT0gbWVtYmVyTnVtYmVyKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFwiU2VsZlwiO1xuICAgIH1cbiAgICBpZiAodGFyZ2V0Q2hhcj8uT3duZXJzaGlwPy5NZW1iZXJOdW1iZXIgPT09IG1lbWJlck51bWJlcilcbiAgICB7XG4gICAgICAgIHJldHVybiBcIkNsdWJvd25lclwiO1xuICAgIH1cbiAgICBpZiAoQVVUSE9SSVRZX0dST1VQUy5Pd25lcnModGFyZ2V0Q2hhcikuaW5jbHVkZXMobWVtYmVyTnVtYmVyKSlcbiAgICB7XG4gICAgICAgIHJldHVybiBcIk93bmVyc1wiO1xuICAgIH1cbiAgICBpZiAoQVVUSE9SSVRZX0dST1VQUy5Mb3ZlcnModGFyZ2V0Q2hhcikuaW5jbHVkZXMobWVtYmVyTnVtYmVyKSlcbiAgICB7XG4gICAgICAgIHJldHVybiBcIkxvdmVyc1wiO1xuICAgIH1cbiAgICBpZiAoQVVUSE9SSVRZX0dST1VQUy5XaGl0ZUxpc3QodGFyZ2V0Q2hhcikuaW5jbHVkZXMobWVtYmVyTnVtYmVyKSlcbiAgICB7XG4gICAgICAgIHJldHVybiBcIldoaXRlbGlzdFwiO1xuICAgIH1cbiAgICAvLyBGcmllbmRzXG4gICAgLy8gVGFyZ2V0Y2hhcmFjdGVyIGlzIHNlbGZcbiAgICBpZiAodGFyZ2V0Q2hhci5NZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXIgJiYgUGxheWVyLkZyaWVuZExpc3Q/LmluY2x1ZGVzKG1lbWJlck51bWJlcikpXG4gICAge1xuICAgICAgICByZXR1cm4gXCJGcmllbmRzXCI7XG4gICAgfVxuICAgIC8vIFRhcmdldCBjaGFyYWN0ZXIgaXMgbm90IHNlbGYsIGJ1dCBsb29rdXAgY2hhcmFjdGVyIGlzXG4gICAgaWYgKHRhcmdldENoYXIuTWVtYmVyTnVtYmVyICE9PSBQbGF5ZXIuTWVtYmVyTnVtYmVyXG4gICAgICAmJiBtZW1iZXJOdW1iZXIgPT09IFBsYXllci5NZW1iZXJOdW1iZXJcbiAgICAgICYmIFBsYXllci5GcmllbmRMaXN0Py5pbmNsdWRlcyh0YXJnZXRDaGFyLk1lbWJlck51bWJlciA/PyAtMSlcbiAgICApXG4gICAge1xuICAgICAgICByZXR1cm4gXCJGcmllbmRzXCI7XG4gICAgfVxuICAgIC8vIFB1YmxpY1xuICAgIGlmIChcbiAgICAgICAgISh0YXJnZXRDaGFyLkJsYWNrTGlzdC5pbmNsdWRlcyhtZW1iZXJOdW1iZXIpXG4gICAgICAgICAgfHwgKCh0YXJnZXRDaGFyIGFzIFBsYXllckNoYXJhY3Rlcik/Lkdob3N0TGlzdD8uaW5jbHVkZXMobWVtYmVyTnVtYmVyKSA/PyBmYWxzZSkpXG4gICAgKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIFwiUHVibGljXCI7XG4gICAgfVxuICAgIHJldHVybiBcIk5vbmVcIjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEF1dGhvcml0eUlzQ29tcGFyaXNvblRvQ2hhcmFjdGVyKGdyb3VwOiBBdXRob3JpdHlHcm91cCwgY29tcGFyaXNvbjogXCI+XCIgfCBcIjxcIiB8IGAke1wiPVwiIHwgXCIhXCIgfCBcIj5cIiB8IFwiPFwifT1gID0gXCI+PVwiLCBtZW1iZXJOdW1iZXI6IG51bWJlciwgY2hhcmFjdGVyOiBDaGFyYWN0ZXIgPSBQbGF5ZXIpOiBib29sZWFuXG57XG4gICAgY29uc3QgcmFuayA9IEhpZ2hlc3RMZXZlbEF1dGhvcml0eUdyb3VwKG1lbWJlck51bWJlciwgY2hhcmFjdGVyKTtcblxuICAgIGNvbnN0IGdyb3VwSW5kZXggPSBBVVRIT1JJVFlfR1JPVVBfUFJJT19PUkRFUi5pbmRleE9mKGdyb3VwKTtcbiAgICBjb25zdCByYW5rSW5kZXggPSBBVVRIT1JJVFlfR1JPVVBfUFJJT19PUkRFUi5pbmRleE9mKHJhbmspO1xuXG4gICAgaWYgKGdyb3VwSW5kZXggPT09IC0xIHx8IHJhbmtJbmRleCA9PT0gLTEpXG4gICAge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgc3dpdGNoIChjb21wYXJpc29uKVxuICAgIHtcbiAgICAgICAgY2FzZSBcIj5cIjpcbiAgICAgICAgICAgIHJldHVybiByYW5rSW5kZXggPiBncm91cEluZGV4O1xuXG4gICAgICAgIGNhc2UgXCI8XCI6XG4gICAgICAgICAgICByZXR1cm4gcmFua0luZGV4IDwgZ3JvdXBJbmRleDtcblxuICAgICAgICBjYXNlIFwiPj1cIjpcbiAgICAgICAgICAgIHJldHVybiByYW5rSW5kZXggPj0gZ3JvdXBJbmRleDtcblxuICAgICAgICBjYXNlIFwiPD1cIjpcbiAgICAgICAgICAgIHJldHVybiByYW5rSW5kZXggPD0gZ3JvdXBJbmRleDtcblxuICAgICAgICBjYXNlIFwiPT1cIjpcbiAgICAgICAgICAgIHJldHVybiByYW5rSW5kZXggPT0gZ3JvdXBJbmRleDtcblxuICAgICAgICBjYXNlIFwiIT1cIjpcbiAgICAgICAgICAgIHJldHVybiByYW5rSW5kZXggIT0gZ3JvdXBJbmRleDtcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBjb21wYXJpc29uIG9wZXJhdG9yXCIpO1xuICAgIH1cbn1cbiIsImltcG9ydCBwYWNrYWdlSW5mbyBmcm9tIFwiLi4vLi4vcGFja2FnZS5qc29uXCI7XG5cbmV4cG9ydCBjb25zdCBNUEFfTkFNRSA9IHBhY2thZ2VJbmZvLm5hbWUudG9Mb2NhbGVVcHBlckNhc2UoKTtcbmV4cG9ydCBjb25zdCBNUEFfVkVSU0lPTiA9IHBhY2thZ2VJbmZvLnZlcnNpb247XG5leHBvcnQgY29uc3QgTVBBX1JFUE8gPSBwYWNrYWdlSW5mby5yZXBvc2l0b3J5LnVybDtcblxuZXhwb3J0IGNvbnN0IElDT05TID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgUEFXOiBcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRllBQUFCV0NBWUFBQUJWVm1IM0FBQUFBWE5TUjBJQXJzNGM2UUFBQUFSblFVMUJBQUN4and2OFlRVUFBQUFKY0VoWmN3QUFEc0VBQUE3QkFiaVJhKzBBQUFBWmRFVllkRk52Wm5SM1lYSmxBSGQzZHk1cGJtdHpZMkZ3WlM1dmNtZWI3andhQUFBRzdFbEVRVlI0WHUyY1Y4ZzBOUmhHZnhWN0FUdUtZa05GN0lLaTNsZ3Z4SWFLSWlKMnZWQ3hGeFFiMkM0VmU4RjJvYUpnQTN0RnNIY0ZHNG9Oc1dEdnZUM25tNDJFNFozWlpKTFpiK2NuQnc0NzdDWXpTWFoySm5tVDJUbUZRcUZRS0JRS2hVS2hVQ2dVeHJHYVBGKytMZitSMzh2NzVRRnlNWmtMOXJXL3ZFOStKemtXeCtUWWxHR3U0bWo1dS95M3dVOGtEWndLKzJCZjFqR1FNaHdsNXdwb1ZLdVNscGZLcnBEWDJxZmw0QnQzSThsUDBhcGNrOWZLV01oajdhdEp5clNoSEN3UFNhdGk0enhkaG5LYXRQWXh6Z2ZsSUZsUFdoVUtkVXM1RHRKWWVVT2xqTDB3NytpMUQvWVl2WGJsQ3RsV1BqNGpUUXE3ajE0SHhTUFNPa3RpcE52VUJKOVplV0o4V0E2SytlV0gwcXBNakc5STY2emxQVDZ6OHNUNGdhU3NnMkU1K1lPMEtoUHJWcklPNzFscFk2V015OHJzOUhXTlhVUXVWRzBtcy9mbzFjZDZyd3NMU3NxYW5iNGFGamdqY3JDOW5LL2FuSUZ0M3N1Qk8zT3owMWZEL2l4L3F6YVRXVU91WG0zT3dEYnY1WUF5L2xKdDVxV3ZoaVg0OFhXMW1ReGxYS2ZhbklIdFhPWCtSbExXN1BUVnNIOUs3cmk1V0hYMENqa2pWSlR4cjJvekw2RU5Tem91OURHOE5Ick5nWC9uem5rWGYzSDBHZ3B0RU5SbWJZbFdrQ2RKeHRURU05K1JiMHJpbkdmSkxXUWJqNDVlYytCL3FiRmZjQnVQalY2YjJGeFNWK3BNM1dtRHQrUUQ4a1JKRzBYQnFPWkw2ZTZhVGI0Z2lZSE9JK3NzS3IrUVZyNVl6NVVPdHEwMHNWSTJ5bWhCL1orWFZqNWYybWcvR1VTWG9TS0YyRnJXdVV4YTZXTWxwdXM0UmxwcFlyVml2d3c4bnBOVytqYkhCdW1Ya2I5S0szT0k1MGdmN3VDeDhWakxIYVZqSjJtbGlaRXkrVDBOT0Z0YWFVT2t6V2k3Um5LY0RYZElmOVIxbzdUU2hjcDB5a3JTd1hiYk5FK0lsTWxCV1crWFZyb1lhYnRHbnBSV3BsaTVLU3dzZ1liNFVWcnBRcVJNZFo2U1Z0b1FLWXY3b2lnalpiWFN4ZnFFYk9RbmFXWHE0cjNTY1pDMDBvUkkzam9IU3l0dGlBZEtCMlcwMG5TUnRtdkV5cERpQmRJUk05bm5mRTlhM1N0K3ZueG01V256RXVtZ2JGYWFGQnRoR0dwbFNIRUg2WWlkOU50R09sYVdLMWFiTTJ3cnJUeE4rcE9VbE1sS2srSlhzaEU2OVZhbUZOK1g3bm9MWjhpL3BaWFc5MUFKdTBoR2NkeDUrYmx4TFhQellZZEpLNjh2UFlBenBZT3lNSlMxMHFiWU9pQTZWVnFaVWoxZSttd203NUxXM1oxKzVIWVNhTlQ2NTBnRHN3OGdyZFgzWk44Y3c2VnpuQ0RyYVhOSTIvMVBmY1RFWFB1cjFXWldQcFpyU2lyclEvaHZVOGxQblBBZHgzNVd3czZTcmx2VDFBbFJLWDdTTkNvdy9HUWRBNEhyVHlXalFxN0RQbHliR1paeVdja054MzZ0MnJSaFRHeDlJNmx5OW9XeWx5VHFaTzNIbC9WZjF0Uk5FN3RLYXorcDBtWmpZWGhtWlU3MUdobENiTmVNYXkranNSQmliNTZoQnEwN0krTEZUOUxhUVlxdFA1TVJSSXlzdk9Qa0J0VTJWZTZnREZiK0ZHbXIwUERyekFVL3h4amZsMGpRNHJLSmk2U1ZMMGFXR3pXeGhBeUoyTVZJRzlWdmptTTVXVm83NnlwRHllVmxIVUozZDBvclR4ZXZsbFlZazJPbkRLMHRhYU5PWENldEhYYVJEalJuamM4cWtydTNsVDVGQXRGTFNoK09UUm1zOUYya2JaSzRSVm83anZWbDZVUDNpRzZZbFRhSHI4dTFwYzhyMGtvYksyMlNoY3VsZFlBWS9WbUFQU1g5Vml0ZFRwa2w4QVB3NTBrclhZeTBSVmFPa0YwYmc1R1N1NzRlSzYwMGZmbUgzRmNDYzFSZEkzalUvVWpaQyt2S2U2UjE0RGJkY3NrTHBmWDVKSFJEVHBhWFdwKzNTWjE3VzB2cncxQ1NXQ1puZzFVUTUwZlNUYXZjS3EwMGs5VE5jekZjSHJjYWtyb3hPK3RINTRLeHVpVXhNUDRuQ01KVU9PTisrcWtzMnlHaXhmcllteVFGSkVvZk0vVHNFNlpodU1ZVFU5aEhzZzZNc2hQM3BUdEdmT0VaU2JUcVhUbVYwTkNFL0t3ellqWmxyVVRxU1RWcmNFWjBtVXFlbEhmTFFUWXVJVCtyUXRPa1AxVXpDRTZSVmtXbVVkY1ZtM3JvbG9URVVxZEZBdWJSYTdCbWcxeno5SlAwQmpuVjVIcm9ZdEl5dVZtUEt5UVJIS0FONVBEUjY5Q2dIUTZwTnFjUHduSjlyRXVZbEt4N3pYYWk1VHhqTjVaTFZadURaQzJaNjZHUnJBM0w5TytRb1MzV3J6YlR5ZG13MmI3dFdjUi83Q21KbkEyNzlPaDF5TFF1SG80aFo4TU9OcWpoa2EwT09SczIxd056czBucmlzRVljallzM1pXaE01VjFZTnJHNmgvbWtyOTl5cjNnd3BlNXNGNGVzYy9CMDlJcWRBNlpxenF1OWw1T21UcWFXcGhMc2dxZHFsdk54Ny9BNVhvb3IrNG1jcXJKdVZ6STZhOE5JSDVxcFVueFlqbjFNS3p0OHVCRmt5eXRyM09sdE5KMmtZWE9DOGhCd093dE03VldSV0xrYWNFbXJwSlduaGg1K250cWIxaE5zUHlkeFdsV2hjYjVyZlNmeDJxQzliUmRuMUs4V2RZWDZRMEtWanVITG1SbWRmYjFNdWJQSGphUXQ4bVFKM0dRbnN0dXNsY21PUXdsck1oelc2d3k1QUZoL2tLS2luNHVXWW5JbEE2TEpENlRYZUJmT0ZoOHdURjRTSVg5MDlqc24vL29va0VmbDBIUEN4UUtoVUtoVUNnVUNvVkNZYnFaTStjL2NGTFZiZ3RlVEVZQUFBQUFTVVZPUks1Q1lJST1cIixcbiAgICBESVNDT1JEOiBcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBRllBQUFCQkNBWUFBQUJMaFZQVUFBQUFBWE5TUjBJQXJzNGM2UUFBQUFSblFVMUJBQUN4and2OFlRVUFBQUFKY0VoWmN3QUFOZEVBQURYUkFYUGZnUDRBQUE5ZVNVUkJWSGhlN1Z3TGNGeFZHVDZ2KzlwWEFuM1JGbHVSVjFVR0VDdVZRU2tPNEF1Zm1KQzBCVnVhTkpVaUtqaUtJekJSa1JsRUdCL0ZvVFJ0c1VyYUpoUkZ4d2MraWlNNnZoQ2RBaXBxS3dwU3JDVnRkcFBzN24yZDQvL2ZQU2tOeVc3MmNRdVY1cHR1Yy9lL2QrKzk1enYvK2MvLy8rZS9sNUlYQ2N1dWxwblE5MDlrU3A2aGlGcklLSDlkNEx1ZGZSc3pmOUdIeElvbHE3TW5NMnB0bGlyWXFTUjVtQW02TXhVbWRxMWZUN1A2a01PS3cwWnM2eHFWTWxUeERVU1N0eWdpRnl1bFRoZkNhZWFjRWFVSUVZS1FrZUdoNy9adHlMeFgveVJXdEhWbSs1UHBUR3ZnUXlPaGxXR29TQmdVc29xcXh4amhEMUV1SGlTY1A5eTdsdVgwVDJKRnJNUmVmbFYybWd6c0N5UUoza3NVWGN5RlBaZHpTcVNFaGdVdS9JVldFbUFWUUNtSGRobEVCZjdadlQzSmh5TmhUR2p2R0RxZEdRSTBWVUluaGxwS0NXT0N3RDNCWDBJa0VCMkV4V2ZoZmg1aVJIekhOZDJmYmwrYjJhY1BiaGdORTd0NDhjL0UzRlBPdVVneHRZUVM5WFpoT0ROUVF3TGZCeTF4NFlnU2tlT2hpR1ZuU0xFd3NkWjJkeXUyZS9kL0hKbDJUSzhJQTFrV09NcFZ4Z21UdWJSdldjU2JQWnNVUC90WkN0MDJGdTJkMmEyV2sybDNpNmlNNVpwSW9XTk5JTnFNTk5wekN3T3c4U05LNlZaL3dQcnh2ZmRTVHg5WUYrb210clVyUDA4d2NobFY1REl1bkZlakZ2aStCNXFBWkZZSDFGclFLRkFwOVFrbFZZb3lmZ0tZalRtd1p4b2xOQU8yT0FVM2FJTVpFZERnNkY1aFc4Rm1BUHVLY013d2RCdXdwd1pBSC9lQTdKL3cyLzFVeWRzb055d2xnK2c2MVlBQnlZWmhFYkRIb0JTRnZ4TkdlbGxBdjNIUEJ1ZEpmVWhOcUoxWTBLVDJaM0ozTUc1ZGJscFdLZ2hnNFB0NTJGRk9NeXRCUmVRYVpqTFNta2dDRFFQdTRJUERHRDVncEV1bkhqMC9IQmo5WS9BYi9QRG90N0FaQWUyMzc0M0FYelFCdFRjUGZ3TnpBUkVHSjU3bjVsWG85d2FEcVN0QmcwZHRTbFdvK2NwdG5ZT2ZUbVdhYmk3a3dXYUdEWTJXSXg2TW1jUkpXbVFvbC90Yy80YW1iaTJ1Q2pVUjI5YVJlelUzakoyZ1BFWnBJbnI1QXljOEdCbWhyNExYOTkrVjJxbkZrMElQb0NwQjVUb2hiQ0QxNWEycGh3SVZpQXVMMHpCY3IwVlZvV3BpMjFkbGw5dUpwdk04ZHhpKzFXTzcvbDlCd1dNWUlrNGljL2FscXdiWGFPR2txSXFoMXE3OVRZS1lmNFVKYXhZNDJWcDZkSUZ6bTRUU1B4RDQ0YW5iNzU3YzM2MUtZNmxrTjFoMkVrakYyZi9vUkJnV2lHMG5qdUZjM2FSRkZUR3B4bDdXV1RoQmN2VUVIR29lTFJOV09WQ2N5RUROd0wwOG8zL1R0TWUxZUVKTXFyRSs5VzR5TEFkSVBYb21ySEpRb0ZpR2FUTUlaRzdXb3JLb3FMR1hyaHc0VFpqT28rQ25VNldxajJKZXpzQ2doSE9MQkVIK2pkdDZtbjZyeGVOUVVXTXBGVGNhaGdPa0h0MG00RkJnTk1pNXdJMktBVU5aalkyQ0FTRWVoeENSVFducldJeG01b0xRZjhPMjljbmZhL0VZbE5WWXhlVEhUY3NCVXFlMDlZWEFQQVFYQnRyY1QyclJPRXlvc2N0V0RjK1dqTzZpaENXT2RrK2dITkJEQUlZRHFmd0ZmVDNOdTdYNElDYlUyRkRKRHN0S1RKRmFBZWdoV0haQ2dQS3QxcUl4R0Vkc1Y1Y3k0RTlINEUvWjFjcWd4UGQ5b29qNklIQ1cwTUtER0Vkc1R1WGVhdHJwVndaQlVVdW1VQTRoY0dUYm1WbURLdnNlTFRxSWNjUXFwYTdRdWZybyt4UXFBeFByRUkydDBGOFBZc3prMVhKRmJnWVg5RW5Pak9SVXBGVWRHRVB2SVBTa1lDZjEzWmw0V292SGFpem43R0xiVGsyUldnTndnamVkcE1tQ2NNeUM2QmhpS1pVZlFOVStmSUJCRTYxVGpiTkFodzNQWDY5aTlONFFjSjFPS25tSi9ocmg0TlZhT2dhUDVaUTl5WVdaaVhzdEMzT1p3akIwZlVFUkdncVJDempZYU1aOUh4ZitZRWVNUUNLRmtZenFCM0FaUG5MbzRSNFloKzlCZ0lVYitzaDRnT1lnbEg1UkVQYXEzcDdVczVFczJnTUFVdDlzMmVsWVNjVUd3am5Sajk3akZmTzNlMjd1M1NSMEZ3Wmg0Vnl2T05MbGUva0hHTGNpRXVLWkxCVVJJZ0dkNXVESzhVOWROMytsN3hmZjVPTTEzWkdMWFMvL0JSbDRUK0U5eFRscTBCellkdG9PWlBBV0xYcGVZOXM2czErem5jd2F0emlrSlkyaHRLeWRBSTBzckN2ay9SdnUvMmJUZ040MUJrdXZMRnlvcExyTE1KeFhBZkVncVhmSUtyaGVCaXR1OWhBYXJONnlMdlU5dldNTWxsMzlYRVo1VGpjWGlXdFJjMlVOdFFlVmdKMEYzSDE5VzAvbUN2eXVXNkZvZTJmdVVXR21UZ3RnYURZT1Npd3JoV3RGTjJ6dHlVeWF1MnhmdVc4T00xSTd1TEFXK0I1MmJLM2tncVlhS1Z5T2Z4b3VldjZXdTV2L29YZVVSZHVxb1E5YlptcHRYS1lJUndxY2E1Zk1aaFpnRFVJMEh0cVdEODZINFBmVVVrbFFvOERTb1JRcHVybitha2hGYk5zMFkwK3hPUHgrdUg0ZTEvSnJCWTFjbmlEd0FyZWxHbElSZlQzcE8xd3Z0ODYwMEF3MUR1U09NWDZpT2MwOUNiK1hESTNnWjVsV3lxaWxKS2Nja0JqZnpROTd4UDJZRmxXRmIyMmU4UVRZdjlzTjA5YVM2bUdhWUZPOS9NYnRHNXQvcDBWVlFkaitkWjQ3c2c4VDE0MENKMGpEVEZJLzhCZmk5NGhZeXRUWm95VStqUUtKZ1JueXZtLzN6SXhteDVvZ3hUcG9hQUUxc0ZxZ0xmZTlRa2dvLzRvV1ZZM2V0ZE56WUdPL0lZemFSOGxFaUVxZHFGeUUyeEd4TUIrZkdZLy9TcUhuVUd1Tis3V2dKbXpibE53RFBmOTdJYXJYV2l6TERFUHZ6M1VYTUN2K3ZSRHI4dXFlTko4SHVwTkE1dW00emJCY0V0ejJVMG9uYnd6b3duamVNRVI0NFYrMXFBNnd4OUgvckJaWXlBd1hycmhpV2hFbTMrMTdJeDdZUnkyb0h6S00wcXduTCs1V2d2M3BxYUZwUVBOY0ZVTVlpOFFDcTBWcXUzV1hvMHRGOXV2TkdrRHJMaGdPUFEvZG9Md2V2QTBCL1ZsUTB1Tm1QNTJmQ1hOTk1FZUlwQ2tQVmo3WEQ0VkdCY3lzQ2tUZFJndU15YmpjNXVSUWp0Nm9HU0h6WU9aU2NMK04yMEowMnd3enhRTHFIODlJd09jeURzTWdCaU1iell4R1VqREZqOWVpZW5CaUxiY1MyVFg0VGZSL0hUQ0lNUnZDM1FUZWUrTlFFRFpUd2drN25sRktqNC9MSThETzRVS0FPWkRuYTBsTmFMbEdPb1NxUlNFK2tWRWwwSCtraXI1KytmSUR6VnBVRTVnUzV4cW1GV2xiWEdCTXZRS0lWWTFvMXppVUprRjJHYkJjYzNmeGtaRjNXVlptVmhoV3YzcUJ1UTNMU1RlNUJtblZvaG9oVjhndzNpUVFtTVI1YUxIbnhPTnFsWUJsODlEUVUxczdzeE11c3BWRGE2dUMrWjEyUzFuN2tBd0RDR3lZdVA1ZFhjL1VaSjh2WFRuWWJ0cVpzL3lvMUQ4ZVJLYUpzam5vcTh5S2sxaUU3N3ZFRVBadHJaMEh6dFNpU2NHYWg3NEM0ZVZyUzg4ejFJWWdnTTYwVXZOVHFxbnE0dUNXanIwbkNjTytJNHhjcFBnSXdPY240SFRIb2NaT0J4ZXBKSTBKK09RTUJBbEpVemdQTEZtVlc2ekZaZERObHE0ZXVkMnkwbGU1VVZGelBhREVMUTRUeTA0dVc5S1YzL0QycTJYRkdMVjk1ZUJDMDJqNkNSZld0TGh6czZXMGdKcE8yem9IL3lLRXN5Q2VCTXdoZ0o0VFpoS2Rabno4WlMwNDRCdnVXV2YrQ1VpSTFBT0xtUTFpWFFERDVwTVFCaStDVURhR0NZUkdDU0RQS3p3R0p1VVdMbEkvM0hJblBhQjNraVZkdVFVUUFpK0g4WEVONTVZVlpkSmltN2xMWU53ZzB2ZitUZHM3Qi8vRmhEMHY3bFdERWxTVWVjSWtDV2dVRUNxZkFORWVhSTBEQnY0azA4ck14S05LcWNMNGdDbEVCdkdrVzh3OUIvMjRDN3lHRVpoS2p3UG5mWUZscDdudkZjRVdZbnZqSlJXQnVRdm8xQU5BYkhZdjVjYk1PREpibFJBdHgzQWJpQzVGT05pUkVPUERWc3dHL2lCbzlGQWNQbjJJd05HQWo1MGU3Z0kvakQ2bGxQbkc0N2dxZ1E1NEVJeEUyb21ma3VrNVhLUWlWR1RyUjYrSENmd1hyV29Td3NjWGpkaWpDbWdCNFU4eHpvVzFLWUFsaDJtREFibUZhSE1LOFNCU1VvVTJWdVZ3WXBsQ1BHQ1lPcVUwQjE0SkhZaVBXRFF1Z2hobUd0d2RvV1ZITHJEZHBYdkZwYUI0SmxKS3NTQ1o3R2ZnMysyTHg4Umlac3NoQ2dKMzN4M2FBYjZjWnp2cFNJWjI1MGdDdW4wVzNCdEVuTkx6aGg2TXFsZ0VwaGthSnhmZFNVcnBmMEZ2eVQ0emhyVTByR2dCcC84WkdZU0x0bTNJWEVpcE9zTnp2VnVVOUo4MHJWUlUwRkJhRFgxcFNFYWYxclRTMFFkODltZDh0L2hsR0sxbjl2VmtMcURLWHdqdTREL2pXSzB0Y1NuMzBaYk9BeWVZd3U0MVRmc2N6OFhLRUV4SzFONTRIUHJRMy9pbWkxc0oyOXV6NWM3NVVTalowdktVWTAyZmVaRlNxaFUrRndyRE9RNWpCSHo1alF3eEFzSThSZnorYkJTUUNEdGFFOE84aU8vbjk4TWsvVE5ndU05MmpRYzJiV0pSdVBlZWxmdlNhVFBkQWZmMktiaVBXZlZWeHBRaVRNdHlDSFRZSTBIb0xZMFliRzN0NThheEYzY1R5cThYd21MNHRIUHRlUDdrbmx2Y294VDlLaUhleHEzck04L3BBN0FNdjJtSXV1Y1NHYndObXY0bVJkVnJEQ05wSTlIWWVDbUJiT2pZS0pzUGtWS1VLU3BMT3RBVTNUME1QY1poMGpDQU14eUdwWFA1M2pDY2hEMEIrMzVKSlBteDUzdS9PUFRoWWt5TUI1YXpVakgxVVZDcWVYRFBjTzM2d2x5MDA1RkNxdkJXYjJEM2pmZmVlNW8zNWl4TFZnNmNRODNrbDB6VFd1UjdHSEppd3JuMkM2R21ZSFVoOU41ZWFPam13UGUvUHRIeTlOSTErZmtxWUtjckVwd0ZzK2xycFFwUEJoN253aDBlQTNaUVlFSURpWHBobmdTSkszVUVWZzdtZ1g4NkNIYnRXZmpzQWsxOW5CTDVSMG40enExMzJYL1hQemtJZkI4WEplWUtPTU1LdzNMbTRMTVc5V1c0Y0JuR2dxRnY0U3RPL3FEQy9MVmJlNDc5dWQ0NUVXdVl4cnZ1V2xDRDZ3M1RhdmFLZVdnRURvODZDSVlMWXpFRXhNNWg0STJzM2RxVHVVYnZLb3RXMEdxbXN0T0ZNbWFBUmg4amxXcVdLa2d5eXZVTmhLQ0FJaThFelVMZ2VDQU0yVDdYZFFmS0ZkMGRpcmJPN0JmQTNsL0R3QTBvdldXcHZ1Y3NNS0RDMGlRZlpta1lZN2Y4N2VFL2YvR1JSeGFPV1U4cXk5YlNsZnZuRXpQUkRWcHdCU1l5U2krd3FTZXRSNG50cEVpK2tGM1MzOU84VFF0ZkVyUjE1QzZ4RStuN01IZUxHbGM3UU5kaElnWTFJVEM2ZWoyLytKbnRHNXQzNloxak1La2FMdnZReUJ0QjZXL2t6SG9uWmJSR2drdnYxaW9Vc2p2Nk56UmZxSVV2S1M3dEdQeUJrMmg2UitWM2NyMEFxS0ZtTWpJL1llaitoRWp2ODF2V1p4N1NleWRFMWVPN2ZmWFFSWnlZSDRmSjRHMWM0S3VUQ2pwYlhoNmpMNnB4dzVIWGJlK1o5cGdXdjZTSWt0M01lQlQ2Zk5JWEJxRm5ZWm9KRXVLa0dub1BBbHUzYlZsbi8xRHZyb2lxaVIzRjBxNzhlZUE5ZkZpUjhIM2dBUmgrQmVPUEFVSWhuNzIxYjBQemRWcDBSS0N0NDhCTlRxcjVobUorWXU4SEF3aGhHZ1RtRndtSzhWMnF5QjI5NjUwZGVuZFZxSm5ZVWVEVDRURHpyNERPYkRjTWV4N0tBaDlkbHRMaUhMb2dnWi8vbStrbXo5aThtUjVSVCtPMXRpcVROdy8vMFRCVHIvRzlra25Bc0ZZWXBXSzh3Qy9zZ1lpMER6emhUZmVzcytxcUM2dWIyRkcwcnRtYk1sVHpPMkNzTE1VQXdMUVNLWlJEWUF1ZndybDlQVTIvaWc0OHd0RFM4ZHpabHBINnRUQ3NLS0Qzdkh3ZTZOMEJuNjNFTkw3ZjZGczZHeWIyVUZ4K2xad21BKzg4SnNSU3R6ajBtLzZOeDl5dWR4MlJhTy9JZnNSeWt1Y0h2cnZGTkoyZjM3Mld4ZlEyVGtMK0J6V3F6Vy9mQ3dSd0FBQUFBRWxGVGtTdVFtQ0NcIlxufSk7XG5cbmV4cG9ydCBjb25zdCBBQ1RJVklUWV9OQU1FX1BSRUZJWCA9IFwiTVBBX1wiO1xuZXhwb3J0IGNvbnN0IEJFTExfU09VTkQgPSBuZXcgQXVkaW8oXCJBdWRpb1xcXFxCZWxsTWVkaXVtLm1wM1wiKTtcblxuZXhwb3J0IGNvbnN0IEJFRF9QRVJGRUNUID0gW1wiUGV0QmVkXCIsIFwiQ3JpYlwiXTtcbmV4cG9ydCBjb25zdCBCRURfTk9STUFMID0gW1wiTG93Q2FnZVwiLCBcIktlbm5lbFwiLCBcIkJlZFwiLCBcIk1lZGljYWxCZWRcIiwgXCJDdXNoaW9uXCJdO1xuZXhwb3J0IGNvbnN0IEJFRF9CQUQgPSBbXCJGdXR1cmlzdGljQ3JhdGVcIiwgXCJEb2xsQm94XCJdO1xuZXhwb3J0IGNvbnN0IEFMTF9CRURTID0gQkVEX1BFUkZFQ1QuY29uY2F0KEJFRF9OT1JNQUwsIEJFRF9CQUQpO1xuXG5leHBvcnQgY29uc3QgT1JHQVNNX0FDVElWSVRZX1JFR0VYID0gL09yZ2FzbVswLTldLztcbiIsIi8qKlxuICogR2V0IGEgcmFuZG9tIGVsZW1lbnQgZnJvbSBhbiBhcnJheSBvZiBvYmplY3RzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBSYW5kb21FbGVtZW50PFQ+KGFycmF5OiBUW10pOiBUIHwgbnVsbFxue1xuICAgIGlmIChhcnJheS5sZW5ndGggPT0gMCkgeyByZXR1cm4gbnVsbDsgfVxuICAgIHJldHVybiBhcnJheVtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBhcnJheS5sZW5ndGgpXTtcbn1cblxuLyoqXG4gKiBNYWtlIGEgbmV3IGFycmF5IHRoYXQgaXMgYSBjb3B5IG9mIHRoZSBvcmdpbmFsIG1pbnVzIGFueSBtYXRjaGluZyBlbGVtZW50cyBpbiB0aGUgZmlsdGVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBGaWx0ZXJBcnJheUZyb21BcnJheTxUPihhcnJheTogVFtdLCBmaWx0ZXJBcnJheTogVFtdKTogVFtdXG57XG4gICAgbGV0IG5ld0FycmF5ID0gc3RydWN0dXJlZENsb25lKGFycmF5KTtcbiAgICBmaWx0ZXJBcnJheS5mb3JFYWNoKChlbGUpID0+XG4gICAge1xuICAgICAgICBuZXdBcnJheSA9IG5ld0FycmF5LmZpbHRlcigoYmFkRWxlKSA9PiBlbGUgIT09IGJhZEVsZSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIG5ld0FycmF5O1xufVxuXG4vKipcbiAqIFNodWZmbGUgYW4gYXJyYXkgaW4gcGxhY2UsIHRoYW5rcyB0byBDaGF0IEdQVFxuICovXG5leHBvcnQgZnVuY3Rpb24gU2h1ZmZsZUFycmF5PFQ+KGFycmF5OiBUW10pOiBUW11cbntcbiAgICBmb3IgKGxldCBpID0gYXJyYXkubGVuZ3RoIC0gMTsgaSA+IDA7IGktLSlcbiAgICB7XG4gICAgICAgIGNvbnN0IGogPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoaSArIDEpKTsgLy8gcmFuZG9tIGluZGV4IGZyb20gMCB0byBpXG4gICAgICAgIFthcnJheVtpXSwgYXJyYXlbal1dID0gW2FycmF5W2pdLCBhcnJheVtpXV07IC8vIHN3YXAgZWxlbWVudHNcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xufVxuIiwiaW1wb3J0IHsgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9fbW9kdWxlXCI7XG5pbXBvcnQgeyBMb2NhbGl6ZWRUZXh0IH0gZnJvbSBcIi4uL2xvY2FsaXphdGlvbi9sb2NhbGl6YXRpb25cIjtcblxuZXhwb3J0IGludGVyZmFjZSBNUEFNZXNzYWdlQ29udGVudFxue1xuICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgICBba2V5OiBzdHJpbmddOiBhbnk7IC8vIEFsbG93cyBhbnkgb3RoZXIga2V5cyB3aXRoIHZhbHVlcyBvZiBhbnkgdHlwZVxufVxuaW50ZXJmYWNlIE1QQU1lc3NhZ2UgZXh0ZW5kcyBTZXJ2ZXJDaGF0Um9vbU1lc3NhZ2VcbntcbiAgICBDb250ZW50OiBcIk1QQVwiO1xuICAgIFR5cGU6IFwiSGlkZGVuXCI7XG4gICAgRGljdGlvbmFyeTogW01QQU1lc3NhZ2VDb250ZW50XTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIENvbnRlbnRJc01QQU1lc2FnZShjb250ZW50OiBTZXJ2ZXJDaGF0Um9vbU1lc3NhZ2UpOiBjb250ZW50IGlzIE1QQU1lc3NhZ2VcbntcbiAgICByZXR1cm4gKFxuICAgICAgICBjb250ZW50LlR5cGUgPT09IFwiSGlkZGVuXCJcbiAgICAgICAgJiYgY29udGVudC5Db250ZW50ID09PSBcIk1QQVwiXG4gICAgICAgICYmIGNvbnRlbnQ/LkRpY3Rpb25hcnk/Lmxlbmd0aCA9PT0gMVxuICAgICk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBHZXRNUEFNZXNzYWdlRnJvbUNoYXQobWVzc2FnZTogU2VydmVyQ2hhdFJvb21NZXNzYWdlKTogTVBBTWVzc2FnZUNvbnRlbnQgfCBudWxsXG57XG4gICAgcmV0dXJuIENvbnRlbnRJc01QQU1lc2FnZShtZXNzYWdlKSA/IG1lc3NhZ2UuRGljdGlvbmFyeVswXSA6IG51bGw7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBTZW5kTVBBTWVzc2FnZShtZXNzYWdlOiBNUEFNZXNzYWdlQ29udGVudCwgdGFyZ2V0PzogbnVtYmVyKTogdm9pZFxue1xuICAgIFNlcnZlclNlbmQoXCJDaGF0Um9vbUNoYXRcIiwge1xuICAgICAgICBUeXBlOiBcIkhpZGRlblwiLFxuICAgICAgICBDb250ZW50OiBcIk1QQVwiLFxuICAgICAgICBEaWN0aW9uYXJ5OiBbbWVzc2FnZV0sXG4gICAgICAgIFRhcmdldDogdGFyZ2V0XG4gICAgfSk7XG59XG5cbi8qKlxuICogU2VuZCBhbiBhY3Rpb24gdG8gdGhlIHJvb20gb3IgY2FuIHNwZWNpZnkgYSBjaGFyYWN0ZXIgd2hvIHdpbGwgb25seSBzZWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFNlbmRBY3Rpb24oY29udGVudDogc3RyaW5nLCB0YXJnZXQ6IENoYXJhY3RlciB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZCwgZGljdGlvbmFyeTogQ2hhdE1lc3NhZ2VEaWN0aW9uYXJ5ID0gW10pOiB2b2lkXG57XG4gICAgU2VydmVyU2VuZChcIkNoYXRSb29tQ2hhdFwiLCB7XG4gICAgICAgIENvbnRlbnQ6IFwiTWF5YVNjcmlwdFwiLFxuICAgICAgICBUeXBlOiBcIkFjdGl2aXR5XCIsXG4gICAgICAgIERpY3Rpb25hcnk6IFt7IFRhZzogXCJNSVNTSU5HIEFDVElWSVRZIERFU0NSSVBUSU9OIEZPUiBLRVlXT1JEIE1heWFTY3JpcHRcIiwgVGV4dDogTG9jYWxpemVkVGV4dChjb250ZW50KSB9LCAuLi5kaWN0aW9uYXJ5XSxcbiAgICAgICAgVGFyZ2V0OiB0YXJnZXQ/Lk1lbWJlck51bWJlciB9XG4gICAgKTtcblxuICAgIC8vIFNlcnZlclNlbmQoXCJDaGF0Um9vbUNoYXRcIiwge1xuICAgIC8vICAgICBDb250ZW50OiBcIkJlZXBcIixcbiAgICAvLyAgICAgVHlwZTogXCJBY3Rpb25cIixcbiAgICAvLyAgICAgRGljdGlvbmFyeTogW3sgVGFnOiBcIkJlZXBcIiwgVGV4dDogTG9jYWxpemVkVGV4dChjb250ZW50KSB9XSxcbiAgICAvLyAgICAgVGFyZ2V0OiB0YXJnZXQ/Lk1lbWJlck51bWJlclxuICAgIC8vIH0pO1xufVxuXG4vKipcbiAqIFNlbmQgYW4gZW1vdGUgdG8gdGhlIHJvb20gb3IgY2FuIHNwZWNpZnkgYSBjaGFyYWN0ZXIgd2hvIHdpbGwgb25seSBzZWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFNlbmRFbW90ZShjb250ZW50OiBzdHJpbmcsIHRhcmdldDogQ2hhcmFjdGVyIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkKTogdm9pZFxue1xuICAgIFNlcnZlclNlbmQoXCJDaGF0Um9vbUNoYXRcIiwge1xuICAgICAgICBDb250ZW50OiBgJHtjb250ZW50fWAsXG4gICAgICAgIFR5cGU6IFwiRW1vdGVcIixcbiAgICAgICAgVGFyZ2V0OiB0YXJnZXQ/Lk1lbWJlck51bWJlciB9XG4gICAgKTtcbn1cblxuLyoqXG4gKiBEaXNwbGF5IHRleHQgdG8gdGhlIGxvY2FsIHBsYXllciBvbmx5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBOb3RpZnlQbGF5ZXIoY29udGVudDogc3RyaW5nLCB0aW1lb3V0PzogbnVtYmVyKTogdm9pZFxue1xuICAgIGNvbnN0IGRhcmtUaGVtZSA9IFBsYXllci5DaGF0U2V0dGluZ3M/LkNvbG9yVGhlbWUgPT09IFwiRGFya1wiIHx8IFBsYXllci5DaGF0U2V0dGluZ3M/LkNvbG9yVGhlbWUgPT09IFwiRGFyazJcIjtcbiAgICBDaGF0Um9vbVNlbmRMb2NhbChgPHAgc3R5bGU9J2JhY2tncm91bmQtY29sb3I6IzAwYzJmZjtjb2xvcjoke2RhcmtUaGVtZSA/IFwid2hpdGVcIiA6IFwiYmxhY2tcIn07bWFyZ2luLWJvdHRvbTowLjI1ZW07bWFyZ2luLXRvcDowJz4ke2NvbnRlbnR9PC9wPmAsIHRpbWVvdXQpO1xufVxuXG4vKipcbiAqIERpc3BsYXkgdGV4dCB0byB0aGUgbG9jYWwgcGxheWVyLCBtYWtpbmcgaXQgY2xlYXIgaXRzIGZyb20gTVBBXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBNUEFOb3RpZnlQbGF5ZXIoY29udGVudDogc3RyaW5nLCB0aW1lb3V0PzogbnVtYmVyKTogdm9pZFxue1xuICAgIE5vdGlmeVBsYXllcihgJHtMb2NhbGl6ZWRUZXh0KFwiTVBBXCIpfTogJHtjb250ZW50fWAsIHRpbWVvdXQpO1xufVxuXG4vKipcbiAqIEZpbmQgYSBDaGFyYWN0ZXIgaW4gdGhlIGNoYXQgcm9vbSB3aXRoIGJ5IG51bWJlciwgbmFtZSwgb3Igbmljay4gTm90IGNhc2Ugc2Vuc3RpdmUuXG4gKiBJZiBtdWx0aXBsZSBwZW9wbGUgZXhpc3RzIHdpdGggdGhlIHNhbWUgbmlja25hbWUgb3IgbmFtZS4gSXQgd2lsbCByZXR1cm4gdGhlIGZpcnN0IHBlcnNvbiB0aGF0IG1hdGNoZXMuXG4gKiBVc2UgTWVtYmVyTnVtYmVyIGlmIHlvdSB3YW50IHRvIGd1cmFudGVlIHRvIGZpbmQgdGhhdCBzcGVjaWZpYyBjaGFyYWN0ZXIuXG4gKlxuICogQHBhcmFtIHNlYXJjaCAtIFRoZSBNZW1iZXJOdW1iZXIsIE5hbWUsIG9yIE5pY2tuYW1lIG9mIHRoZSBwZXJzb24geW91IHdhbnQgdG8gZmluZFxuICovXG5leHBvcnQgZnVuY3Rpb24gRmluZENoYXJhY3RlckluUm9vbShzZWFyY2g6IHN0cmluZyB8IG51bWJlciwgeyBNZW1iZXJOdW1iZXIgPSB0cnVlLCBOaWNrTmFtZTogTmlja25hbWUgPSB0cnVlLCBOYW1lID0gdHJ1ZSB9ID0ge30pOiBDaGFyYWN0ZXIgfCBudWxsXG57XG4gICAgLy8gTWFrZSBzdXJlIHBsYXllclNlYXJjaCBpcyBhIHN0cmluZyAtIG5vdCBjYXNlIHNlbnN0aXZlXG4gICAgaWYgKHR5cGVvZiBzZWFyY2ggIT09IFwic3RyaW5nXCIpXG4gICAge1xuICAgICAgICBzZWFyY2ggPSBzZWFyY2gudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgc2VhcmNoID0gc2VhcmNoLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG5cbiAgICAvLyBMb29wIHRocm91Z2ggYWxsIHRoZSBDaGFyYWN0ZXJzIGluIHRoZSBjaGF0XG4gICAgZm9yIChjb25zdCBjaGFyYWN0ZXIgb2YgQ2hhdFJvb21DaGFyYWN0ZXIpXG4gICAge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICAoTWVtYmVyTnVtYmVyICYmIGNoYXJhY3Rlcj8uTWVtYmVyTnVtYmVyID09PSBOdW1iZXIoc2VhcmNoKSlcbiAgICAgICAgICAgIHx8IChOaWNrbmFtZSAmJiBjaGFyYWN0ZXI/Lk5pY2tuYW1lPy50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSBzZWFyY2gpXG4gICAgICAgICAgICB8fCAoTmFtZSAmJiBjaGFyYWN0ZXIuTmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSBzZWFyY2gpXG4gICAgICAgIClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIGNoYXJhY3RlcjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIE5vIGNoYXJhY3RlciBmb3VuZFxuICAgIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIFJlbW92ZSBhbGwgY29udGVudCB0aGF0IGlzIE9PQyBmcm9tIGEgbWVzc2FnZVxuICogQHJldHVybnMgT25seSB0aGUgSUMgbWVzc2FnZSBjb250ZW50XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBSZW1vdmVPT0NDb250ZW50RnJvbU1lc3NhZ2UobWVzc2FnZTogc3RyaW5nKTogc3RyaW5nXG57XG4gICAgY29uc3QgcmFuZ2VzID0gU3BlZWNoR2V0T09DUmFuZ2VzKG1lc3NhZ2UpLnJldmVyc2UoKTtcbiAgICByYW5nZXMuZm9yRWFjaCgocmFuZ2UpID0+XG4gICAge1xuICAgICAgICBtZXNzYWdlID0gbWVzc2FnZS5zdWJzdHJpbmcoMCwgcmFuZ2Uuc3RhcnQpICsgbWVzc2FnZS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQgKyByYW5nZS5sZW5ndGgpO1xuICAgIH0pO1xuICAgIHJldHVybiBtZXNzYWdlO1xufVxuXG50eXBlIE1lc3NhZ2VBY3Rpb24gPSAoc2VuZGVyOiBDaGFyYWN0ZXIsIGNvbnRlbnQ6IE1QQU1lc3NhZ2VDb250ZW50KSA9PiB2b2lkO1xuZXhwb3J0IGludGVyZmFjZSBIb29rZWRNZXNzYWdlXG57XG4gICAgbW9kdWxlOiBNb2R1bGVUaXRsZSB8IG51bGw7XG4gICAgbWVzc2FnZTogc3RyaW5nO1xuICAgIGFjdGlvbjogTWVzc2FnZUFjdGlvbjtcbn1cbmV4cG9ydCBjb25zdCBob29rZWRNZXNzYWdlczogSG9va2VkTWVzc2FnZVtdID0gW107XG5cbi8qKlxuICogQWRkIGEgbGlzdGVuZXIgZm9yIGFuIGluY29taW5nIE1QQSBtZXNzYWdlXG4gKiBAcGFyYW0gbGlzdGVuZXIudGl0bGUgLSBXaGF0IG1vZHVsZSBkb2VzIHRoZSBsaXN0ZW5lciBiZWxvbmcgdG9cbiAqIEBwYXJhbSBsaXN0ZW5lci5tZXNzYWdlIC0gVGhlIG1lc3NhZ2Ugc3RyaW5nIHRvIG1hdGNoIHdpdGggdGhlIGluY29taW5nIG1lc3NhZ2VcbiAqIEBwYXJhbSBsaXN0ZW5lci5hY3Rpb24gLSBSdW4gdGhpcyBmdW5jdGlvbiB3aGVuIGEgbWF0Y2ggaXMgZm91bmRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEFkZERhdGFTeW5jTGlzdGVuZXIobGlzdGVuZXI6IEhvb2tlZE1lc3NhZ2UpOiB2b2lkXG57XG4gICAgaG9va2VkTWVzc2FnZXMucHVzaCh7XG4gICAgICAgIG1vZHVsZTogbGlzdGVuZXIubW9kdWxlLFxuICAgICAgICBtZXNzYWdlOiBsaXN0ZW5lci5tZXNzYWdlLFxuICAgICAgICBhY3Rpb246IGxpc3RlbmVyLmFjdGlvblxuICAgIH0gYXMgSG9va2VkTWVzc2FnZSk7XG59XG4vKipcbiAqIEFkZCBtYW55IGxpc3RlbmVycyBmb3IgYW4gaW5jb21pbmcgTVBBIG1lc3NhZ2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEFkZERhdGFTeW5jTGlzdGVuZXJzKGxpc3RlbmVyczogSG9va2VkTWVzc2FnZVtdKTogdm9pZFxue1xuICAgIGxpc3RlbmVycy5mb3JFYWNoKChsaXN0ZW5lcikgPT5cbiAgICB7XG4gICAgICAgIGhvb2tlZE1lc3NhZ2VzLnB1c2goe1xuICAgICAgICAgICAgbW9kdWxlOiBsaXN0ZW5lci5tb2R1bGUsXG4gICAgICAgICAgICBtZXNzYWdlOiBsaXN0ZW5lci5tZXNzYWdlLFxuICAgICAgICAgICAgYWN0aW9uOiBsaXN0ZW5lci5hY3Rpb25cbiAgICAgICAgfSBhcyBIb29rZWRNZXNzYWdlKTtcbiAgICB9KTtcbn1cbi8qKlxuICogUmVtb3ZlIGFsbCB0aGUgbGlzdGVuZXJzIGJhc2VkIG9uIHRoZSBNb2R1bGVUaXRsZVxuICogQHBhcmFtIG1vZHVsZSAtIE1vZHVsZSB0aGUgbGlzdGVuZXJzIHlvdSB3YW50IHRvIHJlbW92ZSBiZWxvbmdzIHRvXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBSZW1vdmVEYXRhU3luY0xpc3RlbmVycyhtb2R1bGU6IE1vZHVsZVRpdGxlIHwgbnVsbCk6IHZvaWRcbntcbiAgICBmb3IgKGxldCBpID0gaG9va2VkTWVzc2FnZXMubGVuZ3RoIC0gMTsgMCA8PSBpOyBpLS0pXG4gICAge1xuICAgICAgICBpZiAoaG9va2VkTWVzc2FnZXNbaV0ubW9kdWxlID09PSBtb2R1bGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhvb2tlZE1lc3NhZ2VzLnNwbGljZShpLCAxKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEdldEVudHJ5RnJvbUNoYXREaWN0aW9uYXJ5KGRhdGE6IFNlcnZlckNoYXRSb29tTWVzc2FnZSwgYXR0cmlidXRlOiBzdHJpbmcpOiBDaGF0TWVzc2FnZURpY3Rpb25hcnlFbnRyeSB8IHVuZGVmaW5lZFxue1xuICAgIGlmICghZGF0YS5EaWN0aW9uYXJ5KVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgdHJ5XG4gICAge1xuICAgICAgICByZXR1cm4gZGF0YS5EaWN0aW9uYXJ5LmZpbHRlcigoZW50cnkpID0+ICEhZW50cnlbYXR0cmlidXRlXSlbMF07XG4gICAgfVxuICAgIGNhdGNoIChfZXJyb3IpXG4gICAge1xuICAgICAgICAvLyBlaGhoIHRoaXMgZG9lc24ndCB3b3JrIGN1eiAuZmlsdGVyIGlzIG5vdCBkZWZpbmVkIG9uIGZpcnN0IGxvYWQgZm9yIHNvbWUgcmVhc29uXG4gICAgICAgIC8vIE5vIGJpZyBkZWFsIHNvIEkgZG9uJ3QgcmVhbGx5IGNhcmUgaWYgaXRzIGFuIGlzc3VlIGZvciBub3dcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeShkYXRhOiBTZXJ2ZXJDaGF0Um9vbU1lc3NhZ2UsIGF0dHJpYnV0ZTogc3RyaW5nKTogYW55IHwgdW5kZWZpbmVkXG57XG4gICAgcmV0dXJuIEdldEVudHJ5RnJvbUNoYXREaWN0aW9uYXJ5KGRhdGEsIGF0dHJpYnV0ZSk/LlthdHRyaWJ1dGVdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gQXJyYXlUb1JlYWRhYmxlU3RyaW5nKGFycjogc3RyaW5nW10pOiBzdHJpbmdcbntcbiAgICBjb25zdCBsZW5ndGggPSBhcnIubGVuZ3RoO1xuICAgIGlmIChsZW5ndGggPT09IDApXG4gICAge1xuICAgICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG4gICAgZWxzZSBpZiAobGVuZ3RoID09PSAxKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGFyclswXTtcbiAgICB9XG4gICAgZWxzZSBpZiAobGVuZ3RoID09PSAyKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGAke2FyclswXX0gYW5kICR7YXJyWzFdfWA7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIHJldHVybiBgJHthcnIuc2xpY2UoMCwgLTEpLmpvaW4oXCIsIFwiKX0sIGFuZCAke2FycltsZW5ndGggLSAxXX1gO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IFJhbmRvbUVsZW1lbnQsIFNodWZmbGVBcnJheSB9IGZyb20gXCIuL2dlbmVyYWxcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIEFwcGVuZFBldFNwZWVjaCh0ZXh0OiBzdHJpbmcsIHBldFBocmFzZXM6IHN0cmluZ1tdKTogc3RyaW5nXG57XG4gICAgLy8gTm8gdmFsaWQgcGV0IHBocmFzZXMgdG8gYWRkXG4gICAgY29uc3QgcGV0U291bmQgPSBSYW5kb21FbGVtZW50KHBldFBocmFzZXMpO1xuICAgIGlmIChwZXRTb3VuZCA9PT0gbnVsbClcbiAgICB7XG4gICAgICAgIHJldHVybiB0ZXh0O1xuICAgIH1cblxuICAgIGlmICgvWy4hP10kLy50ZXN0KHRleHQpKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGAke3RleHR9ICR7cGV0U291bmQuY2hhckF0KDApLnRvTG9jYWxlVXBwZXJDYXNlKCkgKyBwZXRTb3VuZC5zbGljZSgxKX0uYDtcbiAgICB9XG4gICAgaWYgKC9bYS16QS1aXSQvLnRlc3QodGV4dCkpXG4gICAge1xuICAgICAgICByZXR1cm4gYCR7dGV4dH0sICR7cGV0U291bmR9LmA7XG4gICAgfVxuICAgIHJldHVybiBgJHt0ZXh0fSAke3BldFNvdW5kfS5gO1xufVxuXG4vKipcbiAqIEFwcGx5IHBldCBoZWFyaW5nIHRvIGEgU3BlZWNoVHJhbnNmb3JtR2FnR2FyYmxlIGlucHV0XG4gKiBAcGFyYW0gYXJncyBBcmdzIG9mIHRoZSBTcGVlY2hUcmFuc2Zvcm1HYWdHYXJibGVcbiAqIEBwYXJhbSBuZXh0IC0gTmV4dCBTcGVlY2hUcmFuc2Zvcm1HYWdHYXJibGUgdG8gY2FsbFxuICogQHBhcmFtIHBocmFzZXNUb0tlZXAgLSBTb3VuZHMgdGhlIHBldCBrbm93c1xuICogQHJldHVybnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIEFwcGx5UGV0SGVhcmluZyhbdGV4dCwgaW50ZW5zaXR5LCBpZ25vcmVPT0NdOiBbc3RyaW5nLCBudW1iZXIsIGJvb2xlYW4gfCB1bmRlZmluZWRdLFxuICAgIG5leHQ6IChhcmdzOiBbdGV4dDogc3RyaW5nLCBpbnRlbnNpdHk6IG51bWJlciwgaWdub3JlT09DPzogYm9vbGVhbiB8IHVuZGVmaW5lZF0pID0+IHN0cmluZyxcbiAgICBwaHJhc2VzVG9LZWVwOiBzdHJpbmdbXSk6IHN0cmluZ1xue1xuICAgIC8vIEVycm9yIGNvcnJlY3Rpb24gYmVjYXVzZSB1aGhoaGggd2h5Pz8/IElkayBjdXogc3RyaW5nIGlzIG5vdCBhIHN0cmluZywgaXRzIHVuZGVmaW5lZFxuICAgIGlmICghdGV4dFxuICAgICAgfHwgaXNOYU4oaW50ZW5zaXR5KVxuICAgICAgfHwgISh0eXBlb2YgaWdub3JlT09DID09IFwiYm9vbGVhblwiIHx8IHR5cGVvZiBpZ25vcmVPT0MgPT0gXCJ1bmRlZmluZWRcIilcbiAgICApXG4gICAge1xuICAgICAgICByZXR1cm4gbmV4dChbdGV4dCwgaW50ZW5zaXR5LCBpZ25vcmVPT0NdKTtcbiAgICB9XG5cbiAgICAvLyBTcGxpdCB0aGUgaW5wdXQgdGV4dCBpbnRvIGRpZmZlcmVudCBzdWJzdHJpbmdzIGV4bHVkaW5nIHRoZSB3b3JkcyB5b3Ugd2FudCB0byBrZWVwXG4gICAgLy8gU3RlcCAxOiBHZXQgdGhlIHdvcmRzIHlvdSB3YW50IHRvIGtlZXAgaWYgYW55XG4gICAgLy8gY29uc3QgcGhyYXNlc1RvS2VlcCA9IEdldFBldEhlYXJpbmdQaHJhc2VzKCk7XG4gICAgLy8gQWRkIHRoZSBQbGF5ZXIncyBuYW1lIGFzIGEgd29yZCB0aGV5IGNhbiBoZWFyXG4gICAgcGhyYXNlc1RvS2VlcC5wdXNoKChQbGF5ZXIuTmlja25hbWUgfHwgUGxheWVyLk5hbWUpLnRvTG9jYWxlTG93ZXJDYXNlKCkpO1xuICAgIC8vIEFkZCB0aGUgUGxheWVyJ3MgZ2VuZGVyIGFzIGluIHRoZSBleGFtcGxlLCBcIkdvb2QgZ2lybFwiXG4gICAgaWYgKFBsYXllci5HZXRQcm9ub3VucygpID09PSBcIlNoZUhlclwiKVxuICAgIHtcbiAgICAgICAgcGhyYXNlc1RvS2VlcC5wdXNoKFwiZ2lybFwiKTtcbiAgICAgICAgcGhyYXNlc1RvS2VlcC5wdXNoKFwic2hlXCIpO1xuICAgICAgICBwaHJhc2VzVG9LZWVwLnB1c2goXCJoZXJcIik7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIHBocmFzZXNUb0tlZXAucHVzaChcImJveVwiKTtcbiAgICAgICAgcGhyYXNlc1RvS2VlcC5wdXNoKFwiaGVcIik7XG4gICAgICAgIHBocmFzZXNUb0tlZXAucHVzaChcImhpbVwiKTtcbiAgICB9XG5cbiAgICAvLyBTdGVwIDI6IEZpbmQgdGhlIG1hdGNoZXMgaWYgdGhleSBleGlzdCBpbiB0aGUgb3JnaW5hbCBtZXNzYWdlXG4gICAgLy8gQ2hlY2sgbG93ZXIgY2FzZSBjdXogdGhlIHBocmFzZSB3ZSBsb29raW5nIGZvciBpbiBsb3dlciBjYXNlLCBkb2VzIG5vdCBtYXR0ZXIgZm9yIGZpbmFsIHJlc3VsdCwgb25seSB3YW50IHBvc2l0aW9uXG4gICAgY29uc3QgbWVzc2FnZSA9IHRleHQudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICBpbnRlcmZhY2UgUmFuZ2UgeyBzdGFydDogbnVtYmVyOyBsZW46IG51bWJlciB9XG4gICAgbGV0IGZvdW5kUGhyYXNlczogUmFuZ2VbXSA9IFtdO1xuICAgIHBocmFzZXNUb0tlZXAuZm9yRWFjaCgocGhyYXNlKSA9PlxuICAgIHtcbiAgICAgICAgY29uc3QgcmVnRXhwID0gbmV3IFJlZ0V4cChgXFxcXGIke3BocmFzZX1cXFxcYmAsIFwiZ1wiKTtcbiAgICAgICAgY29uc3QgcmVnZXhNYXRjaGVzID0gWy4uLm1lc3NhZ2UubWF0Y2hBbGwocmVnRXhwKV07XG4gICAgICAgIHJlZ2V4TWF0Y2hlcy5mb3JFYWNoKChtYXRjaCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgZm91bmRQaHJhc2VzLnB1c2goeyBzdGFydDogbWF0Y2guaW5kZXgsIGxlbjogcGhyYXNlLmxlbmd0aCB9KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICAvLyBSZW1vdmUgZHVwbGljYXRlcyBiZWNhdXNlIEkgYW0gdG9vIGxhenkgdG8gcHJvcGVybHkgZGVidWcgd2h5IGR1cGxpY2F0ZXMgYXJlIGJlaW5nIHBvcHVsYXRlZFxuICAgIGNvbnN0IHVuaXF1ZVJhbmdlcyA9IG5ldyBNYXA8c3RyaW5nLCBSYW5nZT4oKTtcbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgZm91bmRQaHJhc2VzKVxuICAgIHtcbiAgICAgICAgY29uc3Qga2V5ID0gYCR7aXRlbS5zdGFydH0tJHtpdGVtLmxlbn1gO1xuICAgICAgICBpZiAoIXVuaXF1ZVJhbmdlcy5oYXMoa2V5KSlcbiAgICAgICAge1xuICAgICAgICAgICAgdW5pcXVlUmFuZ2VzLnNldChrZXksIGl0ZW0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZvdW5kUGhyYXNlcyA9IEFycmF5LmZyb20odW5pcXVlUmFuZ2VzLnZhbHVlcygpKTtcblxuICAgIC8vIE5vIG1hdGNoZXMgZm91bmQgc28gY2FuIHNraXAgYW5kIGVhcmx5IHJldHVyblxuICAgIGlmIChmb3VuZFBocmFzZXMubGVuZ3RoID09PSAwKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG5leHQoW3RleHQsIGludGVuc2l0eSwgaWdub3JlT09DXSk7XG4gICAgfVxuXG4gICAgLy8gU29ydCBzbyB0aGF0IGl0IGlzIGNvbnN0cnVjdGVkIGluIHRoZSBjb3JyZWN0IG9yZGVyIHdoZW4gcHV0IGJhY2sgdG9nZXRoZXI7IGxvd2VyIHN0YXJ0aW5nIGluZGV4ZXMgZmlyc3RcbiAgICBmb3VuZFBocmFzZXMuc29ydCgoYSwgYikgPT4gYS5zdGFydCAtIGIuc3RhcnQpO1xuICAgIC8vIFJlbW92ZSBhbnkgcGhyYXNlcyB0aGF0IGFyZSBmb3VuZCB3aXRoaW4gT09DIHNwZWVjaCByYW5nZTtcbiAgICBjb25zdCBvb2NSYW5nZXMgPSBTcGVlY2hHZXRPT0NSYW5nZXModGV4dCk7XG4gICAgb29jUmFuZ2VzLmZvckVhY2goKHJhbmdlKSA9PlxuICAgIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IGZvdW5kUGhyYXNlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgcGhyYXNlID0gZm91bmRQaHJhc2VzW2ldO1xuICAgICAgICAgICAgLy8gUmVtb3ZlIGlmIHRoZSBwaHJhc2Ugc3RhcnRzIG9yIGVuZHMgd2l0aGluIHRoZSBvb2MgcmFuZ2VcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAocmFuZ2Uuc3RhcnQgPCBwaHJhc2Uuc3RhcnQgJiYgcGhyYXNlLnN0YXJ0IDwgcmFuZ2Uuc3RhcnQgKyByYW5nZS5sZW5ndGgpXG4gICAgICAgICAgICAgICAgfHwgKHJhbmdlLnN0YXJ0IDwgcGhyYXNlLnN0YXJ0ICsgcGhyYXNlLmxlbiAmJiBwaHJhc2Uuc3RhcnQgKyBwaHJhc2UubGVuIDwgcmFuZ2Uuc3RhcnQgKyByYW5nZS5sZW5ndGgpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZm91bmRQaHJhc2VzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gTWF5IG5lZWQgdG8gY2hlY2sgdGhhdCBvbmUgcGhyYXNlIGRvZXMgbm90IHN0YXJ0IGJlZm9yZSBhbm90aGVyIGVuZHMsIGFuZCBpZiBzbyBtZXJnZSBpbnRvIGEgc2luZ2xlIGxvbmdlciBlbnRyeVxuICAgIGxldCBsYXN0SW5kZXggPSAwO1xuICAgIGxldCBmaW5hbFRleHQgPSBcIlwiO1xuICAgIGZvdW5kUGhyYXNlcy5mb3JFYWNoKChmb3VuZCkgPT5cbiAgICB7XG4gICAgICAgIC8vIEJlZm9yZSB0aGUgcGhyYXNlIHRvIG9taXRcbiAgICAgICAgZmluYWxUZXh0ICs9IG5leHQoW3RleHQuc3Vic3RyaW5nKGxhc3RJbmRleCwgZm91bmQuc3RhcnQpLCBpbnRlbnNpdHksIGlnbm9yZU9PQ10pO1xuXG4gICAgICAgIC8vIFBocmFzZSB3ZSB3YW50IHRvIG9taXRcbiAgICAgICAgbGFzdEluZGV4ID0gZm91bmQuc3RhcnQgKyBmb3VuZC5sZW47XG4gICAgICAgIGZpbmFsVGV4dCArPSB0ZXh0LnN1YnN0cmluZyhmb3VuZC5zdGFydCwgZm91bmQuc3RhcnQgKyBmb3VuZC5sZW4pO1xuICAgIH0pO1xuICAgIC8vIExhc3Qgb2YgdGhlIHRleHQgdG8gZ2FyYmxlIHVwXG4gICAgZmluYWxUZXh0ICs9IG5leHQoW3RleHQuc3Vic3RyaW5nKGxhc3RJbmRleCksIGludGVuc2l0eSwgaWdub3JlT09DXSk7XG5cbiAgICByZXR1cm4gZmluYWxUZXh0O1xufTtcblxuY29uc3QgUlVTSEVEX1NQRUFLX1BFUkNFTlRBR0UgPSAwLjU7XG5jb25zdCBQRVRfU1BFQUtfU1RSRU5HVEhfTUFQID0gT2JqZWN0LmZyZWV6ZSh7XG4gICAgTG93OiAwLjAxLFxuICAgIE1lZGl1bTogMC4wMjUsXG4gICAgSGlnaDogMC4wNSxcbiAgICBNYXg6IDAuMTI1XG59KTtcbmNvbnN0IFBFVF9TUEVBS19FTkRfUEVSQ0VOVEFHRSA9IE9iamVjdC5mcmVlemUoe1xuICAgIExvdzogMC4wNSxcbiAgICBNZWRpdW06IDAuMSxcbiAgICBIaWdoOiAwLjIsXG4gICAgTWF4OiAwLjI1XG59KTtcblxuLyoqXG4gKiBBZGQgcGV0IHNvdW5kcyB0byB0aGUgaW5wdXQgc3BlZWNoIHdoaWxlIG5vdCBnYXJibGluZyBhbnl0aGluZ1xuICogQHBhcmFtIG1zZyBTcGVlY2ggdG8gY2hhbmdlXG4gKiBAcGFyYW0gYWxsb3dlZFBldFBocmFzZXMgUGV0IHNvdW5kcyB0byBhZGRcbiAqIEBwYXJhbSBzdHJlbmd0aCBob3cgbXVjaCByZXBsYWNpbmcgdG8gZG9cbiAqIEByZXR1cm5zXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBOb25EaXNydXB0aXZlUGV0U3BlZWNoKFxuICAgIG1zZzogc3RyaW5nLFxuICAgIGFsbG93ZWRQZXRQaHJhc2VzOiBzdHJpbmdbXSxcbiAgICBzdHJlbmd0aDogXCJPZmZcIiB8IFwiTG93XCIgfCBcIk1lZGl1bVwiIHwgXCJIaWdoXCIgfCBcIk1heFwiXG4pOiBzdHJpbmdcbntcbiAgICAvLyBObyBwaHJhc2VzIHdlIGNhbiB1c2UsIHNraXBcbiAgICBpZiAoYWxsb3dlZFBldFBocmFzZXMubGVuZ3RoID09PSAwIHx8IHN0cmVuZ3RoID09PSBcIk9mZlwiKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG1zZztcbiAgICB9XG5cbiAgICAvLyBVc2UgYnVja2V0IHN5c3RlbSBzbyB3b3JkcyBhcHBlYXIgbGVzcyByYW5kb21cbiAgICAvLyBCdWNrZXQgaXMgMnggYWxsb3dlZCBwZXQgcGhyYXNlcyBiZWZvcmUgcmVmaWxsaW5nXG4gICAgbGV0IHBldFBocmFzZUJ1Y2tldDogc3RyaW5nW10gPSBbXTtcbiAgICBmdW5jdGlvbiBHZXRQZXRQaHJhc2UoKTogc3RyaW5nXG4gICAge1xuICAgICAgICBpZiAocGV0UGhyYXNlQnVja2V0Lmxlbmd0aCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgcGV0UGhyYXNlQnVja2V0ID0gYWxsb3dlZFBldFBocmFzZXMuY29uY2F0KGFsbG93ZWRQZXRQaHJhc2VzKTtcbiAgICAgICAgICAgIHBldFBocmFzZUJ1Y2tldCA9IFNodWZmbGVBcnJheShwZXRQaHJhc2VCdWNrZXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwZXRQaHJhc2VCdWNrZXQucG9wKCkgPz8gXCJcIjtcbiAgICB9XG5cbiAgICAvLyBMb29wIHRocm91Z2ggYWxsIHRoZSBvb2MgcmFuZ2VzIHRvIHNwbGl0IHRleHQgaW50byBvb2MgYW5kIG5vbiBvb2MgY2h1bmtzXG4gICAgLy8gU2tpcCBhZGRpbmcgcGV0IHNvdW5kcyB0byBvb2Mgc2VnbWVudHNcbiAgICBsZXQgbmV4dEluZGV4ID0gMDtcbiAgICBsZXQgc2VnbWVudHM6IHsgdGV4dDogc3RyaW5nOyBvb2M6IGJvb2xlYW4gfVtdID0gW107XG4gICAgY29uc3Qgb29jUmFuZ2VzID0gU3BlZWNoR2V0T09DUmFuZ2VzKG1zZyk7XG4gICAgZm9yIChjb25zdCByYW5nZSBvZiBvb2NSYW5nZXMpXG4gICAge1xuICAgICAgICBpZiAobXNnLnN1YnN0cmluZyhuZXh0SW5kZXgsIHJhbmdlLnN0YXJ0KSAhPT0gXCJcIilcbiAgICAgICAge1xuICAgICAgICAgICAgc2VnbWVudHMucHVzaCh7IHRleHQ6IG1zZy5zdWJzdHJpbmcobmV4dEluZGV4LCByYW5nZS5zdGFydCksIG9vYzogZmFsc2UgfSk7XG4gICAgICAgIH1cbiAgICAgICAgc2VnbWVudHMucHVzaCh7IHRleHQ6IG1zZy5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQsIHJhbmdlLnN0YXJ0ICsgcmFuZ2UubGVuZ3RoKSwgb29jOiB0cnVlIH0pO1xuICAgICAgICBuZXh0SW5kZXggPSByYW5nZS5zdGFydCArIHJhbmdlLmxlbmd0aDtcbiAgICB9XG4gICAgLy8gQWRkIGxhc3Qgc2VnbWVudCBmcm9tIGVuZCBvZiByYW5nZSB0byBlbmQgb2YgdGV4dFxuICAgIGNvbnN0IGxhc3RCaXQgPSBtc2cuc3Vic3RyaW5nKG5leHRJbmRleCk7XG4gICAgaWYgKGxhc3RCaXQgIT09IFwiXCIpXG4gICAge1xuICAgICAgICBzZWdtZW50cy5wdXNoKHsgdGV4dDogbGFzdEJpdCwgb29jOiBmYWxzZSB9KTtcbiAgICB9XG4gICAgLy8gTW92ZSBhbnkgd2hpdGVzcGFjZSBvbiB0aGUgcmlnaHQgc2lkZSBvZiBhbiBlbGVtZW50IHRvIHRoZSBsZWZ0IHNpZGUgb2YgdGhlIG5leHQgZWxlbWVudFxuICAgIC8vIE1ha2VzIGZpbmFsIGZvcm1hdHRpbmcgY2xlYW5lciBhbmQgZWFzaWVyXG4gICAgc2VnbWVudHMgPSBzZWdtZW50cy5tYXAoKG9iaiwgaSkgPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IHRyYWlsaW5nV2hpdGVzcGFjZSA9IC9cXHMrJC8uZXhlYyhvYmoudGV4dCk7XG4gICAgICAgIG9iai50ZXh0ID0gb2JqLnRleHQucmVwbGFjZSgvXFxzKyQvLCBcIlwiKTsgLy8gUmVtb3ZlIHRyYWlsaW5nIHdoaXRlc3BhY2UgZnJvbSBjdXJyZW50IHRleHRcbiAgICAgICAgaWYgKHRyYWlsaW5nV2hpdGVzcGFjZSAmJiBzZWdtZW50c1tpICsgMV0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHNlZ21lbnRzW2kgKyAxXS50ZXh0ID0gdHJhaWxpbmdXaGl0ZXNwYWNlWzBdICsgc2VnbWVudHNbaSArIDFdLnRleHQ7IC8vIFByZXBlbmQgd2hpdGVzcGFjZSB0byBuZXh0IHRleHRcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH0pO1xuXG4gICAgLy8gcGV0IHNwZWFrIHBlcmNlbnQgdmFsdWVzXG4gICAgY29uc3Qgd29yZFN0ZW5ndGggPSBQRVRfU1BFQUtfU1RSRU5HVEhfTUFQW3N0cmVuZ3RoXTtcbiAgICBjb25zdCBlbmRTdGVuZ3RoID0gUEVUX1NQRUFLX0VORF9QRVJDRU5UQUdFW3N0cmVuZ3RoXTtcbiAgICBjb25zdCBzcGVha1JlcXVpcmVkID0gc3RyZW5ndGggPT09IFwiSGlnaFwiIHx8IHN0cmVuZ3RoID09PSBcIk1heFwiO1xuXG4gICAgLy8gRm9yIGVhY2ggbm9uIG9vYyBzZWdtZW50IHBldGlmeSBzcGVhayBpdFxuICAgIGxldCBzcG9rZVBldCA9IGZhbHNlO1xuICAgIGxldCBuZXdNc2cgPSBcIlwiO1xuICAgIGZvciAoY29uc3Qgc2VnbWVudCBvZiBzZWdtZW50cylcbiAgICB7XG4gICAgICAgIGlmIChzZWdtZW50Lm9vYylcbiAgICAgICAge1xuICAgICAgICAgICAgbmV3TXNnICs9IHNlZ21lbnQudGV4dDtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc3BsaXRQaHJhc2UgPSBzZWdtZW50LnRleHQubWF0Y2goLyhcXHMqXFxTKykvZykgfHwgW107XG4gICAgICAgIGxldCBwcmV2aW91c1dvcmQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuICAgICAgICBzcGxpdFBocmFzZS5mb3JFYWNoKCh3b3JkKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBSYW5kb20gY2hhbmNlIGZvciBhIHBldCBzb3VuZCB0byBhcHBlYXIgYmVmb3JlIHRoZSBjdXJyZW50IHdvcmRcbiAgICAgICAgICAgIGlmIChNYXRoLnJhbmRvbSgpIDwgd29yZFN0ZW5ndGgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc3Bva2VQZXQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBldFNvdW5kID0gR2V0UGV0UGhyYXNlKCk7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBub1ByZXYgPSBwcmV2aW91c1dvcmQgPT09IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKG5vUHJldiB8fCAvWy4hP10kLy50ZXN0KHByZXZpb3VzV29yZCA/PyBcIlwiKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5ld01zZyArPSBgJHtub1ByZXYgPyBcIlwiIDogXCIgXCJ9JHtwZXRTb3VuZC5jaGFyQXQoMCkudG9Mb2NhbGVVcHBlckNhc2UoKX0ke3BldFNvdW5kLnNsaWNlKDEpfWBcbiAgICAgICAgICAgICAgICAgICAgICArIGAkey9bLiE/XSQvLnRlc3Qod29yZCkgfHwgbm9QcmV2ID8gYC4ke25vUHJldiA/IFwiIFwiIDogXCJcIn1gIDogXCIsIFwifWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5ld01zZyArPSBgJHtNYXRoLnJhbmRvbSgpIDwgUlVTSEVEX1NQRUFLX1BFUkNFTlRBR0UgJiYgIShwcmV2aW91c1dvcmQgPz8gXCJcIikuZW5kc1dpdGgoXCIsXCIpID8gXCIsXCIgOiBcIlwifSAke3BldFNvdW5kfSxgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld01zZyArPSB3b3JkO1xuICAgICAgICAgICAgcHJldmlvdXNXb3JkID0gd29yZDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gSWYgbm8gcGV0IHdvcmRzIGhhdmUgYmVlbiBzcG9rZW4gc28gZmFyLCBlbmQgd2l0aCBvbmUgb3IgYSBjaGFuY2UgZm9yIGl0IHRvIGVuZCB3aXRoIG9uZSBhbnl3YXlcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgc2VnbWVudHMuc2xpY2UoKS5yZXZlcnNlKCkuZmluZCgoaXRlbSkgPT4gIWl0ZW0ub29jKT8udGV4dCA9PT0gc2VnbWVudC50ZXh0IC8vIExhc3Qgbm9uIG9vYyBzZWdtZW50XG4gICAgICAgICAgICAmJiAoKHNwZWFrUmVxdWlyZWQgJiYgIXNwb2tlUGV0KVxuICAgICAgICAgICAgICB8fCBNYXRoLnJhbmRvbSgpIDwgZW5kU3Rlbmd0aClcbiAgICAgICAgKVxuICAgICAgICB7XG4gICAgICAgICAgICBuZXdNc2cgPSBBcHBlbmRQZXRTcGVlY2gobmV3TXNnLCBbR2V0UGV0UGhyYXNlKCldKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBuZXdNc2c7XG59XG5cbi8qKlxuICogUmVwbGFjZSBlYWNoIHdvcmQgaW4gdGhlIHRleHQgd2l0aCBhIHBldCBzb3VuZCBiYXNlZCBvbiB0aGUgc3RyZW5ndGhcbiAqIEBwYXJhbSBtc2cgLSBUZXh0IHRvIHByb2Nlc3NcbiAqIEBwYXJhbSBhbGxvd2VkUGV0UGhyYXNlcyAtIFBldCBzb3VuZHMgdG8gdXNlXG4gKiBAcGFyYW0gc3RyZW5ndGggLSAwIHRvIDEgaW5jbHVzaXZlXG4gKiBAcmV0dXJucyBBIG5ldyBjb3B5IG9mIHRoZSBwcm9jZXNzZWQgdGV4dFxuICovXG5leHBvcnQgZnVuY3Rpb24gRGlzcnVwdGl2ZVBldFNwZWVjaChcbiAgICBtc2c6IHN0cmluZyxcbiAgICBhbGxvd2VkUGV0UGhyYXNlczogc3RyaW5nW10sXG4gICAgc3RyZW5ndGg6IG51bWJlclxuKTogc3RyaW5nXG57XG4gICAgLy8gTm8gcGhyYXNlcyB3ZSBjYW4gdXNlLCBza2lwXG4gICAgaWYgKGFsbG93ZWRQZXRQaHJhc2VzLmxlbmd0aCA9PT0gMClcbiAgICB7XG4gICAgICAgIHJldHVybiBtc2c7XG4gICAgfVxuICAgIG1zZyA9IG1zZyA/PyBcIlwiO1xuXG4gICAgLy8gU3RyZW5ndGggc2hvdWxkIGJlIGJldHdlZW4gMCBhbmQgMVxuICAgIHN0cmVuZ3RoID0gKHN0cmVuZ3RoID4gMSkgPyAxIDogKHN0cmVuZ3RoIDwgMCkgPyAwIDogc3RyZW5ndGg7XG5cbiAgICAvLyBVc2UgYnVja2V0IHN5c3RlbSBzbyB3b3JkcyBhcHBlYXIgbGVzcyByYW5kb21cbiAgICAvLyBCdWNrZXQgaXMgMnggYWxsb3dlZCBwZXQgcGhyYXNlcyBiZWZvcmUgcmVmaWxsaW5nXG4gICAgbGV0IHBldFBocmFzZUJ1Y2tldDogc3RyaW5nW10gPSBbXTtcbiAgICBmdW5jdGlvbiBHZXRQZXRQaHJhc2UoKTogc3RyaW5nXG4gICAge1xuICAgICAgICBpZiAocGV0UGhyYXNlQnVja2V0Lmxlbmd0aCA9PT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgcGV0UGhyYXNlQnVja2V0ID0gYWxsb3dlZFBldFBocmFzZXMuY29uY2F0KGFsbG93ZWRQZXRQaHJhc2VzKTtcbiAgICAgICAgICAgIHBldFBocmFzZUJ1Y2tldCA9IFNodWZmbGVBcnJheShwZXRQaHJhc2VCdWNrZXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwZXRQaHJhc2VCdWNrZXQucG9wKCkgPz8gXCJcIjtcbiAgICB9XG5cbiAgICAvLyBMb29wIHRocm91Z2ggYWxsIHRoZSBvb2MgcmFuZ2VzIHRvIHNwbGl0IHRleHQgaW50byBvb2MgYW5kIG5vbiBvb2MgY2h1bmtzXG4gICAgLy8gU2tpcCBhZGRpbmcgcGV0IHNvdW5kcyB0byBvb2Mgc2VnbWVudHNcbiAgICBsZXQgbmV4dEluZGV4ID0gMDtcbiAgICBjb25zdCBzZWdtZW50czogeyB0ZXh0OiBzdHJpbmc7IG9vYzogYm9vbGVhbiB9W10gPSBbXTtcbiAgICBjb25zdCBvb2NSYW5nZXMgPSBTcGVlY2hHZXRPT0NSYW5nZXMobXNnKTtcbiAgICBmb3IgKGNvbnN0IHJhbmdlIG9mIG9vY1JhbmdlcylcbiAgICB7XG4gICAgICAgIGlmIChtc2cuc3Vic3RyaW5nKG5leHRJbmRleCwgcmFuZ2Uuc3RhcnQpICE9PSBcIlwiKVxuICAgICAgICB7XG4gICAgICAgICAgICBzZWdtZW50cy5wdXNoKHsgdGV4dDogbXNnLnN1YnN0cmluZyhuZXh0SW5kZXgsIHJhbmdlLnN0YXJ0KSwgb29jOiBmYWxzZSB9KTtcbiAgICAgICAgfVxuICAgICAgICBzZWdtZW50cy5wdXNoKHsgdGV4dDogbXNnLnN1YnN0cmluZyhyYW5nZS5zdGFydCwgcmFuZ2Uuc3RhcnQgKyByYW5nZS5sZW5ndGgpLCBvb2M6IHRydWUgfSk7XG4gICAgICAgIG5leHRJbmRleCA9IHJhbmdlLnN0YXJ0ICsgcmFuZ2UubGVuZ3RoO1xuICAgIH1cbiAgICAvLyBBZGQgbGFzdCBzZWdtZW50IGZyb20gZW5kIG9mIHJhbmdlIHRvIGVuZCBvZiB0ZXh0XG4gICAgY29uc3QgbGFzdEJpdCA9IG1zZy5zdWJzdHJpbmcobmV4dEluZGV4KTtcbiAgICBpZiAobGFzdEJpdCAhPT0gXCJcIilcbiAgICB7XG4gICAgICAgIHNlZ21lbnRzLnB1c2goeyB0ZXh0OiBsYXN0Qml0LCBvb2M6IGZhbHNlIH0pO1xuICAgIH1cblxuICAgIC8vIEZvciBlYWNoIG5vbiBvb2Mgc2VnbWVudCBwZXRpZnkgc3BlYWsgaXRcbiAgICBsZXQgbmV3TXNnID0gXCJcIjtcbiAgICBmb3IgKGNvbnN0IHNlZ21lbnQgb2Ygc2VnbWVudHMpXG4gICAge1xuICAgICAgICBpZiAoc2VnbWVudC5vb2MpXG4gICAgICAgIHtcbiAgICAgICAgICAgIG5ld01zZyArPSBzZWdtZW50LnRleHQ7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIG5ld01zZyArPSBzZWdtZW50LnRleHQucmVwbGFjZSgvXFxiXFx3K1xcYi9nLCAobWF0Y2gpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChNYXRoLnJhbmRvbSgpID4gc3RyZW5ndGgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hdGNoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcGV0UGhyYXNlID0gR2V0UGV0UGhyYXNlKCk7XG4gICAgICAgICAgICBpZiAoL15bQS1aXSskLy50ZXN0KG1hdGNoKSAmJiBtYXRjaC5sZW5ndGggPiAxKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBwZXRQaHJhc2UudG9Mb2NhbGVVcHBlckNhc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgvXltBLVpdLiokLy50ZXN0KG1hdGNoKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGV0UGhyYXNlLnN1YnN0cmluZygwLCAxKS50b0xvY2FsZVVwcGVyQ2FzZSgpICsgcGV0UGhyYXNlLnN1YnN0cmluZygxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwZXRQaHJhc2U7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBuZXdNc2c7XG59XG4iLCJpbXBvcnQgeyBNb2R1bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9fbW9kdWxlXCI7XG5pbXBvcnQgeyBMb2FkU3RvcmFnZSB9IGZyb20gXCIuL3N0b3JhZ2VcIjtcbmltcG9ydCB7IERhdGFTeW5jTW9kdWxlIH0gZnJvbSBcIi4uL21vZHVsZXMvZGF0YVN5bmNcIjtcbmltcG9ydCB7IFNldHRpbmdzTW9kdWxlIH0gZnJvbSBcIi4uL21vZHVsZXMvc2V0dGluZ3NcIjtcbmltcG9ydCB7IEFjdGl2aXRpZXNNb2R1bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9hY3Rpdml0aWVzXCI7XG5pbXBvcnQgeyBDbGlja2VyTW9kdWxlIH0gZnJvbSBcIi4uL21vZHVsZXMvY2xpY2tlclwiO1xuaW1wb3J0IHsgVmlydHVhbFBldE1vZHVsZSB9IGZyb20gXCIuLi9tb2R1bGVzL3ZpcnR1YWxQZXRcIjtcbmltcG9ydCB7IFZpcnR1YWxQZXRIVURNb2R1bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy92aXJ0dWFsUGV0SFVEXCI7XG5pbXBvcnQgeyBWaXJ0dWFsUGV0Q29uZGl0aW9uc01vZHVsZSB9IGZyb20gXCIuLi9tb2R1bGVzL3ZpcnR1YWxQZXRDb25kaXRpb25zXCI7XG5pbXBvcnQgeyBQcm9maWxlTW9kdWxlIH0gZnJvbSBcIi4uL21vZHVsZXMvcHJvZmlsZVwiO1xuaW1wb3J0IHsgU2V0dGluZ3NPdGhlck1vZHVsZSB9IGZyb20gXCIuLi9tb2R1bGVzL3NldHRpbmdzT3RoZXJzXCI7XG5pbXBvcnQgeyBBdXRob3JpdHlNb2R1bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9hdXRob3JpdHlcIjtcbmltcG9ydCB7IFByaXZhdGVNb2R1bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9wcml2YXRlXCI7XG5cbmxldCBtb2R1bGVzUmVnaXN0ZXJlZCA9IGZhbHNlO1xuXG5leHBvcnQgY29uc3QgbW9kdWxlczogTW9kdWxlW10gPSBbXG4gICAgbmV3IERhdGFTeW5jTW9kdWxlKCksXG4gICAgbmV3IFNldHRpbmdzTW9kdWxlKCksXG4gICAgbmV3IEFjdGl2aXRpZXNNb2R1bGUoKSxcbiAgICBuZXcgQ2xpY2tlck1vZHVsZSgpLFxuICAgIG5ldyBWaXJ0dWFsUGV0TW9kdWxlKCksXG4gICAgbmV3IFZpcnR1YWxQZXRIVURNb2R1bGUoKSxcbiAgICBuZXcgVmlydHVhbFBldENvbmRpdGlvbnNNb2R1bGUoKSxcbiAgICBuZXcgUHJvZmlsZU1vZHVsZSgpLFxuICAgIG5ldyBTZXR0aW5nc090aGVyTW9kdWxlKCksXG4gICAgbmV3IEF1dGhvcml0eU1vZHVsZSgpLFxuICAgIG5ldyBQcml2YXRlTW9kdWxlKClcbl07XG5cbmV4cG9ydCBjb25zdCBzZXR0aW5nczogUGFydGlhbDxNUEFTZXR0aW5ncz4gPSB7fTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFJlZ2lzdGVyTW9kdWxlcygpOiBQcm9taXNlPHZvaWQ+XG57XG4gICAgLy8gTm8gZHVwbGljYXRlIG1vZHVsZSByZWdpc3RlcmluZ1xuICAgIGlmIChtb2R1bGVzUmVnaXN0ZXJlZCkgeyByZXR1cm47IH1cblxuICAgIG1vZHVsZXMuZm9yRWFjaCgobW9kdWxlKSA9PlxuICAgIHtcbiAgICAgICAgLy8gR2V0IGFsbCB0aGUgc2V0dGluZ3NcbiAgICAgICAgY29uc3QgbW9kU2V0ID0gbW9kdWxlLlNldHRpbmdzO1xuICAgICAgICBjb25zdCBuZXdTZXR0aW5ncyA9IHt9O1xuICAgICAgICBtb2RTZXQuZm9yRWFjaCgoc2V0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBuZXdTZXR0aW5nc1tzZXQubmFtZV0gPSBzZXQ7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoT2JqZWN0LmtleXMobmV3U2V0dGluZ3MpLmxlbmd0aCAhPT0gMClcbiAgICAgICAge1xuICAgICAgICAgICAgc2V0dGluZ3NbbW9kdWxlLlRpdGxlXSA9IG5ld1NldHRpbmdzO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgYXdhaXQgTG9hZFN0b3JhZ2UoKTtcblxuICAgIC8vIExvYWQgdGhlIG1vZHVsZXNcbiAgICBtb2R1bGVzLmZvckVhY2goKG1vZHVsZSkgPT5cbiAgICB7XG4gICAgICAgIG1vZHVsZS5Mb2FkKCk7XG4gICAgfSk7XG4gICAgbW9kdWxlc1JlZ2lzdGVyZWQgPSB0cnVlO1xufVxuIiwiaW1wb3J0IGJjTW9kU2RrLCB7IEdldERvdGVkUGF0aFR5cGUsIE1vZFNES01vZEFQSSwgUGF0Y2hIb29rIH0gZnJvbSBcImJvbmRhZ2UtY2x1Yi1tb2Qtc2RrXCI7XG5pbXBvcnQgeyBNb2R1bGVUaXRsZSB9IGZyb20gXCIuLi9tb2R1bGVzL19tb2R1bGVcIjtcbmltcG9ydCB7IE1QQV9OQU1FLCBNUEFfUkVQTywgTVBBX1ZFUlNJT04gfSBmcm9tIFwiLi9jb25zdGFudHNcIjtcblxuaW50ZXJmYWNlIEhvb2tlZEZ1bmN0aW9uXG57XG4gICAgZnVuY3Rpb25OYW1lOiBzdHJpbmc7XG4gICAgcHJpb3JpdHk6IG51bWJlcjtcbiAgICBob29rOiBQYXRjaEhvb2s7XG4gICAgbW9kdWxlOiBzdHJpbmcgfCBudWxsO1xuICAgIHJlbW92ZUhvb2s6ICgpID0+IHZvaWQ7XG59XG5jb25zdCBob29rczogSG9va2VkRnVuY3Rpb25bXSA9IFtdO1xuXG5leHBvcnQgY29uc3QgbW9kQVBJOiBNb2RTREtNb2RBUEkgPSBiY01vZFNkay5yZWdpc3Rlck1vZCh7XG4gICAgbmFtZTogTVBBX05BTUUsXG4gICAgdmVyc2lvbjogTVBBX1ZFUlNJT04sXG4gICAgZnVsbE5hbWU6IFwiTWF5YSdzIFBldHBsYXkgQWRkaXRpb25zXCIsXG4gICAgcmVwb3NpdG9yeTogTVBBX1JFUE9cbn0sIHtcbiAgICBhbGxvd1JlcGxhY2U6IGZhbHNlXG59KTtcblxuLyoqXG4gKiBIb29rIGEgQkMgZnVuY3Rpb25cbiAqIEBwYXJhbSBtb2R1bGUgLSBUaGUgdGl0bGUgb2YgdGhlIG1vZHVsZSB0aGUgaG9vayBpcyBiZWluZyB1c2VkIGluXG4gKiBAdGVtcGxhdGUgVEZ1bmN0aW9uTmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBob29rZWQgZnVuY3Rpb24sIF9lLmcuXyBgXCJQbGF5ZXIuQ2FuQ2hhbmdlXCJgXG4gKiBAcGFyYW0gZnVuY3Rpb25OYW1lIC0gTmFtZSBvZiBmdW5jdGlvbiB0byBob29rLiBDYW4gY29udGFpbiBkb3RzIHRvIGNoYW5nZSBtZXRob2RzIGluIG9iamVjdHMgKGUuZy4gYFBsYXllci5DYW5DaGFuZ2VgKVxuICogQHBhcmFtIHByaW9yaXR5IC0gTnVtYmVyIHVzZWQgdG8gZGV0ZXJtaW5hdGUgb3JkZXIgaG9va3Mgd2lsbCBiZSBjYWxsZWQgaW4uIEhpZ2hlciBudW1iZXIgaXMgY2FsbGVkIGZpcnN0XG4gKiBAcGFyYW0gaG9vayAtIFRoZSBob29rIGl0c2VsZiB0byB1c2UsIEBzZWUgUGF0Y2hIb29rXG4gKiBAcmV0dXJucyBGdW5jdGlvbiB0aGF0IGNhbiBiZSBjYWxsZWQgdG8gcmVtb3ZlIHRoaXMgaG9va1xuICovXG5leHBvcnQgZnVuY3Rpb24gSG9va0Z1bmN0aW9uPFRGdW5jdGlvbk5hbWUgZXh0ZW5kcyBzdHJpbmc+KG1vZHVsZTogTW9kdWxlVGl0bGUgfCBudWxsLCBmdW5jdGlvbk5hbWU6IFRGdW5jdGlvbk5hbWUsIHByaW9yaXR5OiBudW1iZXIsIGhvb2s6IFBhdGNoSG9vazxHZXREb3RlZFBhdGhUeXBlPHR5cGVvZiBnbG9iYWxUaGlzLCBURnVuY3Rpb25OYW1lPj4pOiAoKSA9PiB2b2lkXG57XG4gICAgY29uc3QgcmVtb3ZlSG9vayA9IG1vZEFQSS5ob29rRnVuY3Rpb24oZnVuY3Rpb25OYW1lLCBwcmlvcml0eSwgaG9vayk7XG5cbiAgICBob29rcy5wdXNoKHtcbiAgICAgICAgZnVuY3Rpb25OYW1lOiBmdW5jdGlvbk5hbWUsXG4gICAgICAgIHByaW9yaXR5OiBwcmlvcml0eSxcbiAgICAgICAgaG9vazogaG9vayxcbiAgICAgICAgbW9kdWxlOiBtb2R1bGUsXG4gICAgICAgIHJlbW92ZUhvb2s6IHJlbW92ZUhvb2tcbiAgICB9IGFzIEhvb2tlZEZ1bmN0aW9uKTtcblxuICAgIHJldHVybiByZW1vdmVIb29rO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gUmVtb3ZlSG9va3MobW9kdWxlOiBNb2R1bGVUaXRsZSB8IG51bGwpOiB2b2lkXG57XG4gICAgZm9yIChsZXQgaSA9IGhvb2tzLmxlbmd0aCAtIDE7IDAgPD0gaTsgaS0tKVxuICAgIHtcbiAgICAgICAgaWYgKGhvb2tzW2ldLm1vZHVsZSA9PT0gbW9kdWxlKVxuICAgICAgICB7XG4gICAgICAgICAgICBob29rc1tpXS5yZW1vdmVIb29rKCk7XG4gICAgICAgICAgICBob29rcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogT25seSByZWxlYXNlIHRoZSBhd2FpdCB3aGVuIHRoZSBQbGF5ZXIgaXMgZGV0ZWN0ZWQgYW5kIGxvYWRlZFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gQXdhaXRQbGF5ZXIoKTogUHJvbWlzZTx2b2lkPlxue1xuICAgIGlmIChQbGF5ZXIuTWVtYmVyTnVtYmVyICYmIFBsYXllci5FeHRlbnNpb25TZXR0aW5ncylcbiAgICB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IFByb21pc2U8dm9pZD4oKHJlc29sdmUpID0+XG4gICAge1xuICAgICAgICBjb25zdCBob29rID0gbW9kQVBJLmhvb2tGdW5jdGlvbihcIkxvZ2luUmVzcG9uc2VcIiwgMCwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIExldCByZXNwb25zZSBoYXBwZW4gZmlyc3RcbiAgICAgICAgICAgIG5leHQoYXJncyk7XG5cbiAgICAgICAgICAgIC8vIFJlbW92ZSB0aGlzIGhvb2sgd2hlbiBkb25lXG4gICAgICAgICAgICBob29rKCk7XG5cbiAgICAgICAgICAgIC8vIFJlc29sdmUgdGhlIHByb21pc2UgdG8gZW5kIHRoZSBhd2FpdCBjb25kaXRpb25cbiAgICAgICAgICAgIHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwMCk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuXG4vKipcbiAqIE9ubHkgcmVsZWFzZSB0aGUgYXdhaXQgd2hlbiB0aGUgUGxheWVyIGhhcyBlbnRlcmVkIGEgY2hhdCByb29tXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBBd2FpdEluQ2hhdFJvb20oKVxue1xuICAgIGlmIChDaGF0Um9vbUNoYXJhY3Rlci5sZW5ndGggPiAxKVxuICAgIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiBuZXcgUHJvbWlzZTx2b2lkPigocmVzb2x2ZSkgPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IGhvb2sgPSBtb2RBUEkuaG9va0Z1bmN0aW9uKFwiQ2hhdFJvb21TeW5jXCIsIDEwMCwgKGFyZ3MsIG5leHQpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIExldCByZXNwb25zZSBoYXBwZW4gZmlyc3RcbiAgICAgICAgICAgIG5leHQoYXJncyk7XG5cbiAgICAgICAgICAgIC8vIFJlbW92ZSB0aGlzIGhvb2sgd2hlbiBkb25lXG4gICAgICAgICAgICBob29rKCk7XG5cbiAgICAgICAgICAgIC8vIFJlc29sdmUgdGhlIHByb21pc2UgdG8gZW5kIHRoZSBhd2FpdCBjb25kaXRpb25cbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5cbi8qKlxuICogRG8gbm90aGluZyBidXQgd2FpdFxuICogQHBhcmFtIG1zIER1cmF0aW9uIHRvIHdhaXRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIFNsZWVwKG1zOiBudW1iZXIpXG57XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKSk7XG59XG5cbi8qKlxuICogR2V0IHRoZSBCQ1ggbW9kIGFwaSBmb3IgTVBBXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiY3hBUEkoKVxue1xuICAgIHJldHVybiB3aW5kb3cuYmN4Py5nZXRNb2RBcGkoTVBBX05BTUUpO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIEJDWCBpZiBmb3VuZFxuICovXG5leHBvcnQgZnVuY3Rpb24gYmN4Rm91bmQoKTogYm9vbGVhblxue1xuICAgIHJldHVybiAhIXdpbmRvdy5iY3g7XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gSXNEaXNwbGF5U2V0dGluZyhzZXR0aW5nOiBTZXR0aW5nKTogc2V0dGluZyBpcyBEaXNwbGF5ZWRTZXR0aW5nXG57XG4gICAgcmV0dXJuIChcbiAgICAgICAgdHlwZW9mIChzZXR0aW5nIGFzIERpc3BsYXllZFNldHRpbmcpLmFjdGl2ZSA9PT0gXCJmdW5jdGlvblwiXG4gICAgICAgICYmIHR5cGVvZiAoc2V0dGluZyBhcyBEaXNwbGF5ZWRTZXR0aW5nKS5sYWJlbCA9PT0gXCJzdHJpbmdcIlxuICAgICk7XG59XG5leHBvcnQgZnVuY3Rpb24gSXNDaGVja2JveFNldHRpbmcoc2V0dGluZzogU2V0dGluZyk6IHNldHRpbmcgaXMgQ2hlY2tib3hTZXR0aW5nXG57XG4gICAgcmV0dXJuIChcbiAgICAgICAgSXNEaXNwbGF5U2V0dGluZyhzZXR0aW5nKVxuICAgICAgICAmJiAoc2V0dGluZyBhcyBDaGVja2JveFNldHRpbmcpLnR5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAmJiB0eXBlb2YgKHNldHRpbmcgYXMgQ2hlY2tib3hTZXR0aW5nKS52YWx1ZSA9PT0gXCJib29sZWFuXCJcbiAgICApO1xufVxuZXhwb3J0IGZ1bmN0aW9uIElzT3B0aW9uU2V0dGluZyhzZXR0aW5nOiBTZXR0aW5nKTogc2V0dGluZyBpcyBPcHRpb25TZXR0aW5nXG57XG4gICAgcmV0dXJuIChcbiAgICAgICAgSXNEaXNwbGF5U2V0dGluZyhzZXR0aW5nKVxuICAgICAgICAmJiAoc2V0dGluZyBhcyBPcHRpb25TZXR0aW5nKS50eXBlID09PSBcIm9wdGlvblwiXG4gICAgICAgICYmIHR5cGVvZiAoc2V0dGluZyBhcyBPcHRpb25TZXR0aW5nKS52YWx1ZSA9PT0gXCJzdHJpbmdcIlxuICAgICAgICAmJiBBcnJheS5pc0FycmF5KChzZXR0aW5nIGFzIE9wdGlvblNldHRpbmcpLm9wdGlvbnMpXG4gICAgICAgICYmIHR5cGVvZiAoc2V0dGluZyBhcyBPcHRpb25TZXR0aW5nKS5sb29wID09PSBcImJvb2xlYW5cIlxuICAgICk7XG59XG5leHBvcnQgZnVuY3Rpb24gSXNUZXh0U2V0dGluZyhzZXR0aW5nOiBTZXR0aW5nKTogc2V0dGluZyBpcyBUZXh0U2V0dGluZ1xue1xuICAgIHJldHVybiAoXG4gICAgICAgIElzRGlzcGxheVNldHRpbmcoc2V0dGluZylcbiAgICAgICAgJiYgKHNldHRpbmcgYXMgVGV4dFNldHRpbmcpLnR5cGUgPT09IFwidGV4dFwiXG4gICAgICAgICYmIHR5cGVvZiAoc2V0dGluZyBhcyBUZXh0U2V0dGluZykudmFsdWUgPT09IFwic3RyaW5nXCJcbiAgICAgICAgJiYgKHR5cGVvZiAoc2V0dGluZyBhcyBUZXh0U2V0dGluZykud2lkdGggPT09IFwibnVtYmVyXCJcbiAgICAgICAgICB8fCAoc2V0dGluZyBhcyBUZXh0U2V0dGluZykud2lkdGggPT09IG51bGwpXG4gICAgICAgICYmICh0eXBlb2YgKHNldHRpbmcgYXMgVGV4dFNldHRpbmcpLm1heENoYXJzID09PSBcIm51bWJlclwiXG4gICAgICAgICAgfHwgKHNldHRpbmcgYXMgVGV4dFNldHRpbmcpLm1heENoYXJzID09PSBudWxsKVxuICAgICk7XG59XG5leHBvcnQgZnVuY3Rpb24gSXNOdW1iZXJTZXR0aW5nKHNldHRpbmc6IFNldHRpbmcpOiBzZXR0aW5nIGlzIE51bWJlclNldHRpbmdcbntcbiAgICByZXR1cm4gKFxuICAgICAgICBJc0Rpc3BsYXlTZXR0aW5nKHNldHRpbmcpXG4gICAgICAgICYmIChzZXR0aW5nIGFzIE51bWJlclNldHRpbmcpLnR5cGUgPT09IFwibnVtYmVyXCJcbiAgICAgICAgJiYgdHlwZW9mIChzZXR0aW5nIGFzIE51bWJlclNldHRpbmcpLnZhbHVlID09PSBcIm51bWJlclwiXG4gICAgICAgICYmICh0eXBlb2YgKHNldHRpbmcgYXMgTnVtYmVyU2V0dGluZykud2lkdGggPT09IFwibnVtYmVyXCJcbiAgICAgICAgICB8fCAoc2V0dGluZyBhcyBOdW1iZXJTZXR0aW5nKS53aWR0aCA9PT0gbnVsbClcbiAgICAgICAgJiYgdHlwZW9mIChzZXR0aW5nIGFzIE51bWJlclNldHRpbmcpLm1pbiA9PT0gXCJudW1iZXJcIlxuICAgICAgICAmJiB0eXBlb2YgKHNldHRpbmcgYXMgTnVtYmVyU2V0dGluZykubWF4ID09PSBcIm51bWJlclwiXG4gICAgICAgICYmICh0eXBlb2YgKHNldHRpbmcgYXMgTnVtYmVyU2V0dGluZykuc3RlcCA9PT0gXCJudW1iZXJcIlxuICAgICAgICAgIHx8IChzZXR0aW5nIGFzIE51bWJlclNldHRpbmcpLnN0ZXAgPT09IG51bGwpXG4gICAgKTtcbn1cbiIsImltcG9ydCB7IExvY2FsaXplZFRleHQgfSBmcm9tIFwiLi4vbG9jYWxpemF0aW9uL2xvY2FsaXphdGlvblwiO1xuaW1wb3J0IHsgc2V0dGluZ3MgYXMgY3VycmVudFNldHRpbmdzIH0gZnJvbSBcIi4vcmVnaXN0ZXJNb2R1bGVzXCI7XG5pbXBvcnQgeyBBd2FpdEluQ2hhdFJvb20sIEF3YWl0UGxheWVyLCBTbGVlcCB9IGZyb20gXCIuL3Nka1wiO1xuaW1wb3J0IHsgU2V0dGluZ1N5bmMgfSBmcm9tIFwiLi4vbW9kdWxlcy9kYXRhU3luY1wiO1xuaW1wb3J0IHsgTW9kdWxlVGl0bGUgfSBmcm9tIFwiLi4vbW9kdWxlcy9fbW9kdWxlXCI7XG5pbXBvcnQgeyBNUEFfVkVSU0lPTiB9IGZyb20gXCIuL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgTGV2ZWxTeW5jIH0gZnJvbSBcIi4uL21vZHVsZXMvdmlydHVhbFBldFwiO1xuaW1wb3J0IHsgTm90aWZ5UGxheWVyIH0gZnJvbSBcIi4vbWVzc2FnaW5nXCI7XG5cbmNvbnN0IENIQU5HRUxPR19SQVdfU1RBQkxFID0gXCJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vTWF5YVRoZUZveHkvTVBBL3JlZnMvaGVhZHMvbWFpbi9DSEFOR0VMT0cubWRcIjtcbmNvbnN0IENIQU5HRUxPR19SQVdfREVWID0gXCJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vTWF5YVRoZUZveHkvTVBBL3JlZnMvaGVhZHMvZGV2L0NIQU5HRUxPRy5tZFwiO1xuXG5jb25zdCBDSEFOR0VMT0dfU1RBQkxFID0gXCJodHRwczovL2dpdGh1Yi5jb20vTWF5YVRoZUZveHkvTVBBL2Jsb2IvbWFpbi9DSEFOR0VMT0cubWRcIjtcbmNvbnN0IENIQU5HRUxPR19ERVYgPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9NYXlhVGhlRm94eS9NUEEvYmxvYi9kZXYvQ0hBTkdFTE9HLm1kXCI7XG5cbmNvbnN0IFZFUlNJT05fU1RBQkxFX1JFR0VYID0gL15cXGQrXFwuXFxkK1xcLlxcZCskLztcbi8vIGNvbnN0IFZFUlNJT05fREVWX1JFR0VYID0gL15cXGQrXFwuXFxkK1xcLlxcZCtcXC5cXGQrJC87XG5cbi8qKlxuICogRmV0Y2ggdGhlIGNoYW5nZWxvZyBmcm9tIHRoZSByZXBvXG4gKiBAcmV0dXJuc1xuICovXG5hc3luYyBmdW5jdGlvbiBGZXRjaExhdGVzdENoYW5nZWxvZygpOiBQcm9taXNlPHZvaWQ+XG57XG4gICAgY29uc3QgaXNTdGFibGUgPSBWRVJTSU9OX1NUQUJMRV9SRUdFWC50ZXN0KE1QQV9WRVJTSU9OKTtcbiAgICBjb25zdCB1cmwgPSBpc1N0YWJsZSA/IENIQU5HRUxPR19SQVdfU1RBQkxFIDogQ0hBTkdFTE9HX1JBV19ERVY7XG4gICAgdHJ5XG4gICAge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCk7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihgTVBBOiBGYWlsZWQgdG8gZmV0Y2ggQ0hBTkdFTE9HLm1kOiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjaGFuZ2Vsb2cgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgIC8vIFVzZSBhIHJlZ3VsYXIgZXhwcmVzc2lvbiB0byBleHRyYWN0IHRoZSBsYXRlc3QgcmVsZWFzZSBzZWN0aW9uXG4gICAgICAgIGNvbnN0IG1hdGNoZXMgPSAvIyAoXFxkK1xcLlxcZCtcXC5cXGQrKD86XFwuXFxkKyk/KStcXG4oW1xcc1xcU10qPykoPz1cXG4jIHwkKS8uZXhlYyhjaGFuZ2Vsb2cpO1xuXG4gICAgICAgIGlmIChtYXRjaGVzKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB2ZXJzaW9uID0gbWF0Y2hlc1sxXTtcblxuICAgICAgICAgICAgaWYgKHZlcnNpb24gPT09IE1QQV9WRVJTSU9OKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoYW5nZXMgPSBtYXRjaGVzWzJdLnRyaW0oKTtcbiAgICAgICAgICAgICAgICB3aGlsZSAodHJ1ZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IEF3YWl0SW5DaGF0Um9vbSgpO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCBTbGVlcCgxMDApO1xuICAgICAgICAgICAgICAgICAgICBpZiAoQ2hhdFJvb21DaGFyYWN0ZXIubGVuZ3RoID4gMClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgTm90aWZ5UGxheWVyKGA8YiBzdHlsZT0ndGV4dC1hbGlnbjpjZW50ZXI7d2lkdGg6MTAwJTtkaXNwbGF5OmJsb2NrJz5NUEEgVXBkYXRlZDwvYj5cbkN1cnJlbnQgTVBBIFZlcnNpb246ICR7TVBBX1ZFUlNJT059XG5DaGFuZ2VzIGZyb20gcHJldmlvdXMgdmVyc2lvbjpcbiR7Y2hhbmdlc31cbjxhIGhyZWY9XCIke2lzU3RhYmxlID8gQ0hBTkdFTE9HX1NUQUJMRSA6IENIQU5HRUxPR19ERVZ9XCIgdGFyZ2V0PVwiX2JsYW5rXCI+U2VlIEZ1bGwgQ2hhbmdlbG9nPC9hPmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUud2FybihcIk1QQTogQ291bGQgbm90IGdldCB0aGUgbGF0ZXN0IE1QQSBDaGFuZ2Vsb2dzXCIpO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpXG4gICAge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvcjogJHtlcnJvcn1gKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIE1QQVVwZGF0ZUNoZWNrKHNldHRpbmdzOiBNUEFSZWNvcmRzKTogdm9pZFxue1xuICAgIGlmICgoc2V0dGluZ3MudmVyc2lvbiBhcyBhbnkpICE9PSBNUEFfVkVSU0lPTilcbiAgICB7XG4gICAgICAgIGNvbnN0IGlzU3RhYmxlID0gVkVSU0lPTl9TVEFCTEVfUkVHRVgudGVzdChNUEFfVkVSU0lPTik7XG4gICAgICAgIFNlcnZlckFjY291bnRCZWVwKHtcbiAgICAgICAgICAgIE1lbWJlck51bWJlcjogUGxheWVyLk1lbWJlck51bWJlciA/PyAtMSxcbiAgICAgICAgICAgIE1lbWJlck5hbWU6IExvY2FsaXplZFRleHQoXCJNUEFcIiksXG4gICAgICAgICAgICBDaGF0Um9vbVNwYWNlOiBcIlhcIixcbiAgICAgICAgICAgIENoYXRSb29tTmFtZTogTG9jYWxpemVkVGV4dChcIk1QQSBVcGRhdGVkXCIpLFxuICAgICAgICAgICAgUHJpdmF0ZTogZmFsc2UsXG4gICAgICAgICAgICBCZWVwVHlwZTogXCJcIixcbiAgICAgICAgICAgIE1lc3NhZ2U6IGBNUEEgaGFzIGJlZW4gdXBkYXRlZC4gU2VlIHRoZSBjaGFuZ2Vsb2cgaGVyZTpcXG4ke2lzU3RhYmxlID8gQ0hBTkdFTE9HX1NUQUJMRSA6IENIQU5HRUxPR19ERVZ9YFxuICAgICAgICB9KTtcbiAgICAgICAgKHNldHRpbmdzLnZlcnNpb24gYXMgYW55KSA9IE1QQV9WRVJTSU9OO1xuICAgICAgICBTYXZlU3RvcmFnZShmYWxzZSk7XG4gICAgICAgIEZldGNoTGF0ZXN0Q2hhbmdlbG9nKCk7XG4gICAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gTG9hZFN0b3JhZ2UoKTogUHJvbWlzZTx2b2lkPlxue1xuICAgIC8vIEVuc3VyZSB0aGUgcGxheWVyIGlzIGxvYWRlZCBiZWZvcmUgYXR0ZW1wdGluZyB0byByZWFkIHRoZSBleHRlbnRpb24gc2V0dGluZ3NcbiAgICBhd2FpdCBBd2FpdFBsYXllcigpO1xuXG4gICAgY29uc3Qgc2V0dGluZ3M6IE1QQVJlY29yZHMgPSBKU09OLnBhcnNlKExaU3RyaW5nLmRlY29tcHJlc3NGcm9tQmFzZTY0KFBsYXllci5FeHRlbnNpb25TZXR0aW5ncz8uTVBBID8/IFwiXCIpID8/IFwie31cIikgPz8ge307XG5cbiAgICBPYmplY3QuZW50cmllcyhjdXJyZW50U2V0dGluZ3MpLmZvckVhY2goKGNhdGVnb3J5KSA9PlxuICAgIHtcbiAgICAgICAgY29uc3QgW3NldHRpbmdUaXRsZSwgY2F0ZWdvcnlTZXR0aW5nc10gPSBjYXRlZ29yeSBhcyBbTW9kdWxlVGl0bGUsIE1QQUNhdGVnb3J5U2V0dGluZ3NdO1xuICAgICAgICBmb3IgKGNvbnN0IFtzZXR0aW5nTmFtZSwgc2V0XSBvZiBPYmplY3QuZW50cmllcyhjYXRlZ29yeVNldHRpbmdzKSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBwbGFjZSBmb3IgZGF0YSBpZiBpdCBkb2VzIG5vdCBleGlzdFxuICAgICAgICAgICAgaWYgKCEoc2V0dGluZ1RpdGxlIGluIHNldHRpbmdzKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzZXR0aW5nc1tzZXR0aW5nVGl0bGVdID0ge307XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTZXR0aW5nIGFscmVhZHkgc2V0XG4gICAgICAgICAgICAvLyBWZXJpZnkgaXQgaXMgZ29vZCBkYXRhXG4gICAgICAgICAgICBpZiAoc2V0dGluZ05hbWUgaW4gc2V0dGluZ3Nbc2V0dGluZ1RpdGxlXSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBJZiBjdXJyZW50IHZhbHVlIGlzIG5vdCBpbiB0aGUgb3B0aW9uc1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgKGN1cnJlbnRTZXR0aW5ncz8uW3NldHRpbmdUaXRsZV0/LltzZXR0aW5nTmFtZV0/LnR5cGUgPT09IFwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICYmIHR5cGVvZiBzZXR0aW5nc1tzZXR0aW5nVGl0bGVdW3NldHRpbmdOYW1lXSAhPT0gXCJib29sZWFuXCIpXG4gICAgICAgICAgICAgICAgICAgIHx8IChjdXJyZW50U2V0dGluZ3M/LltzZXR0aW5nVGl0bGVdPy5bc2V0dGluZ05hbWVdPy50eXBlID09PSBcIm51bWJlclwiXG4gICAgICAgICAgICAgICAgICAgICAgJiYgaXNOYU4oc2V0dGluZ3Nbc2V0dGluZ1RpdGxlXVtzZXR0aW5nTmFtZV0pKVxuICAgICAgICAgICAgICAgICAgICB8fCAoXCJvcHRpb25zXCIgaW4gKGN1cnJlbnRTZXR0aW5ncz8uW3NldHRpbmdUaXRsZV0/LltzZXR0aW5nTmFtZV0gPz8ge30pXG4gICAgICAgICAgICAgICAgICAgICAgJiYgISgoY3VycmVudFNldHRpbmdzPy5bc2V0dGluZ1RpdGxlXT8uW3NldHRpbmdOYW1lXSBhcyBPcHRpb25TZXR0aW5nKT8ub3B0aW9ucyA/PyBbXSkuaW5jbHVkZXMoc2V0dGluZ3Nbc2V0dGluZ1RpdGxlXVtzZXR0aW5nTmFtZV0pKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzW3NldHRpbmdUaXRsZV1bc2V0dGluZ05hbWVdID0gc2V0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYE1QQTogSW52YWxpZCBzZXR0aW5nIG9mIFwiJHtzZXR0aW5nc1tzZXR0aW5nVGl0bGVdW3NldHRpbmdOYW1lXX1cIiBhdCAke3NldHRpbmdUaXRsZX0tPiR7c2V0dGluZ05hbWV9LCByZXNldHRpbmcgdG8gZGVmYXVsdGApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldHRpbmdzW3NldHRpbmdUaXRsZV1bc2V0dGluZ05hbWVdID0gc2V0LnZhbHVlO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBDaGVjayBhbmQgbm90aWZ5IGlmIHRoZXJlIGlzIGFuIHVwZGF0ZVxuICAgIE1QQVVwZGF0ZUNoZWNrKHNldHRpbmdzKTtcblxuICAgIFBsYXllci5NUEEgPSBzZXR0aW5ncztcbiAgICByZXR1cm47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBTYXZlU3RvcmFnZShzeW5jV2l0aE90aGVyczogYm9vbGVhbiA9IHRydWUpOiB2b2lkXG57XG4gICAgaWYgKCFQbGF5ZXIuTVBBIHx8ICFQbGF5ZXIuRXh0ZW5zaW9uU2V0dGluZ3MpXG4gICAge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIFBydW5lIHNlbGYgZnJvbSBvd25lciBsaXN0IGlmIGFkZGVkXG4gICAgUGxheWVyLk1QQVtNb2R1bGVUaXRsZS5BdXRob3JpdHldLm93bmVycyA9XG4gICAgICAgIChQbGF5ZXIuTVBBW01vZHVsZVRpdGxlLkF1dGhvcml0eV0ub3duZXJzIGFzIHN0cmluZykuc3BsaXQoXCIsXCIpXG4gICAgICAgICAgICAuZmlsdGVyKCh2YWwpID0+IE51bWJlcih2YWwpICE9PSBQbGF5ZXIuTWVtYmVyTnVtYmVyKS5qb2luKFwiLFwiKTtcbiAgICBQbGF5ZXIuRXh0ZW5zaW9uU2V0dGluZ3MuTVBBID0gTFpTdHJpbmcuY29tcHJlc3NUb0Jhc2U2NChKU09OLnN0cmluZ2lmeShQbGF5ZXIuTVBBKSk7XG4gICAgU2VydmVyUGxheWVyRXh0ZW5zaW9uU2V0dGluZ3NTeW5jKFwiTVBBXCIpO1xuICAgIGlmIChzeW5jV2l0aE90aGVycylcbiAgICB7XG4gICAgICAgIFNldHRpbmdTeW5jKGZhbHNlKTtcbiAgICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBSZXNldFN0b3JhZ2UoKTogUHJvbWlzZTx2b2lkPlxue1xuICAgIGRlbGV0ZSAoUGxheWVyLkV4dGVuc2lvblNldHRpbmdzIGFzIGFueSkuTVBBO1xuICAgIFBsYXllci5FeHRlbnNpb25TZXR0aW5ncy5NUEEgPSBMWlN0cmluZy5jb21wcmVzc1RvQmFzZTY0KEpTT04uc3RyaW5naWZ5KHsgdmVyc2lvbjogTVBBX1ZFUlNJT04gfSkpO1xuICAgIGF3YWl0IExvYWRTdG9yYWdlKCk7XG4gICAgU2F2ZVN0b3JhZ2UoKTtcbiAgICByZXR1cm47XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBFeHBvcnRTZXR0aW5nc1RvQ2xpcGJvYXJkKCk6IFByb21pc2U8dm9pZD5cbntcbiAgICByZXR1cm4gbmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQoTFpTdHJpbmcuY29tcHJlc3NUb0Jhc2U2NChKU09OLnN0cmluZ2lmeShQbGF5ZXIuTVBBKSkpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gSW1wb3J0U2V0dGluZ3NGcm9tQ2xpcGJvYXJkKCk6IFByb21pc2U8dm9pZD5cbntcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT5cbiAgICB7XG4gICAgICAgIG5hdmlnYXRvci5jbGlwYm9hcmQucmVhZFRleHQoKS50aGVuKCh0ZXh0KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICB0cnlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdTZXR0aW5nczogTVBBUmVjb3JkcyA9IEpTT04ucGFyc2UoTFpTdHJpbmcuZGVjb21wcmVzc0Zyb21CYXNlNjQodGV4dCA/PyBcIlwiKSA/PyBcInt9XCIpO1xuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBhIGxvY2FsbHkgY29weSB0byBtb2RpZnkgaW4gY2FzZSBpdCBmYWlscyBhbmQgbmVlZCB0byByZXZlcnRcbiAgICAgICAgICAgICAgICAvLyBUcmFuc2FjdGlvbiBoYXBwZW5zIG9yIG5vdCBhdCBhbGxcbiAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50U2V0dGluZ3M6IE1QQVJlY29yZHMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KFBsYXllci5NUEEpKTtcblxuICAgICAgICAgICAgICAgIC8vIFZpcnR1YWwgcGV0IGxldmVscyB3aWxsIGJlIHJlcGxhY2VkIGFueXdheSwgc2V0IGN1cnJlbnQgdGltZSBzbyBub3cgdG8gbm90IGludGVyZmVyIHdpdGggc3luY2luZyBsYXRlclxuICAgICAgICAgICAgICAgIGN1cnJlbnRTZXR0aW5nc1tNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XS5sZXZlbHMubGFzdFVwZGF0ZWQgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgICAgIGN1cnJlbnRTZXR0aW5nc1tNb2R1bGVUaXRsZS5WaXJ0dWFsUGV0XS5sZXZlbHMubGFzdE9ubGluZSA9IERhdGUubm93KCk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBuZXdTZXR0aW5ncylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdTZXR0aW5nc1trZXldICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9ubHkgdXBkYXRlIHRoZSB2YWx1ZSBpZiB0aGUgbmV3UmVjb3JkIGtleSBleGlzdHMgYW5kIGlzIG5vdCB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTZXR0aW5nc1trZXkgYXMga2V5b2YgTVBBUmVjb3Jkc10gPSBuZXdTZXR0aW5nc1trZXldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gVmVyaWZ5IG5ldyBzZXR0aW5ncyBhcmUgZ29vZFxuICAgICAgICAgICAgICAgIC8vIElmIGJhZCBkYXRhICByZXR1cm4gcmVqZWN0KCk7XG5cbiAgICAgICAgICAgICAgICAvLyBTZXQgdGhlIGxldmVscyB1cGRhdGUgc28gdGhhdCB0aGV5IHJldGFpbiB0aGUgc2FtZSB2YWx1ZSB3aGVuIHNhdmVkIGFmdGVyIHN5bmNpbmcgYWdhaW5cbiAgICAgICAgICAgICAgICBjdXJyZW50U2V0dGluZ3NbTW9kdWxlVGl0bGUuVmlydHVhbFBldF0ubGV2ZWxzLmxhc3RVcGRhdGVkID0gRGF0ZS5ub3coKSAtIChjdXJyZW50U2V0dGluZ3NbTW9kdWxlVGl0bGUuVmlydHVhbFBldF0ubGV2ZWxzLmxhc3RPbmxpbmUgLSBjdXJyZW50U2V0dGluZ3NbTW9kdWxlVGl0bGUuVmlydHVhbFBldF0ubGV2ZWxzLmxhc3RVcGRhdGVkKTtcbiAgICAgICAgICAgICAgICBjdXJyZW50U2V0dGluZ3NbTW9kdWxlVGl0bGUuVmlydHVhbFBldF0ubGV2ZWxzLmxhc3RPbmxpbmUgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgICAgIFBsYXllci5NUEEgPSBjdXJyZW50U2V0dGluZ3M7XG4gICAgICAgICAgICAgICAgTGV2ZWxTeW5jKGZhbHNlLCBmYWxzZSwgZmFsc2UpO1xuXG4gICAgICAgICAgICAgICAgU2F2ZVN0b3JhZ2UodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGVycm9yKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlKCk7XG4gICAgICAgIH0sICgpID0+IHJlamVjdCgpKTtcbiAgICB9KTtcbn1cbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCJpbXBvcnQgeyBSZWdpc3Rlck1vZHVsZXMgfSBmcm9tIFwiLi91dGlsL3JlZ2lzdGVyTW9kdWxlc1wiO1xuaW1wb3J0IHsgQnVpbGRBbGxDb21tYW5kcyB9IGZyb20gXCIuL2NvbW1hbmRzL2J1aWxkQWxsQ29tbWFuZHNcIjtcbmltcG9ydCB7IE1QQV9WRVJTSU9OIH0gZnJvbSBcIi4vdXRpbC9jb25zdGFudHNcIjtcblxuLy8gVGVzdGluZyBmb3IgTG9jYWxpemF0aW9uLCBlbnN1cmluZyBhbGwgZmllbGRzIGluIHRoZSB0ZW1wbGF0ZVxuLy8gaW1wb3J0IHsgU2V0dGluZ1Rlc3QgfSBmcm9tIFwiLi9fdGVzdHMvc2V0dGluZ3NMYWJlbHNcIjtcbi8vIFNldHRpbmdUZXN0KCk7XG4vLyBpbXBvcnQgeyBBY3Rpdml0aWVzVGVzdCB9IGZyb20gXCIuL190ZXN0cy9hY3Rpdml0aWVzVGV4dFwiO1xuLy8gQWN0aXZpdGllc1Rlc3QoKTtcblxuY29uc29sZS5sb2coXCJMb2FkaW5nIE1heWEncyBQZXRwbGF5IEFkZGl0aW9uc1wiKTtcblxuQnVpbGRBbGxDb21tYW5kcygpO1xuUmVnaXN0ZXJNb2R1bGVzKCk7XG53aW5kb3cuTVBBID0ge1xuICAgIHZlcnNpb246IE1QQV9WRVJTSU9OLFxuICAgIG1lbnVMb2FkZWQ6IGZhbHNlXG59O1xuIl0sIm5hbWVzIjpbIm8iLCJlIiwiYWxlcnQiLCJFcnJvciIsImNvbnNvbGUiLCJlcnJvciIsInQiLCJUZXh0RW5jb2RlciIsIm4iLCJBcnJheSIsImlzQXJyYXkiLCJyIiwiU2V0IiwiZmlsdGVyIiwiaGFzIiwiYWRkIiwiaSIsIk1hcCIsImEiLCJjIiwid2FybiIsInMiLCJmIiwidmFsdWVzIiwicGF0Y2hpbmciLCJnZXQiLCJuYW1lIiwicHVzaCIsImhvb2tzIiwicGF0Y2hlcyIsImVudHJpZXMiLCJzZXQiLCJzb3J0IiwicHJpb3JpdHkiLCJzaXplIiwidG9TdHJpbmciLCJyZXBsYWNlQWxsIiwiaW5jbHVkZXMiLCJldmFsIiwib3JpZ2luYWwiLCJtIiwiZXJyb3JSZXBvcnRlckhvb2tzIiwiaG9va0NoYWluRXhpdCIsImNhbGwiLCJhcHBseSIsInRoaXMiLCJsZW5ndGgiLCJob29rRW50ZXIiLCJtb2QiLCJob29rIiwiYXJndW1lbnRzIiwicGF0Y2hlc1NvdXJjZXMiLCJlbnRlciIsImZpbmFsIiwibCIsInByZWNvbXB1dGVkIiwid2luZG93Iiwic3BsaXQiLCJzbGljZSIsImpvaW4iLCJlbmNvZGUiLCJwYWRTdGFydCIsInRvVXBwZXJDYXNlIiwiZCIsIm9yaWdpbmFsSGFzaCIsIk9iamVjdCIsImFzc2lnbiIsInJvdXRlciIsImNvbnRleHQiLCJjb250ZXh0UHJvcGVydHkiLCJwIiwic2RrRW50cnlwb2ludCIsImN1cnJlbnRFbnRyeXBvaW50IiwiaG9va2VkQnlNb2RzIiwibWFwIiwicGF0Y2hlZEJ5TW9kcyIsImZyb20iLCJ1IiwiZGVsZXRlIiwibG9hZGVkIiwiZyIsImZ1bGxOYW1lIiwidmVyc2lvbiIsInJlcG9zaXRvcnkiLCJhbGxvd1JlcGxhY2UiLCJhcGlFbmRwb2ludEVudGVyIiwidW5sb2FkIiwiaG9va0Z1bmN0aW9uIiwiaW5kZXhPZiIsInNwbGljZSIsInBhdGNoRnVuY3Rpb24iLCJyZW1vdmVQYXRjaGVzIiwiY2xlYXIiLCJjYWxsT3JpZ2luYWwiLCJnbG9iYWxUaGlzIiwiZ2V0T3JpZ2luYWxIYXNoIiwiYXBpIiwiZnJlZXplIiwiaCIsInkiLCJiY01vZFNkayIsImFwaVZlcnNpb24iLCJyZWdpc3Rlck1vZCIsImdldE1vZHNJbmZvIiwiZ2V0UGF0Y2hpbmdJbmZvIiwic2VhbCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiQk9XTF9TRUxGX1RFWFQiLCJCT1dMX09USEVSX1RFWFQiLCJJc0JlZCIsImJlZCIsImtleXMiLCJDcmFmdGluZ1ZhbGlkYXRlIiwiQ3JhZnRpbmdTdGF0dXNUeXBlIiwiT0siLCJBTExfQkVEUyIsIkl0ZW0iLCJOYW1lIiwidG9Mb2NhbGVMb3dlckNhc2UiLCJHaXZlQmVkVGV4dCIsImNoYXJhY3RlciIsIlBsYXllciIsIk1lbWJlck51bWJlciIsIlNlbmRBY3Rpb24iLCJ1bmRlZmluZWQiLCJTb3VyY2VDaGFyYWN0ZXIiLCJUYXJnZXRDaGFyYWN0ZXIiLCJVc2VCZWQiLCJJbnZlbnRvcnlHZXQiLCJJbnZlbnRvcnlHcm91cElzQmxvY2tlZEZvckNoYXJhY3RlciIsInNhdmVkQmVkIiwiSlNPTiIsInBhcnNlIiwiTFpTdHJpbmciLCJkZWNvbXByZXNzRnJvbUJhc2U2NCIsIk1QQSIsIk1vZHVsZVRpdGxlIiwiUHJpdmF0ZSIsIkludmVudG9yeVdlYXIiLCJDb2xvciIsImhhaXJDb2xvciIsIkNoYXRSb29tQ2hhcmFjdGVySXRlbVVwZGF0ZSIsIkdpdmVCZWQiLCJ1bmFibGVUb0dpdmVCZWQiLCJDYW5JbnRlcmFjdCIsIlNlcnZlckNoYXRSb29tR2V0QWxsb3dJdGVtIiwiTVBBTm90aWZ5UGxheWVyIiwiTmlja25hbWUiLCJOb3RpZnlQbGF5ZXIiLCJCZWQiLCJDb21tYW5kQ29tYmluZSIsIlRhZyIsIkRlc2NyaXB0aW9uIiwiQWN0aW9uIiwiX2FyZ3MiLCJtc2ciLCJfcGFyc2VkIiwiYXJnIiwiZXhlYyIsImNoYXIiLCJGaW5kQ2hhcmFjdGVySW5Sb29tIiwiU2F2ZVN0b3JhZ2UiLCJBc3NldCIsIlByb3BlcnR5IiwiVHlwZVJlY29yZCIsInR5cGVkIiwiTnVtYmVyIiwiQ2hhdFJvb21DaGFyYWN0ZXJVcGRhdGUiLCJIb29rRnVuY3Rpb24iLCJhcmdzIiwibmV4dCIsImRhdGEiLCJUeXBlIiwiQ29udGVudCIsIkdldEF0dHJpYnV0ZUZyb21DaGF0RGljdGlvbmFyeSIsIkRpY3Rpb25hcnkiLCJzb21lIiwiY3VyciIsIlRleHQiLCJCT1dMX1JFR0VYIiwiSXNCb3dsIiwiYm93bCIsIkdpdmVCb3dsVGV4dCIsIlVzZUJvd2wiLCJzYXZlZEJvd2wiLCJJdGVtUHJvcGVydHkiLCJ0ZXN0Iiwic3Vic3RyaW5nIiwiR2l2ZUJvd2wiLCJ1bmFibGVUb0dpdmVCb3dsIiwiQm93bCIsIkJ1aWxkQWxsQ29tbWFuZHMiLCJ0cmFuc2xhdGlvbnMiLCJ0ZW1wbGF0ZSIsIlJVIiwiTG9jYWxpemVkVGV4dCIsInRleHQiLCJ0cmFuc2xhdGVkVGV4dCIsIlRyYW5zbGF0aW9uTGFuZ3VhZ2UiLCJNb2R1bGVUaXRsZVB1YmxpY2l0eSIsIlVua25vd24iLCJBdXRob3JpdHkiLCJBY3Rpdml0aWVzIiwiQ2xpY2tlciIsIlNldHRpbmdzIiwiVmlydHVhbFBldCIsIlZpcnR1YWxQZXRIVUQiLCJWaXJ0dWFsUGV0Q29uZGl0aW9ucyIsIkRhdGFTeW5jIiwiUHJvZmlsZSIsIlNldHRpbmdzT3RoZXIiLCJNb2R1bGVJc1B1YmxpYyIsIm1vZHVsZVRpdGxlIiwiTW9kdWxlIiwiVGl0bGUiLCJTeW5jTGlzdGVuZXJzIiwiTG9hZCIsIkNyZWF0ZUFjdGl2aXRpZXMiLCJBZGREYXRhU3luY0xpc3RlbmVycyIsIlVubG9hZCIsIlJlbW92ZUhvb2tzIiwiUmVtb3ZlQWN0aXZpdGllcyIsIlJlbW92ZURhdGFTeW5jTGlzdGVuZXJzIiwiUmVsb2FkIiwiUmVjaWV2ZUJlbGwiLCJzb3VyY2UiLCJ0YXJnZXQiLCJfZ3JvdXAiLCJfZGF0YSIsIkF1ZGlvU2V0dGluZ3MiLCJQbGF5SXRlbSIsIlBsYXlJdGVtUGxheWVyT25seSIsIkJFTExfU09VTkQiLCJwbGF5IiwiUEFXX1RPT0xUSVAiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzcmMiLCJJQ09OUyIsIlBBVyIsInN0eWxlIiwicG9zaXRpb24iLCJyaWdodCIsImJvdHRvbSIsIndpZHRoIiwiaGVpZ2h0IiwiQWN0aXZpdGllc01vZHVsZSIsIk1heFByb2dyZXNzIiwiUHJlcmVxdWlzaXRlIiwiQ3VzdG9tUHJlcmVxdWlzaXRlIiwiX2FjdGluZyIsImFjdGVkIiwiVGFyZ2V0cyIsImdyb3VwIiwibGFiZWwiLCJhY3Rpb25TZWxmIiwiYWN0aW9uT3RoZXJzIiwiSW1hZ2UiLCJPblJlY2VpdmUiLCJjbGl0UGllcmNpbmciLCJzdXBlciIsInByZXJlcSIsImFjdGluZyIsImFjdGl2aXR5UHJlcmVxdWlzaXRlcyIsImFjdGl2aXR5TmFtZSIsImZpbmQiLCJ4IiwiQWN0aXZpdHlOYW1lIiwic3RhcnRzV2l0aCIsIkFDVElWSVRZX05BTUVfUFJFRklYIiwiQWN0aXZpdHlEaWN0aW9uYXJ5VGV4dCIsImFjdGl2aXR5VHJpZ2dlcnMiLCJ0YXJnZXROdW1iZXIiLCJDaGF0Um9vbUNoYXJhY3RlciIsImFjdGl2aXR5UmVjZWl2ZWQiLCJzb3VyY2VDaGFyIiwiTmlja05hbWUiLCJ0YXJnZXRDaGFyIiwiQWN0aXZpdHkiLCJpc01QQUFjdGl2aXR5IiwiYWN0aXZpdHlJbWFnZXMiLCJpbWFnZSIsImJ1dHRvbkVsZW1lbnQiLCJhcHBlbmRDaGlsZCIsImNsb25lTm9kZSIsIlBsYXllclAiLCJDIiwiSXNIYXJkY29yZU9uIiwiaGFyZGNvcmUiLCJBdXRob3JpdHlNb2R1bGUiLCJ0eXBlIiwiYWN0aXZlIiwibWF4Q2hhcnMiLCJvcHRpb25zIiwiQVVUSE9SSVRZX0dST1VQX09QVElPTlMiLCJsb29wIiwib3RoZXJzUHJvZmlsZSIsIm9uU2V0Iiwic2VsZlByb2ZpbGUiLCJBTExfQ0xJQ0tTIiwiQXVkaW8iLCJQbGF5ZXJDIiwiQ2xpY2tDb3VudCIsInN0ciIsInRvdGFsQ2xpY2tzIiwidHJpZ2dlcnMiLCJ0cmltIiwiZm9yRWFjaCIsInRyaWdnZXIiLCJtYXRjaCIsIlJlZ0V4cCIsIlBsYXlDbGlja2VyU291bmQiLCJudW1iZXJPZkNsaWNrcyIsImlzTmFOIiwiZW5hYmxlZCIsIk1hdGgiLCJtaW4iLCJiY3hIb29rZWQiLCJIb29rQkNYQ2xpY2tlciIsImJjeEZvdW5kIiwiYmN4QVBJIiwib24iLCJtZXNzYWdlIiwicHJlZml4IiwiYmN4Vm9pY2UiLCJDbGlja2VyTW9kdWxlIiwiaGFzQmVlbkxvYWRlZCIsIl9hY3RlZCIsImF1dGhlZEdyb3VwIiwic2VsZkF1dGhlZCIsIlNlbmRlciIsIklzTWVtYmVyTnVtYmVySW5BdXRoR3JvdXAiLCJjbGlja3MiLCJSZW1vdmVPT0NDb250ZW50RnJvbU1lc3NhZ2UiLCJyZWR1Y2UiLCJhY2MiLCJpbnZlcnZhbCIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsIlNldHRpbmdTeW5jIiwicmVwbHkiLCJzZXR0aW5ncyIsInN0cnVjdHVyZWRDbG9uZSIsIlNlbmRNUEFNZXNzYWdlIiwiQ2F0ZWdvcnlTeW5jIiwiY2F0ZWdvcnkiLCJSZWNvcmRTeW5jIiwicmVjb3JkIiwiUmVjb3Jkc1N5bmMiLCJyZWNvcmRzIiwiRGF0YVN5bmNNb2R1bGUiLCJtb2R1bGUiLCJhY3Rpb24iLCJzZW5kZXIiLCJjb250ZW50IiwiR2V0TVBBTWVzc2FnZUZyb21DaGF0IiwiaG9va2VkTWVzc2FnZXMiLCJkZWFmZW5Qcm9jZXNzIiwiUHJpdmF0ZU1vZHVsZSIsImVmZmVjdHMiLCJpZ25vcmVPT0MiLCJoYWREZWFmZW4iLCJlZmZlY3QiLCJvdXRwdXQiLCJpbnRlbnNpdHkiLCJTcGVlY2hUcmFuc2Zvcm1EZWFmZW5JbnRlbnNpdHkiLCJTcGVlY2hUcmFuc2Zvcm1HYWdHYXJibGUiLCJHZXRSZWNvcmQiLCJ0aXRsZSIsIkdBUkJMRV9QSFJBU0VTIiwiSHVtYW4iLCJDdXN0b20iLCJCdW5ueSIsIkNhdCIsIkNvdyIsIkRvZyIsIkZveCIsIk1vdXNlIiwiUG9ueSIsIldvbGYiLCJHZXRBbGxvd2VkUGV0R2FyYmxlUGhyYXNlcyIsInByb2ZpbGUiLCJiYW5uZWRCQ1hXb3JkcyIsImdldFJ1bGVTdGF0ZSIsImN1c3RvbURhdGEiLCJiYW5uZWRXb3JkcyIsInBldFBocmFzZXMiLCJiY3hTcGVha2luZyIsIm1hbmRhdG9yeVdvcmRzIiwiZ2FyYmxlUGhyYXNlcyIsIkdldFBldEdhcmJsZVBocmFzZXMiLCJGaWx0ZXJBcnJheUZyb21BcnJheSIsInBocmFzZSIsIlBFVF9IRUFSSU5HIiwiQWxsIiwiU2V0UHJvZmlsZVR5cGUiLCJwcmV2VmFsdWUiLCJlbGVJRCIsIkVsZW1lbnROYW1lIiwiY3VzdG9tR2FyYmxlUGhyYXNlcyIsImdldEVsZW1lbnRCeUlkIiwiRWxlbWVudFZhbHVlIiwiU2V0QkNYU3BlYWsiLCJ3b3JkcyIsIkdBR0dJTkdfU1RSRU5HVEhfTUFQIiwiTG93IiwiTWVkaXVtIiwiSGlnaCIsIk1heCIsIlByb2ZpbGVNb2R1bGUiLCJfY29udGVudCIsInBldFNwZWFraW5nIiwiSXNQbGF5ZXIiLCJub0hhbmRzIiwiZm9vZE5PVyIsInRpbnQiLCJwYXNzb3V0IiwiYWZmZWN0aW9uU2tpbGxCdWZmcyIsImFmZmVjdGlvblNraWxsRGVidWZmcyIsImhlYXJpbmdMb3NzIiwic2xvd0xlYXZlIiwib3JnYXNtV2F0ZXIiLCJvcmdhc21TbGVlcCIsInBldEdhZ2dpbmciLCJTcGVlY2hUcmFuc2Zvcm1BbGxFZmZlY3RzIiwiSXNHYWdnZWQiLCJJc0RlYWYiLCJwZXRIZWFyaW5nIiwiQXBwbHlQZXRIZWFyaW5nIiwiY29uY2F0IiwiR2V0UGV0SGVhcmluZ1BocmFzZXMiLCJDb21tYW5kc0tleSIsImNoYXJBdCIsInNwZWFrIiwiTm9uRGlzcnVwdGl2ZVBldFNwZWVjaCIsInBldEdhZ2dpbmdPcHRpb24iLCJwaHJhc2VzIiwic3RyZW5ndGgiLCJwZXRHYWdnaW5nU3RyZW5ndGgiLCJEaXNydXB0aXZlUGV0U3BlZWNoIiwidHJhbnNmb3JtIiwic2V0dGluZ3NFZGl0ZWQiLCJzZXR0aW5nQ2hhciIsIlNldFNldHRpbmdDaGFyIiwiQ0FOVkFTX1dJRFRIIiwiRVhJVF9QT1NJU1RJT04iLCJCVVRUT05fTUFYX05VTUJFUiIsIkJVVFRPTl9XSURUSCIsIkJVVFRPTl9IRUlHSFQiLCJCVVRUT05fVE9QIiwiQlVUVE9OX0xFRlQiLCJCVVRUT05fR0FQIiwiQlVUVE9OX1RFWFRfUEFERElORyIsIldJS0lfUE9TSVRJT04iLCJXSUtJX0xJTksiLCJESVNDT1JEX0lOVklURSIsIkRJU0NPUkRfUE9TSVRJT04iLCJSRVNFVF9QT1NJVElPTiIsIkFMRVJUX1BPU0lUSU9OIiwic2hvd1NldHRpbmdzQWxlcnQiLCJzZXR0aW5nc0FsZXJ0VGV4dCIsIklNUE9SVF9QT1NJVElPTiIsIkVYUE9SVF9QT1NJVElPTiIsIlJFU0VUX0NPTkZJUk1fUE9TSVRJT04iLCJSRVNFVF9DQU5DRUxfUE9TSVRJT04iLCJWRVJTSU9OX1RFWFQiLCJNRU5VX0NBVEVHT1JJRVMiLCJNRU5VX1RJVExFUyIsImN1cnJlbnRNZW51Iiwic2V0dGluZ3NPcGVuIiwiYWxsb3dSZXNldFRpbWUiLCJHZXRDbGlja2VkTWVudSIsIm1lbnVPcHRpb25zIiwiTW91c2VJbiIsImZsb29yIiwiRHJhd0J1dHRvbiIsIk9QVElPTl9QRVJfUEFHRSIsIk9QVElPTl9IRUlHSFQiLCJPUFRJT05fVE9QIiwiT1BUSU9OX0xFRlQiLCJPUFRJT05fR0FQIiwiT1BUSU9OX0NIRUNLQk9YX1NJWkUiLCJPUFRJT05fQkFDS19ORVhUX1dJRFRIIiwiT1BUSU9OX1RFWFRfV0lEVEgiLCJPUFRJT05fVEVYVF9NQVhfQ0hBUlMiLCJjdXJyZW50UGFnZSIsIm1heFBhZ2VzIiwiTkVYVF9CVVRUT05fUE9TIiwiUFJFVl9CVVRUT05fUE9TIiwiRHJhd1N1Yk1lbnVPcHRpb25zIiwic3ViTWVudSIsInNldHRpbmdzVG9EaXNwbGF5Iiwia2V5Iiwic2V0dGluZyIsIklzRGlzcGxheVNldHRpbmciLCJ2YWwiLCJzZXR0aW5nTmFtZSIsImRpc2FibGVkU2V0dGluZyIsImJvdW5kQWNjZXNzU2VsZiIsImJvdW5kQWNjZXNzT3RoZXJzIiwiSXNDaGVja2JveFNldHRpbmciLCJEcmF3Q2hlY2tib3giLCJHZXRQcm9ub3VucyIsIklzT3B0aW9uU2V0dGluZyIsImluZGV4Iiwib3B0TGVuIiwicHJvZmlsZU9yRXhjbHVkZXMiLCJwcmV2RGlzYWJsZWQiLCJBdXRob3JpdHlJc0NvbXBhcmlzb25Ub0NoYXJhY3RlciIsIm5leHREaXNhYmxlZCIsIkRyYXdCYWNrTmV4dEJ1dHRvbiIsIkRyYXdUZXh0Rml0IiwiY2VpbCIsIklzVGV4dFNldHRpbmciLCJJc051bWJlclNldHRpbmciLCJpZCIsIkVsZW1lbnRQb3NpdGlvbkZpeGVkIiwiRWxlbWVudFNldEF0dHJpYnV0ZSIsIkVsZW1lbnRSZW1vdmVBdHRyaWJ1dGUiLCJFeGl0QnV0dG9uUHJlc3NlZCIsIm1lbnVMb2FkZWQiLCJQcmVmZXJlbmNlTWVudUV4aXQiLCJVcGRhdGVBbmREZWxldGVIVE1MRWxlbWVudHMiLCJQcmVmZXJlbmNlTWVudUNsaWNrIiwib3BlbiIsImZvY3VzIiwiRGF0ZSIsIm5vdyIsIkltcG9ydFNldHRpbmdzRnJvbUNsaXBib2FyZCIsInRoZW4iLCJmaW5hbGx5IiwiRXhwb3J0U2V0dGluZ3NUb0NsaXBib2FyZCIsIkNyZWF0ZUhUTUxFbGVtZW50cyIsIkdldENsaWNrZWRPcHRpb24iLCJSZXNldFN0b3JhZ2UiLCJSZXNldE1lbnVDbGljayIsIlByZWZlcmVuY2VNZW51UnVuIiwicHJldlRleHRBbGlnbiIsIk1haW5DYW52YXMiLCJ0ZXh0QWxpZ24iLCJEcmF3VGV4dCIsIlJlc2V0TWVudVJ1biIsIkRJU0NPUkQiLCJEcmF3TWVudU9wdGlvbnMiLCJMZXZlbFN5bmMiLCJQcmVmZXJlbmNlU3Vic2NyZWVuRXh0ZW5zaW9uc0NsZWFyIiwiUGxheWVyUHJlZmVyZW5jZU1lbnVMb2FkIiwicGFnZSIsIkVsZW1lbnRDcmVhdGVJbnB1dCIsIm1heCIsInN0ZXAiLCJFbGVtZW50UmVtb3ZlIiwiU2V0dGluZ3NNb2R1bGUiLCJFc2NhcGVIYW5kbGVyIiwiZXZlbnQiLCJzdG9wUHJvcGFnYXRpb24iLCJQcmVmZXJlbmNlUmVnaXN0ZXJFeHRlbnNpb25TZXR0aW5nIiwiSWRlbnRpZmllciIsIkJ1dHRvblRleHQiLCJjbGljayIsInJ1biIsImV4aXQiLCJsb2FkIiwiYWRkRXZlbnRMaXN0ZW5lciIsIk1QQV9SRU1PVEUiLCJNUEFfUkVNT1RFX0JDWCIsIlZFUlNJT05fVEVYVF9TRUxGIiwiVkVSU0lPTl9URVhUX09USEVSIiwiQXJyYXlzRXF1YWwiLCJhcnIxIiwiYXJyMiIsImV2ZXJ5IiwiT2JqZWN0RGlmZmVyZW5jZXMiLCJvbGRPYmoiLCJuZXdPYmoiLCJkaWZmZXJlbmNlcyIsIm9sZCIsIm5ldyIsIm9sZFZhbHVlIiwibmV3VmFsdWUiLCJkaWZmIiwiU2V0dGluZ3NPdGhlck1vZHVsZSIsInZwRW5hYmxlZCIsImNoYW5nZWRTZXR0aW5ncyIsImxldmVscyIsInByZXZpb3VzQXV0aG9yaXR5Iiwic3RyaW5naWZ5IiwibmV3QXV0aG9yaXR5IiwiZW50cnkiLCJtb2R1bGVEaWZmIiwibGFzdFVwZGF0ZWQiLCJyZXBsYWNlIiwiQXJyYXlUb1JlYWRhYmxlU3RyaW5nIiwic2V0dGluZ3NOb3RpZnkiLCJiY3giLCJpbkJjeFN1YnNjcmVlbiIsIkxTQ0dfUkVNT1RFX1dJTkRPV19PUEVOIiwiSW5mb3JtYXRpb25TaGVldFNlbGVjdGlvbiIsImFjY2VzcyIsIk1BWF9TRVRUSU5HX1RJTUVfSE9VUlMiLCJQbGF5ZXJWUCIsIkJPV0xfQ09OU1VNRV9SRUNPVkVSWSIsIkFDVElWSVRJRVNfRk9PRF9HQUlOIiwiQUNUSVZJVElFU19XQVRFUl9HQUlOIiwiRU1PVElDT05TX1NMRUVQIiwiQUZGRUNUSU9OX0FDVElWSVRZX0xPVkUiLCJBRkZFQ1RJT05fQUNUSVZJVFlfTElLRSIsIkFGRkVDVElPTl9BQ1RJVklUWV9NQVNPIiwiQUZGRUNUSU9OX1pPTkVfQUZGRUNUSU9OIiwiSXRlbUFybXMiLCJJdGVtQm9vdHMiLCJJdGVtQnJlYXN0IiwiSXRlbUJ1dHQiLCJJdGVtRWFycyIsIkl0ZW1GZWV0IiwiSXRlbUhhbmRzIiwiSXRlbUhlYWQiLCJJdGVtTGVncyIsIkl0ZW1Nb3V0aCIsIkl0ZW1OZWNrIiwiSXRlbU5pcHBsZXMiLCJJdGVtTm9zZSIsIkl0ZW1QZWx2aXMiLCJJdGVtVG9yc28iLCJJdGVtVnVsdmEiLCJJdGVtVnVsdmFQaWVyY2luZ3MiLCJNSU5fT0ZGTElORV9EUkFJTl9MRVZFTCIsImxhc3RPbmxpbmVJbnRlcnZhbCIsIlNFWF9QRVRfQUNUSVZJVElFUyIsIlNFWF9QRVRfQUNUSVZJVElFU19PVEhFUiIsIlNFWF9QRVRfUkVHSU9OUyIsIlNFWF9QRVRfUkVDT1ZFUlkiLCJPZmYiLCJwZXJmb3JtZWRPcmFsT24iLCJTRVhfUEVUX0RSSU5LIiwiRkVNQUxFIiwiTUFMRSIsIklzU2xlZXBpbmdFeHByZXNzaW9uIiwiQXBwZWFyYW5jZSIsIkdyb3VwIiwiRXhwcmVzc2lvbiIsIklzQmVkTXVsdGlwbGllciIsImRldmljZSIsIkJFRF9QRVJGRUNUIiwiQkVEX05PUk1BTCIsIkJFRF9CQUQiLCJwbGF5ZXJTbGVlcGluZ0V4cHJlc3Npb24iLCJwbGF5ZXJCZWRNdWx0aXBsaWVyIiwiU2xlZXBDaGFuZ2VDaGVjayIsInN5bmMiLCJzbGVlcEhvdXJzIiwiSG91clRvTVMiLCJob3VycyIsIkNhbGN1bGF0ZUN1cnJlbnRWYWx1ZSIsImR1cmF0aW9uIiwibGFzdE9ubGluZSIsImZpcnN0UnVuQ2hlY2siLCJjdXJyZW50VmFsdWUiLCJkaWZmMiIsIm5ld1ZhbHVlMiIsIkdldENoYXJhY3RlckN1cnJlbnRTdGF0VmFsdWUiLCJzdGF0IiwiY2hhclN0YXRzIiwibHZsIiwic2xlZXAiLCJwdXNoVG9TdG9yYWdlIiwicmVjb3JkU3luYyIsImZpcnN0U3luYyIsInVwZGF0ZSIsIm9ubGluZSIsIm9mZmxpbmVEcmFpbiIsImZvb2QiLCJmb29kSG91cnMiLCJ3YXRlciIsIndhdGVySG91cnMiLCJkdXJhdGlvblRvVXNlIiwibmV3U2xlZXAiLCJhZmZlY3Rpb24iLCJhZmZlY3Rpb25Ib3VycyIsIkNhbk5vbSIsInNleFBldCIsInNleFBldE9ubHkiLCJDYW5TZXgiLCJNb2RpZnlTdGF0IiwiYW1vdW50IiwiYXBwbHlNb2RpZmllciIsInN0b3JhZ2VQdXNoIiwibW9kaWZpZXIiLCJJc093bmVyIiwiSXNMb3Zlck9mUGxheWVyIiwiSXNGYW1pbHlPZlBsYXllciIsIkNhblRhbGsiLCJEeW5hbWljR3JvdXBOYW1lIiwiUG9zZU1hcHBpbmciLCJCb2R5RnVsbCIsIm51bXMiLCJzdW0iLCJudW0iLCJTdGF0TW9kaWZpZXIiLCJsZXZlbCIsIlZlcmlmeVZhbGlkU3RhdCIsIlZpcnR1YWxQZXRNb2R1bGUiLCJPblRyaWdnZXIiLCJJc01vdXRoQmxvY2tlZCIsImFjdGl2aXR5IiwiQWN0aXZpdHlGZW1hbGUzRENHIiwiT1JHQVNNX0FDVElWSVRZX1JFR0VYIiwic291cmNlQ2hhcmFjdGVyIiwiUmFuZG9tRWxlbWVudCIsIkhhc1BlbmlzIiwiZ3JvdXBNdWx0IiwibWFzb2NoaXN0IiwiUGxheWVyVlBDIiwiQ29uZGl0aW9uSXNFbmZvcmNlZCIsImNvbmRpdGlvbiIsInZwU3RhdE5lZWRUb0JlRW5hYmxlZCIsIkFGRkVDVElPTl9TS0lMTFMiLCJwcmV2aW91c1N0YXRzIiwib25TdGF0TGV2ZWwiLCJzdGF0Q291bnQiLCJDb25kaXRpb25DaGVjayIsImN1cnJWYWx1ZSIsImNoYW5nZUV2ZW50IiwiZmlyc3RSdW4iLCJjaGFuZ2UiLCJ0aHJlc2hob2xkIiwiU0xFRVBfVElOVCIsInBhc3NlZE91dCIsIlBBU1NPVVRfVEFMS19SRVBMQUNFIiwiTVBBUGFzc291dCIsIkNoYXJhY3RlclNldEZhY2lhbEV4cHJlc3Npb24iLCJDYW5LbmVlbCIsIlBvc2VTZXRBY3RpdmUiLCJzbGVlcE1vZHVsZSIsIkxTQ0ciLCJTdGF0ZU1vZHVsZSIsInN0YXRlcyIsInBhc3NvdXRMU0NHIiwibG9nIiwiUGFzc291dENoZWNrIiwiYWZmZWN0aW9uQ2hlY2tJbnRlcnZhbCIsIkFmZmVjdGlvblNraWxsQ2hlY2siLCJza2lsbCIsImFmZmVjdGlvbk1vZGlmaWVyIiwicm91bmQiLCJwcmV2TW9kIiwiU2tpbGxHZXRNb2RpZmllciIsIlNraWxsR2V0TW9kaWZpZXJEdXJhdGlvbiIsIlNraWxsU2V0TW9kaWZpZXIiLCJWaXJ0dWFsUGV0Q29uZGl0aW9uc01vZHVsZSIsInNjYWxlZFZhbHVlIiwiYiIsInNxcnQiLCJHYW1lcGxheVNldHRpbmdzIiwiU2Vuc0RlcENoYXRMb2ciLCJkZWFmTGV2ZWwiLCJTa2lsbE1vZGlmaWVyTWF4Iiwic2tpbGxEdXJhdGlvbk1TIiwicHJldlNsb3ciLCJDaGF0Um9vbVNsb3d0aW1lciIsImN1cnJGb29kIiwiQ3VycmVudFRpbWUiLCJDaGF0Um9vbVNsb3dMZWF2ZU1pblRpbWUiLCJQbGF5ZXJWUEhVRCIsIlZQX1NUQVRfQ09MT1JfRElDVCIsIkRyYXdTdGF0Q2lyY2xlIiwicmFkaXVzIiwiY29sb3IiLCJiZWdpblBhdGgiLCJhcmMiLCJQSSIsImxpbmVXaWR0aCIsInN0cm9rZVN0eWxlIiwic3Ryb2tlIiwibGluZVRvIiwiZmlsbFN0eWxlIiwiZmlsbCIsImV4YWN0U3RhdHMiLCJmb250IiwiQ29tbW9uR2V0Rm9udCIsImZpbGxUZXh0IiwiVmlydHVhbFBldEhVRE1vZHVsZSIsIm90aGVycyIsInpvb20iLCJBY3Rpdml0eUFsbG93ZWQiLCJzZWxmIiwiY2hhcmFjdGVyVlBTdGF0cyIsInN0YXRzIiwicG9zIiwicmV2ZXJzZSIsInN0YXRMZW4iLCJjb2xzIiwiY29sIiwic3RhdEluZGV4IiwiRHJhd1ZpcnVhbFBldEh1ZCIsIkNyZWF0ZUFjdGl2aXR5IiwiY3VzdG9tQWN0aXZpdHkiLCJBY3Rpdml0eUlEIiwiVGFyZ2V0IiwiY3VzdG9tUHJlcmVxdWlzaXRlcyIsIm5ld1ByZXJlcXVpc2l0ZSIsIlRhcmdldFNlbGYiLCJBY3Rpdml0eURpY3Rpb25hcnkiLCJBY3Rpdml0eUZlbWFsZTNEQ0dPcmRlcmluZyIsImN1c3RvbUFjdGl2aXRpZXMiLCJSZW1vdmVBY3Rpdml0eSIsIkFVVEhPUklUWV9HUk9VUF9QUklPX09SREVSIiwiQVVUSE9SSVRZX0dST1VQUyIsIlNlbGYiLCJDbHVib3duZXIiLCJPd25lcnNoaXAiLCJPd25lcnMiLCJvd25lcnMiLCJwYXJzZUludCIsIkxvdmVycyIsIkxvdmVyc2hpcCIsImxvdmVyIiwiV2hpdGVMaXN0IiwiRnJpZW5kTGlzdCIsIm1lbWJlck51bWJlciIsImF1dGhHcm91cCIsImFsbG93U2VsZiIsIkJsYWNrTGlzdCIsIkdob3N0TGlzdCIsImF1dGhDaGVjayIsIkhpZ2hlc3RMZXZlbEF1dGhvcml0eUdyb3VwIiwiY29tcGFyaXNvbiIsInJhbmsiLCJncm91cEluZGV4IiwicmFua0luZGV4IiwiTVBBX05BTUUiLCJ0b0xvY2FsZVVwcGVyQ2FzZSIsIk1QQV9WRVJTSU9OIiwiTVBBX1JFUE8iLCJ1cmwiLCJhcnJheSIsInJhbmRvbSIsImZpbHRlckFycmF5IiwibmV3QXJyYXkiLCJlbGUiLCJiYWRFbGUiLCJTaHVmZmxlQXJyYXkiLCJqIiwiQ29udGVudElzTVBBTWVzYWdlIiwiU2VydmVyU2VuZCIsImRpY3Rpb25hcnkiLCJTZW5kRW1vdGUiLCJ0aW1lb3V0IiwiZGFya1RoZW1lIiwiQ2hhdFNldHRpbmdzIiwiQ29sb3JUaGVtZSIsIkNoYXRSb29tU2VuZExvY2FsIiwic2VhcmNoIiwiU3BlZWNoR2V0T09DUmFuZ2VzIiwicmFuZ2UiLCJzdGFydCIsIkFkZERhdGFTeW5jTGlzdGVuZXIiLCJsaXN0ZW5lciIsImxpc3RlbmVycyIsIkdldEVudHJ5RnJvbUNoYXREaWN0aW9uYXJ5IiwiYXR0cmlidXRlIiwiX2Vycm9yIiwiYXJyIiwiQXBwZW5kUGV0U3BlZWNoIiwicGV0U291bmQiLCJwaHJhc2VzVG9LZWVwIiwiZm91bmRQaHJhc2VzIiwicmVnRXhwIiwibWF0Y2hBbGwiLCJsZW4iLCJ1bmlxdWVSYW5nZXMiLCJpdGVtIiwibGFzdEluZGV4IiwiZmluYWxUZXh0IiwiZm91bmQiLCJSVVNIRURfU1BFQUtfUEVSQ0VOVEFHRSIsIlBFVF9TUEVBS19TVFJFTkdUSF9NQVAiLCJQRVRfU1BFQUtfRU5EX1BFUkNFTlRBR0UiLCJhbGxvd2VkUGV0UGhyYXNlcyIsInBldFBocmFzZUJ1Y2tldCIsIkdldFBldFBocmFzZSIsInBvcCIsIm5leHRJbmRleCIsInNlZ21lbnRzIiwib29jUmFuZ2VzIiwib29jIiwibGFzdEJpdCIsIm9iaiIsInRyYWlsaW5nV2hpdGVzcGFjZSIsIndvcmRTdGVuZ3RoIiwiZW5kU3Rlbmd0aCIsInNwZWFrUmVxdWlyZWQiLCJzcG9rZVBldCIsIm5ld01zZyIsInNlZ21lbnQiLCJzcGxpdFBocmFzZSIsInByZXZpb3VzV29yZCIsIndvcmQiLCJub1ByZXYiLCJlbmRzV2l0aCIsInBldFBocmFzZSIsIm1vZHVsZXNSZWdpc3RlcmVkIiwibW9kdWxlcyIsImFzeW5jIiwiUmVnaXN0ZXJNb2R1bGVzIiwibW9kU2V0IiwibmV3U2V0dGluZ3MiLCJMb2FkU3RvcmFnZSIsIm1vZEFQSSIsImZ1bmN0aW9uTmFtZSIsInJlbW92ZUhvb2siLCJBd2FpdFBsYXllciIsIkV4dGVuc2lvblNldHRpbmdzIiwiUHJvbWlzZSIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiQXdhaXRJbkNoYXRSb29tIiwiU2xlZXAiLCJtcyIsImdldE1vZEFwaSIsIkNIQU5HRUxPR19SQVdfU1RBQkxFIiwiQ0hBTkdFTE9HX1JBV19ERVYiLCJDSEFOR0VMT0dfU1RBQkxFIiwiQ0hBTkdFTE9HX0RFViIsIlZFUlNJT05fU1RBQkxFX1JFR0VYIiwiTVBBVXBkYXRlQ2hlY2siLCJpc1N0YWJsZSIsIlNlcnZlckFjY291bnRCZWVwIiwiTWVtYmVyTmFtZSIsIkNoYXRSb29tU3BhY2UiLCJDaGF0Um9vbU5hbWUiLCJCZWVwVHlwZSIsIk1lc3NhZ2UiLCJyZXNwb25zZSIsImZldGNoIiwib2siLCJzdGF0dXNUZXh0IiwiY2hhbmdlbG9nIiwibWF0Y2hlcyIsImNoYW5nZXMiLCJGZXRjaExhdGVzdENoYW5nZWxvZyIsInNldHRpbmdUaXRsZSIsImNhdGVnb3J5U2V0dGluZ3MiLCJzeW5jV2l0aE90aGVycyIsImNvbXByZXNzVG9CYXNlNjQiLCJTZXJ2ZXJQbGF5ZXJFeHRlbnNpb25TZXR0aW5nc1N5bmMiLCJuYXZpZ2F0b3IiLCJjbGlwYm9hcmQiLCJ3cml0ZVRleHQiLCJyZWplY3QiLCJyZWFkVGV4dCIsImN1cnJlbnRTZXR0aW5ncyIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZGVmaW5pdGlvbiIsImVudW1lcmFibGUiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyJdLCJzb3VyY2VSb290IjoiIn0=